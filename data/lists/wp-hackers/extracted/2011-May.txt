From wordpress at dd32.id.au  Sun May  1 00:55:31 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 1 May 2011 10:55:31 +1000
Subject: [wp-hackers] custom post types and child pages
In-Reply-To: <BANLkTim3gsRRL29B6kM_j=_yU9AVkr3vOg@mail.gmail.com>
References: <BANLkTikcBrcttHs_pMe6+YrTuasHY-+Wcw@mail.gmail.com>
	<BANLkTim3gsRRL29B6kM_j=_yU9AVkr3vOg@mail.gmail.com>
Message-ID: <BANLkTikseWz6e+C+nwp+3Bph+hufpUgnwQ@mail.gmail.com>

On 1 May 2011 05:46, John Blackbourn <johnbillion+wp at gmail.com> wrote:

> On 30 April 2011 20:13, Steve Taylor <steve at sltaylor.co.uk> wrote:
> > I've tried making the CPT hierarchical, but it doesn't seem to make
> > sense to have a project as a child of a project for what I'm talking
> > about above. Besides, the child page throws a 404 :-\
>
> For some reason hierarchical CPTs don't get hierarchical URLs. This
> has always been the case and I'm not sure why.
>

for CPT's, It's always been the case that they do get hierarchical url's *if
registered as a hierarchical type* AND the rewrite rules have been flushed
since you registered it like that. Often people will register it as
non-hierarchical, flush the rules, see everything is good, and THEN set it
to hierarchical and wonder why the url's are 404ing (they haven't flushed
their rules since setting the hierarchical flag);.
For Custom Taxonomies, Initially hierarchical taxonomies didn't support
hierarchical url's, Thats now supported, Pass rewrite =>
array('hierarchical' => true); to the args when you register the taxonomy.


On 1 May 2011 07:11, Joel Fisher <joelfisher at gmail.com> wrote:

>
> See if this solves your issues.
>
> http://wordpress.org/extend/plugins/simple-custom-post-type-archives/
>

For that, I'd suggest looking into the 'has_archive' register_post_type
argument before attempting that plugin, It seems to duplicate what's in
WordPress 3.1+

From JohannesSimons at aol.com  Sun May  1 09:26:33 2011
From: JohannesSimons at aol.com (Johannes Simons)
Date: Sun, 01 May 2011 11:26:33 +0200
Subject: [wp-hackers] Update of own plugin
Message-ID: <4DBD2749.5050005@aol.com>

Hello,
I've written a WordPress-Plugin and I'd like to add the function, it can 
be updated by the user in the Admin-Panel. Also the user should get an 
advice, if a new version is online.
Now I have that value "Update Server" in the Plugin-paramters with an 
URL to my website.
My question is: What do I have to put on the "Update Server", so that 
updating in the Admin-Panel becomes possible?

No one in the wordpress.org Forum could help me... Maybe you can?!

Thank you!!

Johannes


From wordpress at dd32.id.au  Sun May  1 12:09:22 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 1 May 2011 22:09:22 +1000
Subject: [wp-hackers] Update of own plugin
In-Reply-To: <4DBD2749.5050005@aol.com>
References: <4DBD2749.5050005@aol.com>
Message-ID: <BANLkTi=8jZTi7QvtWaU=CUzfgMSGTH6snQ@mail.gmail.com>

The WordPress inbuilt Plugin upgrade functionality requires the plugin to be
hosted on WordPress.org: http://wordpress.org/extend/plugins/about/

No plugin headers (such as Update Server) are taken into account, Your
plugin may add update checking functionality in itself if you wish, You'll
have to write a API server for your plugin and filter the plugin update
transients to add the results of the transient if you wish. I know some
people have implemented this, I'm not aware of a published article on it
however.

On 1 May 2011 19:26, Johannes Simons <JohannesSimons at aol.com> wrote:

> Hello,
> I've written a WordPress-Plugin and I'd like to add the function, it can be
> updated by the user in the Admin-Panel. Also the user should get an advice,
> if a new version is online.
> Now I have that value "Update Server" in the Plugin-paramters with an URL
> to my website.
> My question is: What do I have to put on the "Update Server", so that
> updating in the Admin-Panel becomes possible?
>
> No one in the wordpress.org Forum could help me... Maybe you can?!
>
> Thank you!!
>
> Johannes
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From piemanek at gmail.com  Sun May  1 12:33:42 2011
From: piemanek at gmail.com (Simon Blackbourn)
Date: Sun, 1 May 2011 13:33:42 +0100
Subject: [wp-hackers] Update of own plugin
In-Reply-To: <BANLkTi=8jZTi7QvtWaU=CUzfgMSGTH6snQ@mail.gmail.com>
References: <4DBD2749.5050005@aol.com>
	<BANLkTi=8jZTi7QvtWaU=CUzfgMSGTH6snQ@mail.gmail.com>
Message-ID: <BANLkTinpCujO9Fsdi9F=OE3x=-0+VBeYHw@mail.gmail.com>

> The WordPress inbuilt Plugin upgrade functionality requires the plugin to
> be
> hosted on WordPress.org: http://wordpress.org/extend/plugins/about/
>
> No plugin headers (such as Update Server) are taken into account, Your
> plugin may add update checking functionality in itself if you wish, You'll
> have to write a API server for your plugin and filter the plugin update
> transients to add the results of the transient if you wish. I know some
> people have implemented this, I'm not aware of a published article on it
> however.
>
>
There are very detailed instructions on how to make your own plugin
repository and set up the version checking and upgrade functionality in
Chapter 9 of the "Professional WordPress Plugin Development" book (
http://justintadlock.com/plugindevbook).

From r at schestowitz.com  Sun May  1 13:22:53 2011
From: r at schestowitz.com (Roy Schestowitz)
Date: Sun, 01 May 2011 14:22:53 +0100
Subject: [wp-hackers] WP-Hackers Stats for April 2011
Message-ID: <4DBD5EAD.4070500@schestowitz.com>

  -  Times are Greenwich Mean Time (GMT) +0:00

  -  Statistics span a period of one month

  -  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  -  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________


Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | mail scribu.net                              |   20 |  4.54 % |
|  2 | wordpress dd32.id.au                         |   20 |  4.54 % |
|  3 | philip philipwalton.com                      |   18 |  4.08 % |
|  4 | repost_08 yahoo.com                          |   14 |  3.17 % |
|  5 | wp john316media.com                          |   13 |  2.95 % |
|  6 | ljunior2005 gmail.com                        |   13 |  2.95 % |
|  7 | otto ottodestruct.com                        |   12 |  2.72 % |
|  8 | wp andrewnacin.com                           |   11 |  2.49 % |
|  9 | atisha34 gmail.com                           |   10 |  2.27 % |
| 10 | chip chipbennett.net                         |   10 |  2.27 % |
| 11 | mikeschinkel newclarity.net                  |    8 |  1.81 % |
| 12 | jon 5twentystudios.com                       |    8 |  1.81 % |
| 13 | arjunskumar47 gmail.com                      |    7 |  1.59 % |
| 14 | rafaehlers gmail.com                         |    7 |  1.59 % |
| 15 | info swordstudios.net                        |    7 |  1.59 % |
| 16 | thomas.vaneyck gmail.com                     |    6 |  1.36 % |
| 17 | jane automattic.com                          |    6 |  1.36 % |
| 18 | awgandrews gmail.com                         |    6 |  1.36 % |
| 19 | kkarpieszuk gmail.com                        |    6 |  1.36 % |
| 20 | lists rotorised.com                          |    6 |  1.36 % |
| 21 | darshanasbg gmail.com                        |    6 |  1.36 % |
| 22 | merty92 gmail.com                            |    5 |  1.13 % |
| 23 | sevcsik gmail.com                            |    5 |  1.13 % |
| 24 | Ken pumastudios.com                          |    5 |  1.13 % |
| 25 | aaron jorb.in                                |    5 |  1.13 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  207 | 46.94 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | atisha34 gmail.com                                   |   17.6 |
|  2 | wordpress dd32.id.au                                 |   14.8 |
|  3 | philip philipwalton.com                              |   12.6 |
|  4 | curtis curtismchale.ca                               |   11.5 |
|  5 | wp john316media.com                                  |   11.3 |
|  6 | ljunior2005 gmail.com                                |    9.2 |
|  7 | mail scribu.net                                      |    9.1 |
|  8 | chip chipbennett.net                                 |    8.8 |
|  9 | otto ottodestruct.com                                |    8.4 |
| 10 | repost_08 yahoo.com                                  |    8.4 |
| 11 | jon 5twentystudios.com                               |    8.4 |
| 12 | kkarpieszuk gmail.com                                |    7.3 |
| 13 | mikeschinkel newclarity.net                          |    7.2 |
| 14 | info swordstudios.net                                |    6.4 |
| 15 | stas nerd.ro                                         |    6.0 |
| 16 | wp andrewnacin.com                                   |    5.7 |
| 17 | jer simianuprising.com                               |    5.7 |
| 18 | andycharrington gmail.com                            |    5.3 |
| 19 | arjunskumar47 gmail.com                              |    5.2 |
| 20 | jake.mcmurchie googlemail.com                        |    4.8 |
| 21 | niladam gmail.com                                    |    4.7 |
| 22 | will.davis gmail.com                                 |    4.6 |
| 23 | Ken pumastudios.com                                  |    4.5 |
| 24 | i huxuan.org                                         |    3.9 |
| 25 | patrik.bona mrhead.sk                                |    3.4 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | curtis curtismchale.ca                                |  5908 |
|  2 | niladam gmail.com                                     |  4844 |
|  3 | jake.mcmurchie googlemail.com                         |  2454 |
|  4 | liste srpski.biz                                      |  2425 |
|  5 | stas nerd.ro                                          |  2037 |
|  6 | andycharrington gmail.com                             |  1814 |
|  7 | atisha34 gmail.com                                    |  1797 |
|  8 | mmuro advance.ua.edu                                  |  1732 |
|  9 | dougal gunters.org                                    |  1712 |
| 10 | bjoern kontoreins.com                                 |  1432 |
| 11 | vanessa.kovalsky free.fr                              |  1421 |
| 12 | steve sltaylor.co.uk                                  |  1356 |
| 13 | kevin deldycke.com                                    |  1335 |
| 14 | kkarpieszuk gmail.com                                 |  1247 |
| 15 | Gavin.Pearce 3seven9.com                              |  1246 |
| 16 | tobias davistobias.com                                |  1236 |
| 17 | lwh1016 hotmail.com                                   |  1200 |
| 18 | will.davis gmail.com                                  |  1186 |
| 19 | patrik.bona mrhead.sk                                 |  1161 |
| 20 | jer simianuprising.com                                |  1159 |
| 21 | gxxaxx gmail.com                                      |  1155 |
| 22 | jimmy.roy gmail.com                                   |  1144 |
| 23 | fris fris.net                                         |  1125 |
| 24 | carlo artilibere.com                                  |  1112 |
| 25 | jon 5twentystudios.com                                |  1068 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] Uninstall Handling              |   19 |  4.31 % |
|  2 | [wp-hackers] Embedded videos are not resizin |   18 |  4.08 % |
|  3 | [wp-hackers] Admin notices                   |   17 |  3.85 % |
|  4 | [wp-hackers] Multiple orderby and order opti |   12 |  2.72 % |
|  5 | [wp-hackers] front-page.php always overrides |   12 |  2.72 % |
|  6 | [wp-hackers] GSoC 2011 Project Idea          |   11 |  2.49 % |
|  7 | [wp-hackers] Multisite Remote Database       |   11 |  2.49 % |
|  8 | [wp-hackers] Class conflicts with plugin fra |   11 |  2.49 % |
|  9 | [wp-hackers] [GSoC] Language Packs           |   10 |  2.27 % |
| 10 | [wp-hackers] Best practices for hunting depr |   10 |  2.27 % |
| 11 | [wp-hackers] did I stumble across a bug?     |    9 |  2.04 % |
| 12 | [wp-hackers] Uploading a plugin              |    8 |  1.81 % |
| 13 | [wp-hackers] remove boxes                    |    8 |  1.81 % |
| 14 | [wp-hackers] GSoC 2011                       |    7 |  1.59 % |
| 15 | [wp-hackers] Shortcode to call comments_temp |    7 |  1.59 % |
| 16 | [wp-hackers] Getting every page ID, URL, and |    7 |  1.59 % |
| 17 | [wp-hackers] Professional help               |    7 |  1.59 % |
| 18 | [wp-hackers] Best practices for upgrading pl |    7 |  1.59 % |
| 19 | [wp-hackers] Problem with admin AJAX not exe |    6 |  1.36 % |
| 20 | [wp-hackers] When to test plugins            |    6 |  1.36 % |
| 21 | [wp-hackers] Plugin Fatal error refers to WP |    6 |  1.36 % |
| 22 | [wp-hackers] bypostauthor class disappears o |    6 |  1.36 % |
| 23 | [wp-hackers] How did you learn to program?   |    6 |  1.36 % |
| 24 | [wp-hackers] Error: Are you sureyou want to  |    6 |  1.36 % |
| 25 | [wp-hackers] where's documentation for optio |    5 |  1.13 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  209 | 47.39 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  326 | 73.92 % |
|  2 | Mozilla/5.x                                  |   59 | 13.38 % |
|  3 | Apple Mail (2.1084)                          |   30 |  6.80 % |
|  4 | Apple Mail (2.1082)                          |    6 |  1.36 % |
|  5 | iPhone Mail (8H7)                            |    4 |  0.91 % |
|  6 | Evolution 2.30.3                             |    3 |  0.68 % |
|  7 | Microsoft Outlook 14.0                       |    3 |  0.68 % |
|  8 | Evolution 2.30.3                             |    2 |  0.45 % |
|  9 | G2/1.0                                       |    2 |  0.45 % |
| 10 | Microsoft-MacOutlook/14.10.0.110310          |    2 |  0.45 % |
| 11 | Microsoft Office Outlook, Build 11.0.5510    |    1 |  0.23 % |
| 12 | SquirrelMail/1.4.15                          |    1 |  0.23 % |
| 13 | sparrow 1.1.1 (build 685)                    |    1 |  0.23 % |
| 14 | iPhone Mail (8G4)                            |    1 |  0.23 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    0 |  0.00 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | joelfisher gmail.com                                | 89.55 % |
|  2 | mitch mitchcanter.com                               | 86.47 % |
|  3 | hugoroger live.com                                  | 83.41 % |
|  4 | backie backie.org                                   | 82.31 % |
|  5 | lonnyk gmail.com                                    | 80.05 % |
|  6 | beautifulcrimes gmail.com                           | 79.86 % |
|  7 | travis travisnorthcutt.com                          | 79.29 % |
|  8 | peter.westwood ftwr.co.uk                           | 72.40 % |
|  9 | jgrim jgwebdevelopment.com                          | 72.11 % |
| 10 | wordpress dd32.id.au                                | 71.72 % |
| 11 | rafaehlers gmail.com                                | 70.24 % |
| 12 | thomas.vaneyck gmail.com                            | 70.13 % |
| 13 | seanseviltwin gmail.com                             | 68.65 % |
| 14 | carlo artilibere.com                                | 68.62 % |
| 15 | darshanasbg gmail.com                               | 68.06 % |
| 16 | cross thisismyurl.com                               | 68.03 % |
| 17 | aaron jorb.in                                       | 67.62 % |
| 18 | wpcustomizer gmail.com                              | 65.97 % |
| 19 | eric eam.me                                         | 63.43 % |
| 20 | awgandrews gmail.com                                | 63.35 % |
| 21 | barry barrycarlyon.co.uk                            | 63.04 % |
| 22 | hempsworth gmail.com                                | 61.19 % |
| 23 | gaurav91.2008 gmail.com                             | 60.48 % |
| 24 | rbilesky gmail.com                                  | 59.83 % |
| 25 | Ken pumastudios.com                                 | 59.61 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 45.17 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -------------------------------#-#--------------- - 34
 90% -------------------------#-----#-#--------------- msgs
 80% -------------------------#-----#-#-----#---------
 70% -------------------------#-----#-#-#---#---#-----
 60% -----------------#-----#-#-----#-#-#-#-#---#-----
 50% -#---------------#---#-#-#-#-#-#-#-#-#-#---#-#-#-
 40% -#---------------#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 30% -#-------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#-#-#-------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% ---------------#----------------------------------------------- - 38
 90% -------#-------#----------------------------------------------- msgs
 80% -------#-#-----#---------------------------------#-------------
 70% -------#-#-----#-----#---------------------------#-----#-------
 60% -------#-#-#-#-#-----#---------------------------#-----#-------
 50% -----#-#-#-#-#-#-----#-------------------------#-#---#-#-------
 40% -----#-#-#-#-#-#---#-#-------------------------#-#---#-#-------
 30% -#---#-#-#-#-#-#-#-#-#-#---------------#-------#-#---#-#-------
 20% -#---#-#-#-#-#-#-#-#-#-#-#-#-----------#-------#-#-#-#-#-#-#---
 10% -#-#-#-#-#-#-#-#-#-#-#-#-#-#-#---------#-----#-#-#-#-#-#-#-#---
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -#--------------------------- - 93
 90% -#--------------------------- msgs
 80% -#---------------------------
 70% -#-------#-------#-----------
 60% -#---#---#---#---#-------#---
 50% -#---#---#---#---#-------#---
 40% -#---#---#---#---#-------#---
 30% -#---#---#---#---#---#---#---
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : wordpress dd32.id.au
      Subject    : [wp-hackers] Problem with admin AJAX not executing
plugin code
      Date       : Tue, 5 Apr 2011 01:02:17 +1000
      Quote ratio: 93.81% / 6061 bytes

***** Longest message:
      Author     : wordpress dd32.id.au
      Subject    : [wp-hackers] Multisite Remote Database
      Date       : Tue, 12 Apr 2011 19:39:15 +1000
      Size       : 7715 bytes

***** Most successful subject:
      Subject    : [wp-hackers] Uninstall Handling
      No. of msgs: 19
      Total size : 33585 bytes

***** Final summary:
      Total number of messages:             441
      Total number of different authors:    125
      Total number of different subjects:   115
      Total size of messages (w/o headers): 632693 bytes
      Average size of a message:            1434 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.

-- 
		~~ Best of wishes

Dr. Roy S. Schestowitz (Ph.D. Medical Biophysics), Imaging Researcher
http://Schestowitz.com  |  GNU/Linux  |     PGP-Key: 0x74572E8E

From wp at john316media.com  Sun May  1 21:35:20 2011
From: wp at john316media.com (John 3:16 Media)
Date: Sun, 1 May 2011 14:35:20 -0700
Subject: [wp-hackers] Update of own plugin
In-Reply-To: <BANLkTinpCujO9Fsdi9F=OE3x=-0+VBeYHw@mail.gmail.com>
References: <4DBD2749.5050005@aol.com>
	<BANLkTi=8jZTi7QvtWaU=CUzfgMSGTH6snQ@mail.gmail.com>
	<BANLkTinpCujO9Fsdi9F=OE3x=-0+VBeYHw@mail.gmail.com>
Message-ID: <BANLkTimdKoiUwLeLfy8dt4vbvqA2MoohnA@mail.gmail.com>

This article explains how to do this, I use it with some server side coding
to automate generating the metadata file.

http://w-shadow.com/blog/2010/09/02/automatic-updates-for-any-plugin/
On May 1, 2011 5:33 AM, "Simon Blackbourn" <piemanek at gmail.com> wrote:
>> The WordPress inbuilt Plugin upgrade functionality requires the plugin to
>> be
>> hosted on WordPress.org: http://wordpress.org/extend/plugins/about/
>>
>> No plugin headers (such as Update Server) are taken into account, Your
>> plugin may add update checking functionality in itself if you wish,
You'll
>> have to write a API server for your plugin and filter the plugin update
>> transients to add the results of the transient if you wish. I know some
>> people have implemented this, I'm not aware of a published article on it
>> however.
>>
>>
> There are very detailed instructions on how to make your own plugin
> repository and set up the version checking and upgrade functionality in
> Chapter 9 of the "Professional WordPress Plugin Development" book (
> http://justintadlock.com/plugindevbook).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From cross at thisismyurl.com  Mon May  2 17:35:13 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Mon, 2 May 2011 14:35:13 -0300
Subject: [wp-hackers] 404 redirect on specific url
Message-ID: <2FC22F5E-69E7-42DF-89C6-1EB675010C8D@thisismyurl.com>

Hi all, is there a WP friendly way to get (and redirect) a specific address during a 404? 

What I have is an address that will result in a 404, it's on a subdomain and needs to be redirected back to the primary. I know I can do it through a fast php hack, but I'm curious if there is a built in method for reading the URL and redirecting.

Thanks,

c.

__

Christopher Ross
Online Portfolio - http://christopherross.ca
Personal Blog - http://thisismyurl.com

Fredericton - 506.238.4661
San Diego   - 858.201.4912


From rafaehlers at gmail.com  Mon May  2 18:13:26 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Mon, 2 May 2011 15:13:26 -0300
Subject: [wp-hackers] 404 redirect on specific url
In-Reply-To: <2FC22F5E-69E7-42DF-89C6-1EB675010C8D@thisismyurl.com>
References: <2FC22F5E-69E7-42DF-89C6-1EB675010C8D@thisismyurl.com>
Message-ID: <BANLkTik=2grjT7jQBzpH4nZMgO1gfJbGZg@mail.gmail.com>

Try this:

$url = http://' .$_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"];

wp_redirect($url);
die();


On Mon, May 2, 2011 at 2:35 PM, Christopher Ross <cross at thisismyurl.com>wrote:

> Hi all, is there a WP friendly way to get (and redirect) a specific address
> during a 404?
>
> What I have is an address that will result in a 404, it's on a subdomain
> and needs to be redirected back to the primary. I know I can do it through a
> fast php hack, but I'm curious if there is a built in method for reading the
> URL and redirecting.
>
> Thanks,
>
> c.
>
> __
>
> Christopher Ross
> Online Portfolio - http://christopherross.ca
> Personal Blog - http://thisismyurl.com
>
> Fredericton - 506.238.4661
> San Diego   - 858.201.4912
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From philip at philipwalton.com  Mon May  2 22:39:15 2011
From: philip at philipwalton.com (Philip Walton)
Date: Mon, 02 May 2011 15:39:15 -0700
Subject: [wp-hackers] wp_nonce_field() bug?
Message-ID: <4DBF3293.7090805@philipwalton.com>

I just came across what seems like a bug to me, but may very well be 
intentional, so I wanted to run it by you all fist

The function function wp_nonce_field() will, by default, echo a hidden 
field for the _nonce and _wp_http_referer values.

If, however, I pass false as the fifth argument to have it return the 
fields instead of echo, it does not return the _wp_http_referer field.

Is this intentional? It seems weird that it would be, but perhaps I'm 
missing something.


From jon at lionsgoroar.co.uk  Mon May  2 22:53:06 2011
From: jon at lionsgoroar.co.uk (Jon Cave)
Date: Mon, 2 May 2011 23:53:06 +0100
Subject: [wp-hackers] wp_nonce_field() bug?
In-Reply-To: <4DBF3293.7090805@philipwalton.com>
References: <4DBF3293.7090805@philipwalton.com>
Message-ID: <BANLkTimArpjME13=vD+GoCtVvozvDFjgXw@mail.gmail.com>

On Mon, May 2, 2011 at 11:39 PM, Philip Walton <philip at philipwalton.com> wrote:
> Is this intentional? It seems weird that it would be, but perhaps I'm
> missing something.

This is a known issue: http://core.trac.wordpress.org/ticket/11953

From philip at philipwalton.com  Mon May  2 23:05:54 2011
From: philip at philipwalton.com (Philip Walton)
Date: Mon, 02 May 2011 16:05:54 -0700
Subject: [wp-hackers] wp_nonce_field() bug?
In-Reply-To: <BANLkTimArpjME13=vD+GoCtVvozvDFjgXw@mail.gmail.com>
References: <4DBF3293.7090805@philipwalton.com>
	<BANLkTimArpjME13=vD+GoCtVvozvDFjgXw@mail.gmail.com>
Message-ID: <4DBF38D2.5040306@philipwalton.com>

Thanks Jon, I don't know how I missed that!

On 5/2/11 3:53 PM, Jon Cave wrote:
> On Mon, May 2, 2011 at 11:39 PM, Philip Walton<philip at philipwalton.com>  wrote:
>> Is this intentional? It seems weird that it would be, but perhaps I'm
>> missing something.
> This is a known issue: http://core.trac.wordpress.org/ticket/11953
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From philip at philipwalton.com  Tue May  3 05:05:59 2011
From: philip at philipwalton.com (Philip Walton)
Date: Mon, 02 May 2011 22:05:59 -0700
Subject: [wp-hackers] How to turn localhost into 192.168.1.199 (or whatever)
Message-ID: <4DBF8D37.5020608@philipwalton.com>

I'm developing a few plugins locally (http://localhost/wordress), and I 
want people on my work network to be able to test them by going to 
http://192.168.1.199/wordpress/

But, obviously, WordPress doesn't like that domain name so it doesn't 
work. I know I can set up a virtual host on my server and edit my hosts 
file, but I don't want to have to explain to all my coworkers how to do 
this just to test a plugin.

Is anyone aware of a relatively simple way to trick WordPress into 
allowing it to run on a different domain and/or file path? I thought I 
could redefine some of the defined constants and get it to work, but I'm 
not having any luck with that.

Philip

From johnbillion+wp at gmail.com  Tue May  3 05:14:24 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 3 May 2011 06:14:24 +0100
Subject: [wp-hackers] How to turn localhost into 192.168.1.199 (or
	whatever)
In-Reply-To: <4DBF8D37.5020608@philipwalton.com>
References: <4DBF8D37.5020608@philipwalton.com>
Message-ID: <BANLkTikuM0o-G0iNfzDQxVsHCfR5qPaS1g@mail.gmail.com>

On 3 May 2011 06:05, Philip Walton <philip at philipwalton.com> wrote:
> Is anyone aware of a relatively simple way to trick WordPress into allowing
> it to run on a different domain and/or file path?

You can define WP_HOME and WP_SITEURL (your site's 's home URL and
your WordPress installation URL respectively) in your wp-config.php
file [1] and these will be used instead of the values in the database.
You'll then be able to access the site at the domain/IP you define.

One thing to note is that if you have embedded media in your posts
these will likely be pointing to localhost. You can add a filter to
the_content as a quick workaround as this is just a test site. Eg:

function not_so_localhost( $content ) {
return str_replace( 'http://localhost/', 'http://192.168.1.199/', $content );
}
add_filter( 'the_content', 'not_so_localhost' );

John

[1] http://codex.wordpress.org/Editing_wp-config.php#WordPress_address_.28URL.29

From philip at philipwalton.com  Tue May  3 05:29:10 2011
From: philip at philipwalton.com (Philip Walton)
Date: Mon, 02 May 2011 22:29:10 -0700
Subject: [wp-hackers] How to turn localhost into 192.168.1.199 (or
	whatever)
In-Reply-To: <BANLkTikuM0o-G0iNfzDQxVsHCfR5qPaS1g@mail.gmail.com>
References: <4DBF8D37.5020608@philipwalton.com>
	<BANLkTikuM0o-G0iNfzDQxVsHCfR5qPaS1g@mail.gmail.com>
Message-ID: <4DBF92A6.7030107@philipwalton.com>

Amazing! Thanks John.

It doesn't seem to work in multisite, but I can certainly get around 
that for plugin testing. And I think the MU Domain Mapping plugin would 
probably work for that anyway.

Thanks again.

On 5/2/11 10:14 PM, John Blackbourn wrote:
> On 3 May 2011 06:05, Philip Walton<philip at philipwalton.com>  wrote:
>> Is anyone aware of a relatively simple way to trick WordPress into allowing
>> it to run on a different domain and/or file path?
> You can define WP_HOME and WP_SITEURL (your site's 's home URL and
> your WordPress installation URL respectively) in your wp-config.php
> file [1] and these will be used instead of the values in the database.
> You'll then be able to access the site at the domain/IP you define.
>
> One thing to note is that if you have embedded media in your posts
> these will likely be pointing to localhost. You can add a filter to
> the_content as a quick workaround as this is just a test site. Eg:
>
> function not_so_localhost( $content ) {
> return str_replace( 'http://localhost/', 'http://192.168.1.199/', $content );
> }
> add_filter( 'the_content', 'not_so_localhost' );
>
> John
>
> [1] http://codex.wordpress.org/Editing_wp-config.php#WordPress_address_.28URL.29
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Ken at pumastudios.com  Tue May  3 14:07:14 2011
From: Ken at pumastudios.com (Ken Brucker)
Date: Tue, 3 May 2011 09:07:14 -0500
Subject: [wp-hackers] disabling wpautop
In-Reply-To: <4D81792F.30101@unFocus.com>
References: <4D811C43.4060501@unFocus.com> <4D81792F.30101@unFocus.com>
Message-ID: <4277AB0A-88D6-408D-8F25-E426C771666E@pumastudios.com>

You don't need to save the original copies as it's already done in the caller.

Try:

(function() {
   jQuery('body').bind({
       afterPreWpautop: function(e, o) {
           o.data = o.unfiltered;
       },
       afterWpautop: function(e, o) {
           o.data = o.unfiltered;
       }
   });
})();

--Ken

On Mar 16, 2011, at 9:59 PM, Kevin Newman wrote:

> This seems to keep the editor from stripping out <p> tags when you switch between tabs. That's a start. :-)
> 
> (function() {
>    var unFltr, unFltrPre;
>    jQuery('body').bind({
>        beforePreWpautop: function(e, o) {
>            unFltrPre = o.data;
>        },
>        afterPreWpautop: function(e, o) {
>            o.data = unFltrPre;
>        },
>        beforeWpautop: function(e, o) {
>            unFltr = o.data;
>        },
>        afterWpautop: function(e, o) {
>            o.data = unFltr;
>        }
>    });
> })();
> 
> Kevin N.
> 
> 
> On 3/16/2011 4:23 PM, Kevin Newman wrote:
>> Hi there,
>> 
>> I want to kill off wpautop using a plugin.
>> 
>> It looks like this may be all I need to do this on the server side:
>> 
>> remove_filter ('the_content',  'wpautop');
>> remove_filter ('comment_text', 'wpautop');
>> 
>> But the place it's most annoying, is in the editor. Even the server side autop is not so bad, because if you use <p> in the text field, it pretty much leaves them alone - but if you do something like go to another page, switch to Rich Text mode, then go back and edit a page you set carefully with wpautop incompatible html code, it decimates everything without asking questions. Hence my quest to, as Chris Rock might say, turn that shit off.
>> 
>> Ok, so it looks like the offensive JS is this:
>> 
>>    pre_wpautop : function(content) {
>>        var t = this, o = { o: t, data: content, unfiltered: content };
>> 
>>        jQuery('body').trigger('beforePreWpautop', [o]);
>>        o.data = t._wp_Nop(o.data);
>>        jQuery('body').trigger('afterPreWpautop', [o]);
>>        return o.data;
>>    },
>> 
>>    wpautop : function(pee) {
>>        var t = this, o = { o: t, data: pee, unfiltered: pee };
>> 
>>        jQuery('body').trigger('beforeWpautop', [o]);
>>        o.data = t._wp_Autop(o.data);
>>        jQuery('body').trigger('afterWpautop', [o]);
>>        return o.data;
>>    }
>> 
>> My first thought was to just overwrite those functions with compatible functions that don't actually do the wpautop thing - but maybe it would be better to actually use those hooks. This is the point of this post.
>> 
>> What is the right way to disable this part of wpautop?
>> 
>> Thanks,
>> 
>> Kevin N.
>> 
>> PS If you are interested, the plan is to add an option per post to disable wpautop, rather than going all nuclear.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From CaptainN at unFocus.com  Tue May  3 16:31:17 2011
From: CaptainN at unFocus.com (Kevin Newman)
Date: Tue, 03 May 2011 12:31:17 -0400
Subject: [wp-hackers] disabling wpautop
In-Reply-To: <4277AB0A-88D6-408D-8F25-E426C771666E@pumastudios.com>
References: <4D811C43.4060501@unFocus.com> <4D81792F.30101@unFocus.com>
	<4277AB0A-88D6-408D-8F25-E426C771666E@pumastudios.com>
Message-ID: <4DC02DD5.8010206@unFocus.com>

Nice! Thanks for the tip. :-)

I've concluded since looking into this that disabling auto-p isn't the 
correct solution to the problem I was having - fixing the JS 
implementation to more closely match the PHP implementation is the 
correct solution.

I haven't made an further progress down this road, but my brother 
(WraithKenny) and I have been at least looking into it.

Kevin N.


On 5/3/11 10:07 AM, Ken Brucker wrote:
> You don't need to save the original copies as it's already done in the caller.
>
> Try:
>
> (function() {
>     jQuery('body').bind({
>         afterPreWpautop: function(e, o) {
>             o.data = o.unfiltered;
>         },
>         afterWpautop: function(e, o) {
>             o.data = o.unfiltered;
>         }
>     });
> })();
>
> --Ken
>
> On Mar 16, 2011, at 9:59 PM, Kevin Newman wrote:
>
>> This seems to keep the editor from stripping out<p>  tags when you switch between tabs. That's a start. :-)
>>
>> (function() {
>>     var unFltr, unFltrPre;
>>     jQuery('body').bind({
>>         beforePreWpautop: function(e, o) {
>>             unFltrPre = o.data;
>>         },
>>         afterPreWpautop: function(e, o) {
>>             o.data = unFltrPre;
>>         },
>>         beforeWpautop: function(e, o) {
>>             unFltr = o.data;
>>         },
>>         afterWpautop: function(e, o) {
>>             o.data = unFltr;
>>         }
>>     });
>> })();
>>
>> Kevin N.
>>
>>
>> On 3/16/2011 4:23 PM, Kevin Newman wrote:
>>> Hi there,
>>>
>>> I want to kill off wpautop using a plugin.
>>>
>>> It looks like this may be all I need to do this on the server side:
>>>
>>> remove_filter ('the_content',  'wpautop');
>>> remove_filter ('comment_text', 'wpautop');
>>>
>>> But the place it's most annoying, is in the editor. Even the server side autop is not so bad, because if you use<p>  in the text field, it pretty much leaves them alone - but if you do something like go to another page, switch to Rich Text mode, then go back and edit a page you set carefully with wpautop incompatible html code, it decimates everything without asking questions. Hence my quest to, as Chris Rock might say, turn that shit off.
>>>
>>> Ok, so it looks like the offensive JS is this:
>>>
>>>     pre_wpautop : function(content) {
>>>         var t = this, o = { o: t, data: content, unfiltered: content };
>>>
>>>         jQuery('body').trigger('beforePreWpautop', [o]);
>>>         o.data = t._wp_Nop(o.data);
>>>         jQuery('body').trigger('afterPreWpautop', [o]);
>>>         return o.data;
>>>     },
>>>
>>>     wpautop : function(pee) {
>>>         var t = this, o = { o: t, data: pee, unfiltered: pee };
>>>
>>>         jQuery('body').trigger('beforeWpautop', [o]);
>>>         o.data = t._wp_Autop(o.data);
>>>         jQuery('body').trigger('afterWpautop', [o]);
>>>         return o.data;
>>>     }
>>>
>>> My first thought was to just overwrite those functions with compatible functions that don't actually do the wpautop thing - but maybe it would be better to actually use those hooks. This is the point of this post.
>>>
>>> What is the right way to disable this part of wpautop?
>>>
>>> Thanks,
>>>
>>> Kevin N.
>>>
>>> PS If you are interested, the plan is to add an option per post to disable wpautop, rather than going all nuclear.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From awgandrews at gmail.com  Wed May  4 12:47:46 2011
From: awgandrews at gmail.com (Alex Andrews)
Date: Wed, 4 May 2011 13:47:46 +0100
Subject: [wp-hackers] Complicated Rewrites In register_custom_post_type
Message-ID: <BANLkTindpOj-Paz1D46AyCwbL2PHpQJv0g@mail.gmail.com>

Hi all,

Registering a custom post type one uses 'rewrite' to setup simple
re-write structures, using slug to simply define where the archive is
then where our posts of that type therefore will be. But what if
someone wanted something more complicated? Apparently we can pass an
array to slug, but how does this work? Say we wanted to pass some
clever query variables along and so on or perhaps have /x/y/z with a
custom front etc. Is there any codex on this or a good tutorial?

Thanks in advance,

All the best,

Alex

From atisha34 at gmail.com  Wed May  4 14:57:18 2011
From: atisha34 at gmail.com (=?ISO-8859-2?Q?Marko_Novakovi=E6?=)
Date: Wed, 4 May 2011 16:57:18 +0200
Subject: [wp-hackers] WP Cron Bug
Message-ID: <BANLkTikFHyjKKEt3MKD6Q1mx+6=BzHz=oQ@mail.gmail.com>

I have installed the lastest WP 3.1.2 on my computer,
Ubuntu 11.04, php and mysql the newest versions,
and sometimes give the following exception:

Warning: fopen(http://localhost/wordpress-test/wp-cron.php?doing_wp_cron):
failed to open stream: HTTP request failed! in
/var/www/wordpress-test/wp-includes/class-http.php on line 1063 Call Stack:
0.0120 951248 1. {main}() /var/www/wordpress-test/wp-admin/plugins.php:0
0.0131 1080696 2. require_once('/var/www/wordpress-test/wp-admin/admin.php')
/var/www/wordpress-test/wp-admin/plugins.php:10 0.0134 1101992 3.
require_once('/var/www/wordpress-test/wp-load.php')
/var/www/wordpress-test/wp-admin/admin.php:30 0.0137 1127560 4.
require_once('/var/www/wordpress-test/wp-config.php')
/var/www/wordpress-test/wp-load.php:30 0.0146 1262592 5.
require_once('/var/www/wordpress-test/wp-settings.php')
/var/www/wordpress-test/wp-config.php:90 0.1501 28287976 6. do_action()
/var/www/wordpress-test/wp-settings.php:212 0.1501 28290288 7.
call_user_func_array() /var/www/wordpress-test/wp-includes/plugin.php:395
0.1501 28290344 8. wp_cron()
/var/www/wordpress-test/wp-includes/plugin.php:0 0.1503 28303688 9.
spawn_cron() /var/www/wordpress-test/wp-includes/cron.php:276 0.1516
28149840 10. wp_remote_post()
/var/www/wordpress-test/wp-includes/cron.php:246 0.1518 28153496 11.
WP_Http->post() /var/www/wordpress-test/wp-includes/http.php:92 0.1518
28154904 12. WP_Http->request()
/var/www/wordpress-test/wp-includes/class-http.php:344 0.1523 28166344 13.
WP_Http_Streams->request()
/var/www/wordpress-test/wp-includes/class-http.php:318 0.1524 28180056 14.
fopen() /var/www/wordpress-test/wp-includes/class-http.php:1063

Have it applied on the trac yet?

From zamoose at gmail.com  Wed May  4 15:22:05 2011
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 4 May 2011 11:22:05 -0400
Subject: [wp-hackers] Where'd the WP.com themes repo go?
Message-ID: <BANLkTikB=TUX5oAdi61hxSasYLiR=XDbCw@mail.gmail.com>

http://svn.automattic.com/wpcom-themes was working up until a couple
of days ago. Now?

404'd!

-- 
-Doug
@zamoose
http://literalbarrage.org/blog/

From admin at wpkid.com  Wed May  4 15:35:01 2011
From: admin at wpkid.com (Mark McWilliams)
Date: Wed, 4 May 2011 16:35:01 +0100
Subject: [wp-hackers] Where'd the WP.com themes repo go?
In-Reply-To: <BANLkTikB=TUX5oAdi61hxSasYLiR=XDbCw@mail.gmail.com>
References: <BANLkTikB=TUX5oAdi61hxSasYLiR=XDbCw@mail.gmail.com>
Message-ID: <000f01cc0a70$d7731480$86593d80$@wpkid.com>

I see https://wpcom-themes.svn.automattic.com/ works, but would guess some
restructuring is going on or something?

Thanks
Mark

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Doug Stewart
Sent: 04 May 2011 16:22
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Where'd the WP.com themes repo go?

http://svn.automattic.com/wpcom-themes was working up until a couple of days
ago. Now?

404'd!

--
-Doug
@zamoose
http://literalbarrage.org/blog/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From mike.schroder at dreamhost.com  Wed May  4 17:07:09 2011
From: mike.schroder at dreamhost.com (Mike Schroder)
Date: Wed, 4 May 2011 10:07:09 -0700
Subject: [wp-hackers] Where'd the WP.com themes repo go?
In-Reply-To: <000f01cc0a70$d7731480$86593d80$@wpkid.com>
References: <BANLkTikB=TUX5oAdi61hxSasYLiR=XDbCw@mail.gmail.com>
	<000f01cc0a70$d7731480$86593d80$@wpkid.com>
Message-ID: <BANLkTiktCBCTGPwbJ3O6z2dXpNb7+dbAVQ@mail.gmail.com>

Anyone know if https://wpcom-themes.svn.automattic.com/  is going to
be the new "official" location of the repo?

It does look like http://svn.automattic.com/wpcom-themes/  (as opposed
to http://svn.automattic.com/wpcom-themes )  redirects there.


-Shredder

On Wed, May 4, 2011 at 8:35 AM, Mark McWilliams <admin at wpkid.com> wrote:
> I see https://wpcom-themes.svn.automattic.com/ works, but would guess some
> restructuring is going on or something?
>
> Thanks
> Mark
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Doug Stewart
> Sent: 04 May 2011 16:22
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Where'd the WP.com themes repo go?
>
> http://svn.automattic.com/wpcom-themes was working up until a couple of days
> ago. Now?
>
> 404'd!
>
> --
> -Doug
> @zamoose
> http://literalbarrage.org/blog/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mike Schroder
WordPress Specialist, Developer
mike.schroder at dreamhost.com

From zamoose at gmail.com  Wed May  4 17:21:22 2011
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 4 May 2011 13:21:22 -0400
Subject: [wp-hackers] Where'd the WP.com themes repo go?
In-Reply-To: <BANLkTiktCBCTGPwbJ3O6z2dXpNb7+dbAVQ@mail.gmail.com>
References: <BANLkTikB=TUX5oAdi61hxSasYLiR=XDbCw@mail.gmail.com>
	<000f01cc0a70$d7731480$86593d80$@wpkid.com>
	<BANLkTiktCBCTGPwbJ3O6z2dXpNb7+dbAVQ@mail.gmail.com>
Message-ID: <BANLkTimCUi=Awx8LKTS1Oy4osm2VGL1e8A@mail.gmail.com>

Looks good to me now.

Thanks.

On Wed, May 4, 2011 at 1:07 PM, Mike Schroder
<mike.schroder at dreamhost.com> wrote:
> Anyone know if https://wpcom-themes.svn.automattic.com/ ?is going to
> be the new "official" location of the repo?
>
> It does look like http://svn.automattic.com/wpcom-themes/ ?(as opposed
> to http://svn.automattic.com/wpcom-themes ) ?redirects there.
>
>
> -Shredder
>
> On Wed, May 4, 2011 at 8:35 AM, Mark McWilliams <admin at wpkid.com> wrote:
>> I see https://wpcom-themes.svn.automattic.com/ works, but would guess some
>> restructuring is going on or something?
>>
>> Thanks
>> Mark
>>
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Doug Stewart
>> Sent: 04 May 2011 16:22
>> To: wp-hackers at lists.automattic.com
>> Subject: [wp-hackers] Where'd the WP.com themes repo go?
>>
>> http://svn.automattic.com/wpcom-themes was working up until a couple of days
>> ago. Now?
>>
>> 404'd!
>>
>> --
>> -Doug
>> @zamoose
>> http://literalbarrage.org/blog/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Mike Schroder
> WordPress Specialist, Developer
> mike.schroder at dreamhost.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
-Doug

From mike.schroder at dreamhost.com  Wed May  4 17:48:41 2011
From: mike.schroder at dreamhost.com (Mike Schroder)
Date: Wed, 4 May 2011 10:48:41 -0700
Subject: [wp-hackers] Where'd the WP.com themes repo go?
In-Reply-To: <BANLkTimCUi=Awx8LKTS1Oy4osm2VGL1e8A@mail.gmail.com>
References: <BANLkTikB=TUX5oAdi61hxSasYLiR=XDbCw@mail.gmail.com>
	<000f01cc0a70$d7731480$86593d80$@wpkid.com>
	<BANLkTiktCBCTGPwbJ3O6z2dXpNb7+dbAVQ@mail.gmail.com>
	<BANLkTimCUi=Awx8LKTS1Oy4osm2VGL1e8A@mail.gmail.com>
Message-ID: <BANLkTinCeKxp5xvxot6k-S7DA4o=b7+ZRg@mail.gmail.com>

Got confirmation from Lance Willett (at Automattic) that the new
official URL is:

https://wpcom-themes.svn.automattic.com/


-Shredder!

On Wed, May 4, 2011 at 10:21 AM, Doug Stewart <zamoose at gmail.com> wrote:
> Looks good to me now.
>
> Thanks.
>
> On Wed, May 4, 2011 at 1:07 PM, Mike Schroder
> <mike.schroder at dreamhost.com> wrote:
>> Anyone know if https://wpcom-themes.svn.automattic.com/ ?is going to
>> be the new "official" location of the repo?
>>
>> It does look like http://svn.automattic.com/wpcom-themes/ ?(as opposed
>> to http://svn.automattic.com/wpcom-themes ) ?redirects there.
>>
>>
>> -Shredder
>>
>> On Wed, May 4, 2011 at 8:35 AM, Mark McWilliams <admin at wpkid.com> wrote:
>>> I see https://wpcom-themes.svn.automattic.com/ works, but would guess some
>>> restructuring is going on or something?
>>>
>>> Thanks
>>> Mark
>>>
>>> -----Original Message-----
>>> From: wp-hackers-bounces at lists.automattic.com
>>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Doug Stewart
>>> Sent: 04 May 2011 16:22
>>> To: wp-hackers at lists.automattic.com
>>> Subject: [wp-hackers] Where'd the WP.com themes repo go?
>>>
>>> http://svn.automattic.com/wpcom-themes was working up until a couple of days
>>> ago. Now?
>>>
>>> 404'd!
>>>
>>> --
>>> -Doug
>>> @zamoose
>>> http://literalbarrage.org/blog/
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> Mike Schroder
>> WordPress Specialist, Developer
>> mike.schroder at dreamhost.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> -Doug
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mike Schroder
WordPress Specialist, Developer
mike.schroder at dreamhost.com

From jon at lionsgoroar.co.uk  Wed May  4 18:38:32 2011
From: jon at lionsgoroar.co.uk (Jon Cave)
Date: Wed, 4 May 2011 19:38:32 +0100
Subject: [wp-hackers] WP Cron Bug
In-Reply-To: <BANLkTikFHyjKKEt3MKD6Q1mx+6=BzHz=oQ@mail.gmail.com>
References: <BANLkTikFHyjKKEt3MKD6Q1mx+6=BzHz=oQ@mail.gmail.com>
Message-ID: <BANLkTi=H9hc9Ow+f8On-5a4o1cBgr8TRSw@mail.gmail.com>

2011/5/4 Marko Novakovi? <atisha34 at gmail.com>:
> I have installed the lastest WP 3.1.2 on my computer,
> Ubuntu 11.04, php and mysql the newest versions,
> and sometimes give the following exception:

This looks like a configuration issue rather than a bug. Check your
php.ini for allow_url_fopen. For it to work you'll probably have to
change it to:

allow_url_fopen = On

From chip at chipbennett.net  Wed May  4 18:43:27 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 4 May 2011 13:43:27 -0500
Subject: [wp-hackers] WP Cron Bug
In-Reply-To: <BANLkTi=H9hc9Ow+f8On-5a4o1cBgr8TRSw@mail.gmail.com>
References: <BANLkTikFHyjKKEt3MKD6Q1mx+6=BzHz=oQ@mail.gmail.com>
	<BANLkTi=H9hc9Ow+f8On-5a4o1cBgr8TRSw@mail.gmail.com>
Message-ID: <BANLkTimP4mh9s-4LvtZ3nW_xmhbAyHteeg@mail.gmail.com>

...or simply set ALTERNATE_WP_CRON to false in wp-config.php?

// Alternate cron method (uses redirect rather than http loopback)
define( 'ALTERNATE_WP_CRON', false );


Isn't that where the wp-cron.php?doing-cron comes from?

Chip

On Wed, May 4, 2011 at 1:38 PM, Jon Cave <jon at lionsgoroar.co.uk> wrote:

> 2011/5/4 Marko Novakovi? <atisha34 at gmail.com>:
> > I have installed the lastest WP 3.1.2 on my computer,
> > Ubuntu 11.04, php and mysql the newest versions,
> > and sometimes give the following exception:
>
> This looks like a configuration issue rather than a bug. Check your
> php.ini for allow_url_fopen. For it to work you'll probably have to
> change it to:
>
> allow_url_fopen = On
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From atisha34 at gmail.com  Wed May  4 21:03:37 2011
From: atisha34 at gmail.com (=?ISO-8859-2?Q?Marko_Novakovi=E6?=)
Date: Wed, 4 May 2011 23:03:37 +0200
Subject: [wp-hackers] WP Cron Bug
In-Reply-To: <BANLkTimP4mh9s-4LvtZ3nW_xmhbAyHteeg@mail.gmail.com>
References: <BANLkTikFHyjKKEt3MKD6Q1mx+6=BzHz=oQ@mail.gmail.com>
	<BANLkTi=H9hc9Ow+f8On-5a4o1cBgr8TRSw@mail.gmail.com>
	<BANLkTimP4mh9s-4LvtZ3nW_xmhbAyHteeg@mail.gmail.com>
Message-ID: <BANLkTikq_P9pPddsC=0X6m_76f0fpze34A@mail.gmail.com>

Thank you!

On Wed, May 4, 2011 at 8:43 PM, Chip Bennett <chip at chipbennett.net> wrote:

> ...or simply set ALTERNATE_WP_CRON to false in wp-config.php?
>
> // Alternate cron method (uses redirect rather than http loopback)
> define( 'ALTERNATE_WP_CRON', false );
>
>
> Isn't that where the wp-cron.php?doing-cron comes from?
>
> Chip
>
> On Wed, May 4, 2011 at 1:38 PM, Jon Cave <jon at lionsgoroar.co.uk> wrote:
>
> > 2011/5/4 Marko Novakovi? <atisha34 at gmail.com>:
> > > I have installed the lastest WP 3.1.2 on my computer,
> > > Ubuntu 11.04, php and mysql the newest versions,
> > > and sometimes give the following exception:
> >
> > This looks like a configuration issue rather than a bug. Check your
> > php.ini for allow_url_fopen. For it to work you'll probably have to
> > change it to:
> >
> > allow_url_fopen = On
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jon at lionsgoroar.co.uk  Wed May  4 21:40:37 2011
From: jon at lionsgoroar.co.uk (Jon Cave)
Date: Wed, 4 May 2011 22:40:37 +0100
Subject: [wp-hackers] WP Cron Bug
In-Reply-To: <BANLkTimP4mh9s-4LvtZ3nW_xmhbAyHteeg@mail.gmail.com>
References: <BANLkTikFHyjKKEt3MKD6Q1mx+6=BzHz=oQ@mail.gmail.com>
	<BANLkTi=H9hc9Ow+f8On-5a4o1cBgr8TRSw@mail.gmail.com>
	<BANLkTimP4mh9s-4LvtZ3nW_xmhbAyHteeg@mail.gmail.com>
Message-ID: <BANLkTinWD4XnkueaaSs_UndOrtgDd+oV+w@mail.gmail.com>

On Wed, May 4, 2011 at 7:43 PM, Chip Bennett <chip at chipbennett.net> wrote:
> ...or simply set ALTERNATE_WP_CRON to false in wp-config.php?
>
> // Alternate cron method (uses redirect rather than http loopback)
> define( 'ALTERNATE_WP_CRON', false );

You would have to define it as true to use wp_redirect instead of the
default wp_remote_post.

From chip at chipbennett.net  Wed May  4 21:52:26 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 4 May 2011 16:52:26 -0500
Subject: [wp-hackers] WP Cron Bug
In-Reply-To: <BANLkTinWD4XnkueaaSs_UndOrtgDd+oV+w@mail.gmail.com>
References: <BANLkTikFHyjKKEt3MKD6Q1mx+6=BzHz=oQ@mail.gmail.com>
	<BANLkTi=H9hc9Ow+f8On-5a4o1cBgr8TRSw@mail.gmail.com>
	<BANLkTimP4mh9s-4LvtZ3nW_xmhbAyHteeg@mail.gmail.com>
	<BANLkTinWD4XnkueaaSs_UndOrtgDd+oV+w@mail.gmail.com>
Message-ID: <BANLkTi==Z5duK8cJokJ3JTGCKtnuEL3GDA@mail.gmail.com>

The alternate cron method *is* wp_redirect. The http loopback is the default
cron method.

(Unless I somehow got that completely backward, or something changed.)

Chip

On Wed, May 4, 2011 at 4:40 PM, Jon Cave <jon at lionsgoroar.co.uk> wrote:

> On Wed, May 4, 2011 at 7:43 PM, Chip Bennett <chip at chipbennett.net> wrote:
> > ...or simply set ALTERNATE_WP_CRON to false in wp-config.php?
> >
> > // Alternate cron method (uses redirect rather than http loopback)
> > define( 'ALTERNATE_WP_CRON', false );
>
> You would have to define it as true to use wp_redirect instead of the
> default wp_remote_post.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Wed May  4 21:58:36 2011
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 4 May 2011 17:58:36 -0400
Subject: [wp-hackers] Best practices for hunting depreciated functions.
In-Reply-To: <BANLkTimp_FhEiqYX+nY9KCmhERWWNTR3CQ@mail.gmail.com>
References: <BANLkTin3pHvx9gHzt8NFCa4BsC1yXLDsnA@mail.gmail.com>
	<BANLkTik7u-_OZKq0iNq+uTUKPmT2t5X4zA@mail.gmail.com>
	<BANLkTimp_FhEiqYX+nY9KCmhERWWNTR3CQ@mail.gmail.com>
Message-ID: <BANLkTi=RLAoEYHDJoo37q5BtVzXrcLwH4w@mail.gmail.com>

Since enabling WP_DEBUG in its various forms I've had to deal with this a
lot. Here are my recommendations:


   - Use debug bar and Debug Bar Extender plugins, they are good looking and
   super useful and easy to install/use.
   - When you find WP_DEBUG errors in other people's plugins you should
   email the developer and explain how they can fix it. This can be time
   consuming as the issues involved aren't simple if the dev isn't aware of
   WP_DEBUG. On the bright side it is one of the easiest bugs they can fix :)
   - In the meantime, if a notice/error is persistent just fix it yourself
   on your copy of the plugin. It usually only takes 15 seconds to fix a
   warning once you have identified it.
   - Use a full IDE like Netbeans (which many people prefer to Eclipse
   though both have the same basic benefits) to track down usages of functions
   to find the one mentioned in the error. Like Peter said the function in the
   error is often not the location, so read the message carefully and look for
   the deprecated function instead of the file where the error was generated.
   - If your IDE can't find usages of the function in question  (or if it
   doesn't have a 'find usages' tool) then do a "search all files" for the name
   of the function without brackets. Often this will uncover instances where
   the function was registered to a hook but not called. This is good to
   remember ANY time you are looking for function usages: WP is loaded with
   functions used hundreds of times but never officially called by php code
   with ().
   - In the end the only solution sometimes is to do the bulk of your coding
   with problematic plugins deactivated. If the plugin's proper functioning is
   vital to your project then once you are done most of your coding/debugging
   you can disable WP_DEBUG and re-enable the plugin, then test the actual
   effects of the plugin to ensure it still works.


-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org

From burobjorn at gmail.com  Wed May  4 22:18:26 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Thu, 05 May 2011 00:18:26 +0200
Subject: [wp-hackers] Ticket #15989  has had patch for 3 months,
	but is not in core yet?
Message-ID: <4DC1D0B2.5070404@gmail.com>

I was hoping to alter the starting point from which an image is cropped. 
AFAIK there is no filter for this, yet a patch is available which would 
add a filter to make this possible if I understand this ticket 
correctly: http://core.trac.wordpress.org/ticket/15989

What needs to be done to get this into 3.2? Or is there another way to 
change the crop starting point?

-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Werkdagen:
Van maandag t/m donderdag vanaf 10:00
Vrijdag is voor experimenteren en eigen projecten.

Postbus 14145
3508 SE Utrecht
The Netherlands

tel: +31 6 49 74 78 70
http://www.burobjorn.nl

From jon at lionsgoroar.co.uk  Wed May  4 22:18:53 2011
From: jon at lionsgoroar.co.uk (Jon Cave)
Date: Wed, 4 May 2011 23:18:53 +0100
Subject: [wp-hackers] WP Cron Bug
In-Reply-To: <BANLkTi==Z5duK8cJokJ3JTGCKtnuEL3GDA@mail.gmail.com>
References: <BANLkTikFHyjKKEt3MKD6Q1mx+6=BzHz=oQ@mail.gmail.com>
	<BANLkTi=H9hc9Ow+f8On-5a4o1cBgr8TRSw@mail.gmail.com>
	<BANLkTimP4mh9s-4LvtZ3nW_xmhbAyHteeg@mail.gmail.com>
	<BANLkTinWD4XnkueaaSs_UndOrtgDd+oV+w@mail.gmail.com>
	<BANLkTi==Z5duK8cJokJ3JTGCKtnuEL3GDA@mail.gmail.com>
Message-ID: <BANLkTikZeArmCKQqn6hh5yythzGJvTirww@mail.gmail.com>

On Wed, May 4, 2011 at 10:52 PM, Chip Bennett <chip at chipbennett.net> wrote:
> The alternate cron method *is* wp_redirect. The http loopback is the default
> cron method.

True, but I wasn't saying otherwise.

What I was pointing out is the defining ALTERNATE_WP_CRON as false
will not do anything differently. You have to define it as true (or
something that's truthy) to use wp_redirect.

From chip at chipbennett.net  Wed May  4 22:21:28 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 4 May 2011 17:21:28 -0500
Subject: [wp-hackers] WP Cron Bug
In-Reply-To: <BANLkTikZeArmCKQqn6hh5yythzGJvTirww@mail.gmail.com>
References: <BANLkTikFHyjKKEt3MKD6Q1mx+6=BzHz=oQ@mail.gmail.com>
	<BANLkTi=H9hc9Ow+f8On-5a4o1cBgr8TRSw@mail.gmail.com>
	<BANLkTimP4mh9s-4LvtZ3nW_xmhbAyHteeg@mail.gmail.com>
	<BANLkTinWD4XnkueaaSs_UndOrtgDd+oV+w@mail.gmail.com>
	<BANLkTi==Z5duK8cJokJ3JTGCKtnuEL3GDA@mail.gmail.com>
	<BANLkTikZeArmCKQqn6hh5yythzGJvTirww@mail.gmail.com>
Message-ID: <BANLkTi=ap5qZTqmtOSZeabtZwrHQZ8PXWA@mail.gmail.com>

Oh, right; sorry. I'm with you now.

But if the OP is getting wp-cron.php?doing-cron, ALTERNATE_WP_CRON must be
set to true, so I was showing him how to *change* it. (Of course, he could
alternately just delete that definition altogether.)

Chip

On Wed, May 4, 2011 at 5:18 PM, Jon Cave <jon at lionsgoroar.co.uk> wrote:

> On Wed, May 4, 2011 at 10:52 PM, Chip Bennett <chip at chipbennett.net>
> wrote:
> > The alternate cron method *is* wp_redirect. The http loopback is the
> default
> > cron method.
>
> True, but I wasn't saying otherwise.
>
> What I was pointing out is the defining ALTERNATE_WP_CRON as false
> will not do anything differently. You have to define it as true (or
> something that's truthy) to use wp_redirect.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jon at lionsgoroar.co.uk  Wed May  4 22:27:43 2011
From: jon at lionsgoroar.co.uk (Jon Cave)
Date: Wed, 4 May 2011 23:27:43 +0100
Subject: [wp-hackers] WP Cron Bug
In-Reply-To: <BANLkTi=ap5qZTqmtOSZeabtZwrHQZ8PXWA@mail.gmail.com>
References: <BANLkTikFHyjKKEt3MKD6Q1mx+6=BzHz=oQ@mail.gmail.com>
	<BANLkTi=H9hc9Ow+f8On-5a4o1cBgr8TRSw@mail.gmail.com>
	<BANLkTimP4mh9s-4LvtZ3nW_xmhbAyHteeg@mail.gmail.com>
	<BANLkTinWD4XnkueaaSs_UndOrtgDd+oV+w@mail.gmail.com>
	<BANLkTi==Z5duK8cJokJ3JTGCKtnuEL3GDA@mail.gmail.com>
	<BANLkTikZeArmCKQqn6hh5yythzGJvTirww@mail.gmail.com>
	<BANLkTi=ap5qZTqmtOSZeabtZwrHQZ8PXWA@mail.gmail.com>
Message-ID: <BANLkTimqwxAqS-MBtGCXv2qqNJMjZ6DFzQ@mail.gmail.com>

On Wed, May 4, 2011 at 11:21 PM, Chip Bennett <chip at chipbennett.net> wrote:
> But if the OP is getting wp-cron.php?doing-cron, ALTERNATE_WP_CRON must be
> set to true, so I was showing him how to *change* it. (Of course, he could
> alternately just delete that definition altogether.)

Thought you were trying to get him to set it to true.
Misunderstandings from both of us :)

Currently the OP doesn't have it defined or it's false since the
problem is with fopen which is used by wp_remote_post (depending on
the transport used). wp_redirect just uses PHP header() to redirect
away whilst wp-cron.php is included. Both methods use ?doing_wp_cron
query string at some point.

From jane at automattic.com  Wed May  4 23:04:44 2011
From: jane at automattic.com (Jane Wells)
Date: Wed, 04 May 2011 19:04:44 -0400
Subject: [wp-hackers] Ticket #15989  has had patch for 3 months,
 but is not in core yet?
In-Reply-To: <4DC1D0B2.5070404@gmail.com>
References: <4DC1D0B2.5070404@gmail.com>
Message-ID: <4DC1DB8C.3020605@automattic.com>

On 5/4/11 6:18 PM, Bjorn Wijers wrote:
> I was hoping to alter the starting point from which an image is 
> cropped. AFAIK there is no filter for this, yet a patch is available 
> which would add a filter to make this possible if I understand this 
> ticket correctly: http://core.trac.wordpress.org/ticket/15989
>
> What needs to be done to get this into 3.2? Or is there another way to 
> change the crop starting point?
>
It's too late for 3.2, which is past feature freeze. When scope was 
decided at the beginning of the cycle, this was not included. When we 
start deciding on scope for 3.3 it can be lobbied for then.
j

From otto at ottodestruct.com  Thu May  5 01:25:31 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 4 May 2011 20:25:31 -0500
Subject: [wp-hackers] Ticket #15989 has had patch for 3 months,
 but is not in core yet?
In-Reply-To: <4DC1DB8C.3020605@automattic.com>
References: <4DC1D0B2.5070404@gmail.com> <4DC1DB8C.3020605@automattic.com>
Message-ID: <BANLkTim4Q=QXdGxS57+4kr9wA8OVB2ROuw@mail.gmail.com>

On Wed, May 4, 2011 at 6:04 PM, Jane Wells <jane at automattic.com> wrote:
> On 5/4/11 6:18 PM, Bjorn Wijers wrote:
>>
>> I was hoping to alter the starting point from which an image is cropped.
>> AFAIK there is no filter for this, yet a patch is available which would add
>> a filter to make this possible if I understand this ticket correctly:
>> http://core.trac.wordpress.org/ticket/15989
>>
>> What needs to be done to get this into 3.2? Or is there another way to
>> change the crop starting point?
>>
> It's too late for 3.2, which is past feature freeze. When scope was decided
> at the beginning of the cycle, this was not included. When we start deciding
> on scope for 3.3 it can be lobbied for then.
> j

Just wanted to note, I'm totally with Mark's comment on that ticket.
Just-in-time resizing is spiffy and fun. Think we need to lobby for
that in 3.3, include fixes for this sort of thing as part of it.

-Otto

From thom.allen at gmail.com  Thu May  5 02:30:38 2011
From: thom.allen at gmail.com (Thom Allen)
Date: Wed, 4 May 2011 20:30:38 -0600
Subject: [wp-hackers] I want to work on an open ticket
Message-ID: <BANLkTimJ3wQiuTSEncvFeei760vDMQanVA@mail.gmail.com>

Hello all,

I haven't worked on an open ticket yet, but there is one that I want to help
get to the decision/fixed stage.

http://core.trac.wordpress.org/ticket/14767

The ticket shows pushed to future release, and hasn't been updated in 5
months. What is the process for working on a ticket in that state?

Thanks!

--Thom

From czarte at gmail.com  Thu May  5 10:02:22 2011
From: czarte at gmail.com (czArte de la Praga)
Date: Thu, 5 May 2011 12:02:22 +0200
Subject: [wp-hackers] try to use offset argument in get_page function
Message-ID: <BANLkTim=qHkgJpTTfqkMXUFcA8u54wkCow@mail.gmail.com>

Hi, I`m trying use the get_page function with argument offset and that don`t
working. Am I doing something wrong?

     $args = array(
    'child_of' => 738,
    'sort_order' => 'DESC',
    'sort_column' => 'ID',
    'hierarchical' => 1,
    'parent' => -1,
    'offset' => $offset,
    'post_type' => 'page',
    'post_status' => 'publish'
);
     $pages = get_pages($args);

WP Version 3.0.4

plugins:
AJAX Login Widget++ - 1.0.1
Content and Excerpt Word Limit - 1.0
CSV Importer - 0.3.3
eShop for Wordpress - 5.0.4
Google Analyticator - 6.1.1
Google XML Sitemaps - 3.2.4
Lightbox 2 - 2.9.2
Live Blogroll - 0.1
Live Sidebar - 0.1
Newsletter - 1.5.9
Share On Facebook - 1.6
ThickBox - 1.5
WordPress Importer - 0.2
WP-Paginate - 1.2.2

From lynne.pope at gmail.com  Fri May  6 04:19:54 2011
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri, 6 May 2011 16:19:54 +1200
Subject: [wp-hackers] Time to change GUID to UUID?
Message-ID: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>

Last year I sought help for a GUID issue that was causing problems on a
client site. I've run into problems again, with another site. GUID's are
supposed to be unchanging, globally unique identifiers. A combination of the
way WordPress GUID's have been written & changed over the years, along with
myriads of, "how to change your domain name via SQL when moving WordPress"
posts around the blogosphere, have resulted in GUID's that are far from
unique.

In this database I'm looking at now, there are hundreds of localhost GUID's.
No way are they globally unique. Worse, the domain has changed so feed
readers haven't a hope of knowing if these have been delivered previously.
There are also GUID's that are duplicated and more, due to the blog changing
domains over the years, and the domain part of the GUID being changed
inadvertently with global SQL updates.
Then it has the page GUID's that were generated with just the site_url due
to the auto-draft bug in 3.1.
There's GUID's shown as example.com/?page_id=123,   example.com/?post_id=123,
and   example.com/?p=123 . For some reason, Opera seems to pick up the 123
and treat these as if they were the same content (they are not).   There's
even example.com/2004/123 and example.com/2007/123.
It's a right royal mess but the problem is - their GUID's are not unique,
even within their own domain.

Once upon a time, people didn't often change domains. Having a domain-based
GUID wasn't so silly back then. Today, they do change domains and - worse
still - a lot of inexperienced people run SQL commands to change the URI
globally when moving their sites.

With 3.2 moving to MySQL5 I can't see any reason why GUID's can't be changed
to UUID.

This ticket has been hanging around for 3 years now and was closed with
"won't fix" 6 months ago. http://core.trac.wordpress.org/ticket/6492

Does anyone know why this isn't being changed? Are there only a very few of
us that see non-unique GUID's?

Lynne

From eric at eam.me  Fri May  6 14:16:58 2011
From: eric at eam.me (Eric Mann)
Date: Fri, 6 May 2011 07:16:58 -0700
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
References: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
Message-ID: <BANLkTi=uNNXbadYe8TBf9f_F1L4rktjuAA@mail.gmail.com>

The feature set for 3.2 is already set, but I'd be interested in seeing this
revisited for 3.3 in the next development cycle.

On Thu, May 5, 2011 at 9:19 PM, Lynne Pope <lynne.pope at gmail.com> wrote:

> Last year I sought help for a GUID issue that was causing problems on a
> client site. I've run into problems again, with another site. GUID's are
> supposed to be unchanging, globally unique identifiers. A combination of
> the
> way WordPress GUID's have been written & changed over the years, along with
> myriads of, "how to change your domain name via SQL when moving WordPress"
> posts around the blogosphere, have resulted in GUID's that are far from
> unique.
>
> In this database I'm looking at now, there are hundreds of localhost
> GUID's.
> No way are they globally unique. Worse, the domain has changed so feed
> readers haven't a hope of knowing if these have been delivered previously.
> There are also GUID's that are duplicated and more, due to the blog
> changing
> domains over the years, and the domain part of the GUID being changed
> inadvertently with global SQL updates.
> Then it has the page GUID's that were generated with just the site_url due
> to the auto-draft bug in 3.1.
> There's GUID's shown as example.com/?page_id=123,
> example.com/?post_id=123,
> and   example.com/?p=123 . For some reason, Opera seems to pick up the 123
> and treat these as if they were the same content (they are not).   There's
> even example.com/2004/123 and example.com/2007/123.
> It's a right royal mess but the problem is - their GUID's are not unique,
> even within their own domain.
>
> Once upon a time, people didn't often change domains. Having a domain-based
> GUID wasn't so silly back then. Today, they do change domains and - worse
> still - a lot of inexperienced people run SQL commands to change the URI
> globally when moving their sites.
>
> With 3.2 moving to MySQL5 I can't see any reason why GUID's can't be
> changed
> to UUID.
>
> This ticket has been hanging around for 3 years now and was closed with
> "won't fix" 6 months ago. http://core.trac.wordpress.org/ticket/6492
>
> Does anyone know why this isn't being changed? Are there only a very few of
> us that see non-unique GUID's?
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Fri May  6 17:14:59 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 6 May 2011 13:14:59 -0400
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
References: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
Message-ID: <BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>

On Fri, May 6, 2011 at 12:19 AM, Lynne Pope <lynne.pope at gmail.com> wrote:

> Does anyone know why this isn't being changed? Are there only a very few of
> us that see non-unique GUID's?


It's definitely been considered, especially since we've now bumped our
required versions. MySQL UUIDs, though, have issues when it comes to
replication. Ultimately, a post's GUID can't be considered globally unique.
Just unique across the site/network. Given that GUIDs are only used for
feeds, this is acceptable. If a plugin may wish to leverage their
"GUID-ness" for something else, then your mileage may vary.

Nacin

From otto at ottodestruct.com  Fri May  6 17:50:06 2011
From: otto at ottodestruct.com (Otto)
Date: Fri, 6 May 2011 12:50:06 -0500
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>
References: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
	<BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>
Message-ID: <BANLkTimoev75Lfrb_yMCN8xOSTFTHqM-Mw@mail.gmail.com>

On Fri, May 6, 2011 at 12:14 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> It's definitely been considered, especially since we've now bumped our
> required versions. MySQL UUIDs, though, have issues when it comes to
> replication. Ultimately, a post's GUID can't be considered globally unique.
> Just unique across the site/network. Given that GUIDs are only used for
> feeds, this is acceptable. If a plugin may wish to leverage their
> "GUID-ness" for something else, then your mileage may vary.

I investigated the replication issue a while back, and figured out
that they don't have issues as long as you treat them as strings.

Meaning that if you do something like: UPDATE wp_posts SET guid =
UUID(); then that won't replicate right. The UUID() function call is
passed along to the replicated boxes and thus each one will generate
it's own UUID().

However, if you do a SELECT UUID();, then take the string you get back
and do your insert/update with that string, then it replicates just
fine, because it's just a string, not a function call.

-Otto

From lynne.pope at gmail.com  Sat May  7 14:51:26 2011
From: lynne.pope at gmail.com (Lynne Pope)
Date: Sun, 8 May 2011 02:51:26 +1200
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>
References: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
	<BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>
Message-ID: <BANLkTimfwD6Oxjq0OURLtoKwtqXH9uZbGA@mail.gmail.com>

On Sat, May 7, 2011 at 5:14 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Fri, May 6, 2011 at 12:19 AM, Lynne Pope <lynne.pope at gmail.com> wrote:
>
> > Does anyone know why this isn't being changed? Are there only a very few
> of
> > us that see non-unique GUID's?
>
>
> It's definitely been considered, especially since we've now bumped our
> required versions. MySQL UUIDs, though, have issues when it comes to
> replication. Ultimately, a post's GUID can't be considered globally unique.
> Just unique across the site/network. Given that GUIDs are only used for
> feeds, this is acceptable. If a plugin may wish to leverage their
> "GUID-ness" for something else, then your mileage may vary.
>
> Nacin
>

The problem is, as things stand, they are not unique across even a site.
It's not difficult to get duplicate GUID's within a site. However, also
consider this (it's a real world scenario).
Person A has a WordPress blog on example.com. The blog is moved to
example2.com and example.com is abandoned.
Person B gets their new domain, example.com. B has no clue that the domain
has ever had WordPress installed. B starts a blog on example.com.

Person A has had GUID's of http://example.com/?p=123
Person B has GUID's of http://example.com/?p=123

These are not unique GUID's, even to that domain. They represent different
content with different owners.

Currently, the only way to avoid this happening is for someone to physically
delete all content from a domain and keep their site around long enough for
the feed readers to remove the content from their cache.

I don't mean to come across as though I am beating a dead horse however Otto
is right about the replication issue and, ultimately, I can see great
benefits (and reduction of confusion for users) in moving to real UUID's.
I hope that this will be reconsidered.

Lynne

From cclarkson at htcomp.net  Sat May  7 15:58:25 2011
From: cclarkson at htcomp.net (Charles K. Clarkson)
Date: Sat, 07 May 2011 10:58:25 -0500
Subject: [wp-hackers] I want to work on an open ticket
In-Reply-To: <BANLkTimJ3wQiuTSEncvFeei760vDMQanVA@mail.gmail.com>
References: <BANLkTimJ3wQiuTSEncvFeei760vDMQanVA@mail.gmail.com>
Message-ID: <4DC56C21.5080705@htcomp.net>

On 5/4/2011 9:30 PM, Thom Allen wrote:

> What is the process for working on a ticket in that state?

Jump in with both feet. If you step on any toes, people will
let you know. Anything you add there will be sent to anyone
subscribed to that ticket.

So, jump in and thanks for helping.


Charles Clarkson
--
Mobile Home Investor
Free Market Advocate
Programmer

I'm not really a smart person. I just play one on the Internet.

Stephenville, TX
http://twitter.com/CharlesClarkson
+1 (254) 968-8328

From cclarkson at htcomp.net  Sat May  7 16:01:39 2011
From: cclarkson at htcomp.net (Charles K. Clarkson)
Date: Sat, 07 May 2011 11:01:39 -0500
Subject: [wp-hackers] try to use offset argument in get_page function
In-Reply-To: <BANLkTim=qHkgJpTTfqkMXUFcA8u54wkCow@mail.gmail.com>
References: <BANLkTim=qHkgJpTTfqkMXUFcA8u54wkCow@mail.gmail.com>
Message-ID: <4DC56CE3.30206@htcomp.net>

On 5/5/2011 5:02 AM, czArte de la Praga wrote:

 > Am I doing something wrong?
>
>       $args = array(
>      'child_of' =>  738,
>      'sort_order' =>  'DESC',
>      'sort_column' =>  'ID',
>      'hierarchical' =>  1,
>      'parent' =>  -1,
>      'offset' =>  $offset,

You didn't state what is in $offset, but this email list may not
be the best place to ask. Try using the WordPress Support Forums
for this question.

http://wordpress.org/support/



HTH,

Charles Clarkson
--
Mobile Home Investor
Free Market Advocate
Programmer

I'm not really a smart person. I just play one on the Internet.

Stephenville, TX
http://twitter.com/CharlesClarkson
+1 (254) 968-8328

From barry at automattic.com  Sat May  7 18:43:56 2011
From: barry at automattic.com (Barry Abrahamson)
Date: Sat, 7 May 2011 13:43:56 -0500
Subject: [wp-hackers] Where'd the WP.com themes repo go?
In-Reply-To: <BANLkTikB=TUX5oAdi61hxSasYLiR=XDbCw@mail.gmail.com>
References: <BANLkTikB=TUX5oAdi61hxSasYLiR=XDbCw@mail.gmail.com>
Message-ID: <7ADAAB01-322F-4ACB-B3B3-89E81D8D039B@automattic.com>


On May 4, 2011, at 10:22 AM, Doug Stewart wrote:

> http://svn.automattic.com/wpcom-themes was working up until a couple
> of days ago. Now?
> 
> 404'd!

I fixed the redirect.  Sorry about that. 

--
Barry Abrahamson | Systems Wrangler | Automattic
Blog: http://barry.wordpress.com


From burobjorn at gmail.com  Sat May  7 18:51:08 2011
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Sat, 07 May 2011 20:51:08 +0200
Subject: [wp-hackers] Ticket #15989  has had patch for 3 months,
 but is not in core yet?
In-Reply-To: <4DC1DB8C.3020605@automattic.com>
References: <4DC1D0B2.5070404@gmail.com> <4DC1DB8C.3020605@automattic.com>
Message-ID: <4DC5949C.60103@gmail.com>

Hi Jane et al,

Thanks for the quick reply. I understand that it won't be part of 3.2. 
Could you or somebody else tell me what needs to be done to make sure 
this gets into 3.3? Or is the patch as it stands ok and just needs 
updating with trunk?

grtz
BjornW


On 05/05/2011 01:04 AM, Jane Wells wrote:
> On 5/4/11 6:18 PM, Bjorn Wijers wrote:
>> I was hoping to alter the starting point from which an image is
>> cropped. AFAIK there is no filter for this, yet a patch is available
>> which would add a filter to make this possible if I understand this
>> ticket correctly: http://core.trac.wordpress.org/ticket/15989
>>
>> What needs to be done to get this into 3.2? Or is there another way to
>> change the crop starting point?
>>
> It's too late for 3.2, which is past feature freeze. When scope was
> decided at the beginning of the cycle, this was not included. When we
> start deciding on scope for 3.3 it can be lobbied for then.
> j
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From eric at eam.me  Sun May  8 14:38:47 2011
From: eric at eam.me (Eric Mann)
Date: Sun, 8 May 2011 07:38:47 -0700
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTimfwD6Oxjq0OURLtoKwtqXH9uZbGA@mail.gmail.com>
References: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
	<BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>
	<BANLkTimfwD6Oxjq0OURLtoKwtqXH9uZbGA@mail.gmail.com>
Message-ID: <BANLkTinX4dqZnX=o0YmsAf3bDV1o0+H2Og@mail.gmail.com>

Lynn, using your example the only real way to guarantee global uniqueness
for the GUIDs would be to use some kind of external service that keeps
track.  I say this, because even hashes can (theoretically) repeat for
different content.

Some suggestions I've seen for making GUIDs into real GUIDs (in this thread
and in the past:

   - Use the UUID feature of MySQL
   - Hash the URL of the post
   - Hash the URL of the post with a hash of the content
   - Hash the URL of the post with the site name as a salt

In isolation, none of these can be guaranteed as unique against other sites.
 If we were to use one of any of them, we'd still potentially run into your
problem of person B taking over an abandoned site and ending up with a GUID
that duplicates a value used by the previous site owner.  True, it'd be a
rare case, but a real possibility.

I agree that we should make GUIDs resemble something other than a URL and
that they should be unique across a site ... but do we also want them to be
unique across an entire multisite network?  Across all WordPress blogs?  If
we want to make them unique between different sites ... what's the best way
to do that?

On Sat, May 7, 2011 at 7:51 AM, Lynne Pope <lynne.pope at gmail.com> wrote:

> On Sat, May 7, 2011 at 5:14 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
> > On Fri, May 6, 2011 at 12:19 AM, Lynne Pope <lynne.pope at gmail.com>
> wrote:
> >
> > > Does anyone know why this isn't being changed? Are there only a very
> few
> > of
> > > us that see non-unique GUID's?
> >
> >
> > It's definitely been considered, especially since we've now bumped our
> > required versions. MySQL UUIDs, though, have issues when it comes to
> > replication. Ultimately, a post's GUID can't be considered globally
> unique.
> > Just unique across the site/network. Given that GUIDs are only used for
> > feeds, this is acceptable. If a plugin may wish to leverage their
> > "GUID-ness" for something else, then your mileage may vary.
> >
> > Nacin
> >
>
> The problem is, as things stand, they are not unique across even a site.
> It's not difficult to get duplicate GUID's within a site. However, also
> consider this (it's a real world scenario).
> Person A has a WordPress blog on example.com. The blog is moved to
> example2.com and example.com is abandoned.
> Person B gets their new domain, example.com. B has no clue that the domain
> has ever had WordPress installed. B starts a blog on example.com.
>
> Person A has had GUID's of http://example.com/?p=123
> Person B has GUID's of http://example.com/?p=123
>
> These are not unique GUID's, even to that domain. They represent different
> content with different owners.
>
> Currently, the only way to avoid this happening is for someone to
> physically
> delete all content from a domain and keep their site around long enough for
> the feed readers to remove the content from their cache.
>
> I don't mean to come across as though I am beating a dead horse however
> Otto
> is right about the replication issue and, ultimately, I can see great
> benefits (and reduction of confusion for users) in moving to real UUID's.
> I hope that this will be reconsidered.
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lynne.pope at gmail.com  Mon May  9 00:18:08 2011
From: lynne.pope at gmail.com (Lynne Pope)
Date: Mon, 9 May 2011 12:18:08 +1200
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTinX4dqZnX=o0YmsAf3bDV1o0+H2Og@mail.gmail.com>
References: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
	<BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>
	<BANLkTimfwD6Oxjq0OURLtoKwtqXH9uZbGA@mail.gmail.com>
	<BANLkTinX4dqZnX=o0YmsAf3bDV1o0+H2Og@mail.gmail.com>
Message-ID: <BANLkTi=HqvZ5Mh6c=diHG0R8LWRTp45aXA@mail.gmail.com>

On Mon, May 9, 2011 at 2:38 AM, Eric Mann <eric at eam.me> wrote:

> Lynn, using your example the only real way to guarantee global uniqueness
> for the GUIDs would be to use some kind of external service that keeps
> track.  I say this, because even hashes can (theoretically) repeat for
> different content.
>
> Some suggestions I've seen for making GUIDs into real GUIDs (in this thread
> and in the past:
>
>   - Use the UUID feature of MySQL
>   - Hash the URL of the post
>   - Hash the URL of the post with a hash of the content
>   - Hash the URL of the post with the site name as a salt
>
> In isolation, none of these can be guaranteed as unique against other
> sites.
>  If we were to use one of any of them, we'd still potentially run into your
> problem of person B taking over an abandoned site and ending up with a GUID
> that duplicates a value used by the previous site owner.  True, it'd be a
>  rare case, but a real possibility.


The example I gave is what happens now. Basing the GUID on the domain name
is far from unique.
Creating a string from a salted URI + timestamp + cryptographic quality
highly-random number is far more likely to give practical uniqueness. UUID's
can never be absolutely unique across all of time and space but they can get
pretty close.

Lynne

From dougal at gunters.org  Mon May  9 13:29:21 2011
From: dougal at gunters.org (Dougal Campbell)
Date: Mon, 09 May 2011 09:29:21 -0400
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTi=HqvZ5Mh6c=diHG0R8LWRTp45aXA@mail.gmail.com>
References: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
	<BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>
	<BANLkTimfwD6Oxjq0OURLtoKwtqXH9uZbGA@mail.gmail.com>
	<BANLkTinX4dqZnX=o0YmsAf3bDV1o0+H2Og@mail.gmail.com>
	<BANLkTi=HqvZ5Mh6c=diHG0R8LWRTp45aXA@mail.gmail.com>
Message-ID: <4DC7EC31.20403@gunters.org>

On May 8 2011 8:18 PM, Lynne Pope wrote:
> The example I gave is what happens now. Basing the GUID on the domain 
> name is far from unique. Creating a string from a salted URI + 
> timestamp + cryptographic quality highly-random number is far more 
> likely to give practical uniqueness. UUID's can never be absolutely 
> unique across all of time and space but they can get pretty close.

There's plenty of factors available to help increase the entropy of a 
GUID/UUID, and since you only need to compute them at save time, there's 
not really any harm in making them arbitrarily complex. Something like 
this would be reasonably random and unique:

  $uid = sha1 ( microtime() . AUTH_SALT . DB_NAME . $post->post_title . 
$post->ID )

The chances of any two of those factors being the same between sites are 
pretty slim to start with Worst case scenario is two sites with no 
explicit AUTH_SALT set, same DB_NAME (chances low), "Hello World" post 
with ID=1. But when you toss microtime() into the mix, you're talking 
about infinitesimal chances of a collision. The main chance of collision 
would probably be from the hash function itself at that point.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From matt at sivel.net  Mon May  9 13:40:29 2011
From: matt at sivel.net (Matt Martz)
Date: Mon, 9 May 2011 08:40:29 -0500
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <4DC7EC31.20403@gunters.org>
References: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
	<BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>
	<BANLkTimfwD6Oxjq0OURLtoKwtqXH9uZbGA@mail.gmail.com>
	<BANLkTinX4dqZnX=o0YmsAf3bDV1o0+H2Og@mail.gmail.com>
	<BANLkTi=HqvZ5Mh6c=diHG0R8LWRTp45aXA@mail.gmail.com>
	<4DC7EC31.20403@gunters.org>
Message-ID: <BANLkTindum76vsdF_9yi7raAW97nsN695w@mail.gmail.com>

On Mon, May 9, 2011 at 8:29 AM, Dougal Campbell <dougal at gunters.org> wrote:
> $uid = sha1 ( microtime() . AUTH_SALT . DB_NAME . $post->post_title .
> $post->ID )

While it is not sha1, the wp_hash function, will create a hash based
off of one of the salts.  Might as well use functions that already
exist to perform tasks such as this.

Not that I am weighing in on this topic, just including pertinent
information where I see it :)

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From eric at eam.me  Mon May  9 14:45:44 2011
From: eric at eam.me (Eric Mann)
Date: Mon, 9 May 2011 07:45:44 -0700
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTindum76vsdF_9yi7raAW97nsN695w@mail.gmail.com>
References: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
	<BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>
	<BANLkTimfwD6Oxjq0OURLtoKwtqXH9uZbGA@mail.gmail.com>
	<BANLkTinX4dqZnX=o0YmsAf3bDV1o0+H2Og@mail.gmail.com>
	<BANLkTi=HqvZ5Mh6c=diHG0R8LWRTp45aXA@mail.gmail.com>
	<4DC7EC31.20403@gunters.org>
	<BANLkTindum76vsdF_9yi7raAW97nsN695w@mail.gmail.com>
Message-ID: <BANLkTimiFjh04ZWToXa6jpJ_Q7SbivGYHQ@mail.gmail.com>

Matt, great suggestion!

wp_hash() uses MD5 by default ... any reason to use SHA1 over MD5 for this
purpose?

If not, we could use $uid = wp_hash( microtime() . DB_NAME .
$post->post_title . $post->ID );

Or, perhaps even better, use a filter so that individual sites can override
it?


On Mon, May 9, 2011 at 6:40 AM, Matt Martz <matt at sivel.net> wrote:

> On Mon, May 9, 2011 at 8:29 AM, Dougal Campbell <dougal at gunters.org>
> wrote:
> > $uid = sha1 ( microtime() . AUTH_SALT . DB_NAME . $post->post_title .
> > $post->ID )
>
> While it is not sha1, the wp_hash function, will create a hash based
> off of one of the salts.  Might as well use functions that already
> exist to perform tasks such as this.
>
> Not that I am weighing in on this topic, just including pertinent
> information where I see it :)
>
> --
> Matt Martz
> matt at sivel.net
> http://sivel.net/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From banago at gmail.com  Mon May  9 16:26:53 2011
From: banago at gmail.com (Baki Goxhaj)
Date: Mon, 9 May 2011 18:26:53 +0200
Subject: [wp-hackers] title_li => redundant on lists
Message-ID: <BANLkTikktYT96QLAc1D703-Oz5-vPh+JmA@mail.gmail.com>

Hi hackers,

I find It very disturbing having to declare "title_li" as blank every time I
use wp_list_pages and wp_list_categories functions. It is a great feature to
have there, but having that on by default is a real pain, keeping in mind
that those two functions are very much used for menus and don't need a
title.

Is there a chance to turn "title_li" them off on the next version or so?

Kindly,

Baki Goxhaj
www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>

From cclarkson at htcomp.net  Mon May  9 17:24:47 2011
From: cclarkson at htcomp.net (Charles K. Clarkson)
Date: Mon, 09 May 2011 12:24:47 -0500
Subject: [wp-hackers] title_li => redundant on lists
In-Reply-To: <BANLkTikktYT96QLAc1D703-Oz5-vPh+JmA@mail.gmail.com>
References: <BANLkTikktYT96QLAc1D703-Oz5-vPh+JmA@mail.gmail.com>
Message-ID: <4DC8235F.8020409@htcomp.net>

On 5/9/2011 11:26 AM, Baki Goxhaj wrote:

> Is there a chance to turn "title_li" them off on the next version or so?

That would result in a *lot* web sites getting something very unexpected.


Using wp_parse_args() it is possible to quickly set up your own versions
of wp_list_pages() and wp_list_categories() with defaults of your own
choosing.

// Untested code
function custom_wp_list_pages( $args = '' ) {

     wp_list_pages( wp_parse_args( $args,  array(
         // Add your defaults here:
         'title_li' => '',
     ) ) );
}

Your new defaults will override the existing defaults.


HTH,

Charles Clarkson
--
Mobile Home Investor
Free Market Advocate
Programmer

I'm not really a smart person. I just play one on the Internet.

Stephenville, TX
http://twitter.com/CharlesClarkson
+1 (254) 968-8328

From johnjamesjacoby at me.com  Mon May  9 22:19:05 2011
From: johnjamesjacoby at me.com (John James Jacoby)
Date: Mon, 09 May 2011 18:19:05 -0400
Subject: [wp-hackers] Complicated Rewrites In register_custom_post_type
In-Reply-To: <BANLkTindpOj-Paz1D46AyCwbL2PHpQJv0g@mail.gmail.com>
References: <BANLkTindpOj-Paz1D46AyCwbL2PHpQJv0g@mail.gmail.com>
Message-ID: <4DC86859.2000406@me.com>

Rewrite will take whatever you give it. We use a custom front on the 
bbPress plugin.

Here: 
http://bbpress.trac.wordpress.org/browser/branches/plugin/bbpress.php#L291

And here: 
http://bbpress.trac.wordpress.org/browser/branches/plugin/bbpress.php#L814

-JJJ

> ------------------------------------------------------------------------
>
> 	Alex Andrews <mailto:awgandrews at gmail.com>
> May 4, 2011 8:47 AM
>
>
> Hi all,
>
> Registering a custom post type one uses 'rewrite' to setup simple
> re-write structures, using slug to simply define where the archive is
> then where our posts of that type therefore will be. But what if
> someone wanted something more complicated? Apparently we can pass an
> array to slug, but how does this work? Say we wanted to pass some
> clever query variables along and so on or perhaps have /x/y/z with a
> custom front etc. Is there any codex on this or a good tutorial?
>
> Thanks in advance,
>
> All the best,
>
> Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From awgandrews at gmail.com  Mon May  9 22:34:21 2011
From: awgandrews at gmail.com (Alex Andrews)
Date: Mon, 9 May 2011 23:34:21 +0100
Subject: [wp-hackers] Complicated Rewrites In register_custom_post_type
In-Reply-To: <4DC86859.2000406@me.com>
References: <BANLkTindpOj-Paz1D46AyCwbL2PHpQJv0g@mail.gmail.com>
	<4DC86859.2000406@me.com>
Message-ID: <BANLkTikCQi1S9XwoRbvZGZKoAa-tJYRvQg@mail.gmail.com>

Thanks very much for this - I've employed this technique in a plugin I
wrote, but I wondered if there is a newer version of it. In addition, where
in the plugin do you supplement WP_Query? - I guess you don't need to.

All the best.

Alex

On 9 May 2011 23:19, John James Jacoby <johnjamesjacoby at me.com> wrote:

> Rewrite will take whatever you give it. We use a custom front on the
> bbPress plugin.
>
> Here:
> http://bbpress.trac.wordpress.org/browser/branches/plugin/bbpress.php#L291
>
> And here:
> http://bbpress.trac.wordpress.org/browser/branches/plugin/bbpress.php#L814
>
> -JJJ
>
>  ------------------------------------------------------------------------
>>
>>        Alex Andrews <mailto:awgandrews at gmail.com>
>> May 4, 2011 8:47 AM
>>
>>
>>
>> Hi all,
>>
>> Registering a custom post type one uses 'rewrite' to setup simple
>> re-write structures, using slug to simply define where the archive is
>> then where our posts of that type therefore will be. But what if
>> someone wanted something more complicated? Apparently we can pass an
>> array to slug, but how does this work? Say we wanted to pass some
>> clever query variables along and so on or perhaps have /x/y/z with a
>> custom front etc. Is there any codex on this or a good tutorial?
>>
>> Thanks in advance,
>>
>> All the best,
>>
>> Alex
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peaceable_whale at hotmail.com  Tue May 10 07:46:12 2011
From: peaceable_whale at hotmail.com (Franklin Tse)
Date: Tue, 10 May 2011 15:46:12 +0800
Subject: [wp-hackers] Making WordPress support application/xhtml+xml
Message-ID: <COL122-DS221B72CF40E1FF2900F0119F870@phx.gbl>

Dear wp-hackers,

Since the release of Internet Explorer 9, all major browsers now support application/xhtml+xml, which is important for developers or web designers to embed SVG content on their websites. As SVG and other HTML5 technologies are expected to become popular, I think it is time time to make WordPress compatible with application/xhtml+xml.

I have 4 tickets opened in WordPress Trac to make WordPress support application/xhtml+xml. They are:

https://core.trac.wordpress.org/ticket/14224 (Use NCR instead of HTML entity in feed autodiscovery links)
https://core.trac.wordpress.org/ticket/14225 (Use NCRs instead of HTML entities in Twenty Ten)
https://core.trac.wordpress.org/ticket/14226 (Add XHTML namespace declaration to Twenty Ten to provide XHTML compatibility)
https://core.trac.wordpress.org/ticket/14363 (Atom feed is broken when WordPress is served as application/xhtml+xml)

I have validated my patches on Internet Explorer 8, Internet Explorer 9, Firefox 4, Safari 5 and Opera 11. Please kindly review my patches and reply to the tickets :)

Thanks,
Franklin Tse 

From peaceable_whale at hotmail.com  Tue May 10 09:21:02 2011
From: peaceable_whale at hotmail.com (Franklin Tse)
Date: Tue, 10 May 2011 17:21:02 +0800
Subject: [wp-hackers] Making WordPress support application/xhtml+xml
In-Reply-To: <COL122-DS221B72CF40E1FF2900F0119F870@phx.gbl>
References: <COL122-DS221B72CF40E1FF2900F0119F870@phx.gbl>
Message-ID: <COL122-DS2205582A98F3A6636363009F870@phx.gbl>

Tickets have been opened for similar fixes for Twenty Eleven:

https://core.trac.wordpress.org/ticket/17362 (Use NCRs and boolean attribute with value=attribute's canonical name in Twenty Eleven)
https://core.trac.wordpress.org/ticket/17363 (Add XHTML namespace declaration to Twenty Eleven to provide XHTML compatibility)

Regards,
Franklin

--------------------------------------------------
From: "Franklin Tse" <peaceable_whale at hotmail.com>
Date: Tuesday, 10 May, 2011 15:46
To: <wp-hackers at lists.automattic.com>
Subject: [wp-hackers] Making WordPress support application/xhtml+xml

> Dear wp-hackers,
> 
> Since the release of Internet Explorer 9, all major browsers now support application/xhtml+xml, which is important for developers or web designers to embed SVG content on their websites. As SVG and other HTML5 technologies are expected to become popular, I think it is time time to make WordPress compatible with application/xhtml+xml.
> 
> I have 4 tickets opened in WordPress Trac to make WordPress support application/xhtml+xml. They are:
> 
> https://core.trac.wordpress.org/ticket/14224 (Use NCR instead of HTML entity in feed autodiscovery links)
> https://core.trac.wordpress.org/ticket/14225 (Use NCRs instead of HTML entities in Twenty Ten)
> https://core.trac.wordpress.org/ticket/14226 (Add XHTML namespace declaration to Twenty Ten to provide XHTML compatibility)
> https://core.trac.wordpress.org/ticket/14363 (Atom feed is broken when WordPress is served as application/xhtml+xml)
> 
> I have validated my patches on Internet Explorer 8, Internet Explorer 9, Firefox 4, Safari 5 and Opera 11. Please kindly review my patches and reply to the tickets :)
> 
> Thanks,
> Franklin Tse 
>  

From rocio at mecus.es  Tue May 10 11:09:23 2011
From: rocio at mecus.es (Rocio Valdivia)
Date: Tue, 10 May 2011 13:09:23 +0200
Subject: [wp-hackers] Global sidebars
Message-ID: <BANLkTi=zoRSYm4nNV2yYZE1z4ynRnau0VQ@mail.gmail.com>

Hi everybody!

My name is Roc?o Valdivia, a spanish wordpress developer. I've just
suscribed to this mailing list, so if this email *is not supposed*  to be
here, be free to let me know ;).

I'm going straight to the point. *Drag* and drop widgets in a blog is easy
and *funny* :P, but when you are managing a WP multisite *with* hundreds of
blogs, it can be *a tedious waste of time*.

So, I have an idea. Could it be possible to have a global or network
sidebars? *T*hat is, a new submenu in the network admin panel, for example:
/wp-admin/network/widgets.php, *We can place there some global sidebars and
all the widgets that I drag an drop there would appear in all blogs with
that global sidebar activated in these themes.
*
The developers *would* be able to register as many global sidebars as they
need in the diferent themes. For example, we have 4 diferents global
sidebars registered in the funtcions.php of our themes and we have placed
them to show it in header.php, sidebar.php and footer.php (It can be
perfectly compatible with the normal registered sidebars for a*n* *unique*blog,
*be*cause they appear in /wp-admin/widgets.php).

So, if the super admin goes to: /wp-admin/network/widgets.php he *would *see
all registered global sidebars and he will be able to *drag* and drop as
many widgets *as *he wants *in the* global sidebar. *Then*, all blogs that
have register the global sidebar in the functions.php and have the call to
that sidebar in a template *would* show the widgets on it:
- Ocultar texto citado -


Example of registration and the call could be:

FUNCTIONS.PHP
<?php
register_global_sidebar( array(
        'name' => __( 'Primary Global Widget Area', 'twentyten' ),
        'id' => 'primary-global-widget-area',
        'description' => __( 'The primary global widget area', 'twentyten'
),
        'before_widget' => '<li id="%1$s" class="widget-container %2$s">',
        'after_widget' => '</li>',
        'before_title' => '<h3 class="widget-title">',
        'after_title' => '</h3>',
    ) );
?>

SIDEBAR.PHP
<?php
    // A global sidebar for widgets
    if ( is_active_global_sidebar( 'primary-global-widget-area' ) ) : ?>

        <div id="primary-global" class="widget-area" role="complementary">
            <ul class="xoxo">
                <?php dynamic_sidebar( 'primary-global-widget-area' ); ?>
            </ul>
        </div><!-- #primary-global .widget-area -->

<?php endif; ?>


I think it could be very useful for theme developers and super admin
managers of WP multisites.


Roc?o Valdivia
Web: http://mecus.es
Twitter: @_DorsVenabili

From jane at automattic.com  Tue May 10 11:18:22 2011
From: jane at automattic.com (Jane Wells)
Date: Tue, 10 May 2011 07:18:22 -0400
Subject: [wp-hackers] Global sidebars
In-Reply-To: <BANLkTi=zoRSYm4nNV2yYZE1z4ynRnau0VQ@mail.gmail.com>
References: <BANLkTi=zoRSYm4nNV2yYZE1z4ynRnau0VQ@mail.gmail.com>
Message-ID: <4DC91EFE.8020004@automattic.com>

On 5/10/11 7:09 AM, Rocio Valdivia wrote:
> So, I have an idea. Could it be possible to have a global or network
> sidebars?
Sounds like a great idea for a plugin. Something like that would 
realistically start life as a plugin before being considered for core 
(faster dev cycle/easier to iterate while working out the kinks, etc.)
j

From steve at sltaylor.co.uk  Tue May 10 14:29:53 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 10 May 2011 15:29:53 +0100
Subject: [wp-hackers] can't edit custom taxonomy term
Message-ID: <BANLkTin6eFXjAvVn+kGKsvWU1ijo5fQW_g@mail.gmail.com>

Hi,

I have a custom taxonomy, and while I can add terms, I can't edit them
(I get "Cheatin' huh?"). I'm an administrator, with no role
customization.

Using a code inspector, I've edited the form action from
"edit-tags.php" to "edit-tags.php?taxonomy=eventtype", and it works.

It looks like the edit-tags.php form passes the taxonomy as a hidden
field and the form submits with the post method, but the permissions
check at the top of the edit-tags.php file, is based on $taxnow. AFAIK
this is set in admin.php around line 97, and is set from the $_GET
vars.

Am I missing something here?

FWIW, here's my taxonomy declaration:

register_taxonomy(
	'eventtype', 'sparks_event',
	array(
		'hierarchical'		=> true,
		'query_var'			=> true,
		'rewrite'			=> true
		'labels'			=> array(
			'name'			=> __( 'Event types' ),
			'singular_name'		=> __( 'Event type' ),
			'search_items'		=> __( 'Search Event types' ),
			'all_items'			=> __( 'All Event types' ),
			'edit_item'			=> __( 'Edit Event type' ),
			'update_item'		=> __( 'Update Event type' ),
			'add_new_item'		=> __( 'Add New Event type' ),
			'new_item_name'	=> __( 'New Event type Name' ),
		)
	)
);

cheers,

Steve Taylor

From jmdodd at gmail.com  Tue May 10 16:52:53 2011
From: jmdodd at gmail.com (J.M. Dodd)
Date: Tue, 10 May 2011 12:52:53 -0400
Subject: [wp-hackers] Multisite screen options/meta boxes are per user,
	not per user, per blog
Message-ID: <BANLkTimjiOtzhKNpAtzT2WMCUS3A0HtB2Q@mail.gmail.com>

Ref.
http://wordpress.org/support/topic/per-user-screen-options-overwrite-per-site-custom-meta-boxes

On a multisite install, users can set their Write Post appearance using
drag-and-drop to customize where the meta boxes are located, and Screen
Options to set which meta boxes are visible. The set of meta boxes varies
from blog to blog, as plugins can add their own custom meta boxes. Because
these are saved in global per user options, they are overwritten when a user
sets their appearance using a difference set of meta boxes (from different
plugins) on a different blog in the same installation, essentially undoing
their Write Post appearance on the original blog.

Ideally, I'd like these setting to be per user, per blog, as plugins are not
guaranteed to be active on all blogs in a multisite installation. Is this an
appropriate forum for the discussion of this behavior and possible fixes?

-- Jennifer M. Dodd

From dougal at gunters.org  Tue May 10 17:38:25 2011
From: dougal at gunters.org (Dougal Campbell)
Date: Tue, 10 May 2011 13:38:25 -0400
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTimiFjh04ZWToXa6jpJ_Q7SbivGYHQ@mail.gmail.com>
References: <BANLkTimgvF+EE8hp=8neGpwcs5P-9d9=-Q@mail.gmail.com>
	<BANLkTikVqYCob9b-MyM7TncURw6W7v9ZyQ@mail.gmail.com>
	<BANLkTimfwD6Oxjq0OURLtoKwtqXH9uZbGA@mail.gmail.com>
	<BANLkTinX4dqZnX=o0YmsAf3bDV1o0+H2Og@mail.gmail.com>
	<BANLkTi=HqvZ5Mh6c=diHG0R8LWRTp45aXA@mail.gmail.com>
	<4DC7EC31.20403@gunters.org>
	<BANLkTindum76vsdF_9yi7raAW97nsN695w@mail.gmail.com>
	<BANLkTimiFjh04ZWToXa6jpJ_Q7SbivGYHQ@mail.gmail.com>
Message-ID: <4DC97811.7000203@gunters.org>

On May 9 2011 10:45 AM, Eric Mann wrote:
> Matt, great suggestion!
>
> wp_hash() uses MD5 by default ... any reason to use SHA1 over MD5 for this
> purpose?
>
> If not, we could use $uid = wp_hash( microtime() . DB_NAME .
> $post->post_title . $post->ID );
>
> Or, perhaps even better, use a filter so that individual sites can override
> it?

I chose SHA1 pretty arbitrarily in my example. It was really only meant 
to be pseudocode. Using wp_hash seems pretty natural. While I can't 
think of much value in a filter, it wouldn't cost much to toss it in 
there in case someone comes up with a need in the future.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From 24-7 at gmx.net  Tue May 10 23:16:26 2011
From: 24-7 at gmx.net (24/7)
Date: Tue, 10 May 2011 16:16:26 -0700 (PDT)
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <4DC97811.7000203@gunters.org>
Message-ID: <10155575.183.1305069386724.JavaMail.geo-discussion-forums@vbvc21>

"it wouldn't cost much to toss it in there in case someone comes up with a 
need in the future." +1 for having this inside core. Afaik there's currently 
no core element that makes use out of the GUID. Making a real GUID out of 
this would maybe allow some plugins to use it. So far i can't see a reason 
to not open a trac ticket and change this.

Cheers,
K.

From lynne.pope at gmail.com  Wed May 11 01:33:27 2011
From: lynne.pope at gmail.com (Lynne Pope)
Date: Wed, 11 May 2011 13:33:27 +1200
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <10155575.183.1305069386724.JavaMail.geo-discussion-forums@vbvc21>
References: <4DC97811.7000203@gunters.org>
	<10155575.183.1305069386724.JavaMail.geo-discussion-forums@vbvc21>
Message-ID: <BANLkTi=b6kwiHxadCXj+oB2GYY4kdYg5dQ@mail.gmail.com>

On Wed, May 11, 2011 at 11:16 AM, 24/7 <24-7 at gmx.net> wrote:

>  So far i can't see a reason
> to not open a trac ticket and change this.
>

It's been around for 3 years:
http://core.trac.wordpress.org/ticket/6492
<http://core.trac.wordpress.org/ticket/6492>

Since that ticket is now getting new comments its probably time to take this
discussion there.

Lynne

From philip at philipwalton.com  Wed May 11 06:32:18 2011
From: philip at philipwalton.com (Philip Walton)
Date: Tue, 10 May 2011 23:32:18 -0700
Subject: [wp-hackers] Including javascript in the footer
Message-ID: <4DCA2D72.4050002@philipwalton.com>

I've tested wp_enqueue_script() and it doesn't work if called from any 
action after 'wp_print_scripts' in a page request.

The Codex recommends: "Use the wp_enqueue_scripts action to call this 
function, or admin_enqueue_scripts to call it on the admin side. Calling 
it outside of an action can lead to troubles."

In my case I'm making a programmatic decision partway through the page 
request whether or not I want to include a script in the footer, and 
unfortunately, that decision is being made after the 'wp_print_scripts' 
hook is fired.

So what should I do? I don't want to just echo the script markup in 
'admin_print_footer_scripts' because that just seems wrong. However, I 
can't really think of any other good way.

Any ideas?



From johnbillion+wp at gmail.com  Wed May 11 06:36:50 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Wed, 11 May 2011 07:36:50 +0100
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <4DCA2D72.4050002@philipwalton.com>
References: <4DCA2D72.4050002@philipwalton.com>
Message-ID: <BANLkTimRL8Mw4XYuVLrnUzmMWJ3o6LakvQ@mail.gmail.com>

On 11 May 2011 07:32, Philip Walton <philip at philipwalton.com> wrote:
> I've tested wp_enqueue_script() and it doesn't work if called from any
> action after 'wp_print_scripts' in a page request.

It does, but you need to coerce it a little :)

In addition to setting the 'in_footer' parameter to true when you
enqueue the script, you also need to manually call wp_print_scripts()
within wp_footer(). I don't recall why this is the case, but I suspect
you'll find a ticket and discussion of it on Trac if you have a search
around.

Further reading: http://scribu.net/wordpress/optimal-script-loading.html

John

From wordpress at dd32.id.au  Wed May 11 06:37:40 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Wed, 11 May 2011 16:37:40 +1000
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTimRL8Mw4XYuVLrnUzmMWJ3o6LakvQ@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTimRL8Mw4XYuVLrnUzmMWJ3o6LakvQ@mail.gmail.com>
Message-ID: <BANLkTinOv4OuGiNLv4pGLxToHsKNLbqc+g@mail.gmail.com>

Trac ticket for this issue: http://core.trac.wordpress.org/ticket/9346

On 11 May 2011 16:36, John Blackbourn <johnbillion+wp at gmail.com> wrote:

> On 11 May 2011 07:32, Philip Walton <philip at philipwalton.com> wrote:
> > I've tested wp_enqueue_script() and it doesn't work if called from any
> > action after 'wp_print_scripts' in a page request.
>
> It does, but you need to coerce it a little :)
>
> In addition to setting the 'in_footer' parameter to true when you
> enqueue the script, you also need to manually call wp_print_scripts()
> within wp_footer(). I don't recall why this is the case, but I suspect
> you'll find a ticket and discussion of it on Trac if you have a search
> around.
>
> Further reading: http://scribu.net/wordpress/optimal-script-loading.html
>
> John
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Wed May 11 06:37:30 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 11 May 2011 01:37:30 -0500
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <4DCA2D72.4050002@philipwalton.com>
References: <4DCA2D72.4050002@philipwalton.com>
Message-ID: <BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>

Enqueueing scripts and styles should always be done on either the
wp_enqueue_scripts hook or the admin_enqueue_scripts hook, depending
on which side of things you want to enqueue them on.

This applies to both header and footer scripts. wp_print_scripts is
really too late to enqueue, you should only dequeue there.

If you're not deciding until midway through the page, then
you're-doing-it-wrong (tm). You can't enqueue once scripts have
printed in the header, due to possible dependencies. For example, if a
script enqueued in the head depends on a script enqueued in the
footer, then the footer script gets promoted to the header. This is
part of the purpose of the script dependency system.

Redo your methodology to make the decision earlier. If this means you
need to look ahead at the content, then do so.

-Otto



On Wed, May 11, 2011 at 1:32 AM, Philip Walton <philip at philipwalton.com> wrote:
> I've tested wp_enqueue_script() and it doesn't work if called from any
> action after 'wp_print_scripts' in a page request.
>
> The Codex recommends: "Use the wp_enqueue_scripts action to call this
> function, or admin_enqueue_scripts to call it on the admin side. Calling it
> outside of an action can lead to troubles."
>
> In my case I'm making a programmatic decision partway through the page
> request whether or not I want to include a script in the footer, and
> unfortunately, that decision is being made after the 'wp_print_scripts' hook
> is fired.
>
> So what should I do? I don't want to just echo the script markup in
> 'admin_print_footer_scripts' because that just seems wrong. However, I can't
> really think of any other good way.
>
> Any ideas?
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Wed May 11 06:42:56 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Wed, 11 May 2011 16:42:56 +1000
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
Message-ID: <BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>

Except thats a near-impossible scenario.
If a header script depends on a footer script, it'll be promoted to the
header (as expected), If it's not enqueued, It'll be enqueued.
It is an "impossibility" for a header script to rely upon a footer script
enqueued mid-way through the page load.
It is possible that a header script may modify how it runs if another script
is loaded, and loading said script in the footer would break the expected
bejaviour, however in that case, it would be wrong to load such a script
mid-way through the page.

The only type of script which could possibly benefit from this, are those
enqueued from shortcodes and plugin pages (although, there are better hooks
for plugin pages), if it has to be a limitation that the scripts enqueued
mid-load -must- be able to run in the footer, then there's no real problem..
and it prevents the need for looking ahead. If it requires a header script
thats not yet printed, that'll get printed in the footer as well..

On 11 May 2011 16:37, Otto <otto at ottodestruct.com> wrote:

> Enqueueing scripts and styles should always be done on either the
> wp_enqueue_scripts hook or the admin_enqueue_scripts hook, depending
> on which side of things you want to enqueue them on.
>
> This applies to both header and footer scripts. wp_print_scripts is
> really too late to enqueue, you should only dequeue there.
>
> If you're not deciding until midway through the page, then
> you're-doing-it-wrong (tm). You can't enqueue once scripts have
> printed in the header, due to possible dependencies. For example, if a
> script enqueued in the head depends on a script enqueued in the
> footer, then the footer script gets promoted to the header. This is
> part of the purpose of the script dependency system.
>
> Redo your methodology to make the decision earlier. If this means you
> need to look ahead at the content, then do so.
>
> -Otto
>
>
>
> On Wed, May 11, 2011 at 1:32 AM, Philip Walton <philip at philipwalton.com>
> wrote:
> > I've tested wp_enqueue_script() and it doesn't work if called from any
> > action after 'wp_print_scripts' in a page request.
> >
> > The Codex recommends: "Use the wp_enqueue_scripts action to call this
> > function, or admin_enqueue_scripts to call it on the admin side. Calling
> it
> > outside of an action can lead to troubles."
> >
> > In my case I'm making a programmatic decision partway through the page
> > request whether or not I want to include a script in the footer, and
> > unfortunately, that decision is being made after the 'wp_print_scripts'
> hook
> > is fired.
> >
> > So what should I do? I don't want to just echo the script markup in
> > 'admin_print_footer_scripts' because that just seems wrong. However, I
> can't
> > really think of any other good way.
> >
> > Any ideas?
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From philip at philipwalton.com  Wed May 11 07:01:45 2011
From: philip at philipwalton.com (Philip Walton)
Date: Wed, 11 May 2011 00:01:45 -0700
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
Message-ID: <4DCA3459.3090503@philipwalton.com>

On 5/10/11 11:37 PM, Otto wrote:
> If you're not deciding until midway through the page, then
> you're-doing-it-wrong (tm). You can't enqueue once scripts have
> printed in the header, due to possible dependencies. For example, if a
> script enqueued in the head depends on a script enqueued in the
> footer, then the footer script gets promoted to the header. This is
> part of the purpose of the script dependency system.
I get the script dependency issue, but in my case I know for a fact that 
no script in the head will depend on a script in the footer.

Also, if we're talking about the "right" way to do it, in my situation 
(granted you aren't seeing what I'm trying to do) I believe it's much 
more hackish and work-around-ish to move that decision to before the 
wp_enqueue_scripts hook.

I would understand doing so if WordPress were unable to add this 
functionality, but to categorically say there is no situation where it 
could be the "right" way to go seems to go against the spirit of what 
we're all trying to do.

From philip at philipwalton.com  Wed May 11 07:10:36 2011
From: philip at philipwalton.com (Philip Walton)
Date: Wed, 11 May 2011 00:10:36 -0700
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTinOv4OuGiNLv4pGLxToHsKNLbqc+g@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>	<BANLkTimRL8Mw4XYuVLrnUzmMWJ3o6LakvQ@mail.gmail.com>
	<BANLkTinOv4OuGiNLv4pGLxToHsKNLbqc+g@mail.gmail.com>
Message-ID: <4DCA366C.1090701@philipwalton.com>

Thanks, that ticket was very helpful!

On 5/10/11 11:37 PM, Dion Hulse (dd32) wrote:
> Trac ticket for this issue: http://core.trac.wordpress.org/ticket/9346

From wordpress at zed1.com  Wed May 11 10:13:06 2011
From: wordpress at zed1.com (Mike Little)
Date: Wed, 11 May 2011 11:13:06 +0100
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <4DCA3459.3090503@philipwalton.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<4DCA3459.3090503@philipwalton.com>
Message-ID: <BANLkTim4ST1Bd7tHuuQV+Wy9PqdsUdG3XA@mail.gmail.com>

On Wed, May 11, 2011 at 08:01, Philip Walton <philip at philipwalton.com>wrote:

> On 5/10/11 11:37 PM, Otto wrote:
>
>> If you're not deciding until midway through the page, then
>> you're-doing-it-wrong (tm). You can't enqueue once scripts have
>> printed in the header, due to possible dependencies. For example, if a
>> script enqueued in the head depends on a script enqueued in the
>> footer, then the footer script gets promoted to the header. This is
>> part of the purpose of the script dependency system.
>>
> I get the script dependency issue, but in my case I know for a fact that no
> script in the head will depend on a script in the footer.
>
> Also, if we're talking about the "right" way to do it, in my situation
> (granted you aren't seeing what I'm trying to do) I believe it's much more
> hackish and work-around-ish to move that decision to before the
> wp_enqueue_scripts hook.
>
> I would understand doing so if WordPress were unable to add this
> functionality, but to categorically say there is no situation where it could
> be the "right" way to go seems to go against the spirit of what we're all
> trying to do.
>
>
I see lots of conversations about not being able to do things in the header
because the decision is based on the content further down the page. But
often the thing overlooked is that the content has already been queried and
loaded from the db *before* the start of the page.

Therefore it is normally possible to peek ahead (at, for example,
$post->post_content) or even walk through the posts loop (don't forget to
rewind it after) to figure out if the javascript, extra css or whatever is
needed.


Mike
-- 
Mike Little
http://zed1.com/

From kkarpieszuk at gmail.com  Wed May 11 10:43:21 2011
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Wed, 11 May 2011 12:43:21 +0200
Subject: [wp-hackers] any suggestions before creating search module? :)
Message-ID: <BANLkTikwzu_TNieYMLc5NXRTUKWRKcFiiA@mail.gmail.com>

hi there

I am preparing to create some kind of search engine for one post type
(called 'appartments') which will query those posts counting tens of
custom fields associated with post. every post has CF like
'_animalls_allowed' , '_seasight_location' with values 'yes', 'no' or
'maybe'

i know that here are plenty of wordpress specialist so could you give
me some suggestions? i have some idea in my head but what do you
suggest to read? how to hook this into standard wordpress search query
(now i am thinking about creating my own search form which will use
own search mechanism [but also on query posts]). maybe you know some
articles which can be helpfull for me? or maybe some plugin which
already exists?

thank you in advance for any suggestions!

-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk

From cross at thisismyurl.com  Wed May 11 13:55:08 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Wed, 11 May 2011 10:55:08 -0300
Subject: [wp-hackers] any suggestions before creating search module? :)
In-Reply-To: <BANLkTikwzu_TNieYMLc5NXRTUKWRKcFiiA@mail.gmail.com>
References: <BANLkTikwzu_TNieYMLc5NXRTUKWRKcFiiA@mail.gmail.com>
Message-ID: <E30ED446-6DF7-4F7B-A38D-2BFD8CBE156B@thisismyurl.com>

Konrad, I suspect http://css-tricks.com/snippets/wordpress/custom-loop-based-on-custom-fields/ will do what you're looking for. Chris


On 2011-05-11, at 7:43 AM, Konrad Karpieszuk wrote:

> hi there
> 
> I am preparing to create some kind of search engine for one post type
> (called 'appartments') which will query those posts counting tens of
> custom fields associated with post. every post has CF like
> '_animalls_allowed' , '_seasight_location' with values 'yes', 'no' or
> 'maybe'
> 
> i know that here are plenty of wordpress specialist so could you give
> me some suggestions? i have some idea in my head but what do you
> suggest to read? how to hook this into standard wordpress search query
> (now i am thinking about creating my own search form which will use
> own search mechanism [but also on query posts]). maybe you know some
> articles which can be helpfull for me? or maybe some plugin which
> already exists?
> 
> thank you in advance for any suggestions!
> 
> -- 
> (en) regards / (pl) pozdrawiam
> Konrad Karpieszuk
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



__

Christopher Ross
Online Portfolio - http://christopherross.ca
Personal Blog - http://thisismyurl.com

Fredericton - 506.238.4661
San Diego   - 858.201.4912


From otto at ottodestruct.com  Wed May 11 13:57:06 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 11 May 2011 08:57:06 -0500
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <4DCA3459.3090503@philipwalton.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<4DCA3459.3090503@philipwalton.com>
Message-ID: <BANLkTikuhS20YYJTq6eRppQOfOypZxeXRg@mail.gmail.com>

On Wed, May 11, 2011 at 2:01 AM, Philip Walton <philip at philipwalton.com> wrote:
> Also, if we're talking about the "right" way to do it, in my situation
> (granted you aren't seeing what I'm trying to do) I believe it's much more
> hackish and work-around-ish to move that decision to before the
> wp_enqueue_scripts hook.
>
> I would understand doing so if WordPress were unable to add this
> functionality, but to categorically say there is no situation where it could
> be the "right" way to go seems to go against the spirit of what we're all
> trying to do.

I'm going to go ahead and categorically state that there is no
situation where it is *necessary* to enqueue a script halfway down the
page. All the normal data is loaded into memory, the main query has
executed, the autoloader has occurred for options... what else do you
need?

Starting the Loop early to look ahead at the content that will be
displayed on the page, following by calling rewind_posts() to reset
the Loop for later is not "hackish". It's obvious. We have
rewind_posts() for a reason, you know.

-Otto

From otto at ottodestruct.com  Wed May 11 14:03:19 2011
From: otto at ottodestruct.com (Otto)
Date: Wed, 11 May 2011 09:03:19 -0500
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
Message-ID: <BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>

On Wed, May 11, 2011 at 1:42 AM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> It is an "impossibility" for a header script to rely upon a footer script
> enqueued mid-way through the page load.

No, it isn't. It's actually rather easy to do. And if done in the most
obvious way, then it breaks the page.

I agree with you that with the existing code, it's an impossibility to
enqueue anything after wp_print_scripts has run for the first time,
period. The difference is that I think that that is correct and should
be the way it works by design.

> It is possible that a header script may modify how it runs if another script
> is loaded, and loading said script in the footer would break the expected
> bejaviour, however in that case, it would be wrong to load such a script
> mid-way through the page.

IMO, it's wrong to load any script midway through the page at all.
Halfway is just too late to be still trying to load scripts. Make your
decision earlier. Why are you still deciding on how to display the
page while you're halfway through displaying it? Seems silly to go to
all this trouble when you can easily look-ahead at the content from
the header.

There does not have to be only one Loop through the main posts on the
page. I don't know where people get this assumption from, but if you
assume that there is one-and-only-one main Loop, then you will
invariably write code that breaks, badly, when this is not the case.
I've seen several plugins break because of this particular incorrect
assumption.

-Otto

From brenda at redletterdesign.net  Wed May 11 15:08:21 2011
From: brenda at redletterdesign.net (Brenda Egeland)
Date: Wed, 11 May 2011 11:08:21 -0400
Subject: [wp-hackers] Plugin to interact with Google Calendar
Message-ID: <7E0B6E4D-1B04-43A9-B593-A19A67A4931D@redletterdesign.net>

I would like to write a plugin that interacts with a Google calendar, not just parsing the feed, but putting functions in the admin section to add/edit/delete events, using the Google API, which is based on Zend libraries.

I've looked at several calendar plugins and haven't seen this functionality. Before I get started reinventing the wheel, does anyone know of a plugin that does this already? Or why it might not be possible theoretically?

I noticed the Zend Gdata Interfaces plugin, which I think will be helpful.

thanks,

Brenda Egeland
Red Letter Design
www.RedLetterDesign.net
301-260-7545




From eric at eam.me  Wed May 11 15:18:58 2011
From: eric at eam.me (Eric Mann)
Date: Wed, 11 May 2011 08:18:58 -0700
Subject: [wp-hackers] Plugin to interact with Google Calendar
In-Reply-To: <7E0B6E4D-1B04-43A9-B593-A19A67A4931D@redletterdesign.net>
References: <7E0B6E4D-1B04-43A9-B593-A19A67A4931D@redletterdesign.net>
Message-ID: <BANLkTik2Hgh_=51G7B2DEi9Bgp3mbdRKag@mail.gmail.com>

Brenda,

Actually, you should be able to read and write from the Google Calendar API
using HTTP (you won't need Zend at all).  The Data API uses standard
GET/POST requests, so you can talk to it using the WP_HTTP API that's
already in WordPress.

But no, I haven't seen any other freely available plugin that does this.
 Most just embed Google Calendar in an iFrame rather than try to interface
with the API.

A while ago, I built a plugin that talks to the Google Reader API using the
same kind of HTTP interface, so it is possible for you to do this with the
Google Calendar API as well.

On Wed, May 11, 2011 at 8:08 AM, Brenda Egeland
<brenda at redletterdesign.net>wrote:

> I would like to write a plugin that interacts with a Google calendar, not
> just parsing the feed, but putting functions in the admin section to
> add/edit/delete events, using the Google API, which is based on Zend
> libraries.
>
> I've looked at several calendar plugins and haven't seen this
> functionality. Before I get started reinventing the wheel, does anyone know
> of a plugin that does this already? Or why it might not be possible
> theoretically?
>
> I noticed the Zend Gdata Interfaces plugin, which I think will be helpful.
>
> thanks,
>
> Brenda Egeland
> Red Letter Design
> www.RedLetterDesign.net
> 301-260-7545
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From philip at philipwalton.com  Wed May 11 16:38:39 2011
From: philip at philipwalton.com (Philip Walton)
Date: Wed, 11 May 2011 09:38:39 -0700
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTikuhS20YYJTq6eRppQOfOypZxeXRg@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>	<4DCA3459.3090503@philipwalton.com>
	<BANLkTikuhS20YYJTq6eRppQOfOypZxeXRg@mail.gmail.com>
Message-ID: <4DCABB8F.8080805@philipwalton.com>

On 5/11/11 6:57 AM, Otto wrote:
> I'm going to go ahead and categorically state that there is no
> situation where it is *necessary* to enqueue a script halfway down the
> page. All the normal data is loaded into memory, the main query has
> executed, the autoloader has occurred for options... what else do you
> need?
I can agree that it's not absolutely necessary to enqueue a script at 
the point in the page load that I'm wanting to. But I still maintain 
that there's nothing "wrong" about it. Putting a script in the footer is 
a very reasonable thing to do, so as long as I'm making that decision 
before I output the footer markup, I see nothing categorically wrong 
with it.

I'm also not making the decision to include the script based on the post 
content (maybe that was unclear). I'm doing so on a settings form form 
the admin side.

The add_settings_page() includes a callback to output the contents of 
the form, and that callback is fired after the admin_enqueue_scripts 
hook. In that callback I'm creating a form object and deciding and at 
that point (based on factors I don't control) whether or not I need to 
either use a script to do ajax form validation.

The most logical place for me to make that decision is in the 
add_settings_page callback. Could I do it before? Yes, but in my 
opinion, that would be doing it the "wrong" way.

Philip


> Starting the Loop early to look ahead at the content that will be
> displayed on the page, following by calling rewind_posts() to reset
> the Loop for later is not "hackish". It's obvious. We have
> rewind_posts() for a reason, you know.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From gcorne at bu.edu  Wed May 11 16:46:29 2011
From: gcorne at bu.edu (Cornelius, Gregory)
Date: Wed, 11 May 2011 12:46:29 -0400
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
	<BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
Message-ID: <B8116FCF-6139-4301-9C1C-37AC15BADDFD@bu.edu>

On May 11, 2011, at 10:03 AM, Otto wrote:

> Why are you still deciding on how to display the
> page while you're halfway through displaying it? Seems silly to go to
> all this trouble when you can easily look-ahead at the content from
> the header.

Sidebars are a good example of code that is not executed until the page is partially rendered. There is no way for a widget to know that it is going to be rendered before the template is partially rendered.

And there is lots of business logic after the page is partially rendered on the admin side.

From wordpress at zed1.com  Wed May 11 16:55:48 2011
From: wordpress at zed1.com (Mike Little)
Date: Wed, 11 May 2011 17:55:48 +0100
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <4DCABB8F.8080805@philipwalton.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<4DCA3459.3090503@philipwalton.com>
	<BANLkTikuhS20YYJTq6eRppQOfOypZxeXRg@mail.gmail.com>
	<4DCABB8F.8080805@philipwalton.com>
Message-ID: <BANLkTikmE8ny3y4BfZkN6nt3zrXWaaOx5Q@mail.gmail.com>

On Wed, May 11, 2011 at 17:38, Philip Walton <philip at philipwalton.com>wrote:

> On 5/11/11 6:57 AM, Otto wrote:
>
>> I'm going to go ahead and categorically state that there is no
>> situation where it is *necessary* to enqueue a script halfway down the
>> page. All the normal data is loaded into memory, the main query has
>> executed, the autoloader has occurred for options... what else do you
>> need?
>>
> I can agree that it's not absolutely necessary to enqueue a script at the
> point in the page load that I'm wanting to. But I still maintain that
> there's nothing "wrong" about it. Putting a script in the footer is a very
> reasonable thing to do, so as long as I'm making that decision before I
> output the footer markup, I see nothing categorically wrong with it.
>
> I'm also not making the decision to include the script based on the post
> content (maybe that was unclear). I'm doing so on a settings form form the
> admin side.
>
> The add_settings_page() includes a callback to output the contents of the
> form, and that callback is fired after the admin_enqueue_scripts hook. In
> that callback I'm creating a form object and deciding and at that point
> (based on factors I don't control) whether or not I need to either use a
> script to do ajax form validation.
>
> The most logical place for me to make that decision is in the
> add_settings_page callback. Could I do it before? Yes, but in my opinion,
> that would be doing it the "wrong" way.
>
> Philip
>
>
I still don't see why your "factors you don't control" aren't known earlier
in processing, but I saw a discussion recently on this list (I think it was
about conditional tags round css) whereby the idea discussed was to always
enqueue (a script) on the page, marked to go in the footer, and then you
could decide to remove it from the queue during processing of the page. I
think that may satisfy your requirement (with the caveat that dependencies
may have already been injected)


Mike
-- 
Mike Little
http://zed1.com/

From wordpress at zed1.com  Wed May 11 17:09:48 2011
From: wordpress at zed1.com (Mike Little)
Date: Wed, 11 May 2011 18:09:48 +0100
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <B8116FCF-6139-4301-9C1C-37AC15BADDFD@bu.edu>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
	<BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
	<B8116FCF-6139-4301-9C1C-37AC15BADDFD@bu.edu>
Message-ID: <BANLkTi=2q9D9NHOcx8_Y4aSKFbWE9WhyZg@mail.gmail.com>

On Wed, May 11, 2011 at 17:46, Cornelius, Gregory <gcorne at bu.edu> wrote:

> On May 11, 2011, at 10:03 AM, Otto wrote:
>
> > Why are you still deciding on how to display the
> > page while you're halfway through displaying it? Seems silly to go to
> > all this trouble when you can easily look-ahead at the content from
> > the header.
>
> Sidebars are a good example of code that is not executed until the page is
> partially rendered. There is no way for a widget to know that it is going to
> be rendered before the template is partially rendered.
>
>
Look into is_active_sidebar()  and wp_get_sidebars_widgets(). You can
determine whether a a particular widget area or widget is active or not
quite early on in the processing.


Mike
-- 
Mike Little
http://zed1.com/

From steve at sltaylor.co.uk  Wed May 11 18:03:06 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 11 May 2011 19:03:06 +0100
Subject: [wp-hackers] disabling built-in taxonomies? (WAS: can't edit custom
	taxonomy term)
Message-ID: <BANLkTi=O6KXC0pF9LewtmBpAQLp1Dx2H+Q@mail.gmail.com>

Yes, I was missing something. I've got some code that I'm using to
globally disable tags, as they're not being used on this project:

add_action( 'init', 'remove_taxonomies' );
function slt_remove_taxonomies() {
	global $wp_taxonomies;
	unset( $wp_taxonomies['post_tag'] );
}

I always knew this was harsh, though the inability to edit other
taxonomy terms is the first glitch I've found.

Anyway, I've switched to the less brutal, but equally inelegant method
of removing the tags submenu, meta box, and posts list column.

Is there a better / best way of disabling built-in taxonomies?

cheers,

Steve



On 10 May 2011 15:29, Steve Taylor <steve at sltaylor.co.uk> wrote:
> Hi,
>
> I have a custom taxonomy, and while I can add terms, I can't edit them
> (I get "Cheatin' huh?"). I'm an administrator, with no role
> customization.
>
> Using a code inspector, I've edited the form action from
> "edit-tags.php" to "edit-tags.php?taxonomy=eventtype", and it works.
>
> It looks like the edit-tags.php form passes the taxonomy as a hidden
> field and the form submits with the post method, but the permissions
> check at the top of the edit-tags.php file, is based on $taxnow. AFAIK
> this is set in admin.php around line 97, and is set from the $_GET
> vars.
>
> Am I missing something here?
>
> FWIW, here's my taxonomy declaration:
>
> register_taxonomy(
> ? ? ? ?'eventtype', 'sparks_event',
> ? ? ? ?array(
> ? ? ? ? ? ? ? ?'hierarchical' ? ? ? ? ?=> true,
> ? ? ? ? ? ? ? ?'query_var' ? ? ? ? ? ? ? ? ? ? => true,
> ? ? ? ? ? ? ? ?'rewrite' ? ? ? ? ? ? ? ? ? ? ? => true
> ? ? ? ? ? ? ? ?'labels' ? ? ? ? ? ? ? ? ? ? ? ?=> array(
> ? ? ? ? ? ? ? ? ? ? ? ?'name' ? ? ? ? ? ? ? ? ?=> __( 'Event types' ),
> ? ? ? ? ? ? ? ? ? ? ? ?'singular_name' ? ? ? ? => __( 'Event type' ),
> ? ? ? ? ? ? ? ? ? ? ? ?'search_items' ? ? ? ? ?=> __( 'Search Event types' ),
> ? ? ? ? ? ? ? ? ? ? ? ?'all_items' ? ? ? ? ? ? ? ? ? ? => __( 'All Event types' ),
> ? ? ? ? ? ? ? ? ? ? ? ?'edit_item' ? ? ? ? ? ? ? ? ? ? => __( 'Edit Event type' ),
> ? ? ? ? ? ? ? ? ? ? ? ?'update_item' ? ? ? ? ? => __( 'Update Event type' ),
> ? ? ? ? ? ? ? ? ? ? ? ?'add_new_item' ? ? ? ? ?=> __( 'Add New Event type' ),
> ? ? ? ? ? ? ? ? ? ? ? ?'new_item_name' => __( 'New Event type Name' ),
> ? ? ? ? ? ? ? ?)
> ? ? ? ?)
> );
>
> cheers,
>
> Steve Taylor
>

From dspilka at techtarget.com  Wed May 11 19:23:08 2011
From: dspilka at techtarget.com (Spilka, Dan)
Date: Wed, 11 May 2011 15:23:08 -0400
Subject: [wp-hackers] Global sidebars
In-Reply-To: <mailman.7.1305028801.807.wp-hackers@lists.automattic.com>
References: <mailman.7.1305028801.807.wp-hackers@lists.automattic.com>
Message-ID: <588EDCC5ABD97C49A12A39C5EFBF46551CCE9133@SPARKY.office.techtarget.com>

On 5/10/11 7:09 AM, Rocio Valdivia wrote:
> So, I have an idea. Could it be possible to have a global or network
> sidebars?

I also think this sounds like a great idea for a plugin and would be interested in using it.

I could also see it being useful to share a wp_nav_menu across a network.

-Dan


From philip at philipwalton.com  Wed May 11 19:28:24 2011
From: philip at philipwalton.com (Philip Walton)
Date: Wed, 11 May 2011 12:28:24 -0700
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTikmE8ny3y4BfZkN6nt3zrXWaaOx5Q@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>	<4DCA3459.3090503@philipwalton.com>	<BANLkTikuhS20YYJTq6eRppQOfOypZxeXRg@mail.gmail.com>	<4DCABB8F.8080805@philipwalton.com>
	<BANLkTikmE8ny3y4BfZkN6nt3zrXWaaOx5Q@mail.gmail.com>
Message-ID: <4DCAE358.1000208@philipwalton.com>

Thanks Mike, that method probably would work and does seem better than 
calling wp_print_scripts() in the footer.

The reason there are factors I can't control is because I'm talking 
about a development framework I use. In my framework the 
add_settings_page() callback loads and outputs a view file and that view 
file could contain any number of form objects and (since it's a 
framework that is reused) I don't know whether or not the form in that 
particular view file is going to require ajax validation before the form 
object or subclass is instantiated.


On 5/11/11 9:55 AM, Mike Little wrote:
> On Wed, May 11, 2011 at 17:38, Philip Walton<philip at philipwalton.com>wrote:
>
>> On 5/11/11 6:57 AM, Otto wrote:
>>
>>> I'm going to go ahead and categorically state that there is no
>>> situation where it is *necessary* to enqueue a script halfway down the
>>> page. All the normal data is loaded into memory, the main query has
>>> executed, the autoloader has occurred for options... what else do you
>>> need?
>>>
>> I can agree that it's not absolutely necessary to enqueue a script at the
>> point in the page load that I'm wanting to. But I still maintain that
>> there's nothing "wrong" about it. Putting a script in the footer is a very
>> reasonable thing to do, so as long as I'm making that decision before I
>> output the footer markup, I see nothing categorically wrong with it.
>>
>> I'm also not making the decision to include the script based on the post
>> content (maybe that was unclear). I'm doing so on a settings form form the
>> admin side.
>>
>> The add_settings_page() includes a callback to output the contents of the
>> form, and that callback is fired after the admin_enqueue_scripts hook. In
>> that callback I'm creating a form object and deciding and at that point
>> (based on factors I don't control) whether or not I need to either use a
>> script to do ajax form validation.
>>
>> The most logical place for me to make that decision is in the
>> add_settings_page callback. Could I do it before? Yes, but in my opinion,
>> that would be doing it the "wrong" way.
>>
>> Philip
>>
>>
> I still don't see why your "factors you don't control" aren't known earlier
> in processing, but I saw a discussion recently on this list (I think it was
> about conditional tags round css) whereby the idea discussed was to always
> enqueue (a script) on the page, marked to go in the footer, and then you
> could decide to remove it from the queue during processing of the page. I
> think that may satisfy your requirement (with the caveat that dependencies
> may have already been injected)
>
>
> Mike

From piemanek at gmail.com  Wed May 11 19:30:01 2011
From: piemanek at gmail.com (Simon Blackbourn)
Date: Wed, 11 May 2011 20:30:01 +0100
Subject: [wp-hackers] Adding custom post types to feed breaks term feed
Message-ID: <BANLkTinr3-C-CCgMrCiXyBiK4z2yPkNu2Q@mail.gmail.com>

I need to add custom post types to the main feed, so I've used the following
piece of code, which is fairly widely quoted around the net as the way to
achive this.


add_filter( 'request', array( $this, 'feed_request' ) );

function feed_request( $qv ) {

    if ( isset( $qv['feed'] ) && !isset( $qv['post_type'] ) )
        $qv['post_type'] = array( 'post-type-1', 'post-type-2' );

    return $qv;

}


However individual term feeds, i.e. http://example.com/taxonomy/term/feed,
then show as having no items.

Is there a correct way to add custom post types to the main feed that
doesn't break these other feeds?

Thanks
Simon

From paul at codehooligans.com  Wed May 11 19:48:15 2011
From: paul at codehooligans.com (Paul)
Date: Wed, 11 May 2011 15:48:15 -0400
Subject: [wp-hackers] any suggestions before creating search module? :)
In-Reply-To: <E30ED446-6DF7-4F7B-A38D-2BFD8CBE156B@thisismyurl.com>
References: <BANLkTikwzu_TNieYMLc5NXRTUKWRKcFiiA@mail.gmail.com>
	<E30ED446-6DF7-4F7B-A38D-2BFD8CBE156B@thisismyurl.com>
Message-ID: <3FB9D7FF-49B1-4B69-BBDA-CACF6703F4DB@codehooligans.com>

While the solution suggested by Chris will work I don't like to see people get into direct SQL queries for something so trivial. Look into the WP_Query object. It now has extensive compare options for custom fields
http://codex.wordpress.org/Function_Reference/WP_Query#Custom_Field_Parameters

P-

On May 11, 2011, at 9:55 AM, Christopher Ross wrote:

> Konrad, I suspect http://css-tricks.com/snippets/wordpress/custom-loop-based-on-custom-fields/ will do what you're looking for. Chris
> 
> 
> On 2011-05-11, at 7:43 AM, Konrad Karpieszuk wrote:
> 
>> hi there
>> 
>> I am preparing to create some kind of search engine for one post type
>> (called 'appartments') which will query those posts counting tens of
>> custom fields associated with post. every post has CF like
>> '_animalls_allowed' , '_seasight_location' with values 'yes', 'no' or
>> 'maybe'
>> 
>> i know that here are plenty of wordpress specialist so could you give
>> me some suggestions? i have some idea in my head but what do you
>> suggest to read? how to hook this into standard wordpress search query
>> (now i am thinking about creating my own search form which will use
>> own search mechanism [but also on query posts]). maybe you know some
>> articles which can be helpfull for me? or maybe some plugin which
>> already exists?
>> 
>> thank you in advance for any suggestions!
>> 
>> -- 
>> (en) regards / (pl) pozdrawiam
>> Konrad Karpieszuk
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 
> __
> 
> Christopher Ross
> Online Portfolio - http://christopherross.ca
> Personal Blog - http://thisismyurl.com
> 
> Fredericton - 506.238.4661
> San Diego   - 858.201.4912
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jan.fabry at monkeyman.be  Thu May 12 13:29:29 2011
From: jan.fabry at monkeyman.be (Jan Fabry)
Date: Thu, 12 May 2011 06:29:29 -0700 (PDT)
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTi=2q9D9NHOcx8_Y4aSKFbWE9WhyZg@mail.gmail.com>
Message-ID: <9301147.2608.1305206969144.JavaMail.geo-discussion-forums@yqfv25>

On Wednesday, May 11, 2011 7:09:48 PM UTC+2, Mike Little wrote:
>
> On Wed, May 11, 2011 at 17:46, Cornelius, Gregory <gco... at bu.edu> wrote:
>
> > Sidebars are a good example of code that is not executed until the page 
> is
> > partially rendered. There is no way for a widget to know that it is going 
> to
> > be rendered before the template is partially rendered.
> >
> >
> Look into is_active_sidebar()  and wp_get_sidebars_widgets(). You can
> determine whether a a particular widget area or widget is active or not
> quite early on in the processing.
>
Will is_active_sidebar() also tell you whether the sidebar will be called by 
the current template file? If I register two sidebars but only call one of 
them in my template file (and the other one in another template file), how 
can I know this at the time wp_enqueue_scripts is fired?

I can use the trick to enqueue my script and set a dequeue callback at the 
bottom which I remove if I do render the widget, but this is 
counterintuitive to use, and will not remove dependencies - even if those 
dependencies are also set to load at the bottom. (For an example of this 
technique, see my WPSE answer: 
[ http://wordpress.stackexchange.com/questions/16208/dynamically-add-scripts-to-wp-widget-widget-method/16720#16720 
])

Greetings,

Jan Fabry

From brian at fegter.com  Thu May 12 19:01:55 2011
From: brian at fegter.com (Brian Fegter)
Date: Thu, 12 May 2011 15:01:55 -0400
Subject: [wp-hackers] Post Slug Keyword Filter?
Message-ID: <BANLkTimrP=qKMeEmJ-ov-bF+SH-eD3VDcQ@mail.gmail.com>

I'm running into an issue with an an ecomm plugin uses custom rewrites to
display the shopping cart. This plugin allows me to set the slug for the
shopping cart in the settings page. However, it was redirecting to a post
with a form of 'cart' in the slug even though my setting slug was
'checkout'. The post in question had the word cartoon included in the slug.

I fixed this by renaming the cart% slugs to another name. I was wondering if
there was a way to filter the slug when it's saved. I see that
http://codex.wordpress.org/Plugin_API/Filter_Reference/editable_slug uses
the sample slug function. I was wondering if there was a way to filter the
final slug whenever a user saves a slug.

Thanks for any help you can give!
Brian

From casey.bisson at gmail.com  Fri May 13 04:11:38 2011
From: casey.bisson at gmail.com (Casey Bisson)
Date: Thu, 12 May 2011 21:11:38 -0700
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <4DCA3459.3090503@philipwalton.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<4DCA3459.3090503@philipwalton.com>
Message-ID: <18641255-D163-48C2-948F-E06203AB50C6@gmail.com>


I coded around the problem here:

http://plugins.trac.wordpress.org/browser/bsuite/trunk/components/cms-widgets.php#L1966

Look for late_enqueue_script().

What I really wish is for is an option to set the async=true property when the script is actually added to the markup.

--Casey Bisson

http://MaisonBisson.com/

On May 11, 2011, at 12:01 AM, Philip Walton wrote:

> On 5/10/11 11:37 PM, Otto wrote:
>> If you're not deciding until midway through the page, then
>> you're-doing-it-wrong (tm). You can't enqueue once scripts have
>> printed in the header, due to possible dependencies. For example, if a
>> script enqueued in the head depends on a script enqueued in the
>> footer, then the footer script gets promoted to the header. This is
>> part of the purpose of the script dependency system.
> I get the script dependency issue, but in my case I know for a fact that no script in the head will depend on a script in the footer.
> 
> Also, if we're talking about the "right" way to do it, in my situation (granted you aren't seeing what I'm trying to do) I believe it's much more hackish and work-around-ish to move that decision to before the wp_enqueue_scripts hook.
> 
> I would understand doing so if WordPress were unable to add this functionality, but to categorically say there is no situation where it could be the "right" way to go seems to go against the spirit of what we're all trying to do.


From wp at andrewnacin.com  Fri May 13 04:43:56 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 13 May 2011 00:43:56 -0400
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <18641255-D163-48C2-948F-E06203AB50C6@gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<4DCA3459.3090503@philipwalton.com>
	<18641255-D163-48C2-948F-E06203AB50C6@gmail.com>
Message-ID: <BANLkTi=PBWBza_9Ojre7UZLXWh31-A=rmA@mail.gmail.com>

On Fri, May 13, 2011 at 12:11 AM, Casey Bisson <casey.bisson at gmail.com>wrote:

>
> I coded around the problem here:
>
>
> http://plugins.trac.wordpress.org/browser/bsuite/trunk/components/cms-widgets.php#L1966
>
> Look for late_enqueue_script().
>

Please prefix your functions.

If someone else on this list decides to try your functions, then the two
plugins will not be compatible. Prefixing functions makes it more obvious
that functions should be unique.

More: http://andrewnacin.com/2010/05/11/in-wordpress-prefix-everything/

Nacin

From lonnyk at gmail.com  Sat May 14 03:08:41 2011
From: lonnyk at gmail.com (Lonny K)
Date: Fri, 13 May 2011 23:08:41 -0400
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTi=b6kwiHxadCXj+oB2GYY4kdYg5dQ@mail.gmail.com>
References: <4DC97811.7000203@gunters.org>
	<10155575.183.1305069386724.JavaMail.geo-discussion-forums@vbvc21>
	<BANLkTi=b6kwiHxadCXj+oB2GYY4kdYg5dQ@mail.gmail.com>
Message-ID: <BANLkTi=sg19oB_fo6L9_QTJ-FB67zVc8pw@mail.gmail.com>

I just wanted to ask a few questions about this:

1) What is the GUID used for inside of WP?
2) Why is the hostname stored here? It seems very redundant to me.

On Tue, May 10, 2011 at 9:33 PM, Lynne Pope <lynne.pope at gmail.com> wrote:

> On Wed, May 11, 2011 at 11:16 AM, 24/7 <24-7 at gmx.net> wrote:
>
> >  So far i can't see a reason
> > to not open a trac ticket and change this.
> >
>
> It's been around for 3 years:
> http://core.trac.wordpress.org/ticket/6492
> <http://core.trac.wordpress.org/ticket/6492>
>
> Since that ticket is now getting new comments its probably time to take
> this
> discussion there.
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Sat May 14 06:12:17 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 14 May 2011 16:12:17 +1000
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTi=sg19oB_fo6L9_QTJ-FB67zVc8pw@mail.gmail.com>
References: <4DC97811.7000203@gunters.org>
	<10155575.183.1305069386724.JavaMail.geo-discussion-forums@vbvc21>
	<BANLkTi=b6kwiHxadCXj+oB2GYY4kdYg5dQ@mail.gmail.com>
	<BANLkTi=sg19oB_fo6L9_QTJ-FB67zVc8pw@mail.gmail.com>
Message-ID: <BANLkTik9u_FonKDX_HNzEGnwxPOYfn8+Bg@mail.gmail.com>

The Guid is primarily used for the feeds.
The Hostname is included to give it a prefix which differs from most other
installations (Localhost being the obvious case where it's not a unique
inclusion)

On 14 May 2011 13:08, Lonny K <lonnyk at gmail.com> wrote:

> I just wanted to ask a few questions about this:
>
> 1) What is the GUID used for inside of WP?
> 2) Why is the hostname stored here? It seems very redundant to me.
>
> On Tue, May 10, 2011 at 9:33 PM, Lynne Pope <lynne.pope at gmail.com> wrote:
>
> > On Wed, May 11, 2011 at 11:16 AM, 24/7 <24-7 at gmx.net> wrote:
> >
> > >  So far i can't see a reason
> > > to not open a trac ticket and change this.
> > >
> >
> > It's been around for 3 years:
> > http://core.trac.wordpress.org/ticket/6492
> > <http://core.trac.wordpress.org/ticket/6492>
> >
> > Since that ticket is now getting new comments its probably time to take
> > this
> > discussion there.
> >
> > Lynne
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at striderweb.com  Sat May 14 21:21:13 2011
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 14 May 2011 16:21:13 -0500
Subject: [wp-hackers] WordPress Hosting: Individual Sites vs Network
In-Reply-To: <AANLkTimt3Lj=dxS4eaVw_8VWSHSycBywSCyDqOjEDtu+@mail.gmail.com>
References: <AANLkTi=imUu8C4mWAFNmkK0SXp4OsX2eeowE=6ATD+NU@mail.gmail.com>
	<149FBB05-5C1F-47C8-A2CD-C96AFBB67811@striderweb.com>
	<AANLkTimt3Lj=dxS4eaVw_8VWSHSycBywSCyDqOjEDtu+@mail.gmail.com>
Message-ID: <B3975FAD-C89E-475F-85C0-119B908C8B7C@striderweb.com>

I didn't use multiblog because at the time I started with VMB, WordPress MU wasn't too mature, and also for reasons similar to yours:  I wanted the different blogs to be completely separate entities.

As for plugins and themes being separate for some blogs, standard WordPress's "custom wp-content directory" feature can take care of that easily.

Steve

On Mar 7, 2011, at 7:31 PM, John 3:16 Media wrote:

> interesting seems a little too hacky for my tastes.  And it seems to me it
> would create problems of its own.  For example some sites would have a
> custom theme avavlible just to them, or that diffrent sites have diffrent
> sets of plugins.  Thanks anyway is interesting, although while i read that I
> do wonder why the author didn;t just use multisite, lol.
> 
> On Mon, Mar 7, 2011 at 5:08 PM, Stephen Rider <wp-hackers at striderweb.com>wrote:
> 
>> Hi --
>> 
>> You might be interested in Virtual Multiblog:
>> http://striderweb.com/nerdaphernalia/features/virtual-multiblog/
>> 
>> Stephen Rider
>> 
>> On Mar 6, 2011, at 11:51 PM, John 3:16 Media wrote:


From andycharrington at gmail.com  Sat May 14 21:24:13 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Sat, 14 May 2011 22:24:13 +0100
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <4DA37535.9090106@thecodecave.com>
References: <BANLkTi=WmUniTk6gNnRO_9GiJTr+G0MgYQ@mail.gmail.com>
	<4DA37535.9090106@thecodecave.com>
Message-ID: <CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>

Hi all

I am trying to find a way to exclude a dynamic sidebar from the default widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am using dynamic sidebars as part of a plugin and as such don't want the user to be able to assign widgets to the sidebars my plugin creates. 

Does that makes sense? I hope so!

I haven't found any hooks I can use, so am wondering if the only option is to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be honest so was hoping someone here had some bright ideas!

Thanks a lot

Andy

Sent from my iPhone

On 11 Apr 2011, at 22:40, Brian Layman <wp-hackers at thecodecave.com> wrote:

> On 4/11/2011 2:58 PM, Andy Charrington wrote:
>> I am trying to set up a test environment for a multisite install and figured
>> that the most realistic tests would be when done with actual data from from
>> the target site. So...
>> Would somebody mind explaining and/or pointing me in the right direction??
> 
> Leaving port 3306 wide open is generally a bad idea.  You'll eventually be hacked or have a slow mysql server due to all the servers out there continuously trying passwords.
> 
> What you are trying to do will work. IF you really want to do this test, figure out your hostgator IP address and then contact wired tree and then can setup a iptables rule to open 3306 for only that server on your vps.  Additionally you'll need to make sure that you are able to make the out bound connection from the hostgator side.  It is likely blocked by default.  If you have ssh access on your host gator account, I would use mysql from the command line to make sure that part is working before trying to diagnose more wide ranging issues.
> 
> Beyond that you'll need to post to the support forums for help with a better definition of what you mean by an infinite loop...
> 
> Hope that helped.
> -- 
> 
> Brian Layman
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From andycharrington at gmail.com  Sun May 15 15:23:37 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Sun, 15 May 2011 16:23:37 +0100
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
References: <BANLkTi=WmUniTk6gNnRO_9GiJTr+G0MgYQ@mail.gmail.com>
	<4DA37535.9090106@thecodecave.com>
	<CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
Message-ID: <43E55C2A-6832-4938-873E-A6D7933CFF75@gmail.com>

Wow! I've never known a question go unanswered! I realize it's a strange question and probably not something anyone has ever done before. I guess I'm just seeing if anyone has any bright ideas?

Thanks a lot

Andy

Sent from my iPhone

On 14 May 2011, at 22:24, Andy Charrington-Wilden <andycharrington at gmail.com> wrote:

> Hi all
> 
> I am trying to find a way to exclude a dynamic sidebar from the default widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am using dynamic sidebars as part of a plugin and as such don't want the user to be able to assign widgets to the sidebars my plugin creates. 
> 
> Does that makes sense? I hope so!
> 
> I haven't found any hooks I can use, so am wondering if the only option is to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be honest so was hoping someone here had some bright ideas!
> 
> Thanks a lot
> 
> Andy
> 
> Sent from my iPhone
> 
> On 11 Apr 2011, at 22:40, Brian Layman <wp-hackers at thecodecave.com> wrote:
> 
>> On 4/11/2011 2:58 PM, Andy Charrington wrote:
>>> I am trying to set up a test environment for a multisite install and figured
>>> that the most realistic tests would be when done with actual data from from
>>> the target site. So...
>>> Would somebody mind explaining and/or pointing me in the right direction??
>> 
>> Leaving port 3306 wide open is generally a bad idea.  You'll eventually be hacked or have a slow mysql server due to all the servers out there continuously trying passwords.
>> 
>> What you are trying to do will work. IF you really want to do this test, figure out your hostgator IP address and then contact wired tree and then can setup a iptables rule to open 3306 for only that server on your vps.  Additionally you'll need to make sure that you are able to make the out bound connection from the hostgator side.  It is likely blocked by default.  If you have ssh access on your host gator account, I would use mysql from the command line to make sure that part is working before trying to diagnose more wide ranging issues.
>> 
>> Beyond that you'll need to post to the support forums for help with a better definition of what you mean by an infinite loop...
>> 
>> Hope that helped.
>> -- 
>> 
>> Brian Layman
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers

From dan at instinct.co.nz  Sun May 15 15:24:38 2011
From: dan at instinct.co.nz (Dan Milward)
Date: Sun, 15 May 2011 23:24:38 +0800
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <43E55C2A-6832-4938-873E-A6D7933CFF75@gmail.com>
References: <BANLkTi=WmUniTk6gNnRO_9GiJTr+G0MgYQ@mail.gmail.com>	<4DA37535.9090106@thecodecave.com>	<CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
	<43E55C2A-6832-4938-873E-A6D7933CFF75@gmail.com>
Message-ID: <4DCFF036.9040206@instinct.co.nz>

You do realize its the weekend ;)

On 15/05/11 11:23 PM, Andy Charrington-Wilden wrote:
> Wow! I've never known a question go unanswered! I realize it's a strange question and probably not something anyone has ever done before. I guess I'm just seeing if anyone has any bright ideas?
>
> Thanks a lot
>
> Andy
>
> Sent from my iPhone
>
> On 14 May 2011, at 22:24, Andy Charrington-Wilden<andycharrington at gmail.com>  wrote:
>
>> Hi all
>>
>> I am trying to find a way to exclude a dynamic sidebar from the default widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am using dynamic sidebars as part of a plugin and as such don't want the user to be able to assign widgets to the sidebars my plugin creates.
>>
>> Does that makes sense? I hope so!
>>
>> I haven't found any hooks I can use, so am wondering if the only option is to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be honest so was hoping someone here had some bright ideas!
>>
>> Thanks a lot
>>
>> Andy
>>
>> Sent from my iPhone
>>
>> On 11 Apr 2011, at 22:40, Brian Layman<wp-hackers at thecodecave.com>  wrote:
>>
>>> On 4/11/2011 2:58 PM, Andy Charrington wrote:
>>>> I am trying to set up a test environment for a multisite install and figured
>>>> that the most realistic tests would be when done with actual data from from
>>>> the target site. So...
>>>> Would somebody mind explaining and/or pointing me in the right direction??
>>> Leaving port 3306 wide open is generally a bad idea.  You'll eventually be hacked or have a slow mysql server due to all the servers out there continuously trying passwords.
>>>
>>> What you are trying to do will work. IF you really want to do this test, figure out your hostgator IP address and then contact wired tree and then can setup a iptables rule to open 3306 for only that server on your vps.  Additionally you'll need to make sure that you are able to make the out bound connection from the hostgator side.  It is likely blocked by default.  If you have ssh access on your host gator account, I would use mysql from the command line to make sure that part is working before trying to diagnose more wide ranging issues.
>>>
>>> Beyond that you'll need to post to the support forums for help with a better definition of what you mean by an infinite loop...
>>>
>>> Hope that helped.
>>> -- 
>>>
>>> Brian Layman
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From andycharrington at gmail.com  Sun May 15 15:32:25 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Sun, 15 May 2011 16:32:25 +0100
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <4DCFF036.9040206@instinct.co.nz>
References: <BANLkTi=WmUniTk6gNnRO_9GiJTr+G0MgYQ@mail.gmail.com>
	<4DA37535.9090106@thecodecave.com>
	<CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
	<43E55C2A-6832-4938-873E-A6D7933CFF75@gmail.com>
	<4DCFF036.9040206@instinct.co.nz>
Message-ID: <10934A97-EAF7-449C-9B2D-7D2B0C695EEB@gmail.com>

Indeed I do sir. 

:-)

Sent from my iPhone

On 15 May 2011, at 16:24, Dan Milward <dan at instinct.co.nz> wrote:

> You do realize its the weekend ;)
> 
> On 15/05/11 11:23 PM, Andy Charrington-Wilden wrote:
>> Wow! I've never known a question go unanswered! I realize it's a strange question and probably not something anyone has ever done before. I guess I'm just seeing if anyone has any bright ideas?
>> 
>> Thanks a lot
>> 
>> Andy
>> 
>> Sent from my iPhone
>> 
>> On 14 May 2011, at 22:24, Andy Charrington-Wilden<andycharrington at gmail.com>  wrote:
>> 
>>> Hi all
>>> 
>>> I am trying to find a way to exclude a dynamic sidebar from the default widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am using dynamic sidebars as part of a plugin and as such don't want the user to be able to assign widgets to the sidebars my plugin creates.
>>> 
>>> Does that makes sense? I hope so!
>>> 
>>> I haven't found any hooks I can use, so am wondering if the only option is to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be honest so was hoping someone here had some bright ideas!
>>> 
>>> Thanks a lot
>>> 
>>> Andy
>>> 
>>> Sent from my iPhone
>>> 
>>> On 11 Apr 2011, at 22:40, Brian Layman<wp-hackers at thecodecave.com>  wrote:
>>> 
>>>> On 4/11/2011 2:58 PM, Andy Charrington wrote:
>>>>> I am trying to set up a test environment for a multisite install and figured
>>>>> that the most realistic tests would be when done with actual data from from
>>>>> the target site. So...
>>>>> Would somebody mind explaining and/or pointing me in the right direction??
>>>> Leaving port 3306 wide open is generally a bad idea.  You'll eventually be hacked or have a slow mysql server due to all the servers out there continuously trying passwords.
>>>> 
>>>> What you are trying to do will work. IF you really want to do this test, figure out your hostgator IP address and then contact wired tree and then can setup a iptables rule to open 3306 for only that server on your vps.  Additionally you'll need to make sure that you are able to make the out bound connection from the hostgator side.  It is likely blocked by default.  If you have ssh access on your host gator account, I would use mysql from the command line to make sure that part is working before trying to diagnose more wide ranging issues.
>>>> 
>>>> Beyond that you'll need to post to the support forums for help with a better definition of what you mean by an infinite loop...
>>>> 
>>>> Hope that helped.
>>>> -- 
>>>> 
>>>> Brian Layman
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From andycharrington at gmail.com  Sun May 15 16:17:08 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Sun, 15 May 2011 17:17:08 +0100
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <4DCFF036.9040206@instinct.co.nz>
References: <BANLkTi=WmUniTk6gNnRO_9GiJTr+G0MgYQ@mail.gmail.com>
	<4DA37535.9090106@thecodecave.com>
	<CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
	<43E55C2A-6832-4938-873E-A6D7933CFF75@gmail.com>
	<4DCFF036.9040206@instinct.co.nz>
Message-ID: <D49B524A-051E-4889-BC32-CB73C1928530@gmail.com>

Just thinking out loud now. Another way of doing it would be to assign user levels to the editing of dynamic sidebars. For example- 

If user role < administrator
     Allow editing/dashboard viewing of sidebars with ids in ('mysidebar1', 'mysidebar2')
Elseif role == administrator
     Allow editing/dashboard viewing of sidebars with ids of ('mysidebar3')

That way I can just put a non existent role in there so no one will ever see the particular sidebars in widgets.php. 

I guess the only possible sticking point there is that the above logic may affect the way I am pulling the sidebars in to the plugin. Although I suppose that could be overcome by adding logic to detect the page the sidebars are being rendered on. 

Hhhmmmm. 

Ps. Dan, didn't mean to seem abrupt with my comment! Reading it back it seems quite rude! Sorry! I tend to forget not to work on weekends! :-) 

Sent from my iPhone

On 15 May 2011, at 16:24, Dan Milward <dan at instinct.co.nz> wrote:

> You do realize its the weekend ;)
> 
> On 15/05/11 11:23 PM, Andy Charrington-Wilden wrote:
>> Wow! I've never known a question go unanswered! I realize it's a strange question and probably not something anyone has ever done before. I guess I'm just seeing if anyone has any bright ideas?
>> 
>> Thanks a lot
>> 
>> Andy
>> 
>> Sent from my iPhone
>> 
>> On 14 May 2011, at 22:24, Andy Charrington-Wilden<andycharrington at gmail.com>  wrote:
>> 
>>> Hi all
>>> 
>>> I am trying to find a way to exclude a dynamic sidebar from the default widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am using dynamic sidebars as part of a plugin and as such don't want the user to be able to assign widgets to the sidebars my plugin creates.
>>> 
>>> Does that makes sense? I hope so!
>>> 
>>> I haven't found any hooks I can use, so am wondering if the only option is to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be honest so was hoping someone here had some bright ideas!
>>> 
>>> Thanks a lot
>>> 
>>> Andy
>>> 
>>> Sent from my iPhone
>>> 
>>> On 11 Apr 2011, at 22:40, Brian Layman<wp-hackers at thecodecave.com>  wrote:
>>> 
>>>> On 4/11/2011 2:58 PM, Andy Charrington wrote:
>>>>> I am trying to set up a test environment for a multisite install and figured
>>>>> that the most realistic tests would be when done with actual data from from
>>>>> the target site. So...
>>>>> Would somebody mind explaining and/or pointing me in the right direction??
>>>> Leaving port 3306 wide open is generally a bad idea.  You'll eventually be hacked or have a slow mysql server due to all the servers out there continuously trying passwords.
>>>> 
>>>> What you are trying to do will work. IF you really want to do this test, figure out your hostgator IP address and then contact wired tree and then can setup a iptables rule to open 3306 for only that server on your vps.  Additionally you'll need to make sure that you are able to make the out bound connection from the hostgator side.  It is likely blocked by default.  If you have ssh access on your host gator account, I would use mysql from the command line to make sure that part is working before trying to diagnose more wide ranging issues.
>>>> 
>>>> Beyond that you'll need to post to the support forums for help with a better definition of what you mean by an infinite loop...
>>>> 
>>>> Hope that helped.
>>>> -- 
>>>> 
>>>> Brian Layman
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp at andrewnacin.com  Sun May 15 16:25:00 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 15 May 2011 12:25:00 -0400
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
Message-ID: <BANLkTimy+AF2U+hRPXs--11hVC=XVMjtvg@mail.gmail.com>

On May 14, 2011 4:24 PM, "Andy Charrington-Wilden" <
andycharrington at gmail.com> wrote:
>
> Hi all
>
> I am trying to find a way to exclude a dynamic sidebar from the default
widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am
using dynamic sidebars as part of a plugin and as such don't want the user
to be able to assign widgets to the sidebars my plugin creates.
>
> Does that makes sense? I hope so!
>
> I haven't found any hooks I can use, so am wondering if the only option is
to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be
honest so was hoping someone here had some bright ideas!

Instead of leveraging dynamic_side ar() maybe your plugin should just call
the_widget(). There isn't an API for assigning widgets to sidebars anyway.

Nacin

From andycharrington at gmail.com  Sun May 15 16:55:03 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Sun, 15 May 2011 17:55:03 +0100
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <BANLkTimy+AF2U+hRPXs--11hVC=XVMjtvg@mail.gmail.com>
References: <BANLkTimy+AF2U+hRPXs--11hVC=XVMjtvg@mail.gmail.com>
Message-ID: <E0AA4E5F-D457-4F1F-BE9F-BA73D576F624@gmail.com>

Hi Nacin

Thanks for the response. I'm not sure what you mean though. Could you please elaborate a little?

I am successfully emulating the widgets page functionality in my plugin to allow assigning of widgets to sidebars. 

I'm not sure how using the widget call would work? 

Thanks!

Sent from my iPhone

On 15 May 2011, at 17:25, Andrew Nacin <wp at andrewnacin.com> wrote:

> On May 14, 2011 4:24 PM, "Andy Charrington-Wilden" <
> andycharrington at gmail.com> wrote:
>> 
>> Hi all
>> 
>> I am trying to find a way to exclude a dynamic sidebar from the default
> widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am
> using dynamic sidebars as part of a plugin and as such don't want the user
> to be able to assign widgets to the sidebars my plugin creates.
>> 
>> Does that makes sense? I hope so!
>> 
>> I haven't found any hooks I can use, so am wondering if the only option is
> to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be
> honest so was hoping someone here had some bright ideas!
> 
> Instead of leveraging dynamic_side ar() maybe your plugin should just call
> the_widget(). There isn't an API for assigning widgets to sidebars anyway.
> 
> Nacin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chip at chipbennett.net  Sun May 15 17:41:55 2011
From: chip at chipbennett.net (Chip Bennett)
Date: Sun, 15 May 2011 12:41:55 -0500
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <E0AA4E5F-D457-4F1F-BE9F-BA73D576F624@gmail.com>
References: <BANLkTimy+AF2U+hRPXs--11hVC=XVMjtvg@mail.gmail.com>
	<E0AA4E5F-D457-4F1F-BE9F-BA73D576F624@gmail.com>
Message-ID: <BANLkTinGTq=8TaaT6yHSf+2BMwKh-0g2AA@mail.gmail.com>

I think Nacin means: don't register/call a dynamic sidebar; instead, just
output calls to the_widget() in whatever location in the template in which
you would have otherwise called dynamic_sidebar().

Here's an example of using
the_widget()<https://github.com/chipbennett/oenology/blob/master/sidebar-right.php>
.

Chip

On Sun, May 15, 2011 at 11:55 AM, Andy Charrington-Wilden <
andycharrington at gmail.com> wrote:

> Hi Nacin
>
> Thanks for the response. I'm not sure what you mean though. Could you
> please elaborate a little?
>
> I am successfully emulating the widgets page functionality in my plugin to
> allow assigning of widgets to sidebars.
>
> I'm not sure how using the widget call would work?
>
> Thanks!
>
> Sent from my iPhone
>
> On 15 May 2011, at 17:25, Andrew Nacin <wp at andrewnacin.com> wrote:
>
> > On May 14, 2011 4:24 PM, "Andy Charrington-Wilden" <
> > andycharrington at gmail.com> wrote:
> >>
> >> Hi all
> >>
> >> I am trying to find a way to exclude a dynamic sidebar from the default
> > widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am
> > using dynamic sidebars as part of a plugin and as such don't want the
> user
> > to be able to assign widgets to the sidebars my plugin creates.
> >>
> >> Does that makes sense? I hope so!
> >>
> >> I haven't found any hooks I can use, so am wondering if the only option
> is
> > to use CSS to hide the sidebar in widgets.php. Not the ideal solution to
> be
> > honest so was hoping someone here had some bright ideas!
> >
> > Instead of leveraging dynamic_side ar() maybe your plugin should just
> call
> > the_widget(). There isn't an API for assigning widgets to sidebars
> anyway.
> >
> > Nacin
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From andycharrington at gmail.com  Sun May 15 18:00:27 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Sun, 15 May 2011 19:00:27 +0100
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <BANLkTinGTq=8TaaT6yHSf+2BMwKh-0g2AA@mail.gmail.com>
References: <BANLkTimy+AF2U+hRPXs--11hVC=XVMjtvg@mail.gmail.com>
	<E0AA4E5F-D457-4F1F-BE9F-BA73D576F624@gmail.com>
	<BANLkTinGTq=8TaaT6yHSf+2BMwKh-0g2AA@mail.gmail.com>
Message-ID: <DBD34C49-57EA-4875-A39B-E7892485B6F8@gmail.com>

Ah ok I see what you mean. However the plugin utilizes the drag and drop functionality of the sidebars and widgets. It capitalises On sidebars functioning as sidebars and widgets functioning as widgets. 

Although the suggestion is a great one and would solve the initial dilemma, it would also take away functionality that really should stay...

Is there a way to use the_widget() instead of dynamic sidebars and still retain the functionality of the widgets? By this I mean that a user can drag and drop widgets to an area (it does not have to be an actual sidebar, as long as it still acts like one), customise widget option then save for a further function to render the output of the widget. 

Of course, the functionality could be built from scratch, but it seems so silly when it already exists in WordPress. That's why I used it. It's just finding a way in to widgets.php that's the difficulty!

Sent from my iPhone

On 15 May 2011, at 18:41, Chip Bennett <chip at chipbennett.net> wrote:

> I think Nacin means: don't register/call a dynamic sidebar; instead, just
> output calls to the_widget() in whatever location in the template in which
> you would have otherwise called dynamic_sidebar().
> 
> Here's an example of using
> the_widget()<https://github.com/chipbennett/oenology/blob/master/sidebar-right.php>
> .
> 
> Chip
> 
> On Sun, May 15, 2011 at 11:55 AM, Andy Charrington-Wilden <
> andycharrington at gmail.com> wrote:
> 
>> Hi Nacin
>> 
>> Thanks for the response. I'm not sure what you mean though. Could you
>> please elaborate a little?
>> 
>> I am successfully emulating the widgets page functionality in my plugin to
>> allow assigning of widgets to sidebars.
>> 
>> I'm not sure how using the widget call would work?
>> 
>> Thanks!
>> 
>> Sent from my iPhone
>> 
>> On 15 May 2011, at 17:25, Andrew Nacin <wp at andrewnacin.com> wrote:
>> 
>>> On May 14, 2011 4:24 PM, "Andy Charrington-Wilden" <
>>> andycharrington at gmail.com> wrote:
>>>> 
>>>> Hi all
>>>> 
>>>> I am trying to find a way to exclude a dynamic sidebar from the default
>>> widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am
>>> using dynamic sidebars as part of a plugin and as such don't want the
>> user
>>> to be able to assign widgets to the sidebars my plugin creates.
>>>> 
>>>> Does that makes sense? I hope so!
>>>> 
>>>> I haven't found any hooks I can use, so am wondering if the only option
>> is
>>> to use CSS to hide the sidebar in widgets.php. Not the ideal solution to
>> be
>>> honest so was hoping someone here had some bright ideas!
>>> 
>>> Instead of leveraging dynamic_side ar() maybe your plugin should just
>> call
>>> the_widget(). There isn't an API for assigning widgets to sidebars
>> anyway.
>>> 
>>> Nacin
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From justin at justintadlock.com  Mon May 16 18:02:33 2011
From: justin at justintadlock.com (Justin Tadlock)
Date: Mon, 16 May 2011 13:02:33 -0500
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
References: <BANLkTi=WmUniTk6gNnRO_9GiJTr+G0MgYQ@mail.gmail.com>	<4DA37535.9090106@thecodecave.com>
	<CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
Message-ID: <4DD166B9.3000308@justintadlock.com>

You could use something like this:

add_action( 'load-widgets.php', 'my_unregister_sidebars' );

function my_unregister_sidebars() {
     unregister_sidebar( 'your-sidebar-id' );
}

I'm thinking that will remove all the widgets from the sidebar too, so 
it might not produce the desired functionality.

On 5/14/2011 4:24 PM, Andy Charrington-Wilden wrote:
> Hi all
>
> I am trying to find a way to exclude a dynamic sidebar from the default widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am using dynamic sidebars as part of a plugin and as such don't want the user to be able to assign widgets to the sidebars my plugin creates.
>
> Does that makes sense? I hope so!
>
> I haven't found any hooks I can use, so am wondering if the only option is to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be honest so was hoping someone here had some bright ideas!
>
> Thanks a lot
>
> Andy
>
> Sent from my iPhone
>
> On 11 Apr 2011, at 22:40, Brian Layman<wp-hackers at thecodecave.com>  wrote:
>
>> On 4/11/2011 2:58 PM, Andy Charrington wrote:
>>> I am trying to set up a test environment for a multisite install and figured
>>> that the most realistic tests would be when done with actual data from from
>>> the target site. So...
>>> Would somebody mind explaining and/or pointing me in the right direction??
>> Leaving port 3306 wide open is generally a bad idea.  You'll eventually be hacked or have a slow mysql server due to all the servers out there continuously trying passwords.
>>
>> What you are trying to do will work. IF you really want to do this test, figure out your hostgator IP address and then contact wired tree and then can setup a iptables rule to open 3306 for only that server on your vps.  Additionally you'll need to make sure that you are able to make the out bound connection from the hostgator side.  It is likely blocked by default.  If you have ssh access on your host gator account, I would use mysql from the command line to make sure that part is working before trying to diagnose more wide ranging issues.
>>
>> Beyond that you'll need to post to the support forums for help with a better definition of what you mean by an infinite loop...
>>
>> Hope that helped.
>> -- 
>>
>> Brian Layman
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From andycharrington at gmail.com  Sun May 15 18:21:13 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Sun, 15 May 2011 19:21:13 +0100
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <4DD166B9.3000308@justintadlock.com>
References: <BANLkTi=WmUniTk6gNnRO_9GiJTr+G0MgYQ@mail.gmail.com>
	<4DA37535.9090106@thecodecave.com>
	<CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
	<4DD166B9.3000308@justintadlock.com>
Message-ID: <9E103C6D-087C-4CFC-A597-208BD1E1E457@gmail.com>

Yes I had considered unregistering them there and then reregistering them everytime someone hit the plugin page. But as you say, I believe the order of widgets would be lost. No dice. 

I'm currently looking at this

  20  $widgets_access = get_user_setting( 'widgets_access' );

and wondering if there's something there. I don't know anything about the widgets_access settings but maybe I could hook in to that and utilise it for entire sidebars. Don't know. Haven't really looked in to that one in any depth. 

Thank you though!

Sent from my iPhone

On 16 May 2011, at 19:02, Justin Tadlock <justin at justintadlock.com> wrote:

> You could use something like this:
> 
> add_action( 'load-widgets.php', 'my_unregister_sidebars' );
> 
> function my_unregister_sidebars() {
>    unregister_sidebar( 'your-sidebar-id' );
> }
> 
> I'm thinking that will remove all the widgets from the sidebar too, so it might not produce the desired functionality.
> 
> On 5/14/2011 4:24 PM, Andy Charrington-Wilden wrote:
>> Hi all
>> 
>> I am trying to find a way to exclude a dynamic sidebar from the default widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am using dynamic sidebars as part of a plugin and as such don't want the user to be able to assign widgets to the sidebars my plugin creates.
>> 
>> Does that makes sense? I hope so!
>> 
>> I haven't found any hooks I can use, so am wondering if the only option is to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be honest so was hoping someone here had some bright ideas!
>> 
>> Thanks a lot
>> 
>> Andy
>> 
>> Sent from my iPhone
>> 
>> On 11 Apr 2011, at 22:40, Brian Layman<wp-hackers at thecodecave.com>  wrote:
>> 
>>> On 4/11/2011 2:58 PM, Andy Charrington wrote:
>>>> I am trying to set up a test environment for a multisite install and figured
>>>> that the most realistic tests would be when done with actual data from from
>>>> the target site. So...
>>>> Would somebody mind explaining and/or pointing me in the right direction??
>>> Leaving port 3306 wide open is generally a bad idea.  You'll eventually be hacked or have a slow mysql server due to all the servers out there continuously trying passwords.
>>> 
>>> What you are trying to do will work. IF you really want to do this test, figure out your hostgator IP address and then contact wired tree and then can setup a iptables rule to open 3306 for only that server on your vps.  Additionally you'll need to make sure that you are able to make the out bound connection from the hostgator side.  It is likely blocked by default.  If you have ssh access on your host gator account, I would use mysql from the command line to make sure that part is working before trying to diagnose more wide ranging issues.
>>> 
>>> Beyond that you'll need to post to the support forums for help with a better definition of what you mean by an infinite loop...
>>> 
>>> Hope that helped.
>>> -- 
>>> 
>>> Brian Layman
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From andycharrington at gmail.com  Sun May 15 18:34:59 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Sun, 15 May 2011 19:34:59 +0100
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <4DD166B9.3000308@justintadlock.com>
References: <BANLkTi=WmUniTk6gNnRO_9GiJTr+G0MgYQ@mail.gmail.com>
	<4DA37535.9090106@thecodecave.com>
	<CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
	<4DD166B9.3000308@justintadlock.com>
Message-ID: <0E02401C-F553-4B1B-9AD4-C40AB4697A06@gmail.com>

Here's something. The inactive widgets section on widgets.php is actually a dynamic sidebar. See here- 

  50  register_sidebar(array(
  51      'name' => __('Inactive Widgets'),
  52      'id' => 'wp_inactive_widgets',
  53      'description' => '',
  54      'before_widget' => '',
  55      'after_widget' => '',
  56      'before_title' => '',
  57      'after_title' => '',
  58  ));

This is in wp-admin/widgets.php. And the sidebar "Inactive Widgets" does no display as a standard sidebar. Hhhmmmm.... So there is obviously already some logic that tells widgets.php to not render the inactive widgets sidebar as a standard dynamic sidebar. I will look in to that one. 

Also does anyone know if the 

sidebar_admin_setup
action may be of any use here?

Sent from my iPhone

On 16 May 2011, at 19:02, Justin Tadlock <justin at justintadlock.com> wrote:

> You could use something like this:
> 
> add_action( 'load-widgets.php', 'my_unregister_sidebars' );
> 
> function my_unregister_sidebars() {
>    unregister_sidebar( 'your-sidebar-id' );
> }
> 
> I'm thinking that will remove all the widgets from the sidebar too, so it might not produce the desired functionality.
> 
> On 5/14/2011 4:24 PM, Andy Charrington-Wilden wrote:
>> Hi all
>> 
>> I am trying to find a way to exclude a dynamic sidebar from the default widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am using dynamic sidebars as part of a plugin and as such don't want the user to be able to assign widgets to the sidebars my plugin creates.
>> 
>> Does that makes sense? I hope so!
>> 
>> I haven't found any hooks I can use, so am wondering if the only option is to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be honest so was hoping someone here had some bright ideas!
>> 
>> Thanks a lot
>> 
>> Andy
>> 
>> Sent from my iPhone
>> 
>> On 11 Apr 2011, at 22:40, Brian Layman<wp-hackers at thecodecave.com>  wrote:
>> 
>>> On 4/11/2011 2:58 PM, Andy Charrington wrote:
>>>> I am trying to set up a test environment for a multisite install and figured
>>>> that the most realistic tests would be when done with actual data from from
>>>> the target site. So...
>>>> Would somebody mind explaining and/or pointing me in the right direction??
>>> Leaving port 3306 wide open is generally a bad idea.  You'll eventually be hacked or have a slow mysql server due to all the servers out there continuously trying passwords.
>>> 
>>> What you are trying to do will work. IF you really want to do this test, figure out your hostgator IP address and then contact wired tree and then can setup a iptables rule to open 3306 for only that server on your vps.  Additionally you'll need to make sure that you are able to make the out bound connection from the hostgator side.  It is likely blocked by default.  If you have ssh access on your host gator account, I would use mysql from the command line to make sure that part is working before trying to diagnose more wide ranging issues.
>>> 
>>> Beyond that you'll need to post to the support forums for help with a better definition of what you mean by an infinite loop...
>>> 
>>> Hope that helped.
>>> -- 
>>> 
>>> Brian Layman
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From andycharrington at gmail.com  Sun May 15 18:44:46 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Sun, 15 May 2011 19:44:46 +0100
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <4DD166B9.3000308@justintadlock.com>
References: <BANLkTi=WmUniTk6gNnRO_9GiJTr+G0MgYQ@mail.gmail.com>
	<4DA37535.9090106@thecodecave.com>
	<CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
	<4DD166B9.3000308@justintadlock.com>
Message-ID: <D4EE8A17-9332-497B-92DD-6063748CE786@gmail.com>

Actually Justin I wonder if unregistering the sidebar would remove the widgets. Here's the code for that function-

 576  function unregister_sidebar( $name ) {
 577      global $wp_registered_sidebars;
 578  
 579      if ( isset( $wp_registered_sidebars[$name] ) )
 580          unset( $wp_registered_sidebars[$name] );
 581  }
Which to me looks like to simply removes it from the array. Which in theory means we could put it back in the array at the appropriate time and it should pick up it's widget relationships. But there's only one way to find out! I'll try it now. 

Sent from my iPhone

On 16 May 2011, at 19:02, Justin Tadlock <justin at justintadlock.com> wrote:

> You could use something like this:
> 
> add_action( 'load-widgets.php', 'my_unregister_sidebars' );
> 
> function my_unregister_sidebars() {
>    unregister_sidebar( 'your-sidebar-id' );
> }
> 
> I'm thinking that will remove all the widgets from the sidebar too, so it might not produce the desired functionality.
> 
> On 5/14/2011 4:24 PM, Andy Charrington-Wilden wrote:
>> Hi all
>> 
>> I am trying to find a way to exclude a dynamic sidebar from the default widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am using dynamic sidebars as part of a plugin and as such don't want the user to be able to assign widgets to the sidebars my plugin creates.
>> 
>> Does that makes sense? I hope so!
>> 
>> I haven't found any hooks I can use, so am wondering if the only option is to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be honest so was hoping someone here had some bright ideas!
>> 
>> Thanks a lot
>> 
>> Andy
>> 
>> Sent from my iPhone
>> 
>> On 11 Apr 2011, at 22:40, Brian Layman<wp-hackers at thecodecave.com>  wrote:
>> 
>>> On 4/11/2011 2:58 PM, Andy Charrington wrote:
>>>> I am trying to set up a test environment for a multisite install and figured
>>>> that the most realistic tests would be when done with actual data from from
>>>> the target site. So...
>>>> Would somebody mind explaining and/or pointing me in the right direction??
>>> Leaving port 3306 wide open is generally a bad idea.  You'll eventually be hacked or have a slow mysql server due to all the servers out there continuously trying passwords.
>>> 
>>> What you are trying to do will work. IF you really want to do this test, figure out your hostgator IP address and then contact wired tree and then can setup a iptables rule to open 3306 for only that server on your vps.  Additionally you'll need to make sure that you are able to make the out bound connection from the hostgator side.  It is likely blocked by default.  If you have ssh access on your host gator account, I would use mysql from the command line to make sure that part is working before trying to diagnose more wide ranging issues.
>>> 
>>> Beyond that you'll need to post to the support forums for help with a better definition of what you mean by an infinite loop...
>>> 
>>> Hope that helped.
>>> -- 
>>> 
>>> Brian Layman
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From seanseviltwin at gmail.com  Sun May 15 20:18:07 2011
From: seanseviltwin at gmail.com (Sean Newham)
Date: Sun, 15 May 2011 21:18:07 +0100
Subject: [wp-hackers] wp_get_categories modification
Message-ID: <BANLkTin0s+mY+oJBHYsv-0eK1_ejoX7gKA@mail.gmail.com>

Hey guys,
I created a duplicatethe  wp_get_categories function to try to only pick
categories of one type. Upon reading the code, I thought it would be as easy
as adding the 'type'=>'typename' variable to the default options, and as it
calls get_category, I thought everything  would be hunkydory, but it's not
working - it gives exactly the same output as without. I tried reading the
source of walk_category_tree, but tbh this is the first time I have seen the
walker and I'm not even sure if that is remotely related to the problem.

Hopefully you can see I'm trying, you are my last resort wp-hackers list!
Best wishes,
Sean

From andycharrington at gmail.com  Sun May 15 20:51:06 2011
From: andycharrington at gmail.com (Andy Charrington)
Date: Sun, 15 May 2011 21:51:06 +0100
Subject: [wp-hackers] Prevent display of dynamic sidebar in widgets.php
In-Reply-To: <D4EE8A17-9332-497B-92DD-6063748CE786@gmail.com>
References: <BANLkTi=WmUniTk6gNnRO_9GiJTr+G0MgYQ@mail.gmail.com>
	<4DA37535.9090106@thecodecave.com>
	<CBFC9058-E90D-4CD8-9AA2-58EDB29AD436@gmail.com>
	<4DD166B9.3000308@justintadlock.com>
	<D4EE8A17-9332-497B-92DD-6063748CE786@gmail.com>
Message-ID: <BANLkTinnrrzcnOzBkZFiL0Bzx9mtrZ5Hag@mail.gmail.com>

Ok ive done it. thought i would let you all know the solution i came up
with.

Added a conditional statement to 'admin_menu' action which unregisters the
dynamic sidebar i didnt want to display.

However the problem then is that when ever a widget is added, edited or
removed the ajax that takes care of that resaves all the sidebars and their
consequent widgets. Which means the sidebar that i dont want to display
loses all its settings. which is bad! so... I added a call to the sidebar i
want to hide wrapped in a hidden div. Here is the relevant code-

function add_hidden_sidebar_for_ajax(){
if($_SERVER['PHP_SELF'] == '/wp-admin/widgets.php'){
require_once(ABSPATH . 'wp-admin/includes/widgets.php');
echo "<div id=\"thisOneHere\" style=\"display:none;\">";
wp_list_widget_controls('the-id-of-the-sidebar-i-want-to-hide');
echo "</div>";
unregister_sidebar( 'the-id-of-the-sidebar-i-want-to-hide' );
}
}

add_action( 'admin_menu', 'add_hidden_sidebar_for_ajax' );

My plugin then reregisters the sidebar.

Sorted.

Just thought you may be interested in the solution.

Andy

On Sun, May 15, 2011 at 7:44 PM, Andy Charrington-Wilden <
andycharrington at gmail.com> wrote:

> Actually Justin I wonder if unregistering the sidebar would remove the
> widgets. Here's the code for that function-
>
>  576  function unregister_sidebar <http://xref.yoast.com/trunk/_functions/unregister_sidebar.html>( $name <http://xref.yoast.com/trunk/_variables/name.html> ) { 577      global $wp_registered_sidebars <http://xref.yoast.com/trunk/_variables/wp_registered_sidebars.html>; 578   579      if ( isset( $wp_registered_sidebars <http://xref.yoast.com/trunk/_variables/wp_registered_sidebars.html>[$name <http://xref.yoast.com/trunk/_variables/name.html>] ) ) 580          unset <http://xref.yoast.com/trunk/_functions/unset.html>( $wp_registered_sidebars <http://xref.yoast.com/trunk/_variables/wp_registered_sidebars.html>[$name <http://xref.yoast.com/trunk/_variables/name.html>] ); 581  }
>
> Which to me looks like to simply removes it from the array. Which in theory
> means we could put it back in the array at the appropriate time and it
> should pick up it's widget relationships. But there's only one way to find
> out! I'll try it now.
>
> Sent from my iPhone
>
> On 16 May 2011, at 19:02, Justin Tadlock <justin at justintadlock.com> wrote:
>
> You could use something like this:
>
> add_action( 'load-widgets.php', 'my_unregister_sidebars' );
>
> function my_unregister_sidebars() {
>    unregister_sidebar( 'your-sidebar-id' );
> }
>
> I'm thinking that will remove all the widgets from the sidebar too, so it
> might not produce the desired functionality.
>
> On 5/14/2011 4:24 PM, Andy Charrington-Wilden wrote:
>
> Hi all
>
>
> I am trying to find a way to exclude a dynamic sidebar from the default
> widgets page (widgets.php) in wp-admin. I know it sounds crazy but I am
> using dynamic sidebars as part of a plugin and as such don't want the user
> to be able to assign widgets to the sidebars my plugin creates.
>
>
> Does that makes sense? I hope so!
>
>
> I haven't found any hooks I can use, so am wondering if the only option is
> to use CSS to hide the sidebar in widgets.php. Not the ideal solution to be
> honest so was hoping someone here had some bright ideas!
>
>
> Thanks a lot
>
>
> Andy
>
>
> Sent from my iPhone
>
>
> On 11 Apr 2011, at 22:40, Brian Layman<wp-hackers at thecodecave.com>  wrote:
>
>
> On 4/11/2011 2:58 PM, Andy Charrington wrote:
>
> I am trying to set up a test environment for a multisite install and
> figured
>
> that the most realistic tests would be when done with actual data from from
>
> the target site. So...
>
> Would somebody mind explaining and/or pointing me in the right direction??
>
> Leaving port 3306 wide open is generally a bad idea.  You'll eventually be
> hacked or have a slow mysql server due to all the servers out there
> continuously trying passwords.
>
>
> What you are trying to do will work. IF you really want to do this test,
> figure out your hostgator IP address and then contact wired tree and then
> can setup a iptables rule to open 3306 for only that server on your vps.
>  Additionally you'll need to make sure that you are able to make the out
> bound connection from the hostgator side.  It is likely blocked by default.
>  If you have ssh access on your host gator account, I would use mysql from
> the command line to make sure that part is working before trying to diagnose
> more wide ranging issues.
>
>
> Beyond that you'll need to post to the support forums for help with a
> better definition of what you mean by an infinite loop...
>
>
> Hope that helped.
>
> --
>
>
> Brian Layman
>
>
> _______________________________________________
>
> wp-hackers mailing list
>
> wp-hackers at lists.automattic.com
>
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
>
> wp-hackers mailing list
>
> wp-hackers at lists.automattic.com
>
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>


-- 
Jealous Designs
Website:  <http://jealousdesigns.co.uk/>jealousdesigns.co.uk
Portfolio:  <http://jealousdesigns.co.uk/portfolio>
jealousdesigns.co.uk/portfolio
Phone: 07903030008
Twitter: _a_n_d_y
Skype: andycharrington



Web design | Web development | WordPress | Flash | Posters, business cards
and flyers | Bespoke online tools | PHP | MySQL | (X)HTML | CSS | Javascript
| ActionScript

From cross at thisismyurl.com  Mon May 16 13:15:04 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Mon, 16 May 2011 10:15:04 -0300
Subject: [wp-hackers] WP_Query to sort by Custom Fields
Message-ID: <38FEE9D1-90FE-452C-826F-0DDDCC4589B8@thisismyurl.com>

Is it possible to sort a WP_Query but custom field results (ideally multiple)?

I have a query that requires me to fetch a series of events, the site developer used a custom post type and inserted the day and month as custom fields, so now what I need to do is fetch the most recent 15 events. By default, it shows me the 15 that appeared in the database last but what I need is the month-day combo instead.

One way to do it obviously would be to fetch all events and then sort but there are thousands in the system. Even if I limited to just this month and last, there are still a lot. So, what's the best way to fetch and sort posts based on multiple custom fields?

Thanks!

c.


__

Christopher Ross
Online Portfolio - http://christopherross.ca
Personal Blog - http://thisismyurl.com

Fredericton - 506.238.4661
San Diego   - 858.201.4912


From johnbillion+wp at gmail.com  Mon May 16 13:17:45 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 16 May 2011 14:17:45 +0100
Subject: [wp-hackers] WP_Query to sort by Custom Fields
In-Reply-To: <38FEE9D1-90FE-452C-826F-0DDDCC4589B8@thisismyurl.com>
References: <38FEE9D1-90FE-452C-826F-0DDDCC4589B8@thisismyurl.com>
Message-ID: <BANLkTim2w=xVGyUSNUm6VC1+1SYc5T+3Bw@mail.gmail.com>

On 16 May 2011 14:15, Christopher Ross <cross at thisismyurl.com> wrote:
> Is it possible to sort a WP_Query but custom field results (ideally multiple)?
>
> I have a query that requires me to fetch a series of events, the site developer used a custom post type and inserted the day and month as custom fields, so now what I need to do is fetch the most recent 15 events. By default, it shows me the 15 that appeared in the database last but what I need is the month-day combo instead.
>
> One way to do it obviously would be to fetch all events and then sort but there are thousands in the system. Even if I limited to just this month and last, there are still a lot. So, what's the best way to fetch and sort posts based on multiple custom fields?

Yep, see http://scribu.net/wordpress/advanced-metadata-queries.html

From wordpress at danielbachhuber.com  Mon May 16 13:26:49 2011
From: wordpress at danielbachhuber.com (Daniel Bachhuber)
Date: Mon, 16 May 2011 09:26:49 -0400
Subject: [wp-hackers] WP_Query to sort by Custom Fields
In-Reply-To: <BANLkTim2w=xVGyUSNUm6VC1+1SYc5T+3Bw@mail.gmail.com>
References: <38FEE9D1-90FE-452C-826F-0DDDCC4589B8@thisismyurl.com>
	<BANLkTim2w=xVGyUSNUm6VC1+1SYc5T+3Bw@mail.gmail.com>
Message-ID: <0F5F0ADA-A131-4956-AA83-2A758B9ED40E@danielbachhuber.com>

A better solution to your problem would be to store the event day and month together as a UNIX timestamp. It's a simpler query and will be more flexible in the long run.

On May 16, 2011, at 9:17 AM, John Blackbourn <johnbillion+wp at gmail.com> wrote:

> On 16 May 2011 14:15, Christopher Ross <cross at thisismyurl.com> wrote:
>> Is it possible to sort a WP_Query but custom field results (ideally multiple)?
>> 
>> I have a query that requires me to fetch a series of events, the site developer used a custom post type and inserted the day and month as custom fields, so now what I need to do is fetch the most recent 15 events. By default, it shows me the 15 that appeared in the database last but what I need is the month-day combo instead.
>> 
>> One way to do it obviously would be to fetch all events and then sort but there are thousands in the system. Even if I limited to just this month and last, there are still a lot. So, what's the best way to fetch and sort posts based on multiple custom fields?
> 
> Yep, see http://scribu.net/wordpress/advanced-metadata-queries.html
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From lonnyk at gmail.com  Mon May 16 13:40:26 2011
From: lonnyk at gmail.com (Lonny K)
Date: Mon, 16 May 2011 09:40:26 -0400
Subject: [wp-hackers] Time to change GUID to UUID?
In-Reply-To: <BANLkTik9u_FonKDX_HNzEGnwxPOYfn8+Bg@mail.gmail.com>
References: <4DC97811.7000203@gunters.org>
	<10155575.183.1305069386724.JavaMail.geo-discussion-forums@vbvc21>
	<BANLkTi=b6kwiHxadCXj+oB2GYY4kdYg5dQ@mail.gmail.com>
	<BANLkTi=sg19oB_fo6L9_QTJ-FB67zVc8pw@mail.gmail.com>
	<BANLkTik9u_FonKDX_HNzEGnwxPOYfn8+Bg@mail.gmail.com>
Message-ID: <BANLkTik2t79uJd4+U3AB0GHpD9TgKrgRVA@mail.gmail.com>

On Sat, May 14, 2011 at 2:12 AM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:

> The Guid is primarily used for the feeds.
> The Hostname is included to give it a prefix which differs from most other
> installations (Localhost being the obvious case where it's not a unique
> inclusion)


Why don't we just store it in wp-config.php or wp_blogs/wp_sites for Network
installs and concatenate the strings? That way we won't have a problem of
domains changing b/c they can just be changed in the one place.

From admin at laptoptips.ca  Mon May 16 20:49:46 2011
From: admin at laptoptips.ca (Andrew Ozz)
Date: Mon, 16 May 2011 13:49:46 -0700
Subject: [wp-hackers] Plugin authors info about 3.2
Message-ID: <4DD18DEA.7050306@laptoptips.ca>

Was preparing the plugin authors email announcement and thought I should 
post it here too. It's all old news for most people on the lists, but 
anyways:

1. The admin UI style was updated. This is mostly a visual update so if 
your plugin uses the default admin CSS styles on its settings page, it 
will inherit all seamlessly.

2. The "Favorites" menu (top/right on all admin pages) was removed 
completely.

3. jQuery was updated to version 1.6.1 and jQuery UI was updated to 
1.8.12 (latest versions available at the moment). We encourage all 
authors of plugins that use jQuery to test them in a latest trunk 
version of WordPress as there are a couple of changes that may affect 
many plugins:

  - jQuery 1.5.0 and newer no longer allows selectors of the form 
[property=value]. These selectors now require quotes: 
[property="value"]. See 
https://wpdevel.wordpress.com/2011/05/07/just-a-heads-up-wp-trunk-uses-jquery/

  - jQuery 1.6.0 and newer introduces another method: .prop() that 
replaces many .attr() calls. This was (partially) reverted in jQuery 
1.6.1 but we still found a place were we needed to switch from .attr() 
to .prop() in order for the script to work properly. Also using .prop() 
is a lot faster.

Please note that jQuery 1.6.1 came out the day after WordPress 3.2-beta 
was released so it's not included in the downloadable package. To test 
with jQuery 1.6.1 you will need to update your 3.2-beta installation to 
trunk.

4. WordPress 3.2 has new minimal requirements: PHP 5.2.4 and MySQL 
5.0.15. Most of the PHP 4 compat code was removed except for a few class 
constructors since many plugins seem to call them directly. If your 
plugin uses any of the WordPress PHP classes, please test that it calls 
them properly.

From kkarpieszuk at gmail.com  Tue May 17 09:43:52 2011
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Tue, 17 May 2011 11:43:52 +0200
Subject: [wp-hackers] wp_get_categories modification
In-Reply-To: <BANLkTin0s+mY+oJBHYsv-0eK1_ejoX7gKA@mail.gmail.com>
References: <BANLkTin0s+mY+oJBHYsv-0eK1_ejoX7gKA@mail.gmail.com>
Message-ID: <BANLkTi=Y9PjdiFoqH3gVT9mwtBqr8BTBZg@mail.gmail.com>

hi

where did you found wp_get_categories? :) do you mean wp_list_categories, right?

i think you should use
http://codex.wordpress.org/Function_Reference/get_categories there you
can specify type of posts

On Sun, May 15, 2011 at 10:18 PM, Sean Newham <seanseviltwin at gmail.com> wrote:
> Hey guys,
> I created a duplicatethe ?wp_get_categories function to try to only pick
> categories of one type. Upon reading the code, I thought it would be as easy
> as adding the 'type'=>'typename' variable to the default options, and as it
> calls get_category, I thought everything ?would be hunkydory, but it's not
> working - it gives exactly the same output as without. I tried reading the
> source of walk_category_tree, but tbh this is the first time I have seen the
> walker and I'm not even sure if that is remotely related to the problem.
>
> Hopefully you can see I'm trying, you are my last resort wp-hackers list!
> Best wishes,
> Sean
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk

From Gavin.Pearce at 3seven9.com  Tue May 17 12:59:45 2011
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 17 May 2011 13:59:45 +0100
Subject: [wp-hackers] WP_Query to sort by Custom Fields
In-Reply-To: <0F5F0ADA-A131-4956-AA83-2A758B9ED40E@danielbachhuber.com>
References: <38FEE9D1-90FE-452C-826F-0DDDCC4589B8@thisismyurl.com><BANLkTim2w=xVGyUSNUm6VC1+1SYc5T+3Bw@mail.gmail.com>
	<0F5F0ADA-A131-4956-AA83-2A758B9ED40E@danielbachhuber.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C038DF0A@tbs-sbs01.TBS.local>

+1 ... update the post type to make use of UNIX timestamps (then apply
it retrospectively).

You can then just select any events "<" than the current timestamp, and
LIMIT to 15 etc ...

For queries where you need a particular month, you select any items
between the timestamps for month start and end. Sorry if teaching to
suck eggs!

Gavin 

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Daniel
Bachhuber
Sent: 16 May 2011 14:27
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] WP_Query to sort by Custom Fields

A better solution to your problem would be to store the event day and
month together as a UNIX timestamp. It's a simpler query and will be
more flexible in the long run.

On May 16, 2011, at 9:17 AM, John Blackbourn <johnbillion+wp at gmail.com>
wrote:

> On 16 May 2011 14:15, Christopher Ross <cross at thisismyurl.com> wrote:
>> Is it possible to sort a WP_Query but custom field results (ideally
multiple)?
>> 
>> I have a query that requires me to fetch a series of events, the site
developer used a custom post type and inserted the day and month as
custom fields, so now what I need to do is fetch the most recent 15
events. By default, it shows me the 15 that appeared in the database
last but what I need is the month-day combo instead.
>> 
>> One way to do it obviously would be to fetch all events and then sort
but there are thousands in the system. Even if I limited to just this
month and last, there are still a lot. So, what's the best way to fetch
and sort posts based on multiple custom fields?
> 
> Yep, see http://scribu.net/wordpress/advanced-metadata-queries.html
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From johnbillion+wp at gmail.com  Tue May 17 14:48:48 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 17 May 2011 15:48:48 +0100
Subject: [wp-hackers] plugin_dir_url() and symlinked plugins
Message-ID: <BANLkTint5WpWos4yQVJ2u-rvqCc3vgsm4g@mail.gmail.com>

I use this code in my plugins to determine the URL of the directory
that the plugin lives in:

plugin_dir_url( __FILE__ );

This works fine unless the plugin's directory is symlinked from
another location, in which case it returns a broken URL with the path
to the symlink target appended [1].

Does anyone know of a method of determining a plugin's URL that
supports symlinks?

John

[1] Test plugin at http://pastebin.com/xYyfWtcH

From nanogwp at gmail.com  Tue May 17 15:05:04 2011
From: nanogwp at gmail.com (Robert Lusby)
Date: Tue, 17 May 2011 16:05:04 +0100
Subject: [wp-hackers] Force 404
Message-ID: <4DD28EA0.4070206@gmail.com>

Sorry I know this has been discussed before, but my Google skills seem 
to be evading me this afternoon!

What's the correct way to force WordPress to return a 404?

Require the WordPress 404 page to be displayed, and the 404 headers, 
without any 302/301 'faffing', obviously HTACCESS can't really do this.

TIA,
Rob

From Gavin.Pearce at 3seven9.com  Tue May 17 16:15:01 2011
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 17 May 2011 17:15:01 +0100
Subject: [wp-hackers] Force 404
In-Reply-To: <4DD28EA0.4070206@gmail.com>
References: <4DD28EA0.4070206@gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C038DF24@tbs-sbs01.TBS.local>

status_header('404');
$wp_query->set_404();

init is too early to call this (obviously), try further down the line.

G

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Robert
Lusby
Sent: 17 May 2011 16:05
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Force 404

Sorry I know this has been discussed before, but my Google skills seem 
to be evading me this afternoon!

What's the correct way to force WordPress to return a 404?

Require the WordPress 404 page to be displayed, and the 404 headers, 
without any 302/301 'faffing', obviously HTACCESS can't really do this.

TIA,
Rob
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From dougal at gunters.org  Tue May 17 16:37:27 2011
From: dougal at gunters.org (Dougal Campbell)
Date: Tue, 17 May 2011 12:37:27 -0400
Subject: [wp-hackers] Force 404
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C038DF24@tbs-sbs01.TBS.local>
References: <4DD28EA0.4070206@gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C038DF24@tbs-sbs01.TBS.local>
Message-ID: <4DD2A447.3050608@gunters.org>

On May 17 2011 12:15 PM, Gavin Pearce wrote:
> status_header('404');
> $wp_query->set_404();
>
> init is too early to call this (obviously), try further down the line.
>

The 'template_redirect' hook is usually the best place for stuff like 
this. You know pretty much everything you need to know in the evironment 
already, but the theme hasn't been hit yet. Perfect time to hijack the 
request and override things.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From dylan.k.kuhn at gmail.com  Tue May 17 17:19:52 2011
From: dylan.k.kuhn at gmail.com (Dylan Kuhn)
Date: Tue, 17 May 2011 10:19:52 -0700
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
	<BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
Message-ID: <BANLkTik3WnUn6AK9bmkyUo6HsZipm5iN5Q@mail.gmail.com>

On Wed, May 11, 2011 at 7:03 AM, Otto <otto at ottodestruct.com> wrote:

>
> There does not have to be only one Loop through the main posts on the
> page. I don't know where people get this assumption from, but if you
> assume that there is one-and-only-one main Loop, then you will
> invariably write code that breaks, badly, when this is not the case.
> I've seen several plugins break because of this particular incorrect
> assumption.
>
>
So would multiple Loops mean multiple trips through the main query results,
or multiple queries with different results? If it's the latter, I'd like to
know where I can learn more.

I still use instances of WP_Query frequently in my templates to loop through
content related in different ways to the main query. Is that wrong? How
would you look ahead at that content?

-dylan-

From otto at ottodestruct.com  Tue May 17 17:28:36 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 17 May 2011 12:28:36 -0500
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTik3WnUn6AK9bmkyUo6HsZipm5iN5Q@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
	<BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
	<BANLkTik3WnUn6AK9bmkyUo6HsZipm5iN5Q@mail.gmail.com>
Message-ID: <BANLkTi=UgEEKtuzVZx0BJn66GzWEwbE8jw@mail.gmail.com>

On Tue, May 17, 2011 at 12:19 PM, Dylan Kuhn <dylan.k.kuhn at gmail.com> wrote:
> So would multiple Loops mean multiple trips through the main query results,
> or multiple queries with different results? If it's the latter, I'd like to
> know where I can learn more.

Either. Both. Depends on what you're doing.

Once you've defined a query, you can loop through it as many times as
you want. Creating the query makes it go pull all the relevant results
from the DB, store them in an array (more or less), then you just go
through them one by one.

The main query is really not special, other than it's a) the main one
and b) automatically run at page load. Redefining it using query_posts
or something does mean that more SQL has to occur to get the new
results, but looping through it again doesn't make it go back to the
database.

> I still use instances of WP_Query frequently in my templates to loop through
> content related in different ways to the main query. Is that wrong? How
> would you look ahead at that content?

Define your query, loop through it. When you need to loop through it
again, don't re-define it, just rewind it and loop through it again.

$myquery = new WP_Query(...);
... loop ...
$myquery->rewind_posts();
--- start again with a new loop through it ...

From dylan.k.kuhn at gmail.com  Tue May 17 17:44:27 2011
From: dylan.k.kuhn at gmail.com (Dylan Kuhn)
Date: Tue, 17 May 2011 10:44:27 -0700
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTi=UgEEKtuzVZx0BJn66GzWEwbE8jw@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
	<BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
	<BANLkTik3WnUn6AK9bmkyUo6HsZipm5iN5Q@mail.gmail.com>
	<BANLkTi=UgEEKtuzVZx0BJn66GzWEwbE8jw@mail.gmail.com>
Message-ID: <BANLkTimvALhpS2eAPtdtjUzaj+_wn0gvLg@mail.gmail.com>

On Tue, May 17, 2011 at 10:28 AM, Otto <otto at ottodestruct.com> wrote:

>
> The main query is really not special, other than it's a) the main one
> and b) automatically run at page load. Redefining it using query_posts
> or something does mean that more SQL has to occur to get the new
> results, but looping through it again doesn't make it go back to the
> database.
>

Ah - I get how query_posts creates multiple main queries, what threw me for
a loop in this thread is that I've always seen it done in template code
(where I understand WP_Query is preferred). How would it be done before
wp_enqueue_scripts fires?


> Define your query, loop through it. When you need to loop through it
> again, don't re-define it, just rewind it and loop through it again.
>
> $myquery = new WP_Query(...);
> ... loop ...
> $myquery->rewind_posts();
>

So likewise - I always do that in templates. Is the right way to instantiate
the query prior to wp_enqueue_scripts, so the results can be analyzed for
script dependencies?

Thanks as always for the answers.

-dylan-

From otto at ottodestruct.com  Tue May 17 19:37:29 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 17 May 2011 14:37:29 -0500
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTimvALhpS2eAPtdtjUzaj+_wn0gvLg@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
	<BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
	<BANLkTik3WnUn6AK9bmkyUo6HsZipm5iN5Q@mail.gmail.com>
	<BANLkTi=UgEEKtuzVZx0BJn66GzWEwbE8jw@mail.gmail.com>
	<BANLkTimvALhpS2eAPtdtjUzaj+_wn0gvLg@mail.gmail.com>
Message-ID: <BANLkTinh7yKxqk9DBD2+ZXBU-tuaw-pfqw@mail.gmail.com>

On Tue, May 17, 2011 at 12:44 PM, Dylan Kuhn <dylan.k.kuhn at gmail.com> wrote:
> Ah - I get how query_posts creates multiple main queries, what threw me for
> a loop in this thread is that I've always seen it done in template code
> (where I understand WP_Query is preferred). How would it be done before
> wp_enqueue_scripts fires?

You can create the query anywhere, really. Generally people create it
just before they use it, but if you know it's going to be used
multiple times, then you might as well create it earlier.

For example, I could hook to template_redirect, do my detection stuff
there, and if I determine I need my extra query, then just go ahead
and create it and pop it into a global for later use.

add_action('template_redirect','my_theme_query_check');
function my_theme_query_check() {
  if (i_need_my_query()) {
    global $my_custom_query;
    $my_custom_query = new WP_Query(whatever);
  }
}

add_action('wp_enqueue_scripts','my_theme_enqueue');
function my_theme_enqueue() {
  global $my_custom_query;
  // .. do a quick Loop and enqueue if needed ..
  $my_custom_query->rewind_posts();
}

.. later, in the template..
global $my_custom_query;
// .. do the full Loop to utilize the custom query


The WP_Query is just an object, and you can instantiate it in a
variable and use it wherever you like, later on.

> So likewise - I always do that in templates. Is the right way to instantiate
> the query prior to wp_enqueue_scripts, so the results can be analyzed for
> script dependencies?

If your script dependencies depend on the results of that query, then yes.

This is a special case though. Generally script enqueueing doesn't
really depend on the results of a query. The question you have to ask
yourself is whether or not it's worth the overhead of running the Loop
just to determine you need the script, or saying the hell with it and
just enqueueing the script all the time. For most scripts, they're
small, and static, and cached in the browser. So it rarely is worth
doing this sort of thing unless there is a substantial amount of
overhead involved with including the script.

Either way you have overhead. Is it faster to just include the script,
or is it faster to check if you need the script on every single page
load? Just including the script is often much quicker, when you look
at it from a overall site perspective. Scripts are static (or should
be), and servers are very fast at serving static files, and browsers
are very good at not asking for files they already have. Yes, if
you're using one of myriad page speed tools, then they'll say to
reduce the number of scripts you load, but are your visitors really
only looking at one page on your site at a time, or do they come back
often? Are you trying to save on bandwidth, or server execution time?

Checking whether or not to include scripts and CSS and other static
things is very often a case of premature optimization.

-Otto

From philip at philipwalton.com  Tue May 17 20:00:22 2011
From: philip at philipwalton.com (Philip Walton)
Date: Tue, 17 May 2011 13:00:22 -0700
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTinh7yKxqk9DBD2+ZXBU-tuaw-pfqw@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>	<BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>	<BANLkTik3WnUn6AK9bmkyUo6HsZipm5iN5Q@mail.gmail.com>	<BANLkTi=UgEEKtuzVZx0BJn66GzWEwbE8jw@mail.gmail.com>	<BANLkTimvALhpS2eAPtdtjUzaj+_wn0gvLg@mail.gmail.com>
	<BANLkTinh7yKxqk9DBD2+ZXBU-tuaw-pfqw@mail.gmail.com>
Message-ID: <4DD2D3D6.1000206@philipwalton.com>

Premature optimization. I like that, and very true.

On 5/17/11 12:37 PM, Otto wrote:
> premature optimization

From dylan.k.kuhn at gmail.com  Wed May 18 00:46:56 2011
From: dylan.k.kuhn at gmail.com (Dylan Kuhn)
Date: Tue, 17 May 2011 17:46:56 -0700
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTinh7yKxqk9DBD2+ZXBU-tuaw-pfqw@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
	<BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
	<BANLkTik3WnUn6AK9bmkyUo6HsZipm5iN5Q@mail.gmail.com>
	<BANLkTi=UgEEKtuzVZx0BJn66GzWEwbE8jw@mail.gmail.com>
	<BANLkTimvALhpS2eAPtdtjUzaj+_wn0gvLg@mail.gmail.com>
	<BANLkTinh7yKxqk9DBD2+ZXBU-tuaw-pfqw@mail.gmail.com>
Message-ID: <BANLkTin00SRkTWybgBhPr9a2EJiC8BDmEQ@mail.gmail.com>

On Tue, May 17, 2011 at 12:37 PM, Otto <otto at ottodestruct.com> wrote:

>
> For example, I could hook to template_redirect, do my detection stuff
> there, and if I determine I need my extra query, then just go ahead
> and create it and pop it into a global for later use.
>

I appreciate the example and will add it to my toolbox, thanks. The thing I
found hard to image was using query_posts(), or multiple "main" queries
before wp_enqueue_scripts. I think I see that you weren't suggesting that as
a likely scenario.


>
> If your script dependencies depend on the results of that query, then yes.
>
> This is a special case though. Generally script enqueueing doesn't
> really depend on the results of a query.


For me it's a specific case, but one I seem to have to consider a lot. Map
libraries, fancy slideshows, table enhancers, and such can all be fairly
heavy on the javascript, but used in a minority of content. It seems like
that content is often as likely to be in a widget or dependent instance of
WP_Query as the main one.

It's harder to make the decision in plugin code, because you have no idea
how much content will need the scripts. Maybe it would be a nice plugin
option to let the user choose their strategy, lookahead or global include.


>  Yes, if
> you're using one of myriad page speed tools, then they'll say to
> reduce the number of scripts you load, but are your visitors really
> only looking at one page on your site at a time, or do they come back
> often? Are you trying to save on bandwidth, or server execution time?
>

I see a possible third consideration: how much script runtime will you
experience when the DOM is ready? I've started noticing delays becoming more
common at this phase of the page load too. I'm not sure how much scripts
that essentially select nothing at this point affect this - probably only if
they're doing something wrong.

-dylan-

From jan.fabry at monkeyman.be  Wed May 18 05:54:26 2011
From: jan.fabry at monkeyman.be (Jan Fabry)
Date: Tue, 17 May 2011 22:54:26 -0700 (PDT)
Subject: [wp-hackers] plugin_dir_url() and symlinked plugins
In-Reply-To: <BANLkTint5WpWos4yQVJ2u-rvqCc3vgsm4g@mail.gmail.com>
Message-ID: <32530488.7270.1305698066477.JavaMail.geo-discussion-forums@vbbcw2>

On Tuesday, May 17, 2011 4:48:48 PM UTC+2, John Blackbourn wrote:
>
> Does anyone know of a method of determining a plugin's URL that
> supports symlinks?
>
We recently discussed some methods at the WordPress Stack Exchange: 
[ http://wordpress.stackexchange.com/questions/15202/plugins-in-symlinked-directories 
]. When your plugin file is included, the path to the include file exists in 
the variable $plugin (or $mu_plugin or $network_plugin). You can save this 
in your own global variable to use it later in plugin_dir_url() and related 
functions.

$monkeyman_Rewrite_Analyzer_file = __FILE__;
if ( isset( $mu_plugin ) ) {
    $monkeyman_Rewrite_Analyzer_file = $mu_plugin;
}
if ( isset( $network_plugin ) ) {
    $monkeyman_Rewrite_Analyzer_file = $network_plugin;
}
if ( isset( $plugin ) ) {
    $monkeyman_Rewrite_Analyzer_file = $plugin;
}

Other suggestions are of course welcome - here and on the WPSE question!

Greetings,

Jan Fabry

From dino at duechiacchiere.it  Wed May 18 12:46:03 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Wed, 18 May 2011 08:46:03 -0400
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <4D88D9EA.8060205@xavisys.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>	<4D88D9EA.8060205@xavisys.com>
Message-ID: <4DD3BF8B.4030509@duechiacchiere.it>

Hi all,

one of the plugins I've developed has a layout made of small panels, 
something similar to Wordpress Dashboard. I would like to implement the 
same drag and drop feature, to move those panels around and store their 
position in the database. I've already figured out the 'store in the DB' 
part, but I can't seem to be able to leverage the existing JQuery 
libraries to enable this functionality. Any ideas on how to implement this?

Thanks,
Dino.

From andycharrington at gmail.com  Wed May 18 13:01:19 2011
From: andycharrington at gmail.com (Andy Charrington-Wilden)
Date: Wed, 18 May 2011 14:01:19 +0100
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <4DD3BF8B.4030509@duechiacchiere.it>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>
	<4D88D9EA.8060205@xavisys.com> <4DD3BF8B.4030509@duechiacchiere.it>
Message-ID: <A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>

Checkout the classes on the widgets page. Once you enque the same scripts you can have it act the same way as the widgets page. I'm not at my computer right now but essentially you're looking for 3 things in the widgets page. 
1. The class that defines an area where something can be dragged. 
2. The class that defines something as draggable
3. The correct scripts to enque. 

I would really like to know how you get on. :-)

Sent from my iPhone

On 18 May 2011, at 13:46, Dino Termini <dino at duechiacchiere.it> wrote:

> Hi all,
> 
> one of the plugins I've developed has a layout made of small panels, something similar to Wordpress Dashboard. I would like to implement the same drag and drop feature, to move those panels around and store their position in the database. I've already figured out the 'store in the DB' part, but I can't seem to be able to leverage the existing JQuery libraries to enable this functionality. Any ideas on how to implement this?
> 
> Thanks,
> Dino.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From sean.newham at cantab.net  Wed May 18 13:30:38 2011
From: sean.newham at cantab.net (Sean Newham)
Date: Wed, 18 May 2011 14:30:38 +0100
Subject: [wp-hackers] wp_get_categories modification
In-Reply-To: <BANLkTi=Y9PjdiFoqH3gVT9mwtBqr8BTBZg@mail.gmail.com>
References: <BANLkTin0s+mY+oJBHYsv-0eK1_ejoX7gKA@mail.gmail.com>
	<BANLkTi=Y9PjdiFoqH3gVT9mwtBqr8BTBZg@mail.gmail.com>
Message-ID: <BANLkTindt+Pz+m+_=8DDeJ5Vafosn=Qxhw@mail.gmail.com>

apologies, yes, this is what I meant. My temporary fix involves preg_replace
ing &type=post_type to the urls returned by the pc_list_categories function.
Which is just wp_list_categories with a custom filter hook.

But How would I make it do the walking part of get_categories?

Thanks for your reply,
Sean

On 17 May 2011 10:43, Konrad Karpieszuk <kkarpieszuk at gmail.com> wrote:

> hi
>
> where did you found wp_get_categories? :) do you mean wp_list_categories,
> right?
>
> i think you should use
> http://codex.wordpress.org/Function_Reference/get_categories there you
> can specify type of posts
>
> On Sun, May 15, 2011 at 10:18 PM, Sean Newham <seanseviltwin at gmail.com>
> wrote:
> > Hey guys,
> > I created a duplicatethe  wp_get_categories function to try to only pick
> > categories of one type. Upon reading the code, I thought it would be as
> easy
> > as adding the 'type'=>'typename' variable to the default options, and as
> it
> > calls get_category, I thought everything  would be hunkydory, but it's
> not
> > working - it gives exactly the same output as without. I tried reading
> the
> > source of walk_category_tree, but tbh this is the first time I have seen
> the
> > walker and I'm not even sure if that is remotely related to the problem.
> >
> > Hopefully you can see I'm trying, you are my last resort wp-hackers list!
> > Best wishes,
> > Sean
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> (en) regards / (pl) pozdrawiam
> Konrad Karpieszuk
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From helen.y.hou at gmail.com  Wed May 18 14:02:08 2011
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Wed, 18 May 2011 10:02:08 -0400
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>
	<4D88D9EA.8060205@xavisys.com> <4DD3BF8B.4030509@duechiacchiere.it>
	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
Message-ID: <BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>

I hadn't gotten around to the store in DB part yet (would love to hear how
you're doing it), but this is what I've got for expand/collapse and
draggable on a custom panel (a Help/Instructions bit for a client in my
case). Don't want to guarantee everything I've done is best practice, though
:)

function yourprefix_admin_menu() {
// help page menu item
$help_page = add_dashboard_page( 'Help and Instructions', 'Help and
Instructions', 'edit_posts', 'instructions', 'yourprefix_help_page');
 add_action('load-'.$help_page, 'yourprefix_help_page_scripts');
}
add_action('admin_menu', 'yourprefix_admin_menu');

function yourprefix_help_page_scripts() {
wp_enqueue_style('dashboard');
 wp_enqueue_script('postbox');
wp_enqueue_script('dashboard');
}

// help page output
function yourprefix_help_page() {
echo '<div class="wrap">
<h2>Help and Instructions for www.yourdomain.com</h2>
 <div class="postbox-container" style="width:80%">
 <div class="metabox-holder">
<div class="meta-box-sortables">
 <div id="edit-pages" class="postbox">
<div class="handlediv" title="Click to toggle"><br /></div>
 <h3 class="hndle"><span>Editing Pages</span></h3>
<div class="inside">
 <p>This is where information about editing pages would go.</p>
</div><!-- .inside -->
 </div><!-- #edit-pages -->
 <div id="add-media" class="postbox">
 <div class="handlediv" title="Click to toggle"><br /></div>
<h3 class="hndle"><span>Adding Media</span></h3>
 <div class="inside">
<p>This is where information about adding media would go.</p>
 </div><!-- .inside -->
</div><!-- #add-media -->
 </div><!-- .meta-box-sortables -->
</div><!-- .metabox-holder -->
 </div><!-- .postbox-container -->
</div><!-- .wrap -->
 ';
}


--
Helen Hou-Sandi
http://www.helenhousandi.com



On Wed, May 18, 2011 at 9:01 AM, Andy Charrington-Wilden <
andycharrington at gmail.com> wrote:

> Checkout the classes on the widgets page. Once you enque the same scripts
> you can have it act the same way as the widgets page. I'm not at my computer
> right now but essentially you're looking for 3 things in the widgets page.
> 1. The class that defines an area where something can be dragged.
> 2. The class that defines something as draggable
> 3. The correct scripts to enque.
>
> I would really like to know how you get on. :-)
>
> Sent from my iPhone
>
> On 18 May 2011, at 13:46, Dino Termini <dino at duechiacchiere.it> wrote:
>
> > Hi all,
> >
> > one of the plugins I've developed has a layout made of small panels,
> something similar to Wordpress Dashboard. I would like to implement the same
> drag and drop feature, to move those panels around and store their position
> in the database. I've already figured out the 'store in the DB' part, but I
> can't seem to be able to leverage the existing JQuery libraries to enable
> this functionality. Any ideas on how to implement this?
> >
> > Thanks,
> > Dino.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From info at duechiacchiere.it  Wed May 18 17:29:33 2011
From: info at duechiacchiere.it (due chiacchiere)
Date: Wed, 18 May 2011 13:29:33 -0400
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>	<4D88D9EA.8060205@xavisys.com>
	<4DD3BF8B.4030509@duechiacchiere.it>	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
Message-ID: <4DD401FD.2050701@duechiacchiere.it>

You are my hero today, Helen :) I am testing your solution and it works 
just fine indeed. I was actually able to simplify it a little bit, since 
I'm using a "custom" stylesheet that partially overrides the default 
one. As for storing the information, you will need some server-side 
logic that gets the info from a jquery call and stores it in the 
wp_options table. When "yourprefix_help_page" is called, it will read 
the order from the database and display the panels accordingly :) I'm 
still refining this part, but feel free to contact me if you need more 
information about it.

Have a great day,
Dino.

On 5/18/2011 10:02 AM, Helen Hou-Sandi wrote:
> I hadn't gotten around to the store in DB part yet (would love to hear how
> you're doing it), but this is what I've got for expand/collapse and
> draggable on a custom panel (a Help/Instructions bit for a client in my
> case). Don't want to guarantee everything I've done is best practice, though
> :)



From dino at duechiacchiere.it  Wed May 18 17:29:51 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Wed, 18 May 2011 13:29:51 -0400
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>	<4D88D9EA.8060205@xavisys.com>
	<4DD3BF8B.4030509@duechiacchiere.it>	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
Message-ID: <4DD4020F.8050400@duechiacchiere.it>

You are my hero today, Helen :) I am testing your solution and it works 
just fine indeed. I was actually able to simplify it a little bit, since 
I'm using a "custom" stylesheet that partially overrides the default 
one. As for storing the information, you will need some server-side 
logic that gets the info from a jquery call and stores it in the 
wp_options table. When "yourprefix_help_page" is called, it will read 
the order from the database and display the panels accordingly :) I'm 
still refining this part, but feel free to contact me if you need more 
information about it.

Have a great day,
Dino.

On 5/18/2011 10:02 AM, Helen Hou-Sandi wrote:
> I hadn't gotten around to the store in DB part yet (would love to hear how
> you're doing it), but this is what I've got for expand/collapse and
> draggable on a custom panel (a Help/Instructions bit for a client in my
> case). Don't want to guarantee everything I've done is best practice, though
> :)



From dino at duechiacchiere.it  Wed May 18 20:14:24 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Wed, 18 May 2011 16:14:24 -0400
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>
	<4D88D9EA.8060205@xavisys.com> <4DD3BF8B.4030509@duechiacchiere.it>
	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
Message-ID: <3C004918-D772-460D-84BA-81A6377E8918@duechiacchiere.it>

Actually it turns out Wp already sends the positions back to the server (but you have to provide a valid nounce via hidden input field)... God bless those who developed Live Http Headers :) So it's just a matter of reading the information from the database and displaying your panels accordingly (foreach... Switch)

Please let me know if you have questions...

Dino

On May 18, 2011, at 10:02 AM, Helen Hou-Sandi <helen.y.hou at gmail.com> wrote:

> I hadn't gotten around to the store in DB part yet (would love to hear how
> you're doing it), but this is what I've got for expand/collapse and
> draggable on a custom panel (a Help/Instructions bit for a client in my
> case). Don't want to guarantee everything I've done is best practice, though
> :)
> 
> function yourprefix_admin_menu() {
> // help page menu item
> $help_page = add_dashboard_page( 'Help and Instructions', 'Help and
> Instructions', 'edit_posts', 'instructions', 'yourprefix_help_page');
> add_action('load-'.$help_page, 'yourprefix_help_page_scripts');
> }
> add_action('admin_menu', 'yourprefix_admin_menu');
> 
> function yourprefix_help_page_scripts() {
> wp_enqueue_style('dashboard');
> wp_enqueue_script('postbox');
> wp_enqueue_script('dashboard');
> }
> 
> // help page output
> function yourprefix_help_page() {
> echo '<div class="wrap">
> <h2>Help and Instructions for www.yourdomain.com</h2>
> <div class="postbox-container" style="width:80%">
> <div class="metabox-holder">
> <div class="meta-box-sortables">
> <div id="edit-pages" class="postbox">
> <div class="handlediv" title="Click to toggle"><br /></div>
> <h3 class="hndle"><span>Editing Pages</span></h3>
> <div class="inside">
> <p>This is where information about editing pages would go.</p>
> </div><!-- .inside -->
> </div><!-- #edit-pages -->
> <div id="add-media" class="postbox">
> <div class="handlediv" title="Click to toggle"><br /></div>
> <h3 class="hndle"><span>Adding Media</span></h3>
> <div class="inside">
> <p>This is where information about adding media would go.</p>
> </div><!-- .inside -->
> </div><!-- #add-media -->
> </div><!-- .meta-box-sortables -->
> </div><!-- .metabox-holder -->
> </div><!-- .postbox-container -->
> </div><!-- .wrap -->
> ';
> }
> 
> 
> --
> Helen Hou-Sandi
> http://www.helenhousandi.com
> 
> 
> 
> On Wed, May 18, 2011 at 9:01 AM, Andy Charrington-Wilden <
> andycharrington at gmail.com> wrote:
> 
>> Checkout the classes on the widgets page. Once you enque the same scripts
>> you can have it act the same way as the widgets page. I'm not at my computer
>> right now but essentially you're looking for 3 things in the widgets page.
>> 1. The class that defines an area where something can be dragged.
>> 2. The class that defines something as draggable
>> 3. The correct scripts to enque.
>> 
>> I would really like to know how you get on. :-)
>> 
>> Sent from my iPhone
>> 
>> On 18 May 2011, at 13:46, Dino Termini <dino at duechiacchiere.it> wrote:
>> 
>>> Hi all,
>>> 
>>> one of the plugins I've developed has a layout made of small panels,
>> something similar to Wordpress Dashboard. I would like to implement the same
>> drag and drop feature, to move those panels around and store their position
>> in the database. I've already figured out the 'store in the DB' part, but I
>> can't seem to be able to leverage the existing JQuery libraries to enable
>> this functionality. Any ideas on how to implement this?
>>> 
>>> Thanks,
>>> Dino.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From helen.y.hou at gmail.com  Wed May 18 20:24:18 2011
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Wed, 18 May 2011 16:24:18 -0400
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <3C004918-D772-460D-84BA-81A6377E8918@duechiacchiere.it>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>
	<4D88D9EA.8060205@xavisys.com> <4DD3BF8B.4030509@duechiacchiere.it>
	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
	<3C004918-D772-460D-84BA-81A6377E8918@duechiacchiere.it>
Message-ID: <BANLkTinTwqvLpdHrTKrxYbZdmjWHjGsKAQ@mail.gmail.com>

I'd love to see a working example if you're willing to share! I'm sure I
could poke around and figure it out, but can't hurt to ask :)

--
Helen Hou-Sandi
http://www.helenhousandi.com



On Wed, May 18, 2011 at 4:14 PM, Dino Termini <dino at duechiacchiere.it>wrote:

> Actually it turns out Wp already sends the positions back to the server
> (but you have to provide a valid nounce via hidden input field)... God bless
> those who developed Live Http Headers :) So it's just a matter of reading
> the information from the database and displaying your panels accordingly
> (foreach... Switch)
>
> Please let me know if you have questions...
>
> Dino
>
> On May 18, 2011, at 10:02 AM, Helen Hou-Sandi <helen.y.hou at gmail.com>
> wrote:
>
> > I hadn't gotten around to the store in DB part yet (would love to hear
> how
> > you're doing it), but this is what I've got for expand/collapse and
> > draggable on a custom panel (a Help/Instructions bit for a client in my
> > case). Don't want to guarantee everything I've done is best practice,
> though
> > :)
> >
> > function yourprefix_admin_menu() {
> > // help page menu item
> > $help_page = add_dashboard_page( 'Help and Instructions', 'Help and
> > Instructions', 'edit_posts', 'instructions', 'yourprefix_help_page');
> > add_action('load-'.$help_page, 'yourprefix_help_page_scripts');
> > }
> > add_action('admin_menu', 'yourprefix_admin_menu');
> >
> > function yourprefix_help_page_scripts() {
> > wp_enqueue_style('dashboard');
> > wp_enqueue_script('postbox');
> > wp_enqueue_script('dashboard');
> > }
> >
> > // help page output
> > function yourprefix_help_page() {
> > echo '<div class="wrap">
> > <h2>Help and Instructions for www.yourdomain.com</h2>
> > <div class="postbox-container" style="width:80%">
> > <div class="metabox-holder">
> > <div class="meta-box-sortables">
> > <div id="edit-pages" class="postbox">
> > <div class="handlediv" title="Click to toggle"><br /></div>
> > <h3 class="hndle"><span>Editing Pages</span></h3>
> > <div class="inside">
> > <p>This is where information about editing pages would go.</p>
> > </div><!-- .inside -->
> > </div><!-- #edit-pages -->
> > <div id="add-media" class="postbox">
> > <div class="handlediv" title="Click to toggle"><br /></div>
> > <h3 class="hndle"><span>Adding Media</span></h3>
> > <div class="inside">
> > <p>This is where information about adding media would go.</p>
> > </div><!-- .inside -->
> > </div><!-- #add-media -->
> > </div><!-- .meta-box-sortables -->
> > </div><!-- .metabox-holder -->
> > </div><!-- .postbox-container -->
> > </div><!-- .wrap -->
> > ';
> > }
> >
> >
> > --
> > Helen Hou-Sandi
> > http://www.helenhousandi.com
> >
> >
> >
> > On Wed, May 18, 2011 at 9:01 AM, Andy Charrington-Wilden <
> > andycharrington at gmail.com> wrote:
> >
> >> Checkout the classes on the widgets page. Once you enque the same
> scripts
> >> you can have it act the same way as the widgets page. I'm not at my
> computer
> >> right now but essentially you're looking for 3 things in the widgets
> page.
> >> 1. The class that defines an area where something can be dragged.
> >> 2. The class that defines something as draggable
> >> 3. The correct scripts to enque.
> >>
> >> I would really like to know how you get on. :-)
> >>
> >> Sent from my iPhone
> >>
> >> On 18 May 2011, at 13:46, Dino Termini <dino at duechiacchiere.it> wrote:
> >>
> >>> Hi all,
> >>>
> >>> one of the plugins I've developed has a layout made of small panels,
> >> something similar to Wordpress Dashboard. I would like to implement the
> same
> >> drag and drop feature, to move those panels around and store their
> position
> >> in the database. I've already figured out the 'store in the DB' part,
> but I
> >> can't seem to be able to leverage the existing JQuery libraries to
> enable
> >> this functionality. Any ideas on how to implement this?
> >>>
> >>> Thanks,
> >>> Dino.
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From heiko.rabe at code-styling.de  Wed May 18 20:32:22 2011
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Wed, 18 May 2011 22:32:22 +0200
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <BANLkTinTwqvLpdHrTKrxYbZdmjWHjGsKAQ@mail.gmail.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>
	<4D88D9EA.8060205@xavisys.com> <4DD3BF8B.4030509@duechiacchiere.it>
	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
	<3C004918-D772-460D-84BA-81A6377E8918@duechiacchiere.it>
	<BANLkTinTwqvLpdHrTKrxYbZdmjWHjGsKAQ@mail.gmail.com>
Message-ID: <87993F71-AE01-4578-9A29-7DC63C05365E@code-styling.de>

I wrote an example plugin and tutorial here: http://www.code-styling.de/english/how-to-use-wordpress-metaboxes-at-own-plugins

Feel free to test and inspect it, the source is also fully commented to explain everything. 

Am 18.05.2011 um 22:24 schrieb Helen Hou-Sandi <helen.y.hou at gmail.com>:

> I'd love to see a working example if you're willing to share! I'm sure I
> could poke around and figure it out, but can't hurt to ask :)
> 
> --
> Helen Hou-Sandi
> http://www.helenhousandi.com
> 
> 
> 
> On Wed, May 18, 2011 at 4:14 PM, Dino Termini <dino at duechiacchiere.it>wrote:
> 
>> Actually it turns out Wp already sends the positions back to the server
>> (but you have to provide a valid nounce via hidden input field)... God bless
>> those who developed Live Http Headers :) So it's just a matter of reading
>> the information from the database and displaying your panels accordingly
>> (foreach... Switch)
>> 
>> Please let me know if you have questions...
>> 
>> Dino
>> 
>> On May 18, 2011, at 10:02 AM, Helen Hou-Sandi <helen.y.hou at gmail.com>
>> wrote:
>> 
>>> I hadn't gotten around to the store in DB part yet (would love to hear
>> how
>>> you're doing it), but this is what I've got for expand/collapse and
>>> draggable on a custom panel (a Help/Instructions bit for a client in my
>>> case). Don't want to guarantee everything I've done is best practice,
>> though
>>> :)
>>> 
>>> function yourprefix_admin_menu() {
>>> // help page menu item
>>> $help_page = add_dashboard_page( 'Help and Instructions', 'Help and
>>> Instructions', 'edit_posts', 'instructions', 'yourprefix_help_page');
>>> add_action('load-'.$help_page, 'yourprefix_help_page_scripts');
>>> }
>>> add_action('admin_menu', 'yourprefix_admin_menu');
>>> 
>>> function yourprefix_help_page_scripts() {
>>> wp_enqueue_style('dashboard');
>>> wp_enqueue_script('postbox');
>>> wp_enqueue_script('dashboard');
>>> }
>>> 
>>> // help page output
>>> function yourprefix_help_page() {
>>> echo '<div class="wrap">
>>> <h2>Help and Instructions for www.yourdomain.com</h2>
>>> <div class="postbox-container" style="width:80%">
>>> <div class="metabox-holder">
>>> <div class="meta-box-sortables">
>>> <div id="edit-pages" class="postbox">
>>> <div class="handlediv" title="Click to toggle"><br /></div>
>>> <h3 class="hndle"><span>Editing Pages</span></h3>
>>> <div class="inside">
>>> <p>This is where information about editing pages would go.</p>
>>> </div><!-- .inside -->
>>> </div><!-- #edit-pages -->
>>> <div id="add-media" class="postbox">
>>> <div class="handlediv" title="Click to toggle"><br /></div>
>>> <h3 class="hndle"><span>Adding Media</span></h3>
>>> <div class="inside">
>>> <p>This is where information about adding media would go.</p>
>>> </div><!-- .inside -->
>>> </div><!-- #add-media -->
>>> </div><!-- .meta-box-sortables -->
>>> </div><!-- .metabox-holder -->
>>> </div><!-- .postbox-container -->
>>> </div><!-- .wrap -->
>>> ';
>>> }
>>> 
>>> 
>>> --
>>> Helen Hou-Sandi
>>> http://www.helenhousandi.com
>>> 
>>> 
>>> 
>>> On Wed, May 18, 2011 at 9:01 AM, Andy Charrington-Wilden <
>>> andycharrington at gmail.com> wrote:
>>> 
>>>> Checkout the classes on the widgets page. Once you enque the same
>> scripts
>>>> you can have it act the same way as the widgets page. I'm not at my
>> computer
>>>> right now but essentially you're looking for 3 things in the widgets
>> page.
>>>> 1. The class that defines an area where something can be dragged.
>>>> 2. The class that defines something as draggable
>>>> 3. The correct scripts to enque.
>>>> 
>>>> I would really like to know how you get on. :-)
>>>> 
>>>> Sent from my iPhone
>>>> 
>>>> On 18 May 2011, at 13:46, Dino Termini <dino at duechiacchiere.it> wrote:
>>>> 
>>>>> Hi all,
>>>>> 
>>>>> one of the plugins I've developed has a layout made of small panels,
>>>> something similar to Wordpress Dashboard. I would like to implement the
>> same
>>>> drag and drop feature, to move those panels around and store their
>> position
>>>> in the database. I've already figured out the 'store in the DB' part,
>> but I
>>>> can't seem to be able to leverage the existing JQuery libraries to
>> enable
>>>> this functionality. Any ideas on how to implement this?
>>>>> 
>>>>> Thanks,
>>>>> Dino.
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From x76306964 at gmail.com  Thu May 19 01:59:18 2011
From: x76306964 at gmail.com (John Ciacia)
Date: Wed, 18 May 2011 21:59:18 -0400
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <87993F71-AE01-4578-9A29-7DC63C05365E@code-styling.de>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>
	<4D88D9EA.8060205@xavisys.com> <4DD3BF8B.4030509@duechiacchiere.it>
	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
	<3C004918-D772-460D-84BA-81A6377E8918@duechiacchiere.it>
	<BANLkTinTwqvLpdHrTKrxYbZdmjWHjGsKAQ@mail.gmail.com>
	<87993F71-AE01-4578-9A29-7DC63C05365E@code-styling.de>
Message-ID: <BANLkTikqfrqCzFDPySU32=7Xwt4WGtJddw@mail.gmail.com>

Somewhat along the same topic - some dashboard widgets like the Recent
Comments widget allow you to "Customize" them. Is there any way to add the
"customize" option to the metaboxes described in Heiko Rabe's tutorial?

On Wed, May 18, 2011 at 4:32 PM, Heiko Rabe <heiko.rabe at code-styling.de>wrote:

> I wrote an example plugin and tutorial here:
> http://www.code-styling.de/english/how-to-use-wordpress-metaboxes-at-own-plugins
>
> Feel free to test and inspect it, the source is also fully commented to
> explain everything.
>
> Am 18.05.2011 um 22:24 schrieb Helen Hou-Sandi <helen.y.hou at gmail.com>:
>
> > I'd love to see a working example if you're willing to share! I'm sure I
> > could poke around and figure it out, but can't hurt to ask :)
> >
> > --
> > Helen Hou-Sandi
> > http://www.helenhousandi.com
> >
> >
> >
> > On Wed, May 18, 2011 at 4:14 PM, Dino Termini <dino at duechiacchiere.it
> >wrote:
> >
> >> Actually it turns out Wp already sends the positions back to the server
> >> (but you have to provide a valid nounce via hidden input field)... God
> bless
> >> those who developed Live Http Headers :) So it's just a matter of
> reading
> >> the information from the database and displaying your panels accordingly
> >> (foreach... Switch)
> >>
> >> Please let me know if you have questions...
> >>
> >> Dino
> >>
> >> On May 18, 2011, at 10:02 AM, Helen Hou-Sandi <helen.y.hou at gmail.com>
> >> wrote:
> >>
> >>> I hadn't gotten around to the store in DB part yet (would love to hear
> >> how
> >>> you're doing it), but this is what I've got for expand/collapse and
> >>> draggable on a custom panel (a Help/Instructions bit for a client in my
> >>> case). Don't want to guarantee everything I've done is best practice,
> >> though
> >>> :)
> >>>
> >>> function yourprefix_admin_menu() {
> >>> // help page menu item
> >>> $help_page = add_dashboard_page( 'Help and Instructions', 'Help and
> >>> Instructions', 'edit_posts', 'instructions', 'yourprefix_help_page');
> >>> add_action('load-'.$help_page, 'yourprefix_help_page_scripts');
> >>> }
> >>> add_action('admin_menu', 'yourprefix_admin_menu');
> >>>
> >>> function yourprefix_help_page_scripts() {
> >>> wp_enqueue_style('dashboard');
> >>> wp_enqueue_script('postbox');
> >>> wp_enqueue_script('dashboard');
> >>> }
> >>>
> >>> // help page output
> >>> function yourprefix_help_page() {
> >>> echo '<div class="wrap">
> >>> <h2>Help and Instructions for www.yourdomain.com</h2>
> >>> <div class="postbox-container" style="width:80%">
> >>> <div class="metabox-holder">
> >>> <div class="meta-box-sortables">
> >>> <div id="edit-pages" class="postbox">
> >>> <div class="handlediv" title="Click to toggle"><br /></div>
> >>> <h3 class="hndle"><span>Editing Pages</span></h3>
> >>> <div class="inside">
> >>> <p>This is where information about editing pages would go.</p>
> >>> </div><!-- .inside -->
> >>> </div><!-- #edit-pages -->
> >>> <div id="add-media" class="postbox">
> >>> <div class="handlediv" title="Click to toggle"><br /></div>
> >>> <h3 class="hndle"><span>Adding Media</span></h3>
> >>> <div class="inside">
> >>> <p>This is where information about adding media would go.</p>
> >>> </div><!-- .inside -->
> >>> </div><!-- #add-media -->
> >>> </div><!-- .meta-box-sortables -->
> >>> </div><!-- .metabox-holder -->
> >>> </div><!-- .postbox-container -->
> >>> </div><!-- .wrap -->
> >>> ';
> >>> }
> >>>
> >>>
> >>> --
> >>> Helen Hou-Sandi
> >>> http://www.helenhousandi.com
> >>>
> >>>
> >>>
> >>> On Wed, May 18, 2011 at 9:01 AM, Andy Charrington-Wilden <
> >>> andycharrington at gmail.com> wrote:
> >>>
> >>>> Checkout the classes on the widgets page. Once you enque the same
> >> scripts
> >>>> you can have it act the same way as the widgets page. I'm not at my
> >> computer
> >>>> right now but essentially you're looking for 3 things in the widgets
> >> page.
> >>>> 1. The class that defines an area where something can be dragged.
> >>>> 2. The class that defines something as draggable
> >>>> 3. The correct scripts to enque.
> >>>>
> >>>> I would really like to know how you get on. :-)
> >>>>
> >>>> Sent from my iPhone
> >>>>
> >>>> On 18 May 2011, at 13:46, Dino Termini <dino at duechiacchiere.it>
> wrote:
> >>>>
> >>>>> Hi all,
> >>>>>
> >>>>> one of the plugins I've developed has a layout made of small panels,
> >>>> something similar to Wordpress Dashboard. I would like to implement
> the
> >> same
> >>>> drag and drop feature, to move those panels around and store their
> >> position
> >>>> in the database. I've already figured out the 'store in the DB' part,
> >> but I
> >>>> can't seem to be able to leverage the existing JQuery libraries to
> >> enable
> >>>> this functionality. Any ideas on how to implement this?
> >>>>>
> >>>>> Thanks,
> >>>>> Dino.
> >>>>> _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers at lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at zed1.com  Thu May 19 09:03:39 2011
From: wordpress at zed1.com (Mike Little)
Date: Thu, 19 May 2011 10:03:39 +0100
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTin00SRkTWybgBhPr9a2EJiC8BDmEQ@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
	<BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
	<BANLkTik3WnUn6AK9bmkyUo6HsZipm5iN5Q@mail.gmail.com>
	<BANLkTi=UgEEKtuzVZx0BJn66GzWEwbE8jw@mail.gmail.com>
	<BANLkTimvALhpS2eAPtdtjUzaj+_wn0gvLg@mail.gmail.com>
	<BANLkTinh7yKxqk9DBD2+ZXBU-tuaw-pfqw@mail.gmail.com>
	<BANLkTin00SRkTWybgBhPr9a2EJiC8BDmEQ@mail.gmail.com>
Message-ID: <BANLkTi=iGVrKg1APgXLk34rxvi3XhpgKVw@mail.gmail.com>

On Wed, May 18, 2011 at 01:46, Dylan Kuhn <dylan.k.kuhn at gmail.com> wrote:

>
> For me it's a specific case, but one I seem to have to consider a lot. Map
> libraries, fancy slideshows, table enhancers, and such can all be fairly
> heavy on the javascript, but used in a minority of content. It seems like
> that content is often as likely to be in a widget or dependent instance of
> WP_Query as the main one.
>
> It's harder to make the decision in plugin code, because you have no idea
> how much content will need the scripts. Maybe it would be a nice plugin
> option to let the user choose their strategy, lookahead or global include.
>
>
One possible strategy is to save a reference to the post at the time the
content is generated. This could be looking for your short code (or whatever
triggers the need for JS) in the content *at the time it is saved* and
adding that post id to a list saved in an option. That way, the look up at
request time is very fast (the option will already be loaded) and simple
(looking for a post id in the retrieved content)

Of course, you will need to hook post saves, trashes, and deletes but that's
low overhead simply because it only occurs when the user alters content on
the back end.

Finally, if you need to cater for multiple loops, you can hook 'the_posts'
(late) to make your decision (to include in the footer).

Mike
-- 
Mike Little
http://zed1.com/

From prodevstudio+wordpress at gmail.com  Thu May 19 11:44:46 2011
From: prodevstudio+wordpress at gmail.com (Azizur Rahman)
Date: Thu, 19 May 2011 12:44:46 +0100
Subject: [wp-hackers] Including javascript in the footer
In-Reply-To: <BANLkTi=iGVrKg1APgXLk34rxvi3XhpgKVw@mail.gmail.com>
References: <4DCA2D72.4050002@philipwalton.com>
	<BANLkTins8esfLADpDnWA0y6VpApAXkGzgQ@mail.gmail.com>
	<BANLkTikZAKa3M8LmOwE0MCM=Xt_hv+sLFg@mail.gmail.com>
	<BANLkTi=ztwGdOxJY6KR3VSm1ntP+mvLszQ@mail.gmail.com>
	<BANLkTik3WnUn6AK9bmkyUo6HsZipm5iN5Q@mail.gmail.com>
	<BANLkTi=UgEEKtuzVZx0BJn66GzWEwbE8jw@mail.gmail.com>
	<BANLkTimvALhpS2eAPtdtjUzaj+_wn0gvLg@mail.gmail.com>
	<BANLkTinh7yKxqk9DBD2+ZXBU-tuaw-pfqw@mail.gmail.com>
	<BANLkTin00SRkTWybgBhPr9a2EJiC8BDmEQ@mail.gmail.com>
	<BANLkTi=iGVrKg1APgXLk34rxvi3XhpgKVw@mail.gmail.com>
Message-ID: <BANLkTiksBnwVYSvpoHH4feapGOm28QjNRg@mail.gmail.com>

I am just thinking on the original issue here.

>> In my case I'm making a programmatic decision partway through the page
request whether or not I want to include a script in the footer, and
unfortunately, that decision is being made after the 'wp_print_scripts' hook
is fired.

I know this might not be the solution you are after but can't you just do a
client side asynchronous loading of scripts? you'll need JS enabled anyway
for your selected scripts to run.

You can set up you own dependency checking that fires When DOM ready. While
your asynchronous loading in progress you could easily display a status
message to end user.


Also:
>> So what should I do? I don't want to just echo the script markup in
'admin_print_footer_scripts' because that just seems wrong. However, I can't
really think of any other good way.

If you must load specific script you can always set up your dependent
files/tag into a javascript variable at this point and have it processed by
the asynchronous loader in the footer.



Regards,
Azizur Rahman


On Thu, May 19, 2011 at 10:03 AM, Mike Little <wordpress at zed1.com> wrote:

> On Wed, May 18, 2011 at 01:46, Dylan Kuhn <dylan.k.kuhn at gmail.com> wrote:
>
> >
> > For me it's a specific case, but one I seem to have to consider a lot.
> Map
> > libraries, fancy slideshows, table enhancers, and such can all be fairly
> > heavy on the javascript, but used in a minority of content. It seems like
> > that content is often as likely to be in a widget or dependent instance
> of
> > WP_Query as the main one.
> >
> > It's harder to make the decision in plugin code, because you have no idea
> > how much content will need the scripts. Maybe it would be a nice plugin
> > option to let the user choose their strategy, lookahead or global
> include.
> >
> >
> One possible strategy is to save a reference to the post at the time the
> content is generated. This could be looking for your short code (or
> whatever
> triggers the need for JS) in the content *at the time it is saved* and
> adding that post id to a list saved in an option. That way, the look up at
> request time is very fast (the option will already be loaded) and simple
> (looking for a post id in the retrieved content)
>
> Of course, you will need to hook post saves, trashes, and deletes but
> that's
> low overhead simply because it only occurs when the user alters content on
> the back end.
>
> Finally, if you need to cater for multiple loops, you can hook 'the_posts'
> (late) to make your decision (to include in the footer).
>
> Mike
> --
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From glenn at pegden.com  Thu May 19 15:14:51 2011
From: glenn at pegden.com (Glenn Pegden)
Date: Thu, 19 May 2011 16:14:51 +0100
Subject: [wp-hackers] /extend repo requirements
Message-ID: <BANLkTinWL=8cQTDyykuDZK+jNWcuSd2gSA@mail.gmail.com>

Hi everyone,

I'll start off by putting my cards on the table, I work for a commercial
WordPress plugin developer who until recently released all it's code under a
non-GPL compliant license. But it's not all bad news, we have been looking
for ways to fit in with Automattic's wishes on this and release our code
under a GPL compliant license whilst still protecting our business model
(we're a professional studio of 6 full time people). We had hoped to make a
big announcement of the switch at WordCampUK (as well as acting as sponsors)
but whilst the organiser was keen, the enquiries we made to Automattic about
how the license change over could be handled in a mutually beneficial way,
didn't get even a courtesy response..

However, whilst that background is relevant, the actual question I have is
regarding the extend plugin directory. I'm sure it has always been a case of
"no commercial plugins of any type, regardless of license", but a blog post
at
http://www.cybersprocket.com/2011/blog/wordpress-plugins-charging-a-fee-is-not-gpl-compliant/
has
made me question that. Certainly I agree that
http://wordpress.org/extend/plugins/about/ doesn't seem to make any
exclusion of commercial plugins (assuming they are GPL licensed), has the
text recently changed or was I dreaming? If Automattic's stand point is no
to commercial plugins of any type in extend" then shouldn't it be explicitly
stated, otherwise shouldn't commercial plugins be allowed?

Obviously my personal preference would be the latter, hell I don't think the
majority of commercial plugin developers would even object to Automattic
taking a cut of each sale. As we are now trying to "play nice" with
Automattic and have released our latest plugin (an invite / social media
promotion system, inviteape <http://www.inviteape.com/>) under the GPL
(we're charging for downloads and support, similar to Gravity Forms and WPMU
Dev) as a bit of an experiment to see if it's worth considering with
our Membership
Plugin <http://www.yourmembers.co.uk/> which currently generates the
majority of our WordPress derived revenue it would be great for us and
others to have a definitive answer as at the moment it appears to be down to
individual moderators on what does and doesn't get in.

Some clarification on this would be great.

Regards,

Glenn

-- 

Glenn Pegden
Sales Director

NewMedias is a trading name of Coding Futures Ltd

Coding Futures Ltd
The Tannery
91 Kirkstall Road
Leeds
LS3 1HS

Company House Registration Number:  07350515
Company Registered in England and Wales

Contact Telephone: +44(0)113 2473850

The contents of this email is for the named parties, if you have
receieved this email in error please accept our apologises. Unless
separately mentioned the content of the email are considered private with
content belonging to the authors.

From cross at thisismyurl.com  Thu May 19 15:25:39 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Thu, 19 May 2011 12:25:39 -0300
Subject: [wp-hackers] /extend repo requirements
In-Reply-To: <BANLkTinWL=8cQTDyykuDZK+jNWcuSd2gSA@mail.gmail.com>
References: <BANLkTinWL=8cQTDyykuDZK+jNWcuSd2gSA@mail.gmail.com>
Message-ID: <C6D2ABE6-0788-4B20-9E66-EC678E306845@thisismyurl.com>

Glenn, I'm not sure that there's been a shift in policy regarding commercial plugins on /extend/ but can tell you from my experience, releasing GPL compliant plugins for WordPress has been nothing short of great for my business. I give away a couple dozen plugins for free and support them for the community at no cost, yet I'm built a very profitable business with the help of WordPress.org. It took a lot of change on my part to agree with the GPL model and it goes against almost everything I was taught at business school yet ... it works wonderfully.


Chris


On 2011-05-19, at 12:14 PM, Glenn Pegden wrote:

> Hi everyone,
> 
> I'll start off by putting my cards on the table, I work for a commercial
> WordPress plugin developer who until recently released all it's code under a
> non-GPL compliant license. But it's not all bad news, we have been looking
> for ways to fit in with Automattic's wishes on this and release our code
> under a GPL compliant license whilst still protecting our business model
> (we're a professional studio of 6 full time people). We had hoped to make a
> big announcement of the switch at WordCampUK (as well as acting as sponsors)
> but whilst the organiser was keen, the enquiries we made to Automattic about
> how the license change over could be handled in a mutually beneficial way,
> didn't get even a courtesy response..
> 
> However, whilst that background is relevant, the actual question I have is
> regarding the extend plugin directory. I'm sure it has always been a case of
> "no commercial plugins of any type, regardless of license", but a blog post
> at
> http://www.cybersprocket.com/2011/blog/wordpress-plugins-charging-a-fee-is-not-gpl-compliant/
> has
> made me question that. Certainly I agree that
> http://wordpress.org/extend/plugins/about/ doesn't seem to make any
> exclusion of commercial plugins (assuming they are GPL licensed), has the
> text recently changed or was I dreaming? If Automattic's stand point is no
> to commercial plugins of any type in extend" then shouldn't it be explicitly
> stated, otherwise shouldn't commercial plugins be allowed?
> 
> Obviously my personal preference would be the latter, hell I don't think the
> majority of commercial plugin developers would even object to Automattic
> taking a cut of each sale. As we are now trying to "play nice" with
> Automattic and have released our latest plugin (an invite / social media
> promotion system, inviteape <http://www.inviteape.com/>) under the GPL
> (we're charging for downloads and support, similar to Gravity Forms and WPMU
> Dev) as a bit of an experiment to see if it's worth considering with
> our Membership
> Plugin <http://www.yourmembers.co.uk/> which currently generates the
> majority of our WordPress derived revenue it would be great for us and
> others to have a definitive answer as at the moment it appears to be down to
> individual moderators on what does and doesn't get in.
> 
> Some clarification on this would be great.
> 
> Regards,
> 
> Glenn
> 
> -- 
> 
> Glenn Pegden
> Sales Director
> 
> NewMedias is a trading name of Coding Futures Ltd
> 
> Coding Futures Ltd
> The Tannery
> 91 Kirkstall Road
> Leeds
> LS3 1HS
> 
> Company House Registration Number:  07350515
> Company Registered in England and Wales
> 
> Contact Telephone: +44(0)113 2473850
> 
> The contents of this email is for the named parties, if you have
> receieved this email in error please accept our apologises. Unless
> separately mentioned the content of the email are considered private with
> content belonging to the authors.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



__

Christopher Ross
Online Portfolio - http://christopherross.ca
Personal Blog - http://thisismyurl.com

Fredericton - 506.238.4661
San Diego   - 858.201.4912


From cross at thisismyurl.com  Thu May 19 15:25:58 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Thu, 19 May 2011 12:25:58 -0300
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>
	<4D88D9EA.8060205@xavisys.com> <4DD3BF8B.4030509@duechiacchiere.it>
	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
Message-ID: <99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>

thanks Helen, this is wonderful!

On 2011-05-18, at 11:02 AM, Helen Hou-Sandi wrote:

> I hadn't gotten around to the store in DB part yet (would love to hear how
> you're doing it), but this is what I've got for expand/collapse and
> draggable on a custom panel (a Help/Instructions bit for a client in my
> case). Don't want to guarantee everything I've done is best practice, though
> :)
> 
> function yourprefix_admin_menu() {
> // help page menu item
> $help_page = add_dashboard_page( 'Help and Instructions', 'Help and
> Instructions', 'edit_posts', 'instructions', 'yourprefix_help_page');
> add_action('load-'.$help_page, 'yourprefix_help_page_scripts');
> }
> add_action('admin_menu', 'yourprefix_admin_menu');
> 
> function yourprefix_help_page_scripts() {
> wp_enqueue_style('dashboard');
> wp_enqueue_script('postbox');
> wp_enqueue_script('dashboard');
> }
> 
> // help page output
> function yourprefix_help_page() {
> echo '<div class="wrap">
> <h2>Help and Instructions for www.yourdomain.com</h2>
> <div class="postbox-container" style="width:80%">
> <div class="metabox-holder">
> <div class="meta-box-sortables">
> <div id="edit-pages" class="postbox">
> <div class="handlediv" title="Click to toggle"><br /></div>
> <h3 class="hndle"><span>Editing Pages</span></h3>
> <div class="inside">
> <p>This is where information about editing pages would go.</p>
> </div><!-- .inside -->
> </div><!-- #edit-pages -->
> <div id="add-media" class="postbox">
> <div class="handlediv" title="Click to toggle"><br /></div>
> <h3 class="hndle"><span>Adding Media</span></h3>
> <div class="inside">
> <p>This is where information about adding media would go.</p>
> </div><!-- .inside -->
> </div><!-- #add-media -->
> </div><!-- .meta-box-sortables -->
> </div><!-- .metabox-holder -->
> </div><!-- .postbox-container -->
> </div><!-- .wrap -->
> ';
> }
> 
> 
> --
> Helen Hou-Sandi
> http://www.helenhousandi.com
> 
> 
> 
> On Wed, May 18, 2011 at 9:01 AM, Andy Charrington-Wilden <
> andycharrington at gmail.com> wrote:
> 
>> Checkout the classes on the widgets page. Once you enque the same scripts
>> you can have it act the same way as the widgets page. I'm not at my computer
>> right now but essentially you're looking for 3 things in the widgets page.
>> 1. The class that defines an area where something can be dragged.
>> 2. The class that defines something as draggable
>> 3. The correct scripts to enque.
>> 
>> I would really like to know how you get on. :-)
>> 
>> Sent from my iPhone
>> 
>> On 18 May 2011, at 13:46, Dino Termini <dino at duechiacchiere.it> wrote:
>> 
>>> Hi all,
>>> 
>>> one of the plugins I've developed has a layout made of small panels,
>> something similar to Wordpress Dashboard. I would like to implement the same
>> drag and drop feature, to move those panels around and store their position
>> in the database. I've already figured out the 'store in the DB' part, but I
>> can't seem to be able to leverage the existing JQuery libraries to enable
>> this functionality. Any ideas on how to implement this?
>>> 
>>> Thanks,
>>> Dino.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



__

Christopher Ross
Online Portfolio - http://christopherross.ca
Personal Blog - http://thisismyurl.com

Fredericton - 506.238.4661
San Diego   - 858.201.4912


From otto at ottodestruct.com  Thu May 19 15:28:21 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 19 May 2011 10:28:21 -0500
Subject: [wp-hackers] /extend repo requirements
In-Reply-To: <BANLkTinWL=8cQTDyykuDZK+jNWcuSd2gSA@mail.gmail.com>
References: <BANLkTinWL=8cQTDyykuDZK+jNWcuSd2gSA@mail.gmail.com>
Message-ID: <BANLkTinOj98VqkEiJto75C4GB9W1Wi2eFA@mail.gmail.com>

This isn't really a question of GPL. What WordPress.org offers is free
and everything on the site must comply with that. Pay plugins, or
plugins that require payment to be fully featured, are not allowed in
the WordPress.org directory.

This isn't to say that you can't sell plugins or do trial schemes and
such. Clearly you can do that and still remain GPL. No question. You
just can't do these things and still be listed on WordPress.org.

As for the question of it being explicitly stated: No, I don't really
think it has to be explicitly stated. WordPress is free as in speech
*and* free as in beer. They discourage any form of "payment" to be
mentioned on the site at all. Look at the support forums, where if
somebody offers to pay for services, their thread gets closed.

WordPress is a community made up mostly of people who help each other,
for free, and due to this, WordPress.org is not a place to market your
wares.

Now, if you want to give your plugins away for free, and put in a link
that says "please donate" or something, then that's fine. Or if you
want to put in links back to your site where you have other GPL
plugins that you sell or something, that's fine too. You just can't
make the code that WordPress.org is hosting for you actually dependent
on payment for functionality.

-Otto

From travis at travisnorthcutt.com  Thu May 19 17:25:18 2011
From: travis at travisnorthcutt.com (Travis Northcutt)
Date: Thu, 19 May 2011 12:25:18 -0500
Subject: [wp-hackers] /extend repo requirements
In-Reply-To: <BANLkTinOj98VqkEiJto75C4GB9W1Wi2eFA@mail.gmail.com>
References: <BANLkTinWL=8cQTDyykuDZK+jNWcuSd2gSA@mail.gmail.com>
	<BANLkTinOj98VqkEiJto75C4GB9W1Wi2eFA@mail.gmail.com>
Message-ID: <BANLkTinnGSPsY4xNH26mvcQe6BQQ9YjRag@mail.gmail.com>

Would whoever makes these decisions (who is that?) be opposed to explicitly
stating that? What's the downside of explicitly stating it (and giving a
reason)?
--
Travis Northcutt


On Thu, May 19, 2011 at 10:28 AM, Otto <otto at ottodestruct.com> wrote:

> As for the question of it being explicitly stated: No, I don't really
> think it has to be explicitly stated. WordPress is free as in speech
> *and* free as in beer. They discourage any form of "payment" to be
> mentioned on the site at all. Look at the support forums, where if
> somebody offers to pay for services, their thread gets closed.
>

From otto at ottodestruct.com  Thu May 19 18:42:39 2011
From: otto at ottodestruct.com (Otto)
Date: Thu, 19 May 2011 13:42:39 -0500
Subject: [wp-hackers] /extend repo requirements
In-Reply-To: <BANLkTinnGSPsY4xNH26mvcQe6BQQ9YjRag@mail.gmail.com>
References: <BANLkTinWL=8cQTDyykuDZK+jNWcuSd2gSA@mail.gmail.com>
	<BANLkTinOj98VqkEiJto75C4GB9W1Wi2eFA@mail.gmail.com>
	<BANLkTinnGSPsY4xNH26mvcQe6BQQ9YjRag@mail.gmail.com>
Message-ID: <BANLkTi=xo8DY0qNUtjYjp3XBvrLsakpeRg@mail.gmail.com>

On Thu, May 19, 2011 at 12:25 PM, Travis Northcutt
<travis at travisnorthcutt.com> wrote:
> Would whoever makes these decisions (who is that?) be opposed to explicitly
> stating that? What's the downside of explicitly stating it (and giving a
> reason)?
> --
> Travis Northcutt

I am not a decision maker in this matter, but I have found that
explicitly stating things along these lines tends to lead to arguments
when people do things which are nevertheless bad/not-allowed, but not
explicitly stated as such. I think it should be obvious that wp.org is
its own site and will host things at its own discretion.

There doesn't have to be a rule to cover every possible contingency.

-Otto

From dino at duechiacchiere.it  Thu May 19 19:19:14 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Thu, 19 May 2011 15:19:14 -0400
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>
	<4D88D9EA.8060205@xavisys.com> <4DD3BF8B.4030509@duechiacchiere.it>
	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
	<99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>
Message-ID: <8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>

I just finished implementing this feature in my plugin (wp slimstat) and it works like a charm. Should I post an example here on the list?Or maybe a private message would be better?

Thanks again Helen

Dino

On May 19, 2011, at 11:25 AM, Christopher Ross <cross at thisismyurl.com> wrote:

> thanks Helen, this is wonderful!
> 
> On 2011-05-18, at 11:02 AM, Helen Hou-Sandi wrote:
> 
>> I hadn't gotten around to the store in DB part yet (would love to hear how
>> you're doing it), but this is what I've got for expand/collapse and
>> draggable on a custom panel (a Help/Instructions bit for a client in my
>> case). Don't want to guarantee everything I've done is best practice, though
>> :)
>> 
>> function yourprefix_admin_menu() {
>> // help page menu item
>> $help_page = add_dashboard_page( 'Help and Instructions', 'Help and
>> Instructions', 'edit_posts', 'instructions', 'yourprefix_help_page');
>> add_action('load-'.$help_page, 'yourprefix_help_page_scripts');
>> }
>> add_action('admin_menu', 'yourprefix_admin_menu');
>> 
>> function yourprefix_help_page_scripts() {
>> wp_enqueue_style('dashboard');
>> wp_enqueue_script('postbox');
>> wp_enqueue_script('dashboard');
>> }
>> 
>> // help page output
>> function yourprefix_help_page() {
>> echo '<div class="wrap">
>> <h2>Help and Instructions for www.yourdomain.com</h2>
>> <div class="postbox-container" style="width:80%">
>> <div class="metabox-holder">
>> <div class="meta-box-sortables">
>> <div id="edit-pages" class="postbox">
>> <div class="handlediv" title="Click to toggle"><br /></div>
>> <h3 class="hndle"><span>Editing Pages</span></h3>
>> <div class="inside">
>> <p>This is where information about editing pages would go.</p>
>> </div><!-- .inside -->
>> </div><!-- #edit-pages -->
>> <div id="add-media" class="postbox">
>> <div class="handlediv" title="Click to toggle"><br /></div>
>> <h3 class="hndle"><span>Adding Media</span></h3>
>> <div class="inside">
>> <p>This is where information about adding media would go.</p>
>> </div><!-- .inside -->
>> </div><!-- #add-media -->
>> </div><!-- .meta-box-sortables -->
>> </div><!-- .metabox-holder -->
>> </div><!-- .postbox-container -->
>> </div><!-- .wrap -->
>> ';
>> }
>> 
>> 
>> --
>> Helen Hou-Sandi
>> http://www.helenhousandi.com
>> 
>> 
>> 
>> On Wed, May 18, 2011 at 9:01 AM, Andy Charrington-Wilden <
>> andycharrington at gmail.com> wrote:
>> 
>>> Checkout the classes on the widgets page. Once you enque the same scripts
>>> you can have it act the same way as the widgets page. I'm not at my computer
>>> right now but essentially you're looking for 3 things in the widgets page.
>>> 1. The class that defines an area where something can be dragged.
>>> 2. The class that defines something as draggable
>>> 3. The correct scripts to enque.
>>> 
>>> I would really like to know how you get on. :-)
>>> 
>>> Sent from my iPhone
>>> 
>>> On 18 May 2011, at 13:46, Dino Termini <dino at duechiacchiere.it> wrote:
>>> 
>>>> Hi all,
>>>> 
>>>> one of the plugins I've developed has a layout made of small panels,
>>> something similar to Wordpress Dashboard. I would like to implement the same
>>> drag and drop feature, to move those panels around and store their position
>>> in the database. I've already figured out the 'store in the DB' part, but I
>>> can't seem to be able to leverage the existing JQuery libraries to enable
>>> this functionality. Any ideas on how to implement this?
>>>> 
>>>> Thanks,
>>>> Dino.
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 
> __
> 
> Christopher Ross
> Online Portfolio - http://christopherross.ca
> Personal Blog - http://thisismyurl.com
> 
> Fredericton - 506.238.4661
> San Diego   - 858.201.4912
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From helen.y.hou at gmail.com  Thu May 19 19:50:54 2011
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Thu, 19 May 2011 15:50:54 -0400
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>
	<4D88D9EA.8060205@xavisys.com> <4DD3BF8B.4030509@duechiacchiere.it>
	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
	<99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>
	<8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>
Message-ID: <BANLkTin1dEQyhyNy5Q-TY97KLZ4bOZBGgw@mail.gmail.com>

Dino - I could probably reverse engineer it from your plugin (which looks
great, BTW), but since there seem to be others interested in this same
topic, it might be worth sharing an example publicly if you are comfortable
doing so.

--
Helen Hou-Sandi
http://www.helenhousandi.com



On Thu, May 19, 2011 at 3:19 PM, Dino Termini <dino at duechiacchiere.it>wrote:

> I just finished implementing this feature in my plugin (wp slimstat) and it
> works like a charm. Should I post an example here on the list?Or maybe a
> private message would be better?
>
> Thanks again Helen
>
> Dino
>
> On May 19, 2011, at 11:25 AM, Christopher Ross <cross at thisismyurl.com>
> wrote:
>
> > thanks Helen, this is wonderful!
> >
> > On 2011-05-18, at 11:02 AM, Helen Hou-Sandi wrote:
> >
> >> I hadn't gotten around to the store in DB part yet (would love to hear
> how
> >> you're doing it), but this is what I've got for expand/collapse and
> >> draggable on a custom panel (a Help/Instructions bit for a client in my
> >> case). Don't want to guarantee everything I've done is best practice,
> though
> >> :)
> >>
> >> function yourprefix_admin_menu() {
> >> // help page menu item
> >> $help_page = add_dashboard_page( 'Help and Instructions', 'Help and
> >> Instructions', 'edit_posts', 'instructions', 'yourprefix_help_page');
> >> add_action('load-'.$help_page, 'yourprefix_help_page_scripts');
> >> }
> >> add_action('admin_menu', 'yourprefix_admin_menu');
> >>
> >> function yourprefix_help_page_scripts() {
> >> wp_enqueue_style('dashboard');
> >> wp_enqueue_script('postbox');
> >> wp_enqueue_script('dashboard');
> >> }
> >>
> >> // help page output
> >> function yourprefix_help_page() {
> >> echo '<div class="wrap">
> >> <h2>Help and Instructions for www.yourdomain.com</h2>
> >> <div class="postbox-container" style="width:80%">
> >> <div class="metabox-holder">
> >> <div class="meta-box-sortables">
> >> <div id="edit-pages" class="postbox">
> >> <div class="handlediv" title="Click to toggle"><br /></div>
> >> <h3 class="hndle"><span>Editing Pages</span></h3>
> >> <div class="inside">
> >> <p>This is where information about editing pages would go.</p>
> >> </div><!-- .inside -->
> >> </div><!-- #edit-pages -->
> >> <div id="add-media" class="postbox">
> >> <div class="handlediv" title="Click to toggle"><br /></div>
> >> <h3 class="hndle"><span>Adding Media</span></h3>
> >> <div class="inside">
> >> <p>This is where information about adding media would go.</p>
> >> </div><!-- .inside -->
> >> </div><!-- #add-media -->
> >> </div><!-- .meta-box-sortables -->
> >> </div><!-- .metabox-holder -->
> >> </div><!-- .postbox-container -->
> >> </div><!-- .wrap -->
> >> ';
> >> }
> >>
> >>
> >> --
> >> Helen Hou-Sandi
> >> http://www.helenhousandi.com
> >>
> >>
> >>
> >> On Wed, May 18, 2011 at 9:01 AM, Andy Charrington-Wilden <
> >> andycharrington at gmail.com> wrote:
> >>
> >>> Checkout the classes on the widgets page. Once you enque the same
> scripts
> >>> you can have it act the same way as the widgets page. I'm not at my
> computer
> >>> right now but essentially you're looking for 3 things in the widgets
> page.
> >>> 1. The class that defines an area where something can be dragged.
> >>> 2. The class that defines something as draggable
> >>> 3. The correct scripts to enque.
> >>>
> >>> I would really like to know how you get on. :-)
> >>>
> >>> Sent from my iPhone
> >>>
> >>> On 18 May 2011, at 13:46, Dino Termini <dino at duechiacchiere.it> wrote:
> >>>
> >>>> Hi all,
> >>>>
> >>>> one of the plugins I've developed has a layout made of small panels,
> >>> something similar to Wordpress Dashboard. I would like to implement the
> same
> >>> drag and drop feature, to move those panels around and store their
> position
> >>> in the database. I've already figured out the 'store in the DB' part,
> but I
> >>> can't seem to be able to leverage the existing JQuery libraries to
> enable
> >>> this functionality. Any ideas on how to implement this?
> >>>>
> >>>> Thanks,
> >>>> Dino.
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >
> >
> > __
> >
> > Christopher Ross
> > Online Portfolio - http://christopherross.ca
> > Personal Blog - http://thisismyurl.com
> >
> > Fredericton - 506.238.4661
> > San Diego   - 858.201.4912
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dino at duechiacchiere.it  Thu May 19 20:00:17 2011
From: dino at duechiacchiere.it (Dino Termini)
Date: Thu, 19 May 2011 16:00:17 -0400
Subject: [wp-hackers] Drag and drop panels in plugin's page
In-Reply-To: <BANLkTin1dEQyhyNy5Q-TY97KLZ4bOZBGgw@mail.gmail.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>
	<4D88D9EA.8060205@xavisys.com> <4DD3BF8B.4030509@duechiacchiere.it>
	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>
	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>
	<99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>
	<8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>
	<BANLkTin1dEQyhyNy5Q-TY97KLZ4bOZBGgw@mail.gmail.com>
Message-ID: <FA942C5C-2CE5-4648-8888-095B25227273@duechiacchiere.it>

Thank you, Helen. I'll put together an example tomorrow and I'll post it here. 

Dino

On May 19, 2011, at 3:50 PM, Helen Hou-Sandi <helen.y.hou at gmail.com> wrote:

> Dino - I could probably reverse engineer it from your plugin (which looks
> great, BTW), but since there seem to be others interested in this same
> topic, it might be worth sharing an example publicly if you are comfortable
> doing so.
> 

From mark at simplercomputing.net  Fri May 20 16:00:48 2011
From: mark at simplercomputing.net (Mark E)
Date: Fri, 20 May 2011 10:00:48 -0600
Subject: [wp-hackers] Multisite and Sidebar Widgets
In-Reply-To: <FA942C5C-2CE5-4648-8888-095B25227273@duechiacchiere.it>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>	<4D88D9EA.8060205@xavisys.com>
	<4DD3BF8B.4030509@duechiacchiere.it>	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>	<99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>	<8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>	<BANLkTin1dEQyhyNy5Q-TY97KLZ4bOZBGgw@mail.gmail.com>
	<FA942C5C-2CE5-4648-8888-095B25227273@duechiacchiere.it>
Message-ID: <4DD69030.3000608@simplercomputing.net>

On WP multisite installs, does anybody know how to cause sidebar widgets 
to always be loaded based on the widget settings of blog ID 1 (e.g. the 
main site blog) ?

Mark

From james at easilyamusedinc.com  Fri May 20 16:08:31 2011
From: james at easilyamusedinc.com (James Tryon)
Date: Fri, 20 May 2011 12:08:31 -0400
Subject: [wp-hackers] Multisite and Sidebar Widgets
In-Reply-To: <4DD69030.3000608@simplercomputing.net>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>	<4D88D9EA.8060205@xavisys.com>
	<4DD3BF8B.4030509@duechiacchiere.it>	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>	<99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>	<8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>	<BANLkTin1dEQyhyNy5Q-TY97KLZ4bOZBGgw@mail.gmail.com>
	<FA942C5C-2CE5-4648-8888-095B25227273@duechiacchiere.it>
	<4DD69030.3000608@simplercomputing.net>
Message-ID: <A29A391B-36B5-4BB5-86F6-B8DA824EACDA@easilyamusedinc.com>

I have used a templating plugin in the past that takes the first blog and sort  of clones it or saves the settings.

Then for all new blogs, it uses the template of the saved blog.

I have used New Blog Templates from wpmudevs but i bet there is a free one too
http://premium.wpmudev.org/project/new-blog-template

Hope that helps


Thank you for your time,
James Tryon, Creative Director

Easily Amused, Inc.
http://easilyamusedinc.com
P: (407) 278-5498 C: (407) 733-6473 T: easilyamused

On May 20, 2011, at 12:00 PM, Mark E wrote:

> On WP multisite installs, does anybody know how to cause sidebar widgets to always be loaded based on the widget settings of blog ID 1 (e.g. the main site blog) ?
> 
> Mark
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mark at simplercomputing.net  Fri May 20 16:24:35 2011
From: mark at simplercomputing.net (Mark E)
Date: Fri, 20 May 2011 10:24:35 -0600
Subject: [wp-hackers] Multisite and Sidebar Widgets
In-Reply-To: <A29A391B-36B5-4BB5-86F6-B8DA824EACDA@easilyamusedinc.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>	<4D88D9EA.8060205@xavisys.com>	<4DD3BF8B.4030509@duechiacchiere.it>	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>	<99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>	<8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>	<BANLkTin1dEQyhyNy5Q-TY97KLZ4bOZBGgw@mail.gmail.com>	<FA942C5C-2CE5-4648-8888-095B25227273@duechiacchiere.it>	<4DD69030.3000608@simplercomputing.net>
	<A29A391B-36B5-4BB5-86F6-B8DA824EACDA@easilyamusedinc.com>
Message-ID: <4DD695C3.40208@simplercomputing.net>



On 05/20/2011 10:08 AM, James Tryon wrote:
> I have used a templating plugin in the past that takes the first blog
> and sort  of clones it or saves the settings.

Well, we don't want to clone settings across new blogs. The idea is to 
totally eliminate the user's ability to modify the sidebars, and we need 
to use widgets so we can't hard code sidebars into the theme.

Mark

From james at easilyamusedinc.com  Fri May 20 16:30:47 2011
From: james at easilyamusedinc.com (James Tryon)
Date: Fri, 20 May 2011 12:30:47 -0400
Subject: [wp-hackers] Multisite and Sidebar Widgets
In-Reply-To: <4DD695C3.40208@simplercomputing.net>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>	<4D88D9EA.8060205@xavisys.com>	<4DD3BF8B.4030509@duechiacchiere.it>	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>	<99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>	<8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>	<BANLkTin1dEQyhyNy5Q-TY97KLZ4bOZBGgw@mail.gmail.com>	<FA942C5C-2CE5-4648-8888-095B25227273@duechiacchiere.it>	<4DD69030.3000608@simplercomputing.net>
	<A29A391B-36B5-4BB5-86F6-B8DA824EACDA@easilyamusedinc.com>
	<4DD695C3.40208@simplercomputing.net>
Message-ID: <7EA8D7C8-6843-48E0-A9F0-384F1A14E0AB@easilyamusedinc.com>

Then change user roles,

Only allow some people to have access to the widgets.

There is plugins that let you set user roles and set what areas different users can access.


Thank you for your time,
James Tryon, Creative Director

Easily Amused, Inc.
http://easilyamusedinc.com
P: (407) 278-5498 C: (407) 733-6473 T: easilyamused

On May 20, 2011, at 12:24 PM, Mark E wrote:

> 
> 
> On 05/20/2011 10:08 AM, James Tryon wrote:
>> I have used a templating plugin in the past that takes the first blog
>> and sort  of clones it or saves the settings.
> 
> Well, we don't want to clone settings across new blogs. The idea is to totally eliminate the user's ability to modify the sidebars, and we need to use widgets so we can't hard code sidebars into the theme.
> 
> Mark
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mark at simplercomputing.net  Fri May 20 19:42:49 2011
From: mark at simplercomputing.net (Mark E)
Date: Fri, 20 May 2011 13:42:49 -0600
Subject: [wp-hackers] Multisite and Sidebar Widgets
In-Reply-To: <7EA8D7C8-6843-48E0-A9F0-384F1A14E0AB@easilyamusedinc.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>	<4D88D9EA.8060205@xavisys.com>	<4DD3BF8B.4030509@duechiacchiere.it>	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>	<99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>	<8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>	<BANLkTin1dEQyhyNy5Q-TY97KLZ4bOZBGgw@mail.gmail.com>	<FA942C5C-2CE5-4648-8888-095B25227273@duechiacchiere.it>	<4DD69030.3000608@simplercomputing.net>	<A29A391B-36B5-4BB5-86F6-B8DA824EACDA@easilyamusedinc.com>	<4DD695C3.40208@simplercomputing.net>
	<7EA8D7C8-6843-48E0-A9F0-384F1A14E0AB@easilyamusedinc.com>
Message-ID: <4DD6C439.7040604@simplercomputing.net>



On 05/20/2011 10:30 AM, James Tryon wrote:
> Then change user roles,
>
> Only allow some people to have access to the widgets.

I figured out how to make it happen with about a dozen lines of code - 
no plugins required.

Mark

From ncrice at gmail.com  Sat May 21 04:17:54 2011
From: ncrice at gmail.com (Nathan Rice)
Date: Sat, 21 May 2011 00:17:54 -0400
Subject: [wp-hackers] json_encode/decode VS serialization
Message-ID: <BANLkTikAtwGgf7XuxWbAag_-ud+9q8y4nA@mail.gmail.com>

Now that WordPress 3.2 will support only PHP5+, is there any merit in
possibly starting to store arrays of data in the database via json_encode /
json_decode, instead of PHP serialized?

I've read conflicting reports about speed improvements, one even suggesting
that json_encode was slower than serialize, but json_decode was faster than
unserialize. [1]

Has anyone done any research into this, and is there any chance (assuming
reads would be faster with json_decode) that WordPress would switch to this
method over (un)serialize? Seems like it would at least be worth some
consideration.

1.
http://www.raditha.com/blog/archives/json_encodejson_decode-vs-serializeunserialize-and-fools-vs-idiots..html

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice

From wp at andrewnacin.com  Sat May 21 04:42:04 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 21 May 2011 00:42:04 -0400
Subject: [wp-hackers] json_encode/decode VS serialization
Message-ID: <BANLkTik5yuVWYMjNETrmAjjCHd4k=YhNGw@mail.gmail.com>

On May 21, 2011 12:18 AM, "Nathan Rice" <ncrice at gmail.com> wrote:
>
> Now that WordPress 3.2 will support only PHP5+, is there any merit in
> possibly starting to store arrays of data in the database via json_encode
/
> json_decode, instead of PHP serialized?

No.

> I've read conflicting reports about speed improvements, one even
suggesting
> that json_encode was slower than serialize, but json_decode was faster
than
> unserialize. [1]
>
> Has anyone done any research into this, and is there any chance (assuming
> reads would be faster with json_decode) that WordPress would switch to
this
> method over (un)serialize? Seems like it would at least be worth some
> consideration.

No. Serialized data is the proper representation of PHP variables. JSON
would be lossy especially when it comes to objects.

Changing this would also introduce backwards compatibility concerns, thus no
real performance gain. Additionally, if you're looking for performance
benefits, I'd look elsewhere - like the queries themselves.

Nacin

From wp-hackers at striderweb.com  Sat May 21 15:49:45 2011
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 21 May 2011 10:49:45 -0500
Subject: [wp-hackers] Multisite and Sidebar Widgets
In-Reply-To: <4DD6C439.7040604@simplercomputing.net>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>	<4D88D9EA.8060205@xavisys.com>	<4DD3BF8B.4030509@duechiacchiere.it>	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>	<99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>	<8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>	<BANLkTin1dEQyhyNy5Q-TY97KLZ4bOZBGgw@mail.gmail.com>	<FA942C5C-2CE5-4648-8888-095B25227273@duechiacchiere.it>	<4DD69030.3000608@simplercomputing.net>	<A29A391B-36B5-4BB5-86F6-B8DA824EACDA@easilyamusedinc.com>	<4DD695C3.40208@simplercomputing.net>
	<7EA8D7C8-6843-48E0-A9F0-384F1A14E0AB@easilyamusedinc.com>
	<4DD6C439.7040604@simplercomputing.net>
Message-ID: <B895FBBF-0CA5-4212-8B34-5B25495A7EC0@striderweb.com>

Share?

On May 20, 2011, at 2:42 PM, Mark E wrote:

> I figured out how to make it happen with about a dozen lines of code - no plugins required.
> 
> Mark


From wp-hackers at striderweb.com  Sat May 21 19:29:22 2011
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 21 May 2011 14:29:22 -0500
Subject: [wp-hackers] Standard method for "sub page" tabs in Admin?
Message-ID: <493EB2A7-8BFE-4C1A-84BE-AB1639E56BA9@striderweb.com>

Is there any kind of standard API method for creating sub-page links in an Admin page?  For example, on the comments page is the row of:
    All | Pending | Approved | Spam | Trash

If I want to make a plugin that needs multiple pages, is there an API or function to create these links and pages?

If not, perhaps something to consider standardizing in core.  It would be awfully handy....

-- 
Stephen Rider
http://striderweb.com/


From lists at rotorised.com  Sun May 22 03:29:24 2011
From: lists at rotorised.com (Ryan McCue)
Date: Sun, 22 May 2011 13:29:24 +1000
Subject: [wp-hackers] json_encode/decode VS serialization
In-Reply-To: <BANLkTikAtwGgf7XuxWbAag_-ud+9q8y4nA@mail.gmail.com>
References: <BANLkTikAtwGgf7XuxWbAag_-ud+9q8y4nA@mail.gmail.com>
Message-ID: <4DD88314.8000605@rotorised.com>

Nathan Rice wrote:
> Has anyone done any research into this, and is there any chance (assuming
> reads would be faster with json_decode) that WordPress would switch to this
> method over (un)serialize? Seems like it would at least be worth some
> consideration.

I've done research into this for my own projects, and
json_encode/json_decode is *slightly* faster than serialize/unserialize,
but unless you've got 10k+ objects in a list, it's really not worth it.

(FWIW, I use json_encode/json_decode personally, since I'm storing 100k+
objects in a list. It's still only slightly faster, and certainly not
worth rewriting everything.)

-- 
Ryan McCue
<http://ryanmccue.info/>


From mail at scribu.net  Sun May 22 16:24:00 2011
From: mail at scribu.net (scribu)
Date: Sun, 22 May 2011 19:24:00 +0300
Subject: [wp-hackers] Standard method for "sub page" tabs in Admin?
In-Reply-To: <493EB2A7-8BFE-4C1A-84BE-AB1639E56BA9@striderweb.com>
References: <493EB2A7-8BFE-4C1A-84BE-AB1639E56BA9@striderweb.com>
Message-ID: <BANLkTimaB_=qFaCeV5c3cyPawKog-Kc7fQ@mail.gmail.com>

On Sat, May 21, 2011 at 10:29 PM, Stephen Rider
<wp-hackers at striderweb.com>wrote:

> Is there any kind of standard API method for creating sub-page links in an
> Admin page?  For example, on the comments page is the row of:
>    All | Pending | Approved | Spam | Trash
>
> If I want to make a plugin that needs multiple pages, is there an API or
> function to create these links and pages?
>

There's a filter for manipulating those links. See
wp-admin/includes/class-wp-list-table.php

-- 
http://scribu.net

From lox.dev at knc.nc  Sun May 22 22:17:30 2011
From: lox.dev at knc.nc (Lox)
Date: Mon, 23 May 2011 09:17:30 +1100
Subject: [wp-hackers] Is it safe to change users usernames ?
Message-ID: <BANLkTim00v_e8zCU2KRFtvYt2nqNq-ouGA@mail.gmail.com>

Hello,

I am working on a web site that requires that users username and email have
to be the same (users should be able to login using their email address)

So when a user changes its email address, I want that its username to
change. That part is ok, I can do it.

My question is: is it safe? Are there any possible side effects of doing it?

Regards

-- 
Lox
lox.dev at knc.nc

From wp at andrewnacin.com  Sun May 22 22:44:08 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 22 May 2011 18:44:08 -0400
Subject: [wp-hackers] Is it safe to change users usernames ?
In-Reply-To: <BANLkTim00v_e8zCU2KRFtvYt2nqNq-ouGA@mail.gmail.com>
References: <BANLkTim00v_e8zCU2KRFtvYt2nqNq-ouGA@mail.gmail.com>
Message-ID: <BANLkTi=cs-BBj+CK3yoe4VFCxF7PxRHMqQ@mail.gmail.com>

On Sun, May 22, 2011 at 6:17 PM, Lox <lox.dev at knc.nc> wrote:

> Hello,
>
> I am working on a web site that requires that users username and email have
> to be the same (users should be able to login using their email address)
>
> So when a user changes its email address, I want that its username to
> change. That part is ok, I can do it.
>
> My question is: is it safe? Are there any possible side effects of doing
> it?
>

Possible side effects include:
 -  If their user_nicename also changes, then their /author/$name URLs will
break. That said user_nicename is different from email, so that's
manageable.
 - You need to make sure to properly invalidate the cache for a username
change.
 - Nausea, dry mouth, blurred vision, headache.*

That said:

It's one thing to allow username changes, but I don't think your use case is
the right one. Rather, there are plugins and hooks available to allow you to
authenticate based on email, rather than making the username equal the
email.

Thus: http://wordpress.org/extend/plugins/wp-email-login/

See also: http://core.trac.wordpress.org/ticket/9568

Nacin

* If any side effects last more than four hours, please consult your
developer.

From philip at philipwalton.com  Sun May 22 22:44:49 2011
From: philip at philipwalton.com (Philip Walton)
Date: Sun, 22 May 2011 15:44:49 -0700
Subject: [wp-hackers] Is it safe to change users usernames ?
In-Reply-To: <BANLkTim00v_e8zCU2KRFtvYt2nqNq-ouGA@mail.gmail.com>
References: <BANLkTim00v_e8zCU2KRFtvYt2nqNq-ouGA@mail.gmail.com>
Message-ID: <4DD991E1.4040407@philipwalton.com>

I've had issues with manually changing a username in the database on 
multisite. I haven't had any suchs issues on a single site installation. 
But that's not to say that you couldn't

Button line, at least on multisite, it's more complicated than just 
changing the value(s) in the users table in the database.


On 5/22/11 3:17 PM, Lox wrote:
> Hello,
>
> I am working on a web site that requires that users username and email have
> to be the same (users should be able to login using their email address)
>
> So when a user changes its email address, I want that its username to
> change. That part is ok, I can do it.
>
> My question is: is it safe? Are there any possible side effects of doing it?
>
> Regards
>

From lox.dev at knc.nc  Mon May 23 01:27:10 2011
From: lox.dev at knc.nc (Lox)
Date: Mon, 23 May 2011 12:27:10 +1100
Subject: [wp-hackers] Is it safe to change users usernames ?
In-Reply-To: <BANLkTi=cs-BBj+CK3yoe4VFCxF7PxRHMqQ@mail.gmail.com>
References: <BANLkTim00v_e8zCU2KRFtvYt2nqNq-ouGA@mail.gmail.com>
	<BANLkTi=cs-BBj+CK3yoe4VFCxF7PxRHMqQ@mail.gmail.com>
Message-ID: <BANLkTikeMF2dpGAVc5cUe+3Je00fO9MMwg@mail.gmail.com>

2011/5/23 Andrew Nacin <wp at andrewnacin.com>

>
> It's one thing to allow username changes, but I don't think your use case
> is
> the right one. Rather, there are plugins and hooks available to allow you
> to
> authenticate based on email, rather than making the username equal the
> email.
>

I'll go that way, allowing an alternative email login. Thus, on signup, I'll
need to generate a dummy user name out of the email address (username is not
asked on my project's signup form)

Thanks for your advice.

-- 
Lox
lox.dev at knc.nc

From beautifulcrimes at gmail.com  Mon May 23 07:39:16 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 23 May 2011 00:39:16 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
Message-ID: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>

After creating a custom theme and installing it into my live site, I get a
browser Redirect loop error on all browsers.

I'm still able to access the Dashboard and able to revert back to the
previous working theme. So I'm assuming the error is somewhere in my theme,
however I don't recall ever putting in anything that causes redirects! Also,
when I click on "Preview" theme before "Activating", the theme seems to look
good.

What can be causing this problem?

-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From alex at buayacorp.com  Mon May 23 08:15:15 2011
From: alex at buayacorp.com (Alexander Concha)
Date: Mon, 23 May 2011 10:15:15 +0200
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
Message-ID: <BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>

On Mon, May 23, 2011 at 9:39 AM, Jesus Lizama <beautifulcrimes at gmail.com> wrote:
> After creating a custom theme and installing it into my live site, I get a
> browser Redirect loop error on all browsers.
>
> I'm still able to access the Dashboard and able to revert back to the
> previous working theme. So I'm assuming the error is somewhere in my theme,
> however I don't recall ever putting in anything that causes redirects! Also,
> when I click on "Preview" theme before "Activating", the theme seems to look
> good.
>
> What can be causing this problem?

It is hard to know if we can't see the code.
-- 
Alexander Concha
http://www.buayacorp.com

From awgandrews at gmail.com  Mon May 23 14:23:00 2011
From: awgandrews at gmail.com (Alex Andrews)
Date: Mon, 23 May 2011 15:23:00 +0100
Subject: [wp-hackers] Associating post_status with a Custom Post Type
Message-ID: <BANLkTinXfm7PxmcUQ0y0nnRk12jNzjpdHw@mail.gmail.com>

Hi all,

As far as I can see, there isn't an easy way to associate a
post_status with a given Custom Post Type. So, for example, a radio
programme could be Live and Archived, but I don't want, say, pages or
posts to be done in such a way. Equally, lets suppose that I don't
want the standard post_status for the radio programme (draft and so
on) - is there any way of making them not show up?

What is the best way to do this?

All the best,

Alex

From beautifulcrimes at gmail.com  Mon May 23 16:06:38 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 23 May 2011 09:06:38 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
Message-ID: <BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>

What code do you need to see? Theme files?

On Mon, May 23, 2011 at 1:15 AM, Alexander Concha <alex at buayacorp.com>wrote:

> On Mon, May 23, 2011 at 9:39 AM, Jesus Lizama <beautifulcrimes at gmail.com>
> wrote:
> > After creating a custom theme and installing it into my live site, I get
> a
> > browser Redirect loop error on all browsers.
> >
> > I'm still able to access the Dashboard and able to revert back to the
> > previous working theme. So I'm assuming the error is somewhere in my
> theme,
> > however I don't recall ever putting in anything that causes redirects!
> Also,
> > when I click on "Preview" theme before "Activating", the theme seems to
> look
> > good.
> >
> > What can be causing this problem?
>
> It is hard to know if we can't see the code.
> --
> Alexander Concha
> http://www.buayacorp.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From alex at buayacorp.com  Mon May 23 18:42:59 2011
From: alex at buayacorp.com (Alexander Concha)
Date: Mon, 23 May 2011 20:42:59 +0200
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
Message-ID: <BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>

On Mon, May 23, 2011 at 6:06 PM, Jesus Lizama <beautifulcrimes at gmail.com> wrote:
> What code do you need to see? Theme files?

Yes. I could probably take a look. If not, maybe someone else will
spot the problem.
-- 
Alexander Concha
http://www.buayacorp.com

From beautifulcrimes at gmail.com  Mon May 23 19:08:17 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 23 May 2011 12:08:17 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
Message-ID: <BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>

I uploaded the index.php, header.php, and functions.php file.. If you need
to look at any of the others ones, let me know!

http://code.google.com/p/wordpress-trafik-theme/downloads/list

<http://code.google.com/p/wordpress-trafik-theme/downloads/list>

On Mon, May 23, 2011 at 11:42 AM, Alexander Concha <alex at buayacorp.com>wrote:

> On Mon, May 23, 2011 at 6:06 PM, Jesus Lizama <beautifulcrimes at gmail.com>
> wrote:
> > What code do you need to see? Theme files?
>
> Yes. I could probably take a look. If not, maybe someone else will
> spot the problem.
> --
> Alexander Concha
> http://www.buayacorp.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From alex at buayacorp.com  Mon May 23 19:45:59 2011
From: alex at buayacorp.com (Alexander Concha)
Date: Mon, 23 May 2011 21:45:59 +0200
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
Message-ID: <BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>

On Mon, May 23, 2011 at 9:08 PM, Jesus Lizama <beautifulcrimes at gmail.com> wrote:
> I uploaded the index.php, header.php, and functions.php file.. If you need
> to look at any of the others ones, let me know!

There is no infinite redirect loop on a clean WP install (tested on
svn trunk). Does it work at all your theme? There are errors when
accesing the wp-admin -- fix functions.php and shortcodes.php.

-- 
Alexander Concha
http://www.buayacorp.com

From beautifulcrimes at gmail.com  Mon May 23 19:48:38 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 23 May 2011 12:48:38 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
Message-ID: <BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>

I'm currently hosting the theme at:

http://spifffy.com/wptest

..so I know it works!

but when I transfer the theme over to the live site, I get a redirect loop
error.

On Mon, May 23, 2011 at 12:45 PM, Alexander Concha <alex at buayacorp.com>wrote:

> On Mon, May 23, 2011 at 9:08 PM, Jesus Lizama <beautifulcrimes at gmail.com>
> wrote:
> > I uploaded the index.php, header.php, and functions.php file.. If you
> need
> > to look at any of the others ones, let me know!
>
> There is no infinite redirect loop on a clean WP install (tested on
> svn trunk). Does it work at all your theme? There are errors when
> accesing the wp-admin -- fix functions.php and shortcodes.php.
>
> --
> Alexander Concha
> http://www.buayacorp.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From alex at buayacorp.com  Mon May 23 20:07:38 2011
From: alex at buayacorp.com (Alexander Concha)
Date: Mon, 23 May 2011 22:07:38 +0200
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
Message-ID: <BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>

On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama <beautifulcrimes at gmail.com> wrote:
> I'm currently hosting the theme at:
>
> http://spifffy.com/wptest
>
> ..so I know it works!
>
> but when I transfer the theme over to the live site, I get a redirect loop
> error.

Are you running the same plugins on your test site?
-- 
Alexander Concha
http://www.buayacorp.com

From beautifulcrimes at gmail.com  Mon May 23 20:18:08 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 23 May 2011 13:18:08 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
Message-ID: <BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>

Yes. I deactivated all plugins aswell, before and after the theme install.
but to no avail.. Really wanted to have this theme go live today, but I'm
finding it very difficult to troubleshoot this error.

On Mon, May 23, 2011 at 1:07 PM, Alexander Concha <alex at buayacorp.com>wrote:

> On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama <beautifulcrimes at gmail.com>
> wrote:
> > I'm currently hosting the theme at:
> >
> > http://spifffy.com/wptest
> >
> > ..so I know it works!
> >
> > but when I transfer the theme over to the live site, I get a redirect
> loop
> > error.
>
> Are you running the same plugins on your test site?
> --
> Alexander Concha
> http://www.buayacorp.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From beautifulcrimes at gmail.com  Mon May 23 20:23:57 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 23 May 2011 13:23:57 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>
Message-ID: <BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>

When I preview the theme through the Dashboard, it looks great, but once
activated.. I get the issue. What can cause a theme to create redirects?

On Mon, May 23, 2011 at 1:18 PM, Jesus Lizama <beautifulcrimes at gmail.com>wrote:

> Yes. I deactivated all plugins aswell, before and after the theme install.
> but to no avail.. Really wanted to have this theme go live today, but I'm
> finding it very difficult to troubleshoot this error.
>
>
> On Mon, May 23, 2011 at 1:07 PM, Alexander Concha <alex at buayacorp.com>wrote:
>
>> On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama <beautifulcrimes at gmail.com>
>> wrote:
>> > I'm currently hosting the theme at:
>> >
>> > http://spifffy.com/wptest
>> >
>> > ..so I know it works!
>> >
>> > but when I transfer the theme over to the live site, I get a redirect
>> loop
>> > error.
>>
>> Are you running the same plugins on your test site?
>> --
>> Alexander Concha
>> http://www.buayacorp.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Jesus Lizama
> Developer/Designer
> Spifffy.com | ConquerLA.com
> Cell: (323)336-2953
>
>


-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From aaron at jorb.in  Mon May 23 20:25:41 2011
From: aaron at jorb.in (Aaron Jorbin)
Date: Mon, 23 May 2011 16:25:41 -0400
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>
	<BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>
Message-ID: <BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>

On Mon, May 23, 2011 at 1:18 PM, Jesus Lizama <beautifulcrimes at gmail.com
>wrote:

> Yes. I deactivated all plugins aswell, before and after the theme install.
> but to no avail.. Really wanted to have this theme go live today, but I'm
> finding it very difficult to troubleshoot this error.

Up the rewrite log level and log rewrites temporarily -
https://httpd.apache.org/docs/current/mod/mod_rewrite.html#RewriteLog

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Mon, May 23, 2011 at 4:23 PM, Jesus Lizama <beautifulcrimes at gmail.com>wrote:

> When I preview the theme through the Dashboard, it looks great, but once
> activated.. I get the issue. What can cause a theme to create redirects?
>
>
> >
> >
> > On Mon, May 23, 2011 at 1:07 PM, Alexander Concha <alex at buayacorp.com
> >wrote:
> >
> >> On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama <
> beautifulcrimes at gmail.com>
> >> wrote:
> >> > I'm currently hosting the theme at:
> >> >
> >> > http://spifffy.com/wptest
> >> >
> >> > ..so I know it works!
> >> >
> >> > but when I transfer the theme over to the live site, I get a redirect
> >> loop
> >> > error.
> >>
> >> Are you running the same plugins on your test site?
> >> --
> >> Alexander Concha
> >> http://www.buayacorp.com
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > Jesus Lizama
> > Developer/Designer
> > Spifffy.com | ConquerLA.com
> > Cell: (323)336-2953
> >
> >
>
>
> --
> Jesus Lizama
> Developer/Designer
> Spifffy.com | ConquerLA.com
> Cell: (323)336-2953
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From beautifulcrimes at gmail.com  Mon May 23 20:35:31 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 23 May 2011 13:35:31 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>
	<BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>
	<BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>
Message-ID: <BANLkTi=KWe=jqX59X2A9fOss+uV16L+L6w@mail.gmail.com>

The live server doesn't contain a .htaccess file. Is it as simple as
creating one and adding the ReWrite?

On Mon, May 23, 2011 at 1:25 PM, Aaron Jorbin <aaron at jorb.in> wrote:

> On Mon, May 23, 2011 at 1:18 PM, Jesus Lizama <beautifulcrimes at gmail.com
> >wrote:
>
> > Yes. I deactivated all plugins aswell, before and after the theme
> install.
> > but to no avail.. Really wanted to have this theme go live today, but I'm
> > finding it very difficult to troubleshoot this error.
>
> Up the rewrite log level and log rewrites temporarily -
> https://httpd.apache.org/docs/current/mod/mod_rewrite.html#RewriteLog
>
> http://aaron.jorb.in
> twitter: twitter.com/aaronjorbin
>
>
> On Mon, May 23, 2011 at 4:23 PM, Jesus Lizama <beautifulcrimes at gmail.com
> >wrote:
>
> > When I preview the theme through the Dashboard, it looks great, but once
> > activated.. I get the issue. What can cause a theme to create redirects?
> >
> >
> > >
> > >
> > > On Mon, May 23, 2011 at 1:07 PM, Alexander Concha <alex at buayacorp.com
> > >wrote:
> > >
> > >> On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama <
> > beautifulcrimes at gmail.com>
> > >> wrote:
> > >> > I'm currently hosting the theme at:
> > >> >
> > >> > http://spifffy.com/wptest
> > >> >
> > >> > ..so I know it works!
> > >> >
> > >> > but when I transfer the theme over to the live site, I get a
> redirect
> > >> loop
> > >> > error.
> > >>
> > >> Are you running the same plugins on your test site?
> > >> --
> > >> Alexander Concha
> > >> http://www.buayacorp.com
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > >
> > >
> > >
> > > --
> > > Jesus Lizama
> > > Developer/Designer
> > > Spifffy.com | ConquerLA.com
> > > Cell: (323)336-2953
> > >
> > >
> >
> >
> > --
> > Jesus Lizama
> > Developer/Designer
> > Spifffy.com | ConquerLA.com
> > Cell: (323)336-2953
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From rafaehlers at gmail.com  Mon May 23 20:50:11 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Mon, 23 May 2011 17:50:11 -0300
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTi=KWe=jqX59X2A9fOss+uV16L+L6w@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>
	<BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>
	<BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>
	<BANLkTi=KWe=jqX59X2A9fOss+uV16L+L6w@mail.gmail.com>
Message-ID: <BANLkTimVkg8TzsSHiTzrv-_AF7OBNybqJw@mail.gmail.com>

Dont create one, let the WordPress create it. Set 777 for the moment to the
root directory, go to Admin, and regenerate the permalinks, then test it!

On Mon, May 23, 2011 at 5:35 PM, Jesus Lizama <beautifulcrimes at gmail.com>wrote:

> The live server doesn't contain a .htaccess file. Is it as simple as
> creating one and adding the ReWrite?
>
> On Mon, May 23, 2011 at 1:25 PM, Aaron Jorbin <aaron at jorb.in> wrote:
>
> > On Mon, May 23, 2011 at 1:18 PM, Jesus Lizama <beautifulcrimes at gmail.com
> > >wrote:
> >
> > > Yes. I deactivated all plugins aswell, before and after the theme
> > install.
> > > but to no avail.. Really wanted to have this theme go live today, but
> I'm
> > > finding it very difficult to troubleshoot this error.
> >
> > Up the rewrite log level and log rewrites temporarily -
> > https://httpd.apache.org/docs/current/mod/mod_rewrite.html#RewriteLog
> >
> > http://aaron.jorb.in
> > twitter: twitter.com/aaronjorbin
> >
> >
> > On Mon, May 23, 2011 at 4:23 PM, Jesus Lizama <beautifulcrimes at gmail.com
> > >wrote:
> >
> > > When I preview the theme through the Dashboard, it looks great, but
> once
> > > activated.. I get the issue. What can cause a theme to create
> redirects?
> > >
> > >
> > > >
> > > >
> > > > On Mon, May 23, 2011 at 1:07 PM, Alexander Concha <
> alex at buayacorp.com
> > > >wrote:
> > > >
> > > >> On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama <
> > > beautifulcrimes at gmail.com>
> > > >> wrote:
> > > >> > I'm currently hosting the theme at:
> > > >> >
> > > >> > http://spifffy.com/wptest
> > > >> >
> > > >> > ..so I know it works!
> > > >> >
> > > >> > but when I transfer the theme over to the live site, I get a
> > redirect
> > > >> loop
> > > >> > error.
> > > >>
> > > >> Are you running the same plugins on your test site?
> > > >> --
> > > >> Alexander Concha
> > > >> http://www.buayacorp.com
> > > >> _______________________________________________
> > > >> wp-hackers mailing list
> > > >> wp-hackers at lists.automattic.com
> > > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >>
> > > >
> > > >
> > > >
> > > > --
> > > > Jesus Lizama
> > > > Developer/Designer
> > > > Spifffy.com | ConquerLA.com
> > > > Cell: (323)336-2953
> > > >
> > > >
> > >
> > >
> > > --
> > > Jesus Lizama
> > > Developer/Designer
> > > Spifffy.com | ConquerLA.com
> > > Cell: (323)336-2953
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Jesus Lizama
> Developer/Designer
> Spifffy.com | ConquerLA.com
> Cell: (323)336-2953
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From beautifulcrimes at gmail.com  Mon May 23 21:01:38 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 23 May 2011 14:01:38 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTimVkg8TzsSHiTzrv-_AF7OBNybqJw@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>
	<BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>
	<BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>
	<BANLkTi=KWe=jqX59X2A9fOss+uV16L+L6w@mail.gmail.com>
	<BANLkTimVkg8TzsSHiTzrv-_AF7OBNybqJw@mail.gmail.com>
Message-ID: <BANLkTi=uYz_HwzgF7EeEpHixhQakvCOBjA@mail.gmail.com>

Tried it! Didn't work :(

On Mon, May 23, 2011 at 1:50 PM, Rafael Ehlers <rafaehlers at gmail.com> wrote:

> Dont create one, let the WordPress create it. Set 777 for the moment to the
> root directory, go to Admin, and regenerate the permalinks, then test it!
>
> On Mon, May 23, 2011 at 5:35 PM, Jesus Lizama <beautifulcrimes at gmail.com
> >wrote:
>
> > The live server doesn't contain a .htaccess file. Is it as simple as
> > creating one and adding the ReWrite?
> >
> > On Mon, May 23, 2011 at 1:25 PM, Aaron Jorbin <aaron at jorb.in> wrote:
> >
> > > On Mon, May 23, 2011 at 1:18 PM, Jesus Lizama <
> beautifulcrimes at gmail.com
> > > >wrote:
> > >
> > > > Yes. I deactivated all plugins aswell, before and after the theme
> > > install.
> > > > but to no avail.. Really wanted to have this theme go live today, but
> > I'm
> > > > finding it very difficult to troubleshoot this error.
> > >
> > > Up the rewrite log level and log rewrites temporarily -
> > > https://httpd.apache.org/docs/current/mod/mod_rewrite.html#RewriteLog
> > >
> > > http://aaron.jorb.in
> > > twitter: twitter.com/aaronjorbin
> > >
> > >
> > > On Mon, May 23, 2011 at 4:23 PM, Jesus Lizama <
> beautifulcrimes at gmail.com
> > > >wrote:
> > >
> > > > When I preview the theme through the Dashboard, it looks great, but
> > once
> > > > activated.. I get the issue. What can cause a theme to create
> > redirects?
> > > >
> > > >
> > > > >
> > > > >
> > > > > On Mon, May 23, 2011 at 1:07 PM, Alexander Concha <
> > alex at buayacorp.com
> > > > >wrote:
> > > > >
> > > > >> On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama <
> > > > beautifulcrimes at gmail.com>
> > > > >> wrote:
> > > > >> > I'm currently hosting the theme at:
> > > > >> >
> > > > >> > http://spifffy.com/wptest
> > > > >> >
> > > > >> > ..so I know it works!
> > > > >> >
> > > > >> > but when I transfer the theme over to the live site, I get a
> > > redirect
> > > > >> loop
> > > > >> > error.
> > > > >>
> > > > >> Are you running the same plugins on your test site?
> > > > >> --
> > > > >> Alexander Concha
> > > > >> http://www.buayacorp.com
> > > > >> _______________________________________________
> > > > >> wp-hackers mailing list
> > > > >> wp-hackers at lists.automattic.com
> > > > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > >>
> > > > >
> > > > >
> > > > >
> > > > > --
> > > > > Jesus Lizama
> > > > > Developer/Designer
> > > > > Spifffy.com | ConquerLA.com
> > > > > Cell: (323)336-2953
> > > > >
> > > > >
> > > >
> > > >
> > > > --
> > > > Jesus Lizama
> > > > Developer/Designer
> > > > Spifffy.com | ConquerLA.com
> > > > Cell: (323)336-2953
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > Jesus Lizama
> > Developer/Designer
> > Spifffy.com | ConquerLA.com
> > Cell: (323)336-2953
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From mihai.chereji at gmail.com  Mon May 23 21:04:58 2011
From: mihai.chereji at gmail.com (Mihai Chereji)
Date: Tue, 24 May 2011 00:04:58 +0300
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTi=uYz_HwzgF7EeEpHixhQakvCOBjA@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>	<BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>	<BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>	<BANLkTi=KWe=jqX59X2A9fOss+uV16L+L6w@mail.gmail.com>	<BANLkTimVkg8TzsSHiTzrv-_AF7OBNybqJw@mail.gmail.com>
	<BANLkTi=uYz_HwzgF7EeEpHixhQakvCOBjA@mail.gmail.com>
Message-ID: <4DDACBFA.7070404@gmail.com>

On 05/24/2011 12:01 AM, Jesus Lizama wrote:
> Tried it! Didn't work :(
>
> On Mon, May 23, 2011 at 1:50 PM, Rafael Ehlers<rafaehlers at gmail.com>  wrote:
>
>> Dont create one, let the WordPress create it. Set 777 for the moment to the
>> root directory, go to Admin, and regenerate the permalinks, then test it!
>>
>> On Mon, May 23, 2011 at 5:35 PM, Jesus Lizama<beautifulcrimes at gmail.com
>>> wrote:
>>> The live server doesn't contain a .htaccess file. Is it as simple as
>>> creating one and adding the ReWrite?
>>>
>>> On Mon, May 23, 2011 at 1:25 PM, Aaron Jorbin<aaron at jorb.in>  wrote:
>>>
>>>> On Mon, May 23, 2011 at 1:18 PM, Jesus Lizama<
>> beautifulcrimes at gmail.com
>>>>> wrote:
>>>>> Yes. I deactivated all plugins aswell, before and after the theme
>>>> install.
>>>>> but to no avail.. Really wanted to have this theme go live today, but
>>> I'm
>>>>> finding it very difficult to troubleshoot this error.
>>>> Up the rewrite log level and log rewrites temporarily -
>>>> https://httpd.apache.org/docs/current/mod/mod_rewrite.html#RewriteLog
>>>>
>>>> http://aaron.jorb.in
>>>> twitter: twitter.com/aaronjorbin
>>>>
>>>>
>>>> On Mon, May 23, 2011 at 4:23 PM, Jesus Lizama<
>> beautifulcrimes at gmail.com
>>>>> wrote:
>>>>> When I preview the theme through the Dashboard, it looks great, but
>>> once
>>>>> activated.. I get the issue. What can cause a theme to create
>>> redirects?
>>>>>
>>>>>>
>>>>>> On Mon, May 23, 2011 at 1:07 PM, Alexander Concha<
>>> alex at buayacorp.com
>>>>>> wrote:
>>>>>>
>>>>>>> On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama<
>>>>> beautifulcrimes at gmail.com>
>>>>>>> wrote:
>>>>>>>> I'm currently hosting the theme at:
>>>>>>>>
>>>>>>>> http://spifffy.com/wptest
>>>>>>>>
>>>>>>>> ..so I know it works!
>>>>>>>>
>>>>>>>> but when I transfer the theme over to the live site, I get a
>>>> redirect
>>>>>>> loop
>>>>>>>> error.
>>>>>>> Are you running the same plugins on your test site?
>>>>>>> --
>>>>>>> Alexander Concha
>>>>>>> http://www.buayacorp.com
>>>>>>> _______________________________________________
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers at lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Jesus Lizama
>>>>>> Developer/Designer
>>>>>> Spifffy.com | ConquerLA.com
>>>>>> Cell: (323)336-2953
>>>>>>
>>>>>>
>>>>>
>>>>> --
>>>>> Jesus Lizama
>>>>> Developer/Designer
>>>>> Spifffy.com | ConquerLA.com
>>>>> Cell: (323)336-2953
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>> --
>>> Jesus Lizama
>>> Developer/Designer
>>> Spifffy.com | ConquerLA.com
>>> Cell: (323)336-2953
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
This may sound like a stupid suggestion, but are you sure your server is 
Apache? I always start from that premise when deploying on a client's 
server and always act surprised when I find IIS or nginx instead.

From dan at instinct.co.nz  Mon May 23 23:31:28 2011
From: dan at instinct.co.nz (Dan Milward)
Date: Tue, 24 May 2011 11:31:28 +1200
Subject: [wp-hackers] Revisions API
Message-ID: <4DDAEE50.5010706@instinct.co.nz>

Hey guys,

Are there APIs/hooks for Plugins to refer to a particular (older) revision of a CPT and figure out what is the current revision of that CPT without have to do any SQL?

Use case: /In our game engine a user can create a character sprite for a game that other people can use in their game. Once the user is happy they can publish their character sprite so that other people can use that in their games. (sprites/characters are custom post types).

But if the user decides at a later date to change their sprite we don't want it to suddenly change for all the existing users of that sprite. We want them to continue to use the old revision and give them the option to upgrade to the latest CPT only if they want to./

Any thoughts on this one would be appreciated.

Best,
Dan


From mikeschinkel at newclarity.net  Mon May 23 23:37:14 2011
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 23 May 2011 19:37:14 -0400
Subject: [wp-hackers] Revisions API
In-Reply-To: <4DDAEE50.5010706@instinct.co.nz>
References: <4DDAEE50.5010706@instinct.co.nz>
Message-ID: <7ADD2B72-CF62-48EE-BDC2-E9AB09D7E77A@newclarity.net>

Hi Dan,

Can you give example of how two different CPTs or the specific data they would contain would differ?

-Mike

On May 23, 2011, at 7:31 PM, Dan Milward wrote:

> Hey guys,
> 
> Are there APIs/hooks for Plugins to refer to a particular (older) revision of a CPT and figure out what is the current revision of that CPT without have to do any SQL?
> 
> Use case: /In our game engine a user can create a character sprite for a game that other people can use in their game. Once the user is happy they can publish their character sprite so that other people can use that in their games. (sprites/characters are custom post types).
> 
> But if the user decides at a later date to change their sprite we don't want it to suddenly change for all the existing users of that sprite. We want them to continue to use the old revision and give them the option to upgrade to the latest CPT only if they want to./
> 
> Any thoughts on this one would be appreciated.
> 
> Best,
> Dan
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dan at instinct.co.nz  Mon May 23 23:50:03 2011
From: dan at instinct.co.nz (Dan Milward)
Date: Tue, 24 May 2011 11:50:03 +1200
Subject: [wp-hackers] Revisions API
In-Reply-To: <7ADD2B72-CF62-48EE-BDC2-E9AB09D7E77A@newclarity.net>
References: <4DDAEE50.5010706@instinct.co.nz>
	<7ADD2B72-CF62-48EE-BDC2-E9AB09D7E77A@newclarity.net>
Message-ID: <4DDAF2AB.3080500@instinct.co.nz>

A graphic stored in one, and another that includes it. If the graphic is updated, we don't want the other cpt to use the updated revision

Best,
Dan

On 24/05/11 11:37 AM, Mike Schinkel wrote:
> Hi Dan,
>
> Can you give example of how two different CPTs or the specific data they would contain would differ?
>
> -Mike
>
> On May 23, 2011, at 7:31 PM, Dan Milward wrote:
>
>> Hey guys,
>>
>> Are there APIs/hooks for Plugins to refer to a particular (older) revision of a CPT and figure out what is the current revision of that CPT without have to do any SQL?
>>
>> Use case: /In our game engine a user can create a character sprite for a game that other people can use in their game. Once the user is happy they can publish their character sprite so that other people can use that in their games. (sprites/characters are custom post types).
>>
>> But if the user decides at a later date to change their sprite we don't want it to suddenly change for all the existing users of that sprite. We want them to continue to use the old revision and give them the option to upgrade to the latest CPT only if they want to./
>>
>> Any thoughts on this one would be appreciated.
>>
>> Best,
>> Dan
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From lox.dev at knc.nc  Tue May 24 04:32:04 2011
From: lox.dev at knc.nc (Lox)
Date: Tue, 24 May 2011 15:32:04 +1100
Subject: [wp-hackers] Associating post_status with a Custom Post Type
In-Reply-To: <BANLkTinXfm7PxmcUQ0y0nnRk12jNzjpdHw@mail.gmail.com>
References: <BANLkTinXfm7PxmcUQ0y0nnRk12jNzjpdHw@mail.gmail.com>
Message-ID: <BANLkTikJ5+WuTeSgtqevqWWfnTkLThYBtg@mail.gmail.com>

2011/5/24 Alex Andrews <awgandrews at gmail.com>

> As far as I can see, there isn't an easy way to associate a
> post_status with a given Custom Post Type. So, for example, a radio
> programme could be Live and Archived, but I don't want, say, pages or
> posts to be done in such a way. Equally, lets suppose that I don't
> want the standard post_status for the radio programme (draft and so
> on) - is there any way of making them not show up?
>
> What is the best way to do this?
>

I have searched and didin't found how to do it. So I do not thik it is
possible as of 3.1.

-- 
Lox
lox.dev at knc.nc

From lox.dev at knc.nc  Tue May 24 04:37:34 2011
From: lox.dev at knc.nc (Lox)
Date: Tue, 24 May 2011 15:37:34 +1100
Subject: [wp-hackers] Wp_cron and timezone
Message-ID: <BANLkTi=785Rs2hPBkC6wr6B=oreaQYR-Jg@mail.gmail.com>

Hello,

Can anyone can confirm that the $timestamp argument of the
wp_schedule_event<http://codex.wordpress.org/Function_Reference/wp_schedule_event>function
must be given in GMT time?

(my sever is configured as UTC+11 as of Wordpress but
date_default_timezone_get(); gives me utc time as of the time() function)

Regards

-- 
Lox
lox.dev at knc.nc

From ehitter at gmail.com  Tue May 24 04:54:31 2011
From: ehitter at gmail.com (Erick Hitter)
Date: Tue, 24 May 2011 00:54:31 -0400
Subject: [wp-hackers] Associating post_status with a Custom Post Type
In-Reply-To: <BANLkTikJ5+WuTeSgtqevqWWfnTkLThYBtg@mail.gmail.com>
References: <BANLkTinXfm7PxmcUQ0y0nnRk12jNzjpdHw@mail.gmail.com>
	<BANLkTikJ5+WuTeSgtqevqWWfnTkLThYBtg@mail.gmail.com>
Message-ID: <BANLkTi=SoNi2AY_cA+3ch99y=br+wc+J5Q@mail.gmail.com>

One can register custom post statuses (register_post_status, I believe), but
they aren't well supported as of 3.1. For starters, the dropdown in the
Publish meta box is hardcoded, so saving a custom post status requires
either a custom meta box or jQuery workaround.

Erick
On May 24, 2011 12:32 AM, "Lox" <lox.dev at knc.nc> wrote:
> 2011/5/24 Alex Andrews <awgandrews at gmail.com>
>
>> As far as I can see, there isn't an easy way to associate a
>> post_status with a given Custom Post Type. So, for example, a radio
>> programme could be Live and Archived, but I don't want, say, pages or
>> posts to be done in such a way. Equally, lets suppose that I don't
>> want the standard post_status for the radio programme (draft and so
>> on) - is there any way of making them not show up?
>>
>> What is the best way to do this?
>>
>
> I have searched and didin't found how to do it. So I do not thik it is
> possible as of 3.1.
>
> --
> Lox
> lox.dev at knc.nc
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Tue May 24 05:33:31 2011
From: otto at ottodestruct.com (Otto)
Date: Tue, 24 May 2011 00:33:31 -0500
Subject: [wp-hackers] Wp_cron and timezone
In-Reply-To: <BANLkTi=785Rs2hPBkC6wr6B=oreaQYR-Jg@mail.gmail.com>
References: <BANLkTi=785Rs2hPBkC6wr6B=oreaQYR-Jg@mail.gmail.com>
Message-ID: <BANLkTimeGNrF2g5VsfLxZ5jTknzuoADufg@mail.gmail.com>

The value must be relative to whatever time() gives you as the current
time. So if time() is giving you UTC, then you should use UTC.

-Otto



On Mon, May 23, 2011 at 11:37 PM, Lox <lox.dev at knc.nc> wrote:
> Hello,
>
> Can anyone can confirm that the $timestamp argument of the
> wp_schedule_event<http://codex.wordpress.org/Function_Reference/wp_schedule_event>function
> must be given in GMT time?
>
> (my sever is configured as UTC+11 as of Wordpress but
> date_default_timezone_get(); gives me utc time as of the time() function)
>
> Regards
>
> --
> Lox
> lox.dev at knc.nc
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From beautifulcrimes at gmail.com  Tue May 24 05:45:08 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 23 May 2011 22:45:08 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <4DDACBFA.7070404@gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>
	<BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>
	<BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>
	<BANLkTi=KWe=jqX59X2A9fOss+uV16L+L6w@mail.gmail.com>
	<BANLkTimVkg8TzsSHiTzrv-_AF7OBNybqJw@mail.gmail.com>
	<BANLkTi=uYz_HwzgF7EeEpHixhQakvCOBjA@mail.gmail.com>
	<4DDACBFA.7070404@gmail.com>
Message-ID: <BANLkTinXges-sV2YYwxsVR0TVi1XU-M6Vg@mail.gmail.com>

I think that might be the issue. I tested the theme on other test sites and
it works without a problem. How can I find out what server type my client is
using?

On Mon, May 23, 2011 at 2:04 PM, Mihai Chereji <mihai.chereji at gmail.com>wrote:

> On 05/24/2011 12:01 AM, Jesus Lizama wrote:
>
>> Tried it! Didn't work :(
>>
>> On Mon, May 23, 2011 at 1:50 PM, Rafael Ehlers<rafaehlers at gmail.com>
>>  wrote:
>>
>>  Dont create one, let the WordPress create it. Set 777 for the moment to
>>> the
>>> root directory, go to Admin, and regenerate the permalinks, then test it!
>>>
>>> On Mon, May 23, 2011 at 5:35 PM, Jesus Lizama<beautifulcrimes at gmail.com
>>>
>>>> wrote:
>>>> The live server doesn't contain a .htaccess file. Is it as simple as
>>>> creating one and adding the ReWrite?
>>>>
>>>> On Mon, May 23, 2011 at 1:25 PM, Aaron Jorbin<aaron at jorb.in>  wrote:
>>>>
>>>>  On Mon, May 23, 2011 at 1:18 PM, Jesus Lizama<
>>>>>
>>>> beautifulcrimes at gmail.com
>>>
>>>> wrote:
>>>>>> Yes. I deactivated all plugins aswell, before and after the theme
>>>>>>
>>>>> install.
>>>>>
>>>>>> but to no avail.. Really wanted to have this theme go live today, but
>>>>>>
>>>>> I'm
>>>>
>>>>> finding it very difficult to troubleshoot this error.
>>>>>>
>>>>> Up the rewrite log level and log rewrites temporarily -
>>>>> https://httpd.apache.org/docs/current/mod/mod_rewrite.html#RewriteLog
>>>>>
>>>>> http://aaron.jorb.in
>>>>> twitter: twitter.com/aaronjorbin
>>>>>
>>>>>
>>>>> On Mon, May 23, 2011 at 4:23 PM, Jesus Lizama<
>>>>>
>>>> beautifulcrimes at gmail.com
>>>
>>>> wrote:
>>>>>> When I preview the theme through the Dashboard, it looks great, but
>>>>>>
>>>>> once
>>>>
>>>>> activated.. I get the issue. What can cause a theme to create
>>>>>>
>>>>> redirects?
>>>>
>>>>>
>>>>>>
>>>>>>> On Mon, May 23, 2011 at 1:07 PM, Alexander Concha<
>>>>>>>
>>>>>> alex at buayacorp.com
>>>>
>>>>> wrote:
>>>>>>>
>>>>>>>  On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama<
>>>>>>>>
>>>>>>> beautifulcrimes at gmail.com>
>>>>>>
>>>>>>> wrote:
>>>>>>>>
>>>>>>>>> I'm currently hosting the theme at:
>>>>>>>>>
>>>>>>>>> http://spifffy.com/wptest
>>>>>>>>>
>>>>>>>>> ..so I know it works!
>>>>>>>>>
>>>>>>>>> but when I transfer the theme over to the live site, I get a
>>>>>>>>>
>>>>>>>> redirect
>>>>>
>>>>>> loop
>>>>>>>>
>>>>>>>>> error.
>>>>>>>>>
>>>>>>>> Are you running the same plugins on your test site?
>>>>>>>> --
>>>>>>>> Alexander Concha
>>>>>>>> http://www.buayacorp.com
>>>>>>>> _______________________________________________
>>>>>>>> wp-hackers mailing list
>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Jesus Lizama
>>>>>>> Developer/Designer
>>>>>>> Spifffy.com | ConquerLA.com
>>>>>>> Cell: (323)336-2953
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>> --
>>>>>> Jesus Lizama
>>>>>> Developer/Designer
>>>>>> Spifffy.com | ConquerLA.com
>>>>>> Cell: (323)336-2953
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>  _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>>
>>>> --
>>>> Jesus Lizama
>>>> Developer/Designer
>>>> Spifffy.com | ConquerLA.com
>>>> Cell: (323)336-2953
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>  _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>
>>  This may sound like a stupid suggestion, but are you sure your server is
> Apache? I always start from that premise when deploying on a client's server
> and always act surprised when I find IIS or nginx instead.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From rafaehlers at gmail.com  Tue May 24 05:57:31 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Tue, 24 May 2011 02:57:31 -0300
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTinXges-sV2YYwxsVR0TVi1XU-M6Vg@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>
	<BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>
	<BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>
	<BANLkTi=KWe=jqX59X2A9fOss+uV16L+L6w@mail.gmail.com>
	<BANLkTimVkg8TzsSHiTzrv-_AF7OBNybqJw@mail.gmail.com>
	<BANLkTi=uYz_HwzgF7EeEpHixhQakvCOBjA@mail.gmail.com>
	<4DDACBFA.7070404@gmail.com>
	<BANLkTinXges-sV2YYwxsVR0TVi1XU-M6Vg@mail.gmail.com>
Message-ID: <BANLkTikRH8Xux7TEwXau2pfbd9EzEt9GVQ@mail.gmail.com>

Just use Firebug on the Network tab, check the headers of the requests, it's
there on GET Requests, as Server: Aapche/2.2.17 (Win32)....

On Tue, May 24, 2011 at 2:45 AM, Jesus Lizama <beautifulcrimes at gmail.com>wrote:

> I think that might be the issue. I tested the theme on other test sites and
> it works without a problem. How can I find out what server type my client
> is
> using?
>
> On Mon, May 23, 2011 at 2:04 PM, Mihai Chereji <mihai.chereji at gmail.com
> >wrote:
>
> > On 05/24/2011 12:01 AM, Jesus Lizama wrote:
> >
> >> Tried it! Didn't work :(
> >>
> >> On Mon, May 23, 2011 at 1:50 PM, Rafael Ehlers<rafaehlers at gmail.com>
> >>  wrote:
> >>
> >>  Dont create one, let the WordPress create it. Set 777 for the moment to
> >>> the
> >>> root directory, go to Admin, and regenerate the permalinks, then test
> it!
> >>>
> >>> On Mon, May 23, 2011 at 5:35 PM, Jesus Lizama<
> beautifulcrimes at gmail.com
> >>>
> >>>> wrote:
> >>>> The live server doesn't contain a .htaccess file. Is it as simple as
> >>>> creating one and adding the ReWrite?
> >>>>
> >>>> On Mon, May 23, 2011 at 1:25 PM, Aaron Jorbin<aaron at jorb.in>  wrote:
> >>>>
> >>>>  On Mon, May 23, 2011 at 1:18 PM, Jesus Lizama<
> >>>>>
> >>>> beautifulcrimes at gmail.com
> >>>
> >>>> wrote:
> >>>>>> Yes. I deactivated all plugins aswell, before and after the theme
> >>>>>>
> >>>>> install.
> >>>>>
> >>>>>> but to no avail.. Really wanted to have this theme go live today,
> but
> >>>>>>
> >>>>> I'm
> >>>>
> >>>>> finding it very difficult to troubleshoot this error.
> >>>>>>
> >>>>> Up the rewrite log level and log rewrites temporarily -
> >>>>>
> https://httpd.apache.org/docs/current/mod/mod_rewrite.html#RewriteLog
> >>>>>
> >>>>> http://aaron.jorb.in
> >>>>> twitter: twitter.com/aaronjorbin
> >>>>>
> >>>>>
> >>>>> On Mon, May 23, 2011 at 4:23 PM, Jesus Lizama<
> >>>>>
> >>>> beautifulcrimes at gmail.com
> >>>
> >>>> wrote:
> >>>>>> When I preview the theme through the Dashboard, it looks great, but
> >>>>>>
> >>>>> once
> >>>>
> >>>>> activated.. I get the issue. What can cause a theme to create
> >>>>>>
> >>>>> redirects?
> >>>>
> >>>>>
> >>>>>>
> >>>>>>> On Mon, May 23, 2011 at 1:07 PM, Alexander Concha<
> >>>>>>>
> >>>>>> alex at buayacorp.com
> >>>>
> >>>>> wrote:
> >>>>>>>
> >>>>>>>  On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama<
> >>>>>>>>
> >>>>>>> beautifulcrimes at gmail.com>
> >>>>>>
> >>>>>>> wrote:
> >>>>>>>>
> >>>>>>>>> I'm currently hosting the theme at:
> >>>>>>>>>
> >>>>>>>>> http://spifffy.com/wptest
> >>>>>>>>>
> >>>>>>>>> ..so I know it works!
> >>>>>>>>>
> >>>>>>>>> but when I transfer the theme over to the live site, I get a
> >>>>>>>>>
> >>>>>>>> redirect
> >>>>>
> >>>>>> loop
> >>>>>>>>
> >>>>>>>>> error.
> >>>>>>>>>
> >>>>>>>> Are you running the same plugins on your test site?
> >>>>>>>> --
> >>>>>>>> Alexander Concha
> >>>>>>>> http://www.buayacorp.com
> >>>>>>>> _______________________________________________
> >>>>>>>> wp-hackers mailing list
> >>>>>>>> wp-hackers at lists.automattic.com
> >>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>>
> >>>>>>>>
> >>>>>>>
> >>>>>>> --
> >>>>>>> Jesus Lizama
> >>>>>>> Developer/Designer
> >>>>>>> Spifffy.com | ConquerLA.com
> >>>>>>> Cell: (323)336-2953
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>> --
> >>>>>> Jesus Lizama
> >>>>>> Developer/Designer
> >>>>>> Spifffy.com | ConquerLA.com
> >>>>>> Cell: (323)336-2953
> >>>>>> _______________________________________________
> >>>>>> wp-hackers mailing list
> >>>>>> wp-hackers at lists.automattic.com
> >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>
> >>>>>>  _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers at lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>
> >>>>>
> >>>>
> >>>> --
> >>>> Jesus Lizama
> >>>> Developer/Designer
> >>>> Spifffy.com | ConquerLA.com
> >>>> Cell: (323)336-2953
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>>  _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>>
> >>
> >>  This may sound like a stupid suggestion, but are you sure your server
> is
> > Apache? I always start from that premise when deploying on a client's
> server
> > and always act surprised when I find IIS or nginx instead.
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Jesus Lizama
> Developer/Designer
> Spifffy.com | ConquerLA.com
> Cell: (323)336-2953
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From beautifulcrimes at gmail.com  Tue May 24 06:28:03 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Mon, 23 May 2011 23:28:03 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTikRH8Xux7TEwXau2pfbd9EzEt9GVQ@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>
	<BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>
	<BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>
	<BANLkTi=KWe=jqX59X2A9fOss+uV16L+L6w@mail.gmail.com>
	<BANLkTimVkg8TzsSHiTzrv-_AF7OBNybqJw@mail.gmail.com>
	<BANLkTi=uYz_HwzgF7EeEpHixhQakvCOBjA@mail.gmail.com>
	<4DDACBFA.7070404@gmail.com>
	<BANLkTinXges-sV2YYwxsVR0TVi1XU-M6Vg@mail.gmail.com>
	<BANLkTikRH8Xux7TEwXau2pfbd9EzEt9GVQ@mail.gmail.com>
Message-ID: <BANLkTimjAK+vZtUVdSuXY_nahHEOuk+VUA@mail.gmail.com>

Awesome thanks! I discovered their server is in fact running Apache. Hmmmm
this is a tough one!

On Mon, May 23, 2011 at 10:57 PM, Rafael Ehlers <rafaehlers at gmail.com>wrote:

> Just use Firebug on the Network tab, check the headers of the requests,
> it's
> there on GET Requests, as Server: Aapche/2.2.17 (Win32)....
>
> On Tue, May 24, 2011 at 2:45 AM, Jesus Lizama <beautifulcrimes at gmail.com
> >wrote:
>
> > I think that might be the issue. I tested the theme on other test sites
> and
> > it works without a problem. How can I find out what server type my client
> > is
> > using?
> >
> > On Mon, May 23, 2011 at 2:04 PM, Mihai Chereji <mihai.chereji at gmail.com
> > >wrote:
> >
> > > On 05/24/2011 12:01 AM, Jesus Lizama wrote:
> > >
> > >> Tried it! Didn't work :(
> > >>
> > >> On Mon, May 23, 2011 at 1:50 PM, Rafael Ehlers<rafaehlers at gmail.com>
> > >>  wrote:
> > >>
> > >>  Dont create one, let the WordPress create it. Set 777 for the moment
> to
> > >>> the
> > >>> root directory, go to Admin, and regenerate the permalinks, then test
> > it!
> > >>>
> > >>> On Mon, May 23, 2011 at 5:35 PM, Jesus Lizama<
> > beautifulcrimes at gmail.com
> > >>>
> > >>>> wrote:
> > >>>> The live server doesn't contain a .htaccess file. Is it as simple as
> > >>>> creating one and adding the ReWrite?
> > >>>>
> > >>>> On Mon, May 23, 2011 at 1:25 PM, Aaron Jorbin<aaron at jorb.in>
>  wrote:
> > >>>>
> > >>>>  On Mon, May 23, 2011 at 1:18 PM, Jesus Lizama<
> > >>>>>
> > >>>> beautifulcrimes at gmail.com
> > >>>
> > >>>> wrote:
> > >>>>>> Yes. I deactivated all plugins aswell, before and after the theme
> > >>>>>>
> > >>>>> install.
> > >>>>>
> > >>>>>> but to no avail.. Really wanted to have this theme go live today,
> > but
> > >>>>>>
> > >>>>> I'm
> > >>>>
> > >>>>> finding it very difficult to troubleshoot this error.
> > >>>>>>
> > >>>>> Up the rewrite log level and log rewrites temporarily -
> > >>>>>
> > https://httpd.apache.org/docs/current/mod/mod_rewrite.html#RewriteLog
> > >>>>>
> > >>>>> http://aaron.jorb.in
> > >>>>> twitter: twitter.com/aaronjorbin
> > >>>>>
> > >>>>>
> > >>>>> On Mon, May 23, 2011 at 4:23 PM, Jesus Lizama<
> > >>>>>
> > >>>> beautifulcrimes at gmail.com
> > >>>
> > >>>> wrote:
> > >>>>>> When I preview the theme through the Dashboard, it looks great,
> but
> > >>>>>>
> > >>>>> once
> > >>>>
> > >>>>> activated.. I get the issue. What can cause a theme to create
> > >>>>>>
> > >>>>> redirects?
> > >>>>
> > >>>>>
> > >>>>>>
> > >>>>>>> On Mon, May 23, 2011 at 1:07 PM, Alexander Concha<
> > >>>>>>>
> > >>>>>> alex at buayacorp.com
> > >>>>
> > >>>>> wrote:
> > >>>>>>>
> > >>>>>>>  On Mon, May 23, 2011 at 9:48 PM, Jesus Lizama<
> > >>>>>>>>
> > >>>>>>> beautifulcrimes at gmail.com>
> > >>>>>>
> > >>>>>>> wrote:
> > >>>>>>>>
> > >>>>>>>>> I'm currently hosting the theme at:
> > >>>>>>>>>
> > >>>>>>>>> http://spifffy.com/wptest
> > >>>>>>>>>
> > >>>>>>>>> ..so I know it works!
> > >>>>>>>>>
> > >>>>>>>>> but when I transfer the theme over to the live site, I get a
> > >>>>>>>>>
> > >>>>>>>> redirect
> > >>>>>
> > >>>>>> loop
> > >>>>>>>>
> > >>>>>>>>> error.
> > >>>>>>>>>
> > >>>>>>>> Are you running the same plugins on your test site?
> > >>>>>>>> --
> > >>>>>>>> Alexander Concha
> > >>>>>>>> http://www.buayacorp.com
> > >>>>>>>> _______________________________________________
> > >>>>>>>> wp-hackers mailing list
> > >>>>>>>> wp-hackers at lists.automattic.com
> > >>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>>>>>
> > >>>>>>>>
> > >>>>>>>
> > >>>>>>> --
> > >>>>>>> Jesus Lizama
> > >>>>>>> Developer/Designer
> > >>>>>>> Spifffy.com | ConquerLA.com
> > >>>>>>> Cell: (323)336-2953
> > >>>>>>>
> > >>>>>>>
> > >>>>>>>
> > >>>>>> --
> > >>>>>> Jesus Lizama
> > >>>>>> Developer/Designer
> > >>>>>> Spifffy.com | ConquerLA.com
> > >>>>>> Cell: (323)336-2953
> > >>>>>> _______________________________________________
> > >>>>>> wp-hackers mailing list
> > >>>>>> wp-hackers at lists.automattic.com
> > >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>>>
> > >>>>>>  _______________________________________________
> > >>>>> wp-hackers mailing list
> > >>>>> wp-hackers at lists.automattic.com
> > >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>>
> > >>>>>
> > >>>>
> > >>>> --
> > >>>> Jesus Lizama
> > >>>> Developer/Designer
> > >>>> Spifffy.com | ConquerLA.com
> > >>>> Cell: (323)336-2953
> > >>>> _______________________________________________
> > >>>> wp-hackers mailing list
> > >>>> wp-hackers at lists.automattic.com
> > >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>
> > >>>>  _______________________________________________
> > >>> wp-hackers mailing list
> > >>> wp-hackers at lists.automattic.com
> > >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>
> > >>>
> > >>
> > >>  This may sound like a stupid suggestion, but are you sure your server
> > is
> > > Apache? I always start from that premise when deploying on a client's
> > server
> > > and always act surprised when I find IIS or nginx instead.
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > Jesus Lizama
> > Developer/Designer
> > Spifffy.com | ConquerLA.com
> > Cell: (323)336-2953
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From lox.dev at knc.nc  Tue May 24 07:31:28 2011
From: lox.dev at knc.nc (Lox)
Date: Tue, 24 May 2011 18:31:28 +1100
Subject: [wp-hackers] Wp_cron and timezone
In-Reply-To: <BANLkTimeGNrF2g5VsfLxZ5jTknzuoADufg@mail.gmail.com>
References: <BANLkTi=785Rs2hPBkC6wr6B=oreaQYR-Jg@mail.gmail.com>
	<BANLkTimeGNrF2g5VsfLxZ5jTknzuoADufg@mail.gmail.com>
Message-ID: <BANLkTimtKhX4CBRM+_4JNskM24LuzxCYdg@mail.gmail.com>

2011/5/24 Otto <otto at ottodestruct.com>

> The value must be relative to whatever time() gives you as the current
> time. So if time() is giving you UTC, then you should use UTC.
>

Thanks

-- 
Lox
lox.dev at knc.nc

From lox.dev at knc.nc  Tue May 24 07:36:30 2011
From: lox.dev at knc.nc (Lox)
Date: Tue, 24 May 2011 18:36:30 +1100
Subject: [wp-hackers] Select from meta with a specific value or no meta
Message-ID: <BANLkTinQj4qZBRh79Quzxg4nFGG6Hh0+cw@mail.gmail.com>

Hello,

I need to make a query that selects users having a meta with a specific
value OR not having that meta. I don't see how to achieve it...

This will return me the users with the meta 'newsletter_optin' set to '1',
But I also need the users who do have not that meta set.

SELECT ID FROM {$wpdb->users} INNER JOIN {$wpdb->usermeta} ON
({$wpdb->users}.ID = {$wpdb->usermeta}.user_id)
INNER JOIN {$wpdb->usermeta} AS mt1 ON ({$wpdb->users}.ID = mt1.user_id)
WHERE 1=1
AND {$wpdb->usermeta}.meta_key = 'newsletter_subscribe'
AND CAST({$wpdb->usermeta}.meta_value AS CHAR) = '1'
AND mt1.meta_key = 'newsletter_optin'
AND CAST(mt1.meta_value AS CHAR) = '1'

Regards.

-- 
Lox
lox.dev at knc.nc

From wordpress at dd32.id.au  Tue May 24 07:57:26 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 24 May 2011 17:57:26 +1000
Subject: [wp-hackers] Select from meta with a specific value or no meta
In-Reply-To: <BANLkTinQj4qZBRh79Quzxg4nFGG6Hh0+cw@mail.gmail.com>
References: <BANLkTinQj4qZBRh79Quzxg4nFGG6Hh0+cw@mail.gmail.com>
Message-ID: <BANLkTi=oLhMtb__wteg624DcQ3Z3r2Rz3Q@mail.gmail.com>

Without actually attempting it myself, the 2 things you need:
 * The correct join type, Inner join is probably not it. I'm thinking an
Outer join might be what you're after.. Inner join will only return when the
meta value exists IIRC, Outer joins allow nulls I think.. (I usually try
half a dozen join syntaxes honestly.. I'm not SQL Guru)
 *   AND (  CAST(mt1.meta_value AS CHAR) = '1' OR mt1.meta_value IS NULL )
 * You might need to throw in   OR mt1.meta_value = '' as well.. as long as
!= 1 is 0 or something.. I'm thinking of partial deleted data.. hopefully
not a problem for you

Cheers
Dion

On 24 May 2011 17:36, Lox <lox.dev at knc.nc> wrote:

> Hello,
>
> I need to make a query that selects users having a meta with a specific
> value OR not having that meta. I don't see how to achieve it...
>
> This will return me the users with the meta 'newsletter_optin' set to '1',
> But I also need the users who do have not that meta set.
>
> SELECT ID FROM {$wpdb->users} INNER JOIN {$wpdb->usermeta} ON
> ({$wpdb->users}.ID = {$wpdb->usermeta}.user_id)
> INNER JOIN {$wpdb->usermeta} AS mt1 ON ({$wpdb->users}.ID = mt1.user_id)
> WHERE 1=1
> AND {$wpdb->usermeta}.meta_key = 'newsletter_subscribe'
> AND CAST({$wpdb->usermeta}.meta_value AS CHAR) = '1'
> AND mt1.meta_key = 'newsletter_optin'
> AND CAST(mt1.meta_value AS CHAR) = '1'
>
> Regards.
>
> --
> Lox
> lox.dev at knc.nc
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lox.dev at knc.nc  Tue May 24 09:55:56 2011
From: lox.dev at knc.nc (Lox)
Date: Tue, 24 May 2011 20:55:56 +1100
Subject: [wp-hackers] Select from meta with a specific value or no meta
In-Reply-To: <BANLkTi=oLhMtb__wteg624DcQ3Z3r2Rz3Q@mail.gmail.com>
References: <BANLkTinQj4qZBRh79Quzxg4nFGG6Hh0+cw@mail.gmail.com>
	<BANLkTi=oLhMtb__wteg624DcQ3Z3r2Rz3Q@mail.gmail.com>
Message-ID: <BANLkTinjJhGbzU5VWZaQbea58QS=9dorfQ@mail.gmail.com>

2011/5/24 Dion Hulse (dd32) <wordpress at dd32.id.au>

> Without actually attempting it myself, the 2 things you need:
>  * The correct join type, Inner join is probably not it. I'm thinking an
> Outer join might be what you're after.. Inner join will only return when
> the
> meta value exists IIRC, Outer joins allow nulls I think.. (I usually try
> half a dozen join syntaxes honestly.. I'm not SQL Guru)
>  *   AND (  CAST(mt1.meta_value AS CHAR) = '1' OR mt1.meta_value IS NULL )
>  * You might need to throw in   OR mt1.meta_value = '' as well.. as long as
> != 1 is 0 or something.. I'm thinking of partial deleted data.. hopefully
> not a problem for you
>

According to
http://www.wellho.net/mouth/158_MySQL-LEFT-JOIN-and-RIGHT-JOIN-INNER-JOIN-and-OUTER-JOIN.htmlI
should use LEFT JOIN:

SELECT * FROM wp_users
LEFT JOIN  wp_usermeta ON wp_users.ID = wp_usermeta.user_id
WHERE wp_usermeta.meta_key = 'i_dont_exist' AND wp_usermeta.meta_value IS
NULL

That should return all users but I get not results ...

-- 
Lox
lox.dev at knc.nc

From lox.dev at knc.nc  Tue May 24 10:14:26 2011
From: lox.dev at knc.nc (Lox)
Date: Tue, 24 May 2011 21:14:26 +1100
Subject: [wp-hackers] Select from meta with a specific value or no meta
In-Reply-To: <BANLkTinjJhGbzU5VWZaQbea58QS=9dorfQ@mail.gmail.com>
References: <BANLkTinQj4qZBRh79Quzxg4nFGG6Hh0+cw@mail.gmail.com>
	<BANLkTi=oLhMtb__wteg624DcQ3Z3r2Rz3Q@mail.gmail.com>
	<BANLkTinjJhGbzU5VWZaQbea58QS=9dorfQ@mail.gmail.com>
Message-ID: <BANLkTikQS0ZYJ6+e86RCPwcKuAF3Yp=8gw@mail.gmail.com>

2011/5/24 Lox <lox.dev at knc.nc>

> SELECT * FROM wp_users
> LEFT JOIN  wp_usermeta ON wp_users.ID = wp_usermeta.user_id
> WHERE wp_usermeta.meta_key = 'i_dont_exist' AND wp_usermeta.meta_value IS
> NULL
>
> That should return all users but I get not results ...
>

Found it, the meta_key must be in the ON statement:

SELECT * FROM wp_users
LEFT JOIN  wp_usermeta
ON wp_users.ID = wp_usermeta.user_id AND wp_usermeta.meta_key =
'i_dont_exist'
WHERE wp_usermeta.meta_value IS NULL

Thus the followinf query return all users having a meta
'newsletter_subscribe' set to '0' or the users who do not have that meta:

SELECT * FROM wp_users
LEFT JOIN  wp_usermeta  ON  wp_users.ID = wp_usermeta.user_id AND
wp_usermeta.meta_key = 'newsletter_subscribe'
WHERE  (  wp_usermeta.meta_value IS NULL OR wp_usermeta.meta_value LIKE '0')

Cheers

-- 
Lox
lox.dev at knc.nc

From hempsworth at gmail.com  Tue May 24 10:53:18 2011
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Tue, 24 May 2011 11:53:18 +0100
Subject: [wp-hackers] Custom post status for a custom post type
Message-ID: <BANLkTi==AmEzKcavtdPdy2PFVhVjNUk1LA@mail.gmail.com>

I have a post type of 'Candidates', and instead of the default post status'
of 'Published', 'Draft' etc I would like to define my own custom ones to
replace these, just for that custom post type.

How would I go about that? I can't seem to find anything on Google...

- - - -
Kind regards,
Alex Hempton-Smith

www.alexhemptonsmith.com
www.twitter.com/hempsworth

From lox.dev at knc.nc  Tue May 24 12:52:07 2011
From: lox.dev at knc.nc (Lox)
Date: Tue, 24 May 2011 23:52:07 +1100
Subject: [wp-hackers] Wp_cron and timezone
In-Reply-To: <BANLkTimeGNrF2g5VsfLxZ5jTknzuoADufg@mail.gmail.com>
References: <BANLkTi=785Rs2hPBkC6wr6B=oreaQYR-Jg@mail.gmail.com>
	<BANLkTimeGNrF2g5VsfLxZ5jTknzuoADufg@mail.gmail.com>
Message-ID: <BANLkTim7sn7-aActYb1w5v2tp+XOQp8t6g@mail.gmail.com>

2011/5/24 Otto <otto at ottodestruct.com>

> The value must be relative to whatever time() gives you as the current
> time. So if time() is giving you UTC, then you should use UTC.
>

Can time() return the time other than in GMT on some installations?

-- 
Lox
lox.dev at knc.nc

From ehitter at gmail.com  Tue May 24 13:15:01 2011
From: ehitter at gmail.com (Erick Hitter)
Date: Tue, 24 May 2011 09:15:01 -0400
Subject: [wp-hackers] Custom post status for a custom post type
In-Reply-To: <BANLkTi==AmEzKcavtdPdy2PFVhVjNUk1LA@mail.gmail.com>
References: <BANLkTi==AmEzKcavtdPdy2PFVhVjNUk1LA@mail.gmail.com>
Message-ID: <BANLkTi=w2Pi5Ry8-xfesSDD1G-UTXqLP-A@mail.gmail.com>

Alex,

Check out this thread from yesterday:
http://lists.automattic.com/pipermail/wp-hackers/2011-May/039399.html.

Erick

On Tue, May 24, 2011 at 06:53, Alex Hempton-Smith <hempsworth at gmail.com>wrote:

> I have a post type of 'Candidates', and instead of the default post status'
> of 'Published', 'Draft' etc I would like to define my own custom ones to
> replace these, just for that custom post type.
>
> How would I go about that? I can't seem to find anything on Google...
>
> - - - -
> Kind regards,
> Alex Hempton-Smith
>
> www.alexhemptonsmith.com
> www.twitter.com/hempsworth
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at zed1.com  Tue May 24 15:35:29 2011
From: wordpress at zed1.com (Mike Little)
Date: Tue, 24 May 2011 16:35:29 +0100
Subject: [wp-hackers] Revisions API
In-Reply-To: <4DDAEE50.5010706@instinct.co.nz>
References: <4DDAEE50.5010706@instinct.co.nz>
Message-ID: <BANLkTi=UoQ-mjvyVF84nL+mOgHEV9=DW2w@mail.gmail.com>

On Tue, May 24, 2011 at 00:31, Dan Milward <dan at instinct.co.nz> wrote:

> Hey guys,
>
> Are there APIs/hooks for Plugins to refer to a particular (older) revision
> of a CPT and figure out what is the current revision of that CPT without
> have to do any SQL?
>
> Use case: /In our game engine a user can create a character sprite for a
> game that other people can use in their game. Once the user is happy they
> can publish their character sprite so that other people can use that in
> their games. (sprites/characters are custom post types).
>
> But if the user decides at a later date to change their sprite we don't
> want it to suddenly change for all the existing users of that sprite. We
> want them to continue to use the old revision and give them the option to
> upgrade to the latest CPT only if they want to./
>
> Any thoughts on this one would be appreciated.
>
>
>
Some thoughts off the top of my head.

* I don't think there is any specific API, revisions are just posts of
another type.
* By default, a revision is a *new* post record with a new ID and the
updated post keeps the same ID
* By default, meta data, attachments, and taxonomy info are NOT saved with
the revisions.

I created one plugin (CPT) for a client where I saved away the meta data
with the revisions, so the metadata would revert when they reverted a CPT,
some stuff I learned...

You need to do a *lot* of stuff on your hooks:
save_post - will get called first to save the revision as a new
post. wp_is_post_revision() returns the parent ID.
 1 - Go grab the meta data from the parent and copy it to the new revision.
 2 - Go grab taxonomy info and copy it to this new revision
 3 - Go grab the attachment info and copy it. Hmmm copy the image file too??
That could get messy quickly - better to have a rule to say no overwriting
images to update them. You may end up *moving* the attachment to point to
the revision (which will make the attachment the grandchild of the latest
post)
 4 - Go check if anyone is *using* the current post, and move their
relationship info to point to this new revision ID. Update a status item to
remember that they are now using an old copy, you don't want to do this step
again the next time a revision is saved.

Then save_post is called again (with the proper (parent) ID) to save the new
values, etc.


restore_post_revision - Just before this is called, the same process happens
(a new revision is created)
 1 - Go grab the meta data from the revision and copy it to the parent.
 2 - Go grab taxonomy info from the revision and copy it to the parent
 3 - Go grab the attachment info and copy/move it?
 4 - Don't update relation ship info (unless you want to handle restoring to
a revision that is being used, whereby those users are now back on the
normal version -- blimey!)

You will need to modify code that retrieves your CPT's because revisions are
normally excluded, even on the back end. You may need to modify code that
retrieves attachments because those are now children of the revision, which
is itself a child of the original.

You may want to watch status changes (published->draft etc,) too; but
probably not, unless you are forced to.

You'll need an interface to allow users to move to the new version of a CPT,
but the actual move is only updating their pointer/ and setting them back as
'normal'.

If I was a user, as soon as I had that facility, I'd want to be able to
change my mind and swap between old and new versions at will, and be able to
see all the old ones to choose from! #justsaying


Hope this helps.

Mike
-- 
Mike Little
http://zed1.com/

From mike at mikevanwinkle.com  Tue May 24 20:32:58 2011
From: mike at mikevanwinkle.com (Michael Van Winkle)
Date: Tue, 24 May 2011 16:32:58 -0400
Subject: [wp-hackers] Custom post status for a custom post type
In-Reply-To: <BANLkTi=w2Pi5Ry8-xfesSDD1G-UTXqLP-A@mail.gmail.com>
References: <BANLkTi==AmEzKcavtdPdy2PFVhVjNUk1LA@mail.gmail.com>
	<BANLkTi=w2Pi5Ry8-xfesSDD1G-UTXqLP-A@mail.gmail.com>
Message-ID: <BANLkTi=OCYcE6r4FJQeExzg8NQU1d+ko-Q@mail.gmail.com>

I think the best way to do this right now would be through a taxonomy. You
could set up a private taxomomy for that post type call it
"candidate_status". Then you could create a custom metabox with a select
menu and use wp_set_object_terms() to apply the status on the 'post_save'
hook:
http://codex.wordpress.org/Function_Reference/wp_set_object_terms

Then on the frontend you can use an advanced taxonomy query to filter your
candidates:
http://ottopress.com/2010/wordpress-3-1-advanced-taxonomy-queries/

Alternatively you could set up your candidates using podscms (
http://podscms.org) and use their "pick" column API for the status.

Cheers,

Mike

On Tue, May 24, 2011 at 9:15 AM, Erick Hitter <ehitter at gmail.com> wrote:

> Alex,
>
> Check out this thread from yesterday:
> http://lists.automattic.com/pipermail/wp-hackers/2011-May/039399.html.
>
> Erick
>
> On Tue, May 24, 2011 at 06:53, Alex Hempton-Smith <hempsworth at gmail.com
> >wrote:
>
> > I have a post type of 'Candidates', and instead of the default post
> status'
> > of 'Published', 'Draft' etc I would like to define my own custom ones to
> > replace these, just for that custom post type.
> >
> > How would I go about that? I can't seem to find anything on Google...
> >
> > - - - -
> > Kind regards,
> > Alex Hempton-Smith
> >
> > www.alexhemptonsmith.com
> > www.twitter.com/hempsworth
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mike Van Winkle
708-289-3136
mike at mikevanwinkle.com
http://www.mikevanwinkle.com
http://www.twitter.com/mpvanwinkle
http://www.facebook.com/mpvanwinkle


"All excellent things are as difficult as they are rare." -Spinoza

From nanogwp at gmail.com  Wed May 25 09:53:57 2011
From: nanogwp at gmail.com (Robert Lusby)
Date: Wed, 25 May 2011 10:53:57 +0100
Subject: [wp-hackers] Incoming Links Dashboard broken
Message-ID: <4DDCD1B5.6010707@gmail.com>

Hello,

Several of our sites have suddenly started displaying the following 
error under the "Incoming Links" part of the dashboard:

*RSS Error*: A feed could not be found at 
http://blogsearch.google.com/blogsearch_feeds?scoring%3Dd%26ie%3Dutf-8%26num%3D10%26output%3Drss%26partner%3Dwordpress%26q%3Dlink:http://www.example.com/. 

A feed with an invalid mime type may fall victim to this error, or 
SimplePie was unable to auto-discover it.. Use force_feed() if you are 
certain this URL is a real feed.

Anyone else seeing this error this morning?

Thanks,
Rob





From frank at bueltge.de  Wed May 25 12:13:59 2011
From: frank at bueltge.de (Frank Bueltge)
Date: Wed, 25 May 2011 14:13:59 +0200
Subject: [wp-hackers] Bulk Actions?
Message-ID: <BANLkTin6Oum38N1fQzj56cCvMV6Lof+Bgw@mail.gmail.com>

Hi at all.

I think it is current not possible to add custom bulk actions, only remove
entries of the bulk actions.
// This filter can currently only be used to remove actions.
 $this->_actions = apply_filters( 'bulk_actions-' . $screen->id,
$this->_actions );

Give an idea to add a solution to add custom bulk actions, especially on
custom post types or has a reader of this list an default solution, without
include via javascript?
Thanks for read this and give a reply
Frank

From philip at frumph.net  Wed May 25 13:27:18 2011
From: philip at frumph.net (Philip M. Hofer (Frumph))
Date: Wed, 25 May 2011 06:27:18 -0700
Subject: [wp-hackers] Bulk Actions?
In-Reply-To: <BANLkTin6Oum38N1fQzj56cCvMV6Lof+Bgw@mail.gmail.com>
References: <BANLkTin6Oum38N1fQzj56cCvMV6Lof+Bgw@mail.gmail.com>
Message-ID: <756413E91E534A96B2EB45F4FB1DDBDD@frumph.net>

I am in HUGE favor of this.



----- Original Message ----- 
From: "Frank Bueltge" <frank at bueltge.de>
To: <wp-hackers at lists.automattic.com>
Sent: Wednesday, May 25, 2011 5:13 AM
Subject: [wp-hackers] Bulk Actions?


> Hi at all.
>
> I think it is current not possible to add custom bulk actions, only remove
> entries of the bulk actions.
> // This filter can currently only be used to remove actions.
> $this->_actions = apply_filters( 'bulk_actions-' . $screen->id,
> $this->_actions );
>
> Give an idea to add a solution to add custom bulk actions, especially on
> custom post types or has a reader of this list an default solution, 
> without
> include via javascript?
> Thanks for read this and give a reply
> Frank
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From wp at andrewnacin.com  Wed May 25 21:35:15 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 25 May 2011 17:35:15 -0400
Subject: [wp-hackers] Wp_cron and timezone
In-Reply-To: <BANLkTim7sn7-aActYb1w5v2tp+XOQp8t6g@mail.gmail.com>
References: <BANLkTi=785Rs2hPBkC6wr6B=oreaQYR-Jg@mail.gmail.com>
	<BANLkTimeGNrF2g5VsfLxZ5jTknzuoADufg@mail.gmail.com>
	<BANLkTim7sn7-aActYb1w5v2tp+XOQp8t6g@mail.gmail.com>
Message-ID: <BANLkTin_2nfhH8d=SFC25Mw5eHUtGnbx5A@mail.gmail.com>

On Tue, May 24, 2011 at 8:52 AM, Lox <lox.dev at knc.nc> wrote:

> 2011/5/24 Otto <otto at ottodestruct.com>
>
> > The value must be relative to whatever time() gives you as the current
> > time. So if time() is giving you UTC, then you should use UTC.
> >
>
> Can time() return the time other than in GMT on some installations?


No, not for a few versions of WordPress now. We force the server to GMT and
do offsets off of that. time() is always GMT, and yes, wp_schedule_event()
should always take GMT accordingly.

From dan at instinct.co.nz  Thu May 26 01:16:07 2011
From: dan at instinct.co.nz (Dan Milward)
Date: Thu, 26 May 2011 13:16:07 +1200
Subject: [wp-hackers] Revisions API
In-Reply-To: <BANLkTi=UoQ-mjvyVF84nL+mOgHEV9=DW2w@mail.gmail.com>
References: <4DDAEE50.5010706@instinct.co.nz>
	<BANLkTi=UoQ-mjvyVF84nL+mOgHEV9=DW2w@mail.gmail.com>
Message-ID: <4DDDA9D7.2040500@instinct.co.nz>

Wow. Thanks Mike!!!

You've given us heaps to think about. If you ever want to see the WP powered Game Creator in Action let me know - that said I definitely plan to submit a talk for WordCamp San Fran on the topic ;P

Best,
Dan

On 25/05/11 3:35 AM, Mike Little wrote:
> On Tue, May 24, 2011 at 00:31, Dan Milward<dan at instinct.co.nz>  wrote:
>
>> Hey guys,
>>
>> Are there APIs/hooks for Plugins to refer to a particular (older) revision
>> of a CPT and figure out what is the current revision of that CPT without
>> have to do any SQL?
>>
>> Use case: /In our game engine a user can create a character sprite for a
>> game that other people can use in their game. Once the user is happy they
>> can publish their character sprite so that other people can use that in
>> their games. (sprites/characters are custom post types).
>>
>> But if the user decides at a later date to change their sprite we don't
>> want it to suddenly change for all the existing users of that sprite. We
>> want them to continue to use the old revision and give them the option to
>> upgrade to the latest CPT only if they want to./
>>
>> Any thoughts on this one would be appreciated.
>>
>>
>>
> Some thoughts off the top of my head.
>
> * I don't think there is any specific API, revisions are just posts of
> another type.
> * By default, a revision is a *new* post record with a new ID and the
> updated post keeps the same ID
> * By default, meta data, attachments, and taxonomy info are NOT saved with
> the revisions.
>
> I created one plugin (CPT) for a client where I saved away the meta data
> with the revisions, so the metadata would revert when they reverted a CPT,
> some stuff I learned...
>
> You need to do a *lot* of stuff on your hooks:
> save_post - will get called first to save the revision as a new
> post. wp_is_post_revision() returns the parent ID.
>   1 - Go grab the meta data from the parent and copy it to the new revision.
>   2 - Go grab taxonomy info and copy it to this new revision
>   3 - Go grab the attachment info and copy it. Hmmm copy the image file too??
> That could get messy quickly - better to have a rule to say no overwriting
> images to update them. You may end up *moving* the attachment to point to
> the revision (which will make the attachment the grandchild of the latest
> post)
>   4 - Go check if anyone is *using* the current post, and move their
> relationship info to point to this new revision ID. Update a status item to
> remember that they are now using an old copy, you don't want to do this step
> again the next time a revision is saved.
>
> Then save_post is called again (with the proper (parent) ID) to save the new
> values, etc.
>
>
> restore_post_revision - Just before this is called, the same process happens
> (a new revision is created)
>   1 - Go grab the meta data from the revision and copy it to the parent.
>   2 - Go grab taxonomy info from the revision and copy it to the parent
>   3 - Go grab the attachment info and copy/move it?
>   4 - Don't update relation ship info (unless you want to handle restoring to
> a revision that is being used, whereby those users are now back on the
> normal version -- blimey!)
>
> You will need to modify code that retrieves your CPT's because revisions are
> normally excluded, even on the back end. You may need to modify code that
> retrieves attachments because those are now children of the revision, which
> is itself a child of the original.
>
> You may want to watch status changes (published->draft etc,) too; but
> probably not, unless you are forced to.
>
> You'll need an interface to allow users to move to the new version of a CPT,
> but the actual move is only updating their pointer/ and setting them back as
> 'normal'.
>
> If I was a user, as soon as I had that facility, I'd want to be able to
> change my mind and swap between old and new versions at will, and be able to
> see all the old ones to choose from! #justsaying
>
>
> Hope this helps.
>
> Mike

From mark at simplercomputing.net  Thu May 26 02:42:42 2011
From: mark at simplercomputing.net (Mark E)
Date: Wed, 25 May 2011 20:42:42 -0600
Subject: [wp-hackers] Multisite and Sidebar Widgets
In-Reply-To: <B895FBBF-0CA5-4212-8B34-5B25495A7EC0@striderweb.com>
References: <AANLkTinrzsAOXym+XRDJmWd+UTO6pMbxCxJ7CFX0KX3Q@mail.gmail.com>	<4D88D9EA.8060205@xavisys.com>	<4DD3BF8B.4030509@duechiacchiere.it>	<A60E7AAE-3182-4351-BA03-05710142ED2C@gmail.com>	<BANLkTimFmLsfLCqVnf--iENfjmR7pSo2Nw@mail.gmail.com>	<99925522-260B-469F-BAC2-7F0A85B48D73@thisismyurl.com>	<8A811111-91C8-4CC1-9F5A-9265DB8335F9@duechiacchiere.it>	<BANLkTin1dEQyhyNy5Q-TY97KLZ4bOZBGgw@mail.gmail.com>	<FA942C5C-2CE5-4648-8888-095B25227273@duechiacchiere.it>	<4DD69030.3000608@simplercomputing.net>	<A29A391B-36B5-4BB5-86F6-B8DA824EACDA@easilyamusedinc.com>	<4DD695C3.40208@simplercomputing.net>	<7EA8D7C8-6843-48E0-A9F0-384F1A14E0AB@easilyamusedinc.com>	<4DD6C439.7040604@simplercomputing.net>
	<B895FBBF-0CA5-4212-8B34-5B25495A7EC0@striderweb.com>
Message-ID: <4DDDBE22.5000106@simplercomputing.net>

I can. You have to put some functions in your functions.php to intercept 
and store the state of WP during a specific point in the startup 
routines, then add some code to your sidebars to do some context 
switching to get the right sidebars to show, then revert the state of WP 
accordingly. Overall it's not complicated, just sensitive to timing 
(using an exact action hook during startup) and slightly tedious to 
implement.

Then you can do an easy mod to adminimize to make it work on Multisite 
installs (and load via mu-plugins dir) so that you can remove admin menu 
items across all sites (no cloning settings required!), that way no one 
ever gets an idea to mess with sidebars etc - which reduces support 
questions other than "Hey why can't I access the theme settings?"

We use that technique to only allow access to posts, pages, comments, 
and media. All other menus are removed.

With that, we get a consistent set of sidebars across the entire site 
that are entirely controlled by the main site blog settings - ( 
typically Blog ID 1 ), and people who create blogs can only blog - 
nothing else. Perfect for a BuddyPress community :-)

Ping me offlist and I can run it down for you.

Mark

On 05/21/2011 09:49 AM, Stephen Rider wrote:
> Share?
>
> On May 20, 2011, at 2:42 PM, Mark E wrote:
>
>> I figured out how to make it happen with about a dozen lines of code - no plugins required.
>>
>> Mark
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mark at simplercomputing.net  Thu May 26 02:50:50 2011
From: mark at simplercomputing.net (Mark E)
Date: Wed, 25 May 2011 20:50:50 -0600
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <BANLkTimjAK+vZtUVdSuXY_nahHEOuk+VUA@mail.gmail.com>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>	<BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>	<BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>	<BANLkTi=KWe=jqX59X2A9fOss+uV16L+L6w@mail.gmail.com>	<BANLkTimVkg8TzsSHiTzrv-_AF7OBNybqJw@mail.gmail.com>	<BANLkTi=uYz_HwzgF7EeEpHixhQakvCOBjA@mail.gmail.com>	<4DDACBFA.7070404@gmail.com>	<BANLkTinXges-sV2YYwxsVR0TVi1XU-M6Vg@mail.gmail.com>	<BANLkTikRH8Xux7TEwXau2pfbd9EzEt9GVQ@mail.gmail.com>
	<BANLkTimjAK+vZtUVdSuXY_nahHEOuk+VUA@mail.gmail.com>
Message-ID: <4DDDC00A.7070109@simplercomputing.net>

Did you happen to move your database over to the live site when you 
moved the theme? If so, you might have your siteurl and home url not set 
right for the domain and/or directory.  Just a thought. If you need to 
check that, look at the wp_options table for the siteurl and home options.

Mark

On 05/24/2011 12:28 AM, Jesus Lizama wrote:
> Awesome thanks! I discovered their server is in fact running Apache. Hmmmm
> this is a tough one!
>

From mrbrog at gmail.com  Thu May 26 07:49:47 2011
From: mrbrog at gmail.com (Claudio Simeone)
Date: Thu, 26 May 2011 09:49:47 +0200
Subject: [wp-hackers] How to sync/mirror 2 WP multisite installs using one
	database?
Message-ID: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>

Hi all,

For reasons that don't depends from me, I have to use two separate
servers to run an enterprise WP multisite.
So I have this setup:

server 1: Back-end with a WP with Multisite active (e.g. www.private-wp.com)
server 2: Front-end with a mirrored copy of the WP install on server 1
(e.g. www.public-wp.com)
server 3: mySQL server, running on a separate machine, but accessible
from both server 1 and server 2

the backend install is only used to manage all the content: posts,
pages, sites etc... and is restricted to an editorial team and it is a
private website.
the frontend install is on the public website and it's a read only
version (with wp-admin not used).

Now, since the multisite feature is active, I need in the public
website to have correct urls of blogs created and managed in the
private website.
For example in these tables

wp_options (siteurl, home)
wp_site (domain)
wp_sitemeta (siteurl)
wp_blogs (domain)
and in every wp_N_options table (siteurl, home)

all field values refer to the private-wp URL/domain, for example:

www.private-wp.com/myblog/mypost/

Now, in the public website, this has to be

www.public-wp.com/myblog/mypost/
and so on...

Now, I can use 2 distinct databases (wp_private_db and wp_public_db)
and sync the public one every night through a PHP script that

- drops all tables in wp_public_db
- copies all tables from wp_private_db to wp_public_db
- replaces all urls in all tables in wp_public_db with correct values

I tried this and it seems to work, but I don't like too much this
solution because the DB is large and I fear that dropping/copying a
lot tables can create problems, so I wonder if there's a simpler
solution to my problem, for example using just one DB and replacing
URLS on the fly with something like in wp-config.php

define('WP_SITEURL', 'http://www.public-wp.com');
define('WP_HOME', 'http://www.public-wp.com');

Any ideas on the best way to get this work?

Thank you in advance,
Claudio

From peter.westwood at ftwr.co.uk  Thu May 26 11:24:21 2011
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 26 May 2011 12:24:21 +0100
Subject: [wp-hackers] Incoming Links Dashboard broken
In-Reply-To: <4DDCD1B5.6010707@gmail.com>
References: <4DDCD1B5.6010707@gmail.com>
Message-ID: <F6F95E36-4D7E-438D-9C75-74FE383E9458@ftwr.co.uk>

Hi Robert,
On 25 May 2011, at 10:53, Robert Lusby wrote:

> Several of our sites have suddenly started displaying the following error under the "Incoming Links" part of the dashboard:
> 
> *RSS Error*: A feed could not be found at http://blogsearch.google.com/blogsearch_feeds?scoring%3Dd%26ie%3Dutf-8%26num%3D10%26output%3Drss%26partner%3Dwordpress%26q%3Dlink:http://www.example.com/. 
> A feed with an invalid mime type may fall victim to this error, or SimplePie was unable to auto-discover it.. Use force_feed() if you are certain this URL is a real feed.
> 
> Anyone else seeing this error this morning?


Are you still seeing this error?

I'm looking into something similar and I'm wondering if this is the same cause.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From nanogwp at gmail.com  Thu May 26 13:53:32 2011
From: nanogwp at gmail.com (Robert Lusby)
Date: Thu, 26 May 2011 14:53:32 +0100
Subject: [wp-hackers] Disable comments on pages post type
Message-ID: <4DDE5B5C.5010907@gmail.com>

What's the "best practise" way to disable comments support on the "page" 
post types?

When creating a custom post type, you specify:
register_post_type('example', array('supports' => 
array('title','comments')));
thus creating the comments functionality on the front-end, and the 
back-end. Removing this, would remove the comments box from the 
back-end, as well as not accepting posts on the front-end.

How do you modify the page post type to disable comments support?

I know you can obviously just "untick" the box under discussion, but I'm 
looking to remove "comments" support from "page" post types altogether ...

TIA,
Rob




From johnbillion+wp at gmail.com  Thu May 26 14:13:17 2011
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 26 May 2011 15:13:17 +0100
Subject: [wp-hackers] Disable comments on pages post type
In-Reply-To: <4DDE5B5C.5010907@gmail.com>
References: <4DDE5B5C.5010907@gmail.com>
Message-ID: <BANLkTikje21DXUSTQ68y=6Se3nxvn4s46A@mail.gmail.com>

On 26 May 2011 14:53, Robert Lusby <nanogwp at gmail.com> wrote:
> What's the "best practise" way to disable comments support on the "page"
> post types?

remove_post_type_support( 'page', 'comments' );

However - I tried this code the other day and it seems there is
something odd going on that overrides this setting again in core and
ends up adding back 'comments' support to pages (I'm running 3.2 beta
at the moment, might not affect 3.1). Give it a try. You should use it
on the 'init' hook.

John

From cross at thisismyurl.com  Thu May 26 14:19:12 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Thu, 26 May 2011 11:19:12 -0300
Subject: [wp-hackers] Disable comments on pages post type
In-Reply-To: <4DDE5B5C.5010907@gmail.com>
References: <4DDE5B5C.5010907@gmail.com>
Message-ID: <01E20956-2270-4400-AB1E-B3D1D775A578@thisismyurl.com>

Hi Rob, John's point that remove_post_type_support( 'page', 'comments' ); will remove them is a great way to do it, except that it adds code to the work WP has to do as opposed to removing the line takes away from the workload.

I'd just open page.php and remove the comment line if you never want it to be seen.

Chris

On 2011-05-26, at 10:53 AM, Robert Lusby wrote:

> What's the "best practise" way to disable comments support on the "page" post types?
> 
> When creating a custom post type, you specify:
> register_post_type('example', array('supports' => array('title','comments')));
> thus creating the comments functionality on the front-end, and the back-end. Removing this, would remove the comments box from the back-end, as well as not accepting posts on the front-end.
> 
> How do you modify the page post type to disable comments support?
> 
> I know you can obviously just "untick" the box under discussion, but I'm looking to remove "comments" support from "page" post types altogether ...
> 
> TIA,
> Rob
> 
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



__

Christopher Ross
Online Portfolio - http://christopherross.ca
Personal Blog - http://thisismyurl.com


From nanogwp at gmail.com  Thu May 26 14:21:54 2011
From: nanogwp at gmail.com (Robert Lusby)
Date: Thu, 26 May 2011 15:21:54 +0100
Subject: [wp-hackers] Disable comments on pages post type
In-Reply-To: <01E20956-2270-4400-AB1E-B3D1D775A578@thisismyurl.com>
References: <4DDE5B5C.5010907@gmail.com>
	<01E20956-2270-4400-AB1E-B3D1D775A578@thisismyurl.com>
Message-ID: <4DDE6202.3090704@gmail.com>

Hi Chris, John,

Thanks! Though removing the comment line from page.php would still show 
the comments box in the back-end however, hence the problem.

I'll try your method John, and report back on results.

Thanks again,
Rob

On 26/05/2011 15:19, Christopher Ross wrote:
> Hi Rob, John's point that remove_post_type_support( 'page', 'comments' ); will remove them is a great way to do it, except that it adds code to the work WP has to do as opposed to removing the line takes away from the workload.
>
> I'd just open page.php and remove the comment line if you never want it to be seen.
>
> Chris
>
> On 2011-05-26, at 10:53 AM, Robert Lusby wrote:
>
>> What's the "best practise" way to disable comments support on the "page" post types?
>>
>> When creating a custom post type, you specify:
>> register_post_type('example', array('supports' =>  array('title','comments')));
>> thus creating the comments functionality on the front-end, and the back-end. Removing this, would remove the comments box from the back-end, as well as not accepting posts on the front-end.
>>
>> How do you modify the page post type to disable comments support?
>>
>> I know you can obviously just "untick" the box under discussion, but I'm looking to remove "comments" support from "page" post types altogether ...
>>
>> TIA,
>> Rob
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> __
>
> Christopher Ross
> Online Portfolio - http://christopherross.ca
> Personal Blog - http://thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From n.prasath.002 at gmail.com  Thu May 26 15:22:25 2011
From: n.prasath.002 at gmail.com (prasath nadarajah)
Date: Thu, 26 May 2011 20:52:25 +0530
Subject: [wp-hackers] Retrieving supported taxonomies for a given post type
Message-ID: <BANLkTimaeKS3xHjGNVB3b-q5f_kJYqAohg@mail.gmail.com>

Hi,
 get_post_types('','post') returns info about 'post' post type.
But the taxonomy information is blank. Ideally this should return
supported taxonomy object of a given post.
Is it a bug in that function???

Is there any function that returns supported taxonomy for a given post
type??

From Gavin.Pearce at 3seven9.com  Thu May 26 16:57:05 2011
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Thu, 26 May 2011 17:57:05 +0100
Subject: [wp-hackers] Disable comments on pages post type
In-Reply-To: <4DDE6202.3090704@gmail.com>
References: <4DDE5B5C.5010907@gmail.com><01E20956-2270-4400-AB1E-B3D1D775A578@thisismyurl.com>
	<4DDE6202.3090704@gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C038E030@tbs-sbs01.TBS.local>

If you have any pages setup already, it's worth running:

UPDATE `wp_posts`
SET comment_status='closed'
WHERE post_type='page'

else you'll find some pages will still display the comments RSS feed in
the header etc ...

Gavin



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Robert
Lusby
Sent: 26 May 2011 15:22
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Disable comments on pages post type

Hi Chris, John,

Thanks! Though removing the comment line from page.php would still show 
the comments box in the back-end however, hence the problem.

I'll try your method John, and report back on results.

Thanks again,
Rob

On 26/05/2011 15:19, Christopher Ross wrote:
> Hi Rob, John's point that remove_post_type_support( 'page', 'comments'
); will remove them is a great way to do it, except that it adds code to
the work WP has to do as opposed to removing the line takes away from
the workload.
>
> I'd just open page.php and remove the comment line if you never want
it to be seen.
>
> Chris
>
> On 2011-05-26, at 10:53 AM, Robert Lusby wrote:
>
>> What's the "best practise" way to disable comments support on the
"page" post types?
>>
>> When creating a custom post type, you specify:
>> register_post_type('example', array('supports' =>
array('title','comments')));
>> thus creating the comments functionality on the front-end, and the
back-end. Removing this, would remove the comments box from the
back-end, as well as not accepting posts on the front-end.
>>
>> How do you modify the page post type to disable comments support?
>>
>> I know you can obviously just "untick" the box under discussion, but
I'm looking to remove "comments" support from "page" post types
altogether ...
>>
>> TIA,
>> Rob
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> __
>
> Christopher Ross
> Online Portfolio - http://christopherross.ca
> Personal Blog - http://thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From beautifulcrimes at gmail.com  Thu May 26 20:28:47 2011
From: beautifulcrimes at gmail.com (Jesus Lizama)
Date: Thu, 26 May 2011 13:28:47 -0700
Subject: [wp-hackers] Infinite Redirect Loop Error
In-Reply-To: <4DDDC00A.7070109@simplercomputing.net>
References: <BANLkTinWfJDkF6hWRdgVx+pNLty-hSCMHA@mail.gmail.com>
	<BANLkTi=mHKrBZMrvcnNyTZYim2-kd0p=TA@mail.gmail.com>
	<BANLkTi=0BeKyEUziPQEVEw2+4W+-UzGUxQ@mail.gmail.com>
	<BANLkTi=jqx=bXuh7Z1F_Kt_b_QZCdQqJiA@mail.gmail.com>
	<BANLkTikTcJbcnWdpoMik54vi=OkdNTO-Cw@mail.gmail.com>
	<BANLkTinhL1Bcb2Hc2hWyAsn-M0SubRk9zA@mail.gmail.com>
	<BANLkTimD=87SyzwD4Fwq2v2WwzUeXWKcZw@mail.gmail.com>
	<BANLkTikOms_qMq9cL5cpe-xhvaXWpPnY=A@mail.gmail.com>
	<BANLkTiniCQBdfmmz8QmfajrsWARK-9OeqA@mail.gmail.com>
	<BANLkTinQp3f2cefVwcWTXM=JF3=Qg92M=g@mail.gmail.com>
	<BANLkTinTsWdR1MyV8_=jqRE4YVRGcAc1sQ@mail.gmail.com>
	<BANLkTi=KWe=jqX59X2A9fOss+uV16L+L6w@mail.gmail.com>
	<BANLkTimVkg8TzsSHiTzrv-_AF7OBNybqJw@mail.gmail.com>
	<BANLkTi=uYz_HwzgF7EeEpHixhQakvCOBjA@mail.gmail.com>
	<4DDACBFA.7070404@gmail.com>
	<BANLkTinXges-sV2YYwxsVR0TVi1XU-M6Vg@mail.gmail.com>
	<BANLkTikRH8Xux7TEwXau2pfbd9EzEt9GVQ@mail.gmail.com>
	<BANLkTimjAK+vZtUVdSuXY_nahHEOuk+VUA@mail.gmail.com>
	<4DDDC00A.7070109@simplercomputing.net>
Message-ID: <BANLkTik-X8q12YQyWevVSS4gcnLsyk+r5A@mail.gmail.com>

Thanks Mark, I found the Disable Canonical URL Redirect plugin and it helped
solve my problem. Site is live now and looking well. Thanks!

On Wed, May 25, 2011 at 7:50 PM, Mark E <mark at simplercomputing.net> wrote:

> Did you happen to move your database over to the live site when you moved
> the theme? If so, you might have your siteurl and home url not set right for
> the domain and/or directory.  Just a thought. If you need to check that,
> look at the wp_options table for the siteurl and home options.
>
> Mark
>
>
> On 05/24/2011 12:28 AM, Jesus Lizama wrote:
>
>> Awesome thanks! I discovered their server is in fact running Apache. Hmmmm
>> this is a tough one!
>>
>>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jesus Lizama
Developer/Designer
Spifffy.com | ConquerLA.com
Cell: (323)336-2953

From wp at andrewnacin.com  Thu May 26 21:17:43 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 26 May 2011 17:17:43 -0400
Subject: [wp-hackers] Disable comments on pages post type
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C038E030@tbs-sbs01.TBS.local>
References: <4DDE5B5C.5010907@gmail.com>
	<01E20956-2270-4400-AB1E-B3D1D775A578@thisismyurl.com>
	<4DDE6202.3090704@gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C038E030@tbs-sbs01.TBS.local>
Message-ID: <BANLkTimK56A54+tn3rms0Fs+qZbpq62DvA@mail.gmail.com>

On Thu, May 26, 2011 at 12:57 PM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> If you have any pages setup already, it's worth running:
>
> UPDATE `wp_posts`
> SET comment_status='closed'
> WHERE post_type='page'
>
> else you'll find some pages will still display the comments RSS feed in
> the header etc ...
>

You can also filter this the way WordPress closes comments after 14 days, on
runtime:

add_filter( 'the_posts', 'nacin_close_comments_for_pages' );
add_filter( 'comments_open', 'nacin_close_comments_for_page', 10, 2 );
add_filter( 'pings_open', 'nacin_close_comments_for_page', 10, 2 );

function nacin_close_comments_for_pages( $posts ) {
 if ( ! empty( $posts ) && is_page() ) {
 $posts[0]->comment_status = 'closed';
 $posts[0]->post_status = 'closed';
}
 return $posts;
}

function nacin_close_comments_for_page( $open, $post_id ) {
if ( ! $open )
 return $open;
$post = get_post( $post_id );
 if ( 'page' == $post->post_type )
 return false;
 return $open;
}

(Disclaimer: Untested, written on the fly.)

Nacin

From wp at andrewnacin.com  Thu May 26 21:27:14 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 26 May 2011 17:27:14 -0400
Subject: [wp-hackers] Retrieving supported taxonomies for a given post
	type
In-Reply-To: <BANLkTimaeKS3xHjGNVB3b-q5f_kJYqAohg@mail.gmail.com>
References: <BANLkTimaeKS3xHjGNVB3b-q5f_kJYqAohg@mail.gmail.com>
Message-ID: <BANLkTin1+pcsxuwzn71iwSG6=6SB1t3-2g@mail.gmail.com>

On Thu, May 26, 2011 at 11:22 AM, prasath nadarajah <n.prasath.002 at gmail.com
> wrote:

> Hi,
>  get_post_types('','post') returns info about 'post' post type.
> But the taxonomy information is blank. Ideally this should return
> supported taxonomy object of a given post.
> Is it a bug in that function???
>
> Is there any function that returns supported taxonomy for a given post
> type??


Function: get_object_taxonomies( $object, $output = 'names' );

Usage: get_object_taxonomies( 'post', 'objects' );

Nacin

From wrgallinari at gmail.com  Fri May 27 00:22:53 2011
From: wrgallinari at gmail.com (Wilson Ricardo)
Date: Thu, 26 May 2011 21:22:53 -0300
Subject: [wp-hackers] How to sync/mirror 2 WP multisite installs using
	one database?
In-Reply-To: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>
References: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>
Message-ID: <BANLkTik8oiJ-tTzL+7p28WJ4GWnL+agbtA@mail.gmail.com>

Hi,

Don't install 2 instances, just block the login from external network(or
unlock for intranet and block the rest).
It can be done using .htaccess on apache, limiting the access on wp-*login*.
*php.

Cheers
*
On Thu, May 26, 2011 at 4:49 AM, Claudio Simeone <mrbrog at gmail.com> wrote:

> Hi all,
>
> For reasons that don't depends from me, I have to use two separate
> servers to run an enterprise WP multisite.
> So I have this setup:
>
> server 1: Back-end with a WP with Multisite active (e.g.
> www.private-wp.com)
> server 2: Front-end with a mirrored copy of the WP install on server 1
> (e.g. www.public-wp.com)
> server 3: mySQL server, running on a separate machine, but accessible
> from both server 1 and server 2
>
> the backend install is only used to manage all the content: posts,
> pages, sites etc... and is restricted to an editorial team and it is a
> private website.
> the frontend install is on the public website and it's a read only
> version (with wp-admin not used).
>
> Now, since the multisite feature is active, I need in the public
> website to have correct urls of blogs created and managed in the
> private website.
> For example in these tables
>
> wp_options (siteurl, home)
> wp_site (domain)
> wp_sitemeta (siteurl)
> wp_blogs (domain)
> and in every wp_N_options table (siteurl, home)
>
> all field values refer to the private-wp URL/domain, for example:
>
> www.private-wp.com/myblog/mypost/
>
> Now, in the public website, this has to be
>
> www.public-wp.com/myblog/mypost/
> and so on...
>
> Now, I can use 2 distinct databases (wp_private_db and wp_public_db)
> and sync the public one every night through a PHP script that
>
> - drops all tables in wp_public_db
> - copies all tables from wp_private_db to wp_public_db
> - replaces all urls in all tables in wp_public_db with correct values
>
> I tried this and it seems to work, but I don't like too much this
> solution because the DB is large and I fear that dropping/copying a
> lot tables can create problems, so I wonder if there's a simpler
> solution to my problem, for example using just one DB and replacing
> URLS on the fly with something like in wp-config.php
>
> define('WP_SITEURL', 'http://www.public-wp.com');
> define('WP_HOME', 'http://www.public-wp.com');
>
> Any ideas on the best way to get this work?
>
> Thank you in advance,
> Claudio
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mrbrog at gmail.com  Fri May 27 08:04:46 2011
From: mrbrog at gmail.com (Claudio Simeone)
Date: Fri, 27 May 2011 10:04:46 +0200
Subject: [wp-hackers] How to sync/mirror 2 WP multisite installs using
	one database?
In-Reply-To: <BANLkTik8oiJ-tTzL+7p28WJ4GWnL+agbtA@mail.gmail.com>
References: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>
	<BANLkTik8oiJ-tTzL+7p28WJ4GWnL+agbtA@mail.gmail.com>
Message-ID: <BANLkTikNc3n=pP==QTj+2H-KSS38_qMxEA@mail.gmail.com>

2011/5/27 Wilson Ricardo <wrgallinari at gmail.com>:

> Don't install 2 instances, just block the login from external network(or
> unlock for intranet and block the rest).
> It can be done using .htaccess on apache, limiting the access on wp-*login*.
> *php.

Hi Wilson,

thanks for the reply.
Unfortunately to me, the server separation is not done for security,
but for performance reasons (it's a particular type of load balancing)
so I have to use 2 servers: one dedicated to back-end operations
(read/write), and the other only for front-end (read only).

--
Claudio

From wp at andrewnacin.com  Fri May 27 08:18:11 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 27 May 2011 04:18:11 -0400
Subject: [wp-hackers] How to sync/mirror 2 WP multisite installs using
	one database?
In-Reply-To: <BANLkTikNc3n=pP==QTj+2H-KSS38_qMxEA@mail.gmail.com>
References: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>
	<BANLkTik8oiJ-tTzL+7p28WJ4GWnL+agbtA@mail.gmail.com>
	<BANLkTikNc3n=pP==QTj+2H-KSS38_qMxEA@mail.gmail.com>
Message-ID: <BANLkTimXibb8L_4iG=+OtJ3Y7SWjtMaukw@mail.gmail.com>

On Fri, May 27, 2011 at 4:04 AM, Claudio Simeone <mrbrog at gmail.com> wrote:

> Unfortunately to me, the server separation is not done for security,
> but for performance reasons (it's a particular type of load balancing)
> so I have to use 2 servers: one dedicated to back-end operations
> (read/write), and the other only for front-end (read only).


But why two domains? That's a recipe for disaster. I'd focus on getting the
balancer to split admin and frontend traffic between different servers. And
if you set up something like HyperDB, you can send all writes to one master
and spread reads across as many database servers as you need. (At that point
it might not even matter if you split traffic on admin/frontend, cause
really DB is your bottleneck.) Likewise, since you're using multisite, any
other sharding of sites you need to do, you can do through HyperDB.

Nacin

From mrbrog at gmail.com  Fri May 27 08:46:12 2011
From: mrbrog at gmail.com (Claudio Simeone)
Date: Fri, 27 May 2011 10:46:12 +0200
Subject: [wp-hackers] How to sync/mirror 2 WP multisite installs using
	one database?
In-Reply-To: <BANLkTimXibb8L_4iG=+OtJ3Y7SWjtMaukw@mail.gmail.com>
References: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>
	<BANLkTik8oiJ-tTzL+7p28WJ4GWnL+agbtA@mail.gmail.com>
	<BANLkTikNc3n=pP==QTj+2H-KSS38_qMxEA@mail.gmail.com>
	<BANLkTimXibb8L_4iG=+OtJ3Y7SWjtMaukw@mail.gmail.com>
Message-ID: <BANLkTimMrfLRMEbF5s5uG2-FyEd1BVa0yA@mail.gmail.com>

2011/5/27 Andrew Nacin <wp at andrewnacin.com>:

> But why two domains? That's a recipe for disaster.

I know that, but I cannot modify this configuration because it is a
big academic institution with its policies, so I have to work on this.
Maybe in the future I can suggest to switch to one WP install with
HyperDB, but at the moment they cannot change this configuration.

Thanks
--
Claudio

From wordpress at dd32.id.au  Fri May 27 08:53:08 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 27 May 2011 18:53:08 +1000
Subject: [wp-hackers] How to sync/mirror 2 WP multisite installs using
	one database?
In-Reply-To: <BANLkTimMrfLRMEbF5s5uG2-FyEd1BVa0yA@mail.gmail.com>
References: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>
	<BANLkTik8oiJ-tTzL+7p28WJ4GWnL+agbtA@mail.gmail.com>
	<BANLkTikNc3n=pP==QTj+2H-KSS38_qMxEA@mail.gmail.com>
	<BANLkTimXibb8L_4iG=+OtJ3Y7SWjtMaukw@mail.gmail.com>
	<BANLkTimMrfLRMEbF5s5uG2-FyEd1BVa0yA@mail.gmail.com>
Message-ID: <BANLkTimAhrHyQvGbE=zXv1m+=z8HUv4G2w@mail.gmail.com>

Are they using Subdomains? Sub Directories?, or Mapped domains?
The way you go about it is going to depend on that.

My suggestion is that you set it up for the private site, and setup a
sunrise.php dropin to "spoof" the private url's on the public domain.. then
add your various filters to site_url, etc to replace private with public.
You can block wp-admin/wp-login.php in the sunrise too I believe.

You can probably do it the other way around, using sunrise.php for the
private site, and having it setup for the public site, But I thought spoof
the one with the lesser changes.. This way you don't have to affect the
admin..

This is all theoretical, I've not had to do it, and I doubt many others will
have.. the closest i've seen to what you're asking for, is 2 seperate
databases, and the posts/terms/taxonomy tables being sync'd accross.. The
sites table was different on both servers for their individual subdomains.
there was some replacing during the sync for the admin subdomain to the
public subdomains.. I didn't play with the config, just fix a few plugin
issues.. but I do believe they were having constant data sync issues..

On 27 May 2011 18:46, Claudio Simeone <mrbrog at gmail.com> wrote:

> 2011/5/27 Andrew Nacin <wp at andrewnacin.com>:
>
> > But why two domains? That's a recipe for disaster.
>
> I know that, but I cannot modify this configuration because it is a
> big academic institution with its policies, so I have to work on this.
> Maybe in the future I can suggest to switch to one WP install with
> HyperDB, but at the moment they cannot change this configuration.
>
> Thanks
> --
> Claudio
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mrbrog at gmail.com  Fri May 27 11:41:49 2011
From: mrbrog at gmail.com (Claudio Simeone)
Date: Fri, 27 May 2011 13:41:49 +0200
Subject: [wp-hackers] How to sync/mirror 2 WP multisite installs using
	one database?
In-Reply-To: <BANLkTimAhrHyQvGbE=zXv1m+=z8HUv4G2w@mail.gmail.com>
References: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>
	<BANLkTik8oiJ-tTzL+7p28WJ4GWnL+agbtA@mail.gmail.com>
	<BANLkTikNc3n=pP==QTj+2H-KSS38_qMxEA@mail.gmail.com>
	<BANLkTimXibb8L_4iG=+OtJ3Y7SWjtMaukw@mail.gmail.com>
	<BANLkTimMrfLRMEbF5s5uG2-FyEd1BVa0yA@mail.gmail.com>
	<BANLkTimAhrHyQvGbE=zXv1m+=z8HUv4G2w@mail.gmail.com>
Message-ID: <BANLkTi=4fRxMcSvVD6LNKOH5G0edD4-DcA@mail.gmail.com>

2011/5/27 Dion Hulse (dd32) <wordpress at dd32.id.au>:

> Are they using Subdomains? Sub Directories?, or Mapped domains?

Subdirectories, but a the moment the site is not yet finished.
I have to transform an existing WP "normal" install to multisite.

> This is all theoretical, I've not had to do it, and I doubt many others will
> have.. the closest i've seen to what you're asking for, is 2 seperate
> databases, and the posts/terms/taxonomy tables being sync'd accross.. The
> sites table was different on both servers for their individual subdomains.
> there was some replacing during the sync for the admin subdomain to the
> public subdomains.. I didn't play with the config, just fix a few plugin
> issues.. but I do believe they were having constant data sync issues..

It is the solutions I was thinking to: 2 separate databases (and 2
separate wp installs) and a script that every night syncs the
front-end with backend, replacing all urls.
But I was wondering if there is an alternative solution, maybe with
one single WP install.

Thanks,

--
Claudio

From wordpress at dd32.id.au  Fri May 27 12:23:11 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 27 May 2011 22:23:11 +1000
Subject: [wp-hackers] How to sync/mirror 2 WP multisite installs using
	one database?
In-Reply-To: <BANLkTi=4fRxMcSvVD6LNKOH5G0edD4-DcA@mail.gmail.com>
References: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>
	<BANLkTik8oiJ-tTzL+7p28WJ4GWnL+agbtA@mail.gmail.com>
	<BANLkTikNc3n=pP==QTj+2H-KSS38_qMxEA@mail.gmail.com>
	<BANLkTimXibb8L_4iG=+OtJ3Y7SWjtMaukw@mail.gmail.com>
	<BANLkTimMrfLRMEbF5s5uG2-FyEd1BVa0yA@mail.gmail.com>
	<BANLkTimAhrHyQvGbE=zXv1m+=z8HUv4G2w@mail.gmail.com>
	<BANLkTi=4fRxMcSvVD6LNKOH5G0edD4-DcA@mail.gmail.com>
Message-ID: <BANLkTi=GuKOyUOLDf1tEh59QVdvPkvCk9g@mail.gmail.com>

Refer to the first part of my email on how i'd do it with a singular
install.. The latter was how I've seen someone setup something similar..
which I really don't recommend you do.

On 27 May 2011 21:41, Claudio Simeone <mrbrog at gmail.com> wrote:

> 2011/5/27 Dion Hulse (dd32) <wordpress at dd32.id.au>:
>
> > Are they using Subdomains? Sub Directories?, or Mapped domains?
>
> Subdirectories, but a the moment the site is not yet finished.
> I have to transform an existing WP "normal" install to multisite.
>
> > This is all theoretical, I've not had to do it, and I doubt many others
> will
> > have.. the closest i've seen to what you're asking for, is 2 seperate
> > databases, and the posts/terms/taxonomy tables being sync'd accross.. The
> > sites table was different on both servers for their individual
> subdomains.
> > there was some replacing during the sync for the admin subdomain to the
> > public subdomains.. I didn't play with the config, just fix a few plugin
> > issues.. but I do believe they were having constant data sync issues..
>
> It is the solutions I was thinking to: 2 separate databases (and 2
> separate wp installs) and a script that every night syncs the
> front-end with backend, replacing all urls.
> But I was wondering if there is an alternative solution, maybe with
> one single WP install.
>
> Thanks,
>
> --
> Claudio
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at zed1.com  Fri May 27 12:27:29 2011
From: wordpress at zed1.com (Mike Little)
Date: Fri, 27 May 2011 13:27:29 +0100
Subject: [wp-hackers] How to sync/mirror 2 WP multisite installs using
	one database?
In-Reply-To: <BANLkTi=4fRxMcSvVD6LNKOH5G0edD4-DcA@mail.gmail.com>
References: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>
	<BANLkTik8oiJ-tTzL+7p28WJ4GWnL+agbtA@mail.gmail.com>
	<BANLkTikNc3n=pP==QTj+2H-KSS38_qMxEA@mail.gmail.com>
	<BANLkTimXibb8L_4iG=+OtJ3Y7SWjtMaukw@mail.gmail.com>
	<BANLkTimMrfLRMEbF5s5uG2-FyEd1BVa0yA@mail.gmail.com>
	<BANLkTimAhrHyQvGbE=zXv1m+=z8HUv4G2w@mail.gmail.com>
	<BANLkTi=4fRxMcSvVD6LNKOH5G0edD4-DcA@mail.gmail.com>
Message-ID: <BANLkTikEtjTbCvzmTGuvfqJ1K_Twno44aQ@mail.gmail.com>

On Fri, May 27, 2011 at 12:41, Claudio Simeone <mrbrog at gmail.com> wrote:

> 2011/5/27 Dion Hulse (dd32) <wordpress at dd32.id.au>:
>
> > Are they using Subdomains? Sub Directories?, or Mapped domains?
>
> Subdirectories, but a the moment the site is not yet finished.
> I have to transform an existing WP "normal" install to multisite.
>
> > This is all theoretical, I've not had to do it, and I doubt many others
> will
> > have.. the closest i've seen to what you're asking for, is 2 seperate
> > databases, and the posts/terms/taxonomy tables being sync'd accross.. The
> > sites table was different on both servers for their individual
> subdomains.
> > there was some replacing during the sync for the admin subdomain to the
> > public subdomains.. I didn't play with the config, just fix a few plugin
> > issues.. but I do believe they were having constant data sync issues..
>
> It is the solutions I was thinking to: 2 separate databases (and 2
> separate wp installs) and a script that every night syncs the
> front-end with backend, replacing all urls.
> But I was wondering if there is an alternative solution, maybe with
> one single WP install.
>
> Thanks,
>


If the key thing is to split the admin php code onto one machine and the
front end php code onto another, then you should look at apache proxying.

You could have the two different WP installs accessing the same DB (on a
third box), and use apache to proxy to the required URL for one of them.

e.g. have the backend WP instance running on cms.yourdomain.com. It will
generate all content with that domain in the URLs.
Then have your front end instance running apparently on the same domain (
cms.yourdomain.com), but faked in that server's hosts file.
Then have your external url mapped to an apache proxy configuration which
will translate all the external to internal URLs and vice versa.

No database fiddling required.

Mike
-- 
Mike Little
http://zed1.com/

From n.prasath.002 at gmail.com  Fri May 27 13:10:12 2011
From: n.prasath.002 at gmail.com (prasath nadarajah)
Date: Fri, 27 May 2011 18:40:12 +0530
Subject: [wp-hackers] Passing arguments to current_user_can() function
Message-ID: <BANLkTi=FXBJkjRMbEUBck=WsVbOLzsOGWg@mail.gmail.com>

Hi hackers
This may sound like a php question

I,m developing a plugin for extending web services for WordPress.
I came across a problem in passing arguments to the current_user_can
function.

Just a passing a single or double quoted string works fine
like   current_user_can('edit_posts')    or
  current_user_can("edit_posts").

But when i want to pass an argument which depends on a variable it gives
different results
If i want to check a capability against a given custom_post_type i could'nt
figure out a way to do that.

$post_type['name']  // this variable holds the name of the post_type. in
this case 'post'

current_user_can(  "edit_{$post_type['name'] }s"  )      // this returns
false for an admin
current_user_can(  "edit_".$post_type['name']."s"  )     // this returns
false for an admin

current_user_can(  "edit_posts"  )                                  // this
returns true for an admin

But "edit_{$post_type['name'] }s" ===  "edit_posts"      // this evaluates
true.

Is there anyway to construct the capability string based on the
post_type_name
which can be passed to the current_user_can() function.

From ljunior2005 at gmail.com  Fri May 27 13:24:19 2011
From: ljunior2005 at gmail.com (Leo Baiano)
Date: Fri, 27 May 2011 10:24:19 -0300
Subject: [wp-hackers] Strange bug with CPT
Message-ID: <BANLkTi=m3QJP4NkunCAMiuYija_eV-YBeA@mail.gmail.com>

Hi,

I came across what appears to be a wordpress bug and was wondering if any of
you ever experienced this or can explain what happens.

I created a CPT (custom post type) is 'product' an archive file and
archive-product.php to view the posts. The register_post_type is configured
correctly by setting the "has_archive" => true, and the administrative panel
CPT works perfectly, the problem is that when there are no posts
registrations rather than see a message stating that it has no content error
404 file not found.

Well, since it seems silly to publish a post the page works correctly, but I
was curious.

Has anyone experienced this or have any idea why this happens?

The impression is that WP only creates the redirect after post when it has
published.

-- 
Amplexos,

Leo Baiano
http://www.leobaiano.com
http://www.blog.ljunior.com
http://www.mcelebridades.com
http://www.twitter.com/leobaiano

From wordpress at dd32.id.au  Fri May 27 13:25:41 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 27 May 2011 23:25:41 +1000
Subject: [wp-hackers] Passing arguments to current_user_can() function
In-Reply-To: <BANLkTi=FXBJkjRMbEUBck=WsVbOLzsOGWg@mail.gmail.com>
References: <BANLkTi=FXBJkjRMbEUBck=WsVbOLzsOGWg@mail.gmail.com>
Message-ID: <BANLkTinh8WOZdmnbzuMQ8hd7CMHVffecNg@mail.gmail.com>

You need to check against the Custom Post Types permission, which may or may
not, have the same format as the edit posts caps.

Off the top of my head (You''ll have to check the object
references/functions)
$post_obj = get_post_type_object( $post->post_type );
if ( current_user_can( $post_obj->caps->edit_post ) ) { .... }

if you dump out the object and look at the caps array, you should be able to
figure it out

On 27 May 2011 23:10, prasath nadarajah <n.prasath.002 at gmail.com> wrote:

> Hi hackers
> This may sound like a php question
>
> I,m developing a plugin for extending web services for WordPress.
> I came across a problem in passing arguments to the current_user_can
> function.
>
> Just a passing a single or double quoted string works fine
> like   current_user_can('edit_posts')    or
>  current_user_can("edit_posts").
>
> But when i want to pass an argument which depends on a variable it gives
> different results
> If i want to check a capability against a given custom_post_type i could'nt
> figure out a way to do that.
>
> $post_type['name']  // this variable holds the name of the post_type. in
> this case 'post'
>
> current_user_can(  "edit_{$post_type['name'] }s"  )      // this returns
> false for an admin
> current_user_can(  "edit_".$post_type['name']."s"  )     // this returns
> false for an admin
>
> current_user_can(  "edit_posts"  )                                  // this
> returns true for an admin
>
> But "edit_{$post_type['name'] }s" ===  "edit_posts"      // this evaluates
> true.
>
> Is there anyway to construct the capability string based on the
> post_type_name
> which can be passed to the current_user_can() function.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Fri May 27 15:26:21 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 27 May 2011 11:26:21 -0400
Subject: [wp-hackers] Passing arguments to current_user_can() function
In-Reply-To: <BANLkTinh8WOZdmnbzuMQ8hd7CMHVffecNg@mail.gmail.com>
References: <BANLkTi=FXBJkjRMbEUBck=WsVbOLzsOGWg@mail.gmail.com>
	<BANLkTinh8WOZdmnbzuMQ8hd7CMHVffecNg@mail.gmail.com>
Message-ID: <BANLkTim8Qciei+JCPP18vMhQw+rsapT5LA@mail.gmail.com>

On Fri, May 27, 2011 at 9:25 AM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:

> You need to check against the Custom Post Types permission, which may or
> may
> not, have the same format as the edit posts caps.
>
> Off the top of my head (You''ll have to check the object
> references/functions)
> $post_obj = get_post_type_object( $post->post_type );
> if ( current_user_can( $post_obj->caps->edit_post ) ) { .... }
>
> if you dump out the object and look at the caps array, you should be able
> to
> figure it out


Dion is correct, but it's ->cap, rather than ->caps. And edit_post is a meta
cap, not a primitive cap, so you'd need to also pass the post ID so
WordPress can check what actual capabilities are required.

So:
$post_type_object = get_post_type_object( $post->post_type );
if ( current_user_can( $post_type_object->cap->edit_post, $post->ID ) ) {
... }

From mrbrog at gmail.com  Fri May 27 15:45:47 2011
From: mrbrog at gmail.com (Claudio Simeone)
Date: Fri, 27 May 2011 17:45:47 +0200
Subject: [wp-hackers] How to sync/mirror 2 WP multisite installs using
	one database?
In-Reply-To: <BANLkTikEtjTbCvzmTGuvfqJ1K_Twno44aQ@mail.gmail.com>
References: <BANLkTik04MQPmCjW=y8Cqy82+ht3Bs2BDQ@mail.gmail.com>
	<BANLkTik8oiJ-tTzL+7p28WJ4GWnL+agbtA@mail.gmail.com>
	<BANLkTikNc3n=pP==QTj+2H-KSS38_qMxEA@mail.gmail.com>
	<BANLkTimXibb8L_4iG=+OtJ3Y7SWjtMaukw@mail.gmail.com>
	<BANLkTimMrfLRMEbF5s5uG2-FyEd1BVa0yA@mail.gmail.com>
	<BANLkTimAhrHyQvGbE=zXv1m+=z8HUv4G2w@mail.gmail.com>
	<BANLkTi=4fRxMcSvVD6LNKOH5G0edD4-DcA@mail.gmail.com>
	<BANLkTikEtjTbCvzmTGuvfqJ1K_Twno44aQ@mail.gmail.com>
Message-ID: <BANLkTikDwixfzdJ1Tv4Qu3bT581=55m1aQ@mail.gmail.com>

Thanks Mike,
Thanks Dion,

I didn't know there was available the very useful "sunrise.php" file,
so I googled and made some tests.
Now it seems to work fine: I'm working with 2 separate wp installs
both connected to the same database (I don't want to use 2 separate
databases to avoid sync problems).

The sunrise.php file fixes some checks with domains and prevents the
ms_not_installed() error and in the front end I added a plugin with
some filters that replace the backend url with the frontend one (and
blocks wp-admin on frontend).

I'll make more tests, but at the moment it seems to work.

Thanks again!

--
Claudio

From wp at andrewnacin.com  Fri May 27 15:50:11 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 27 May 2011 11:50:11 -0400
Subject: [wp-hackers] Strange bug with CPT
In-Reply-To: <BANLkTi=m3QJP4NkunCAMiuYija_eV-YBeA@mail.gmail.com>
References: <BANLkTi=m3QJP4NkunCAMiuYija_eV-YBeA@mail.gmail.com>
Message-ID: <BANLkTin4rT-0qCooG6Gzh7E2wx+=dGW+-A@mail.gmail.com>

On Fri, May 27, 2011 at 9:24 AM, Leo Baiano <ljunior2005 at gmail.com> wrote:

> Hi,
>
> I came across what appears to be a wordpress bug and was wondering if any
> of
> you ever experienced this or can explain what happens.
>
> I created a CPT (custom post type) is 'product' an archive file and
> archive-product.php to view the posts. The register_post_type is configured
> correctly by setting the "has_archive" => true, and the administrative
> panel
> CPT works perfectly, the problem is that when there are no posts
> registrations rather than see a message stating that it has no content
> error
> 404 file not found.
>
> Well, since it seems silly to publish a post the page works correctly, but
> I
> was curious.
>
> Has anyone experienced this or have any idea why this happens?
>
> The impression is that WP only creates the redirect after post when it has
> published.


Known bug: http://core.trac.wordpress.org/ticket/17316

From tjgillies at gmail.com  Fri May 27 23:36:35 2011
From: tjgillies at gmail.com (Tyler Gillies)
Date: Fri, 27 May 2011 16:36:35 -0700
Subject: [wp-hackers] Large WXR Files
Message-ID: <23FAF1C6-903C-4B1C-8568-97919EC888C5@gmail.com>

I'm trying to import a very large (200mb) WXR file into wordpress. Are there any tools out there for slicing the xml file into smaller ones that are compatible with import?

From cross at thisismyurl.com  Sat May 28 00:00:33 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Fri, 27 May 2011 21:00:33 -0300
Subject: [wp-hackers] Large WXR Files
In-Reply-To: <23FAF1C6-903C-4B1C-8568-97919EC888C5@gmail.com>
References: <23FAF1C6-903C-4B1C-8568-97919EC888C5@gmail.com>
Message-ID: <63FE60D3-7F6C-44F7-8C0E-FE1F77A4238A@thisismyurl.com>

Tyler, I've seen a couple tools (http://www.rangerpretzel.com/content/view/20/1/ is one) but I've never had a lot of luck with them.

What I commonly do to huge XML files for import is manually split them into manageable sizes and then ensure the head data is copied back into each. Good luck! Let us know if you find anything automatic.

Chris


On 2011-05-27, at 8:36 PM, Tyler Gillies wrote:

> I'm trying to import a very large (200mb) WXR file into wordpress. Are there any tools out there for slicing the xml file into smaller ones that are compatible with import?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



__

Christopher Ross
http://thisismyurl.com

Toronto - (416) 900-3731


From kkarpieszuk at gmail.com  Sat May 28 18:59:18 2011
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Sat, 28 May 2011 20:59:18 +0200
Subject: [wp-hackers] how to check if current loop is main loop?
Message-ID: <BANLkTikuarb5BqEOAPBVBmdD1tbTLfC0YQ@mail.gmail.com>

hello

i want to add smth before first post on the page. i am thinking about
action hack loop_start, is it a right direction?

but i want to add this smth only in main loop. if it is homepage (or
any archive page), only before first post in main loop. if it is
single post, only before first post.

because theme developers usually put in theme many special loops (for
example loop for featured posts, used in some sliders etc) i want to
avoid to run my function in this special loop. how can i check (inside
the function) if loop_start is fired in context of main loop for
particular page?

-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk

From cross at thisismyurl.com  Sat May 28 19:28:02 2011
From: cross at thisismyurl.com (Christopher Ross)
Date: Sat, 28 May 2011 16:28:02 -0300
Subject: [wp-hackers] how to check if current loop is main loop?
In-Reply-To: <BANLkTikuarb5BqEOAPBVBmdD1tbTLfC0YQ@mail.gmail.com>
References: <BANLkTikuarb5BqEOAPBVBmdD1tbTLfC0YQ@mail.gmail.com>
Message-ID: <A3CE1C8E-9390-42BC-8CFF-2FA458BF4A31@thisismyurl.com>

Konrad,

I assume this is in your own theme, if it is I would recommend adding it to the loop.php or individual cases as a special case.

if (!isset($firstcount)) {$firstcount++; custom_function();}

(not tested)

Chris

On 2011-05-28, at 3:59 PM, Konrad Karpieszuk wrote:

> hello
> 
> i want to add smth before first post on the page. i am thinking about
> action hack loop_start, is it a right direction?
> 
> but i want to add this smth only in main loop. if it is homepage (or
> any archive page), only before first post in main loop. if it is
> single post, only before first post.
> 
> because theme developers usually put in theme many special loops (for
> example loop for featured posts, used in some sliders etc) i want to
> avoid to run my function in this special loop. how can i check (inside
> the function) if loop_start is fired in context of main loop for
> particular page?
> 
> -- 
> (en) regards / (pl) pozdrawiam
> Konrad Karpieszuk
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



__

Christopher Ross
http://thisismyurl.com

Toronto - (416) 900-3731


From kkarpieszuk at gmail.com  Sat May 28 19:54:51 2011
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Sat, 28 May 2011 21:54:51 +0200
Subject: [wp-hackers] how to check if current loop is main loop?
In-Reply-To: <A3CE1C8E-9390-42BC-8CFF-2FA458BF4A31@thisismyurl.com>
References: <BANLkTikuarb5BqEOAPBVBmdD1tbTLfC0YQ@mail.gmail.com>
	<A3CE1C8E-9390-42BC-8CFF-2FA458BF4A31@thisismyurl.com>
Message-ID: <BANLkTim4iULjBBLThUK_eonCG9oq21uiEA@mail.gmail.com>

On Sat, May 28, 2011 at 9:28 PM, Christopher Ross <cross at thisismyurl.com> wrote:
> I assume this is in your own theme

no :( i am creating plugin which i want to publish for all. so i
wanted to make this most universally and avoid to ask people who will
install this to put special template tag in theme.


-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk

From tjgillies at gmail.com  Sat May 28 21:06:24 2011
From: tjgillies at gmail.com (Tyler Gillies)
Date: Sat, 28 May 2011 14:06:24 -0700
Subject: [wp-hackers] Splitting wordpress export files
In-Reply-To: <mailman.9.1306584003.31917.wp-hackers@lists.automattic.com>
References: <mailman.9.1306584003.31917.wp-hackers@lists.automattic.com>
Message-ID: <7960B656FD084C549A456128BACCBDB6@gmail.com>

> Tyler, I've seen a couple tools (http://www.rangerpretzel.com/content/view/20/1/ is one) but I've never had a lot of luck with them.
Thanks for the links, I'll be sure to check them out 
> 
> What I commonly do to huge XML files for import is manually split them into manageable sizes and then ensure the head data is copied back into each. Good luck! Let us know if you find anything automatic.
> 
I'm working on my own script in ruby to do just this, i'll post it to github then link in this thread when its done 


From conradmiguelegozalo at gmail.com  Sat May 28 21:25:26 2011
From: conradmiguelegozalo at gmail.com (Mikko Gozalo)
Date: Sun, 29 May 2011 05:25:26 +0800
Subject: [wp-hackers] Weird behavior, style.css on head
Message-ID: <BANLkTikmZ60cqxdkcjVCFA1eGUfgnwPryA@mail.gmail.com>

Hello.

On my header.php, I had these lines as copied from Twenty Ten theme:

> <!DOCTYPE html>

<html <?php language_attributes(); ?>>

<head>

<meta charset="<?php bloginfo( 'charset' ); ?>" />

<title> [... truncated ...] </title>

<link rel="profile" href="http://gmpg.org/xfn/11" />

<link rel="stylesheet" type="text/css" media="all" href="<?php bloginfo(
> 'stylesheet_url' ); ?>" />


On my local server, it acts fine but when I uploaded it on my server and
view the source code of the rendered page it looks like:

> <!DOCTYPE html>

<html dir=ltr lang=en-US>

<head>

<meta charset=UTF-8 />

<title>[title_of_webpage]</title>

<link rel=profile href="http://gmpg.org/xfn/11"/>

<style>/*

Theme Name: [name of thene]

Theme URI: [website]

Description: [desc]

Author: [author]

Version: 1.0

License: GNU General Public License

License URI:

Tags: blue

*/


The CSS itself is "pasted" on the page. I have tried disabling all plugins
but it still acts this way.
body {



-- 
*Conrad Miguel E. Gozalo*
http://conradmiguel.com

From wp at andrewnacin.com  Sat May 28 21:50:04 2011
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 28 May 2011 17:50:04 -0400
Subject: [wp-hackers] how to check if current loop is main loop?
In-Reply-To: <BANLkTim4iULjBBLThUK_eonCG9oq21uiEA@mail.gmail.com>
References: <BANLkTikuarb5BqEOAPBVBmdD1tbTLfC0YQ@mail.gmail.com>
	<A3CE1C8E-9390-42BC-8CFF-2FA458BF4A31@thisismyurl.com>
	<BANLkTim4iULjBBLThUK_eonCG9oq21uiEA@mail.gmail.com>
Message-ID: <BANLkTi=hmqZyaF7-ORbXFQS22sBy=y7TGg@mail.gmail.com>

---------- Forwarded message ----------
From: Konrad Karpieszuk <kkarpieszuk at gmail.com>
Date: Sat, May 28, 2011 at 3:54 PM
Subject: Re: [wp-hackers] how to check if current loop is main loop?
To: wp-hackers at lists.automattic.com

On Sat, May 28, 2011 at 9:28 PM, Christopher Ross <cross at thisismyurl.com>
wrote:
> I assume this is in your own theme

no :( i am creating plugin which i want to publish for all. so i
wanted to make this most universally and avoid to ask people who will
install this to put special template tag in theme.

To check if you're on the main loop: $wp_the_query === $wp_query

From alex at buayacorp.com  Sat May 28 22:00:24 2011
From: alex at buayacorp.com (Alexander Concha)
Date: Sun, 29 May 2011 00:00:24 +0200
Subject: [wp-hackers] Splitting wordpress export files
In-Reply-To: <7960B656FD084C549A456128BACCBDB6@gmail.com>
References: <mailman.9.1306584003.31917.wp-hackers@lists.automattic.com>
	<7960B656FD084C549A456128BACCBDB6@gmail.com>
Message-ID: <BANLkTimhCyF4-Y12jEzWDEKd47DXeQG3TA@mail.gmail.com>

On Sat, May 28, 2011 at 11:06 PM, Tyler Gillies <tjgillies at gmail.com> wrote:
>> Tyler, I've seen a couple tools (http://www.rangerpretzel.com/content/view/20/1/ is one) but I've never had a lot of luck with them.
> Thanks for the links, I'll be sure to check them out
>>
>> What I commonly do to huge XML files for import is manually split them into manageable sizes and then ensure the head data is copied back into each. Good luck! Let us know if you find anything automatic.
>>
> I'm working on my own script in ruby to do just this, i'll post it to github then link in this thread when its done

I've been playing a little bit with the wordpress importer. I made
some changes, it uses plupload to upload big files. The backup file is
also read and imported progressively. I only made some tests with
dummy backup files (38MB and 185 MB) on an old laptop. My php
configuration:
memory_limit = 32M
upload_max_filesize = 10M
post_max_size = 20M

Yes, it was slow, but the importer didn't die.

If you are interested, you can grab the code from
http://www.buayacorp.com/files/wordpress/wp-large-upload.zip
There are many things that may be improved.
-- 
Alexander Concha
http://www.buayacorp.com

From rafaehlers at gmail.com  Sat May 28 22:23:16 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Sat, 28 May 2011 19:23:16 -0300
Subject: [wp-hackers] Splitting wordpress export files
In-Reply-To: <BANLkTimhCyF4-Y12jEzWDEKd47DXeQG3TA@mail.gmail.com>
References: <mailman.9.1306584003.31917.wp-hackers@lists.automattic.com>
	<7960B656FD084C549A456128BACCBDB6@gmail.com>
	<BANLkTimhCyF4-Y12jEzWDEKd47DXeQG3TA@mail.gmail.com>
Message-ID: <BANLkTimm1ug2eCKH9bkhC8gXJmz5idt8EQ@mail.gmail.com>

also, I think that in this case the most important config to set is script
timeout due to the amount of time needed to upload and import the file.

Rafael *Ehlers*

On Sat, May 28, 2011 at 7:00 PM, Alexander Concha <alex at buayacorp.com>wrote:

> On Sat, May 28, 2011 at 11:06 PM, Tyler Gillies <tjgillies at gmail.com>
> wrote:
> >> Tyler, I've seen a couple tools (
> http://www.rangerpretzel.com/content/view/20/1/ is one) but I've never had
> a lot of luck with them.
> > Thanks for the links, I'll be sure to check them out
> >>
> >> What I commonly do to huge XML files for import is manually split them
> into manageable sizes and then ensure the head data is copied back into
> each. Good luck! Let us know if you find anything automatic.
> >>
> > I'm working on my own script in ruby to do just this, i'll post it to
> github then link in this thread when its done
>
> I've been playing a little bit with the wordpress importer. I made
> some changes, it uses plupload to upload big files. The backup file is
> also read and imported progressively. I only made some tests with
> dummy backup files (38MB and 185 MB) on an old laptop. My php
> configuration:
> memory_limit = 32M
> upload_max_filesize = 10M
> post_max_size = 20M
>
> Yes, it was slow, but the importer didn't die.
>
> If you are interested, you can grab the code from
> http://www.buayacorp.com/files/wordpress/wp-large-upload.zip
> There are many things that may be improved.
> --
> Alexander Concha
> http://www.buayacorp.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From alex at buayacorp.com  Sat May 28 22:28:04 2011
From: alex at buayacorp.com (Alexander Concha)
Date: Sun, 29 May 2011 00:28:04 +0200
Subject: [wp-hackers] Splitting wordpress export files
In-Reply-To: <BANLkTimm1ug2eCKH9bkhC8gXJmz5idt8EQ@mail.gmail.com>
References: <mailman.9.1306584003.31917.wp-hackers@lists.automattic.com>
	<7960B656FD084C549A456128BACCBDB6@gmail.com>
	<BANLkTimhCyF4-Y12jEzWDEKd47DXeQG3TA@mail.gmail.com>
	<BANLkTimm1ug2eCKH9bkhC8gXJmz5idt8EQ@mail.gmail.com>
Message-ID: <BANLkTim-PgpU3x5Wx5SVLKZzSz0Quvz-iQ@mail.gmail.com>

On Sun, May 29, 2011 at 12:23 AM, Rafael Ehlers <rafaehlers at gmail.com> wrote:
> also, I think that in this case the most important config to set is script
> timeout due to the amount of time needed to upload and import the file.

Yes, I kept the instruction "set_time_limit(0);" which was already in
the WordPress importer.
Anyways, there are a lot of things that could be improved.
-- 
Alexander Concha
http://www.buayacorp.com

From eddie at teamcolab.com  Sat May 28 22:34:34 2011
From: eddie at teamcolab.com (Eddie O'Leary)
Date: Sat, 28 May 2011 18:34:34 -0400
Subject: [wp-hackers] Weird behavior, style.css on head
In-Reply-To: <BANLkTikmZ60cqxdkcjVCFA1eGUfgnwPryA@mail.gmail.com>
References: <BANLkTikmZ60cqxdkcjVCFA1eGUfgnwPryA@mail.gmail.com>
Message-ID: <44A6D342-2B3E-4226-A324-450FE0F8A5DD@teamcolab.com>

Does your theme files have php tags above and below the theme comment?


Eddie O'Leary
Web Developer
CoLab Multimedia

-Sent from my iPhone

On May 28, 2011, at 5:25 PM, Mikko Gozalo <conradmiguelegozalo at gmail.com> wrote:

> Hello.
> 
> On my header.php, I had these lines as copied from Twenty Ten theme:
> 
>> <!DOCTYPE html>
> 
> <html <?php language_attributes(); ?>>
> 
> <head>
> 
> <meta charset="<?php bloginfo( 'charset' ); ?>" />
> 
> <title> [... truncated ...] </title>
> 
> <link rel="profile" href="http://gmpg.org/xfn/11" />
> 
> <link rel="stylesheet" type="text/css" media="all" href="<?php bloginfo(
>> 'stylesheet_url' ); ?>" />
> 
> 
> On my local server, it acts fine but when I uploaded it on my server and
> view the source code of the rendered page it looks like:
> 
>> <!DOCTYPE html>
> 
> <html dir=ltr lang=en-US>
> 
> <head>
> 
> <meta charset=UTF-8 />
> 
> <title>[title_of_webpage]</title>
> 
> <link rel=profile href="http://gmpg.org/xfn/11"/>
> 
> <style>/*
> 
> Theme Name: [name of thene]
> 
> Theme URI: [website]
> 
> Description: [desc]
> 
> Author: [author]
> 
> Version: 1.0
> 
> License: GNU General Public License
> 
> License URI:
> 
> Tags: blue
> 
> */
> 
> 
> The CSS itself is "pasted" on the page. I have tried disabling all plugins
> but it still acts this way.
> body {
> 
> 
> 
> -- 
> *Conrad Miguel E. Gozalo*
> http://conradmiguel.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From john.miedema at gmail.com  Sun May 29 11:55:27 2011
From: john.miedema at gmail.com (John Miedema)
Date: Sun, 29 May 2011 07:55:27 -0400
Subject: [wp-hackers] update to plugin not showing up
Message-ID: <BANLkTikC6O=VkUvNZAn9pvpYS2s=SGoPvw@mail.gmail.com>

I submitted an update to my plugin last Thursday. I can see the update in
the SVN Repo etc but it is not showing up on the plugin site or update
notifications. This happened once before. I posted here, and some said the
updates were behind. Is this happening again? Thanks, JOhn

OpenBook
http://wordpress.org/extend/plugins/openbook-book-data/

From steve at sltaylor.co.uk  Sun May 29 15:27:27 2011
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Sun, 29 May 2011 16:27:27 +0100
Subject: [wp-hackers] cropping custom images sizes independently
Message-ID: <BANLkTikeVtNL2bLUxjEk90trK+aJeV2krg@mail.gmail.com>

Hi,

It's great that you can adjust the cropping on the thumbnail
independent of the full size image with the WP image editor. However,
what about the medium size, the large size, and custom image sizes?

I can't seem to find a plugin that addresses this, and there seem to
be no hooks at all to modify the wp_image_editor functionality. My
guess is that you'd need to build your own interface to handle this,
which is a bit beyond my scope at the moment, and seems a shame. The
code in image-edit.php suggests that you'd just need extra radio
inputs under "Apply changes to" for other image sizes. I've not tried
hacking this file cos even if it'll work, I wouldn't want to implement
core hacks.

Anyway, has anyone managed this?

cheers,

Steve Taylor

From kkarpieszuk at gmail.com  Sun May 29 15:50:55 2011
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Sun, 29 May 2011 17:50:55 +0200
Subject: [wp-hackers] how to check if current loop is main loop?
In-Reply-To: <BANLkTi=hmqZyaF7-ORbXFQS22sBy=y7TGg@mail.gmail.com>
References: <BANLkTikuarb5BqEOAPBVBmdD1tbTLfC0YQ@mail.gmail.com>
	<A3CE1C8E-9390-42BC-8CFF-2FA458BF4A31@thisismyurl.com>
	<BANLkTim4iULjBBLThUK_eonCG9oq21uiEA@mail.gmail.com>
	<BANLkTi=hmqZyaF7-ORbXFQS22sBy=y7TGg@mail.gmail.com>
Message-ID: <BANLkTi=zAWf4J5c5mgWcvz9m8K+sgDZCnA@mail.gmail.com>

On Sat, May 28, 2011 at 11:50 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> To check if you're on the main loop: $wp_the_query === $wp_query

its great, thank you Andrew!


-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk

From kkarpieszuk at gmail.com  Sun May 29 16:57:42 2011
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Sun, 29 May 2011 18:57:42 +0200
Subject: [wp-hackers] how to check if current loop is main loop?
In-Reply-To: <BANLkTi=hmqZyaF7-ORbXFQS22sBy=y7TGg@mail.gmail.com>
References: <BANLkTikuarb5BqEOAPBVBmdD1tbTLfC0YQ@mail.gmail.com>
	<A3CE1C8E-9390-42BC-8CFF-2FA458BF4A31@thisismyurl.com>
	<BANLkTim4iULjBBLThUK_eonCG9oq21uiEA@mail.gmail.com>
	<BANLkTi=hmqZyaF7-ORbXFQS22sBy=y7TGg@mail.gmail.com>
Message-ID: <BANLkTi=NoGp=2aZuYx6fQGC5Jz7t9AL9Aw@mail.gmail.com>

On Sat, May 28, 2011 at 11:50 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> To check if you're on the main loop: $wp_the_query === $wp_query


i wrote my opinion little too fast :) it isnt working (or i dont
understand smth, or i didnt explain what i need well).

short plugin:

/* Plugin Name: Loop test */
function wyswietl_slider() {
 global $wp_the_query, $wp_query, $post, $wp;
 if ($wp_the_query === $wp_query) :
 echo "it is main loop";
 endif;
}
add_action('loop_start', 'wyswietl_slider');

it shows text "it is main loop" above main loop. but it shows also
above other loops.

for example in sidebar i have standard widget to to show "Last posts".
over last posts i see also text "it is main loop". Even in situation
when WP displays single post (and in sidebar i have few last posts, so
main loop and loop in widget isnt thesame)

Andrew (and others), what i did wrong? :)



-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk

From kkarpieszuk at gmail.com  Sun May 29 17:11:27 2011
From: kkarpieszuk at gmail.com (Konrad Karpieszuk)
Date: Sun, 29 May 2011 19:11:27 +0200
Subject: [wp-hackers] how to check if current loop is main loop?
In-Reply-To: <BANLkTi=NoGp=2aZuYx6fQGC5Jz7t9AL9Aw@mail.gmail.com>
References: <BANLkTikuarb5BqEOAPBVBmdD1tbTLfC0YQ@mail.gmail.com>
	<A3CE1C8E-9390-42BC-8CFF-2FA458BF4A31@thisismyurl.com>
	<BANLkTim4iULjBBLThUK_eonCG9oq21uiEA@mail.gmail.com>
	<BANLkTi=hmqZyaF7-ORbXFQS22sBy=y7TGg@mail.gmail.com>
	<BANLkTi=NoGp=2aZuYx6fQGC5Jz7t9AL9Aw@mail.gmail.com>
Message-ID: <BANLkTinJrsRO22+p+Q-GuvaU9cuRqgiMGg@mail.gmail.com>

ok, looks that i found solution :)

/* Plugin Name: Loop test */
function wyswietl_slider($array) {
 global $wp_the_query, $wp_query, $post, $wp;
 if ($array === $wp_query) :
 echo "it is main loop";
 endif;
}
add_action('loop_start', 'wyswietl_slider');

the diffrence is that i passed $array to function and i checked if
$array === $wp_query



On Sun, May 29, 2011 at 6:57 PM, Konrad Karpieszuk
<kkarpieszuk at gmail.com> wrote:
> On Sat, May 28, 2011 at 11:50 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>> To check if you're on the main loop: $wp_the_query === $wp_query
>
>
> i wrote my opinion little too fast :) it isnt working (or i dont
> understand smth, or i didnt explain what i need well).
>
> short plugin:
>
> /* Plugin Name: Loop test */
> function wyswietl_slider() {
> ?global $wp_the_query, $wp_query, $post, $wp;
> ?if ($wp_the_query === $wp_query) :
> ?echo "it is main loop";
> ?endif;
> }
> add_action('loop_start', 'wyswietl_slider');
>
> it shows text "it is main loop" above main loop. but it shows also
> above other loops.
>
> for example in sidebar i have standard widget to to show "Last posts".
> over last posts i see also text "it is main loop". Even in situation
> when WP displays single post (and in sidebar i have few last posts, so
> main loop and loop in widget isnt thesame)
>
> Andrew (and others), what i did wrong? :)
>
>
>
> --
> (en) regards / (pl) pozdrawiam
> Konrad Karpieszuk
>



-- 
(en) regards / (pl) pozdrawiam
Konrad Karpieszuk

From jan.fabry at monkeyman.be  Sun May 29 17:55:22 2011
From: jan.fabry at monkeyman.be (Jan Fabry)
Date: Sun, 29 May 2011 10:55:22 -0700 (PDT)
Subject: [wp-hackers] update to plugin not showing up
In-Reply-To: <BANLkTikC6O=VkUvNZAn9pvpYS2s=SGoPvw@mail.gmail.com>
Message-ID: <1402122.5165.1306691722520.JavaMail.geo-discussion-forums@yqhc1>

On Sunday, May 29, 2011 1:55:27 PM UTC+2, John Miedema wrote:
>
> I submitted an update to my plugin last Thursday. I can see the update in
> the SVN Repo etc but it is not showing up on the plugin site or update
> notifications.
>
> The readme.txt in your trunk directory still has "Stable Tag: 3.1.3", so 
the plugin packager will look in the tags/3.1.3/ directory for the plugin 
files. Update the Stable Tag version in the readme.txt in the trunk 
directory to 3.1.4 and it will see the new version.

See the explanation at [ 
http://wordpress.org/extend/plugins/about/readme.txt ].

Greetings,

Jan Fabry

From aero.maxx.d at gmail.com  Mon May 30 09:53:33 2011
From: aero.maxx.d at gmail.com (Aero Maxx)
Date: Mon, 30 May 2011 10:53:33 +0100
Subject: [wp-hackers] using ajax to save options
Message-ID: <4DE3691D.9040405@gmail.com>

I have written a sitemap plugin and I have sections for pages, posts, 
custom post types, archives categories and tags.

I would like users of the plugin to order the output and would like to 
do this with a list of the sections and they sort the list themselves as 
to how they want it, and ajax would save the order of the list into the 
options table.

But I have having difficulty with the saving part, have got the ajax 
part working but its not saving anything into the database.

Someone has written this blog post on how to do what I am wanting to do 
but not having much luck in getting it working and have done exactly 
what they have said to do.

http://soulsizzle.com/jquery/create-an-ajax-sorter-for-wordpress-custom-post-types/

If someone could shine some light in my direction I would be very 
grateful thanks.

From jayarjo at gmail.com  Tue May 31 07:35:21 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Tue, 31 May 2011 11:35:21 +0400
Subject: [wp-hackers] is it possible add or remove column on custom taxonomy
	page?..
Message-ID: <BANLkTin9aw_7W3pHNX0svgvf11BsiUNLfw@mail.gmail.com>

I remember it was possible to add or remove columns in all table views
(terms, posts, etc) in previous versions of WordPress. But now my
filters do not see to trigger at all. Has the feature been removed in
3.1+?


Davit Barbakadze

From wordpress at dd32.id.au  Tue May 31 07:38:35 2011
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 31 May 2011 17:38:35 +1000
Subject: [wp-hackers] is it possible add or remove column on custom
 taxonomy page?..
In-Reply-To: <BANLkTin9aw_7W3pHNX0svgvf11BsiUNLfw@mail.gmail.com>
References: <BANLkTin9aw_7W3pHNX0svgvf11BsiUNLfw@mail.gmail.com>
Message-ID: <BANLkTi=rgj-MyoAwyeParQk1r=tkQReSKg@mail.gmail.com>

A New List table class was introduced, the ultimate aim of the project was
to replace all the current tables with a flexible alternative.
New filters would've been introduced, however, old filters should still
work.

Perhaps you could post a code sample which works on older versions, but
doesn't work on 3.1+? Thats the simplest way to determine if
previously-working hooks are no longer being handled correctly.

Cheers
Dion / dd32

On 31 May 2011 17:35, Davit Barbakadze <jayarjo at gmail.com> wrote:

> I remember it was possible to add or remove columns in all table views
> (terms, posts, etc) in previous versions of WordPress. But now my
> filters do not see to trigger at all. Has the feature been removed in
> 3.1+?
>
>
> Davit Barbakadze
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jayarjo at gmail.com  Tue May 31 08:06:46 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Tue, 31 May 2011 12:06:46 +0400
Subject: [wp-hackers] is it possible add or remove column on custom
 taxonomy page?..
In-Reply-To: <BANLkTi=rgj-MyoAwyeParQk1r=tkQReSKg@mail.gmail.com>
References: <BANLkTin9aw_7W3pHNX0svgvf11BsiUNLfw@mail.gmail.com>
	<BANLkTi=rgj-MyoAwyeParQk1r=tkQReSKg@mail.gmail.com>
Message-ID: <BANLkTikWcy5mhrUJ70MoMtv=0_vTGUTx3Q@mail.gmail.com>

Cannot find the code now :| Hm...

But... how do I remove let's say description column from categories
table? I remember the filter was something like
manage_categories_columns, no?

Davit Barbakadze




On Tue, May 31, 2011 at 11:38 AM, Dion Hulse (dd32)
<wordpress at dd32.id.au> wrote:
> A New List table class was introduced, the ultimate aim of the project was
> to replace all the current tables with a flexible alternative.
> New filters would've been introduced, however, old filters should still
> work.
>
> Perhaps you could post a code sample which works on older versions, but
> doesn't work on 3.1+? Thats the simplest way to determine if
> previously-working hooks are no longer being handled correctly.
>
> Cheers
> Dion / dd32
>
> On 31 May 2011 17:35, Davit Barbakadze <jayarjo at gmail.com> wrote:
>
>> I remember it was possible to add or remove columns in all table views
>> (terms, posts, etc) in previous versions of WordPress. But now my
>> filters do not see to trigger at all. Has the feature been removed in
>> 3.1+?
>>
>>
>> Davit Barbakadze
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jayarjo at gmail.com  Tue May 31 08:12:09 2011
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Tue, 31 May 2011 12:12:09 +0400
Subject: [wp-hackers] is it possible add or remove column on custom
 taxonomy page?..
In-Reply-To: <BANLkTikWcy5mhrUJ70MoMtv=0_vTGUTx3Q@mail.gmail.com>
References: <BANLkTin9aw_7W3pHNX0svgvf11BsiUNLfw@mail.gmail.com>
	<BANLkTi=rgj-MyoAwyeParQk1r=tkQReSKg@mail.gmail.com>
	<BANLkTikWcy5mhrUJ70MoMtv=0_vTGUTx3Q@mail.gmail.com>
Message-ID: <BANLkTi=YgiKNAmrwAcwVKgCKqo26N29LCg@mail.gmail.com>

Ok nevermind, found the solution. It was manage_edit-taxname_columns.
Thanks for the push :)

Davit Barbakadze




On Tue, May 31, 2011 at 12:06 PM, Davit Barbakadze <jayarjo at gmail.com> wrote:
> Cannot find the code now :| Hm...
>
> But... how do I remove let's say description column from categories
> table? I remember the filter was something like
> manage_categories_columns, no?
>
> Davit Barbakadze
>
>
>
>
> On Tue, May 31, 2011 at 11:38 AM, Dion Hulse (dd32)
> <wordpress at dd32.id.au> wrote:
>> A New List table class was introduced, the ultimate aim of the project was
>> to replace all the current tables with a flexible alternative.
>> New filters would've been introduced, however, old filters should still
>> work.
>>
>> Perhaps you could post a code sample which works on older versions, but
>> doesn't work on 3.1+? Thats the simplest way to determine if
>> previously-working hooks are no longer being handled correctly.
>>
>> Cheers
>> Dion / dd32
>>
>> On 31 May 2011 17:35, Davit Barbakadze <jayarjo at gmail.com> wrote:
>>
>>> I remember it was possible to add or remove columns in all table views
>>> (terms, posts, etc) in previous versions of WordPress. But now my
>>> filters do not see to trigger at all. Has the feature been removed in
>>> 3.1+?
>>>
>>>
>>> Davit Barbakadze
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From wordpress at graq.co.uk  Tue May 31 13:28:03 2011
From: wordpress at graq.co.uk (graq)
Date: Tue, 31 May 2011 14:28:03 +0100
Subject: [wp-hackers] Additional file upload writeboxes for posts
Message-ID: <4DE4ECE3.8000407@graq.co.uk>

I have a CPT that needs to allow for files (PDFs/docs) to be uploaded 
against posts. I figured I could store these as attachments, but I can't 
get my head around how to build a custom write box for managing 
attachments, and how to restrict that to certain file types. Can anyone 
kick start me in the right direction?

From travis at travisnorthcutt.com  Tue May 31 15:21:21 2011
From: travis at travisnorthcutt.com (Travis Northcutt)
Date: Tue, 31 May 2011 10:21:21 -0500
Subject: [wp-hackers] Additional file upload writeboxes for posts
In-Reply-To: <4DE4ECE3.8000407@graq.co.uk>
References: <4DE4ECE3.8000407@graq.co.uk>
Message-ID: <BANLkTikrqh+Ki7jMgmENZzmjoz4OLz32Ew@mail.gmail.com>

I don't have any advice regarding how to restrict the file types allowed,
but I suggest you take a look at
this<https://github.com/jaredatch/Custom-Metaboxes-and-Fields-for-WordPress>
for
creating your custom metaboxes. It includes a file upload box in
example-functions.php.
--
Travis Northcutt


On Tue, May 31, 2011 at 8:28 AM, graq <wordpress at graq.co.uk> wrote:

> I have a CPT that needs to allow for files (PDFs/docs) to be uploaded
> against posts. I figured I could store these as attachments, but I can't get
> my head around how to build a custom write box for managing attachments, and
> how to restrict that to certain file types. Can anyone kick start me in the
> right direction?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rafaehlers at gmail.com  Tue May 31 15:40:34 2011
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Tue, 31 May 2011 12:40:34 -0300
Subject: [wp-hackers] Additional file upload writeboxes for posts
In-Reply-To: <BANLkTikrqh+Ki7jMgmENZzmjoz4OLz32Ew@mail.gmail.com>
References: <4DE4ECE3.8000407@graq.co.uk>
	<BANLkTikrqh+Ki7jMgmENZzmjoz4OLz32Ew@mail.gmail.com>
Message-ID: <BANLkTikaYWjk4mTaBjacS9hA16Jo4NPm0w@mail.gmail.com>

Use this plugin http://wordpress.org/extend/plugins/attachments/

On Tue, May 31, 2011 at 12:21 PM, Travis Northcutt <
travis at travisnorthcutt.com> wrote:

> I don't have any advice regarding how to restrict the file types allowed,
> but I suggest you take a look at
> this<
> https://github.com/jaredatch/Custom-Metaboxes-and-Fields-for-WordPress>
> for
> creating your custom metaboxes. It includes a file upload box in
> example-functions.php.
> --
> Travis Northcutt
>
>
> On Tue, May 31, 2011 at 8:28 AM, graq <wordpress at graq.co.uk> wrote:
>
> > I have a CPT that needs to allow for files (PDFs/docs) to be uploaded
> > against posts. I figured I could store these as attachments, but I can't
> get
> > my head around how to build a custom write box for managing attachments,
> and
> > how to restrict that to certain file types. Can anyone kick start me in
> the
> > right direction?
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From info at danesdailyblog.com  Tue May 31 22:34:09 2011
From: info at danesdailyblog.com (Me)
Date: Tue, 31 May 2011 18:34:09 -0400
Subject: [wp-hackers] Additional file upload writeboxes for posts
In-Reply-To: <BANLkTikrqh+Ki7jMgmENZzmjoz4OLz32Ew@mail.gmail.com>
References: <4DE4ECE3.8000407@graq.co.uk>
	<BANLkTikrqh+Ki7jMgmENZzmjoz4OLz32Ew@mail.gmail.com>
Message-ID: <eaf434f3-dcbf-4f75-b1b9-9e5701c28e9b@blur>

Couldn"t you use a PHP function which would restrict upload types?

Sent via DROID on Verizon Wireless

-----Original message-----
From: Travis Northcutt <travis at travisnorthcutt.com>
To: wp-hackers at lists.automattic.com
Sent: Tue, May 31, 2011 15:21:21 GMT+00:00
Subject: Re: [wp-hackers] Additional file upload writeboxes for posts

I don't have any advice regarding how to restrict the file types allowed,
but I suggest you take a look at
this<https://github.com/jaredatch/Custom-Metaboxes-and-Fields-for-WordPress>
for
creating your custom metaboxes. It includes a file upload box in
example-functions.php.
--
Travis Northcutt


On Tue, May 31, 2011 at 8:28 AM, graq <wordpress at graq.co.uk> wrote:

> I have a CPT that needs to allow for files (PDFs/docs) to be uploaded
> against posts. I figured I could store these as attachments, but I can't  
get
> my head around how to build a custom write box for managing attachments,  
and
> how to restrict that to certain file types. Can anyone kick start me in  
the
> right direction?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


