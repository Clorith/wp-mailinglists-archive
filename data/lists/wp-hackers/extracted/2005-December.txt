From skeltoac at gmail.com  Thu Dec  1 00:40:14 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu Dec  1 06:16:15 2005
Subject: [wp-hackers] Templating Ideas
In-Reply-To: <A575D6EB-6E7D-4C91-82D6-640AB3DBD828@cloudthirteen.com>
References: <A575D6EB-6E7D-4C91-82D6-640AB3DBD828@cloudthirteen.com>
Message-ID: <e6ec604d0511301640o61d78297xae460b35165211b0@mail.gmail.com>

On 11/30/05, Cristiana Yambo <wordpress@cloudthirteen.com> wrote:
> I wanted to expand the templating engine with this idea I have.
> Whenever there is a place where WordPress is generating a piece of
> content, such as with wp_list_cats, you can add a class name to the
> parameter list, so each category will  belong to the class you
> specified.

You can wrap this kind of thing in a named div or other element, then
use CSS inheritance to apply styles to the template tag output. Does
this not suit your needs?

Andy
From nbachiyski at developer.bg  Fri Dec  2 17:43:11 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Fri Dec  2 17:43:43 2005
Subject: [wp-hackers] Re: [wp-svn] [3258]
 trunk/wp-content/plugins/wp-db-backup.php: i18n
 updates from nbachiyski.
In-Reply-To: <200512021735.jB2HZbDB039911@comox.textdrive.com>
References: <200512021735.jB2HZbDB039911@comox.textdrive.com>
Message-ID: <439087AF.1030705@developer.bg>

m@wordpress.org wrote:
> Revision
>     3258
> Author
>     ryan
> Date
>     2005-12-02 17:35:36 +0000 (Fri, 02 Dec 2005)
> 
> 
>       Log Message
> 
> i18n updates from nbachiyski. #2006
> 
> 
>       Modified Paths
> 
>     * trunk/wp-content/plugins/wp-db-backup.php
>       <#trunkwpcontentpluginswpdbbackupphp>
> 
> 
>       Diff
> 
> 
>         Modified: trunk/wp-content/plugins/wp-db-backup.php (3257 => 3258)
> 
 >  ...
 >
> 		echo '<label style="display:block;"><input type="radio" checked="checked" name="deliver" value="http" /> ' . __('Download to your computer') . '</label>';
>  		echo '<div><input type="radio" name="deliver" id="do_email" value="smtp" /> ';
> -		echo sprintf(__('<label for="do_email">Email backup to:</label> %s'), '<input type="text" name="backup_recipient" size="20" value="' . get_settings('admin_email') . '" />');
> +		echo '<label for="do_email">'.__('Email backup to:').'</label><input type="text" name="backup_recipient" size="20" value="' . get_settings('admin_email') . '" />');

Here the ending parenthesis should not be there. I must have submitted 
an earlier diff. I apologize!

It is on line 783.

Nikolay.
From if.website at gmail.com  Fri Dec  2 17:48:15 2005
From: if.website at gmail.com (Austin Matzko)
Date: Fri Dec  2 17:48:48 2005
Subject: [wp-hackers] Re: [wp-svn] [3258]
	trunk/wp-content/plugins/wp-db-backup.php: i18n updates from
	nbachiyski.
In-Reply-To: <439087AF.1030705@developer.bg>
References: <200512021735.jB2HZbDB039911@comox.textdrive.com>
	<439087AF.1030705@developer.bg>
Message-ID: <674b4a3b0512020948k3c494466l23d239862908a0b4@mail.gmail.com>

On 12/2/05, Nikolay Bachiyski <nbachiyski@developer.bg> wrote:
> Here the ending parenthesis should not be there. I must have submitted
> an earlier diff. I apologize!

Before I saw your email I submitted a patch here:
http://trac.wordpress.org/ticket/2018
From apakuni at gmail.com  Fri Dec  2 18:00:41 2005
From: apakuni at gmail.com (Douglas Daulton)
Date: Fri Dec  2 18:01:24 2005
Subject: [wp-hackers] Custom Post/Page Types
Message-ID: <BFB5CBC9.E879%apakuni@gmail.com>

I had a bit of a brainstorm regarding Custom Post/Page types and wrote it up
in the "How To" forum.  The link is provided below.  I'd appreciate people's
thoughts either on the list or in the forums.

Thanks,

Doug

PS:  http://wordpress.org/support/topic/50978#post-279798

From apakuni at gmail.com  Fri Dec  2 18:01:01 2005
From: apakuni at gmail.com (Douglas Daulton)
Date: Fri Dec  2 18:01:38 2005
Subject: [wp-hackers] [WP 2.0 RC1] WP API Key ... Follow the
	google/amazon/ebay path ...
Message-ID: <BFB5CBDD.E87A%apakuni@gmail.com>

I was a little confused about the WP API key requirements in WP 2.0 RC1.  So
I had a chat with Matt about it.  I now understand how it works with WP.com.
While I understand it, I think it may prove an administrative nightmare in
the long run.  Not for me, but for the admins at WP.com.  Mainly, I think
folks like me who run their own server, will end up creating a lot of dead
wp.com sites just to get an API key.  So dead.wp.com will be just that ...
An empty ill-maintained site which will slowly clog up the works as wp.com
grows.  

So, I shared with Matt what I thought might be a more efficient way of doing
it.  Basically, we learn from established pros like Amazon, Google and eBAY.
Create a new sub-domain called dev.wordpress.com (or something similar).
Have devs register there.  Once registered, one dev gets a single API key.
If, for some reason, (tracking, stats, etc.), we need an individual API key
for every site we create, then have devs register new sites as part of their
account and then append some unique number or string to the end of the
existing API key.  Viola!  Unique, trackable API keys by domain or even
subdomain.

So in practice, it might looks something like this ...

1) I sign up at devs.wordpress.com and am asked if I also want a blog on
wp.com.  In all cases, my requested user name is checked against the general
account list for *.wp.com.  If it is available, I get it if not, I choose a
new one.  If "I want a blog" is checked, then I am provisioned for
username.wp.com as well.  If not, then I get no website, just an dev
account.

2) I fill out some info about myself and my dev abilities which might be
useful for folks looking for help on a project and could become an extension
to the dev marketplace that Matt kicked off a while back.

3) I am taken to a "Register Sites" page where I list the site(s) I
maintain.

4) Upon completion of the form and email confirmation of the account, I am
assigned a WP API key.  And each site I register is given an
appended/extended key.  The keys might look like this:

Username:       monkeyman
Base API Key:   monkeyman-1934567989909
Site Key 1:     monkeyman-1934567989909-monkeyman.net
Site Key 2:     monkeyman-1934567989909-monkeyman.com
Site Key 3:     monkeyman-1934567989909-monkeyman.org

5) Every time I add a new site to my portfolio, I login to my WP dev account
and add it.  Or, even cooler yet.  On the new site, I enter my Base API Key
and it auto posts the new site to my account on dev.wp.com.

6)  This could open up a whole new slew of cool, centralized WP-driven
services like statistics and performance analysis, SPAM Blacklists (like
Akismet), dev directory and ranking. Common tag libraries, etc.  None of it
should squelch ideas and new project.  Just the opposite, it should drive
them.


So there it is.  Thoughts?


From dmhouse at gmail.com  Fri Dec  2 22:41:31 2005
From: dmhouse at gmail.com (David House)
Date: Fri Dec  2 22:42:07 2005
Subject: [wp-hackers] Creating a Role Management interface plugin
Message-ID: <ebe43d680512021441l102f97b6i@mail.gmail.com>

Anyone that wants control beyond the built-in one-role-per-user
no-capabilities-editing at the moment is a bit stuck. It's been wisely
suggested that a plugin could fulfill this role, and so it makes sense
to make one, hopefully to be released around the time of 2.0's
release. I was willing to take this on but was wondering:

1. Whether anyone has thought about this, the potential problems, etc.
2. Whether anyone has begun work on a plugin like this.
3. What the required feature set would need to be.

For number 3, I'd say the following would be useful:
* Assign more than one role
* Edit exactly which caps are assigned to a user: big long list of checkboxes
* Creation of new roles

Any input is appreciated.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From skeltoac at gmail.com  Fri Dec  2 23:48:37 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Fri Dec  2 23:49:15 2005
Subject: [wp-hackers] Creating a Role Management interface plugin
In-Reply-To: <ebe43d680512021441l102f97b6i@mail.gmail.com>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>
Message-ID: <e6ec604d0512021548s35c2a760xffa4d7aee652909d@mail.gmail.com>

On 12/2/05, David House <dmhouse@gmail.com> wrote:
> * Edit exactly which caps are assigned to a user: big long list of checkboxes

+1
From michael at hancockdata.com  Fri Dec  2 23:57:20 2005
From: michael at hancockdata.com (Michael E. Hancock)
Date: Fri Dec  2 23:59:14 2005
Subject: [wp-hackers] Creating a Role Management interface plugin
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>
Message-ID: <01c001c5f79c$226a2e30$6402a8c0@DELL8600>

From: "David House"
>3. What the required feature set would need to be.
>
>For number 3, I'd say the following would be useful:
>* Assign more than one role
>* Edit exactly which caps are assigned to a user: big long list of
checkboxes
>* Creation of new roles
>
>Any input is appreciated.

* Only allow user with edit_users Capability to define/assign Roles and
Capabilities
* Don't allow user to delete the edit_users Capability from her/his self
* Ability to set Roles and Capabilites back to 'default' WordPress values

Michael E. Hancock




From skeltoac at gmail.com  Sat Dec  3 00:18:35 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sat Dec  3 00:19:10 2005
Subject: [wp-hackers] Creating a Role Management interface plugin
In-Reply-To: <01c001c5f79c$226a2e30$6402a8c0@DELL8600>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>
	<01c001c5f79c$226a2e30$6402a8c0@DELL8600>
Message-ID: <e6ec604d0512021618y1383559el5d67d0bbaae85283@mail.gmail.com>

* Ability to save custom roles (sets of capabilites) for future use
From ringmaster at midnightcircus.com  Sat Dec  3 01:26:40 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Sat Dec  3 01:27:27 2005
Subject: [wp-hackers] Creating a Role Management interface plugin
In-Reply-To: <ebe43d680512021441l102f97b6i@mail.gmail.com>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>
Message-ID: <4390F450.4030705@midnightcircus.com>

David House wrote:
> 2. Whether anyone has begun work on a plugin like this.

I have attached my work so far.

I'm not married to the image inputs, but my vision was to Ajaxify the 
interface so that clicking the button would toggle the capability. 
Perhaps they could be checkboxes anyway, with a submit button at the 
bottom.  I'm still playing with it.

Things like adding new roles/capabilities would be at the bottom of the 
page, and a select box would hide all but the selected role.

In any case, the functionality that is there works.

Owen
-------------- next part --------------
A non-text attachment was scrubbed...
Name: accept.png
Type: image/png
Size: 917 bytes
Desc: not available
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051203/df8e2ab0/accept-0001.png
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cancel.png
Type: image/png
Size: 853 bytes
Desc: not available
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051203/df8e2ab0/cancel-0001.png
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051203/df8e2ab0/role-manager-0001.htm
From r at schestowitz.com  Sat Dec  3 04:23:35 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Sat Dec  3 04:24:15 2005
Subject: [wp-hackers] [WP 2.0 RC1] WP API Key ... Follow the
	google/amazon/ebay path ...
In-Reply-To: <BFB5CBDD.E87A%apakuni@gmail.com>
References: <BFB5CBDD.E87A%apakuni@gmail.com>
Message-ID: <20051203042335.jirg3i3q5p80s40o@banana.catalyst2.com>

Interesting thoughts...

_____/ On Fri 02 Dec 2005 18:01:01 GMT, [Douglas Daulton] wrote : \_____

> I was a little confused about the WP API key requirements in WP 2.0 RC1.  So
> I had a chat with Matt about it.  I now understand how it works with WP.com.
> While I understand it, I think it may prove an administrative nightmare in
> the long run.  Not for me, but for the admins at WP.com.  Mainly, I think
> folks like me who run their own server, will end up creating a lot of dead
> wp.com sites just to get an API key.  So dead.wp.com will be just that ...
> An empty ill-maintained site which will slowly clog up the works as wp.com
> grows.

Void wp.com blogs should be cheap (in terms of space and traffic), but the
namespace  is  negatively affected (namely depleted), which  makes  wp.com
less desirable to potential subscribers.

I  suspect  that splog prove to be the far more detrimental  artefact.  As
Wordpress.com  matures,  it could (just /could/) become a victim  of  blo-
galanches.  It only needs some scripting, thus time. Purging those invalid
blogs,  which only serve SEO purposes, is harder. Blogs which function  as
API key placeholders will most likely embed no content. Splogs are intend-
ed  to look as much as possible like real blogs and they are often active,
not dormant.


> So, I shared with Matt what I thought might be a more efficient way of doing
> it.  Basically, we learn from established pros like Amazon, Google and eBAY.
> Create a new sub-domain called dev.wordpress.com (or something similar).
> Have devs register there.  Once registered, one dev gets a single API key.
> If, for some reason, (tracking, stats, etc.), we need an individual API key
> for every site we create, then have devs register new sites as part of their
> account and then append some unique number or string to the end of the
> existing API key.  Viola!  Unique, trackable API keys by domain or even
> subdomain.


This   would  be  an  excellent  solution,  but  only  if  you  assume   a
hacker/development  community.  If Average Joe's blog, which resides on  a
separate  domain,  needed a key, the steps above would be  daunting.  Then
again,  registering a blog just for an API key is adverse to common  sense
too. I assume it is a temporary solution.


> So in practice, it might looks something like this ...
>
> 1) I sign up at devs.wordpress.com and am asked if I also want a blog on
> wp.com.  In all cases, my requested user name is checked against the general
> account list for *.wp.com.  If it is available, I get it if not, I choose a
> new one.  If "I want a blog" is checked, then I am provisioned for
> username.wp.com as well.  If not, then I get no website, just an dev
> account.
>
> 2) I fill out some info about myself and my dev abilities which might be
> useful for folks looking for help on a project and could become an extension
> to the dev marketplace that Matt kicked off a while back.
>
> 3) I am taken to a "Register Sites" page where I list the site(s) I
> maintain.
>
> 4) Upon completion of the form and email confirmation of the account, I am
> assigned a WP API key.  And each site I register is given an
> appended/extended key.  The keys might look like this:
>
> Username:       monkeyman
> Base API Key:   monkeyman-1934567989909
> Site Key 1:     monkeyman-1934567989909-monkeyman.net
> Site Key 2:     monkeyman-1934567989909-monkeyman.com
> Site Key 3:     monkeyman-1934567989909-monkeyman.org


You  probably need a 2-way verification process. This helps in  prevention
of  spam,  which can exploit that openness and trust. Would it be  putting
some code/key in the main directory of the blog to indicate ownership?


> 5) Every time I add a new site to my portfolio, I login to my WP dev account
> and add it.  Or, even cooler yet.  On the new site, I enter my Base API Key
> and it auto posts the new site to my account on dev.wp.com.


That would be ideal.


> 6)  This could open up a whole new slew of cool, centralized WP-driven
> services like statistics and performance analysis, SPAM Blacklists (like
> Akismet), dev directory and ranking. Common tag libraries, etc.  None of it
> should squelch ideas and new project.  Just the opposite, it should drive
> them.
>
>
> So there it is.  Thoughts?


What  you propose is using the seminal WordPress site as a  root/authority
of  all sites that are driven by it. You can create a network of WordPress
bound/associated  sites, which I think is excellent. Statistics and analy-
sis,  for example, can be optimised and tailored to the very nature of the
sites  (which are all blogs). This has the advantages that Google  Analyt-
ics, for instance, still lacks.


Roy

From mani.monajjemi at gmail.com  Sat Dec  3 09:22:12 2005
From: mani.monajjemi at gmail.com (Mani Monajjemi)
Date: Sat Dec  3 09:22:53 2005
Subject: [wp-hackers] [WP 2.0 RC1] WP API Key ... Follow the
	google/amazon/ebay path ...
In-Reply-To: <20051203042335.jirg3i3q5p80s40o@banana.catalyst2.com>
References: <BFB5CBDD.E87A%apakuni@gmail.com>
	<20051203042335.jirg3i3q5p80s40o@banana.catalyst2.com>
Message-ID: <d4d3e29e0512030122m219f2987xc940a87617fe37a0@mail.gmail.com>

I do agree with Douglas , His idea is great and he mentioned everything ,
This idea also gives the power to wordpress team to get in touch with so
many web admins in the world interesting in WP.

On 12/3/05, Roy Schestowitz <r@schestowitz.com> wrote:
>
> Interesting thoughts...
>
> _____/ On Fri 02 Dec 2005 18:01:01 GMT, [Douglas Daulton] wrote : \_____
>
> > I was a little confused about the WP API key requirements in WP 2.0RC1.  So
> > I had a chat with Matt about it.  I now understand how it works with
> WP.com.
> > While I understand it, I think it may prove an administrative nightmare
> in
> > the long run.  Not for me, but for the admins at WP.com.  Mainly, I
> think
> > folks like me who run their own server, will end up creating a lot of
> dead
> > wp.com sites just to get an API key.  So dead.wp.com will be just that
> ...
> > An empty ill-maintained site which will slowly clog up the works as
> wp.com
> > grows.
>
> Void wp.com blogs should be cheap (in terms of space and traffic), but the
> namespace  is  negatively affected (namely depleted), which  makes  wp.com
> less desirable to potential subscribers.
>
> I  suspect  that splog prove to be the far more detrimental  artefact.  As
> Wordpress.com  matures,  it could (just /could/) become a victim  of  blo-
> galanches.  It only needs some scripting, thus time. Purging those invalid
> blogs,  which only serve SEO purposes, is harder. Blogs which function  as
> API key placeholders will most likely embed no content. Splogs are intend-
> ed  to look as much as possible like real blogs and they are often active,
> not dormant.
>
>
> > So, I shared with Matt what I thought might be a more efficient way of
> doing
> > it.  Basically, we learn from established pros like Amazon, Google and
> eBAY.
> > Create a new sub-domain called dev.wordpress.com (or something similar).
> > Have devs register there.  Once registered, one dev gets a single API
> key.
> > If, for some reason, (tracking, stats, etc.), we need an individual API
> key
> > for every site we create, then have devs register new sites as part of
> their
> > account and then append some unique number or string to the end of the
> > existing API key.  Viola!  Unique, trackable API keys by domain or even
> > subdomain.
>
>
> This   would  be  an  excellent  solution,  but  only  if  you  assume   a
> hacker/development  community.  If Average Joe's blog, which resides on  a
> separate  domain,  needed a key, the steps above would be  daunting.  Then
> again,  registering a blog just for an API key is adverse to common  sense
> too. I assume it is a temporary solution.
>
>
> > So in practice, it might looks something like this ...
> >
> > 1) I sign up at devs.wordpress.com and am asked if I also want a blog on
> > wp.com.  In all cases, my requested user name is checked against the
> general
> > account list for *.wp.com.  If it is available, I get it if not, I
> choose a
> > new one.  If "I want a blog" is checked, then I am provisioned for
> > username.wp.com as well.  If not, then I get no website, just an dev
> > account.
> >
> > 2) I fill out some info about myself and my dev abilities which might be
> > useful for folks looking for help on a project and could become an
> extension
> > to the dev marketplace that Matt kicked off a while back.
> >
> > 3) I am taken to a "Register Sites" page where I list the site(s) I
> > maintain.
> >
> > 4) Upon completion of the form and email confirmation of the account, I
> am
> > assigned a WP API key.  And each site I register is given an
> > appended/extended key.  The keys might look like this:
> >
> > Username:       monkeyman
> > Base API Key:   monkeyman-1934567989909
> > Site Key 1:     monkeyman-1934567989909-monkeyman.net
> > Site Key 2:     monkeyman-1934567989909-monkeyman.com
> > Site Key 3:     monkeyman-1934567989909-monkeyman.org
>
>
> You  probably need a 2-way verification process. This helps in  prevention
> of  spam,  which can exploit that openness and trust. Would it be  putting
> some code/key in the main directory of the blog to indicate ownership?
>
>
> > 5) Every time I add a new site to my portfolio, I login to my WP dev
> account
> > and add it.  Or, even cooler yet.  On the new site, I enter my Base API
> Key
> > and it auto posts the new site to my account on dev.wp.com.
>
>
> That would be ideal.
>
>
> > 6)  This could open up a whole new slew of cool, centralized WP-driven
> > services like statistics and performance analysis, SPAM Blacklists (like
> > Akismet), dev directory and ranking. Common tag libraries, etc.  None of
> it
> > should squelch ideas and new project.  Just the opposite, it should
> drive
> > them.
> >
> >
> > So there it is.  Thoughts?
>
>
> What  you propose is using the seminal WordPress site as a  root/authority
> of  all sites that are driven by it. You can create a network of WordPress
> bound/associated  sites, which I think is excellent. Statistics and analy-
> sis,  for example, can be optimised and tailored to the very nature of the
> sites  (which are all blogs). This has the advantages that Google  Analyt-
> ics, for instance, still lacks.
>
>
> Roy
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
Mani Monajjemi
www.manionline.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051203/c7f996e3/attachment.htm
From dmhouse at gmail.com  Sat Dec  3 10:07:28 2005
From: dmhouse at gmail.com (David House)
Date: Sat Dec  3 10:08:03 2005
Subject: [wp-hackers] Creating a Role Management interface plugin
In-Reply-To: <e6ec604d0512021618y1383559el5d67d0bbaae85283@mail.gmail.com>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>
	<01c001c5f79c$226a2e30$6402a8c0@DELL8600>
	<e6ec604d0512021618y1383559el5d67d0bbaae85283@mail.gmail.com>
Message-ID: <ebe43d680512030207t1c8d4c18h@mail.gmail.com>

On 03/12/05, Andy Skelton <skeltoac@gmail.com> wrote:
> * Ability to save custom roles (sets of capabilites) for future use

That's what I meant by my third bullet point.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Sat Dec  3 10:10:13 2005
From: dmhouse at gmail.com (David House)
Date: Sat Dec  3 10:10:47 2005
Subject: [wp-hackers] Creating a Role Management interface plugin
In-Reply-To: <4390F450.4030705@midnightcircus.com>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>
	<4390F450.4030705@midnightcircus.com>
Message-ID: <ebe43d680512030210m1935deb1s@mail.gmail.com>

On 03/12/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
> David House wrote:
> > 2. Whether anyone has begun work on a plugin like this.
>
> I have attached my work so far.

Thanks Owen, I'll check it out.

> I'm not married to the image inputs, but my vision was to Ajaxify the
> interface so that clicking the button would toggle the capability.
> Perhaps they could be checkboxes anyway, with a submit button at the
> bottom.  I'm still playing with it.

Hmm... interesting idea. I can't decide off the top of my head which i
prefer more. Checkboxes seem simpler, but then image inputs have the
nice feel of an 'On/Off' control panel. They also wouldn't require
clicking a submit box. But then, they're harder to code and could
result in a lot of ajax requests if you're doing some heavy-duty role
editing.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Sat Dec  3 10:15:27 2005
From: dmhouse at gmail.com (David House)
Date: Sat Dec  3 10:16:01 2005
Subject: [wp-hackers] Creating a Role Management interface plugin
In-Reply-To: <4390F450.4030705@midnightcircus.com>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>
	<4390F450.4030705@midnightcircus.com>
Message-ID: <ebe43d680512030215l4ba9ca4eu@mail.gmail.com>

On 03/12/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
> I have attached my work so far.

Hmm... you seem to have only pasted the last half of your code,
there's obviously some code missing from the top...

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From ringmaster at midnightcircus.com  Sat Dec  3 16:02:42 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Sat Dec  3 16:03:29 2005
Subject: [wp-hackers] Creating a Role Management interface plugin
In-Reply-To: <ebe43d680512030215l4ba9ca4eu@mail.gmail.com>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>
	<4390F450.4030705@midnightcircus.com>
	<ebe43d680512030215l4ba9ca4eu@mail.gmail.com>
Message-ID: <4391C1A2.2020002@midnightcircus.com>

David House wrote:
> On 03/12/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
> 
>>I have attached my work so far.
> 
> 
> Hmm... you seem to have only pasted the last half of your code,
> there's obviously some code missing from the top...

Worked for me, but here you go:
http://redalt.com/downloads/wp2/role-manager.txt

Owen

From kaf at szub.net  Sun Dec  4 05:36:08 2005
From: kaf at szub.net (Kaf Oseo)
Date: Sun Dec  4 05:36:45 2005
Subject: [wp-hackers] is_admin?
In-Reply-To: <4391C1A2.2020002@midnightcircus.com>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>	<4390F450.4030705@midnightcircus.com>	<ebe43d680512030215l4ba9ca4eu@mail.gmail.com>
	<4391C1A2.2020002@midnightcircus.com>
Message-ID: <43928048.805@szub.net>

Is it just me or does the is_admin conditional not work? I've been
testing a plugin on both Apache and IIS, WP 1.5.2 and 2.0 beta, and
a simple

if(!is_admin())

is always true, even on admin pages.

-Kaf
From kaf at szub.net  Sun Dec  4 05:39:02 2005
From: kaf at szub.net (Kaf Oseo)
Date: Sun Dec  4 05:39:44 2005
Subject: [wp-hackers] is_admin?
In-Reply-To: <43928048.805@szub.net>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>	<4390F450.4030705@midnightcircus.com>	<ebe43d680512030215l4ba9ca4eu@mail.gmail.com>	<4391C1A2.2020002@midnightcircus.com>
	<43928048.805@szub.net>
Message-ID: <439280F6.4010308@szub.net>

Ok, this *sort of* answers it:

http://trac.wordpress.org/ticket/1741

Just not completely. What do I need to set it off in a plugin?

Kaf Oseo wrote:
> Is it just me or does the is_admin conditional not work? I've been
> testing a plugin on both Apache and IIS, WP 1.5.2 and 2.0 beta, and
> a simple
> 
> if(!is_admin())
> 
> is always true, even on admin pages.
From skeltoac at gmail.com  Sun Dec  4 07:31:47 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sun Dec  4 07:32:27 2005
Subject: [wp-hackers] is_admin?
In-Reply-To: <439280F6.4010308@szub.net>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>
	<4390F450.4030705@midnightcircus.com>
	<ebe43d680512030215l4ba9ca4eu@mail.gmail.com>
	<4391C1A2.2020002@midnightcircus.com> <43928048.805@szub.net>
	<439280F6.4010308@szub.net>
Message-ID: <e6ec604d0512032331j35df885hcfd05c9a8f19be4d@mail.gmail.com>

On 12/3/05, Kaf Oseo <kaf@szub.net> wrote:
> Ok, this *sort of* answers it:
>
> http://trac.wordpress.org/ticket/1741
>
> Just not completely. What do I need to set it off in a plugin?
>

You need to delay execution by writing your code into a function that
gets called by an action hook later in the program.

Andy
http://andy.wordpress.com
From kaf at szub.net  Sun Dec  4 08:15:57 2005
From: kaf at szub.net (Kaf Oseo)
Date: Sun Dec  4 08:16:31 2005
Subject: [wp-hackers] is_admin?
In-Reply-To: <e6ec604d0512032331j35df885hcfd05c9a8f19be4d@mail.gmail.com>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>	<4390F450.4030705@midnightcircus.com>	<ebe43d680512030215l4ba9ca4eu@mail.gmail.com>	<4391C1A2.2020002@midnightcircus.com>
	<43928048.805@szub.net>	<439280F6.4010308@szub.net>
	<e6ec604d0512032331j35df885hcfd05c9a8f19be4d@mail.gmail.com>
Message-ID: <4392A5BD.9080907@szub.net>

Andy Skelton wrote:
> You need to delay execution by writing your code into a function that
> gets called by an action hook later in the program.

Doing that. Here's a simplification of the code as I have it:

function is__this_admin($text) {
	if(is_admin()) {
		$text = "Paydirt!";
	}
	return $text;
}

add_filter('option_blogname', 'is__this_admin', 42);

When I change to is_home or is_feed or any other conditional function,
it works as expected. Only is_admin seems to always return false.

-Kaf
From m at mullenweg.com  Sun Dec  4 08:20:01 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Dec  4 08:21:02 2005
Subject: [wp-hackers] [WP 2.0 RC1] WP API Key ... Follow
	the	google/amazon/ebay path ...
In-Reply-To: <BFB5CBDD.E87A%apakuni@gmail.com>
References: <BFB5CBDD.E87A%apakuni@gmail.com>
Message-ID: <4392A6B1.4000309@mullenweg.com>

Douglas Daulton wrote:
> Mainly, I think
> folks like me who run their own server, will end up creating a lot of dead
> wp.com sites just to get an API key.  So dead.wp.com will be just that ...

There are a lot of "dead" Yahoo profile pages too. It doesn't matter. 
The only argument for "preserving" the good names, which is a battle you 
will always lose anyway. That's a reward for people who get there early. 
  At the end of the day WP has a couple of hundred thousand users, so 
even if every single one got an account (and they won't) it's still a 
fraction of the size of most online services.

> Create a new sub-domain called dev.wordpress.com (or something similar).
> Have devs register there.  Once registered, one dev gets a single API key.
> If, for some reason, (tracking, stats, etc.), we need an individual API key
> for every site we create, then have devs register new sites as part of their
> account and then append some unique number or string to the end of the
> existing API key.  Viola!  Unique, trackable API keys by domain or even
> subdomain.

The API keys aren't for devs, they're for users. They're tracking and 
controlling usage per user, not application or developer.

> 6)  This could open up a whole new slew of cool, centralized WP-driven
> services like statistics and performance analysis, SPAM Blacklists (like
> Akismet), dev directory and ranking. Common tag libraries, etc.  None of it
> should squelch ideas and new project.  Just the opposite, it should drive
> them.

In theory that sounds great, but I see no connection between what you 
described and point 6 above, unless there is a missing 5.5: create an 
enviroment for arbitrary hosted applications to run and store data on 
the WP.com infrastructure, which is not currently planned. (Access to 
blog data and such already has a standard API, the Metaweblog.) If 
people could give me real-world examples (NOT theoretical) of things 
they want to build but can't because of current limitations, I'll see 
how I can help.

I'm very open to ideas, but I prefer development (especially in APIs) to 
be extractions from real-world use rather than a lot of work for 
theoretical usage. Amazon and eBay have iterated their web services many 
times based on actual usage.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From mark.wordpress at txfx.net  Mon Dec  5 05:34:18 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Dec  5 05:34:27 2005
Subject: [wp-hackers] is_admin?
In-Reply-To: <4392A5BD.9080907@szub.net>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>	<4390F450.4030705@midnightcircus.com>	<ebe43d680512030215l4ba9ca4eu@mail.gmail.com>	<4391C1A2.2020002@midnightcircus.com>
	<43928048.805@szub.net>	<439280F6.4010308@szub.net>
	<e6ec604d0512032331j35df885hcfd05c9a8f19be4d@mail.gmail.com>
	<4392A5BD.9080907@szub.net>
Message-ID: <FD5FF308-9A80-4A5F-ACE6-CA3FB3C94252@txfx.net>

Hm, you're right.  The problem is that the part of classes.php where  
$this->is_admin is set doesn't get run on admin views.

I've submitted a patch here:
http://trac.wordpress.org/ticket/1741

Please test.

On Dec 4, 2005, at 3:15 AM, Kaf Oseo wrote:

> When I change to is_home or is_feed or any other conditional function,
> it works as expected. Only is_admin seems to always return false.

--
Mark Jaquith
http://txfx.net/


From kaf at szub.net  Mon Dec  5 06:19:14 2005
From: kaf at szub.net (Kaf Oseo)
Date: Mon Dec  5 06:19:15 2005
Subject: [wp-hackers] is_admin?
In-Reply-To: <FD5FF308-9A80-4A5F-ACE6-CA3FB3C94252@txfx.net>
References: <ebe43d680512021441l102f97b6i@mail.gmail.com>	<4390F450.4030705@midnightcircus.com>	<ebe43d680512030215l4ba9ca4eu@mail.gmail.com>	<4391C1A2.2020002@midnightcircus.com>	<43928048.805@szub.net>	<439280F6.4010308@szub.net>	<e6ec604d0512032331j35df885hcfd05c9a8f19be4d@mail.gmail.com>	<4392A5BD.9080907@szub.net>
	<FD5FF308-9A80-4A5F-ACE6-CA3FB3C94252@txfx.net>
Message-ID: <4393DBE2.6000501@szub.net>

Mark Jaquith wrote:
> I've submitted a patch here:
> http://trac.wordpress.org/ticket/1741
> 
> Please test.

Your fix is working from where I sit in both 1.5.2 and 2-RC1. Thanks
for taking a look, Mark.

-Kaf
From mani.monajjemi at gmail.com  Mon Dec  5 08:30:59 2005
From: mani.monajjemi at gmail.com (Mani Monajjemi)
Date: Mon Dec  5 08:31:09 2005
Subject: [wp-hackers] TinyMCE creates wrong URI's again ...
Message-ID: <d4d3e29e0512050030u2167fe54k6b61177b29ab8b70@mail.gmail.com>

I mentioned here: http://trac.wordpress.org/ticket/1870 (please read first)
(that inline image uploading used to create wrong permalinks when WP
installed in a folder rather than root folder, The problem was fixed in rev
#3145 (http://trac.wordpress.org/changeset/3145) but now when I check the
new functionality (NO-LINK/ LINK TO IMAGE/ LINK TO PAGE) I can see that bug
appears again,


   - LINK TO IMAGE mode has the problem
    - LINK TO PAGE mode creates correct URIs
   - NO-Link creates LINK TO IMAGE URIs!!!!!

It was proved that the problem was JS problem , And it seems as if it is
still a JS problem , So what should I do? re-open the ticket in trac or use
a new Ticket?

[I think Andy may give the best answer]

--
Mani Monajjemi
www.manionline.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051205/cea24972/attachment.htm
From podz at tamba2.org.uk  Mon Dec  5 12:08:52 2005
From: podz at tamba2.org.uk (Podz)
Date: Mon Dec  5 12:09:07 2005
Subject: [wp-hackers] Counting failed logins
Message-ID: <43942DD4.8030305@tamba2.org.uk>

I'm making an assumption that in order to get access to a blog it has to
be through wp-login.php and not some passing of a string, but is there a
way for failed logins to be counted ?
I can run tools like wwhack against my login page all day and I will get
no warning that someone is trying to get access. Can this be set to a
certain number and then something happens - at the very least the blog
owner getting an email or two ?

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051205/07f99960/signature.pgp
From r at schestowitz.com  Mon Dec  5 12:53:45 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Mon Dec  5 12:53:49 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <43942DD4.8030305@tamba2.org.uk>
References: <43942DD4.8030305@tamba2.org.uk>
Message-ID: <20051205125345.9h63fapbpbwc4wkk@banana.catalyst2.com>

_____/ On Mon 05 Dec 2005 12:08:52 GMT, [Podz] wrote : \_____

> I'm making an assumption that in order to get access to a blog it has to
> be through wp-login.php and not some passing of a string, but is there a
> way for failed logins to be counted ?
> I can run tools like wwhack against my login page all day and I will get
> no warning that someone is trying to get access. Can this be set to a
> certain number and then something happens - at the very least the blog
> owner getting an email or two ?
>
> P.

This is similar to what Mambo sought at some stage:

http://forum.mamboserver.com/showthread.php?t=14740

Notice  the  other intersting suggestions in this post. In  principle,  it
should not be difficult to implement what you suggest. I am not a PHP pro-
grammer  so I would probably just scan the log file, trimming and counting
all  requests for wp-login.php and then looking for unfamiliar IP address-
es.

In  PHP,  you could probably just retain a file where logins get  appended
(similar  to "last login" in cPanel) and, every once in a while, such file
will be investigated and a warning message sent if it grows too quickly. I
am  aware that this wouldn't reflect on the number of failed attempts pre-
cisely,  as  they would be mixed with successful ones. If you  talk  about
brute-force  tools, however, this will give you rough insight into illicit
activities that revolve near your site.

SSH'ing for root access, even on Windows and Mac workstation, is something
that can get hudreds of attempts per day, but firewalls are often there to
intercept  it.  Maybe restrict wp-login.php to only a few trusted  IP  ad-
dresses, or a certain IP C block? Making it an advanced option perhaps?

Roy

From sam at rephrase.net  Mon Dec  5 14:01:14 2005
From: sam at rephrase.net (Sam Angove)
Date: Mon Dec  5 14:01:20 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <43942DD4.8030305@tamba2.org.uk>
References: <43942DD4.8030305@tamba2.org.uk>
Message-ID: <aa74b1910512050601u74576683w569a8d10bcba794e@mail.gmail.com>

On 12/5/05, Podz <podz@tamba2.org.uk> wrote:
> I'm making an assumption that in order to get access to a blog it has to
> be through wp-login.php and not some passing of a string, but is there a
> way for failed logins to be counted ?

It's pretty easy to edit wp-login.php to do it, just call the log
function when wp_login() fails (around line 196). If you habitually
watch your server error log, something like "trigger_error('WP Login
Error: '. $user_pass, E_USER_ERROR);" would do it. A bit harder
otherwise.

WP's error reporting is pretty terrible all around -- there's
something very wrong about a mature application producing error pages
which say nothing but "Cheatin' uh ?" -- but this probably isn't the
right time in the release cycle for an overhaul. :)

Another place logging would be good is the "die('GLOBALS overwrite
attempt detected');" in wp-settings.php -- just showing it to the
attacker isn't that helpful, but I'd very much like to know if
someone's trying it. Or trying to delete users. Or seeing any of the
"hi, you are unspeakably evil" errors, really -- most of the places WP
just die()s.

Just a pluggable wp_error() wrapper for die(), maybe? It has the
virtue of simplicity, at least. It'd be nice to prettify errors too,
though -- a WP-wide wpdb::bail()? -- but that leads to templating
etc., if only for the frequent user-facing errors, like the
comment-posting ones.

I'd also like a pony. ;)
From aaron at technosailor.com  Mon Dec  5 14:07:47 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Mon Dec  5 14:07:57 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <aa74b1910512050601u74576683w569a8d10bcba794e@mail.gmail.com>
Message-ID: <010501c5f9a5$4547ca60$6501a8c0@emmensedqry21p>

A "wp-error" hook would be useful in these situations.

--
Aaron Brazell
Editor/Writer, Technosailor.com
www.technosailor.com

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Sam Angove
Sent: Monday, December 05, 2005 9:01 AM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Counting failed logins

On 12/5/05, Podz <podz@tamba2.org.uk> wrote:
> I'm making an assumption that in order to get access to a blog it has 
> to be through wp-login.php and not some passing of a string, but is 
> there a way for failed logins to be counted ?

It's pretty easy to edit wp-login.php to do it, just call the log function
when wp_login() fails (around line 196). If you habitually watch your server
error log, something like "trigger_error('WP Login
Error: '. $user_pass, E_USER_ERROR);" would do it. A bit harder otherwise.

WP's error reporting is pretty terrible all around -- there's something very
wrong about a mature application producing error pages which say nothing but
"Cheatin' uh ?" -- but this probably isn't the right time in the release
cycle for an overhaul. :)

Another place logging would be good is the "die('GLOBALS overwrite attempt
detected');" in wp-settings.php -- just showing it to the attacker isn't
that helpful, but I'd very much like to know if someone's trying it. Or
trying to delete users. Or seeing any of the "hi, you are unspeakably evil"
errors, really -- most of the places WP just die()s.

Just a pluggable wp_error() wrapper for die(), maybe? It has the virtue of
simplicity, at least. It'd be nice to prettify errors too, though -- a
WP-wide wpdb::bail()? -- but that leads to templating etc., if only for the
frequent user-facing errors, like the comment-posting ones.

I'd also like a pony. ;)
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


I choose Polesoft Lockspam to fight spam, and you?
http://www.polesoft.com/refer.html    


From dougal at gunters.org  Mon Dec  5 15:20:47 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Mon Dec  5 15:21:20 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <010501c5f9a5$4547ca60$6501a8c0@emmensedqry21p>
References: <010501c5f9a5$4547ca60$6501a8c0@emmensedqry21p>
Message-ID: <43945ACF.205@gunters.org>

Aaron Brazell wrote:
> A "wp-error" hook would be useful in these situations.

As would some sort of general logging framework. Maybe after WP 2.0 is 
launched, we can look into including something like log4php:

   http://logging.apache.org/log4php/

I've been using Log4Perl at work (log4perl and log4php are both based on 
Java's log4j, BTW), and it's an excellent logging framework. I can 
imagine plugins hooking into something like this for providing remote 
debugging support, appenders which send emails or IMs on critical 
errors, etc.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From ringmaster at midnightcircus.com  Mon Dec  5 15:25:39 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Dec  5 15:23:16 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <43942DD4.8030305@tamba2.org.uk>
References: <43942DD4.8030305@tamba2.org.uk>
Message-ID: <43945BF3.5000705@midnightcircus.com>

Podz wrote:
> I'm making an assumption that in order to get access to a blog it has to
> be through wp-login.php and not some passing of a string, but is there a
> way for failed logins to be counted ?
> I can run tools like wwhack against my login page all day and I will get
> no warning that someone is trying to get access. Can this be set to a
> certain number and then something happens - at the very least the blog
> owner getting an email or two ?

I have written an unreleased plugin for this.  I was planning on adding 
a few other security devices before I put it out there.  I was talking 
to Skippy about adding some Impostercide features, and was thinking 
about incorporating some checks of the user table to watch for 
unauthorized capabilities promotion, among other things.

Other thoughts?

Owen


-------------- next part --------------
A non-text attachment was scrubbed...
Name: armor.php
Type: application/x-php
Size: 2416 bytes
Desc: not available
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051205/f0702faa/armor.bin
From skippy at skippy.net  Mon Dec  5 15:30:51 2005
From: skippy at skippy.net (Scott Merrill)
Date: Mon Dec  5 15:30:48 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <43945BF3.5000705@midnightcircus.com>
References: <43942DD4.8030305@tamba2.org.uk>
	<43945BF3.5000705@midnightcircus.com>
Message-ID: <43945D2B.1000107@skippy.net>

Owen Winkler wrote:
> I have written an unreleased plugin for this.  I was planning on adding
> a few other security devices before I put it out there.  I was talking
> to Skippy about adding some Impostercide features, and was thinking
> about incorporating some checks of the user table to watch for
> unauthorized capabilities promotion, among other things.

What would constitute an unauthorized capabilities promotion?  That is
to say, how would your plugin know which promotions were authorized and
which weren't?  Will Armor monitor the entire user's table for
permissions, and "do something" when the state changes from one
comparison to the next?

> Other thoughts?

Should there be a record of security events stored in the database, so
that an admin can review recent activity from inside the blog?  I don't
know that it has much long-term value, but I know I generally despise
getting email from my blog.  A long-running attack on a blog might serve
as a DoS against the admin's email account, too.  Yuck.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From false.hopes at gmail.com  Mon Dec  5 15:34:56 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Dec  5 15:35:01 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <43945D2B.1000107@skippy.net>
References: <43942DD4.8030305@tamba2.org.uk>
	<43945BF3.5000705@midnightcircus.com> <43945D2B.1000107@skippy.net>
Message-ID: <a491f91d0512050734w3ba0803bn7f390f18840137e7@mail.gmail.com>

> Owen Winkler wrote:
> > I have written an unreleased plugin for this.  I was planning on adding
> > a few other security devices before I put it out there.  I was talking
> > to Skippy about adding some Impostercide features, and was thinking
> > about incorporating some checks of the user table to watch for
> > unauthorized capabilities promotion, among other things.
> > Other thoughts?
Matt Read has already beat you to the punch.
http://mattread.com/projects/wp-plugins/log-404/

--Robert Deaton
http://somethingunpredictable.com
From wordswithstyle at gmail.com  Mon Dec  5 15:39:32 2005
From: wordswithstyle at gmail.com (ifelse)
Date: Mon Dec  5 15:39:44 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <a491f91d0512050734w3ba0803bn7f390f18840137e7@mail.gmail.com>
References: <43942DD4.8030305@tamba2.org.uk>
	<43945BF3.5000705@midnightcircus.com> <43945D2B.1000107@skippy.net>
	<a491f91d0512050734w3ba0803bn7f390f18840137e7@mail.gmail.com>
Message-ID: <c3e037930512050739p3ecd6437s177381a8366cd048@mail.gmail.com>

> "Matt Read has already beat you to the punch."
Erm, no he hasn't. His plugin logs 404 errors only... what is being proposed
is a logging framework which would include the support for the logging and
management of security events.

On 12/5/05, Robert Deaton <false.hopes@gmail.com> wrote:
>
> > Owen Winkler wrote:
> > > I have written an unreleased plugin for this.  I was planning on
> adding
> > > a few other security devices before I put it out there.  I was talking
> > > to Skippy about adding some Impostercide features, and was thinking
> > > about incorporating some checks of the user table to watch for
> > > unauthorized capabilities promotion, among other things.
> > > Other thoughts?
> Matt Read has already beat you to the punch.
> http://mattread.com/projects/wp-plugins/log-404/
>
> --Robert Deaton
> http://somethingunpredictable.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>


--
Phu | http://ifelse.co.uk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051205/191ae337/attachment.htm
From ringmaster at midnightcircus.com  Mon Dec  5 15:47:45 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Dec  5 15:45:23 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <43945D2B.1000107@skippy.net>
References: <43942DD4.8030305@tamba2.org.uk>	<43945BF3.5000705@midnightcircus.com>
	<43945D2B.1000107@skippy.net>
Message-ID: <43946121.2090004@midnightcircus.com>

Scott Merrill wrote:
> What would constitute an unauthorized capabilities promotion?  That is
> to say, how would your plugin know which promotions were authorized and
> which weren't?  Will Armor monitor the entire user's table for
> permissions, and "do something" when the state changes from one
> comparison to the next?

That's pretty much exactly what I had in mind.  I was thinking of 
possibly limiting it to sensitive capabilities, like edit_users, but I'm 
not sure if it wouldn't be better just to watch for general changes and 
then alert the admin to them.

Perhaps it could even store a backup of permissions, and in the event of 
an unauthorized change, email the stored admin with a URL to reverse 
those changes.  I'm dreaming up features, here.

> Should there be a record of security events stored in the database, so
> that an admin can review recent activity from inside the blog?  I don't
> know that it has much long-term value, but I know I generally despise
> getting email from my blog.  A long-running attack on a blog might serve
> as a DoS against the admin's email account, too.  Yuck.

Yeah, I'm not crazy about emails either.  Actually, I hacked that into 
this plugin when I saw Podz's message.

A rolling log would be easy to keep for a preset number of days/events. 
  It would be simple enough to view, too.

A comprehensive logger would also allow you to specify IPs to blcok 
based on logged activities.  So if someone tried to hack a login or 
somehow succeeded in changing security credentials, an admin could click 
a button to block all further access (via a scripted 412, or maybe a 402 
;)  ) from that IP.  That could be part of the plugin, too, a 
general-purpose IP-blocker with progressive settings like time-delay, 
easy netblock selection, error code selection, etc.

Owen


From ringmaster at midnightcircus.com  Mon Dec  5 15:54:55 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Dec  5 15:52:32 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <c3e037930512050739p3ecd6437s177381a8366cd048@mail.gmail.com>
References: <43942DD4.8030305@tamba2.org.uk>	<43945BF3.5000705@midnightcircus.com>
	<43945D2B.1000107@skippy.net>	<a491f91d0512050734w3ba0803bn7f390f18840137e7@mail.gmail.com>
	<c3e037930512050739p3ecd6437s177381a8366cd048@mail.gmail.com>
Message-ID: <439462CF.5030108@midnightcircus.com>

ifelse wrote:
>>"Matt Read has already beat you to the punch."
> 
> Erm, no he hasn't. His plugin logs 404 errors only... what is being proposed
> is a logging framework which would include the support for the logging and
> management of security events.

Actually, you're both wrong!  :)

I didn't propose a logging framework, even though that sounds like a 
reasonable idea.  I'm initially hesitant about log4php, or any large 
library of error-dedicated logging, since it seems like a heavy thing to 
add that doesn't solve the initial problem of foul-looking errors.

Also, Matt Read's plugin logs 404 errors, which is very different from 
my previously attached plugin, which locks users out of the admin for 10 
minutes after three failed login attempts.

Owen



From wordswithstyle at gmail.com  Mon Dec  5 16:01:20 2005
From: wordswithstyle at gmail.com (ifelse)
Date: Mon Dec  5 16:01:33 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <43946121.2090004@midnightcircus.com>
References: <43942DD4.8030305@tamba2.org.uk>
	<43945BF3.5000705@midnightcircus.com> <43945D2B.1000107@skippy.net>
	<43946121.2090004@midnightcircus.com>
Message-ID: <c3e037930512050801k4ec1e761o8aab8b9e619fe83e@mail.gmail.com>

Following from this line of thought:
A brute force dictionary attack may be one of the possible lines of attack;
To prevent this and a (D)DOS, log all login attempts in an event table.

Now, before the display of the login screen, check if the number of
unsuccessful attempts in a given time unit exceeds some nominal figure (i.e.
> 100 attempts in a hour time window).

If this is the case, automatically set a 'red-button switch' (i.e. a value
in DB), send a single email to admin and send a http error code for all
subsequent login page requests (until this switch is manually unset/time
elapsed)?

Thoughts?

On 12/5/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
>
> Scott Merrill wrote:
> > What would constitute an unauthorized capabilities promotion?  That is
> > to say, how would your plugin know which promotions were authorized and
> > which weren't?  Will Armor monitor the entire user's table for
> > permissions, and "do something" when the state changes from one
> > comparison to the next?
>
> That's pretty much exactly what I had in mind.  I was thinking of
> possibly limiting it to sensitive capabilities, like edit_users, but I'm
> not sure if it wouldn't be better just to watch for general changes and
> then alert the admin to them.
>
> Perhaps it could even store a backup of permissions, and in the event of
> an unauthorized change, email the stored admin with a URL to reverse
> those changes.  I'm dreaming up features, here.
>
> > Should there be a record of security events stored in the database, so
> > that an admin can review recent activity from inside the blog?  I don't
> > know that it has much long-term value, but I know I generally despise
> > getting email from my blog.  A long-running attack on a blog might serve
> > as a DoS against the admin's email account, too.  Yuck.
>
> Yeah, I'm not crazy about emails either.  Actually, I hacked that into
> this plugin when I saw Podz's message.
>
> A rolling log would be easy to keep for a preset number of days/events.
>   It would be simple enough to view, too.
>
> A comprehensive logger would also allow you to specify IPs to blcok
> based on logged activities.  So if someone tried to hack a login or
> somehow succeeded in changing security credentials, an admin could click
> a button to block all further access (via a scripted 412, or maybe a 402
> ;)  ) from that IP.  That could be part of the plugin, too, a
> general-purpose IP-blocker with progressive settings like time-delay,
> easy netblock selection, error code selection, etc.
>
> Owen
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051205/338df1a0/attachment.htm
From wordswithstyle at gmail.com  Mon Dec  5 16:14:03 2005
From: wordswithstyle at gmail.com (ifelse)
Date: Mon Dec  5 16:14:08 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <c3e037930512050801k4ec1e761o8aab8b9e619fe83e@mail.gmail.com>
References: <43942DD4.8030305@tamba2.org.uk>
	<43945BF3.5000705@midnightcircus.com> <43945D2B.1000107@skippy.net>
	<43946121.2090004@midnightcircus.com>
	<c3e037930512050801k4ec1e761o8aab8b9e619fe83e@mail.gmail.com>
Message-ID: <c3e037930512050814l662709acm44a33bfb07a4cb3e@mail.gmail.com>

Actually, I'll take back what I said... lack of sleep is not good for the
thought processes:) Sorry guys.

On 12/5/05, ifelse <wordswithstyle@gmail.com> wrote:
>
> Following from this line of thought:
> A brute force dictionary attack may be one of the possible lines of
> attack; To prevent this and a (D)DOS, log all login attempts in an event
> table.
>
> Now, before the display of the login screen, check if the number of
> unsuccessful attempts in a given time unit exceeds some nominal figure (
> i.e. > 100 attempts in a hour time window).
>
> If this is the case, automatically set a 'red-button switch' (i.e. a value
> in DB), send a single email to admin and send a http error code for all
> subsequent login page requests (until this switch is manually unset/time
> elapsed)?
>
> Thoughts?
>
> On 12/5/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
> >
> > Scott Merrill wrote:
> > > What would constitute an unauthorized capabilities promotion?  That is
> > > to say, how would your plugin know which promotions were authorized
> > and
> > > which weren't?  Will Armor monitor the entire user's table for
> > > permissions, and "do something" when the state changes from one
> > > comparison to the next?
> >
> > That's pretty much exactly what I had in mind.  I was thinking of
> > possibly limiting it to sensitive capabilities, like edit_users, but I'm
> >
> > not sure if it wouldn't be better just to watch for general changes and
> > then alert the admin to them.
> >
> > Perhaps it could even store a backup of permissions, and in the event of
> > an unauthorized change, email the stored admin with a URL to reverse
> > those changes.  I'm dreaming up features, here.
> >
> > > Should there be a record of security events stored in the database, so
> > > that an admin can review recent activity from inside the blog?  I
> > don't
> > > know that it has much long-term value, but I know I generally despise
> > > getting email from my blog.  A long-running attack on a blog might
> > serve
> > > as a DoS against the admin's email account, too.  Yuck.
> >
> > Yeah, I'm not crazy about emails either.  Actually, I hacked that into
> > this plugin when I saw Podz's message.
> >
> > A rolling log would be easy to keep for a preset number of days/events.
> >   It would be simple enough to view, too.
> >
> > A comprehensive logger would also allow you to specify IPs to blcok
> > based on logged activities.  So if someone tried to hack a login or
> > somehow succeeded in changing security credentials, an admin could click
> > a button to block all further access (via a scripted 412, or maybe a 402
> >
> > ;)  ) from that IP.  That could be part of the plugin, too, a
> > general-purpose IP-blocker with progressive settings like time-delay,
> > easy netblock selection, error code selection, etc.
> >
> > Owen
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>


--
Phu | http://ifelse.co.uk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051205/ebda4cad/attachment-0001.htm
From podz at tamba2.org.uk  Mon Dec  5 17:27:31 2005
From: podz at tamba2.org.uk (Podz)
Date: Mon Dec  5 17:27:40 2005
Subject: [wp-hackers] Counting failed logins
In-Reply-To: <43942DD4.8030305@tamba2.org.uk>
References: <43942DD4.8030305@tamba2.org.uk>
Message-ID: <43947883.9010609@tamba2.org.uk>

Been thinking:

Some code is introduced that notifies a blog owner that someone is
battering their login file. They get that email.
They post to the forum "HELP IM BEING HACKED" or something similar.
There's nothing we can do is there ?

Change your password:
There is enough around about decent passwords and if they are using
"BillyBob" there's no guarantee that they'll use anything better is there ?

Backup your site:
It's possibly too late for that.

Talk to your host:
About what ?

So although I started this thread, thinking it through I cannot see a
resolution - so should the can of worms be opened ?

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051205/17eea2a5/signature.pgp
From mani.monajjemi at gmail.com  Tue Dec  6 12:48:04 2005
From: mani.monajjemi at gmail.com (Mani Monajjemi)
Date: Tue Dec  6 12:48:17 2005
Subject: [wp-hackers] How can we get Revision# from nightly packages?
Message-ID: <d4d3e29e0512060448g93d11c4hcaeb652f55c1b4a7@mail.gmail.com>

Dear Friends,

I can not use SVN for getting last changes , so I use nightly builds, But I
don't know how to find revision # from the package , any idea?

--
Mani Monajjemi
www.manionline.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051206/f989815c/attachment.htm
From if.website at gmail.com  Tue Dec  6 15:51:20 2005
From: if.website at gmail.com (Austin Matzko)
Date: Tue Dec  6 15:51:28 2005
Subject: [wp-hackers] How many use older WP versions?
Message-ID: <674b4a3b0512060751n500e707fo25674a9c4558fa40@mail.gmail.com>

Do we know how many sites use each of the older WordPress versions?  A
comment in the Classic theme's header asks that we leave intact the WP
version "for stats please."  Are those stats available?  It would be
helpful to know when creating plugins.
From lists at alexking.org  Tue Dec  6 17:48:43 2005
From: lists at alexking.org (Alex King)
Date: Tue Dec  6 17:48:57 2005
Subject: [wp-hackers] How many use older WP versions?
In-Reply-To: <674b4a3b0512060751n500e707fo25674a9c4558fa40@mail.gmail.com>
References: <674b4a3b0512060751n500e707fo25674a9c4558fa40@mail.gmail.com>
Message-ID: <4515DB2A-A06B-410A-BFF2-55C79BE0461F@alexking.org>

I think it would be a good idea for the request to "leave the version  
# for stats" to be removed, as well as removing the version # from  
the HTML output by WP by default. Showing this information makes  
versions with security vulnerabilities "easy pickins" for those who  
want to do damage.

I'd suggest adding a config option or a text file hidden pref for  
displaying this information or not (like PunBB and other web apps  
do), but we all know how Matt responded to my last such suggestion. ;)

Cheers,
--Alex

http://www.alexking.org/



On Dec 6, 2005, at 8:51 AM, Austin Matzko wrote:

> Do we know how many sites use each of the older WordPress versions?  A
> comment in the Classic theme's header asks that we leave intact the WP
> version "for stats please."  Are those stats available?  It would be
> helpful to know when creating plugins.
From skippy at skippy.net  Wed Dec  7 16:08:17 2005
From: skippy at skippy.net (Scott Merrill)
Date: Wed Dec  7 16:08:28 2005
Subject: [wp-hackers] obviated plugins
Message-ID: <439708F1.9090907@skippy.net>

I recall seeing a lot of comments in the past that cool (and
elegant/simple) plugins for WordPress 1.5 may get rolled into the core.
 Is there any list of which such plugins are obviated by the release of
WordPress 2.0?

I'm thinking specifically of Scott Yang's permalink redirect plugin.  Is
that a core feature?  What other plugins might I need to deactivate
because the provided functionality is now default functionality?

Thanks!
Scott

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From podz at tamba2.org.uk  Wed Dec  7 18:15:08 2005
From: podz at tamba2.org.uk (Podz)
Date: Wed Dec  7 18:15:18 2005
Subject: [wp-hackers] The Whois in comment emails
Message-ID: <439726AC.4040204@tamba2.org.uk>

What does it do now ?

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051207/f404ccf4/signature.pgp
From if.website at gmail.com  Wed Dec  7 18:23:52 2005
From: if.website at gmail.com (Austin Matzko)
Date: Wed Dec  7 18:24:04 2005
Subject: [wp-hackers] The Whois in comment emails
In-Reply-To: <439726AC.4040204@tamba2.org.uk>
References: <439726AC.4040204@tamba2.org.uk>
Message-ID: <674b4a3b0512071023g19e858f5g59bb769327cd671b@mail.gmail.com>

On 12/7/05, Podz <podz@tamba2.org.uk> wrote:
> What does it do now ?

This is the link I got for the latest build:
http://ws.arin.net/cgi-bin/whois.pl?queryinput=192.168.0.15

Isn't that what it's always done?
From podz at tamba2.org.uk  Wed Dec  7 20:18:25 2005
From: podz at tamba2.org.uk (Podz)
Date: Wed Dec  7 20:18:40 2005
Subject: [wp-hackers] The Whois in comment emails
In-Reply-To: <674b4a3b0512071023g19e858f5g59bb769327cd671b@mail.gmail.com>
References: <439726AC.4040204@tamba2.org.uk>
	<674b4a3b0512071023g19e858f5g59bb769327cd671b@mail.gmail.com>
Message-ID: <43974391.5080608@tamba2.org.uk>

Austin Matzko wrote:
> On 12/7/05, Podz <podz@tamba2.org.uk> wrote:
>> What does it do now ?
> 
> This is the link I got for the latest build:
> http://ws.arin.net/cgi-bin/whois.pl?queryinput=192.168.0.15
> 
> Isn't that what it's always done?

But what did it do ? I can't see what it's there for.
The 'author' line gives the IP and the provider. The anti-spam solutions
we have now would seem to do a better job of any Whois so if the
original intent was that it gave a blog owner more information then has
this not been superceded ? If someone is open about their info, then it
will be in the author line. If they are not then the Whois line adds
nothing either.
Just thinking out loud :)

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051207/b6534b72/signature.pgp
From mike at zed1.com  Wed Dec  7 21:36:38 2005
From: mike at zed1.com (Mike Little)
Date: Wed Dec  7 22:01:28 2005
Subject: [wp-hackers] The Whois in comment emails
In-Reply-To: <43974391.5080608@tamba2.org.uk>
References: <439726AC.4040204@tamba2.org.uk>
	<674b4a3b0512071023g19e858f5g59bb769327cd671b@mail.gmail.com>
	<43974391.5080608@tamba2.org.uk>
Message-ID: <7235ce780512071336v6968d78bx@mail.gmail.com>

On 07/12/05, Podz <podz@tamba2.org.uk> wrote:
> Austin Matzko wrote:
> > On 12/7/05, Podz <podz@tamba2.org.uk> wrote:
> >> What does it do now ?
> >
> > This is the link I got for the latest build:
> > http://ws.arin.net/cgi-bin/whois.pl?queryinput=192.168.0.15
> >
> > Isn't that what it's always done?
>
> But what did it do ? I can't see what it's there for.
> The 'author' line gives the IP and the provider. The anti-spam solutions
> we have now would seem to do a better job of any Whois so if the
> original intent was that it gave a blog owner more information then has
> this not been superceded ? If someone is open about their info, then it
> will be in the author line. If they are not then the Whois line adds
> nothing either.
> Just thinking out loud :)
>
> P.
>

I've generally found it most useful for getting directly to contact
details for someone's ISP if I need to fire off a compaint!

Also the ip address doesn't always resolve to anything useful.


Mike
--
Mike Little
http://zed1.com/journalized/
From if.website at gmail.com  Wed Dec  7 22:17:00 2005
From: if.website at gmail.com (Austin Matzko)
Date: Wed Dec  7 22:17:10 2005
Subject: [wp-hackers] The Whois in comment emails
In-Reply-To: <43974391.5080608@tamba2.org.uk>
References: <439726AC.4040204@tamba2.org.uk>
	<674b4a3b0512071023g19e858f5g59bb769327cd671b@mail.gmail.com>
	<43974391.5080608@tamba2.org.uk>
Message-ID: <674b4a3b0512071417l7108f6e6w590e11b12543e491@mail.gmail.com>

On 12/7/05, Podz <podz@tamba2.org.uk> wrote:
> But what did it do ? I can't see what it's there for.
> The 'author' line gives the IP and the provider. The anti-spam solutions
> we have now would seem to do a better job of any Whois so if the
> original intent was that it gave a blog owner more information then has
> this not been superceded ? If someone is open about their info, then it
> will be in the author line. If they are not then the Whois line adds
> nothing either.

I've always thought it was interesting to see what part of the world
people are in or what company they're working at; that info is usually
not in the provider info that's up near the commenter's name.
From wp at igeek.info  Wed Dec  7 22:41:47 2005
From: wp at igeek.info (Amit Gupta)
Date: Wed Dec  7 22:42:06 2005
Subject: [wp-hackers] The Whois in comment emails
References: <439726AC.4040204@tamba2.org.uk><674b4a3b0512071023g19e858f5g59bb769327cd671b@mail.gmail.com>
	<43974391.5080608@tamba2.org.uk>
Message-ID: <006801c5fb7f$6a2c1760$57ebd4cb@unicorn>

Podz <podz@tamba2.org.uk> wrote:
|  But what did it do ? I can't see what it's there for.
|  The 'author' line gives the IP and the provider. The anti-spam 
solutions
|  we have now would seem to do a better job of any Whois so if the
|  original intent was that it gave a blog owner more information then 
has
|  this not been superceded ? If someone is open about their info, then 
it
|  will be in the author line. If they are not then the Whois line adds
|  nothing either.
|  Just thinking out loud :)

I maybe wrong in interpreting what you mean but I think that you are 
trying
to say that it would be better to do away with display of IP of a 
comment
author, right? Well, I wouldn't support that, since that can be a fairly 
useful
bit of info for a blog admin despite the advancement of the current 
anti-spam
plugins for WordPress. One usefulness that I see is that if I see spam 
coming
repeatedly from one IP, then I just block that IP for sometime using my 
.htaccess
file, which in turn saves my precious bandwidth from being wasted, which
none of the current anti-spam tools does. Bad Behavior can come to that 
point
but still it requires WP to be loaded & processed, I think that blocking 
by
.htaccess is more effective than Bad Behavior, since the former method 
is
applied directly on the server & hence requires no script execution.

Just my thoughts!! :)

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051207/6c3a4f6d/attachment.htm
From davebytes at comcast.net  Thu Dec  8 06:10:55 2005
From: davebytes at comcast.net (David Chait)
Date: Thu Dec  8 06:11:05 2005
Subject: [wp-hackers] Need ideas/approaches to a tricky 'redirect' problem...
References: <439726AC.4040204@tamba2.org.uk><674b4a3b0512071023g19e858f5g59bb769327cd671b@mail.gmail.com>
	<43974391.5080608@tamba2.org.uk>
Message-ID: <000401c5fbbe$2679ed50$6e01a8c0@sixfour>

I'm looking for some advice on relocating (and 'splitting') CHAITGEAR from 
chait.net to chaitgear.com, and keeping/transferring pagerank of course!  My 
needs go well beyond any 'guide' or plugin I've seen, could use some advice. 
Figure I'll just point folks to the forum post I made, as it might be useful 
to others -- better to archive possible guidance there rather than here in 
the list. ;) ;)

Post is:
http://wordpress.org/support/topic/51439#post-282202

Any and all help would be much appreciated -- this is a BIG next step for 
me, TWO years after my initial launch, and is finally going to mean my 
shifting from a heavily-hacked 1.0a codebase to a (hopefully) mostly 
plugin-driven 1.5.x site.  And I can 'reclaim' chait.net for my 
coding/consulting work!  Yay! ;)

Thanks all!

-david 

From dougal at gunters.org  Thu Dec  8 16:37:26 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Thu Dec  8 16:37:54 2005
Subject: [wp-hackers] Need ideas/approaches to a tricky 'redirect'
	problem...
In-Reply-To: <000401c5fbbe$2679ed50$6e01a8c0@sixfour>
References: <439726AC.4040204@tamba2.org.uk><674b4a3b0512071023g19e858f5g59bb769327cd671b@mail.gmail.com>	<43974391.5080608@tamba2.org.uk>
	<000401c5fbbe$2679ed50$6e01a8c0@sixfour>
Message-ID: <43986146.9050307@gunters.org>

David Chait wrote:
> I'm looking for some advice on relocating (and 'splitting') CHAITGEAR from 
> chait.net to chaitgear.com, and keeping/transferring pagerank of course!  

I just posted a reply in the forums. Quick synopsis: Google respects 
"301 Moved Permanently" redirects (not "302 Temporary Redirect"). I also 
linked to the redirector code that I use on my site.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From r at schestowitz.com  Thu Dec  8 17:03:47 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Thu Dec  8 17:03:57 2005
Subject: [wp-hackers] Need ideas/approaches to a tricky 'redirect'
	problem...
In-Reply-To: <000401c5fbbe$2679ed50$6e01a8c0@sixfour>
References: <439726AC.4040204@tamba2.org.uk><674b4a3b0512071023g19e858f5g59bb769327cd671b@mail.gmail.com>
	<43974391.5080608@tamba2.org.uk>
	<000401c5fbbe$2679ed50$6e01a8c0@sixfour>
Message-ID: <20051208170347.8tiass36lhnosg0c@banana.catalyst2.com>

_____/ [David Chait] wrote : \_____
>> I'm looking for some advice on relocating (and 'splitting') CHAITGEAR
>> from
>> chait.net to chaitgear.com, and keeping/transferring pagerank of
>> course!  My
>> needs go well beyond any 'guide' or plugin I've seen, could use some
>> advice.
>> Figure I'll just point folks to the forum post I made, as it might be
>> useful
>> to others -- better to archive possible guidance there rather than
>> here in
>> the list. ;) ;)
>>
>> Post is:
>> http://wordpress.org/support/topic/51439#post-282202
>>
>> Any and all help would be much appreciated -- this is a BIG next step for
>> me, TWO years after my initial launch, and is finally going to mean my
>> shifting from a heavily-hacked 1.0a codebase to a (hopefully) mostly
>> plugin-driven 1.5.x site.  And I can 'reclaim' chait.net for my
>> coding/consulting work!  Yay! ;)
>>
>> Thanks all!
>>
>> -david

_____/ [Roy Schestowitz] wrote : \_____
> Hi David,
>
> This was probably intended to be a parent node (post) rather than a
> reply to
> Amit, but regardless:
>
> Use 301 re-directs as described below:
>
> http://www.checkupdown.com/status/E301.html
>
> You can make all posts/items in your old site send the appropriate HTTP
> header
> and 'throw' their PageRank at the new site. Use Apache's mod_rewrite if you
> want to re-direct users to corresponding pages in the new Web site.
>
> Reply to list if you prefer, but I /suspect/ it might be frowned upon by
> some
> subscribers.
>
> Roy

_____/ [David Chait] wrote : \_____
> People on the list frowning on postings?  Never! ;)


Okay, let's try...


> Actually, I'd think this a good topic given the growing number of 
> 'inadequate hosts', and that many folks start with free accounts then 
> want to migrate elsewhere.  But I'll just cobble it all together and 
> make a posting myself, so people can find it. :)


People ask these sorts of questions all the time (especially in the SEO
newsgroups) and the answer is almost the same:

-Use redirects if permitted

-If not, learn the lesson and never start a site on somebody else's turf.

You can never predict future growth. Even proper redirects typically incur the
loss of deep inbound links. On top of that, put broken bookmark links, not to
mention the loss of identity, the endless work on migration (think of sites
with >100,000 pages) and PageRank that is often leaked in the process.


> Yeah, I understand the (rudimentary) 301 stuff -- as that's what I 
> send back to referrer spammers in CG-Referrer, hoping that I'll catch 
> a few of them in their own trap.  In PHP there's certainly pretty 
> much an open book as to what I can do, but I 'suck' at 
> htaccess/mod_rewrite rules (admittedly!) and I think that is the 
> 'faster' redirect option for the most part.  I mean, I've got less 
> than a dozen articles I will likely keep on chait.net, so that's 
> probably one rule with a regex that hard-matches <12 "?p=ZZZ" post 
> IDs.


It's more fundamental than Web developer will have you believe. To
~/public_html/.htaccess, add the following:

RedirectMatch permanent ^/articles/page1 http://chaitgear.com/articles/page1

or

RedirectMatch permanent ^/index.php?p=11 http://chaitgear.com/index.php?p=11

If your site is sufficiently small, there is no need for anything too
sophisticated.


> But the trickiness of the mod_rewrites (and where I go bonkers) is 
> the complexity of the regex and the inclusion of not just a 301 
> redirect, but a 301 redirect to the NEW nice-URI format.  Now that I 
> think about it.. hmmm.


I notice that Dougal has just informed you of similar migration, from 
which you
can happily re-use.


> Will Google, et.al., follow TWO 301 redirects safely?  i.e., I do a 
> master htaccess redirect on chait.net to either chait.net/wp/?p=  or 
> chaitgear.com/?p=  (or whatever), BUT then on both I install one of 
> the "single URL only" plugins, which will do ANOTHER redirect, from 
> the p= format to the /archive/some-post-name format (which needs to 
> be php, as it has to look in the DB, or at the least in a local text 
> file -- a good optimization! -- for the proper post slug...).


I can vaguely recall something about Google disliking being bounced from place
to place. I think too many re-directions could get you penalised or simply
'nofollowed'. Dodgy sites tend(ed) to re-direct excessively.


> Did that make sense?  You know any good resources to 'dummies guide 
> to mod_rewrite'?  (All the master docs I've found got too complex too 
> quickly, and I need a really simple case or two here, it seems...)
>
> Or, maybe I just do it ALL in php, one shot, and be done with it... :) :)


Google has 871 pages of your site in cache. I think it's somewhat 
manageable for
per-item redirection. Parsing the .htaccess file would not be terrible 
either...
about 20KB? Temporarily at least.

Roy

From podz at tamba2.org.uk  Thu Dec  8 20:49:48 2005
From: podz at tamba2.org.uk (Podz)
Date: Thu Dec  8 20:50:06 2005
Subject: [wp-hackers] MT Import / 2.0
Message-ID: <43989C6C.4010901@tamba2.org.uk>

"In the WP 2.0 beta, under the import page, I only have the option of
importing from blogger, rss, or textpattern? Why isn't MT appearing
here? How do import from MT under 2.0?"

http://wordpress.org/support/topic/51543

I can see this being asked again a few times.

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051208/f9ef39e5/signature.pgp
From aaron at technosailor.com  Thu Dec  8 21:09:31 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Thu Dec  8 21:09:46 2005
Subject: [wp-hackers] MT Import / 2.0
In-Reply-To: <43989C6C.4010901@tamba2.org.uk>
References: <43989C6C.4010901@tamba2.org.uk>
Message-ID: <ca7320070512081309q6ba8bb1do59d3331b26e56981@mail.gmail.com>

I believe the import is being rewritten to use the 2.0 API.

On 12/8/05, Podz <podz@tamba2.org.uk> wrote:
>
> "In the WP 2.0 beta, under the import page, I only have the option of
> importing from blogger, rss, or textpattern? Why isn't MT appearing
> here? How do import from MT under 2.0?"
>
> http://wordpress.org/support/topic/51543
>
> I can see this being asked again a few times.
>
> P.
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
>


--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051208/d1983ac5/attachment.htm
From c at kouloumbris.com  Sat Dec 10 01:06:01 2005
From: c at kouloumbris.com (CK)
Date: Sat Dec 10 01:06:22 2005
Subject: [wp-hackers] the_time Vs the_date functions
Message-ID: <868C9A74-D1B7-4E7F-B6D0-F08D71A7BFA9@kouloumbris.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi guys,

I was just wondering if anyone knows why the following is happening  
on both my wp 1.5.2 and wp 2.0 beta installations.

If I use in my theme the following situations i get the following  
results.
This results happen everywhere but the single.php file.

	the_time(); of the_date();
in some posts i get not always i get a time but no date.
if i change it to the following
	the_time('G:i'); of the_time('l F jS Y');
it works in all the posts all the time.

I was wondering why is this?

- --
Regards,
     CK (Constantinos Kouloumbris)
GPG: 0x2502604D
http://kouloumbris.com

"A bus station is where a bus stops. A train station is where a train  
stops. On my desk, I have a workstation?go figure."
~ Steven Wright ~



-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (Darwin)

iD8DBQFDmioAB74iDCUCYE0RAtWoAJoDcppK/1EtGDd+qHXSnPDrz3k0VgCbBE+j
N8O8W2TLS0B3vDnkkvNF014=
=v+ud
-----END PGP SIGNATURE-----
From kaf at szub.net  Sat Dec 10 01:53:14 2005
From: kaf at szub.net (Kaf Oseo)
Date: Sat Dec 10 01:53:22 2005
Subject: [wp-hackers] the_time Vs the_date functions
In-Reply-To: <43989C6C.4010901@tamba2.org.uk>
References: <43989C6C.4010901@tamba2.org.uk>
Message-ID: <439A350A.6080908@szub.net>

CK wrote:
 >     the_time(); of the_date();
 > in some posts i get not always i get a time but no date.
 > if i change it to the following
 >     the_time('G:i'); of the_time('l F jS Y');
 > it works in all the posts all the time.

http://codex.wordpress.org/Template_Tags/the_date

 From Description:

"When there are multiple posts published on the same date on a page,
the tag will only display the date the first time it's called."

-Kaf
From c at kouloumbris.com  Sat Dec 10 02:20:42 2005
From: c at kouloumbris.com (CK)
Date: Sat Dec 10 02:20:54 2005
Subject: [wp-hackers] the_time Vs the_date functions
In-Reply-To: <439A350A.6080908@szub.net>
References: <43989C6C.4010901@tamba2.org.uk> <439A350A.6080908@szub.net>
Message-ID: <69140F4C-34A8-4B54-B051-F39D597BF437@kouloumbris.com>

> http://codex.wordpress.org/Template_Tags/the_date
>
> From Description:
>
> "When there are multiple posts published on the same date on a page,
> the tag will only display the date the first time it's called."
>
> -Kaf

Now I feel stupid :( Thanks for the response Kaf.

--
Regards,
     CK (Constantinos Kouloumbris)
GPG: 0x2502604D
http://kouloumbris.com

"A bus station is where a bus stops. A train station is where a train  
stops. On my desk, I have a workstation?go figure."
~ Steven Wright ~



From mani.monajjemi at gmail.com  Sat Dec 10 10:42:11 2005
From: mani.monajjemi at gmail.com (Mani Monajjemi)
Date: Sat Dec 10 10:42:19 2005
Subject: [wp-hackers] "Empty Space" for TinyMCE which FireFox accept
Message-ID: <d4d3e29e0512100242i36a6b9efh15a12322205ec83b@mail.gmail.com>

I am working on a plugin and need to add a <p dir="rtl">[empty space]</p> as
TinyMCE default text to start new post/page, Andy submitted a patch here
http://trac.wordpress.org/ticket/2047 for filter_hook but I faced to a
problem with FireFox, and I am not sure wheter it is a FF bug or my PHP
mistake,

for [empty space] I tested so many strings

   - <p dir="rtl"> </p>
   - <p dir="rtl">utf8_encode(html_entity('&nbsp'))</p>
   - <p dir="rtl">utf8_encode(chr(32))</p>
   - <p dir="rtl">utf8_encode(chr(160))</p>

I removed <?= ?>

Expect the second one(which caused some warnings) the other three worked in
Internet Explorer 6, I mean IE6 accepts <p dir="rtl"> </p> with an emty
space between and turned on RTL button(http://trac.wordpress.org/ticket/1967)
and starts typing right after <p dir="rtl">. But in FireFox , It starts
typing after </p> just because it removes the emty space between <p
dir="rtl"></p>, I can not understand where the bug comes from , FF, My PHP
code or TinyMCE ...

Two days ago we found this bug too , maybe it would help
http://trac.wordpress.org/ticket/2037

I would appreciate helps

--
Mani Monajjemi
www.manionline.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051210/6d8318fb/attachment.htm
From podz at tamba2.org.uk  Sun Dec 11 16:20:26 2005
From: podz at tamba2.org.uk (Podz)
Date: Sun Dec 11 16:21:59 2005
Subject: [wp-hackers] Trackbacks
Message-ID: <439C51CA.2080905@tamba2.org.uk>

http://wordpress.org/support/topic/51794

"When writing a new post, right above the box for inserting trackback
URIs it says:

Separate multiple URIs with spaces.

But when I look at the help page
(http://wordpress.org/docs/reference/post/#trackback), it says:

Trackback an URL
This sends trackback pings to the URLs you specify in this field. You
can trackback multiple URLs by separating them with commas. Whitespace
between things is insignificant. For more information about Trackbacks
see Trackback explained. (Which doesn't exist yet.)

I got to the above link from the bookmarklet help link. Is the
information in the above link outdated? Which is the correct way to
insert multiple trackback URIs? "

So I went and tested.
From my Testblog - which is running svn if it matters:

Trackback 2 urls on my blog. Same urls each time.
If the tb's are comma separated, none get sent.
If they are space separated, one gets sent - the last one.

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051211/34bf7b9b/signature.pgp
From nbachiyski at developer.bg  Mon Dec 12 20:41:58 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Mon Dec 12 20:42:08 2005
Subject: [wp-hackers] internationalization of javascripts
Message-ID: <439DE096.3030801@developer.bg>

Since javascript files are plain text their internatinalization is 
harder. Is it possible that all .js files are converted to .php ones?

I have made a sample patch for wp-admin/list-manipulation.js, converted 
to wp-admin/list-manipulation.js.php [].

There are, of course some issues, especially concerning the caching of 
those files. I, myself, have not much experience with HTTP's cache 
directives, but if somebody is proficient in this area, why not put all 
javascripts, to some extent, under conrtrol?

If you all agree, I volunteer to convert all the files needed 
(fortunately for TinyMCE, these are only the lang files :) ).

Happy happy,
Nikolay
From nbachiyski at developer.bg  Mon Dec 12 20:43:06 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Mon Dec 12 20:43:02 2005
Subject: [wp-hackers] internationalization of javascripts
In-Reply-To: <439DE096.3030801@developer.bg>
References: <439DE096.3030801@developer.bg>
Message-ID: <439DE0DA.2070009@developer.bg>

Nikolay Bachiyski wrote:
> Since javascript files are plain text their internatinalization is 
> harder. Is it possible that all .js files are converted to .php ones?
> 
> I have made a sample patch for wp-admin/list-manipulation.js, converted 
> to wp-admin/list-manipulation.js.php [].

The missing link is: http://trac.wordpress.org/ticket/2070

> 
> There are, of course some issues, especially concerning the caching of 
> those files. I, myself, have not much experience with HTTP's cache 
> directives, but if somebody is proficient in this area, why not put all 
> javascripts, to some extent, under conrtrol?
> 
> If you all agree, I volunteer to convert all the files needed 
> (fortunately for TinyMCE, these are only the lang files :) ).
> 
> Happy happy,
> Nikolay

From peter.westwood at ftwr.co.uk  Mon Dec 12 22:11:08 2005
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon Dec 12 22:11:21 2005
Subject: [wp-hackers] internationalization of javascripts
In-Reply-To: <439DE0DA.2070009@developer.bg>
References: <439DE096.3030801@developer.bg> <439DE0DA.2070009@developer.bg>
Message-ID: <439DF57C.6080505@ftwr.co.uk>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Nikolay Bachiyski wrote:
> Nikolay Bachiyski wrote:
>> Since javascript files are plain text their internatinalization is
>> harder. Is it possible that all .js files are converted to .php ones?
>>
>> I have made a sample patch for wp-admin/list-manipulation.js,
>> converted to wp-admin/list-manipulation.js.php [].
> 
> The missing link is: http://trac.wordpress.org/ticket/2070
> 
>>
>> There are, of course some issues, especially concerning the caching of
>> those files. I, myself, have not much experience with HTTP's cache
>> directives, but if somebody is proficient in this area, why not put
>> all javascripts, to some extent, under conrtrol?
>>
>> If you all agree, I volunteer to convert all the files needed
>> (fortunately for TinyMCE, these are only the lang files :) ).

I believe some if not all of these functions actual accept the text you
wish to translate as arguments and so we should be able to do the
translation in existing php files and leave the javascript ones as
javascript.

For example:

function deleteSomething( what, id, message ) {
 	what.replace('-', ' ');
- -	if (!message) message = 'Are you sure you want to delete this ' + what
+ '?';
+	if (!message) message = '<?php echo addslashes(__('Are you sure you
want to delete this')); ?>' + ' ' + what + '?';

deleteSomething is always called with a translatable string passed in as
message.

cheers

westi
- --
Peter Westwood
http://blog.ftwr.co.uk
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFDnfV8VPRdzag0AcURAsaYAJ45xTfy4tpAS9Q8zLg/xFydLodHKQCfT7IV
W3nNUgK3yym5R8DLD+a1mXI=
=CqHV
-----END PGP SIGNATURE-----

From pp at myelin.co.nz  Tue Dec 13 01:39:55 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Tue Dec 13 01:40:12 2005
Subject: [wp-hackers] Structured Blogging - getting extra plugin hooks
 inserted in the WP code
Message-ID: <439E266B.5050305@myelin.co.nz>

Hi all,

I'm Phil from Broadband Mechanics.  We've recently been working on 
updating PubSub's Structured Blogging plugin to publish more content 
types and support open standards - microformats, media RSS, etc.

The SB plugin adds in a bunch of new items into the "Write" menu:

    Review
    Event
    List
    Audio
    Video
    People Showcase
    Group Showcase
    Other Microcontent

Other Microcontent takes you to a full list of supported microcontent, 
Review, Event and List take you to a further menu to select what type of 
review/event/list you want to publish, and the others take you directly 
to edit forms.

The reason I'm writing here is that to change the editing interface this 
extensively, we had to step outside the plugin API.  We've copied 
post.php to sb-post-common.php and edit-form.php to sb-edit-form.php, 
made our changes in there, and used them when publishing the new post 
types.  This isn't much fun, as it means we need to track post.php and 
edit-form.php and release a new version whenever anything important happens.

That said, I checked out a copy of Wordpress from Subversion last night, 
installed the current plugin code, and it worked fine, so it's not 
*that* incompatible, but we would be *much* happier using the plugin API.

I've been over the code and I think what we'd need is:

- the ability to change where post.php redirects to after a post is 
published.

- do_action() calls before and after the edit form (or maybe just the 
'description' field) is displayed - so we could use ob_start() and 
ob_end_clean() to cut out the edit form and display our own form in its 
place.

- the ability to change the 'Write Post' heading into something else.

If we submit a patch to add plugin API hooks to do these things, is 
there a chance of having it considered for WP1.6?

Cheers,
Phil :-)

From jeff at jrm.cc  Tue Dec 13 02:00:50 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Tue Dec 13 02:01:04 2005
Subject: [wp-hackers] Structured Blogging - getting extra plugin hooks
	inserted in the WP code
In-Reply-To: <439E266B.5050305@myelin.co.nz>
References: <439E266B.5050305@myelin.co.nz>
Message-ID: <439E2B52.5050503@jrm.cc>

Phillip Pearson wrote:
> - the ability to change where post.php redirects to after a post is 
> published.
> - do_action() calls before and after the edit form (or maybe just the 
> 'description' field) is displayed  
> - the ability to change the 'Write Post' heading into something else.

Main point...

> The reason I'm writing here is that to change the editing interface this 
> extensively, we had to step outside the plugin API. 

This is not entirely true. I made a plugin that does a *lot* of what SB 
does while working on a project for my job.

I, too, need to change H2's and other elements on the page 
significantly, and I didn't want to duplicate the page in code (for the 
same reasons you cited.)

What I ended up doing broke down to using JavaScript to heavily modify 
the look and feel of the post page -- including, at points, removing or 
adding new form elements.

I know, not every one has JS, but if we put aside that single digit 
percentage (who probably DONT run blogs, let along Structured Blogs) 
this is actually a really nice solution. Utilizing things like 
cssQuery[1] and some handy hooks in the admin_head allows you to get 
styles ready, and then at the post_editing (wrong name) hook you can 
insert the appropriate JS and BAM! it's good to go.

If this (JS) really doesn't appeal to you that's cool. I don't know that 
2.0(1.6) would get these changes, but plugin hooks certainly aren't too 
much to ask of 2.1 (2.0.1?)

Jeff Minard


[1] http://dean.edwards.name/my/cssQuery/
From ringmaster at midnightcircus.com  Tue Dec 13 02:02:18 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Dec 13 02:02:41 2005
Subject: [wp-hackers] Structured Blogging - getting extra plugin hooks
	inserted in the WP code
In-Reply-To: <439E266B.5050305@myelin.co.nz>
References: <439E266B.5050305@myelin.co.nz>
Message-ID: <439E2BAA.4060404@midnightcircus.com>

Phillip Pearson wrote:
> The reason I'm writing here is that to change the editing interface this 
> extensively, we had to step outside the plugin API.  We've copied 
> post.php to sb-post-common.php and edit-form.php to sb-edit-form.php, 
> made our changes in there, and used them when publishing the new post 
> types.  This isn't much fun, as it means we need to track post.php and 
> edit-form.php and release a new version whenever anything important 
> happens.

Most of the hooks you have requested can be accomplished using output 
buffering from the admin_head hook or DOM scripting from the 
admin_footer hook.

You can probably sink publish_post and/or save_post to redirect to where 
you want after a post is saved.

One place that's troublesome to script into is the DBX boxes on the 
Write page, since DBX modifies them before a newly added DOM 
addLoadEvent function can shift new things into that div.  An additional 
hook in that area would be useful for simplifying adding things into 
that area, and might also be useful for containing your specialized form 
fields.

Owen
From steve at somejunkwelike.com  Tue Dec 13 02:05:18 2005
From: steve at somejunkwelike.com (steve cooley)
Date: Tue Dec 13 02:05:32 2005
Subject: [wp-hackers] Structured Blogging - getting extra plugin hooks
	inserted in the WP code
In-Reply-To: <439E266B.5050305@myelin.co.nz>
References: <439E266B.5050305@myelin.co.nz>
Message-ID: <0A411C5C-63F6-4C5D-A813-8065A3995B1E@somejunkwelike.com>

I think i could benefit for this kind of functionality.  I want to  
build a fine art announcement and patron management plugin.  I can  
see 90% of what I want to do in wordpress (specifically announcing  
new artwork availability via posts, tagging genre and media types by  
categories, RSS, art venues as subscriber level members), and I'm  
looking at similar issues.  I'd like to be able to enter in meta data  
like number of prints in an edition, media size, links to additional  
photos...  all structured kinds of posts, same meta data every time.   
It seems like the easiest way is to create a custom post.php file  
that would let me enter in these custom fields, but then I run into  
the same problems.

so, to put it shortly: "Me too, please"

-Steve

On Dec 12, 2005, at 5:39 PM, Phillip Pearson wrote:

> Hi all,
>
>
> The reason I'm writing here is that to change the editing interface  
> this extensively, we had to step outside the plugin API.  We've  
> copied post.php to sb-post-common.php and edit-form.php to sb-edit- 
> form.php, made our changes in there, and used them when publishing  
> the new post types.  This isn't much fun, as it means we need to  
> track post.php and edit-form.php and release a new version whenever  
> anything important happens.

...

>
> I've been over the code and I think what we'd need is:
>
> - the ability to change where post.php redirects to after a post is  
> published.
>
> - do_action() calls before and after the edit form (or maybe just  
> the 'description' field) is displayed - so we could use ob_start()  
> and ob_end_clean() to cut out the edit form and display our own  
> form in its place.
>
> - the ability to change the 'Write Post' heading into something else.
>
> If we submit a patch to add plugin API hooks to do these things, is  
> there a chance of having it considered for WP1.6?
>
> Cheers,
> Phil :-)
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From denis at semiologic.com  Tue Dec 13 02:10:48 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Tue Dec 13 02:14:52 2005
Subject: [wp-hackers] Structured Blogging - getting extra plugin
	hooksinserted in the WP code
In-Reply-To: <0A411C5C-63F6-4C5D-A813-8065A3995B1E@somejunkwelike.com>
Message-ID: <001d01c5ff8a$708548c0$9402a8c0@kergan>

> so, to put it shortly: "Me too, please"

+1

D.

From pp at myelin.co.nz  Tue Dec 13 02:52:51 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Tue Dec 13 02:53:08 2005
Subject: [wp-hackers] Structured Blogging - getting extra plugin hooks
	inserted in the WP code
In-Reply-To: <0A411C5C-63F6-4C5D-A813-8065A3995B1E@somejunkwelike.com>
References: <439E266B.5050305@myelin.co.nz>
	<0A411C5C-63F6-4C5D-A813-8065A3995B1E@somejunkwelike.com>
Message-ID: <439E3783.8060700@myelin.co.nz>

Steve,

The aforementioned Structured Blogging plugin is perhaps all you need to 
achieve what you're planning... it's relatively easy to define new 
microcontent types, so you could define an "artwork" type which includes 
the fields you want, then let our plugin handle the editing and display.

Bob Wyman of PubSub mentioned a very similar use case a month or two 
back: creating an 'artwork' microcontent type, giving that to artists, 
then aggregating all artwork posts published.  He'd presumably use 
pubsub.com to do the aggregation.

Take a look at the plugin - there's a preliminary version available here 
(or you can wait for 1.0pre8, coming Tuesday morning USA time):

    http://structuredblogging.org/structuredblogging-wp-1.0pre7.zip

Look in the wpsb-files/microcontent/descriptions directory.  Start by 
copying something like review-cafe.xml as artwork.xml, then change the 
fields by editing the <field .../> elements.  There are some docs up at 
structuredblogging.org - click on 'resources' on the top menu.

Cheers,
Phil :)

steve cooley wrote:

> I think i could benefit for this kind of functionality.  I want to  
> build a fine art announcement and patron management plugin.  I can  
> see 90% of what I want to do in wordpress (specifically announcing  
> new artwork availability via posts, tagging genre and media types by  
> categories, RSS, art venues as subscriber level members), and I'm  
> looking at similar issues.  I'd like to be able to enter in meta data  
> like number of prints in an edition, media size, links to additional  
> photos...  all structured kinds of posts, same meta data every time.   
> It seems like the easiest way is to create a custom post.php file  
> that would let me enter in these custom fields, but then I run into  
> the same problems.
>
> so, to put it shortly: "Me too, please"
>
> -Steve
>
> On Dec 12, 2005, at 5:39 PM, Phillip Pearson wrote:
>
>> Hi all,
>>
>>
>> The reason I'm writing here is that to change the editing interface  
>> this extensively, we had to step outside the plugin API.  We've  
>> copied post.php to sb-post-common.php and edit-form.php to sb-edit- 
>> form.php, made our changes in there, and used them when publishing  
>> the new post types.  This isn't much fun, as it means we need to  
>> track post.php and edit-form.php and release a new version whenever  
>> anything important happens.
>
>
> ...
>
>>
>> I've been over the code and I think what we'd need is:
>>
>> - the ability to change where post.php redirects to after a post is  
>> published.
>>
>> - do_action() calls before and after the edit form (or maybe just  
>> the 'description' field) is displayed - so we could use ob_start()  
>> and ob_end_clean() to cut out the edit form and display our own  form 
>> in its place.
>>
>> - the ability to change the 'Write Post' heading into something else.
>>
>> If we submit a patch to add plugin API hooks to do these things, is  
>> there a chance of having it considered for WP1.6?
>>
>> Cheers,
>> Phil :-)
>

From ryan at boren.nu  Tue Dec 13 04:11:22 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Dec 13 04:11:37 2005
Subject: [wp-hackers] Post Sharing/Privacy
Message-ID: <1134447082.7162.20.camel@portnoy.fuzzybelly.org>

As an example of how the Role/Cap system can be used to restrict who can
view a post, I created the attached test plugin.

Basically, you can define a relationship between yourself and another
user and then tag your posts as being viewable by friends, family, or
anyone.  A post tagged for "Friends" is viewable by those you have
designated as friends.

Relationships are saved in the usermeta table under a 'relationships'
key.  Relationships can be XFN keywords or any old string.

Those relationships that are allowed to view a particular post are
stored in a _share_with key in the postmeta table.

When deciding if the current user can view a post, we retrieve the
post's '_share_with' and the post author's 'relationships'.  If any of
the keywords in '_share_with' are present in the 'relationships' between
the post author and the current user, the current user can view the
post.

There is currently no UI for manipulating _share_with and relationships.
This plugin is just a developer's demo.  Feel free to take it and make
it useful.  There are some comments in the plugin concerning how it
could be built out further.

Ryan




-------------- next part --------------
A non-text attachment was scrubbed...
Name: post_sharing.php
Type: application/x-php
Size: 2533 bytes
Desc: not available
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051213/23cd7803/post_sharing.bin
From podz at tamba2.org.uk  Tue Dec 13 09:59:25 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Dec 13 09:59:52 2005
Subject: [wp-hackers] Trackbacks
In-Reply-To: <439C51CA.2080905@tamba2.org.uk>
References: <439C51CA.2080905@tamba2.org.uk>
Message-ID: <439E9B7D.2030805@tamba2.org.uk>

Podz wrote:
> 
> Trackback 2 urls on my blog. Same urls each time.
> If the tb's are comma separated, none get sent.
> If they are space separated, one gets sent - the last one.
> 

Can anyone confirm / not confirm this ?

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051213/64f4841d/signature.pgp
From m at mullenweg.com  Tue Dec 13 11:38:44 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Dec 13 11:39:02 2005
Subject: [wp-hackers] Structured Blogging - getting extra plugin hooks
	inserted in the WP code
In-Reply-To: <439E266B.5050305@myelin.co.nz>
References: <439E266B.5050305@myelin.co.nz>
Message-ID: <439EB2C4.1040306@mullenweg.com>

Phillip Pearson wrote:
> The reason I'm writing here is that to change the editing interface this 
> extensively, we had to step outside the plugin API.  We've copied 
> post.php to sb-post-common.php and edit-form.php to sb-edit-form.php, 
> made our changes in there, and used them when publishing the new post 
> types.  This isn't much fun, as it means we need to track post.php and 
> edit-form.php and release a new version whenever anything important 
> happens.

First off, instead of having directories and files all over the place 
the best practice is to have everything within a directory in the 
plugins folder. See plugins like Spam Karma or Bad Behavior for how this 
is done. Until you do that I wouldn't even call what you're doing a 
"plugin."

> If we submit a patch to add plugin API hooks to do these things, is 
> there a chance of having it considered for WP1.6?

Definitely the redirect part, the rest seem like they could be done with 
output buffering or DOM manipulation.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From pp at myelin.co.nz  Tue Dec 13 12:04:20 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Tue Dec 13 12:04:39 2005
Subject: [wp-hackers] Structured Blogging - getting extra plugin hooks
	inserted in the WP code
In-Reply-To: <439EB2C4.1040306@mullenweg.com>
References: <439E266B.5050305@myelin.co.nz> <439EB2C4.1040306@mullenweg.com>
Message-ID: <439EB8C4.7020907@myelin.co.nz>

Matt Mullenweg wrote:

> Phillip Pearson wrote:
>
>> The reason I'm writing here is that to change the editing interface 
>> this extensively, we had to step outside the plugin API.  We've 
>> copied post.php to sb-post-common.php and edit-form.php to 
>> sb-edit-form.php, made our changes in there, and used them when 
>> publishing the new post types.  This isn't much fun, as it means we 
>> need to track post.php and edit-form.php and release a new version 
>> whenever anything important happens.
>
> First off, instead of having directories and files all over the place 
> the best practice is to have everything within a directory in the 
> plugins folder. See plugins like Spam Karma or Bad Behavior for how 
> this is done. Until you do that I wouldn't even call what you're doing 
> a "plugin."

Sounds like a sensible thing to do.

After that, how would we be looking in terms of qualifying as a plugin?  :-)

>> If we submit a patch to add plugin API hooks to do these things, is 
>> there a chance of having it considered for WP1.6?
>
> Definitely the redirect part, the rest seem like they could be done 
> with output buffering or DOM manipulation.

Cool.  Will see about doing that...

Cheers,
Phil
From ringmaster at midnightcircus.com  Tue Dec 13 14:54:07 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Dec 13 14:50:39 2005
Subject: [wp-hackers] Trackbacks
In-Reply-To: <439E9B7D.2030805@tamba2.org.uk>
References: <439C51CA.2080905@tamba2.org.uk> <439E9B7D.2030805@tamba2.org.uk>
Message-ID: <439EE08F.7060208@midnightcircus.com>

Podz wrote:
> Podz wrote:
> 
>>Trackback 2 urls on my blog. Same urls each time.
>>If the tb's are comma separated, none get sent.
>>If they are space separated, one gets sent - the last one.
>>
> 
> Can anyone confirm / not confirm this ?

I created a new post on my localhost WP 2.0.  I added two trackbacks 
with a space between them.  One to RedAlt and one to Asymptomatic.  Both 
trackbacks were received.

I did not try commas, but I wouldn't expect that to work, given the 
instructions on the page.  The knowledge I have about how trackbacks are 
processed says that using a comma and not a space would cause the urls 
to be concatenated into a single invalid url:

http://redalt.com/ping,http://asymptomatic.net/?p=21

Using a comma and a space would put a comma at the end of the first url, 
and that would probably cause it to fail, since the comma is not 
recognized as part of a valid url by the receiving server.

Anyway, those are my results.

Owen

From r at schestowitz.com  Tue Dec 13 18:08:54 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue Dec 13 18:09:03 2005
Subject: [wp-hackers] Trackbacks
In-Reply-To: <439EE08F.7060208@midnightcircus.com>
References: <439C51CA.2080905@tamba2.org.uk>
	<439E9B7D.2030805@tamba2.org.uk> <439EE08F.7060208@midnightcircus.com>
Message-ID: <20051213180854.g9zmnzt0pfs404co@banana.catalyst2.com>

_____/ On Tue 13 Dec 2005 14:54:07 GMT, [Owen Winkler] wrote : \_____

> Podz wrote:
>> Podz wrote:
>>
>>> Trackback 2 urls on my blog. Same urls each time.
>>> If the tb's are comma separated, none get sent.
>>> If they are space separated, one gets sent - the last one.
>>>
>>
>> Can anyone confirm / not confirm this ?
>
> I created a new post on my localhost WP 2.0.  I added two trackbacks 
> with a space between them.  One to RedAlt and one to Asymptomatic.  
> Both trackbacks were received.
>
> I did not try commas, but I wouldn't expect that to work, given the 
> instructions on the page.  The knowledge I have about how trackbacks 
> are processed says that using a comma and not a space would cause the 
> urls to be concatenated into a single invalid url:
>
> http://redalt.com/ping,http://asymptomatic.net/?p=21
>
> Using a comma and a space would put a comma at the end of the first 
> url, and that would probably cause it to fail, since the comma is not 
> recognized as part of a valid url by the receiving server.
>
> Anyway, those are my results.
>
> Owen

* Using WP 1.5.2 to compose.

* Posting a dummy item with trackbacks sent to two separate domains running WP
1.2.1

* First test:

   trackback field contains [URL1] [URL2]
   both trackbacks received at both ends

* Second test:

   trackback field contains [URL1], [URL2]
   only second trackback is received

Hope it helps,

Roy

From podz at tamba2.org.uk  Tue Dec 13 18:55:55 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Dec 13 18:56:13 2005
Subject: [wp-hackers] Trackbacks
In-Reply-To: <20051213180854.g9zmnzt0pfs404co@banana.catalyst2.com>
References: <439C51CA.2080905@tamba2.org.uk>	<439E9B7D.2030805@tamba2.org.uk>
	<439EE08F.7060208@midnightcircus.com>
	<20051213180854.g9zmnzt0pfs404co@banana.catalyst2.com>
Message-ID: <439F193B.1070307@tamba2.org.uk>


Roy Schestowitz wrote:
>> Owen

Thanks guys - the answer will come in useful on the forums I'm sure.

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051213/a3fb74bd/signature.pgp
From dmhouse at gmail.com  Tue Dec 13 19:10:24 2005
From: dmhouse at gmail.com (David House)
Date: Tue Dec 13 19:10:37 2005
Subject: [wp-hackers] Structured Blogging - getting extra plugin hooks
	inserted in the WP code
In-Reply-To: <439E266B.5050305@myelin.co.nz>
References: <439E266B.5050305@myelin.co.nz>
Message-ID: <ebe43d680512131110r23677der@mail.gmail.com>

On 13/12/05, Phillip Pearson <pp@myelin.co.nz> wrote:
> I've been over the code and I think what we'd need is:

I may be wrong, but I don't think anyone else has pointed this out so
far. Submit a bug containing patches for your required actions. They
are almost never turned down.

http://trac.wordpress.org is our bug tracker. Be sure to sign up at
http://wordpress.org/support if you don't already have an account for
trac (the support forums and trac use a single sign on system).

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From mani.monajjemi at gmail.com  Tue Dec 13 19:37:00 2005
From: mani.monajjemi at gmail.com (Mani Monajjemi)
Date: Tue Dec 13 19:37:17 2005
Subject: [wp-hackers] 
	TinyMCE become disabled with no reason after some time, 
Message-ID: <d4d3e29e0512131137y85fc448x40cdce8b9043182@mail.gmail.com>

I've just updated to rev 3303 and faced to a problem, TinyMCE didn't work on
updated local test, and classic edit form was showed instead, I installed a
fresh copy on localhost (rev 3303) and it looked like the problem was
resolved, but I found out none of my plugin function(under test) works on
tinymce, I found out that tinymce init part were moved from
admin-header.phpto tiny_mce_gzip.php. After a while the problem came
back , I deleted the
.cache folder and after that TinyMCE disappeared again!

Any Idea? a bug?

I am using PHP 4.4.0/Apache 2/Windows XP

--
Mani Monajjemi
www.manionline.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051213/51f3baac/attachment.htm
From skippy at skippy.net  Wed Dec 14 01:47:27 2005
From: skippy at skippy.net (Scott Merrill)
Date: Wed Dec 14 01:47:41 2005
Subject: [wp-hackers] 1447
Message-ID: <439F79AF.1040807@skippy.net>

I discovered that ticket 1447 is still valid in the current SVN
snapshots.  I'm not having much success following through the menu code,
so I'd really appreciate it if someone could cook up a quick patch for
that.  Plugin authors will write epic poems about you for years to come!

Cheers,
Scott

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From jjb at ibiblio.org  Wed Dec 14 05:00:21 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Wed Dec 14 05:00:39 2005
Subject: [wp-hackers] users vs. usermeta
Message-ID: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>

Greetings,

What is the philosophy behind which data types are hardcoded into the 
`users` table, and which go into the `usermeta` table? It seems like 
everything that is always used in WordPress (at least `wp_user_level` and 
`wp_capabilities`, and perhaps also the other options which are initially 
blank, such as the various IM usernames) can/should go into the users 
table, and the usermeta table can be available for plugins.

John
-- 
http://lyceum.ibiblio.org
From dmhouse at gmail.com  Wed Dec 14 08:45:29 2005
From: dmhouse at gmail.com (David House)
Date: Wed Dec 14 08:45:42 2005
Subject: [wp-hackers] users vs. usermeta
In-Reply-To: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>
References: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>
Message-ID: <ebe43d680512140045g481d7aa5h@mail.gmail.com>

On 14/12/05, John Joseph Bachir <jjb@ibiblio.org> wrote:
> What is the philosophy behind which data types are hardcoded into the
> `users` table, and which go into the `usermeta` table? It seems like
> everything that is always used in WordPress (at least `wp_user_level` and
> `wp_capabilities`, and perhaps also the other options which are initially
> blank, such as the various IM usernames) can/should go into the users
> table, and the usermeta table can be available for plugins.

The users table is intended as a bare minimum amount of data for a
user: ID, password, login etc. Everything else goes in usermeta,
because that's a more flexible way of storing the data. We can
add/remove new fields like new types of IM username without requiring
a DB update.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dougal at gunters.org  Wed Dec 14 16:01:41 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Wed Dec 14 16:02:16 2005
Subject: [wp-hackers] users vs. usermeta
In-Reply-To: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>
References: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>
Message-ID: <43A041E5.1000304@gunters.org>

John Joseph Bachir wrote:
> Greetings,
> 
> What is the philosophy behind which data types are hardcoded into the 
> `users` table, and which go into the `usermeta` table? It seems like 
> everything that is always used in WordPress (at least `wp_user_level` 
> and `wp_capabilities`, and perhaps also the other options which are 
> initially blank, such as the various IM usernames) can/should go into 
> the users table, and the usermeta table can be available for plugins.

Yes, some of those fields *should* be moved into usermeta. But they 
remain in the users table for now in order to maintain backwards 
compatibility. I imagine that at some point, we could add a new generic 
user information function which would transparently fetch fields from 
the appropriate table.

It could first check the (possibly cached) user object, and if a 
matching field doesn't exist there, fall back to searching the usermeta 
data. Then if replace all current code which checks user properties with 
calls to that function, we could move fields out of the users table into 
usermeta, without impacting any plugins that used the new method.


-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From dmhouse at gmail.com  Wed Dec 14 16:43:20 2005
From: dmhouse at gmail.com (David House)
Date: Wed Dec 14 16:43:37 2005
Subject: [wp-hackers] users vs. usermeta
In-Reply-To: <43A041E5.1000304@gunters.org>
References: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>
	<43A041E5.1000304@gunters.org>
Message-ID: <ebe43d680512140843m1a463722x@mail.gmail.com>

On 14/12/05, Dougal Campbell <dougal@gunters.org> wrote:
> John Joseph Bachir wrote:
> > Greetings,
> >
> > What is the philosophy behind which data types are hardcoded into the
> > `users` table, and which go into the `usermeta` table? It seems like
> > everything that is always used in WordPress (at least `wp_user_level`
> > and `wp_capabilities`, and perhaps also the other options which are
> > initially blank, such as the various IM usernames) can/should go into
> > the users table, and the usermeta table can be available for plugins.
>
> Yes, some of those fields *should* be moved into usermeta.

He's saying that those fields should be moved to users, and the
usermeta table be left for plugins, if I've read that correctly. I've
outlined the reasons for the current setup in my previous email.

-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From jjb at ibiblio.org  Wed Dec 14 17:03:29 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Wed Dec 14 17:03:45 2005
Subject: [wp-hackers] users vs. usermeta
In-Reply-To: <ebe43d680512140843m1a463722x@mail.gmail.com>
References: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>
	<43A041E5.1000304@gunters.org>
	<ebe43d680512140843m1a463722x@mail.gmail.com>
Message-ID: <Pine.LNX.4.61.0512141157230.2601@tribal.metalab.unc.edu>

On Wed, 14 Dec 2005, David House wrote:
>> Yes, some of those fields *should* be moved into usermeta.
>
> He's saying that those fields should be moved to users, and the
> usermeta table be left for plugins, if I've read that correctly. I've
> outlined the reasons for the current setup in my previous email.

Well actually I wasn't partial to either one, I was just wondering what 
the idea was. I'm still not sure what constitutes "bare minimum" data and 
why that should go in the users table instead of the usermeta table.

Not that I have a better idea though :). It's tough call. Flexibility vs. 
the Right Way.

John
From jjb at ibiblio.org  Wed Dec 14 17:04:54 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Wed Dec 14 17:05:13 2005
Subject: [wp-hackers] users vs. usermeta
In-Reply-To: <43A041E5.1000304@gunters.org>
References: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>
	<43A041E5.1000304@gunters.org>
Message-ID: <Pine.LNX.4.61.0512141203590.2601@tribal.metalab.unc.edu>

On Wed, 14 Dec 2005, Dougal Campbell wrote:
> Yes, some of those fields *should* be moved into usermeta. But they remain in 
> the users table for now in order to maintain backwards compatibility. I 
> imagine that at some point, we could add a new generic user information 
> function which would transparently fetch fields from the appropriate table.

Dougal- Let me ask you this, if you were to design the schema and system 
from scratch and not have to worry about backward compatibility, what 
would you keep in the users table?
From dougal at gunters.org  Wed Dec 14 17:05:53 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Wed Dec 14 17:06:29 2005
Subject: [wp-hackers] users vs. usermeta
In-Reply-To: <ebe43d680512140843m1a463722x@mail.gmail.com>
References: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>	<43A041E5.1000304@gunters.org>
	<ebe43d680512140843m1a463722x@mail.gmail.com>
Message-ID: <43A050F1.8020106@gunters.org>

David House wrote:
> 
> He's saying that those fields should be moved to users, and the
> usermeta table be left for plugins, if I've read that correctly. I've
> outlined the reasons for the current setup in my previous email.

Ah, I think I see what you mean. I think I read the original message 
incorrectly. Plus, I had a brainfart and thought that some of the fields 
were still in the users table.

What I was trying to say is that the fields like the ones relating to IM 
do belong in the usermeta table. They were moved out of the main users 
table for version 2.0 for a reason (table normalization). Any field 
which may not be populated for a significant number of table rows, is a 
good candidate for lookup tables like usermeta.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From powzor at gmail.com  Wed Dec 14 17:40:10 2005
From: powzor at gmail.com (Rob)
Date: Wed Dec 14 17:39:47 2005
Subject: [wp-hackers] users vs. usermeta
In-Reply-To: <43A050F1.8020106@gunters.org>
References: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>	<43A041E5.1000304@gunters.org>	<ebe43d680512140843m1a463722x@mail.gmail.com>
	<43A050F1.8020106@gunters.org>
Message-ID: <43A058FA.8050408@robm.me.uk>

Does this "dynamic" feel to data such as IM systems mean that there will 
be a dynamic user information page in the admin panel, too? It would be 
nice if, as a plugin writer, I could add a usermeta field and have it 
appear in the Users -> Your Profile screen automatically.

The problems I can immediately foresee are type - how to know whether to 
display a check box or a text area, for example - and the fact that 
plugin authors might not want this behaviour. The former could be solved 
by guessing, I imagine - taking "foobar" to require a text input and 
"true" to require a check box, but that feels a little clunky. The 
latter could just be solved with a boolean "display" field.

What do you reckon?


From aaron at technosailor.com  Wed Dec 14 17:46:01 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Wed Dec 14 17:46:16 2005
Subject: [wp-hackers] users vs. usermeta
In-Reply-To: <43A058FA.8050408@robm.me.uk>
References: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>
	<43A041E5.1000304@gunters.org>
	<ebe43d680512140843m1a463722x@mail.gmail.com>
	<43A050F1.8020106@gunters.org> <43A058FA.8050408@robm.me.uk>
Message-ID: <ca7320070512140946n406e5c1bm1bf1f1a1a6394cc7@mail.gmail.com>

You can have a plugin add any usermeta information you want to add. Take a
look at the wp_usermeta table to see how it is structured.  Also look at
wp-includes/registration-functions.php at the add_usermeta(),
update_usermeta() functions.


On 12/14/05, Rob <powzor@gmail.com> wrote:
>
> Does this "dynamic" feel to data such as IM systems mean that there will
> be a dynamic user information page in the admin panel, too? It would be
> nice if, as a plugin writer, I could add a usermeta field and have it
> appear in the Users -> Your Profile screen automatically.
>
> The problems I can immediately foresee are type - how to know whether to
> display a check box or a text area, for example - and the fact that
> plugin authors might not want this behaviour. The former could be solved
> by guessing, I imagine - taking "foobar" to require a text input and
> "true" to require a check box, but that feels a little clunky. The
> latter could just be solved with a boolean "display" field.
>
> What do you reckon?
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051214/2ee85166/attachment.htm
From ringmaster at midnightcircus.com  Wed Dec 14 17:54:05 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Wed Dec 14 17:50:58 2005
Subject: [wp-hackers] users vs. usermeta
In-Reply-To: <43A058FA.8050408@robm.me.uk>
References: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>	<43A041E5.1000304@gunters.org>	<ebe43d680512140843m1a463722x@mail.gmail.com>	<43A050F1.8020106@gunters.org>
	<43A058FA.8050408@robm.me.uk>
Message-ID: <43A05C3D.4010209@midnightcircus.com>

Rob wrote:
> Does this "dynamic" feel to data such as IM systems mean that there will 
> be a dynamic user information page in the admin panel, too? It would be 
> nice if, as a plugin writer, I could add a usermeta field and have it 
> appear in the Users -> Your Profile screen automatically.
> 
> The problems I can immediately foresee are type - how to know whether to 
> display a check box or a text area, for example - and the fact that 
> plugin authors might not want this behaviour. The former could be solved 
> by guessing, I imagine - taking "foobar" to require a text input and 
> "true" to require a check box, but that feels a little clunky. The 
> latter could just be solved with a boolean "display" field.
> 
> What do you reckon?

I recon you sould check out the manage_caps_page hook, which will allow 
plugin authors to output custom form elements on the user profile page.

New form elements there will allow plugin authors to use whatever 
controls they want (text field, checkbox, flash applet, etc.) to set 
values for what usermeta values they want to store.

The core code will probably not include a dynamic way to add new input 
controls based on teh data in the usermeta specifically for the reasons 
you outlined:  It can't know what control type you want to use, and it 
doesn't know whether to display the information at all.

For example, core user capabilities are stored as a serialized array in 
one row of the usermeta table for each user.  How does the user page 
know not to display this?  Worse yet, if it did know how to display it, 
that could allow users to edit their own permissions!

Better to leave interface elements to the plugin authors themselves for 
what usermeta info they want to store.

Owen




From powzor at gmail.com  Wed Dec 14 18:29:21 2005
From: powzor at gmail.com (Rob)
Date: Wed Dec 14 18:28:42 2005
Subject: [wp-hackers] users vs. usermeta
In-Reply-To: <43A05C3D.4010209@midnightcircus.com>
References: <Pine.LNX.4.61.0512132354230.32211@tribal.metalab.unc.edu>	<43A041E5.1000304@gunters.org>	<ebe43d680512140843m1a463722x@mail.gmail.com>	<43A050F1.8020106@gunters.org>	<43A058FA.8050408@robm.me.uk>
	<43A05C3D.4010209@midnightcircus.com>
Message-ID: <43A06481.5060205@robm.me.uk>

Owen Winkler wrote:
>
> I recon you sould check out the manage_caps_page hook, which will 
> allow plugin authors to output custom form elements on the user 
> profile page.
>
> New form elements there will allow plugin authors to use whatever 
> controls they want (text field, checkbox, flash applet, etc.) to set 
> values for what usermeta values they want to store.
>
> The core code will probably not include a dynamic way to add new input 
> controls based on teh data in the usermeta specifically for the 
> reasons you outlined:  It can't know what control type you want to 
> use, and it doesn't know whether to display the information at all.
>
> For example, core user capabilities are stored as a serialized array 
> in one row of the usermeta table for each user.  How does the user 
> page know not to display this?  Worse yet, if it did know how to 
> display it, that could allow users to edit their own permissions!
>
> Better to leave interface elements to the plugin authors themselves 
> for what usermeta info they want to store.
>
> Owen
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

Yeah, I guess so :)

-- 
Rob Miller
http://robm.me.uk/ | http://kantian.co.uk/

From wp at igeek.info  Wed Dec 14 21:52:21 2005
From: wp at igeek.info (Amit Gupta)
Date: Wed Dec 14 21:52:42 2005
Subject: [wp-hackers] list of deprecated & new functions in WP2.0
Message-ID: <006f01c600f8$aafc2ae0$57ebd4cb@unicorn>

hi
is a list of deprecated & new functions in WP2.0 available(or will be 
available)?
just wanted to make sure that my theme & plugins are fully compliant to 
latest code when
I upgrade to WP2.0, though none of them has broken when running with the 
last nightly.

thanks

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051214/9b273f16/attachment.htm
From cubrilovic at gmail.com  Thu Dec 15 01:10:03 2005
From: cubrilovic at gmail.com (Nik Cubrilovic)
Date: Thu Dec 15 01:10:20 2005
Subject: [wp-hackers] Tags in 2.0
Message-ID: <806ae2170512141710x5118f25bu@mail.gmail.com>

Hi Everyone, I have an idea for tag's in 2.0 - and that is to add a
drop down to the link editing pop-up that specifies the rel for the
link. The drop-down will have 'none', and 'tag' and then possible XFN
options ('my site', 'friend' etc.). I know that this is happening with
weblog links, but I haven't seen anybody yet do this with content
links. So has it been done, should it be done? Asking before I go away
and actually do it.

And on another note - is there a spell-checker that is working with
2.0, and will there be a standard spell checker included in base?

Cheer, Nik

--
Nik Cubrilovic Weblog  -  <http://www.nik.com.au>
From r at schestowitz.com  Thu Dec 15 03:09:20 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Thu Dec 15 03:09:36 2005
Subject: [wp-hackers] Tags in 2.0
In-Reply-To: <806ae2170512141710x5118f25bu@mail.gmail.com>
References: <806ae2170512141710x5118f25bu@mail.gmail.com>
Message-ID: <20051215030920.a5j28ppvu5j8ksk4@banana.catalyst2.com>

_____/ On Thu 15 Dec 2005 01:10:03 GMT, [Nik Cubrilovic] wrote : \_____

> Hi Everyone, I have an idea for tag's in 2.0 - and that is to add a
> drop down to the link editing pop-up that specifies the rel for the
> link. The drop-down will have 'none', and 'tag' and then possible XFN
> options ('my site', 'friend' etc.). I know that this is happening with
> weblog links, but I haven't seen anybody yet do this with content
> links. So has it been done, should it be done? Asking before I go away
> and actually do it.


I believe that WordPress 2.0 attempts to embrace ease-of-use and simplici-
ty. Many technical people have a blog already. A rich (graphical) text ed-
itor  will probably prove tagging to quite clumsy and confusing to  users.
In  the  case of quicktags (a la WordPress 1.x), tagging could  easily  be
made  an option, but again, it probably adds to complexity and clutter. It
can  also  slow  the user down -- especially one who  is  uninterested  in
'rel'.


> And on another note - is there a spell-checker that is working with
> 2.0, and will there be a standard spell checker included in base?


You have two possibilities: exploit the native spellchecker using, for ex-
ample,  a browser plug-in. You could alternatively use the spellchecker on
the  Web server, if any are available (e.g. aspell) and incorporate it  in
the  same fashion as other OSS packages. This is often not ideal, but with
AJAX,  a 'check spelling as you type' could be achieved, then embedded  in
the rich text editor in particular.

Either  way, WordPress need not provide a spellchecker, but it  can/should
use one as a service.

Roy

From wphackers at jamietalbot.com  Thu Dec 15 05:26:11 2005
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Thu Dec 15 05:26:33 2005
Subject: [wp-hackers] Re: [wp-testers] POST variables with Wordpress Pages
	(Using RC-2)
In-Reply-To: <4d2c128c0512141928w2e41b380nf9260ed4b6605983@mail.gmail.com>
References: <43A0CF0C.4040006@jamietalbot.com>
	<4d2c128c0512141928w2e41b380nf9260ed4b6605983@mail.gmail.com>
Message-ID: <43A0FE73.6000108@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
 
Sean Hayford O'Leary wrote:

>Okay, this isn't in any way, shape or form relevant, but it was
>freaky, so I'm e-mailing it. I JUST sent a message about your plugin,
>Singular, and then I got this. Spooooky.
>

What's funny and ironic is that you probably used the form on my about
page which isn't working due to the problem I was writing about!
Mail me the message about Singular again off-list, would you?

Cheers,

Jamie
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Thunderbird - http://enigmail.mozdev.org
 
iD8DBQFDoP5yrovxfShShFARAgSjAKCFd7IZb0dE5ThfBkbIHTdUroX30QCfWTLt
ij8hihQs6CAgzsFhO/sPSHo=
=iPN1
-----END PGP SIGNATURE-----

From wordswithstyle at gmail.com  Thu Dec 15 09:39:23 2005
From: wordswithstyle at gmail.com (ifelse)
Date: Thu Dec 15 09:39:39 2005
Subject: [wp-hackers] Tags in 2.0
In-Reply-To: <20051215030920.a5j28ppvu5j8ksk4@banana.catalyst2.com>
References: <806ae2170512141710x5118f25bu@mail.gmail.com>
	<20051215030920.a5j28ppvu5j8ksk4@banana.catalyst2.com>
Message-ID: <c3e037930512150139y87da53bx336227612ec0ed2f@mail.gmail.com>

> "will there be a standard spell checker included in base"
Why incorporate something into the base:
a) which a lot of people won't use
b) not everyone can use
c) is easily, readily available as a plugin
d) is bulky

A external and often extraneous feature such as a spellchecker is better
suited as a plugin rather than as a core feature.

On 12/15/05, Roy Schestowitz <r@schestowitz.com> wrote:
>
> _____/ On Thu 15 Dec 2005 01:10:03 GMT, [Nik Cubrilovic] wrote : \_____
>
> > Hi Everyone, I have an idea for tag's in 2.0 - and that is to add a
> > drop down to the link editing pop-up that specifies the rel for the
> > link. The drop-down will have 'none', and 'tag' and then possible XFN
> > options ('my site', 'friend' etc.). I know that this is happening with
> > weblog links, but I haven't seen anybody yet do this with content
> > links. So has it been done, should it be done? Asking before I go away
> > and actually do it.
>
>
> I believe that WordPress 2.0 attempts to embrace ease-of-use and simplici-
> ty. Many technical people have a blog already. A rich (graphical) text ed-
> itor  will probably prove tagging to quite clumsy and confusing to  users.
> In  the  case of quicktags (a la WordPress 1.x), tagging could  easily  be
> made  an option, but again, it probably adds to complexity and clutter. It
> can  also  slow  the user down -- especially one who  is  uninterested  in
> 'rel'.
>
>
> > And on another note - is there a spell-checker that is working with
> > 2.0, and will there be a standard spell checker included in base?
>
>
> You have two possibilities: exploit the native spellchecker using, for ex-
> ample,  a browser plug-in. You could alternatively use the spellchecker on
> the  Web server, if any are available (e.g. aspell) and incorporate it  in
> the  same fashion as other OSS packages. This is often not ideal, but with
> AJAX,  a 'check spelling as you type' could be achieved, then embedded  in
> the rich text editor in particular.
>
> Either  way, WordPress need not provide a spellchecker, but it  can/should
> use one as a service.
>
> Roy
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
Phu | http://ifelse.co.uk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051215/a93cbb1f/attachment.htm
From cubrilovic at gmail.com  Thu Dec 15 10:23:08 2005
From: cubrilovic at gmail.com (Nik Cubrilovic)
Date: Thu Dec 15 10:23:29 2005
Subject: [wp-hackers] Tags in 2.0
In-Reply-To: <c3e037930512150139y87da53bx336227612ec0ed2f@mail.gmail.com>
References: <806ae2170512141710x5118f25bu@mail.gmail.com>
	<20051215030920.a5j28ppvu5j8ksk4@banana.catalyst2.com>
	<c3e037930512150139y87da53bx336227612ec0ed2f@mail.gmail.com>
Message-ID: <806ae2170512150223h202d70b7t@mail.gmail.com>

On 15/12/05, ifelse <wordswithstyle@gmail.com> wrote:
> > "will there be a standard spell checker included in base"
>  Why incorporate something into the base:
>  a) which a lot of people won't use
>  b) not everyone can use
>  c) is easily, readily available as a plugin
>  d) is bulky
>
>  A external and often extraneous feature such as a spellchecker is better
> suited as a plugin rather than as a core feature.

Yes, and I asked if there is one that works with 2.0. The other reason
should be that doing multi-lingual spell-checking isn't simple and the
whole world doesn't speak just English. Installing a browser plugin
for me is easy you see, but I install at least one Wordpress blog a
week for various friends and people and I get the same request each
time - spellcheck.

As for tagging, I was referring to writting a plugin, I didn't make
that clear. I asked if this had been done or if there was any form of
tagging plugin for 2.0 as my search for one was fruitless. Why is
having a simple rel drop-down for content links confusing, but when
adding an ordinary link it is not (especially since the ordinary link
options are long and exhaustive)?

Nik

--
Nik Cubrilovic Weblog  -  <http://www.nik.com.au>
From r at schestowitz.com  Thu Dec 15 13:43:28 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Thu Dec 15 13:43:50 2005
Subject: [wp-hackers] Tags in 2.0
In-Reply-To: <806ae2170512150223h202d70b7t@mail.gmail.com>
References: <806ae2170512141710x5118f25bu@mail.gmail.com>
	<20051215030920.a5j28ppvu5j8ksk4@banana.catalyst2.com>
	<c3e037930512150139y87da53bx336227612ec0ed2f@mail.gmail.com>
	<806ae2170512150223h202d70b7t@mail.gmail.com>
Message-ID: <20051215134328.4gvsfeqzkr0koc44@banana.catalyst2.com>

_____/ On Thu 15 Dec 2005 10:23:08 GMT, [Nik Cubrilovic] wrote : \_____

> On 15/12/05, ifelse <wordswithstyle@gmail.com> wrote:
>> > "will there be a standard spell checker included in base"
>>  Why incorporate something into the base:
>>  a) which a lot of people won't use
>>  b) not everyone can use
>>  c) is easily, readily available as a plugin
>>  d) is bulky
>>
>>  A external and often extraneous feature such as a spellchecker is better
>> suited as a plugin rather than as a core feature.
>
> Yes, and I asked if there is one that works with 2.0. The other reason
> should be that doing multi-lingual spell-checking isn't simple and the
> whole world doesn't speak just English. Installing a browser plugin
> for me is easy you see, but I install at least one Wordpress blog a
> week for various friends and people and I get the same request each
> time - spellcheck.


Have a look at: http://spellbound.sourceforge.net/screenshots

It should be capable of handling multiple languages depending on what dic-
tionaries you have installed.

Also have a look at htmlarea: http://sf.net/projects/itools-htmlarea/

Its  latest and heaviest version has spellcheking capabilities, which  can
in principle be re-used/grafted.

For  some  reason, I believe I once saw a spellchcker in TinyMCE. I  can't
find that in WordPress 2.0 RC2 though.


> As for tagging, I was referring to writting a plugin, I didn't make
> that clear. I asked if this had been done or if there was any form of
> tagging plugin for 2.0 as my search for one was fruitless.


2.0  is  not out yet. There are several such plug-ins for 1.5; they  might
already  be  compatible with 2.0. If not, the authors will probably  adapt
them accordingly when a public beta is out, just before 'rush time'.


> Why is
> having a simple rel drop-down for content links confusing, but when
> adding an ordinary link it is not (especially since the ordinary link
> options are long and exhaustive)?


Someone  whom I taught how to use WordPress found it difficult understand-
ing  the difference between the address and the anchor text (he is  almost
80  if that adds something). He still can't figure out why you would  need
both. Add yet another such complexity to the core and users will be scared
to add links. I definitely agree that such a plug-in is worthwhile.

Best wises,

Roy

From ringmaster at midnightcircus.com  Thu Dec 15 14:27:46 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Thu Dec 15 14:24:24 2005
Subject: [wp-hackers] Tags in 2.0
In-Reply-To: <806ae2170512141710x5118f25bu@mail.gmail.com>
References: <806ae2170512141710x5118f25bu@mail.gmail.com>
Message-ID: <43A17D62.9060501@midnightcircus.com>

Nik Cubrilovic wrote:
> Hi Everyone, I have an idea for tag's in 2.0 - and that is to add a
> drop down to the link editing pop-up that specifies the rel for the
> link. The drop-down will have 'none', and 'tag' and then possible XFN
> options ('my site', 'friend' etc.). I know that this is happening with
> weblog links, but I haven't seen anybody yet do this with content
> links. So has it been done, should it be done? Asking before I go away
> and actually do it.

This doesn't seem a bad idea, but I foresee difficulty.

The link popup thing in TinyMCE is written in javascript and included 
from javascript.  You can write plugins for TinyMCE to extend 
functionality, and although I'm not sure if this area is one that is 
explicitly extendable, you could always remove the existing link button 
and add your own via a plugin.

The potential problem is that you may end up putting plugin code in two 
places - one in wp-content/plugins (if you're planning on adding any 
server-side support, like selecting from links in the WP link manager), 
and one in wp-includes/js/TinyMCE, which is not supposed to be a 
user-serviceable directory.

Of course, people have been ignoring the "don't modify the core files" 
doctrine for a while now, and this isn't too bad of an infraction, so 
maybe you'll have luck with it.

It would be useful in core code if the TinyMCE plugin directory could be 
shunted into wp-content instead of wp-includes.

Incidentally, it took me reading all of the replies to this message to 
figure out what you were talking about.  That's my own fault, I guess, 
but here's my rewording of what I think you want to do:  You want to add 
specific rel="friend/family/etc" attributes to links in post content by 
adding to the popup UI that TinyMCE uses to make and edit new links.

Owen

From steagl at people.it  Thu Dec 15 16:15:51 2005
From: steagl at people.it (Stefano)
Date: Thu Dec 15 16:17:20 2005
Subject: [wp-hackers] Tags in 2.0
References: <806ae2170512141710x5118f25bu@mail.gmail.com>
	<20051215030920.a5j28ppvu5j8ksk4@banana.catalyst2.com>
	<c3e037930512150139y87da53bx336227612ec0ed2f@mail.gmail.com>
	<806ae2170512150223h202d70b7t@mail.gmail.com>
Message-ID: <6233q159k379b7o3mblgabvq13e920ivc0@4ax.com>

Il Thu, 15 Dec 2005 21:23:08 +1100, Nik Cubrilovic
<cubrilovic@gmail.com> scrive:

>whole world doesn't speak just English. Installing a browser plugin
>for me is easy you see, but I install at least one Wordpress blog a
>week for various friends and people and I get the same request each
>time - spellcheck.

As I type really bad.. i always need a spellchecker...and for bloogin
and WP FF plugin spellbound it's the asnwer :)

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it
       http://www.wordpress-it.it
From sollaires at gmail.com  Thu Dec 15 16:49:26 2005
From: sollaires at gmail.com (Dave Hendler)
Date: Thu Dec 15 16:49:49 2005
Subject: [wp-hackers] Sorting Meta Fields
Message-ID: <5b7b4b0d0512150849m41057446r684b89f9eee15fb8@mail.gmail.com>

Hey all,

I'm new to Wordpress hacking, but I thought this might be a useful
patch.  I wanted to be able to sort posts by meta fields so I hacked
some preliminary support into WP_Query->get_posts().  Basically, if
the orderby parameter sent to query_posts() is not in the allowed
array (author,date,category,title), I perform an additional join to
the postmeta table and mess about a little bit to get things working. 
If the meta data is not a string value, the ordercast variable is used
to specify how to treat that field (i.e. signed, unsigned, decimal,etc
- it currently maps directly to the MySQL cast types).  I'm currently
using it experimentally to have a category of reviews with a numeric
score attached to posts.  My thought is that by supporting it deeper
within wp, it will be easier to hook this kind of extension into
paging and other deeper functionality.  I've seen a couple of
discussion threads on the public site asking for this kind of feature,
so I'd thought I'd throw it to you guys to figure out where to go from
here.

Is this something I should submit to SVN?  How should I go about this?

- dave

--
dave hendler
http://sollaires.net/
:wq
From skippy at skippy.net  Thu Dec 15 16:55:41 2005
From: skippy at skippy.net (Scott Merrill)
Date: Thu Dec 15 16:55:47 2005
Subject: [wp-hackers] Sorting Meta Fields
In-Reply-To: <5b7b4b0d0512150849m41057446r684b89f9eee15fb8@mail.gmail.com>
References: <5b7b4b0d0512150849m41057446r684b89f9eee15fb8@mail.gmail.com>
Message-ID: <43A1A00D.7080007@skippy.net>

Dave Hendler wrote:
> Basically, if
> the orderby parameter sent to query_posts() is not in the allowed
> array (author,date,category,title), I perform an additional join to
> the postmeta table and mess about a little bit to get things working. 

It might be better to make an explicit query parameter for postmeta, so
that you can order the results by meta value _and_ order them by
author/date/cat/title.

> Is this something I should submit to SVN?  How should I go about this?

1) Create an account on the Support Forums
   http://wordpress.org/support/
2) Log in to Trac
   http://trac.wordpress.org/
3) Create and save a new ticket
   http://trac.wordpress.org/newticket/
4) Upload your patch to the ticket you just opened

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From sollaires at gmail.com  Thu Dec 15 17:15:22 2005
From: sollaires at gmail.com (Dave Hendler)
Date: Thu Dec 15 17:15:41 2005
Subject: [wp-hackers] Sorting Meta Fields
In-Reply-To: <43A1A00D.7080007@skippy.net>
References: <5b7b4b0d0512150849m41057446r684b89f9eee15fb8@mail.gmail.com>
	<43A1A00D.7080007@skippy.net>
Message-ID: <5b7b4b0d0512150915u583fd156jdad9348f8f7ed12@mail.gmail.com>

On 12/15/05, Scott Merrill <skippy@skippy.net> wrote:
> Dave Hendler wrote:
> > Basically, if
> > the orderby parameter sent to query_posts() is not in the allowed
> > array (author,date,category,title), I perform an additional join to
> > the postmeta table and mess about a little bit to get things working.
>
> It might be better to make an explicit query parameter for postmeta, so
> that you can order the results by meta value _and_ order them by
> author/date/cat/title.
>

The orderby param actually works this way now.  If you use a string
like "orderby=category date", it's exploding on the space and doing
multiple ORDER BYs.  My code has this working as well for meta data
fields (so "orderby=my_field date" works).  However, it doesn't do the
same thing for the sort direction.  Should I use a seperate query
param or build in multiple sorting directions in the same way that
multiple sorting columns works?

And thanks for the submission info.  I'll get to that soon.

- dave

--
dave hendler
http://sollaires.net/
http://davehendler.com/
:wq
From pp at myelin.co.nz  Fri Dec 16 00:57:54 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Fri Dec 16 00:58:11 2005
Subject: [wp-hackers] Tags in 2.0
In-Reply-To: <806ae2170512150223h202d70b7t@mail.gmail.com>
References: <806ae2170512141710x5118f25bu@mail.gmail.com>	<20051215030920.a5j28ppvu5j8ksk4@banana.catalyst2.com>	<c3e037930512150139y87da53bx336227612ec0ed2f@mail.gmail.com>
	<806ae2170512150223h202d70b7t@mail.gmail.com>
Message-ID: <43A21112.805@myelin.co.nz>


>Yes, and I asked if there is one that works with 2.0. The other reason
>should be that doing multi-lingual spell-checking isn't simple and the
>whole world doesn't speak just English. Installing a browser plugin
>for me is easy you see, but I install at least one Wordpress blog a
>week for various friends and people and I get the same request each
>time - spellcheck.
>  
>
Assuming that there is already a plugin with this, you could always 
build a wordpress distribution that already includes the plugin... has 
anyone done this already?  A "wordpress plus the kitchen sink" distro?

Cheers,
Phil
From skeltoac at gmail.com  Fri Dec 16 06:42:03 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Fri Dec 16 06:42:18 2005
Subject: [wp-hackers] Tags in 2.0
In-Reply-To: <43A21112.805@myelin.co.nz>
References: <806ae2170512141710x5118f25bu@mail.gmail.com>
	<20051215030920.a5j28ppvu5j8ksk4@banana.catalyst2.com>
	<c3e037930512150139y87da53bx336227612ec0ed2f@mail.gmail.com>
	<806ae2170512150223h202d70b7t@mail.gmail.com>
	<43A21112.805@myelin.co.nz>
Message-ID: <e6ec604d0512152242j77d050a0lc96eb95a1321e0f6@mail.gmail.com>

On 12/15/05, Phillip Pearson <pp@myelin.co.nz> wrote:
> Assuming that there is already a plugin with this, you could always
> build a wordpress distribution that already includes the plugin... has
> anyone done this already?  A "wordpress plus the kitchen sink" distro?

There is not already a WP RTE Spellcheck plugin. With the 2.0 API, it
is possible for someone to create such a plugin and distribute it as a
single PHP file.

People have packaged WP with their own "ideal" set of plugins and
provided the bandwidth for their distribution but wordpress.org does
not do this.

Andy
From nbachiyski at developer.bg  Fri Dec 16 11:44:20 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Fri Dec 16 11:44:37 2005
Subject: [wp-hackers] Re: [wp-svn] [3310] trunk: Don't treat a numeric user
 name as an id.
In-Reply-To: <200512151645.jBFGjOcp026515@comox.textdrive.com>
References: <200512151645.jBFGjOcp026515@comox.textdrive.com>
Message-ID: <43A2A894.2000306@developer.bg>

m@wordpress.org wrote:
> Revision
>     3310
> Author
>     ryan
> Date
>     2005-12-15 16:45:20 +0000 (Thu, 15 Dec 2005)
> 
> 
>       Log Message
> 
> Don't treat a numeric user name as an id.
> 
>      Modified: trunk/wp-includes/capabilities.php (3309 => 3310)
> 
 >	...
 >
> -		if ( is_numeric($id) ) {
> -			$this->data = get_userdata($id);
> -		} else {
> -			$this->data = get_userdatabylogin($id);
> +		if ( ! is_numeric($id) ) {
> +			$name = $id;
> +			$id = 0;
>  		}

is_numeric tests if the string is numeric, which allows negative or 
float  numbers to be used as an id. For example -666.66e8 is a valid 
numeric.

Wouldn't it be better if also intval is used. It returns 0 if the string 
is not a valid integer. We just have to check whether intval($id) is 
greater than zero.

Nikolay.

>  
> +		if ( ! empty($id) )
> +			$this->data = get_userdata($id);
> +		else
> +			$this->data = get_userdatabylogin($name);
> +
>  		if ( empty($this->data->ID) )
>  			return;
>  
From skippy at skippy.net  Fri Dec 16 13:20:50 2005
From: skippy at skippy.net (Scott Merrill)
Date: Fri Dec 16 13:20:58 2005
Subject: [wp-hackers] Re: Don't treat a numeric user name as an id.
In-Reply-To: <43A2A894.2000306@developer.bg>
References: <200512151645.jBFGjOcp026515@comox.textdrive.com>
	<43A2A894.2000306@developer.bg>
Message-ID: <43A2BF32.40502@skippy.net>

Nikolay Bachiyski wrote:
> m@wordpress.org wrote:
>> -        if ( is_numeric($id) ) {
>> -            $this->data = get_userdata($id);
>> -        } else {
>> -            $this->data = get_userdatabylogin($id);
>> +        if ( ! is_numeric($id) ) {
>> +            $name = $id;
>> +            $id = 0;
>>          }
> 
> 
> is_numeric tests if the string is numeric, which allows negative or
> float  numbers to be used as an id. For example -666.66e8 is a valid
> numeric.
> 
> Wouldn't it be better if also intval is used. It returns 0 if the string
> is not a valid integer. We just have to check whether intval($id) is
> greater than zero.

All form submissions are strings, though, so checking a form submitted
interger with is_int() will always return false.

http://us2.php.net/is_int:
"Note:  To test if a variable is a number or a numeric string (such as
form input, which is always a string), you must use is_numeric()."

You could use is_numeric(), then strpos a minus sign or a decimal point
to determine whether its safe to call intval() on the submitted number.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From nbachiyski at developer.bg  Fri Dec 16 13:43:00 2005
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Fri Dec 16 13:43:16 2005
Subject: [wp-hackers] Re: Don't treat a numeric user name as an id.
In-Reply-To: <43A2BF32.40502@skippy.net>
References: <200512151645.jBFGjOcp026515@comox.textdrive.com>	<43A2A894.2000306@developer.bg>
	<43A2BF32.40502@skippy.net>
Message-ID: <43A2C464.9040909@developer.bg>

Scott Merrill wrote:
> Nikolay Bachiyski wrote:
> 
>>m@wordpress.org wrote:
>>
>>>-        if ( is_numeric($id) ) {
>>>-            $this->data = get_userdata($id);
>>>-        } else {
>>>-            $this->data = get_userdatabylogin($id);
>>>+        if ( ! is_numeric($id) ) {
>>>+            $name = $id;
>>>+            $id = 0;
>>>         }
>>
>>
>>is_numeric tests if the string is numeric, which allows negative or
>>float  numbers to be used as an id. For example -666.66e8 is a valid
>>numeric.
>>
>>Wouldn't it be better if also intval is used. It returns 0 if the string
>>is not a valid integer. We just have to check whether intval($id) is
>>greater than zero.
> 
> 
> All form submissions are strings, though, so checking a form submitted
> interger with is_int() will always return false.

I agree.

> 
> http://us2.php.net/is_int:
> "Note:  To test if a variable is a number or a numeric string (such as
> form input, which is always a string), you must use is_numeric()."
> 
> You could use is_numeric(), then strpos a minus sign or a decimal point
> to determine whether its safe to call intval() on the submitted number.
> 
It is always safe to use intval - it works on strings too. Try 
intval("666").

Nikolay.
From ringmaster at midnightcircus.com  Fri Dec 16 14:00:44 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Fri Dec 16 13:57:20 2005
Subject: [wp-hackers] Re: [wp-testers] CSS in WYSIWYG
In-Reply-To: <e6ec604d0512152133p6297e4e1t663fdb49b865b1c8@mail.gmail.com>
References: <db06c5e00512061427o4418a26eh@mail.gmail.com>	<9E670125-C44F-4C20-9EEF-5C20E59AA354@yellowswordfish.com>	<e6ec604d0512102104s2b1358adtfbf641255387d29a@mail.gmail.com>	<29E76483-34EF-4FD8-BB03-EAB9E14B2E19@yellowswordfish.com>	<439C3D87.1080901@concept64.com>	<13733d8c0512110840u1e8d6a9cv@mail.gmail.com>	<e6ec604d0512111756v1e90e369pa78c819d39fce912@mail.gmail.com>	<43A028F1.9030803@midnightcircus.com>	<e6ec604d0512141436p762fc9e7g7c86047df30915be@mail.gmail.com>	<1134667147.2611.14.camel@localhost.localdomain>
	<e6ec604d0512152133p6297e4e1t663fdb49b865b1c8@mail.gmail.com>
Message-ID: <43A2C88C.3030604@midnightcircus.com>

Andy Skelton wrote:
> On 12/15/05, Isaac Wedin <isaac@wedin.org> wrote:
> 
>>I'd *love* to see some hooks for TinyMCE in the plugin API. I've gotten
>>the images popup tool in my plugin (Photopress) to more-or-less work by
>>including tiny_mce_popup.js and using tinyMCE.insertimage(). I'd like to
>>see a simple way to add a button to the TinyMCE toolbar, and a way to
>>specify a CSS class for inserted images.
> 
> 
> That's clever work! There's a filter for the toolbar icons in
> tiny_mce_gzip.php: mce_buttons.

Following is the URL to my buttonsnap library for adding buttons to the 
WordPress 2.0 editors.  It adds buttons to both the RTE and the textarea 
(regardless of user settings) by adding a single include and one line of 
php for each button.

There are three possibilities for the action of added buttons:

* You can directly replace the selected text in the editor with a fixed 
value.
* You can execute javascript (for popping up dialogs or whatever).
* You can directly replace the selected text in the editor with a value 
returned from a WordPress plugin hook.

Read that last one again.

Here's an example:

buttonsnap_ajaxbutton($button_image_url3, 'Ajax Button', 'my_hook');
add_filter('my_hook', 'my_hook_sink');
function my_hook_sink($selectedtext)
{
	return '<del datetime="' . date('Y-m-d H:i:s') . '">' . $selectedtext . 
'</del>';
}

You don't need to learn javascript to use this, much less the cryptic 
format of the TinyMCE javascript plugins.  It's also instantly 
compatible with *both* editors.

I'm interested in comments or updates.

http://redalt.com/downloads/wp2/buttonsnap.zip

Owen



From skippy at skippy.net  Fri Dec 16 13:59:29 2005
From: skippy at skippy.net (Scott Merrill)
Date: Fri Dec 16 13:59:38 2005
Subject: [wp-hackers] Re: CSS in WYSIWYG
In-Reply-To: <43A2C88C.3030604@midnightcircus.com>
References: <db06c5e00512061427o4418a26eh@mail.gmail.com>	<9E670125-C44F-4C20-9EEF-5C20E59AA354@yellowswordfish.com>	<e6ec604d0512102104s2b1358adtfbf641255387d29a@mail.gmail.com>	<29E76483-34EF-4FD8-BB03-EAB9E14B2E19@yellowswordfish.com>	<439C3D87.1080901@concept64.com>	<13733d8c0512110840u1e8d6a9cv@mail.gmail.com>	<e6ec604d0512111756v1e90e369pa78c819d39fce912@mail.gmail.com>	<43A028F1.9030803@midnightcircus.com>	<e6ec604d0512141436p762fc9e7g7c86047df30915be@mail.gmail.com>	<1134667147.2611.14.camel@localhost.localdomain>	<e6ec604d0512152133p6297e4e1t663fdb49b865b1c8@mail.gmail.com>
	<43A2C88C.3030604@midnightcircus.com>
Message-ID: <43A2C841.3090607@skippy.net>

Owen Winkler wrote:
> I'm interested in comments or updates.
> 
> http://redalt.com/downloads/wp2/buttonsnap.zip

I think I speak for a lot of people when I say "You rock!".  Thanks!!

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From wp at lynk.de  Fri Dec 16 14:01:56 2005
From: wp at lynk.de (Marcus Grellert)
Date: Fri Dec 16 14:02:20 2005
Subject: [wp-hackers] Inserting image in original size in 2.0
Message-ID: <43A2C8D4.8050102@lynk.de>

Hi,

currently it is not possible (2.0 RC2) to insert an uploaded image with
its original
dimensions in the editor with just WP itself.

You need to look up the image dimensions in a seperate program and
resize the image accordingly.

You can't do that if you don't have the image <- different users
You don't want to do that <- well, it is possible in 1.5, why not 2.0;
lots of images; ...


Is this going to change for the initial release?


marcus
 


From podz at tamba2.org.uk  Sat Dec 17 10:02:32 2005
From: podz at tamba2.org.uk (Podz)
Date: Sat Dec 17 10:02:52 2005
Subject: [wp-hackers] When a ping is sent ?
Message-ID: <43A3E238.6050104@tamba2.org.uk>

This is coming up a few times and we seem to not have a definitive
answer. Would someone mind ?

On publish, we know a ping is sent.
Save ?
Save and Continue ?
Editing a published post ?
Future publish (without the plugin) sends on Publish ?

I know what I think but there are contradictions going around.
Or if you could just say when and only when a ping is sent that would be
great. Thanks :)

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051217/50276818/signature.pgp
From skeltoac at gmail.com  Sat Dec 17 10:59:14 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sat Dec 17 10:59:31 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <43A3E238.6050104@tamba2.org.uk>
References: <43A3E238.6050104@tamba2.org.uk>
Message-ID: <e6ec604d0512170259x6356485o769043e80b5eaae5@mail.gmail.com>

On 12/17/05, Podz <podz@tamba2.org.uk> wrote:
> Or if you could just say when and only when a ping is sent that would be
> great. Thanks :)

I'd like to do one better and optimize this. We have a new function
that spawns the pinging process with no user-perceptible delay, so it
should be a quick job to put future pinging into the core. I'll get
back to you. :-)

Andy
From skippy at skippy.net  Sat Dec 17 13:49:13 2005
From: skippy at skippy.net (Scott Merrill)
Date: Sat Dec 17 13:49:32 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <43A3E238.6050104@tamba2.org.uk>
References: <43A3E238.6050104@tamba2.org.uk>
Message-ID: <43A41759.9060502@skippy.net>

Podz wrote:
> On publish, we know a ping is sent.

Yes.

> Save ?

No.

> Save and Continue ?

No.

> Editing a published post ?

Yes.  The data has changed, which means that the linked sites should be
alerted to the update.

> Future publish (without the plugin) sends on Publish ?

Yes.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From r at schestowitz.com  Sat Dec 17 15:14:56 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Sat Dec 17 15:15:14 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <43A3E238.6050104@tamba2.org.uk>
References: <43A3E238.6050104@tamba2.org.uk>
Message-ID: <20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>

_____/ On Sat 17 Dec 2005 10:02:32 GMT, [Podz] wrote : \_____

> This is coming up a few times and we seem to not have a definitive
> answer. Would someone mind ?
>
> On publish, we know a ping is sent.
> Save ?
> Save and Continue ?
> Editing a published post ?
> Future publish (without the plugin) sends on Publish ?
>
> I know what I think but there are contradictions going around.
> Or if you could just say when and only when a ping is sent that would be
> great. Thanks :)
>
> P.

It  has been possible to judge that based on trackbacks. In the list under
"Already  pinged:", nothing will appear until an item is published. In the
past,  whenever I added a trackback URL after publication, it was appended
to  the list, which implies pinging recurred. What I am not too sure about
are  scenarios  where an item is republished within less than  5  minutes.
Putting  aside the fact that Ping-o-Matic has been down today/late yester-
day,  it  generally  disallows frequent pinging. "Slow down,  Cowboy",  it
days. *smirk*

Hope it contributes,

Roy

From skeltoac at gmail.com  Sat Dec 17 16:19:34 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sat Dec 17 16:19:52 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>
References: <43A3E238.6050104@tamba2.org.uk>
	<20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>
Message-ID: <e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com>

The function that pings services like ping-o-matic, generic_ping(), is
run at the 'publish_post' hook, so any time you save a post with
status 'publish'. This includes future posts but I don't think that
matters. Generic pings do not reveal the URL of the published post.

I am finishing up a patch that handles future pings in a sane way.
This is how it should work:

Anything not future-dated will have trackbacks, pingbacks and
attachments checked immediately. This is done by a pinger (script)
that runs asynchronously, so the user never sees the delay.

Anything future dated will have its trackbacks and pingbacks scheduled
for the minute of post_date_gmt. The first page load in or after that
minute will spawn the pinger. Again, the user never notices the delay.
The check for these pings is done using cached data, so this doesn't
add to the query count.

Attachment checks are done immediately, rather than scheduled for
post_date_gmt. This is so that if the post is first viewed via a feed
by an aggregator such as Bloglines, the attachments are already in
place and can be included. These attachment checks aren't really
"pings" but are HEAD requests to discover the file's mime type. They
do no reveal the post URL so it's not a problem.

Also, if you decide to move a future-dated post from 'publish' to
'draft', its scheduled pings will be cancelled. So no ghost pings will
go out if you change your mind about blogging "I QUIT!" next Friday.

Anything else before I upload the patch?

Andy
From skeltoac at gmail.com  Sat Dec 17 16:24:28 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sat Dec 17 16:24:48 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com>
References: <43A3E238.6050104@tamba2.org.uk>
	<20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>
	<e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com>
Message-ID: <e6ec604d0512170824mceee5f6ta579cc876b2c161d@mail.gmail.com>

On 12/17/05, Andy Skelton <skeltoac@gmail.com> wrote:
> Anything not future-dated will have trackbacks, pingbacks and
> attachments checked immediately. This is done by a pinger (script)

Sorry, I meant ENCLOSURES, not ATTACHMENTS. Pardon me.

Andy
From r at schestowitz.com  Sat Dec 17 18:21:53 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Sat Dec 17 18:22:08 2005
Subject: [wp-hackers] Inserting image in original size in 2.0
In-Reply-To: <43A2C8D4.8050102@lynk.de>
References: <43A2C8D4.8050102@lynk.de>
Message-ID: <20051217182153.6lv2451psp44ogok@banana.catalyst2.com>

_____/ On Fri 16 Dec 2005 14:01:56 GMT, [Marcus Grellert] wrote : \_____

> Hi,
>
> currently it is not possible (2.0 RC2) to insert an uploaded image with
> its original
> dimensions in the editor with just WP itself.
>
> You need to look up the image dimensions in a seperate program and
> resize the image accordingly.
>
> You can't do that if you don't have the image <- different users
> You don't want to do that <- well, it is possible in 1.5, why not 2.0;
> lots of images; ...
>
>
> Is this going to change for the initial release?
>
>
> marcus

When  you  upload an image, it gets put under <install_dir> /  wp-content/
uploads  / year / month . The image on the server remains identical, so no
resizing   or  pre-processing  is  involved.  A  thumbnail  is   generated
on-the-fly,  perhaps  using  PHP or ImageMagick. Set your  editor  to  use
quicktags  under  Users  at the very bottom (untick the box).  Then,  when
dragging  an image thumbnail onto the writing area, only its full URL will
be  copied. If you want to then make quick use of that URL, consider  bits
like:

<p align="center">
<img src="[domain]/[path]/wp-content/uploads/year/month/example.jpg"
alt="example" title="example" />
</p>

 From  my  point-of-view, the process has been simplified  tremendously.  I
wonder  if  making this addition of code in the quicktags case would  have
merit in terms of productivity.

In  1.5 there was no rich text editor, so one could argue that 2.0 is  not
missing anything, as far as image handling is concerned.

Best wishes,

Roy

From davebytes at comcast.net  Sat Dec 17 18:29:21 2005
From: davebytes at comcast.net (David Chait)
Date: Sat Dec 17 18:29:39 2005
Subject: [wp-hackers] When a ping is sent ?
References: <43A3E238.6050104@tamba2.org.uk><20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>
	<e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com>
Message-ID: <002101c60337$cd074c50$6e01a8c0@sixfour>

How exactly are you running it asynchronously?  Obviously, wouldn't ever 
want an administrative function (pinging from a post) impacting a >reader<, 
when the time CAN be spent by the >writer<... if/when it's a synchronous 
event. :)

Otherwise, sounds fairly nifty.

-d

----- Original Message ----- 
From: "Andy Skelton" <skeltoac@gmail.com>
Sent: Saturday, December 17, 2005 11:19 AM
Subject: Re: [wp-hackers] When a ping is sent ?


I am finishing up a patch that handles future pings in a sane way.
This is how it should work:

... 

From skeltoac at gmail.com  Sat Dec 17 19:07:51 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sat Dec 17 19:08:12 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <002101c60337$cd074c50$6e01a8c0@sixfour>
References: <43A3E238.6050104@tamba2.org.uk>
	<20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>
	<e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com>
	<002101c60337$cd074c50$6e01a8c0@sixfour>
Message-ID: <e6ec604d0512171107x7709b3c0tb9dd61e9bec96d51@mail.gmail.com>

On 12/17/05, David Chait <davebytes@comcast.net> wrote:
> How exactly are you running it asynchronously?  Obviously, wouldn't ever
> want an administrative function (pinging from a post) impacting a >reader<,
> when the time CAN be spent by the >writer<... if/when it's a synchronous
> event. :)

Neither is impacted. In the new function spawn_pinger(), we use
fsockopen to start a new thread via HTTP. AFAIK it's the only
platform-independent way to do this without involving the user agent.

If you are concerned that some hosts block fsockopen, don't worry:
pings and trackbacks depend on the exact same function. If
spawn_pinger() fails, execute-pings.php wouldn't have worked anyway.

Andy
From podz at tamba2.org.uk  Sat Dec 17 19:18:51 2005
From: podz at tamba2.org.uk (Podz)
Date: Sat Dec 17 19:19:09 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <43A3E238.6050104@tamba2.org.uk>
References: <43A3E238.6050104@tamba2.org.uk>
Message-ID: <43A4649B.3070407@tamba2.org.uk>

And just to add to the mix:

"See, i do want to know when OTHER AUTHORS FROM OTHER BLOGS
ping/trackback my posts, but i don't need my own pings, is there a way
to disable pings WITHIN the blog?"

http://wordpress.org/support/topic/52387

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051217/55f5c254/signature.pgp
From skeltoac at gmail.com  Sat Dec 17 19:28:36 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sat Dec 17 19:28:58 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <43A4649B.3070407@tamba2.org.uk>
References: <43A3E238.6050104@tamba2.org.uk> <43A4649B.3070407@tamba2.org.uk>
Message-ID: <e6ec604d0512171128o4d735192rbeb8270db1935bbe@mail.gmail.com>

On 12/17/05, Podz <podz@tamba2.org.uk> wrote:
> And just to add to the mix:
>
> "See, i do want to know when OTHER AUTHORS FROM OTHER BLOGS
> ping/trackback my posts, but i don't need my own pings, is there a way
> to disable pings WITHIN the blog?"

Good one. I disabled pings from attachments to blog posts, but we
still ping pings from posts to posts. Adding an option to disable
pinging within the blog is kinda taboo. Maybe I can throw a hook in
there.

Andy
From davebytes at comcast.net  Sat Dec 17 19:29:28 2005
From: davebytes at comcast.net (David Chait)
Date: Sat Dec 17 19:29:46 2005
Subject: [wp-hackers] When a ping is sent ?
References: <43A3E238.6050104@tamba2.org.uk><20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com><e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com><002101c60337$cd074c50$6e01a8c0@sixfour>
	<e6ec604d0512171107x7709b3c0tb9dd61e9bec96d51@mail.gmail.com>
Message-ID: <003801c60340$32d3f620$6e01a8c0@sixfour>

Hmmm.  Slick.  Hadn't thought of that.  I would have thought that apache/php 
had a way of terminating script processing if the connection drops (they 
have a way to terminate script processing if it takes too long! :) ).  But 
if the script takes <30s anyway, you're probably fine on average setup.

-d

----- Original Message ----- 
From: "Andy Skelton" <skeltoac@gmail.com>
To: <wp-hackers@lists.automattic.com>
Sent: Saturday, December 17, 2005 2:07 PM
Subject: Re: [wp-hackers] When a ping is sent ?


On 12/17/05, David Chait <davebytes@comcast.net> wrote:
> How exactly are you running it asynchronously?  Obviously, wouldn't ever
> want an administrative function (pinging from a post) impacting a 
>  >reader<,
> when the time CAN be spent by the >writer<... if/when it's a synchronous
> event. :)

Neither is impacted. In the new function spawn_pinger(), we use
fsockopen to start a new thread via HTTP. AFAIK it's the only
platform-independent way to do this without involving the user agent. 

From false.hopes at gmail.com  Sat Dec 17 23:16:59 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Sat Dec 17 23:17:19 2005
Subject: [wp-hackers] Inserting image in original size in 2.0
In-Reply-To: <20051217182153.6lv2451psp44ogok@banana.catalyst2.com>
References: <43A2C8D4.8050102@lynk.de>
	<20051217182153.6lv2451psp44ogok@banana.catalyst2.com>
Message-ID: <a491f91d0512171516g2f8aab02q38269094e5d4bc57@mail.gmail.com>

Click on the image, and a little menu appears over it, click the one
that says using thumbnail, and it switches to using original, and
click send to editor.

On 12/17/05, Roy Schestowitz <r@schestowitz.com> wrote:
> _____/ On Fri 16 Dec 2005 14:01:56 GMT, [Marcus Grellert] wrote : \_____
>
> > Hi,
> >
> > currently it is not possible (2.0 RC2) to insert an uploaded image with
> > its original
> > dimensions in the editor with just WP itself.
> >
> > You need to look up the image dimensions in a seperate program and
> > resize the image accordingly.
> >
> > You can't do that if you don't have the image <- different users
> > You don't want to do that <- well, it is possible in 1.5, why not 2.0;
> > lots of images; ...
> >
> >
> > Is this going to change for the initial release?
> >
> >
> > marcus
>
> When  you  upload an image, it gets put under <install_dir> /  wp-content/
> uploads  / year / month . The image on the server remains identical, so no
> resizing   or  pre-processing  is  involved.  A  thumbnail  is   generated
> on-the-fly,  perhaps  using  PHP or ImageMagick. Set your  editor  to  use
> quicktags  under  Users  at the very bottom (untick the box).  Then,  when
> dragging  an image thumbnail onto the writing area, only its full URL will
> be  copied. If you want to then make quick use of that URL, consider  bits
> like:
>
> <p align="center">
> <img src="[domain]/[path]/wp-content/uploads/year/month/example.jpg"
> alt="example" title="example" />
> </p>
>
>  From  my  point-of-view, the process has been simplified  tremendously.  I
> wonder  if  making this addition of code in the quicktags case would  have
> merit in terms of productivity.
>
> In  1.5 there was no rich text editor, so one could argue that 2.0 is  not
> missing anything, as far as image handling is concerned.
>
> Best wishes,
>
> Roy
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


--
--Robert Deaton
http://somethingunpredictable.com
From wp at lynk.de  Sun Dec 18 02:28:37 2005
From: wp at lynk.de (Marcus Grellert)
Date: Sun Dec 18 02:29:05 2005
Subject: [wp-hackers] Inserting image in original size in 2.0
In-Reply-To: <20051217182153.6lv2451psp44ogok@banana.catalyst2.com>
References: <43A2C8D4.8050102@lynk.de>
	<20051217182153.6lv2451psp44ogok@banana.catalyst2.com>
Message-ID: <43A4C955.6050502@lynk.de>


Roy Schestowitz wrote:

> _____/ On Fri 16 Dec 2005 14:01:56 GMT, [Marcus Grellert] wrote : \_____
>
>> Hi,
>>
>> currently it is not possible (2.0 RC2) to insert an uploaded image with
>> its original
>> dimensions in the editor with just WP itself.
>
>
> . Set your  editor  to  use
> quicktags  under  Users  at the very bottom (untick the box).  Then, 
> when
> dragging  an image thumbnail onto the writing area, only its full URL
> will
> be  copied. If you want to then make quick use of that URL, consider 
> bits
> like:
>
> From  my  point-of-view, the process has been simplified 
> tremendously.  I
> wonder  if  making this addition of code in the quicktags case would 
> have
> merit in terms of productivity.
>
> In  1.5 there was no rich text editor, so one could argue that 2.0 is 
> not
> missing anything, as far as image handling is concerned.
>
You're right, I forgot about the non-rich-text option, my argument
applies to the rich-text-editor only.
Compared to 1.5 is the custom thumbnail size missing though.


marcus


From skeltoac at gmail.com  Sun Dec 18 03:06:31 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sun Dec 18 03:34:13 2005
Subject: [wp-hackers] Inserting image in original size in 2.0
In-Reply-To: <43A4C955.6050502@lynk.de>
References: <43A2C8D4.8050102@lynk.de>
	<20051217182153.6lv2451psp44ogok@banana.catalyst2.com>
	<43A4C955.6050502@lynk.de>
Message-ID: <e6ec604d0512171906nf38afa7y9ea72825bbe5f716@mail.gmail.com>

Yes, you cannot insert a large image without the width and height
attributes set. You can remove the attributes if you like. Sorry.
Somebody write a patch, quick! :-)

Andy
From podz at tamba2.org.uk  Sun Dec 18 11:12:39 2005
From: podz at tamba2.org.uk (Podz)
Date: Sun Dec 18 11:13:09 2005
Subject: [wp-hackers] Forums: Heavy Loads
Message-ID: <43A54427.9080500@tamba2.org.uk>

http://wordpress.org/support/topic/52452

Doesn't look like there is enough info there, but I don't know what to
ask for or how to interpret any results.

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051218/d412decb/signature.pgp
From tariqrahim at isf.com.pk  Mon Dec 19 22:40:56 2005
From: tariqrahim at isf.com.pk (ISF - Tariq Rahim)
Date: Mon Dec 19 09:41:08 2005
Subject: [wp-hackers] Hi, I need help regarding Plugin Development
Message-ID: <20051219094059.E94E8609F@comox.textdrive.com>






Hi all,

 

 I want to develop a Plug-in for Word press that enables the user to make
comments without refreshing or navigating to another page by using the AJAX
Technology. I need a hook / Filter that I use to override the default
behavior of the link for posting comments. Also I want to place my own code
into the page that displays the comments.

 

Please tell me which hook / Filter I have to capture in action function. 

 

Thanks in Advance  

Best Regards,

Tariq Rahim

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051219/7d7e12cc/attachment.htm
From wp at igeek.info  Mon Dec 19 12:36:17 2005
From: wp at igeek.info (Amit Gupta)
Date: Mon Dec 19 12:36:29 2005
Subject: [wp-hackers] Hi, I need help regarding Plugin Development
References: <20051219094059.E94E8609F@comox.textdrive.com>
Message-ID: <007e01c60498$d13f1430$57ebd4cb@unicorn>

ISF - Tariq Rahim <tariqrahim@isf.com.pk> wrote:
|  I want to develop a Plug-in for Word press that enables the user to
|  make comments without refreshing or navigating to another page by
|  using the AJAX Technology. I need a hook / Filter that I use to
|  override the default behavior of the link for posting comments.
|  Also I want to place my own code into the page that displays
|  the comments.

well, there's CanaryComments available at http://redalt.com/downloads/
which uses AJAX to post comments on a post. You can look at that
to see what it uses.

You can find more on Plugin API(Hooks & Filters) at
http://codex.wordpress.org/Plugin_API

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051219/16f4dfde/attachment.htm
From mark at phunky.co.uk  Mon Dec 19 12:46:13 2005
From: mark at phunky.co.uk (Mark Harwood)
Date: Mon Dec 19 12:42:46 2005
Subject: [wp-hackers] Looking for Developers with a need for a new project.
In-Reply-To: <007e01c60498$d13f1430$57ebd4cb@unicorn>
References: <20051219094059.E94E8609F@comox.textdrive.com>
	<007e01c60498$d13f1430$57ebd4cb@unicorn>
Message-ID: <43A6AB95.5020409@phunky.co.uk>

intrested in developing some stuff for us all.

The kinda things im looking at are..

+ Forum
+ Advanced Registered User Profiles
+ Article Rating System
+ Download Manager
+ Mobile Content (ie: 100% Accessible on any device)

And many more.

So if you are intrested please drop me a email with your current resumes 
and links to some WP work to Phunky[At]Eurocss.NET

From mark at phunky.co.uk  Mon Dec 19 12:48:11 2005
From: mark at phunky.co.uk (Mark Harwood)
Date: Mon Dec 19 12:44:44 2005
Subject: [wp-hackers] Looking for Developers with a need for a new project.
In-Reply-To: <43A6AB95.5020409@phunky.co.uk>
References: <20051219094059.E94E8609F@comox.textdrive.com>	<007e01c60498$d13f1430$57ebd4cb@unicorn>
	<43A6AB95.5020409@phunky.co.uk>
Message-ID: <43A6AC0B.10703@phunky.co.uk>

Sorry i seem to have missed half the Email....

Lets try again!

---------------------------

First off let my explain about the site as it is...

EuroCSS.NET is one if not the largest community site for the 
Counter-Strike:Source Gaming Scene.

With around 500 unique visitors every day and around 5000 uniques a 
month we have a great user base, currently just under 500 registered users.

We have only been running since July of this year but have gain much 
respect among both the Pro and Amature Scenes.

With the upcoming release of WP2 im wanting to also update the site to 
WP2 but also make most of the functionality more plugin based.

The hope is to end up with a set of plugins that we will also be able to 
offer as OpenSource for the entire WP Community allowing others to spawn 
community sites based apon WP2

So if your a skilled PHP Developer looking for a new challenge, please 
get in touch.

All work will be open source, you will be highly credited for you work 
within the site in all the usual ways.

I will be taking most of the work on myself as it stands i just thought 
id ask the community to see if anyone else is intrested in developing 
some stuff for us all.

The kinda things im looking at are..

+ Forum
+ Advanced Registered User Profiles
+ Article Rating System
+ Download Manager
+ Mobile Content (ie: 100% Accessible on any device)

And many more.

So if you are intrested please drop me a email with your current resumes 
and links to some WP work to Phunky[At]Eurocss.NET


From wp-lowtraffic at schestowitz.com  Mon Dec 19 12:54:45 2005
From: wp-lowtraffic at schestowitz.com (Roy Schestowitz)
Date: Mon Dec 19 12:54:46 2005
Subject: [wp-hackers] Looking for Developers with a need for a new project.
In-Reply-To: <43A6AC0B.10703@phunky.co.uk>
References: <20051219094059.E94E8609F@comox.textdrive.com>
	<007e01c60498$d13f1430$57ebd4cb@unicorn>
	<43A6AB95.5020409@phunky.co.uk> <43A6AC0B.10703@phunky.co.uk>
Message-ID: <20051219125445.5qy8bu93q00k4coc@banana.catalyst2.com>

_____/ On Mon 19 Dec 2005 12:48:11 GMT, [Mark Harwood] wrote : \_____

> Sorry i seem to have missed half the Email....
>
> Lets try again!
>
> ---------------------------
>
> First off let my explain about the site as it is...
>
> EuroCSS.NET is one if not the largest community site for the 
> Counter-Strike:Source Gaming Scene.
>
> With around 500 unique visitors every day and around 5000 uniques a 
> month we have a great user base, currently just under 500 registered 
> users.
>
> We have only been running since July of this year but have gain much 
> respect among both the Pro and Amature Scenes.
>
> With the upcoming release of WP2 im wanting to also update the site 
> to WP2 but also make most of the functionality more plugin based.
>
> The hope is to end up with a set of plugins that we will also be able 
> to offer as OpenSource for the entire WP Community allowing others to 
> spawn community sites based apon WP2
>
> So if your a skilled PHP Developer looking for a new challenge, 
> please get in touch.
>
> All work will be open source, you will be highly credited for you 
> work within the site in all the usual ways.
>
> I will be taking most of the work on myself as it stands i just 
> thought id ask the community to see if anyone else is intrested in 
> developing some stuff for us all.
>
> The kinda things im looking at are..
>
> + Forum
> + Advanced Registered User Profiles
> + Article Rating System
> + Download Manager
> + Mobile Content (ie: 100% Accessible on any device)
>
> And many more.
>
> So if you are intrested please drop me a email with your current 
> resumes and links to some WP work to Phunky[At]Eurocss.NET

The mailing list to address is probably this one:

http://lists.automattic.com/mailman/listinfo/wp-pro

As a side note, you replied to an existing thread rather than started a 
new one.

Best wishes,

Roy

From mark at phunky.co.uk  Mon Dec 19 13:00:23 2005
From: mark at phunky.co.uk (Mark Harwood)
Date: Mon Dec 19 12:56:56 2005
Subject: [wp-hackers] Looking for Developers with a need for a new project.
In-Reply-To: <20051219125445.5qy8bu93q00k4coc@banana.catalyst2.com>
References: <20051219094059.E94E8609F@comox.textdrive.com>	<007e01c60498$d13f1430$57ebd4cb@unicorn>	<43A6AB95.5020409@phunky.co.uk>
	<43A6AC0B.10703@phunky.co.uk>
	<20051219125445.5qy8bu93q00k4coc@banana.catalyst2.com>
Message-ID: <43A6AEE7.2040201@phunky.co.uk>

Doh! Sorry...
From jeff at jrm.cc  Tue Dec 20 15:45:13 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Mon Dec 19 15:45:09 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <e6ec604d0512171107x7709b3c0tb9dd61e9bec96d51@mail.gmail.com>
References: <43A3E238.6050104@tamba2.org.uk>	<20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>	<e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com>	<002101c60337$cd074c50$6e01a8c0@sixfour>
	<e6ec604d0512171107x7709b3c0tb9dd61e9bec96d51@mail.gmail.com>
Message-ID: <43A82709.3020600@jrm.cc>

Andy Skelton wrote:
> Neither is impacted. In the new function spawn_pinger(), we use
> fsockopen to start a new thread via HTTP. AFAIK it's the only
> platform-independent way to do this without involving the user agent.

Why not just hook into the shutdown function? That option operates after 
sending all client data, would have no impact on either user, and 
wouldn't require spawning another thread/database connection/etc.

  - http://us3.php.net/manual/en/function.register-shutdown-function.php

In fact, you can use the wordpress API to hook into the "shutdown" hook 
which will do the same thing.



Regardless -- didn't this all get moved to the admin footer? Launched in 
an iframe? I was under the impression that 2.0 put a "toping" postmeta 
on a post at post time, and then the admin footer would list all the 
"toping" posts and deal with them.

Jeff
From skeltoac at gmail.com  Mon Dec 19 16:10:01 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Mon Dec 19 16:10:07 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <43A82709.3020600@jrm.cc>
References: <43A3E238.6050104@tamba2.org.uk>
	<20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>
	<e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com>
	<002101c60337$cd074c50$6e01a8c0@sixfour>
	<e6ec604d0512171107x7709b3c0tb9dd61e9bec96d51@mail.gmail.com>
	<43A82709.3020600@jrm.cc>
Message-ID: <e6ec604d0512190810j49285231td5a10b06cc9930e1@mail.gmail.com>

On 12/20/05, Jeff Minard <jeff@jrm.cc> wrote:
> Why not just hook into the shutdown function? That option operates after
> sending all client data, would have no impact on either user, and
> wouldn't require spawning another thread/database connection/etc.

It doesn't actually work the way you think. Test it out sometime.

> Regardless -- didn't this all get moved to the admin footer? Launched in
> an iframe? I was under the impression that 2.0 put a "toping" postmeta
> on a post at post time, and then the admin footer would list all the
> "toping" posts and deal with them.

Yes, that stood for a while in 1.6. It was discovered that the iframe
loading time impacted the user experience, sometimes to a point of
unusability.

If you have empirical data showing the new pinger to be inferior to
either of those methods, please bring it forward :-)

Andy
From m at mullenweg.com  Mon Dec 19 17:24:32 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Dec 19 17:25:24 2005
Subject: [wp-hackers] 2.0 Release
Message-ID: <43A6ECD0.1060404@mullenweg.com>

Wednesday or Thursday, depending on the phase of the moon.

Now would be a great time to start making sure your themes and plugins 
work with the new version, and post to hackers if you need any help 
updating them.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From m at mullenweg.com  Mon Dec 19 17:25:42 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Dec 19 17:26:17 2005
Subject: [wp-hackers] 2.0 Release
Message-ID: <43A6ED16.6000707@mullenweg.com>

Wednesday or Thursday, depending on the phase of the moon.

Now would be a great time to start making sure your themes and plugins 
work with the new version, and post to hackers if you need any help 
updating them.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From john at sinteur.com  Mon Dec 19 17:32:49 2005
From: john at sinteur.com (John Sinteur)
Date: Mon Dec 19 17:33:01 2005
Subject: [wp-hackers] 2.0 Release
In-Reply-To: <43A6ECD0.1060404@mullenweg.com>
References: <43A6ECD0.1060404@mullenweg.com>
Message-ID: <F7934831-0164-49B8-A321-1CE4B4C6491B@sinteur.com>


On Dec 19, 2005, at 18:24, Matt Mullenweg wrote:

> Wednesday or Thursday, depending on the phase of the moon.
>

wednesday, at 0 hrs UT:

http://tycho.usno.navy.mil/gif/moons/m240.gif

thursday, at 0 hrs UT::

http://tycho.usno.navy.mil/gif/moons/m250.gif

-John
From aaron at technosailor.com  Mon Dec 19 17:47:41 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Mon Dec 19 17:47:47 2005
Subject: [wp-hackers] 2.0 Release
In-Reply-To: <F7934831-0164-49B8-A321-1CE4B4C6491B@sinteur.com>
References: <43A6ECD0.1060404@mullenweg.com>
	<F7934831-0164-49B8-A321-1CE4B4C6491B@sinteur.com>
Message-ID: <ca7320070512190947r57e01aecxad511fc46ffb6b4a@mail.gmail.com>

Is that date bloggable?

On 12/19/05, John Sinteur <john@sinteur.com> wrote:
>
>
> On Dec 19, 2005, at 18:24, Matt Mullenweg wrote:
>
> > Wednesday or Thursday, depending on the phase of the moon.
> >
>
> wednesday, at 0 hrs UT:
>
> http://tycho.usno.navy.mil/gif/moons/m240.gif
>
> thursday, at 0 hrs UT::
>
> http://tycho.usno.navy.mil/gif/moons/m250.gif
>
> -John
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051219/879ab591/attachment.htm
From m at mullenweg.com  Mon Dec 19 18:12:10 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Dec 19 18:12:47 2005
Subject: [wp-hackers] 2.0 Release
In-Reply-To: <ca7320070512190947r57e01aecxad511fc46ffb6b4a@mail.gmail.com>
References: <43A6ECD0.1060404@mullenweg.com>	<F7934831-0164-49B8-A321-1CE4B4C6491B@sinteur.com>
	<ca7320070512190947r57e01aecxad511fc46ffb6b4a@mail.gmail.com>
Message-ID: <43A6F7FA.6060206@mullenweg.com>

Aaron Brazell wrote:
> Is that date bloggable?

Well obviously I just sent it out to a public list with hundreds of 
subscribers, so it's not a secret, however it isn't Set In Stone.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From aaron at technosailor.com  Mon Dec 19 18:13:43 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Mon Dec 19 18:13:48 2005
Subject: [wp-hackers] 2.0 Release
In-Reply-To: <43A6F7FA.6060206@mullenweg.com>
References: <43A6ECD0.1060404@mullenweg.com>
	<F7934831-0164-49B8-A321-1CE4B4C6491B@sinteur.com>
	<ca7320070512190947r57e01aecxad511fc46ffb6b4a@mail.gmail.com>
	<43A6F7FA.6060206@mullenweg.com>
Message-ID: <ca7320070512191013m28f3638ei2eaed8f7adbb3018@mail.gmail.com>

Understood. Thanks.

On 12/19/05, Matt Mullenweg <m@mullenweg.com> wrote:
>
> Aaron Brazell wrote:
> > Is that date bloggable?
>
> Well obviously I just sent it out to a public list with hundreds of
> subscribers, so it's not a secret, however it isn't Set In Stone.
>
> --
> Matt Mullenweg
>   http://photomatt.net | http://wordpress.org
> http://pingomatic.com | http://akismet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051219/e1595930/attachment.htm
From joseph at randomnetworks.com  Mon Dec 19 18:19:19 2005
From: joseph at randomnetworks.com (Joseph Scott)
Date: Mon Dec 19 18:16:55 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <e6ec604d0512171107x7709b3c0tb9dd61e9bec96d51@mail.gmail.com>
References: <43A3E238.6050104@tamba2.org.uk>
	<20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>
	<e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com>
	<002101c60337$cd074c50$6e01a8c0@sixfour>
	<e6ec604d0512171107x7709b3c0tb9dd61e9bec96d51@mail.gmail.com>
Message-ID: <72E76B00-4546-4762-A4B9-11F7A1C80B37@randomnetworks.com>


On Dec 17, 2005, at 11:07 AM, Andy Skelton wrote:

> On 12/17/05, David Chait <davebytes@comcast.net> wrote:
>> How exactly are you running it asynchronously?  Obviously,  
>> wouldn't ever
>> want an administrative function (pinging from a post) impacting a  
>> >reader<,
>> when the time CAN be spent by the >writer<... if/when it's a  
>> synchronous
>> event. :)
>
> Neither is impacted. In the new function spawn_pinger(), we use
> fsockopen to start a new thread via HTTP. AFAIK it's the only
> platform-independent way to do this without involving the user agent.
>
> If you are concerned that some hosts block fsockopen, don't worry:
> pings and trackbacks depend on the exact same function. If
> spawn_pinger() fails, execute-pings.php wouldn't have worked anyway.


I'm looking at spawn_pinger() (version 3321 of wp-includes/ 
functions.php) and I don't see how a simple call to fsockopen() are  
enough to create a new thread.  I couldn't find anything at php.net/ 
fsockopen about creating a new thread.  I don't think that PHP  
currently has any way to spawn new threads.  Are you confusing fork  
with thread?

Could you point out the code that makes the ping separate from the  
rest of the process?

--
Joseph Scott
http://joseph.randomnetworks.com/
joseph@randomnetworks.com



From skeltoac at gmail.com  Mon Dec 19 18:49:06 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Mon Dec 19 18:49:19 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <72E76B00-4546-4762-A4B9-11F7A1C80B37@randomnetworks.com>
References: <43A3E238.6050104@tamba2.org.uk>
	<20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>
	<e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com>
	<002101c60337$cd074c50$6e01a8c0@sixfour>
	<e6ec604d0512171107x7709b3c0tb9dd61e9bec96d51@mail.gmail.com>
	<72E76B00-4546-4762-A4B9-11F7A1C80B37@randomnetworks.com>
Message-ID: <e6ec604d0512191049u473d5e6vba974a06c934656f@mail.gmail.com>

On 12/19/05, Joseph Scott <joseph@randomnetworks.com> wrote:
> I'm looking at spawn_pinger() (version 3321 of wp-includes/
> functions.php) and I don't see how a simple call to fsockopen() are
> enough to create a new thread.  I couldn't find anything at php.net/
> fsockopen about creating a new thread.  I don't think that PHP
> currently has any way to spawn new threads.  Are you confusing fork
> with thread?

My description is probably not technically accurate--the word
"semaphore" clouds my vision--but the script in execute-pings.php
continues to run after the user's request has been fully handled.
Calling it a thread or a fork may be inaccurate.

The fsockopen call specifies a timeout of 0.01 seconds. Therefore the
user's request is never significantly impacted by the pinging script.
It just says, "GO!" and then forgets about it.

There was supposed to be a call to ignore_user_abort() in
execute-pings.php but it seems I forgot it.

Anyway, I tested thoroughly and found that when I publish, the next
admin screen loads rapidly and I can continue working. I watched the
access_log as the pings were received at the other server over the
next minute. It works.

The other complaint I have seen recently is from users who have
inserted many urls into the ping services option. This is never done
asynchronously and thus impacts the experience negatively. This should
be fixed in 2.1 using the same technique as spawn_pinger.

Andy
From jonabad at gmail.com  Mon Dec 19 20:20:47 2005
From: jonabad at gmail.com (Jon Abad)
Date: Mon Dec 19 20:20:53 2005
Subject: [wp-hackers] quicktags in 2.0 RTE
Message-ID: <43A7161F.1010103@gmail.com>

Hi everyone,
is there a documented method for a 1.5 plugin that creates a quicktag to 
create a button in the RTE if it is in use?
For example, I am a big fan of the Footnotes plugin and while I 
understand that you can click in and out of html edit mode, it would be 
nice to be able to work in the rich text mode all the time.


Jon Abad
From false.hopes at gmail.com  Mon Dec 19 20:33:53 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Dec 19 20:33:58 2005
Subject: [wp-hackers] When a ping is sent ?
In-Reply-To: <43A82709.3020600@jrm.cc>
References: <43A3E238.6050104@tamba2.org.uk>
	<20051217151456.k03nfg5xtf7k0cgc@banana.catalyst2.com>
	<e6ec604d0512170819t1c8b16c1v52c79619431eb1f5@mail.gmail.com>
	<002101c60337$cd074c50$6e01a8c0@sixfour>
	<e6ec604d0512171107x7709b3c0tb9dd61e9bec96d51@mail.gmail.com>
	<43A82709.3020600@jrm.cc>
Message-ID: <a491f91d0512191233w231426cenf46ed37d9df33b9d@mail.gmail.com>

On 12/20/05, Jeff Minard <jeff@jrm.cc> wrote:
> Andy Skelton wrote:
> Why not just hook into the shutdown function? That option operates after
> sending all client data, would have no impact on either user, and
> wouldn't require spawning another thread/database connection/etc.
>
>   - http://us3.php.net/manual/en/function.register-shutdown-function.php

Just to further elaborate on this, even though it is called after all
the main script processes, it does not run after a request. This comes
into play especially in environments that use some sort of output
compression in the webserver as opposed to PHP. It is true that the
buffer is flushed and output is sent, but PHP doesn't officially
terminate the request to the webserver, which means that a buffering
webserver that could be doing something like compression still needs
to wait for this function to execute. On the other hand, when you
don't have output compression, this works, but we can't reply on that
within WordPress, as some people will be continually screwed over.

>
> In fact, you can use the wordpress API to hook into the "shutdown" hook
> which will do the same thing.
>
>
>
> Regardless -- didn't this all get moved to the admin footer? Launched in
> an iframe? I was under the impression that 2.0 put a "toping" postmeta
> on a post at post time, and then the admin footer would list all the
> "toping" posts and deal with them.
>
> Jeff
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


--
--Robert Deaton
http://somethingunpredictable.com
From ryan at boren.nu  Mon Dec 19 20:41:22 2005
From: ryan at boren.nu (Ryan Boren)
Date: Mon Dec 19 20:41:15 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
Message-ID: <1135024882.8843.27.camel@localhost.localdomain>

http://dev.wp-plugins.org/browser/memcached/trunk/

From ringmaster at midnightcircus.com  Mon Dec 19 20:46:04 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Dec 19 20:42:19 2005
Subject: [wp-hackers] quicktags in 2.0 RTE
In-Reply-To: <43A7161F.1010103@gmail.com>
References: <43A7161F.1010103@gmail.com>
Message-ID: <43A71C0C.1090404@midnightcircus.com>

Jon Abad wrote:
> Hi everyone,
> is there a documented method for a 1.5 plugin that creates a quicktag to 
> create a button in the RTE if it is in use?

Not exactly, but this might be of use to you:

http://redalt.com/downloads/wp2/buttonsnap.zip

Owen


From ringmaster at midnightcircus.com  Mon Dec 19 20:58:37 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Mon Dec 19 20:54:49 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
In-Reply-To: <1135024882.8843.27.camel@localhost.localdomain>
References: <1135024882.8843.27.camel@localhost.localdomain>
Message-ID: <43A71EFD.6010302@midnightcircus.com>

Ryan Boren wrote:
> http://dev.wp-plugins.org/browser/memcached/trunk/

Installed.  How do I know it's working?

Owen

From jjb at ibiblio.org  Mon Dec 19 20:59:02 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Mon Dec 19 20:59:07 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
In-Reply-To: <1135024882.8843.27.camel@localhost.localdomain>
References: <1135024882.8843.27.camel@localhost.localdomain>
Message-ID: <Pine.LNX.4.61.0512191557390.29479@tribal.metalab.unc.edu>

On Mon, 19 Dec 2005, Ryan Boren wrote:

> http://dev.wp-plugins.org/browser/memcached/trunk/
>

This is exciting. Does it completely replace the filesystem based cache?
From pete.prodoehl at cygnusinteractive.com  Mon Dec 19 21:16:38 2005
From: pete.prodoehl at cygnusinteractive.com (Pete Prodoehl)
Date: Mon Dec 19 21:16:43 2005
Subject: [wp-hackers] Improving feeds
Message-ID: <43A72336.8030406@cygnusinteractive.com>


Feedburner recently introduced a bunch of new features:

   http://www.burningdoor.com/feedburner/archives/001543.html

Are there any wp-hackers who would be interested in adding similar 
features into WP? Are some of the features already available via plugins?


Pete


From ryan at boren.nu  Mon Dec 19 21:19:17 2005
From: ryan at boren.nu (Ryan Boren)
Date: Mon Dec 19 21:19:11 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
In-Reply-To: <Pine.LNX.4.61.0512191557390.29479@tribal.metalab.unc.edu>
References: <1135024882.8843.27.camel@localhost.localdomain>
	<Pine.LNX.4.61.0512191557390.29479@tribal.metalab.unc.edu>
Message-ID: <1135027157.8843.33.camel@localhost.localdomain>

On Mon, 2005-12-19 at 15:59 -0500, John Joseph Bachir wrote:
> On Mon, 19 Dec 2005, Ryan Boren wrote:
> 
> > http://dev.wp-plugins.org/browser/memcached/trunk/
> >
> 
> This is exciting. Does it completely replace the filesystem based cache?

Yes.  It caches to/from one or more memcached servers rather than using
the filesystem directly.  You can define your servers and ports by
setting $memcached_servers in wp-config.php.  By default, it looks for a
server on port 11211 on the local host.

Example server config:

$memcached_servers = array('192.168.1.1:11211', '192.168.1.2:11211');

Ryan

From aaron at technosailor.com  Mon Dec 19 21:26:19 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Mon Dec 19 21:26:25 2005
Subject: [wp-hackers] Improving feeds
In-Reply-To: <43A72336.8030406@cygnusinteractive.com>
References: <43A72336.8030406@cygnusinteractive.com>
Message-ID: <ca7320070512191326n48609cd6g87908b44480868aa@mail.gmail.com>

Most of those items are available via plugins.

On 12/19/05, Pete Prodoehl <pete.prodoehl@cygnusinteractive.com> wrote:
>
>
> Feedburner recently introduced a bunch of new features:
>
>    http://www.burningdoor.com/feedburner/archives/001543.html
>
> Are there any wp-hackers who would be interested in adding similar
> features into WP? Are some of the features already available via plugins?
>
>
> Pete
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051219/ed9a4685/attachment.htm
From aaron at technosailor.com  Mon Dec 19 21:27:53 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Mon Dec 19 21:28:12 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
In-Reply-To: <1135027157.8843.33.camel@localhost.localdomain>
References: <1135024882.8843.27.camel@localhost.localdomain>
	<Pine.LNX.4.61.0512191557390.29479@tribal.metalab.unc.edu>
	<1135027157.8843.33.camel@localhost.localdomain>
Message-ID: <ca7320070512191327m601454dbo3f9f9dc0afd80408@mail.gmail.com>

Interesting but potentially useless to most bloggers who don't have access
to other servers... unless 127.0.0.1 can be used or if there will be
publically available servers for such purposes.

On 12/19/05, Ryan Boren <ryan@boren.nu> wrote:
>
> On Mon, 2005-12-19 at 15:59 -0500, John Joseph Bachir wrote:
> > On Mon, 19 Dec 2005, Ryan Boren wrote:
> >
> > > http://dev.wp-plugins.org/browser/memcached/trunk/
> > >
> >
> > This is exciting. Does it completely replace the filesystem based cache?
>
> Yes.  It caches to/from one or more memcached servers rather than using
> the filesystem directly.  You can define your servers and ports by
> setting $memcached_servers in wp-config.php.  By default, it looks for a
> server on port 11211 on the local host.
>
> Example server config:
>
> $memcached_servers = array('192.168.1.1:11211', '192.168.1.2:11211');
>
> Ryan
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051219/6ad45986/attachment.htm
From davebytes at comcast.net  Mon Dec 19 21:52:52 2005
From: davebytes at comcast.net (David Chait)
Date: Mon Dec 19 21:52:55 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
References: <1135024882.8843.27.camel@localhost.localdomain><Pine.LNX.4.61.0512191557390.29479@tribal.metalab.unc.edu><1135027157.8843.33.camel@localhost.localdomain>
	<ca7320070512191327m601454dbo3f9f9dc0afd80408@mail.gmail.com>
Message-ID: <009c01c604e6$9023eae0$6e01a8c0@sixfour>

Public-available servers won't really help -- you're not going over the open 
internet to memcache...

Yes, this seems like only truly useful to:

- dedicated-hosting-box hosted sites
- larger WP rollouts (Wordpress.com, WPMU, smart hosts...) who want to trade 
off physical memory to reduce database and hard disk hits.

Don't get me wrong.. I think it's a cool addition, and a few of the big WP 
sites will find it immensely useful at reducing loads, but for the other 95% 
of folks this is just something to dream about. ;)

The problem is getting >shared< hosts to learn and adopt technical 
approaches that would reduce the load across their server farms. :) 
Reducing disk load (well, and cpu) is a good piece... especially as it 
reduces SQL hits as well.  Can we get DreamHost to try it? ;)

-d

----- Original Message ----- 
From: Aaron Brazell
To: wp-hackers@lists.automattic.com
Sent: Monday, December 19, 2005 4:27 PM
Subject: Re: [wp-hackers] Memcached backend for the Object Cache


Interesting but potentially useless to most bloggers who don't have access 
to other servers... unless 127.0.0.1 can be used or if there will be 
publically available servers for such purposes.


On 12/19/05, Ryan Boren <ryan@boren.nu> wrote:
On Mon, 2005-12-19 at 15:59 -0500, John Joseph Bachir wrote:
> On Mon, 19 Dec 2005, Ryan Boren wrote:
>
> > http://dev.wp-plugins.org/browser/memcached/trunk/
> >
>
> This is exciting. Does it completely replace the filesystem based cache?

Yes.  It caches to/from one or more memcached servers rather than using
the filesystem directly.  You can define your servers and ports by
setting $memcached_servers in wp-config.php.  By default, it looks for a
server on port 11211 on the local host.

Example server config:

$memcached_servers = array('192.168.1.1:11211 ', '192.168.1.2:11211');

Ryan 

From pp at myelin.co.nz  Mon Dec 19 22:26:06 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Mon Dec 19 22:26:12 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
In-Reply-To: <009c01c604e6$9023eae0$6e01a8c0@sixfour>
References: <1135024882.8843.27.camel@localhost.localdomain><Pine.LNX.4.61.0512191557390.29479@tribal.metalab.unc.edu><1135027157.8843.33.camel@localhost.localdomain>	<ca7320070512191327m601454dbo3f9f9dc0afd80408@mail.gmail.com>
	<009c01c604e6$9023eae0$6e01a8c0@sixfour>
Message-ID: <43A7337E.3000600@myelin.co.nz>

David Chait wrote:

>The problem is getting >shared< hosts to learn and adopt technical 
>approaches that would reduce the load across their server farms. :) 
>Reducing disk load (well, and cpu) is a good piece... especially as it 
>reduces SQL hits as well.  Can we get DreamHost to try it? ;)
>
One problem - memcached has no security.  So if you give a bunch of 
users access to a single memcached instance, anyone will be able to 
overwrite anyone else's data.  Unless someone makes memcached 
multi-user-aware, it probably won't be useful to shared hosts running 
lots of WP installs.  (Still great for wordpress.com, WPMU etc, though.)

Cheers,
Phil
From jjb at ibiblio.org  Mon Dec 19 22:36:48 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Mon Dec 19 22:36:57 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
In-Reply-To: <43A7337E.3000600@myelin.co.nz>
References: <1135024882.8843.27.camel@localhost.localdomain><Pine.LNX.4.61.0512191557390.29479@tribal.metalab.unc.edu><1135027157.8843.33.camel@localhost.localdomain>
	<ca7320070512191327m601454dbo3f9f9dc0afd80408@mail.gmail.com>
	<009c01c604e6$9023eae0$6e01a8c0@sixfour>
	<43A7337E.3000600@myelin.co.nz>
Message-ID: <Pine.LNX.4.61.0512191735250.8482@tribal.metalab.unc.edu>

On Tue, 20 Dec 2005, Phillip Pearson wrote:
> One problem - memcached has no security.  So if you give a bunch of 
> users access to a single memcached instance, anyone will be able to 
> overwrite anyone else's data.  Unless someone makes memcached 
> multi-user-aware, it probably won't be useful to shared hosts running 
> lots of WP installs.  (Still great for wordpress.com, WPMU etc, though.)

I am no memcached expert, but I wonder if there is much overhead involved 
in running a separate memcached dameon for each user? then they could be 
divied up by port... or permissions could be handled via dns and some 
other layer... food for thought.
From pp at myelin.co.nz  Tue Dec 20 00:06:17 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Tue Dec 20 00:06:31 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
In-Reply-To: <Pine.LNX.4.61.0512191735250.8482@tribal.metalab.unc.edu>
References: <1135024882.8843.27.camel@localhost.localdomain><Pine.LNX.4.61.0512191557390.29479@tribal.metalab.unc.edu><1135027157.8843.33.camel@localhost.localdomain>	<ca7320070512191327m601454dbo3f9f9dc0afd80408@mail.gmail.com>	<009c01c604e6$9023eae0$6e01a8c0@sixfour>	<43A7337E.3000600@myelin.co.nz>
	<Pine.LNX.4.61.0512191735250.8482@tribal.metalab.unc.edu>
Message-ID: <43A74AF9.20902@myelin.co.nz>

John Joseph Bachir wrote:

> On Tue, 20 Dec 2005, Phillip Pearson wrote:
>
>> One problem - memcached has no security.  So if you give a bunch of 
>> users access to a single memcached instance, anyone will be able to 
>> overwrite anyone else's data.  Unless someone makes memcached 
>> multi-user-aware, it probably won't be useful to shared hosts running 
>> lots of WP installs.  (Still great for wordpress.com, WPMU etc, though.)
>
> I am no memcached expert, but I wonder if there is much overhead 
> involved in running a separate memcached dameon for each user? then 
> they could be divied up by port... or permissions could be handled via 
> dns and some other layer... food for thought.

That would be secure, but the problem is that this would require 
reserving a fixed amount of memory for each user, I think.  Ideally 
you'd want the most commonly accessed objects over the whole server 
being cached rather than the most comment objects for each particular user.

Cheers,
Phil
From pp at myelin.co.nz  Tue Dec 20 00:11:50 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Tue Dec 20 00:11:56 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
 accepted prior to WP 2.0 release?
Message-ID: <43A74C46.2090004@myelin.co.nz>

Hi,

I'm not sure what the proper protocol for this is, but there's a patch 
I'd like to enourage someone to look at.  It modifies the stylesheet for 
the default WP template so that it doesn't conflict with the hReview 
microformat:

    http://trac.wordpress.org/ticket/1436

Short summary of why this is worthwhile: hReview requires that you mark 
up the description area with the 'description' class.  Kubrick uses 
'description' to style the blog subtitle.  This results in review 
contents in a Kubrick-using WP blog appearing in white text on a white 
background.

I hacked around this for the SB plugin by inserting some Javascript in 
the footer that would strip the 'description' class off anything not 
inside the header.  This patch would let hReview work if you don't have 
the SB plugin installed.

Cheers,
Phil
From aaron at technosailor.com  Tue Dec 20 01:16:28 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Tue Dec 20 01:16:35 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A75A8E.5030908@gmail.com>
References: <43A74C46.2090004@myelin.co.nz> <43A75A8E.5030908@gmail.com>
Message-ID: <ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>

Why not create a patch for the template file itself to use a different class
than "description" and submit it instead with an explanation of why the
patch is important?  It seems like a valid point, not so much for the core
of WP, but for a fairly mild accommodation of the microformat?  The only
real impact I would see is for users who have tweaked Kubrick with
additional CSS/markup and don't want to have that stylesheet overwritten
with a new style and template.  But they would run that risk anyway if they
don't change the theme name/folder as a new release would overwrite existing
changes.


> Phillip Pearson wrote:
> > Hi,
> >
> > I'm not sure what the proper protocol for this is, but there's a patch
> > I'd like to enourage someone to look at.  It modifies the stylesheet for
> > the default WP template so that it doesn't conflict with the hReview
> > microformat:
> >
> >    http://trac.wordpress.org/ticket/1436
> >
> > Short summary of why this is worthwhile: hReview requires that you mark
> > up the description area with the 'description' class.  Kubrick uses
> > 'description' to style the blog subtitle.  This results in review
> > contents in a Kubrick-using WP blog appearing in white text on a white
> > background.
> >
> > I hacked around this for the SB plugin by inserting some Javascript in
> > the footer that would strip the 'description' class off anything not
> > inside the header.  This patch would let hReview work if you don't have
> > the SB plugin installed.
> >
> > Cheers,
> > Phil
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>


--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051220/c027dbee/attachment.htm
From skippy at skippy.net  Tue Dec 20 01:38:07 2005
From: skippy at skippy.net (Scott Merrill)
Date: Tue Dec 20 01:38:13 2005
Subject: [wp-hackers] Backup, wp-content
Message-ID: <43A7607F.1070705@skippy.net>

I alerted the Forum crew that the wp-db-backup plugin bundled with the
forthcoming WordPress 2.0 requires that /wp-content/ be writable.  The
reason it requires write access is to create a non-obvious backup
directory in which to store the temporary file(s) (it appends the last
five characters of the md5 hash of the password in wp-config.php).

I opened a ticket about this:
   http://trac.wordpress.org/ticket/1934
which Matt closed.  I'm less than thrilled, but ultimately don't care
enough to push further.

A few forum folks were taken aback by the requirement for /wp-content/
to be writable:
http://comox.textdrive.com/pipermail/wp-forums/2005-December/001027.html
http://comox.textdrive.com/pipermail/wp-forums/2005-December/001029.html

This goes against the recommended file permissions defined in the
"Hardening WordPress" Codex guide (disclaimer: I wrote the recommended
file permissions for that page):
   http://codex.wordpress.org/Hardening_WordPress#File_permissions

I understand why this change was made, and I don't necessarily disagree
with it.  But it does substantially complicate support without providing
significantly improved security.  The current mechanism is still
susceptible to brute-force attacks to determine the specific characters
that make up the suffix for the backup directory.

I think one way to ease support, while simultaneously protecting the
backup directory, would be to stick an empty index.php inside the
/backup/ directory, and drop the use of the suffix.

I asked in #wordpress whether this is something I should bring to the
hackers list, to elicit more participation in the discussion, so here I am.

Do you all find it acceptable to require all of /wp-content/ to be
writable by the webserver (with the caveat that those that don't like it
don't need to use this plugin)?
Are there alternatives you might suggest?

Thanks,
Scott

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From davebytes at comcast.net  Tue Dec 20 01:42:58 2005
From: davebytes at comcast.net (David Chait)
Date: Tue Dec 20 01:43:01 2005
Subject: [wp-hackers] Backup, wp-content
References: <43A7607F.1070705@skippy.net>
Message-ID: <002c01c60506$b52129f0$6e01a8c0@sixfour>

I require this as well for some of my plugins.  I'm guessing there might be 
a 'better way', but it all starts to be more and more painful...

-d

----- Original Message ----- 
From: "Scott Merrill" <skippy@skippy.net>
To: <wp-hackers@lists.automattic.com>
Sent: Monday, December 19, 2005 8:38 PM
Subject: [wp-hackers] Backup, wp-content
...
| Do you all find it acceptable to require all of /wp-content/ to be
| writable by the webserver (with the caveat that those that don't like it
| don't need to use this plugin)? 

From r at schestowitz.com  Tue Dec 20 02:15:11 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue Dec 20 02:15:08 2005
Subject: [wp-hackers] Backup, wp-content
In-Reply-To: <43A7607F.1070705@skippy.net>
References: <43A7607F.1070705@skippy.net>
Message-ID: <20051220021511.meonxl1yppr4ogc0@banana.catalyst2.com>

_____/ On Tue 20 Dec 2005 01:38:07 GMT, [Scott Merrill] wrote : \_____

> I alerted the Forum crew that the wp-db-backup plugin bundled with the
> forthcoming WordPress 2.0 requires that /wp-content/ be writable.  The
> reason it requires write access is to create a non-obvious backup
> directory in which to store the temporary file(s) (it appends the last
> five characters of the md5 hash of the password in wp-config.php).
>
> I opened a ticket about this:
>   http://trac.wordpress.org/ticket/1934
> which Matt closed.  I'm less than thrilled, but ultimately don't care
> enough to push further.
>
> A few forum folks were taken aback by the requirement for /wp-content/
> to be writable:
> http://comox.textdrive.com/pipermail/wp-forums/2005-December/001027.html
> http://comox.textdrive.com/pipermail/wp-forums/2005-December/001029.html
>
> This goes against the recommended file permissions defined in the
> "Hardening WordPress" Codex guide (disclaimer: I wrote the recommended
> file permissions for that page):
>   http://codex.wordpress.org/Hardening_WordPress#File_permissions
>
> I understand why this change was made, and I don't necessarily disagree
> with it.  But it does substantially complicate support without providing
> significantly improved security.  The current mechanism is still
> susceptible to brute-force attacks to determine the specific characters
> that make up the suffix for the backup directory.
>
> I think one way to ease support, while simultaneously protecting the
> backup directory, would be to stick an empty index.php inside the
> /backup/ directory, and drop the use of the suffix.
>
> I asked in #wordpress whether this is something I should bring to the
> hackers list, to elicit more participation in the discussion, so here I am.
>
> Do you all find it acceptable to require all of /wp-content/ to be
> writable by the webserver (with the caveat that those that don't like it
> don't need to use this plugin)?
> Are there alternatives you might suggest?
>
> Thanks,
> Scott

I  am  probably missing something (like the trail of all  arguments),  but
needn't wp-content be writable already? For image uploads to work from the
dashboard,  wp-content/uploads  need  to have its full  path  writable[1].
Although  I had set this manually I noticed that wp-content/cache was  set
to 777 'out of the box'. /plugins and /themes remain read-only, as expect-
ed.  As  long as you don't permit people to hijack your blog,  the  server
will not be compromised.

Roy

[1]  In order for images to be conveniently managed and plug-ins have more
power, this might be desirable.

From r at schestowitz.com  Tue Dec 20 03:09:24 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue Dec 20 03:09:35 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
In-Reply-To: <43A71EFD.6010302@midnightcircus.com>
References: <1135024882.8843.27.camel@localhost.localdomain>
	<43A71EFD.6010302@midnightcircus.com>
Message-ID: <20051220030924.pqb3qdjqgkooo8s4@banana.catalyst2.com>

_____/ On Mon 19 Dec 2005 20:58:37 GMT, [Owen Winkler] wrote : \_____

> Ryan Boren wrote:
>> http://dev.wp-plugins.org/browser/memcached/trunk/
>
> Installed.  How do I know it's working?
>
> Owen

Disable disk cache (or empty its directory), then make multiple requests
(isolated from the public) and view the log if you have root access.

You could possibly test this without root privileges:

* Install  PHP-Shell < http://mgeisler.net/php-shell/ >

* Make requests for very heavy pages (e.g. 50 items with pictures) time 
and time
again

* Run 'uptime' in PHP-Shell and see the effect on the CPU. This is not
recommended on shared servers, of course...

Roy

From ringmaster at midnightcircus.com  Tue Dec 20 03:19:45 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Dec 20 03:20:04 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
In-Reply-To: <20051220030924.pqb3qdjqgkooo8s4@banana.catalyst2.com>
References: <1135024882.8843.27.camel@localhost.localdomain>
	<43A71EFD.6010302@midnightcircus.com>
	<20051220030924.pqb3qdjqgkooo8s4@banana.catalyst2.com>
Message-ID: <43A77851.4010705@midnightcircus.com>

Roy Schestowitz wrote:
> Disable disk cache (or empty its directory), then make multiple requests
> (isolated from the public) and view the log if you have root access.
> 
> You could possibly test this without root privileges:

That kind of defeats the purpose all-around, though, doesn't it?  I 
mean, I'd have to install a script that puts shell access to my server 
on the web, which sounds just a tad insecure.  But I can't do this on 
the live shared server because that could upset others.

In any case...

I don't want to know if performance is increased, I want to know if the 
new caching is being used.  Does memcache failover to disk-based 
caching?  If so, how do I determine if the memcache cache replacement is 
working or the built-in stuff?

Owen

From r at schestowitz.com  Tue Dec 20 03:39:12 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue Dec 20 03:39:35 2005
Subject: [wp-hackers] Memcached backend for the Object Cache
In-Reply-To: <43A77851.4010705@midnightcircus.com>
References: <1135024882.8843.27.camel@localhost.localdomain>
	<43A71EFD.6010302@midnightcircus.com>
	<20051220030924.pqb3qdjqgkooo8s4@banana.catalyst2.com>
	<43A77851.4010705@midnightcircus.com>
Message-ID: <20051220033912.0awz0ckxrn0owgs8@banana.catalyst2.com>

_____/ On Tue 20 Dec 2005 03:19:45 GMT, [Owen Winkler] wrote : \_____

> Roy Schestowitz wrote:
>> Disable disk cache (or empty its directory), then make multiple requests
>> (isolated from the public) and view the log if you have root access.
>>
>> You could possibly test this without root privileges:
>
> That kind of defeats the purpose all-around, though, doesn't it?  I 
> mean, I'd have to install a script that puts shell access to my 
> server on the web, which sounds just a tad insecure.  But I can't do 
> this on the live shared server because that could upset others.


You could use boolean function for some investigation, e.g.

  function _connect_sock (&$sock, $host, $timeout)

  function get_sock ($key)

It needs some spare time though. Perhaps a front-end to caching (or at least a
status windows) in the dashboard is worthwhile? It could confuse users, but is
about as user-friendly as status at the bottom left of cPanel.


> In any case...
>
> I don't want to know if performance is increased, I want to know if 
> the new caching is being used.  Does memcache failover to disk-based 
> caching?  If so, how do I determine if the memcache cache replacement 
> is working or the built-in stuff?


Possibility:

* Flush <wp-install>/wp-content/cache/

* Run some queries (page requests)

* See if <wp-install>/wp-content/cache/ is re-accommodated


Roy

From pp at myelin.co.nz  Tue Dec 20 03:41:14 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Tue Dec 20 03:41:25 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>
References: <43A74C46.2090004@myelin.co.nz> <43A75A8E.5030908@gmail.com>
	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>
Message-ID: <43A77D5A.6080405@myelin.co.nz>

Sure - done.

    http://trac.wordpress.org/ticket/1436

This isn't quite as "nice" as ryansking's original patch, but it still 
solves the hreview problem.

BTW, I've also been talking to David Janes about getting hAtom 
(http://microformats.org/wiki/hatom) support into WP 2.0.  This would 
require renaming the "entry" and "content" classes in Kubrick, as hAtom 
uses "entry" to wrap a post, and "content" to wrap the post 
content/description.  I can do a patch for this if this is an acceptable 
sort of change...?

As with the above patch, this would of course change Kubrick so people 
with modified stylesheets wouldn't be able to use them with the new 
themes/default/*, but then, people doing that have hopefully made a copy 
of themes/default in which to make their changes...

Cheers,
Phil

Aaron Brazell wrote:

> Why not create a patch for the template file itself to use a different 
> class than "description" and submit it instead with an explanation of 
> why the patch is important?  It seems like a valid point, not so much 
> for the core of WP, but for a fairly mild accommodation of the 
> microformat?  The only real impact I would see is for users who have 
> tweaked Kubrick with additional CSS/markup and don't want to have that 
> stylesheet overwritten with a new style and template.  But they would 
> run that risk anyway if they don't change the theme name/folder as a 
> new release would overwrite existing changes.
>
>     > I'm not sure what the proper protocol for this is, but there's a
>     patch
>     > I'd like to enourage someone to look at.  It modifies the
>     stylesheet for
>     > the default WP template so that it doesn't conflict with the
>     hReview
>     > microformat:
>     >
>     >    http://trac.wordpress.org/ticket/1436
>     >
>     > Short summary of why this is worthwhile: hReview requires that
>     you mark
>     > up the description area with the 'description' class.  Kubrick uses
>     > 'description' to style the blog subtitle.  This results in review
>     > contents in a Kubrick-using WP blog appearing in white text on a
>     white
>     > background.
>     >
>     > I hacked around this for the SB plugin by inserting some
>     Javascript in
>     > the footer that would strip the 'description' class off anything not
>     > inside the header.  This patch would let hReview work if you
>     don't have
>     > the SB plugin installed.
>

From pp at myelin.co.nz  Tue Dec 20 04:26:33 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Tue Dec 20 04:26:42 2005
Subject: [wp-hackers] Adding hAtom support to Kubrick stylesheet
Message-ID: <43A787F9.9060408@myelin.co.nz>

FYI - I've just uploaded a patch to add hAtom support to the Kubrick 
stylesheet.  Details in the ticket:

    http://trac.wordpress.org/ticket/2105

Cheers,
Phil
From podz at tamba2.org.uk  Tue Dec 20 09:28:45 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Dec 20 09:28:59 2005
Subject: [wp-hackers] Backup, wp-content
In-Reply-To: <20051220021511.meonxl1yppr4ogc0@banana.catalyst2.com>
References: <43A7607F.1070705@skippy.net>
	<20051220021511.meonxl1yppr4ogc0@banana.catalyst2.com>
Message-ID: <43A7CECD.4010705@tamba2.org.uk>

Put it this way:
Given that I asked for this plugin to make things easier for those
non-techs, which method would be easiest for your complete non-tech
relative ? Honestly ? If your mother / sister / uncle had a blog, which
could they handle the best ?

@Roy - I have never uploaded to wp-content and on every blog I have
installed have created an alternate directory. It's a sitting target -
every single WP blog has one. I think we should advise that users store
NO data in core directories. None.

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051220/cab3ca98/signature.pgp
From tariqrahim at isf.com.pk  Tue Dec 20 23:29:54 2005
From: tariqrahim at isf.com.pk (ISF - Tariq Rahim)
Date: Tue Dec 20 10:29:39 2005
Subject: [wp-hackers] Hi, all Need help regarding Template Edting
Message-ID: <20051220102934.D11A75C7E@comox.textdrive.com>


hi all

I want to modify the Template so that the Postings show in an iFrame.

 

How it could be done. Please tell me in detail

 

Thanks in Advance

 

Best Regards

 

Tariq Rahim



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051220/a47eb376/attachment.htm
From mark at phunky.co.uk  Tue Dec 20 10:48:30 2005
From: mark at phunky.co.uk (Mark Harwood)
Date: Tue Dec 20 10:45:14 2005
Subject: [wp-hackers] Hi, all Need help regarding Template Edting
In-Reply-To: <20051220102934.D11A75C7E@comox.textdrive.com>
References: <20051220102934.D11A75C7E@comox.textdrive.com>
Message-ID: <43A7E17E.4060102@phunky.co.uk>

Well theres two ways you can do it, you could place it in a actual 
iframe just as you would anything.

Or you could use a <div> with overflow set to give the apperance of a 
iframe like so...

http://pastecode.net/?action=viewpost&tag=518

All i've done in the above code is add 
|style="width:500px;height:500px;overflow:auto"
to the container div
|
From podz at tamba2.org.uk  Tue Dec 20 11:17:29 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Dec 20 11:17:55 2005
Subject: [wp-hackers] Hi, all Need help regarding Template Edting
In-Reply-To: <20051220102934.D11A75C7E@comox.textdrive.com>
References: <20051220102934.D11A75C7E@comox.textdrive.com>
Message-ID: <43A7E849.1010505@tamba2.org.uk>

ISF - Tariq Rahim wrote:
> 
> hi all
> 
> I want to modify the Template so that the Postings show in an iFrame.
> 

I'd suggest Codex or the Forums are more appropriate places for this help.

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051220/2aaf96de/signature.pgp
From podz at tamba2.org.uk  Tue Dec 20 14:19:36 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Dec 20 14:19:45 2005
Subject: [wp-hackers] trackback.rdf
Message-ID: <43A812F8.5020905@tamba2.org.uk>

This has gone from the theme index files:

<!--
<?php trackback_rdf(); ?>
-->

Reasons ? We will be asked.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051220/1c2b1496/signature.pgp
From ringmaster at midnightcircus.com  Tue Dec 20 14:44:45 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Dec 20 14:41:19 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A77D5A.6080405@myelin.co.nz>
References: <43A74C46.2090004@myelin.co.nz>
	<43A75A8E.5030908@gmail.com>	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>
	<43A77D5A.6080405@myelin.co.nz>
Message-ID: <43A818DD.7030707@midnightcircus.com>

Phillip Pearson wrote:
> BTW, I've also been talking to David Janes about getting hAtom 
> (http://microformats.org/wiki/hatom) support into WP 2.0.  This would 
> require renaming the "entry" and "content" classes in Kubrick, as hAtom 
> uses "entry" to wrap a post, and "content" to wrap the post 
> content/description.  I can do a patch for this if this is an acceptable 
> sort of change...?

I'm curious where these microformat guys get off absconding with fairly 
standard class names for use in their microformats.  "decription"? 
"entry"?  "content"?  They seem pretty common to many purposes.

I'm not thoroughly versed in the use of microformats, but it seems this 
could lead to a lot of false positives in a search.  If someone pointed 
a microformat scanner at a default Kubrick blog, for example, it might 
come back with false positives.

So educate me- What does the microformat syntax provide to prevent this 
from happening?  After all, my use of "description" as a CSS class name 
predates any microformat.

Owen

From skeltoac at gmail.com  Tue Dec 20 17:19:16 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Tue Dec 20 17:19:23 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A818DD.7030707@midnightcircus.com>
References: <43A74C46.2090004@myelin.co.nz> <43A75A8E.5030908@gmail.com>
	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>
	<43A77D5A.6080405@myelin.co.nz> <43A818DD.7030707@midnightcircus.com>
Message-ID: <e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>

On 12/20/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
> I'm curious where these microformat guys get off absconding with fairly
> standard class names for use in their microformats.  "decription"?
> "entry"?  "content"?  They seem pretty common to many purposes.

I second that and I urge microformats folks to be wary of using such
common terms as the sole determinant. With the class attribute being a
space-separated list, why not identify the exact microformat with an
additional classname?

class="hReview description"

Andy
From eric at meyerweb.com  Tue Dec 20 17:30:30 2005
From: eric at meyerweb.com (Eric A. Meyer)
Date: Tue Dec 20 17:30:40 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch
	being 	accepted prior to WP 2.0 release?
In-Reply-To: <e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>
References: <43A74C46.2090004@myelin.co.nz> <43A75A8E.5030908@gmail.com>
	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>
	<43A77D5A.6080405@myelin.co.nz> <43A818DD.7030707@midnightcircus.com>
	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>
Message-ID: <a05210602bfcdefb05f8d@[192.168.1.101]>

At 11:19 AM -0600 12/20/05, Andy Skelton wrote:

>On 12/20/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
>
>>  I'm curious where these microformat guys get off absconding with fairly
>>  standard class names for use in their microformats.  "decription"?
>>  "entry"?  "content"?  They seem pretty common to many purposes.
>
>I second that and I urge microformats folks to be wary of using such
>common terms as the sole determinant.

    You're not going to get a lot of traction saying that here, given 
it's a WrodPress mailing list and not a microformats list.  You might 
try microformats-discuss, which you can join over at 
http://microformats.org/discuss/ .

-- 
Eric A. Meyer  (eric@meyerweb.com)
Principal, Complex Spiral Consulting   http://complexspiral.com/
"CSS: The Definitive Guide," "CSS2.0 Programmer's Reference,"
"Eric Meyer on CSS," and more    http://meyerweb.com/eric/books/
From dougal at gunters.org  Tue Dec 20 17:47:09 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Tue Dec 20 17:47:19 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A74C46.2090004@myelin.co.nz>
References: <43A74C46.2090004@myelin.co.nz>
Message-ID: <43A8439D.5010408@gunters.org>

Phillip Pearson wrote:
> Hi,
> 
> I'm not sure what the proper protocol for this is, but there's a patch 
> I'd like to enourage someone to look at.  It modifies the stylesheet for 
> the default WP template so that it doesn't conflict with the hReview 
> microformat  [...]

I don't have a problem with making the selectors in the Kubrick CSS more 
specific. But couldn't you do the same thing from the other direction, 
to target the hReview elements? E.g.,

   div.hReview .description { /* blah blah blah */ }

The hAtom microformat is trickier, because this is more of a document 
structure issue.

Nobody ever said that you'd be able to plop any old microformatted 
information info an existing web template and have everything work right 
out of the box. That would certainly be nice, but the Real World always 
has a way of throwing a wrench into the works :)

This looks like an opportunity for someone to create a new WordPress 
template with built-in microformat support. I was hoping to revamp my 
site over the holidays with this in mind (i.e. hAtom).

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/
From denis at semiologic.com  Tue Dec 20 18:05:46 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Tue Dec 20 18:05:56 2005
Subject: [wp-hackers] WordPress 2
Message-ID: <000801c60590$00631200$6300a8c0@kergan>

I've set up a WordPress 2 test site this afternoon.

Some bugs are fun, e.g. when you add a child to 'a page with a very very
very long page title'.

Others are just annoying, e.g. TinyMCE randomly adds spaces in FF.

Others are merely uncaught cases, e.g. the implode error in the file list
when no .htaccess file exists.

Others are misleading, e.g. there is no error or warning when you mess
around with permalinks without a valid editable .htaccess file.

Some make WordPress go wiiiiild, e.g. if you delete the active theme's
directory, wp does not fallback to the default theme.

And I've bumped into fatal errors:

Fatal error: Call to a member function get_page_permastruct() on a
non-object in
c:\Inetpub\wwwroot\semiologic2\wp-includes\template-functions-links.php on
line 92

Fatal error: Call to a member function get_category_permastruct() on a
non-object in
c:\Inetpub\wwwroot\semiologic2\wp-includes\template-functions-category.php
on line 24

Manually deleting every static pages in the DB eventually fixed the first
issue. I've yet to pin down the second one. This is likely due to my
checking against permalinks somewhere in a plugin too early, so I'll
ultimately be fixing both at once.

In any event, however, though, this kind of thing is not what I'd go like to
go through with someone in the support forum.

And the bug list in trac looks scary enough for me to suggest against such a
release this week.

D.

From pp at myelin.co.nz  Tue Dec 20 18:46:50 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Tue Dec 20 18:54:47 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A8439D.5010408@gunters.org>
References: <43A74C46.2090004@myelin.co.nz> <43A8439D.5010408@gunters.org>
Message-ID: <20051220184650.GA24417@myelin.co.nz>

On Tue, Dec 20, 2005 at 12:47:09PM -0500, Dougal Campbell wrote:
> >I'm not sure what the proper protocol for this is, but there's a patch 
> >I'd like to enourage someone to look at.  It modifies the stylesheet for 
> >the default WP template so that it doesn't conflict with the hReview 
> >microformat  [...]
> 
> I don't have a problem with making the selectors in the Kubrick CSS more 
> specific. But couldn't you do the same thing from the other direction, 
> to target the hReview elements? E.g.,
> 
>   div.hReview .description { /* blah blah blah */ }

You could, although in the case of Kubrick, this would mean unsetting
a bunch of CSS attributes... only, you can't "unset" stuff in CSS,
only set it back to the default, but this then means it won't be
overridden by user stylesheets etc.

> The hAtom microformat is trickier, because this is more of a document 
> structure issue.
> 
> Nobody ever said that you'd be able to plop any old microformatted 
> information info an existing web template and have everything work right 
> out of the box. That would certainly be nice, but the Real World always 
> has a way of throwing a wrench into the works :)

Yes, definitely.  Microformats unfortunately often conflict with CSS
styling rules.  The microformats folk handwave this away by saying
"fix your CSS", but if you don't control the whole system, this isn't
so easy... thus this thread, patch, etc :-)

> This looks like an opportunity for someone to create a new WordPress 
> template with built-in microformat support. I was hoping to revamp my 
> site over the holidays with this in mind (i.e. hAtom).

Along those lines, I posted a ticket last night with a patch to add
hAtom support to Kubrick...

Cheers,
Phil
From aaron at technosailor.com  Tue Dec 20 19:18:07 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Tue Dec 20 19:18:20 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <000801c60590$00631200$6300a8c0@kergan>
References: <000801c60590$00631200$6300a8c0@kergan>
Message-ID: <ca7320070512201118j472f00eexf9dbe77e1238205e@mail.gmail.com>

Might log some tickets...

On 12/20/05, Denis de Bernardy <denis@semiologic.com> wrote:
>
> I've set up a WordPress 2 test site this afternoon.
>
> Some bugs are fun, e.g. when you add a child to 'a page with a very very
> very long page title'.
>
> Others are just annoying, e.g. TinyMCE randomly adds spaces in FF.
>
> Others are merely uncaught cases, e.g. the implode error in the file list
> when no .htaccess file exists.
>
> Others are misleading, e.g. there is no error or warning when you mess
> around with permalinks without a valid editable .htaccess file.
>
> Some make WordPress go wiiiiild, e.g. if you delete the active theme's
> directory, wp does not fallback to the default theme.
>
> And I've bumped into fatal errors:
>
> Fatal error: Call to a member function get_page_permastruct() on a
> non-object in
> c:\Inetpub\wwwroot\semiologic2\wp-includes\template-functions-links.php on
> line 92
>
> Fatal error: Call to a member function get_category_permastruct() on a
> non-object in
> c:\Inetpub\wwwroot\semiologic2\wp-includes\template-functions-category.php
> on line 24
>
> Manually deleting every static pages in the DB eventually fixed the first
> issue. I've yet to pin down the second one. This is likely due to my
> checking against permalinks somewhere in a plugin too early, so I'll
> ultimately be fixing both at once.
>
> In any event, however, though, this kind of thing is not what I'd go like
> to
> go through with someone in the support forum.
>
> And the bug list in trac looks scary enough for me to suggest against such
> a
> release this week.
>
> D.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051220/4fe2ad43/attachment-0001.htm
From denis at semiologic.com  Tue Dec 20 19:22:26 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Tue Dec 20 19:22:39 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <ca7320070512201118j472f00eexf9dbe77e1238205e@mail.gmail.com>
Message-ID: <001001c6059a$b6a113f0$6300a8c0@kergan>

> Might log some tickets...

I trust that these bugs are in the 450 unclosed bugs already.

D.

From aaron at technosailor.com  Tue Dec 20 19:26:31 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Tue Dec 20 19:26:37 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <001001c6059a$b6a113f0$6300a8c0@kergan>
References: <ca7320070512201118j472f00eexf9dbe77e1238205e@mail.gmail.com>
	<001001c6059a$b6a113f0$6300a8c0@kergan>
Message-ID: <ca7320070512201126x61b189cajfb4222a8ee77b130@mail.gmail.com>

Not 450 2.0 tickets... There's 45 logged 2.0 tickets still open.

And if they are not already logged and they don't get fixed, don't blame us.
;)

On 12/20/05, Denis de Bernardy <denis@semiologic.com> wrote:
>
> > Might log some tickets...
>
> I trust that these bugs are in the 450 unclosed bugs already.
>
> D.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051220/5dd7b38d/attachment.htm
From steve at somejunkwelike.com  Tue Dec 20 19:26:24 2005
From: steve at somejunkwelike.com (steve cooley)
Date: Tue Dec 20 19:26:41 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <001001c6059a$b6a113f0$6300a8c0@kergan>
References: <001001c6059a$b6a113f0$6300a8c0@kergan>
Message-ID: <43E63F01-3D6E-45D9-8523-CE58B922CA7D@somejunkwelike.com>

:) always trust your own research on what bugs are logged and what  
bugs are not.   Maybe they are... maybe they aren't :)

On Dec 20, 2005, at 11:22 AM, Denis de Bernardy wrote:

>> Might log some tickets...
>
> I trust that these bugs are in the 450 unclosed bugs already.
>
> D.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jjb at ibiblio.org  Tue Dec 20 19:31:50 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Tue Dec 20 19:31:59 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <ca7320070512201126x61b189cajfb4222a8ee77b130@mail.gmail.com>
References: <ca7320070512201118j472f00eexf9dbe77e1238205e@mail.gmail.com>
	<001001c6059a$b6a113f0$6300a8c0@kergan>
	<ca7320070512201126x61b189cajfb4222a8ee77b130@mail.gmail.com>
Message-ID: <Pine.LNX.4.61.0512201431110.23961@tribal.metalab.unc.edu>

On Tue, 20 Dec 2005, Aaron Brazell wrote:

> Not 450 2.0 tickets... There's 45 logged 2.0 tickets still open.
>
> And if they are not already logged and they don't get fixed, don't blame us.
> ;)
>
> On 12/20/05, Denis de Bernardy <denis@semiologic.com> wrote:
>>
>>> Might log some tickets...
>>
>> I trust that these bugs are in the 450 unclosed bugs already.
>>
>> D.

I'm so confused.... 2.0 has 11 open tickets... 2.1 has 60... Denis where 
did you see 450 open tickets?
From podz at tamba2.org.uk  Tue Dec 20 19:48:38 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Dec 20 19:48:55 2005
Subject: [wp-hackers] Your help would be appreciated
Message-ID: <43A86016.4020209@tamba2.org.uk>

When 2.0 does make it to release, if you can help at all in the forums
it would be very much appreciated. If so much has changed in the core
then the potential for errors - regardless of that the beta and RC
periods have thrown up - is much much larger than it was for 1.5
Most of the support there is given by people - myself included - who do
not know code. Most of you do :)

thanks,
P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051220/ea152a90/signature.pgp
From denis at semiologic.com  Tue Dec 20 20:09:26 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Tue Dec 20 20:09:34 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <Pine.LNX.4.61.0512201431110.23961@tribal.metalab.unc.edu>
Message-ID: <001d01c605a1$47381890$6300a8c0@kergan>

I dunno John:

http://trac.wordpress.org/report/1

424 matches is the number of bugs towards the top of the track when you view
all active tickets. Hopefully, I am not wrongly assuming that 1.5.x bugs and
[no version] bugs are all fixed in 2.0.

D.

From peter.westwood at ftwr.co.uk  Tue Dec 20 20:09:59 2005
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue Dec 20 20:10:19 2005
Subject: [wp-hackers] trackback.rdf
In-Reply-To: <43A812F8.5020905@tamba2.org.uk>
References: <43A812F8.5020905@tamba2.org.uk>
Message-ID: <43A86517.3030009@ftwr.co.uk>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Podz wrote:
> This has gone from the theme index files:
> 
> <!--
> <?php trackback_rdf(); ?>
> -->
> 

I thought this was removed in one of the 1.5.x versions

Looking at:
http://trac.wordpress.org/log/tags/1.5.2/wp-content/themes/default/index.php?rev=2799

This has been out since 1.5.1.2 - Removed by this changeset

http://trac.wordpress.org/changeset/2417

westi
- --
Peter Westwood
http://blog.ftwr.co.uk
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.2 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFDqGUXVPRdzag0AcURAoBZAKCWJVSu86e3m2nSedRkYafFMFrj4gCgvvIr
coS3vB3357HrF5a7bxCif4Y=
=aoQm
-----END PGP SIGNATURE-----

From podz at tamba2.org.uk  Tue Dec 20 20:21:56 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Dec 20 20:22:07 2005
Subject: [wp-hackers] trackback.rdf
In-Reply-To: <43A86517.3030009@ftwr.co.uk>
References: <43A812F8.5020905@tamba2.org.uk> <43A86517.3030009@ftwr.co.uk>
Message-ID: <43A867E4.2080005@tamba2.org.uk>

Peter Westwood wrote:
> Podz wrote:
>>> This has gone from the theme index files:
>>>
>>> <!--
>>> <?php trackback_rdf(); ?>
>>> -->
>>>
> 
> I thought this was removed in one of the 1.5.x versions

You are indeed correct thanks ! It was a 1.5 I inadvertently used to
compare - which means that I now need to look through a 1.5.2 to compare
against 2.0
All these theme changes buried in trac ....

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051220/549ff08c/signature.pgp
From jjb at ibiblio.org  Tue Dec 20 20:42:52 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Tue Dec 20 20:42:59 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <001d01c605a1$47381890$6300a8c0@kergan>
References: <001d01c605a1$47381890$6300a8c0@kergan>
Message-ID: <Pine.LNX.4.61.0512201540540.28811@tribal.metalab.unc.edu>

On Tue, 20 Dec 2005, Denis de Bernardy wrote:
> I dunno John:
>
> http://trac.wordpress.org/report/1
>
> 424 matches is the number of bugs towards the top of the track when you view
> all active tickets. Hopefully, I am not wrongly assuming that 1.5.x bugs and
> [no version] bugs are all fixed in 2.0.

Oh I see. Hmm, I'm not quite sure what notion of 'active' that particular 
trac report is using... here is where people look to see how many open 
issues there are for a given milestone:

   http://trac.wordpress.org/roadmap

Does anyone know what report 1 means by 'active'?

John
From skippy at skippy.net  Tue Dec 20 20:45:39 2005
From: skippy at skippy.net (Scott Merrill)
Date: Tue Dec 20 20:45:39 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <Pine.LNX.4.61.0512201540540.28811@tribal.metalab.unc.edu>
References: <001d01c605a1$47381890$6300a8c0@kergan>
	<Pine.LNX.4.61.0512201540540.28811@tribal.metalab.unc.edu>
Message-ID: <43A86D73.70800@skippy.net>

John Joseph Bachir wrote:
> Does anyone know what report 1 means by 'active'?

It means "not closed".  Report 1 shows all versions, all milestones.
Any unclosed ticket will show up there.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From dmhouse at gmail.com  Tue Dec 20 20:50:59 2005
From: dmhouse at gmail.com (David House)
Date: Tue Dec 20 20:51:11 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>
References: <43A74C46.2090004@myelin.co.nz> <43A75A8E.5030908@gmail.com>
	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>
	<43A77D5A.6080405@myelin.co.nz> <43A818DD.7030707@midnightcircus.com>
	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>
Message-ID: <ebe43d680512201250x62b87ce1h@mail.gmail.com>

n 20/12/05, Andy Skelton <skeltoac@gmail.com> wrote:
> I second that and I urge microformats folks to be wary of using such
> common terms as the sole determinant. With the class attribute being a
> space-separated list, why not identify the exact microformat with an
> additional classname?
>
> class="hReview description"

Well, all the hReview stuff must be kept in an element with a
classname of hReview (it's not necessary for it to be on every
element), so this should reduce the false positives.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From podz at tamba2.org.uk  Tue Dec 20 21:26:11 2005
From: podz at tamba2.org.uk (Podz)
Date: Tue Dec 20 21:26:28 2005
Subject: [wp-hackers] Christmas
Message-ID: <43A876F3.5070804@tamba2.org.uk>

Posted to Hackers & Forums:
I know that there has been an announcement, but if 2.0 does come out
tomorrow / Thursday, then just who is going to be around for all the
problems ? You can guarantee it will be a lot less than normal.
I can see that pushing it out the door means no more coding over the
holidays, but it means more problems and more work for everyone else.
This is surely the ideal time to freeze - and I do mean freeze - the code.

Who IS going to be around to help out ?

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051220/c69b2642/signature.pgp
From ryan at ryanduff.net  Tue Dec 20 21:31:28 2005
From: ryan at ryanduff.net (Ryan Duff)
Date: Tue Dec 20 21:31:09 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <43A876F3.5070804@tamba2.org.uk>
References: <43A876F3.5070804@tamba2.org.uk>
Message-ID: <43A87830.5050005@ryanduff.net>

Podz wrote:
> Posted to Hackers & Forums:
> I know that there has been an announcement, but if 2.0 does come out
> tomorrow / Thursday, then just who is going to be around for all the
> problems ? You can guarantee it will be a lot less than normal.
> I can see that pushing it out the door means no more coding over the
> holidays, but it means more problems and more work for everyone else.
> This is surely the ideal time to freeze - and I do mean freeze - the code.
> 
> Who IS going to be around to help out ?

The mindset seems to be the same in #wordpress

I know I'm planning on being away Saturday through Sunday and don't look 
forward to 100+ support emails when I get back. The same will be true of 
the forums. How about a break then a push after Christmas weekend. I 
think most of us would rather enjoy our holiday than worry about fixing 
our plugins to work with 2.0

Anybody else second this?

-- 
Ryan Duff
http://ryanduff.net
AIM: ryancduff
irc.freenode.net #wordpress
From ryan at boren.nu  Tue Dec 20 22:30:37 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Dec 20 22:30:31 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <43A86D73.70800@skippy.net>
References: <001d01c605a1$47381890$6300a8c0@kergan>
	<Pine.LNX.4.61.0512201540540.28811@tribal.metalab.unc.edu>
	<43A86D73.70800@skippy.net>
Message-ID: <1135117837.8812.6.camel@localhost.localdomain>

On Tue, 2005-12-20 at 15:45 -0500, Scott Merrill wrote:
> John Joseph Bachir wrote:
> > Does anyone know what report 1 means by 'active'?
> 
> It means "not closed".  Report 1 shows all versions, all milestones.
> Any unclosed ticket will show up there.

Regardless, if anyone finds bugs in RC3, write them up.  I ran across a
long and tedious comment thread on someone's weblog griping about a
certain bug, and no one bothered to report it in trac.  If a bug is not
in Trac, it doesn't exist. :-)

Ryan

From ryan at boren.nu  Tue Dec 20 22:45:18 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Dec 20 22:45:12 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <000801c60590$00631200$6300a8c0@kergan>
References: <000801c60590$00631200$6300a8c0@kergan>
Message-ID: <1135118718.8812.14.camel@localhost.localdomain>

On Tue, 2005-12-20 at 19:05 +0100, Denis de Bernardy wrote:
> I've set up a WordPress 2 test site this afternoon.
> 
> Some bugs are fun, e.g. when you add a child to 'a page with a very very
> very long page title'.

Elaborate.

> Others are just annoying, e.g. TinyMCE randomly adds spaces in FF.

Hmmm, I don't notice random spaces.  I'll play with it.

> Others are merely uncaught cases, e.g. the implode error in the file list
> when no .htaccess file exists.

Error message?

> Others are misleading, e.g. there is no error or warning when you mess
> around with permalinks without a valid editable .htaccess file.

If it's not editable, the suggested structures should have index.php/
prepended so that PATH_INFO is used instead of .htaccess.  If you use a
custom structure, you're own your own.

> Some make WordPress go wiiiiild, e.g. if you delete the active theme's
> directory, wp does not fallback to the default theme.

The theme will be reset if you visit the Presentation page.

> And I've bumped into fatal errors:
> 
> Fatal error: Call to a member function get_page_permastruct() on a
> non-object in
> c:\Inetpub\wwwroot\semiologic2\wp-includes\template-functions-links.php on
> line 92
> 
> Fatal error: Call to a member function get_category_permastruct() on a
> non-object in
> c:\Inetpub\wwwroot\semiologic2\wp-includes\template-functions-category.php
> on line 24
> 
> Manually deleting every static pages in the DB eventually fixed the first
> issue. I've yet to pin down the second one. This is likely due to my
> checking against permalinks somewhere in a plugin too early, so I'll
> ultimately be fixing both at once.

$wp_rewrite is not available until just before the 'init' action.

> In any event, however, though, this kind of thing is not what I'd go like to
> go through with someone in the support forum.
> 
> And the bug list in trac looks scary enough for me to suggest against such a
> release this week.

Much of that is deferred or won't fix.  If we waited until the bug
tracker were empty, we would never release again.  If you see a bug that
you think is "must have" for 2.0, mention it here and we can discuss
including it in 2.0.

Ryan

From dmhouse at gmail.com  Tue Dec 20 22:53:35 2005
From: dmhouse at gmail.com (David House)
Date: Tue Dec 20 22:53:44 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <1135118718.8812.14.camel@localhost.localdomain>
References: <000801c60590$00631200$6300a8c0@kergan>
	<1135118718.8812.14.camel@localhost.localdomain>
Message-ID: <ebe43d680512201453i5c4c5cdeh@mail.gmail.com>

I uploaded a patch to the bug that Denis started (2106):
http://trac.wordpress.org/attachment/ticket/2106/2106.diff

On 20/12/05, Ryan Boren <ryan@boren.nu> wrote:
> > Some bugs are fun, e.g. when you add a child to 'a page with a very very
> > very long page title'.
>
> Elaborate.

In the patch. The problem was that the select box gets very wide.

> > Others are just annoying, e.g. TinyMCE randomly adds spaces in FF.
>
> Hmmm, I don't notice random spaces.  I'll play with it.

I skipped this altogether, tinymce is a bit over my head :)

> > Others are merely uncaught cases, e.g. the implode error in the file list
> > when no .htaccess file exists.
>
> Error message?

I couldn't replicate.

> > Others are misleading, e.g. there is no error or warning when you mess
> > around with permalinks without a valid editable .htaccess file.
>
> If it's not editable, the suggested structures should have index.php/
> prepended so that PATH_INFO is used instead of .htaccess.  If you use a
> custom structure, you're own your own.

Kind of what I said on the bug report.

> > Some make WordPress go wiiiiild, e.g. if you delete the active theme's
> > directory, wp does not fallback to the default theme.
>
> The theme will be reset if you visit the Presentation page.

In patch to make it not white-screen in the mean time.

> > And I've bumped into fatal errors:
> >
> > Fatal error: Call to a member function get_page_permastruct() on a
> > non-object in
> > c:\Inetpub\wwwroot\semiologic2\wp-includes\template-functions-links.php on
> > line 92
> >
> > Fatal error: Call to a member function get_category_permastruct() on a
> > non-object in
> > c:\Inetpub\wwwroot\semiologic2\wp-includes\template-functions-category.php
> > on line 24
> >
> > Manually deleting every static pages in the DB eventually fixed the first
> > issue. I've yet to pin down the second one. This is likely due to my
> > checking against permalinks somewhere in a plugin too early, so I'll
> > ultimately be fixing both at once.
>
> $wp_rewrite is not available until just before the 'init' action.

These could be bugs still. Denis, we need info on where you got these
fatal errors.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From m at mullenweg.com  Tue Dec 20 23:03:55 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Dec 20 23:04:06 2005
Subject: [wp-hackers] Backup, wp-content
In-Reply-To: <43A7607F.1070705@skippy.net>
References: <43A7607F.1070705@skippy.net>
Message-ID: <43A88DDB.2080600@mullenweg.com>

Scott Merrill wrote:
> This goes against the recommended file permissions defined in the
> "Hardening WordPress" Codex guide (disclaimer: I wrote the recommended
> file permissions for that page):
>    http://codex.wordpress.org/Hardening_WordPress#File_permissions

wp-content was always intended to be completely writable.


-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From denis at semiologic.com  Tue Dec 20 23:17:32 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Tue Dec 20 23:17:42 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <1135118718.8812.14.camel@localhost.localdomain>
Message-ID: <000601c605bb$8e4fb750$1001a8c0@kergan>

> > Some bugs are fun, e.g. when you add a child to 'a page with a very 
> > very very long page title'.
> 
> Elaborate.

try it. it's missing some css to make the select box fixed width + likely
the options right aligned.


> > Others are just annoying, e.g. TinyMCE randomly adds spaces in FF.
> 
> Hmmm, I don't notice random spaces.  I'll play with it.

unless I am mistaking a similar bug is in trac already (IE extra spaces
regex). I reproduced by entering several empty paragraphs in a row in FF on
a Windows box


> > Others are merely uncaught cases, e.g. the implode error in 
> the file 
> > list when no .htaccess file exists.
> 
> Error message?

file(c:\Inetpub\wwwroot\semiologic2/) [function.file]: failed to open
stream: Permission denied in
c:\Inetpub\wwwroot\semiologic2\wp-admin\admin-functions.php on line 1447

with var_dump($file) returning string(0) ""


> If it's not editable, the suggested structures should have 
> index.php/ prepended so that PATH_INFO is used instead of 
> .htaccess.  If you use a custom structure, you're own your own.

Several sites recommend /%post_id%/%postname% as the more ideal SEO
permalink structure. Those who set this up without any idea of what they're
doing will end up asking for help in the forum if no warning is raised.


> The theme will be reset if you visit the Presentation page.

Correct, but take my word for it as I've handled such an event a dozen times
when I removed the login link in the last release of my theme: Until then,
the user is crying for help because he lost his link to the admin area.


> $wp_rewrite is not available until just before the 'init' action.

yep thanks... I eventually pinned the problem by hooking the relevant plugin
calls into the init action. still, it might make sense to force the
instantiation in the event someone tries to use it before it is available.

my guess is some of the other wp classes are not available in the shutdown
hook either (cf the bug I filed), since not instantiated as references.


As an aside, does anyone know which of these plugins are no longer useful in
WP2?

Check IP Behind Proxy
http://mnm.uib.es/gallir/posts/2005/02/21/145/

Cookie Timeout (@Michael, if on list: send an email for the fix/update)
http://www.freemoby.com/2005/05/21/wordpress-plugin-cookie-timeout/

Paged Comment Editing
http://www.coldforged.org/paged-comment-editing-plugin/

Enhanced Post List
http://www.coldforged.org/the-enhanced-view-plugin/

FixBack:
http://www.thunderguy.com/semicolon/wordpress/fixback-wordpress-plugin/

Impostercide
http://www.skippy.net/blog/plugins

Kill/Keep www., Kill /index.php
http://txfx.net/2005/05/30/one-permalink-only/

Smart Update Pinger
http://www.daven.se/english/wp-plugins.html

Twilight AutoSave
http://twilightuniverse.com/2005/04/twilight-autosave/

WP-Cron Future Pings
http://www.skippy.net/blog/plugins/

Permalink Redirect
http://fucoder.com/code/permalink-redirect/

D.


From pp at myelin.co.nz  Tue Dec 20 23:27:56 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Tue Dec 20 23:28:07 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A818DD.7030707@midnightcircus.com>
References: <43A74C46.2090004@myelin.co.nz>	<43A75A8E.5030908@gmail.com>	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>	<43A77D5A.6080405@myelin.co.nz>
	<43A818DD.7030707@midnightcircus.com>
Message-ID: <43A8937C.3010802@myelin.co.nz>


>> BTW, I've also been talking to David Janes about getting hAtom 
>> (http://microformats.org/wiki/hatom) support into WP 2.0.  This would 
>> require renaming the "entry" and "content" classes in Kubrick, as 
>> hAtom uses "entry" to wrap a post, and "content" to wrap the post 
>> content/description.  I can do a patch for this if this is an 
>> acceptable sort of change...?
>
> I'm curious where these microformat guys get off absconding with 
> fairly standard class names for use in their microformats.  
> "decription"? "entry"?  "content"?  They seem pretty common to many 
> purposes.
>
> I'm not thoroughly versed in the use of microformats, but it seems 
> this could lead to a lot of false positives in a search.  If someone 
> pointed a microformat scanner at a default Kubrick blog, for example, 
> it might come back with false positives.
>
> So educate me- What does the microformat syntax provide to prevent 
> this from happening?  After all, my use of "description" as a CSS 
> class name predates any microformat.

Usually the more specific classes (which always have VERY common names) 
have to occur inside a container with a less common name.  In hAtom's 
case, the outer class name is "feed", which is less common.

(It's "hreview" for hReview, "vevent" for hCalendar, etc.)

So a minimal page marked up with hAtom might look like:

<div class="feed">
    <div class="entry" id="id of entry">
    <h3><a href="url of entry" rel="bookmark">title goes here</a></h3>
    <div class="content">entry contents go in here</div>
</div>

And a minimal hReview would be:

<div class="hreview">
    <p class="item fn">Name of thing being reviewed</p>
    <div class="description">Review goes here</div>
</div>

The problems arise when you try to mark up existing HTML with 
microformats, because the microformat authors always choose such generic 
names ("item", "description", "content", "entry", etc)....

Cheers,
Phil
From r at schestowitz.com  Wed Dec 21 03:25:40 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Wed Dec 21 03:25:53 2005
Subject: [wp-hackers] Backup, wp-content
In-Reply-To: <43A88DDB.2080600@mullenweg.com>
References: <43A7607F.1070705@skippy.net> <43A88DDB.2080600@mullenweg.com>
Message-ID: <20051221032540.fx5ncln46u3o440o@banana.catalyst2.com>

_____/ On Tue 20 Dec 2005 23:03:55 GMT, [Matt Mullenweg] wrote : \_____

> Scott Merrill wrote:
>> This goes against the recommended file permissions defined in the
>> "Hardening WordPress" Codex guide (disclaimer: I wrote the recommended
>> file permissions for that page):
>>    http://codex.wordpress.org/Hardening_WordPress#File_permissions
>
> wp-content was always intended to be completely writable.

I  wonder  if  it's part of the installation process. The  latest  nightly
(21-12-2005) does not make it writable 'out of the box' (see below), but I
suspect that's to do with the tool I use to uncompress the archive. It ap-
pears to be drwxrwxrwx in the archive itself.

When somebody installs WordPress, s/he might be prompted to change permis-
sions in order to upload images. I had the same experience with 1.2 and 1.5.

roy@BAINE:~/Desktop/wp> ls -la
total 1
drwxr-xr-x    3 roy      users          80 2005-12-21 03:13 .
drwx------    4 roy      student       280 2005-12-21 03:13 ..
drwxr-xr-x    5 roy      users         816 2005-12-21 02:30 wordpress
roy@BAINE:~/Desktop/wp> ls -la wordpress/wp-con*
-rw-r--r--    1 roy      users         887 2005-08-03 01:46
wordpress/wp-config-sample.php

wordpress/wp-content:
total 5
drwxr-xr-x    4 roy      users         128 2005-12-21 02:30 .
drwxr-xr-x    5 roy      users         816 2005-12-21 02:30 ..
-rw-r--r--    1 roy      users          32 2005-11-18 23:18 index.php
drwxr-xr-x    3 roy      users         136 2005-12-21 02:30 plugins
drwxr-xr-x    4 roy      users          96 2005-12-21 02:30 themes

From r at schestowitz.com  Wed Dec 21 03:36:59 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Wed Dec 21 03:37:09 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <000601c605bb$8e4fb750$1001a8c0@kergan>
References: <000601c605bb$8e4fb750$1001a8c0@kergan>
Message-ID: <20051221033659.8em04kswawow8ow4@banana.catalyst2.com>

_____/ On Tue 20 Dec 2005 23:17:32 GMT, [Denis de Bernardy] wrote : \_____

> As an aside, does anyone know which of these plugins are no longer useful in
> WP2?
>
> Check IP Behind Proxy
> http://mnm.uib.es/gallir/posts/2005/02/21/145/
>
> Cookie Timeout (@Michael, if on list: send an email for the fix/update)
> http://www.freemoby.com/2005/05/21/wordpress-plugin-cookie-timeout/
>
> Paged Comment Editing
> http://www.coldforged.org/paged-comment-editing-plugin/
>
> Enhanced Post List
> http://www.coldforged.org/the-enhanced-view-plugin/
>
> FixBack:
> http://www.thunderguy.com/semicolon/wordpress/fixback-wordpress-plugin/
>
> Impostercide
> http://www.skippy.net/blog/plugins
>
> Kill/Keep www., Kill /index.php
> http://txfx.net/2005/05/30/one-permalink-only/
>
> Smart Update Pinger
> http://www.daven.se/english/wp-plugins.html
>
> Twilight AutoSave
> http://twilightuniverse.com/2005/04/twilight-autosave/
>
> WP-Cron Future Pings
> http://www.skippy.net/blog/plugins/
>
> Permalink Redirect
> http://fucoder.com/code/permalink-redirect/


http://codex.wordpress.org/User:Matt/2.0_Plugin_Compatibility

I notice that many of the above plug-ins have been tested  for compatibility
already.

Roy

From fortes at gmail.com  Wed Dec 21 03:45:00 2005
From: fortes at gmail.com (Filipe Fortes)
Date: Wed Dec 21 03:45:07 2005
Subject: [wp-hackers] Plugin Port to 2.0: Showing private posts in
	single-view
Message-ID: <236d6d6a0512201945o7651ec6frb03942fa1bdd9c71@mail.gmail.com>

I'm the author of the PostLevels plugin, and I'm trying to port it to
WP 2.0. It's actually been slightly broken since 1.5.1, when the
following logic in get_posts() was changed (classes.php around line
641 in trunk):

			if ( ('publish' != $status) && ('static' != $status) ) {
				if ( ! (isset($user_ID) && ('' != intval($user_ID))) ) {
					// User must be logged in to view unpublished posts.
					$this->posts = array();
				} else {
					if ('draft' == $status) {
						// User must have edit permissions on the draft to preview.
						if (! current_user_can('edit_post', $this->posts[0]->ID)) {
							$this->posts = array();
						} else {
							$this->is_preview = true;
						}
					} else {
						if (! current_user_can('read_post', $this->posts[0]->ID))
							$this->posts = array();
					}
				}
			}

Considering the code is relatively unchanged in 2.0, I assume this
design will stay around.

I've gone through the code, and it seems like I should try to use the
"user_has_cap" filter which is called in WP_User.has_cap. I've managed
to get this working with the following hacky filter:

function postlevel_has_cap($capabilities)
{
  global $wp_query, $user_level, $postlevel_key;
  if (($wp_query->is_single) && (get_post_status($wp_query->posts[0])
== 'private'))
  {
    $post = $wp_query->posts[0];
    if (($post->meta_key == $postlevel_key) && (intval($user_level) >
$post->meta_value))
    {
      $capabilities['read_private_posts'] = 1;
    }
  }
  return $capabilities;
}

Questions for this list:

1. Is this code at all future proof? It works now because get_posts
only calls current_user_can for single posts? Should I be making my
filter more robust?

2. My filter only recieves one argument, although the apply_filter
which calls it passes three. Known issue?

3. Does any one see any red flags in this implementation?


Thanks!
From mani.monajjemi at gmail.com  Wed Dec 21 07:27:39 2005
From: mani.monajjemi at gmail.com (Mani Monajjemi)
Date: Wed Dec 21 07:27:51 2005
Subject: [wp-hackers] WordPress 2
In-Reply-To: <20051221033659.8em04kswawow8ow4@banana.catalyst2.com>
References: <000601c605bb$8e4fb750$1001a8c0@kergan>
	<20051221033659.8em04kswawow8ow4@banana.catalyst2.com>
Message-ID: <d4d3e29e0512202327s298f834cr49144ca2de6cc006@mail.gmail.com>

For FF Space problem , please see this :
http://trac.wordpress.org/ticket/2037
still unsolved

On 12/20/05, Roy Schestowitz <r@schestowitz.com> wrote:
>
> _____/ On Tue 20 Dec 2005 23:17:32 GMT, [Denis de Bernardy] wrote : \_____
>
> > As an aside, does anyone know which of these plugins are no longer
> useful in
> > WP2?
> >
> > Check IP Behind Proxy
> > http://mnm.uib.es/gallir/posts/2005/02/21/145/
> >
> > Cookie Timeout (@Michael, if on list: send an email for the fix/update)
> > http://www.freemoby.com/2005/05/21/wordpress-plugin-cookie-timeout/
> >
> > Paged Comment Editing
> > http://www.coldforged.org/paged-comment-editing-plugin/
> >
> > Enhanced Post List
> > http://www.coldforged.org/the-enhanced-view-plugin/
> >
> > FixBack:
> > http://www.thunderguy.com/semicolon/wordpress/fixback-wordpress-plugin/
> >
> > Impostercide
> > http://www.skippy.net/blog/plugins
> >
> > Kill/Keep www., Kill /index.php
> > http://txfx.net/2005/05/30/one-permalink-only/
> >
> > Smart Update Pinger
> > http://www.daven.se/english/wp-plugins.html
> >
> > Twilight AutoSave
> > http://twilightuniverse.com/2005/04/twilight-autosave/
> >
> > WP-Cron Future Pings
> > http://www.skippy.net/blog/plugins/
> >
> > Permalink Redirect
> > http://fucoder.com/code/permalink-redirect/
>
>
> http://codex.wordpress.org/User:Matt/2.0_Plugin_Compatibility
>
> I notice that many of the above plug-ins have been tested  for
> compatibility
> already.
>
> Roy
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
Mani Monajjemi
www.manionline.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051221/1f6b21d2/attachment.htm
From mark.wordpress at txfx.net  Wed Dec 21 08:22:20 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Dec 21 08:22:35 2005
Subject: [wp-hackers] trackback.rdf
In-Reply-To: <43A867E4.2080005@tamba2.org.uk>
References: <43A812F8.5020905@tamba2.org.uk> <43A86517.3030009@ftwr.co.uk>
	<43A867E4.2080005@tamba2.org.uk>
Message-ID: <191DFB3B-B4D0-4329-B4A2-95CF170F62D7@txfx.net>

This is used for Movable Type and some other miscellaneous blog apps  
for automatic Trackback.  I'd just as well leave it in, as there are  
tens of thousands of MT users who rely on this functionality.  I  
would, however, move it up closer to the top of the page (as some  
agents only download X Kb of the page looking for it).

I currently do something like this:

<?php if ( is_single() ) : $post = $posts[0]; ?>
<!--
<?php trackback_rdf(); ?>
-->
<?php endif; ?>

(The $post = $posts[0]; part is because I call it up above the loop).

The only downside to this is that it increases the size of the page  
by some small amount.

Benefits:
- backwards compat
- people don't annoy us with "Why aren't MT people sending me  
trackbacks?" questions

If the decision is made not to put it back in, I'll probably just  
write a plugin to do it (using wp_head();) and then we can just refer  
people there if they ask about it.

- Mark

On Dec 20, 2005, at 3:21 PM, Podz wrote:

> Peter Westwood wrote:
>> Podz wrote:
>>>> This has gone from the theme index files:
>>>>
>>>> <!--
>>>> <?php trackback_rdf(); ?>
>>>> -->
>>>>
>>
>> I thought this was removed in one of the 1.5.x versions
>
> You are indeed correct thanks ! It was a 1.5 I inadvertently used to
> compare - which means that I now need to look through a 1.5.2 to  
> compare
> against 2.0
> All these theme changes buried in trac ....
>
> P.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

--
Mark Jaquith
http://txfx.net/


From jeff at jrm.cc  Thu Dec 22 08:23:57 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Wed Dec 21 08:24:06 2005
Subject: [wp-hackers] Backup, wp-content
In-Reply-To: <20051221032540.fx5ncln46u3o440o@banana.catalyst2.com>
References: <43A7607F.1070705@skippy.net> <43A88DDB.2080600@mullenweg.com>
	<20051221032540.fx5ncln46u3o440o@banana.catalyst2.com>
Message-ID: <43AA629D.9000804@jrm.cc>

Roy Schestowitz wrote:
> I  wonder  if  it's part of the installation process. The  latest  nightly
> (21-12-2005) does not make it writable 'out of the box' (see below), but I
> suspect that's to do with the tool I use to uncompress the archive. It ap-
> pears to be drwxrwxrwx in the archive itself.

I imagine a significant portion of users who download the ZIP and then 
upload from their winows/mac box won't transfer the permissions across 
their FTP client, so it's not so pertinent.

I am fairly certain the installation process throws errors when it 
encounters a non-writeable directory that should be and even gives you 
the SSH commands to copy&paste.

Jeff
From podz at tamba2.org.uk  Wed Dec 21 09:07:04 2005
From: podz at tamba2.org.uk (Podz)
Date: Wed Dec 21 09:07:18 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <43A876F3.5070804@tamba2.org.uk>
References: <43A876F3.5070804@tamba2.org.uk>
Message-ID: <43A91B38.4010907@tamba2.org.uk>

Podz wrote:
> Posted to Hackers & Forums:
> I know that there has been an announcement, but if 2.0 does come out
> tomorrow / Thursday, then just who is going to be around for all the
> problems ? You can guarantee it will be a lot less than normal.
> I can see that pushing it out the door means no more coding over the
> holidays, but it means more problems and more work for everyone else.


Matt ??

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051221/64d9f95f/signature.pgp
From elharo at metalab.unc.edu  Wed Dec 21 09:31:54 2005
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Wed Dec 21 09:32:04 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <ebe43d680512201250x62b87ce1h@mail.gmail.com>
References: <43A74C46.2090004@myelin.co.nz>
	<43A75A8E.5030908@gmail.com>	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>	<43A77D5A.6080405@myelin.co.nz>
	<43A818DD.7030707@midnightcircus.com>	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>
	<ebe43d680512201250x62b87ce1h@mail.gmail.com>
Message-ID: <43A9210A.304@metalab.unc.edu>

I hadn't heard much about microformats prior to this thread, but now 
I've done a little googling and I think I get the idea.  The 
microformats idea sounds attractive on the face of it, but perhaps this 
thread is explaining why it fails for at least some use cases? As long 
as you insist on shoving everything into one flat namespace, then name 
conflicts are inevitable. The problems discussed here would likely not 
arise if what was transferred and inserted into the DOM was real 
namespaced XML.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim
From ckunte at gmail.com  Wed Dec 21 10:05:32 2005
From: ckunte at gmail.com (Chetan Kunte)
Date: Wed Dec 21 10:05:41 2005
Subject: [wp-hackers] Custom feeds: Full and summary
Message-ID: <74b84aa30512210205s4da71325ue979b6e32f4141a2@mail.gmail.com>

Hi -

I'm looking at something like this in theory, when the blog owner
provides full post in feed by default:

http://somesite.com/?feed=rss2&type=summary
http://somesite.com/?feed=rss2&type=full

Does such a thing exist natively in WordPress?
--
Chetan, ckunte.com
From r at schestowitz.com  Wed Dec 21 10:33:40 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Wed Dec 21 10:33:49 2005
Subject: [wp-hackers] Custom feeds: Full and summary
In-Reply-To: <74b84aa30512210205s4da71325ue979b6e32f4141a2@mail.gmail.com>
References: <74b84aa30512210205s4da71325ue979b6e32f4141a2@mail.gmail.com>
Message-ID: <20051221103340.gmorairarhmo0044@banana.catalyst2.com>

_____/ On Wed 21 Dec 2005 10:05:32 GMT, [Chetan Kunte] wrote : \_____

> Hi -
>
> I'm looking at something like this in theory, when the blog owner
> provides full post in feed by default:
>
> http://somesite.com/?feed=rss2&type=summary
> http://somesite.com/?feed=rss2&type=full
>
> Does such a thing exist natively in WordPress?
> --
> Chetan, ckunte.com


Looking at the latest version,

===
<?php if (get_settings('rss_use_excerpt')) : ?>
		<description><![CDATA[<?php the_excerpt_rss() ?>]]></description>
<?php else : ?>
		<description><![CDATA[<?php the_excerpt_rss() ?>]]></description>
	<?php if ( strlen( $post->post_content ) > 0 ) : ?>
		<content:encoded><![CDATA[<?php the_content('', 0, '') 
?>]]></content:encoded>
	<?php else : ?>
		<content:encoded><![CDATA[<?php the_excerpt_rss() ?>]]></content:encoded>
	<?php endif; ?>
<?php endif; ?>
===

You  could change the file and save it as rss-excerpt.php. As far as I can
tell,  you could not (trivially) pass it an argument to bubble through  to
the  conditional statements. It requires changing the interfaces. It would
be  nice, I agree. I have about 5 separate files for feeds, which leads to
fragmentations  and  leaks.  Choice is good nonetheless. 1/3 of  the  sub-
scribers prefer full text and the rest settle for a one-line excerpt.

Best wishes,

Roy

From dmhouse at gmail.com  Wed Dec 21 10:40:54 2005
From: dmhouse at gmail.com (David House)
Date: Wed Dec 21 10:41:03 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A9210A.304@metalab.unc.edu>
References: <43A74C46.2090004@myelin.co.nz> <43A75A8E.5030908@gmail.com>
	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>
	<43A77D5A.6080405@myelin.co.nz> <43A818DD.7030707@midnightcircus.com>
	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>
	<ebe43d680512201250x62b87ce1h@mail.gmail.com>
	<43A9210A.304@metalab.unc.edu>
Message-ID: <ebe43d680512210240j3f84f26ei@mail.gmail.com>

On 21/12/05, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> I hadn't heard much about microformats prior to this thread, but now
> I've done a little googling and I think I get the idea.  The
> microformats idea sounds attractive on the face of it, but perhaps this
> thread is explaining why it fails for at least some use cases? As long
> as you insist on shoving everything into one flat namespace, then name
> conflicts are inevitable. The problems discussed here would likely not
> arise if what was transferred and inserted into the DOM was real
> namespaced XML.

They're namespaced by the base class element, i.e. all the hReview
element have to be contained within an element with classname
'hreview'. So anything looking for hreview classes only needs to look
at children to elements with said class.

Using namespaced XML goes against the design principles of
microformats. They're designed to be easy, simple, QUICK to read and
write, no need to bother around with things like namespacing. In
essence, why use complex XML features when a simple classname will do?

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From choan.galvez at gmail.com  Wed Dec 21 10:53:48 2005
From: choan.galvez at gmail.com (=?ISO-8859-1?Q?=22Choan_C=2E_G=E1lvez=22?=)
Date: Wed Dec 21 10:54:22 2005
Subject: [wp-hackers] Custom feeds: Full and summary
In-Reply-To: <20051221103340.gmorairarhmo0044@banana.catalyst2.com>
References: <74b84aa30512210205s4da71325ue979b6e32f4141a2@mail.gmail.com>
	<20051221103340.gmorairarhmo0044@banana.catalyst2.com>
Message-ID: <43A9343C.8070004@gmail.com>

Roy Schestowitz wrote:
> _____/ On Wed 21 Dec 2005 10:05:32 GMT, [Chetan Kunte] wrote : \_____
>> I'm looking at something like this in theory, when the blog owner
>> provides full post in feed by default:
>>
>> http://somesite.com/?feed=rss2&type=summary
>> http://somesite.com/?feed=rss2&type=full
>>
>> Does such a thing exist natively in WordPress?
>> -- 
> Looking at the latest version,
> 
> ===
> <?php if (get_settings('rss_use_excerpt')) : ?>
>         <description><![CDATA[<?php the_excerpt_rss() ?>]]></description>
> <?php else : ?>
>         <description><![CDATA[<?php the_excerpt_rss() ?>]]></description>
>     <?php if ( strlen( $post->post_content ) > 0 ) : ?>
>         <content:encoded><![CDATA[<?php the_content('', 0, '') 
> ?>]]></content:encoded>
>     <?php else : ?>
>         <content:encoded><![CDATA[<?php the_excerpt_rss() 
> ?>]]></content:encoded>
>     <?php endif; ?>
> <?php endif; ?>
> ===
> 
> You  could change the file and save it as rss-excerpt.php. As far as I can
> tell,  you could not (trivially) pass it an argument to bubble through  to
> the  conditional statements. It requires changing the interfaces. It would
> be  nice, I agree. I have about 5 separate files for feeds, which leads to
> fragmentations  and  leaks.  Choice is good nonetheless. 1/3 of  the  sub-
> scribers prefer full text and the rest settle for a one-line excerpt.

Well, inside function `get_settings` the return value is filtered:

	return apply_filters('option_' . $setting, $option);

So the `rss_use_excerpt` value could easily be modified by a plugin.

Regards,
Choan
From mark.wordpress at txfx.net  Wed Dec 21 11:21:48 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Dec 21 11:22:01 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <43A87830.5050005@ryanduff.net>
References: <43A876F3.5070804@tamba2.org.uk> <43A87830.5050005@ryanduff.net>
Message-ID: <0ED4EB20-0274-428C-9CE6-E006D481995C@txfx.net>

I'm probably not going to be as available as I'd like to be.  And I  
certainly wouldn't mind letting the current release candidate float  
until the new year so that we can give time for any critical bugs to  
surface.  It'd be nice if we could focus on a 2.1 release afterwards,  
instead of wasting time scrambling to get a 2.0.1 release out.

- Mark

On Dec 20, 2005, at 4:31 PM, Ryan Duff wrote:

> Podz wrote:
>> Posted to Hackers & Forums:
>> I know that there has been an announcement, but if 2.0 does come out
>> tomorrow / Thursday, then just who is going to be around for all the
>> problems ? You can guarantee it will be a lot less than normal.
>> I can see that pushing it out the door means no more coding over the
>> holidays, but it means more problems and more work for everyone else.
>> This is surely the ideal time to freeze - and I do mean freeze -  
>> the code.
>> Who IS going to be around to help out ?
>
> The mindset seems to be the same in #wordpress
>
> I know I'm planning on being away Saturday through Sunday and don't  
> look forward to 100+ support emails when I get back. The same will  
> be true of the forums. How about a break then a push after  
> Christmas weekend. I think most of us would rather enjoy our  
> holiday than worry about fixing our plugins to work with 2.0
>
> Anybody else second this?
>
> -- 
> Ryan Duff
> http://ryanduff.net
> AIM: ryancduff
> irc.freenode.net #wordpress
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

--
Mark Jaquith
http://txfx.net/


From ryan at ryanduff.net  Wed Dec 21 11:34:05 2005
From: ryan at ryanduff.net (Ryan Duff)
Date: Wed Dec 21 11:34:05 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <0ED4EB20-0274-428C-9CE6-E006D481995C@txfx.net>
References: <43A876F3.5070804@tamba2.org.uk> <43A87830.5050005@ryanduff.net>
	<0ED4EB20-0274-428C-9CE6-E006D481995C@txfx.net>
Message-ID: <43A93DAD.6040409@ryanduff.net>

Mark Jaquith wrote:
> I'm probably not going to be as available as I'd like to be.  And I 
> certainly wouldn't mind letting the current release candidate float 
> until the new year so that we can give time for any critical bugs to 
> surface.  It'd be nice if we could focus on a 2.1 release afterwards, 
> instead of wasting time scrambling to get a 2.0.1 release out.
> 
> - Mark
> 
> On Dec 20, 2005, at 4:31 PM, Ryan Duff wrote:
> 
>> Podz wrote:
>>> Posted to Hackers & Forums:
>>> I know that there has been an announcement, but if 2.0 does come out
>>> tomorrow / Thursday, then just who is going to be around for all the
>>> problems ? You can guarantee it will be a lot less than normal.
>>> I can see that pushing it out the door means no more coding over the
>>> holidays, but it means more problems and more work for everyone else.
>>> This is surely the ideal time to freeze - and I do mean freeze - the 
>>> code.
>>> Who IS going to be around to help out ?
>>
>> The mindset seems to be the same in #wordpress
>>
>> I know I'm planning on being away Saturday through Sunday and don't 
>> look forward to 100+ support emails when I get back. The same will be 
>> true of the forums. How about a break then a push after Christmas 
>> weekend. I think most of us would rather enjoy our holiday than worry 
>> about fixing our plugins to work with 2.0
>>
>> Anybody else second this?
>>
>> --Ryan Duff
>> http://ryanduff.net
>> AIM: ryancduff
>> irc.freenode.net #wordpress


Mark, thanks for the input. I'm glad somebody is alive out there. Seems 
to me, every forum thread or mail I send to the list gets ignored. Even 
though Podz started this one, I replied next and apparently that killed it.



From denis at semiologic.com  Wed Dec 21 11:44:11 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Wed Dec 21 11:44:20 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <43A93DAD.6040409@ryanduff.net>
Message-ID: <001401c60623$dc5f6860$1001a8c0@kergan>

> Mark, thanks for the input. I'm glad somebody is alive out 
> there. Seems 
> to me, every forum thread or mail I send to the list gets 
> ignored. Even 
> though Podz started this one, I replied next and apparently 
> that killed it.

More likely is that everyone agrees, so there's not much to add to your
comments. ;)

Anyway... +1 vote against WordPress 2.0 getting released this year.

D.


From r at schestowitz.com  Wed Dec 21 11:45:04 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Wed Dec 21 11:45:12 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <43A93DAD.6040409@ryanduff.net>
References: <43A876F3.5070804@tamba2.org.uk> <43A87830.5050005@ryanduff.net>
	<0ED4EB20-0274-428C-9CE6-E006D481995C@txfx.net>
	<43A93DAD.6040409@ryanduff.net>
Message-ID: <20051221114504.psqm88s8034skcok@banana.catalyst2.com>

_____/ On Wed 21 Dec 2005 11:34:05 GMT, [Ryan Duff] wrote : \_____
> Mark Jaquith wrote:
>> On Dec 20, 2005, at 4:31 PM, Ryan Duff wrote:
>>> Podz wrote:
>>>> Posted to Hackers & Forums:
>>>> I know that there has been an announcement, but if 2.0 does come out
>>>> tomorrow / Thursday, then just who is going to be around for all the
>>>> problems ? You can guarantee it will be a lot less than normal.
>>>> I can see that pushing it out the door means no more coding over the
>>>> holidays, but it means more problems and more work for everyone else.
>>>> This is surely the ideal time to freeze - and I do mean freeze - the code.
>>>> Who IS going to be around to help out ?
>>>
>>> The mindset seems to be the same in #wordpress
>>>
>>> I know I'm planning on being away Saturday through Sunday and don't 
>>> look forward to 100+ support emails when I get back. The same will 
>>> be true of the forums. How about a break then a push after 
>>> Christmas weekend. I think most of us would rather enjoy our 
>>> holiday than worry about fixing our plugins to work with 2.0
>>>
>>> Anybody else second this?
>>>
>>
>> I'm probably not going to be as available as I'd like to be.  And I 
>> certainly wouldn't mind letting the current release candidate float 
>> until the new year so that we can give time for any critical bugs to 
>> surface.  It'd be nice if we could focus on a 2.1 release 
>> afterwards, instead of wasting time scrambling to get a 2.0.1 
>> release out.
>>
>> - Mark
>>
> Mark, thanks for the input. I'm glad somebody is alive out there. 
> Seems to me, every forum thread or mail I send to the list gets 
> ignored. Even though Podz started this one, I replied next and 
> apparently that killed it.

Evidently it hasn't. If 2.0 is released before Christmas, I'll make an 
early new
year's resolution and get involved in the forums throughout the holiday.

Roy

From mark.wordpress at txfx.net  Wed Dec 21 11:50:08 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Dec 21 11:50:23 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <001401c60623$dc5f6860$1001a8c0@kergan>
References: <001401c60623$dc5f6860$1001a8c0@kergan>
Message-ID: <9956B2B5-2E6A-4379-8A4B-2348899C8520@txfx.net>

I was going to agree with your assessment of the "I agree, I see no  
need to reply" syndrome by not responding... but then I'd be the only  
one laughing at my joke.

On Dec 21, 2005, at 6:44 AM, Denis de Bernardy wrote:

>> Mark, thanks for the input. I'm glad somebody is alive out
>> there. Seems
>> to me, every forum thread or mail I send to the list gets
>> ignored. Even
>> though Podz started this one, I replied next and apparently
>> that killed it.
>
> More likely is that everyone agrees, so there's not much to add to  
> your
> comments. ;)
>
> Anyway... +1 vote against WordPress 2.0 getting released this year.
>
> D.
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

--
Mark Jaquith
http://txfx.net/


From mark.wordpress at txfx.net  Wed Dec 21 11:51:49 2005
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Dec 21 11:52:01 2005
Subject: [wp-hackers] Custom feeds: Full and summary
In-Reply-To: <43A9343C.8070004@gmail.com>
References: <74b84aa30512210205s4da71325ue979b6e32f4141a2@mail.gmail.com>
	<20051221103340.gmorairarhmo0044@banana.catalyst2.com>
	<43A9343C.8070004@gmail.com>
Message-ID: <0AC7BE99-DFF2-407B-B739-81A34E066662@txfx.net>

I was bored... this works:

<?php
/*
Plugin Name: Feed Type Override
Description: Allows you to pass ?feedtype=full or ?feedtype=excerpt  
to feed URIs to force full or excerpted feeds.  Without a feedtype  
designated, it uses your default setting.
Author: Mark Jaquith
Author URI: http://txfx.net/
*/

function txfx_feedtype_override($option) {
	if ( $_GET['feedtype'] == 'full' )
		return false;
	if ( $_GET['feedtype'] == 'excerpt' )
		return true;
	return $option;
}
add_filter('option_rss_use_excerpt', 'txfx_feedtype_override');
?>




On Dec 21, 2005, at 5:53 AM, Choan C. G?lvez wrote:

> Roy Schestowitz wrote:
>> _____/ On Wed 21 Dec 2005 10:05:32 GMT, [Chetan Kunte] wrote : \_____
>>> I'm looking at something like this in theory, when the blog owner
>>> provides full post in feed by default:
>>>
>>> http://somesite.com/?feed=rss2&type=summary
>>> http://somesite.com/?feed=rss2&type=full
>>>
>>> Does such a thing exist natively in WordPress?
>>> -- 
>> Looking at the latest version,
>> ===
>> <?php if (get_settings('rss_use_excerpt')) : ?>
>>         <description><![CDATA[<?php the_excerpt_rss() ?>]]></ 
>> description>
>> <?php else : ?>
>>         <description><![CDATA[<?php the_excerpt_rss() ?>]]></ 
>> description>
>>     <?php if ( strlen( $post->post_content ) > 0 ) : ?>
>>         <content:encoded><![CDATA[<?php the_content('', 0, '') ?>]] 
>> ></content:encoded>
>>     <?php else : ?>
>>         <content:encoded><![CDATA[<?php the_excerpt_rss() ?>]]></ 
>> content:encoded>
>>     <?php endif; ?>
>> <?php endif; ?>
>> ===
>> You  could change the file and save it as rss-excerpt.php. As far  
>> as I can
>> tell,  you could not (trivially) pass it an argument to bubble  
>> through  to
>> the  conditional statements. It requires changing the interfaces.  
>> It would
>> be  nice, I agree. I have about 5 separate files for feeds, which  
>> leads to
>> fragmentations  and  leaks.  Choice is good nonetheless. 1/3 of   
>> the  sub-
>> scribers prefer full text and the rest settle for a one-line excerpt.
>
> Well, inside function `get_settings` the return value is filtered:
>
> 	return apply_filters('option_' . $setting, $option);
>
> So the `rss_use_excerpt` value could easily be modified by a plugin.
>
> Regards,
> Choan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

--
Mark Jaquith
http://txfx.net/


From ringmaster at midnightcircus.com  Wed Dec 21 11:57:55 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Wed Dec 21 11:58:17 2005
Subject: [wp-hackers] Plugin Port to 2.0: Showing private posts in
	single-view
In-Reply-To: <236d6d6a0512201945o7651ec6frb03942fa1bdd9c71@mail.gmail.com>
References: <236d6d6a0512201945o7651ec6frb03942fa1bdd9c71@mail.gmail.com>
Message-ID: <43A94343.3050306@midnightcircus.com>

Filipe Fortes wrote:
> 1. Is this code at all future proof? It works now because get_posts
> only calls current_user_can for single posts? Should I be making my
> filter more robust?

I'm not sure what exactly you're trying to do, but a cursory glance at 
your code suggests that you need to migrate from the user level system 
(and using the $user_level variable) into the Role-based system.

Owen
From ckunte at gmail.com  Wed Dec 21 12:00:39 2005
From: ckunte at gmail.com (Chetan Kunte)
Date: Wed Dec 21 12:01:29 2005
Subject: [wp-hackers] Custom feeds: Full and summary
In-Reply-To: <0AC7BE99-DFF2-407B-B739-81A34E066662@txfx.net>
References: <74b84aa30512210205s4da71325ue979b6e32f4141a2@mail.gmail.com>
	<20051221103340.gmorairarhmo0044@banana.catalyst2.com>
	<43A9343C.8070004@gmail.com>
	<0AC7BE99-DFF2-407B-B739-81A34E066662@txfx.net>
Message-ID: <74b84aa30512210400p2a362931k6988a53efc2d7ce6@mail.gmail.com>

Mark, Choan, Roy -

Awesome! Did I tell you how amazing you all folks are? Thanks a ton!
--
Chetan, ckunte.com

On 12/21/05, Mark Jaquith <mark.wordpress@txfx.net> wrote:
> I was bored... this works:
>
> <?php
> /*
> Plugin Name: Feed Type Override
> Description: Allows you to pass ?feedtype=full or ?feedtype=excerpt
> to feed URIs to force full or excerpted feeds.  Without a feedtype
> designated, it uses your default setting.
> Author: Mark Jaquith
> Author URI: http://txfx.net/
> */
>
> function txfx_feedtype_override($option) {
>         if ( $_GET['feedtype'] == 'full' )
>                 return false;
>         if ( $_GET['feedtype'] == 'excerpt' )
>                 return true;
>         return $option;
> }
> add_filter('option_rss_use_excerpt', 'txfx_feedtype_override');
> ?>
>
>
>
>
> On Dec 21, 2005, at 5:53 AM, Choan C. G?lvez wrote:
>
> > Roy Schestowitz wrote:
> >> _____/ On Wed 21 Dec 2005 10:05:32 GMT, [Chetan Kunte] wrote : \_____
> >>> I'm looking at something like this in theory, when the blog owner
> >>> provides full post in feed by default:
> >>>
> >>> http://somesite.com/?feed=rss2&type=summary
> >>> http://somesite.com/?feed=rss2&type=full
> >>>
> >>> Does such a thing exist natively in WordPress?
> >>> --
> >> Looking at the latest version,
> >> ===
> >> <?php if (get_settings('rss_use_excerpt')) : ?>
> >>         <description><![CDATA[<?php the_excerpt_rss() ?>]]></
> >> description>
> >> <?php else : ?>
> >>         <description><![CDATA[<?php the_excerpt_rss() ?>]]></
> >> description>
> >>     <?php if ( strlen( $post->post_content ) > 0 ) : ?>
> >>         <content:encoded><![CDATA[<?php the_content('', 0, '') ?>]]
> >> ></content:encoded>
> >>     <?php else : ?>
> >>         <content:encoded><![CDATA[<?php the_excerpt_rss() ?>]]></
> >> content:encoded>
> >>     <?php endif; ?>
> >> <?php endif; ?>
> >> ===
> >> You  could change the file and save it as rss-excerpt.php. As far
> >> as I can
> >> tell,  you could not (trivially) pass it an argument to bubble
> >> through  to
> >> the  conditional statements. It requires changing the interfaces.
> >> It would
> >> be  nice, I agree. I have about 5 separate files for feeds, which
> >> leads to
> >> fragmentations  and  leaks.  Choice is good nonetheless. 1/3 of
> >> the  sub-
> >> scribers prefer full text and the rest settle for a one-line excerpt.
> >
> > Well, inside function `get_settings` the return value is filtered:
> >
> >       return apply_filters('option_' . $setting, $option);
> >
> > So the `rss_use_excerpt` value could easily be modified by a plugin.
> >
> > Regards,
> > Choan
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >
>
> --
> Mark Jaquith
> http://txfx.net/
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From elharo at metalab.unc.edu  Wed Dec 21 14:08:05 2005
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Wed Dec 21 14:08:16 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <ebe43d680512210240j3f84f26ei@mail.gmail.com>
References: <43A74C46.2090004@myelin.co.nz>
	<43A75A8E.5030908@gmail.com>	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>	<43A77D5A.6080405@myelin.co.nz>
	<43A818DD.7030707@midnightcircus.com>	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>	<ebe43d680512201250x62b87ce1h@mail.gmail.com>	<43A9210A.304@metalab.unc.edu>
	<ebe43d680512210240j3f84f26ei@mail.gmail.com>
Message-ID: <43A961C5.1080301@metalab.unc.edu>

David House wrote:

> Using namespaced XML goes against the design principles of
> microformats. They're designed to be easy, simple, QUICK to read and
> write, no need to bother around with things like namespacing. In
> essence, why use complex XML features when a simple classname will do?

But will a simple classname do? It doesn't seem to be working here, and 
that's a problem.

Even when it might, it's often somewhat easier to work with the real 
names on the elements rather than hiding them in class attributes. My 
own HTML pages have quite a few non-standard, invalid elements that I 
happily process with XML tools. I could probably change them to <div 
class="name"> and <span class="name"> instead, but my code would become 
more complex to handle that; and I don't see what anyone would gain by 
me doing this.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim
From steagl at people.it  Wed Dec 21 15:14:22 2005
From: steagl at people.it (Stefano)
Date: Wed Dec 21 15:14:38 2005
Subject: [wp-hackers] Christmas
References: <43A876F3.5070804@tamba2.org.uk> <43A87830.5050005@ryanduff.net>
Message-ID: <27siq11a3r1mfu8at2kdb79d8h9rqt6ivq@4ax.com>

Il Tue, 20 Dec 2005 16:31:28 -0500, Ryan Duff <ryan@ryanduff.net>
scrive:

>I know I'm planning on being away Saturday through Sunday and don't look 
>forward to 100+ support emails when I get back. The same will be true of 
>the forums. How about a break then a push after Christmas weekend. I 
>think most of us would rather enjoy our holiday than worry about fixing 
>our plugins to work with 2.0
>
>Anybody else second this?

An after Xmas release qould be nice for localizations teams too, even
if I'm personally ready to realease the italian version few hours
later the english one the support could be a concern...

Then I agree with you and Podz at 100%

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it
       http://www.wordpress-it.it
From fortes at gmail.com  Wed Dec 21 16:21:21 2005
From: fortes at gmail.com (Filipe Fortes)
Date: Wed Dec 21 16:21:32 2005
Subject: [wp-hackers] Plugin Port to 2.0: Showing private posts in
	single-view
In-Reply-To: <43A94343.3050306@midnightcircus.com>
References: <236d6d6a0512201945o7651ec6frb03942fa1bdd9c71@mail.gmail.com>
	<43A94343.3050306@midnightcircus.com>
Message-ID: <236d6d6a0512210821kfceedc5ob21dd10047b9aea0@mail.gmail.com>

The role-based system is actually orthogonal to this issue -- I'm
making that switch in parallel (letting the user choose which usermeta
key they wish to use).




On 12/21/05, Owen Winkler <ringmaster@midnightcircus.com> wrote:
> Filipe Fortes wrote:
> > 1. Is this code at all future proof? It works now because get_posts
> > only calls current_user_can for single posts? Should I be making my
> > filter more robust?
>
> I'm not sure what exactly you're trying to do, but a cursory glance at
> your code suggests that you need to migrate from the user level system
> (and using the $user_level variable) into the Role-based system.
>
> Owen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ryan at boren.nu  Wed Dec 21 16:34:18 2005
From: ryan at boren.nu (Ryan Boren)
Date: Wed Dec 21 16:34:12 2005
Subject: [wp-hackers] Plugin Port to 2.0: Showing private posts in
	single-view
In-Reply-To: <236d6d6a0512201945o7651ec6frb03942fa1bdd9c71@mail.gmail.com>
References: <236d6d6a0512201945o7651ec6frb03942fa1bdd9c71@mail.gmail.com>
Message-ID: <1135182858.9413.8.camel@localhost.localdomain>

On Tue, 2005-12-20 at 19:45 -0800, Filipe Fortes wrote:
...
> I've gone through the code, and it seems like I should try to use the
> "user_has_cap" filter which is called in WP_User.has_cap. I've managed
> to get this working with the following hacky filter:
> 
> function postlevel_has_cap($capabilities)
> {
>   global $wp_query, $user_level, $postlevel_key;
>   if (($wp_query->is_single) && (get_post_status($wp_query->posts[0])
> == 'private'))
>   {
>     $post = $wp_query->posts[0];
>     if (($post->meta_key == $postlevel_key) && (intval($user_level) >
> $post->meta_value))
>     {
>       $capabilities['read_private_posts'] = 1;
>     }
>   }
>   return $capabilities;
> }
> 
> Questions for this list:
> 
> 1. Is this code at all future proof? It works now because get_posts
> only calls current_user_can for single posts? Should I be making my
> filter more robust?

Other plugins might loop over the posts in the query and call
current_user_can() for each, so you should take that into account.

> 2. My filter only recieves one argument, although the apply_filter
> which calls it passes three. Known issue?

add_filter('user_has_cap', 'postlevel_has_cap', 10, 3);

The fourth argument specifies the number of arguments you function will
accept.

> 3. Does any one see any red flags in this implementation?

Looks okay.

Here's a link to my demo post sharing plugin in case there is something
in there that is helpful to you.

http://boren.nu/downloads/post_sharing.phps

If there are any extra hooks you need added, let us know now and we can
try to get them into 2.0.

Ryan


From ryan at boren.nu  Wed Dec 21 17:01:33 2005
From: ryan at boren.nu (Ryan Boren)
Date: Wed Dec 21 17:01:27 2005
Subject: [wp-hackers] MySQL 5 strict
Message-ID: <1135184493.9413.12.camel@localhost.localdomain>

Anyone testing with this?  Have we fixed all of the problems?  I fixed
the comment posting problem a couple days ago.  That was the last
remaining problem that I know of.  If there are still issues, please
capture the errors and submit a bug.

Ryan

From denis at semiologic.com  Wed Dec 21 17:13:12 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Wed Dec 21 17:13:24 2005
Subject: [wp-hackers] MySQL 5 strict
In-Reply-To: <1135184493.9413.12.camel@localhost.localdomain>
Message-ID: <001e01c60651$d3321430$1001a8c0@kergan>

I've found issues in at least one plugn with MySQL5 in non-strict mode (I've
send a notice to its author), and there is this bug:

http://trac.wordpress.org/ticket/2116

D.

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Ryan Boren
> Sent: Wednesday, December 21, 2005 6:02 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] MySQL 5 strict
> 
> 
> Anyone testing with this?  Have we fixed all of the problems? 
>  I fixed the comment posting problem a couple days ago.  That 
> was the last remaining problem that I know of.  If there are 
> still issues, please capture the errors and submit a bug.
> 
> Ryan
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com 
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


From m at mullenweg.com  Wed Dec 21 17:31:47 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Dec 21 17:32:02 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <43A876F3.5070804@tamba2.org.uk>
References: <43A876F3.5070804@tamba2.org.uk>
Message-ID: <43A99183.10606@mullenweg.com>

Podz wrote:
> I know that there has been an announcement, but if 2.0 does come out
> tomorrow / Thursday, then just who is going to be around for all the
> problems ? You can guarantee it will be a lot less than normal.
> I can see that pushing it out the door means no more coding over the
> holidays, but it means more problems and more work for everyone else.
> This is surely the ideal time to freeze - and I do mean freeze - the code.

By the same argument, you can say that the post-release support spike 
isn't going to be as big as normal.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From podz at tamba2.org.uk  Wed Dec 21 17:36:44 2005
From: podz at tamba2.org.uk (Podz)
Date: Wed Dec 21 17:37:02 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <43A99183.10606@mullenweg.com>
References: <43A876F3.5070804@tamba2.org.uk> <43A99183.10606@mullenweg.com>
Message-ID: <43A992AC.50902@tamba2.org.uk>

Matt Mullenweg wrote:
> Podz wrote:
>> I know that there has been an announcement, but if 2.0 does come out
>> tomorrow / Thursday, then just who is going to be around for all the
>> problems ? You can guarantee it will be a lot less than normal.
>> I can see that pushing it out the door means no more coding over the
>> holidays, but it means more problems and more work for everyone else.
>> This is surely the ideal time to freeze - and I do mean freeze - the
>> code.
> 
> By the same argument, you can say that the post-release support spike
> isn't going to be as big as normal.
> 

Right now we are averaging 23 new topics and 120+ answers a day.
WordPress has a good support reputation - a new release at a time of
reduced support would not put this release in a good light would it ?
And would it really hurt to delay it ? Really ? For the sake of a few days ?

Matt - if you don't release it, you will get frustrated but everyone
else will understand. If you do release it, you'll be happy because of
what you said about today / tomorrow  but there will be frustration
among many.

Your choice though anyway.

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051221/569822ad/signature-0001.pgp
From aaron at technosailor.com  Wed Dec 21 17:39:38 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Wed Dec 21 17:39:46 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <43A992AC.50902@tamba2.org.uk>
References: <43A876F3.5070804@tamba2.org.uk> <43A99183.10606@mullenweg.com>
	<43A992AC.50902@tamba2.org.uk>
Message-ID: <ca7320070512210939n12997284mf18066ef31acea86@mail.gmail.com>

I personally feel like it's okay to launch before Christmas.  I will try to
be around to offer support in the forum, Podz.  I won't be around on
Christmas Eve or Day though.  I will be spending time with my family.
Choosing tech over family is what got me separated from my wife and I'm not
going to make that mistake again on Christmas.

On 12/21/05, Podz <podz@tamba2.org.uk> wrote:
>
> Matt Mullenweg wrote:
> > Podz wrote:
> >> I know that there has been an announcement, but if 2.0 does come out
> >> tomorrow / Thursday, then just who is going to be around for all the
> >> problems ? You can guarantee it will be a lot less than normal.
> >> I can see that pushing it out the door means no more coding over the
> >> holidays, but it means more problems and more work for everyone else.
> >> This is surely the ideal time to freeze - and I do mean freeze - the
> >> code.
> >
> > By the same argument, you can say that the post-release support spike
> > isn't going to be as big as normal.
> >
>
> Right now we are averaging 23 new topics and 120+ answers a day.
> WordPress has a good support reputation - a new release at a time of
> reduced support would not put this release in a good light would it ?
> And would it really hurt to delay it ? Really ? For the sake of a few days
> ?
>
> Matt - if you don't release it, you will get frustrated but everyone
> else will understand. If you do release it, you'll be happy because of
> what you said about today / tomorrow  but there will be frustration
> among many.
>
> Your choice though anyway.
>
> P.
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
>


--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051221/52db5f3f/attachment.htm
From davebytes at comcast.net  Wed Dec 21 17:58:55 2005
From: davebytes at comcast.net (David Chait)
Date: Wed Dec 21 17:59:02 2005
Subject: [wp-hackers] Christmas
References: <43A876F3.5070804@tamba2.org.uk>
	<43A99183.10606@mullenweg.com><43A992AC.50902@tamba2.org.uk>
	<ca7320070512210939n12997284mf18066ef31acea86@mail.gmail.com>
Message-ID: <008c01c60658$365fe220$6e01a8c0@sixfour>

If enough of the 'support crew' is going to be unavailable for a good 24+h (if not more!) of the initial days of 2.0 launch, and we can assume a decent portion of the WP audience is either addicted techies or non-Christmas-celerbrating folks (both of which WILL be online on Christmas!), we seem to be asking for problems.

It would IMHO be worth maybe doing a final-final-candidate release instead of 2.0, let bug reports and fixes come in as normal, and then try to get the final release out mid next week.

Again, IMHO.

-d
  ----- Original Message ----- 
  From: Aaron Brazell 
  To: wp-hackers@lists.automattic.com 
  Sent: Wednesday, December 21, 2005 12:39 PM
  Subject: Re: [wp-hackers] Christmas


  I personally feel like it's okay to launch before Christmas.  I will try to be around to offer support in the forum, Podz.  I won't be around on Christmas Eve or Day though.  I will be spending time with my family.  Choosing tech over family is what got me separated from my wife and I'm not going to make that mistake again on Christmas. 


  On 12/21/05, Podz <podz@tamba2.org.uk> wrote:
    Matt Mullenweg wrote:
    > Podz wrote:
    >> I know that there has been an announcement, but if 2.0 does come out
    >> tomorrow / Thursday, then just who is going to be around for all the
    >> problems ? You can guarantee it will be a lot less than normal. 
    >> I can see that pushing it out the door means no more coding over the
    >> holidays, but it means more problems and more work for everyone else.
    >> This is surely the ideal time to freeze - and I do mean freeze - the 
    >> code.
    >
    > By the same argument, you can say that the post-release support spike
    > isn't going to be as big as normal.
    >

    Right now we are averaging 23 new topics and 120+ answers a day. 
    WordPress has a good support reputation - a new release at a time of
    reduced support would not put this release in a good light would it ?
    And would it really hurt to delay it ? Really ? For the sake of a few days ? 

    Matt - if you don't release it, you will get frustrated but everyone
    else will understand. If you do release it, you'll be happy because of
    what you said about today / tomorrow  but there will be frustration 
    among many.

    Your choice though anyway.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051221/c68391d5/attachment.htm
From podz at tamba2.org.uk  Wed Dec 21 18:56:49 2005
From: podz at tamba2.org.uk (Podz)
Date: Wed Dec 21 18:57:03 2005
Subject: [wp-hackers] Support for 2.0
Message-ID: <43A9A571.20403@tamba2.org.uk>

http://codex.wordpress.org/User:Matt/2.0_Release_Help

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051221/fe76f64a/signature.pgp
From fortes at gmail.com  Wed Dec 21 19:48:18 2005
From: fortes at gmail.com (Filipe Fortes)
Date: Wed Dec 21 19:48:28 2005
Subject: [wp-hackers] Plugin Port to 2.0: Showing private posts in
	single-view
In-Reply-To: <1135182858.9413.8.camel@localhost.localdomain>
References: <236d6d6a0512201945o7651ec6frb03942fa1bdd9c71@mail.gmail.com>
	<1135182858.9413.8.camel@localhost.localdomain>
Message-ID: <236d6d6a0512211148r24aafbbbta97826538ffb819a@mail.gmail.com>

Thanks for your help Ryan!

> Other plugins might loop over the posts in the query and call
> current_user_can() for each, so you should take that into account.

What's the best way to know what the current post is during the callback?

> If there are any extra hooks you need added, let us know now and we can
> try to get them into 2.0.

The biggest thing that's been missing is that the posts_where and
posts_join filters aren't called when constructing archives (date or
category), meaning the archives can't take into account the private
posts (since post_status = 'publish' is hard coded).

Thanks,

Filipe
From steagl at people.it  Wed Dec 21 20:00:22 2005
From: steagl at people.it (Stefano)
Date: Wed Dec 21 20:00:53 2005
Subject: [wp-hackers] Support for 2.0
References: <43A9A571.20403@tamba2.org.uk>
Message-ID: <oucjq1dg1s0h34eqluq8mjuubqjkt2100u@4ax.com>

Il Wed, 21 Dec 2005 18:56:49 +0000, Podz <podz@tamba2.org.uk> scrive:

>http://codex.wordpress.org/User:Matt/2.0_Release_Help

on 26 and after you should redirect italian people to italian support
forum wher e i will be bale to give better help to them and give you
some relief, if the amount of people on english forum requisting
suppor will be large mail me or IM me and I will be happy to giv a
litle help.

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it
       http://www.wordpress-it.it
From false.hopes at gmail.com  Wed Dec 21 20:31:41 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Dec 21 20:31:50 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <008c01c60658$365fe220$6e01a8c0@sixfour>
References: <43A876F3.5070804@tamba2.org.uk> <43A99183.10606@mullenweg.com>
	<43A992AC.50902@tamba2.org.uk>
	<ca7320070512210939n12997284mf18066ef31acea86@mail.gmail.com>
	<008c01c60658$365fe220$6e01a8c0@sixfour>
Message-ID: <a491f91d0512211231x1384be22i8133ebf307a33af4@mail.gmail.com>

Personally, I think that we should wait on releasing it for another
week or two at least. Even today we've had 14 new bugs for 2.0, and 2
commits. At this rate, there will be patches going in last minute,
with no chance to test for regressions. If we follow the
Wednesday/Thursday release idea, there are patches that are going into
the core just hours before we release. Is the  10 or so people who
obsessively watch the svn list and svn up to test these things out
enough to tell if everything is stable? I think not. Please, give all
the testers more time to test for regressions, let's clear out the
bugs that are popping up at alarming rates, and make sure this isn't
another 1.5 where people are pissed off at the amount of broken stuff.

--
--Robert Deaton
http://somethingunpredictable.com
From pp at myelin.co.nz  Wed Dec 21 20:50:39 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Wed Dec 21 20:50:38 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A961C5.1080301@metalab.unc.edu>
References: <43A74C46.2090004@myelin.co.nz>	<43A75A8E.5030908@gmail.com>	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>	<43A77D5A.6080405@myelin.co.nz>	<43A818DD.7030707@midnightcircus.com>	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>	<ebe43d680512201250x62b87ce1h@mail.gmail.com>	<43A9210A.304@metalab.unc.edu>	<ebe43d680512210240j3f84f26ei@mail.gmail.com>
	<43A961C5.1080301@metalab.unc.edu>
Message-ID: <43A9C01F.7000200@myelin.co.nz>

Elliotte Harold wrote:

> David House wrote:
>
>> Using namespaced XML goes against the design principles of
>> microformats. They're designed to be easy, simple, QUICK to read and
>> write, no need to bother around with things like namespacing. In
>> essence, why use complex XML features when a simple classname will do?
>
> But will a simple classname do? It doesn't seem to be working here, 
> and that's a problem.
>
> Even when it might, it's often somewhat easier to work with the real 
> names on the elements rather than hiding them in class attributes. My 
> own HTML pages have quite a few non-standard, invalid elements that I 
> happily process with XML tools. I could probably change them to <div 
> class="name"> and <span class="name"> instead, but my code would 
> become more complex to handle that; and I don't see what anyone would 
> gain by me doing this.

Another plus for using classnames is that you don't need to do any DTD 
hackery to make your HTML validate with the W3C validator.  Namespaced 
XML would be nice if the validator ignored namespaced elements, but it 
doesn't ...

The microformats group could have made things easier by choosing less 
common words for their classnames, or perhaps prefixing them by 
something unlikely to be commonly used.  It doesn't sound like they're 
going to back down on this, though.

Personally, from now on whenever I'm using CSS for styling, I'm going to 
prefix all my classnames by something to do with my application. 

Cheers,
Phil
From dougal at gunters.org  Wed Dec 21 21:10:32 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Wed Dec 21 21:11:10 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A9C01F.7000200@myelin.co.nz>
References: <43A74C46.2090004@myelin.co.nz>	<43A75A8E.5030908@gmail.com>	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>	<43A77D5A.6080405@myelin.co.nz>	<43A818DD.7030707@midnightcircus.com>	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>	<ebe43d680512201250x62b87ce1h@mail.gmail.com>	<43A9210A.304@metalab.unc.edu>	<ebe43d680512210240j3f84f26ei@mail.gmail.com>	<43A961C5.1080301@metalab.unc.edu>
	<43A9C01F.7000200@myelin.co.nz>
Message-ID: <43A9C4C8.6070103@gunters.org>

Phillip Pearson wrote:
> [...]
> The microformats group could have made things easier by choosing less 
> common words for their classnames, or perhaps prefixing them by 
> something unlikely to be commonly used.  It doesn't sound like they're 
> going to back down on this, though.

Using less common words for microformat class names would go totally 
against the grain of what they are trying to accomplish. They're 
supposed to be easy to implement, and they're supposed to be 
human-readable. Thus: simple, descriptive class names.

Again, I think that people are attacking this "problem" from the wrong 
end. Mainly because there really isn't a problem to speak of. If you're 
going to go to the trouble to add microformatted data to your site, is 
it really that much more trouble to add some properly scoped styles to 
target them?

The solution to this particular example is as easy as adding this style 
to the page:

   .hreview .description {
     background-color: inherit;
     color: inherit;
   }

Voila. No more conflicting styles in Kubrick.

If you care enough about microformats to use them, then when there are 
conflicts between the format and your template, you're simply going to 
have to find some way to resolve them. There's no way that you're going 
to get Kubrick to be compatible with hAtom without some fairly serious 
modifications, for instance. But for most of the other microformats, 
you'll be able to resolve conflicts by increasing the specificity of the 
appropriate CSS rules.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From pp at myelin.co.nz  Wed Dec 21 21:57:17 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Wed Dec 21 22:05:18 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A9C4C8.6070103@gunters.org>
References: <ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>
	<43A77D5A.6080405@myelin.co.nz>
	<43A818DD.7030707@midnightcircus.com>
	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>
	<ebe43d680512201250x62b87ce1h@mail.gmail.com>
	<43A9210A.304@metalab.unc.edu>
	<ebe43d680512210240j3f84f26ei@mail.gmail.com>
	<43A961C5.1080301@metalab.unc.edu>
	<43A9C01F.7000200@myelin.co.nz> <43A9C4C8.6070103@gunters.org>
Message-ID: <20051221215717.GA31275@myelin.co.nz>

> Again, I think that people are attacking this "problem" from the wrong 
> end. Mainly because there really isn't a problem to speak of. If you're 
> going to go to the trouble to add microformatted data to your site, is 
> it really that much more trouble to add some properly scoped styles to 
> target them?
> 
> The solution to this particular example is as easy as adding this style 
> to the page:
> 
>   .hreview .description {
>     background-color: inherit;
>     color: inherit;
>   }
> 
> Voila. No more conflicting styles in Kubrick.

... in Firefox.  IE doesn't do "inherit" :-(

I still think the best solution is to make the 'description' class
more selective - as in ryansking's patch, which changes '.description'
to '#headerdiv .description'.

> If you care enough about microformats to use them, then when there are 
> conflicts between the format and your template, you're simply going to 
> have to find some way to resolve them. There's no way that you're going 
> to get Kubrick to be compatible with hAtom without some fairly serious 
> modifications, for instance. But for most of the other microformats, 
> you'll be able to resolve conflicts by increasing the specificity of the 
> appropriate CSS rules.

I've done the work to make Kubrick support hAtom - see the patch on
http://trac.wordpress.org/ticket/2105 ...

Cheers,
Phil
From robmientjes at gmail.com  Wed Dec 21 22:23:46 2005
From: robmientjes at gmail.com (Rob Mientjes)
Date: Wed Dec 21 22:23:57 2005
Subject: [wp-hackers] Christmas
In-Reply-To: <a491f91d0512211231x1384be22i8133ebf307a33af4@mail.gmail.com>
References: <43A876F3.5070804@tamba2.org.uk> <43A99183.10606@mullenweg.com>
	<43A992AC.50902@tamba2.org.uk>
	<ca7320070512210939n12997284mf18066ef31acea86@mail.gmail.com>
	<008c01c60658$365fe220$6e01a8c0@sixfour>
	<a491f91d0512211231x1384be22i8133ebf307a33af4@mail.gmail.com>
Message-ID: <e8e97f9f0512211423u47264b7ave60dec0d6b12e3f3@mail.gmail.com>

On 12/21/05, Robert Deaton <false.hopes@gmail.com> wrote:
> Please, give all
> the testers more time to test for regressions, let's clear out the
> bugs that are popping up at alarming rates, and make sure this isn't
> another 1.5 where people are pissed off at the amount of broken stuff.

Amen. The extra few days it will be delayed will be worth a lot when
you're dealing with issues. Can't be good to have people moaning over
stuff we could've seen coming (and yes, I do consider 14 bugs in one
day something you can see coming).

In order to look real good (sheesh, we're talking about a _2.0_
here!), it should work really well, and if that takes the process a
couple days further into the last days of the year, so be it, I guess.
From m at mullenweg.com  Wed Dec 21 22:35:42 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Dec 21 22:35:55 2005
Subject: [wp-hackers] 2.0 Release
In-Reply-To: <43A6ED16.6000707@mullenweg.com>
References: <43A6ED16.6000707@mullenweg.com>
Message-ID: <43A9D8BE.10901@mullenweg.com>

Matt Mullenweg wrote:
> Wednesday or Thursday, depending on the phase of the moon.

Core support people have requested a delay until after Christmas in 
order to prepare upgrade documentation and enjoy the holidays a bit 
before the release.

This, combined with the fact I haven't got the changes to wordpress.org 
ready, is pretty compelling, so the release is currently planned for the 
26th of December.

If you can help out with support that week, it would be a huge help. 
Drop your name here or just drop by on Monday:

http://codex.wordpress.org/User:Matt/2.0_Release_Help

See you all then. :)

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From ryan at boren.nu  Wed Dec 21 22:55:16 2005
From: ryan at boren.nu (Ryan Boren)
Date: Wed Dec 21 22:55:09 2005
Subject: [wp-hackers] Plugin Port to 2.0: Showing private posts in
	single-view
In-Reply-To: <236d6d6a0512211148r24aafbbbta97826538ffb819a@mail.gmail.com>
References: <236d6d6a0512201945o7651ec6frb03942fa1bdd9c71@mail.gmail.com>
	<1135182858.9413.8.camel@localhost.localdomain>
	<236d6d6a0512211148r24aafbbbta97826538ffb819a@mail.gmail.com>
Message-ID: <1135205716.9579.8.camel@localhost.localdomain>

On Wed, 2005-12-21 at 11:48 -0800, Filipe Fortes wrote:
> Thanks for your help Ryan!
> 
> > Other plugins might loop over the posts in the query and call
> > current_user_can() for each, so you should take that into account.
> 
> What's the best way to know what the current post is during the callback?

current_user_can('read_post', $post->ID)

When current_user_can() is called with a post id as the second arg,
you'll be able to get that id by digging into the cap data that is
passed as the third argument to your hook.

Here's an example taken from the post sharing plugin I linked to.

function ps_user_has_cap($user_caps, $requested_caps, $cap_data) {
...
$post_id = $cap_data[2];
...
}

> > If there are any extra hooks you need added, let us know now and we can
> > try to get them into 2.0.
> 
> The biggest thing that's been missing is that the posts_where and
> posts_join filters aren't called when constructing archives (date or
> category), meaning the archives can't take into account the private
> posts (since post_status = 'publish' is hard coded).

I thought we always called those filters.  Maybe I'm not following.  Can
you elaborate a bit more?

If you mean that current_user_can() isn't always called, that's true.
You might need to loop over the_posts and call current_user_can() for
each.  I thought about putting such a loop in get_posts() and calling
current_user_can('read_post', $post_id) for each so that plugins can hop
onto the read_post cap, but decided I would just leave all of that up to
plugins since they'll probably want to check against their own custom
cap anyway.

Ryan

From elharo at metalab.unc.edu  Wed Dec 21 23:15:47 2005
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Wed Dec 21 23:15:57 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A9C01F.7000200@myelin.co.nz>
References: <43A74C46.2090004@myelin.co.nz>	<43A75A8E.5030908@gmail.com>	<ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>	<43A77D5A.6080405@myelin.co.nz>	<43A818DD.7030707@midnightcircus.com>	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>	<ebe43d680512201250x62b87ce1h@mail.gmail.com>	<43A9210A.304@metalab.unc.edu>	<ebe43d680512210240j3f84f26ei@mail.gmail.com>	<43A961C5.1080301@metalab.unc.edu>
	<43A9C01F.7000200@myelin.co.nz>
Message-ID: <43A9E223.2010809@metalab.unc.edu>

Phillip Pearson wrote:

> Another plus for using classnames is that you don't need to do any DTD 
> hackery to make your HTML validate with the W3C validator.  Namespaced 
> XML would be nice if the validator ignored namespaced elements, but it 
> doesn't ...

Personally I've never been a big fan of validity. Well-formedness: yes. 
Validity: maybe if doesn't hurt too much or get in my way.

The X in XML and XHTML is supposed to stand for "Extensible". A language 
that only allows a few fixed tag names isn't very extensible.

For what it's worth (not much) it is possible to make non-standard 
extension elements and attributes valid with the appropriate 
modifications to the internal DTD subset. I wrote about this in the 
first couple of editions of XML in a Nutshell. However, it's quite 
painful and doesn't gain you anything in the end. Most of the time 
well-formedness is all I need.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim
From dougal at gunters.org  Wed Dec 21 23:40:28 2005
From: dougal at gunters.org (Dougal Campbell)
Date: Wed Dec 21 23:41:11 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <20051221215717.GA31275@myelin.co.nz>
References: <ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>	<43A77D5A.6080405@myelin.co.nz>	<43A818DD.7030707@midnightcircus.com>	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>	<ebe43d680512201250x62b87ce1h@mail.gmail.com>	<43A9210A.304@metalab.unc.edu>	<ebe43d680512210240j3f84f26ei@mail.gmail.com>	<43A961C5.1080301@metalab.unc.edu>	<43A9C01F.7000200@myelin.co.nz>
	<43A9C4C8.6070103@gunters.org>
	<20051221215717.GA31275@myelin.co.nz>
Message-ID: <43A9E7EC.1000404@gunters.org>

Phillip Pearson wrote:

>> The solution to this particular example is as easy as adding this style 
>> to the page:
>>
>>   .hreview .description {
>>     background-color: inherit;
>>     color: inherit;
>>   }
>>
>> Voila. No more conflicting styles in Kubrick.
> 
> ... in Firefox.  IE doesn't do "inherit" :-(

Ah, true. IE strikes again. I mainly used 'inherit' because it didn't 
lock to a particular color. You could just as easily use 'white' or 
'#7e429d', or whatever colors happen to fit your site. The primary point 
was that you can override the hReview description style however you see 
fit, without the need to change a core WordPress file.

On the other hand, I'm okay with the idea that we could make the Kubrick 
selector more specific (but not necessarily with renaming it). I just 
think that it's an over-reaction to scramble to 'fix' Kubrick just to 
avoid conflicts with a microformat that only a tiny percentage of users 
are going to be using. Especially when there's an easy way to resolve 
the conflict without patching core files.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From c at kouloumbris.com  Wed Dec 21 23:48:44 2005
From: c at kouloumbris.com (CK)
Date: Wed Dec 21 23:49:00 2005
Subject: [wp-hackers] 2.0 Release
In-Reply-To: <43A9D8BE.10901@mullenweg.com>
References: <43A6ED16.6000707@mullenweg.com> <43A9D8BE.10901@mullenweg.com>
Message-ID: <90532E0B-26A7-42B6-9BB1-3058B7AEF309@kouloumbris.com>


On 21 Dec 2005, at 22:35, Matt Mullenweg wrote:

> Matt Mullenweg wrote:
>> Wednesday or Thursday, depending on the phase of the moon.
>
> Core support people have requested a delay until after Christmas in  
> order to prepare upgrade documentation and enjoy the holidays a bit  
> before the release.
>
> This, combined with the fact I haven't got the changes to  
> wordpress.org ready, is pretty compelling, so the release is  
> currently planned for the 26th of December.
>
> If you can help out with support that week, it would be a huge  
> help. Drop your name here or just drop by on Monday:
>
> http://codex.wordpress.org/User:Matt/2.0_Release_Help
>
> See you all then. :)

Well I would do my best to help I am currently working to see if my  
plugins (which are very simple) work in 2.0 and it seams that they do  
without any major changes.

For helping out with support what do i need to do since i haven't  
done this before.

--
Regards,
     CK (Constantinos Kouloumbris)
GPG: 0x2502604D
http://kouloumbris.com

"A bus station is where a bus stops. A train station is where a train  
stops. On my desk, I have a workstation?go figure."
~ Steven Wright ~



From podz at tamba2.org.uk  Wed Dec 21 23:55:33 2005
From: podz at tamba2.org.uk (Podz)
Date: Wed Dec 21 23:55:48 2005
Subject: [wp-hackers] 2.0 Release
In-Reply-To: <90532E0B-26A7-42B6-9BB1-3058B7AEF309@kouloumbris.com>
References: <43A6ED16.6000707@mullenweg.com> <43A9D8BE.10901@mullenweg.com>
	<90532E0B-26A7-42B6-9BB1-3058B7AEF309@kouloumbris.com>
Message-ID: <43A9EB75.6090002@tamba2.org.uk>

CK wrote:
 > Well I would do my best to help I am currently working to see if my
> plugins (which are very simple) work in 2.0 and it seams that they do
> without any major changes.
> 
> For helping out with support what do i need to do since i haven't done
> this before.

If you have the answer to a question from someone, just tell them.
That's it :)

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051221/b11d9e30/signature-0001.pgp
From pp at myelin.co.nz  Thu Dec 22 00:57:26 2005
From: pp at myelin.co.nz (Phillip Pearson)
Date: Thu Dec 22 00:57:32 2005
Subject: [wp-hackers] Any chance of the "Kubrick vs hReview" patch being
	accepted prior to WP 2.0 release?
In-Reply-To: <43A9E7EC.1000404@gunters.org>
References: <ca7320070512191716k32fd768bqcdac860cbc7ea2a9@mail.gmail.com>	<43A77D5A.6080405@myelin.co.nz>	<43A818DD.7030707@midnightcircus.com>	<e6ec604d0512200919n29cd3ffaja4c0475abe626946@mail.gmail.com>	<ebe43d680512201250x62b87ce1h@mail.gmail.com>	<43A9210A.304@metalab.unc.edu>	<ebe43d680512210240j3f84f26ei@mail.gmail.com>	<43A961C5.1080301@metalab.unc.edu>	<43A9C01F.7000200@myelin.co.nz>	<43A9C4C8.6070103@gunters.org>	<20051221215717.GA31275@myelin.co.nz>
	<43A9E7EC.1000404@gunters.org>
Message-ID: <43A9F9F6.6060208@myelin.co.nz>

Dougal Campbell wrote:

> Phillip Pearson wrote:
>
>>> The solution to this particular example is as easy as adding this 
>>> style to the page:
>>>
>>>   .hreview .description {
>>>     background-color: inherit;
>>>     color: inherit;
>>>   }
>>>
>>> Voila. No more conflicting styles in Kubrick.
>>
>> ... in Firefox.  IE doesn't do "inherit" :-(
>
> Ah, true. IE strikes again. I mainly used 'inherit' because it didn't 
> lock to a particular color. You could just as easily use 'white' or 
> '#7e429d', or whatever colors happen to fit your site. The primary 
> point was that you can override the hReview description style however 
> you see fit, without the need to change a core WordPress file.
>
> On the other hand, I'm okay with the idea that we could make the 
> Kubrick selector more specific (but not necessarily with renaming it). 
> I just think that it's an over-reaction to scramble to 'fix' Kubrick 
> just to avoid conflicts with a microformat that only a tiny percentage 
> of users are going to be using. Especially when there's an easy way to 
> resolve the conflict without patching core files.

Cool.  I've uploaded a slightly tidier version of Ryan's patch to 
http://trac.wordpress.org/ticket/1436 ... all it does is change 
.description to div#headerimg div.description, and remove a duplicate 
.description block.

    
http://trac.wordpress.org/attachment/ticket/1436/kubrick_headerimg_description_specific.diff

Point taken about doing extra work to support such a small proportion of 
the user base, though...

Cheers,
Phil
From fortes at gmail.com  Thu Dec 22 01:32:28 2005
From: fortes at gmail.com (Filipe Fortes)
Date: Thu Dec 22 01:32:38 2005
Subject: [wp-hackers] Plugin Port to 2.0: Showing private posts in
	single-view
In-Reply-To: <1135205716.9579.8.camel@localhost.localdomain>
References: <236d6d6a0512201945o7651ec6frb03942fa1bdd9c71@mail.gmail.com>
	<1135182858.9413.8.camel@localhost.localdomain>
	<236d6d6a0512211148r24aafbbbta97826538ffb819a@mail.gmail.com>
	<1135205716.9579.8.camel@localhost.localdomain>
Message-ID: <236d6d6a0512211732ie88662epf71ac4e3a44cf110@mail.gmail.com>

> > > If there are any extra hooks you need added, let us know now and we can
> > > try to get them into 2.0.
> >
> > The biggest thing that's been missing is that the posts_where and
> > posts_join filters aren't called when constructing archives (date or
> > category), meaning the archives can't take into account the private
> > posts (since post_status = 'publish' is hard coded).
>
> I thought we always called those filters.  Maybe I'm not following.  Can
> you elaborate a bit more?

I switched topics without introducing the issue, my fault. My plugin
depends on post_status being set to private for the protected posts.
Those posts are then shown through the posts_where and posts_join
filters. However, this technique doesn't work for list_cats, etc
because those filters aren't applied to the SQL queries which generate
them.

For example: Looking at template-functions.php, line 305, you can see:

		$cat_dates = $wpdb->get_results("SELECT category_id,
		UNIX_TIMESTAMP( MAX(post_date) ) AS ts
		FROM $wpdb->posts, $wpdb->post2cat, $wpdb->categories
		WHERE post_status = 'publish' AND post_id = ID $exclusions
		GROUP BY category_id");

As you can see, the SQL query is run without any filters, so my plugin
can't change the query to account for private posts. For another
example, see template-functions-general.php, line 333. You'll see:

$arcresults = $wpdb->get_results("SELECT DISTINCT YEAR(post_date) AS
`year`, MONTH(post_date) AS `month`, count(ID) as posts FROM
$wpdb->posts WHERE post_date < '$now' AND post_date != '0000-00-00
00:00:00' AND post_status = 'publish' GROUP BY YEAR(post_date),
MONTH(post_date) ORDER BY post_date DESC" . $limit);

Thanks.
From newsletter at scytheman.net  Thu Dec 22 13:25:25 2005
From: newsletter at scytheman.net (Sebastian Herp)
Date: Thu Dec 22 13:25:39 2005
Subject: [wp-hackers] Caching of numbers of comments?
Message-ID: <43AAA945.6070806@scytheman.net>

Hello list,

wordpress 2.0 RC3 seems to cache a lot of things. Does it cache the 
number of comments returned by the "comments_number"-function? Because 
that number seems to be displayed wrong in several postings. Why exactly 
does this need caching or is this bug not related to the cache?

Example:
http://www.sebbi.de/archives/2005/12/21/premiere-weg-vom-fenster/
The function currently returns "5 comments" while I definetly see 6 ...

P.S.: Does this limited caching really speed things up? Has somebody 
measured anything? Serving a page on my blog still takes around half a 
second ... half a second to compile some text and links into a 
html-page? That's pretty slow ...
From peter.westwood at ftwr.co.uk  Thu Dec 22 15:53:51 2005
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu Dec 22 15:54:12 2005
Subject: [wp-hackers] Caching of numbers of comments?
In-Reply-To: <43AAA945.6070806@scytheman.net>
References: <43AAA945.6070806@scytheman.net>
Message-ID: <19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>


On Thu, December 22, 2005 1:25 pm, Sebastian Herp wrote:
> Hello list,
>
> wordpress 2.0 RC3 seems to cache a lot of things. Does it cache the
> number of comments returned by the "comments_number"-function? Because
> that number seems to be displayed wrong in several postings. Why exactly
> does this need caching or is this bug not related to the cache?
>
> Example:
> http://www.sebbi.de/archives/2005/12/21/premiere-weg-vom-fenster/
> The function currently returns "5 comments" while I definetly see 6 ...
>

Comment Count is stored in the db against each post to save on queries for
the front page. (New in 2.0)

I suspect you are running a comment processing plugin that die()'s inside
the hook like Spam Karma 2 does (The fix for which is here -
http://lair.fierydragon.org/2005/11/sk2-wp2compatibility/)

westi
-- 
Peter Westwood
Blog: http://blog.ftwr.co.uk

From r at schestowitz.com  Thu Dec 22 16:43:44 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Thu Dec 22 16:43:53 2005
Subject: [wp-hackers] Caching of numbers of comments?
In-Reply-To: <19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
References: <43AAA945.6070806@scytheman.net>
	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
Message-ID: <20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>

_____/ On Thu 22 Dec 2005 15:53:51 GMT, [Peter Westwood] wrote : \_____

>
> On Thu, December 22, 2005 1:25 pm, Sebastian Herp wrote:
>> Hello list,
>>
>> wordpress 2.0 RC3 seems to cache a lot of things. Does it cache the
>> number of comments returned by the "comments_number"-function? Because
>> that number seems to be displayed wrong in several postings. Why exactly
>> does this need caching or is this bug not related to the cache?
>>
>> Example:
>> http://www.sebbi.de/archives/2005/12/21/premiere-weg-vom-fenster/
>> The function currently returns "5 comments" while I definetly see 6 ...
>>
>
> Comment Count is stored in the db against each post to save on queries for
> the front page. (New in 2.0)
>
> I suspect you are running a comment processing plugin that die()'s inside
> the hook like Spam Karma 2 does (The fix for which is here -
> http://lair.fierydragon.org/2005/11/sk2-wp2compatibility/)
>
> westi

Someone in the forums had all comment counts set to 0. There were comments
therein, but they weren't visible to the index. This was raised last 
night, but
I should point out that the site in question was a recent import from another
CMS. WP2 RC3.

Roy

From aaron at technosailor.com  Thu Dec 22 17:50:16 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Thu Dec 22 17:50:26 2005
Subject: [wp-hackers] Caching of numbers of comments?
In-Reply-To: <20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>
References: <43AAA945.6070806@scytheman.net>
	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>
Message-ID: <ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>

Which other system?

On 12/22/05, Roy Schestowitz <r@schestowitz.com> wrote:
>
> _____/ On Thu 22 Dec 2005 15:53:51 GMT, [Peter Westwood] wrote : \_____
>
> >
> > On Thu, December 22, 2005 1:25 pm, Sebastian Herp wrote:
> >> Hello list,
> >>
> >> wordpress 2.0 RC3 seems to cache a lot of things. Does it cache the
> >> number of comments returned by the "comments_number"-function? Because
> >> that number seems to be displayed wrong in several postings. Why
> exactly
> >> does this need caching or is this bug not related to the cache?
> >>
> >> Example:
> >> http://www.sebbi.de/archives/2005/12/21/premiere-weg-vom-fenster/
> >> The function currently returns "5 comments" while I definetly see 6 ...
> >>
> >
> > Comment Count is stored in the db against each post to save on queries
> for
> > the front page. (New in 2.0)
> >
> > I suspect you are running a comment processing plugin that die()'s
> inside
> > the hook like Spam Karma 2 does (The fix for which is here -
> > http://lair.fierydragon.org/2005/11/sk2-wp2compatibility/)
> >
> > westi
>
> Someone in the forums had all comment counts set to 0. There were comments
> therein, but they weren't visible to the index. This was raised last
> night, but
> I should point out that the site in question was a recent import from
> another
> CMS. WP2 RC3.
>
> Roy
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051222/c1572389/attachment.htm
From skippy at skippy.net  Thu Dec 22 18:00:42 2005
From: skippy at skippy.net (Scott Merrill)
Date: Thu Dec 22 18:00:41 2005
Subject: [wp-hackers] Cruft (was Caching of numbers of comments?)
In-Reply-To: <ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>
References: <43AAA945.6070806@scytheman.net>	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>
	<ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>
Message-ID: <43AAE9CA.1020102@skippy.net>

I hate to be a nit-picker, but the proclivity for top-posting on this
list is out of control.

A: Because it messes up threading.
Q: why would I not reply by top-posting?

Worse still is the lack of trimming replies.  To quote Chunk from "The
Goonies": I've stood all I can stand and I can't stand no more!

Aaron Brazell wrote:
> Which other system?

This question is in reference to something _waaay_ down below.  Why is
the entire thread preserved, when it's not directly related to the
question?  Why was the question put up above the text to which it applied?

>>wp-hackers mailing list
>>wp-hackers@lists.automattic.com
>>http://lists.automattic.com/mailman/listinfo/wp-hackers

See that stuff above?  It's cruft.  It gets automatically added to the
end of every list message.  By failing to trim it, you're unnecessarily
bloating all our inboxes, as we get two or three (or more!) copies of
the same thing.

> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

More cruft!!

Please, folks, try not to top-post.  And please trim your replies.

And have a happy holiday season.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From newsletter at scytheman.net  Thu Dec 22 18:16:08 2005
From: newsletter at scytheman.net (Sebastian Herp)
Date: Thu Dec 22 18:16:29 2005
Subject: [wp-hackers] Caching of numbers of comments?
In-Reply-To: <19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
References: <43AAA945.6070806@scytheman.net>
	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
Message-ID: <43AAED68.1000206@scytheman.net>

Peter Westwood wrote:

>On Thu, December 22, 2005 1:25 pm, Sebastian Herp wrote:
>  
>
>>Hello list,
>>
>>wordpress 2.0 RC3 seems to cache a lot of things. Does it cache the
>>number of comments returned by the "comments_number"-function? Because
>>that number seems to be displayed wrong in several postings. Why exactly
>>does this need caching or is this bug not related to the cache?
>>
>>Example:
>>http://www.sebbi.de/archives/2005/12/21/premiere-weg-vom-fenster/
>>The function currently returns "5 comments" while I definetly see 6 ...
>>
>>    
>>
>
>Comment Count is stored in the db against each post to save on queries for
>the front page. (New in 2.0)
>
>I suspect you are running a comment processing plugin that die()'s inside
>the hook like Spam Karma 2 does (The fix for which is here -
>http://lair.fierydragon.org/2005/11/sk2-wp2compatibility/)
>
>westi
>  
>
Aha! That's exactly what is causing the problem. Thank you! Introducing 
redundancy at this point is however the baddest idea I've ever seen. Why 
would someone "copy" a simple number just to save one simple query that 
uses less than one tenth of a millisecond to execute? A query, btw, that 
could have been easily "joined" to the main-query which gets the posts 
... redundancy in a database scheme is a very very very (I can't say it 
often enough) bad thing ...
From michael at hancockdata.com  Thu Dec 22 18:18:25 2005
From: michael at hancockdata.com (Michael E. Hancock)
Date: Thu Dec 22 18:21:38 2005
Subject: [wp-hackers] Cruft (was Caching of numbers of comments?)
References: <43AAA945.6070806@scytheman.net>	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com><ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>
	<43AAE9CA.1020102@skippy.net>
Message-ID: <046901c60724$19eeb810$6402a8c0@DELL8600>

From: "Scott Merrill" <skippy@skippy.net>
> And have a happy holiday season.

And a cruft-free greeting to you also!  ;) 

Michael E. Hancock

From aaron at technosailor.com  Thu Dec 22 18:59:41 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Thu Dec 22 18:59:53 2005
Subject: [wp-hackers] Cruft (was Caching of numbers of comments?)
In-Reply-To: <43AAE9CA.1020102@skippy.net>
References: <43AAA945.6070806@scytheman.net>
	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>
	<ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>
	<43AAE9CA.1020102@skippy.net>
Message-ID: <ca7320070512221059u6120400ej88d68a9770262e28@mail.gmail.com>

Apologies, sir. It wouldn't have hurt to drop me an email directly if you
were THAT offended by my cruft.  Personally, I'm just running around at work
and don't think of the little things all the times.

On 12/22/05, Scott Merrill <skippy@skippy.net> wrote:
>
>
> Aaron Brazell wrote:
> > Which other system?
>
> This question is in reference to something _waaay_ down below.  Why is
> the entire thread preserved, when it's not directly related to the
> question?  Why was the question put up above the text to which it applied?
>
>

--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051222/9c8180cd/attachment-0001.htm
From dmhouse at gmail.com  Thu Dec 22 19:00:52 2005
From: dmhouse at gmail.com (David House)
Date: Thu Dec 22 19:01:05 2005
Subject: [wp-hackers] Cruft (was Caching of numbers of comments?)
In-Reply-To: <43AAE9CA.1020102@skippy.net>
References: <43AAA945.6070806@scytheman.net>
	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>
	<ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>
	<43AAE9CA.1020102@skippy.net>
Message-ID: <ebe43d680512221100s7f7f4d4n@mail.gmail.com>

On 22/12/05, Scott Merrill <skippy@skippy.net> wrote:
> I hate to be a nit-picker, but the proclivity for top-posting on this
> list is out of control.

Skippy's right, this is important. Allow me to clarify a few things:

* When replying to people's emails, delete everything that isn't
relevant to your response. Especially the pointless 'wp-hackers
mailing list' that gets added on to everyone's emails: they multiply
quickly and if you don't take a couple of minutes just to do a bit of
tidying up, things get out of control.
* Don't top-reply to threads. This means if your email is only in
response to one particular email, reply to that email, don't reply to
the first the in the thread.
* A related issue, which skippy didn't mention but is something that
has annoyed me is people replying to digests. Digests are for lurkers,
if you reply to one then your reply gets missed out of the
conversation and everyone ends up with a pointless email.

Sorry if this pissed anyone off, but it's getting out of hand.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From jjb at ibiblio.org  Thu Dec 22 19:21:53 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Thu Dec 22 19:22:06 2005
Subject: [wp-hackers] Cruft (was Caching of numbers of comments?)
In-Reply-To: <43AAE9CA.1020102@skippy.net>
References: <43AAA945.6070806@scytheman.net>
	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>
	<ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>
	<43AAE9CA.1020102@skippy.net>
Message-ID: <Pine.LNX.4.61.0512221421280.25547@tribal.metalab.unc.edu>

I have noticed this and agree completely, thanks for pointing it out 
Scott.

On Thu, 22 Dec 2005, Scott Merrill wrote:

> I hate to be a nit-picker, but the proclivity for top-posting on this
> list is out of control.
>
> A: Because it messes up threading.
> Q: why would I not reply by top-posting?
>
> Worse still is the lack of trimming replies.  To quote Chunk from "The
> Goonies": I've stood all I can stand and I can't stand no more!
>
> Aaron Brazell wrote:
>> Which other system?
>
> This question is in reference to something _waaay_ down below.  Why is
> the entire thread preserved, when it's not directly related to the
> question?  Why was the question put up above the text to which it applied?
>
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> See that stuff above?  It's cruft.  It gets automatically added to the
> end of every list message.  By failing to trim it, you're unnecessarily
> bloating all our inboxes, as we get two or three (or more!) copies of
> the same thing.
>
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> More cruft!!
>
> Please, folks, try not to top-post.  And please trim your replies.
>
> And have a happy holiday season.
>
>

-- 
http://lyceum.ibiblio.org
From jjb at ibiblio.org  Thu Dec 22 19:22:29 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Thu Dec 22 19:22:39 2005
Subject: [wp-hackers] Cruft (was Caching of numbers of comments?)
In-Reply-To: <Pine.LNX.4.61.0512221421280.25547@tribal.metalab.unc.edu>
References: <43AAA945.6070806@scytheman.net>
	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>
	<ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>
	<43AAE9CA.1020102@skippy.net>
	<Pine.LNX.4.61.0512221421280.25547@tribal.metalab.unc.edu>
Message-ID: <Pine.LNX.4.61.0512221422070.25547@tribal.metalab.unc.edu>

On Thu, 22 Dec 2005, John Joseph Bachir wrote:

> I have noticed this and agree completely, thanks for pointing it out Scott.
>
> On Thu, 22 Dec 2005, Scott Merrill wrote:
>
>> I hate to be a nit-picker, but the proclivity for top-posting on this
>> list is out of control.

Sorry, couldn't resist :-p
From r at schestowitz.com  Thu Dec 22 19:34:21 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Thu Dec 22 19:34:27 2005
Subject: [wp-hackers] Cruft (was Caching of numbers of comments?)
In-Reply-To: <ca7320070512221059u6120400ej88d68a9770262e28@mail.gmail.com>
References: <43AAA945.6070806@scytheman.net>
	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>
	<ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>
	<43AAE9CA.1020102@skippy.net>
	<ca7320070512221059u6120400ej88d68a9770262e28@mail.gmail.com>
Message-ID: <20051222193421.4cmtcess8e80wcwg@banana.catalyst2.com>

_____/ On Thu 22 Dec 2005 18:59:41 GMT, [Aaron Brazell] wrote : \_____

> On 12/22/05, Scott Merrill <skippy@skippy.net> wrote:
>>
>> Aaron Brazell wrote:
>> > Which other system?
>>
>> This question is in reference to something _waaay_ down below.  Why is
>> the entire thread preserved, when it's not directly related to the
>> question?  Why was the question put up above the text to which it applied?
>
> Apologies, sir. It wouldn't have hurt to drop me an email directly if you
> were THAT offended by my cruft.  Personally, I'm just running around at work
> and don't think of the little things all the times.

I  take Aaron's side in this. Am I the only one to ever reply off-list?  I
also  prefer pointing people to existing discussions on top/bottom posting
and HTML/plain-text. This tends to be less direct and thus less offensive.

I  take Aaron's side also because Scott has done this before in the  past.
Let's be more kind. Code is community.

Roy

From dmhouse at gmail.com  Thu Dec 22 19:48:22 2005
From: dmhouse at gmail.com (David House)
Date: Thu Dec 22 19:48:33 2005
Subject: [wp-hackers] Cruft (was Caching of numbers of comments?)
In-Reply-To: <20051222193421.4cmtcess8e80wcwg@banana.catalyst2.com>
References: <43AAA945.6070806@scytheman.net>
	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>
	<ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>
	<43AAE9CA.1020102@skippy.net>
	<ca7320070512221059u6120400ej88d68a9770262e28@mail.gmail.com>
	<20051222193421.4cmtcess8e80wcwg@banana.catalyst2.com>
Message-ID: <ebe43d680512221148l1b46efdbx@mail.gmail.com>

On 22/12/05, Roy Schestowitz <r@schestowitz.com> wrote:
> I  take Aaron's side in this. Am I the only one to ever reply off-list?  I
> also  prefer pointing people to existing discussions on top/bottom posting
> and HTML/plain-text. This tends to be less direct and thus less offensive.

Certainly my email, and probably skippy's as well was intended in
general, rather than directed specifically at Aaron, but perhaps I'm
wrong.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From skippy at skippy.net  Thu Dec 22 19:57:41 2005
From: skippy at skippy.net (Scott Merrill)
Date: Thu Dec 22 19:57:40 2005
Subject: [wp-hackers] Cruft (was Caching of numbers of comments?)
In-Reply-To: <ebe43d680512221148l1b46efdbx@mail.gmail.com>
References: <43AAA945.6070806@scytheman.net>	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>	<ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>	<43AAE9CA.1020102@skippy.net>	<ca7320070512221059u6120400ej88d68a9770262e28@mail.gmail.com>	<20051222193421.4cmtcess8e80wcwg@banana.catalyst2.com>
	<ebe43d680512221148l1b46efdbx@mail.gmail.com>
Message-ID: <43AB0535.3070106@skippy.net>

Roy Schestowitz <r@schestowitz.com> wrote:
>I  take Aaron's side in this. Am I the only one to ever reply off-list?  I
>also  prefer pointing people to existing discussions on top/bottom posting
>and HTML/plain-text. This tends to be less direct and thus less offensive.

I don't care who's side anyone takes, as this isn't about "sides" to me.
 If I sent a personal note to every person who top-posts, I'd be a
pretty busy fellow!  Better to say it once, for the group, and then move
on.  Almost every mailing list on which I participate has these
reminders pop up from some aggravated member.  See the Postfix list for
examples of how hostile it can get.

David House wrote:
> Certainly my email, and probably skippy's as well was intended in
> general, rather than directed specifically at Aaron, but perhaps I'm
> wrong.

You're not wrong.  I wasn't trying to pick on Aaron.  I wasn't trying to
instigate a fight.  Unfortunately, Aaron's overly long message was the
straw that broke the camel's back, and prompted my message.

Overly quoted messages drastically increase the noise in a conversation.
 It makes it harder to skim a message, and they pollute archive searches.

If anyone took offense, please accept my sincere apologies.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From ryan at boren.nu  Thu Dec 22 20:40:17 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Dec 22 20:40:23 2005
Subject: [wp-hackers] Caching of numbers of comments?
In-Reply-To: <43AAED68.1000206@scytheman.net>
References: <43AAA945.6070806@scytheman.net>
	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>
	<43AAED68.1000206@scytheman.net>
Message-ID: <1135284017.12722.4.camel@localhost.localdomain>

On Thu, 2005-12-22 at 19:16 +0100, Sebastian Herp wrote:
> Peter Westwood wrote:
> 
> >On Thu, December 22, 2005 1:25 pm, Sebastian Herp wrote:
> >  
> >
> >>Hello list,
> >>
> >>wordpress 2.0 RC3 seems to cache a lot of things. Does it cache the
> >>number of comments returned by the "comments_number"-function? Because
> >>that number seems to be displayed wrong in several postings. Why exactly
> >>does this need caching or is this bug not related to the cache?
> >>
> >>Example:
> >>http://www.sebbi.de/archives/2005/12/21/premiere-weg-vom-fenster/
> >>The function currently returns "5 comments" while I definetly see 6 ...
> >>
> >>    
> >>
> >
> >Comment Count is stored in the db against each post to save on queries for
> >the front page. (New in 2.0)
> >
> >I suspect you are running a comment processing plugin that die()'s inside
> >the hook like Spam Karma 2 does (The fix for which is here -
> >http://lair.fierydragon.org/2005/11/sk2-wp2compatibility/)
> >
> >westi
> >  
> >
> Aha! That's exactly what is causing the problem. Thank you! Introducing 
> redundancy at this point is however the baddest idea I've ever seen. Why 
> would someone "copy" a simple number just to save one simple query that 
> uses less than one tenth of a millisecond to execute? A query, btw, that 
> could have been easily "joined" to the main-query which gets the posts 
> ... redundancy in a database scheme is a very very very (I can't say it 
> often enough) bad thing ...


COUNT() is very slow with InnoDB.

Ryan

From m at mullenweg.com  Thu Dec 22 21:27:24 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Thu Dec 22 21:27:41 2005
Subject: [wp-hackers] Cruft (was Caching of numbers of comments?)
In-Reply-To: <43AAE9CA.1020102@skippy.net>
References: <43AAA945.6070806@scytheman.net>	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>	<20051222164344.2qqwg6aqyqkkkwk0@banana.catalyst2.com>	<ca7320070512220950o5c596407xb0f70949f49de60c@mail.gmail.com>
	<43AAE9CA.1020102@skippy.net>
Message-ID: <43AB1A3C.9040705@mullenweg.com>

Scott Merrill wrote:
> I hate to be a nit-picker, but the proclivity for top-posting on this
> list is out of control.

I think it's a law of mailing lists that someone complain about this 
every 2 months or so.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From jeff at jrm.cc  Fri Dec 23 23:25:18 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Thu Dec 22 23:25:22 2005
Subject: [wp-hackers] Caching of numbers of comments?
In-Reply-To: <1135284017.12722.4.camel@localhost.localdomain>
References: <43AAA945.6070806@scytheman.net>	<19339.193.128.96.1.1135266831.squirrel@epia.ftwr.co.uk>	<43AAED68.1000206@scytheman.net>
	<1135284017.12722.4.camel@localhost.localdomain>
Message-ID: <43AC875E.6080908@jrm.cc>

Ryan Boren wrote:
> COUNT() is very slow with InnoDB.

Well, I dunno about you, but I like looping my entire database. Lots.

Jeff
From false.hopes at gmail.com  Fri Dec 23 23:28:29 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Fri Dec 23 23:28:42 2005
Subject: [wp-hackers] WordPress 2.0 Permalinks and lighttpd
Message-ID: <a491f91d0512231528h1cdb8055n7da6418abd15ee7@mail.gmail.com>

I've been using WordPress with lighttpd for some time with no
problems. Up until now, I was using 1.5.2 on my site, with the patch
by michel_v from a few months back that let /archives/ work via the
404 method. 2.0 however, breaks this patch, and makes it entirely
unclear as to what to do to fix it, since all of this server stuff is
voodoo. If anybody has any ideas, I'd greatly appreciate them, I've
been fiddling with this for the past few weeks to no avail. Here's a
list of things that do and don't work

These work:
Individual posts:
http://somethingunpredictable.com/archives/18/12/2005/philadelphia-wordpress-and-webloggers-meetups/
Pages:
http://somethingunpredictable.com/contact/
Archives by day (I don't think this is the intended behavior though):
http://somethingunpredictable.com/archives/13/

Doesn't work:
Archives by month and year.
http://somethingunpredictable.com/archives/03/2005/

My permalink structure is: /archives/%day%/%monthnum%/%year%/%postname%/

--
--Robert Deaton
http://somethingunpredictable.com
From powzor at gmail.com  Sat Dec 24 00:33:34 2005
From: powzor at gmail.com (Rob)
Date: Sat Dec 24 00:31:47 2005
Subject: [wp-hackers] WordPress 2.0 Permalinks and lighttpd
In-Reply-To: <a491f91d0512231528h1cdb8055n7da6418abd15ee7@mail.gmail.com>
References: <a491f91d0512231528h1cdb8055n7da6418abd15ee7@mail.gmail.com>
Message-ID: <43AC975E.30808@robm.me.uk>

Robert Deaton wrote:
> I've been using WordPress with lighttpd for some time with no
> problems. Up until now, I was using 1.5.2 on my site, with the patch
> by michel_v from a few months back that let /archives/ work via the
> 404 method. 2.0 however, breaks this patch, and makes it entirely
> unclear as to what to do to fix it, since all of this server stuff is
> voodoo. If anybody has any ideas, I'd greatly appreciate them, I've
> been fiddling with this for the past few weeks to no avail. Here's a
> list of things that do and don't work
>
> These work:
> Individual posts:
> http://somethingunpredictable.com/archives/18/12/2005/philadelphia-wordpress-and-webloggers-meetups/
> Pages:
> http://somethingunpredictable.com/contact/
> Archives by day (I don't think this is the intended behavior though):
> http://somethingunpredictable.com/archives/13/
>
> Doesn't work:
> Archives by month and year.
> http://somethingunpredictable.com/archives/03/2005/
>
> My permalink structure is: /archives/%day%/%monthnum%/%year%/%postname%/
>
> --
> --Robert Deaton
> http://somethingunpredictable.com
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   
I don't know about anyone else, but that totally doesn't make sense to 
me - the month isn't a sub-entry of the day, for example; you have days 
within months within years.

The intended (and logical) behaviour is like this (which works on your 
site):

http://somethingunpredictable.com/archives/2005/09/

You go from the most generic to the most specific; if you had 
/archives/13/, how does it know whether to select entries from the 13th 
of March, the 13th of August, or the 13th of November? There's only one 
2005, in which there is only one September 2005, in which there is only 
one 13th of September 2005. It just doesn't make sense the other way around.

-- 
Rob Miller
http://robm.me.uk/ | http://kantian.co.uk/

From false.hopes at gmail.com  Sat Dec 24 00:37:18 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Sat Dec 24 00:37:32 2005
Subject: [wp-hackers] WordPress 2.0 Permalinks and lighttpd
In-Reply-To: <43AC975E.30808@robm.me.uk>
References: <a491f91d0512231528h1cdb8055n7da6418abd15ee7@mail.gmail.com>
	<43AC975E.30808@robm.me.uk>
Message-ID: <a491f91d0512231637v36b9d607xe6c2fdd8df2d620b@mail.gmail.com>

\> I don't know about anyone else, but that totally doesn't make sense to
> me - the month isn't a sub-entry of the day, for example; you have days
> within months within years.
>
> The intended (and logical) behaviour is like this (which works on your
> site):
>
> http://somethingunpredictable.com/archives/2005/09/

That clearly does not work, and fetches all the latest posts. Look at
the dates, 2005/09/ should be the month of september, 2005. The first
post that appears is December 21.

--
--Robert Deaton
http://somethingunpredictable.com
From ryan at boren.nu  Sat Dec 24 00:53:06 2005
From: ryan at boren.nu (Ryan Boren)
Date: Sat Dec 24 00:53:02 2005
Subject: [wp-hackers] Page reordering bug
Message-ID: <1135385587.9328.1.camel@localhost.localdomain>

http://trac.wordpress.org/ticket/2071

Anyone got some bandwidth to look into this?

Ryan

From false.hopes at gmail.com  Sat Dec 24 08:29:21 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Sat Dec 24 08:29:39 2005
Subject: [wp-hackers] WordPress 2.0 Permalinks and lighttpd
In-Reply-To: <a491f91d0512231637v36b9d607xe6c2fdd8df2d620b@mail.gmail.com>
References: <a491f91d0512231528h1cdb8055n7da6418abd15ee7@mail.gmail.com>
	<43AC975E.30808@robm.me.uk>
	<a491f91d0512231637v36b9d607xe6c2fdd8df2d620b@mail.gmail.com>
Message-ID: <a491f91d0512240029u48872da2la8beafd83d6a52cc@mail.gmail.com>

Well, after days of work, I flipped some switch somewhere, and it is
working once again, but unfortunately, I can't figure out what exactly
made it work. A request for 2.1 (and I will file this on trac) is to
get the rewriter working with 404 rewrites on webservers besides
apache and IIS.

--
--Robert Deaton
http://somethingunpredictable.com
From podz at tamba2.org.uk  Sat Dec 24 09:10:03 2005
From: podz at tamba2.org.uk (Podz)
Date: Sat Dec 24 09:10:19 2005
Subject: [wp-hackers] Forum Post: drafts + strict mode
Message-ID: <43AD106B.60808@tamba2.org.uk>

Is this right ?

"Drafts do not work with WP2.0 and MySQL 5 strict-mode. I don't know if
they work with MySQL in loose mode."

http://wordpress.org/support/topic/53016#post-290394

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051224/3db7ce0a/signature.pgp
From dmhouse at gmail.com  Sat Dec 24 13:43:31 2005
From: dmhouse at gmail.com (David House)
Date: Sat Dec 24 13:43:47 2005
Subject: [wp-hackers] Page reordering bug
In-Reply-To: <1135385587.9328.1.camel@localhost.localdomain>
References: <1135385587.9328.1.camel@localhost.localdomain>
Message-ID: <ebe43d680512240543y6df504acj@mail.gmail.com>

On 24/12/05, Ryan Boren <ryan@boren.nu> wrote:
> http://trac.wordpress.org/ticket/2071
>
> Anyone got some bandwidth to look into this?

Try the attached patch.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From podz at tamba2.org.uk  Sun Dec 25 20:08:36 2005
From: podz at tamba2.org.uk (Podz)
Date: Sun Dec 25 20:09:06 2005
Subject: [wp-hackers] Is the 26th still on ?
Message-ID: <43AEFC44.2030107@tamba2.org.uk>

If so, what time UTC ?

(If there was a vote, I'd still push the date back)

P.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 250 bytes
Desc: OpenPGP digital signature
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051225/06f1b092/signature.pgp
From m at mullenweg.com  Mon Dec 26 02:13:48 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Dec 26 02:14:17 2005
Subject: [wp-hackers] WP.org
Message-ID: <43AF51DC.6070906@mullenweg.com>

WordPress.org will be down a bit tonight as I prepare it for the 
release. The codex should be alright.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From mani.monajjemi at gmail.com  Mon Dec 26 07:53:09 2005
From: mani.monajjemi at gmail.com (Mani Monajjemi)
Date: Mon Dec 26 08:49:11 2005
Subject: [wp-hackers] Is the 26th still on ?
In-Reply-To: <43AEFC44.2030107@tamba2.org.uk>
References: <43AEFC44.2030107@tamba2.org.uk>
Message-ID: <d4d3e29e0512252353q1da51476k204884ac29378032@mail.gmail.com>

It seems as if the release date is today(26 Dec) , I do agree with you
>> (If there was a vote, I'd still push the date back)



On 12/25/05, Podz <podz@tamba2.org.uk> wrote:
>
> If so, what time UTC ?
>
> (If there was a vote, I'd still push the date back)
>
> P.
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
>


--
Mani Monajjemi
www.manionline.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051226/5af00c4d/attachment.htm
From mani.monajjemi at gmail.com  Mon Dec 26 07:54:53 2005
From: mani.monajjemi at gmail.com (Mani Monajjemi)
Date: Mon Dec 26 08:51:01 2005
Subject: [wp-hackers] trac.wordpress.org is down?
Message-ID: <d4d3e29e0512252354x40f4e56by9e8a68dc9ac2c7a1@mail.gmail.com>

see the trac.wordpress.org,  I got this error :

Oops... *Trac detected an internal error:*

database is full



--
Mani Monajjemi
www.manionline.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051226/6384b3f4/attachment.htm
From ali_ix at corelist.net  Mon Dec 26 09:00:43 2005
From: ali_ix at corelist.net (Ali Sattari)
Date: Mon Dec 26 09:02:14 2005
Subject: [wp-hackers] Is the 26th still on ?
In-Reply-To: <d4d3e29e0512252353q1da51476k204884ac29378032@mail.gmail.com>
References: <43AEFC44.2030107@tamba2.org.uk>
	<d4d3e29e0512252353q1da51476k204884ac29378032@mail.gmail.com>
Message-ID: <43AFB13B.4020505@corelist.net>

Me too !

Mani Monajjemi wrote:
> I do agree with you
> >> (If there was a vote, I'd still push the date back)
-- 
Ali Sattari - (AKA Ali ix)

http://weblog.corelist.net




From jjb at ibiblio.org  Mon Dec 26 08:13:27 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Mon Dec 26 09:10:29 2005
Subject: [wp-hackers] Re: bug
In-Reply-To: <Pine.LNX.4.61.0512260311200.10605@tribal.metalab.unc.edu>
References: <Pine.LNX.4.61.0512260311200.10605@tribal.metalab.unc.edu>
Message-ID: <Pine.LNX.4.61.0512260313100.10605@tribal.metalab.unc.edu>

On Mon, 26 Dec 2005, John Joseph Bachir wrote:
> link-import.php still references 'fileupload_realpath'...

on line 85
From jjb at ibiblio.org  Mon Dec 26 08:12:45 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Mon Dec 26 09:10:33 2005
Subject: [wp-hackers] bug
Message-ID: <Pine.LNX.4.61.0512260311200.10605@tribal.metalab.unc.edu>

(trac is down and i wanted to submit this before i forgot)

link-import.php still references 'fileupload_realpath'... i don't know 
what the hip new way to do this is.

-- 
http://lyceum.ibiblio.org
From ali_ix at corelist.net  Mon Dec 26 09:10:57 2005
From: ali_ix at corelist.net (Ali Sattari)
Date: Mon Dec 26 09:11:22 2005
Subject: [wp-hackers] trac.wordpress.org is down?
In-Reply-To: <d4d3e29e0512252354x40f4e56by9e8a68dc9ac2c7a1@mail.gmail.com>
References: <d4d3e29e0512252354x40f4e56by9e8a68dc9ac2c7a1@mail.gmail.com>
Message-ID: <43AFB3A1.2010607@corelist.net>

No problems, Up and Running *Now*.


Mani Monajjemi wrote:
> see the trac.wordpress.org <http://trac.wordpress.org>,  I got this 
> error :
>
>
>       Oops...
>
> *Trac detected an internal error:*
> database is full
>
>
> -- 
> Mani Monajjemi
> www.manionline.org <http://www.manionline.org>
> ------------------------------------------------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

-- 
Ali Sattari - (AKA Ali ix)

http://weblog.corelist.net




From kimmo+key+wordpress.c4f53f at suominen.com  Mon Dec 26 17:07:55 2005
From: kimmo+key+wordpress.c4f53f at suominen.com (Kimmo Suominen)
Date: Mon Dec 26 17:08:26 2005
Subject: [wp-hackers] Where is is_uploaded_file() ?
Message-ID: <20051226170755.GW954@kimmo.suominen.com>

Hi!

I was looking for the is_uploaded_file() function and could not find
its definition (with grep).  I'm trying to understand what the message
"Specified file failed upload test." really means in order to better
translated it, but couldn't even find the code.

The function is called from wp-admin/admin-functions.php line 1722.

Any pointers?

Already tried:  find . -type f -print | xargs grep -H is_uploaded_file

Thanks,
+ Kimmo
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>

From false.hopes at gmail.com  Mon Dec 26 17:09:56 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Dec 26 17:10:15 2005
Subject: [wp-hackers] Where is is_uploaded_file() ?
In-Reply-To: <20051226170755.GW954@kimmo.suominen.com>
References: <20051226170755.GW954@kimmo.suominen.com>
Message-ID: <a491f91d0512260909i405540dcvb16a2084a0b46bd3@mail.gmail.com>

php.net/is_uploaded_file

On 12/26/05, Kimmo Suominen <kimmo+key+wordpress.c4f53f@suominen.com> wrote:
> Hi!
>
> I was looking for the is_uploaded_file() function and could not find
> its definition (with grep).  I'm trying to understand what the message
> "Specified file failed upload test." really means in order to better
> translated it, but couldn't even find the code.
>
> The function is called from wp-admin/admin-functions.php line 1722.
>
> Any pointers?
>
> Already tried:  find . -type f -print | xargs grep -H is_uploaded_file
>
> Thanks,
> + Kimmo
> --
> <A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


--
--Robert Deaton
http://somethingunpredictable.com
From kimmo+key+wordpress.c4f53f at suominen.com  Mon Dec 26 17:11:41 2005
From: kimmo+key+wordpress.c4f53f at suominen.com (Kimmo Suominen)
Date: Mon Dec 26 17:12:02 2005
Subject: [wp-hackers] Where is is_uploaded_file() ?
In-Reply-To: <a491f91d0512260909i405540dcvb16a2084a0b46bd3@mail.gmail.com>
References: <20051226170755.GW954@kimmo.suominen.com>
	<a491f91d0512260909i405540dcvb16a2084a0b46bd3@mail.gmail.com>
Message-ID: <20051226171141.GX954@kimmo.suominen.com>

Heh -- thanks!  I was blinded by is_single(), is_page() ... :)

Regards,
+ Kimmo
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>


On Mon, Dec 26, 2005 at 12:09:56PM -0500, Robert Deaton wrote:
> php.net/is_uploaded_file
From robmientjes at gmail.com  Mon Dec 26 22:29:21 2005
From: robmientjes at gmail.com (Rob Mientjes)
Date: Mon Dec 26 22:29:43 2005
Subject: [wp-hackers] WP.org
In-Reply-To: <43AF51DC.6070906@mullenweg.com>
References: <43AF51DC.6070906@mullenweg.com>
Message-ID: <e8e97f9f0512261429i6b28ed4dq9946222f50f2c553@mail.gmail.com>

On 12/26/05, Matt Mullenweg <m@mullenweg.com> wrote:
> WordPress.org will be down a bit tonight as I prepare it for the
> release. The codex should be alright.

Looking great, Matt!
From peter at j1ve.com  Mon Dec 26 22:57:02 2005
From: peter at j1ve.com (Peter Templeton)
Date: Mon Dec 26 22:56:59 2005
Subject: [wp-hackers] Publish is hardcoded for Categories and Archives
Message-ID: <000c01c60a6f$aff82280$6401a8c0@poseidon>

I too am facing this problem (below) with a plug-in I'm working on.
 
-------------------------------------------------
 
> > > If there are any extra hooks you need added, let us know now and we
can
> > > try to get them into 2.0.
> >
> > The biggest thing that's been missing is that the posts_where and
> > posts_join filters aren't called when constructing archives (date or
> > category), meaning the archives can't take into account the private
> > posts (since post_status = 'publish' is hard coded).
> 
> I thought we always called those filters.  Maybe I'm not following.  Can
> you elaborate a bit more?
 
I switched topics without introducing the issue, my fault. My plugin
depends on post_status being set to private for the protected posts.
Those posts are then shown through the posts_where and posts_join
filters. However, this technique doesn't work for list_cats, etc
because those filters aren't applied to the SQL queries which generate
them.
 
For example: Looking at template-functions.php, line 305, you can see:
 
               $cat_dates = $wpdb->get_results("SELECT category_id,
               UNIX_TIMESTAMP( MAX(post_date) ) AS ts
               FROM $wpdb->posts, $wpdb->post2cat, $wpdb->categories
               WHERE post_status = 'publish' AND post_id = ID $exclusions
               GROUP BY category_id");
 
As you can see, the SQL query is run without any filters, so my plugin
can't change the query to account for private posts. For another
example, see template-functions-general.php, line 333. You'll see:
 
$arcresults = $wpdb->get_results("SELECT DISTINCT YEAR(post_date) AS
`year`, MONTH(post_date) AS `month`, count(ID) as posts FROM
$wpdb->posts WHERE post_date < '$now' AND post_date != '0000-00-00
00:00:00' AND post_status = 'publish' GROUP BY YEAR(post_date),
MONTH(post_date) ORDER BY post_date DESC" . $limit);
 
Thanks.

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051226/a78d4b81/attachment.htm
From wp at igeek.info  Mon Dec 26 23:38:21 2005
From: wp at igeek.info (Amit Gupta)
Date: Mon Dec 26 23:38:46 2005
Subject: [wp-hackers] WP.org
References: <43AF51DC.6070906@mullenweg.com>
	<e8e97f9f0512261429i6b28ed4dq9946222f50f2c553@mail.gmail.com>
Message-ID: <002e01c60a75$76eb2090$57ebd4cb@unicorn>

Rob Mientjes <robmientjes@gmail.com> wrote:
|  On 12/26/05, Matt Mullenweg <m@mullenweg.com> wrote:
|  > WordPress.org will be down a bit tonight as I prepare it for the
|  > release. The codex should be alright.
|
|  Looking great, Matt!

yeah, that looks real nice, a bit too bright than the last layout, but 
it looks
neat nevertheless!! :)

btw, when do we get WP2.0 now that the site's back up with new dress!!

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051226/c962ada5/attachment.htm
From wp at igeek.info  Mon Dec 26 23:44:58 2005
From: wp at igeek.info (Amit Gupta)
Date: Mon Dec 26 23:45:23 2005
Subject: [wp-hackers] WP.org
References: <43AF51DC.6070906@mullenweg.com><e8e97f9f0512261429i6b28ed4dq9946222f50f2c553@mail.gmail.com>
	<002e01c60a75$76eb2090$57ebd4cb@unicorn>
Message-ID: <002301c60a76$63adefc0$57ebd4cb@unicorn>

Amit Gupta <wp@igeek.info> wrote:
|  btw, when do we get WP2.0 now that the site's back up with new 
dress!!

I just downloaded the latest offering from the download page & its 
v2.0!!
so does that mean that its available now & Matt just has to update the
download page & announce it on the blog?

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051226/041d250b/attachment-0001.htm
From skippy at skippy.net  Tue Dec 27 03:12:06 2005
From: skippy at skippy.net (Scott Merrill)
Date: Tue Dec 27 03:12:31 2005
Subject: [wp-hackers] select all users with role X
Message-ID: <43B0B106.5050500@skippy.net>

I'd like to send an email to all the users with the Administrator role.

Since the roles are stored as a serialized array in the usermeta table,
I need to iterate over the entire user table to find all the
administrators.  I _could_ cheat for the time being and use the
deprecated wp_user_level value, but that's just avoiding the issue.

In many circumstances, iterating over the user table won't be a big
deal, because the number of registered users is so small.  This is,
historically, because there is very little value for readers to become
registered users.  The newest version of my subscribe2 plugin is likely
to change that, and I suspect that some of my users are going to see
some reasonably large user lists.  Iterating over these to parse each
array of roles seems like a real waste of an RDBMS.

Short of re-working the roles and capabilities system, does anyone have
any tricks up their sleeves that might help?

Thanks,
Scott

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From aaron at technosailor.com  Tue Dec 27 03:22:20 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Tue Dec 27 03:22:42 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <43B0B106.5050500@skippy.net>
References: <43B0B106.5050500@skippy.net>
Message-ID: <ca7320070512261922j4c82f2cbh378a07693dc1125f@mail.gmail.com>

On 12/26/05, Scott Merrill <skippy@skippy.net> wrote:
>
> I'd like to send an email to all the users with the Administrator role.
>
> Since the roles are stored as a serialized array in the usermeta table,
> I need to iterate over the entire user table to find all the
> administrators.  I _could_ cheat for the time being and use the
> deprecated wp_user_level value, but that's just avoiding the issue.
>
> In many circumstances, iterating over the user table won't be a big
> deal, because the number of registered users is so small.  This is,
> historically, because there is very little value for readers to become
> registered users.  The newest version of my subscribe2 plugin is likely
> to change that, and I suspect that some of my users are going to see
> some reasonably large user lists.  Iterating over these to parse each
> array of roles seems like a real waste of an RDBMS.
>
> Short of re-working the roles and capabilities system, does anyone have
> any tricks up their sleeves that might help?
>
> Thanks,
> Scott
>

Hmmmm... without iterating over the user table? Maybe create an item in
the options table with an array of user ids updated whenever a user is
added to the admin group?  Would probably require a one time user table
scan when the plugin is installed to get all current admins and could be
added to after that.

I almost think iterating over the entire table would be more worthwhile,
but I don't know.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051227/eb563789/attachment.htm
From denis at semiologic.com  Tue Dec 27 03:48:32 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Tue Dec 27 03:50:00 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <ca7320070512261922j4c82f2cbh378a07693dc1125f@mail.gmail.com>
Message-ID: <002601c60a98$686d2d10$6802a8c0@kergan>

that's probably not an option with a large list. imho, create and maintain a
separate table.

D.



> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Aaron Brazell
> Sent: Tuesday, December 27, 2005 4:22 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] select all users with role X
> 
> 
> On 12/26/05, Scott Merrill <skippy@skippy.net> wrote:
> 
> 	I'd like to send an email to all the users with the 
> Administrator role.
> 	
> 	Since the roles are stored as a serialized array in the 
> usermeta table,
> 	I need to iterate over the entire user table to find all the
> 	administrators.  I _could_ cheat for the time being and use the 
> 	deprecated wp_user_level value, but that's just 
> avoiding the issue.
> 	
> 	In many circumstances, iterating over the user table 
> won't be a big
> 	deal, because the number of registered users is so 
> small.  This is,
> 	historically, because there is very little value for 
> readers to become
> 	registered users.  The newest version of my subscribe2 
> plugin is likely
> 	to change that, and I suspect that some of my users are 
> going to see
> 	some reasonably large user lists.  Iterating over these 
> to parse each
> 	array of roles seems like a real waste of an RDBMS.
> 	
> 	Short of re-working the roles and capabilities system, 
> does anyone have
> 	any tricks up their sleeves that might help? 
> 	
> 	Thanks,
> 	Scott
> 	
> 
> 
> Hmmmm... without iterating over the user table? Maybe create 
> an item in the options table with an array of user ids 
> updated whenever a user is added to the admin group?  Would 
> probably require a one time user table 
> scan when the plugin is installed to get all current admins 
> and could be added to after that.
> 
> I almost think iterating over the entire table would be more 
> worthwhile, but I don't know.
> 
> 

From false.hopes at gmail.com  Tue Dec 27 04:23:09 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Dec 27 04:23:28 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <002601c60a98$686d2d10$6802a8c0@kergan>
References: <ca7320070512261922j4c82f2cbh378a07693dc1125f@mail.gmail.com>
	<002601c60a98$686d2d10$6802a8c0@kergan>
Message-ID: <a491f91d0512262023t3c96041ak111fc60194362b19@mail.gmail.com>

On 12/26/05, Denis de Bernardy <denis@semiologic.com> wrote:
> that's probably not an option with a large list. imho, create and maintain a
> separate table.
>

So, any plugin author who wants to select users by roles, or even by
multiple roles, should be expected to maintain their own table, or
iterate over every user out of the database? Hell, we should just move
to flat files for all of this, what's the point in using MySQL?

--
--Robert Deaton
http://somethingunpredictable.com
From denis at semiologic.com  Tue Dec 27 04:31:55 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Tue Dec 27 04:34:15 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <a491f91d0512262023t3c96041ak111fc60194362b19@mail.gmail.com>
Message-ID: <002e01c60a9e$77c49400$6802a8c0@kergan>

Might make sense... Though, someone will likely come up with a plugin for
others to use. ;)

Irony set aside, would storing this kind of data in a more rational way be a
good feature for WP 2.1?

D.



> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Robert Deaton
> Sent: Tuesday, December 27, 2005 5:23 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] select all users with role X
> 
> 
> On 12/26/05, Denis de Bernardy <denis@semiologic.com> wrote:
> > that's probably not an option with a large list. imho, create and 
> > maintain a separate table.
> >
> 
> So, any plugin author who wants to select users by roles, or 
> even by multiple roles, should be expected to maintain their 
> own table, or iterate over every user out of the database? 
> Hell, we should just move to flat files for all of this, 
> what's the point in using MySQL?
> 
> --
> --Robert Deaton
> http://somethingunpredictable.com
> 

From r at schestowitz.com  Tue Dec 27 04:42:34 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue Dec 27 04:42:56 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <ca7320070512261922j4c82f2cbh378a07693dc1125f@mail.gmail.com>
References: <43B0B106.5050500@skippy.net>
	<ca7320070512261922j4c82f2cbh378a07693dc1125f@mail.gmail.com>
Message-ID: <20051227044234.d9nu5njyk3dw04cg@banana.catalyst2.com>

_____/ On Tue 27 Dec 2005 03:22:20 GMT, [Aaron Brazell] wrote : \_____

> On 12/26/05, Scott Merrill <skippy@skippy.net> wrote:
>>
>> I'd like to send an email to all the users with the Administrator role.
>>
>> Since the roles are stored as a serialized array in the usermeta table,
>> I need to iterate over the entire user table to find all the
>> administrators.  I _could_ cheat for the time being and use the
>> deprecated wp_user_level value, but that's just avoiding the issue.
>>
>> In many circumstances, iterating over the user table won't be a big
>> deal, because the number of registered users is so small.  This is,
>> historically, because there is very little value for readers to become
>> registered users.  The newest version of my subscribe2 plugin is likely
>> to change that, and I suspect that some of my users are going to see
>> some reasonably large user lists.  Iterating over these to parse each
>> array of roles seems like a real waste of an RDBMS.
>>
>> Short of re-working the roles and capabilities system, does anyone have
>> any tricks up their sleeves that might help?
>>
>> Thanks,
>> Scott
>>
>
> Hmmmm... without iterating over the user table? Maybe create an item in
> the options table with an array of user ids updated whenever a user is
> added to the admin group?  Would probably require a one time user table
> scan when the plugin is installed to get all current admins and could be
> added to after that.
>
> I almost think iterating over the entire table would be more worthwhile,
> but I don't know.

As Robert pointed out, hanging bits off the core is rarely the 
desirable option.
I don't know particular database systems, but the correct thing  is to do a
table join of all users and then apply a mask. In this case, it can even be
bitwise. I don't know how/if you can do this in MySQL. Here is a very
simplified example:


|user-id|role|email|
|0000000|0011|10000|
|0000001|0011|01011|
|0000010|0010|01101|
|0000011|0100|01010|
|0000100|0011|01000|
|0000101|0010|01111|

Assuming administrator corresponds to level 8, apply XOR mask to role:

0100

If 0, you found an administrator, so get fetch from the table.

Roy

From false.hopes at gmail.com  Tue Dec 27 05:15:19 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Dec 27 05:15:42 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <20051227044234.d9nu5njyk3dw04cg@banana.catalyst2.com>
References: <43B0B106.5050500@skippy.net>
	<ca7320070512261922j4c82f2cbh378a07693dc1125f@mail.gmail.com>
	<20051227044234.d9nu5njyk3dw04cg@banana.catalyst2.com>
Message-ID: <a491f91d0512262115y619de5c5geac2e16d85cb86fa@mail.gmail.com>

On 12/26/05, Roy Schestowitz <r@schestowitz.com> wrote:
> _____/ On Tue 27 Dec 2005 03:22:20 GMT, [Aaron Brazell] wrote : \_____
> As Robert pointed out, hanging bits off the core is rarely the
> desirable option.
> I don't know particular database systems, but the correct thing  is to do a
> table join of all users and then apply a mask. In this case, it can even be
> bitwise. I don't know how/if you can do this in MySQL. Here is a very
> simplified example:
>
>
> |user-id|role|email|
> |0000000|0011|10000|
> |0000001|0011|01011|
> |0000010|0010|01101|
> |0000011|0100|01010|
> |0000100|0011|01000|
> |0000101|0010|01111|
>
> Assuming administrator corresponds to level 8, apply XOR mask to role:
>
> 0100
>
> If 0, you found an administrator, so get fetch from the table.
>

As this was already discussed on IRC, this is far from the right
choice, because of plugins. Plugins should be able to add their own
roles, which may work fine, we just append another bit. However, for a
typical 32-bit integer, we're limited to 8 roles. Besides that,
plugins that are deactivated then leave huge amounts of cruft behind
without complicated code to remove their options. I don't see any
reason why a typical table that we can use in JOINs is out of the
question.
> Roy
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


--
--Robert Deaton
http://somethingunpredictable.com
From ryan at boren.nu  Tue Dec 27 05:19:17 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Dec 27 05:19:21 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <002e01c60a9e$77c49400$6802a8c0@kergan>
References: <002e01c60a9e$77c49400$6802a8c0@kergan>
Message-ID: <1135660757.9358.8.camel@localhost.localdomain>

On Tue, 2005-12-27 at 05:31 +0100, Denis de Bernardy wrote:
> Might make sense... Though, someone will likely come up with a plugin for
> others to use. ;)
> 
> Irony set aside, would storing this kind of data in a more rational way be a
> good feature for WP 2.1?

Someone could propose a schema and implement a replacement WP_User class
for everyone to argue over.  We could abstract these queries with
get_users_with_role() and get_users_with_cap() while we're at it.

In the meantime, plugins can check what levels are in a particular role
and query the user's level key for those levels.

Ryan

> > -----Original Message-----
> > From: wp-hackers-bounces@lists.automattic.com 
> > [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> > Robert Deaton
> > Sent: Tuesday, December 27, 2005 5:23 AM
> > To: wp-hackers@lists.automattic.com
> > Subject: Re: [wp-hackers] select all users with role X
> > 
> > 
> > On 12/26/05, Denis de Bernardy <denis@semiologic.com> wrote:
> > > that's probably not an option with a large list. imho, create and 
> > > maintain a separate table.
> > >
> > 
> > So, any plugin author who wants to select users by roles, or 
> > even by multiple roles, should be expected to maintain their 
> > own table, or iterate over every user out of the database? 
> > Hell, we should just move to flat files for all of this, 
> > what's the point in using MySQL?

From ringmaster at midnightcircus.com  Tue Dec 27 19:25:44 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Dec 27 19:26:19 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <1135660757.9358.8.camel@localhost.localdomain>
References: <002e01c60a9e$77c49400$6802a8c0@kergan>
	<1135660757.9358.8.camel@localhost.localdomain>
Message-ID: <43B19538.5050006@midnightcircus.com>

Ryan Boren wrote:
> Someone could propose a schema and implement a replacement WP_User class
> for everyone to argue over.  We could abstract these queries with
> get_users_with_role() and get_users_with_cap() while we're at it.

Rather than creating a whole new table mess (this wasn't actually 
suggested, was it?), just store the capabilities in multiple rows 
instead of a serialized array.

SELECT * FROM wp_usermeta WHERE meta_key = 'wp_caps_granted';
SELECT * FROM wp_usermeta WHERE meta_key = 'wp_caps_denied';

Any plugin that implements caching/selecting users based on role could 
use this schema.  Hopefully it could be tested and adopted, since it's a 
bit more flexible.

> In the meantime, plugins can check what levels are in a particular role
> and query the user's level key for those levels.

Use a regex query on the usermeta value field to search for the 
capability required.  Like this:

SELECT user_id FROM wp_usermeta WHERE meta_key = 'wp_capabilities' AND 
meta_value RLIKE '[[:<:]]administrator[[:>:]]';

Be sure to verify that the users returned actually DO have the role 
requested.  Note that there are a bunch of "wp_"s in the query that need 
to be replaced with the database prefix.

Alternatively, the code that creates the user list page in the WordPress 
admin could also be used to sift out the users having specific roles, 
although it is not very efficient, since it's designed to get all users 
and their roles.

Owen
From ryan at boren.nu  Tue Dec 27 20:36:24 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Dec 27 20:37:24 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <43B19538.5050006@midnightcircus.com>
References: <002e01c60a9e$77c49400$6802a8c0@kergan>
	<1135660757.9358.8.camel@localhost.localdomain>
	<43B19538.5050006@midnightcircus.com>
Message-ID: <1135715784.10175.5.camel@localhost.localdomain>

On Tue, 2005-12-27 at 14:25 -0500, Owen Winkler wrote:
> Ryan Boren wrote:
> > Someone could propose a schema and implement a replacement WP_User class
> > for everyone to argue over.  We could abstract these queries with
> > get_users_with_role() and get_users_with_cap() while we're at it.
> 
> Rather than creating a whole new table mess (this wasn't actually 
> suggested, was it?), just store the capabilities in multiple rows 
> instead of a serialized array.
> 
> SELECT * FROM wp_usermeta WHERE meta_key = 'wp_caps_granted';
> SELECT * FROM wp_usermeta WHERE meta_key = 'wp_caps_denied';
> 
> Any plugin that implements caching/selecting users based on role could 
> use this schema.  Hopefully it could be tested and adopted, since it's a 
> bit more flexible.

That's what I'm playing with right now, but it does not allow us to set
caps to false so that they can override inherited role caps.

Ryan

From ringmaster at midnightcircus.com  Tue Dec 27 22:57:32 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Tue Dec 27 22:58:13 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <1135715784.10175.5.camel@localhost.localdomain>
References: <002e01c60a9e$77c49400$6802a8c0@kergan>
	<1135660757.9358.8.camel@localhost.localdomain>
	<43B19538.5050006@midnightcircus.com>
	<1135715784.10175.5.camel@localhost.localdomain>
Message-ID: <43B1C6DC.3090209@midnightcircus.com>

Ryan Boren wrote:
> That's what I'm playing with right now, but it does not allow us to set
> caps to false so that they can override inherited role caps.

My suggestion is to use the metakey wp_caps_denied to override anything 
in wp_caps_granted.  That is, capabilities that are explicitly denied to 
a user would be added as additional row entries with the key 
'wp_caps_denied'.  Since these are assigned at the user level, they 
would override anything in the role or user.

Something like this around capabilities.php line 142:

$caplist = $wpdb->get_col("SELECT meta_value FROM {$wpdb->usermeta} 
WHERE meta_key = '{$wpdb->prefix}caps_granted'");
foreach($caplist as $cap) $this->caps[$cap] = true;
$caplist = $wpdb->get_col("SELECT meta_value FROM {$wpdb->usermeta} 
WHERE meta_key = '{$wpdb->prefix}caps_denied'");
foreach($caplist as $cap) $this->caps[$cap] = false;

There's probably a cache of this data that should be used instead.

Owen
From ryan at boren.nu  Tue Dec 27 23:11:54 2005
From: ryan at boren.nu (Ryan Boren)
Date: Tue Dec 27 23:11:56 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <43B1C6DC.3090209@midnightcircus.com>
References: <002e01c60a9e$77c49400$6802a8c0@kergan>
	<1135660757.9358.8.camel@localhost.localdomain>
	<43B19538.5050006@midnightcircus.com>
	<1135715784.10175.5.camel@localhost.localdomain>
	<43B1C6DC.3090209@midnightcircus.com>
Message-ID: <1135725114.8908.9.camel@localhost.localdomain>

On Tue, 2005-12-27 at 17:57 -0500, Owen Winkler wrote:
> Ryan Boren wrote:
> > That's what I'm playing with right now, but it does not allow us to set
> > caps to false so that they can override inherited role caps.
> 
> My suggestion is to use the metakey wp_caps_denied to override anything 
> in wp_caps_granted.  That is, capabilities that are explicitly denied to 
> a user would be added as additional row entries with the key 
> 'wp_caps_denied'.  Since these are assigned at the user level, they 
> would override anything in the role or user.
> 
> Something like this around capabilities.php line 142:
> 
> $caplist = $wpdb->get_col("SELECT meta_value FROM {$wpdb->usermeta} 
> WHERE meta_key = '{$wpdb->prefix}caps_granted'");
> foreach($caplist as $cap) $this->caps[$cap] = true;
> $caplist = $wpdb->get_col("SELECT meta_value FROM {$wpdb->usermeta} 
> WHERE meta_key = '{$wpdb->prefix}caps_denied'");
> foreach($caplist as $cap) $this->caps[$cap] = false;
> 
> There's probably a cache of this data that should be used instead.

Sounds good.

I'm worn out right now.  If you or anyone else wants to implement this,
have at it.

Ryan

From lists at alexking.org  Wed Dec 28 05:59:24 2005
From: lists at alexking.org (Alex King)
Date: Wed Dec 28 05:59:21 2005
Subject: [wp-hackers] select all users with role X
In-Reply-To: <1135725114.8908.9.camel@localhost.localdomain>
References: <002e01c60a9e$77c49400$6802a8c0@kergan>
	<1135660757.9358.8.camel@localhost.localdomain>
	<43B19538.5050006@midnightcircus.com>
	<1135715784.10175.5.camel@localhost.localdomain>
	<43B1C6DC.3090209@midnightcircus.com>
	<1135725114.8908.9.camel@localhost.localdomain>
Message-ID: <909F955F-18BA-47BA-8D27-BB4A2D99E528@alexking.org>

Maybe I'm missing something fundamental here... why isn't this solved  
with a simple link table?

Cheers,
--Alex

http://www.alexking.org/

From djspark at gmail.com  Wed Dec 28 14:35:31 2005
From: djspark at gmail.com (Spark)
Date: Wed Dec 28 14:35:55 2005
Subject: [wp-hackers] website
Message-ID: <d8e807480512280635s1290a428h848c2dc80f6c9a7e@mail.gmail.com>

 I'm not someone is aware, but the search on wordpress.org is not
working. i've tried several times, in different areas, with some
expressions. sometimes it reurns an ugly 404 , sometimes a cute one.

 I also could not find a changelog for the 2.0 version, nor the API
list with new/changed functions. That's what I need the most, to use
all the enhacementes made 'under the hood' in WP2.0

 Tried to register in the support area, unsuccessifully, and the
password recovery didn't sent any email to me (with my old username
nor the new one).

 I only sent this to the list, because they sound quite important when
a software is released , and a website updated :)


 thank you all for the *great* work in WP2.0 !!!

--
[web] http://synapsisdi.com.br
[livesets] http://djspark.com.br
From dmhouse at gmail.com  Wed Dec 28 14:42:47 2005
From: dmhouse at gmail.com (David House)
Date: Wed Dec 28 14:43:11 2005
Subject: [wp-hackers] website
In-Reply-To: <d8e807480512280635s1290a428h848c2dc80f6c9a7e@mail.gmail.com>
References: <d8e807480512280635s1290a428h848c2dc80f6c9a7e@mail.gmail.com>
Message-ID: <ebe43d680512280642jb2fe38fn@mail.gmail.com>

On 28/12/05, Spark <djspark@gmail.com> wrote:
>  I'm not someone is aware, but the search on wordpress.org is not
> working. i've tried several times, in different areas, with some
> expressions. sometimes it reurns an ugly 404 , sometimes a cute one.

Yeah, half the site's broken. We're (well, Matt, hopefully) working on it,

>  I also could not find a changelog for the 2.0 version, nor the API
> list with new/changed functions. That's what I need the most, to use
> all the enhacementes made 'under the hood' in WP2.0

http://asymptomatic.net/2005/11/29/2135/whats-new-in-wordpress-20/
http://trac.wordpress.org/timeline?changeset=on&wiki=on&milestone=on for diffs.

>  Tried to register in the support area, unsuccessifully, and the
> password recovery didn't sent any email to me (with my old username
> nor the new one).

As above.

>  thank you all for the *great* work in WP2.0 !!!

:)

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From m at mullenweg.com  Wed Dec 28 15:29:02 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Dec 28 15:29:33 2005
Subject: [wp-hackers] Cross-post site update
Message-ID: <43B2AF3E.2040400@mullenweg.com>

A few updates on the site:

* I changed the forums to use querystrings, which should fix the 404 
problems for now
* Visited links, spacing, is fixed on the forums
* Donncha fixed the email problems
* Search has been restored, temporarily with the old design
* Codex links have been added to the sidebar, but it still hasn't been 
switched to the flexible with version of the design. Lots of work needed 
there.
* I fixed the Monobook skin for those of you using that.
* Links on the front page now go places
* DNS issues with downloads.wordpress and search.wordpress should be fixed

Now I've got to run before I miss my flight.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From denis at semiologic.com  Wed Dec 28 15:34:51 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Wed Dec 28 15:35:16 2005
Subject: [wp-hackers] Cross-post site update
In-Reply-To: <43B2AF3E.2040400@mullenweg.com>
Message-ID: <000a01c60bc4$3efe8140$1001a8c0@kergan>

the forum feeds don't work, either. it would be great if they worked again.
:)

D.

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Matt Mullenweg
> Sent: Wednesday, December 28, 2005 4:29 PM
> To: WordPress Documentation; wp-hackers@lists.automattic.com
> Subject: [wp-hackers] Cross-post site update
> 
> 
> A few updates on the site:
> 
> * I changed the forums to use querystrings, which should fix the 404 
> problems for now
> * Visited links, spacing, is fixed on the forums
> * Donncha fixed the email problems
> * Search has been restored, temporarily with the old design
> * Codex links have been added to the sidebar, but it still 
> hasn't been 
> switched to the flexible with version of the design. Lots of 
> work needed 
> there.
> * I fixed the Monobook skin for those of you using that.
> * Links on the front page now go places
> * DNS issues with downloads.wordpress and search.wordpress 
> should be fixed
> 
> Now I've got to run before I miss my flight.
> 
> -- 
> Matt Mullenweg
>   http://photomatt.net | http://wordpress.org 
> http://pingomatic.com | http://akismet.com 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com 
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


From denis at semiologic.com  Wed Dec 28 18:20:19 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Wed Dec 28 18:20:44 2005
Subject: [wp-hackers] urgent fix to WordPress needed
Message-ID: <000601c60bdb$5bf983a0$1001a8c0@kergan>

Any help/suggestion would be highly appreciated.

The bug is filed here:

http://trac.wordpress.org/ticket/2169

Denis


From m at mullenweg.com  Wed Dec 28 18:40:47 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Dec 28 18:41:17 2005
Subject: [wp-hackers] Meetup time change
Message-ID: <43B2DC2F.7000105@mullenweg.com>

Because of a flight delay I'm not going to be able to make the meetup at 
2 PM PST, so let's have it at 4 PM PST instead.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From exmachina at gmail.com  Wed Dec 28 20:59:17 2005
From: exmachina at gmail.com (Ex Machina)
Date: Wed Dec 28 20:59:41 2005
Subject: [wp-hackers] website
In-Reply-To: <ebe43d680512280642jb2fe38fn@mail.gmail.com>
References: <d8e807480512280635s1290a428h848c2dc80f6c9a7e@mail.gmail.com>
	<ebe43d680512280642jb2fe38fn@mail.gmail.com>
Message-ID: <e1184a210512281259r4b1ea5fbw947b7fbb87826af@mail.gmail.com>

404 error on link from http://wordpress.org/about/
to http://wordpress.org/about/requirements/

Also strangely I had a 404 on http://wordpress.org/about/screenshots/
but now it works.

--
Brice Le Blevennec, Digerati, ListDad, <http://www.brice.net>
From jjb at ibiblio.org  Wed Dec 28 22:09:00 2005
From: jjb at ibiblio.org (John Joseph Bachir)
Date: Wed Dec 28 22:09:04 2005
Subject: [wp-hackers] question about caching system
Message-ID: <Pine.LNX.4.61.0512281704540.3786@tribal.metalab.unc.edu>

Hey y'all. I was fiddling around with caching today and am a bit confused 
by something. With caching turned on, and database count being printed in 
the footer, I am still getting 15 SQL queries for consecutive identical 
requests. i thought most or all of these would be coming from persistent 
disk cache?

sorry if i am missing something obvious.

John
-- 
http://lyceum.ibiblio.org
From ringmaster at midnightcircus.com  Thu Dec 29 02:53:29 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Thu Dec 29 02:53:47 2005
Subject: [wp-hackers] website
In-Reply-To: <ebe43d680512280642jb2fe38fn@mail.gmail.com>
References: <d8e807480512280635s1290a428h848c2dc80f6c9a7e@mail.gmail.com>
	<ebe43d680512280642jb2fe38fn@mail.gmail.com>
Message-ID: <43B34FA9.1020306@midnightcircus.com>

David House wrote:
> On 28/12/05, Spark <djspark@gmail.com> wrote:
>> I also could not find a changelog for the 2.0 version, nor the API
>>list with new/changed functions. That's what I need the most, to use
>>all the enhacementes made 'under the hood' in WP2.0
> 
> 
> http://asymptomatic.net/2005/11/29/2135/whats-new-in-wordpress-20/
> http://trac.wordpress.org/timeline?changeset=on&wiki=on&milestone=on for diffs.

Note that my "what's new" post is essentially a result of me walking 
through the timeline between 1.5.2 and 2.0 looking for significant 
non-bug commits.

Owen
From aaron at technosailor.com  Thu Dec 29 04:28:07 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Thu Dec 29 04:28:17 2005
Subject: [wp-hackers] Editor and below Caps
Message-ID: <20051229042814.C80925C9E@comox.textdrive.com>

While looking into the last <!--more--> issue on the testers list, I noticed that when a user has an Author role or lower, the option to delete a post is still listed in the post listing.  I was about to create a patch for that, but I'm unclear on which capability handles deleting entries. 

Anyone have any insight on this? 

From ryan at boren.nu  Thu Dec 29 04:37:31 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Dec 29 04:37:12 2005
Subject: [wp-hackers] Editor and below Caps
In-Reply-To: <20051229042814.C80925C9E@comox.textdrive.com>
References: <20051229042814.C80925C9E@comox.textdrive.com>
Message-ID: <1135831051.10159.18.camel@localhost.localdomain>

On Wed, 2005-12-28 at 23:28 -0500, Aaron Brazell wrote:
> While looking into the last <!--more--> issue on the testers list, I noticed that when a user has an Author role or lower, the option to delete a post is still listed in the post listing.  I was about to create a patch for that, but I'm unclear on which capability handles deleting entries. 
> 
> Anyone have any insight on this? 

Right now if you can edit a post, you can do anything to it.  So,
everything is controlled through edit_post/edit_posts.

Ryan

From aaron at technosailor.com  Thu Dec 29 04:46:32 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Thu Dec 29 04:46:34 2005
Subject: [wp-hackers] Editor and below Caps
In-Reply-To: <1135831051.10159.18.camel@localhost.localdomain>
Message-ID: <20051229044633.4777D5C45@comox.textdrive.com>

> Right now if you can edit a post, you can do anything to it.  So,
> everything is controlled through edit_post/edit_posts.
> 
> Ryan
> 

Okay, fair enough but then there's a bug.  If you have a user with Author rights and he creates a post... then he should be able to delete his own posts.  In my build of WP 2 (the release version), after the javascript confirm popup window there is a 'You don't have permission to do that.' error.   I have not tested this with other lower roles.

If no one submits a patch on this, I'll toy with it in the morning. I submitted ticket 2173.

From false.hopes at gmail.com  Thu Dec 29 07:41:51 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Dec 29 07:41:58 2005
Subject: [wp-hackers] WordPress 2.0 -> 1.5 Downgrader
Message-ID: <a491f91d0512282341r42396ff8wc5eb4234a23faf2a@mail.gmail.com>

Since WP 2.0 is such a mess...
http://somethingunpredictable.com/archives/29/12/2005/wordpress-database-downgrader/

--
--Robert Deaton
http://somethingunpredictable.com
From mani.monajjemi at gmail.com  Thu Dec 29 09:25:18 2005
From: mani.monajjemi at gmail.com (Mani Monajjemi)
Date: Thu Dec 29 09:25:25 2005
Subject: [wp-hackers] WordPress 2.0 -> 1.5 Downgrader
In-Reply-To: <a491f91d0512282341r42396ff8wc5eb4234a23faf2a@mail.gmail.com>
References: <a491f91d0512282341r42396ff8wc5eb4234a23faf2a@mail.gmail.com>
Message-ID: <d4d3e29e0512290125p32e79ebfi5aec6a104f62887@mail.gmail.com>

I can not understand you Robert
>> Since WP 2.0 is such a mess...

is it really mess? I don't think so at all, It would reveloute web
developers' sight about web based programs,


On 12/29/05, Robert Deaton <false.hopes@gmail.com> wrote:
>
> Since WP 2.0 is such a mess...
>
> http://somethingunpredictable.com/archives/29/12/2005/wordpress-database-downgrader/
>
> --
> --Robert Deaton
> http://somethingunpredictable.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>


--
Mani Monajjemi
www.manionline.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051229/f7110ec2/attachment.htm
From jeff at jrm.cc  Thu Dec 29 11:31:58 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Thu Dec 29 11:32:15 2005
Subject: [wp-hackers] WordPress 2.0 -> 1.5 Downgrader
In-Reply-To: <d4d3e29e0512290125p32e79ebfi5aec6a104f62887@mail.gmail.com>
References: <a491f91d0512282341r42396ff8wc5eb4234a23faf2a@mail.gmail.com>
	<d4d3e29e0512290125p32e79ebfi5aec6a104f62887@mail.gmail.com>
Message-ID: <43B3C92E.2040705@jrm.cc>

Mani Monajjemi wrote:
> I can not understand you Robert
>  >> Since WP 2.0 is such a mess...
> 
> is it really mess? I don't think so at all, It would reveloute web 
> developers' sight about web based programs,

Personal opinions aside, it's always helpful to have a downgrade process 
because there are a number of very valid reasons for wanting to do so -- 
the least of which might be plugin compatability.

Jeff
From false.hopes at gmail.com  Thu Dec 29 14:58:45 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Dec 29 14:58:52 2005
Subject: [wp-hackers] Trac Spam Attack Round Four
Message-ID: <a491f91d0512290658nee81a4al5c90c555d5879ac2@mail.gmail.com>

http://trac.wordpress.org/timeline

This is round number four (that I've seen.) I've already cleaned 3,
and I've contacted Matt about it via IRC and e-mail three times, and
still the same exact user has not been banned.

I'm hoping that this mail more brings attention to the fact that there
is spam there than anything else. Normal users can't clean it up like
those with Trac access, so there isn't really a point in trying unless
you're Scott or Mark, but maybe the rest of you can help me light a
fire under Matt so we can actually get something done.

--
--Robert Deaton
http://somethingunpredictable.com
From skippy at skippy.net  Thu Dec 29 15:01:02 2005
From: skippy at skippy.net (Scott Merrill)
Date: Thu Dec 29 15:00:56 2005
Subject: [wp-hackers] Trac Spam Attack Round Four
In-Reply-To: <a491f91d0512290658nee81a4al5c90c555d5879ac2@mail.gmail.com>
References: <a491f91d0512290658nee81a4al5c90c555d5879ac2@mail.gmail.com>
Message-ID: <43B3FA2E.5040307@skippy.net>

Robert Deaton wrote:
> http://trac.wordpress.org/timeline
> 
> This is round number four (that I've seen.) I've already cleaned 3,
> and I've contacted Matt about it via IRC and e-mail three times, and
> still the same exact user has not been banned.
> 
> I'm hoping that this mail more brings attention to the fact that there
> is spam there than anything else. Normal users can't clean it up like
> those with Trac access, so there isn't really a point in trying unless
> you're Scott or Mark, but maybe the rest of you can help me light a
> fire under Matt so we can actually get something done.

I hereby official request more bug gardeners to be promoted.  My own
participation has been less than adequate.  I will happily bequeath my
own bug gardener status to someone else, too, if that's what it takes.

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From false.hopes at gmail.com  Thu Dec 29 15:06:48 2005
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Dec 29 15:06:53 2005
Subject: [wp-hackers] Trac Spam Attack Round Four
In-Reply-To: <43B3FA2E.5040307@skippy.net>
References: <a491f91d0512290658nee81a4al5c90c555d5879ac2@mail.gmail.com>
	<43B3FA2E.5040307@skippy.net>
Message-ID: <a491f91d0512290706q111fd9d1x5d408e53ee36bae5@mail.gmail.com>

On 12/29/05, Scott Merrill <skippy@skippy.net> wrote:
> Robert Deaton wrote:
> > http://trac.wordpress.org/timeline
> >
> > This is round number four (that I've seen.) I've already cleaned 3,
> > and I've contacted Matt about it via IRC and e-mail three times, and
> > still the same exact user has not been banned.
> >
> > I'm hoping that this mail more brings attention to the fact that there
> > is spam there than anything else. Normal users can't clean it up like
> > those with Trac access, so there isn't really a point in trying unless
> > you're Scott or Mark, but maybe the rest of you can help me light a
> > fire under Matt so we can actually get something done.
>
> I hereby official request more bug gardeners to be promoted.  My own
> participation has been less than adequate.  I will happily bequeath my
> own bug gardener status to someone else, too, if that's what it takes.
>

I have the same permissions as you on Trac, but it is still not enough
to ban users. I agree that bugs need to be cleaned up faster, but we
don't need more people with Trac access solely for fighting off spam.
If the user was banned in the first place, it will probably be months
before we see another attack.

--
--Robert Deaton
http://somethingunpredictable.com
From dmhouse at gmail.com  Thu Dec 29 17:19:22 2005
From: dmhouse at gmail.com (David House)
Date: Thu Dec 29 17:19:35 2005
Subject: [wp-hackers] Trac Spam Attack Round Four
In-Reply-To: <43B3FA2E.5040307@skippy.net>
References: <a491f91d0512290658nee81a4al5c90c555d5879ac2@mail.gmail.com>
	<43B3FA2E.5040307@skippy.net>
Message-ID: <ebe43d680512290919n832a4f5m@mail.gmail.com>

On 29/12/05, Scott Merrill <skippy@skippy.net> wrote:
> I hereby official request more bug gardeners to be promoted.  My own
> participation has been less than adequate.  I will happily bequeath my
> own bug gardener status to someone else, too, if that's what it takes.

I'll step up. I'm familiar with the WordPress codebase and have been
hacking at it, fixing or changing things for months now. I've wanted a
more official way of getting involved, so I'd like to volenteer here.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From aaron at technosailor.com  Thu Dec 29 17:27:54 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Thu Dec 29 17:28:03 2005
Subject: [wp-hackers] Editor and below Caps
In-Reply-To: <20051229044633.4777D5C45@comox.textdrive.com>
References: <1135831051.10159.18.camel@localhost.localdomain>
	<20051229044633.4777D5C45@comox.textdrive.com>
Message-ID: <ca7320070512290927r217e67a5y6796187981fbf455@mail.gmail.com>

On 12/28/05, Aaron Brazell <aaron@technosailor.com> wrote:
>
> > Right now if you can edit a post, you can do anything to it.  So,
> > everything is controlled through edit_post/edit_posts.
> >
> > Ryan
> >
>
> Okay, fair enough but then there's a bug.  If you have a user with Author
> rights and he creates a post... then he should be able to delete his own
> posts.  In my build of WP 2 (the release version), after the javascript
> confirm popup window there is a 'You don't have permission to do that.'
> error.   I have not tested this with other lower roles.
>
> If no one submits a patch on this, I'll toy with it in the morning. I
> submitted ticket 2173.
>
>
I finally got a chance this morning to look at this and realize that this is
an AJAX issue... of which I know nothing about. Hopefully someone else can
patch this.

thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051229/4274df81/attachment.htm
From dmhouse at gmail.com  Thu Dec 29 17:29:51 2005
From: dmhouse at gmail.com (David House)
Date: Thu Dec 29 17:29:59 2005
Subject: [wp-hackers] Editor and below Caps
In-Reply-To: <ca7320070512290927r217e67a5y6796187981fbf455@mail.gmail.com>
References: <1135831051.10159.18.camel@localhost.localdomain>
	<20051229044633.4777D5C45@comox.textdrive.com>
	<ca7320070512290927r217e67a5y6796187981fbf455@mail.gmail.com>
Message-ID: <ebe43d680512290929s4cf00af6y@mail.gmail.com>

On 29/12/05, Aaron Brazell <aaron@technosailor.com> wrote:
> I finally got a chance this morning to look at this and realize that this is
> an AJAX issue... of which I know nothing about. Hopefully someone else can
> patch this.

Already have ;)

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From m at mullenweg.com  Thu Dec 29 18:34:45 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Thu Dec 29 18:34:59 2005
Subject: [wp-hackers] Trac Spam Attack Round Four
In-Reply-To: <a491f91d0512290658nee81a4al5c90c555d5879ac2@mail.gmail.com>
References: <a491f91d0512290658nee81a4al5c90c555d5879ac2@mail.gmail.com>
Message-ID: <43B42C45.3010409@mullenweg.com>

Robert Deaton wrote:
> This is round number four (that I've seen.) I've already cleaned 3,
> and I've contacted Matt about it via IRC and e-mail three times, and
> still the same exact user has not been banned.

The user was deactivated the user, but because of how Trac authenticates 
the user wasn't actually banned. They've now been nuked.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From m at mullenweg.com  Thu Dec 29 18:37:22 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Thu Dec 29 18:37:34 2005
Subject: [wp-hackers] Trac Spam Attack Round Four
In-Reply-To: <ebe43d680512290919n832a4f5m@mail.gmail.com>
References: <a491f91d0512290658nee81a4al5c90c555d5879ac2@mail.gmail.com>	<43B3FA2E.5040307@skippy.net>
	<ebe43d680512290919n832a4f5m@mail.gmail.com>
Message-ID: <43B42CE2.1030604@mullenweg.com>

David House wrote:
> I'll step up. I'm familiar with the WordPress codebase and have been
> hacking at it, fixing or changing things for months now. I've wanted a
> more official way of getting involved, so I'd like to volenteer here.

Send me your username offlist and I'll set up the necessary perms for you.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From ryan at boren.nu  Thu Dec 29 21:17:56 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Dec 29 21:17:41 2005
Subject: [wp-hackers] Editor and below Caps
In-Reply-To: <ebe43d680512290929s4cf00af6y@mail.gmail.com>
References: <1135831051.10159.18.camel@localhost.localdomain>
	<20051229044633.4777D5C45@comox.textdrive.com>
	<ca7320070512290927r217e67a5y6796187981fbf455@mail.gmail.com>
	<ebe43d680512290929s4cf00af6y@mail.gmail.com>
Message-ID: <1135891076.9149.0.camel@localhost.localdomain>

On Thu, 2005-12-29 at 17:29 +0000, David House wrote:
> On 29/12/05, Aaron Brazell <aaron@technosailor.com> wrote:
> > I finally got a chance this morning to look at this and realize that this is
> > an AJAX issue... of which I know nothing about. Hopefully someone else can
> > patch this.
> 
> Already have ;)

Applied.  Thanks as always David.

Ryan

From ryan at boren.nu  Thu Dec 29 21:25:29 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Dec 29 21:25:15 2005
Subject: [wp-hackers] Draft timestamps and MySQL 5 strict
Message-ID: <1135891530.9149.8.camel@localhost.localdomain>

http://trac.wordpress.org/ticket/2175

I think this is because we use an empty timestamp for drafts as per
#1837.

http://trac.wordpress.org/ticket/1837

See also #2148:

http://trac.wordpress.org/ticket/2148


Thoughts on how to fix this up while preserving the behavior requested
in #1837?

Ryan

From ryan at boren.nu  Thu Dec 29 21:35:48 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Dec 29 21:35:31 2005
Subject: [wp-hackers] kses and < !-- more -->
Message-ID: <1135892148.9149.11.camel@localhost.localdomain>

http://trac.wordpress.org/ticket/2130

How's that patch work for everyone?  Does it allow kses to be
circumvented in any way?

Ryan

From ryan at boren.nu  Thu Dec 29 22:16:20 2005
From: ryan at boren.nu (Ryan Boren)
Date: Thu Dec 29 22:16:03 2005
Subject: [wp-hackers] Since 2.0
Message-ID: <1135894581.9149.22.camel@localhost.localdomain>

* Changesets:

http://trac.wordpress.org/timeline?from=12%2F29%
2F05&daysback=2&changeset=on


* Bugs fixed:

Can not Activate/Deactivate Plugins
http://trac.wordpress.org/ticket/1917

Comment Counter off again
http://trac.wordpress.org/ticket/2159

Wrong page titles in added Admin Menus
http://trac.wordpress.org/ticket/1447

Still broken trackback ping in utf-8
http://trac.wordpress.org/ticket/2163

Using WordPress in a slug causes 404s when wordpress is part of the url
http://trac.wordpress.org/ticket/2162

Parse error in templates.php
http://trac.wordpress.org/ticket/2154

WordPress 2 is firing a permastruct update on every page load
http://trac.wordpress.org/ticket/2155

link_import.php lacks admin_footer (hence action_hook)
http://trac.wordpress.org/ticket/2168

Author Role cannot delete own posts
http://trac.wordpress.org/ticket/2173


* On the hook:

WP 2.0 not working (PHP 4.2.2 / PHP-CGI with PHP_SELF empty)
http://trac.wordpress.org/ticket/2153

mySQL 5, PHP5 : Cannot save a post
http://trac.wordpress.org/ticket/2175

<!--nextpage--> disappears in RTE after save
http://trac.wordpress.org/ticket/2167

wp_kses kills < !-- more --> from xmlrpc posted entries
http://trac.wordpress.org/ticket/2130

category_name query fails on category assigned parent category
http://trac.wordpress.org/ticket/2161



From heilemann at gmail.com  Fri Dec 30 12:02:27 2005
From: heilemann at gmail.com (Michael Heilemann)
Date: Fri Dec 30 12:02:35 2005
Subject: [wp-hackers] The Dashboard Needs Attention
Message-ID: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>

Hey all,

http://www.flickr.com/photos/heilemann/79307921/

I never spend time in the WP dashboard. There's a number of reasons for
this, but first and foremost, as you can see on the flickr image above, I'm
wondering why thousands of users have to participate in Mike's birthday
greetings to Kim, Chloe and Kate. Or why, however interesting it may be, the
same thousands of users are treated to Matt's story of an airport
evacuation.

The dashboard is a great idea, but it's not quite as useful as it ought to
be. Fair enough, we're doing some purely aesthetic changes for Shuttle, and
that will if nothing else make it more accessible. But that won't help it
aggregating the kittens mittens (!?) from the various blogs it's subscribed
to.

WordPress has feeds for categories, so why is the dashboard subscribed to
everything, instead of only wordpress or (even better) blogging-related
stuff?

Ultimately, I would like to see a digg-like aggregator service, which would
have WordPress users 'digg' (well 'press' I guess) the news for everyone
else. Or at the very least an options panel for turning off selected feeds.

--
Aloha,
Michael Heilemann
http://binarybonsai.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051230/2377aab5/attachment.htm
From dmhouse at gmail.com  Fri Dec 30 12:13:18 2005
From: dmhouse at gmail.com (David House)
Date: Fri Dec 30 12:13:32 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
Message-ID: <ebe43d680512300413paca3ea9u@mail.gmail.com>

On 30/12/05, Michael Heilemann <heilemann@gmail.com> wrote:
> WordPress has feeds for categories, so why is the dashboard subscribed to
> everything, instead of only wordpress or (even better) blogging-related
> stuff?

Right, so I'll write a patch up that changes the feeds to the author's
respective wordpress categories.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From dmhouse at gmail.com  Fri Dec 30 12:15:28 2005
From: dmhouse at gmail.com (David House)
Date: Fri Dec 30 12:15:38 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <ebe43d680512300413paca3ea9u@mail.gmail.com>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
	<ebe43d680512300413paca3ea9u@mail.gmail.com>
Message-ID: <ebe43d680512300415h22e971d4y@mail.gmail.com>

On 30/12/05, David House <dmhouse@gmail.com> wrote:
> Right, so I'll write a patch up that changes the feeds to the author's
> respective wordpress categories.

After two minutes of looking, it's not a problem with the code. The
boxes at the bottom come from the planet.wordpress.org feed, so
someone with access to the feeds there just needs to tweak it so that
we're only subscribed the wordpress feeds.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From kimmo+key+wordpress.c4f53f at suominen.com  Fri Dec 30 12:17:22 2005
From: kimmo+key+wordpress.c4f53f at suominen.com (Kimmo Suominen)
Date: Fri Dec 30 12:17:38 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
Message-ID: <20051230121722.GA954@kimmo.suominen.com>

On Fri, Dec 30, 2005 at 01:02:27PM +0100, Michael Heilemann wrote:
> Or at the very least an options panel for turning off selected feeds.

Not yet for WP2, it seems, but I've been a happy user of this mod for
a long time now.

http://cjbehm.dyndns.org/wingingit/dashboard-options/

Unchecking "Load WordPress Other News Feed" gets rid of the birthday
wishes etc.  You can also add feeds of your choice.

Regards,
+ Kimmo
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>

From heilemann at gmail.com  Fri Dec 30 12:20:40 2005
From: heilemann at gmail.com (Michael Heilemann)
Date: Fri Dec 30 12:20:47 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <20051230121722.GA954@kimmo.suominen.com>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
	<20051230121722.GA954@kimmo.suominen.com>
Message-ID: <5a715c0a0512300420p7372cb5cy3a7356bf9ae9c41@mail.gmail.com>

That's pretty sweet with the options panel, but the installation procedure
is pretty hairy.


On 12/30/05, Kimmo Suominen <kimmo+key+wordpress.c4f53f@suominen.com> wrote:
>
> On Fri, Dec 30, 2005 at 01:02:27PM +0100, Michael Heilemann wrote:
> > Or at the very least an options panel for turning off selected feeds.
>
> Not yet for WP2, it seems, but I've been a happy user of this mod for
> a long time now.
>
> http://cjbehm.dyndns.org/wingingit/dashboard-options/
>
> Unchecking "Load WordPress Other News Feed" gets rid of the birthday
> wishes etc.  You can also add feeds of your choice.
>
> Regards,
> + Kimmo
> --
> <A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
Aloha,
Michael Heilemann
http://binarybonsai.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051230/bdfd5e01/attachment.htm
From kimmo+key+wordpress.c4f53f at suominen.com  Fri Dec 30 12:30:37 2005
From: kimmo+key+wordpress.c4f53f at suominen.com (Kimmo Suominen)
Date: Fri Dec 30 12:30:49 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <5a715c0a0512300420p7372cb5cy3a7356bf9ae9c41@mail.gmail.com>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
	<20051230121722.GA954@kimmo.suominen.com>
	<5a715c0a0512300420p7372cb5cy3a7356bf9ae9c41@mail.gmail.com>
Message-ID: <20051230123037.GB954@kimmo.suominen.com>

Yes, that was my initial reaction.  But it sounds much worse than it is,
actually.  I have a patch for doing the modifications, in case you or
anyone else would find it helpful.

ftp://ftp.gw.com/pub/people/kim/patches/wordpress/cjb-dashboard-admin-index.diff

I haven't looked at WP2.0 much yet (still trying to get the translation
to Finnish completed first), but I'm hoping there would be enough hooks
now to support a clean plugin approach.

Regards,
+ Kimmo
-- 
<A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>


On Fri, Dec 30, 2005 at 01:20:40PM +0100, Michael Heilemann wrote:
> That's pretty sweet with the options panel, but the installation procedure
> is pretty hairy.
> 
> 
> On 12/30/05, Kimmo Suominen <kimmo+key+wordpress.c4f53f@suominen.com> wrote:
> >
> > On Fri, Dec 30, 2005 at 01:02:27PM +0100, Michael Heilemann wrote:
> > > Or at the very least an options panel for turning off selected feeds.
> >
> > Not yet for WP2, it seems, but I've been a happy user of this mod for
> > a long time now.
> >
> > http://cjbehm.dyndns.org/wingingit/dashboard-options/
> >
> > Unchecking "Load WordPress Other News Feed" gets rid of the birthday
> > wishes etc.  You can also add feeds of your choice.
> >
> > Regards,
> > + Kimmo
> > --
> > <A HREF="http://kimmo.suominen.com/">Kimmo Suominen</A>
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> --
> Aloha,
> Michael Heilemann
> http://binarybonsai.com

> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From pwaring at gmail.com  Fri Dec 30 12:33:31 2005
From: pwaring at gmail.com (Paul Waring)
Date: Fri Dec 30 12:33:38 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
Message-ID: <8953a1db0512300433y29cb4944reb3a97209cd182b4@mail.gmail.com>

On 12/30/05, Michael Heilemann <heilemann@gmail.com> wrote:
> Ultimately, I would like to see a digg-like aggregator service, which would
> have WordPress users 'digg' (well 'press' I guess) the news for everyone
> else. Or at the very least an options panel for turning off selected feeds.

An options panel to turn off selected feeds would get my vote - I
*never* look at the dashboard anymore because of the amount of
non-WordPress stuff that appears there, plus I'm subscribed to some of
the feeds already in my normal RSS reader so I don't want to see
everything all over again. It also seems such a waste of bandwidth to
have every one of my WordPress blogs fetching the feeds when I'm not
going to read them more than once, if at all.

Paul

--
Data Circle
http://datacircle.org
From dmhouse at gmail.com  Fri Dec 30 12:41:42 2005
From: dmhouse at gmail.com (David House)
Date: Fri Dec 30 12:41:51 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <5a715c0a0512300420p7372cb5cy3a7356bf9ae9c41@mail.gmail.com>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
	<20051230121722.GA954@kimmo.suominen.com>
	<5a715c0a0512300420p7372cb5cy3a7356bf9ae9c41@mail.gmail.com>
Message-ID: <ebe43d680512300441q10699f4cn@mail.gmail.com>

On 30/12/05, Michael Heilemann <heilemann@gmail.com> wrote:
> That's pretty sweet with the options panel, but the installation procedure
> is pretty hairy.

I haven't looked at that plugin, but we could make things a lot easier
by passing the feed URI through apply_filters. Here's a bug and a
patch.

http://trac.wordpress.org/ticket/2177

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From elharo at metalab.unc.edu  Fri Dec 30 12:42:50 2005
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Fri Dec 30 12:43:04 2005
Subject: [wp-hackers] Importing custom format into WordPress
Message-ID: <43B52B4A.9030206@metalab.unc.edu>

I've got a custom site with a few dozen posts and maybe the same number 
of comments I'd like to migrate to WordPress.

Short of doing it by hand, are there any suggestions for moving this 
over? Ideally I'd like to generate one big XML (or other simple format) 
document out of the current site and then slurp it into WordPress. is 
this even remotely possible?

I've looked at the import scripts for other blogging systems and none of 
them are that close to what I'm doing. It does strike me that it would 
be nice if there were some standard import/export format for blogs that 
everyone supported to make these sorts of operations simpler. I know 
other people have been talking about this in the wake of recent outages. 
  Has anyone gotten anywhere with this so far?

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim
From dmhouse at gmail.com  Fri Dec 30 12:46:05 2005
From: dmhouse at gmail.com (David House)
Date: Fri Dec 30 12:46:14 2005
Subject: [wp-hackers] Importing custom format into WordPress
In-Reply-To: <43B52B4A.9030206@metalab.unc.edu>
References: <43B52B4A.9030206@metalab.unc.edu>
Message-ID: <ebe43d680512300446j4f718465j@mail.gmail.com>

On 30/12/05, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> It does strike me that it would be nice if there were some standard import/export format for blogs that everyone supported to make these sorts of operations simpler

RSS? :) If your system can export to RSS2, WP can import it.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From mahangu at gmail.com  Fri Dec 30 13:20:05 2005
From: mahangu at gmail.com (Mahangu Weerasinghe)
Date: Fri Dec 30 13:20:15 2005
Subject: [wp-hackers] Re: The Dashboard Needs Attention
Message-ID: <4147dc600512300520p6e62647ag7883f3c0d2dc9536@mail.gmail.com>

> WordPress has feeds for categories, so why is the dashboard subscribed to
> everything, instead of only wordpress or (even better) blogging-related
> stuff?
+ 1. I think this is a great idea, and as David mentioned, needs to be
worked at from the planet.wordpress end. What would be great though
would be if users could customize which feeds are displayed on the
dashboard.

That would be especially attractive to people who use WP when
deploying sites for clients. Imagine being able to plugin your company
feed when you ship out WP? That would be great.


> Ultimately, I would like to see a digg-like aggregator service, which would
> have WordPress users 'digg' (well 'press' I guess) the news for everyone
> else. Or at the very least an options panel for turning off selected feeds.
>
Neat idea, and it may clear up the clutter, but I still think a
'manage dashboard feeds' option is very much needed.

I'll be trying Kimmo's patch when I get some time this weekend.

--
Mahangu Weerasinghe,
Writer, hacker and sidewalk philosopher.

PGP Key : 6D42CC36

web : mahangu.org

note : The opinions expressed in this email are mine and mine alone,
and DO NOT in anyway portray the views of my employer, my friends, my
significant other or my toaster. Thank you.
From elharo at metalab.unc.edu  Fri Dec 30 14:24:00 2005
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Fri Dec 30 14:24:15 2005
Subject: [wp-hackers] Importing custom format into WordPress
In-Reply-To: <ebe43d680512300446j4f718465j@mail.gmail.com>
References: <43B52B4A.9030206@metalab.unc.edu>
	<ebe43d680512300446j4f718465j@mail.gmail.com>
Message-ID: <43B54300.9000505@metalab.unc.edu>

David House wrote:
> On 30/12/05, Elliotte Harold <elharo@metalab.unc.edu> wrote:
>> It does strike me that it would be nice if there were some standard import/export format for blogs that everyone supported to make these sorts of operations simpler
> 
> RSS? :) If your system can export to RSS2, WP can import it.
> 

That may work. How much does this do? Are comments, categories and URLs 
kept intact?

How does it handle embedded markup? RSS2 doesn't include any HTML tags. 
I don't want to lose all the HTML.

A partial solution may be good enough, and this may be that. I only need 
to do this once, and I can clean it up manually. I just need to know how 
much clean up to plan for.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim
From aaron at technosailor.com  Fri Dec 30 14:35:03 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Fri Dec 30 14:35:12 2005
Subject: [wp-hackers] Importing custom format into WordPress
In-Reply-To: <43B54300.9000505@metalab.unc.edu>
References: <43B52B4A.9030206@metalab.unc.edu>
	<ebe43d680512300446j4f718465j@mail.gmail.com>
	<43B54300.9000505@metalab.unc.edu>
Message-ID: <ca7320070512300635k2eabc4c6red8798c8e71afd2c@mail.gmail.com>

On 12/30/05, Elliotte Harold <elharo@metalab.unc.edu> wrote:
>
> David House wrote:
> > On 30/12/05, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> >> It does strike me that it would be nice if there were some standard
> import/export format for blogs that everyone supported to make these sorts
> of operations simpler
> >
> > RSS? :) If your system can export to RSS2, WP can import it.
> >
>
> That may work. How much does this do? Are comments, categories and URLs
> kept intact?
>
> How does it handle embedded markup? RSS2 doesn't include any HTML tags.
> I don't want to lose all the HTML.
>
> A partial solution may be good enough, and this may be that. I only need
> to do this once, and I can clean it up manually. I just need to know how
> much clean up to plan for.
>
> --
> Elliotte Rusty Harold  elharo@metalab.unc.edu
> XML in a Nutshell 3rd Edition Just Published!
> http://www.cafeconleche.org/books/xian3/
> http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim



What platform are you importing from? It might be feasible to modify an
existing importer. I know you said that you've looked at others but I'm
unclear as to what was not even close to what you are trying to do.

For instance, my importers (and I would imagine others take similar
approaches) go through the same basic steps:

1. Import Categories
2. Import Authors
3. Import Posts / Perform Post-Category Associations / Perform Post-Author
Associations
4. Import Comments / Perform Post-Comment Associations
5. Import Blogroll

Taking these steps, what is it that is not close to what you do?



--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051230/e335f6cd/attachment.htm
From dmhouse at gmail.com  Fri Dec 30 14:50:53 2005
From: dmhouse at gmail.com (David House)
Date: Fri Dec 30 14:51:02 2005
Subject: [wp-hackers] Importing custom format into WordPress
In-Reply-To: <43B54300.9000505@metalab.unc.edu>
References: <43B52B4A.9030206@metalab.unc.edu>
	<ebe43d680512300446j4f718465j@mail.gmail.com>
	<43B54300.9000505@metalab.unc.edu>
Message-ID: <ebe43d680512300650p5d56a447k@mail.gmail.com>

On 30/12/05, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> That may work. How much does this do? Are comments, categories and URLs
> kept intact?
>
> How does it handle embedded markup? RSS2 doesn't include any HTML tags.
> I don't want to lose all the HTML.

You should look at wp-admin/import/rss.php. Having a look through the
code, it looks like:

* All posts are imported (obviously)
* All categories that are attached to at least one post will be
imported. However if you have any extra metadata here like category
description, that won't be carried across.
* Embedded markup is fine, just stick it in a <content:encoded> tag.
There is a fallback to <description>, and I can't see any reason why
embedded markup wouldn't work here either.
* URLs won't be carried across, but it should be possible to set up a
set of rewrite rules which will emulate your old URL schema.
* Users, etc. won't be copied.
* One sticking point is that I can't see anywhere where comments are
copied. I'm not sure what the best solution is here.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From skippy at skippy.net  Fri Dec 30 15:28:31 2005
From: skippy at skippy.net (Scott Merrill)
Date: Fri Dec 30 15:28:28 2005
Subject: [wp-hackers] trac spam
Message-ID: <43B5521F.5080902@skippy.net>

I cleaned up more wiki spam on Trac.  Do we even need to use the wiki
there?

Matt, can you fire up trac-admin and remove the WIKIEDIT and WIKICREATE
privilege from registered users, and then assign it to individual named
users who need it?

-- 
skippy@skippy.net | http://skippy.net/

gpg --keyserver pgp.mit.edu --recv-keys 9CFA4B35
506C F8BB 17AE 8A05 0B49  3544 476A 7DEC 9CFA 4B35
From ringmaster at midnightcircus.com  Fri Dec 30 16:05:33 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Fri Dec 30 16:06:01 2005
Subject: [wp-hackers] Importing custom format into WordPress
In-Reply-To: <ebe43d680512300650p5d56a447k@mail.gmail.com>
References: <43B52B4A.9030206@metalab.unc.edu>
	<ebe43d680512300446j4f718465j@mail.gmail.com>
	<43B54300.9000505@metalab.unc.edu>
	<ebe43d680512300650p5d56a447k@mail.gmail.com>
Message-ID: <43B55ACD.9090604@midnightcircus.com>

This thread has me wondering whether a generic Metaweblog import had 
been considered, since it might be able to get more of the intrinsic 
data from the imported blog.

This leads me to another question/thought - Is there a way to point a 
new WordPress installation at an old one and import EVERYTHING? 
Settings, users, comments, etc.?

I suppose that if you're going to import everything, you might as well 
do a databse backup and restore, but it might be handier for those who 
are less inclined to mess with phpMyAdmin to have a way to transfer data 
from one site to another.  Particularly if all you're transferring is 
user data or settings.

At the least, it might be an interesting project to beef up the 
WordPress XMLRPC offerings to include access to any database data 
provided the user has the correct credentials.  Maybe an interesting 
plugin project.

Owen
From denis at semiologic.com  Fri Dec 30 16:08:07 2005
From: denis at semiologic.com (Denis de Bernardy)
Date: Fri Dec 30 16:08:19 2005
Subject: [wp-hackers] Importing custom format into WordPress
In-Reply-To: <43B55ACD.9090604@midnightcircus.com>
Message-ID: <003f01c60d5b$394e36d0$1001a8c0@kergan>

one thing you can always do is use a feed aggregator on your wordpress
install, e.g. feedwordpress. you then set up the rss feed to display 1,000
posts (or more, as relevant) and gobble it all up at once. slow, CPU hogger,
but it works.

D.
 

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com 
> [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of 
> Owen Winkler
> Sent: Friday, December 30, 2005 5:06 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Importing custom format into WordPress
> 
> 
> This thread has me wondering whether a generic Metaweblog import had 
> been considered, since it might be able to get more of the intrinsic 
> data from the imported blog.
> 
> This leads me to another question/thought - Is there a way to point a 
> new WordPress installation at an old one and import EVERYTHING? 
> Settings, users, comments, etc.?
> 
> I suppose that if you're going to import everything, you 
> might as well 
> do a databse backup and restore, but it might be handier for 
> those who 
> are less inclined to mess with phpMyAdmin to have a way to 
> transfer data 
> from one site to another.  Particularly if all you're transferring is 
> user data or settings.
> 
> At the least, it might be an interesting project to beef up the 
> WordPress XMLRPC offerings to include access to any database data 
> provided the user has the correct credentials.  Maybe an interesting 
> plugin project.
> 
> Owen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com 
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


From aaron at technosailor.com  Fri Dec 30 16:15:06 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Fri Dec 30 16:15:14 2005
Subject: [wp-hackers] Importing custom format into WordPress
In-Reply-To: <43B55ACD.9090604@midnightcircus.com>
References: <43B52B4A.9030206@metalab.unc.edu>
	<ebe43d680512300446j4f718465j@mail.gmail.com>
	<43B54300.9000505@metalab.unc.edu>
	<ebe43d680512300650p5d56a447k@mail.gmail.com>
	<43B55ACD.9090604@midnightcircus.com>
Message-ID: <ca7320070512300815t3f920a4ah4c5a662f8ddeb16a@mail.gmail.com>

>
>
> This leads me to another question/thought - Is there a way to point a
> new WordPress installation at an old one and import EVERYTHING?
> Settings, users, comments, etc.?
>

This is an EXCELLENT idea (probably in the form of a plugin). In fact I
might set about doing an importer like this. There are some limitations as I
see it, though:

However, I'm not sure you could get all the settings, themes, plugins
without the remote server having remote MySQL connections allowed (most
hosts don't).  Getting the data would be as easy as having PHP FTP.

cPanel does something similar to this that allows cPanel servers to go and
package up accounts on other cPanel boxes but it is written in Perl which of
course can run as a privileged user.  You run into all kinds of scenarios
with PHP in safe mode, "running as", etc.

I'd be interested to carry this conversation on to get as much input as
possible before trying to tackle such a plugin. XML-RPC isn't really my
thing.

--
--
Aaron Brazell
Editor/Writer
http://www.technosailor.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051230/52665b84/attachment-0001.htm
From elharo at metalab.unc.edu  Fri Dec 30 16:33:31 2005
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Fri Dec 30 16:33:39 2005
Subject: [wp-hackers] Importing custom format into WordPress
In-Reply-To: <43B55ACD.9090604@midnightcircus.com>
References: <43B52B4A.9030206@metalab.unc.edu>	<ebe43d680512300446j4f718465j@mail.gmail.com>	<43B54300.9000505@metalab.unc.edu>	<ebe43d680512300650p5d56a447k@mail.gmail.com>
	<43B55ACD.9090604@midnightcircus.com>
Message-ID: <43B5615B.5090504@metalab.unc.edu>

Owen Winkler wrote:

> At the least, it might be an interesting project to beef up the 
> WordPress XMLRPC offerings to include access to any database data 
> provided the user has the correct credentials.  Maybe an interesting 
> plugin project.

I suspect XML-RPC is the wrong tool here. This is a very 
straight-forward operation for XML+REST. Define an XML export format. 
Define the query strings to select the subsets of the data, and then 
provide URLs to grab it (with appropriate authentication of course). 
That would be much more direct and much simpler to import into another 
system than XML-RPC.


-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
XML in a Nutshell 3rd Edition Just Published!
http://www.cafeconleche.org/books/xian3/
http://www.amazon.com/exec/obidos/ISBN=0596007647/cafeaulaitA/ref=nosim
From ringmaster at midnightcircus.com  Fri Dec 30 16:43:07 2005
From: ringmaster at midnightcircus.com (Owen Winkler)
Date: Fri Dec 30 16:43:34 2005
Subject: [wp-hackers] Importing custom format into WordPress
In-Reply-To: <ca7320070512300815t3f920a4ah4c5a662f8ddeb16a@mail.gmail.com>
References: <43B52B4A.9030206@metalab.unc.edu>
	<ebe43d680512300446j4f718465j@mail.gmail.com>
	<43B54300.9000505@metalab.unc.edu>
	<ebe43d680512300650p5d56a447k@mail.gmail.com>
	<43B55ACD.9090604@midnightcircus.com>
	<ca7320070512300815t3f920a4ah4c5a662f8ddeb16a@mail.gmail.com>
Message-ID: <43B5639B.6030606@midnightcircus.com>

Aaron Brazell wrote:
> I'd be interested to carry this conversation on to get as much input as 
> possible before trying to tackle such a plugin. XML-RPC isn't really my 
> thing.

New XMLRPC hooks are really easy to implement in WordPress.

Just add a sink to 'xmlrpc_methods'.  The incoming parameter is an array 
of supported methods.  Add a new array element using the method name as 
the key and the function name as the value:

add_filter('xmlrpc_methods', 'attach_new_xmlrpc');
function attach_new_xmlrpc($methods)
{
$methods['wordpress.getusers'] = 'wprpc_getusers';
return $methods;
}

Then implement the function you added to dispatch the RPC:

function wprpc_getusers($args)
{
$user_login  = $args[0];
$user_pass   = $args[1];
// Verify user
if (!user_pass_ok($user_login, $user_pass))
return new IXR_Error(403, 'Bad login/pass combination.');
// Good login, return the requested info...
return a_function_that_returns_user_data();
}

Consuming XMLRPC isn't hard either.  Feel lucky about the "Incutio 
XMLRPC" library used in WordPress for more info.

Owen
From mike at zed1.com  Fri Dec 30 17:59:08 2005
From: mike at zed1.com (Mike Little)
Date: Fri Dec 30 17:59:17 2005
Subject: [wp-hackers] Re: The Dashboard Needs Attention
In-Reply-To: <4147dc600512300520p6e62647ag7883f3c0d2dc9536@mail.gmail.com>
References: <4147dc600512300520p6e62647ag7883f3c0d2dc9536@mail.gmail.com>
Message-ID: <7235ce780512300959i6af819e6l@mail.gmail.com>

I do feel slightly embarrassed when my personal family stuff appears
on the dashboard.


I believe the correct solution is to fix the WordPress Planet feeds to
only relevant categories.
I've had a blog category and wordpress sub-category since my first
non-WordPress post appeared on the dashboard!

Unfortunately, the last time I looked I couldn't find any contact
details for WordPress planet.

The real value of the Dashboard is for security and release
announcements. Whilst it may be good for individuals to be able to
install a plugin to turn off (or possibly change - which has security
implications) the dashboard feeds, I still believe there is a value in
the average user having it enabled by default.



Mike
--
Mike Little
http://zed1.com/journalized/
From dmhouse at gmail.com  Fri Dec 30 18:09:09 2005
From: dmhouse at gmail.com (David House)
Date: Fri Dec 30 18:09:18 2005
Subject: [wp-hackers] Re: The Dashboard Needs Attention
In-Reply-To: <7235ce780512300959i6af819e6l@mail.gmail.com>
References: <4147dc600512300520p6e62647ag7883f3c0d2dc9536@mail.gmail.com>
	<7235ce780512300959i6af819e6l@mail.gmail.com>
Message-ID: <ebe43d680512301009h31df0530v@mail.gmail.com>

On 30/12/05, Mike Little <mike@zed1.com> wrote:
> Unfortunately, the last time I looked I couldn't find any contact
> details for WordPress planet.

It's hosted on wordpress.org so _someone_ should have contact details.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From ryan at ryanduff.net  Fri Dec 30 18:13:57 2005
From: ryan at ryanduff.net (Ryan Duff)
Date: Fri Dec 30 18:13:19 2005
Subject: [wp-hackers] Re: The Dashboard Needs Attention
In-Reply-To: <ebe43d680512301009h31df0530v@mail.gmail.com>
References: <4147dc600512300520p6e62647ag7883f3c0d2dc9536@mail.gmail.com>	<7235ce780512300959i6af819e6l@mail.gmail.com>
	<ebe43d680512301009h31df0530v@mail.gmail.com>
Message-ID: <43B578E5.50809@ryanduff.net>

David House wrote:
> On 30/12/05, Mike Little <mike@zed1.com> wrote:
>> Unfortunately, the last time I looked I couldn't find any contact
>> details for WordPress planet.
> 
> It's hosted on wordpress.org so _someone_ should have contact details.

Matt generally takes care of everything on the "official" wordpress 
sites. I would imagine he'd be the go-to guy. I think he's on the road 
again so good luck.

-- 
Ryan Duff
http://ryanduff.net
AIM: ryancduff
irc.freenode.net #wordpress
From m at mullenweg.com  Fri Dec 30 18:44:02 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Fri Dec 30 18:44:21 2005
Subject: [wp-hackers] Re: The Dashboard Needs Attention
In-Reply-To: <7235ce780512300959i6af819e6l@mail.gmail.com>
References: <4147dc600512300520p6e62647ag7883f3c0d2dc9536@mail.gmail.com>
	<7235ce780512300959i6af819e6l@mail.gmail.com>
Message-ID: <43B57FF2.8010700@mullenweg.com>

Mike Little wrote:
> I've had a blog category and wordpress sub-category since my first
> non-WordPress post appeared on the dashboard!

All you needed to do was ask. :)

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From heilemann at gmail.com  Fri Dec 30 19:39:24 2005
From: heilemann at gmail.com (Michael Heilemann)
Date: Fri Dec 30 19:39:32 2005
Subject: [wp-hackers] Nightly Builds
Message-ID: <5a715c0a0512301139n518d6267i49431cf1fdde323f@mail.gmail.com>

What's the URI for downloading nightly builds? Has it been changed
with the new site? (and why isn't there as search function on the
codex pages?)

--
Aloha,
Michael Heilemann
http://binarybonsai.com
From m at mullenweg.com  Fri Dec 30 22:18:09 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Fri Dec 30 22:18:30 2005
Subject: [wp-hackers] Nightly Builds
In-Reply-To: <5a715c0a0512301139n518d6267i49431cf1fdde323f@mail.gmail.com>
References: <5a715c0a0512301139n518d6267i49431cf1fdde323f@mail.gmail.com>
Message-ID: <43B5B221.6000901@mullenweg.com>

Michael Heilemann wrote:
> What's the URI for downloading nightly builds? Has it been changed
> with the new site? (and why isn't there as search function on the
> codex pages?)

Try this:

http://static.wordpress.org/builds/

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From wp at igeek.info  Fri Dec 30 23:20:10 2005
From: wp at igeek.info (Amit Gupta)
Date: Fri Dec 30 23:20:30 2005
Subject: [wp-hackers] The Dashboard Needs Attention
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com><ebe43d680512300413paca3ea9u@mail.gmail.com>
	<ebe43d680512300415h22e971d4y@mail.gmail.com>
Message-ID: <00b901c60d97$9673c4b0$57ebd4cb@unicorn>

David House <dmhouse@gmail.com> wrote:
|  After two minutes of looking, it's not a problem with the code. The
|  boxes at the bottom come from the planet.wordpress.org feed, so
|  someone with access to the feeds there just needs to tweak it so that
|  we're only subscribed the wordpress feeds.

why not also put in an option by which a person can turn this thing off?

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051230/c3179587/attachment.htm
From mike at zed1.com  Sat Dec 31 02:37:09 2005
From: mike at zed1.com (Mike Little)
Date: Sat Dec 31 02:37:20 2005
Subject: [wp-hackers] Re: The Dashboard Needs Attention
In-Reply-To: <43B57FF2.8010700@mullenweg.com>
References: <4147dc600512300520p6e62647ag7883f3c0d2dc9536@mail.gmail.com>
	<7235ce780512300959i6af819e6l@mail.gmail.com>
	<43B57FF2.8010700@mullenweg.com>
Message-ID: <7235ce780512301837x4be74a6dl@mail.gmail.com>

On 30/12/05, Matt Mullenweg <m@mullenweg.com> wrote:
> Mike Little wrote:
> > I've had a blog category and wordpress sub-category since my first
> > non-WordPress post appeared on the dashboard!
>
> All you needed to do was ask. :)
>

Doh! I can't believe I didn't know you were running it Matt! Has that
always been the case?

Mike
--
Mike Little
http://zed1.com/journalized/
From powzor at gmail.com  Sat Dec 31 02:44:14 2005
From: powzor at gmail.com (Rob)
Date: Sat Dec 31 02:39:12 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <00b901c60d97$9673c4b0$57ebd4cb@unicorn>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com><ebe43d680512300413paca3ea9u@mail.gmail.com>	<ebe43d680512300415h22e971d4y@mail.gmail.com>
	<00b901c60d97$9673c4b0$57ebd4cb@unicorn>
Message-ID: <43B5F07E.1070905@robm.me.uk>

Amit Gupta wrote:
> David House <dmhouse@gmail.com <mailto:dmhouse@gmail.com>> wrote:
> |  After two minutes of looking, it's not a problem with the code. The
> |  boxes at the bottom come from the planet.wordpress.org feed, so
> |  someone with access to the feeds there just needs to tweak it so that
> |  we're only subscribed the wordpress feeds.
>  
> why not also put in an option by which a person can turn this thing off?
> ------------
> Amit Gupta
> http://igeek.info/  ||  http://blog.igeek.info/
> http://blog.igeek.info/wp-plugins/igsyntax-hiliter
>  
> ------------------------------------------------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   
I always wondered about that, it seems a weird thing not to have as a 
preference. I hate the Dashboard, I'd much prefer it to go straight to 
the post screen (like it did in 1.2, iirc?).

-- 
Rob Miller
http://robm.me.uk/ | http://kantian.co.uk/

From ryan at ryanduff.net  Sat Dec 31 03:39:00 2005
From: ryan at ryanduff.net (Ryan Duff)
Date: Sat Dec 31 03:38:11 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <43B5F07E.1070905@robm.me.uk>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com><ebe43d680512300413paca3ea9u@mail.gmail.com>	<ebe43d680512300415h22e971d4y@mail.gmail.com>	<00b901c60d97$9673c4b0$57ebd4cb@unicorn>
	<43B5F07E.1070905@robm.me.uk>
Message-ID: <43B5FD54.6020204@ryanduff.net>

Rob wrote:
> Amit Gupta wrote:
>> David House <dmhouse@gmail.com <mailto:dmhouse@gmail.com>> wrote:
>> |  After two minutes of looking, it's not a problem with the code. The
>> |  boxes at the bottom come from the planet.wordpress.org feed, so
>> |  someone with access to the feeds there just needs to tweak it so that
>> |  we're only subscribed the wordpress feeds.
>>  
>> why not also put in an option by which a person can turn this thing off?
>
> I always wondered about that, it seems a weird thing not to have as a 
> preference. I hate the Dashboard, I'd much prefer it to go straight to 
> the post screen (like it did in 1.2, iirc?).
> 

Not to mention, there is STILL a delay when it loads (every time I try 
to go to the admin side) while I wait for it to try and update. It 
always did annoy me that I had to wait 5-10 seconds every time I went in 
just to wait for something I never read refresh.

Something to forward to the post screen would be nice, or the option to 
turn it off. What about doing it after it loads like the pings do when 
posting in 2.0? Show the cached feed still when you log in and once the 
page is loaded it can check for the feeds and update them so next time 
you hit the dashboard its up to date?

Yes, it won't be up to date the first time you log in after 2 weeks, but 
how many people actually read it anyway? What percentage of hits do the 
people listed on planet get from somebody's dashboard?

-- 
Ryan Duff
http://ryanduff.net
AIM: ryancduff
irc.freenode.net #wordpress

From daniel at acceleration.net  Sat Dec 31 04:14:02 2005
From: daniel at acceleration.net (Daniel Westermann-Clark)
Date: Sat Dec 31 04:14:22 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <43B5FD54.6020204@ryanduff.net>
References: <ebe43d680512300415h22e971d4y@mail.gmail.com>
	<00b901c60d97$9673c4b0$57ebd4cb@unicorn>
	<43B5F07E.1070905@robm.me.uk> <43B5FD54.6020204@ryanduff.net>
Message-ID: <20051231041402.GC14916@dulcinea.dwc.homedns.org>

On 2005-12-30 22:39:00 -0500, Ryan Duff wrote:
> Something to forward to the post screen would be nice, or the option
> to turn it off.

Yeah, my users don't need WordPress news.  I keep track of upgrading
for them.  All they care about is writing.

Attached is a plugin to forward to the post screen and remove the
"Dashboard" menu item.  It's somewhat of a hack, but it works (no
guarantees on IIS, though).

Probably could be extended to make it a per-user option...

-- 
Daniel Westermann-Clark
-------------- next part --------------
A non-text attachment was scrubbed...
Name: disable-dashboard.php
Type: application/x-httpd-php
Size: 559 bytes
Desc: not available
Url : http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051231/83a20404/disable-dashboard.php
From mailing-lists at netspace.net.au  Sat Dec 31 05:45:54 2005
From: mailing-lists at netspace.net.au (John Ha [c])
Date: Sat Dec 31 05:47:19 2005
Subject: [wp-hackers] The Dashboard Needs Attention [s]
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com><ebe43d680512300413paca3ea9u@mail.gmail.com>	<ebe43d680512300415h22e971d4y@mail.gmail.com><00b901c60d97$9673c4b0$57ebd4cb@unicorn>
	<43B5F07E.1070905@robm.me.uk>
Message-ID: <002501c60dcd$7cad0b50$6401a8c0@k9>

yes, i remember a discussion about an option for the dash awhile back.there
must be a good reason not to have an option for it? i for one would like
like an option to turn it off. it's annoyingly slow in loading and i can be
impatient at times.
----- Original Message ----- 
From: "Rob" <powzor@gmail.com>
To: <wp-hackers@lists.automattic.com>
Sent: Saturday, December 31, 2005 1:44 PM
Subject: Re: [wp-hackers] The Dashboard Needs Attention


> Amit Gupta wrote:
> > David House <dmhouse@gmail.com <mailto:dmhouse@gmail.com>> wrote:
> > |  After two minutes of looking, it's not a problem with the code. The
> > |  boxes at the bottom come from the planet.wordpress.org feed, so
> > |  someone with access to the feeds there just needs to tweak it so that
> > |  we're only subscribed the wordpress feeds.
> >
> > why not also put in an option by which a person can turn this thing off?
> > ------------
> > Amit Gupta
> > http://igeek.info/  ||  http://blog.igeek.info/
> > http://blog.igeek.info/wp-plugins/igsyntax-hiliter
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> I always wondered about that, it seems a weird thing not to have as a
> preference. I hate the Dashboard, I'd much prefer it to go straight to
> the post screen (like it did in 1.2, iirc?).
>
> -- 
> Rob Miller
> http://robm.me.uk/ | http://kantian.co.uk/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
------------------------ [ SECURITY NOTICE ]
------------------------
To: wp-hackers@lists.automattic.com.
For your security, mailing-lists@netspace.net.au
digitally signed this message on 31 December 2005 at 05:47:08 UTC.
Verify this digital signature at http://www.ciphire.com/verify.
------------------- [ CIPHIRE DIGITAL SIGNATURE ]
-------------------
Q2lwaGlyZSBTaWcuAjh3cC1oYWNrZXJzQGxpc3RzLmF1dG9tYXR0aWMuY29tAG1haWxpb
mctbGlzdHNAbmV0c3BhY2UubmV0LmF1AGVtYWlsIGJvZHkArgUAAHwAfAAAAAEAAABcG7
ZDrgUAAKACAAIAAgACACAe5TcBbmIU6owNe1xZd/iId1LWxoic0s8JYnXeBrMqZgEAoH7
uzw9IZPyJ563ZYHUtH1HUo9KSbjEaKJV3swG1UnqHH1p4FnF5G8fxws4fZk+qVPKkkmLD
ADa5WaL7cyKuzJUOuaqVU2lnRW5k
--------------------- [ END DIGITAL SIGNATURE ]
---------------------

From r at schestowitz.com  Sat Dec 31 07:45:51 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Sat Dec 31 07:46:02 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <43B5FD54.6020204@ryanduff.net>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com><ebe43d680512300413paca3ea9u@mail.gmail.com>
	<ebe43d680512300415h22e971d4y@mail.gmail.com>
	<00b901c60d97$9673c4b0$57ebd4cb@unicorn> <43B5F07E.1070905@robm.me.uk>
	<43B5FD54.6020204@ryanduff.net>
Message-ID: <20051231074551.lqmjjizp35csock4@banana.catalyst2.com>

_____/ On Sat 31 Dec 2005 03:39:00 GMT, [Ryan Duff] wrote : \_____

> Rob wrote:
>> Amit Gupta wrote:
>>> David House <dmhouse@gmail.com <mailto:dmhouse@gmail.com>> wrote:
>>> |  After two minutes of looking, it's not a problem with the code. The
>>> |  boxes at the bottom come from the planet.wordpress.org feed, so
>>> |  someone with access to the feeds there just needs to tweak it so that
>>> |  we're only subscribed the wordpress feeds.
>>>  why not also put in an option by which a person can turn this thing off?
>>
>> I always wondered about that, it seems a weird thing not to have as 
>> a preference. I hate the Dashboard, I'd much prefer it to go 
>> straight to the post screen (like it did in 1.2, iirc?).
>>
>
> Not to mention, there is STILL a delay when it loads (every time I 
> try to go to the admin side) while I wait for it to try and update. 
> It always did annoy me that I had to wait 5-10 seconds every time I 
> went in just to wait for something I never read refresh.
>
> Something to forward to the post screen would be nice, or the option 
> to turn it off. What about doing it after it loads like the pings do 
> when posting in 2.0? Show the cached feed still when you log in and 
> once the page is loaded it can check for the feeds and update them so 
> next time you hit the dashboard its up to date?
>
> Yes, it won't be up to date the first time you log in after 2 weeks, 
> but how many people actually read it anyway? What percentage of hits 
> do the people listed on planet get from somebody's dashboard?

Once  the cookies are in place, just bookmark (or add to your portal)  the
following two links:

http://<site>/wp-admin/post.php
http://<site>/wp-admin/edit.php

I  have done this for a long time on several installations because it  im-
proves  efficiency. I do the same with cPanel, among other tools, in order
to  avoid  gateway  pages. If you have users, insist that they  use  those
links or simply hide the usual paths.

Roy

-- 
Roy S. Schestowitz
http://Schestowitz.com  |    SuSE Linux     |     PGP-Key: 0x74572E8E
  7:40am  up 20 days 14:51,  14 users,  load average: 0.69, 0.71, 0.71

From aaron at technosailor.com  Sat Dec 31 08:01:22 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Sat Dec 31 08:01:33 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <20051231074551.lqmjjizp35csock4@banana.catalyst2.com>
Message-ID: <20051231080128.326795C61@comox.textdrive.com>


> Once  the cookies are in place, just bookmark (or add to your portal)  the
> following two links:
> 
> http://<site>/wp-admin/post.php
> http://<site>/wp-admin/edit.php
> 
> I  have done this for a long time on several installations because it  im-
> proves  efficiency. I do the same with cPanel, among other tools, in order
> to  avoid  gateway  pages. If you have users, insist that they  use  those
> links or simply hide the usual paths.

I really think this issue is being discussed not as a how-to get around the dashboard.  I think it's being discussed because it is a waste of bandwidth and provides information not relevant to WordPress

From heilemann at gmail.com  Sat Dec 31 13:14:50 2005
From: heilemann at gmail.com (Michael Heilemann)
Date: Sat Dec 31 13:15:00 2005
Subject: [wp-hackers] Automatic Saving?
Message-ID: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>

Isn't there some functionality which is supposed to automatically save
entries as they are written?

--
Aloha,
Michael Heilemann
http://binarybonsai.com
From dmhouse at gmail.com  Sat Dec 31 13:18:37 2005
From: dmhouse at gmail.com (David House)
Date: Sat Dec 31 13:18:47 2005
Subject: [wp-hackers] Automatic Saving?
In-Reply-To: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>
References: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>
Message-ID: <ebe43d680512310518s720ed795l@mail.gmail.com>

On 31/12/05, Michael Heilemann <heilemann@gmail.com> wrote:
> Isn't there some functionality which is supposed to automatically save
> entries as they are written?

This was originally added just before 1.5, but pulled because it broke
things. I'm sure there's a plugin.

--
-David House, dmhouse@gmail.com, http://xmouse.ithium.net
From pwaring at gmail.com  Sat Dec 31 13:37:11 2005
From: pwaring at gmail.com (Paul Waring)
Date: Sat Dec 31 13:37:23 2005
Subject: [wp-hackers] Automatic Saving?
In-Reply-To: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>
References: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>
Message-ID: <8953a1db0512310537t37194759o15b67e69a366c505@mail.gmail.com>

On 12/31/05, Michael Heilemann <heilemann@gmail.com> wrote:
> Isn't there some functionality which is supposed to automatically save
> entries as they are written?

I"ve never noticed this myself, but it would be incredibly useful to
have something like Gmail's automatic saving of drafts because I've
lost count of the number of times I've had to rewrite a post due to
either Firefox reloading the page (no idea why it does this, but I've
noticed it a number of times in WordPress when composing an entry) or
the browser crashing.

Paul

--
Data Circle
http://datacircle.org
From r at schestowitz.com  Sat Dec 31 14:56:27 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Sat Dec 31 14:56:38 2005
Subject: [wp-hackers] Automatic Saving?
In-Reply-To: <ebe43d680512310518s720ed795l@mail.gmail.com>
References: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>
	<ebe43d680512310518s720ed795l@mail.gmail.com>
Message-ID: <20051231145627.h6smgcwpinko0scg@banana.catalyst2.com>

_____/ On Sat 31 Dec 2005 13:18:37 GMT, [David House] wrote : \_____

> On 31/12/05, Michael Heilemann <heilemann@gmail.com> wrote:
>> Isn't there some functionality which is supposed to automatically save
>> entries as they are written?
>
> This was originally added just before 1.5, but pulled because it broke
> things. I'm sure there's a plugin.

It  would cause a mess in my opinion. I always CTRL+A, CTRL+C before I ap-
ply  any  changes. WordPress tried to 'help' with the markup and is  some-
times  devouring  code and/or text in process. What I proposed before  was
keeping  a  stack of versions so that one can undo, reverting to  previous
states for the reason listed above.

Other concerns: some people might edit off-line or be in the midst of typ-
ing. It's too unpredictable.

Roy

From skeltoac at gmail.com  Sat Dec 31 15:29:28 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sat Dec 31 15:29:38 2005
Subject: [wp-hackers] The Dashboard Needs Attention
In-Reply-To: <43B5FD54.6020204@ryanduff.net>
References: <5a715c0a0512300402n30aced21rd8c75faa0c97c4d2@mail.gmail.com>
	<ebe43d680512300413paca3ea9u@mail.gmail.com>
	<ebe43d680512300415h22e971d4y@mail.gmail.com>
	<00b901c60d97$9673c4b0$57ebd4cb@unicorn> <43B5F07E.1070905@robm.me.uk>
	<43B5FD54.6020204@ryanduff.net>
Message-ID: <e6ec604d0512310729l49624a53qd445f909a7e7b82b@mail.gmail.com>

On 12/30/05, Ryan Duff <ryan@ryanduff.net> wrote:
> Yes, it won't be up to date the first time you log in after 2 weeks, but
> how many people actually read it anyway? What percentage of hits do the
> people listed on planet get from somebody's dashboard?

I read it.

Andy
From m at mullenweg.com  Sat Dec 31 19:09:39 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Sat Dec 31 19:10:03 2005
Subject: [wp-hackers] Re: The Dashboard Needs Attention
In-Reply-To: <7235ce780512301837x4be74a6dl@mail.gmail.com>
References: <4147dc600512300520p6e62647ag7883f3c0d2dc9536@mail.gmail.com>	<7235ce780512300959i6af819e6l@mail.gmail.com>	<43B57FF2.8010700@mullenweg.com>
	<7235ce780512301837x4be74a6dl@mail.gmail.com>
Message-ID: <43B6D773.4010605@mullenweg.com>

Mike Little wrote:
> Doh! I can't believe I didn't know you were running it Matt! Has that
> always been the case?

Yep, I'm getting ready to update the design now to fit in better with 
the rest of the site.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From jeff at jrm.cc  Sat Dec 31 19:11:39 2005
From: jeff at jrm.cc (Jeff Minard)
Date: Sat Dec 31 19:11:55 2005
Subject: [wp-hackers] Automatic Saving?
In-Reply-To: <20051231145627.h6smgcwpinko0scg@banana.catalyst2.com>
References: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>	<ebe43d680512310518s720ed795l@mail.gmail.com>
	<20051231145627.h6smgcwpinko0scg@banana.catalyst2.com>
Message-ID: <43B6D7EB.3010109@jrm.cc>

Roy Schestowitz wrote:
> It  would cause a mess in my opinion. I always CTRL+A, CTRL+C before I ap-
> ply  any  changes. WordPress tried to 'help' with the markup and is  some-
> times  devouring  code and/or text in process. What I proposed before  was
> keeping  a  stack of versions so that one can undo, reverting to  previous
> states for the reason listed above.

I *know* versioning plugins exist for wordpress. That, however, is a 
separate issue.


> Other concerns: some people might edit off-line or be in the midst of typ-
> ing. It's too unpredictable.

AJAX doesn't need to interupt the user while auto saving. Additionally, 
if the AJAX call fails (offline, time out, etc) a cookie can be 
Javascript'ed to hold the data. Later on WP could recognize the cookie 
and say "Hey, you were working on a post" and proceed.

Jeff
From r at schestowitz.com  Sat Dec 31 19:38:55 2005
From: r at schestowitz.com (Roy Schestowitz)
Date: Sat Dec 31 19:39:01 2005
Subject: [wp-hackers] Automatic Saving?
In-Reply-To: <43B6D7EB.3010109@jrm.cc>
References: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>
	<ebe43d680512310518s720ed795l@mail.gmail.com>
	<20051231145627.h6smgcwpinko0scg@banana.catalyst2.com>
	<43B6D7EB.3010109@jrm.cc>
Message-ID: <20051231193855.t4kieyhecso4wwgo@banana.catalyst2.com>

_____/ On Sat 31 Dec 2005 19:11:39 GMT, [Jeff Minard] wrote : \_____

> Roy Schestowitz wrote:
>> It  would cause a mess in my opinion. I always CTRL+A, CTRL+C before I ap-
>> ply  any  changes. WordPress tried to 'help' with the markup and is  some-
>> times  devouring  code and/or text in process. What I proposed before  was
>> keeping  a  stack of versions so that one can undo, reverting to  previous
>> states for the reason listed above.
>
> I *know* versioning plugins exist for wordpress. That, however, is a 
> separate issue.


If  one intends to save automatically, it is not completely separate. Text
editors  (or,  more broadly, word processors for that matter) do not  save
ant  changes until the user triggers it. They accumulate emergency  copies
in  the background, so there you have a stack; if not in memory, then in a
physical file.


>> Other concerns: some people might edit off-line or be in the midst of typ-
>> ing. It's too unpredictable.
>
> AJAX doesn't need to interupt the user while auto saving. 
> Additionally, if the AJAX call fails (offline, time out, etc) a 
> cookie can be Javascript'ed to hold the data. Later on WP could 
> recognize the cookie and say "Hey, you were working on a post" and 
> proceed.


Good point. I was thinking about pre-AJAX-hype versions of WordPress.

Roy

From skeltoac at gmail.com  Sat Dec 31 20:32:51 2005
From: skeltoac at gmail.com (Andy Skelton)
Date: Sat Dec 31 20:33:05 2005
Subject: [wp-hackers] Automatic Saving?
In-Reply-To: <20051231193855.t4kieyhecso4wwgo@banana.catalyst2.com>
References: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>
	<ebe43d680512310518s720ed795l@mail.gmail.com>
	<20051231145627.h6smgcwpinko0scg@banana.catalyst2.com>
	<43B6D7EB.3010109@jrm.cc>
	<20051231193855.t4kieyhecso4wwgo@banana.catalyst2.com>
Message-ID: <e6ec604d0512311232td514d45l64476672902538b6@mail.gmail.com>

The client-side mechanics of an auto-save feature are easy to envision
and a minor project to implement. Where you begin to run into big
trouble is in messing with the database. Where are you going to safe
the drafts? wp_posts? What about the wasted autoincremented ID's? You
know that'll be a sore spot. How are you going to display and manage
them?

It's fine to hypothesize about the necessary changes to the edit forms
but please realize that therein lies only one tenth of the problem.

Is anyone so far involved in this discussion willing to do a working mockup?

Andy
From ryan at boren.nu  Sat Dec 31 21:28:49 2005
From: ryan at boren.nu (Ryan Boren)
Date: Sat Dec 31 21:28:36 2005
Subject: [wp-hackers] Draft timestamps and MySQL 5 strict
In-Reply-To: <1135891530.9149.8.camel@localhost.localdomain>
References: <1135891530.9149.8.camel@localhost.localdomain>
Message-ID: <1136064530.8782.12.camel@localhost.localdomain>

On Thu, 2005-12-29 at 13:25 -0800, Ryan Boren wrote:
> http://trac.wordpress.org/ticket/2175
> 
> I think this is because we use an empty timestamp for drafts as per
> #1837.
> 
> http://trac.wordpress.org/ticket/1837
> 
> See also #2148:
> 
> http://trac.wordpress.org/ticket/2148
> 
> 
> Thoughts on how to fix this up while preserving the behavior requested
> in #1837?

I think this is due to strict mode enforcing NO_ZERO_DATE.

http://dev.mysql.com/doc/refman/5.0/en/date-and-time-types.html
http://dev.mysql.com/doc/refman/5.0/en/server-sql-mode.html

Ryan



From adon at ambit-online.net  Sat Dec 31 20:43:44 2005
From: adon at ambit-online.net (Ryan Boswell)
Date: Sat Dec 31 21:39:49 2005
Subject: [wp-hackers] Automatic Saving?
In-Reply-To: <e6ec604d0512311232td514d45l64476672902538b6@mail.gmail.com>
References: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>
	<ebe43d680512310518s720ed795l@mail.gmail.com>
	<20051231145627.h6smgcwpinko0scg@banana.catalyst2.com>
	<43B6D7EB.3010109@jrm.cc>
	<20051231193855.t4kieyhecso4wwgo@banana.catalyst2.com>
	<e6ec604d0512311232td514d45l64476672902538b6@mail.gmail.com>
Message-ID: <15FD03B6-A0B2-4D4F-B5CB-0F398408E0A0@ambit-online.net>

I'm not well versed enough in AJAX to be able to do a working mockup  
but to ease your question of how to deal with the wasted IDs is that  
once a post has been saved once you treat it as a draft that you are  
editing. This would be a challenge but it's obviously possible.

But maybe were going about it the wrong way, why try to save to the  
database? Why not implement something similar to what Blogger does,  
they just stick a cookies in your browser with all the post  
information, that way would be easier. Then all you'd have to do is  
write a small bit to create the cookie, stick it in the browser every  
so often (possibly a configurable time in the control panel) and then  
if something does happen (browser crashes, etc..) when the user goes  
back into the posting interface WordPress would auto-import the post  
information from the cookies, then when the post is saved to the  
database the cookies are deleted. Doesn't seem too terribly hard to  
do it that way, much easier in fact than worrying about the first idea.

--
Ryan

On Dec 31, 2005, at 12:32 PM, Andy Skelton wrote:

> The client-side mechanics of an auto-save feature are easy to envision
> and a minor project to implement. Where you begin to run into big
> trouble is in messing with the database. Where are you going to safe
> the drafts? wp_posts? What about the wasted autoincremented ID's? You
> know that'll be a sore spot. How are you going to display and manage
> them?
>
> It's fine to hypothesize about the necessary changes to the edit forms
> but please realize that therein lies only one tenth of the problem.
>
> Is anyone so far involved in this discussion willing to do a  
> working mockup?
>
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From aaron at technosailor.com  Sat Dec 31 21:52:59 2005
From: aaron at technosailor.com (Aaron Brazell)
Date: Sat Dec 31 21:53:11 2005
Subject: [wp-hackers] Automatic Saving?
In-Reply-To: <15FD03B6-A0B2-4D4F-B5CB-0F398408E0A0@ambit-online.net>
Message-ID: <20051231215305.B751D5C1E@comox.textdrive.com>

> But maybe were going about it the wrong way, why try to save to the
> database? Why not implement something similar to what Blogger does,
> they just stick a cookies in your browser with all the post
> information, that way would be easier. Then all you'd have to do is
> write a small bit to create the cookie, stick it in the browser every
> so often (possibly a configurable time in the control panel) and then
> if something does happen (browser crashes, etc..) when the user goes
> back into the posting interface WordPress would auto-import the post
> information from the cookies, then when the post is saved to the
> database the cookies are deleted. Doesn't seem too terribly hard to
> do it that way, much easier in fact than worrying about the first idea.


Well I can think of two reasons right off the top...

1) Users who don't use cookies (which is albeit a small portion)
2) There are strict cookie-use privacy requirements among many governments (U.S., EU and Canada I think) and corporations.  As long as we want only personal use of WordPress we can consider the cookie approach. But I think we want to cater to the widest possible user base. In my humble opinion...

From adon at ambit-online.net  Sat Dec 31 22:12:25 2005
From: adon at ambit-online.net (Ryan Boswell)
Date: Sat Dec 31 22:12:47 2005
Subject: [wp-hackers] Automatic Saving?
In-Reply-To: <20051231215305.B751D5C1E@comox.textdrive.com>
References: <20051231215305.B751D5C1E@comox.textdrive.com>
Message-ID: <B799D108-C3C8-4A98-80EB-FBDC5DD8B223@ambit-online.net>

Good points, didn't think about the people who don't use cookies, and  
that's probably because they are few and far between. I also didn't  
even know about the cookie-use requirements, but that does limit it.

A possible way to solve the problem for both is that an option is  
created in the options panel to turn on or off this feature (off by  
default), but that would still alienate users that still refuse to  
use cookies and those behind corporate firewalls where they can't  
allow them if they wanted to, there just isn't an easy way to go  
about this.

All the same it was just a suggestion.

--
Ryan

To Moderator: Sorry about the previous message from a different  
address, accidently sent from a different account.
From m at mullenweg.com  Sat Dec 31 23:18:40 2005
From: m at mullenweg.com (Matt Mullenweg)
Date: Sat Dec 31 23:19:02 2005
Subject: [wp-hackers] Automatic Saving?
In-Reply-To: <20051231193855.t4kieyhecso4wwgo@banana.catalyst2.com>
References: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com>	<ebe43d680512310518s720ed795l@mail.gmail.com>	<20051231145627.h6smgcwpinko0scg@banana.catalyst2.com>	<43B6D7EB.3010109@jrm.cc>
	<20051231193855.t4kieyhecso4wwgo@banana.catalyst2.com>
Message-ID: <43B711D0.10409@mullenweg.com>

Roy Schestowitz wrote:
> If  one intends to save automatically, it is not completely separate. Text
> editors  (or,  more broadly, word processors for that matter) do not  save
> ant  changes until the user triggers it. They accumulate emergency  copies
> in  the background, so there you have a stack; if not in memory, then in a
> physical file.

I think this is an important distinction -- we're not auto-saving we're 
creating an emergency recovery avenue.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://pingomatic.com | http://akismet.com
From wp at igeek.info  Sat Dec 31 23:26:46 2005
From: wp at igeek.info (Amit Gupta)
Date: Sat Dec 31 23:27:04 2005
Subject: [wp-hackers] Automatic Saving?
References: <5a715c0a0512310514p6bdefdd9v56f8f5075b87de93@mail.gmail.com><ebe43d680512310518s720ed795l@mail.gmail.com><20051231145627.h6smgcwpinko0scg@banana.catalyst2.com><43B6D7EB.3010109@jrm.cc><20051231193855.t4kieyhecso4wwgo@banana.catalyst2.com><e6ec604d0512311232td514d45l64476672902538b6@mail.gmail.com>
	<15FD03B6-A0B2-4D4F-B5CB-0F398408E0A0@ambit-online.net>
Message-ID: <00ee01c60e61$aca52b00$57ebd4cb@unicorn>

Ryan Boswell <adon@ambit-online.net> wrote:
|  But maybe were going about it the wrong way, why try to save to the
|  database? Why not implement something similar to what Blogger does,
|  they just stick a cookies in your browser with all the post
|  information, that way would be easier. Then all you'd have to do is
|  write a small bit to create the cookie, stick it in the browser every
|  so often (possibly a configurable time in the control panel) and then
|  if something does happen (browser crashes, etc..) when the user goes
|  back into the posting interface WordPress would auto-import the post
|  information from the cookies, then when the post is saved to the
|  database the cookies are deleted. Doesn't seem too terribly hard to
|  do it that way, much easier in fact than worrying about the first 
idea.

I've just one thing to say so far. If the motion is passed and a similar 
approach
is taken, it would be better to make this feature optional, either by 
giving an
option to switch it on/off via control panel or via a variable in the 
wp-config
since there are quite a number of people(like me) who don't always use
1-2 computers to post to their WP blogs, but infact use many different 
machines,
like when on a trip(without a notebook) etc or something. So having a 
draft
saved in a cookie on an alien machine isn't that wise IMHO.

------------
Amit Gupta
http://igeek.info/  ||  http://blog.igeek.info/
http://blog.igeek.info/wp-plugins/igsyntax-hiliter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://comox.textdrive.com/pipermail/wp-hackers/attachments/20051231/15492735/attachment.htm
