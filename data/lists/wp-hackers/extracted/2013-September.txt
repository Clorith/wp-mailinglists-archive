From jeff at jeffrose.ca  Sun Sep  1 02:29:41 2013
From: jeff at jeffrose.ca (Jeff Rose)
Date: Sat, 31 Aug 2013 19:29:41 -0700
Subject: [wp-hackers] Unique Admin View for Custom Post Type
Message-ID: <CABWVAyUA9gcOyaRvUcL50j3Tn9nevtPVB5jFTtRYkQsuzfA_1Q@mail.gmail.com>

Hi Everyone:

I'm wondering if there's a tutorial or anyone has an idea of how to present
select users (based on a custom capability) with a unique layout of a
custom post type.

For example:
Custom Post Type might be a Movie and it collects a bunch of metadata using
custom meta-boxes and taxonomies like year, production company, cast,
director etc. (Let's pretend it's like IMDB quantity of data)

For a user/visitor this is presented using a post template through a theme
in a certain manner - that's simple enough.

But the selected user (Admin, content manager) just needs an overview in
perhaps a tabular or 2 column layout to review the data. Perhaps the
content manager can't edit it but still needs to review it.

I hope that makes sense. I did it once but it felt like a hack and not the
best way.

I appreciate any feedback.

From ken.adcstudio at gmail.com  Sun Sep  1 05:36:06 2013
From: ken.adcstudio at gmail.com (Ken Newman)
Date: Sun, 1 Sep 2013 01:36:06 -0400
Subject: [wp-hackers] Unique Admin View for Custom Post Type
In-Reply-To: <CABWVAyUA9gcOyaRvUcL50j3Tn9nevtPVB5jFTtRYkQsuzfA_1Q@mail.gmail.com>
References: <CABWVAyUA9gcOyaRvUcL50j3Tn9nevtPVB5jFTtRYkQsuzfA_1Q@mail.gmail.com>
Message-ID: <196D2C15-629B-474D-A4C9-23A9C726DBC9@gmail.com>

You can do so in your meta box code. Just check for the desired cap, and print the layout of the meta box as you like. You may want to remove support for the standard stuff like editor and whatnot, so that you can handle it your self in the meta box, this way you can not show it to some users. 

On Aug 31, 2013, at 10:29 PM, Jeff Rose <jeff at jeffrose.ca> wrote:

> Hi Everyone:
> 
> I'm wondering if there's a tutorial or anyone has an idea of how to present
> select users (based on a custom capability) with a unique layout of a
> custom post type.
> 
> For example:
> Custom Post Type might be a Movie and it collects a bunch of metadata using
> custom meta-boxes and taxonomies like year, production company, cast,
> director etc. (Let's pretend it's like IMDB quantity of data)
> 
> For a user/visitor this is presented using a post template through a theme
> in a certain manner - that's simple enough.
> 
> But the selected user (Admin, content manager) just needs an overview in
> perhaps a tabular or 2 column layout to review the data. Perhaps the
> content manager can't edit it but still needs to review it.
> 
> I hope that makes sense. I did it once but it felt like a hack and not the
> best way.
> 
> I appreciate any feedback.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jeff at jeffrose.ca  Sun Sep  1 17:50:10 2013
From: jeff at jeffrose.ca (Jeff Rose)
Date: Sun, 1 Sep 2013 10:50:10 -0700
Subject: [wp-hackers] Unique Admin View for Custom Post Type
Message-ID: <CABWVAyX4tb3T2_VDQ45pGyc1pCX7Gc6i_qFgRK=2uG0kC4az1w@mail.gmail.com>

>
> You can do so in your meta box code. Just check for the desired cap, and
> print the layout of the meta box as you like. You may want to remove
> support for the standard stuff like editor and whatnot, so that you can
> handle it your self in the meta box, this way you can not show it to some
> users.


Thanks for the reply Ken. I think I wasn't clear in my question.

The metabox stuff is all fine, I've got that covered.

What I'd like is when the user clicks the "View post" link either from the
publish meta box, the preview link or the view post link (also in Quick
Edit actions), to send the Admin user to a custom page that shows an
entirely different layout of the material. They would be viewing the post
data not in the edit layout, and not in the post layout, but in a custom
(third) view.

 Jeff

From xoodrew at gmail.com  Sun Sep  1 18:15:41 2013
From: xoodrew at gmail.com (Drew)
Date: Sun, 1 Sep 2013 12:15:41 -0600
Subject: [wp-hackers] Unique Admin View for Custom Post Type
In-Reply-To: <CABWVAyX4tb3T2_VDQ45pGyc1pCX7Gc6i_qFgRK=2uG0kC4az1w@mail.gmail.com>
References: <CABWVAyX4tb3T2_VDQ45pGyc1pCX7Gc6i_qFgRK=2uG0kC4az1w@mail.gmail.com>
Message-ID: <CAEJabWjj63TJK0jOADY0MzY8-qE7_UQ5HkjOZGjKnR-A26Q2cA@mail.gmail.com>

Why not just do a current_user_can( 'custom_cap' ) check on the single page
and show a different layout for those users?


On Sun, Sep 1, 2013 at 11:50 AM, Jeff Rose <jeff at jeffrose.ca> wrote:

> >
> > You can do so in your meta box code. Just check for the desired cap, and
> > print the layout of the meta box as you like. You may want to remove
> > support for the standard stuff like editor and whatnot, so that you can
> > handle it your self in the meta box, this way you can not show it to some
> > users.
>
>
> Thanks for the reply Ken. I think I wasn't clear in my question.
>
> The metabox stuff is all fine, I've got that covered.
>
> What I'd like is when the user clicks the "View post" link either from the
> publish meta box, the preview link or the view post link (also in Quick
> Edit actions), to send the Admin user to a custom page that shows an
> entirely different layout of the material. They would be viewing the post
> data not in the edit layout, and not in the post layout, but in a custom
> (third) view.
>
>  Jeff
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
-- I've kinda got a thing for WordPress > http://www.drewapicture.com

From jdg at codesymphony.co  Mon Sep  2 20:13:10 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Mon, 2 Sep 2013 16:13:10 -0400
Subject: [wp-hackers] Reusing WordPress translations of strings in a plugin
Message-ID: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>

I'm writing a plugin and of course I'm trying to do all of the I18n. I'm coming across some strings that need to be translatable, but that are already translated in WordPress core. What I mean is that, for example, the plugin has button with the text 'Save'. When I wrap this in the I18n functions, is there any reason that I should use the plugin's text domain instead of the default? Since that string will already be translated for WP, is there any reason to make folks translate it again for the plugin? I realize that in some cases, we might have to worry about different contexts, or the string eventually being removed from core. But with things like 'Save', 'Delete', 'Close', etc., is there really any reason to use the plugin's text domain, rather than calling the functions without it?

Thanks.

- J.D.

From otto at ottodestruct.com  Mon Sep  2 20:26:57 2013
From: otto at ottodestruct.com (Otto)
Date: Mon, 2 Sep 2013 15:26:57 -0500
Subject: [wp-hackers] Reusing WordPress translations of strings in a
	plugin
In-Reply-To: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
Message-ID: <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>

Yes, you should use your own text domain for these cases.. for exactly
the reasons you already mentioned.

1. Context matters. We use the word "Delete" in English, and it can
have different meanings based on context. In another language, the
context may make two uses of it into different words entirely.

2. Core can change, leaving your plugin untranslated with an update.
It's unlikely to change for something like "Save", but you never know.

3. Folks doing translations have tools (such as glotpress) to help
them. These make the job of translating somewhat easier, and having a
few extra duplicated strings is not as big a deal as you'd think.
Certainly not as big of a deal as them having to work around your
reuse of a string which may be in a different context.

-Otto


On Mon, Sep 2, 2013 at 3:13 PM, J.D. Grimes <jdg at codesymphony.co> wrote:
> I'm writing a plugin and of course I'm trying to do all of the I18n. I'm coming across some strings that need to be translatable, but that are already translated in WordPress core. What I mean is that, for example, the plugin has button with the text 'Save'. When I wrap this in the I18n functions, is there any reason that I should use the plugin's text domain instead of the default? Since that string will already be translated for WP, is there any reason to make folks translate it again for the plugin? I realize that in some cases, we might have to worry about different contexts, or the string eventually being removed from core. But with things like 'Save', 'Delete', 'Close', etc., is there really any reason to use the plugin's text domain, rather than calling the functions without it?
>
> Thanks.
>
> - J.D.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From hamlet11 at hotmail.es  Wed Sep  4 00:27:15 2013
From: hamlet11 at hotmail.es (hamlet)
Date: Wed, 4 Sep 2013 02:27:15 +0200
Subject: [wp-hackers] Change class in form of comment_form()
In-Reply-To: <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
 <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
Message-ID: <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>

Hello, I would like to change class in form element, when I called to 
comment_form I can modify id but I cannot change class. Any idea?

From otto at ottodestruct.com  Wed Sep  4 00:55:00 2013
From: otto at ottodestruct.com (Otto)
Date: Tue, 3 Sep 2013 19:55:00 -0500
Subject: [wp-hackers] Change class in form of comment_form()
In-Reply-To: <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
 <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
 <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>
Message-ID: <CAD-FghzxHVNSvxkcR7izzC3qnAmjMxNk6i54r10OXb8Qa=7u6w@mail.gmail.com>

Why would you need to change the class? You can already change the ID,
so reference it using that ID instead.

-Otto


On Tue, Sep 3, 2013 at 7:27 PM, hamlet <hamlet11 at hotmail.es> wrote:
> Hello, I would like to change class in form element, when I called to
> comment_form I can modify id but I cannot change class. Any idea?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From hamlet11 at hotmail.es  Wed Sep  4 01:08:16 2013
From: hamlet11 at hotmail.es (hamlet)
Date: Wed, 4 Sep 2013 03:08:16 +0200
Subject: [wp-hackers] Change class in form of comment_form()
In-Reply-To: <CAD-FghzxHVNSvxkcR7izzC3qnAmjMxNk6i54r10OXb8Qa=7u6w@mail.gmail.com>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
 <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
 <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>
 <CAD-FghzxHVNSvxkcR7izzC3qnAmjMxNk6i54r10OXb8Qa=7u6w@mail.gmail.com>
Message-ID: <BLU0-SMTP2598BDDF3175D6A32E6A975A1320@phx.gbl>

I cannot modify CSS in my project, therefore I must change class. I had 
thinking to use jQuery, but I don't like this solution.

Thanks.

On 04/09/13 02:55, Otto wrote:
> Why would you need to change the class? You can already change the ID,
> so reference it using that ID instead.
>
> -Otto
>
>
> On Tue, Sep 3, 2013 at 7:27 PM, hamlet <hamlet11 at hotmail.es> wrote:
>> Hello, I would like to change class in form element, when I called to
>> comment_form I can modify id but I cannot change class. Any idea?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>


From otto at ottodestruct.com  Wed Sep  4 01:37:30 2013
From: otto at ottodestruct.com (Otto)
Date: Tue, 3 Sep 2013 20:37:30 -0500
Subject: [wp-hackers] Change class in form of comment_form()
In-Reply-To: <BLU0-SMTP2598BDDF3175D6A32E6A975A1320@phx.gbl>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
 <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
 <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>
 <CAD-FghzxHVNSvxkcR7izzC3qnAmjMxNk6i54r10OXb8Qa=7u6w@mail.gmail.com>
 <BLU0-SMTP2598BDDF3175D6A32E6A975A1320@phx.gbl>
Message-ID: <CAD-FghxJ4ZD51nQ1SsUrHg5MB=fNF=m8a95LEzgvT74oXMHPJw@mail.gmail.com>

Why can you not modify the CSS? The correct way would be to change the
CSS to describe the look of the HTML, not the other way around.

-Otto


On Tue, Sep 3, 2013 at 8:08 PM, hamlet <hamlet11 at hotmail.es> wrote:
> I cannot modify CSS in my project, therefore I must change class. I had
> thinking to use jQuery, but I don't like this solution.
>
> Thanks.
>
>
> On 04/09/13 02:55, Otto wrote:
>>
>> Why would you need to change the class? You can already change the ID,
>> so reference it using that ID instead.
>>
>> -Otto
>>
>>
>> On Tue, Sep 3, 2013 at 7:27 PM, hamlet <hamlet11 at hotmail.es> wrote:
>>>
>>> Hello, I would like to change class in form element, when I called to
>>> comment_form I can modify id but I cannot change class. Any idea?
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From lists at rotorised.com  Wed Sep  4 02:14:01 2013
From: lists at rotorised.com (Ryan McCue)
Date: Wed, 04 Sep 2013 12:14:01 +1000
Subject: [wp-hackers] Change class in form of comment_form()
In-Reply-To: <CAD-FghxJ4ZD51nQ1SsUrHg5MB=fNF=m8a95LEzgvT74oXMHPJw@mail.gmail.com>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
 <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
 <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>
 <CAD-FghzxHVNSvxkcR7izzC3qnAmjMxNk6i54r10OXb8Qa=7u6w@mail.gmail.com>
 <BLU0-SMTP2598BDDF3175D6A32E6A975A1320@phx.gbl>
 <CAD-FghxJ4ZD51nQ1SsUrHg5MB=fNF=m8a95LEzgvT74oXMHPJw@mail.gmail.com>
Message-ID: <52269769.50108@rotorised.com>

Otto wrote:
> Why can you not modify the CSS? The correct way would be to change the
> CSS to describe the look of the HTML, not the other way around.

Seems a little ridiculous to not be able to change the class though. I'm
surprised that you can change the ID and not the class, I'd expect it to
be the other way around.

Keep in mind that if you're using an existing framework, it might be a
pain (without a CSS preprocessor at least) to style IDs rather than
classes. It's also a little kludgy.
-- 
Ryan McCue
<http://ryanmccue.info/>

From otto at ottodestruct.com  Wed Sep  4 02:42:31 2013
From: otto at ottodestruct.com (Otto)
Date: Tue, 3 Sep 2013 21:42:31 -0500
Subject: [wp-hackers] Change class in form of comment_form()
In-Reply-To: <52269769.50108@rotorised.com>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
 <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
 <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>
 <CAD-FghzxHVNSvxkcR7izzC3qnAmjMxNk6i54r10OXb8Qa=7u6w@mail.gmail.com>
 <BLU0-SMTP2598BDDF3175D6A32E6A975A1320@phx.gbl>
 <CAD-FghxJ4ZD51nQ1SsUrHg5MB=fNF=m8a95LEzgvT74oXMHPJw@mail.gmail.com>
 <52269769.50108@rotorised.com>
Message-ID: <CAD-Fghz+QHMmUvz+wK=KfBQ+AoxCg+eE_W+EZVxZ-0L_c6vhXw@mail.gmail.com>

On Tue, Sep 3, 2013 at 9:14 PM, Ryan McCue <lists at rotorised.com> wrote:
> Seems a little ridiculous to not be able to change the class though. I'm
> surprised that you can change the ID and not the class, I'd expect it to
> be the other way around.

You can change the ID in case you're using a system by which you put
more than one comment form on the page (ala P2 and similar). The ID
must be unique, so you can change it to be so if needed.

> Keep in mind that if you're using an existing framework, it might be a
> pain (without a CSS preprocessor at least) to style IDs rather than
> classes. It's also a little kludgy.

If the framework doesn't let you address document elements by ID, then
I'd say that's a rather strange framework indeed. What is so hard
about using #comment-form instead of .comment-form?

If you're referring to a specific element, then ID is the correct way
to do that. If you just want to refer to it by class for some reason,
well, then .comment-form works just fine.

My question is, in what realistic situation should you be changing the
HTML in order to achieve a targeting improvement via CSS? Remember
that you have control over the ID of the element in question, so it's
not a matter of not being able to target it directly if desired. CSS
should be changed to achieve stylistic changes, not the other way
around.

-Otto

From danielx386 at gmail.com  Wed Sep  4 02:50:00 2013
From: danielx386 at gmail.com (Daniel)
Date: Wed, 4 Sep 2013 12:50:00 +1000
Subject: [wp-hackers] Change class in form of comment_form()
In-Reply-To: <CAD-Fghz+QHMmUvz+wK=KfBQ+AoxCg+eE_W+EZVxZ-0L_c6vhXw@mail.gmail.com>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
 <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
 <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>
 <CAD-FghzxHVNSvxkcR7izzC3qnAmjMxNk6i54r10OXb8Qa=7u6w@mail.gmail.com>
 <BLU0-SMTP2598BDDF3175D6A32E6A975A1320@phx.gbl>
 <CAD-FghxJ4ZD51nQ1SsUrHg5MB=fNF=m8a95LEzgvT74oXMHPJw@mail.gmail.com>
 <52269769.50108@rotorised.com>
 <CAD-Fghz+QHMmUvz+wK=KfBQ+AoxCg+eE_W+EZVxZ-0L_c6vhXw@mail.gmail.com>
Message-ID: <CAJ5Hi2hs8bBvauZJpLJhrp9R4S1BaNr6zqtLW4om5k83gsWnKA@mail.gmail.com>

One case is that want your wp site to match the rest of our website or
forum (phpbb comes to mind)

On 9/4/13, Otto <otto at ottodestruct.com> wrote:
> On Tue, Sep 3, 2013 at 9:14 PM, Ryan McCue <lists at rotorised.com> wrote:
>> Seems a little ridiculous to not be able to change the class though. I'm
>> surprised that you can change the ID and not the class, I'd expect it to
>> be the other way around.
>
> You can change the ID in case you're using a system by which you put
> more than one comment form on the page (ala P2 and similar). The ID
> must be unique, so you can change it to be so if needed.
>
>> Keep in mind that if you're using an existing framework, it might be a
>> pain (without a CSS preprocessor at least) to style IDs rather than
>> classes. It's also a little kludgy.
>
> If the framework doesn't let you address document elements by ID, then
> I'd say that's a rather strange framework indeed. What is so hard
> about using #comment-form instead of .comment-form?
>
> If you're referring to a specific element, then ID is the correct way
> to do that. If you just want to refer to it by class for some reason,
> well, then .comment-form works just fine.
>
> My question is, in what realistic situation should you be changing the
> HTML in order to achieve a targeting improvement via CSS? Remember
> that you have control over the ID of the element in question, so it's
> not a matter of not being able to target it directly if desired. CSS
> should be changed to achieve stylistic changes, not the other way
> around.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards,
Daniel Fenn

From otto at ottodestruct.com  Wed Sep  4 02:55:02 2013
From: otto at ottodestruct.com (Otto)
Date: Tue, 3 Sep 2013 21:55:02 -0500
Subject: [wp-hackers] Change class in form of comment_form()
In-Reply-To: <CAJ5Hi2hs8bBvauZJpLJhrp9R4S1BaNr6zqtLW4om5k83gsWnKA@mail.gmail.com>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
 <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
 <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>
 <CAD-FghzxHVNSvxkcR7izzC3qnAmjMxNk6i54r10OXb8Qa=7u6w@mail.gmail.com>
 <BLU0-SMTP2598BDDF3175D6A32E6A975A1320@phx.gbl>
 <CAD-FghxJ4ZD51nQ1SsUrHg5MB=fNF=m8a95LEzgvT74oXMHPJw@mail.gmail.com>
 <52269769.50108@rotorised.com>
 <CAD-Fghz+QHMmUvz+wK=KfBQ+AoxCg+eE_W+EZVxZ-0L_c6vhXw@mail.gmail.com>
 <CAJ5Hi2hs8bBvauZJpLJhrp9R4S1BaNr6zqtLW4om5k83gsWnKA@mail.gmail.com>
Message-ID: <CAD-Fghxmkszg9niizMQZmAEoDzzOagyhZKmg0+fggAVsO+M1ow@mail.gmail.com>

On Tue, Sep 3, 2013 at 9:50 PM, Daniel <danielx386 at gmail.com> wrote:
> One case is that want your wp site to match the rest of our website or
> forum (phpbb comes to mind)

Okay, but in that case you would add rules to the CSS to add the
necessary styling to it look the same, or similar, to whatever you
want to make it look like. You wouldn't change the classes of the HTML
to fit some random CSS that was designed for something else entirely.
That isn't how CSS works.

-Otto

From david at wordshell.net  Wed Sep  4 06:38:16 2013
From: david at wordshell.net (David Anderson)
Date: Wed, 04 Sep 2013 07:38:16 +0100
Subject: [wp-hackers] Running wp-load.php on a multisite
Message-ID: <5226D558.8020209@wordshell.net>

Hi,

I've become used to writing little scripts like this to do quick tests 
on WordPress sites from the shell (the script would go in the site 
directory):

<?php require_once('wp-load.php'); do_action('something'); ?>

This doesn't appear to work on a multisite install - the require_once() 
call never returns.

Presumably it's because when running from the shell, WP can't determine 
which 'site' is being loaded?

Question: Is there a way I can achieve what I'm aiming for? i.e. To run 
code within the WP environment?

David

-- 
WordShell - WordPress fast from the CLI - www.wordshell.net


From hamlet11 at hotmail.es  Wed Sep  4 11:43:41 2013
From: hamlet11 at hotmail.es (hamlet)
Date: Wed, 4 Sep 2013 13:43:41 +0200
Subject: [wp-hackers] Change class in form of comment_form()
In-Reply-To: <CAD-Fghxmkszg9niizMQZmAEoDzzOagyhZKmg0+fggAVsO+M1ow@mail.gmail.com>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
 <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
 <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>
 <CAD-FghzxHVNSvxkcR7izzC3qnAmjMxNk6i54r10OXb8Qa=7u6w@mail.gmail.com>
 <BLU0-SMTP2598BDDF3175D6A32E6A975A1320@phx.gbl>
 <CAD-FghxJ4ZD51nQ1SsUrHg5MB=fNF=m8a95LEzgvT74oXMHPJw@mail.gmail.com>
 <52269769.50108@rotorised.com>
 <CAD-Fghz+QHMmUvz+wK=KfBQ+AoxCg+eE_W+EZVxZ-0L_c6vhXw@mail.gmail.com>
 <CAJ5Hi2hs8bBvauZJpLJhrp9R4S1BaNr6zqtLW4om5k83gsWnKA@mail.gmail.com>
 <CAD-Fghxmkszg9niizMQZmAEoDzzOagyhZKmg0+fggAVsO+M1ow@mail.gmail.com>
Message-ID: <BLU0-SMTP44472C537F35FDFD24043D7A1320@phx.gbl>

My case is similar, I am using Bootstrap, therefore the original file 
cannot be changed, I have my own file, but I should copy style from 
Bootstrap file to my file, I don't like repeat (exactly)same code, It is 
very dirty.


On 04/09/13 04:55, Otto wrote:
> On Tue, Sep 3, 2013 at 9:50 PM, Daniel <danielx386 at gmail.com> wrote:
>> One case is that want your wp site to match the rest of our website or
>> forum (phpbb comes to mind)
> Okay, but in that case you would add rules to the CSS to add the
> necessary styling to it look the same, or similar, to whatever you
> want to make it look like. You wouldn't change the classes of the HTML
> to fit some random CSS that was designed for something else entirely.
> That isn't how CSS works.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>


From lists at rotorised.com  Wed Sep  4 13:59:27 2013
From: lists at rotorised.com (Ryan McCue)
Date: Wed, 04 Sep 2013 23:59:27 +1000
Subject: [wp-hackers] Change class in form of comment_form()
In-Reply-To: <CAD-Fghz+QHMmUvz+wK=KfBQ+AoxCg+eE_W+EZVxZ-0L_c6vhXw@mail.gmail.com>
References: <CFD87FEB-C6D4-4D25-A6EC-505981F33FF2@codesymphony.co>
 <CAD-Fghxi4w=DzfwowY-PtWG-=uXoRG+33Mb+_KThStUuuCEHGQ@mail.gmail.com>
 <BLU0-SMTP65DA39AFF28C582FB1E469A1320@phx.gbl>
 <CAD-FghzxHVNSvxkcR7izzC3qnAmjMxNk6i54r10OXb8Qa=7u6w@mail.gmail.com>
 <BLU0-SMTP2598BDDF3175D6A32E6A975A1320@phx.gbl>
 <CAD-FghxJ4ZD51nQ1SsUrHg5MB=fNF=m8a95LEzgvT74oXMHPJw@mail.gmail.com>
 <52269769.50108@rotorised.com>
 <CAD-Fghz+QHMmUvz+wK=KfBQ+AoxCg+eE_W+EZVxZ-0L_c6vhXw@mail.gmail.com>
Message-ID: <52273CBF.108@rotorised.com>

Otto wrote:
> If the framework doesn't let you address document elements by ID, then
> I'd say that's a rather strange framework indeed. What is so hard
> about using #comment-form instead of .comment-form?

Because maybe my #comment-form is also a .section, and maybe a .large-form.

Easy enough with preprocessors (#comment-form { @extend .section;
@extend .large-form }), but not with normal CSS without duplicating all
the existing styles.

(Otherwise you end up with something like wp-admin's CSS, which is
frankly ridiculous.)

-- 
Ryan McCue
<http://ryanmccue.info/>

From public at ryanb.org  Wed Sep  4 14:57:59 2013
From: public at ryanb.org (Ryan Barrett)
Date: Wed, 4 Sep 2013 07:57:59 -0700
Subject: [wp-hackers] where to submit a theme patch?
Message-ID: <CA+caGh9PTpRVyVDqGxkEX5UnqP=Gdhxb+Mjm1Ms4VLVLSSUO8Q@mail.gmail.com>

hi! i'd like to submit a patch to a theme that's written by automattic and
hosted on the themes trac: http://themes.trac.wordpress.org/ . i'd open a
new ticket there, but my (normal user) account evidently doesn't have
permission. i started to open a ticket on the core trac,
http://core.trac.wordpress.org/ , but that didn't seem right.

does anyone know what i should do? thanks in advance!
-- 
http://snarfed.org/

From otto at ottodestruct.com  Wed Sep  4 15:40:15 2013
From: otto at ottodestruct.com (Otto)
Date: Wed, 4 Sep 2013 10:40:15 -0500
Subject: [wp-hackers] where to submit a theme patch?
In-Reply-To: <CA+caGh9PTpRVyVDqGxkEX5UnqP=Gdhxb+Mjm1Ms4VLVLSSUO8Q@mail.gmail.com>
References: <CA+caGh9PTpRVyVDqGxkEX5UnqP=Gdhxb+Mjm1Ms4VLVLSSUO8Q@mail.gmail.com>
Message-ID: <CAD-FghxcWnZwuezKCY=M+zifz=4WeCiE9suMfSruSED+ZsjBvQ@mail.gmail.com>

Post a support thread about the problem on the theme itself, in the
support forums.

At the top of each theme is a tab for "Support" where you can see
threads about that theme.


-Otto


On Wed, Sep 4, 2013 at 9:57 AM, Ryan Barrett <public at ryanb.org> wrote:
> hi! i'd like to submit a patch to a theme that's written by automattic and
> hosted on the themes trac: http://themes.trac.wordpress.org/ . i'd open a
> new ticket there, but my (normal user) account evidently doesn't have
> permission. i started to open a ticket on the core trac,
> http://core.trac.wordpress.org/ , but that didn't seem right.
>
> does anyone know what i should do? thanks in advance!
> --
> http://snarfed.org/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From marka999 at hushmail.com  Wed Sep  4 21:05:32 2013
From: marka999 at hushmail.com (marka999 at hushmail.com)
Date: Wed, 04 Sep 2013 14:05:32 -0700
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
Message-ID: <20130904210532.CD268C056C@smtp.hushmail.com>

I need a recommendation for a secure and affordable host ASAP. My
current host was hacked, some idiot replaced the 404 template on my
theme. It wasn't too bad but I lost all trust in my current host and
want to move as soon as possible. I am on a bit of a budget though.
Apparently this host I have now was just too cheap to care though.

From mickyhulse.lists at gmail.com  Wed Sep  4 21:10:54 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Wed, 4 Sep 2013 14:10:54 -0700
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <20130904210532.CD268C056C@smtp.hushmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
Message-ID: <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>

I'm a huge fan of http://webfaction.com (no affiliation, just my
current hosting company of choice).

From whsatterwhite at gmail.com  Wed Sep  4 21:13:11 2013
From: whsatterwhite at gmail.com (William Satterwhite)
Date: Wed, 4 Sep 2013 17:13:11 -0400
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
Message-ID: <CAGbA+aZL-zrXdJoxu4Jk2KRNc9qn4L7M4ETEug+cdxWTv+qQfw@mail.gmail.com>

http://www.tigertech.net/

On Wednesday, September 4, 2013, Micky Hulse wrote:

> I'm a huge fan of http://webfaction.com (no affiliation, just my
> current hosting company of choice).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com <javascript:;>
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Hunter Satterwhite
http://linkedin.com/in/hsatterwhite
(252) 762-5177

From joshua.sibelman at gmail.com  Wed Sep  4 21:17:23 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Wed, 4 Sep 2013 14:17:23 -0700
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
 WordPress host
In-Reply-To: <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
Message-ID: <CF6E58FED29D4953A3BE2B7DD3441772@gmail.com>

Big second to this one. They're great. 


On Wednesday, September 4, 2013 at 2:10 PM, Micky Hulse wrote:

> I'm a huge fan of http://webfaction.com (no affiliation, just my
> current hosting company of choice).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 



From marka999 at hushmail.com  Wed Sep  4 21:20:09 2013
From: marka999 at hushmail.com (marka999 at hushmail.com)
Date: Wed, 04 Sep 2013 14:20:09 -0700
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <CF6E58FED29D4953A3BE2B7DD3441772@gmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
 <CF6E58FED29D4953A3BE2B7DD3441772@gmail.com>
Message-ID: <20130904212009.73FFCC056C@smtp.hushmail.com>

That looks quite interesting. It mentions SSH access. Is it a VPS?
Seems kinda cheap for a VPS and I question the security of a shared
server with SSH access.
On 9/4/2013 at 2:17 PM, "Josh"  wrote:Big second to this one. They're
great. 
On Wednesday, September 4, 2013 at 2:10 PM, Micky Hulse wrote:

> I'm a huge fan of http://webfaction.com (no affiliation, just my
> current hosting company of choice).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
(mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jdg at codesymphony.co  Wed Sep  4 21:20:57 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Wed, 4 Sep 2013 17:20:57 -0400
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <20130904210532.CD268C056C@smtp.hushmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
Message-ID: <9389165A-35EC-4793-86C1-D50BF1B34F12@codesymphony.co>

I just want to note that there are lots of other things that can attribute to insecurity, not just your host. Are you sure that this wasn't caused by a vulnerability in the theme, or one of the plugins that you are running? Not saying that it wasn't your host's fault, but don't think that just because you got hacked it means your host is bad. Of course, their response says a lot about how much you can trust them to be there for you. If they didn't seem to care, then by all means, switch hosts.

On Sep 4, 2013, at 5:05 PM, marka999 at hushmail.com wrote:

> I need a recommendation for a secure and affordable host ASAP. My
> current host was hacked, some idiot replaced the 404 template on my
> theme. It wasn't too bad but I lost all trust in my current host and
> want to move as soon as possible. I am on a bit of a budget though.
> Apparently this host I have now was just too cheap to care though.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From marka999 at hushmail.com  Wed Sep  4 21:24:57 2013
From: marka999 at hushmail.com (marka999 at hushmail.com)
Date: Wed, 04 Sep 2013 14:24:57 -0700
Subject: [wp-hackers]
	=?utf-8?q?Recommendations_for_an_affordable=2C_SECUR?=
	=?utf-8?q?E=2C=09WordPress_host?=
In-Reply-To: <9389165A-35EC-4793-86C1-D50BF1B34F12@codesymphony.co>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <9389165A-35EC-4793-86C1-D50BF1B34F12@codesymphony.co>
Message-ID: <20130904212458.1E962C056C@smtp.hushmail.com>

I can tell from the logs one of their other customers exploited their
server to access my theme files. My hosts response...we terminated the
offending account.

On 9/4/2013 at 2:21 PM, "J.D. Grimes"  wrote:I just want to note that
there are lots of other things that can attribute to insecurity, not
just your host. Are you sure that this wasn't caused by a
vulnerability in the theme, or one of the plugins that you are
running? Not saying that it wasn't your host's fault, but don't think
that just because you got hacked it means your host is bad. Of course,
their response says a lot about how much you can trust them to be
there for you. If they didn't seem to care, then by all means, switch
hosts.

On Sep 4, 2013, at 5:05 PM, marka999 at hushmail.com wrote:

> I need a recommendation for a secure and affordable host ASAP. My
> current host was hacked, some idiot replaced the 404 template on my
> theme. It wasn't too bad but I lost all trust in my current host and
> want to move as soon as possible. I am on a bit of a budget though.
> Apparently this host I have now was just too cheap to care though.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mickyhulse.lists at gmail.com  Wed Sep  4 21:31:24 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Wed, 4 Sep 2013 14:31:24 -0700
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <20130904212009.73FFCC056C@smtp.hushmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
 <CF6E58FED29D4953A3BE2B7DD3441772@gmail.com>
 <20130904212009.73FFCC056C@smtp.hushmail.com>
Message-ID: <CALri7MnJH6PjyCF+Zf1Rv4VG8D8K=2rdK2NmhuaZTc7uN0ZvxA@mail.gmail.com>

On Wed, Sep 4, 2013 at 2:20 PM,  <marka999 at hushmail.com> wrote:
> That looks quite interesting. It mentions SSH access. Is it a VPS?
> Seems kinda cheap for a VPS and I question the security of a shared
> server with SSH access.

This is an older article, but it seems to answer your question:

<http://www.ravelrumba.com/blog/webfaction-web-host-review/>

Since that article is older, I know WF has improved since then.

For me, the price was perfect and I have no complaints (been with them
for 'bout 3 years).

I guess you'll have to weigh your options though ... If you have any
specific questions, they are very responsive:

http://community.webfaction.com/
http://docs.webfaction.com/user-guide/help.html

Good luck!

From joshua.sibelman at gmail.com  Wed Sep  4 21:35:52 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Wed, 4 Sep 2013 14:35:52 -0700
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
 WordPress host
In-Reply-To: <20130904212009.73FFCC056C@smtp.hushmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
 <CF6E58FED29D4953A3BE2B7DD3441772@gmail.com>
 <20130904212009.73FFCC056C@smtp.hushmail.com>
Message-ID: <DB37B14A00284CF190D0D25B7D5171B5@gmail.com>

I've been hosting sites with them for a number of years now and this hasn't been an issue for me.  


On Wednesday, September 4, 2013 at 2:20 PM, marka999 at hushmail.com wrote:

> That looks quite interesting. It mentions SSH access. Is it a VPS?
> Seems kinda cheap for a VPS and I question the security of a shared
> server with SSH access.
> On 9/4/2013 at 2:17 PM, "Josh" wrote:Big second to this one. They're
> great. 
> On Wednesday, September 4, 2013 at 2:10 PM, Micky Hulse wrote:
> 
> > I'm a huge fan of http://webfaction.com (no affiliation, just my
> > current hosting company of choice).
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > 
> 
> (mailto:wp-hackers at lists.automattic.com)
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 



From marka999 at hushmail.com  Wed Sep  4 23:52:25 2013
From: marka999 at hushmail.com (marka999 at hushmail.com)
Date: Wed, 04 Sep 2013 16:52:25 -0700
Subject: [wp-hackers]
	=?utf-8?q?Recommendations_for_an_affordable=2C_SECUR?=
	=?utf-8?q?E=2C=09WordPress_host?=
In-Reply-To: <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
Message-ID: <20130904235225.B622BC05B2@smtp.hushmail.com>

I got a very quick response from their sales team. So since it also
has a 60 day money back guarantee I tried it. So far it seems really
nice.

On 9/4/2013 at 2:11 PM, "Micky Hulse"  wrote:I'm a huge fan of
http://webfaction.com (no affiliation, just my
current hosting company of choice).
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mickyhulse.lists at gmail.com  Thu Sep  5 00:49:39 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Wed, 4 Sep 2013 17:49:39 -0700
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <20130904235225.B622BC05B2@smtp.hushmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
 <20130904235225.B622BC05B2@smtp.hushmail.com>
Message-ID: <CALri7MkpEWGc67gvRYrpngs1qmr5mtZhuWeTGUHrjKdBmqPpmw@mail.gmail.com>

On Wed, Sep 4, 2013 at 4:52 PM,  <marka999 at hushmail.com> wrote:
> I got a very quick response from their sales team. So since it also
> has a 60 day money back guarantee I tried it. So far it seems really
> nice.

Wow, that's cool! I don't think you will be disappointed.

Have fun!

Cheers,
Micky

From marka999 at hushmail.com  Thu Sep  5 01:54:39 2013
From: marka999 at hushmail.com (marka999 at hushmail.com)
Date: Wed, 04 Sep 2013 18:54:39 -0700
Subject: [wp-hackers]
	=?utf-8?q?Recommendations_for_an_affordable=2C_SECUR?=
	=?utf-8?q?E=2C=09WordPress_host?=
In-Reply-To: <CALri7MkpEWGc67gvRYrpngs1qmr5mtZhuWeTGUHrjKdBmqPpmw@mail.gmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
 <20130904235225.B622BC05B2@smtp.hushmail.com>
 <CALri7MkpEWGc67gvRYrpngs1qmr5mtZhuWeTGUHrjKdBmqPpmw@mail.gmail.com>
Message-ID: <20130905015440.0B25CC05A4@smtp.hushmail.com>

Another thing I am looking into to help catch this kind of thing
sooner in the future is to run this plugin, or something like it
http://wordpress.org/plugins/wordpress-file-monitor-plus/

Anyone have any experience with this. Any other recommendations for
security plugins?
On 9/4/2013 at 5:50 PM, "Micky Hulse"  wrote:On Wed, Sep 4, 2013 at
4:52 PM,   wrote:
> I got a very quick response from their sales team. So since it also
> has a 60 day money back guarantee I tried it. So far it seems really
> nice.

Wow, that's cool! I don't think you will be disappointed.

Have fun!

Cheers,
Micky
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From nikolov.tmw at gmail.com  Thu Sep  5 06:52:05 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Thu, 5 Sep 2013 09:52:05 +0300
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <20130905015440.0B25CC05A4@smtp.hushmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
 <20130904235225.B622BC05B2@smtp.hushmail.com>
 <CALri7MkpEWGc67gvRYrpngs1qmr5mtZhuWeTGUHrjKdBmqPpmw@mail.gmail.com>
 <20130905015440.0B25CC05A4@smtp.hushmail.com>
Message-ID: <CAOwx47cgTbAF_N_SSzLrcyKqQyA3mQpJz3WoYsTrr+6YAX2gsg@mail.gmail.com>

I would recommend you Wordfence Security -
http://wordpress.org/plugins/wordfence/ . Besides monitoring for changed
files, it also can send you emails when an admin user logs in, when a
theme/plugin/WordPress needs an update and lots of other things.

I'm pretty happy with the free version for now.


On Thu, Sep 5, 2013 at 4:54 AM, <marka999 at hushmail.com> wrote:

> Another thing I am looking into to help catch this kind of thing
> sooner in the future is to run this plugin, or something like it
> http://wordpress.org/plugins/wordpress-file-monitor-plus/
>
> Anyone have any experience with this. Any other recommendations for
> security plugins?
> On 9/4/2013 at 5:50 PM, "Micky Hulse"  wrote:On Wed, Sep 4, 2013 at
> 4:52 PM,   wrote:
> > I got a very quick response from their sales team. So since it also
> > has a 60 day money back guarantee I tried it. So far it seems really
> > nice.
>
> Wow, that's cool! I don't think you will be disappointed.
>
> Have fun!
>
> Cheers,
> Micky
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mailing at markoheijnen.nl  Thu Sep  5 06:57:00 2013
From: mailing at markoheijnen.nl (Marko Heijnen)
Date: Thu, 5 Sep 2013 08:57:00 +0200
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <CAOwx47cgTbAF_N_SSzLrcyKqQyA3mQpJz3WoYsTrr+6YAX2gsg@mail.gmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CALri7M=QMt1cTTC7p2ZKD1euwH7CsMi8+cP-9AW=PzwVu-agAw@mail.gmail.com>
 <20130904235225.B622BC05B2@smtp.hushmail.com>
 <CALri7MkpEWGc67gvRYrpngs1qmr5mtZhuWeTGUHrjKdBmqPpmw@mail.gmail.com>
 <20130905015440.0B25CC05A4@smtp.hushmail.com>
 <CAOwx47cgTbAF_N_SSzLrcyKqQyA3mQpJz3WoYsTrr+6YAX2gsg@mail.gmail.com>
Message-ID: <9A67D031-BB64-45FD-B3EA-7672E389E717@markoheijnen.nl>

When you do using wordfence. Please watch out with the settings you are using. The real-time view can really kill your server.
 
Op 5 sep. 2013, om 08:52 heeft Nikola Nikolov <nikolov.tmw at gmail.com> het volgende geschreven:

> I would recommend you Wordfence Security -
> http://wordpress.org/plugins/wordfence/ . Besides monitoring for changed
> files, it also can send you emails when an admin user logs in, when a
> theme/plugin/WordPress needs an update and lots of other things.
> 
> I'm pretty happy with the free version for now.
> 
> 
> On Thu, Sep 5, 2013 at 4:54 AM, <marka999 at hushmail.com> wrote:
> 
>> Another thing I am looking into to help catch this kind of thing
>> sooner in the future is to run this plugin, or something like it
>> http://wordpress.org/plugins/wordpress-file-monitor-plus/
>> 
>> Anyone have any experience with this. Any other recommendations for
>> security plugins?
>> On 9/4/2013 at 5:50 PM, "Micky Hulse"  wrote:On Wed, Sep 4, 2013 at
>> 4:52 PM,   wrote:
>>> I got a very quick response from their sales team. So since it also
>>> has a 60 day money back guarantee I tried it. So far it seems really
>>> nice.
>> 
>> Wow, that's cool! I don't think you will be disappointed.
>> 
>> Have fun!
>> 
>> Cheers,
>> Micky
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From tcbarrett at gmail.com  Thu Sep  5 07:06:30 2013
From: tcbarrett at gmail.com (Tom Barrett)
Date: Thu, 5 Sep 2013 08:06:30 +0100
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <20130904210532.CD268C056C@smtp.hushmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
Message-ID: <CAEgmxaYrc9+bG8OdwYP3FEx915mxkd01iL+Tw1OAbLGoxd5Jzw@mail.gmail.com>

I recommend getting a sysadmin, or similar, who can build from VPS for you.

// Sent by Nexus
On 4 Sep 2013 22:05, <marka999 at hushmail.com> wrote:

> I need a recommendation for a secure and affordable host ASAP. My
> current host was hacked, some idiot replaced the 404 template on my
> theme. It wasn't too bad but I lost all trust in my current host and
> want to move as soon as possible. I am on a bit of a budget though.
> Apparently this host I have now was just too cheap to care though.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mario at peshev.net  Thu Sep  5 07:19:46 2013
From: mario at peshev.net (Mario Peshev)
Date: Thu, 5 Sep 2013 10:19:46 +0300
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <CAEgmxaYrc9+bG8OdwYP3FEx915mxkd01iL+Tw1OAbLGoxd5Jzw@mail.gmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <CAEgmxaYrc9+bG8OdwYP3FEx915mxkd01iL+Tw1OAbLGoxd5Jzw@mail.gmail.com>
Message-ID: <CAN_8tK5Vg5T4VUAEUZCs_qNVSFqyth7-_kbgUb2whqYH2EnchA@mail.gmail.com>

The GoGeek plan of SiteGround -
http://www.siteground.com/wordpress-hosting.htm - Managed hosting with all
the other perks of regular one (ssh, email etc) plus extensive security.


Mario Peshev
WordPress Engineer, Open Source Consultant
http://www.linkedin.com/in/mpeshev
http://me.peshev.net



On Thu, Sep 5, 2013 at 10:06 AM, Tom Barrett <tcbarrett at gmail.com> wrote:

> I recommend getting a sysadmin, or similar, who can build from VPS for you.
>
> // Sent by Nexus
> On 4 Sep 2013 22:05, <marka999 at hushmail.com> wrote:
>
> > I need a recommendation for a secure and affordable host ASAP. My
> > current host was hacked, some idiot replaced the 404 template on my
> > theme. It wasn't too bad but I lost all trust in my current host and
> > want to move as soon as possible. I am on a bit of a budget though.
> > Apparently this host I have now was just too cheap to care though.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From patricklaverty at gmail.com  Thu Sep  5 18:50:01 2013
From: patricklaverty at gmail.com (Patrick Laverty)
Date: Thu, 5 Sep 2013 14:50:01 -0400
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
In-Reply-To: <20130904212458.1E962C056C@smtp.hushmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <9389165A-35EC-4793-86C1-D50BF1B34F12@codesymphony.co>
 <20130904212458.1E962C056C@smtp.hushmail.com>
Message-ID: <CA+yLaAsiNkAdUps=Pnu9f5PpQftMqj3zbeCSO3xfoL9U-KN+dw@mail.gmail.com>

On Wed, Sep 4, 2013 at 5:24 PM, <marka999 at hushmail.com> wrote:

> I can tell from the logs one of their other customers exploited their
> server to access my theme files. My hosts response...we terminated the
> offending account.



Sounds like that host was vulnerable to the symlink hack. I don't know this
for a fact, but if accounts are not properly jailed off from each other,
this is certainly possible.

http://thecybersaviours.com/wordpress-hack-through-symlink-bypass

From marka999 at hushmail.com  Fri Sep  6 04:42:57 2013
From: marka999 at hushmail.com (marka999 at hushmail.com)
Date: Thu, 05 Sep 2013 21:42:57 -0700
Subject: [wp-hackers]
	=?utf-8?q?Recommendations_for_an_affordable=2C_SECUR?=
	=?utf-8?q?E=2C=09WordPress_host?=
In-Reply-To: <CA+yLaAsiNkAdUps=Pnu9f5PpQftMqj3zbeCSO3xfoL9U-KN+dw@mail.gmail.com>
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <9389165A-35EC-4793-86C1-D50BF1B34F12@codesymphony.co>
 <20130904212458.1E962C056C@smtp.hushmail.com>
 <CA+yLaAsiNkAdUps=Pnu9f5PpQftMqj3zbeCSO3xfoL9U-KN+dw@mail.gmail.com>
Message-ID: <20130906044257.B45D8200E0@smtp.hushmail.com>

The host has no clue what he is doing. Its clear to me know its just a
one man show by someone with no real skills. I should have known
better with how cheap it was, but I needed a host quickly and
inexpensively. This was a case of I got what I paid for. I even
prepaid for a full year because it was such a good deal. BAD MISTAKE.
He won't even give me a prorated refund due to the circumstances.

Moral of the story, STAY AWAY from ideastack.com.

On Thursday, September 05, 2013 at 11:50 AM, "Patrick Laverty" 
wrote:On Wed, Sep 4, 2013 at 5:24 PM,  wrote:

> I can tell from the logs one of their other customers exploited
their
> server to access my theme files. My hosts response...we terminated
the
> offending account.
Sounds like that host was vulnerable to the symlink hack. I don't know
this
for a fact, but if accounts are not properly jailed off from each
other,
this is certainly possible.

http://thecybersaviours.com/wordpress-hack-through-symlink-bypass
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From guus at inspiration-for-success.com  Fri Sep  6 05:09:27 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Fri, 6 Sep 2013 13:09:27 +0800
Subject: [wp-hackers] Recommendations for an affordable, SECURE,
	WordPress host
References: <20130904210532.CD268C056C@smtp.hushmail.com>
 <9389165A-35EC-4793-86C1-D50BF1B34F12@codesymphony.co>
 <20130904212458.1E962C056C@smtp.hushmail.com>
 <CA+yLaAsiNkAdUps=Pnu9f5PpQftMqj3zbeCSO3xfoL9U-KN+dw@mail.gmail.com>
 <20130906044257.B45D8200E0@smtp.hushmail.com>
Message-ID: <0834AA0ED77E443D844E53A7785F680A@megaheights.net>

Better focus on the good. I am using different hosting providers and they 
all did an do a good job: Hostgator, Bluehost and Lypha.

Bluehost has their own modified version of Cpanel which you may like or not. 
I had some issues with Lypha in the past, but who doesn't make mistakes and 
I'm still with them and had no problems for the last two years or so.

----- Original Message ----- 
From: <marka999 at hushmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, September 06, 2013 12:42 PM
Subject: Re: [wp-hackers]Recommendations for an affordable, SECURE, 
WordPress host


> The host has no clue what he is doing. Its clear to me know its just a
> one man show by someone with no real skills. I should have known
> better with how cheap it was, but I needed a host quickly and
> inexpensively. This was a case of I got what I paid for. I even
> prepaid for a full year because it was such a good deal. BAD MISTAKE.
> He won't even give me a prorated refund due to the circumstances.
>
> Moral of the story, STAY AWAY from ideastack.com.
>
> On Thursday, September 05, 2013 at 11:50 AM, "Patrick Laverty"
> wrote:On Wed, Sep 4, 2013 at 5:24 PM,  wrote:
>
>> I can tell from the logs one of their other customers exploited
> their
>> server to access my theme files. My hosts response...we terminated
> the
>> offending account.
> Sounds like that host was vulnerable to the symlink hack. I don't know
> this
> for a fact, but if accounts are not properly jailed off from each
> other,
> this is certainly possible.
>
> http://thecybersaviours.com/wordpress-hack-through-symlink-bypass
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From guus at inspiration-for-success.com  Fri Sep  6 10:37:38 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Fri, 6 Sep 2013 18:37:38 +0800
Subject: [wp-hackers] Looking for team member
Message-ID: <A4A0384EBDF24C10A9950B57EA4D9BDA@megaheights.net>

Hi,

Almost half a year ago I started a project called Inspiration for Success. The main goal of the project is to inspire people to achieve success and one of my personal reasons for the project is and was to achieve some (big) financial success.

The project started as the website Inspiration for Success (http://www.inspiration-for-success.com/), which is and was some kind of personal blog with added 'self help' type content.

One of my main personal challenges is and was to create a team to make this project successful. As of the moment the team consists of four members, including me. 

In order to make the website more useful for people looking to achieve success I want to add functionality where people can e.g. keep score of their progress on their way to success. This means quite a lot of programming and as I am the only programmer within the team I think an additional programmer would complete the team.

Next to my 'creating a team' challenge another challenge was and is to get the project going without any cash out as I don't have any cash available for that. So for now there will be no direct financial reward, even though we have some quite big financial goals in mind for the team.

As the current site is built with Wordpress I think a Wordpress developer would be the right team member for now, even though I think in the end Wordpress will not be the right platform for what I have in mind with the site in the future.

My question is if you have some time available for a project to inspire people to achieve success and/or are looking for some kind of success that this project could contribute to or if you know someone who would like to join this project please let me know.

Guus Ellenkamp

From h at hyhs.me  Fri Sep  6 14:39:47 2013
From: h at hyhs.me (Helen Hou-Sandi)
Date: Fri, 6 Sep 2013 10:39:47 -0400
Subject: [wp-hackers] Looking for team member
In-Reply-To: <A4A0384EBDF24C10A9950B57EA4D9BDA@megaheights.net>
References: <A4A0384EBDF24C10A9950B57EA4D9BDA@megaheights.net>
Message-ID: <CAA0DF=-z7t1nXB6Pqggj0RS_g2OzdRA98gpQ_5EKtjOLmL3e-g@mail.gmail.com>

This mailing list is not the appropriate venue for soliciting or hiring.
Perhaps try http://jobs.wordpress.net/ instead.

From guus at inspiration-for-success.com  Fri Sep  6 15:07:48 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Fri, 6 Sep 2013 23:07:48 +0800
Subject: [wp-hackers] Looking for team member
References: <A4A0384EBDF24C10A9950B57EA4D9BDA@megaheights.net>
 <CAA0DF=-z7t1nXB6Pqggj0RS_g2OzdRA98gpQ_5EKtjOLmL3e-g@mail.gmail.com>
Message-ID: <DC077B1D9D7B4725B2895B46831393B7@megaheights.net>

Thanks for your comment and I was indeed a bit hesitant posting my request 
here. It's not a real job though and I had to start 'somewhere'.

I think your suggestion is very useful and I'm considering to also post my 
request on http://jobs.wordpress.net/, of course depending on replies here.

I didn't know about that jobs page, so thanks a lot for suggesting it!

----- Original Message ----- 
From: "Helen Hou-Sandi" <h at hyhs.me>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, September 06, 2013 10:39 PM
Subject: Re: [wp-hackers] Looking for team member


> This mailing list is not the appropriate venue for soliciting or hiring.
> Perhaps try http://jobs.wordpress.net/ instead.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From joshua.sibelman at gmail.com  Fri Sep  6 21:04:58 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Fri, 6 Sep 2013 14:04:58 -0700
Subject: [wp-hackers] something like a post_get_posts?
Message-ID: <F1E64504BBC049789D2E5F6E912ACBFD@gmail.com>

We make heavy use of Scribu's excellent Posts 2 Posts plugin. There's a very handy P2P method that operates on the wp_query object where you can have it find connected posts and add them to the wp_query->posts array. 

What I'm looking to do is have a function that runs this where appropriate based on post type, but since it operates on the wp_query object it doesn't seem I could use pre_get_posts. There's no post_get_posts, but is there another action I can hook into that might be workable?

loop_start seems like a good candidate but there's not much documentation about that one.

Thanks in advance,
Josh


From brian at sbh.io  Sat Sep  7 08:24:04 2013
From: brian at sbh.io (Brian Hall)
Date: Sat, 7 Sep 2013 01:24:04 -0700
Subject: [wp-hackers] Ready to help
Message-ID: <CADNa5ZpOd76UR0EPgZruEZzs7S3Wkc=fFWK3F2pTQRzJ8QbVvQ@mail.gmail.com>

Hey all,

I have been a long-time lover of Wordpress, but never a contributor, and
I'd like for that to change. I've read the various handbooks and looked
through Trac, but am not totally sure where to begin. Does anyone happen to
have a particular (and perhaps smaller) bug that needs some attention with
which I can get my feet wet?

Looking forward to your recommendations!

Brian

From filippo.pisano at gmail.com  Sat Sep  7 08:34:40 2013
From: filippo.pisano at gmail.com (Filippo Pisano)
Date: Sat, 7 Sep 2013 10:34:40 +0200
Subject: [wp-hackers] WordPress on .NET
Message-ID: <CABCyq-k12cDXW7dzAavs621daZ4w+-JO4iRZNew_-HT6R+Okww@mail.gmail.com>

Dear list,

a collegue suggested me to try a .NET port of WP (http://wpdotnet.com/).
Personally I'm not very positive about ports and I think I'll never use it
in a production enviroment but I am curious to know if someone has tried
this port or, even better, is using it in a production enviroment.
If not, what are the real pros of using .NET instead of PHP?

Thank you



Filippo Pisano
cel: 3291821355 / skype: filippopisano

From guus at inspiration-for-success.com  Sat Sep  7 08:58:34 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Sat, 7 Sep 2013 16:58:34 +0800
Subject: [wp-hackers] Looking for team member
References: <A4A0384EBDF24C10A9950B57EA4D9BDA@megaheights.net>
 <CAA0DF=-z7t1nXB6Pqggj0RS_g2OzdRA98gpQ_5EKtjOLmL3e-g@mail.gmail.com>
Message-ID: <5DA7C9BA6E894CEC868EA1FA31B11802@megaheights.net>

Hi Helen,

FYI

The http://jobs.wordpress.net/ doesn't seem to work out for what I'm looking 
for. Through the post that I put on the site now I am getting bombarded with 
sales e-mails from web development companies.

It was a really good suggestion, but that site doesn't seem to be the right 
channel for my request and I just hope my e-mail address won't be spammed 
with all those offers for web development.

This list was as I think I already found the right team member through this 
list,

Guus.


----- Original Message ----- 
From: "Helen Hou-Sandi" <h at hyhs.me>
To: <wp-hackers at lists.automattic.com>
Sent: Friday, September 06, 2013 10:39 PM
Subject: Re: [wp-hackers] Looking for team member


> This mailing list is not the appropriate venue for soliciting or hiring.
> Perhaps try http://jobs.wordpress.net/ instead.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From stephen at netweb.com.au  Sat Sep  7 09:27:59 2013
From: stephen at netweb.com.au (Stephen Edgar)
Date: Sat, 7 Sep 2013 09:27:59 +0000
Subject: [wp-hackers] Ready to help
In-Reply-To: <CADNa5ZpOd76UR0EPgZruEZzs7S3Wkc=fFWK3F2pTQRzJ8QbVvQ@mail.gmail.com>
References: <CADNa5ZpOd76UR0EPgZruEZzs7S3Wkc=fFWK3F2pTQRzJ8QbVvQ@mail.gmail.com>
Message-ID: <1C2C69CA-F190-490A-B6FC-DA39D1ECB90C@netweb.com.au>

It is difficult to recommend any ticket in Trac for you because we don't know your specific skillset.

I'd suggest finding a bug that you know needs a patch, it could be something as simple as a spelling mistake. The key thing here is that whatever it is that needs patching it is something you know needs a patch and that you have the patch that is needed.

Once you have a couple of patches under your belt and have a good feel of the processes involved then you can start working on bigger and better patches in your areas of expertise.

Cheers,

Stephen Edgar

On 07/09/2013, at 6:24 PM, "Brian Hall" <brian at sbh.io> wrote:

> Hey all,
> 
> I have been a long-time lover of Wordpress, but never a contributor, and
> I'd like for that to change. I've read the various handbooks and looked
> through Trac, but am not totally sure where to begin. Does anyone happen to
> have a particular (and perhaps smaller) bug that needs some attention with
> which I can get my feet wet?
> 
> Looking forward to your recommendations!
> 
> Brian
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


From sam at wordpress.org  Sat Sep  7 20:34:47 2013
From: sam at wordpress.org (Samuel Sidler)
Date: Sat, 7 Sep 2013 13:34:47 -0700
Subject: [wp-hackers] Looking for team member
In-Reply-To: <5DA7C9BA6E894CEC868EA1FA31B11802@megaheights.net>
References: <A4A0384EBDF24C10A9950B57EA4D9BDA@megaheights.net>
 <CAA0DF=-z7t1nXB6Pqggj0RS_g2OzdRA98gpQ_5EKtjOLmL3e-g@mail.gmail.com>
 <5DA7C9BA6E894CEC868EA1FA31B11802@megaheights.net>
Message-ID: <CADme3n1gkr_m2oFJDYupkLErjShdZ6WWMsG1c6HO6CqfoAzgMw@mail.gmail.com>

Hey Guus,

I sent you a private email about this. If you're getting bad and/or spam
emails from your post on jobs.wordpress.net, that's something we want to
investigate. Contact me and I'll take a look at the emails.

Cheers,
Sam


On Sat, Sep 7, 2013 at 1:58 AM, Guus (IFS) <guus at inspiration-for-success.com
> wrote:

> Hi Helen,
>
> FYI
>
> The http://jobs.wordpress.net/ doesn't seem to work out for what I'm
> looking for. Through the post that I put on the site now I am getting
> bombarded with sales e-mails from web development companies.
>
> It was a really good suggestion, but that site doesn't seem to be the
> right channel for my request and I just hope my e-mail address won't be
> spammed with all those offers for web development.
>
> This list was as I think I already found the right team member through
> this list,
>
> Guus.
>
>
>
> ----- Original Message ----- From: "Helen Hou-Sandi" <h at hyhs.me>
> To: <wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>>
> Sent: Friday, September 06, 2013 10:39 PM
> Subject: Re: [wp-hackers] Looking for team member
>
>
>  This mailing list is not the appropriate venue for soliciting or hiring.
>> Perhaps try http://jobs.wordpress.net/ instead.
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From whsatterwhite at gmail.com  Mon Sep  9 00:43:13 2013
From: whsatterwhite at gmail.com (William Satterwhite)
Date: Sun, 8 Sep 2013 20:43:13 -0400
Subject: [wp-hackers] W3 Total Cache and excluding specific page content
	from caching
Message-ID: <CAGbA+aZe+ctDuwsOGZms3u5ZRaqtCmR-=ZofL7hfOfT3gynB7Q@mail.gmail.com>

I've been doing a lot of research, reading, and made many attempts at
excluding specific content areas from W3 Total Cache's page caching. What I
keep trying is excluding a sidebar and its widgets entirely from page
cache, but leaving the rest of the page cached. Multiple attempts at doing
so have failed. I've followed many of the <!-- mfunc --> examples, enabled
late init within page caching, and nothing seems to work. There are many
widgets that are used, which display dynamic information produced by PHP,
so having the ability to exclude them from caching would be great.

Any help or feedback would be greatly appreciated.

The following are links that I've found while trying to figure this out on
my own:
http://wordpress.org/support/topic/mfunc-still-not-working/page/2?replies=13
http://support.industrialthemes.com/viewtopic.php?f=5&t=4786
http://css-tricks.com/wordpress-fragment-caching-revisited/
http://wordpress.stackexchange.com/questions/13169/can-i-ignore-caching-of-a-plugin-in-w3-total-cache

To complicate things, I'm using the Genesis Framework with a child theme
and trying to get this working with Cart66's "Cart" widget.

Thank you,
-- 
Hunter Satterwhite
http://linkedin.com/in/hsatterwhite

From piemanek at gmail.com  Mon Sep  9 16:51:19 2013
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 9 Sep 2013 17:51:19 +0100
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
Message-ID: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>

Not sure where's the best place to send this so thought I'd try here first.

I updated http://wordpress.org/plugins/intercom-for-wordpress/ earlier
today to version 0.7 which involved some important changes to the
description, FAQ and changelog in the readme.txt file.

The download link on the description page is correctly showing 0.7, but the
description text has not updated. The other pages are all showing a
download link for version 0.6 and the text has not updated on any of them.

I've checked the Subversion repo and the readme.txt file has definitely
updated, so it looks like a caching issue, so I'm wondering

a) how long does it usually take for the cached pages to refresh?

b) would it be possible to set something somewhere so that when a plugin is
updated, all pages for that plugin are automatically flushed from the cache?

Cheers
Simon

From martin at lazarov.bg  Mon Sep  9 17:49:02 2013
From: martin at lazarov.bg (Martin Lazarov)
Date: Mon, 9 Sep 2013 20:49:02 +0300
Subject: [wp-hackers] W3 Total Cache and excluding specific page content
 from caching
In-Reply-To: <CAGbA+aZe+ctDuwsOGZms3u5ZRaqtCmR-=ZofL7hfOfT3gynB7Q@mail.gmail.com>
References: <CAGbA+aZe+ctDuwsOGZms3u5ZRaqtCmR-=ZofL7hfOfT3gynB7Q@mail.gmail.com>
Message-ID: <CAFJ6JWGXA-AXvKyE0CFmmB3eTqfWn5kTLOyyPCcMSG6tzpv0rA@mail.gmail.com>

You can use ajax to load some parts of your page and it's easy to
exclude from caching this ajax url's

On Mon, Sep 9, 2013 at 3:43 AM, William Satterwhite
<whsatterwhite at gmail.com> wrote:
> I've been doing a lot of research, reading, and made many attempts at
> excluding specific content areas from W3 Total Cache's page caching. What I
> keep trying is excluding a sidebar and its widgets entirely from page
> cache, but leaving the rest of the page cached. Multiple attempts at doing
> so have failed. I've followed many of the <!-- mfunc --> examples, enabled
> late init within page caching, and nothing seems to work. There are many
> widgets that are used, which display dynamic information produced by PHP,
> so having the ability to exclude them from caching would be great.
>
> Any help or feedback would be greatly appreciated.
>
> The following are links that I've found while trying to figure this out on
> my own:
> http://wordpress.org/support/topic/mfunc-still-not-working/page/2?replies=13
> http://support.industrialthemes.com/viewtopic.php?f=5&t=4786
> http://css-tricks.com/wordpress-fragment-caching-revisited/
> http://wordpress.stackexchange.com/questions/13169/can-i-ignore-caching-of-a-plugin-in-w3-total-cache
>
> To complicate things, I'm using the Genesis Framework with a child theme
> and trying to get this working with Cart66's "Cart" widget.
>
> Thank you,
> --
> Hunter Satterwhite
> http://linkedin.com/in/hsatterwhite
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From whsatterwhite at gmail.com  Mon Sep  9 17:52:29 2013
From: whsatterwhite at gmail.com (William Satterwhite)
Date: Mon, 9 Sep 2013 13:52:29 -0400
Subject: [wp-hackers] W3 Total Cache and excluding specific page content
 from caching
In-Reply-To: <CAFJ6JWGXA-AXvKyE0CFmmB3eTqfWn5kTLOyyPCcMSG6tzpv0rA@mail.gmail.com>
References: <CAGbA+aZe+ctDuwsOGZms3u5ZRaqtCmR-=ZofL7hfOfT3gynB7Q@mail.gmail.com>
 <CAFJ6JWGXA-AXvKyE0CFmmB3eTqfWn5kTLOyyPCcMSG6tzpv0rA@mail.gmail.com>
Message-ID: <CAGbA+aYLPaBaD0kJYuMmbFzZrWgFxFY=jJmi8kfuxvyZ8yFydQ@mail.gmail.com>

I'm ware that this can be done using ajax, but this widget does not utilize
ajax. It is a packaged widget with Cart66.


On Mon, Sep 9, 2013 at 1:49 PM, Martin Lazarov <martin at lazarov.bg> wrote:

> You can use ajax to load some parts of your page and it's easy to
> exclude from caching this ajax url's
>
> On Mon, Sep 9, 2013 at 3:43 AM, William Satterwhite
> <whsatterwhite at gmail.com> wrote:
> > I've been doing a lot of research, reading, and made many attempts at
> > excluding specific content areas from W3 Total Cache's page caching.
> What I
> > keep trying is excluding a sidebar and its widgets entirely from page
> > cache, but leaving the rest of the page cached. Multiple attempts at
> doing
> > so have failed. I've followed many of the <!-- mfunc --> examples,
> enabled
> > late init within page caching, and nothing seems to work. There are many
> > widgets that are used, which display dynamic information produced by PHP,
> > so having the ability to exclude them from caching would be great.
> >
> > Any help or feedback would be greatly appreciated.
> >
> > The following are links that I've found while trying to figure this out
> on
> > my own:
> >
> http://wordpress.org/support/topic/mfunc-still-not-working/page/2?replies=13
> > http://support.industrialthemes.com/viewtopic.php?f=5&t=4786
> > http://css-tricks.com/wordpress-fragment-caching-revisited/
> >
> http://wordpress.stackexchange.com/questions/13169/can-i-ignore-caching-of-a-plugin-in-w3-total-cache
> >
> > To complicate things, I'm using the Genesis Framework with a child theme
> > and trying to get this working with Cart66's "Cart" widget.
> >
> > Thank you,
> > --
> > Hunter Satterwhite
> > http://linkedin.com/in/hsatterwhite
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Hunter Satterwhite
http://linkedin.com/in/hsatterwhite
(252) 762-5177

From martin at lazarov.bg  Mon Sep  9 18:05:11 2013
From: martin at lazarov.bg (Martin Lazarov)
Date: Mon, 9 Sep 2013 21:05:11 +0300
Subject: [wp-hackers] W3 Total Cache and excluding specific page content
 from caching
In-Reply-To: <CAGbA+aYLPaBaD0kJYuMmbFzZrWgFxFY=jJmi8kfuxvyZ8yFydQ@mail.gmail.com>
References: <CAGbA+aZe+ctDuwsOGZms3u5ZRaqtCmR-=ZofL7hfOfT3gynB7Q@mail.gmail.com>
 <CAFJ6JWGXA-AXvKyE0CFmmB3eTqfWn5kTLOyyPCcMSG6tzpv0rA@mail.gmail.com>
 <CAGbA+aYLPaBaD0kJYuMmbFzZrWgFxFY=jJmi8kfuxvyZ8yFydQ@mail.gmail.com>
Message-ID: <CAFJ6JWHRAijvEDE+ao87jBCvPFaZrmBWmOxNsUmL4vffypk9zw@mail.gmail.com>

No, it isn't easy to be done, but is way to achieve what you need. You
can rewrite your widget to use ajax.

On Mon, Sep 9, 2013 at 8:52 PM, William Satterwhite
<whsatterwhite at gmail.com> wrote:
> I'm ware that this can be done using ajax, but this widget does not utilize
> ajax. It is a packaged widget with Cart66.
>
>
> On Mon, Sep 9, 2013 at 1:49 PM, Martin Lazarov <martin at lazarov.bg> wrote:
>
>> You can use ajax to load some parts of your page and it's easy to
>> exclude from caching this ajax url's
>>
>> On Mon, Sep 9, 2013 at 3:43 AM, William Satterwhite
>> <whsatterwhite at gmail.com> wrote:
>> > I've been doing a lot of research, reading, and made many attempts at
>> > excluding specific content areas from W3 Total Cache's page caching.
>> What I
>> > keep trying is excluding a sidebar and its widgets entirely from page
>> > cache, but leaving the rest of the page cached. Multiple attempts at
>> doing
>> > so have failed. I've followed many of the <!-- mfunc --> examples,
>> enabled
>> > late init within page caching, and nothing seems to work. There are many
>> > widgets that are used, which display dynamic information produced by PHP,
>> > so having the ability to exclude them from caching would be great.
>> >
>> > Any help or feedback would be greatly appreciated.
>> >
>> > The following are links that I've found while trying to figure this out
>> on
>> > my own:
>> >
>> http://wordpress.org/support/topic/mfunc-still-not-working/page/2?replies=13
>> > http://support.industrialthemes.com/viewtopic.php?f=5&t=4786
>> > http://css-tricks.com/wordpress-fragment-caching-revisited/
>> >
>> http://wordpress.stackexchange.com/questions/13169/can-i-ignore-caching-of-a-plugin-in-w3-total-cache
>> >
>> > To complicate things, I'm using the Genesis Framework with a child theme
>> > and trying to get this working with Cart66's "Cart" widget.
>> >
>> > Thank you,
>> > --
>> > Hunter Satterwhite
>> > http://linkedin.com/in/hsatterwhite
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Hunter Satterwhite
> http://linkedin.com/in/hsatterwhite
> (252) 762-5177
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From nl at thoughtrefinery.com  Mon Sep  9 18:07:18 2013
From: nl at thoughtrefinery.com (Nicholas Ciske)
Date: Mon, 9 Sep 2013 13:07:18 -0500
Subject: [wp-hackers] W3 Total Cache and excluding specific page content
	from caching
In-Reply-To: <CAGbA+aYLPaBaD0kJYuMmbFzZrWgFxFY=jJmi8kfuxvyZ8yFydQ@mail.gmail.com>
References: <CAGbA+aZe+ctDuwsOGZms3u5ZRaqtCmR-=ZofL7hfOfT3gynB7Q@mail.gmail.com>
 <CAFJ6JWGXA-AXvKyE0CFmmB3eTqfWn5kTLOyyPCcMSG6tzpv0rA@mail.gmail.com>
 <CAGbA+aYLPaBaD0kJYuMmbFzZrWgFxFY=jJmi8kfuxvyZ8yFydQ@mail.gmail.com>
Message-ID: <EB5B7266-624C-4652-9518-31321A286D7A@thoughtrefinery.com>

Have you tried posting in the W3TC Plugin Support Forum? This is more a plugin issue than a WP issue...

Tried a bundled theme and all unnecessary plugins turned off to check for theme/plugin conflicts?

The thread you mentioned makes it clear that mfunc (especially after the recent security issues) is tough to get going in some environments. 

Could also be the widget -- mfunc calls lose a lot of context so the widget code could be working but not pulling actual widget data due to missing info.

Writing an ajax call to replace the cached sidebar content with uncached content from the server would avoid mfunc completely and run the code within WP (keeping context).

Essentially:
Ajax calls the server saying: "give me the (primary/secondary) sidebar for page X" ... which it returns some HTML and jQuery replaces the cached sidebar with the user specific data.

Not a simple solution, but user specific content plus page caching are never simple...


_________________________
Nick Ciske
http://thoughtrefinery.com/
@nciske	

>> 
>> 
>> On Mon, Sep 9, 2013 at 3:43 AM, William Satterwhite
>> <whsatterwhite at gmail.com> wrote:
>>> I've been doing a lot of research, reading, and made many attempts at
>>> excluding specific content areas from W3 Total Cache's page caching.
>> What I
>>> keep trying is excluding a sidebar and its widgets entirely from page
>>> cache, but leaving the rest of the page cached. Multiple attempts at
>> doing
>>> so have failed. I've followed many of the <!-- mfunc --> examples,
>> enabled
>>> late init within page caching, and nothing seems to work. There are many
>>> widgets that are used, which display dynamic information produced by PHP,
>>> so having the ability to exclude them from caching would be great.
>>> 
>>> Any help or feedback would be greatly appreciated.
>>> 
>>> The following are links that I've found while trying to figure this out
>> on
>>> my own:
>>> 
>> http://wordpress.org/support/topic/mfunc-still-not-working/page/2?replies=13
>>> http://support.industrialthemes.com/viewtopic.php?f=5&t=4786
>>> http://css-tricks.com/wordpress-fragment-caching-revisited/
>>> 
>> http://wordpress.stackexchange.com/questions/13169/can-i-ignore-caching-of-a-plugin-in-w3-total-cache
>>> 
>>> To complicate things, I'm using the Genesis Framework with a child theme
>>> and trying to get this working with Cart66's "Cart" widget.
>>> 
>>> Thank you,
>>> --
>>> Hunter Satterwhite
>>> http://linkedin.com/in/hsatterwhite
>>> 

From otto at ottodestruct.com  Mon Sep  9 18:40:47 2013
From: otto at ottodestruct.com (Otto)
Date: Mon, 9 Sep 2013 13:40:47 -0500
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
Message-ID: <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>

Looks okay to me. Are you sure your browser isn't caching the page?


-Otto


On Mon, Sep 9, 2013 at 11:51 AM, Simon Blackbourn <piemanek at gmail.com> wrote:
> Not sure where's the best place to send this so thought I'd try here first.
>
> I updated http://wordpress.org/plugins/intercom-for-wordpress/ earlier
> today to version 0.7 which involved some important changes to the
> description, FAQ and changelog in the readme.txt file.
>
> The download link on the description page is correctly showing 0.7, but the
> description text has not updated. The other pages are all showing a
> download link for version 0.6 and the text has not updated on any of them.
>
> I've checked the Subversion repo and the readme.txt file has definitely
> updated, so it looks like a caching issue, so I'm wondering
>
> a) how long does it usually take for the cached pages to refresh?
>
> b) would it be possible to set something somewhere so that when a plugin is
> updated, all pages for that plugin are automatically flushed from the cache?
>
> Cheers
> Simon
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mickyhulse.lists at gmail.com  Mon Sep  9 19:38:26 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Mon, 9 Sep 2013 12:38:26 -0700
Subject: [wp-hackers] Transient key best practice
Message-ID: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>

Hello,

I'm writing a class that gets a JSON response from YouTube's API and
caches the parsed data into a WP transient.

I was tentatively planning on creating transient keys that look like:

namespace_youtube:playlist_or_user|||cache_time|||number_of_items

Where:

1. "namespace_youtube" = Make sure I don't stomp on other keys and
easier to find.

2. "playlist_or_user" = Will be either a playlist ID or a username.

3. "cache_time" = How long to cache this transient.

4. "number_of_items" = Number of videos that were cached in this transient.

5. "|||" = Just an easy delimiter for me to search on if I need to
get/parse transient keys.

Goal:

I want the ability to cache multiple different types of YouTube API
calls and have them be cached based on playlist ID or username, how
long it was it's supposed to be cached for and the number of items
cached. In other words, there might be times where I need to request
the same playlist but vary it's output by the cache time and number of
items requested from the API.

Question(s):

Based upon my goal, does the above transient key naming convention make sense?

What's common transient caching naming practice for situations like I
describe above?

For when it comes to transients, is there a way to have simpler
transient key (just simply "namespace_youtube", for example) naming
convention yet vary, and have the ability to access, the data stored
in that transient?

Please let me know if I need to clarify my questions.

Thanks!
M

From filippo.pisano at gmail.com  Mon Sep  9 19:42:31 2013
From: filippo.pisano at gmail.com (Filippo Pisano)
Date: Mon, 9 Sep 2013 21:42:31 +0200
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
Message-ID: <CABCyq-=aN0Y5ehOmb5fsLfFL5NK7A+NpCcbuQ8uQw9n9XFWTPw@mail.gmail.com>

You can simply md5 your key and query db for the md5 string corresponding
to your API request.
Il giorno 09/set/2013 21:39, "Micky Hulse" <mickyhulse.lists at gmail.com> ha
scritto:

> Hello,
>
> I'm writing a class that gets a JSON response from YouTube's API and
> caches the parsed data into a WP transient.
>
> I was tentatively planning on creating transient keys that look like:
>
> namespace_youtube:playlist_or_user|||cache_time|||number_of_items
>
> Where:
>
> 1. "namespace_youtube" = Make sure I don't stomp on other keys and
> easier to find.
>
> 2. "playlist_or_user" = Will be either a playlist ID or a username.
>
> 3. "cache_time" = How long to cache this transient.
>
> 4. "number_of_items" = Number of videos that were cached in this transient.
>
> 5. "|||" = Just an easy delimiter for me to search on if I need to
> get/parse transient keys.
>
> Goal:
>
> I want the ability to cache multiple different types of YouTube API
> calls and have them be cached based on playlist ID or username, how
> long it was it's supposed to be cached for and the number of items
> cached. In other words, there might be times where I need to request
> the same playlist but vary it's output by the cache time and number of
> items requested from the API.
>
> Question(s):
>
> Based upon my goal, does the above transient key naming convention make
> sense?
>
> What's common transient caching naming practice for situations like I
> describe above?
>
> For when it comes to transients, is there a way to have simpler
> transient key (just simply "namespace_youtube", for example) naming
> convention yet vary, and have the ability to access, the data stored
> in that transient?
>
> Please let me know if I need to clarify my questions.
>
> Thanks!
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mickyhulse.lists at gmail.com  Mon Sep  9 19:50:40 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Mon, 9 Sep 2013 12:50:40 -0700
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CABCyq-=aN0Y5ehOmb5fsLfFL5NK7A+NpCcbuQ8uQw9n9XFWTPw@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CABCyq-=aN0Y5ehOmb5fsLfFL5NK7A+NpCcbuQ8uQw9n9XFWTPw@mail.gmail.com>
Message-ID: <CALri7Mncfecs5UG+tQm1bYporKYGvzNLM=gGsgUtXR5a496TQQ@mail.gmail.com>

Thanks for the blazing fast reply Filippo! I really appreciate it! :)

On Mon, Sep 9, 2013 at 12:42 PM, Filippo Pisano
<filippo.pisano at gmail.com> wrote:
> You can simply md5 your key and query db for the md5 string corresponding
> to your API request.

So, are you saying that I should do something like:

$transient_key =
wp_hash("namespace_youtube:playlist_or_user|||cache_time|||number_of_items"
, 'md5');

In that case, could I drop "namespace_youtube:" and just md5 the rest
for the key?

Sorry if I'm asking silly questions ... I just want to make sure I'm
following standard procedure here. :)

Thanks so much!

Cheers,
M

From nikolov.tmw at gmail.com  Mon Sep  9 19:54:19 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Mon, 9 Sep 2013 22:54:19 +0300
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CALri7Mncfecs5UG+tQm1bYporKYGvzNLM=gGsgUtXR5a496TQQ@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CABCyq-=aN0Y5ehOmb5fsLfFL5NK7A+NpCcbuQ8uQw9n9XFWTPw@mail.gmail.com>
 <CALri7Mncfecs5UG+tQm1bYporKYGvzNLM=gGsgUtXR5a496TQQ@mail.gmail.com>
Message-ID: <CAOwx47eBendw+avQMChNO9_Vg=6-bF0+QnusF1r78UpGE71oPQ@mail.gmail.com>

Additionally, if you want to be able to get all transients created by your
plugin(for whatever reasons you might have), you can simply prefix the
md5-ed hash with something(like "nsyt_{$md5_hash}").

If you wouldn't need to get all of your plugin's transients, you can
most-likely drop the namespace, although it can never hurt - md5() is 1)
fast, 2) the hash is always the same length. So 10 characters more or less
doesn't make a huge impact IMO.


On Mon, Sep 9, 2013 at 10:50 PM, Micky Hulse <mickyhulse.lists at gmail.com>wrote:

> Thanks for the blazing fast reply Filippo! I really appreciate it! :)
>
> On Mon, Sep 9, 2013 at 12:42 PM, Filippo Pisano
> <filippo.pisano at gmail.com> wrote:
> > You can simply md5 your key and query db for the md5 string corresponding
> > to your API request.
>
> So, are you saying that I should do something like:
>
> $transient_key =
> wp_hash("namespace_youtube:playlist_or_user|||cache_time|||number_of_items"
> , 'md5');
>
> In that case, could I drop "namespace_youtube:" and just md5 the rest
> for the key?
>
> Sorry if I'm asking silly questions ... I just want to make sure I'm
> following standard procedure here. :)
>
> Thanks so much!
>
> Cheers,
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From filippo.pisano at gmail.com  Mon Sep  9 19:56:10 2013
From: filippo.pisano at gmail.com (Filippo Pisano)
Date: Mon, 9 Sep 2013 21:56:10 +0200
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CALri7Mncfecs5UG+tQm1bYporKYGvzNLM=gGsgUtXR5a496TQQ@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CABCyq-=aN0Y5ehOmb5fsLfFL5NK7A+NpCcbuQ8uQw9n9XFWTPw@mail.gmail.com>
 <CALri7Mncfecs5UG+tQm1bYporKYGvzNLM=gGsgUtXR5a496TQQ@mail.gmail.com>
Message-ID: <CABCyq-mm4Hh=jeLYzRt27SxPxpLQbBjsgXvwHV5O9rKw7AOPzw@mail.gmail.com>

On Mon, Sep 9, 2013 at 9:50 PM, Micky Hulse <mickyhulse.lists at gmail.com>wrote:

> Thanks for the blazing fast reply Filippo! I really appreciate it! :)
>
> On Mon, Sep 9, 2013 at 12:42 PM, Filippo Pisano
> <filippo.pisano at gmail.com> wrote:
> > You can simply md5 your key and query db for the md5 string corresponding
> > to your API request.
>
> So, are you saying that I should do something like:
>
> $transient_key =
> wp_hash("namespace_youtube:playlist_or_user|||cache_time|||number_of_items"
> , 'md5');
>
> In that case, could I drop "namespace_youtube:" and just md5 the rest
> for the key?
>


Sure, you have to keep in mind that the DB column options.option_name is a
64 chars varchar and so you could not use such a long string (moreover when
using transients and additional record is created using your original
transient name + '_timeout'). Thus, IMO the hash technique should suits
your needs.



>
> Sorry if I'm asking silly questions ... I just want to make sure I'm
> following standard procedure here. :)
>

No silly question ;)


>
> Thanks so much!
>
> Cheers,
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From justin at justintadlock.com  Mon Sep  9 20:08:07 2013
From: justin at justintadlock.com (Justin Tadlock)
Date: Mon, 09 Sep 2013 15:08:07 -0500
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
 <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
Message-ID: <522E2AA7.4080905@justintadlock.com>

I'm getting the same thing here with a plugin I just published:
http://wordpress.org/plugins/whistles/

It's still showing the original description I wrote when I first 
submitted the plugin.  I figured I'd wait it out, but I saw this email 
subject and thought I'd give you another plugin to look at. :)

I cleared my browser's cache as well as tried a couple of other browsers.

On 9/9/2013 1:40 PM, Otto wrote:
> Looks okay to me. Are you sure your browser isn't caching the page?
>
>
> -Otto
>
>
> On Mon, Sep 9, 2013 at 11:51 AM, Simon Blackbourn <piemanek at gmail.com> wrote:
>> Not sure where's the best place to send this so thought I'd try here first.
>>
>> I updated http://wordpress.org/plugins/intercom-for-wordpress/ earlier
>> today to version 0.7 which involved some important changes to the
>> description, FAQ and changelog in the readme.txt file.
>>
>> The download link on the description page is correctly showing 0.7, but the
>> description text has not updated. The other pages are all showing a
>> download link for version 0.6 and the text has not updated on any of them.
>>
>> I've checked the Subversion repo and the readme.txt file has definitely
>> updated, so it looks like a caching issue, so I'm wondering
>>
>> a) how long does it usually take for the cached pages to refresh?
>>
>> b) would it be possible to set something somewhere so that when a plugin is
>> updated, all pages for that plugin are automatically flushed from the cache?
>>
>> Cheers
>> Simon
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From ipstenu at ipstenu.org  Mon Sep  9 20:08:59 2013
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Mon, 09 Sep 2013 13:08:59 -0700
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <522E2AA7.4080905@justintadlock.com>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
 <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
 <522E2AA7.4080905@justintadlock.com>
Message-ID: <522E2ADB.6040005@ipstenu.org>

I've seen similar things in the forums, where I have to flush cache and 
refresh a ton to get a reply to show up :/

> Justin Tadlock <mailto:justin at justintadlock.com>
> September 9, 2013 1:08 PM
> I'm getting the same thing here with a plugin I just published:
> http://wordpress.org/plugins/whistles/
>
> It's still showing the original description I wrote when I first 
> submitted the plugin.  I figured I'd wait it out, but I saw this email 
> subject and thought I'd give you another plugin to look at. :)
>
> I cleared my browser's cache as well as tried a couple of other browsers.
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
Mika A Epstein (aka Ipstenu)
http://ipstenu.org | http://halfelf.org


From mickyhulse.lists at gmail.com  Mon Sep  9 20:12:40 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Mon, 9 Sep 2013 13:12:40 -0700
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CABCyq-mm4Hh=jeLYzRt27SxPxpLQbBjsgXvwHV5O9rKw7AOPzw@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CABCyq-=aN0Y5ehOmb5fsLfFL5NK7A+NpCcbuQ8uQw9n9XFWTPw@mail.gmail.com>
 <CALri7Mncfecs5UG+tQm1bYporKYGvzNLM=gGsgUtXR5a496TQQ@mail.gmail.com>
 <CABCyq-mm4Hh=jeLYzRt27SxPxpLQbBjsgXvwHV5O9rKw7AOPzw@mail.gmail.com>
Message-ID: <CALri7M=4oOA=f_0kKdNBy97-Z0vfP+8p4QaBz5+09MPHzAc8Xw@mail.gmail.com>

Awesome!!! :)

Thanks so much for the details and super quick replies Filippo and
Nikola, I really appreciate it!

I now have plans to MD5 and prefix a "namespace_" to the transient key.

I'm soooo glad I asked for help! I owe you guys an Oregon micro brew. :)

Have an awesome day!

Cheers,
M

P.S., (mostly a note to my future self):

In my previous e-mail I gave this example:

$transient_key =
wp_hash("namespace_youtube:playlist_or_user|||cache_time|||number_of_items",
'md5');

Looks like that second argument doesn't work like how I thought it did ...

http://core.trac.wordpress.org/browser/tags/3.6/wp-includes/pluggable.php#L1392

Apparently it's a string that's used to salt a call to:

hash_hmac('md5', $data, $salt);

For my needs, it's looking like I should just use PHP's md5($str) function.

From piemanek at gmail.com  Mon Sep  9 20:15:26 2013
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 9 Sep 2013 21:15:26 +0100
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
 <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
Message-ID: <CAJxFMSAe1+bxV_coHyvjYUyQXhM3jjMhH6M3GPRitoBs5k1r+w@mail.gmail.com>

> Looks okay to me. Are you sure your browser isn't caching the page?
>


it's updated now. at the time i wrote the original email i had cleared my
browser cache and refreshed several times, as well as trying on my phone -
all were showing the old version.

cheers
simon

From piemanek at gmail.com  Mon Sep  9 20:17:29 2013
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 9 Sep 2013 21:17:29 +0100
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <522E2ADB.6040005@ipstenu.org>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
 <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
 <522E2AA7.4080905@justintadlock.com> <522E2ADB.6040005@ipstenu.org>
Message-ID: <CAJxFMSC+qMqv2XEDyhydWc5qFLYr0OQ1FuBbgmB9+ffJHffMEg@mail.gmail.com>

> I've seen similar things in the forums, where I have to flush cache and
> refresh a ton to get a reply to show up :/
>


yep, i had that too - one of my support forum replies (for the same plugin)
completely disappeared after posting, then re-appeared after a few minutes.

From otto at ottodestruct.com  Mon Sep  9 20:25:40 2013
From: otto at ottodestruct.com (Otto)
Date: Mon, 9 Sep 2013 15:25:40 -0500
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
Message-ID: <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>

It is a very bad idea to use mutating keys for transients. You run the
risk of storing transients in ways such that you never actually try to
get them again, thus creating lots and lots of entries in the database
for those transients, for no reason.

The important part of a caching mechanism is that you read from the
cache. If your key is constantly changing in a way that makes doing
this read less likely, then your cache isn't very useful, is it?

I would absolutely not include cache time or number of items in the
key, because these can change and then you'll never look up that
cached data again, leaving it orphaned.

-Otto


On Mon, Sep 9, 2013 at 2:38 PM, Micky Hulse <mickyhulse.lists at gmail.com> wrote:
> Hello,
>
> I'm writing a class that gets a JSON response from YouTube's API and
> caches the parsed data into a WP transient.
>
> I was tentatively planning on creating transient keys that look like:
>
> namespace_youtube:playlist_or_user|||cache_time|||number_of_items
>
> Where:
>
> 1. "namespace_youtube" = Make sure I don't stomp on other keys and
> easier to find.
>
> 2. "playlist_or_user" = Will be either a playlist ID or a username.
>
> 3. "cache_time" = How long to cache this transient.
>
> 4. "number_of_items" = Number of videos that were cached in this transient.
>
> 5. "|||" = Just an easy delimiter for me to search on if I need to
> get/parse transient keys.
>
> Goal:
>
> I want the ability to cache multiple different types of YouTube API
> calls and have them be cached based on playlist ID or username, how
> long it was it's supposed to be cached for and the number of items
> cached. In other words, there might be times where I need to request
> the same playlist but vary it's output by the cache time and number of
> items requested from the API.
>
> Question(s):
>
> Based upon my goal, does the above transient key naming convention make sense?
>
> What's common transient caching naming practice for situations like I
> describe above?
>
> For when it comes to transients, is there a way to have simpler
> transient key (just simply "namespace_youtube", for example) naming
> convention yet vary, and have the ability to access, the data stored
> in that transient?
>
> Please let me know if I need to clarify my questions.
>
> Thanks!
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From nikolov.tmw at gmail.com  Mon Sep  9 20:30:50 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Mon, 9 Sep 2013 23:30:50 +0300
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>
Message-ID: <CAOwx47eReB=2O9am7DBrEP9Q3-dO72syuufb=eZDyDOkGQWNqA@mail.gmail.com>

Otto - doesn't setting transient's expiry time automatically remove it from
the database once it's time's up? I haven't looked into core precisely how
this works, but it would make sense for expired transients to get
removed(during cron or whenever).


On Mon, Sep 9, 2013 at 11:25 PM, Otto <otto at ottodestruct.com> wrote:

> It is a very bad idea to use mutating keys for transients. You run the
> risk of storing transients in ways such that you never actually try to
> get them again, thus creating lots and lots of entries in the database
> for those transients, for no reason.
>
> The important part of a caching mechanism is that you read from the
> cache. If your key is constantly changing in a way that makes doing
> this read less likely, then your cache isn't very useful, is it?
>
> I would absolutely not include cache time or number of items in the
> key, because these can change and then you'll never look up that
> cached data again, leaving it orphaned.
>
> -Otto
>
>
> On Mon, Sep 9, 2013 at 2:38 PM, Micky Hulse <mickyhulse.lists at gmail.com>
> wrote:
> > Hello,
> >
> > I'm writing a class that gets a JSON response from YouTube's API and
> > caches the parsed data into a WP transient.
> >
> > I was tentatively planning on creating transient keys that look like:
> >
> > namespace_youtube:playlist_or_user|||cache_time|||number_of_items
> >
> > Where:
> >
> > 1. "namespace_youtube" = Make sure I don't stomp on other keys and
> > easier to find.
> >
> > 2. "playlist_or_user" = Will be either a playlist ID or a username.
> >
> > 3. "cache_time" = How long to cache this transient.
> >
> > 4. "number_of_items" = Number of videos that were cached in this
> transient.
> >
> > 5. "|||" = Just an easy delimiter for me to search on if I need to
> > get/parse transient keys.
> >
> > Goal:
> >
> > I want the ability to cache multiple different types of YouTube API
> > calls and have them be cached based on playlist ID or username, how
> > long it was it's supposed to be cached for and the number of items
> > cached. In other words, there might be times where I need to request
> > the same playlist but vary it's output by the cache time and number of
> > items requested from the API.
> >
> > Question(s):
> >
> > Based upon my goal, does the above transient key naming convention make
> sense?
> >
> > What's common transient caching naming practice for situations like I
> > describe above?
> >
> > For when it comes to transients, is there a way to have simpler
> > transient key (just simply "namespace_youtube", for example) naming
> > convention yet vary, and have the ability to access, the data stored
> > in that transient?
> >
> > Please let me know if I need to clarify my questions.
> >
> > Thanks!
> > M
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From nl at thoughtrefinery.com  Mon Sep  9 20:34:15 2013
From: nl at thoughtrefinery.com (Nicholas Ciske)
Date: Mon, 9 Sep 2013 15:34:15 -0500
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CAOwx47eReB=2O9am7DBrEP9Q3-dO72syuufb=eZDyDOkGQWNqA@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>
 <CAOwx47eReB=2O9am7DBrEP9Q3-dO72syuufb=eZDyDOkGQWNqA@mail.gmail.com>
Message-ID: <84B8374C-95FA-4823-9BF3-43A04399E052@thoughtrefinery.com>

Nope. It only gets removed the next time it's requested.

http://www.stumiller.me/does-wordpress-delete-expired-transients-from-the-database/

May be fixed in 3.7:
http://core.trac.wordpress.org/ticket/20316

There are plugins that use cron to clean up orphan records, but core does not... yet.

http://wordpress.org/plugins/artiss-transient-cleaner/

http://wordpress.org/plugins/delete-expired-transients/

_________________________
Nick Ciske
http://thoughtrefinery.com/
@nciske	

On Sep 9, 2013, at 3:30 PM, Nikola Nikolov wrote:

> doesn't setting transient's expiry time automatically remove it from
> the database once it's time's up?


From mickyhulse.lists at gmail.com  Mon Sep  9 20:39:23 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Mon, 9 Sep 2013 13:39:23 -0700
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>
Message-ID: <CALri7M=G0PSt06+x+ReHdO-20kKHSvOUqzirvoX83iG5tFRgvQ@mail.gmail.com>

Hi Otto! Thanks for the help, I really appreciate! :)

On Mon, Sep 9, 2013 at 1:25 PM, Otto <otto at ottodestruct.com> wrote:
> It is a very bad idea to use mutating keys for transients. You run the
> risk of storing transients in ways such that you never actually try to
> get them again, thus creating lots and lots of entries in the database
> for those transients, for no reason.
> The important part of a caching mechanism is that you read from the
> cache. If your key is constantly changing in a way that makes doing
> this read less likely, then your cache isn't very useful, is it?

Thank you for pointing this out. I had a feeling that I might be going
a little overboard with my key names.

> I would absolutely not include cache time or number of items in the
> key, because these can change and then you'll never look up that
> cached data again, leaving it orphaned.

Sounds like good advice. I'll drop the number of items and cache time.

My thinking was that on one page, I might want to request a YouTube
playlist ID of XYZ that's 10 items total (the YT API lets you limit
the number of items it returns) and is cached for 30 minutes. On
another page I'd want to get the same playlist but with 20 items and
have that cached for 60 minutes.

I think I can live without that type of granular control though.
Thanks again for the helpful feedback, it's much appreciated! :)

Oh, I was also wondering about the automatic removal of transients
from the database ... Looks like Nikola's got that question covered.

Cheers,
M

From mickyhulse.lists at gmail.com  Mon Sep  9 20:42:10 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Mon, 9 Sep 2013 13:42:10 -0700
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <84B8374C-95FA-4823-9BF3-43A04399E052@thoughtrefinery.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>
 <CAOwx47eReB=2O9am7DBrEP9Q3-dO72syuufb=eZDyDOkGQWNqA@mail.gmail.com>
 <84B8374C-95FA-4823-9BF3-43A04399E052@thoughtrefinery.com>
Message-ID: <CALri7MmNB8iiO2WewQRUHU=Q7qYVgCsiMnE567UixE5H4oSjeg@mail.gmail.com>

On Mon, Sep 9, 2013 at 1:30 PM, Nikola Nikolov <nikolov.tmw at gmail.com> wrote:
> Otto - doesn't setting transient's expiry time automatically remove it from
> the database once it's time's up? I haven't looked into core precisely how
> this works, but it would make sense for expired transients to get
> removed(during cron or whenever).

Great question!

On Mon, Sep 9, 2013 at 1:34 PM, Nicholas Ciske <nl at thoughtrefinery.com> wrote:
> Nope. It only gets removed the next time it's requested.

Good to know. I just assumed they got swept automatically.

Also, thanks for linkages.

> May be fixed in 3.7:
> http://core.trac.wordpress.org/ticket/20316
> There are plugins that use cron to clean up orphan records, but core does not... yet.
> http://wordpress.org/plugins/artiss-transient-cleaner/
> http://wordpress.org/plugins/delete-expired-transients/

More good links and info. That's helpful. Thanks! :)

From dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com  Mon Sep  9 21:08:23 2013
From: dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com (Michael Clark)
Date: Mon, 9 Sep 2013 17:08:23 -0400
Subject: [wp-hackers] How to test a plugin before release?
Message-ID: <20130909170823604825.396516f8@planetmike.com>

Last week I released an upgrade to a plugin. And started getting bug 
reports that same day. Finally late last night I figured out what the 
problem was. I and a few people test the new version, and was mostly 
good. So this morning I released a new version, and am now getting 
different bug reports. Argh! Of course, it's all working just fine on 
my own sites. 

So, how should I be testing my plugin? Searching for answers to this 
question, I found this quote: "Free or not, any type of update 
shouldn't be released until fully tested." There are a zillion 
different themes and plugins out there, and there's no way to test for 
every combination. Should I be building out a "beta test club" to help 
me test new versions? I'm quite frustrated at the moment. And don't get 
me started on the ever so helpful bug reports of "hey, it doesn't work 
- fix it!" and "lame"

If you're curious, my plugin is at 
http://wordpress.org/plugins/ultimate-category-excluder/ Mike


-- 

Michael Clark
http://www.PlanetMike.com

Christmas Music 24 Hours a Day, 7 Days a week
http://www.ChristmasMusic247.com

"Injustice anywhere is a threat to justice everywhere."
 - Martin Luther King Jr.

From bryan at ibaku.net  Mon Sep  9 22:01:14 2013
From: bryan at ibaku.net (Bryan Petty)
Date: Mon, 9 Sep 2013 16:01:14 -0600
Subject: [wp-hackers] How to test a plugin before release?
In-Reply-To: <20130909170823604825.396516f8@planetmike.com>
References: <20130909170823604825.396516f8@planetmike.com>
Message-ID: <CAKB8V+oH3j2j4-=SX7a7YCdmgiGAj9BTkkU1mS1pL9siF5FOWA@mail.gmail.com>

On Mon, Sep 9, 2013 at 3:08 PM, Michael Clark wrote:
> So, how should I be testing my plugin?

Stop looking at the problem from the perspective that you might need
to build a huge matrix of all sorts of versions of WordPress with
various popular pre-installed plugins combined with different versions
of PHP, and using different major settings like multisite. This is
still partially true, but it's not going to help you. Instead, there's
two major tactics that all plugin developers should be adopting that
mainly avoids this issue.

1. Use programming techniques that avoid conflicts and problems with
other plugins to begin with:

a. Prefix your global methods and classes (or use namespaces if using
OOP and requiring PHP 5.3+ with your plugin) and isolate 3rd party
libraries as a separate service layer if it frequently conflicts with
other common plugins also importing the same library (hide it behind a
separate web-requested PHP script that doesn't include WordPress if
possible).
b. Use your best judgement on ensuring all actions, hooks, and filters
you tie into have an appropriate priority level compared with how
other plugins use those same hooks if you need to use them, and always
make sure your filters return the exact same content if they don't
actually do anything with that content.
c. If your plugin writes HTML, CSS, or Javascript, do the same with
that: namespace and prefix JavaScript code, use unique prefixed CSS
classes on elements, avoid HTML element IDs, and use common built in
HTML element classes to pick up common theme styles.
d. If you want your plugin to work as far back as PHP 5.2 (and you
should since WP supports it), consider doing all of your development
in PHP 5.2 first, and then testing 5.4+ later - you can quickly get
used to the same old habits you used to have of *not* using
namespaces, closures, traits, short array syntax, etc.
e. I'm sure there's techniques others here could add to this list...

2. Add unit tests to your plugins, and think about configuring them
with a continuous integration server like Travis CI.

This will in fact build out a matrix of various configurations for you
covering multiple versions of WordPress, PHP, and multisite (and
common plugins if you customize it to), and run your unit tests across
*all* of them in a fully automated way that you can perform in as
little as a few minutes right before you tag a new release.

I've given a WordCamp presentation on this exact topic if it helps:
https://www.youtube.com/watch?v=9qMUc9anJKQ

Also see: https://github.com/tierra/wordpress-plugin-tests

When you have the hang of those two techniques, the only issues you
end up actually running into are mostly browser-specific bugs with
HTML/CSS. It's much harder to implement automated cross-browser
testing to locate and prevent these bugs before getting reports on
them, but they are usually minor anyway. You might still consider a
service like spoon.net/browsers , browsershots.org or browserstack.com
to help with that if you frequently run into those types of issues.

-- 
Regards,
Bryan Petty

From bristond at gmail.com  Tue Sep 10 03:46:47 2013
From: bristond at gmail.com (Briston Davidge)
Date: Mon, 9 Sep 2013 22:46:47 -0500
Subject: [wp-hackers] wp-hackers Digest, Vol 103, Issue 40
In-Reply-To: <mailman.15.1377950401.31632.wp-hackers@lists.automattic.com>
References: <mailman.15.1377950401.31632.wp-hackers@lists.automattic.com>
Message-ID: <CAOY6yXb8HjhXW9yWMYFi=HFjZVouWv04BQSmyGRUX_yomjOBRQ@mail.gmail.com>

Forgive me if this is not the proper avenue, the pro list is retired...

Anyone in Kansas City looking for WP work?  Please email
briston at luminopolis.com

Thanks,

From guus at inspiration-for-success.com  Tue Sep 10 04:01:24 2013
From: guus at inspiration-for-success.com (Guus (IFS))
Date: Tue, 10 Sep 2013 12:01:24 +0800
Subject: [wp-hackers] How to test a plugin before release?
References: <20130909170823604825.396516f8@planetmike.com>
Message-ID: <3EC5BEC09F0E4446AAEBD5495BE08194@megaheights.net>

Hi Michael,

Good suggestion!

I have the same problem and the main issue is that I have no one to 'counter 
test', like download the new version and install it 'fresh' or as an upgrade 
'somewhere'.

So yeah, something like 'beta test' or 'counter test' would be very useful 
for everybody. Let's think on how to organize,

Guus


----- Original Message ----- 
From: "Michael Clark" 
<dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com>
To: <wp-hackers at lists.automattic.com>
Sent: Tuesday, September 10, 2013 5:08 AM
Subject: [wp-hackers] How to test a plugin before release?


> Last week I released an upgrade to a plugin. And started getting bug
> reports that same day. Finally late last night I figured out what the
> problem was. I and a few people test the new version, and was mostly
> good. So this morning I released a new version, and am now getting
> different bug reports. Argh! Of course, it's all working just fine on
> my own sites.
>
> So, how should I be testing my plugin? Searching for answers to this
> question, I found this quote: "Free or not, any type of update
> shouldn't be released until fully tested." There are a zillion
> different themes and plugins out there, and there's no way to test for
> every combination. Should I be building out a "beta test club" to help
> me test new versions? I'm quite frustrated at the moment. And don't get
> me started on the ever so helpful bug reports of "hey, it doesn't work
> - fix it!" and "lame"
>
> If you're curious, my plugin is at
> http://wordpress.org/plugins/ultimate-category-excluder/ Mike
>
>
> -- 
>
> Michael Clark
> http://www.PlanetMike.com
>
> Christmas Music 24 Hours a Day, 7 Days a week
> http://www.ChristmasMusic247.com
>
> "Injustice anywhere is a threat to justice everywhere."
> - Martin Luther King Jr.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From info at jaimemartinez.nl  Tue Sep 10 06:08:53 2013
From: info at jaimemartinez.nl (=?utf-8?Q?Jaime_Mart=C3=ADnez?=)
Date: Tue, 10 Sep 2013 08:08:53 +0200
Subject: [wp-hackers] How to test a plugin before release?
In-Reply-To: <3EC5BEC09F0E4446AAEBD5495BE08194@megaheights.net>
References: <20130909170823604825.396516f8@planetmike.com>
 <3EC5BEC09F0E4446AAEBD5495BE08194@megaheights.net>
Message-ID: <76183708-7440-4622-9D0C-E7023FD8507D@jaimemartinez.nl>

Hola,

If you want to setup unit tests then you could checkout WP-CLI to ease the initial setup. Here's a tutorial: http://wp-cli.org/blog/plugin-unit-tests.html

If you want to test fresh installs then checkout how WP-CLI runs it's Behat tests. With Behat you can do these "What happends when I have a fresh install".

Ciao,

Jaime Martinez



On 10 sep. 2013, at 06:01, "Guus \(IFS\)" <guus at inspiration-for-success.com> wrote:

> Hi Michael,
> 
> Good suggestion!
> 
> I have the same problem and the main issue is that I have no one to 'counter test', like download the new version and install it 'fresh' or as an upgrade 'somewhere'.
> 
> So yeah, something like 'beta test' or 'counter test' would be very useful for everybody. Let's think on how to organize,
> 
> Guus
> 
> 
> ----- Original Message ----- From: "Michael Clark" <dc153464a11bcf5aeb18180db28017fb.wp-hackers at planetmike.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Tuesday, September 10, 2013 5:08 AM
> Subject: [wp-hackers] How to test a plugin before release?
> 
> 
>> Last week I released an upgrade to a plugin. And started getting bug
>> reports that same day. Finally late last night I figured out what the
>> problem was. I and a few people test the new version, and was mostly
>> good. So this morning I released a new version, and am now getting
>> different bug reports. Argh! Of course, it's all working just fine on
>> my own sites.
>> 
>> So, how should I be testing my plugin? Searching for answers to this
>> question, I found this quote: "Free or not, any type of update
>> shouldn't be released until fully tested." There are a zillion
>> different themes and plugins out there, and there's no way to test for
>> every combination. Should I be building out a "beta test club" to help
>> me test new versions? I'm quite frustrated at the moment. And don't get
>> me started on the ever so helpful bug reports of "hey, it doesn't work
>> - fix it!" and "lame"
>> 
>> If you're curious, my plugin is at
>> http://wordpress.org/plugins/ultimate-category-excluder/ Mike
>> 
>> 
>> -- 
>> 
>> Michael Clark
>> http://www.PlanetMike.com
>> 
>> Christmas Music 24 Hours a Day, 7 Days a week
>> http://www.ChristmasMusic247.com
>> 
>> "Injustice anywhere is a threat to justice everywhere."
>> - Martin Luther King Jr.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jdg at codesymphony.co  Tue Sep 10 14:06:43 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Tue, 10 Sep 2013 10:06:43 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 103, Issue 40
In-Reply-To: <CAOY6yXb8HjhXW9yWMYFi=HFjZVouWv04BQSmyGRUX_yomjOBRQ@mail.gmail.com>
References: <mailman.15.1377950401.31632.wp-hackers@lists.automattic.com>
 <CAOY6yXb8HjhXW9yWMYFi=HFjZVouWv04BQSmyGRUX_yomjOBRQ@mail.gmail.com>
Message-ID: <AA6B7D05-2AAE-4CEC-B3C5-A8494785872B@codesymphony.co>

You should probably try http://jobs.wordpress.net/

On Sep 9, 2013, at 11:46 PM, Briston Davidge <bristond at gmail.com> wrote:

> Forgive me if this is not the proper avenue, the pro list is retired...
> 
> Anyone in Kansas City looking for WP work?  Please email
> briston at luminopolis.com
> 
> Thanks,
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jer at simianuprising.com  Tue Sep 10 17:04:25 2013
From: jer at simianuprising.com (Jeremy Clarke)
Date: Tue, 10 Sep 2013 13:04:25 -0400
Subject: [wp-hackers] something like a post_get_posts?
In-Reply-To: <F1E64504BBC049789D2E5F6E912ACBFD@gmail.com>
References: <F1E64504BBC049789D2E5F6E912ACBFD@gmail.com>
Message-ID: <CAAHgzDNn1GmThfOCBzkW3bz5=Z=jyL=qmWMJ+SruWNNbzSC=qA@mail.gmail.com>

On Fri, Sep 6, 2013 at 5:04 PM, Josh <joshua.sibelman at gmail.com> wrote:

>  There's no post_get_posts, but is there another action I can hook into
> that might be workable?
>
>
I think the 'wp' action should offer what you need. IIRC it runs after the
main query is complete but before the template is rendered.


> loop_start seems like a good candidate but there's not much documentation
> about that one.
>
>
In theory this would work but be very careful. 'loop_start' will fire on
every single loop, including secondary queries for widgets, related posts
etc.

In either case you should be sure to check is_main_query() against your
WP_Query object before modifying it, or at least be aware of the difference
between filtering the main query of a screen versus filtering all possible
WP_Query instances.

http://codex.wordpress.org/Function_Reference/is_main_query

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org

From joshua.sibelman at gmail.com  Tue Sep 10 17:36:46 2013
From: joshua.sibelman at gmail.com (Josh)
Date: Tue, 10 Sep 2013 10:36:46 -0700
Subject: [wp-hackers] something like a post_get_posts?
In-Reply-To: <CAAHgzDNn1GmThfOCBzkW3bz5=Z=jyL=qmWMJ+SruWNNbzSC=qA@mail.gmail.com>
References: <F1E64504BBC049789D2E5F6E912ACBFD@gmail.com>
 <CAAHgzDNn1GmThfOCBzkW3bz5=Z=jyL=qmWMJ+SruWNNbzSC=qA@mail.gmail.com>
Message-ID: <FF2CC1FBA26D43A68C38B40768463C3E@gmail.com>

Great, thanks.  



On Tuesday, September 10, 2013 at 10:04 AM, Jeremy Clarke wrote:

> On Fri, Sep 6, 2013 at 5:04 PM, Josh <joshua.sibelman at gmail.com (mailto:joshua.sibelman at gmail.com)> wrote:
>  
> > There's no post_get_posts, but is there another action I can hook into
> > that might be workable?
> >  
>  
> I think the 'wp' action should offer what you need. IIRC it runs after the
> main query is complete but before the template is rendered.
>  
>  
> > loop_start seems like a good candidate but there's not much documentation
> > about that one.
> >  
>  
> In theory this would work but be very careful. 'loop_start' will fire on
> every single loop, including secondary queries for widgets, related posts
> etc.
>  
> In either case you should be sure to check is_main_query() against your
> WP_Query object before modifying it, or at least be aware of the difference
> between filtering the main query of a screen versus filtering all possible
> WP_Query instances.
>  
> http://codex.wordpress.org/Function_Reference/is_main_query
>  
> --  
> Jeremy Clarke ? jeremyclarke.org (http://jeremyclarke.org)
> Code and Design ? globalvoicesonline.org (http://globalvoicesonline.org)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>  
>  



From mickyhulse.lists at gmail.com  Tue Sep 10 18:51:46 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Tue, 10 Sep 2013 11:51:46 -0700
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CALri7MmNB8iiO2WewQRUHU=Q7qYVgCsiMnE567UixE5H4oSjeg@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>
 <CAOwx47eReB=2O9am7DBrEP9Q3-dO72syuufb=eZDyDOkGQWNqA@mail.gmail.com>
 <84B8374C-95FA-4823-9BF3-43A04399E052@thoughtrefinery.com>
 <CALri7MmNB8iiO2WewQRUHU=Q7qYVgCsiMnE567UixE5H4oSjeg@mail.gmail.com>
Message-ID: <CALri7M=csDQBnh71EFZ5qODs7ZAWU=MxdVgLZZ894Sn4UJ0myg@mail.gmail.com>

One last update to this thread, I noticed that my transients weren't
getting cached when using:

plugin_name + md5(values...)

When I shortened the key name, then it caching would work.

I took another look at the docs:

<http://codex.wordpress.org/Function_Reference/set_transient>

... and saw:

"Should be 45 characters or less in length."

I had overlooked that bit of info until now. Good to know! :)

Thanks again to everyone for the help!

From mickyhulse.lists at gmail.com  Tue Sep 10 19:17:53 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Tue, 10 Sep 2013 12:17:53 -0700
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CALri7M=csDQBnh71EFZ5qODs7ZAWU=MxdVgLZZ894Sn4UJ0myg@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>
 <CAOwx47eReB=2O9am7DBrEP9Q3-dO72syuufb=eZDyDOkGQWNqA@mail.gmail.com>
 <84B8374C-95FA-4823-9BF3-43A04399E052@thoughtrefinery.com>
 <CALri7MmNB8iiO2WewQRUHU=Q7qYVgCsiMnE567UixE5H4oSjeg@mail.gmail.com>
 <CALri7M=csDQBnh71EFZ5qODs7ZAWU=MxdVgLZZ894Sn4UJ0myg@mail.gmail.com>
Message-ID: <CALri7Mm29Hp4fLXP1TEAmqj+p-DFvUfSxmcmE3B27O1E5qMc1w@mail.gmail.com>

One last comment for completeness's sake:

"The option_name field in the options table has a record length of 64
characters. So, taking into account the prefixes added to the
transient name, a transient name can only be a maximum of 45
characters (or 40 characters for network transients). The problem here
is that WordPress doesn?t check. It doesn?t fail either ? it creates
the transients but simply truncates the name. And because each of the
transient record pairs has a different length prefix then they each
end up with a different name ? this means the transient can?t be
retrieved."

Via: <http://www.artiss.co.uk/2013/05/using-transients>

From otto at ottodestruct.com  Tue Sep 10 21:44:29 2013
From: otto at ottodestruct.com (Otto)
Date: Tue, 10 Sep 2013 16:44:29 -0500
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CALri7Mm29Hp4fLXP1TEAmqj+p-DFvUfSxmcmE3B27O1E5qMc1w@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>
 <CAOwx47eReB=2O9am7DBrEP9Q3-dO72syuufb=eZDyDOkGQWNqA@mail.gmail.com>
 <84B8374C-95FA-4823-9BF3-43A04399E052@thoughtrefinery.com>
 <CALri7MmNB8iiO2WewQRUHU=Q7qYVgCsiMnE567UixE5H4oSjeg@mail.gmail.com>
 <CALri7M=csDQBnh71EFZ5qODs7ZAWU=MxdVgLZZ894Sn4UJ0myg@mail.gmail.com>
 <CALri7Mm29Hp4fLXP1TEAmqj+p-DFvUfSxmcmE3B27O1E5qMc1w@mail.gmail.com>
Message-ID: <CAD-Fghxe+omjCwEmsL0jRWRzg9ovyZ4spYH3gGx1SEReyCtr=w@mail.gmail.com>

Note that transients are not always stored in the options table, this
is just one possible place that they can be put. So that length
limitation isn't enforced in WordPress itself because other systems
might not have the same limitation.

Still, 45 characters is reasonably long for any realistic case. MD5
produces 32 characters, leaving you another 13 for a unique prefix.
Although I'd try to avoid even that long, generally speaking.

-Otto


On Tue, Sep 10, 2013 at 2:17 PM, Micky Hulse <mickyhulse.lists at gmail.com> wrote:
> One last comment for completeness's sake:
>
> "The option_name field in the options table has a record length of 64
> characters. So, taking into account the prefixes added to the
> transient name, a transient name can only be a maximum of 45
> characters (or 40 characters for network transients). The problem here
> is that WordPress doesn?t check. It doesn?t fail either ? it creates
> the transients but simply truncates the name. And because each of the
> transient record pairs has a different length prefix then they each
> end up with a different name ? this means the transient can?t be
> retrieved."
>
> Via: <http://www.artiss.co.uk/2013/05/using-transients>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mickyhulse.lists at gmail.com  Tue Sep 10 21:58:31 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Tue, 10 Sep 2013 14:58:31 -0700
Subject: [wp-hackers] Transient key best practice
In-Reply-To: <CAD-Fghxe+omjCwEmsL0jRWRzg9ovyZ4spYH3gGx1SEReyCtr=w@mail.gmail.com>
References: <CALri7MmZTOFKt+txB8ikO-X67zJ1tsBJ8ehqx+kBvnhCk_6cjg@mail.gmail.com>
 <CAD-FghwC7wXtyQpKo24rP--L-Nnnxc5reZ6mcsqhq-K-gLhF0A@mail.gmail.com>
 <CAOwx47eReB=2O9am7DBrEP9Q3-dO72syuufb=eZDyDOkGQWNqA@mail.gmail.com>
 <84B8374C-95FA-4823-9BF3-43A04399E052@thoughtrefinery.com>
 <CALri7MmNB8iiO2WewQRUHU=Q7qYVgCsiMnE567UixE5H4oSjeg@mail.gmail.com>
 <CALri7M=csDQBnh71EFZ5qODs7ZAWU=MxdVgLZZ894Sn4UJ0myg@mail.gmail.com>
 <CALri7Mm29Hp4fLXP1TEAmqj+p-DFvUfSxmcmE3B27O1E5qMc1w@mail.gmail.com>
 <CAD-Fghxe+omjCwEmsL0jRWRzg9ovyZ4spYH3gGx1SEReyCtr=w@mail.gmail.com>
Message-ID: <CALri7M=XVuLSVzj8ykz=Bw6RyC3LOtaLh-gCpiic93jMS3q1zA@mail.gmail.com>

Excellent advice! Thanks Otto!

As an ExpressionEngine convert, I'm loving every minute of Wordpress.
It's just so flexible and fun to work with (plus, the community of
developers is top notch). :)

Have a great day all!

On Tue, Sep 10, 2013 at 2:44 PM, Otto <otto at ottodestruct.com> wrote:
> Note that transients are not always stored in the options table, this
> is just one possible place that they can be put. So that length
> limitation isn't enforced in WordPress itself because other systems
> might not have the same limitation.
> Still, 45 characters is reasonably long for any realistic case. MD5
> produces 32 characters, leaving you another 13 for a unique prefix.
> Although I'd try to avoid even that long, generally speaking.

From banago at gmail.com  Wed Sep 11 09:17:11 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 11 Sep 2013 11:17:11 +0200
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
Message-ID: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>

Hi guys,

I'm getting this error no matter what I switch on or off. Seems to be a PHP
5.4 problem and from a little search I saw it was popping on a lot of
websites live. Here is what I get.
*
*
>
> *Strict Standards*: Declaration of Roller::start_el() should be
> compatible with Walker::start_el(&$output, $object, $depth = 0, $args =
> Array, $current_object_id = 0) in */var/www/vhosts/
> haute-dish.com/httpdocs/wp-content/themes/hd/functions.php* on line *375*
>

Seems this is not a theme/plugin developer thing and needs to be fixed in
WP. Any thoughts?

Kindly,

Baki Goxhaj
about.me/banago

From filippo.pisano at gmail.com  Wed Sep 11 09:19:32 2013
From: filippo.pisano at gmail.com (Filippo Pisano)
Date: Wed, 11 Sep 2013 11:19:32 +0200
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
Message-ID: <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>

It is a theme error indeed.
PHP is telling you to fix the error inside functions.php in line 375. I
think you should check your theme ;)

Filippo Pisano
cel: 3291821355 / skype: filippopisano


On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <banago at gmail.com> wrote:

> Hi guys,
>
> I'm getting this error no matter what I switch on or off. Seems to be a PHP
> 5.4 problem and from a little search I saw it was popping on a lot of
> websites live. Here is what I get.
> *
> *
> >
> > *Strict Standards*: Declaration of Roller::start_el() should be
> > compatible with Walker::start_el(&$output, $object, $depth = 0, $args =
> > Array, $current_object_id = 0) in */var/www/vhosts/
> > haute-dish.com/httpdocs/wp-content/themes/hd/functions.php* on line
> *375*
> >
>
> Seems this is not a theme/plugin developer thing and needs to be fixed in
> WP. Any thoughts?
>
> Kindly,
>
> Baki Goxhaj
> about.me/banago
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From nikolov.tmw at gmail.com  Wed Sep 11 09:22:28 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Wed, 11 Sep 2013 12:22:28 +0300
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
 <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
Message-ID: <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>

I'm almost a 100% sure that the Roller() class  is definitely a custom
class that extends the Walker() class that comes with WordPress.

I'm also pretty sure that the error you're seeing is because either you
have a different amount of arguments in the Roller:start_el() method
declaration, or some other incompatibility with the main class(defining a
class property with a different access level for instance).


On Wed, Sep 11, 2013 at 12:19 PM, Filippo Pisano
<filippo.pisano at gmail.com>wrote:

> It is a theme error indeed.
> PHP is telling you to fix the error inside functions.php in line 375. I
> think you should check your theme ;)
>
> Filippo Pisano
> cel: 3291821355 / skype: filippopisano
>
>
> On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <banago at gmail.com> wrote:
>
> > Hi guys,
> >
> > I'm getting this error no matter what I switch on or off. Seems to be a
> PHP
> > 5.4 problem and from a little search I saw it was popping on a lot of
> > websites live. Here is what I get.
> > *
> > *
> > >
> > > *Strict Standards*: Declaration of Roller::start_el() should be
> > > compatible with Walker::start_el(&$output, $object, $depth = 0, $args =
> > > Array, $current_object_id = 0) in */var/www/vhosts/
> > > haute-dish.com/httpdocs/wp-content/themes/hd/functions.php* on line
> > *375*
> > >
> >
> > Seems this is not a theme/plugin developer thing and needs to be fixed in
> > WP. Any thoughts?
> >
> > Kindly,
> >
> > Baki Goxhaj
> > about.me/banago
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From banago at gmail.com  Wed Sep 11 09:29:08 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 11 Sep 2013 11:29:08 +0200
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
 <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
 <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>
Message-ID: <CAM_fM0ofZ8CEfUxLDnOqGKW=6+tB8gNJXzN2kJf7CazWhkLNdA@mail.gmail.com>

Roller extends Walker_Nav_Menu. I made the start_el arguments the same
already.

The strange things is that Walker_Nav_Menu and Walker class have different
arguments number for start_el function - which is probably causing the
issue.

Need more insight?


Kindly,

Baki Goxhaj
about.me/banago


On Wed, Sep 11, 2013 at 11:22 AM, Nikola Nikolov <nikolov.tmw at gmail.com>wrote:

> I'm almost a 100% sure that the Roller() class  is definitely a custom
> class that extends the Walker() class that comes with WordPress.
>
> I'm also pretty sure that the error you're seeing is because either you
> have a different amount of arguments in the Roller:start_el() method
> declaration, or some other incompatibility with the main class(defining a
> class property with a different access level for instance).
>
>
> On Wed, Sep 11, 2013 at 12:19 PM, Filippo Pisano
> <filippo.pisano at gmail.com>wrote:
>
> > It is a theme error indeed.
> > PHP is telling you to fix the error inside functions.php in line 375. I
> > think you should check your theme ;)
> >
> > Filippo Pisano
> > cel: 3291821355 / skype: filippopisano
> >
> >
> > On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <banago at gmail.com> wrote:
> >
> > > Hi guys,
> > >
> > > I'm getting this error no matter what I switch on or off. Seems to be a
> > PHP
> > > 5.4 problem and from a little search I saw it was popping on a lot of
> > > websites live. Here is what I get.
> > > *
> > > *
> > > >
> > > > *Strict Standards*: Declaration of Roller::start_el() should be
> > > > compatible with Walker::start_el(&$output, $object, $depth = 0,
> $args =
> > > > Array, $current_object_id = 0) in */var/www/vhosts/
> > > > haute-dish.com/httpdocs/wp-content/themes/hd/functions.php* on line
> > > *375*
> > > >
> > >
> > > Seems this is not a theme/plugin developer thing and needs to be fixed
> in
> > > WP. Any thoughts?
> > >
> > > Kindly,
> > >
> > > Baki Goxhaj
> > > about.me/banago
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From filippo.pisano at gmail.com  Wed Sep 11 09:34:12 2013
From: filippo.pisano at gmail.com (Filippo Pisano)
Date: Wed, 11 Sep 2013 11:34:12 +0200
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CAM_fM0ofZ8CEfUxLDnOqGKW=6+tB8gNJXzN2kJf7CazWhkLNdA@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
 <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
 <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>
 <CAM_fM0ofZ8CEfUxLDnOqGKW=6+tB8gNJXzN2kJf7CazWhkLNdA@mail.gmail.com>
Message-ID: <CABCyq-kGq7QuY_Jeid3si6r2fo17oe24hsy2B4nFzCOCHDFcCA@mail.gmail.com>

Could you please post your declaration of start_el() ?

Filippo Pisano
cel: 3291821355 / skype: filippopisano


On Wed, Sep 11, 2013 at 11:29 AM, Baki Goxhaj <banago at gmail.com> wrote:

> Roller extends Walker_Nav_Menu. I made the start_el arguments the same
> already.
>
> The strange things is that Walker_Nav_Menu and Walker class have different
> arguments number for start_el function - which is probably causing the
> issue.
>
> Need more insight?
>
>
> Kindly,
>
> Baki Goxhaj
> about.me/banago
>
>
> On Wed, Sep 11, 2013 at 11:22 AM, Nikola Nikolov <nikolov.tmw at gmail.com
> >wrote:
>
> > I'm almost a 100% sure that the Roller() class  is definitely a custom
> > class that extends the Walker() class that comes with WordPress.
> >
> > I'm also pretty sure that the error you're seeing is because either you
> > have a different amount of arguments in the Roller:start_el() method
> > declaration, or some other incompatibility with the main class(defining a
> > class property with a different access level for instance).
> >
> >
> > On Wed, Sep 11, 2013 at 12:19 PM, Filippo Pisano
> > <filippo.pisano at gmail.com>wrote:
> >
> > > It is a theme error indeed.
> > > PHP is telling you to fix the error inside functions.php in line 375. I
> > > think you should check your theme ;)
> > >
> > > Filippo Pisano
> > > cel: 3291821355 / skype: filippopisano
> > >
> > >
> > > On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <banago at gmail.com>
> wrote:
> > >
> > > > Hi guys,
> > > >
> > > > I'm getting this error no matter what I switch on or off. Seems to
> be a
> > > PHP
> > > > 5.4 problem and from a little search I saw it was popping on a lot of
> > > > websites live. Here is what I get.
> > > > *
> > > > *
> > > > >
> > > > > *Strict Standards*: Declaration of Roller::start_el() should be
> > > > > compatible with Walker::start_el(&$output, $object, $depth = 0,
> > $args =
> > > > > Array, $current_object_id = 0) in */var/www/vhosts/
> > > > > haute-dish.com/httpdocs/wp-content/themes/hd/functions.php* on
> line
> > > > *375*
> > > > >
> > > >
> > > > Seems this is not a theme/plugin developer thing and needs to be
> fixed
> > in
> > > > WP. Any thoughts?
> > > >
> > > > Kindly,
> > > >
> > > > Baki Goxhaj
> > > > about.me/banago
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From nikolov.tmw at gmail.com  Wed Sep 11 09:35:54 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Wed, 11 Sep 2013 12:35:54 +0300
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CABCyq-kGq7QuY_Jeid3si6r2fo17oe24hsy2B4nFzCOCHDFcCA@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
 <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
 <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>
 <CAM_fM0ofZ8CEfUxLDnOqGKW=6+tB8gNJXzN2kJf7CazWhkLNdA@mail.gmail.com>
 <CABCyq-kGq7QuY_Jeid3si6r2fo17oe24hsy2B4nFzCOCHDFcCA@mail.gmail.com>
Message-ID: <CAOwx47ck7FzT78AEqnfpBprtbu83yaV-PZdX1jMTkP0rcUO6gA@mail.gmail.com>

If possible the whole Roller class(you can use a service like pastebin or
other in order to show us the code).


On Wed, Sep 11, 2013 at 12:34 PM, Filippo Pisano
<filippo.pisano at gmail.com>wrote:

> Could you please post your declaration of start_el() ?
>
> Filippo Pisano
> cel: 3291821355 / skype: filippopisano
>
>
> On Wed, Sep 11, 2013 at 11:29 AM, Baki Goxhaj <banago at gmail.com> wrote:
>
> > Roller extends Walker_Nav_Menu. I made the start_el arguments the same
> > already.
> >
> > The strange things is that Walker_Nav_Menu and Walker class have
> different
> > arguments number for start_el function - which is probably causing the
> > issue.
> >
> > Need more insight?
> >
> >
> > Kindly,
> >
> > Baki Goxhaj
> > about.me/banago
> >
> >
> > On Wed, Sep 11, 2013 at 11:22 AM, Nikola Nikolov <nikolov.tmw at gmail.com
> > >wrote:
> >
> > > I'm almost a 100% sure that the Roller() class  is definitely a custom
> > > class that extends the Walker() class that comes with WordPress.
> > >
> > > I'm also pretty sure that the error you're seeing is because either you
> > > have a different amount of arguments in the Roller:start_el() method
> > > declaration, or some other incompatibility with the main
> class(defining a
> > > class property with a different access level for instance).
> > >
> > >
> > > On Wed, Sep 11, 2013 at 12:19 PM, Filippo Pisano
> > > <filippo.pisano at gmail.com>wrote:
> > >
> > > > It is a theme error indeed.
> > > > PHP is telling you to fix the error inside functions.php in line
> 375. I
> > > > think you should check your theme ;)
> > > >
> > > > Filippo Pisano
> > > > cel: 3291821355 / skype: filippopisano
> > > >
> > > >
> > > > On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <banago at gmail.com>
> > wrote:
> > > >
> > > > > Hi guys,
> > > > >
> > > > > I'm getting this error no matter what I switch on or off. Seems to
> > be a
> > > > PHP
> > > > > 5.4 problem and from a little search I saw it was popping on a lot
> of
> > > > > websites live. Here is what I get.
> > > > > *
> > > > > *
> > > > > >
> > > > > > *Strict Standards*: Declaration of Roller::start_el() should be
> > > > > > compatible with Walker::start_el(&$output, $object, $depth = 0,
> > > $args =
> > > > > > Array, $current_object_id = 0) in */var/www/vhosts/
> > > > > > haute-dish.com/httpdocs/wp-content/themes/hd/functions.php* on
> > line
> > > > > *375*
> > > > > >
> > > > >
> > > > > Seems this is not a theme/plugin developer thing and needs to be
> > fixed
> > > in
> > > > > WP. Any thoughts?
> > > > >
> > > > > Kindly,
> > > > >
> > > > > Baki Goxhaj
> > > > > about.me/banago
> > > > > _______________________________________________
> > > > > wp-hackers mailing list
> > > > > wp-hackers at lists.automattic.com
> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From banago at gmail.com  Wed Sep 11 09:38:05 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 11 Sep 2013 11:38:05 +0200
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CAOwx47ck7FzT78AEqnfpBprtbu83yaV-PZdX1jMTkP0rcUO6gA@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
 <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
 <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>
 <CAM_fM0ofZ8CEfUxLDnOqGKW=6+tB8gNJXzN2kJf7CazWhkLNdA@mail.gmail.com>
 <CABCyq-kGq7QuY_Jeid3si6r2fo17oe24hsy2B4nFzCOCHDFcCA@mail.gmail.com>
 <CAOwx47ck7FzT78AEqnfpBprtbu83yaV-PZdX1jMTkP0rcUO6gA@mail.gmail.com>
Message-ID: <CAM_fM0r4oxLh37OdGCW=9mqG32SKsQyZe3hBbYuVmYnPQ9Knsg@mail.gmail.com>

Here is my Roller class as it stands now:

http://paste.laravel.com/Q3i

Kindly,

Baki Goxhaj
about.me/banago


On Wed, Sep 11, 2013 at 11:35 AM, Nikola Nikolov <nikolov.tmw at gmail.com>wrote:

> If possible the whole Roller class(you can use a service like pastebin or
> other in order to show us the code).
>
>
> On Wed, Sep 11, 2013 at 12:34 PM, Filippo Pisano
> <filippo.pisano at gmail.com>wrote:
>
> > Could you please post your declaration of start_el() ?
> >
> > Filippo Pisano
> > cel: 3291821355 / skype: filippopisano
> >
> >
> > On Wed, Sep 11, 2013 at 11:29 AM, Baki Goxhaj <banago at gmail.com> wrote:
> >
> > > Roller extends Walker_Nav_Menu. I made the start_el arguments the same
> > > already.
> > >
> > > The strange things is that Walker_Nav_Menu and Walker class have
> > different
> > > arguments number for start_el function - which is probably causing the
> > > issue.
> > >
> > > Need more insight?
> > >
> > >
> > > Kindly,
> > >
> > > Baki Goxhaj
> > > about.me/banago
> > >
> > >
> > > On Wed, Sep 11, 2013 at 11:22 AM, Nikola Nikolov <
> nikolov.tmw at gmail.com
> > > >wrote:
> > >
> > > > I'm almost a 100% sure that the Roller() class  is definitely a
> custom
> > > > class that extends the Walker() class that comes with WordPress.
> > > >
> > > > I'm also pretty sure that the error you're seeing is because either
> you
> > > > have a different amount of arguments in the Roller:start_el() method
> > > > declaration, or some other incompatibility with the main
> > class(defining a
> > > > class property with a different access level for instance).
> > > >
> > > >
> > > > On Wed, Sep 11, 2013 at 12:19 PM, Filippo Pisano
> > > > <filippo.pisano at gmail.com>wrote:
> > > >
> > > > > It is a theme error indeed.
> > > > > PHP is telling you to fix the error inside functions.php in line
> > 375. I
> > > > > think you should check your theme ;)
> > > > >
> > > > > Filippo Pisano
> > > > > cel: 3291821355 / skype: filippopisano
> > > > >
> > > > >
> > > > > On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <banago at gmail.com>
> > > wrote:
> > > > >
> > > > > > Hi guys,
> > > > > >
> > > > > > I'm getting this error no matter what I switch on or off. Seems
> to
> > > be a
> > > > > PHP
> > > > > > 5.4 problem and from a little search I saw it was popping on a
> lot
> > of
> > > > > > websites live. Here is what I get.
> > > > > > *
> > > > > > *
> > > > > > >
> > > > > > > *Strict Standards*: Declaration of Roller::start_el() should be
> > > > > > > compatible with Walker::start_el(&$output, $object, $depth = 0,
> > > > $args =
> > > > > > > Array, $current_object_id = 0) in */var/www/vhosts/
> > > > > > > haute-dish.com/httpdocs/wp-content/themes/hd/functions.php* on
> > > line
> > > > > > *375*
> > > > > > >
> > > > > >
> > > > > > Seems this is not a theme/plugin developer thing and needs to be
> > > fixed
> > > > in
> > > > > > WP. Any thoughts?
> > > > > >
> > > > > > Kindly,
> > > > > >
> > > > > > Baki Goxhaj
> > > > > > about.me/banago
> > > > > > _______________________________________________
> > > > > > wp-hackers mailing list
> > > > > > wp-hackers at lists.automattic.com
> > > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > > >
> > > > > _______________________________________________
> > > > > wp-hackers mailing list
> > > > > wp-hackers at lists.automattic.com
> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From banago at gmail.com  Wed Sep 11 09:39:41 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 11 Sep 2013 11:39:41 +0200
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CAM_fM0r4oxLh37OdGCW=9mqG32SKsQyZe3hBbYuVmYnPQ9Knsg@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
 <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
 <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>
 <CAM_fM0ofZ8CEfUxLDnOqGKW=6+tB8gNJXzN2kJf7CazWhkLNdA@mail.gmail.com>
 <CABCyq-kGq7QuY_Jeid3si6r2fo17oe24hsy2B4nFzCOCHDFcCA@mail.gmail.com>
 <CAOwx47ck7FzT78AEqnfpBprtbu83yaV-PZdX1jMTkP0rcUO6gA@mail.gmail.com>
 <CAM_fM0r4oxLh37OdGCW=9mqG32SKsQyZe3hBbYuVmYnPQ9Knsg@mail.gmail.com>
Message-ID: <CAM_fM0pybn3rg8-BZwO-hb1nVr+FFTC5BNPbQosTnwN0p=O6yw@mail.gmail.com>

it's basically the same implementation of Walker_Nav_Menu with this line
added:

> $item_output .= '<span>' . $item->description . '</span>';
>
>

Kindly,

Baki Goxhaj
about.me/banago


On Wed, Sep 11, 2013 at 11:38 AM, Baki Goxhaj <banago at gmail.com> wrote:

> Here is my Roller class as it stands now:
>
> http://paste.laravel.com/Q3i
>
> Kindly,
>
> Baki Goxhaj
> about.me/banago
>
>
> On Wed, Sep 11, 2013 at 11:35 AM, Nikola Nikolov <nikolov.tmw at gmail.com>wrote:
>
>> If possible the whole Roller class(you can use a service like pastebin or
>> other in order to show us the code).
>>
>>
>> On Wed, Sep 11, 2013 at 12:34 PM, Filippo Pisano
>> <filippo.pisano at gmail.com>wrote:
>>
>> > Could you please post your declaration of start_el() ?
>> >
>> > Filippo Pisano
>> > cel: 3291821355 / skype: filippopisano
>> >
>> >
>> > On Wed, Sep 11, 2013 at 11:29 AM, Baki Goxhaj <banago at gmail.com> wrote:
>> >
>> > > Roller extends Walker_Nav_Menu. I made the start_el arguments the same
>> > > already.
>> > >
>> > > The strange things is that Walker_Nav_Menu and Walker class have
>> > different
>> > > arguments number for start_el function - which is probably causing the
>> > > issue.
>> > >
>> > > Need more insight?
>> > >
>> > >
>> > > Kindly,
>> > >
>> > > Baki Goxhaj
>> > > about.me/banago
>> > >
>> > >
>> > > On Wed, Sep 11, 2013 at 11:22 AM, Nikola Nikolov <
>> nikolov.tmw at gmail.com
>> > > >wrote:
>> > >
>> > > > I'm almost a 100% sure that the Roller() class  is definitely a
>> custom
>> > > > class that extends the Walker() class that comes with WordPress.
>> > > >
>> > > > I'm also pretty sure that the error you're seeing is because either
>> you
>> > > > have a different amount of arguments in the Roller:start_el() method
>> > > > declaration, or some other incompatibility with the main
>> > class(defining a
>> > > > class property with a different access level for instance).
>> > > >
>> > > >
>> > > > On Wed, Sep 11, 2013 at 12:19 PM, Filippo Pisano
>> > > > <filippo.pisano at gmail.com>wrote:
>> > > >
>> > > > > It is a theme error indeed.
>> > > > > PHP is telling you to fix the error inside functions.php in line
>> > 375. I
>> > > > > think you should check your theme ;)
>> > > > >
>> > > > > Filippo Pisano
>> > > > > cel: 3291821355 / skype: filippopisano
>> > > > >
>> > > > >
>> > > > > On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <banago at gmail.com>
>> > > wrote:
>> > > > >
>> > > > > > Hi guys,
>> > > > > >
>> > > > > > I'm getting this error no matter what I switch on or off. Seems
>> to
>> > > be a
>> > > > > PHP
>> > > > > > 5.4 problem and from a little search I saw it was popping on a
>> lot
>> > of
>> > > > > > websites live. Here is what I get.
>> > > > > > *
>> > > > > > *
>> > > > > > >
>> > > > > > > *Strict Standards*: Declaration of Roller::start_el() should
>> be
>> > > > > > > compatible with Walker::start_el(&$output, $object, $depth =
>> 0,
>> > > > $args =
>> > > > > > > Array, $current_object_id = 0) in */var/www/vhosts/
>> > > > > > > haute-dish.com/httpdocs/wp-content/themes/hd/functions.php*on
>> > > line
>> > > > > > *375*
>> > > > > > >
>> > > > > >
>> > > > > > Seems this is not a theme/plugin developer thing and needs to be
>> > > fixed
>> > > > in
>> > > > > > WP. Any thoughts?
>> > > > > >
>> > > > > > Kindly,
>> > > > > >
>> > > > > > Baki Goxhaj
>> > > > > > about.me/banago
>> > > > > > _______________________________________________
>> > > > > > wp-hackers mailing list
>> > > > > > wp-hackers at lists.automattic.com
>> > > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > > > > >
>> > > > > _______________________________________________
>> > > > > wp-hackers mailing list
>> > > > > wp-hackers at lists.automattic.com
>> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > > > >
>> > > > _______________________________________________
>> > > > wp-hackers mailing list
>> > > > wp-hackers at lists.automattic.com
>> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > > >
>> > > _______________________________________________
>> > > wp-hackers mailing list
>> > > wp-hackers at lists.automattic.com
>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From banago at gmail.com  Wed Sep 11 09:43:20 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 11 Sep 2013 11:43:20 +0200
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CAM_fM0pybn3rg8-BZwO-hb1nVr+FFTC5BNPbQosTnwN0p=O6yw@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
 <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
 <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>
 <CAM_fM0ofZ8CEfUxLDnOqGKW=6+tB8gNJXzN2kJf7CazWhkLNdA@mail.gmail.com>
 <CABCyq-kGq7QuY_Jeid3si6r2fo17oe24hsy2B4nFzCOCHDFcCA@mail.gmail.com>
 <CAOwx47ck7FzT78AEqnfpBprtbu83yaV-PZdX1jMTkP0rcUO6gA@mail.gmail.com>
 <CAM_fM0r4oxLh37OdGCW=9mqG32SKsQyZe3hBbYuVmYnPQ9Knsg@mail.gmail.com>
 <CAM_fM0pybn3rg8-BZwO-hb1nVr+FFTC5BNPbQosTnwN0p=O6yw@mail.gmail.com>
Message-ID: <CAM_fM0qbb-oXfTUYSoOBQpgYABn+mFemT0gseGhNhTeSTRVSaw@mail.gmail.com>

Guys, this is embarrassing. I was pushing to the old server and viewing
results in the new server. Sorry.

Will update new server and let you know.

Kindly,

Baki Goxhaj
about.me/banago


On Wed, Sep 11, 2013 at 11:39 AM, Baki Goxhaj <banago at gmail.com> wrote:

> it's basically the same implementation of Walker_Nav_Menu with this line
> added:
>
>> $item_output .= '<span>' . $item->description . '</span>';
>>
>>
>
> Kindly,
>
> Baki Goxhaj
> about.me/banago
>
>
> On Wed, Sep 11, 2013 at 11:38 AM, Baki Goxhaj <banago at gmail.com> wrote:
>
>> Here is my Roller class as it stands now:
>>
>> http://paste.laravel.com/Q3i
>>
>> Kindly,
>>
>> Baki Goxhaj
>> about.me/banago
>>
>>
>> On Wed, Sep 11, 2013 at 11:35 AM, Nikola Nikolov <nikolov.tmw at gmail.com>wrote:
>>
>>> If possible the whole Roller class(you can use a service like pastebin or
>>> other in order to show us the code).
>>>
>>>
>>> On Wed, Sep 11, 2013 at 12:34 PM, Filippo Pisano
>>> <filippo.pisano at gmail.com>wrote:
>>>
>>> > Could you please post your declaration of start_el() ?
>>> >
>>> > Filippo Pisano
>>> > cel: 3291821355 / skype: filippopisano
>>> >
>>> >
>>> > On Wed, Sep 11, 2013 at 11:29 AM, Baki Goxhaj <banago at gmail.com>
>>> wrote:
>>> >
>>> > > Roller extends Walker_Nav_Menu. I made the start_el arguments the
>>> same
>>> > > already.
>>> > >
>>> > > The strange things is that Walker_Nav_Menu and Walker class have
>>> > different
>>> > > arguments number for start_el function - which is probably causing
>>> the
>>> > > issue.
>>> > >
>>> > > Need more insight?
>>> > >
>>> > >
>>> > > Kindly,
>>> > >
>>> > > Baki Goxhaj
>>> > > about.me/banago
>>> > >
>>> > >
>>> > > On Wed, Sep 11, 2013 at 11:22 AM, Nikola Nikolov <
>>> nikolov.tmw at gmail.com
>>> > > >wrote:
>>> > >
>>> > > > I'm almost a 100% sure that the Roller() class  is definitely a
>>> custom
>>> > > > class that extends the Walker() class that comes with WordPress.
>>> > > >
>>> > > > I'm also pretty sure that the error you're seeing is because
>>> either you
>>> > > > have a different amount of arguments in the Roller:start_el()
>>> method
>>> > > > declaration, or some other incompatibility with the main
>>> > class(defining a
>>> > > > class property with a different access level for instance).
>>> > > >
>>> > > >
>>> > > > On Wed, Sep 11, 2013 at 12:19 PM, Filippo Pisano
>>> > > > <filippo.pisano at gmail.com>wrote:
>>> > > >
>>> > > > > It is a theme error indeed.
>>> > > > > PHP is telling you to fix the error inside functions.php in line
>>> > 375. I
>>> > > > > think you should check your theme ;)
>>> > > > >
>>> > > > > Filippo Pisano
>>> > > > > cel: 3291821355 / skype: filippopisano
>>> > > > >
>>> > > > >
>>> > > > > On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <banago at gmail.com>
>>> > > wrote:
>>> > > > >
>>> > > > > > Hi guys,
>>> > > > > >
>>> > > > > > I'm getting this error no matter what I switch on or off.
>>> Seems to
>>> > > be a
>>> > > > > PHP
>>> > > > > > 5.4 problem and from a little search I saw it was popping on a
>>> lot
>>> > of
>>> > > > > > websites live. Here is what I get.
>>> > > > > > *
>>> > > > > > *
>>> > > > > > >
>>> > > > > > > *Strict Standards*: Declaration of Roller::start_el() should
>>> be
>>> > > > > > > compatible with Walker::start_el(&$output, $object, $depth =
>>> 0,
>>> > > > $args =
>>> > > > > > > Array, $current_object_id = 0) in */var/www/vhosts/
>>> > > > > > > haute-dish.com/httpdocs/wp-content/themes/hd/functions.php*on
>>> > > line
>>> > > > > > *375*
>>> > > > > > >
>>> > > > > >
>>> > > > > > Seems this is not a theme/plugin developer thing and needs to
>>> be
>>> > > fixed
>>> > > > in
>>> > > > > > WP. Any thoughts?
>>> > > > > >
>>> > > > > > Kindly,
>>> > > > > >
>>> > > > > > Baki Goxhaj
>>> > > > > > about.me/banago
>>> > > > > > _______________________________________________
>>> > > > > > wp-hackers mailing list
>>> > > > > > wp-hackers at lists.automattic.com
>>> > > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> > > > > >
>>> > > > > _______________________________________________
>>> > > > > wp-hackers mailing list
>>> > > > > wp-hackers at lists.automattic.com
>>> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> > > > >
>>> > > > _______________________________________________
>>> > > > wp-hackers mailing list
>>> > > > wp-hackers at lists.automattic.com
>>> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> > > >
>>> > > _______________________________________________
>>> > > wp-hackers mailing list
>>> > > wp-hackers at lists.automattic.com
>>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> > >
>>> > _______________________________________________
>>> > wp-hackers mailing list
>>> > wp-hackers at lists.automattic.com
>>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> >
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>

From banago at gmail.com  Wed Sep 11 09:45:12 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 11 Sep 2013 11:45:12 +0200
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CAM_fM0qbb-oXfTUYSoOBQpgYABn+mFemT0gseGhNhTeSTRVSaw@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
 <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
 <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>
 <CAM_fM0ofZ8CEfUxLDnOqGKW=6+tB8gNJXzN2kJf7CazWhkLNdA@mail.gmail.com>
 <CABCyq-kGq7QuY_Jeid3si6r2fo17oe24hsy2B4nFzCOCHDFcCA@mail.gmail.com>
 <CAOwx47ck7FzT78AEqnfpBprtbu83yaV-PZdX1jMTkP0rcUO6gA@mail.gmail.com>
 <CAM_fM0r4oxLh37OdGCW=9mqG32SKsQyZe3hBbYuVmYnPQ9Knsg@mail.gmail.com>
 <CAM_fM0pybn3rg8-BZwO-hb1nVr+FFTC5BNPbQosTnwN0p=O6yw@mail.gmail.com>
 <CAM_fM0qbb-oXfTUYSoOBQpgYABn+mFemT0gseGhNhTeSTRVSaw@mail.gmail.com>
Message-ID: <CAM_fM0qZ0kSBFtVMhm-Yb2rNEZGyT9NtnG-gzeidokOcYv7xMw@mail.gmail.com>

All good - error is gone.

Sorry :)

Kindly,

Baki Goxhaj
about.me/banago


On Wed, Sep 11, 2013 at 11:43 AM, Baki Goxhaj <banago at gmail.com> wrote:

> Guys, this is embarrassing. I was pushing to the old server and viewing
> results in the new server. Sorry.
>
> Will update new server and let you know.
>
> Kindly,
>
> Baki Goxhaj
> about.me/banago
>
>
> On Wed, Sep 11, 2013 at 11:39 AM, Baki Goxhaj <banago at gmail.com> wrote:
>
>> it's basically the same implementation of Walker_Nav_Menu with this line
>> added:
>>
>>> $item_output .= '<span>' . $item->description . '</span>';
>>>
>>>
>>
>> Kindly,
>>
>> Baki Goxhaj
>> about.me/banago
>>
>>
>> On Wed, Sep 11, 2013 at 11:38 AM, Baki Goxhaj <banago at gmail.com> wrote:
>>
>>> Here is my Roller class as it stands now:
>>>
>>> http://paste.laravel.com/Q3i
>>>
>>> Kindly,
>>>
>>> Baki Goxhaj
>>> about.me/banago
>>>
>>>
>>> On Wed, Sep 11, 2013 at 11:35 AM, Nikola Nikolov <nikolov.tmw at gmail.com>wrote:
>>>
>>>> If possible the whole Roller class(you can use a service like pastebin
>>>> or
>>>> other in order to show us the code).
>>>>
>>>>
>>>> On Wed, Sep 11, 2013 at 12:34 PM, Filippo Pisano
>>>> <filippo.pisano at gmail.com>wrote:
>>>>
>>>> > Could you please post your declaration of start_el() ?
>>>> >
>>>> > Filippo Pisano
>>>> > cel: 3291821355 / skype: filippopisano
>>>> >
>>>> >
>>>> > On Wed, Sep 11, 2013 at 11:29 AM, Baki Goxhaj <banago at gmail.com>
>>>> wrote:
>>>> >
>>>> > > Roller extends Walker_Nav_Menu. I made the start_el arguments the
>>>> same
>>>> > > already.
>>>> > >
>>>> > > The strange things is that Walker_Nav_Menu and Walker class have
>>>> > different
>>>> > > arguments number for start_el function - which is probably causing
>>>> the
>>>> > > issue.
>>>> > >
>>>> > > Need more insight?
>>>> > >
>>>> > >
>>>> > > Kindly,
>>>> > >
>>>> > > Baki Goxhaj
>>>> > > about.me/banago
>>>> > >
>>>> > >
>>>> > > On Wed, Sep 11, 2013 at 11:22 AM, Nikola Nikolov <
>>>> nikolov.tmw at gmail.com
>>>> > > >wrote:
>>>> > >
>>>> > > > I'm almost a 100% sure that the Roller() class  is definitely a
>>>> custom
>>>> > > > class that extends the Walker() class that comes with WordPress.
>>>> > > >
>>>> > > > I'm also pretty sure that the error you're seeing is because
>>>> either you
>>>> > > > have a different amount of arguments in the Roller:start_el()
>>>> method
>>>> > > > declaration, or some other incompatibility with the main
>>>> > class(defining a
>>>> > > > class property with a different access level for instance).
>>>> > > >
>>>> > > >
>>>> > > > On Wed, Sep 11, 2013 at 12:19 PM, Filippo Pisano
>>>> > > > <filippo.pisano at gmail.com>wrote:
>>>> > > >
>>>> > > > > It is a theme error indeed.
>>>> > > > > PHP is telling you to fix the error inside functions.php in line
>>>> > 375. I
>>>> > > > > think you should check your theme ;)
>>>> > > > >
>>>> > > > > Filippo Pisano
>>>> > > > > cel: 3291821355 / skype: filippopisano
>>>> > > > >
>>>> > > > >
>>>> > > > > On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <banago at gmail.com
>>>> >
>>>> > > wrote:
>>>> > > > >
>>>> > > > > > Hi guys,
>>>> > > > > >
>>>> > > > > > I'm getting this error no matter what I switch on or off.
>>>> Seems to
>>>> > > be a
>>>> > > > > PHP
>>>> > > > > > 5.4 problem and from a little search I saw it was popping on
>>>> a lot
>>>> > of
>>>> > > > > > websites live. Here is what I get.
>>>> > > > > > *
>>>> > > > > > *
>>>> > > > > > >
>>>> > > > > > > *Strict Standards*: Declaration of Roller::start_el()
>>>> should be
>>>> > > > > > > compatible with Walker::start_el(&$output, $object, $depth
>>>> = 0,
>>>> > > > $args =
>>>> > > > > > > Array, $current_object_id = 0) in */var/www/vhosts/
>>>> > > > > > > haute-dish.com/httpdocs/wp-content/themes/hd/functions.php*on
>>>> > > line
>>>> > > > > > *375*
>>>> > > > > > >
>>>> > > > > >
>>>> > > > > > Seems this is not a theme/plugin developer thing and needs to
>>>> be
>>>> > > fixed
>>>> > > > in
>>>> > > > > > WP. Any thoughts?
>>>> > > > > >
>>>> > > > > > Kindly,
>>>> > > > > >
>>>> > > > > > Baki Goxhaj
>>>> > > > > > about.me/banago
>>>> > > > > > _______________________________________________
>>>> > > > > > wp-hackers mailing list
>>>> > > > > > wp-hackers at lists.automattic.com
>>>> > > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> > > > > >
>>>> > > > > _______________________________________________
>>>> > > > > wp-hackers mailing list
>>>> > > > > wp-hackers at lists.automattic.com
>>>> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> > > > >
>>>> > > > _______________________________________________
>>>> > > > wp-hackers mailing list
>>>> > > > wp-hackers at lists.automattic.com
>>>> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> > > >
>>>> > > _______________________________________________
>>>> > > wp-hackers mailing list
>>>> > > wp-hackers at lists.automattic.com
>>>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> > >
>>>> > _______________________________________________
>>>> > wp-hackers mailing list
>>>> > wp-hackers at lists.automattic.com
>>>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> >
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>
>

From filippo.pisano at gmail.com  Wed Sep 11 09:45:34 2013
From: filippo.pisano at gmail.com (Filippo Pisano)
Date: Wed, 11 Sep 2013 11:45:34 +0200
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CAM_fM0qbb-oXfTUYSoOBQpgYABn+mFemT0gseGhNhTeSTRVSaw@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
 <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
 <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>
 <CAM_fM0ofZ8CEfUxLDnOqGKW=6+tB8gNJXzN2kJf7CazWhkLNdA@mail.gmail.com>
 <CABCyq-kGq7QuY_Jeid3si6r2fo17oe24hsy2B4nFzCOCHDFcCA@mail.gmail.com>
 <CAOwx47ck7FzT78AEqnfpBprtbu83yaV-PZdX1jMTkP0rcUO6gA@mail.gmail.com>
 <CAM_fM0r4oxLh37OdGCW=9mqG32SKsQyZe3hBbYuVmYnPQ9Knsg@mail.gmail.com>
 <CAM_fM0pybn3rg8-BZwO-hb1nVr+FFTC5BNPbQosTnwN0p=O6yw@mail.gmail.com>
 <CAM_fM0qbb-oXfTUYSoOBQpgYABn+mFemT0gseGhNhTeSTRVSaw@mail.gmail.com>
Message-ID: <CABCyq-kF080QKXkyCtuE9VFzSAo9WnMvwNm4FgU_BeUaZKQjBA@mail.gmail.com>

Don't worry. Meanwhile I've found an interesting thread on stackoverflow
http://stackoverflow.com/a/17234377/718811

Filippo Pisano
cel: 3291821355 / skype: filippopisano


On Wed, Sep 11, 2013 at 11:43 AM, Baki Goxhaj <banago at gmail.com> wrote:

> Guys, this is embarrassing. I was pushing to the old server and viewing
> results in the new server. Sorry.
>
> Will update new server and let you know.
>
> Kindly,
>
> Baki Goxhaj
> about.me/banago
>
>
> On Wed, Sep 11, 2013 at 11:39 AM, Baki Goxhaj <banago at gmail.com> wrote:
>
> > it's basically the same implementation of Walker_Nav_Menu with this line
> > added:
> >
> >> $item_output .= '<span>' . $item->description . '</span>';
> >>
> >>
> >
> > Kindly,
> >
> > Baki Goxhaj
> > about.me/banago
> >
> >
> > On Wed, Sep 11, 2013 at 11:38 AM, Baki Goxhaj <banago at gmail.com> wrote:
> >
> >> Here is my Roller class as it stands now:
> >>
> >> http://paste.laravel.com/Q3i
> >>
> >> Kindly,
> >>
> >> Baki Goxhaj
> >> about.me/banago
> >>
> >>
> >> On Wed, Sep 11, 2013 at 11:35 AM, Nikola Nikolov <nikolov.tmw at gmail.com
> >wrote:
> >>
> >>> If possible the whole Roller class(you can use a service like pastebin
> or
> >>> other in order to show us the code).
> >>>
> >>>
> >>> On Wed, Sep 11, 2013 at 12:34 PM, Filippo Pisano
> >>> <filippo.pisano at gmail.com>wrote:
> >>>
> >>> > Could you please post your declaration of start_el() ?
> >>> >
> >>> > Filippo Pisano
> >>> > cel: 3291821355 / skype: filippopisano
> >>> >
> >>> >
> >>> > On Wed, Sep 11, 2013 at 11:29 AM, Baki Goxhaj <banago at gmail.com>
> >>> wrote:
> >>> >
> >>> > > Roller extends Walker_Nav_Menu. I made the start_el arguments the
> >>> same
> >>> > > already.
> >>> > >
> >>> > > The strange things is that Walker_Nav_Menu and Walker class have
> >>> > different
> >>> > > arguments number for start_el function - which is probably causing
> >>> the
> >>> > > issue.
> >>> > >
> >>> > > Need more insight?
> >>> > >
> >>> > >
> >>> > > Kindly,
> >>> > >
> >>> > > Baki Goxhaj
> >>> > > about.me/banago
> >>> > >
> >>> > >
> >>> > > On Wed, Sep 11, 2013 at 11:22 AM, Nikola Nikolov <
> >>> nikolov.tmw at gmail.com
> >>> > > >wrote:
> >>> > >
> >>> > > > I'm almost a 100% sure that the Roller() class  is definitely a
> >>> custom
> >>> > > > class that extends the Walker() class that comes with WordPress.
> >>> > > >
> >>> > > > I'm also pretty sure that the error you're seeing is because
> >>> either you
> >>> > > > have a different amount of arguments in the Roller:start_el()
> >>> method
> >>> > > > declaration, or some other incompatibility with the main
> >>> > class(defining a
> >>> > > > class property with a different access level for instance).
> >>> > > >
> >>> > > >
> >>> > > > On Wed, Sep 11, 2013 at 12:19 PM, Filippo Pisano
> >>> > > > <filippo.pisano at gmail.com>wrote:
> >>> > > >
> >>> > > > > It is a theme error indeed.
> >>> > > > > PHP is telling you to fix the error inside functions.php in
> line
> >>> > 375. I
> >>> > > > > think you should check your theme ;)
> >>> > > > >
> >>> > > > > Filippo Pisano
> >>> > > > > cel: 3291821355 / skype: filippopisano
> >>> > > > >
> >>> > > > >
> >>> > > > > On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <
> banago at gmail.com>
> >>> > > wrote:
> >>> > > > >
> >>> > > > > > Hi guys,
> >>> > > > > >
> >>> > > > > > I'm getting this error no matter what I switch on or off.
> >>> Seems to
> >>> > > be a
> >>> > > > > PHP
> >>> > > > > > 5.4 problem and from a little search I saw it was popping on
> a
> >>> lot
> >>> > of
> >>> > > > > > websites live. Here is what I get.
> >>> > > > > > *
> >>> > > > > > *
> >>> > > > > > >
> >>> > > > > > > *Strict Standards*: Declaration of Roller::start_el()
> should
> >>> be
> >>> > > > > > > compatible with Walker::start_el(&$output, $object, $depth
> =
> >>> 0,
> >>> > > > $args =
> >>> > > > > > > Array, $current_object_id = 0) in */var/www/vhosts/
> >>> > > > > > >
> haute-dish.com/httpdocs/wp-content/themes/hd/functions.php*on
> >>> > > line
> >>> > > > > > *375*
> >>> > > > > > >
> >>> > > > > >
> >>> > > > > > Seems this is not a theme/plugin developer thing and needs to
> >>> be
> >>> > > fixed
> >>> > > > in
> >>> > > > > > WP. Any thoughts?
> >>> > > > > >
> >>> > > > > > Kindly,
> >>> > > > > >
> >>> > > > > > Baki Goxhaj
> >>> > > > > > about.me/banago
> >>> > > > > > _______________________________________________
> >>> > > > > > wp-hackers mailing list
> >>> > > > > > wp-hackers at lists.automattic.com
> >>> > > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>> > > > > >
> >>> > > > > _______________________________________________
> >>> > > > > wp-hackers mailing list
> >>> > > > > wp-hackers at lists.automattic.com
> >>> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>> > > > >
> >>> > > > _______________________________________________
> >>> > > > wp-hackers mailing list
> >>> > > > wp-hackers at lists.automattic.com
> >>> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>> > > >
> >>> > > _______________________________________________
> >>> > > wp-hackers mailing list
> >>> > > wp-hackers at lists.automattic.com
> >>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>> > >
> >>> > _______________________________________________
> >>> > wp-hackers mailing list
> >>> > wp-hackers at lists.automattic.com
> >>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>> >
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>
> >>
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From banago at gmail.com  Wed Sep 11 09:50:36 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 11 Sep 2013 11:50:36 +0200
Subject: [wp-hackers] Strict Standards: Declaration of ... Error
In-Reply-To: <CABCyq-kF080QKXkyCtuE9VFzSAo9WnMvwNm4FgU_BeUaZKQjBA@mail.gmail.com>
References: <CAM_fM0pxMF-1b9y7Lji9mZgA0uAHcQuontm7nr7AQ2hkoYRc0A@mail.gmail.com>
 <CABCyq-=HhnV1zVV9p3Tof=8+TRmVkTyJFh1CJcb3jViwckCZLg@mail.gmail.com>
 <CAOwx47eDTMZd2CundWYjjgV5kODzsBa3__ztRkAcejjpnRLdfw@mail.gmail.com>
 <CAM_fM0ofZ8CEfUxLDnOqGKW=6+tB8gNJXzN2kJf7CazWhkLNdA@mail.gmail.com>
 <CABCyq-kGq7QuY_Jeid3si6r2fo17oe24hsy2B4nFzCOCHDFcCA@mail.gmail.com>
 <CAOwx47ck7FzT78AEqnfpBprtbu83yaV-PZdX1jMTkP0rcUO6gA@mail.gmail.com>
 <CAM_fM0r4oxLh37OdGCW=9mqG32SKsQyZe3hBbYuVmYnPQ9Knsg@mail.gmail.com>
 <CAM_fM0pybn3rg8-BZwO-hb1nVr+FFTC5BNPbQosTnwN0p=O6yw@mail.gmail.com>
 <CAM_fM0qbb-oXfTUYSoOBQpgYABn+mFemT0gseGhNhTeSTRVSaw@mail.gmail.com>
 <CABCyq-kF080QKXkyCtuE9VFzSAo9WnMvwNm4FgU_BeUaZKQjBA@mail.gmail.com>
Message-ID: <CAM_fM0rEeu8DDwN1bhy7X_pit4cJB=4TA+CSFo_69Px61-Hcwg@mail.gmail.com>

That's interesting Filippo - thanks for sharing it.

My client hosts at MT and asked them for PHP version. He is running PHP
5.4.x. Thus the error. But it's strange it would show on a live environment.

Kindly,

Baki Goxhaj
about.me/banago


On Wed, Sep 11, 2013 at 11:45 AM, Filippo Pisano
<filippo.pisano at gmail.com>wrote:

> Don't worry. Meanwhile I've found an interesting thread on stackoverflow
> http://stackoverflow.com/a/17234377/718811
>
> Filippo Pisano
> cel: 3291821355 / skype: filippopisano
>
>
> On Wed, Sep 11, 2013 at 11:43 AM, Baki Goxhaj <banago at gmail.com> wrote:
>
> > Guys, this is embarrassing. I was pushing to the old server and viewing
> > results in the new server. Sorry.
> >
> > Will update new server and let you know.
> >
> > Kindly,
> >
> > Baki Goxhaj
> > about.me/banago
> >
> >
> > On Wed, Sep 11, 2013 at 11:39 AM, Baki Goxhaj <banago at gmail.com> wrote:
> >
> > > it's basically the same implementation of Walker_Nav_Menu with this
> line
> > > added:
> > >
> > >> $item_output .= '<span>' . $item->description . '</span>';
> > >>
> > >>
> > >
> > > Kindly,
> > >
> > > Baki Goxhaj
> > > about.me/banago
> > >
> > >
> > > On Wed, Sep 11, 2013 at 11:38 AM, Baki Goxhaj <banago at gmail.com>
> wrote:
> > >
> > >> Here is my Roller class as it stands now:
> > >>
> > >> http://paste.laravel.com/Q3i
> > >>
> > >> Kindly,
> > >>
> > >> Baki Goxhaj
> > >> about.me/banago
> > >>
> > >>
> > >> On Wed, Sep 11, 2013 at 11:35 AM, Nikola Nikolov <
> nikolov.tmw at gmail.com
> > >wrote:
> > >>
> > >>> If possible the whole Roller class(you can use a service like
> pastebin
> > or
> > >>> other in order to show us the code).
> > >>>
> > >>>
> > >>> On Wed, Sep 11, 2013 at 12:34 PM, Filippo Pisano
> > >>> <filippo.pisano at gmail.com>wrote:
> > >>>
> > >>> > Could you please post your declaration of start_el() ?
> > >>> >
> > >>> > Filippo Pisano
> > >>> > cel: 3291821355 / skype: filippopisano
> > >>> >
> > >>> >
> > >>> > On Wed, Sep 11, 2013 at 11:29 AM, Baki Goxhaj <banago at gmail.com>
> > >>> wrote:
> > >>> >
> > >>> > > Roller extends Walker_Nav_Menu. I made the start_el arguments the
> > >>> same
> > >>> > > already.
> > >>> > >
> > >>> > > The strange things is that Walker_Nav_Menu and Walker class have
> > >>> > different
> > >>> > > arguments number for start_el function - which is probably
> causing
> > >>> the
> > >>> > > issue.
> > >>> > >
> > >>> > > Need more insight?
> > >>> > >
> > >>> > >
> > >>> > > Kindly,
> > >>> > >
> > >>> > > Baki Goxhaj
> > >>> > > about.me/banago
> > >>> > >
> > >>> > >
> > >>> > > On Wed, Sep 11, 2013 at 11:22 AM, Nikola Nikolov <
> > >>> nikolov.tmw at gmail.com
> > >>> > > >wrote:
> > >>> > >
> > >>> > > > I'm almost a 100% sure that the Roller() class  is definitely a
> > >>> custom
> > >>> > > > class that extends the Walker() class that comes with
> WordPress.
> > >>> > > >
> > >>> > > > I'm also pretty sure that the error you're seeing is because
> > >>> either you
> > >>> > > > have a different amount of arguments in the Roller:start_el()
> > >>> method
> > >>> > > > declaration, or some other incompatibility with the main
> > >>> > class(defining a
> > >>> > > > class property with a different access level for instance).
> > >>> > > >
> > >>> > > >
> > >>> > > > On Wed, Sep 11, 2013 at 12:19 PM, Filippo Pisano
> > >>> > > > <filippo.pisano at gmail.com>wrote:
> > >>> > > >
> > >>> > > > > It is a theme error indeed.
> > >>> > > > > PHP is telling you to fix the error inside functions.php in
> > line
> > >>> > 375. I
> > >>> > > > > think you should check your theme ;)
> > >>> > > > >
> > >>> > > > > Filippo Pisano
> > >>> > > > > cel: 3291821355 / skype: filippopisano
> > >>> > > > >
> > >>> > > > >
> > >>> > > > > On Wed, Sep 11, 2013 at 11:17 AM, Baki Goxhaj <
> > banago at gmail.com>
> > >>> > > wrote:
> > >>> > > > >
> > >>> > > > > > Hi guys,
> > >>> > > > > >
> > >>> > > > > > I'm getting this error no matter what I switch on or off.
> > >>> Seems to
> > >>> > > be a
> > >>> > > > > PHP
> > >>> > > > > > 5.4 problem and from a little search I saw it was popping
> on
> > a
> > >>> lot
> > >>> > of
> > >>> > > > > > websites live. Here is what I get.
> > >>> > > > > > *
> > >>> > > > > > *
> > >>> > > > > > >
> > >>> > > > > > > *Strict Standards*: Declaration of Roller::start_el()
> > should
> > >>> be
> > >>> > > > > > > compatible with Walker::start_el(&$output, $object,
> $depth
> > =
> > >>> 0,
> > >>> > > > $args =
> > >>> > > > > > > Array, $current_object_id = 0) in */var/www/vhosts/
> > >>> > > > > > >
> > haute-dish.com/httpdocs/wp-content/themes/hd/functions.php*on
> > >>> > > line
> > >>> > > > > > *375*
> > >>> > > > > > >
> > >>> > > > > >
> > >>> > > > > > Seems this is not a theme/plugin developer thing and needs
> to
> > >>> be
> > >>> > > fixed
> > >>> > > > in
> > >>> > > > > > WP. Any thoughts?
> > >>> > > > > >
> > >>> > > > > > Kindly,
> > >>> > > > > >
> > >>> > > > > > Baki Goxhaj
> > >>> > > > > > about.me/banago
> > >>> > > > > > _______________________________________________
> > >>> > > > > > wp-hackers mailing list
> > >>> > > > > > wp-hackers at lists.automattic.com
> > >>> > > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>> > > > > >
> > >>> > > > > _______________________________________________
> > >>> > > > > wp-hackers mailing list
> > >>> > > > > wp-hackers at lists.automattic.com
> > >>> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>> > > > >
> > >>> > > > _______________________________________________
> > >>> > > > wp-hackers mailing list
> > >>> > > > wp-hackers at lists.automattic.com
> > >>> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>> > > >
> > >>> > > _______________________________________________
> > >>> > > wp-hackers mailing list
> > >>> > > wp-hackers at lists.automattic.com
> > >>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>> > >
> > >>> > _______________________________________________
> > >>> > wp-hackers mailing list
> > >>> > wp-hackers at lists.automattic.com
> > >>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>> >
> > >>> _______________________________________________
> > >>> wp-hackers mailing list
> > >>> wp-hackers at lists.automattic.com
> > >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>
> > >>
> > >>
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From steve at sltaylor.co.uk  Wed Sep 11 11:03:07 2013
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 11 Sep 2013 12:03:07 +0100
Subject: [wp-hackers] stopping an embedded video with javascript
Message-ID: <CAGEuVU0qqJZXqF2FU4sEK9gxXcRbO-u87i7k3yuBiAmUbHujMw@mail.gmail.com>

Hi folks,

Does anyone know how to stop the playing of an embedded video (e.g.
YouTube) using JavaScript?

I'm looking at the YT docs
(https://developers.google.com/youtube/player_parameters) and the WP
core source, but I'm having trouble finding how to target the actual
player object.

I'm embedding the actual video programmatically, something like this:

echo wp_oembed_get( $url . '&enablejsapi=1', array( 'width' => 500,
'height' => 362 ) );

Any pointers welcome!

Cheers,

Steve

From chris at lod.com  Wed Sep 11 11:56:59 2013
From: chris at lod.com (Chris McCoy)
Date: Wed, 11 Sep 2013 07:56:59 -0400
Subject: [wp-hackers] stopping an embedded video with javascript
In-Reply-To: <CAGEuVU0qqJZXqF2FU4sEK9gxXcRbO-u87i7k3yuBiAmUbHujMw@mail.gmail.com>
Message-ID: <CE55D0DB.32C0%chris@lod.com>

ive used jquery to do this, where i have a thumbnail and they click to
play it.


http://blog.pixelthemes.com/demo/load-yt-video-dynamically/



On 2013-09-11 7:03 AM, "Steve Taylor" <steve at sltaylor.co.uk> wrote:

>Hi folks,
>
>Does anyone know how to stop the playing of an embedded video (e.g.
>YouTube) using JavaScript?
>
>I'm looking at the YT docs
>(https://developers.google.com/youtube/player_parameters) and the WP
>core source, but I'm having trouble finding how to target the actual
>player object.
>
>I'm embedding the actual video programmatically, something like this:
>
>echo wp_oembed_get( $url . '&enablejsapi=1', array( 'width' => 500,
>'height' => 362 ) );
>
>Any pointers welcome!
>
>Cheers,
>
>Steve
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers



From nikolov.tmw at gmail.com  Wed Sep 11 13:04:33 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Wed, 11 Sep 2013 16:04:33 +0300
Subject: [wp-hackers] stopping an embedded video with javascript
In-Reply-To: <CE55D0DB.32C0%chris@lod.com>
References: <CAGEuVU0qqJZXqF2FU4sEK9gxXcRbO-u87i7k3yuBiAmUbHujMw@mail.gmail.com>
 <CE55D0DB.32C0%chris@lod.com>
Message-ID: <CAOwx47cQLbc=ZhMUF7T6gKdjqHHqcNc39o=tR6cAWoemO-7=+Q@mail.gmail.com>

Hi Steve. I've found out that usually the YouTube video will reload
itself(and stop unless it has autoplay) if it's visibility get's changed.
What I mean by this is that you can hide the video or one of it's
containing elements and show it again with jQuery(or other JavaScript), I
believe you can also change either z-index or the display CSS properties.

So if that's all you're looking for - I think you can try playing in this
direction, since it might be easier. Otherwise I'd look into the
documentation - can't help you with the JS API though :(


On Wed, Sep 11, 2013 at 2:56 PM, Chris McCoy <chris at lod.com> wrote:

> ive used jquery to do this, where i have a thumbnail and they click to
> play it.
>
>
> http://blog.pixelthemes.com/demo/load-yt-video-dynamically/
>
>
>
> On 2013-09-11 7:03 AM, "Steve Taylor" <steve at sltaylor.co.uk> wrote:
>
> >Hi folks,
> >
> >Does anyone know how to stop the playing of an embedded video (e.g.
> >YouTube) using JavaScript?
> >
> >I'm looking at the YT docs
> >(https://developers.google.com/youtube/player_parameters) and the WP
> >core source, but I'm having trouble finding how to target the actual
> >player object.
> >
> >I'm embedding the actual video programmatically, something like this:
> >
> >echo wp_oembed_get( $url . '&enablejsapi=1', array( 'width' => 500,
> >'height' => 362 ) );
> >
> >Any pointers welcome!
> >
> >Cheers,
> >
> >Steve
> >_______________________________________________
> >wp-hackers mailing list
> >wp-hackers at lists.automattic.com
> >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From elrabino at gmail.com  Wed Sep 11 13:47:53 2013
From: elrabino at gmail.com (Daniel Dvorkin)
Date: Wed, 11 Sep 2013 10:47:53 -0300
Subject: [wp-hackers] something like a post_get_posts?
In-Reply-To: <FF2CC1FBA26D43A68C38B40768463C3E@gmail.com>
References: <F1E64504BBC049789D2E5F6E912ACBFD@gmail.com>
 <CAAHgzDNn1GmThfOCBzkW3bz5=Z=jyL=qmWMJ+SruWNNbzSC=qA@mail.gmail.com>
 <FF2CC1FBA26D43A68C38B40768463C3E@gmail.com>
Message-ID: <CADN2qFMkUEw2HPhJiCjM7Vug++p_tH+btEJbvcEfg1eq3HksLw@mail.gmail.com>

Filter the_posts?



---------------------
Daniel Dvorkin
M?vil: +54 (0261) 15-315-2244
Skype: mzaweb
http://mzaweb.com



On Tue, Sep 10, 2013 at 2:36 PM, Josh <joshua.sibelman at gmail.com> wrote:

> Great, thanks.
>
>
>
> On Tuesday, September 10, 2013 at 10:04 AM, Jeremy Clarke wrote:
>
> > On Fri, Sep 6, 2013 at 5:04 PM, Josh <joshua.sibelman at gmail.com (mailto:
> joshua.sibelman at gmail.com)> wrote:
> >
> > > There's no post_get_posts, but is there another action I can hook into
> > > that might be workable?
> > >
> >
> > I think the 'wp' action should offer what you need. IIRC it runs after
> the
> > main query is complete but before the template is rendered.
> >
> >
> > > loop_start seems like a good candidate but there's not much
> documentation
> > > about that one.
> > >
> >
> > In theory this would work but be very careful. 'loop_start' will fire on
> > every single loop, including secondary queries for widgets, related posts
> > etc.
> >
> > In either case you should be sure to check is_main_query() against your
> > WP_Query object before modifying it, or at least be aware of the
> difference
> > between filtering the main query of a screen versus filtering all
> possible
> > WP_Query instances.
> >
> > http://codex.wordpress.org/Function_Reference/is_main_query
> >
> > --
> > Jeremy Clarke ? jeremyclarke.org (http://jeremyclarke.org)
> > Code and Design ? globalvoicesonline.org (http://globalvoicesonline.org)
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> >
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dyordan1 at ramapo.edu  Wed Sep 11 15:43:55 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Wed, 11 Sep 2013 11:43:55 -0400
Subject: [wp-hackers] Hook trouble
Message-ID: <B5480EFF-1527-4ED6-AAB6-2E05762BB98C@ramapo.edu>

Hi,

I'm working on extending a badly designed plugin. To make it short, the plugin has a hook onto which it attaches its own function like so:

add_action('hook_name', array(&$class_reference, 'function_name'), 10, 3);

I override that with my own function set like so:

function maybe_override_function($field, $display, $values)
{
	if( $condition )
	{
		global $class_reference;
		remove_action('hook_name', array(&$class_reference, 'function_name'), 10);
		add_action('hook_name', 'restore_function', 11);
	}
}

function restore_function()
{
	global $class_reference;
	add_action('hook_name', array(&$class_reference, 'function_name'), 10, 3);
}

add_action('hook_name', 'maybe_override_function', 9, 3);

Basically, I want to not touch the function if a condition is not met but also remove it if it's not met *and* set it up so it runs ok next time too. In my mind, if my function runs at priority 9, adds a restoring function with priority 11 and then that restoring function re-adds the function at priority 10, the original function which I'm trying to restore will not run. However, it does. Essentially the order is maybe_override_function ==> restore_function ==> $class_reference->function_name. Is that normal behavior? If so, what would be the way to do this? I need to restore the regular 10 hook so it behaves ok next time it's called. Thanks for any help

P.S.  the original function *is* removed and doesn't run if I remove the add_action('hook_name', 'restore_function', 11); altogether but then it is never restored either so next time the hook is called and condition is not met, nothing is rendered.
P.S.(2) obviously those are obscured names, my functions/variables/etc are within a class and named much better.

~Dobri


From chris at lod.com  Wed Sep 11 15:48:19 2013
From: chris at lod.com (Chris McCoy)
Date: Wed, 11 Sep 2013 11:48:19 -0400
Subject: [wp-hackers] stopping an embedded video with javascript
In-Reply-To: <CAOwx47cQLbc=ZhMUF7T6gKdjqHHqcNc39o=tR6cAWoemO-7=+Q@mail.gmail.com>
Message-ID: <CE56083C.32EE%chris@lod.com>

if you look

https://developers.google.com/youtube/js_api_reference


the player.stopVideo() will do what you want.

to do a hyper link to stop the video the example would be something like

// Get element holding the video (embed or object)
var player = document.getElementById("youtube_player");

function stop() {
    if(player) {
        player.stopVideo();
    }
}

<a href="#" onclick="stop()">Stop Youtube Video</a>


hopefully this can guide you to something you can use.



On 2013-09-11 9:04 AM, "Nikola Nikolov" <nikolov.tmw at gmail.com> wrote:

>Hi Steve. I've found out that usually the YouTube video will reload
>itself(and stop unless it has autoplay) if it's visibility get's changed.
>What I mean by this is that you can hide the video or one of it's
>containing elements and show it again with jQuery(or other JavaScript), I
>believe you can also change either z-index or the display CSS properties.
>
>So if that's all you're looking for - I think you can try playing in this
>direction, since it might be easier. Otherwise I'd look into the
>documentation - can't help you with the JS API though :(
>
>
>On Wed, Sep 11, 2013 at 2:56 PM, Chris McCoy <chris at lod.com> wrote:
>
>> ive used jquery to do this, where i have a thumbnail and they click to
>> play it.
>>
>>
>> http://blog.pixelthemes.com/demo/load-yt-video-dynamically/
>>
>>
>>
>> On 2013-09-11 7:03 AM, "Steve Taylor" <steve at sltaylor.co.uk> wrote:
>>
>> >Hi folks,
>> >
>> >Does anyone know how to stop the playing of an embedded video (e.g.
>> >YouTube) using JavaScript?
>> >
>> >I'm looking at the YT docs
>> >(https://developers.google.com/youtube/player_parameters) and the WP
>> >core source, but I'm having trouble finding how to target the actual
>> >player object.
>> >
>> >I'm embedding the actual video programmatically, something like this:
>> >
>> >echo wp_oembed_get( $url . '&enablejsapi=1', array( 'width' => 500,
>> >'height' => 362 ) );
>> >
>> >Any pointers welcome!
>> >
>> >Cheers,
>> >
>> >Steve
>> >_______________________________________________
>> >wp-hackers mailing list
>> >wp-hackers at lists.automattic.com
>> >http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers



From jdg at codesymphony.co  Wed Sep 11 15:48:37 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Wed, 11 Sep 2013 11:48:37 -0400
Subject: [wp-hackers] Hook trouble
In-Reply-To: <B5480EFF-1527-4ED6-AAB6-2E05762BB98C@ramapo.edu>
References: <B5480EFF-1527-4ED6-AAB6-2E05762BB98C@ramapo.edu>
Message-ID: <DA4439BE-775D-46EB-8459-61C52276B61A@codesymphony.co>


> In my mind, if my function runs at priority 9, adds a restoring function with priority 11 and then that restoring function re-adds the function at priority 10, the original function which I'm trying to restore will not run. However, it does.

If I remember correctly, functions added before the hook has finished running, but after their priority has already run, will be run last. Its odd I know. I think there might be a ticket for that, not sure though.

From jdg at codesymphony.co  Wed Sep 11 15:50:16 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Wed, 11 Sep 2013 11:50:16 -0400
Subject: [wp-hackers] Hook trouble
In-Reply-To: <DA4439BE-775D-46EB-8459-61C52276B61A@codesymphony.co>
References: <B5480EFF-1527-4ED6-AAB6-2E05762BB98C@ramapo.edu>
 <DA4439BE-775D-46EB-8459-61C52276B61A@codesymphony.co>
Message-ID: <8045CE83-417B-4229-AD48-DF9B176901E3@codesymphony.co>

Oh, and a solution in your situation would be to add the hook in the maybe_override_function(), if the condition isn't met.

On Sep 11, 2013, at 11:48 AM, J.D. Grimes <jdg at codesymphony.co> wrote:

> 
>> In my mind, if my function runs at priority 9, adds a restoring function with priority 11 and then that restoring function re-adds the function at priority 10, the original function which I'm trying to restore will not run. However, it does.
> 
> If I remember correctly, functions added before the hook has finished running, but after their priority has already run, will be run last. Its odd I know. I think there might be a ticket for that, not sure though.


From dyordan1 at ramapo.edu  Wed Sep 11 16:38:56 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Wed, 11 Sep 2013 12:38:56 -0400
Subject: [wp-hackers] Hook trouble
In-Reply-To: <8045CE83-417B-4229-AD48-DF9B176901E3@codesymphony.co>
References: <B5480EFF-1527-4ED6-AAB6-2E05762BB98C@ramapo.edu>
 <DA4439BE-775D-46EB-8459-61C52276B61A@codesymphony.co>
 <8045CE83-417B-4229-AD48-DF9B176901E3@codesymphony.co>
Message-ID: <C3DD0EFD-2799-4EB0-A9DD-E5EE330C8A5F@ramapo.edu>

? duh

Thanks for that, that's exactly what I ended up doing.

~Dobri

On Wed, 11 Sep 2013, at 11:50 AM, J.D. Grimes wrote:

> Oh, and a solution in your situation would be to add the hook in the maybe_override_function(), if the condition isn't met.
> 
> On Sep 11, 2013, at 11:48 AM, J.D. Grimes <jdg at codesymphony.co> wrote:
> 
>> 
>>> In my mind, if my function runs at priority 9, adds a restoring function with priority 11 and then that restoring function re-adds the function at priority 10, the original function which I'm trying to restore will not run. However, it does.
>> 
>> If I remember correctly, functions added before the hook has finished running, but after their priority has already run, will be run last. Its odd I know. I think there might be a ticket for that, not sure though.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From steve at sltaylor.co.uk  Wed Sep 11 16:59:12 2013
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Wed, 11 Sep 2013 17:59:12 +0100
Subject: [wp-hackers] stopping an embedded video with javascript
In-Reply-To: <CE56083C.32EE%chris@lod.com>
References: <CAOwx47cQLbc=ZhMUF7T6gKdjqHHqcNc39o=tR6cAWoemO-7=+Q@mail.gmail.com>
 <CE56083C.32EE%chris@lod.com>
Message-ID: <CAGEuVU0iBf0jtbVOQzVvg9DXXtXb91-mP3svcQ424k5LhJqD+w@mail.gmail.com>

FYI, what I'm dealing with is a carousel with images and videos.
Ideally I would pause a video if it's playing as it's scrolled out of
view in the carousel.

> // Get element holding the video (embed or object)
> var player = document.getElementById("youtube_player");

I think this is what I'm looking for. But since wp_oembed_get()
outputs an iframe, I assume cross-domain stuff prevent me manipulating
the player? Do I need to do my own custom embedding to let me access
the API?

From otto at ottodestruct.com  Wed Sep 11 17:05:44 2013
From: otto at ottodestruct.com (Otto)
Date: Wed, 11 Sep 2013 12:05:44 -0500
Subject: [wp-hackers] stopping an embedded video with javascript
In-Reply-To: <CAGEuVU0iBf0jtbVOQzVvg9DXXtXb91-mP3svcQ424k5LhJqD+w@mail.gmail.com>
References: <CAOwx47cQLbc=ZhMUF7T6gKdjqHHqcNc39o=tR6cAWoemO-7=+Q@mail.gmail.com>
 <CE56083C.32EE%chris@lod.com>
 <CAGEuVU0iBf0jtbVOQzVvg9DXXtXb91-mP3svcQ424k5LhJqD+w@mail.gmail.com>
Message-ID: <CAD-Fghx=r5kUxnxY+yva_bRES88qZ6-T8aEX1_z9nZYKBzbPpA@mail.gmail.com>

Perhaps not. Try something like this:

http://stackoverflow.com/questions/7443578/youtube-iframe-api-how-do-i-control-a-iframe-player-thats-already-in-the-html

-Otto


On Wed, Sep 11, 2013 at 11:59 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:
> FYI, what I'm dealing with is a carousel with images and videos.
> Ideally I would pause a video if it's playing as it's scrolled out of
> view in the carousel.
>
>> // Get element holding the video (embed or object)
>> var player = document.getElementById("youtube_player");
>
> I think this is what I'm looking for. But since wp_oembed_get()
> outputs an iframe, I assume cross-domain stuff prevent me manipulating
> the player? Do I need to do my own custom embedding to let me access
> the API?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From nikolov.tmw at gmail.com  Wed Sep 11 17:07:57 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Wed, 11 Sep 2013 20:07:57 +0300
Subject: [wp-hackers] stopping an embedded video with javascript
In-Reply-To: <CAD-Fghx=r5kUxnxY+yva_bRES88qZ6-T8aEX1_z9nZYKBzbPpA@mail.gmail.com>
References: <CAOwx47cQLbc=ZhMUF7T6gKdjqHHqcNc39o=tR6cAWoemO-7=+Q@mail.gmail.com>
 <CE56083C.32EE%chris@lod.com>
 <CAGEuVU0iBf0jtbVOQzVvg9DXXtXb91-mP3svcQ424k5LhJqD+w@mail.gmail.com>
 <CAD-Fghx=r5kUxnxY+yva_bRES88qZ6-T8aEX1_z9nZYKBzbPpA@mail.gmail.com>
Message-ID: <CAOwx47eDxUZ16hkmKJ95CDJ84-rQqMaAE1kM99L4MzKU2fJzKA@mail.gmail.com>

As a side note - I believe that pausing the carousel is the better solution
to this problem. I personally would dislike if I start watching a video and
then out of a sudden it scrolls out of view(no matter whether pausing or
not).

But that's just my opinion :)


On Wed, Sep 11, 2013 at 8:05 PM, Otto <otto at ottodestruct.com> wrote:

> Perhaps not. Try something like this:
>
>
> http://stackoverflow.com/questions/7443578/youtube-iframe-api-how-do-i-control-a-iframe-player-thats-already-in-the-html
>
> -Otto
>
>
> On Wed, Sep 11, 2013 at 11:59 AM, Steve Taylor <steve at sltaylor.co.uk>
> wrote:
> > FYI, what I'm dealing with is a carousel with images and videos.
> > Ideally I would pause a video if it's playing as it's scrolled out of
> > view in the carousel.
> >
> >> // Get element holding the video (embed or object)
> >> var player = document.getElementById("youtube_player");
> >
> > I think this is what I'm looking for. But since wp_oembed_get()
> > outputs an iframe, I assume cross-domain stuff prevent me manipulating
> > the player? Do I need to do my own custom embedding to let me access
> > the API?
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chris at lod.com  Wed Sep 11 17:18:38 2013
From: chris at lod.com (Chris McCoy)
Date: Wed, 11 Sep 2013 13:18:38 -0400
Subject: [wp-hackers] stopping an embedded video with javascript
In-Reply-To: <CAGEuVU0iBf0jtbVOQzVvg9DXXtXb91-mP3svcQ424k5LhJqD+w@mail.gmail.com>
Message-ID: <CE561E02.3309%chris@lod.com>

in one of my plugins i do my own youtube oembed, so it doesnt show the
iframe, i have mine formatting to use a sublime video html5 video player
instead of the iframe, you could intercept something like that, and go
that route maybe?

On 2013-09-11 12:59 PM, "Steve Taylor" <steve at sltaylor.co.uk> wrote:

>FYI, what I'm dealing with is a carousel with images and videos.
>Ideally I would pause a video if it's playing as it's scrolled out of
>view in the carousel.
>
>> // Get element holding the video (embed or object)
>> var player = document.getElementById("youtube_player");
>
>I think this is what I'm looking for. But since wp_oembed_get()
>outputs an iframe, I assume cross-domain stuff prevent me manipulating
>the player? Do I need to do my own custom embedding to let me access
>the API?
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers



From greglancaster71 at gmail.com  Wed Sep 11 20:40:08 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 11 Sep 2013 13:40:08 -0700 (PDT)
Subject: [wp-hackers] Allow users to upload their own images - hook to use?
Message-ID: <1378932008277-42263.post@n5.nabble.com>

I am looking for the most intelligent way to allow users to upload images on
the front end, and retaining the association to the user who uploaded the
image.  Then have the images that user uploaded display back on their
profile page when logged in.

The catch is the form they used to uplaod the image uses a sep database to
store other field information (using $wpdb).  I want each row to allow for
the attachment of any images they chose to upload with the data. It can be
linked up using a unique key, or row ID and userID, whatever is fine (unless
there is a standard I should adhere to that I don't know about).

I have looked at *wp_handle_upload* and  *media_handle_upload*

Not sure which fits this situation best. Could one of you who has experience
with this share some input about which is best, and how to go about calling
it back into their profile to an href for viewing. 



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Allow-users-to-upload-their-own-images-hook-to-use-tp42263.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From greglancaster71 at gmail.com  Wed Sep 11 22:12:50 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 11 Sep 2013 15:12:50 -0700 (PDT)
Subject: [wp-hackers] Allow users to upload their own images - hook to use?
Message-ID: <1378937570249-42264.post@n5.nabble.com>

I am looking for the most intelligent way to allow users to upload images on
the front end, and retaining the association to the user who uploaded the
image.  Then have the images that user uploaded display back on their
profile page when logged in.

The catch is the form they used to uplaod the image uses a sep database to
store other field information (using $wpdb).  I want each row to allow for
the attachment of any images they chose to upload with the data. It can be
linked up using a unique key, or row ID and userID, whatever is fine (unless
there is a standard I should adhere to that I don't know about).

I have looked at *wp_handle_upload* and  *media_handle_upload*

Not sure which fits this situation best. Could one of you who has experience
with this share some input about which is best, and how to go about calling
it back into their profile to an href for viewing. 



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Allow-users-to-upload-their-own-images-hook-to-use-tp42264.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From banago at gmail.com  Wed Sep 11 22:28:58 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Thu, 12 Sep 2013 00:28:58 +0200
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <1378937570249-42264.post@n5.nabble.com>
References: <1378937570249-42264.post@n5.nabble.com>
Message-ID: <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>

Here is all you need:
http://codex.wordpress.org/Function_Reference/wp_insert_attachment

You can attach it to a post too, with which you will then associate your
user.

Kindly,

Baki Goxhaj
about.me/banago


On Thu, Sep 12, 2013 at 12:12 AM, BenderisGreat
<greglancaster71 at gmail.com>wrote:

> I am looking for the most intelligent way to allow users to upload images
> on
> the front end, and retaining the association to the user who uploaded the
> image.  Then have the images that user uploaded display back on their
> profile page when logged in.
>
> The catch is the form they used to uplaod the image uses a sep database to
> store other field information (using $wpdb).  I want each row to allow for
> the attachment of any images they chose to upload with the data. It can be
> linked up using a unique key, or row ID and userID, whatever is fine
> (unless
> there is a standard I should adhere to that I don't know about).
>
> I have looked at *wp_handle_upload* and  *media_handle_upload*
>
> Not sure which fits this situation best. Could one of you who has
> experience
> with this share some input about which is best, and how to go about calling
> it back into their profile to an href for viewing.
>
>
>
> --
> View this message in context:
> http://wordpress-hackers.1065353.n5.nabble.com/Allow-users-to-upload-their-own-images-hook-to-use-tp42264.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From greglancaster71 at gmail.com  Wed Sep 11 22:30:05 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 11 Sep 2013 15:30:05 -0700 (PDT)
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
Message-ID: <1378938605319-42266.post@n5.nabble.com>

Assuming I have 100-200 people using this form, wont that post reach is size
limit for having images attached to it?  



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Allow-users-to-upload-their-own-images-hook-to-use-tp42264p42266.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From greglancaster71 at gmail.com  Wed Sep 11 22:35:36 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 11 Sep 2013 15:35:36 -0700 (PDT)
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
Message-ID: <1378938936873-42267.post@n5.nabble.com>

This might sound stupid, because I am still learning.  But cant I use my
existing database I created, make a new row called image.  then use
wp_handle_upload to upload the file and resize it, then drop the url of the
image into the row along with the other data I am storing?  



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Allow-users-to-upload-their-own-images-hook-to-use-tp42264p42267.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From mailing at markoheijnen.nl  Wed Sep 11 22:38:14 2013
From: mailing at markoheijnen.nl (Marko Heijnen)
Date: Thu, 12 Sep 2013 00:38:14 +0200
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <1378938936873-42267.post@n5.nabble.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378938936873-42267.post@n5.nabble.com>
Message-ID: <35AF563E-A6BD-48D9-9656-7B21F88AA881@markoheijnen.nl>

I still don't get why you need a separate database for the image information. I just use the default media dialog and use some filters to just display the user uploaded images in their.

Marko


Op 12 sep. 2013, om 00:35 heeft BenderisGreat <greglancaster71 at gmail.com> het volgende geschreven:

> This might sound stupid, because I am still learning.  But cant I use my
> existing database I created, make a new row called image.  then use
> wp_handle_upload to upload the file and resize it, then drop the url of the
> image into the row along with the other data I am storing?  
> 
> 
> 
> --
> View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Allow-users-to-upload-their-own-images-hook-to-use-tp42264p42267.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Wed Sep 11 22:40:56 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 11 Sep 2013 15:40:56 -0700 (PDT)
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <35AF563E-A6BD-48D9-9656-7B21F88AA881@markoheijnen.nl>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378938936873-42267.post@n5.nabble.com>
 <35AF563E-A6BD-48D9-9656-7B21F88AA881@markoheijnen.nl>
Message-ID: <1378939256964-42269.post@n5.nabble.com>

That would work as well I suppose.  I already have this information being
stored that is relevant to the picture and I need a link to each uploaded
picture in each row on the front end.  So someone selects a date, uploads a
picture, and clicks submit.  Then they have a table ordered by date with a
link to the picture they uploaded on that date right there.  

Does that make sense?  



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Allow-users-to-upload-their-own-images-hook-to-use-tp42264p42269.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From greglancaster71 at gmail.com  Wed Sep 11 23:01:03 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 11 Sep 2013 16:01:03 -0700 (PDT)
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
Message-ID: <1378940463039-42270.post@n5.nabble.com>

Wait this could be the answer to everything I need done.  You said I can
attach it to a post, so each users uploads would be associated to their
specific post.  If I am doing that is it also possible to associate the data
I am saving with my form to that post as well?  How would that be done?
custom fields or something?  



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Allow-users-to-upload-their-own-images-hook-to-use-tp42264p42270.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From otto at ottodestruct.com  Wed Sep 11 23:06:55 2013
From: otto at ottodestruct.com (Otto)
Date: Wed, 11 Sep 2013 18:06:55 -0500
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <1378940463039-42270.post@n5.nabble.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
Message-ID: <CAD-Fghz4bR++sQ=eb5nSOjrO2vBnChwD=RZg7R7W5VAF2DuvmA@mail.gmail.com>

Seems like you're overthinking it here.

When you upload a file into WordPress using the normal methods, then
the file is saved, and a new Post is created with a post-type of
"attachment". That attachment post is a full fledged post. It has its
own post_author and everything.

Getting a list of all the media files a user uploaded can be done with
the normal queries. Just query for post_author = user-id and post_type
= attachment. Simple.

Now, attachment posts can be connected to a normal Post post, and this
is done by setting the post_parent of the attachment post equal to the
post ID of the Post post. But, you don't really need that just to
associate uploads to users, because uploaded files are *already*
associated to users, in that they're the post_author of the attachment
post.

-Otto



On Wed, Sep 11, 2013 at 6:01 PM, BenderisGreat
<greglancaster71 at gmail.com> wrote:
> Wait this could be the answer to everything I need done.  You said I can
> attach it to a post, so each users uploads would be associated to their
> specific post.  If I am doing that is it also possible to associate the data
> I am saving with my form to that post as well?  How would that be done?
> custom fields or something?
>
>
>
> --
> View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Allow-users-to-upload-their-own-images-hook-to-use-tp42264p42270.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From greglancaster71 at gmail.com  Wed Sep 11 23:13:27 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 11 Sep 2013 16:13:27 -0700 (PDT)
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <CAD-Fghz4bR++sQ=eb5nSOjrO2vBnChwD=RZg7R7W5VAF2DuvmA@mail.gmail.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <CAD-Fghz4bR++sQ=eb5nSOjrO2vBnChwD=RZg7R7W5VAF2DuvmA@mail.gmail.com>
Message-ID: <1378941207565-42272.post@n5.nabble.com>

excellent, then this is exatly what I need.  Last followup question - how
would I take the post->id from the image upload and drop it into my table. 
(so each entry is properly matched up with the correct image)




--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Allow-users-to-upload-their-own-images-hook-to-use-tp42264p42272.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From jacobsnyder at gmail.com  Wed Sep 11 23:24:03 2013
From: jacobsnyder at gmail.com (Jacob Snyder)
Date: Wed, 11 Sep 2013 18:24:03 -0500
Subject: [wp-hackers] Allow users to upload their own images - hook to use?
Message-ID: <CAPEbg-H0_zHJizFqM94_q_qkLLPO2Ut=+GZ3MMsRaVrL8MwGNQ@mail.gmail.com>

You could use Advanced Custom Fields, a free plugin, to create a form that
collects the user data and image as custom fields for the user. You don't
have to create a post or anything. They will be stored right to the user
and can be retrieved by using this method:

get_field('met_key', 'user_' . $user_id);

Extremely simple... and a very well established plugin.

Of course if you already have a form, try using wp_insert_post to create a
post, set the user as the author or save the generated post_id into the
user's meta:

$post_id = wp_insert_post()
update_user_meta($user_id, 'user_info', $post_id);

And then you can retrieve it through one of those methods.

From david at ernsts.us  Thu Sep 12 04:44:30 2013
From: david at ernsts.us (David Ernst)
Date: Thu, 12 Sep 2013 00:44:30 -0400
Subject: [wp-hackers] P2 in a subfolder
Message-ID: <CANmL2P9j1vma9U6LjKtMEV9VZ8ZK8j0D61A0U1EvkfcUiX5+RA@mail.gmail.com>

Short question:

What's the smartest way to configure a P2 child-theme to a subfolder of my
root (TwentyTwelve-based) WordPress install? This new subfolder would
need its own wp_posts table but use the same wp_users.





The details:

The current set up uses a child-theme of TwentyTwelve. There's a static
homepage and most of the site is organized around Pages. So
foo.com/bananais the permalink for the Page 'Banana'. There are about
40 or so Pages at
the moment.

And foo.com/blog is the current Blog Index, so the Post 'Pineapple' lives
at foo.com/blog/pineapple . There are only a few posts right now, and only
admins can post.

WooCommerce is also installed, using the /shop/ subfolder. It treats
eCommerce orders as a custom post type.

Then there's another custom post type 'fish' with some
elaborate accompanying wp_postmeta that's rendered and semi-editable on
foo.com/fishtank, using a htaccess rewrite + custom Action URL. Each user
can only see the fish-type posts they created.


Now what I'd like to do is create a discussion space at foo.com/talk/.
Unlike the current blog index, all users (& maybe guests? Haven't decided
yet) should be able to post here. The objective is for this to have a
real-time chat room feel, but like a forum also allow for longer
posts, keep an archive, and provide links to individual threads. Matt's
post "How P2 Changed Automattic" <
http://ma.tt/2009/05/how-p2-changed-automattic/> inspired me to think P2
could work well.

Because this may generate tons of content, and the current wp_posts is
already pretty busy, I'd rather give it its own wp_posts table, if possible.
Is this an unnecessary concern and over-complicating things? I'd still like
to use the current wp_users table.


Does this setup make sense? Has it been done before? Am I being crazy? Is
there documentation for these sort of scenarios? Would it be much simpler
to use a fresh install of WordPress in a subfolder? Is there a sane way to
share wp_users between these two spaces?


I'd appreciate any thoughts, concerns, and suggestions :-)


Much thanks,

David

From info at bungeshea.com  Thu Sep 12 08:32:11 2013
From: info at bungeshea.com (Shea Bunge)
Date: Thu, 12 Sep 2013 18:32:11 +1000
Subject: [wp-hackers] P2 in a subfolder
In-Reply-To: <CANmL2P9j1vma9U6LjKtMEV9VZ8ZK8j0D61A0U1EvkfcUiX5+RA@mail.gmail.com>
References: <CANmL2P9j1vma9U6LjKtMEV9VZ8ZK8j0D61A0U1EvkfcUiX5+RA@mail.gmail.com>
Message-ID: <BLU177-W27531B4106E4D3BE8EF085B83A0@phx.gbl>

You should make your P2-powered area a separate WordPress install. Then, you can set the CUSTOM_USER_TABLE and CUSTOM_USER_META_TABLE constants in wp-config.php. See http://codex.wordpress.org/Editing_wp-config.php#Custom_User_and_Usermeta_Tables for more details.
> Date: Thu, 12 Sep 2013 00:44:30 -0400
> From: david at ernsts.us
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] P2 in a subfolder
> 
> Short question:
> 
> What's the smartest way to configure a P2 child-theme to a subfolder of my
> root (TwentyTwelve-based) WordPress install? This new subfolder would
> need its own wp_posts table but use the same wp_users.
> 
> 
> 
> 
> 
> The details:
> 
> The current set up uses a child-theme of TwentyTwelve. There's a static
> homepage and most of the site is organized around Pages. So
> foo.com/bananais the permalink for the Page 'Banana'. There are about
> 40 or so Pages at
> the moment.
> 
> And foo.com/blog is the current Blog Index, so the Post 'Pineapple' lives
> at foo.com/blog/pineapple . There are only a few posts right now, and only
> admins can post.
> 
> WooCommerce is also installed, using the /shop/ subfolder. It treats
> eCommerce orders as a custom post type.
> 
> Then there's another custom post type 'fish' with some
> elaborate accompanying wp_postmeta that's rendered and semi-editable on
> foo.com/fishtank, using a htaccess rewrite + custom Action URL. Each user
> can only see the fish-type posts they created.
> 
> 
> Now what I'd like to do is create a discussion space at foo.com/talk/.
> Unlike the current blog index, all users (& maybe guests? Haven't decided
> yet) should be able to post here. The objective is for this to have a
> real-time chat room feel, but like a forum also allow for longer
> posts, keep an archive, and provide links to individual threads. Matt's
> post "How P2 Changed Automattic" <
> http://ma.tt/2009/05/how-p2-changed-automattic/> inspired me to think P2
> could work well.
> 
> Because this may generate tons of content, and the current wp_posts is
> already pretty busy, I'd rather give it its own wp_posts table, if possible.
> Is this an unnecessary concern and over-complicating things? I'd still like
> to use the current wp_users table.
> 
> 
> Does this setup make sense? Has it been done before? Am I being crazy? Is
> there documentation for these sort of scenarios? Would it be much simpler
> to use a fresh install of WordPress in a subfolder? Is there a sane way to
> share wp_users between these two spaces?
> 
> 
> I'd appreciate any thoughts, concerns, and suggestions :-)
> 
> 
> Much thanks,
> 
> David
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From moraleida at gmail.com  Thu Sep 12 11:07:49 2013
From: moraleida at gmail.com (Ricardo Moraleida)
Date: Thu, 12 Sep 2013 08:07:49 -0300
Subject: [wp-hackers] Software on irclogs.wordpress.org
Message-ID: <CAF_HY=pxamOZy9hAFZxxvJUHu-oca_ZjqtGP-t7wajifb893YA@mail.gmail.com>

Hi,

does anyone know what software runs on irclogs.wordpress.org (including the
irc-bot)?

I wanted to deploy a similar solution to log our conversations on
#wordpress-brasil and I'd love it if it could be the same.

thanks!

Ricardo Moraleida

From david at ernsts.us  Thu Sep 12 11:47:59 2013
From: david at ernsts.us (David Ernst)
Date: Thu, 12 Sep 2013 07:47:59 -0400
Subject: [wp-hackers] P2 in a subfolder
In-Reply-To: <BLU177-W27531B4106E4D3BE8EF085B83A0@phx.gbl>
References: <CANmL2P9j1vma9U6LjKtMEV9VZ8ZK8j0D61A0U1EvkfcUiX5+RA@mail.gmail.com>
 <BLU177-W27531B4106E4D3BE8EF085B83A0@phx.gbl>
Message-ID: <CANmL2P9Y97Gn9uoUiyky+j7jTbSG9XG36S-AMzSHsbGZR3H2Fw@mail.gmail.com>

Seems simple enough, thank you for the suggestion, Shea! Are there also
straightforward strategies to reuse certain theme aspects, e.g. header and
footer?

Cheers,
David

On Thursday, September 12, 2013, Shea Bunge wrote:

> You should make your P2-powered area a separate WordPress install. Then,
> you can set the CUSTOM_USER_TABLE and CUSTOM_USER_META_TABLE constants in
> wp-config.php. See
> http://codex.wordpress.org/Editing_wp-config.php#Custom_User_and_Usermeta_Tablesfor more details.
> > Date: Thu, 12 Sep 2013 00:44:30 -0400
> > From: david at ernsts.us <javascript:;>
> > To: wp-hackers at lists.automattic.com <javascript:;>
> > Subject: [wp-hackers] P2 in a subfolder
> >
> > Short question:
> >
> > What's the smartest way to configure a P2 child-theme to a subfolder of
> my
> > root (TwentyTwelve-based) WordPress install? This new subfolder would
> > need its own wp_posts table but use the same wp_users.
> >
> >
> >
> >
> >
> > The details:
> >
> > The current set up uses a child-theme of TwentyTwelve. There's a static
> > homepage and most of the site is organized around Pages. So
> > foo.com/bananais the permalink for the Page 'Banana'. There are about
> > 40 or so Pages at
> > the moment.
> >
> > And foo.com/blog is the current Blog Index, so the Post 'Pineapple'
> lives
> > at foo.com/blog/pineapple . There are only a few posts right now, and
> only
> > admins can post.
> >
> > WooCommerce is also installed, using the /shop/ subfolder. It treats
> > eCommerce orders as a custom post type.
> >
> > Then there's another custom post type 'fish' with some
> > elaborate accompanying wp_postmeta that's rendered and semi-editable on
> > foo.com/fishtank, using a htaccess rewrite + custom Action URL. Each
> user
> > can only see the fish-type posts they created.
> >
> >
> > Now what I'd like to do is create a discussion space at foo.com/talk/.
> > Unlike the current blog index, all users (& maybe guests? Haven't decided
> > yet) should be able to post here. The objective is for this to have a
> > real-time chat room feel, but like a forum also allow for longer
> > posts, keep an archive, and provide links to individual threads. Matt's
> > post "How P2 Changed Automattic" <
> > http://ma.tt/2009/05/how-p2-changed-automattic/> inspired me to think P2
> > could work well.
> >
> > Because this may generate tons of content, and the current wp_posts is
> > already pretty busy, I'd rather give it its own wp_posts table, if
> possible.
> > Is this an unnecessary concern and over-complicating things? I'd still
> like
> > to use the current wp_users table.
> >
> >
> > Does this setup make sense? Has it been done before? Am I being crazy? Is
> > there documentation for these sort of scenarios? Would it be much simpler
> > to use a fresh install of WordPress in a subfolder? Is there a sane way
> to
> > share wp_users between these two spaces?
> >
> >
> > I'd appreciate any thoughts, concerns, and suggestions :-)
> >
> >
> > Much thanks,
> >
> > David
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com <javascript:;>
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com <javascript:;>
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From alex at buayacorp.com  Thu Sep 12 12:12:24 2013
From: alex at buayacorp.com (Alexander Concha)
Date: Thu, 12 Sep 2013 14:12:24 +0200
Subject: [wp-hackers] Software on irclogs.wordpress.org
In-Reply-To: <CAF_HY=pxamOZy9hAFZxxvJUHu-oca_ZjqtGP-t7wajifb893YA@mail.gmail.com>
References: <CAF_HY=pxamOZy9hAFZxxvJUHu-oca_ZjqtGP-t7wajifb893YA@mail.gmail.com>
Message-ID: <CALt-Q2bkndGkXVz5O+zpXPrvDsLm6C+=znhLGCp6aabOENNLMw@mail.gmail.com>

On Thu, Sep 12, 2013 at 1:07 PM, Ricardo Moraleida <moraleida at gmail.com> wrote:
> Hi,
>
> does anyone know what software runs on irclogs.wordpress.org (including the
> irc-bot)?
>
> I wanted to deploy a similar solution to log our conversations on
> #wordpress-brasil and I'd love it if it could be the same.

I think you can find the code at http://code.svn.wordpress.org/

-- 
Alexander Concha
http://www.buayacorp.com

From moraleida at gmail.com  Thu Sep 12 12:14:20 2013
From: moraleida at gmail.com (Ricardo Moraleida)
Date: Thu, 12 Sep 2013 09:14:20 -0300
Subject: [wp-hackers] Software on irclogs.wordpress.org
In-Reply-To: <CALt-Q2bkndGkXVz5O+zpXPrvDsLm6C+=znhLGCp6aabOENNLMw@mail.gmail.com>
References: <CAF_HY=pxamOZy9hAFZxxvJUHu-oca_ZjqtGP-t7wajifb893YA@mail.gmail.com>
 <CALt-Q2bkndGkXVz5O+zpXPrvDsLm6C+=znhLGCp6aabOENNLMw@mail.gmail.com>
Message-ID: <CAF_HY=qiin+m4-VAsLrsnPmcTsHf2uLSndM6m-a+PvLywQhvjw@mail.gmail.com>

Awesome, thanks!

Ricardo Moraleida


2013/9/12 Alexander Concha <alex at buayacorp.com>

> On Thu, Sep 12, 2013 at 1:07 PM, Ricardo Moraleida <moraleida at gmail.com>
> wrote:
> > Hi,
> >
> > does anyone know what software runs on irclogs.wordpress.org (including
> the
> > irc-bot)?
> >
> > I wanted to deploy a similar solution to log our conversations on
> > #wordpress-brasil and I'd love it if it could be the same.
>
> I think you can find the code at http://code.svn.wordpress.org/
>
> --
> Alexander Concha
> http://www.buayacorp.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lists at rotorised.com  Thu Sep 12 12:35:27 2013
From: lists at rotorised.com (Ryan McCue)
Date: Thu, 12 Sep 2013 22:35:27 +1000
Subject: [wp-hackers] Software on irclogs.wordpress.org
In-Reply-To: <CAF_HY=pxamOZy9hAFZxxvJUHu-oca_ZjqtGP-t7wajifb893YA@mail.gmail.com>
References: <CAF_HY=pxamOZy9hAFZxxvJUHu-oca_ZjqtGP-t7wajifb893YA@mail.gmail.com>
Message-ID: <5231B50F.1040900@rotorised.com>

Ricardo Moraleida wrote:
> I wanted to deploy a similar solution to log our conversations on
> #wordpress-brasil and I'd love it if it could be the same.

For #wordpress-* channels, ping one of the dotorg team (such as nacin)
and they should be able to set it up on the official one for you.

-- 
Ryan McCue
<http://ryanmccue.info/>

From jdg at codesymphony.co  Thu Sep 12 13:35:24 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Thu, 12 Sep 2013 09:35:24 -0400
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <1378940463039-42270.post@n5.nabble.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
Message-ID: <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>


On Sep 11, 2013, at 7:01 PM, BenderisGreat <greglancaster71 at gmail.com> wrote:

> Wait this could be the answer to everything I need done.  You said I can
> attach it to a post, so each users uploads would be associated to their
> specific post.  If I am doing that is it also possible to associate the data
> I am saving with my form to that post as well?  How would that be done?
> custom fields or something?

Yes, you can do that using post metadata AKA custom fields. 

http://codex.wordpress.org/Function_Reference/add_post_meta

> Last followup question - how
> would I take the post->id from the image upload and drop it into my table. 
> (so each entry is properly matched up with the correct image)


The post ID is returned by wp_insert_attachment():

http://codex.wordpress.org/Function_Reference/wp_insert_attachment#Return_Values

So you would just need to use $wpdb->insert() with that post ID (if you are going to use the custom table instead of post meta).

http://codex.wordpress.org/Class_Reference/wpdb#INSERT_rows


From greglancaster71 at gmail.com  Thu Sep 12 16:25:01 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Thu, 12 Sep 2013 09:25:01 -0700
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
Message-ID: <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>

Im not sure how that would work.  Right now I am using a form I made, using
wpdb to drop it into my custom table.  But the file is handles by the
insert_attachment. It creates a post attachment, but I dont see a way to
link up the post attachment ID to my custom table since it all happens on
submit.

My code:


///FORM CODE///


<form name="log_data" method="post" action="" enctype="multipart/form-data"
onsubmit="setTimeout('location.reload()', 500);" />
  <input type="hidden" name="user_id" value="<?php echo $current_user->ID
?>"/>
  <input type="number" step="any" class="form-control" placeholder="Value"
name="length" value="" />
  <br />
  <input type="number" step="any" class="form-control" placeholder="Value"
name="ground" value="" />
  <br />
  <label for="date">Week Of:</label>
  <input type="date" name="date" class="form-control" value="" />
  <br />
<input type="file" name="file" value="">
  <br />
  <input type="submit" name="submit" value="submit" class="btn
btn-primary"/>
</form>
</div>

///SUBMIT FORM CODE

$post_id = NULL;
global $wpdb;
if ($_FILES) {
  foreach ($_FILES as $key => $value) {
    $newupload = insert_attachment($file, $post_id);
    // $newupload returns the attachment id of the file that
    // was just uploaded. Do whatever you want with that now.




if (isset($_POST['submit'])) {
$wpdb->insert(wp_jo_plugin_options, array (
    'user_id' => $_POST['user_id'],
    'length'  => $_POST['length'],
    'ground'  => $_POST['ground'],
    'date'    => $_POST['date'],
'file' => $_FILES['file'],
));
        }
    }
}


///FILE HANDLING FUNCTION

function insert_attachment($file_handler,$post_id,$setthumb='false') {

  // check to make sure its a successful upload
  if ($_FILES[$file_handler]['error'] !== UPLOAD_ERR_OK) __return_false();

  require_once(ABSPATH . "wp-admin" . '/includes/image.php');
  require_once(ABSPATH . "wp-admin" . '/includes/file.php');
  require_once(ABSPATH . "wp-admin" . '/includes/media.php');

  $attach_id = media_handle_upload( $file_handler, $post_id );

  return $attach_id;
}




On Thu, Sep 12, 2013 at 6:35 AM, J.D. Grimes <jdg at codesymphony.co> wrote:

>
> On Sep 11, 2013, at 7:01 PM, BenderisGreat <greglancaster71 at gmail.com>
> wrote:
>
> > Wait this could be the answer to everything I need done.  You said I can
> > attach it to a post, so each users uploads would be associated to their
> > specific post.  If I am doing that is it also possible to associate the
> data
> > I am saving with my form to that post as well?  How would that be done?
> > custom fields or something?
>
> Yes, you can do that using post metadata AKA custom fields.
>
> http://codex.wordpress.org/Function_Reference/add_post_meta
>
> > Last followup question - how
> > would I take the post->id from the image upload and drop it into my
> table.
> > (so each entry is properly matched up with the correct image)
>
>
> The post ID is returned by wp_insert_attachment():
>
>
> http://codex.wordpress.org/Function_Reference/wp_insert_attachment#Return_Values
>
> So you would just need to use $wpdb->insert() with that post ID (if you
> are going to use the custom table instead of post meta).
>
> http://codex.wordpress.org/Class_Reference/wpdb#INSERT_rows
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From goldenapplesdesign at gmail.com  Thu Sep 12 18:17:06 2013
From: goldenapplesdesign at gmail.com (Nathaniel Taintor)
Date: Thu, 12 Sep 2013 11:17:06 -0700
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
 <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
Message-ID: <CAH+NfoB5e6KLKbZUu=DNpVihhn4=-d2oT9FqbD2SdLsFQYxqoA@mail.gmail.com>

Couple things here:

If you're letting users post the user ID to attach to a photo, then anyone
can post a picture to anyone else's user account if they know or can guess
the user ID. I would just use $current_user->ID on the back end rather than
a hidden field that has to be posted with user ID.

The insert_attachment() function you're using returns the post ID of the
image after a successful upload. Can you just use that ID to reference the
image in the custom table you're building, rather than $_FILES['file']? Its
simple enough to retrieve an image given its post ID using functions like
wp_get_attachment_url() or wp_get_attachment_image_src(). That seems like a
simple approach than trying to store the image url in your custom table.


Nathaniel Taintor, Designer/Developer
*Golden Apples Design*
http://goldenapplesdesign.com

@GoldenApples | 717.434.3226
goldenapplesdesign at gmail.com


On Thu, Sep 12, 2013 at 9:25 AM, Gregory Lancaster <
greglancaster71 at gmail.com> wrote:

> Im not sure how that would work.  Right now I am using a form I made, using
> wpdb to drop it into my custom table.  But the file is handles by the
> insert_attachment. It creates a post attachment, but I dont see a way to
> link up the post attachment ID to my custom table since it all happens on
> submit.
>
> My code:
>
>
> ///FORM CODE///
>
>
> <form name="log_data" method="post" action="" enctype="multipart/form-data"
> onsubmit="setTimeout('location.reload()', 500);" />
>   <input type="hidden" name="user_id" value="<?php echo $current_user->ID
> ?>"/>
>   <input type="number" step="any" class="form-control" placeholder="Value"
> name="length" value="" />
>   <br />
>   <input type="number" step="any" class="form-control" placeholder="Value"
> name="ground" value="" />
>   <br />
>   <label for="date">Week Of:</label>
>   <input type="date" name="date" class="form-control" value="" />
>   <br />
> <input type="file" name="file" value="">
>   <br />
>   <input type="submit" name="submit" value="submit" class="btn
> btn-primary"/>
> </form>
> </div>
>
> ///SUBMIT FORM CODE
>
> $post_id = NULL;
> global $wpdb;
> if ($_FILES) {
>   foreach ($_FILES as $key => $value) {
>     $newupload = insert_attachment($file, $post_id);
>     // $newupload returns the attachment id of the file that
>     // was just uploaded. Do whatever you want with that now.
>
>
>
>
> if (isset($_POST['submit'])) {
> $wpdb->insert(wp_jo_plugin_options, array (
>     'user_id' => $_POST['user_id'],
>     'length'  => $_POST['length'],
>     'ground'  => $_POST['ground'],
>     'date'    => $_POST['date'],
> 'file' => $_FILES['file'],
> ));
>         }
>     }
> }
>
>
> ///FILE HANDLING FUNCTION
>
> function insert_attachment($file_handler,$post_id,$setthumb='false') {
>
>   // check to make sure its a successful upload
>   if ($_FILES[$file_handler]['error'] !== UPLOAD_ERR_OK) __return_false();
>
>   require_once(ABSPATH . "wp-admin" . '/includes/image.php');
>   require_once(ABSPATH . "wp-admin" . '/includes/file.php');
>   require_once(ABSPATH . "wp-admin" . '/includes/media.php');
>
>   $attach_id = media_handle_upload( $file_handler, $post_id );
>
>   return $attach_id;
> }
>
>
>
>
> On Thu, Sep 12, 2013 at 6:35 AM, J.D. Grimes <jdg at codesymphony.co> wrote:
>
> >
> > On Sep 11, 2013, at 7:01 PM, BenderisGreat <greglancaster71 at gmail.com>
> > wrote:
> >
> > > Wait this could be the answer to everything I need done.  You said I
> can
> > > attach it to a post, so each users uploads would be associated to their
> > > specific post.  If I am doing that is it also possible to associate the
> > data
> > > I am saving with my form to that post as well?  How would that be done?
> > > custom fields or something?
> >
> > Yes, you can do that using post metadata AKA custom fields.
> >
> > http://codex.wordpress.org/Function_Reference/add_post_meta
> >
> > > Last followup question - how
> > > would I take the post->id from the image upload and drop it into my
> > table.
> > > (so each entry is properly matched up with the correct image)
> >
> >
> > The post ID is returned by wp_insert_attachment():
> >
> >
> >
> http://codex.wordpress.org/Function_Reference/wp_insert_attachment#Return_Values
> >
> > So you would just need to use $wpdb->insert() with that post ID (if you
> > are going to use the custom table instead of post meta).
> >
> > http://codex.wordpress.org/Class_Reference/wpdb#INSERT_rows
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Thu Sep 12 18:32:32 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Thu, 12 Sep 2013 14:32:32 -0400
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
 <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
Message-ID: <95726778-81FF-4DBD-9A06-C6C0E061ACE0@codesymphony.co>

Your insert_attachment() function returns the post ID of the attachment, so I'm not sure what the problem is... 

You don't need to attach the attachment to a post, so you should set $post_id to 0, and set the attachment's post_parent to 0 by passing in the $post_data parameter.

Example:

$post_id = 0;
$post_data = array( 'post_parent' => 0 );

$attach_id = media_handle_upload( $file_handler, $post_id, $post_data );

On Sep 12, 2013, at 12:25 PM, Gregory Lancaster <greglancaster71 at gmail.com> wrote:

> Im not sure how that would work.  Right now I am using a form I made, using
> wpdb to drop it into my custom table.  But the file is handles by the
> insert_attachment. It creates a post attachment, but I dont see a way to
> link up the post attachment ID to my custom table since it all happens on
> submit.
> 
> My code:
> 
> 
> ///FORM CODE///
> 
> 
> <form name="log_data" method="post" action="" enctype="multipart/form-data"
> onsubmit="setTimeout('location.reload()', 500);" />
>  <input type="hidden" name="user_id" value="<?php echo $current_user->ID
> ?>"/>
>  <input type="number" step="any" class="form-control" placeholder="Value"
> name="length" value="" />
>  <br />
>  <input type="number" step="any" class="form-control" placeholder="Value"
> name="ground" value="" />
>  <br />
>  <label for="date">Week Of:</label>
>  <input type="date" name="date" class="form-control" value="" />
>  <br />
> <input type="file" name="file" value="">
>  <br />
>  <input type="submit" name="submit" value="submit" class="btn
> btn-primary"/>
> </form>
> </div>
> 
> ///SUBMIT FORM CODE
> 
> $post_id = NULL;
> global $wpdb;
> if ($_FILES) {
>  foreach ($_FILES as $key => $value) {
>    $newupload = insert_attachment($file, $post_id);
>    // $newupload returns the attachment id of the file that
>    // was just uploaded. Do whatever you want with that now.
> 
> 
> 
> 
> if (isset($_POST['submit'])) {
> $wpdb->insert(wp_jo_plugin_options, array (
>    'user_id' => $_POST['user_id'],
>    'length'  => $_POST['length'],
>    'ground'  => $_POST['ground'],
>    'date'    => $_POST['date'],
> 'file' => $_FILES['file'],
> ));
>        }
>    }
> }
> 
> 
> ///FILE HANDLING FUNCTION
> 
> function insert_attachment($file_handler,$post_id,$setthumb='false') {
> 
>  // check to make sure its a successful upload
>  if ($_FILES[$file_handler]['error'] !== UPLOAD_ERR_OK) __return_false();
> 
>  require_once(ABSPATH . "wp-admin" . '/includes/image.php');
>  require_once(ABSPATH . "wp-admin" . '/includes/file.php');
>  require_once(ABSPATH . "wp-admin" . '/includes/media.php');
> 
>  $attach_id = media_handle_upload( $file_handler, $post_id );
> 
>  return $attach_id;
> }
> 
> 
> 
> 
> On Thu, Sep 12, 2013 at 6:35 AM, J.D. Grimes <jdg at codesymphony.co> wrote:
> 
>> 
>> On Sep 11, 2013, at 7:01 PM, BenderisGreat <greglancaster71 at gmail.com>
>> wrote:
>> 
>>> Wait this could be the answer to everything I need done.  You said I can
>>> attach it to a post, so each users uploads would be associated to their
>>> specific post.  If I am doing that is it also possible to associate the
>> data
>>> I am saving with my form to that post as well?  How would that be done?
>>> custom fields or something?
>> 
>> Yes, you can do that using post metadata AKA custom fields.
>> 
>> http://codex.wordpress.org/Function_Reference/add_post_meta
>> 
>>> Last followup question - how
>>> would I take the post->id from the image upload and drop it into my
>> table.
>>> (so each entry is properly matched up with the correct image)
>> 
>> 
>> The post ID is returned by wp_insert_attachment():
>> 
>> 
>> http://codex.wordpress.org/Function_Reference/wp_insert_attachment#Return_Values
>> 
>> So you would just need to use $wpdb->insert() with that post ID (if you
>> are going to use the custom table instead of post meta).
>> 
>> http://codex.wordpress.org/Class_Reference/wpdb#INSERT_rows
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Thu Sep 12 18:38:35 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Thu, 12 Sep 2013 11:38:35 -0700
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <CAH+NfoB5e6KLKbZUu=DNpVihhn4=-d2oT9FqbD2SdLsFQYxqoA@mail.gmail.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
 <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
 <CAH+NfoB5e6KLKbZUu=DNpVihhn4=-d2oT9FqbD2SdLsFQYxqoA@mail.gmail.com>
Message-ID: <CAPN-N+YAS2VnzHM9SHLKmTHr65j2DCp_0=dgtwOqw5PjhK-rCA@mail.gmail.com>

I would LOVE to do that haha.  I just need some type of reference back to
the attachment for obvious reasons.  But how can I get the post ID when it
has not been generated until after form submit?  Maybe a session? How would
that look written?


On Thu, Sep 12, 2013 at 11:17 AM, Nathaniel Taintor <
goldenapplesdesign at gmail.com> wrote:

> Couple things here:
>
> If you're letting users post the user ID to attach to a photo, then anyone
> can post a picture to anyone else's user account if they know or can guess
> the user ID. I would just use $current_user->ID on the back end rather than
> a hidden field that has to be posted with user ID.
>
> The insert_attachment() function you're using returns the post ID of the
> image after a successful upload. Can you just use that ID to reference the
> image in the custom table you're building, rather than $_FILES['file']? Its
> simple enough to retrieve an image given its post ID using functions like
> wp_get_attachment_url() or wp_get_attachment_image_src(). That seems like a
> simple approach than trying to store the image url in your custom table.
>
>
> Nathaniel Taintor, Designer/Developer
> *Golden Apples Design*
> http://goldenapplesdesign.com
>
> @GoldenApples | 717.434.3226
> goldenapplesdesign at gmail.com
>
>
> On Thu, Sep 12, 2013 at 9:25 AM, Gregory Lancaster <
> greglancaster71 at gmail.com> wrote:
>
> > Im not sure how that would work.  Right now I am using a form I made,
> using
> > wpdb to drop it into my custom table.  But the file is handles by the
> > insert_attachment. It creates a post attachment, but I dont see a way to
> > link up the post attachment ID to my custom table since it all happens on
> > submit.
> >
> > My code:
> >
> >
> > ///FORM CODE///
> >
> >
> > <form name="log_data" method="post" action=""
> enctype="multipart/form-data"
> > onsubmit="setTimeout('location.reload()', 500);" />
> >   <input type="hidden" name="user_id" value="<?php echo $current_user->ID
> > ?>"/>
> >   <input type="number" step="any" class="form-control"
> placeholder="Value"
> > name="length" value="" />
> >   <br />
> >   <input type="number" step="any" class="form-control"
> placeholder="Value"
> > name="ground" value="" />
> >   <br />
> >   <label for="date">Week Of:</label>
> >   <input type="date" name="date" class="form-control" value="" />
> >   <br />
> > <input type="file" name="file" value="">
> >   <br />
> >   <input type="submit" name="submit" value="submit" class="btn
> > btn-primary"/>
> > </form>
> > </div>
> >
> > ///SUBMIT FORM CODE
> >
> > $post_id = NULL;
> > global $wpdb;
> > if ($_FILES) {
> >   foreach ($_FILES as $key => $value) {
> >     $newupload = insert_attachment($file, $post_id);
> >     // $newupload returns the attachment id of the file that
> >     // was just uploaded. Do whatever you want with that now.
> >
> >
> >
> >
> > if (isset($_POST['submit'])) {
> > $wpdb->insert(wp_jo_plugin_options, array (
> >     'user_id' => $_POST['user_id'],
> >     'length'  => $_POST['length'],
> >     'ground'  => $_POST['ground'],
> >     'date'    => $_POST['date'],
> > 'file' => $_FILES['file'],
> > ));
> >         }
> >     }
> > }
> >
> >
> > ///FILE HANDLING FUNCTION
> >
> > function insert_attachment($file_handler,$post_id,$setthumb='false') {
> >
> >   // check to make sure its a successful upload
> >   if ($_FILES[$file_handler]['error'] !== UPLOAD_ERR_OK)
> __return_false();
> >
> >   require_once(ABSPATH . "wp-admin" . '/includes/image.php');
> >   require_once(ABSPATH . "wp-admin" . '/includes/file.php');
> >   require_once(ABSPATH . "wp-admin" . '/includes/media.php');
> >
> >   $attach_id = media_handle_upload( $file_handler, $post_id );
> >
> >   return $attach_id;
> > }
> >
> >
> >
> >
> > On Thu, Sep 12, 2013 at 6:35 AM, J.D. Grimes <jdg at codesymphony.co>
> wrote:
> >
> > >
> > > On Sep 11, 2013, at 7:01 PM, BenderisGreat <greglancaster71 at gmail.com>
> > > wrote:
> > >
> > > > Wait this could be the answer to everything I need done.  You said I
> > can
> > > > attach it to a post, so each users uploads would be associated to
> their
> > > > specific post.  If I am doing that is it also possible to associate
> the
> > > data
> > > > I am saving with my form to that post as well?  How would that be
> done?
> > > > custom fields or something?
> > >
> > > Yes, you can do that using post metadata AKA custom fields.
> > >
> > > http://codex.wordpress.org/Function_Reference/add_post_meta
> > >
> > > > Last followup question - how
> > > > would I take the post->id from the image upload and drop it into my
> > > table.
> > > > (so each entry is properly matched up with the correct image)
> > >
> > >
> > > The post ID is returned by wp_insert_attachment():
> > >
> > >
> > >
> >
> http://codex.wordpress.org/Function_Reference/wp_insert_attachment#Return_Values
> > >
> > > So you would just need to use $wpdb->insert() with that post ID (if you
> > > are going to use the custom table instead of post meta).
> > >
> > > http://codex.wordpress.org/Class_Reference/wpdb#INSERT_rows
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From greglancaster71 at gmail.com  Thu Sep 12 18:40:12 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Thu, 12 Sep 2013 11:40:12 -0700
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <95726778-81FF-4DBD-9A06-C6C0E061ACE0@codesymphony.co>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
 <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
 <95726778-81FF-4DBD-9A06-C6C0E061ACE0@codesymphony.co>
Message-ID: <CAPN-N+bcS6jzj3heQzsbwb07dvy4MPvdU_a2P8Zp0U3mx5XtTA@mail.gmail.com>

Yea a couple people on stack overflow told me the same about
insert_attachment returning the post ID of the attachment, that I dont
deny.  I just dont see how I can post it with the other form data.  Only
way I can think is a session.  I tried a variable within the value of the
input field but obviously that failed immediately since it has no value
until after the file is uploaded.


On Thu, Sep 12, 2013 at 11:32 AM, J.D. Grimes <jdg at codesymphony.co> wrote:

> Your insert_attachment() function returns the post ID of the attachment,
> so I'm not sure what the problem is...
>
> You don't need to attach the attachment to a post, so you should set
> $post_id to 0, and set the attachment's post_parent to 0 by passing in the
> $post_data parameter.
>
> Example:
>
> $post_id = 0;
> $post_data = array( 'post_parent' => 0 );
>
> $attach_id = media_handle_upload( $file_handler, $post_id, $post_data );
>
> On Sep 12, 2013, at 12:25 PM, Gregory Lancaster <greglancaster71 at gmail.com>
> wrote:
>
> > Im not sure how that would work.  Right now I am using a form I made,
> using
> > wpdb to drop it into my custom table.  But the file is handles by the
> > insert_attachment. It creates a post attachment, but I dont see a way to
> > link up the post attachment ID to my custom table since it all happens on
> > submit.
> >
> > My code:
> >
> >
> > ///FORM CODE///
> >
> >
> > <form name="log_data" method="post" action=""
> enctype="multipart/form-data"
> > onsubmit="setTimeout('location.reload()', 500);" />
> >  <input type="hidden" name="user_id" value="<?php echo $current_user->ID
> > ?>"/>
> >  <input type="number" step="any" class="form-control" placeholder="Value"
> > name="length" value="" />
> >  <br />
> >  <input type="number" step="any" class="form-control" placeholder="Value"
> > name="ground" value="" />
> >  <br />
> >  <label for="date">Week Of:</label>
> >  <input type="date" name="date" class="form-control" value="" />
> >  <br />
> > <input type="file" name="file" value="">
> >  <br />
> >  <input type="submit" name="submit" value="submit" class="btn
> > btn-primary"/>
> > </form>
> > </div>
> >
> > ///SUBMIT FORM CODE
> >
> > $post_id = NULL;
> > global $wpdb;
> > if ($_FILES) {
> >  foreach ($_FILES as $key => $value) {
> >    $newupload = insert_attachment($file, $post_id);
> >    // $newupload returns the attachment id of the file that
> >    // was just uploaded. Do whatever you want with that now.
> >
> >
> >
> >
> > if (isset($_POST['submit'])) {
> > $wpdb->insert(wp_jo_plugin_options, array (
> >    'user_id' => $_POST['user_id'],
> >    'length'  => $_POST['length'],
> >    'ground'  => $_POST['ground'],
> >    'date'    => $_POST['date'],
> > 'file' => $_FILES['file'],
> > ));
> >        }
> >    }
> > }
> >
> >
> > ///FILE HANDLING FUNCTION
> >
> > function insert_attachment($file_handler,$post_id,$setthumb='false') {
> >
> >  // check to make sure its a successful upload
> >  if ($_FILES[$file_handler]['error'] !== UPLOAD_ERR_OK) __return_false();
> >
> >  require_once(ABSPATH . "wp-admin" . '/includes/image.php');
> >  require_once(ABSPATH . "wp-admin" . '/includes/file.php');
> >  require_once(ABSPATH . "wp-admin" . '/includes/media.php');
> >
> >  $attach_id = media_handle_upload( $file_handler, $post_id );
> >
> >  return $attach_id;
> > }
> >
> >
> >
> >
> > On Thu, Sep 12, 2013 at 6:35 AM, J.D. Grimes <jdg at codesymphony.co>
> wrote:
> >
> >>
> >> On Sep 11, 2013, at 7:01 PM, BenderisGreat <greglancaster71 at gmail.com>
> >> wrote:
> >>
> >>> Wait this could be the answer to everything I need done.  You said I
> can
> >>> attach it to a post, so each users uploads would be associated to their
> >>> specific post.  If I am doing that is it also possible to associate the
> >> data
> >>> I am saving with my form to that post as well?  How would that be done?
> >>> custom fields or something?
> >>
> >> Yes, you can do that using post metadata AKA custom fields.
> >>
> >> http://codex.wordpress.org/Function_Reference/add_post_meta
> >>
> >>> Last followup question - how
> >>> would I take the post->id from the image upload and drop it into my
> >> table.
> >>> (so each entry is properly matched up with the correct image)
> >>
> >>
> >> The post ID is returned by wp_insert_attachment():
> >>
> >>
> >>
> http://codex.wordpress.org/Function_Reference/wp_insert_attachment#Return_Values
> >>
> >> So you would just need to use $wpdb->insert() with that post ID (if you
> >> are going to use the custom table instead of post meta).
> >>
> >> http://codex.wordpress.org/Class_Reference/wpdb#INSERT_rows
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Thu Sep 12 18:46:51 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Thu, 12 Sep 2013 14:46:51 -0400
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
 <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
Message-ID: <AF76F5C9-2975-46F1-82D4-440382D6F0DD@codesymphony.co>

> Yea a couple people on stack overflow told me the same about
> insert_attachment returning the post ID of the attachment, that I dont
> deny.  I just dont see how I can post it with the other form data.  Only
> way I can think is a session.  I tried a variable within the value of the
> input field but obviously that failed immediately since it has no value
> until after the file is uploaded.

Well, I'm not sure I understand what the problem is. Both the attachment and your data are being inserted on form submit, as per the code you posted. And the attachment is inserted before your custom data. So there is no problem there. Get the ID from the $newupload variable:

> ///SUBMIT FORM CODE
> 
> $post_id = NULL;
> global $wpdb;
> if ($_FILES) {
>  foreach ($_FILES as $key => $value) {
>    $newupload = insert_attachment($file, $post_id);
>    /****** $newupload returns the attachment id of the file that *****/
>    // was just uploaded. Do whatever you want with that now.
> 
> 
> if (isset($_POST['submit'])) {
> $wpdb->insert(wp_jo_plugin_options, array (
>    'user_id' => $_POST['user_id'],
>    'length'  => $_POST['length'],
>    'ground'  => $_POST['ground'],
>    'date'    => $_POST['date'],
> 'file' => $_FILES['file'],
> ));
>        }
>    }
> }


From greglancaster71 at gmail.com  Thu Sep 12 19:10:54 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Thu, 12 Sep 2013 12:10:54 -0700
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <AF76F5C9-2975-46F1-82D4-440382D6F0DD@codesymphony.co>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
 <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
 <AF76F5C9-2975-46F1-82D4-440382D6F0DD@codesymphony.co>
Message-ID: <CAPN-N+bBYq0DWoivA_QspP5a5WjfdOAoZJVoX2m3WcojUpxDgA@mail.gmail.com>

I have no idea how I would insert that into $ _POST.  It wont take it, says
its an array.  I tried it.  Would you (JD) link me to a reference that
would explain how $_POST can work with variables in this way?


On Thu, Sep 12, 2013 at 11:46 AM, J.D. Grimes <jdg at codesymphony.co> wrote:

> > Yea a couple people on stack overflow told me the same about
> > insert_attachment returning the post ID of the attachment, that I dont
> > deny.  I just dont see how I can post it with the other form data.  Only
> > way I can think is a session.  I tried a variable within the value of the
> > input field but obviously that failed immediately since it has no value
> > until after the file is uploaded.
>
> Well, I'm not sure I understand what the problem is. Both the attachment
> and your data are being inserted on form submit, as per the code you
> posted. And the attachment is inserted before your custom data. So there is
> no problem there. Get the ID from the $newupload variable:
>
> > ///SUBMIT FORM CODE
> >
> > $post_id = NULL;
> > global $wpdb;
> > if ($_FILES) {
> >  foreach ($_FILES as $key => $value) {
> >    $newupload = insert_attachment($file, $post_id);
> >    /****** $newupload returns the attachment id of the file that *****/
> >    // was just uploaded. Do whatever you want with that now.
> >
> >
> > if (isset($_POST['submit'])) {
> > $wpdb->insert(wp_jo_plugin_options, array (
> >    'user_id' => $_POST['user_id'],
> >    'length'  => $_POST['length'],
> >    'ground'  => $_POST['ground'],
> >    'date'    => $_POST['date'],
> > 'file' => $_FILES['file'],
> > ));
> >        }
> >    }
> > }
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Thu Sep 12 19:14:27 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Thu, 12 Sep 2013 15:14:27 -0400
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <CAPN-N+bBYq0DWoivA_QspP5a5WjfdOAoZJVoX2m3WcojUpxDgA@mail.gmail.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
 <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
 <AF76F5C9-2975-46F1-82D4-440382D6F0DD@codesymphony.co>
 <CAPN-N+bBYq0DWoivA_QspP5a5WjfdOAoZJVoX2m3WcojUpxDgA@mail.gmail.com>
Message-ID: <45935ADD-10CF-4477-8269-656DE2BBEB11@codesymphony.co>


On Sep 12, 2013, at 3:10 PM, Gregory Lancaster <greglancaster71 at gmail.com> wrote:

> I have no idea how I would insert that into $ _POST.  It wont take it, says
> its an array.  I tried it.  Would you (JD) link me to a reference that
> would explain how $_POST can work with variables in this way?

You don't need to insert it into $_POST. Sorry IF I confused you into thinking that.

Example of how you might use it:

> ///SUBMIT FORM CODE
> 
> $post_id = NULL;
> global $wpdb;
> if ($_FILES) {
> foreach ($_FILES as $key => $value) {
>   $newupload = insert_attachment($file, $post_id);
>   /****** $newupload returns the attachment id of the file that *****/
>   // was just uploaded. Do whatever you want with that now.
> 
> 
> if (isset($_POST['submit'])) {
> $wpdb->insert(wp_jo_plugin_options, array (
>   'user_id' => $_POST['user_id'],
>   'length'  => $_POST['length'],
>   'ground'  => $_POST['ground'],
>   'date'    => $_POST['date'],
> 'file' => $_FILES['file'],
>   'attach_id' => $newupload, /***** EDIT *****/
> ));
>       }
>   }
> }

From greglancaster71 at gmail.com  Thu Sep 12 19:18:27 2013
From: greglancaster71 at gmail.com (Gregory Lancaster)
Date: Thu, 12 Sep 2013 12:18:27 -0700
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <45935ADD-10CF-4477-8269-656DE2BBEB11@codesymphony.co>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
 <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
 <AF76F5C9-2975-46F1-82D4-440382D6F0DD@codesymphony.co>
 <CAPN-N+bBYq0DWoivA_QspP5a5WjfdOAoZJVoX2m3WcojUpxDgA@mail.gmail.com>
 <45935ADD-10CF-4477-8269-656DE2BBEB11@codesymphony.co>
Message-ID: <CAPN-N+Zg5CUkFLi953FV2bH+p-uRopvk3y1-_Ruw+t6m=cLB3w@mail.gmail.com>

oh my god. thank you j.d.  I am [obviously] still learning PHP and I was
under the impression I was required to have the $_POST[] form handler.  I
literally spend hours fumble fuc**** around with this.  Well I feel like a
complete idiot.  Thank you so much for your help.


On Thu, Sep 12, 2013 at 12:14 PM, J.D. Grimes <jdg at codesymphony.co> wrote:

>
> On Sep 12, 2013, at 3:10 PM, Gregory Lancaster <greglancaster71 at gmail.com>
> wrote:
>
> > I have no idea how I would insert that into $ _POST.  It wont take it,
> says
> > its an array.  I tried it.  Would you (JD) link me to a reference that
> > would explain how $_POST can work with variables in this way?
>
> You don't need to insert it into $_POST. Sorry IF I confused you into
> thinking that.
>
> Example of how you might use it:
>
> > ///SUBMIT FORM CODE
> >
> > $post_id = NULL;
> > global $wpdb;
> > if ($_FILES) {
> > foreach ($_FILES as $key => $value) {
> >   $newupload = insert_attachment($file, $post_id);
> >   /****** $newupload returns the attachment id of the file that *****/
> >   // was just uploaded. Do whatever you want with that now.
> >
> >
> > if (isset($_POST['submit'])) {
> > $wpdb->insert(wp_jo_plugin_options, array (
> >   'user_id' => $_POST['user_id'],
> >   'length'  => $_POST['length'],
> >   'ground'  => $_POST['ground'],
> >   'date'    => $_POST['date'],
> > 'file' => $_FILES['file'],
> >   'attach_id' => $newupload, /***** EDIT *****/
> > ));
> >       }
> >   }
> > }
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Thu Sep 12 19:24:06 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Thu, 12 Sep 2013 15:24:06 -0400
Subject: [wp-hackers] Allow users to upload their own images - hook to
	use?
In-Reply-To: <CAPN-N+Zg5CUkFLi953FV2bH+p-uRopvk3y1-_Ruw+t6m=cLB3w@mail.gmail.com>
References: <1378937570249-42264.post@n5.nabble.com>
 <CAM_fM0pN8DyoyZ8w9rGSrr_us3tqJJ+31M_ZHwoHYQLSCz5a_w@mail.gmail.com>
 <1378940463039-42270.post@n5.nabble.com>
 <AE5DD9DE-1F72-470F-B84B-6D5A7061AF11@codesymphony.co>
 <CAPN-N+bjOVf2_xJ=VA2RNOnS5PGh3-8oaTCjEeAqoKVxgOmJoQ@mail.gmail.com>
 <AF76F5C9-2975-46F1-82D4-440382D6F0DD@codesymphony.co>
 <CAPN-N+bBYq0DWoivA_QspP5a5WjfdOAoZJVoX2m3WcojUpxDgA@mail.gmail.com>
 <45935ADD-10CF-4477-8269-656DE2BBEB11@codesymphony.co>
 <CAPN-N+Zg5CUkFLi953FV2bH+p-uRopvk3y1-_Ruw+t6m=cLB3w@mail.gmail.com>
Message-ID: <50EFC1F3-6E7E-4A97-8CE2-D7483F2101F0@codesymphony.co>

You are welcome. Don't feel like an idiot though. I've spent hours debugging code, when the only problem was a stupid typo in a variable name. It's just part of programming, but the more you learn, the quicker you will be able to figure out whats going on.


From greglancaster71 at gmail.com  Thu Sep 12 20:07:23 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Thu, 12 Sep 2013 13:07:23 -0700 (PDT)
Subject: [wp-hackers] Separating User Uploaded Media
Message-ID: <1379016443207-42292.post@n5.nabble.com>

Since wordpress removed the gallery option, user uploads all go directly into
my media library with my own images. Is there a way to create a separate
media library or add back the gallery functionality so all user uploads are
separated from the admins?



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Separating-User-Uploaded-Media-tp42292.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From chris at lod.com  Thu Sep 12 20:56:11 2013
From: chris at lod.com (Chris McCoy)
Date: Thu, 12 Sep 2013 16:56:11 -0400
Subject: [wp-hackers] Separating User Uploaded Media
In-Reply-To: <1379016443207-42292.post@n5.nabble.com>
Message-ID: <CE57A286.33A2%chris@lod.com>

you could make it so it only shows the users uplaods, whoever is logged
in, so they only see what they have uploaded, using pre_get_posts



On 2013-09-12 4:07 PM, "BenderisGreat" <greglancaster71 at gmail.com> wrote:

>Since wordpress removed the gallery option, user uploads all go directly
>into
>my media library with my own images. Is there a way to create a separate
>media library or add back the gallery functionality so all user uploads
>are
>separated from the admins?
>
>
>
>--
>View this message in context:
>http://wordpress-hackers.1065353.n5.nabble.com/Separating-User-Uploaded-Me
>dia-tp42292.html
>Sent from the Wordpress Hackers mailing list archive at Nabble.com.
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers



From askjayson at gmail.com  Thu Sep 12 21:18:29 2013
From: askjayson at gmail.com (=?iso-8859-1?Q?=22Jayson_T=2E_Cot=E9=22?=)
Date: Thu, 12 Sep 2013 15:18:29 -0600
Subject: [wp-hackers] Separating User Uploaded Media
In-Reply-To: <CE57A286.33A2%chris@lod.com>
References: <CE57A286.33A2%chris@lod.com>
Message-ID: <D17344D3-05C8-4EC3-8A49-758CB520C948@gmail.com>

I've done something like this in the past

https://gist.github.com/jtcote/6543911


On Sep 12, 2013, at 2:56 PM, Chris McCoy <chris at lod.com> wrote:

you could make it so it only shows the users uplaods, whoever is logged
in, so they only see what they have uploaded, using pre_get_posts



On 2013-09-12 4:07 PM, "BenderisGreat" <greglancaster71 at gmail.com> wrote:

> Since wordpress removed the gallery option, user uploads all go directly
> into
> my media library with my own images. Is there a way to create a separate
> media library or add back the gallery functionality so all user uploads
> are
> separated from the admins?
> 
> 
> 
> --
> View this message in context:
> http://wordpress-hackers.1065353.n5.nabble.com/Separating-User-Uploaded-Me
> dia-tp42292.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From eric.andrew.lewis at gmail.com  Thu Sep 12 21:48:23 2013
From: eric.andrew.lewis at gmail.com (Eric Lewis)
Date: Thu, 12 Sep 2013 17:48:23 -0400
Subject: [wp-hackers] Separating User Uploaded Media
In-Reply-To: <D17344D3-05C8-4EC3-8A49-758CB520C948@gmail.com>
References: <CE57A286.33A2%chris@lod.com>
 <D17344D3-05C8-4EC3-8A49-758CB520C948@gmail.com>
Message-ID: <A8EF0B7D-C9EC-498C-B699-81363A654852@gmail.com>

Also this http://wordpress.org/plugins/user-specific-media-library/

Sent from my iPhone

On Sep 12, 2013, at 5:18 PM, "Jayson T. Cot?" <askjayson at gmail.com> wrote:

> I've done something like this in the past
> 
> https://gist.github.com/jtcote/6543911
> 
> 
> On Sep 12, 2013, at 2:56 PM, Chris McCoy <chris at lod.com> wrote:
> 
> you could make it so it only shows the users uplaods, whoever is logged
> in, so they only see what they have uploaded, using pre_get_posts
> 
> 
> 
> On 2013-09-12 4:07 PM, "BenderisGreat" <greglancaster71 at gmail.com> wrote:
> 
>> Since wordpress removed the gallery option, user uploads all go directly
>> into
>> my media library with my own images. Is there a way to create a separate
>> media library or add back the gallery functionality so all user uploads
>> are
>> separated from the admins?
>> 
>> 
>> 
>> --
>> View this message in context:
>> http://wordpress-hackers.1065353.n5.nabble.com/Separating-User-Uploaded-Me
>> dia-tp42292.html
>> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chris at lod.com  Thu Sep 12 22:56:43 2013
From: chris at lod.com (Chris McCoy)
Date: Thu, 12 Sep 2013 18:56:43 -0400
Subject: [wp-hackers] Separating User Uploaded Media
In-Reply-To: <D17344D3-05C8-4EC3-8A49-758CB520C948@gmail.com>
Message-ID: <CE57BEBD.33AD%chris@lod.com>

of course you will need something to fix the counts, it will shows the
total attachments in the media library, not just the ones you have listed.

thats if you really wanted to show just the user counts.

On 2013-09-12 5:18 PM, "Jayson T. Cot?" <askjayson at gmail.com> wrote:

>I've done something like this in the past
>
>https://gist.github.com/jtcote/6543911
>
>
>On Sep 12, 2013, at 2:56 PM, Chris McCoy <chris at lod.com> wrote:
>
>you could make it so it only shows the users uplaods, whoever is logged
>in, so they only see what they have uploaded, using pre_get_posts
>
>
>
>On 2013-09-12 4:07 PM, "BenderisGreat" <greglancaster71 at gmail.com> wrote:
>
>> Since wordpress removed the gallery option, user uploads all go directly
>> into
>> my media library with my own images. Is there a way to create a separate
>> media library or add back the gallery functionality so all user uploads
>> are
>> separated from the admins?
>> 
>> 
>> 
>> --
>> View this message in context:
>> 
>>http://wordpress-hackers.1065353.n5.nabble.com/Separating-User-Uploaded-M
>>e
>> dia-tp42292.html
>> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers



From david at ernsts.us  Fri Sep 13 14:02:05 2013
From: david at ernsts.us (David Ernst)
Date: Fri, 13 Sep 2013 10:02:05 -0400
Subject: [wp-hackers] P2 in a subfolder
In-Reply-To: <CANmL2P9Y97Gn9uoUiyky+j7jTbSG9XG36S-AMzSHsbGZR3H2Fw@mail.gmail.com>
References: <CANmL2P9j1vma9U6LjKtMEV9VZ8ZK8j0D61A0U1EvkfcUiX5+RA@mail.gmail.com>
 <BLU177-W27531B4106E4D3BE8EF085B83A0@phx.gbl>
 <CANmL2P9Y97Gn9uoUiyky+j7jTbSG9XG36S-AMzSHsbGZR3H2Fw@mail.gmail.com>
Message-ID: <CANmL2P_xf06-iPSA+onjgUf26UF=YJqh4S3bKYhWqvXCAGy=Lw@mail.gmail.com>

Would a symlink from htdocs/subfolder/wp-content/themes/p2/footer.php
to htdocs/wp-content/themes/twentytwelve/footer.php work? Seems like it
would have trouble knowing which wp_terms to use for menus.


On Thu, Sep 12, 2013 at 7:47 AM, David Ernst <david at ernsts.us> wrote:

> Seems simple enough, thank you for the suggestion, Shea! Are there also
> straightforward strategies to reuse certain theme aspects, e.g. header and
> footer?
>
> Cheers,
> David
>
>
> On Thursday, September 12, 2013, Shea Bunge wrote:
>
>> You should make your P2-powered area a separate WordPress install. Then,
>> you can set the CUSTOM_USER_TABLE and CUSTOM_USER_META_TABLE constants in
>> wp-config.php. See
>> http://codex.wordpress.org/Editing_wp-config.php#Custom_User_and_Usermeta_Tablesfor more details.
>> > Date: Thu, 12 Sep 2013 00:44:30 -0400
>> > From: david at ernsts.us
>> > To: wp-hackers at lists.automattic.com
>> > Subject: [wp-hackers] P2 in a subfolder
>> >
>> > Short question:
>> >
>> > What's the smartest way to configure a P2 child-theme to a subfolder of
>> my
>> > root (TwentyTwelve-based) WordPress install? This new subfolder would
>> > need its own wp_posts table but use the same wp_users.
>> >
>> >
>> >
>> >
>> >
>> > The details:
>> >
>> > The current set up uses a child-theme of TwentyTwelve. There's a static
>> > homepage and most of the site is organized around Pages. So
>> > foo.com/bananais the permalink for the Page 'Banana'. There are about
>> > 40 or so Pages at
>> > the moment.
>> >
>> > And foo.com/blog is the current Blog Index, so the Post 'Pineapple'
>> lives
>> > at foo.com/blog/pineapple . There are only a few posts right now, and
>> only
>> > admins can post.
>> >
>> > WooCommerce is also installed, using the /shop/ subfolder. It treats
>> > eCommerce orders as a custom post type.
>> >
>> > Then there's another custom post type 'fish' with some
>> > elaborate accompanying wp_postmeta that's rendered and semi-editable on
>> > foo.com/fishtank, using a htaccess rewrite + custom Action URL. Each
>> user
>> > can only see the fish-type posts they created.
>> >
>> >
>> > Now what I'd like to do is create a discussion space at foo.com/talk/.
>> > Unlike the current blog index, all users (& maybe guests? Haven't
>> decided
>> > yet) should be able to post here. The objective is for this to have a
>> > real-time chat room feel, but like a forum also allow for longer
>> > posts, keep an archive, and provide links to individual threads. Matt's
>> > post "How P2 Changed Automattic" <
>> > http://ma.tt/2009/05/how-p2-changed-automattic/> inspired me to think
>> P2
>> > could work well.
>> >
>> > Because this may generate tons of content, and the current wp_posts is
>> > already pretty busy, I'd rather give it its own wp_posts table, if
>> possible.
>> > Is this an unnecessary concern and over-complicating things? I'd still
>> like
>> > to use the current wp_users table.
>> >
>> >
>> > Does this setup make sense? Has it been done before? Am I being crazy?
>> Is
>> > there documentation for these sort of scenarios? Would it be much
>> simpler
>> > to use a fresh install of WordPress in a subfolder? Is there a sane way
>> to
>> > share wp_users between these two spaces?
>> >
>> >
>> > I'd appreciate any thoughts, concerns, and suggestions :-)
>> >
>> >
>> > Much thanks,
>> >
>> > David
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From nikolov.tmw at gmail.com  Fri Sep 13 14:05:46 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Fri, 13 Sep 2013 17:05:46 +0300
Subject: [wp-hackers] P2 in a subfolder
In-Reply-To: <CANmL2P_xf06-iPSA+onjgUf26UF=YJqh4S3bKYhWqvXCAGy=Lw@mail.gmail.com>
References: <CANmL2P9j1vma9U6LjKtMEV9VZ8ZK8j0D61A0U1EvkfcUiX5+RA@mail.gmail.com>
 <BLU177-W27531B4106E4D3BE8EF085B83A0@phx.gbl>
 <CANmL2P9Y97Gn9uoUiyky+j7jTbSG9XG36S-AMzSHsbGZR3H2Fw@mail.gmail.com>
 <CANmL2P_xf06-iPSA+onjgUf26UF=YJqh4S3bKYhWqvXCAGy=Lw@mail.gmail.com>
Message-ID: <CAOwx47csJP67b-FP03nCHDYe_hDDb1t144NAA1HrLAtmOFO=GA@mail.gmail.com>

What I've done before(but is most-likely not the best solution) is to ping
the other site with a request to load only the header, or only the footer(I
had a couple of functions that do that) and then store the HTML in a
transient for caching. If you don't have any dynamic things in the
footer/header, or if they change infrequently, you can probably try this
approach - otherwise, you'd have to figure-out a different way to do that.

I can give you some sample code if you're interested.


On Fri, Sep 13, 2013 at 5:02 PM, David Ernst <david at ernsts.us> wrote:

> Would a symlink from htdocs/subfolder/wp-content/themes/p2/footer.php
> to htdocs/wp-content/themes/twentytwelve/footer.php work? Seems like it
> would have trouble knowing which wp_terms to use for menus.
>
>
> On Thu, Sep 12, 2013 at 7:47 AM, David Ernst <david at ernsts.us> wrote:
>
> > Seems simple enough, thank you for the suggestion, Shea! Are there also
> > straightforward strategies to reuse certain theme aspects, e.g. header
> and
> > footer?
> >
> > Cheers,
> > David
> >
> >
> > On Thursday, September 12, 2013, Shea Bunge wrote:
> >
> >> You should make your P2-powered area a separate WordPress install. Then,
> >> you can set the CUSTOM_USER_TABLE and CUSTOM_USER_META_TABLE constants
> in
> >> wp-config.php. See
> >>
> http://codex.wordpress.org/Editing_wp-config.php#Custom_User_and_Usermeta_Tablesformore details.
> >> > Date: Thu, 12 Sep 2013 00:44:30 -0400
> >> > From: david at ernsts.us
> >> > To: wp-hackers at lists.automattic.com
> >> > Subject: [wp-hackers] P2 in a subfolder
> >> >
> >> > Short question:
> >> >
> >> > What's the smartest way to configure a P2 child-theme to a subfolder
> of
> >> my
> >> > root (TwentyTwelve-based) WordPress install? This new subfolder would
> >> > need its own wp_posts table but use the same wp_users.
> >> >
> >> >
> >> >
> >> >
> >> >
> >> > The details:
> >> >
> >> > The current set up uses a child-theme of TwentyTwelve. There's a
> static
> >> > homepage and most of the site is organized around Pages. So
> >> > foo.com/bananais the permalink for the Page 'Banana'. There are about
> >> > 40 or so Pages at
> >> > the moment.
> >> >
> >> > And foo.com/blog is the current Blog Index, so the Post 'Pineapple'
> >> lives
> >> > at foo.com/blog/pineapple . There are only a few posts right now, and
> >> only
> >> > admins can post.
> >> >
> >> > WooCommerce is also installed, using the /shop/ subfolder. It treats
> >> > eCommerce orders as a custom post type.
> >> >
> >> > Then there's another custom post type 'fish' with some
> >> > elaborate accompanying wp_postmeta that's rendered and semi-editable
> on
> >> > foo.com/fishtank, using a htaccess rewrite + custom Action URL. Each
> >> user
> >> > can only see the fish-type posts they created.
> >> >
> >> >
> >> > Now what I'd like to do is create a discussion space at foo.com/talk/
> .
> >> > Unlike the current blog index, all users (& maybe guests? Haven't
> >> decided
> >> > yet) should be able to post here. The objective is for this to have a
> >> > real-time chat room feel, but like a forum also allow for longer
> >> > posts, keep an archive, and provide links to individual threads.
> Matt's
> >> > post "How P2 Changed Automattic" <
> >> > http://ma.tt/2009/05/how-p2-changed-automattic/> inspired me to think
> >> P2
> >> > could work well.
> >> >
> >> > Because this may generate tons of content, and the current wp_posts is
> >> > already pretty busy, I'd rather give it its own wp_posts table, if
> >> possible.
> >> > Is this an unnecessary concern and over-complicating things? I'd still
> >> like
> >> > to use the current wp_users table.
> >> >
> >> >
> >> > Does this setup make sense? Has it been done before? Am I being crazy?
> >> Is
> >> > there documentation for these sort of scenarios? Would it be much
> >> simpler
> >> > to use a fresh install of WordPress in a subfolder? Is there a sane
> way
> >> to
> >> > share wp_users between these two spaces?
> >> >
> >> >
> >> > I'd appreciate any thoughts, concerns, and suggestions :-)
> >> >
> >> >
> >> > Much thanks,
> >> >
> >> > David
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From nikolov.tmw at gmail.com  Fri Sep 13 14:48:59 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Fri, 13 Sep 2013 17:48:59 +0300
Subject: [wp-hackers] P2 in a subfolder
In-Reply-To: <CAOwx47csJP67b-FP03nCHDYe_hDDb1t144NAA1HrLAtmOFO=GA@mail.gmail.com>
References: <CANmL2P9j1vma9U6LjKtMEV9VZ8ZK8j0D61A0U1EvkfcUiX5+RA@mail.gmail.com>
 <BLU177-W27531B4106E4D3BE8EF085B83A0@phx.gbl>
 <CANmL2P9Y97Gn9uoUiyky+j7jTbSG9XG36S-AMzSHsbGZR3H2Fw@mail.gmail.com>
 <CANmL2P_xf06-iPSA+onjgUf26UF=YJqh4S3bKYhWqvXCAGy=Lw@mail.gmail.com>
 <CAOwx47csJP67b-FP03nCHDYe_hDDb1t144NAA1HrLAtmOFO=GA@mail.gmail.com>
Message-ID: <CAOwx47dPNkMJmoGpxQWfPpS3DhBeiG7uYBEey_Jbb4NjapyHYQ@mail.gmail.com>

You can find the sample code here - http://pastebin.com/fw9d1Ccj . I've
fixed it up a bit, so I might have a syntax error somewhere(haven't tested
it at the moment).

Basically the above code consists of two functions
- print_requested_template_part() and get_main_site_part().

The first one ( print_requested_template_part() ) goes to your main site's
functions.php. It will hook to the "init" action hook and will look for GET
requests that contain two keywords - "including_template_part" and
"load_part" in the request. Additionally only requests coming from the same
IP will be answered(for added security - while testing you can disable the
check of $_SERVER['REMOTE_ADDR'] - you can also simply use wp_remote_post()
instead and only check for POST requests ).
If such a request is caught, the function tries to find a function called
"render_{$_GET['load_part']}" - so what this means is that if
$_GET['load_part'] is "footer_html", the script will look for a function
called "render_footer_html"(note that even if $_GET['load_part'] was
"footer-html", the function name would've been the same, since all "-" are
replaced with "_").
If the function exists, we check for the presence of $_GET['params'] -
which allows you to pass parameters to that function(you can comma-separate
them in order to pass more than one parameter) and we call the function
with or without parameters. Then the script exits, thus ending the output.

The second function( get_main_site_part() ) goes into your second site(in
this case the P2 sub-site). You call this function like so( following the
example from above with "footer_html" ):

echo get_main_site_part( 'http://example.com/', 'footer_html',
'&params=param1,param2,param3' );

The first parameter is the URL of your main site, the second one is the
"part" to be loaded(so part of the name of the function to be called) and
the third optional parameter is any query args that you want to add to the
requested URL( in the example I'm sending the "params" key, but you can
pretty much send anything you want ).

The function would check to see if we have a valid transient corresponding
to this requested part and if so it would return that. Otherwise it uses
wp_remote_get() to get the required HTML.

Currently the function only caches the response for 300 seconds(5 minutes),
but you can change that in the "$cache_lifetime = 300;" line.


That's pretty much it - not super complicated, probably not the best
solution, but it has worked for me in the past :)


On Fri, Sep 13, 2013 at 5:05 PM, Nikola Nikolov <nikolov.tmw at gmail.com>wrote:

> What I've done before(but is most-likely not the best solution) is to ping
> the other site with a request to load only the header, or only the footer(I
> had a couple of functions that do that) and then store the HTML in a
> transient for caching. If you don't have any dynamic things in the
> footer/header, or if they change infrequently, you can probably try this
> approach - otherwise, you'd have to figure-out a different way to do that.
>
> I can give you some sample code if you're interested.
>
>
> On Fri, Sep 13, 2013 at 5:02 PM, David Ernst <david at ernsts.us> wrote:
>
>> Would a symlink from htdocs/subfolder/wp-content/themes/p2/footer.php
>> to htdocs/wp-content/themes/twentytwelve/footer.php work? Seems like it
>> would have trouble knowing which wp_terms to use for menus.
>>
>>
>> On Thu, Sep 12, 2013 at 7:47 AM, David Ernst <david at ernsts.us> wrote:
>>
>> > Seems simple enough, thank you for the suggestion, Shea! Are there also
>> > straightforward strategies to reuse certain theme aspects, e.g. header
>> and
>> > footer?
>> >
>> > Cheers,
>> > David
>> >
>> >
>> > On Thursday, September 12, 2013, Shea Bunge wrote:
>> >
>> >> You should make your P2-powered area a separate WordPress install.
>> Then,
>> >> you can set the CUSTOM_USER_TABLE and CUSTOM_USER_META_TABLE constants
>> in
>> >> wp-config.php. See
>> >>
>> http://codex.wordpress.org/Editing_wp-config.php#Custom_User_and_Usermeta_Tablesformore details.
>> >> > Date: Thu, 12 Sep 2013 00:44:30 -0400
>> >> > From: david at ernsts.us
>> >> > To: wp-hackers at lists.automattic.com
>> >> > Subject: [wp-hackers] P2 in a subfolder
>> >> >
>> >> > Short question:
>> >> >
>> >> > What's the smartest way to configure a P2 child-theme to a subfolder
>> of
>> >> my
>> >> > root (TwentyTwelve-based) WordPress install? This new subfolder would
>> >> > need its own wp_posts table but use the same wp_users.
>> >> >
>> >> >
>> >> >
>> >> >
>> >> >
>> >> > The details:
>> >> >
>> >> > The current set up uses a child-theme of TwentyTwelve. There's a
>> static
>> >> > homepage and most of the site is organized around Pages. So
>> >> > foo.com/bananais the permalink for the Page 'Banana'. There are
>> about
>> >> > 40 or so Pages at
>> >> > the moment.
>> >> >
>> >> > And foo.com/blog is the current Blog Index, so the Post 'Pineapple'
>> >> lives
>> >> > at foo.com/blog/pineapple . There are only a few posts right now,
>> and
>> >> only
>> >> > admins can post.
>> >> >
>> >> > WooCommerce is also installed, using the /shop/ subfolder. It treats
>> >> > eCommerce orders as a custom post type.
>> >> >
>> >> > Then there's another custom post type 'fish' with some
>> >> > elaborate accompanying wp_postmeta that's rendered and semi-editable
>> on
>> >> > foo.com/fishtank, using a htaccess rewrite + custom Action URL. Each
>> >> user
>> >> > can only see the fish-type posts they created.
>> >> >
>> >> >
>> >> > Now what I'd like to do is create a discussion space at
>> foo.com/talk/.
>> >> > Unlike the current blog index, all users (& maybe guests? Haven't
>> >> decided
>> >> > yet) should be able to post here. The objective is for this to have a
>> >> > real-time chat room feel, but like a forum also allow for longer
>> >> > posts, keep an archive, and provide links to individual threads.
>> Matt's
>> >> > post "How P2 Changed Automattic" <
>> >> > http://ma.tt/2009/05/how-p2-changed-automattic/> inspired me to
>> think
>> >> P2
>> >> > could work well.
>> >> >
>> >> > Because this may generate tons of content, and the current wp_posts
>> is
>> >> > already pretty busy, I'd rather give it its own wp_posts table, if
>> >> possible.
>> >> > Is this an unnecessary concern and over-complicating things? I'd
>> still
>> >> like
>> >> > to use the current wp_users table.
>> >> >
>> >> >
>> >> > Does this setup make sense? Has it been done before? Am I being
>> crazy?
>> >> Is
>> >> > there documentation for these sort of scenarios? Would it be much
>> >> simpler
>> >> > to use a fresh install of WordPress in a subfolder? Is there a sane
>> way
>> >> to
>> >> > share wp_users between these two spaces?
>> >> >
>> >> >
>> >> > I'd appreciate any thoughts, concerns, and suggestions :-)
>> >> >
>> >> >
>> >> > Much thanks,
>> >> >
>> >> > David
>> >> > _______________________________________________
>> >> > wp-hackers mailing list
>> >> > wp-hackers at lists.automattic.com
>> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From askjayson at gmail.com  Fri Sep 13 19:15:36 2013
From: askjayson at gmail.com (=?iso-8859-1?Q?=22Jayson_T=2E_Cot=E9=22?=)
Date: Fri, 13 Sep 2013 13:15:36 -0600
Subject: [wp-hackers] WPMS sharing child theme elements
Message-ID: <049CCEA4-1292-4C9E-936D-C692556B6B98@gmail.com>

Whats the best way to share child theme elements in WPMS?

My client is using the Genesis Framework with child themes for each blog.
Every Child blog is using the same child theme with some slight variations,
different CSS, template functions, nav menus, widgets etc.

1) As WPMS is configured to have multiple independent blogs, 
can blogs share the same installation of a child theme or do they need
to have their own version installed?
  
I would like to make global changes that will affect all sites.

Then to deal with the unique elements in the child themes,  I was thinking of creating
theme settings that would allow for the variables to be stored in a db table and then
called into the child theme using the blog id as the identifier.

I know I can create a plugin to network activate to install to each theme,
but the goal is to control all child theme data from one location?

For Example:

Blog ID	Logo File		GA ID		Sidebar		Widgets

1		logo1.png		ua-123455	sidebar-1.php	Featured Posts, Custom Menus
2		logo2.png		ua-123456	sidebar-2.php	Featured Posts, Archives
3		logo3.png		ua-123457	sidebar-3.php	Featured Posts, Search, Twitter

Has anyone dealt with this type of scenario?  I would love to hear your insight!

- Jayson

From greglancaster71 at gmail.com  Sat Sep 14 04:08:11 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Fri, 13 Sep 2013 21:08:11 -0700 (PDT)
Subject: [wp-hackers] Front End User Meta Update Fail
Message-ID: <1379131691655-42301.post@n5.nabble.com>

I am having an issue where the front end user_meta fields wont update as a
group.  I can enter a new value in one field at a time, and then it will
update.  Additionally the email field will never update.  No special code
here, just using:

http://wordpress.stackexchange.com/questions/9775/how-to-edit-a-user-profile-on-the-front-end

Put it in a bootstrap modal.  Only thing I did different was put it in an
include so the code wouldnt clutter up everything.   Is this code functional
for anyone else? 



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Front-End-User-Meta-Update-Fail-tp42301.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From nl at thoughtrefinery.com  Sat Sep 14 17:47:04 2013
From: nl at thoughtrefinery.com (Nicholas Ciske)
Date: Sat, 14 Sep 2013 12:47:04 -0500
Subject: [wp-hackers] WPMS sharing child theme elements
In-Reply-To: <049CCEA4-1292-4C9E-936D-C692556B6B98@gmail.com>
References: <049CCEA4-1292-4C9E-936D-C692556B6B98@gmail.com>
Message-ID: <E5CEF16B-35E4-449A-886E-DF77D4F7E1F4@thoughtrefinery.com>

A child theme can be active on any number of sites (or none) or all. It's best to consolidate as much as possible and avoid duplication when using the same theme across multiple sites.

I usually do this via one or more network activated functionality plugin(s) that handle all the common functions, loads common css/js, etc. Your blog id => settings conversion would go here. A "site option" would probably be the best place to store those settings (one per site, or one big array of sites and their settings). Or, just have a big switch statement in your common plugin file that sets things up based on blog id and avoid the DB altogether (if things rarely change).
http://codex.wordpress.org/Options_API

Genesis also has a style chooser option you can use to define sets of css to be selected per site (usually used for color schemes, but can be anything you choose). I've used it for brands, event locations, etc. to set the logo/colors/fonts per site. 
http://www.wilwebs.com/how-to-add-color-schemes-to-a-genesis-child-theme/

_________________________
Nick Ciske
http://thoughtrefinery.com/
@nciske	

On Sep 13, 2013, at 2:15 PM, Jayson T. Cot? wrote:

> Whats the best way to share child theme elements in WPMS?
> 
> My client is using the Genesis Framework with child themes for each blog.
> Every Child blog is using the same child theme with some slight variations,
> different CSS, template functions, nav menus, widgets etc.
> 
> 1) As WPMS is configured to have multiple independent blogs, 
> can blogs share the same installation of a child theme or do they need
> to have their own version installed?
> 
> I would like to make global changes that will affect all sites.
> 
> Then to deal with the unique elements in the child themes,  I was thinking of creating
> theme settings that would allow for the variables to be stored in a db table and then
> called into the child theme using the blog id as the identifier.
> 
> I know I can create a plugin to network activate to install to each theme,
> but the goal is to control all child theme data from one location?
> 
> For Example:
> 
> Blog ID	Logo File		GA ID		Sidebar		Widgets
> 
> 1		logo1.png		ua-123455	sidebar-1.php	Featured Posts, Custom Menus
> 2		logo2.png		ua-123456	sidebar-2.php	Featured Posts, Archives
> 3		logo3.png		ua-123457	sidebar-3.php	Featured Posts, Search, Twitter
> 
> Has anyone dealt with this type of scenario?  I would love to hear your insight!
> 
> - Jayson


From jdg at codesymphony.co  Mon Sep 16 14:30:06 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Mon, 16 Sep 2013 10:30:06 -0400
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <CAJxFMSC+qMqv2XEDyhydWc5qFLYr0OQ1FuBbgmB9+ffJHffMEg@mail.gmail.com>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
 <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
 <522E2AA7.4080905@justintadlock.com> <522E2ADB.6040005@ipstenu.org>
 <CAJxFMSC+qMqv2XEDyhydWc5qFLYr0OQ1FuBbgmB9+ffJHffMEg@mail.gmail.com>
Message-ID: <F618D145-ED1B-4EDE-A037-59A23AEA8AE7@codesymphony.co>

I released the first version of a plugin at about 19:30 UTC on Saturday, and the pages still aren't properly updated.

Link: http://wordpress.org/plugins/wordpoints/

P.S. Yes, I checked this in multiple browsers, it is a caching issue with wp.org.


From nl at thoughtrefinery.com  Mon Sep 16 14:39:57 2013
From: nl at thoughtrefinery.com (Nicholas Ciske)
Date: Mon, 16 Sep 2013 09:39:57 -0500
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <F618D145-ED1B-4EDE-A037-59A23AEA8AE7@codesymphony.co>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
 <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
 <522E2AA7.4080905@justintadlock.com> <522E2ADB.6040005@ipstenu.org>
 <CAJxFMSC+qMqv2XEDyhydWc5qFLYr0OQ1FuBbgmB9+ffJHffMEg@mail.gmail.com>
 <F618D145-ED1B-4EDE-A037-59A23AEA8AE7@codesymphony.co>
Message-ID: <672DFD6C-76E4-41B6-ACCF-DD9F2F4E1549@thoughtrefinery.com>

You're missing a readme.txt in trunk (yours is in /src/ which I don't believe is supported). Updating that triggers a rebuild of the plugin pages based on the stable tag specified (tagging itself does not trigger an update).

See first 2 FAQs here:
http://wordpress.org/plugins/about/faq/

See also:
http://make.wordpress.org/plugins/2012/06/09/the-plugins-directory-and-readme-txt-files/

_________________________
Nick Ciske
http://thoughtrefinery.com/
@nciske	

On Sep 16, 2013, at 9:30 AM, J.D. Grimes wrote:

> I released the first version of a plugin at about 19:30 UTC on Saturday, and the pages still aren't properly updated.
> 
> Link: http://wordpress.org/plugins/wordpoints/
> 
> P.S. Yes, I checked this in multiple browsers, it is a caching issue with wp.org.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jdg at codesymphony.co  Mon Sep 16 14:44:53 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Mon, 16 Sep 2013 10:44:53 -0400
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <672DFD6C-76E4-41B6-ACCF-DD9F2F4E1549@thoughtrefinery.com>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
 <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
 <522E2AA7.4080905@justintadlock.com> <522E2ADB.6040005@ipstenu.org>
 <CAJxFMSC+qMqv2XEDyhydWc5qFLYr0OQ1FuBbgmB9+ffJHffMEg@mail.gmail.com>
 <F618D145-ED1B-4EDE-A037-59A23AEA8AE7@codesymphony.co>
 <672DFD6C-76E4-41B6-ACCF-DD9F2F4E1549@thoughtrefinery.com>
Message-ID: <F77975E3-BB99-4267-B8F3-D7D1A8621C7E@codesymphony.co>

OK, thanks. I'll try that.


On Sep 16, 2013, at 10:39 AM, Nicholas Ciske <nl at thoughtrefinery.com> wrote:

> You're missing a readme.txt in trunk (yours is in /src/ which I don't believe is supported). Updating that triggers a rebuild of the plugin pages based on the stable tag specified (tagging itself does not trigger an update).
> 
> See first 2 FAQs here:
> http://wordpress.org/plugins/about/faq/
> 
> See also:
> http://make.wordpress.org/plugins/2012/06/09/the-plugins-directory-and-readme-txt-files/
> 
> _________________________
> Nick Ciske
> http://thoughtrefinery.com/
> @nciske	
> 
> On Sep 16, 2013, at 9:30 AM, J.D. Grimes wrote:
> 
>> I released the first version of a plugin at about 19:30 UTC on Saturday, and the pages still aren't properly updated.
>> 
>> Link: http://wordpress.org/plugins/wordpoints/
>> 
>> P.S. Yes, I checked this in multiple browsers, it is a caching issue with wp.org.
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From nl at thoughtrefinery.com  Mon Sep 16 14:54:01 2013
From: nl at thoughtrefinery.com (Nicholas Ciske)
Date: Mon, 16 Sep 2013 09:54:01 -0500
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <F77975E3-BB99-4267-B8F3-D7D1A8621C7E@codesymphony.co>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
 <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
 <522E2AA7.4080905@justintadlock.com> <522E2ADB.6040005@ipstenu.org>
 <CAJxFMSC+qMqv2XEDyhydWc5qFLYr0OQ1FuBbgmB9+ffJHffMEg@mail.gmail.com>
 <F618D145-ED1B-4EDE-A037-59A23AEA8AE7@codesymphony.co>
 <672DFD6C-76E4-41B6-ACCF-DD9F2F4E1549@thoughtrefinery.com>
 <F77975E3-BB99-4267-B8F3-D7D1A8621C7E@codesymphony.co>
Message-ID: <375A4A6E-4584-4D36-A5FE-DF42FB02E0C0@thoughtrefinery.com>

FYI - The best way to report issues with the plugin repo is by emailing plugins at wordpress.org.

Most of the folks who respond to that are probably also on this list, but that's the proper channel (and I've received fairly prompt replies in the past).

_________________________
Nick Ciske
http://thoughtrefinery.com/
@nciske	

On Sep 16, 2013, at 9:44 AM, J.D. Grimes wrote:

> OK, thanks. I'll try that.


From jdg at codesymphony.co  Mon Sep 16 14:59:30 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Mon, 16 Sep 2013 10:59:30 -0400
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <375A4A6E-4584-4D36-A5FE-DF42FB02E0C0@thoughtrefinery.com>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
 <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
 <522E2AA7.4080905@justintadlock.com> <522E2ADB.6040005@ipstenu.org>
 <CAJxFMSC+qMqv2XEDyhydWc5qFLYr0OQ1FuBbgmB9+ffJHffMEg@mail.gmail.com>
 <F618D145-ED1B-4EDE-A037-59A23AEA8AE7@codesymphony.co>
 <672DFD6C-76E4-41B6-ACCF-DD9F2F4E1549@thoughtrefinery.com>
 <F77975E3-BB99-4267-B8F3-D7D1A8621C7E@codesymphony.co>
 <375A4A6E-4584-4D36-A5FE-DF42FB02E0C0@thoughtrefinery.com>
Message-ID: <83E8EB31-9393-4385-9F23-9B8613278DB8@codesymphony.co>

Thanks - I was only replying here because I knew this recent discussion had taken place.

On Sep 16, 2013, at 10:54 AM, Nicholas Ciske <nl at thoughtrefinery.com> wrote:

> FYI - The best way to report issues with the plugin repo is by emailing plugins at wordpress.org.
> 
> Most of the folks who respond to that are probably also on this list, but that's the proper channel (and I've received fairly prompt replies in the past).
> 
> _________________________
> Nick Ciske
> http://thoughtrefinery.com/
> @nciske	
> 
> On Sep 16, 2013, at 9:44 AM, J.D. Grimes wrote:
> 
>> OK, thanks. I'll try that.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Mon Sep 16 18:23:14 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Mon, 16 Sep 2013 11:23:14 -0700 (PDT)
Subject: [wp-hackers] How to share database information via scripts
Message-ID: <1379355794888-42308.post@n5.nabble.com>

I want to make the information available in a custom table available for
others to place in forum signatures via a script.  This is a generic
question I know, can someone point me in the direction where I can learn
about how this works etc...  I am not even sure what this feature / ability
is called.



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/How-to-share-database-information-via-scripts-tp42308.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From nikolov.tmw at gmail.com  Mon Sep 16 18:32:35 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Mon, 16 Sep 2013 21:32:35 +0300
Subject: [wp-hackers] How to share database information via scripts
In-Reply-To: <1379355794888-42308.post@n5.nabble.com>
References: <1379355794888-42308.post@n5.nabble.com>
Message-ID: <CAOwx47e3JO=gzy15q66C7ad645E5PP0Y0oay1VzndF7JAGuQiQ@mail.gmail.com>

Well, I guess the that if you want to put this in forum signatures and
stuff - it would be best if you generate an image with PHP(or other
scripting languages I guess).

So for instance you would have
http://example.com/signatures/generator.php?uid=1234567 . People would use
the URL as the "src" attribute of an image.

Your script would have to look-up the ID in your database(or whatever part
of the information you're going to display - I just assumed that it would
be specific to every user), and then draw an image and serve it to the
browser. Ultimately you would want to cache the images(so store the drawn
image with the correct data in a cache directory and upon request check if
it exists and possibly check when it was modified and if that was too long
ago, re-draw the image in order to clear the cache - in case your data
changes) to save server load and loading time for the pages where this info
would go to.

I would look into the gdlibrary and tutorials on how to create images with
text in PHP - there must be lots of them on the internet, but I personally
haven't actually done that.


On Mon, Sep 16, 2013 at 9:23 PM, BenderisGreat <greglancaster71 at gmail.com>wrote:

> I want to make the information available in a custom table available for
> others to place in forum signatures via a script.  This is a generic
> question I know, can someone point me in the direction where I can learn
> about how this works etc...  I am not even sure what this feature / ability
> is called.
>
>
>
> --
> View this message in context:
> http://wordpress-hackers.1065353.n5.nabble.com/How-to-share-database-information-via-scripts-tp42308.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From david at wordshell.net  Tue Sep 17 12:49:57 2013
From: david at wordshell.net (David Anderson)
Date: Tue, 17 Sep 2013 13:49:57 +0100
Subject: [wp-hackers] What happened to the version-breakdown pie-chart?
Message-ID: <52384FF5.5050203@wordshell.net>

Thought this is a question I could send to plugins at wordpress.net, it'd 
probably be helpful to have a public answer so that they don't get 
inundated... (apologies if I missed one - I've looked...)

On the plugin download pages, what happened to the version break-downs? 
They've been missing for a while now:

e.g.
http://wordpress.org/plugins/updraftplus/stats/

These were the only way for most plugin authors to form a vague estimate 
of their number of installed users (e.g. if after 1 week you had 20,000 
downloads and a quarter of your users were on the latest version, then 
you could surmise that you had 80,000 installed users).

David

-- 
WordShell - WordPress fast from the CLI - www.wordshell.net


From dino at duechiacchiere.it  Tue Sep 17 12:51:15 2013
From: dino at duechiacchiere.it (Dino Termini)
Date: Tue, 17 Sep 2013 08:51:15 -0400
Subject: [wp-hackers] What happened to the version-breakdown pie-chart?
In-Reply-To: <52384FF5.5050203@wordshell.net>
References: <52384FF5.5050203@wordshell.net>
Message-ID: <52385043.5040907@duechiacchiere.it>

Yeah, I was wondering the same ;)

On 9/17/13 8:49 AM, David Anderson wrote:
> Thought this is a question I could send to plugins at wordpress.net, it'd 
> probably be helpful to have a public answer so that they don't get 
> inundated... (apologies if I missed one - I've looked...)
>
> On the plugin download pages, what happened to the version 
> break-downs? They've been missing for a while now:
>
> e.g.
> http://wordpress.org/plugins/updraftplus/stats/
>
> These were the only way for most plugin authors to form a vague 
> estimate of their number of installed users (e.g. if after 1 week you 
> had 20,000 downloads and a quarter of your users were on the latest 
> version, then you could surmise that you had 80,000 installed users).
>
> David
>


From bryan at ibaku.net  Tue Sep 17 12:56:39 2013
From: bryan at ibaku.net (Bryan Petty)
Date: Tue, 17 Sep 2013 06:56:39 -0600
Subject: [wp-hackers] What happened to the version-breakdown pie-chart?
In-Reply-To: <52385043.5040907@duechiacchiere.it>
References: <52384FF5.5050203@wordshell.net>
 <52385043.5040907@duechiacchiere.it>
Message-ID: <CAKB8V+q9bVqtssz_vPG1zvXk0Q_bq80JmdJT7kdinQk1Ng1g=A@mail.gmail.com>

The graphs have been mostly wrong for a long time now, please see:
http://meta.trac.wordpress.org/ticket/107

Regards,
Bryan Petty


On Tue, Sep 17, 2013 at 6:51 AM, Dino Termini <dino at duechiacchiere.it> wrote:
> Yeah, I was wondering the same ;)
>
>
> On 9/17/13 8:49 AM, David Anderson wrote:
>>
>> Thought this is a question I could send to plugins at wordpress.net, it'd
>> probably be helpful to have a public answer so that they don't get
>> inundated... (apologies if I missed one - I've looked...)
>>
>> On the plugin download pages, what happened to the version break-downs?
>> They've been missing for a while now:
>>
>> e.g.
>> http://wordpress.org/plugins/updraftplus/stats/
>>
>> These were the only way for most plugin authors to form a vague estimate
>> of their number of installed users (e.g. if after 1 week you had 20,000
>> downloads and a quarter of your users were on the latest version, then you
>> could surmise that you had 80,000 installed users).
>>
>> David
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From david at wordshell.net  Tue Sep 17 15:39:07 2013
From: david at wordshell.net (David Anderson)
Date: Tue, 17 Sep 2013 16:39:07 +0100
Subject: [wp-hackers] Sending a file to a plugin via XMLRPC?
Message-ID: <5238779B.7090905@wordshell.net>

Hi,

Has anyone ever written code to send a file, in chunks, from one WP 
install to another, using XMLRPC? That's a task I've got to work on soon 
- but I don't want to re-invent the wheel.

My plugin code will be installed at both ends.

The files are potentially very large. Basically, the sending end needs 
to be able to:
a) See how much of the file is already uploaded ("oy, how much of this 
file have you already got?")
b) Send the next chunk, in a loop ("here's a chunk - thanks - here's a 
chunk - thanks ...")

Many thanks,
David

-- 
WordShell - WordPress fast from the CLI - www.wordshell.net


From martin at lazarov.bg  Tue Sep 17 15:51:51 2013
From: martin at lazarov.bg (Martin Lazarov)
Date: Tue, 17 Sep 2013 18:51:51 +0300
Subject: [wp-hackers] Sending a file to a plugin via XMLRPC?
In-Reply-To: <5238779B.7090905@wordshell.net>
References: <5238779B.7090905@wordshell.net>
Message-ID: <CAFJ6JWG7CL=Ya030fDX=f1S90fi_R9JeBo6tRd9jAb7c329a6g@mail.gmail.com>

If you host this file somewhere you can just send link to the plugin
and using curl to download the remote file from the plugin.

On Tue, Sep 17, 2013 at 6:39 PM, David Anderson <david at wordshell.net> wrote:
> Hi,
>
> Has anyone ever written code to send a file, in chunks, from one WP install
> to another, using XMLRPC? That's a task I've got to work on soon - but I
> don't want to re-invent the wheel.
>
> My plugin code will be installed at both ends.
>
> The files are potentially very large. Basically, the sending end needs to be
> able to:
> a) See how much of the file is already uploaded ("oy, how much of this file
> have you already got?")
> b) Send the next chunk, in a loop ("here's a chunk - thanks - here's a chunk
> - thanks ...")
>
> Many thanks,
> David
>
> --
> WordShell - WordPress fast from the CLI - www.wordshell.net
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From abdussamad at abdussamad.com  Tue Sep 17 18:09:37 2013
From: abdussamad at abdussamad.com (Abdussamad Abdurrazzaq)
Date: Tue, 17 Sep 2013 23:09:37 +0500
Subject: [wp-hackers] Sending a file to a plugin via XMLRPC?
In-Reply-To: <CAFJ6JWG7CL=Ya030fDX=f1S90fi_R9JeBo6tRd9jAb7c329a6g@mail.gmail.com>
References: <5238779B.7090905@wordshell.net>
 <CAFJ6JWG7CL=Ya030fDX=f1S90fi_R9JeBo6tRd9jAb7c329a6g@mail.gmail.com>
Message-ID: <52389AE1.1080906@abdussamad.com>

Don't use curl directly. Use wp_remote_get.

On 09/17/2013 08:51 PM, Martin Lazarov wrote:
> If you host this file somewhere you can just send link to the plugin
> and using curl to download the remote file from the plugin.
>
> On Tue, Sep 17, 2013 at 6:39 PM, David Anderson <david at wordshell.net> wrote:
>> Hi,
>>
>> Has anyone ever written code to send a file, in chunks, from one WP install
>> to another, using XMLRPC? That's a task I've got to work on soon - but I
>> don't want to re-invent the wheel.
>>
>> My plugin code will be installed at both ends.
>>
>> The files are potentially very large. Basically, the sending end needs to be
>> able to:
>> a) See how much of the file is already uploaded ("oy, how much of this file
>> have you already got?")
>> b) Send the next chunk, in a loop ("here's a chunk - thanks - here's a chunk
>> - thanks ...")
>>
>> Many thanks,
>> David
>>
>> --
>> WordShell - WordPress fast from the CLI - www.wordshell.net
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From davisshaver at gmail.com  Tue Sep 17 18:32:42 2013
From: davisshaver at gmail.com (Davis Shaver)
Date: Tue, 17 Sep 2013 14:32:42 -0400
Subject: [wp-hackers] Adding second query to author.php loop
Message-ID: <CAPzHOTuBNNwSKxH461AmOmC0tNFFw2xGK2d00H7+0sg7_EMY-g@mail.gmail.com>

I need to include an additional query on the author.php loop and am looking
for advice on best method. Since I need to persist the original query, it
doesn't look like 'pre_get_posts' will work. Any ideas on a good way to
handle this?

Thanks for any help.

From highfive at jesserfriedman.com  Tue Sep 17 18:37:52 2013
From: highfive at jesserfriedman.com (Jesse Friedman)
Date: Tue, 17 Sep 2013 14:37:52 -0400
Subject: [wp-hackers] Sending a file to a plugin via XMLRPC?
In-Reply-To: <52389AE1.1080906@abdussamad.com>
References: <5238779B.7090905@wordshell.net>
 <CAFJ6JWG7CL=Ya030fDX=f1S90fi_R9JeBo6tRd9jAb7c329a6g@mail.gmail.com>
 <52389AE1.1080906@abdussamad.com>
Message-ID: <CAGtTZ+Yv4_Pzra7YuiW63WnYC=YnZMMdhCOO1uwLDMGFQzsrfQ@mail.gmail.com>

I haven't but, I have seen JSON used to do it.


On Tue, Sep 17, 2013 at 2:09 PM, Abdussamad Abdurrazzaq <
abdussamad at abdussamad.com> wrote:

> Don't use curl directly. Use wp_remote_get.
>
>
> On 09/17/2013 08:51 PM, Martin Lazarov wrote:
>
>> If you host this file somewhere you can just send link to the plugin
>> and using curl to download the remote file from the plugin.
>>
>> On Tue, Sep 17, 2013 at 6:39 PM, David Anderson <david at wordshell.net>
>> wrote:
>>
>>> Hi,
>>>
>>> Has anyone ever written code to send a file, in chunks, from one WP
>>> install
>>> to another, using XMLRPC? That's a task I've got to work on soon - but I
>>> don't want to re-invent the wheel.
>>>
>>> My plugin code will be installed at both ends.
>>>
>>> The files are potentially very large. Basically, the sending end needs
>>> to be
>>> able to:
>>> a) See how much of the file is already uploaded ("oy, how much of this
>>> file
>>> have you already got?")
>>> b) Send the next chunk, in a loop ("here's a chunk - thanks - here's a
>>> chunk
>>> - thanks ...")
>>>
>>> Many thanks,
>>> David
>>>
>>> --
>>> WordShell - WordPress fast from the CLI - www.wordshell.net
>>>
>>> ______________________________**_________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>>  ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>



-- 
thanks
*
*
*jesse friedman*
jes.se.com *
*
Book: Web Designers Guide to WordPress -
http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
Twitter: @professor <http://twitter.com/professor>
Facebook: Like<https://www.facebook.com/pages/Jesse-Friedman/204793299545174>

From alexrayan69 at gmail.com  Tue Sep 17 19:33:42 2013
From: alexrayan69 at gmail.com (Alex Rayan)
Date: Tue, 17 Sep 2013 15:33:42 -0400
Subject: [wp-hackers] Sending a file to a plugin via XMLRPC?
In-Reply-To: <CAGtTZ+Yv4_Pzra7YuiW63WnYC=YnZMMdhCOO1uwLDMGFQzsrfQ@mail.gmail.com>
References: <5238779B.7090905@wordshell.net>
 <CAFJ6JWG7CL=Ya030fDX=f1S90fi_R9JeBo6tRd9jAb7c329a6g@mail.gmail.com>
 <52389AE1.1080906@abdussamad.com>
 <CAGtTZ+Yv4_Pzra7YuiW63WnYC=YnZMMdhCOO1uwLDMGFQzsrfQ@mail.gmail.com>
Message-ID: <CA+fCkBv1iRW1OLPnGP=v5E_SGwUw3Q6u_WeRiVVkoaHBtiP1JQ@mail.gmail.com>

Hi David,

I've used the following code to upload a file to a remote WP via XML RPC:

$data = array(
'name' => basename($fn),
'type' => 'video/mp4',
'bits' => new IXR_Base64($x),
'overwrite' => false,
);
if (!$client->query('wp.uploadFile','', 'username','password',$data)) {
            die('An error occurred -
'.$client->getErrorCode().":".$client->getErrorMessage());
}
$response = $client->getResponse();
$video = $response['url'];

Might not be useful to you though if the files are too large.
Thought I'd share anyway.

For large files I used cURL.

Best regards,
Alex




On Tue, Sep 17, 2013 at 2:37 PM, Jesse Friedman <highfive at jesserfriedman.com
> wrote:

> I haven't but, I have seen JSON used to do it.
>
>
> On Tue, Sep 17, 2013 at 2:09 PM, Abdussamad Abdurrazzaq <
> abdussamad at abdussamad.com> wrote:
>
> > Don't use curl directly. Use wp_remote_get.
> >
> >
> > On 09/17/2013 08:51 PM, Martin Lazarov wrote:
> >
> >> If you host this file somewhere you can just send link to the plugin
> >> and using curl to download the remote file from the plugin.
> >>
> >> On Tue, Sep 17, 2013 at 6:39 PM, David Anderson <david at wordshell.net>
> >> wrote:
> >>
> >>> Hi,
> >>>
> >>> Has anyone ever written code to send a file, in chunks, from one WP
> >>> install
> >>> to another, using XMLRPC? That's a task I've got to work on soon - but
> I
> >>> don't want to re-invent the wheel.
> >>>
> >>> My plugin code will be installed at both ends.
> >>>
> >>> The files are potentially very large. Basically, the sending end needs
> >>> to be
> >>> able to:
> >>> a) See how much of the file is already uploaded ("oy, how much of this
> >>> file
> >>> have you already got?")
> >>> b) Send the next chunk, in a loop ("here's a chunk - thanks - here's a
> >>> chunk
> >>> - thanks ...")
> >>>
> >>> Many thanks,
> >>> David
> >>>
> >>> --
> >>> WordShell - WordPress fast from the CLI - www.wordshell.net
> >>>
> >>> ______________________________**_________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> >>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >>>
> >> ______________________________**_________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> >> http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >>
> >>  ______________________________**_________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> > http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >
>
>
>
> --
> thanks
> *
> *
> *jesse friedman*
> jes.se.com *
> *
> Book: Web Designers Guide to WordPress -
> http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
> Twitter: @professor <http://twitter.com/professor>
> Facebook: Like<
> https://www.facebook.com/pages/Jesse-Friedman/204793299545174>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mickyhulse.lists at gmail.com  Tue Sep 17 21:28:07 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Tue, 17 Sep 2013 14:28:07 -0700
Subject: [wp-hackers] Private posts and get_posts()
Message-ID: <CALri7Mnnz5L6+oxGjhcRJm0FoVvaGUdP2qCy_F2iEqVG2mzbtA@mail.gmail.com>

Question:

On the front-end, should any admin see private posts made by other
users? Or, are private posts only visible to the person who made the
post?

Details (feel free to skip this part):

The get_posts() docs say:

"Unlike get_pages(), get_posts() will return private pages in the
appropriate context (i.e., for an administrator). "
- <http://codex.wordpress.org/Template_Tags/get_posts#Return_Value>

Looking at get_posts() source code, I see:

if ( empty( $r['post_status'] ) )
        $r['post_status'] = ( 'attachment' == $r['post_type'] ) ?
'inherit' : 'publish';

... the default post status is "publish" (or "inherit" if attachment).

Looking further, get_post() calls WP_Query:

"post_status (string / array) - use post status. Retrieves posts by
Post Status. Default value is 'publish', but if the user is logged in,
'private' is added."
- <http://codex.wordpress.org/Class_Reference/WP_Query#Status_Parameters>

I could have been doing something wrong, but when I tried to view posts using:

get_posts(array('orderby' => 'rand'));

My admin user didn't see the posts statused as private.

Then again, I wasn't the one that created the private post, so maybe
only authors of private posts can see their own privately statused
posts?

Currently, as a patch, I'm using this code:

$args = array('orderby' => 'rand');
if (is_user_logged_in()) $args['post_status'] = array('publish', 'private',);
$rand_posts = get_posts($args);

Thanks!

From banago at gmail.com  Wed Sep 18 10:35:41 2013
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 18 Sep 2013 12:35:41 +0200
Subject: [wp-hackers] Duplicate Content Issue - URLs work with dots and
 colons in it
In-Reply-To: <BLU177-W326F84982AC9055202554DB8360@phx.gbl>
References: <CAM_fM0rwPjUcNVhdHaRa--4RSmc5knU4F5hYzia8-m-aT7qYvw@mail.gmail.com>
 <BLU177-W1485C28501FD3105E93D62B8340@phx.gbl>
 <521F2A8D.7050606@abdussamad.com>
 <CAM_fM0r22dGJCreMG8McVy_aNndxAWjNkZjtZnuV4OYZ7jmosg@mail.gmail.com>
 <CANmL2P-He-WzetptqAEPD5YB5AjBoRKrD=gXRhu3dC5KnCV2HQ@mail.gmail.com>
 <BLU177-W326F84982AC9055202554DB8360@phx.gbl>
Message-ID: <CAM_fM0qrfqZRkaUFy9VopUg3ur=x4UPkh=RhXBo3-eXrNZ-h3g@mail.gmail.com>

Here is the solution I came up with to fix that strange behaviour:

/**
 * Fix for urls ending in dots and colons
 */
function redirect_dotted() {
	global $wp;
	$current_url = home_url( $wp->request );
	$is_dot = substr($current_url, -1, 1);
	if( $is_dot === '.' || $is_dot === ':' ) {
		$clean_url = rtrim( $current_url, '.:' );
		wp_redirect( $clean_url, 301 ); exit;
	}
	return;
}
add_action('wp', 'redirect_dotted');


Kindly,

Baki Goxhaj
about.me/banago

From david at wordshell.net  Wed Sep 18 11:06:32 2013
From: david at wordshell.net (David Anderson)
Date: Wed, 18 Sep 2013 12:06:32 +0100
Subject: [wp-hackers] Dealing with WP cron's raciness
Message-ID: <52398938.5040408@wordshell.net>

Hi,

The WP cron system suffers from race conditions. Is this known by core 
developers, and how do they feel about it? i.e. Is it here to stay, or 
are there plans to improve it?

Easy way to reproduce (every time):

1) Load up the machine with your MySQL server on so that it's fully 
loaded (so that there's some latency - this is the crucial bit):
(e.g. run a few of these: while true; do wget -O - 
http://localhost/mydevwebsite; done )

2) Create a simple mu-plugin:

add_action('crontest', 'testing_crontest_da');
function testing_crontest_da() { error_log('cron test!'); }

3) Create a few processes that are continually calling wp-cron.php (two 
or more):
while true; do wget -O - http://localhost/mydevwebsite/wp-cron.php; done

4) Schedule a single cron event:

<?php require('wp-load.php'); wp_schedule_single_event(time()+5, 
'crontest'); ?>

The result will be that the 'listener' in 2) logs as many lines as you 
had tasks calling wp-cron.php in 3). i.e. the action gets called that 
many times.

This isn't a problem for scheduled tasks that are performing cleanup 
jobs (e.g. cache purges). But for something like a scheduled backup, 
it's annoying - you get two backups. For a task that sends out report 
emails, you get multiple reports. etc. Of course, each plugin that 
performs such tasks could write its own locking system... but these 
would be likely to each have their own ad hoc quirks. It'd be much 
better if WP's cron system was less racy.

Thoughts?

David

-- 
WordShell - WordPress fast from the CLI - www.wordshell.net


From funkatronic at gmail.com  Wed Sep 18 13:37:06 2013
From: funkatronic at gmail.com (Funkatron)
Date: Wed, 18 Sep 2013 08:37:06 -0500
Subject: [wp-hackers] Time to upgrade WordPress Media?
Message-ID: <CA+-Vqo9V7wO+MtsAh88m6DCA38q+5=DzziSH80JL8uWkh0R9GA@mail.gmail.com>

Was thinking about this the past few days: currently any media files
uploaded to a WordPress site defaults to the post status of `inherit`,
which is a holdover to when media attachments were just that.  Media was
attached to a certain post, so it inherited the post's status.  We are
starting to get away from attaching media directly to posts now and are
even making them post like by allowing meta boxes and taxonomies in recent
versions of WP.  I think a next logical step is to give media post statuses
other than `inherit`.  I can think of a number of cases where making an
image or file private could be useful, among other things.

From will.davis at gmail.com  Wed Sep 18 13:41:19 2013
From: will.davis at gmail.com (William P. Davis)
Date: Wed, 18 Sep 2013 09:41:19 -0400
Subject: [wp-hackers] Time to upgrade WordPress Media?
In-Reply-To: <CA+-Vqo9V7wO+MtsAh88m6DCA38q+5=DzziSH80JL8uWkh0R9GA@mail.gmail.com>
References: <CA+-Vqo9V7wO+MtsAh88m6DCA38q+5=DzziSH80JL8uWkh0R9GA@mail.gmail.com>
Message-ID: <CAJmHdUKXM9UyKZC7VvAo2sAA9OWdLbPL1A8AGgaWeu=4qsXmXg@mail.gmail.com>

I second this. I haven't looked into this ? does anyone know if it could be
done easily with a plugin?

Will


On Wed, Sep 18, 2013 at 9:37 AM, Funkatron <funkatronic at gmail.com> wrote:

> Was thinking about this the past few days: currently any media files
> uploaded to a WordPress site defaults to the post status of `inherit`,
> which is a holdover to when media attachments were just that.  Media was
> attached to a certain post, so it inherited the post's status.  We are
> starting to get away from attaching media directly to posts now and are
> even making them post like by allowing meta boxes and taxonomies in recent
> versions of WP.  I think a next logical step is to give media post statuses
> other than `inherit`.  I can think of a number of cases where making an
> image or file private could be useful, among other things.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hendronix at gmail.com  Wed Sep 18 13:49:24 2013
From: hendronix at gmail.com (Eric Hendrix)
Date: Wed, 18 Sep 2013 06:49:24 -0700 (PDT)
Subject: [wp-hackers] Time to upgrade WordPress Media?
In-Reply-To: <CA+-Vqo9V7wO+MtsAh88m6DCA38q+5=DzziSH80JL8uWkh0R9GA@mail.gmail.com>
References: <CA+-Vqo9V7wO+MtsAh88m6DCA38q+5=DzziSH80JL8uWkh0R9GA@mail.gmail.com>
Message-ID: <1379512162637.6ce6f2dd@Nodemailer>

I completely agree having built mostly media-heavy sites the past couple of years. And there's no plugin that I can remember.?

?
Sent from Mailbox for iPhone

On Wed, Sep 18, 2013 at 9:37 AM, Funkatron <funkatronic at gmail.com> wrote:

> Was thinking about this the past few days: currently any media files
> uploaded to a WordPress site defaults to the post status of `inherit`,
> which is a holdover to when media attachments were just that.  Media was
> attached to a certain post, so it inherited the post's status.  We are
> starting to get away from attaching media directly to posts now and are
> even making them post like by allowing meta boxes and taxonomies in recent
> versions of WP.  I think a next logical step is to give media post statuses
> other than `inherit`.  I can think of a number of cases where making an
> image or file private could be useful, among other things.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From dailyrants at gmail.com  Wed Sep 18 14:06:42 2013
From: dailyrants at gmail.com (John)
Date: Wed, 18 Sep 2013 10:06:42 -0400
Subject: [wp-hackers] Time to upgrade WordPress Media?
In-Reply-To: <1379512162637.6ce6f2dd@Nodemailer>
References: <CA+-Vqo9V7wO+MtsAh88m6DCA38q+5=DzziSH80JL8uWkh0R9GA@mail.gmail.com>
 <1379512162637.6ce6f2dd@Nodemailer>
Message-ID: <CAPYXUfUtNwiWU_-OmsCJNg34O-GD_AfHg5TdC-USBsS-dVg=fw@mail.gmail.com>

Related: http://core.trac.wordpress.org/ticket/17255


On Wed, Sep 18, 2013 at 9:49 AM, Eric Hendrix <hendronix at gmail.com> wrote:

> I completely agree having built mostly media-heavy sites the past couple
> of years. And there's no plugin that I can remember.
>
> ?
> Sent from Mailbox for iPhone
>
> On Wed, Sep 18, 2013 at 9:37 AM, Funkatron <funkatronic at gmail.com> wrote:
>
> > Was thinking about this the past few days: currently any media files
> > uploaded to a WordPress site defaults to the post status of `inherit`,
> > which is a holdover to when media attachments were just that.  Media was
> > attached to a certain post, so it inherited the post's status.  We are
> > starting to get away from attaching media directly to posts now and are
> > even making them post like by allowing meta boxes and taxonomies in
> recent
> > versions of WP.  I think a next logical step is to give media post
> statuses
> > other than `inherit`.  I can think of a number of cases where making an
> > image or file private could be useful, among other things.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lists at alexking.org  Wed Sep 18 18:24:37 2013
From: lists at alexking.org (Alex King)
Date: Wed, 18 Sep 2013 12:24:37 -0600
Subject: [wp-hackers] Dealing with WP cron's raciness
In-Reply-To: <52398938.5040408@wordshell.net>
References: <52398938.5040408@wordshell.net>
Message-ID: <E18C2B8C-A015-4A1B-85D0-273BEF600F0C@alexking.org>

WP-CRON uses a "run at least once" model - you need to account for this in your code. In our Social plugin we implemented a semaphore to handle the queue of things we needed to do *only once*, but that could take longer than the PHP timeout (multiple API calls).

Feel free to learn from/borrow that code:

https://github.com/crowdfavorite/wp-social

Cheers,
--Alex

http://alexking.org | http://crowdfavorite.com




On Sep 18, 2013, at 5:06 AM, David Anderson <david at wordshell.net> wrote:

> Hi,
> 
> The WP cron system suffers from race conditions. Is this known by core developers, and how do they feel about it? i.e. Is it here to stay, or are there plans to improve it?
> 
> Easy way to reproduce (every time):
> 
> 1) Load up the machine with your MySQL server on so that it's fully loaded (so that there's some latency - this is the crucial bit):
> (e.g. run a few of these: while true; do wget -O - http://localhost/mydevwebsite; done )
> 
> 2) Create a simple mu-plugin:
> 
> add_action('crontest', 'testing_crontest_da');
> function testing_crontest_da() { error_log('cron test!'); }
> 
> 3) Create a few processes that are continually calling wp-cron.php (two or more):
> while true; do wget -O - http://localhost/mydevwebsite/wp-cron.php; done
> 
> 4) Schedule a single cron event:
> 
> <?php require('wp-load.php'); wp_schedule_single_event(time()+5, 'crontest'); ?>
> 
> The result will be that the 'listener' in 2) logs as many lines as you had tasks calling wp-cron.php in 3). i.e. the action gets called that many times.
> 
> This isn't a problem for scheduled tasks that are performing cleanup jobs (e.g. cache purges). But for something like a scheduled backup, it's annoying - you get two backups. For a task that sends out report emails, you get multiple reports. etc. Of course, each plugin that performs such tasks could write its own locking system... but these would be likely to each have their own ad hoc quirks. It'd be much better if WP's cron system was less racy.
> 
> Thoughts?
> 
> David
> 
> -- 
> WordShell - WordPress fast from the CLI - www.wordshell.net
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From aparoph at gmail.com  Wed Sep 18 19:01:15 2013
From: aparoph at gmail.com (Radi Varbanov)
Date: Wed, 18 Sep 2013 15:01:15 -0400
Subject: [wp-hackers] Warning: Somebody is currently editing this post (WP
	3.6.1 bug)
Message-ID: <CAOKL2K=pABQJisXXQzrWHLq66tf988jwmSNW_raSXpnAr6Vawg@mail.gmail.com>

After updating to 3.6.1 I started getting this message : "Warning: Somebody
is currently editing this post" on making a new post. If I am editing a
post it will say "Warning: myName is currently editing this post". Could
someone point to how to fix that. I would still like to see if somebody
else is editing the post just in case, tho.

Thank You ,
Radi Varbanov

From jdg at codesymphony.co  Wed Sep 18 19:05:59 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Wed, 18 Sep 2013 15:05:59 -0400
Subject: [wp-hackers] Warning: Somebody is currently editing this post
	(WP 3.6.1 bug)
In-Reply-To: <CAOKL2K=pABQJisXXQzrWHLq66tf988jwmSNW_raSXpnAr6Vawg@mail.gmail.com>
References: <CAOKL2K=pABQJisXXQzrWHLq66tf988jwmSNW_raSXpnAr6Vawg@mail.gmail.com>
Message-ID: <43198282-0BE0-42F9-961C-AA30E07E9F9B@codesymphony.co>

Could you provide the steps to replicate this so we can try to figure out what the problem really is? What plugins/themes do you have installed? Have you tried this with the default theme and all plugins disabled?

On Sep 18, 2013, at 3:01 PM, Radi Varbanov <aparoph at gmail.com> wrote:

> After updating to 3.6.1 I started getting this message : "Warning: Somebody
> is currently editing this post" on making a new post. If I am editing a
> post it will say "Warning: myName is currently editing this post". Could
> someone point to how to fix that. I would still like to see if somebody
> else is editing the post just in case, tho.
> 
> Thank You ,
> Radi Varbanov
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dyordan1 at ramapo.edu  Wed Sep 18 19:06:52 2013
From: dyordan1 at ramapo.edu (Dobri)
Date: Wed, 18 Sep 2013 15:06:52 -0400
Subject: [wp-hackers] Warning: Somebody is currently editing this post
	(WP 3.6.1 bug)
In-Reply-To: <CAOKL2K=pABQJisXXQzrWHLq66tf988jwmSNW_raSXpnAr6Vawg@mail.gmail.com>
References: <CAOKL2K=pABQJisXXQzrWHLq66tf988jwmSNW_raSXpnAr6Vawg@mail.gmail.com>
Message-ID: <062CE282-EB8E-421C-A778-1C8168D60A40@ramapo.edu>

Radi,

Personal suggestion, turn off all plugins and enable the twenty thirteen theme. See if it happens again. Turn on your theme. See if it happens. Start turning on plugins one by one and check to see if it still happens. When you find the culprit, try to troubleshoot yourself or email this list again with the name of the plugin/theme. I think you'll get more relevant help if you follow that path.

~Dobri

On Wed, 18 Sep 2013, at 3:01 PM, Radi Varbanov wrote:

> After updating to 3.6.1 I started getting this message : "Warning: Somebody
> is currently editing this post" on making a new post. If I am editing a
> post it will say "Warning: myName is currently editing this post". Could
> someone point to how to fix that. I would still like to see if somebody
> else is editing the post just in case, tho.
> 
> Thank You ,
> Radi Varbanov
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From aparoph at gmail.com  Wed Sep 18 20:05:46 2013
From: aparoph at gmail.com (Radi Varbanov)
Date: Wed, 18 Sep 2013 16:05:46 -0400
Subject: [wp-hackers] Warning: Somebody is currently editing this post
 (WP 3.6.1 bug)
In-Reply-To: <062CE282-EB8E-421C-A778-1C8168D60A40@ramapo.edu>
References: <CAOKL2K=pABQJisXXQzrWHLq66tf988jwmSNW_raSXpnAr6Vawg@mail.gmail.com>
 <062CE282-EB8E-421C-A778-1C8168D60A40@ramapo.edu>
Message-ID: <CAOKL2Kk+j12Mtk7Syv5H_QGznvi0qH1vKp9NxM6uJ4NVSd7GDQ@mail.gmail.com>

I also noticed that if I try to edit a post that is being edited by someone
else at the moment I will not get the modal asking me to take over or go
back ...
Hope that is of some help

Thanks,
Radi


Thank You ,
Radi Varbanov
313.610.0432


On Wed, Sep 18, 2013 at 3:06 PM, Dobri <dyordan1 at ramapo.edu> wrote:

> Radi,
>
> Personal suggestion, turn off all plugins and enable the twenty thirteen
> theme. See if it happens again. Turn on your theme. See if it happens.
> Start turning on plugins one by one and check to see if it still happens.
> When you find the culprit, try to troubleshoot yourself or email this list
> again with the name of the plugin/theme. I think you'll get more relevant
> help if you follow that path.
>
> ~Dobri
>
> On Wed, 18 Sep 2013, at 3:01 PM, Radi Varbanov wrote:
>
> > After updating to 3.6.1 I started getting this message : "Warning:
> Somebody
> > is currently editing this post" on making a new post. If I am editing a
> > post it will say "Warning: myName is currently editing this post". Could
> > someone point to how to fix that. I would still like to see if somebody
> > else is editing the post just in case, tho.
> >
> > Thank You ,
> > Radi Varbanov
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From david at wordshell.net  Wed Sep 18 22:31:52 2013
From: david at wordshell.net (David Anderson)
Date: Wed, 18 Sep 2013 23:31:52 +0100
Subject: [wp-hackers] Dealing with WP cron's raciness
In-Reply-To: <mailman.20084.1379534779.2518.wp-hackers@lists.automattic.com>
References: <mailman.20084.1379534779.2518.wp-hackers@lists.automattic.com>
Message-ID: <523A29D8.6030708@wordshell.net>


Alex King wrote:
> WP-CRON uses a "run at least once" model - you need to account for 
> this in your code. In our Social plugin we implemented a semaphore to 
> handle the queue of things we needed to do *only once*, but that could 
> take longer than the PHP timeout (multiple API calls). Feel free to 
> learn from/borrow that code: https://github.com/crowdfavorite/wp-social
>
> Cheers,
> --Alex
Hi Alex,

Thank you... it's nice... a note for people finding this in Google: from 
my reading and testing, I learned that your code is designed not so much 
to only do the job only once, but to make sure that it can only do it 
once *at the same time* (i.e. no concurrent runs). Successive runs were 
possible, if the task was short-running enough and released the lock 
early enough. (Which is not likely to happen with my example of a backup 
job, but could happen with my other example of aggregating and 
amalgamating statistics). I suppose that if that's likely to be a 
problem, then the task could impose an arbitrary minimum time before 
releasing the lock.

Again, for others - the relevant part of the code in the plugin that 
Alex pointed to is in lib/social/semaphore.php. The simplest use case is 
then this (though of course you'd want to rename the class to avoid 
collisions):

$semaphore = Social_Semaphore::factory();
if ($semaphore->lock()) {
            do_something();
            sleep(5); # Perhaps - but it'd be more sophisticated to time 
yourself and only sleep as much as needed
            $semaphore->unlock();
}

David

From otto at ottodestruct.com  Wed Sep 18 22:59:10 2013
From: otto at ottodestruct.com (Otto)
Date: Wed, 18 Sep 2013 17:59:10 -0500
Subject: [wp-hackers] Dealing with WP cron's raciness
In-Reply-To: <52398938.5040408@wordshell.net>
References: <52398938.5040408@wordshell.net>
Message-ID: <CAD-Fghzrm1j=GU3y5MZsqE6upaev66uR5vCcheQS-BX_VLSmmg@mail.gmail.com>

On Wed, Sep 18, 2013 at 6:06 AM, David Anderson <david at wordshell.net> wrote:
> 3) Create a few processes that are continually calling wp-cron.php (two or
> more):
> while true; do wget -O - http://localhost/mydevwebsite/wp-cron.php; done

Why are you hitting the wp-cron.php file directly? WordPress doesn't
do that normally.

WordPress normally sets the doing_wp_cron transient with the current
time(), then calls wp-cron.php?doing_wp_cron=time. This is a locking
mechanism to prevent the subsequent calls after that from running.

This is not *perfect*, but it is pretty good and prevents most of the
problem you're describing. If you're calling wp-cron.php directly,
you're bypassing this mechanism, and the delay you've added to the
database will cause the locking mechanism to take longer, causing the
race issues.

-Otto

From david at wordshell.net  Thu Sep 19 00:07:31 2013
From: david at wordshell.net (David Anderson)
Date: Thu, 19 Sep 2013 01:07:31 +0100
Subject: [wp-hackers] Dealing with WP cron's raciness
Message-ID: <523A4043.7090502@wordshell.net>

> Why are you hitting the wp-cron.php file directly? WordPress doesn't
> do that normally.
>
> WordPress normally sets the doing_wp_cron transient with the current
> time(), then calls wp-cron.php?doing_wp_cron=time. This is a locking
> mechanism to prevent the subsequent calls after that from running.
>
> This is not *perfect*, but it is pretty good and prevents most of the
> problem you're describing. If you're calling wp-cron.php directly,
> you're bypassing this mechanism, and the delay you've added to the
> database will cause the locking mechanism to take longer, causing the
> race issues.
Hi Otto,

Thanks... I was aware of that; the reason I was hitting wp-cron.php 
directly in the tests I mentioned in my early mail was for two reasons: 
1) On my reading of the code, wp-cron.php tries to apply the same lock 
(the section beginning with the comment "// Use global $doing_wp_cron 
lock otherwise use the GET lock. If no lock, trying grabbing a new 
lock."). 2) In my tests, going indirectly (hitting the site's home page) 
had the same effect - i.e. the action would still consistently run 
multiple times due to raciness. It was just slightly less racy, but I 
surmised that that was due to a side-effect of timing due to the extra 
HTTP round-trip, rather than due to any extra locking taking place 
(which I surmised because of 1) - I can't see any extra locking take 
place - only a difference as to the timing of *when* the locking takes 
place).

David

-- 
WordShell - WordPress fast from the CLI - www.wordshell.net


From brian at brianhogg.ca  Thu Sep 19 00:19:17 2013
From: brian at brianhogg.ca (Brian Hogg)
Date: Wed, 18 Sep 2013 20:19:17 -0400
Subject: [wp-hackers] Dealing with WP cron's raciness
In-Reply-To: <523A4043.7090502@wordshell.net>
References: <523A4043.7090502@wordshell.net>
Message-ID: <21EF1F66-2922-4F47-99DC-52DB613560BA@brianhogg.ca>

I'm guessing you're trying to press the limits of the lock with the example, but if you disable automatic wp cron (with a flag in wp-config.php, DISABLE_WP_CRON define I believe) you would be able to control how many times wp cron was fired under normal conditions, for example once per minute in a system cron job you create.  Unless for some reason you need to fire it more often?

On Sep 18, 2013, at 20:07, David Anderson <david at wordshell.net> wrote:

>> Why are you hitting the wp-cron.php file directly? WordPress doesn't
>> do that normally.
>> 
>> WordPress normally sets the doing_wp_cron transient with the current
>> time(), then calls wp-cron.php?doing_wp_cron=time. This is a locking
>> mechanism to prevent the subsequent calls after that from running.
>> 
>> This is not *perfect*, but it is pretty good and prevents most of the
>> problem you're describing. If you're calling wp-cron.php directly,
>> you're bypassing this mechanism, and the delay you've added to the
>> database will cause the locking mechanism to take longer, causing the
>> race issues.
> Hi Otto,
> 
> Thanks... I was aware of that; the reason I was hitting wp-cron.php directly in the tests I mentioned in my early mail was for two reasons: 1) On my reading of the code, wp-cron.php tries to apply the same lock (the section beginning with the comment "// Use global $doing_wp_cron lock otherwise use the GET lock. If no lock, trying grabbing a new lock."). 2) In my tests, going indirectly (hitting the site's home page) had the same effect - i.e. the action would still consistently run multiple times due to raciness. It was just slightly less racy, but I surmised that that was due to a side-effect of timing due to the extra HTTP round-trip, rather than due to any extra locking taking place (which I surmised because of 1) - I can't see any extra locking take place - only a difference as to the timing of *when* the locking takes place).
> 
> David
> 
> -- 
> WordShell - WordPress fast from the CLI - www.wordshell.net
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Thu Sep 19 00:27:21 2013
From: otto at ottodestruct.com (Otto)
Date: Wed, 18 Sep 2013 19:27:21 -0500
Subject: [wp-hackers] Dealing with WP cron's raciness
In-Reply-To: <523A4043.7090502@wordshell.net>
References: <523A4043.7090502@wordshell.net>
Message-ID: <CAD-Fghy=Lb7jwRvJ9_hw2eAS7oDRSc+995ExvmE5ysqJkjnZxw@mail.gmail.com>

On Wed, Sep 18, 2013 at 7:07 PM, David Anderson <david at wordshell.net> wrote:
> Hi Otto,
>
> Thanks... I was aware of that; the reason I was hitting wp-cron.php directly
> in the tests I mentioned in my early mail was for two reasons: 1) On my
> reading of the code, wp-cron.php tries to apply the same lock (the section
> beginning with the comment "// Use global $doing_wp_cron lock otherwise use
> the GET lock. If no lock, trying grabbing a new lock."). 2) In my tests,
> going indirectly (hitting the site's home page) had the same effect - i.e.
> the action would still consistently run multiple times due to raciness. It
> was just slightly less racy, but I surmised that that was due to a
> side-effect of timing due to the extra HTTP round-trip, rather than due to
> any extra locking taking place (which I surmised because of 1) - I can't see
> any extra locking take place - only a difference as to the timing of *when*
> the locking takes place).

Well, like I said, it's not perfect, but it's still going to be
slightly better as to the timing.

Hitting it directly means that the lock logic is running inside the
hit to wp-cron.php. So if you have multiple instances running
concurrently, then they can both get the same "lock" because of timing
differences between the check and the setting of the lock.

Running it normally means that the lock is grabbed before wp-cron.php
is ever called, in the wp-includes/cron.php file. Now, if you have two
hits in the same second, or hits on multiple servers and the like,
then you can still get the race condition to occur and have the main
cron.php script call the wp-cron.php script twice with the same
values, but this is better for the most part... for a given definition
of "better". :)

If you're expecting more than 1 hit per second on a normal basis, and
it's a problem for your particular setup, then you'd probably be
better served setting DISABLE_WP_CRON and creating a real cron job to
call it every so often instead. It doesn't even have to be a wget to
the URL, you can run it with a direct "php wp-cron.php" command just
fine, for non-multisite instances.

-Otto

From filippo.pisano at gmail.com  Thu Sep 19 09:08:53 2013
From: filippo.pisano at gmail.com (Filippo Pisano)
Date: Thu, 19 Sep 2013 11:08:53 +0200
Subject: [wp-hackers] Post edit slow checkbox behaviour
Message-ID: <CABCyq-kt+yPS1hx8rHBHY6sJkWR0j-oEtYsMjjUucyigHS79nQ@mail.gmail.com>

Dear list members,

I have a post type with 4 hierarchical taxonomies attached to it. One of
these has 4.000 terms inside. When I try to check any of the checkboxes
inside the edit page it takes 2-3 seconds before it is marked as "checked".
It seems that there is an event listener attached to the click event of a
generic jQuery selector slowing down everything.

I cannot find the specific script adding the event listener (I'm not a JS
guru), does anybody have idea of where to look for or, even better, disable
the script?


Thank you


Filippo Pisano

From david at wordshell.net  Thu Sep 19 12:17:59 2013
From: david at wordshell.net (David Anderson)
Date: Thu, 19 Sep 2013 13:17:59 +0100
Subject: [wp-hackers] Dealing with WP cron's raciness (Otto)
In-Reply-To: <mailman.9.1379592002.15120.wp-hackers@lists.automattic.com>
References: <mailman.9.1379592002.15120.wp-hackers@lists.automattic.com>
Message-ID: <523AEB77.7000907@wordshell.net>


> If you're expecting more than 1 hit per second on a normal basis, and
> it's a problem for your particular setup, then you'd probably be
> better served setting DISABLE_WP_CRON and creating a real cron job to
> call it every so often instead. It doesn't even have to be a wget to
> the URL, you can run it with a direct "php wp-cron.php" command just
> fine, for non-multisite instances.
Hi Otto,

Thanks for the feedback and info.

My motivation in trying to torture-test the cron system is that, as 
Brian guessed, I'm trying to get the best solution I can for generalsied 
worst-case scenarios. It's for UpdraftPlus 
(http://wordpress.org/plugins/updraftplus). My estimation based on the 
download stats from that page is that there are approx 5,000 or more new 
users installing it every week. Every couple of weeks or so, I get a 
support request from somebody whose backup runs multiple times, despite 
the existing checks in the WP cron system. From my research, they're all 
over-loaded. Some are hitting wp-cron.php directly because their web 
hosting company requires them to do that (I know, that's non-optimal, 
but that's how it is). Hitting this issue once for 10,000 new users is 
not bad, but I'd much rather have it never - even 1 in 10,000 adds up to 
26 times a year. My support philosophy is to try to drive support 
requests as close to absolute zero as possible, and spend the time 
writing new code instead!

Anyway - for anyone else interested, or coming across this later, I'm 
using a modified version of Alex King's code from WP_Social - the only 
modifications are to fit my own logging system, and some slight 
generalisation to allow for locks with different names. The code is 
already in the SVN trunk for UpdraftPlus. Alex's approach works pretty 
much out-of-the-box for me; for the general case, though, it needs a 
little sleep()-ing to enforce a minimum period that the semaphore lock 
can be held for, as if it's dropped too quickly then you can get 
multiple runs again (albeit fewer of them than without using the 
semaphore lock at all).

Final question: since the semaphore approach that Alex is using appears 
to work better than WP's existing locking mechanism, do you think 
there's a case for me to work Alex's code into a core patch, and submit 
it? Would it likely to be accepted, or would I be wasting my time? I 
know that Alex said that WP has an "at least once" model, but reading 
the code, and seeing that it's *trying* to apply a lock, my 
interpretation of that was "it doesn't work as well as it could, so the 
model got re-branded"... ? i.e. the model is really "we wish it only ran 
once, and we try, but we can't guarantee it", and if the semaphore 
approach could improve the situation, then it'd be welcomed into core?

Many thanks to all who've helped,
David

From wordpress at dd32.id.au  Thu Sep 19 13:19:57 2013
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 19 Sep 2013 23:19:57 +1000
Subject: [wp-hackers] Dealing with WP cron's raciness
In-Reply-To: <52398938.5040408@wordshell.net>
References: <52398938.5040408@wordshell.net>
Message-ID: <CAL4EHfk3oEHPi+M318zQt38b6hS6M-K_eqeKhHUXU0FbyMrmHA@mail.gmail.com>

On 18 September 2013 21:06, David Anderson <david at wordshell.net> wrote:

>
> 3) Create a few processes that are continually calling wp-cron.php (two or
> more):
> while true; do wget -O - http://localhost/mydevwebsite/**wp-cron.php<http://localhost/mydevwebsite/wp-cron.php>;
> done


I just wanted to point out, that doing this bypasses the major component of
 WP Cron which attempts to allow things to only run once.. doing so you'll
almost be guaranteed to have duplicate events fired.

When WordPress fires off the cron, it creates a locking transient (which
should be pretty reliable when using an external object cache, not awesome,
but still pretty good, when not) which is based on microtime(true) which
includes microseconds: 1379596515.2753798961639404296875
The request is then made via
wp-cron.php?doing_wp_cron=1379596515.2753798961639404296875. If the GET arg
doesn't match exactly what's in the transient, that request doesn't perform
any operations.

In the past (pre-3.6 I believe?), the transient was based on time(), so any
requests made within a 1second timeframe would trigger duplicate cron
tasks.

It's definitely not foolproof, but it's pretty much as locking-as-possible
that WordPress can achieve in a shared hosting environment at present..
anything that absolutely requires only one process to be running at a time
should definately add something of their own if they don't trust core's
ability.

It should also be noted, that if you have a long-running job (like some
backup plugins), and you have a server where someone triggers wp-cron.php
manually with a real cron every 1/2/5minutes, then you'll most likely get
duplicate events running.. simply because your event is only de-queued
AFTER it's run, so if it takes 5 minutes to run, and another request it
made 2 minutes into that window, you'll get two jobs

If you want to test WordPress's cron locks out, instead of using the above
code, do something like this in a stand alone script instead:
<?php include 'wp-load.php'; while(true) { spawn_cron(); } ?>

From wordpress at dd32.id.au  Thu Sep 19 13:24:09 2013
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 19 Sep 2013 23:24:09 +1000
Subject: [wp-hackers] Dealing with WP cron's raciness
In-Reply-To: <CAL4EHfk3oEHPi+M318zQt38b6hS6M-K_eqeKhHUXU0FbyMrmHA@mail.gmail.com>
References: <52398938.5040408@wordshell.net>
 <CAL4EHfk3oEHPi+M318zQt38b6hS6M-K_eqeKhHUXU0FbyMrmHA@mail.gmail.com>
Message-ID: <CAL4EHfnKGfA+MiM9EsgUW7uV0GrpU6WPUHbU2psg4S31e44pgg@mail.gmail.com>

Just to confirm, 3.6 doesn't seem to have changed anything (wow, how time
flies)

I was thinking of 3.3 and 3.4:
http://core.trac.wordpress.org/ticket/17462
http://core.trac.wordpress.org/ticket/19700


On 19 September 2013 23:19, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:

> On 18 September 2013 21:06, David Anderson <david at wordshell.net> wrote:
>
>>
>> 3) Create a few processes that are continually calling wp-cron.php (two
>> or more):
>> while true; do wget -O - http://localhost/mydevwebsite/**wp-cron.php<http://localhost/mydevwebsite/wp-cron.php>;
>> done
>
>
> I just wanted to point out, that doing this bypasses the major component
> of  WP Cron which attempts to allow things to only run once.. doing so
> you'll almost be guaranteed to have duplicate events fired.
>
> When WordPress fires off the cron, it creates a locking transient (which
> should be pretty reliable when using an external object cache, not awesome,
> but still pretty good, when not) which is based on microtime(true) which
> includes microseconds: 1379596515.2753798961639404296875
> The request is then made via
> wp-cron.php?doing_wp_cron=1379596515.2753798961639404296875. If the GET arg
> doesn't match exactly what's in the transient, that request doesn't perform
> any operations.
>
> In the past (pre-3.6 I believe?), the transient was based on time(), so
> any requests made within a 1second timeframe would trigger duplicate cron
> tasks.
>
> It's definitely not foolproof, but it's pretty much as locking-as-possible
> that WordPress can achieve in a shared hosting environment at present..
> anything that absolutely requires only one process to be running at a time
> should definately add something of their own if they don't trust core's
> ability.
>
> It should also be noted, that if you have a long-running job (like some
> backup plugins), and you have a server where someone triggers wp-cron.php
> manually with a real cron every 1/2/5minutes, then you'll most likely get
> duplicate events running.. simply because your event is only de-queued
> AFTER it's run, so if it takes 5 minutes to run, and another request it
> made 2 minutes into that window, you'll get two jobs
>
> If you want to test WordPress's cron locks out, instead of using the above
> code, do something like this in a stand alone script instead:
> <?php include 'wp-load.php'; while(true) { spawn_cron(); } ?>
>
>

From paul at codehooligans.com  Thu Sep 19 13:34:48 2013
From: paul at codehooligans.com (Paul Menard)
Date: Thu, 19 Sep 2013 09:34:48 -0400
Subject: [wp-hackers] Dealing with WP cron's raciness
In-Reply-To: <CAL4EHfk3oEHPi+M318zQt38b6hS6M-K_eqeKhHUXU0FbyMrmHA@mail.gmail.com>
References: <52398938.5040408@wordshell.net>
 <CAL4EHfk3oEHPi+M318zQt38b6hS6M-K_eqeKhHUXU0FbyMrmHA@mail.gmail.com>
Message-ID: <E04570E4-AA15-4944-8168-2ABAE4578A62@codehooligans.com>


On Sep 19, 2013, at 9:19 AM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:

> It should also be noted, that if you have a long-running job (like some
> backup plugins), and you have a server where someone triggers wp-cron.php
> manually with a real cron every 1/2/5minutes, then you'll most likely get
> duplicate events running.. simply because your event is only de-queued
> AFTER it's run, so if it takes 5 minutes to run, and another request it
> made 2 minutes into that window, you'll get two jobs


Just my thoughts. This is really no different than dealing directly with UNIX cron calling shell scripts. If you know there is potential that another process will start before the previous process finishes you implement a locking system of your own design. OR as been illustrated in this thread you have users who setup UNIX crontabs to call wp-cron.php every 2 minutes. Things you just cannot control. 

I would not personally like to see this added to WordPress core. I actually have reasons in the past to rely on the multi-instance cron processing for some sampling plugins I wrote. Each instance needed to be independent. I don't want WP to be the traffic cop. 

From michael at civicrm.org  Fri Sep 20 11:05:03 2013
From: michael at civicrm.org (Michael McAndrew)
Date: Fri, 20 Sep 2013 12:05:03 +0100
Subject: [wp-hackers] Conference for non-profit oriented wordpress hackers
	(CiviCRM)
Message-ID: <523C2BDF.7050603@civicrm.org>

Hi wordpress hackers,

I hope this is a suitable channel for this info - let me know if not.

We have a CiviCRM conference coming up in London, UK in a couple of weeks (3rd and 4th October) and I thought those of you in the area might be interested in attending.

CiviCRM is an open-source online CRM aimed at non profits that integrates with Wordpress out of the box to provide a website CRM tailored for non profits.

Our Wordpress integration is about two years old now and has been seeing lots of traction amongst orgs with Wordpress sites looking for a CRM.

The conference is a great way to learn about what you can do with CiviCRM and we have a couple of sessions on Wordpress integration lined up.

Here's the conference website in case you are interested: http://london2013.civicrm.org/

Thanks for reading - happy to answer any questions.

Michael

-- 
Michael McAndrew
CiviCRM

tel: 020 7183 5828 (UK)
mob: 07817 802299 (UK)
skype: michaelmcandrew

http://civicrm.org


From greglancaster71 at gmail.com  Fri Sep 20 12:35:25 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Fri, 20 Sep 2013 05:35:25 -0700 (PDT)
Subject: [wp-hackers] multi step registration for new users?
Message-ID: <1379680525300-42347.post@n5.nabble.com>

I know some of you will recommend a plugin like gravity forms, but I want to
code this myself.  Custom registration page is simple, but how would I go
about coding a three step registration process.   I have several custom
usermeta fields applicable for all users.  Rather than have them register,
and then fill it all out on their own I would love to have a custom designed
walk through. 

Fill out username, email, and how they heard about the site.  click next and
another few selections and text boxes can be filled.  The data would be
populating the usermeta boxes - but what is the best way to accomplish this? 
Any tutorials or examples anyone can refer me to?





--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/multi-step-registration-for-new-users-tp42347.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From david at wordshell.net  Fri Sep 20 12:46:56 2013
From: david at wordshell.net (David Anderson)
Date: Fri, 20 Sep 2013 13:46:56 +0100
Subject: [wp-hackers] Dealing with WP cron's raciness
Message-ID: <523C43C0.9080809@wordshell.net>

Dion Hulse (dd32) wrote:
> I just wanted to point out, that doing this bypasses the major component of
>   WP Cron which attempts to allow things to only run once.. doing so you'll
> almost be guaranteed to have duplicate events fired.
>
> When WordPress fires off the cron, it creates a locking transient (which
> should be pretty reliable when using an external object cache, not awesome,
> but still pretty good, when not) which is based on microtime(true) which
> includes microseconds: 1379596515.2753798961639404296875
> The request is then made via
> wp-cron.php?doing_wp_cron=1379596515.2753798961639404296875. If the GET arg
> doesn't match exactly what's in the transient, that request doesn't perform
> any operations.
Hi Dion,

Thanks for the feedback... I mentioned before a couple of things:

1) My motivation is to torture-test the worst-case scenarios, because 
they are what generate support requests. A significant number (i.e. 
significant enough to generate a flow of support requests, once you have 
5,000 new installs a week) of hosting companies disable this mechanism 
(in part, through disabling loopback HTTP connections), and instruct 
their users to call wp-cron.php directly (via a scheduler in their 
control panel). (I know that's "non-optimal". I know about 
ALTERNATE_WP_CRON - as I say, I'm trying to deal with what users are 
doing and likely to keep on doing, not what they ought to do).

2) I said before to Otto that from my reading of the code in 
wp-cron.php, there's also an attempt to apply the same locking mechanism 
you describe above in there. The only difference is that the loopback 
HTTP introduces a slightly random timing delay, which fortuitously gives 
the time delay needed for the locking mechanism to work - i.e. the 
effect is a side-effect of the method,rather than procured directly by 
it. Am I reading that wrong?

Paul Menard wrote:

> I actually have reasons in the past to rely on the multi-instance cron processing for some sampling plugins I wrote. Each instance needed to be independent. I don't want WP to be the traffic cop.
If you need to *rely* upon an action running twice, then surely you 
should just schedule two actions? Note that I wasn't suggesting locking 
at the *individual action* level but at the *cron queue processor* level.

Best wishes,
David

-- 
WordShell - WordPress fast from the CLI - www.wordshell.net


From hendronix at gmail.com  Fri Sep 20 12:55:20 2013
From: hendronix at gmail.com (Eric Hendrix)
Date: Fri, 20 Sep 2013 05:55:20 -0700 (PDT)
Subject: [wp-hackers] multi step registration for new users?
In-Reply-To: <1379680525300-42347.post@n5.nabble.com>
References: <1379680525300-42347.post@n5.nabble.com>
Message-ID: <1379681719270.fe15ead3@Nodemailer>

Gravity Forma. Ha!




Seriously though you'll need to code a per user cookie, or store a temp variable - conditional paging, etc. Look at an expansion of the WP user registration page.?

?
Sent from Mailbox for iPhone

On Fri, Sep 20, 2013 at 8:35 AM, BenderisGreat <greglancaster71 at gmail.com>
wrote:

> I know some of you will recommend a plugin like gravity forms, but I want to
> code this myself.  Custom registration page is simple, but how would I go
> about coding a three step registration process.   I have several custom
> usermeta fields applicable for all users.  Rather than have them register,
> and then fill it all out on their own I would love to have a custom designed
> walk through. 
> Fill out username, email, and how they heard about the site.  click next and
> another few selections and text boxes can be filled.  The data would be
> populating the usermeta boxes - but what is the best way to accomplish this? 
> Any tutorials or examples anyone can refer me to?
> --
> View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/multi-step-registration-for-new-users-tp42347.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From nikolov.tmw at gmail.com  Fri Sep 20 12:55:39 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Fri, 20 Sep 2013 15:55:39 +0300
Subject: [wp-hackers] multi step registration for new users?
In-Reply-To: <1379680525300-42347.post@n5.nabble.com>
References: <1379680525300-42347.post@n5.nabble.com>
Message-ID: <CAOwx47fg2GPbr0fy4CErAV8J2MpmqGndypGNAN_cG9Jsu+r=BQ@mail.gmail.com>

I would recommend two options(depending on how you want to accomplish the
three-step process):

1) Use JavaScript(jQuery for instance would make things easier to
accomplish) in order to show/hide the next/previous step - this way the
user won't have to reload the page to go the next step and it will all be
there. You can make AJAX requests to your PHP script in order to check
whether the email is available, if it's correct or not, etc(you can do
simple validation with JavaScript as well, but you'll need AJAX in order to
see if this email has already been used or not). Once all steps have been
finished, simply submit the form(with AJAX or not - it's up to you) and let
your PHP script handle the registration and updating of user meta.
If you want your users to stay in the same page and simply fill-out the
required form fields - that's the way to go in my opinion.

2) Use PHP sessions. Upon submitting the first form, store the user's data
within a session variable - this data is only available to your PHP script
and can't be modified(if you use cookies or $_GET parameters instead for
instance). You can do validation once each step is submitted and force the
user to stay on the same step if there are any errors while validating the
data. After each step, simply update the session variable with the newly
added data and once all steps are completed, use that session variable for
the user registration and population of custom user fields.


I would generally go with the first step, but you can choose whichever
you're most comfortable with.


On Fri, Sep 20, 2013 at 3:35 PM, BenderisGreat <greglancaster71 at gmail.com>wrote:

> I know some of you will recommend a plugin like gravity forms, but I want
> to
> code this myself.  Custom registration page is simple, but how would I go
> about coding a three step registration process.   I have several custom
> usermeta fields applicable for all users.  Rather than have them register,
> and then fill it all out on their own I would love to have a custom
> designed
> walk through.
>
> Fill out username, email, and how they heard about the site.  click next
> and
> another few selections and text boxes can be filled.  The data would be
> populating the usermeta boxes - but what is the best way to accomplish
> this?
> Any tutorials or examples anyone can refer me to?
>
>
>
>
>
> --
> View this message in context:
> http://wordpress-hackers.1065353.n5.nabble.com/multi-step-registration-for-new-users-tp42347.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Fri Sep 20 13:12:29 2013
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 20 Sep 2013 23:12:29 +1000
Subject: [wp-hackers] Dealing with WP cron's raciness
In-Reply-To: <523C43C0.9080809@wordshell.net>
References: <523C43C0.9080809@wordshell.net>
Message-ID: <CAL4EHf=K-FwbOXDzxgj9eE-Du+zfCn-dBoMYQ_yJWS5RX4BFpw@mail.gmail.com>

On 20 September 2013 22:46, David Anderson <david at wordshell.net> wrote:

> Dion Hulse (dd32) wrote:
>
>> I just wanted to point out, that doing this bypasses the major component
>> of
>>   WP Cron which attempts to allow things to only run once.. doing so
>> you'll
>> almost be guaranteed to have duplicate events fired.
>>
>> When WordPress fires off the cron, it creates a locking transient (which
>> should be pretty reliable when using an external object cache, not
>> awesome,
>> but still pretty good, when not) which is based on microtime(true) which
>> includes microseconds: 1379596515.**2753798961639404296875
>> The request is then made via
>> wp-cron.php?doing_wp_cron=**1379596515.**2753798961639404296875. If the
>> GET arg
>> doesn't match exactly what's in the transient, that request doesn't
>> perform
>> any operations.
>>
> Hi Dion,
>
> Thanks for the feedback... I mentioned before a couple of things:
>
> 1) My motivation is to torture-test the worst-case scenarios, because they
> are what generate support requests. A significant number (i.e. significant
> enough to generate a flow of support requests, once you have 5,000 new
> installs a week) of hosting companies disable this mechanism (in part,
> through disabling loopback HTTP connections), and instruct their users to
> call wp-cron.php directly (via a scheduler in their control panel). (I know
> that's "non-optimal". I know about ALTERNATE_WP_CRON - as I say, I'm trying
> to deal with what users are doing and likely to keep on doing, not what
> they ought to do).
>

Yes, If you take the worst-possible case, and bypass the locking mechanisms
which WordPress has, then you will no doubt have more issues, it's really
as simple as that, and as a plugin developer you have to expect the worst
from a users configuration and program defensively.
WordPress can't work 100% under every condition, and will do it's best
under the conditions presented.

Unfortunately, WordPress only has a default cron timeout of 60 seconds when
you call wp-cron.php directly, so if you have a real cronjob running every
2 minutes, even if the first cron is still running, the 2nd will assume
that the first has timed out due to poor hosting configurations or a PHP
error - both conditions that it has to contend with as many hosts will kill
processes after 45~60 seconds still.

If you're calling wp-cron.php directly, and you want each process to hold
the lock longer, you can define 'WP_CRON_LOCK_TIMEOUT' in wp-config.php to
increase the time (it defaults to 60 as mentioned before).
It should be safe to increase it to 5 minutes (300) with minimal issues for
most people.


> 2) I said before to Otto that from my reading of the code in wp-cron.php,
> there's also an attempt to apply the same locking mechanism you describe
> above in there. The only difference is that the loopback HTTP introduces a
> slightly random timing delay, which fortuitously gives the time delay
> needed for the locking mechanism to work - i.e. the effect is a side-effect
> of the method,rather than procured directly by it. Am I reading that wrong?


The loopback request doesn't really cause any benefit due to delays or
anything, the only benefit is that in doing so, it's locking the cron
request for the DURATION of the cronjob through the random url value, where
as when you call wp-cron.php directly, you're only locking it for
WP_CRON_LOCK_TIMEOUT seconds.


I don't say this lightly, I'm just trying to explain how the current system
works, if you have some ideas on how to improve the experience for users,
while retaining compatibility with shitty hosts and bad PHP configurations
(and even worse plugins) then I'm all ears, and would love to see you
submit a trac ticket with a patch or suggestions.

From david at wordshell.net  Fri Sep 20 13:52:43 2013
From: david at wordshell.net (David Anderson)
Date: Fri, 20 Sep 2013 14:52:43 +0100
Subject: [wp-hackers] Dealing with WP cron's raciness
Message-ID: <523C532B.8020703@wordshell.net>

Dion Hulse (dd32) wrote:

> The loopback request doesn't really cause any benefit due to delays or
> anything, the only benefit is that in doing so, it's locking the cron
> request for the DURATION of the cronjob through the random url value, where
> as when you call wp-cron.php directly, you're only locking it for
> WP_CRON_LOCK_TIMEOUT seconds.
I've read through the code a lot to try to understand this, but I 
don't... can you give me a clue?

1) "random url value" - where is this? I can't see any random element 
being added in the code, or in my web logs. I just see:

POST /wp-cron.php?doing_wp_cron=(microtime)

2) I also don't see how locking "for the DURATION of the cronjob" is 
happening. The lock is applied via the transient 'doing_cron'; but I see 
nothing in wp-includes/cron.php that is stopping that transient being 
over-written once WP_CRON_LOCK_TIMEOUT seconds have passed, and nothing 
that continuously updates it whilst the cron job progresses. I see these 
lines of code, in which the comment seems to say that this is where it 
is done:

     // don't run if another process is currently running it or more 
than once every 60 sec.
     if ( $lock + WP_CRON_LOCK_TIMEOUT > $gmt_time )
         return;

The comment says "don't run if another process is currently running" - 
but I don't see the connection between the comment and the code; the 
code only seems to do "don't run if ... more than once every 60 
(WP_CRON_LOCK_TIMEOUT) sec".

What am I missing?

David

-- 
WordShell - WordPress fast from the CLI - www.wordshell.net


From chris at lod.com  Fri Sep 20 16:56:29 2013
From: chris at lod.com (Chris McCoy)
Date: Fri, 20 Sep 2013 12:56:29 -0400
Subject: [wp-hackers] filtering archive headings
Message-ID: <CE61F67D.36BD%chris@lod.com>

does a filter exist that I can hook into before the while loop is ran, so
after the if found posts, i saw a post somewhere the filter, but i didnt
bookmark it.

curious if i can hook into a function to display it via functions.php
instead of the category.php, archive.php etc




From christian.m.chung at gmail.com  Fri Sep 20 18:09:09 2013
From: christian.m.chung at gmail.com (Christian Chung)
Date: Fri, 20 Sep 2013 14:09:09 -0400
Subject: [wp-hackers] filtering archive headings
In-Reply-To: <CE61F67D.36BD%chris@lod.com>
References: <CE61F67D.36BD%chris@lod.com>
Message-ID: <CAC8ZXFKv3fxAYQumbG5G0_MX8WHKt-NHRZVr0h3Ja4qq6OHirg@mail.gmail.com>

There's the loop_start action, which runs before the first post of the
loop.  Is that what you're looking for?


On Fri, Sep 20, 2013 at 12:56 PM, Chris McCoy <chris at lod.com> wrote:

> does a filter exist that I can hook into before the while loop is ran, so
> after the if found posts, i saw a post somewhere the filter, but i didnt
> bookmark it.
>
> curious if i can hook into a function to display it via functions.php
> instead of the category.php, archive.php etc
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Fri Sep 20 18:42:15 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Fri, 20 Sep 2013 14:42:15 -0400
Subject: [wp-hackers] filtering archive headings
In-Reply-To: <CAC8ZXFKv3fxAYQumbG5G0_MX8WHKt-NHRZVr0h3Ja4qq6OHirg@mail.gmail.com>
References: <CE61F67D.36BD%chris@lod.com>
 <CAC8ZXFKv3fxAYQumbG5G0_MX8WHKt-NHRZVr0h3Ja4qq6OHirg@mail.gmail.com>
Message-ID: <596B41B8-39E5-497F-9E1B-03CA63D32727@codesymphony.co>


> does a filter exist that I can hook into before the while loop is ran, so
> after the if found posts, i saw a post somewhere the filter, but i didnt
> bookmark it.
> 
> curious if i can hook into a function to display it via functions.php
> instead of the category.php, archive.php etc

It sounds like you are trying to override the template being used. You might want to consider creating your own template and then hooking into 'template_include' to conditionally override the default templates. See http://stackoverflow.com/questions/13997743/make-plugin-override-template

From greglancaster71 at gmail.com  Fri Sep 20 20:41:23 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Fri, 20 Sep 2013 13:41:23 -0700 (PDT)
Subject: [wp-hackers] multi step registration for new users?
In-Reply-To: <CAOwx47fg2GPbr0fy4CErAV8J2MpmqGndypGNAN_cG9Jsu+r=BQ@mail.gmail.com>
References: <1379680525300-42347.post@n5.nabble.com>
 <CAOwx47fg2GPbr0fy4CErAV8J2MpmqGndypGNAN_cG9Jsu+r=BQ@mail.gmail.com>
Message-ID: <1379709683744-42356.post@n5.nabble.com>

so I would design a custom wordpress registration page with all the fields i
need, and then use something like js tabs to control whats visible ?  that
could work.  



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/multi-step-registration-for-new-users-tp42347p42356.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From jdg at codesymphony.co  Fri Sep 20 20:45:55 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Fri, 20 Sep 2013 16:45:55 -0400
Subject: [wp-hackers] multi step registration for new users?
In-Reply-To: <1379709683744-42356.post@n5.nabble.com>
References: <1379680525300-42347.post@n5.nabble.com>
 <CAOwx47fg2GPbr0fy4CErAV8J2MpmqGndypGNAN_cG9Jsu+r=BQ@mail.gmail.com>
 <1379709683744-42356.post@n5.nabble.com>
Message-ID: <AF84E335-C8B5-4ADA-B200-0E1C7589127E@codesymphony.co>


On Sep 20, 2013, at 4:41 PM, BenderisGreat <greglancaster71 at gmail.com> wrote:

> so I would design a custom wordpress registration page with all the fields i
> need, and then use something like js tabs to control whats visible ?  that
> could work.  

Yes, that's what I would suggest also.

From hendronix at gmail.com  Fri Sep 20 21:05:57 2013
From: hendronix at gmail.com (Eric Hendrix)
Date: Fri, 20 Sep 2013 17:05:57 -0400
Subject: [wp-hackers] multi step registration for new users?
In-Reply-To: <AF84E335-C8B5-4ADA-B200-0E1C7589127E@codesymphony.co>
References: <1379680525300-42347.post@n5.nabble.com>
 <CAOwx47fg2GPbr0fy4CErAV8J2MpmqGndypGNAN_cG9Jsu+r=BQ@mail.gmail.com>
 <1379709683744-42356.post@n5.nabble.com>
 <AF84E335-C8B5-4ADA-B200-0E1C7589127E@codesymphony.co>
Message-ID: <CAAkktv207+yx58LiS=+50Pm-JP5Chsh-+jrooRZMsJfuKkGeTg@mail.gmail.com>

That's definitely the most efficient route - Nikola's always got great
advice!


On Fri, Sep 20, 2013 at 4:45 PM, J.D. Grimes <jdg at codesymphony.co> wrote:

>
> On Sep 20, 2013, at 4:41 PM, BenderisGreat <greglancaster71 at gmail.com>
> wrote:
>
> > so I would design a custom wordpress registration page with all the
> fields i
> > need, and then use something like js tabs to control whats visible ?
>  that
> > could work.
>
> Yes, that's what I would suggest also.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
*Eric A. Hendrix*
hendronix at gmail.com
(910) 644-8940

*"Non Timebo Mala"*

From funkatronic at gmail.com  Sat Sep 21 03:39:14 2013
From: funkatronic at gmail.com (Funkatron)
Date: Fri, 20 Sep 2013 22:39:14 -0500
Subject: [wp-hackers] Changed hosts for a multisite,
	now home page and only home page missing
Message-ID: <CA+-Vqo_vr_8dqPdmWHAJ1wLLdQF6Ao9eNsMN_L3xepBDF9Gp-g@mail.gmail.com>

I have a perplexing problem I need help resolving: Just switched from
Bluehost to Dreamhost.  I coppied all my files over, uploaded the database,
made sure to turn on wildcard domains with the host.  Only one problem: the
main front page gives me a blank screen.  I can access the admin side, I
can access the rest of the site including posts, pages, archives, bbPress
forums, etc.  But the home page just comes up empty.  Same thing with
subsites: I can acces the pages and admin of those sites, but the home page
is absent.

Am I missing something here?  I've tried making sure the MU plugin was
installed correctly, made sure, flushed rewrite rules, changed themes, etc.
 I can't seem to figure out how much of WP is loaded or whats causing this
issue.  Any help is greatly appreciated.

Example:

Main site:  http://onepiecepodcast.com (blank)
Forums: http://onepiecepodcast.com/forums (works)

From abdussamad at abdussamad.com  Sat Sep 21 03:56:17 2013
From: abdussamad at abdussamad.com (Abdussamad Abdurrazzaq)
Date: Sat, 21 Sep 2013 08:56:17 +0500
Subject: [wp-hackers] Changed hosts for a multisite,
 now home page and only home page missing
In-Reply-To: <CA+-Vqo_vr_8dqPdmWHAJ1wLLdQF6Ao9eNsMN_L3xepBDF9Gp-g@mail.gmail.com>
References: <CA+-Vqo_vr_8dqPdmWHAJ1wLLdQF6Ao9eNsMN_L3xepBDF9Gp-g@mail.gmail.com>
Message-ID: <523D18E1.6000902@abdussamad.com>

Check the apache error log. It maybe because of a plugin.

If you want to display the errors on your site instead you can set 
WP_DEBUG to true in wp-config.php. But this is not a good idea from a 
security point of view.

On 09/21/2013 08:39 AM, Funkatron wrote:
> I have a perplexing problem I need help resolving: Just switched from
> Bluehost to Dreamhost.  I coppied all my files over, uploaded the database,
> made sure to turn on wildcard domains with the host.  Only one problem: the
> main front page gives me a blank screen.  I can access the admin side, I
> can access the rest of the site including posts, pages, archives, bbPress
> forums, etc.  But the home page just comes up empty.  Same thing with
> subsites: I can acces the pages and admin of those sites, but the home page
> is absent.
>
> Am I missing something here?  I've tried making sure the MU plugin was
> installed correctly, made sure, flushed rewrite rules, changed themes, etc.
>   I can't seem to figure out how much of WP is loaded or whats causing this
> issue.  Any help is greatly appreciated.
>
> Example:
>
> Main site:  http://onepiecepodcast.com (blank)
> Forums: http://onepiecepodcast.com/forums (works)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mickyhulse.lists at gmail.com  Sat Sep 21 04:03:55 2013
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Fri, 20 Sep 2013 21:03:55 -0700
Subject: [wp-hackers] Changed hosts for a multisite,
 now home page and only home page missing
In-Reply-To: <523D18E1.6000902@abdussamad.com>
References: <CA+-Vqo_vr_8dqPdmWHAJ1wLLdQF6Ao9eNsMN_L3xepBDF9Gp-g@mail.gmail.com>
 <523D18E1.6000902@abdussamad.com>
Message-ID: <CALri7M=MgN9vGAN1p7-f9hx+dHweBLx_n=3iQkwL3Z2bLfqkqQ@mail.gmail.com>

"On Fri, Sep 20, 2013 at 8:56 PM, Abdussamad Abdurrazzaq
<abdussamad at abdussamad.com> wrote:
> If you want to display the errors on your site instead you can set WP_DEBUG
> to true in wp-config.php. But this is not a good idea from a security point
> of view.

Semi-related info:

Depending on your setup, this is a nice way of logging errors:

"Define WP_DEBUG conditionally / for admins only / log errors (append
query arg for all links?)"
<http://wordpress.stackexchange.com/a/69552/32387>

Essentially:

define('WP_DEBUG', TRUE);
define('WP_DEBUG_LOG', TRUE);
define('WP_DEBUG_DISPLAY', FALSE);
@ini_set('display_errors', 0);

>From there, ssh to server and:

$ tail -f wp-content/debug.log

From hendronix at gmail.com  Sat Sep 21 04:28:04 2013
From: hendronix at gmail.com (Eric Hendrix)
Date: Fri, 20 Sep 2013 21:28:04 -0700 (PDT)
Subject: [wp-hackers] Changed hosts for a multisite,
 now home page and only home page missing
In-Reply-To: <CALri7M=MgN9vGAN1p7-f9hx+dHweBLx_n=3iQkwL3Z2bLfqkqQ@mail.gmail.com>
References: <CALri7M=MgN9vGAN1p7-f9hx+dHweBLx_n=3iQkwL3Z2bLfqkqQ@mail.gmail.com>
Message-ID: <1379737683140.e0de7dac@Nodemailer>

I had a similar problem that I resolved by deleting out the .htaccess file and regenerating it from permalinks.

Eric A. Hendrix
308 McFadyen Drive
Fayetteville, NC
28314
910.644.8940
Hendronix at gmail.com
www.hendronix.com

On Sat, Sep 21, 2013 at 12:04 AM, Micky Hulse <mickyhulse.lists at gmail.com>
wrote:

> "On Fri, Sep 20, 2013 at 8:56 PM, Abdussamad Abdurrazzaq
> <abdussamad at abdussamad.com> wrote:
>> If you want to display the errors on your site instead you can set WP_DEBUG
>> to true in wp-config.php. But this is not a good idea from a security point
>> of view.
> Semi-related info:
> Depending on your setup, this is a nice way of logging errors:
> "Define WP_DEBUG conditionally / for admins only / log errors (append
> query arg for all links?)"
> <http://wordpress.stackexchange.com/a/69552/32387>
> Essentially:
> define('WP_DEBUG', TRUE);
> define('WP_DEBUG_LOG', TRUE);
> define('WP_DEBUG_DISPLAY', FALSE);
> @ini_set('display_errors', 0);
> From there, ssh to server and:
> $ tail -f wp-content/debug.log
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From guido at wp-butler.com  Sat Sep 21 07:50:07 2013
From: guido at wp-butler.com (Guido WP)
Date: Sat, 21 Sep 2013 09:50:07 +0200
Subject: [wp-hackers] Theme Development: load stylesheet with
	wp_enqueue_style
Message-ID: <EB39027F-5755-43B6-9FDE-69443B6CA44F@wp-butler.com>

Hi all,

I'm developing my first (simple) WP Theme and I want to load the main stylesheet with wp_enqueue_style in functions.php.

function my_scripts() {
      wp_enqueue_style( 'main-style', get_template_directory_uri() . '/style.css', false, '1.0', 'all' );
      }
add_action( 'wp_enqueue_scripts', 'my_scripts' );

I tried also get_stylesheet_uri() or get_stylesheet_directory_uri() . '/style.css' instead of get_template_directory_uri.

If I load the stylesheet in the header.php by using a link tag everything is fine.
The file is there, the get_template_directory_uri() function points to the right place - I tested it out by using echo command in frontpage.php

I checked the apache logs, and the wp-logs - there are no error messages.

I don't no where to start further analysis ?

If I use another theme (e.g. twenty thirteen) the functions works - it's the same way the stylesheet is loaded.
That means to me the system is o.k. -  there must be something wrong with my theme.

Are there any tools to analyze the execution process at the php site or set some breakpoints or create some log entries?

Thank you very much for a hint or advise.

Regards, Guido



From danielx386 at gmail.com  Sat Sep 21 07:56:14 2013
From: danielx386 at gmail.com (Daniel)
Date: Sat, 21 Sep 2013 17:56:14 +1000
Subject: [wp-hackers] Theme Development: load stylesheet with
	wp_enqueue_style
In-Reply-To: <EB39027F-5755-43B6-9FDE-69443B6CA44F@wp-butler.com>
References: <EB39027F-5755-43B6-9FDE-69443B6CA44F@wp-butler.com>
Message-ID: <CAJ5Hi2jhxCoCiukKFApyGBKnG=t0zHi2ZZmpeXYso4p6TuiswQ@mail.gmail.com>

Does turning on wp_debug bring up anything? What the source code look
like when view your site? Is the style tag showing?

On 9/21/13, Guido WP <guido at wp-butler.com> wrote:
> Hi all,
>
> I'm developing my first (simple) WP Theme and I want to load the main
> stylesheet with wp_enqueue_style in functions.php.
>
> function my_scripts() {
>       wp_enqueue_style( 'main-style', get_template_directory_uri() .
> '/style.css', false, '1.0', 'all' );
>       }
> add_action( 'wp_enqueue_scripts', 'my_scripts' );
>
> I tried also get_stylesheet_uri() or get_stylesheet_directory_uri() .
> '/style.css' instead of get_template_directory_uri.
>
> If I load the stylesheet in the header.php by using a link tag everything is
> fine.
> The file is there, the get_template_directory_uri() function points to the
> right place - I tested it out by using echo command in frontpage.php
>
> I checked the apache logs, and the wp-logs - there are no error messages.
>
> I don't no where to start further analysis ?
>
> If I use another theme (e.g. twenty thirteen) the functions works - it's the
> same way the stylesheet is loaded.
> That means to me the system is o.k. -  there must be something wrong with my
> theme.
>
> Are there any tools to analyze the execution process at the php site or set
> some breakpoints or create some log entries?
>
> Thank you very much for a hint or advise.
>
> Regards, Guido
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards,
Daniel Fenn

From guido at wp-butler.com  Sat Sep 21 08:02:08 2013
From: guido at wp-butler.com (Guido WP)
Date: Sat, 21 Sep 2013 10:02:08 +0200
Subject: [wp-hackers] Theme Development: load stylesheet with
	wp_enqueue_style
In-Reply-To: <CAJ5Hi2jhxCoCiukKFApyGBKnG=t0zHi2ZZmpeXYso4p6TuiswQ@mail.gmail.com>
References: <EB39027F-5755-43B6-9FDE-69443B6CA44F@wp-butler.com>
 <CAJ5Hi2jhxCoCiukKFApyGBKnG=t0zHi2ZZmpeXYso4p6TuiswQ@mail.gmail.com>
Message-ID: <AFA149D6-4A8B-4103-921A-36B4B92F9CA0@wp-butler.com>

thanks - wp_debug is on - nothing to see
the style tag isn't shown in source code - so that means to me that the function within php is not executing correctly.
anyway if I build in an error (missing ; for example) php recognize that and bring up an error message - so I understand that the functions.php is loading. 
Is there anything I have to have within my directory structure so that wp_enqueue_style or wp_enqueue_script is working correctly?


Am 21.09.2013 um 09:56 schrieb Daniel <danielx386 at gmail.com>:

> Does turning on wp_debug bring up anything? What the source code look
> like when view your site? Is the style tag showing?
> 
> On 9/21/13, Guido WP <guido at wp-butler.com> wrote:
>> Hi all,
>> 
>> I'm developing my first (simple) WP Theme and I want to load the main
>> stylesheet with wp_enqueue_style in functions.php.
>> 
>> function my_scripts() {
>>      wp_enqueue_style( 'main-style', get_template_directory_uri() .
>> '/style.css', false, '1.0', 'all' );
>>      }
>> add_action( 'wp_enqueue_scripts', 'my_scripts' );
>> 
>> I tried also get_stylesheet_uri() or get_stylesheet_directory_uri() .
>> '/style.css' instead of get_template_directory_uri.
>> 
>> If I load the stylesheet in the header.php by using a link tag everything is
>> fine.
>> The file is there, the get_template_directory_uri() function points to the
>> right place - I tested it out by using echo command in frontpage.php
>> 
>> I checked the apache logs, and the wp-logs - there are no error messages.
>> 
>> I don't no where to start further analysis ?
>> 
>> If I use another theme (e.g. twenty thirteen) the functions works - it's the
>> same way the stylesheet is loaded.
>> That means to me the system is o.k. -  there must be something wrong with my
>> theme.
>> 
>> Are there any tools to analyze the execution process at the php site or set
>> some breakpoints or create some log entries?
>> 
>> Thank you very much for a hint or advise.
>> 
>> Regards, Guido
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> -- 
> Regards,
> Daniel Fenn
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From developer at rogerhub.com  Sat Sep 21 08:10:49 2013
From: developer at rogerhub.com (Roger Chen)
Date: Sat, 21 Sep 2013 01:10:49 -0700
Subject: [wp-hackers] Theme Development: load stylesheet with
	wp_enqueue_style
In-Reply-To: <AFA149D6-4A8B-4103-921A-36B4B92F9CA0@wp-butler.com>
References: <EB39027F-5755-43B6-9FDE-69443B6CA44F@wp-butler.com>
 <CAJ5Hi2jhxCoCiukKFApyGBKnG=t0zHi2ZZmpeXYso4p6TuiswQ@mail.gmail.com>
 <AFA149D6-4A8B-4103-921A-36B4B92F9CA0@wp-butler.com>
Message-ID: <CAEdQCeWr4gPPL9Kho+n3rmTbF-fwguOHNCBgJ7FyhSqqAOYRdA@mail.gmail.com>

Make sure you have a call to wp_head() in your header first.

Roger


On Sat, Sep 21, 2013 at 1:02 AM, Guido WP <guido at wp-butler.com> wrote:

> thanks - wp_debug is on - nothing to see
> the style tag isn't shown in source code - so that means to me that the
> function within php is not executing correctly.
> anyway if I build in an error (missing ; for example) php recognize that
> and bring up an error message - so I understand that the functions.php is
> loading.
> Is there anything I have to have within my directory structure so that
> wp_enqueue_style or wp_enqueue_script is working correctly?
>
>
> Am 21.09.2013 um 09:56 schrieb Daniel <danielx386 at gmail.com>:
>
> > Does turning on wp_debug bring up anything? What the source code look
> > like when view your site? Is the style tag showing?
> >
> > On 9/21/13, Guido WP <guido at wp-butler.com> wrote:
> >> Hi all,
> >>
> >> I'm developing my first (simple) WP Theme and I want to load the main
> >> stylesheet with wp_enqueue_style in functions.php.
> >>
> >> function my_scripts() {
> >>      wp_enqueue_style( 'main-style', get_template_directory_uri() .
> >> '/style.css', false, '1.0', 'all' );
> >>      }
> >> add_action( 'wp_enqueue_scripts', 'my_scripts' );
> >>
> >> I tried also get_stylesheet_uri() or get_stylesheet_directory_uri() .
> >> '/style.css' instead of get_template_directory_uri.
> >>
> >> If I load the stylesheet in the header.php by using a link tag
> everything is
> >> fine.
> >> The file is there, the get_template_directory_uri() function points to
> the
> >> right place - I tested it out by using echo command in frontpage.php
> >>
> >> I checked the apache logs, and the wp-logs - there are no error
> messages.
> >>
> >> I don't no where to start further analysis ?
> >>
> >> If I use another theme (e.g. twenty thirteen) the functions works -
> it's the
> >> same way the stylesheet is loaded.
> >> That means to me the system is o.k. -  there must be something wrong
> with my
> >> theme.
> >>
> >> Are there any tools to analyze the execution process at the php site or
> set
> >> some breakpoints or create some log entries?
> >>
> >> Thank you very much for a hint or advise.
> >>
> >> Regards, Guido
> >>
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> > --
> > Regards,
> > Daniel Fenn
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From guido at wp-butler.com  Sat Sep 21 08:14:44 2013
From: guido at wp-butler.com (Guido WP)
Date: Sat, 21 Sep 2013 10:14:44 +0200
Subject: [wp-hackers] Theme Development: load stylesheet with
	wp_enqueue_style
In-Reply-To: <CAEdQCeWr4gPPL9Kho+n3rmTbF-fwguOHNCBgJ7FyhSqqAOYRdA@mail.gmail.com>
References: <EB39027F-5755-43B6-9FDE-69443B6CA44F@wp-butler.com>
 <CAJ5Hi2jhxCoCiukKFApyGBKnG=t0zHi2ZZmpeXYso4p6TuiswQ@mail.gmail.com>
 <AFA149D6-4A8B-4103-921A-36B4B92F9CA0@wp-butler.com>
 <CAEdQCeWr4gPPL9Kho+n3rmTbF-fwguOHNCBgJ7FyhSqqAOYRdA@mail.gmail.com>
Message-ID: <0A92757C-04F3-4394-96F4-48C1964FCF25@wp-butler.com>

ups - thank you Roger, you saved my weekend. 

Am 21.09.2013 um 10:10 schrieb Roger Chen <developer at rogerhub.com>:

> Make sure you have a call to wp_head() in your header first.
> 
> Roger
> 
> 
> On Sat, Sep 21, 2013 at 1:02 AM, Guido WP <guido at wp-butler.com> wrote:
> 
>> thanks - wp_debug is on - nothing to see
>> the style tag isn't shown in source code - so that means to me that the
>> function within php is not executing correctly.
>> anyway if I build in an error (missing ; for example) php recognize that
>> and bring up an error message - so I understand that the functions.php is
>> loading.
>> Is there anything I have to have within my directory structure so that
>> wp_enqueue_style or wp_enqueue_script is working correctly?
>> 
>> 
>> Am 21.09.2013 um 09:56 schrieb Daniel <danielx386 at gmail.com>:
>> 
>>> Does turning on wp_debug bring up anything? What the source code look
>>> like when view your site? Is the style tag showing?
>>> 
>>> On 9/21/13, Guido WP <guido at wp-butler.com> wrote:
>>>> Hi all,
>>>> 
>>>> I'm developing my first (simple) WP Theme and I want to load the main
>>>> stylesheet with wp_enqueue_style in functions.php.
>>>> 
>>>> function my_scripts() {
>>>>     wp_enqueue_style( 'main-style', get_template_directory_uri() .
>>>> '/style.css', false, '1.0', 'all' );
>>>>     }
>>>> add_action( 'wp_enqueue_scripts', 'my_scripts' );
>>>> 
>>>> I tried also get_stylesheet_uri() or get_stylesheet_directory_uri() .
>>>> '/style.css' instead of get_template_directory_uri.
>>>> 
>>>> If I load the stylesheet in the header.php by using a link tag
>> everything is
>>>> fine.
>>>> The file is there, the get_template_directory_uri() function points to
>> the
>>>> right place - I tested it out by using echo command in frontpage.php
>>>> 
>>>> I checked the apache logs, and the wp-logs - there are no error
>> messages.
>>>> 
>>>> I don't no where to start further analysis ?
>>>> 
>>>> If I use another theme (e.g. twenty thirteen) the functions works -
>> it's the
>>>> same way the stylesheet is loaded.
>>>> That means to me the system is o.k. -  there must be something wrong
>> with my
>>>> theme.
>>>> 
>>>> Are there any tools to analyze the execution process at the php site or
>> set
>>>> some breakpoints or create some log entries?
>>>> 
>>>> Thank you very much for a hint or advise.
>>>> 
>>>> Regards, Guido
>>>> 
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> 
>>> 
>>> --
>>> Regards,
>>> Daniel Fenn
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From chris.hearn01 at ntlworld.com  Sat Sep 21 16:20:36 2013
From: chris.hearn01 at ntlworld.com (ChrisHe)
Date: Sat, 21 Sep 2013 09:20:36 -0700 (PDT)
Subject: [wp-hackers] multi step registration for new users?
In-Reply-To: <1379680525300-42347.post@n5.nabble.com>
References: <1379680525300-42347.post@n5.nabble.com>
Message-ID: <1379780436880-42368.post@n5.nabble.com>

IF you don't want to code this yourself, I would suggest looking at plugin
WP-Members - the allows addition of custom fields etc. and is quite
flexible. Offers a few other things, such as ability to block page(s) and/or
post(s) if user is not logged in.
Chris



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/multi-step-registration-for-new-users-tp42347p42368.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From justin at justintadlock.com  Sat Sep 21 16:26:57 2013
From: justin at justintadlock.com (Justin Tadlock)
Date: Sat, 21 Sep 2013 11:26:57 -0500
Subject: [wp-hackers] Theme Development: load stylesheet with
	wp_enqueue_style
In-Reply-To: <0A92757C-04F3-4394-96F4-48C1964FCF25@wp-butler.com>
References: <EB39027F-5755-43B6-9FDE-69443B6CA44F@wp-butler.com>
 <CAJ5Hi2jhxCoCiukKFApyGBKnG=t0zHi2ZZmpeXYso4p6TuiswQ@mail.gmail.com>
 <AFA149D6-4A8B-4103-921A-36B4B92F9CA0@wp-butler.com>
 <CAEdQCeWr4gPPL9Kho+n3rmTbF-fwguOHNCBgJ7FyhSqqAOYRdA@mail.gmail.com>
 <0A92757C-04F3-4394-96F4-48C1964FCF25@wp-butler.com>
Message-ID: <523DC8D1.8060102@justintadlock.com>

Also, make sure you use |get_stylesheet_uri()| (reference 
<http://codex.wordpress.org/Function_Reference/get_stylesheet_uri>) to 
load a theme's |style.css|. Otherwise, some plugins might not work 
correctly.

On 9/21/2013 3:14 AM, Guido WP wrote:

> ups - thank you Roger, you saved my weekend.
>
> Am 21.09.2013 um 10:10 schrieb Roger Chen <developer at rogerhub.com>:
>
>> Make sure you have a call to wp_head() in your header first.
>>
>> Roger
>>
>>
>> On Sat, Sep 21, 2013 at 1:02 AM, Guido WP <guido at wp-butler.com> wrote:
>>
>>> thanks - wp_debug is on - nothing to see
>>> the style tag isn't shown in source code - so that means to me that the
>>> function within php is not executing correctly.
>>> anyway if I build in an error (missing ; for example) php recognize that
>>> and bring up an error message - so I understand that the functions.php is
>>> loading.
>>> Is there anything I have to have within my directory structure so that
>>> wp_enqueue_style or wp_enqueue_script is working correctly?
>>>
>>>
>>> Am 21.09.2013 um 09:56 schrieb Daniel <danielx386 at gmail.com>:
>>>
>>>> Does turning on wp_debug bring up anything? What the source code look
>>>> like when view your site? Is the style tag showing?
>>>>
>>>> On 9/21/13, Guido WP <guido at wp-butler.com> wrote:
>>>>> Hi all,
>>>>>
>>>>> I'm developing my first (simple) WP Theme and I want to load the main
>>>>> stylesheet with wp_enqueue_style in functions.php.
>>>>>
>>>>> function my_scripts() {
>>>>>      wp_enqueue_style( 'main-style', get_template_directory_uri() .
>>>>> '/style.css', false, '1.0', 'all' );
>>>>>      }
>>>>> add_action( 'wp_enqueue_scripts', 'my_scripts' );
>>>>>
>>>>> I tried also get_stylesheet_uri() or get_stylesheet_directory_uri() .
>>>>> '/style.css' instead of get_template_directory_uri.
>>>>>
>>>>> If I load the stylesheet in the header.php by using a link tag
>>> everything is
>>>>> fine.
>>>>> The file is there, the get_template_directory_uri() function points to
>>> the
>>>>> right place - I tested it out by using echo command in frontpage.php
>>>>>
>>>>> I checked the apache logs, and the wp-logs - there are no error
>>> messages.
>>>>> I don't no where to start further analysis ?
>>>>>
>>>>> If I use another theme (e.g. twenty thirteen) the functions works -
>>> it's the
>>>>> same way the stylesheet is loaded.
>>>>> That means to me the system is o.k. -  there must be something wrong
>>> with my
>>>>> theme.
>>>>>
>>>>> Are there any tools to analyze the execution process at the php site or
>>> set
>>>>> some breakpoints or create some log entries?
>>>>>
>>>>> Thank you very much for a hint or advise.
>>>>>
>>>>> Regards, Guido
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>> --
>>>> Regards,
>>>> Daniel Fenn
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From paul at codehooligans.com  Sat Sep 21 23:02:09 2013
From: paul at codehooligans.com (Paul Menard)
Date: Sat, 21 Sep 2013 19:02:09 -0400
Subject: [wp-hackers] WPDB does not seem to support RENAME TABLE query
Message-ID: <212C21F2-39FB-48C0-9FFB-DF054492822D@codehooligans.com>

Maybe I'm missing something. Or maybe this is just an oversight on the wpdb class. 

When calling the SQL RENAME TABLE `table_source` TO `table_dest`;

I get a PHP Warning: errno:2 mysql_fetch_object(): supplied argument is not a valid MySQL result resource /usr/local/www/htdocs/projects/Incsub/local.inc352-snapshot.com/wp-includes/wp-db.php on line 1225

In looking at the wp-db.php code I see where it checks if the query is create, alter, truncate, drop (line 1212). This of course falls through. 

I know I have some options

1. Do my own direct mysql to handle the rename - But I want to try and keep this within WP. Plus it would mean a new DB connection. 

2. Change the query from RENAME TABLE query to something like INSERT INTO `table_dest` SELECT * FROM `table_source`; DROP TABLE `table_source`; This also mean I need to add in the CREATE TABLE query. So seems like multiple steps instead of the clean RENAME TABLE. 

Anyone see what I'm missing? Is there are way to use RENAME TABLE within $wpdb ?

P-


From funkatronic at gmail.com  Sun Sep 22 03:30:21 2013
From: funkatronic at gmail.com (Funkatron)
Date: Sat, 21 Sep 2013 22:30:21 -0500
Subject: [wp-hackers] Changed hosts for a multisite,
	now home page and only home page missing
In-Reply-To: <CA+-Vqo_vr_8dqPdmWHAJ1wLLdQF6Ao9eNsMN_L3xepBDF9Gp-g@mail.gmail.com>
References: <CA+-Vqo_vr_8dqPdmWHAJ1wLLdQF6Ao9eNsMN_L3xepBDF9Gp-g@mail.gmail.com>
Message-ID: <CA+-Vqo_hT5pOs+Y5KqSCnXTo=vaGCNQjnY6J2mar2VhwowMzjA@mail.gmail.com>

Found a solution: the server for some reason was skipping over the
index.php file.  Had to add the following to fix:
DirectoryIndex index.php


On Fri, Sep 20, 2013 at 10:39 PM, Funkatron <funkatronic at gmail.com> wrote:

> I have a perplexing problem I need help resolving: Just switched from
> Bluehost to Dreamhost.  I coppied all my files over, uploaded the database,
> made sure to turn on wildcard domains with the host.  Only one problem: the
> main front page gives me a blank screen.  I can access the admin side, I
> can access the rest of the site including posts, pages, archives, bbPress
> forums, etc.  But the home page just comes up empty.  Same thing with
> subsites: I can acces the pages and admin of those sites, but the home page
> is absent.
>
> Am I missing something here?  I've tried making sure the MU plugin was
> installed correctly, made sure, flushed rewrite rules, changed themes, etc.
>  I can't seem to figure out how much of WP is loaded or whats causing this
> issue.  Any help is greatly appreciated.
>
> Example:
>
> Main site:  http://onepiecepodcast.com (blank)
> Forums: http://onepiecepodcast.com/forums (works)
>

From jdg at codesymphony.co  Sun Sep 22 13:07:17 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Sun, 22 Sep 2013 09:07:17 -0400
Subject: [wp-hackers] WPDB does not seem to support RENAME TABLE query
In-Reply-To: <212C21F2-39FB-48C0-9FFB-DF054492822D@codehooligans.com>
References: <212C21F2-39FB-48C0-9FFB-DF054492822D@codehooligans.com>
Message-ID: <C030B5A5-F1A2-4211-BA88-70AFE25A7080@codesymphony.co>

Are you sure the user has the correct permissions? A search online for "wpdb rename table" (https://www.google.com/search?q=wpdb+rename+table) brings up code in several plugins that seem to have done this. I don't see anything that should stop it. 

And what version of WordPress are you using? Those line number don't seem to match trunk or any of the recent versions (maybe trunk has changed since you posted this).

On Sep 21, 2013, at 7:02 PM, Paul Menard <paul at codehooligans.com> wrote:

> Maybe I'm missing something. Or maybe this is just an oversight on the wpdb class. 
> 
> When calling the SQL RENAME TABLE `table_source` TO `table_dest`;
> 
> I get a PHP Warning: errno:2 mysql_fetch_object(): supplied argument is not a valid MySQL result resource /usr/local/www/htdocs/projects/Incsub/local.inc352-snapshot.com/wp-includes/wp-db.php on line 1225
> 
> In looking at the wp-db.php code I see where it checks if the query is create, alter, truncate, drop (line 1212). This of course falls through. 
> 
> I know I have some options
> 
> 1. Do my own direct mysql to handle the rename - But I want to try and keep this within WP. Plus it would mean a new DB connection. 
> 
> 2. Change the query from RENAME TABLE query to something like INSERT INTO `table_dest` SELECT * FROM `table_source`; DROP TABLE `table_source`; This also mean I need to add in the CREATE TABLE query. So seems like multiple steps instead of the clean RENAME TABLE. 
> 
> Anyone see what I'm missing? Is there are way to use RENAME TABLE within $wpdb ?
> 
> P-
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From paul at codehooligans.com  Sun Sep 22 13:29:39 2013
From: paul at codehooligans.com (Paul Menard)
Date: Sun, 22 Sep 2013 09:29:39 -0400
Subject: [wp-hackers] WPDB does not seem to support RENAME TABLE query
In-Reply-To: <C030B5A5-F1A2-4211-BA88-70AFE25A7080@codesymphony.co>
References: <212C21F2-39FB-48C0-9FFB-DF054492822D@codehooligans.com>
 <C030B5A5-F1A2-4211-BA88-70AFE25A7080@codesymphony.co>
Message-ID: <B9D83D6F-8F08-43B4-9BE9-3A68C9A41B59@codehooligans.com>


On Sep 22, 2013, at 9:07 AM, "J.D. Grimes" <jdg at codesymphony.co> wrote:

> Are you sure the user has the correct permissions? A search online for "wpdb rename table" (https://www.google.com/search?q=wpdb+rename+table) brings up code in several plugins that seem to have done this. I don't see anything that should stop it. 
> 
> And what version of WordPress are you using? Those line number don't seem to match trunk or any of the recent versions (maybe trunk has changed since you posted this).


Yes, of course. The RENAME TABLE still executes. Just the pesky PHP Warning. The WordPress version I'm using 3.5.2 only because that is where the environment is setup. But same issue with 3.6 and 3.6.1. Yes, the line number is off because I had attempted to add some debug into the core code to see what was happening. Apologies. The correct line number for the PHP Warning is 1227 This is the code from WP 3.6 wp-db.php in the function query() It is in the while loop where the PHP Warning is generated. The warning is shown because $this->result is not set. There should at least be some check to ensure $this->result is set before passing into the while. 

	if ( preg_match( '/^\s*(create|alter|truncate|drop)\s/i', $query ) ) {
		$return_val = $this->result;
	} elseif ( preg_match( '/^\s*(insert|delete|update|replace)\s/i', $query ) ) {
		$this->rows_affected = mysql_affected_rows( $this->dbh );
		// Take note of the insert_id
		if ( preg_match( '/^\s*(insert|replace)\s/i', $query ) ) {
			$this->insert_id = mysql_insert_id($this->dbh);
		}
		// Return number of rows affected
		$return_val = $this->rows_affected;
	} else {
		$num_rows = 0;
		while ( $row = @mysql_fetch_object( $this->result ) ) {		<-- result not set when RENAME
			$this->last_result[$num_rows] = $row;
			$num_rows++;
		}

		// Log number of rows the query returned
		// and return number of rows selected
		$this->num_rows = $num_rows;
		$return_val     = $num_rows;
	}


The real issue however is at line 1215 (see first preg_match line above). The wpdb class has some crufty logic in that is attempts to figure out which queries would not return results. So in the current case CREATE, ALTER, TRUNCATE and DROP. I suggest adding 'rename' to that preg_match argument list since 'rename' is a valid SQL command. 

Without the 'RENAME' in the first if the logic falls through to the ELSE where the while loop generates the PHP warning. 


My solution as of this morning is to sub-cloass wpdb and replace the query function with my own version which includes the 'rename' as part of the preg_replace argument. This at least solves my issue. 


From jdg at codesymphony.co  Sun Sep 22 13:39:16 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Sun, 22 Sep 2013 09:39:16 -0400
Subject: [wp-hackers] WPDB does not seem to support RENAME TABLE query
In-Reply-To: <B9D83D6F-8F08-43B4-9BE9-3A68C9A41B59@codehooligans.com>
References: <212C21F2-39FB-48C0-9FFB-DF054492822D@codehooligans.com>
 <C030B5A5-F1A2-4211-BA88-70AFE25A7080@codesymphony.co>
 <B9D83D6F-8F08-43B4-9BE9-3A68C9A41B59@codehooligans.com>
Message-ID: <B50B5DCD-8B9B-4927-9F16-BE662132ED07@codesymphony.co>

Yes, I see what you are saying now - the line numbers where throwing me off. I suggest that you open up a ticket for this on Trac, and maybe submit a patch as well. 

http://core.trac.wordpress.org/

On Sep 22, 2013, at 9:29 AM, Paul Menard <paul at codehooligans.com> wrote:

> 
> On Sep 22, 2013, at 9:07 AM, "J.D. Grimes" <jdg at codesymphony.co> wrote:
> 
>> Are you sure the user has the correct permissions? A search online for "wpdb rename table" (https://www.google.com/search?q=wpdb+rename+table) brings up code in several plugins that seem to have done this. I don't see anything that should stop it. 
>> 
>> And what version of WordPress are you using? Those line number don't seem to match trunk or any of the recent versions (maybe trunk has changed since you posted this).
> 
> 
> Yes, of course. The RENAME TABLE still executes. Just the pesky PHP Warning. The WordPress version I'm using 3.5.2 only because that is where the environment is setup. But same issue with 3.6 and 3.6.1. Yes, the line number is off because I had attempted to add some debug into the core code to see what was happening. Apologies. The correct line number for the PHP Warning is 1227 This is the code from WP 3.6 wp-db.php in the function query() It is in the while loop where the PHP Warning is generated. The warning is shown because $this->result is not set. There should at least be some check to ensure $this->result is set before passing into the while. 
> 
> 	if ( preg_match( '/^\s*(create|alter|truncate|drop)\s/i', $query ) ) {
> 		$return_val = $this->result;
> 	} elseif ( preg_match( '/^\s*(insert|delete|update|replace)\s/i', $query ) ) {
> 		$this->rows_affected = mysql_affected_rows( $this->dbh );
> 		// Take note of the insert_id
> 		if ( preg_match( '/^\s*(insert|replace)\s/i', $query ) ) {
> 			$this->insert_id = mysql_insert_id($this->dbh);
> 		}
> 		// Return number of rows affected
> 		$return_val = $this->rows_affected;
> 	} else {
> 		$num_rows = 0;
> 		while ( $row = @mysql_fetch_object( $this->result ) ) {		<-- result not set when RENAME
> 			$this->last_result[$num_rows] = $row;
> 			$num_rows++;
> 		}
> 
> 		// Log number of rows the query returned
> 		// and return number of rows selected
> 		$this->num_rows = $num_rows;
> 		$return_val     = $num_rows;
> 	}
> 
> 
> The real issue however is at line 1215 (see first preg_match line above). The wpdb class has some crufty logic in that is attempts to figure out which queries would not return results. So in the current case CREATE, ALTER, TRUNCATE and DROP. I suggest adding 'rename' to that preg_match argument list since 'rename' is a valid SQL command. 
> 
> Without the 'RENAME' in the first if the logic falls through to the ELSE where the while loop generates the PHP warning. 
> 
> 
> My solution as of this morning is to sub-cloass wpdb and replace the query function with my own version which includes the 'rename' as part of the preg_replace argument. This at least solves my issue. 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Sun Sep 22 18:24:08 2013
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 22 Sep 2013 14:24:08 -0400
Subject: [wp-hackers] WPDB does not seem to support RENAME TABLE query
In-Reply-To: <212C21F2-39FB-48C0-9FFB-DF054492822D@codehooligans.com>
References: <212C21F2-39FB-48C0-9FFB-DF054492822D@codehooligans.com>
Message-ID: <CAP29PvgA7AFgNgcHxpBs+DDXG8ki_mJaFXBNzmsdaRYRLc97yw@mail.gmail.com>

On Sat, Sep 21, 2013 at 7:02 PM, Paul Menard <paul at codehooligans.com> wrote:

> Maybe I'm missing something. Or maybe this is just an oversight on the
> wpdb class.
>
> When calling the SQL RENAME TABLE `table_source` TO `table_dest`;
>
> I get a PHP Warning: errno:2 mysql_fetch_object(): supplied argument is
> not a valid MySQL result resource /usr/local/www/htdocs/projects/Incsub/
> local.inc352-snapshot.com/wp-includes/wp-db.php on line 1225
>

I've honestly never seen someone need to use wpdb to rename a table at
runtime. Nothing wrong with wp-db.php being patched to support this. That
said, this should work: ALTER TABLE old_name RENAME new_name;

Nacin

From paul at codehooligans.com  Sun Sep 22 20:12:04 2013
From: paul at codehooligans.com (Paul Menard)
Date: Sun, 22 Sep 2013 16:12:04 -0400
Subject: [wp-hackers] WPDB does not seem to support RENAME TABLE query
In-Reply-To: <CAP29PvgA7AFgNgcHxpBs+DDXG8ki_mJaFXBNzmsdaRYRLc97yw@mail.gmail.com>
References: <212C21F2-39FB-48C0-9FFB-DF054492822D@codehooligans.com>
 <CAP29PvgA7AFgNgcHxpBs+DDXG8ki_mJaFXBNzmsdaRYRLc97yw@mail.gmail.com>
Message-ID: <B40EADC2-E130-4868-AABE-0F053BAF2A23@codehooligans.com>


On Sep 22, 2013, at 2:24 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> I've honestly never seen someone need to use wpdb to rename a table at
> runtime. Nothing wrong with wp-db.php being patched to support this. That
> said, this should work: ALTER TABLE old_name RENAME new_name;
> 
> Nacin

Thanks Nacin, yeah, I guess that is one way to get past the issue. 

From chris at lod.com  Sun Sep 22 22:28:37 2013
From: chris at lod.com (Chris McCoy)
Date: Sun, 22 Sep 2013 18:28:37 -0400
Subject: [wp-hackers] WPDB does not seem to support RENAME TABLE query
In-Reply-To: <CAP29PvgA7AFgNgcHxpBs+DDXG8ki_mJaFXBNzmsdaRYRLc97yw@mail.gmail.com>
Message-ID: <CE64E734.3778%chris@lod.com>

Curious about this, is it really good practice to rename a table in a
plugin from a security standpoint?


On 2013-09-22 2:24 PM, "Andrew Nacin" <wp at andrewnacin.com> wrote:

>On Sat, Sep 21, 2013 at 7:02 PM, Paul Menard <paul at codehooligans.com>
>wrote:
>
>> Maybe I'm missing something. Or maybe this is just an oversight on the
>> wpdb class.
>>
>> When calling the SQL RENAME TABLE `table_source` TO `table_dest`;
>>
>> I get a PHP Warning: errno:2 mysql_fetch_object(): supplied argument is
>> not a valid MySQL result resource /usr/local/www/htdocs/projects/Incsub/
>> local.inc352-snapshot.com/wp-includes/wp-db.php on line 1225
>>
>
>I've honestly never seen someone need to use wpdb to rename a table at
>runtime. Nothing wrong with wp-db.php being patched to support this. That
>said, this should work: ALTER TABLE old_name RENAME new_name;
>
>Nacin
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers



From paul at codehooligans.com  Sun Sep 22 23:18:29 2013
From: paul at codehooligans.com (Paul Menard)
Date: Sun, 22 Sep 2013 19:18:29 -0400
Subject: [wp-hackers] WPDB does not seem to support RENAME TABLE query
In-Reply-To: <CE64E734.3778%chris@lod.com>
References: <CE64E734.3778%chris@lod.com>
Message-ID: <9756D107-EDD5-4670-A59A-C3D99282E7BD@codehooligans.com>

How/Why would it be a security concern? The plugin owns the table. This is not a WP core table. The RENAME command requires the same user permissions, ALTER and DROP, as most other WP DB function. Thought the DROP is rarely used. And really it is no different than doing a multiple step SQL comment to 1) DROP the destination table, 2) CREATE TABLE the new destination table, 3) SELECT INSERT INTO from the source to the destination, 4) DROP the source table.

Not that I want to get into the how/why processing of the plugin. Which really was not my point. This is for a very specific client use and not something to distribute to the general public. While the source table is being loaded from a previous export we didn't want to load directly into the live table because the size is upwards of 2G. Plus the data is meant to replace the existing table. So we are loading to a temporary named table first. This lets queries against the live table occur without issue. Once the load finishes the live table is dropped and the RENAME occurs. Simple as that. 

P-




On Sep 22, 2013, at 6:28 PM, Chris McCoy <chris at lod.com> wrote:

> Curious about this, is it really good practice to rename a table in a
> plugin from a security standpoint?
> 
> 
> On 2013-09-22 2:24 PM, "Andrew Nacin" <wp at andrewnacin.com> wrote:
> 
>> On Sat, Sep 21, 2013 at 7:02 PM, Paul Menard <paul at codehooligans.com>
>> wrote:
>> 
>>> Maybe I'm missing something. Or maybe this is just an oversight on the
>>> wpdb class.
>>> 
>>> When calling the SQL RENAME TABLE `table_source` TO `table_dest`;
>>> 
>>> I get a PHP Warning: errno:2 mysql_fetch_object(): supplied argument is
>>> not a valid MySQL result resource /usr/local/www/htdocs/projects/Incsub/
>>> local.inc352-snapshot.com/wp-includes/wp-db.php on line 1225
>>> 
>> 
>> I've honestly never seen someone need to use wpdb to rename a table at
>> runtime. Nothing wrong with wp-db.php being patched to support this. That
>> said, this should work: ALTER TABLE old_name RENAME new_name;
>> 
>> Nacin
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jdg at codesymphony.co  Tue Sep 24 21:59:48 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Tue, 24 Sep 2013 17:59:48 -0400
Subject: [wp-hackers] Non-gettexted string detection tools?
Message-ID: <F1E594E1-910E-451E-B2F5-C09B3F4F6382@codesymphony.co>

Hello hackers,

I'm wondering if there are any tools out there that automatically parse a plugin/theme file and detect any strings that haven't been made translatable. I've looked at the i18n tools (http://core.trac.wordpress.org/browser/trunk/tools/i18n/) but none of those seem to do this exactly (am I wrong?). Does anyone know if something like this exists?

Thanks,

J.D.

From mailing at markoheijnen.nl  Tue Sep 24 22:07:59 2013
From: mailing at markoheijnen.nl (Marko Heijnen)
Date: Wed, 25 Sep 2013 00:07:59 +0200
Subject: [wp-hackers] Non-gettexted string detection tools?
In-Reply-To: <F1E594E1-910E-451E-B2F5-C09B3F4F6382@codesymphony.co>
References: <F1E594E1-910E-451E-B2F5-C09B3F4F6382@codesymphony.co>
Message-ID: <B71693A0-744D-4D58-8CC8-801002F71B12@markoheijnen.nl>

That is a really good question. As far as I know i18n tools only add a textdomain or create a pot file.
I do like the idea but it will lead to false detection of strings that don't need to be translated.

Marko

Op 24 sep. 2013, om 23:59 heeft J.D. Grimes <jdg at codesymphony.co> het volgende geschreven:

> Hello hackers,
> 
> I'm wondering if there are any tools out there that automatically parse a plugin/theme file and detect any strings that haven't been made translatable. I've looked at the i18n tools (http://core.trac.wordpress.org/browser/trunk/tools/i18n/) but none of those seem to do this exactly (am I wrong?). Does anyone know if something like this exists?
> 
> Thanks,
> 
> J.D.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jdg at codesymphony.co  Tue Sep 24 22:11:02 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Tue, 24 Sep 2013 18:11:02 -0400
Subject: [wp-hackers] Non-gettexted string detection tools?
In-Reply-To: <B71693A0-744D-4D58-8CC8-801002F71B12@markoheijnen.nl>
References: <F1E594E1-910E-451E-B2F5-C09B3F4F6382@codesymphony.co>
 <B71693A0-744D-4D58-8CC8-801002F71B12@markoheijnen.nl>
Message-ID: <EC97838D-7824-4AB2-9675-CA7F310938AD@codesymphony.co>

Yeah, I know it will lead to false detection, but it could be made to cache the false positives so that after the first run it would ignore them?

J.D.

On Sep 24, 2013, at 6:07 PM, Marko Heijnen <mailing at markoheijnen.nl> wrote:

> That is a really good question. As far as I know i18n tools only add a textdomain or create a pot file.
> I do like the idea but it will lead to false detection of strings that don't need to be translated.
> 
> Marko
> 


From lukebryan at sharefaith.com  Tue Sep 24 22:44:01 2013
From: lukebryan at sharefaith.com (Luke Bryan)
Date: Tue, 24 Sep 2013 15:44:01 -0700
Subject: [wp-hackers] Purpose of 'draft' nav-menu items?
Message-ID: <CAFnKAk2i4zq96P7P80duMVGYtmpJfj7RCVW_xY-Q7-HxK8TJew@mail.gmail.com>

Greetings all,

I noticed that on every "add" of a menu item, WP is creating a new draft
for the nav menu item, even when not saved.

You can see these with:

SELECT * FROM `wp_posts` where post_type='nav_menu_item'

I was wondering what purpose draft menus are - it appears they are nowhere
visible after clicking add, and cancelling. Is there a way to clean these
up? Is it automatic?

Best regards,
Luke

From info at bungeshea.com  Tue Sep 24 23:30:05 2013
From: info at bungeshea.com (Shea Bunge)
Date: Wed, 25 Sep 2013 09:30:05 +1000
Subject: [wp-hackers] Non-gettexted string detection tools?
In-Reply-To: <EC97838D-7824-4AB2-9675-CA7F310938AD@codesymphony.co>
References: <F1E594E1-910E-451E-B2F5-C09B3F4F6382@codesymphony.co>
 <B71693A0-744D-4D58-8CC8-801002F71B12@markoheijnen.nl>
 <EC97838D-7824-4AB2-9675-CA7F310938AD@codesymphony.co>
Message-ID: <CAJLbkRZu3FAG0TBFxZtzo9GHiu0qaAgPpFwGs9mzktjKy0AsYQ@mail.gmail.com>

You can try the Pig Latin <http://wordpress.org/plugins/piglatin/> plugin
that displays all translatable strings as Pig
Latin<http://en.wikipedia.org/wiki/Pig_Latin>.
This way, all untranslated strings stick out.

On Wed, Sep 25, 2013 at 8:11 AM, J.D. Grimes <jdg at codesymphony.co> wrote:

> Yeah, I know it will lead to false detection, but it could be made to
> cache the false positives so that after the first run it would ignore them?
>
> J.D.
>
> On Sep 24, 2013, at 6:07 PM, Marko Heijnen <mailing at markoheijnen.nl>
> wrote:
>
> > That is a really good question. As far as I know i18n tools only add a
> textdomain or create a pot file.
> > I do like the idea but it will lead to false detection of strings that
> don't need to be translated.
> >
> > Marko
> >
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards,

Shea Bunge
http://bungeshea.com

From otto at ottodestruct.com  Tue Sep 24 23:35:46 2013
From: otto at ottodestruct.com (Otto)
Date: Tue, 24 Sep 2013 18:35:46 -0500
Subject: [wp-hackers] Purpose of 'draft' nav-menu items?
In-Reply-To: <CAFnKAk2i4zq96P7P80duMVGYtmpJfj7RCVW_xY-Q7-HxK8TJew@mail.gmail.com>
References: <CAFnKAk2i4zq96P7P80duMVGYtmpJfj7RCVW_xY-Q7-HxK8TJew@mail.gmail.com>
Message-ID: <CAD-FghyM=bx7DBB1OOfQ_4rSC=M54A+HANmynv_Pw471pOYO5A@mail.gmail.com>

Does it have a post status of "auto-draft"? The auto-drafts are
created for reserving the ID, I believe. They get cleaned up after 7
days.


-Otto


On Tue, Sep 24, 2013 at 5:44 PM, Luke Bryan <lukebryan at sharefaith.com> wrote:
> Greetings all,
>
> I noticed that on every "add" of a menu item, WP is creating a new draft
> for the nav menu item, even when not saved.
>
> You can see these with:
>
> SELECT * FROM `wp_posts` where post_type='nav_menu_item'
>
> I was wondering what purpose draft menus are - it appears they are nowhere
> visible after clicking add, and cancelling. Is there a way to clean these
> up? Is it automatic?
>
> Best regards,
> Luke
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp at andrewnacin.com  Wed Sep 25 00:32:38 2013
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 24 Sep 2013 20:32:38 -0400
Subject: [wp-hackers] Non-gettexted string detection tools?
In-Reply-To: <CAJLbkRZu3FAG0TBFxZtzo9GHiu0qaAgPpFwGs9mzktjKy0AsYQ@mail.gmail.com>
References: <F1E594E1-910E-451E-B2F5-C09B3F4F6382@codesymphony.co>
 <B71693A0-744D-4D58-8CC8-801002F71B12@markoheijnen.nl>
 <EC97838D-7824-4AB2-9675-CA7F310938AD@codesymphony.co>
 <CAJLbkRZu3FAG0TBFxZtzo9GHiu0qaAgPpFwGs9mzktjKy0AsYQ@mail.gmail.com>
Message-ID: <CAP29Pvi-m5G1G4z=a1W9=8ZodMQvrYKvWVK8=RXVTsQHedn1XA@mail.gmail.com>

On Tue, Sep 24, 2013 at 7:30 PM, Shea Bunge <info at bungeshea.com> wrote:

> You can try the Pig Latin <http://wordpress.org/plugins/piglatin/> plugin
> that displays all translatable strings as Pig
> Latin<http://en.wikipedia.org/wiki/Pig_Latin>.
> This way, all untranslated strings stick out.
>
> Others might laugh, but this is pretty standard practice.

Others prefer an encheferizer.
http://en.wikipedia.org/wiki/Swedish_Chef#Computer_translations

For something more jarring, try:

$empty_string = function() { return ''; };
foreach ( array( 'gettext', 'ngettext' ) as $filter ) {
    add_filter( $filter, $empty_string );
    add_filter( $filter . '_with_context', $empty_string );
}

From mpwalsh8 at gmail.com  Wed Sep 25 02:29:23 2013
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Tue, 24 Sep 2013 22:29:23 -0400
Subject: [wp-hackers] Help with get_users()
Message-ID: <CAMg3evGAf+GrL5qbZ6bGEJL9FRD1i630fXT2fk=So4GfXA8guQ@mail.gmail.com>

I am trying to use get_users() to retrieve a collection of users based on
some meta data.  So far, I have been unsuccessful.  I want to use
get_users() replace this query.

$query = " SELECT ID, display_name, user_email, user_login, "
            . "m1.meta_value first_name, m2.meta_value last_name, "
            . "m3.meta_value massemail, m4.meta_value notifications "
            . "FROM $wpdb->users u "
            . "LEFT JOIN $wpdb->usermeta m1 ON "
            . "(m1.user_id = u.ID AND m1.meta_key = 'first_name') "
            . "LEFT JOIN $wpdb->usermeta m2 ON "
            . "(m2.user_id = u.ID AND m2.meta_key = 'last_name') "
            . "LEFT JOIN $wpdb->usermeta m3 ON "
            . "(m3.user_id = u.ID AND m3.meta_key = '" .
MAILUSERS_ACCEPT_MASS_EMAIL_USER_META . "') "
            . "LEFT JOIN $wpdb->usermeta m4 ON "
            . "(m4.user_id = u.ID AND m4.meta_key = '" .
MAILUSERS_ACCEPT_NOTIFICATION_USER_META . "') " ;


I am not sure something like this is possible with get_users(), but if
anyone has any pointers to something similar I can look at I'd appreciate
any pointers.

-- 
Mike Walsh - mpwalsh8 at gmail.com

From chris at lod.com  Wed Sep 25 03:06:15 2013
From: chris at lod.com (Chris McCoy)
Date: Tue, 24 Sep 2013 23:06:15 -0400
Subject: [wp-hackers] Help with get_users()
In-Reply-To: <CAMg3evGAf+GrL5qbZ6bGEJL9FRD1i630fXT2fk=So4GfXA8guQ@mail.gmail.com>
Message-ID: <CE67CB47.38F1%chris@lod.com>

Why not use the wp user query?

http://codex.wordpress.org/Class_Reference/WP_User_Query




On 2013-09-24 10:29 PM, "Mike Walsh" <mpwalsh8 at gmail.com> wrote:

>I am trying to use get_users() to retrieve a collection of users based on
>some meta data.  So far, I have been unsuccessful.  I want to use
>get_users() replace this query.
>
>$query = " SELECT ID, display_name, user_email, user_login, "
>            . "m1.meta_value first_name, m2.meta_value last_name, "
>            . "m3.meta_value massemail, m4.meta_value notifications "
>            . "FROM $wpdb->users u "
>            . "LEFT JOIN $wpdb->usermeta m1 ON "
>            . "(m1.user_id = u.ID AND m1.meta_key = 'first_name') "
>            . "LEFT JOIN $wpdb->usermeta m2 ON "
>            . "(m2.user_id = u.ID AND m2.meta_key = 'last_name') "
>            . "LEFT JOIN $wpdb->usermeta m3 ON "
>            . "(m3.user_id = u.ID AND m3.meta_key = '" .
>MAILUSERS_ACCEPT_MASS_EMAIL_USER_META . "') "
>            . "LEFT JOIN $wpdb->usermeta m4 ON "
>            . "(m4.user_id = u.ID AND m4.meta_key = '" .
>MAILUSERS_ACCEPT_NOTIFICATION_USER_META . "') " ;
>
>
>I am not sure something like this is possible with get_users(), but if
>anyone has any pointers to something similar I can look at I'd appreciate
>any pointers.
>
>-- 
>Mike Walsh - mpwalsh8 at gmail.com
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers



From nikolov.tmw at gmail.com  Wed Sep 25 07:21:25 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Wed, 25 Sep 2013 10:21:25 +0300
Subject: [wp-hackers] Non-gettexted string detection tools?
In-Reply-To: <CAP29Pvi-m5G1G4z=a1W9=8ZodMQvrYKvWVK8=RXVTsQHedn1XA@mail.gmail.com>
References: <F1E594E1-910E-451E-B2F5-C09B3F4F6382@codesymphony.co>
 <B71693A0-744D-4D58-8CC8-801002F71B12@markoheijnen.nl>
 <EC97838D-7824-4AB2-9675-CA7F310938AD@codesymphony.co>
 <CAJLbkRZu3FAG0TBFxZtzo9GHiu0qaAgPpFwGs9mzktjKy0AsYQ@mail.gmail.com>
 <CAP29Pvi-m5G1G4z=a1W9=8ZodMQvrYKvWVK8=RXVTsQHedn1XA@mail.gmail.com>
Message-ID: <CAOwx47c6N8H-GG9xGwt6ZqMARhqXe8DssfVYj2iOD_fZKJZ0WA@mail.gmail.com>

What I feel like you're aiming for is parsing php files and finding any
un-translated strings in there.

The plugin that I regularly use in order to edit/create .po/.mo files -
http://wordpress.org/plugins/codestyling-localization/ - does something
similar, except for it only looks for translated strings. My recommendation
would be to take a look at it's code(more specifically the
"/includes/class.parser.php" file -
http://plugins.svn.wordpress.org/codestyling-localization/trunk/includes/class.parser.php
)
and try to adjust it to ignore any strings that have already been
translated and collect the ones that haven't.

I think that code is a good place to start and you can probably do that
with just a simple file in the beginning and then move on to series of
files in a plugin/theme.

Good luck with that and I'd like to know when you get it done :)

Nikola


On Wed, Sep 25, 2013 at 3:32 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Tue, Sep 24, 2013 at 7:30 PM, Shea Bunge <info at bungeshea.com> wrote:
>
> > You can try the Pig Latin <http://wordpress.org/plugins/piglatin/>
> plugin
> > that displays all translatable strings as Pig
> > Latin<http://en.wikipedia.org/wiki/Pig_Latin>.
> > This way, all untranslated strings stick out.
> >
> > Others might laugh, but this is pretty standard practice.
>
> Others prefer an encheferizer.
> http://en.wikipedia.org/wiki/Swedish_Chef#Computer_translations
>
> For something more jarring, try:
>
> $empty_string = function() { return ''; };
> foreach ( array( 'gettext', 'ngettext' ) as $filter ) {
>     add_filter( $filter, $empty_string );
>     add_filter( $filter . '_with_context', $empty_string );
> }
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Wed Sep 25 14:06:59 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Wed, 25 Sep 2013 10:06:59 -0400
Subject: [wp-hackers] Non-gettexted string detection tools?
In-Reply-To: <CAOwx47c6N8H-GG9xGwt6ZqMARhqXe8DssfVYj2iOD_fZKJZ0WA@mail.gmail.com>
References: <F1E594E1-910E-451E-B2F5-C09B3F4F6382@codesymphony.co>
 <B71693A0-744D-4D58-8CC8-801002F71B12@markoheijnen.nl>
 <EC97838D-7824-4AB2-9675-CA7F310938AD@codesymphony.co>
 <CAJLbkRZu3FAG0TBFxZtzo9GHiu0qaAgPpFwGs9mzktjKy0AsYQ@mail.gmail.com>
 <CAP29Pvi-m5G1G4z=a1W9=8ZodMQvrYKvWVK8=RXVTsQHedn1XA@mail.gmail.com>
 <CAOwx47c6N8H-GG9xGwt6ZqMARhqXe8DssfVYj2iOD_fZKJZ0WA@mail.gmail.com>
Message-ID: <423B836D-F9F2-4241-982A-4E18958FF1A9@codesymphony.co>

Thank you all for the links!

I think I'm going to follow Nikola's idea. And I'll be sure to share the results back here when I'm done.

Thanks,

J.D.

On Sep 25, 2013, at 3:21 AM, Nikola Nikolov <nikolov.tmw at gmail.com> wrote:

> What I feel like you're aiming for is parsing php files and finding any
> un-translated strings in there.
> 
> The plugin that I regularly use in order to edit/create .po/.mo files -
> http://wordpress.org/plugins/codestyling-localization/ - does something
> similar, except for it only looks for translated strings. My recommendation
> would be to take a look at it's code(more specifically the
> "/includes/class.parser.php" file -
> http://plugins.svn.wordpress.org/codestyling-localization/trunk/includes/class.parser.php
> )
> and try to adjust it to ignore any strings that have already been
> translated and collect the ones that haven't.
> 
> I think that code is a good place to start and you can probably do that
> with just a simple file in the beginning and then move on to series of
> files in a plugin/theme.
> 
> Good luck with that and I'd like to know when you get it done :)
> 
> Nikola
> 
> 
> On Wed, Sep 25, 2013 at 3:32 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
> 
>> On Tue, Sep 24, 2013 at 7:30 PM, Shea Bunge <info at bungeshea.com> wrote:
>> 
>>> You can try the Pig Latin <http://wordpress.org/plugins/piglatin/>
>> plugin
>>> that displays all translatable strings as Pig
>>> Latin<http://en.wikipedia.org/wiki/Pig_Latin>.
>>> This way, all untranslated strings stick out.
>>> 
>>> Others might laugh, but this is pretty standard practice.
>> 
>> Others prefer an encheferizer.
>> http://en.wikipedia.org/wiki/Swedish_Chef#Computer_translations
>> 
>> For something more jarring, try:
>> 
>> $empty_string = function() { return ''; };
>> foreach ( array( 'gettext', 'ngettext' ) as $filter ) {
>>    add_filter( $filter, $empty_string );
>>    add_filter( $filter . '_with_context', $empty_string );
>> }
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From d.v.gwyer at presscoders.com  Wed Sep 25 16:50:06 2013
From: d.v.gwyer at presscoders.com (dgwyer)
Date: Wed, 25 Sep 2013 09:50:06 -0700 (PDT)
Subject: [wp-hackers] Manually refresh the customizer preview iframe via
 wp.customise JS object
Message-ID: <1380127806646-42390.post@n5.nabble.com>

I'm trying to do a manual refresh on the customizer preview iframe, via the
JS wp.customize object. If I know a customizer setting ID I know I can do
something like (thanks Otto):

wp.customize.instance('header_textcolor').previewer.refresh();

Can I do something similar to refresh the preview iframe generally?

My use case is that when the 'Save & Publish' button is clicked the color
picker values are written to a static stylesheet file (which is then
enqueued before the main theme stylesheet). The key issue is the preview
iframe needs to be manually refreshed after a successful save operation to
display the new statics stylesheet.

I was intending to hook into the ajax 'custom_save' .success() event to
refresh the preview iframe. I'm just not sure of the command needed to
manually refresh the window. I'm assuming this is possible?



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Manually-refresh-the-customizer-preview-iframe-via-wp-customise-JS-object-tp42390.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From mpwalsh8 at gmail.com  Wed Sep 25 16:53:16 2013
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Wed, 25 Sep 2013 12:53:16 -0400
Subject: [wp-hackers] Help with get_users()
In-Reply-To: <CE67CB47.38F1%chris@lod.com>
References: <CAMg3evGAf+GrL5qbZ6bGEJL9FRD1i630fXT2fk=So4GfXA8guQ@mail.gmail.com>
 <CE67CB47.38F1%chris@lod.com>
Message-ID: <CAMg3evEHmJydWfG9zt_ZaTk1cL3Rfnz6qe+=kDiyszZqx7oURQ@mail.gmail.com>

It turns out I had forgotten that get_users() has some "magic"
functionality and I was all wrapped around the axel trying to figure out
how to return the user meta data I wanted via get_users().  I don't have to
do anything special, it does it automatically.

See:  http://lists.automattic.com/pipermail/wp-hackers/2012-June/043340.html
See also:  http://scribu.net/wordpress/the-magic-of-wp_user.html

Once I remembered this I got back on track quickly and resolved my problem
and have eliminated the complex query.  I was helping a user with one of my
plugins and determined that the original query was causing this MySQL error:

#1104 - The SELECT would examine more than MAX_JOIN_SIZE rows; check your
WHERE and use SET SQL_BIG_SELECTS=1 or SET SQL_MAX_JOIN_SIZE=# if the
SELECT is okay

Mike

On Tue, Sep 24, 2013 at 11:06 PM, Chris McCoy <chris at lod.com> wrote:

> Why not use the wp user query?
>
> http://codex.wordpress.org/Class_Reference/WP_User_Query
>
> [ ... snipped ... ]

From greglancaster71 at gmail.com  Wed Sep 25 17:00:18 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 25 Sep 2013 10:00:18 -0700 (PDT)
Subject: [wp-hackers] Delete Row - Refreshes Page but not DB
Message-ID: <1380128418290-42392.post@n5.nabble.com>

The following code I wrote to perform two functions. Delete a row matching
the the row[id] and to also erase the associated attachment post. It
functions - The code shows the delete button in every row, and when pressed
the row is deleted. However after pressing delete the page is refreshed (not
sure why, I dont have any onclick or onsubmit events set) and the row
remains until a manual refresh is performed. Need a little assistance
figuring why;

<?php      
if (isset($_POST['id'])) {
$id = $_POST['id'];
if (isset($_POST['deleteItem'])) {
get_delete_post_link( get_the_ID($row['file']));
$qry = "DELETE FROM wp_jo_plugin_options WHERE id = ".$id."";
$jo_remove_row = $wpdb->query($qry);
}    
} 
?>


Here is the code responsible for showing the table.

<?php 
$jo_max_rows = get_option( 'jo_plugin_options'); 
$result_array = $wpdb->get_results('SELECT * FROM '. $wpdb->prefix .
jo_plugin_options .' WHERE user_id = '. $userid .' ORDER BY date DESC',
ARRAY_A);
$i = 0;
$limit = $jo_max_rows['jo_max_records'];
$count = count($result_array);
while ($i < $limit && $i < $count) 
{
$row = $result_array[$i];
$jo_pic_icon = wp_get_attachment_url( $row['file'] ); 
?>




<?php echo $row['date']; ?>
<?php echo $row['length'] . '' . $selected ?>

<?php echo $row['ground'] . '' . $selected ?>

<?php $del_hide = (isset($table_fields['jo_checkbox_del']));
if (!$del_hide) { ?>



<form method="post" action="" />
    <input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;&lt;?php
echo $row['id']; ?>" />
    <button type="submit" name="deleteItem" value="delete"
class=""></button>
    <?php } else { }; ?>
</form>


<?php if(!empty($row['file'])) { ?>
<a href=&quot;&lt;?php echo $jo_pic_icon; ?>"> 
<? } else { }; ?>


<?php 
    ++$i; }
?>



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Delete-Row-Refreshes-Page-but-not-DB-tp42392.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From greglancaster71 at gmail.com  Wed Sep 25 17:03:55 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 25 Sep 2013 10:03:55 -0700 (PDT)
Subject: [wp-hackers] Delete Row - Refreshes Page but not DB
Message-ID: <1380128635691-42393.post@n5.nabble.com>

The code kept rendering here, so I attached it in a text file;





--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Delete-Row-Refreshes-Page-but-not-DB-tp42393.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From me at jes.se.com  Wed Sep 25 17:13:39 2013
From: me at jes.se.com (Jesse Friedman)
Date: Wed, 25 Sep 2013 13:13:39 -0400
Subject: [wp-hackers] Multisite Users and 500 Server Errors
Message-ID: <CAGtTZ+akp+beU+504-jiX=LWnJ1ywV86zXgEYcj3vUOqCT8y-Q@mail.gmail.com>

I have a rather large Multi-Site Network (over 500 websites).  We host all
our clients sites and also write for them. So I'm in a weird situation
where I need to provide editors and writers "super admin" like access.

However I don't want those users to have super admin rights.  We tried
using Extended Super Admins
http://wordpress.org/plugins/extended-super-admins/ which basically allows
you to take away capabilities from super admins which is nice but it
uncovered a flaw.

When you're a user on more than 50 or so sites on a WordPress network, the
server often fails at trying to serve up pages, especially
/wp-admin/network/users.php and wp-admin/network/sites.php, causing a 500
Server Error.  This isn't a problem for true Super Admins, because they
aren't technically users on any site.

The ESA plugin mentioned above makes you a user of every site you visit
(once you visit the site it makes you a user of that site so you can edit
the ESA options for that site) which if you have a small network is no big
deal. But eventually all my users end up getting 500 errors when the server
tries to identify all the sites they're a user of.

So I need help trying to figure out a workflow for my writers. They have
absolutely no reason to go into the Network area, edit sites, themes,
plugins etc... I trust all of them but at the same time it's just too much
access for them.

POSSIBLE SOLUTION

I'm thinking I could just keep a list of the writers in a file and hook
into all Network level saves and ask if user name == "johnd" do not allow
things to save. Then I can also user their username as a class in the body
tag and just use CSS and JavaScript to hide the entire dashboard.

Has anyone done anything like this?

Does anyone have a better solution?



-- 
thanks

*jesse friedman*
jes.se.com *
*
Book: Web Designers Guide to WordPress -
http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
Twitter: @professor <http://twitter.com/professor>
Facebook: Like<https://www.facebook.com/pages/Jesse-Friedman/204793299545174>

From ipstenu at ipstenu.org  Wed Sep 25 17:43:36 2013
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Wed, 25 Sep 2013 10:43:36 -0700
Subject: [wp-hackers] Multisite Users and 500 Server Errors
In-Reply-To: <CAGtTZ+akp+beU+504-jiX=LWnJ1ywV86zXgEYcj3vUOqCT8y-Q@mail.gmail.com>
References: <CAGtTZ+akp+beU+504-jiX=LWnJ1ywV86zXgEYcj3vUOqCT8y-Q@mail.gmail.com>
Message-ID: <524320C8.8010507@ipstenu.org>

What capabilities do they need that they don't have?

You say they don't need to be able to edit themes and plugins, but what 
DO they need to do? :)
> Jesse Friedman <mailto:me at jes.se.com>
> September 25, 2013 10:13 AM
> I have a rather large Multi-Site Network (over 500 websites). We host all
> our clients sites and also write for them. So I'm in a weird situation
> where I need to provide editors and writers "super admin" like access.
>
> However I don't want those users to have super admin rights. We tried
> using Extended Super Admins
> http://wordpress.org/plugins/extended-super-admins/ which basically allows
> you to take away capabilities from super admins which is nice but it
> uncovered a flaw.
>
> When you're a user on more than 50 or so sites on a WordPress network, the
> server often fails at trying to serve up pages, especially
> /wp-admin/network/users.php and wp-admin/network/sites.php, causing a 500
> Server Error. This isn't a problem for true Super Admins, because they
> aren't technically users on any site.
>
> The ESA plugin mentioned above makes you a user of every site you visit
> (once you visit the site it makes you a user of that site so you can edit
> the ESA options for that site) which if you have a small network is no big
> deal. But eventually all my users end up getting 500 errors when the 
> server
> tries to identify all the sites they're a user of.
>
> So I need help trying to figure out a workflow for my writers. They have
> absolutely no reason to go into the Network area, edit sites, themes,
> plugins etc... I trust all of them but at the same time it's just too much
> access for them.
>
> POSSIBLE SOLUTION
>
> I'm thinking I could just keep a list of the writers in a file and hook
> into all Network level saves and ask if user name == "johnd" do not allow
> things to save. Then I can also user their username as a class in the body
> tag and just use CSS and JavaScript to hide the entire dashboard.
>
> Has anyone done anything like this?
>
> Does anyone have a better solution?
>
>
>

-- 
Mika A Epstein (aka Ipstenu)
http://ipstenu.org | http://halfelf.org


From highfive at jesserfriedman.com  Wed Sep 25 18:07:51 2013
From: highfive at jesserfriedman.com (Jesse Friedman)
Date: Wed, 25 Sep 2013 14:07:51 -0400
Subject: [wp-hackers] Multisite Users and 500 Server Errors
In-Reply-To: <524320C8.8010507@ipstenu.org>
References: <CAGtTZ+akp+beU+504-jiX=LWnJ1ywV86zXgEYcj3vUOqCT8y-Q@mail.gmail.com>
 <524320C8.8010507@ipstenu.org>
Message-ID: <CAGtTZ+YEL0NO-szF0THYzfN915dW8_UNvv8t1CULKtSdUKSZaw@mail.gmail.com>

Mika, thank you for taking the time respond

They just need to be able to access all sites.  They ghost write for all of
our clients. We have 500+ sites now and grow by 10 a month. It's impossible
to manage user access by giving editors an editor role in each and every
site.

The other issue with that, is as I mentioned causing major server issues.

Jesse


On Wed, Sep 25, 2013 at 1:43 PM, Mika A Epstein <ipstenu at ipstenu.org> wrote:

> What capabilities do they need that they don't have?
>
> You say they don't need to be able to edit themes and plugins, but what DO
> they need to do? :)
>
>> Jesse Friedman <mailto:me at jes.se.com>
>> September 25, 2013 10:13 AM
>>
>> I have a rather large Multi-Site Network (over 500 websites). We host all
>> our clients sites and also write for them. So I'm in a weird situation
>> where I need to provide editors and writers "super admin" like access.
>>
>> However I don't want those users to have super admin rights. We tried
>> using Extended Super Admins
>> http://wordpress.org/plugins/**extended-super-admins/<http://wordpress.org/plugins/extended-super-admins/>which basically allows
>> you to take away capabilities from super admins which is nice but it
>> uncovered a flaw.
>>
>> When you're a user on more than 50 or so sites on a WordPress network, the
>> server often fails at trying to serve up pages, especially
>> /wp-admin/network/users.php and wp-admin/network/sites.php, causing a 500
>> Server Error. This isn't a problem for true Super Admins, because they
>> aren't technically users on any site.
>>
>> The ESA plugin mentioned above makes you a user of every site you visit
>> (once you visit the site it makes you a user of that site so you can edit
>> the ESA options for that site) which if you have a small network is no big
>> deal. But eventually all my users end up getting 500 errors when the
>> server
>> tries to identify all the sites they're a user of.
>>
>> So I need help trying to figure out a workflow for my writers. They have
>> absolutely no reason to go into the Network area, edit sites, themes,
>> plugins etc... I trust all of them but at the same time it's just too much
>> access for them.
>>
>> POSSIBLE SOLUTION
>>
>> I'm thinking I could just keep a list of the writers in a file and hook
>> into all Network level saves and ask if user name == "johnd" do not allow
>> things to save. Then I can also user their username as a class in the body
>> tag and just use CSS and JavaScript to hide the entire dashboard.
>>
>> Has anyone done anything like this?
>>
>> Does anyone have a better solution?
>>
>>
>>
>>
> --
> Mika A Epstein (aka Ipstenu)
> http://ipstenu.org | http://halfelf.org
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>



-- 
thanks
*
*
*jesse friedman*
jes.se.com *
*
Book: Web Designers Guide to WordPress -
http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
Twitter: @professor <http://twitter.com/professor>
Facebook: Like<https://www.facebook.com/pages/Jesse-Friedman/204793299545174>

From ipstenu at ipstenu.org  Wed Sep 25 18:22:10 2013
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Wed, 25 Sep 2013 11:22:10 -0700
Subject: [wp-hackers] Multisite Users and 500 Server Errors
In-Reply-To: <CAGtTZ+YEL0NO-szF0THYzfN915dW8_UNvv8t1CULKtSdUKSZaw@mail.gmail.com>
References: <CAGtTZ+akp+beU+504-jiX=LWnJ1ywV86zXgEYcj3vUOqCT8y-Q@mail.gmail.com>
 <524320C8.8010507@ipstenu.org>
 <CAGtTZ+YEL0NO-szF0THYzfN915dW8_UNvv8t1CULKtSdUKSZaw@mail.gmail.com>
Message-ID: <524329D2.30005@ipstenu.org>

How many editors do you have ghost writing?

If it's a matter of too many users on too many accounts, what about 
making a Ghost Writer account, and giving JUST that account access to 
all the sites? Then you tell people to log in as that account to write 
posts. It's obviously not a perfect solution, as it removes 
accountability per-person, but it may stop the server issue.

The other option would be to not have your ghost writers log in to WP, 
but I doub't that'd be sustainable either.

Jesse Friedman wrote:
>
> Mika, thank you for taking the time respond
>
> They just need to be able to access all sites. They ghost write for all of
> our clients. We have 500+ sites now and grow by 10 a month. It's 
> impossible
> to manage user access by giving editors an editor role in each and every
> site.
>
> The other issue with that, is as I mentioned causing major server issues.
>
> Jesse
>
>
> On Wed, Sep 25, 2013 at 1:43 PM, Mika A Epstein<ipstenu at ipstenu.org> 
> wrote:
>
>>
>> What capabilities do they need that they don't have?
>>
>> You say they don't need to be able to edit themes and plugins, but 
>> what DO
>> they need to do? :)
>>
>>>
>>> Jesse Friedman<mailto:me at jes.se.com>
>>> September 25, 2013 10:13 AM
>>>
>>> I have a rather large Multi-Site Network (over 500 websites). We 
>>> host all
>>> our clients sites and also write for them. So I'm in a weird situation
>>> where I need to provide editors and writers "super admin" like access.
>>>
>>> However I don't want those users to have super admin rights. We tried
>>> using Extended Super Admins
>>> http://wordpress.org/plugins/**extended-super-admins/<http://wordpress.org/plugins/extended-super-admins/>which 
>>> basically allows
>>> you to take away capabilities from super admins which is nice but it
>>> uncovered a flaw.
>>>
>>> When you're a user on more than 50 or so sites on a WordPress 
>>> network, the
>>> server often fails at trying to serve up pages, especially
>>> /wp-admin/network/users.php and wp-admin/network/sites.php, causing 
>>> a 500
>>> Server Error. This isn't a problem for true Super Admins, because they
>>> aren't technically users on any site.
>>>
>>> The ESA plugin mentioned above makes you a user of every site you visit
>>> (once you visit the site it makes you a user of that site so you can 
>>> edit
>>> the ESA options for that site) which if you have a small network is 
>>> no big
>>> deal. But eventually all my users end up getting 500 errors when the
>>> server
>>> tries to identify all the sites they're a user of.
>>>
>>> So I need help trying to figure out a workflow for my writers. They have
>>> absolutely no reason to go into the Network area, edit sites, themes,
>>> plugins etc... I trust all of them but at the same time it's just 
>>> too much
>>> access for them.
>>>
>>> POSSIBLE SOLUTION
>>>
>>> I'm thinking I could just keep a list of the writers in a file and hook
>>> into all Network level saves and ask if user name == "johnd" do not 
>>> allow
>>> things to save. Then I can also user their username as a class in 
>>> the body
>>> tag and just use CSS and JavaScript to hide the entire dashboard.
>>>
>>> Has anyone done anything like this?
>>>
>>> Does anyone have a better solution?
>>>
>>>
>>>
>>>
>>
>> --
>> Mika A Epstein (aka Ipstenu)
>> http://ipstenu.org | http://halfelf.org
>>
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com<wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>
>
>

From me at jes.se.com  Wed Sep 25 18:24:01 2013
From: me at jes.se.com (Jesse Friedman)
Date: Wed, 25 Sep 2013 14:24:01 -0400
Subject: [wp-hackers] Multisite Users and 500 Server Errors
In-Reply-To: <524329D2.30005@ipstenu.org>
References: <CAGtTZ+akp+beU+504-jiX=LWnJ1ywV86zXgEYcj3vUOqCT8y-Q@mail.gmail.com>
 <524320C8.8010507@ipstenu.org>
 <CAGtTZ+YEL0NO-szF0THYzfN915dW8_UNvv8t1CULKtSdUKSZaw@mail.gmail.com>
 <524329D2.30005@ipstenu.org>
Message-ID: <CAGtTZ+bciRFu6Ni2g_ckvcOmY55YuiBEArBV7uL2PaSCS3E3ew@mail.gmail.com>

We have about 12 writers, and 15 customer service reps. It's not so much
the issue of having too many users. It's that the one user can't be a user
on too many sites. Once we add 1 person to 50 plus sites we run into
issues. Somewhere around the 100 site mark we get 500 Server Errors for non
stop


On Wed, Sep 25, 2013 at 2:22 PM, Mika A Epstein <ipstenu at ipstenu.org> wrote:

> How many editors do you have ghost writing?
>
> If it's a matter of too many users on too many accounts, what about making
> a Ghost Writer account, and giving JUST that account access to all the
> sites? Then you tell people to log in as that account to write posts. It's
> obviously not a perfect solution, as it removes accountability per-person,
> but it may stop the server issue.
>
> The other option would be to not have your ghost writers log in to WP, but
> I doub't that'd be sustainable either.
>
> Jesse Friedman wrote:
>
>>
>> Mika, thank you for taking the time respond
>>
>> They just need to be able to access all sites. They ghost write for all of
>> our clients. We have 500+ sites now and grow by 10 a month. It's
>> impossible
>> to manage user access by giving editors an editor role in each and every
>> site.
>>
>> The other issue with that, is as I mentioned causing major server issues.
>>
>> Jesse
>>
>>
>> On Wed, Sep 25, 2013 at 1:43 PM, Mika A Epstein<ipstenu at ipstenu.org>
>> wrote:
>>
>>
>>> What capabilities do they need that they don't have?
>>>
>>> You say they don't need to be able to edit themes and plugins, but what
>>> DO
>>> they need to do? :)
>>>
>>>
>>>> Jesse Friedman<mailto:me at jes.se.com>
>>>> September 25, 2013 10:13 AM
>>>>
>>>> I have a rather large Multi-Site Network (over 500 websites). We host
>>>> all
>>>> our clients sites and also write for them. So I'm in a weird situation
>>>> where I need to provide editors and writers "super admin" like access.
>>>>
>>>> However I don't want those users to have super admin rights. We tried
>>>> using Extended Super Admins
>>>> http://wordpress.org/plugins/****extended-super-admins/<http://wordpress.org/plugins/**extended-super-admins/>
>>>> <http:/**/wordpress.org/plugins/**extended-super-admins/<http://wordpress.org/plugins/extended-super-admins/>>which
>>>> basically allows
>>>>
>>>> you to take away capabilities from super admins which is nice but it
>>>> uncovered a flaw.
>>>>
>>>> When you're a user on more than 50 or so sites on a WordPress network,
>>>> the
>>>> server often fails at trying to serve up pages, especially
>>>> /wp-admin/network/users.php and wp-admin/network/sites.php, causing a
>>>> 500
>>>> Server Error. This isn't a problem for true Super Admins, because they
>>>> aren't technically users on any site.
>>>>
>>>> The ESA plugin mentioned above makes you a user of every site you visit
>>>> (once you visit the site it makes you a user of that site so you can
>>>> edit
>>>> the ESA options for that site) which if you have a small network is no
>>>> big
>>>> deal. But eventually all my users end up getting 500 errors when the
>>>> server
>>>> tries to identify all the sites they're a user of.
>>>>
>>>> So I need help trying to figure out a workflow for my writers. They have
>>>> absolutely no reason to go into the Network area, edit sites, themes,
>>>> plugins etc... I trust all of them but at the same time it's just too
>>>> much
>>>> access for them.
>>>>
>>>> POSSIBLE SOLUTION
>>>>
>>>> I'm thinking I could just keep a list of the writers in a file and hook
>>>> into all Network level saves and ask if user name == "johnd" do not
>>>> allow
>>>> things to save. Then I can also user their username as a class in the
>>>> body
>>>> tag and just use CSS and JavaScript to hide the entire dashboard.
>>>>
>>>> Has anyone done anything like this?
>>>>
>>>> Does anyone have a better solution?
>>>>
>>>>
>>>>
>>>>
>>>>
>>> --
>>> Mika A Epstein (aka Ipstenu)
>>> http://ipstenu.org | http://halfelf.org
>>>
>>> ______________________________****_________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.****com<wp-hackers at lists.**automattic.com<wp-hackers at lists.automattic.com>
>>> >
>>> http://lists.automattic.com/****mailman/listinfo/wp-hackers<http://lists.automattic.com/**mailman/listinfo/wp-hackers>
>>> <ht**tp://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>> >
>>>
>>>
>>
>>
>>  ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>



-- 
thanks

*jesse friedman*
jes.se.com *
*
Book: Web Designers Guide to WordPress -
http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
Twitter: @professor <http://twitter.com/professor>
Facebook: Like<https://www.facebook.com/pages/Jesse-Friedman/204793299545174>

From sam at hotchkissconsulting.com  Wed Sep 25 18:54:07 2013
From: sam at hotchkissconsulting.com (Sam Hotchkiss)
Date: Wed, 25 Sep 2013 14:54:07 -0400
Subject: [wp-hackers] Multisite Users and 500 Server Errors
In-Reply-To: <CAGtTZ+bciRFu6Ni2g_ckvcOmY55YuiBEArBV7uL2PaSCS3E3ew@mail.gmail.com>
References: <CAGtTZ+akp+beU+504-jiX=LWnJ1ywV86zXgEYcj3vUOqCT8y-Q@mail.gmail.com>
 <524320C8.8010507@ipstenu.org>
 <CAGtTZ+YEL0NO-szF0THYzfN915dW8_UNvv8t1CULKtSdUKSZaw@mail.gmail.com>
 <524329D2.30005@ipstenu.org>
 <CAGtTZ+bciRFu6Ni2g_ckvcOmY55YuiBEArBV7uL2PaSCS3E3ew@mail.gmail.com>
Message-ID: <CAA8+H28EOuLpaPfbCqeVAY8RLGodTutCW8rP+WomxV0y0K=oSA@mail.gmail.com>

Hey Jesse-- I'm having a similar issue with a very similar site network to
Astonish (the one I was telling you about at WC PVD), and am working on a
plugin which should be ready next week to help address.

I'll send it over when I've got it ready, maybe you can use it as a
starting point to set up what you need?

-- 
Sam Hotchkiss :: Principal :: Hotchkiss Consulting Group
122 Front Street, Second Floor, Bath, Maine 04530
P: 207.200.4314 :: F: 207.209.1365
eMail: sam at hotchkissconsulting.com :: Skype: hotchkiss.consulting


On Wed, Sep 25, 2013 at 2:24 PM, Jesse Friedman <me at jes.se.com> wrote:

> We have about 12 writers, and 15 customer service reps. It's not so much
> the issue of having too many users. It's that the one user can't be a user
> on too many sites. Once we add 1 person to 50 plus sites we run into
> issues. Somewhere around the 100 site mark we get 500 Server Errors for non
> stop
>
>
> On Wed, Sep 25, 2013 at 2:22 PM, Mika A Epstein <ipstenu at ipstenu.org>
> wrote:
>
> > How many editors do you have ghost writing?
> >
> > If it's a matter of too many users on too many accounts, what about
> making
> > a Ghost Writer account, and giving JUST that account access to all the
> > sites? Then you tell people to log in as that account to write posts.
> It's
> > obviously not a perfect solution, as it removes accountability
> per-person,
> > but it may stop the server issue.
> >
> > The other option would be to not have your ghost writers log in to WP,
> but
> > I doub't that'd be sustainable either.
> >
> > Jesse Friedman wrote:
> >
> >>
> >> Mika, thank you for taking the time respond
> >>
> >> They just need to be able to access all sites. They ghost write for all
> of
> >> our clients. We have 500+ sites now and grow by 10 a month. It's
> >> impossible
> >> to manage user access by giving editors an editor role in each and every
> >> site.
> >>
> >> The other issue with that, is as I mentioned causing major server
> issues.
> >>
> >> Jesse
> >>
> >>
> >> On Wed, Sep 25, 2013 at 1:43 PM, Mika A Epstein<ipstenu at ipstenu.org>
> >> wrote:
> >>
> >>
> >>> What capabilities do they need that they don't have?
> >>>
> >>> You say they don't need to be able to edit themes and plugins, but what
> >>> DO
> >>> they need to do? :)
> >>>
> >>>
> >>>> Jesse Friedman<mailto:me at jes.se.com>
> >>>> September 25, 2013 10:13 AM
> >>>>
> >>>> I have a rather large Multi-Site Network (over 500 websites). We host
> >>>> all
> >>>> our clients sites and also write for them. So I'm in a weird situation
> >>>> where I need to provide editors and writers "super admin" like access.
> >>>>
> >>>> However I don't want those users to have super admin rights. We tried
> >>>> using Extended Super Admins
> >>>> http://wordpress.org/plugins/****extended-super-admins/<
> http://wordpress.org/plugins/**extended-super-admins/>
> >>>> <http:/**/wordpress.org/plugins/**extended-super-admins/<
> http://wordpress.org/plugins/extended-super-admins/>>which
> >>>> basically allows
> >>>>
> >>>> you to take away capabilities from super admins which is nice but it
> >>>> uncovered a flaw.
> >>>>
> >>>> When you're a user on more than 50 or so sites on a WordPress network,
> >>>> the
> >>>> server often fails at trying to serve up pages, especially
> >>>> /wp-admin/network/users.php and wp-admin/network/sites.php, causing a
> >>>> 500
> >>>> Server Error. This isn't a problem for true Super Admins, because they
> >>>> aren't technically users on any site.
> >>>>
> >>>> The ESA plugin mentioned above makes you a user of every site you
> visit
> >>>> (once you visit the site it makes you a user of that site so you can
> >>>> edit
> >>>> the ESA options for that site) which if you have a small network is no
> >>>> big
> >>>> deal. But eventually all my users end up getting 500 errors when the
> >>>> server
> >>>> tries to identify all the sites they're a user of.
> >>>>
> >>>> So I need help trying to figure out a workflow for my writers. They
> have
> >>>> absolutely no reason to go into the Network area, edit sites, themes,
> >>>> plugins etc... I trust all of them but at the same time it's just too
> >>>> much
> >>>> access for them.
> >>>>
> >>>> POSSIBLE SOLUTION
> >>>>
> >>>> I'm thinking I could just keep a list of the writers in a file and
> hook
> >>>> into all Network level saves and ask if user name == "johnd" do not
> >>>> allow
> >>>> things to save. Then I can also user their username as a class in the
> >>>> body
> >>>> tag and just use CSS and JavaScript to hide the entire dashboard.
> >>>>
> >>>> Has anyone done anything like this?
> >>>>
> >>>> Does anyone have a better solution?
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>> --
> >>> Mika A Epstein (aka Ipstenu)
> >>> http://ipstenu.org | http://halfelf.org
> >>>
> >>> ______________________________****_________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.****com<wp-hackers at lists.**automattic.com<
> wp-hackers at lists.automattic.com>
> >>> >
> >>> http://lists.automattic.com/****mailman/listinfo/wp-hackers<
> http://lists.automattic.com/**mailman/listinfo/wp-hackers>
> >>> <ht**tp://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >>> >
> >>>
> >>>
> >>
> >>
> >>  ______________________________**_________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> > http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >
>
>
>
> --
> thanks
>
> *jesse friedman*
> jes.se.com *
> *
> Book: Web Designers Guide to WordPress -
> http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
> Twitter: @professor <http://twitter.com/professor>
> Facebook: Like<
> https://www.facebook.com/pages/Jesse-Friedman/204793299545174>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Wed Sep 25 19:07:00 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Wed, 25 Sep 2013 15:07:00 -0400
Subject: [wp-hackers] Delete Row - Refreshes Page but not DB
In-Reply-To: <1380128418290-42392.post@n5.nabble.com>
References: <1380128418290-42392.post@n5.nabble.com>
Message-ID: <3A1D4879-D022-42F5-9907-0BEB55AAF31C@codesymphony.co>


On Sep 25, 2013, at 1:00 PM, BenderisGreat <greglancaster71 at gmail.com> wrote:

> The following code I wrote to perform two functions. Delete a row matching
> the the row[id] and to also erase the associated attachment post. It
> functions - The code shows the delete button in every row, and when pressed
> the row is deleted. However after pressing delete the page is refreshed (not
> sure why, I dont have any onclick or onsubmit events set) and the row
> remains until a manual refresh is performed. Need a little assistance
> figuring why;


I think perhaps you meant to say that the page is NOT automatically refreshed when you hit the delete button? The expected result from your code would be that the page should refresh. There is no way (without interference from some JavaScript somewhere) that anything is getting deleted without a refresh. Could you clarify that?

J.D.

From greglancaster71 at gmail.com  Wed Sep 25 19:09:29 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 25 Sep 2013 12:09:29 -0700 (PDT)
Subject: [wp-hackers] Delete Row - Refreshes Page but not DB
In-Reply-To: <3A1D4879-D022-42F5-9907-0BEB55AAF31C@codesymphony.co>
References: <1380128635691-42393.post@n5.nabble.com>
 <3A1D4879-D022-42F5-9907-0BEB55AAF31C@codesymphony.co>
Message-ID: <1380136169376-42401.post@n5.nabble.com>

The page does refresh, yes. But the row remains visible, as if it was not
deleted.  I must then manually refresh the page for the row to show as
deleted.  Cant figure why that is.  



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Delete-Row-Refreshes-Page-but-not-DB-tp42393p42401.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From jdg at codesymphony.co  Wed Sep 25 19:15:29 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Wed, 25 Sep 2013 15:15:29 -0400
Subject: [wp-hackers] Delete Row - Refreshes Page but not DB
In-Reply-To: <1380136169376-42401.post@n5.nabble.com>
References: <1380128635691-42393.post@n5.nabble.com>
 <3A1D4879-D022-42F5-9907-0BEB55AAF31C@codesymphony.co>
 <1380136169376-42401.post@n5.nabble.com>
Message-ID: <ED828C0A-E6D3-4EB4-ACDC-A738DE23BB15@codesymphony.co>

Sounds like the code that deletes the row isn't being executed until after the table is displayed.

J.D.

On Sep 25, 2013, at 3:09 PM, BenderisGreat <greglancaster71 at gmail.com> wrote:

> The page does refresh, yes. But the row remains visible, as if it was not
> deleted.  I must then manually refresh the page for the row to show as
> deleted.  Cant figure why that is.  
> 
> 
> 
> --
> View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Delete-Row-Refreshes-Page-but-not-DB-tp42393p42401.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From greglancaster71 at gmail.com  Wed Sep 25 19:22:41 2013
From: greglancaster71 at gmail.com (BenderisGreat)
Date: Wed, 25 Sep 2013 12:22:41 -0700 (PDT)
Subject: [wp-hackers] Delete Row - Refreshes Page but not DB
In-Reply-To: <ED828C0A-E6D3-4EB4-ACDC-A738DE23BB15@codesymphony.co>
References: <1380128635691-42393.post@n5.nabble.com>
 <3A1D4879-D022-42F5-9907-0BEB55AAF31C@codesymphony.co>
 <1380136169376-42401.post@n5.nabble.com>
 <ED828C0A-E6D3-4EB4-ACDC-A738DE23BB15@codesymphony.co>
Message-ID: <1380136961060-42403.post@n5.nabble.com>

Right you are [again] J.D.

So should I just start sending you paypal payments for your assistance?  
One more followup question -  I don't know any Ajax- is there a simple way
(now that the form is fixed) to remove that row without a page refresh?  

Again, not familiar with ajax so coding that myself isn't an option yet, but
maybe there is a simple way to implement something like that?



--
View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Delete-Row-Refreshes-Page-but-not-DB-tp42393p42403.html
Sent from the Wordpress Hackers mailing list archive at Nabble.com.

From jdg at codesymphony.co  Wed Sep 25 19:50:15 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Wed, 25 Sep 2013 15:50:15 -0400
Subject: [wp-hackers] Delete Row - Refreshes Page but not DB
In-Reply-To: <1380136961060-42403.post@n5.nabble.com>
References: <1380128635691-42393.post@n5.nabble.com>
 <3A1D4879-D022-42F5-9907-0BEB55AAF31C@codesymphony.co>
 <1380136169376-42401.post@n5.nabble.com>
 <ED828C0A-E6D3-4EB4-ACDC-A738DE23BB15@codesymphony.co>
 <1380136961060-42403.post@n5.nabble.com>
Message-ID: <A7D77C84-3E1E-4B5E-AA1D-6199E0CC3A9A@codesymphony.co>

It isn't hard to do, I've done it before. Do you know jQuery? jQuery's AJAX handlers are very easy to user (in my opinion, at least). Quick and probably somewhat dirty example:

jQuery( document ).ready( function( $ ) {
	
	// When a button is clicked within the table with id="mytable"
	$( '#mytable button' ).click( function( event ) {
		
		// Keep the default action from happening (form submitted/page refreshed)
		event.preventDefault();

		if ( ! confirm( 'Are you sure you want to continue' ) )
			return;

		// Get the id of the row to delete.
		// I'd recommend just making the button value the row ID, no need for the extra input.
		// Then you can access it easier through $( this ).val();
		var rowID = $( this ).parent().child( 'input' )[0].val();

		// POST data.
		var data = {
			'action': 'my_delete_row_action',
			'rowID': rowID
		}

		// Send AJAX request to delete this.
		$.post( 
			ajaxurl, 
			data, 
			function ( response ) {
				
				// Check if this was successful.
				// Assumes you are using http://codex.wordpress.org/Function_Reference/wp_send_json_success
				if ( ! response.success ) {

					alert( 'Failure!' );
				}
					
				// Success! Hide the row.
				$( '#mytable tr#myrow-' + rowID ).hide();
			}
		);
	});
});

OK, that probably won't work off the bat, just an example. You'll need to give your table an HTML ID, and give each row a unique ID based on $i (in the example it's myrow-$i.

Also you'll need to see http://codex.wordpress.org/AJAX_in_Plugins for info on how to handle the AJAX request properly within WordPress.

I'm sure you can find some great tutorials out there to help you along, too.

J.D.

On Sep 25, 2013, at 3:22 PM, BenderisGreat <greglancaster71 at gmail.com> wrote:

> Right you are [again] J.D.
> 
> So should I just start sending you paypal payments for your assistance?  
> One more followup question -  I don't know any Ajax- is there a simple way
> (now that the form is fixed) to remove that row without a page refresh?  
> 
> Again, not familiar with ajax so coding that myself isn't an option yet, but
> maybe there is a simple way to implement something like that?
> 
> 
> 
> --
> View this message in context: http://wordpress-hackers.1065353.n5.nabble.com/Delete-Row-Refreshes-Page-but-not-DB-tp42393p42403.html
> Sent from the Wordpress Hackers mailing list archive at Nabble.com.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From nikolov.tmw at gmail.com  Thu Sep 26 15:27:11 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Thu, 26 Sep 2013 18:27:11 +0300
Subject: [wp-hackers] Multisite Users and 500 Server Errors
In-Reply-To: <CAA8+H28EOuLpaPfbCqeVAY8RLGodTutCW8rP+WomxV0y0K=oSA@mail.gmail.com>
References: <CAGtTZ+akp+beU+504-jiX=LWnJ1ywV86zXgEYcj3vUOqCT8y-Q@mail.gmail.com>
 <524320C8.8010507@ipstenu.org>
 <CAGtTZ+YEL0NO-szF0THYzfN915dW8_UNvv8t1CULKtSdUKSZaw@mail.gmail.com>
 <524329D2.30005@ipstenu.org>
 <CAGtTZ+bciRFu6Ni2g_ckvcOmY55YuiBEArBV7uL2PaSCS3E3ew@mail.gmail.com>
 <CAA8+H28EOuLpaPfbCqeVAY8RLGodTutCW8rP+WomxV0y0K=oSA@mail.gmail.com>
Message-ID: <CAOwx47dS4v-_dDXoResoc9wGmn2M+wn8mDVZFUpv9Bco_NJOZA@mail.gmail.com>

Hi Jesse,

What if you have a mu-plugin, which would create a user interface, where
you can select one or more super-admins which would be restricted to only
the front-end and normal dashboard(so no network admin access)?

You can hook to the 'init' action or maybe even earlier and detect if
you're on a network page and the current user is one of the selected users
in the previous step and if so, just do

wp_redirect( $home_or_dashboard_url );
exit;

And take the user to either a Dashboard page, or to the home page of the
main site. Probably not the best solution, but might work. You can of
course just hard-code the user id's in the mu-plugin.

It should be relatively easy to accomplish and should do the trick for you.

Nikola


On Wed, Sep 25, 2013 at 9:54 PM, Sam Hotchkiss
<sam at hotchkissconsulting.com>wrote:

> Hey Jesse-- I'm having a similar issue with a very similar site network to
> Astonish (the one I was telling you about at WC PVD), and am working on a
> plugin which should be ready next week to help address.
>
> I'll send it over when I've got it ready, maybe you can use it as a
> starting point to set up what you need?
>
> --
> Sam Hotchkiss :: Principal :: Hotchkiss Consulting Group
> 122 Front Street, Second Floor, Bath, Maine 04530
> P: 207.200.4314 :: F: 207.209.1365
> eMail: sam at hotchkissconsulting.com :: Skype: hotchkiss.consulting
>
>
> On Wed, Sep 25, 2013 at 2:24 PM, Jesse Friedman <me at jes.se.com> wrote:
>
> > We have about 12 writers, and 15 customer service reps. It's not so much
> > the issue of having too many users. It's that the one user can't be a
> user
> > on too many sites. Once we add 1 person to 50 plus sites we run into
> > issues. Somewhere around the 100 site mark we get 500 Server Errors for
> non
> > stop
> >
> >
> > On Wed, Sep 25, 2013 at 2:22 PM, Mika A Epstein <ipstenu at ipstenu.org>
> > wrote:
> >
> > > How many editors do you have ghost writing?
> > >
> > > If it's a matter of too many users on too many accounts, what about
> > making
> > > a Ghost Writer account, and giving JUST that account access to all the
> > > sites? Then you tell people to log in as that account to write posts.
> > It's
> > > obviously not a perfect solution, as it removes accountability
> > per-person,
> > > but it may stop the server issue.
> > >
> > > The other option would be to not have your ghost writers log in to WP,
> > but
> > > I doub't that'd be sustainable either.
> > >
> > > Jesse Friedman wrote:
> > >
> > >>
> > >> Mika, thank you for taking the time respond
> > >>
> > >> They just need to be able to access all sites. They ghost write for
> all
> > of
> > >> our clients. We have 500+ sites now and grow by 10 a month. It's
> > >> impossible
> > >> to manage user access by giving editors an editor role in each and
> every
> > >> site.
> > >>
> > >> The other issue with that, is as I mentioned causing major server
> > issues.
> > >>
> > >> Jesse
> > >>
> > >>
> > >> On Wed, Sep 25, 2013 at 1:43 PM, Mika A Epstein<ipstenu at ipstenu.org>
> > >> wrote:
> > >>
> > >>
> > >>> What capabilities do they need that they don't have?
> > >>>
> > >>> You say they don't need to be able to edit themes and plugins, but
> what
> > >>> DO
> > >>> they need to do? :)
> > >>>
> > >>>
> > >>>> Jesse Friedman<mailto:me at jes.se.com>
> > >>>> September 25, 2013 10:13 AM
> > >>>>
> > >>>> I have a rather large Multi-Site Network (over 500 websites). We
> host
> > >>>> all
> > >>>> our clients sites and also write for them. So I'm in a weird
> situation
> > >>>> where I need to provide editors and writers "super admin" like
> access.
> > >>>>
> > >>>> However I don't want those users to have super admin rights. We
> tried
> > >>>> using Extended Super Admins
> > >>>> http://wordpress.org/plugins/****extended-super-admins/<
> > http://wordpress.org/plugins/**extended-super-admins/>
> > >>>> <http:/**/wordpress.org/plugins/**extended-super-admins/<
> > http://wordpress.org/plugins/extended-super-admins/>>which
> > >>>> basically allows
> > >>>>
> > >>>> you to take away capabilities from super admins which is nice but it
> > >>>> uncovered a flaw.
> > >>>>
> > >>>> When you're a user on more than 50 or so sites on a WordPress
> network,
> > >>>> the
> > >>>> server often fails at trying to serve up pages, especially
> > >>>> /wp-admin/network/users.php and wp-admin/network/sites.php, causing
> a
> > >>>> 500
> > >>>> Server Error. This isn't a problem for true Super Admins, because
> they
> > >>>> aren't technically users on any site.
> > >>>>
> > >>>> The ESA plugin mentioned above makes you a user of every site you
> > visit
> > >>>> (once you visit the site it makes you a user of that site so you can
> > >>>> edit
> > >>>> the ESA options for that site) which if you have a small network is
> no
> > >>>> big
> > >>>> deal. But eventually all my users end up getting 500 errors when the
> > >>>> server
> > >>>> tries to identify all the sites they're a user of.
> > >>>>
> > >>>> So I need help trying to figure out a workflow for my writers. They
> > have
> > >>>> absolutely no reason to go into the Network area, edit sites,
> themes,
> > >>>> plugins etc... I trust all of them but at the same time it's just
> too
> > >>>> much
> > >>>> access for them.
> > >>>>
> > >>>> POSSIBLE SOLUTION
> > >>>>
> > >>>> I'm thinking I could just keep a list of the writers in a file and
> > hook
> > >>>> into all Network level saves and ask if user name == "johnd" do not
> > >>>> allow
> > >>>> things to save. Then I can also user their username as a class in
> the
> > >>>> body
> > >>>> tag and just use CSS and JavaScript to hide the entire dashboard.
> > >>>>
> > >>>> Has anyone done anything like this?
> > >>>>
> > >>>> Does anyone have a better solution?
> > >>>>
> > >>>>
> > >>>>
> > >>>>
> > >>>>
> > >>> --
> > >>> Mika A Epstein (aka Ipstenu)
> > >>> http://ipstenu.org | http://halfelf.org
> > >>>
> > >>> ______________________________****_________________
> > >>> wp-hackers mailing list
> > >>> wp-hackers at lists.automattic.****com<wp-hackers at lists.**
> automattic.com<
> > wp-hackers at lists.automattic.com>
> > >>> >
> > >>> http://lists.automattic.com/****mailman/listinfo/wp-hackers<
> > http://lists.automattic.com/**mailman/listinfo/wp-hackers>
> > >>> <ht**tp://lists.automattic.com/**mailman/listinfo/wp-hackers<
> > http://lists.automattic.com/mailman/listinfo/wp-hackers>
> > >>> >
> > >>>
> > >>>
> > >>
> > >>
> > >>  ______________________________**_________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> > > http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> > http://lists.automattic.com/mailman/listinfo/wp-hackers>
> > >
> >
> >
> >
> > --
> > thanks
> >
> > *jesse friedman*
> > jes.se.com *
> > *
> > Book: Web Designers Guide to WordPress -
> > http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
> > Twitter: @professor <http://twitter.com/professor>
> > Facebook: Like<
> > https://www.facebook.com/pages/Jesse-Friedman/204793299545174>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dailyrants at gmail.com  Fri Sep 27 11:43:10 2013
From: dailyrants at gmail.com (John)
Date: Fri, 27 Sep 2013 07:43:10 -0400
Subject: [wp-hackers] Multisite Users and 500 Server Errors
In-Reply-To: <CAGtTZ+bciRFu6Ni2g_ckvcOmY55YuiBEArBV7uL2PaSCS3E3ew@mail.gmail.com>
References: <CAGtTZ+akp+beU+504-jiX=LWnJ1ywV86zXgEYcj3vUOqCT8y-Q@mail.gmail.com>
 <524320C8.8010507@ipstenu.org>
 <CAGtTZ+YEL0NO-szF0THYzfN915dW8_UNvv8t1CULKtSdUKSZaw@mail.gmail.com>
 <524329D2.30005@ipstenu.org>
 <CAGtTZ+bciRFu6Ni2g_ckvcOmY55YuiBEArBV7uL2PaSCS3E3ew@mail.gmail.com>
Message-ID: <CAPYXUfU080MobZyMkU0PTer6efeuo+GCjuHA26_b_jXZ-i=UrA@mail.gmail.com>

Have you tried the Bulk User Management plugin the VIP team built?
http://vip.wordpress.com/2012/07/12/bulk-user-management/



On Wed, Sep 25, 2013 at 2:24 PM, Jesse Friedman <me at jes.se.com> wrote:

> We have about 12 writers, and 15 customer service reps. It's not so much
> the issue of having too many users. It's that the one user can't be a user
> on too many sites. Once we add 1 person to 50 plus sites we run into
> issues. Somewhere around the 100 site mark we get 500 Server Errors for non
> stop
>
>
> On Wed, Sep 25, 2013 at 2:22 PM, Mika A Epstein <ipstenu at ipstenu.org>
> wrote:
>
> > How many editors do you have ghost writing?
> >
> > If it's a matter of too many users on too many accounts, what about
> making
> > a Ghost Writer account, and giving JUST that account access to all the
> > sites? Then you tell people to log in as that account to write posts.
> It's
> > obviously not a perfect solution, as it removes accountability
> per-person,
> > but it may stop the server issue.
> >
> > The other option would be to not have your ghost writers log in to WP,
> but
> > I doub't that'd be sustainable either.
> >
> > Jesse Friedman wrote:
> >
> >>
> >> Mika, thank you for taking the time respond
> >>
> >> They just need to be able to access all sites. They ghost write for all
> of
> >> our clients. We have 500+ sites now and grow by 10 a month. It's
> >> impossible
> >> to manage user access by giving editors an editor role in each and every
> >> site.
> >>
> >> The other issue with that, is as I mentioned causing major server
> issues.
> >>
> >> Jesse
> >>
> >>
> >> On Wed, Sep 25, 2013 at 1:43 PM, Mika A Epstein<ipstenu at ipstenu.org>
> >> wrote:
> >>
> >>
> >>> What capabilities do they need that they don't have?
> >>>
> >>> You say they don't need to be able to edit themes and plugins, but what
> >>> DO
> >>> they need to do? :)
> >>>
> >>>
> >>>> Jesse Friedman<mailto:me at jes.se.com>
> >>>> September 25, 2013 10:13 AM
> >>>>
> >>>> I have a rather large Multi-Site Network (over 500 websites). We host
> >>>> all
> >>>> our clients sites and also write for them. So I'm in a weird situation
> >>>> where I need to provide editors and writers "super admin" like access.
> >>>>
> >>>> However I don't want those users to have super admin rights. We tried
> >>>> using Extended Super Admins
> >>>> http://wordpress.org/plugins/****extended-super-admins/<
> http://wordpress.org/plugins/**extended-super-admins/>
> >>>> <http:/**/wordpress.org/plugins/**extended-super-admins/<
> http://wordpress.org/plugins/extended-super-admins/>>which
> >>>> basically allows
> >>>>
> >>>> you to take away capabilities from super admins which is nice but it
> >>>> uncovered a flaw.
> >>>>
> >>>> When you're a user on more than 50 or so sites on a WordPress network,
> >>>> the
> >>>> server often fails at trying to serve up pages, especially
> >>>> /wp-admin/network/users.php and wp-admin/network/sites.php, causing a
> >>>> 500
> >>>> Server Error. This isn't a problem for true Super Admins, because they
> >>>> aren't technically users on any site.
> >>>>
> >>>> The ESA plugin mentioned above makes you a user of every site you
> visit
> >>>> (once you visit the site it makes you a user of that site so you can
> >>>> edit
> >>>> the ESA options for that site) which if you have a small network is no
> >>>> big
> >>>> deal. But eventually all my users end up getting 500 errors when the
> >>>> server
> >>>> tries to identify all the sites they're a user of.
> >>>>
> >>>> So I need help trying to figure out a workflow for my writers. They
> have
> >>>> absolutely no reason to go into the Network area, edit sites, themes,
> >>>> plugins etc... I trust all of them but at the same time it's just too
> >>>> much
> >>>> access for them.
> >>>>
> >>>> POSSIBLE SOLUTION
> >>>>
> >>>> I'm thinking I could just keep a list of the writers in a file and
> hook
> >>>> into all Network level saves and ask if user name == "johnd" do not
> >>>> allow
> >>>> things to save. Then I can also user their username as a class in the
> >>>> body
> >>>> tag and just use CSS and JavaScript to hide the entire dashboard.
> >>>>
> >>>> Has anyone done anything like this?
> >>>>
> >>>> Does anyone have a better solution?
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>> --
> >>> Mika A Epstein (aka Ipstenu)
> >>> http://ipstenu.org | http://halfelf.org
> >>>
> >>> ______________________________****_________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.****com<wp-hackers at lists.**automattic.com<
> wp-hackers at lists.automattic.com>
> >>> >
> >>> http://lists.automattic.com/****mailman/listinfo/wp-hackers<
> http://lists.automattic.com/**mailman/listinfo/wp-hackers>
> >>> <ht**tp://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >>> >
> >>>
> >>>
> >>
> >>
> >>  ______________________________**_________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> > http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >
>
>
>
> --
> thanks
>
> *jesse friedman*
> jes.se.com *
> *
> Book: Web Designers Guide to WordPress -
> http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
> Twitter: @professor <http://twitter.com/professor>
> Facebook: Like<
> https://www.facebook.com/pages/Jesse-Friedman/204793299545174>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From justin at justintadlock.com  Fri Sep 27 15:23:17 2013
From: justin at justintadlock.com (Justin Tadlock)
Date: Fri, 27 Sep 2013 10:23:17 -0500
Subject: [wp-hackers] Cached pages on wordpress.org after plugin update
In-Reply-To: <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
References: <CAJxFMSBMV3v81jjyHksmD55fuUMRtEE-ahH+Qw215GwBakqrTg@mail.gmail.com>
 <CAD-FghyS68Pr84F1Xd=qqSBdAcNdy-i0RY8CT3Jhg0vBRFyf+Q@mail.gmail.com>
Message-ID: <5245A2E5.602@justintadlock.com>

http://wordpress.org/plugins/custom-header-extended/

I'm still not able to see the correct readme.txt data on that plugin 
page.  I uploaded about 6 hours or so ago.

On 9/9/2013 1:40 PM, Otto wrote:
> Looks okay to me. Are you sure your browser isn't caching the page?
>
>
> -Otto
>
>
> On Mon, Sep 9, 2013 at 11:51 AM, Simon Blackbourn <piemanek at gmail.com> wrote:
>> Not sure where's the best place to send this so thought I'd try here first.
>>
>> I updated http://wordpress.org/plugins/intercom-for-wordpress/ earlier
>> today to version 0.7 which involved some important changes to the
>> description, FAQ and changelog in the readme.txt file.
>>
>> The download link on the description page is correctly showing 0.7, but the
>> description text has not updated. The other pages are all showing a
>> download link for version 0.6 and the text has not updated on any of them.
>>
>> I've checked the Subversion repo and the readme.txt file has definitely
>> updated, so it looks like a caching issue, so I'm wondering
>>
>> a) how long does it usually take for the cached pages to refresh?
>>
>> b) would it be possible to set something somewhere so that when a plugin is
>> updated, all pages for that plugin are automatically flushed from the cache?
>>
>> Cheers
>> Simon
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From jer at simianuprising.com  Fri Sep 27 18:26:46 2013
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 27 Sep 2013 14:26:46 -0400
Subject: [wp-hackers] Google Content Experiments & wp
In-Reply-To: <CANmL2P_P855aWN-dEJ05_7foemsbamvkystvUUdQw-6faZ4oug@mail.gmail.com>
References: <CANmL2P_P855aWN-dEJ05_7foemsbamvkystvUUdQw-6faZ4oug@mail.gmail.com>
Message-ID: <CAAHgzDMFJP=+1EnquT09CrYYxjtYi_e+C7ZKuRf+_HRzJGxOYg@mail.gmail.com>

On Wed, Aug 28, 2013 at 11:44 AM, David Ernst <david at ernsts.us> wrote:

>
> Does anyone here know if it's possible to use Google Content
> Experiments<
> https://support.google.com/analytics/answer/1745147?hl=en&topic=1745207>to
> test variations that apply site-wide? For example, running a test on
> different versions of a theme's header.php.
>
>
I'm not sure what you were hoping to get from the Content Experiments
system, but have you considered using GA Custom Variables and/or Events to
track the effect of having the chat box? If you already have GA set up for
the site, you just need to drop a few lines of JS into the header to set
which version you're using (i.e. with chatbox or without) , then in GA you
can generate reports that compare the two values and the end results.

https://developers.google.com/analytics/devguides/collection/gajs/gaTrackingCustomVariables


I opted for that setup because it lets me keep most of the framework for
defining tests inside my WP plugins/themes rather than stored inside GA
(though obviously the data is still stuck there).


-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org

From steve at sltaylor.co.uk  Sat Sep 28 08:09:51 2013
From: steve at sltaylor.co.uk (Steve Taylor)
Date: Sat, 28 Sep 2013 09:09:51 +0100
Subject: [wp-hackers] Pharma hack
Message-ID: <CAGEuVU3SLGPsdUn4-ZzvqTFgPCfKybcsNUCEcz7EJFraz0AeRg@mail.gmail.com>

A site I run just got hit by the "pharma hack". There was a common.php and
a /coockies/ directory in the root, and a modification to .htaccess
rerouting all search bots to common.php - encoded but obviously stuffed
with spam keywords, which were appearing in Google's index.

I've cleaned up and all seems fine now, but obviously it'd be good to
identify the point of entry and be sure.

The site has always had an up-to-date core, with minor delays (I think a
week passed before upgrading to 3.6.1). A few plugins needed upgrading, but
as far as I could tell none of the upgrades involved serious security
patches.

The guy who hosts the site (not my choice) says he's 99% certain WP was the
issue, but this seems unlikely to me. He doesn't seem terribly
knowledgeable about security. I can't be 100% there wasn't some odd hole in
my WP installation, but obviously I suspect a server vulnerability -
leaving us pointing the finger at each other.

Personally I would move hosts, but this isn't my decision. Just wondering
what people here thought, and if anyone heard of recent vulnerabilities to
this hack in relatively up-to-date WP installations. Also, what concrete
analysis of the situation should be the bare minimum expected of a host?

Cheers,

Steve

From simon.vart at exigences.biz  Sat Sep 28 09:53:22 2013
From: simon.vart at exigences.biz (Simon Vart)
Date: Sat, 28 Sep 2013 11:53:22 +0200
Subject: [wp-hackers] Pharma hack
In-Reply-To: <CAGEuVU3SLGPsdUn4-ZzvqTFgPCfKybcsNUCEcz7EJFraz0AeRg@mail.gmail.com>
References: <CAGEuVU3SLGPsdUn4-ZzvqTFgPCfKybcsNUCEcz7EJFraz0AeRg@mail.gmail.com>
Message-ID: <CAL96uY_OA24-hA-gS0j-Vq-zkjrt7j9K_y75j003x2hJ=ET0xQ@mail.gmail.com>

Did you check webserver logs ? You will pages accessed.
Check creation date of common.php and /cookies/ directory and it will tell
you when to look around
Le 28 sept. 2013 10:09, "Steve Taylor" <steve at sltaylor.co.uk> a ?crit :

> A site I run just got hit by the "pharma hack". There was a common.php and
> a /coockies/ directory in the root, and a modification to .htaccess
> rerouting all search bots to common.php - encoded but obviously stuffed
> with spam keywords, which were appearing in Google's index.
>
> I've cleaned up and all seems fine now, but obviously it'd be good to
> identify the point of entry and be sure.
>
> The site has always had an up-to-date core, with minor delays (I think a
> week passed before upgrading to 3.6.1). A few plugins needed upgrading, but
> as far as I could tell none of the upgrades involved serious security
> patches.
>
> The guy who hosts the site (not my choice) says he's 99% certain WP was the
> issue, but this seems unlikely to me. He doesn't seem terribly
> knowledgeable about security. I can't be 100% there wasn't some odd hole in
> my WP installation, but obviously I suspect a server vulnerability -
> leaving us pointing the finger at each other.
>
> Personally I would move hosts, but this isn't my decision. Just wondering
> what people here thought, and if anyone heard of recent vulnerabilities to
> this hack in relatively up-to-date WP installations. Also, what concrete
> analysis of the situation should be the bare minimum expected of a host?
>
> Cheers,
>
> Steve
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdg at codesymphony.co  Sat Sep 28 12:36:31 2013
From: jdg at codesymphony.co (J.D. Grimes)
Date: Sat, 28 Sep 2013 08:36:31 -0400
Subject: [wp-hackers] Pharma hack
In-Reply-To: <CAL96uY_OA24-hA-gS0j-Vq-zkjrt7j9K_y75j003x2hJ=ET0xQ@mail.gmail.com>
References: <CAGEuVU3SLGPsdUn4-ZzvqTFgPCfKybcsNUCEcz7EJFraz0AeRg@mail.gmail.com>
 <CAL96uY_OA24-hA-gS0j-Vq-zkjrt7j9K_y75j003x2hJ=ET0xQ@mail.gmail.com>
Message-ID: <B324C33D-CE6B-4800-BE53-D1F1D2BB53E1@codesymphony.co>

Simon is right - check the server access logs (if you can). That may tell you how they got in.

J.D.

On Sep 28, 2013, at 5:53 AM, Simon Vart <simon.vart at exigences.biz> wrote:

> Did you check webserver logs ? You will pages accessed.
> Check creation date of common.php and /cookies/ directory and it will tell
> you when to look around
> Le 28 sept. 2013 10:09, "Steve Taylor" <steve at sltaylor.co.uk> a ?crit :
> 
>> A site I run just got hit by the "pharma hack". There was a common.php and
>> a /coockies/ directory in the root, and a modification to .htaccess
>> rerouting all search bots to common.php - encoded but obviously stuffed
>> with spam keywords, which were appearing in Google's index.
>> 
>> I've cleaned up and all seems fine now, but obviously it'd be good to
>> identify the point of entry and be sure.
>> 
>> The site has always had an up-to-date core, with minor delays (I think a
>> week passed before upgrading to 3.6.1). A few plugins needed upgrading, but
>> as far as I could tell none of the upgrades involved serious security
>> patches.
>> 
>> The guy who hosts the site (not my choice) says he's 99% certain WP was the
>> issue, but this seems unlikely to me. He doesn't seem terribly
>> knowledgeable about security. I can't be 100% there wasn't some odd hole in
>> my WP installation, but obviously I suspect a server vulnerability -
>> leaving us pointing the finger at each other.
>> 
>> Personally I would move hosts, but this isn't my decision. Just wondering
>> what people here thought, and if anyone heard of recent vulnerabilities to
>> this hack in relatively up-to-date WP installations. Also, what concrete
>> analysis of the situation should be the bare minimum expected of a host?
>> 
>> Cheers,
>> 
>> Steve
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From hal at burgiss.net  Sat Sep 28 14:37:21 2013
From: hal at burgiss.net (Hal Burgiss)
Date: Sat, 28 Sep 2013 10:37:21 -0400
Subject: [wp-hackers] Pharma hack
In-Reply-To: <CAGEuVU3SLGPsdUn4-ZzvqTFgPCfKybcsNUCEcz7EJFraz0AeRg@mail.gmail.com>
References: <CAGEuVU3SLGPsdUn4-ZzvqTFgPCfKybcsNUCEcz7EJFraz0AeRg@mail.gmail.com>
Message-ID: <CAEizahLenSLZM-eZpwYEg52GP=TRs3WB123kVKAeGkLcsVAjBg@mail.gmail.com>

On Sat, Sep 28, 2013 at 4:09 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:

> A site I run just got hit by the "pharma hack". There was a common.php and
> a /coockies/ directory in the root, and a modification to .htaccess
> rerouting all search bots to common.php - encoded but obviously stuffed
> with spam keywords, which were appearing in Google's index.
>
> I've cleaned up and all seems fine now, but obviously it'd be good to
> identify the point of entry and be sure.
>
>
>
Definitely. But why is .htaccess writable in the first place? Root
directory? From a systems administration standpoint, the only directory in
a default installation that should be writable is the uploads folder. That
by itself doesn't stop everything, but it stops a helluva lot of stuff.

-- 
Hal

From abdussamad at abdussamad.com  Sat Sep 28 15:39:50 2013
From: abdussamad at abdussamad.com (Abdussamad Abdurrazzaq)
Date: Sat, 28 Sep 2013 20:39:50 +0500
Subject: [wp-hackers] Pharma hack
In-Reply-To: <CAEizahLenSLZM-eZpwYEg52GP=TRs3WB123kVKAeGkLcsVAjBg@mail.gmail.com>
References: <CAGEuVU3SLGPsdUn4-ZzvqTFgPCfKybcsNUCEcz7EJFraz0AeRg@mail.gmail.com>
 <CAEizahLenSLZM-eZpwYEg52GP=TRs3WB123kVKAeGkLcsVAjBg@mail.gmail.com>
Message-ID: <5246F846.5010207@abdussamad.com>

Most shared hosts use php fastcgi and they configure it so that the 
entire directory is writeable. This can makes it easier for users to 
update WP and allows WP core devs to boast that more WP installations 
are up to date compared to other major CMS.

But yeah it isn't ideal from a security point of view.

On 09/28/2013 07:37 PM, Hal Burgiss wrote:
> On Sat, Sep 28, 2013 at 4:09 AM, Steve Taylor <steve at sltaylor.co.uk> wrote:
>
>> A site I run just got hit by the "pharma hack". There was a common.php and
>> a /coockies/ directory in the root, and a modification to .htaccess
>> rerouting all search bots to common.php - encoded but obviously stuffed
>> with spam keywords, which were appearing in Google's index.
>>
>> I've cleaned up and all seems fine now, but obviously it'd be good to
>> identify the point of entry and be sure.
>>
>>
>>
> Definitely. But why is .htaccess writable in the first place? Root
> directory? From a systems administration standpoint, the only directory in
> a default installation that should be writable is the uploads folder. That
> by itself doesn't stop everything, but it stops a helluva lot of stuff.
>

From me at jes.se.com  Mon Sep 30 20:01:27 2013
From: me at jes.se.com (Jesse Friedman)
Date: Mon, 30 Sep 2013 16:01:27 -0400
Subject: [wp-hackers] Multisite global user setting reset
Message-ID: <CAGtTZ+bdgFJr00honT65n+XtdBJW=Aj8a-3rPDJqBBcPZtB8cA@mail.gmail.com>

We are experiencing a rather large load on our servers because we have 500
sites on a multisite network with a 100 plus users that are working all day
long.

One thing I would like to do to limit the load on the server is to globally
control the number of posts, users, cpt's, comments, etc... that someone
can display in their admin screen.

Right now I'm sure many of my users have changed that number to show 50,
100 or more posts on any given screen.

I would like to reset everything to display 20 items per page. Anyone have
an easy way to do this?

-- 
thanks

*jesse friedman*
jes.se.com *
*
Book: Web Designers Guide to WordPress -
http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
Twitter: @professor <http://twitter.com/professor>
Facebook: Like<https://www.facebook.com/pages/Jesse-Friedman/204793299545174>

From nikolov.tmw at gmail.com  Mon Sep 30 20:50:34 2013
From: nikolov.tmw at gmail.com (Nikola Nikolov)
Date: Mon, 30 Sep 2013 23:50:34 +0300
Subject: [wp-hackers] Multisite global user setting reset
In-Reply-To: <CAGtTZ+bdgFJr00honT65n+XtdBJW=Aj8a-3rPDJqBBcPZtB8cA@mail.gmail.com>
References: <CAGtTZ+bdgFJr00honT65n+XtdBJW=Aj8a-3rPDJqBBcPZtB8cA@mail.gmail.com>
Message-ID: <CAOwx47e0PG0s+hMfMV_4rnGjVnYZL7SfdDDcoPeLD+cEg6+QRw@mail.gmail.com>

The quickest thing I can think of is a mu-plugin, which would hook to one
of the query filters and would simply override the posts_per_page(in case
of users it would be different) query variable.

Here is an example plugin that you can place straight into *
/wp-content/mu-plugins/override-counts.php* :


<?php
/*
Plugin Name: Override WP List Table limit preferences
*/


// Override the posts per page variable
function my_ppp_query_overload( $vars ) {
    if ( is_admin() ) { // Only affect the admin queries
        $vars['posts_per_page'] = *20*;
    }
    return $vars;
}
add_filter( 'request', 'my_ppp_query_overload' );

function my_users_number_query_overload( $query ) {
	if ( is_admin() ) { // Only affect the admin queries
		global $wpdb;
		$query->query_vars['number'] = *20*;
		// limit
		if ( isset( $query->query_vars['number'] ) && $query->query_vars['number'] ) {
			if ( $query->query_vars['offset'] ) {
				$query->query_limit = $wpdb->prepare("LIMIT %d, %d",
$query->query_vars['offset'], $query->query_vars['number']);
			} else {
				$query->query_limit = $wpdb->prepare("LIMIT %d",
$query->query_vars['number']);
			}
		}
	}
}
add_action( 'pre_user_query', 'my_users_number_query_overload', 10 );

// The users list needs some extra help by overriding the user's preference.
// Otherwise, the table would list only X users, but the pagination
would be incorrect.
function my_override_user_dashboard_settings() {
	if ( is_admin() && ( $uid = get_current_user_id() ) ) {
		$user_settings = array( 'users_per_page', 'site_users_network_per_page' );
		update_user_option( $uid, 'users_per_page', *20* );
	}
}
add_action( 'init', 'my_override_user_dashboard_settings', 10 );


I have only tried this in a normal install, but I see no reason for it not
to work in a multisite install as well.

You can adjust all "20" numbers to whatever you want your users to be
limited to. Note that for the post/pages/custom post types they will still
see their preferred number in the "Screen Options" panel, but for the Users
lists, they will actually see the number that you enter(and it will be
over-ridden on every request).

That is because, when hooking to the "request" filter, the posts table
pagination adjusts automatically just fine, but the users pagination does
not.

If that doesn't suite you well enough, it will be at least a pretty good
point to start at :)

Hope that helps,
Nikola Nikolov


On Mon, Sep 30, 2013 at 11:01 PM, Jesse Friedman <me at jes.se.com> wrote:

> We are experiencing a rather large load on our servers because we have 500
> sites on a multisite network with a 100 plus users that are working all day
> long.
>
> One thing I would like to do to limit the load on the server is to globally
> control the number of posts, users, cpt's, comments, etc... that someone
> can display in their admin screen.
>
> Right now I'm sure many of my users have changed that number to show 50,
> 100 or more posts on any given screen.
>
> I would like to reset everything to display 20 items per page. Anyone have
> an easy way to do this?
>
> --
> thanks
>
> *jesse friedman*
> jes.se.com *
> *
> Book: Web Designers Guide to WordPress -
> http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
> Twitter: @professor <http://twitter.com/professor>
> Facebook: Like<
> https://www.facebook.com/pages/Jesse-Friedman/204793299545174>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From xoodrew at gmail.com  Mon Sep 30 22:00:58 2013
From: xoodrew at gmail.com (Drew)
Date: Mon, 30 Sep 2013 16:00:58 -0600
Subject: [wp-hackers] Multisite global user setting reset
In-Reply-To: <CAOwx47e0PG0s+hMfMV_4rnGjVnYZL7SfdDDcoPeLD+cEg6+QRw@mail.gmail.com>
References: <CAGtTZ+bdgFJr00honT65n+XtdBJW=Aj8a-3rPDJqBBcPZtB8cA@mail.gmail.com>
 <CAOwx47e0PG0s+hMfMV_4rnGjVnYZL7SfdDDcoPeLD+cEg6+QRw@mail.gmail.com>
Message-ID: <CAEJabWjpg0JwhN1aexx6CpAQnFVNBCcHX8QUag3kSt3aCbiNZw@mail.gmail.com>

You can hook into the 'edit_posts_per_page' filter in
class-wp-posts-list-table.php.
It covers any/all pages (afaik) regardless of whether a post_type is passed.

Something like this should work. It's set to max at 20, but allows fewer:

/**
>  * Force all the things to 20 max X per page.
>  *
>  * @param int    $per_page  The number of items to show per page.
>  * @param string $post_type The post type.
>  *
>  * @return int Filtered number of items to show per page.
>  */
> function force_per_page( $per_page, $post_type ) {
>     return $per_page >= 21 ? 20 : $per_page;
> }
> add_filter( 'edit_posts_per_page', 'force_per_page', 10, 2 );
>


On Mon, Sep 30, 2013 at 2:50 PM, Nikola Nikolov <nikolov.tmw at gmail.com>wrote:

> The quickest thing I can think of is a mu-plugin, which would hook to one
> of the query filters and would simply override the posts_per_page(in case
> of users it would be different) query variable.
>
> Here is an example plugin that you can place straight into *
> /wp-content/mu-plugins/override-counts.php* :
>
>
> <?php
> /*
> Plugin Name: Override WP List Table limit preferences
> */
>
>
> // Override the posts per page variable
> function my_ppp_query_overload( $vars ) {
>     if ( is_admin() ) { // Only affect the admin queries
>         $vars['posts_per_page'] = *20*;
>     }
>     return $vars;
> }
> add_filter( 'request', 'my_ppp_query_overload' );
>
> function my_users_number_query_overload( $query ) {
>         if ( is_admin() ) { // Only affect the admin queries
>                 global $wpdb;
>                 $query->query_vars['number'] = *20*;
>                 // limit
>                 if ( isset( $query->query_vars['number'] ) &&
> $query->query_vars['number'] ) {
>                         if ( $query->query_vars['offset'] ) {
>                                 $query->query_limit =
> $wpdb->prepare("LIMIT %d, %d",
> $query->query_vars['offset'], $query->query_vars['number']);
>                         } else {
>                                 $query->query_limit =
> $wpdb->prepare("LIMIT %d",
> $query->query_vars['number']);
>                         }
>                 }
>         }
> }
> add_action( 'pre_user_query', 'my_users_number_query_overload', 10 );
>
> // The users list needs some extra help by overriding the user's
> preference.
> // Otherwise, the table would list only X users, but the pagination
> would be incorrect.
> function my_override_user_dashboard_settings() {
>         if ( is_admin() && ( $uid = get_current_user_id() ) ) {
>                 $user_settings = array( 'users_per_page',
> 'site_users_network_per_page' );
>                 update_user_option( $uid, 'users_per_page', *20* );
>         }
> }
> add_action( 'init', 'my_override_user_dashboard_settings', 10 );
>
>
> I have only tried this in a normal install, but I see no reason for it not
> to work in a multisite install as well.
>
> You can adjust all "20" numbers to whatever you want your users to be
> limited to. Note that for the post/pages/custom post types they will still
> see their preferred number in the "Screen Options" panel, but for the Users
> lists, they will actually see the number that you enter(and it will be
> over-ridden on every request).
>
> That is because, when hooking to the "request" filter, the posts table
> pagination adjusts automatically just fine, but the users pagination does
> not.
>
> If that doesn't suite you well enough, it will be at least a pretty good
> point to start at :)
>
> Hope that helps,
> Nikola Nikolov
>
>
> On Mon, Sep 30, 2013 at 11:01 PM, Jesse Friedman <me at jes.se.com> wrote:
>
> > We are experiencing a rather large load on our servers because we have
> 500
> > sites on a multisite network with a 100 plus users that are working all
> day
> > long.
> >
> > One thing I would like to do to limit the load on the server is to
> globally
> > control the number of posts, users, cpt's, comments, etc... that someone
> > can display in their admin screen.
> >
> > Right now I'm sure many of my users have changed that number to show 50,
> > 100 or more posts on any given screen.
> >
> > I would like to reset everything to display 20 items per page. Anyone
> have
> > an easy way to do this?
> >
> > --
> > thanks
> >
> > *jesse friedman*
> > jes.se.com *
> > *
> > Book: Web Designers Guide to WordPress -
> > http://wdgwp.com/onamazon<http://wdgwp.com/onamazon>
> > Twitter: @professor <http://twitter.com/professor>
> > Facebook: Like<
> > https://www.facebook.com/pages/Jesse-Friedman/204793299545174>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 

? I've kinda got a thing for WordPress >
http://www.werdswords.com<http://www.drewapicture.com>

From developer at rogerhub.com  Mon Sep 30 23:23:45 2013
From: developer at rogerhub.com (Roger Chen)
Date: Mon, 30 Sep 2013 16:23:45 -0700
Subject: [wp-hackers] Improving performance for lots of comments
Message-ID: <CAEdQCeW1A_f14do2V-mtSiSxT2-HetRfif5RHkvGuLEdp1qsRg@mail.gmail.com>

Hi all,

One of my WordPress pages has 2,000+ comments and when I visit it, it can
take 5-6 seconds to load. Of course, this isn't a problem for visitors
because a cached version gets served, but it is still annoying to have to
wait that long for all of the comments to render. I don't want to break the
comments into pages either, since all of those comments are a huge SEO
boost.

I have removed cut down my comments template to the bare minimum, but the
comment markup loop still takes too long. I wish there were some way for
WordPress to automatically cache the markup for past comments so that every
time a new comment is posted, it only needs to generate markup for new
comments.

Does anyone have experience with something like this?

Roger

