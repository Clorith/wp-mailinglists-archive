From r at schestowitz.com  Sun Apr  1 10:33:23 2007
From: r at schestowitz.com (Roy Schestowitz)
Date: Sun Apr  1 10:42:56 2007
Subject: [wp-hackers] WP-Hackers Stats for March 2007
Message-ID: <460F8A73.70908@schestowitz.com>

  ?  Times are Greenwich Mean Time (GMT) +0:00

  ?  Statistics span a period of one month

  ?  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  ?  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | computerguru neosmart.net                    |   40 |  6.22 % |
|  2 | ag.ml2007 zirona.com                         |   32 |  4.98 % |
|  3 | m mullenweg.com                              |   27 |  4.20 % |
|  4 | iacobs m0n5t3r.info                          |   25 |  3.89 % |
|  5 | lloydomattic gmail.com                       |   24 |  3.73 % |
|  6 | ryan boren.nu                                |   24 |  3.73 % |
|  7 | robin.adr gmail.com                          |   23 |  3.58 % |
|  8 | peter.westwood ftwr.co.uk                    |   21 |  3.27 % |
|  9 | jeremy.visser gmail.com                      |   20 |  3.11 % |
| 10 | elharo metalab.unc.edu                       |   19 |  2.95 % |
| 11 | false.hopes gmail.com                        |   18 |  2.80 % |
| 12 | theapparatus gmail.com                       |   16 |  2.49 % |
| 13 | martin.fitzpatrick gmail.com                 |   15 |  2.33 % |
| 14 | andy yellowswordfish.com                     |   15 |  2.33 % |
| 15 | yahgrp poplarware.com                        |   14 |  2.18 % |
| 16 | chris.hearn01 ntlworld.com                   |   13 |  2.02 % |
| 17 | mark.wordpress txfx.net                      |   13 |  2.02 % |
| 18 | lists.automattic.com callum-macdonald.com    |   11 |  1.71 % |
| 19 | zamoose gmail.com                            |   10 |  1.56 % |
| 20 | speedboxer gmail.com                         |   10 |  1.56 % |
| 21 | ross.bennetts une.edu.au                     |    9 |  1.40 % |
| 22 | elias torrez.us                              |    8 |  1.24 % |
| 23 | lists.permutype gmail.com                    |    8 |  1.24 % |
| 24 | spencerp1 gmail.com                          |    8 |  1.24 % |
| 25 | dan dancoulter.com                           |    8 |  1.24 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  212 | 32.97 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | ag.ml2007 zirona.com                                 |   26.9 |
|  2 | computerguru neosmart.net                            |   25.0 |
|  3 | elharo metalab.unc.edu                               |   21.2 |
|  4 | robin.adr gmail.com                                  |   18.6 |
|  5 | false.hopes gmail.com                                |   18.2 |
|  6 | ryan boren.nu                                        |   17.8 |
|  7 | r schestowitz.com                                    |   17.2 |
|  8 | iacobs m0n5t3r.info                                  |   16.5 |
|  9 | ross.bennetts une.edu.au                             |   16.3 |
| 10 | m mullenweg.com                                      |   13.8 |
| 11 | speedboxer gmail.com                                 |   13.2 |
| 12 | lloydomattic gmail.com                               |   13.1 |
| 13 | mark.wordpress txfx.net                              |   12.4 |
| 14 | peter.westwood ftwr.co.uk                            |   12.2 |
| 15 | martin.fitzpatrick gmail.com                         |   11.6 |
| 16 | wordpress dd32.id.au                                 |   11.1 |
| 17 | jeremy.visser gmail.com                              |   10.3 |
| 18 | chris.hearn01 ntlworld.com                           |    9.2 |
| 19 | theapparatus gmail.com                               |    8.7 |
| 20 | andy yellowswordfish.com                             |    8.2 |
| 21 | Brian TheCodeCave.com                                |    7.7 |
| 22 | wphackers jamietalbot.com                            |    7.6 |
| 23 | yahgrp poplarware.com                                |    6.9 |
| 24 | elias torrez.us                                      |    6.9 |
| 25 | jswitzer gmail.com                                   |    6.9 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | r schestowitz.com                                     |  5888 |
|  2 | wordpress dd32.id.au                                  |  2270 |
|  3 | emmensetech gmail.com                                 |  2161 |
|  4 | tbarta gmail.com                                      |  1941 |
|  5 | ross.bennetts une.edu.au                              |  1850 |
|  6 | hodude81 yahoo.com                                    |  1472 |
|  7 | jswitzer gmail.com                                    |  1404 |
|  8 | omelnyk gmail.com                                     |  1373 |
|  9 | ckwu ck-erp.net                                       |  1362 |
| 10 | speedboxer gmail.com                                  |  1356 |
| 11 | nbachiyski developer.bg                               |  1350 |
| 12 | jjk3 msstate.edu                                      |  1320 |
| 13 | timo.kissing+wordpress gmail.com                      |  1277 |
| 14 | chris clwill.com                                      |  1210 |
| 15 | stevelle gmail.com                                    |  1209 |
| 16 | elharo metalab.unc.edu                                |  1144 |
| 17 | hovenko linpro.no                                     |  1125 |
| 18 | wphackers jamietalbot.com                             |  1117 |
| 19 | davebytes comcast.net                                 |  1092 |
| 20 | mikea turbonet.com                                    |  1041 |
| 21 | false.hopes gmail.com                                 |  1032 |
| 22 | alexander.orlov loxal.net                             |  1022 |
| 23 | ckunte gmail.com                                      |  1011 |
| 24 | bhawkeslewis googlemail.com                           |   993 |
| 25 | Brian TheCodeCave.com                                 |   987 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] Should OpenID be in WP core?    |   39 |  6.07 % |
|  2 | [wp-hackers] Plugin Licenses                 |   26 |  4.04 % |
|  3 | [wp-hackers] Upgrade to 2.1.2                |   22 |  3.42 % |
|  4 | [wp-hackers] Any other way to do it? (or,    |   19 |  2.95 % |
|  5 | [wp-hackers] p inside blockquote             |   18 |  2.80 % |
|  6 | [wp-hackers] File names in WP base folder    |   18 |  2.80 % |
|  7 | [wp-hackers] Google SoC: PostgreSQL port     |   18 |  2.80 % |
|  8 | [wp-hackers] Plugin Language Translation     |   18 |  2.80 % |
|  9 | [wp-hackers] port of 2.1 to postgresql       |   17 |  2.64 % |
| 10 | [wp-hackers] Re: 2.0.10 and 2.1.3 Release Ca |   17 |  2.64 % |
| 11 | [wp-hackers] Visual Rich Editor in Comments  |   16 |  2.49 % |
| 12 | [wp-hackers] Import from NUKE script...      |   13 |  2.02 % |
| 13 | [wp-hackers] On Flooding Trac                |   13 |  2.02 % |
| 14 | [wp-hackers] plugin loading order (rfc)      |   12 |  1.87 % |
| 15 | [wp-hackers] Google Summer of Code 2007      |   12 |  1.87 % |
| 16 | [wp-hackers] Plugin Directory Bug            |   12 |  1.87 % |
| 17 | [wp-hackers] User Roles                      |   11 |  1.71 % |
| 18 | [wp-hackers] Call for Plugin Developer       |   11 |  1.71 % |
| 19 | [wp-hackers] Re: Adding HTML Elements to Tin |   10 |  1.56 % |
| 20 | [wp-hackers] Should OpenID be bundled by def |   10 |  1.56 % |
| 21 | [wp-hackers] SVN Question                    |   10 |  1.56 % |
| 22 | [wp-hackers] Any other way to do it?  (or, d |    9 |  1.40 % |
| 23 | [wp-hackers] Quick dumb question about get_o |    9 |  1.40 % |
| 24 | [wp-hackers] Nice to meet you                |    9 |  1.40 % |
| 25 | [wp-hackers] Patch for unixtime support in p |    9 |  1.40 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  265 | 41.21 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  237 | 36.86 % |
|  2 | Thunderbird 1.5.0.10 (Windows/20070221)      |   82 | 12.75 % |
|  3 | Microsoft Office Outlook 12.0                |   53 |  8.24 % |
|  4 | Evolution 2.8.3                              |   32 |  4.98 % |
|  5 | Apple Mail (2.752.2)                         |   32 |  4.98 % |
|  6 | Thunderbird 2.0b1 (X11/20070208)             |   25 |  3.89 % |
|  7 | Thunderbird 1.5.0.10 (Macintosh/20070221)    |   24 |  3.73 % |
|  8 | Apple Mail (2.752.3)                         |   22 |  3.42 % |
|  9 | Thunderbird 1.5.0.7 (Windows/20060909)       |   14 |  2.18 % |
| 10 | Thunderbird 1.5.0.10 (X11/20070306)          |   13 |  2.02 % |
| 11 | Thunderbird 1.5.0.9 (Macintosh/20061207)     |   10 |  1.56 % |
| 12 | Microsoft Outlook                            |    9 |  1.40 % |
| 13 | Thunderbird 1.5.0.9 (X11/20070103)           |    8 |  1.24 % |
| 14 | Thunderbird 2.0pre (Windows/20070309)        |    8 |  1.24 % |
| 15 | KMail                                        |    8 |  1.24 % |
| 16 | SquirrelMail/1.4.6-rc1                       |    7 |  1.09 % |
| 17 | Thunderbird 1.5.0.10 (X11/20070302)          |    6 |  0.93 % |
| 18 | Apple Mail (2.749.3)                         |    6 |  0.93 % |
| 19 | Thunderbird 1.5.0.9 (X11/20070212)           |    5 |  0.78 % |
| 20 | Opera Mail/9.20 (Win32)                      |    5 |  0.78 % |
| 21 | Thunderbird 1.5.0.9 (Windows/20061207)       |    4 |  0.62 % |
| 22 | SquirrelMail/1.4.8                           |    4 |  0.62 % |
| 23 | Microsoft Outlook Express 6.x                |    3 |  0.47 % |
| 24 | Thunderbird 1.5.0.9 (X11/20070113)           |    3 |  0.47 % |
| 25 | Internet Messaging Program (IMP) H3 (4.1.3)  |    2 |  0.31 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |   21 |  3.27 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | moi kirsch.com.mx                                   | 96.76 % |
|  2 | alakhnor wanadoo.fr                                 | 96.67 % |
|  3 | g30rg3x gmail.com                                   | 83.59 % |
|  4 | hovercrafter earthlink.net                          | 80.64 % |
|  5 | ryanfitzer gmail.com                                | 79.91 % |
|  6 | fil fortes.com                                      | 78.51 % |
|  7 | wp-hackers ezdispatch.com                           | 77.42 % |
|  8 | andy yellowswordfish.com                            | 75.85 % |
|  9 | davec postgresintl.com                              | 75.75 % |
| 10 | wp watershedstudio.com                              | 74.23 % |
| 11 | computerguru neosmart.net                           | 70.89 % |
| 12 | lists.automattic.com callum-macdonald.com           | 69.91 % |
| 13 | codehooligans codehooligans.com                     | 69.03 % |
| 14 | m marcosmedia.com                                   | 68.99 % |
| 15 | andrew fergcorp.com                                 | 68.62 % |
| 16 | tlongren gmail.com                                  | 66.93 % |
| 17 | lists.permutype gmail.com                           | 64.90 % |
| 18 | alan verselogic.net                                 | 63.36 % |
| 19 | speedboxer gmail.com                                | 60.27 % |
| 20 | howachen gmail.com                                  | 59.21 % |
| 21 | chris.hearn01 ntlworld.com                          | 57.58 % |
| 22 | jmdoren ok.cl                                       | 53.35 % |
| 23 | scaturan negimaki.com                               | 53.03 % |
| 24 | peter.westwood ftwr.co.uk                           | 51.89 % |
| 25 | devilsoulblack gmail.com                            | 51.07 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 44.87 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% ---------------------------------#--------------- - 49
 90% -------------------#---#---#-----#--------------- msgs
 80% -------------------#---#---#-----#-#---#---------
 70% -------------------#-#-#-#-#-#-#-#-#---#-#-------
 60% -------------------#-#-#-#-#-#-#-#-#-#-#-#-------
 50% -------------------#-#-#-#-#-#-#-#-#-#-#-#-#-----
 40% ---------------#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 30% -#-------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#-------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#-----#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -------------------------------#------------------------------- - 81
 90% -------------------------------#------------------------------- msgs
 80% -------------------------------#-------------------------------
 70% -------------------------------#-------------------------------
 60% -------------------------------#-------------------------------
 50% -------------------------------#-------------------------------
 40% ---#-----------#-----------#---#-#-----------------------------
 30% ---#-----------#-----#-----#---#-#-#-#-----#-#---------#-------
 20% -#-#-#---------#-----#-#---#-#-#-#-#-#-----#-#---#---#-#-------
 10% -#-#-#-#-#-#-#-#-#-#-#-#---#-#-#-#-#-#-----#-#---#-#-#-#-------
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -----------------#----------- - 164
 90% -----------------#----------- msgs
 80% -----------------#-----------
 70% -----------------#-----------
 60% -------------#---#-----------
 50% ---------#---#---#-------#---
 40% -#-------#---#---#---#---#---
 30% -#---#---#---#---#---#---#---
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : andy yellowswordfish.com
      Subject    : [wp-hackers] Re: wp-hackers Digest, Vol 26, Issue 80
      Date       : Sun, 25 Mar 2007 17:12:16 +0100
      Quote ratio: 98.19% / 16595 bytes

***** Longest message:
      Author     : moi kirsch.com.mx
      Subject    : [wp-hackers] Call for Plugin Developer
      Date       : Sun, 18 Mar 2007 22:14:16 -0600
      Size       : 22317 bytes

***** Most successful subject:
      Subject    : [wp-hackers] Should OpenID be in WP core?
      No. of msgs: 39
      Total size : 58825 bytes

***** Final summary:
      Total number of messages:             643
      Total number of different authors:    107
      Total number of different subjects:   133
      Total size of messages (w/o headers): 913873 bytes
      Average size of a message:            1421 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...


DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.
From wphackers at galleryembedded.com  Sun Apr  1 11:40:13 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Sun Apr  1 11:40:18 2007
Subject: [wp-hackers] bug #3563 -> Buttonsnap Milestone Moved..
Message-ID: <1175427613.m2f.30882@www.galleryembedded.com>

I noticed that the broken buttonsnap (bug 3563) milestone has been moved to 2.3 the 03/27/07 16:54:38 changed by foolswisdom..

I am still fighting the aftermath of button changes since WP 2.1 any chance we can get the milestone moved back to 2.2 and save a whole lot of headaches for us plugin authors?

------------------------
WPG2 2.0 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From peter.westwood at ftwr.co.uk  Sun Apr  1 13:32:54 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun Apr  1 13:32:53 2007
Subject: [wp-hackers] bug #3563 -> Buttonsnap Milestone Moved..
In-Reply-To: <1175427613.m2f.30882@www.galleryembedded.com>
References: <1175427613.m2f.30882@www.galleryembedded.com>
Message-ID: <460FB486.5010107@ftwr.co.uk>

ozgreg wrote:
> I noticed that the broken buttonsnap (bug 3563) milestone has been moved to 2.3 the 03/27/07 16:54:38 changed by foolswisdom..
> 
> I am still fighting the aftermath of button changes since WP 2.1 any chance we can get the milestone moved back to 2.2 and save a whole lot of headaches for us plugin authors?
> 

Yes.  You need to champion the ticket:

Lloyd Budd wrote:
 > The target release date for WordPress 2.2 is less than a month away,
 > April 23rd.
 >
 > I am bumping non-severe tickets out of 2.2 .
 > If it has a patch, I am bumping it to 2.3 .
 > If it does not, I am bumping it to 2.4 .
 >
 > If I bump something, feel free to champion that ticket getting into
 > 2.2. Express in the ticket why the issue is more severe than the
 > ticket currently reflects.

See if you can work on a patch if it doesn't already have one.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk
From list at mumbles-uk.com  Sun Apr  1 16:46:31 2007
From: list at mumbles-uk.com (list@mumbles-uk.com)
Date: Sun Apr  1 16:46:40 2007
Subject: [wp-hackers] typing text script and wordpress. 
In-Reply-To: <460FB486.5010107@ftwr.co.uk>
References: <1175427613.m2f.30882@www.galleryembedded.com>
	<460FB486.5010107@ftwr.co.uk>
Message-ID: <41487.80.1.224.16.1175445991.squirrel@webmail.mumbles-uk.com>

I have been trying to get
http://www.dynamicdrive.com/dynamicindex10/text5.htm working with no
apparent luck.

So if someone can get it to work with wordpress i can give them a max of $20.

Willing someone to respond so I can get this working,


From ryan at ryanduff.net  Sun Apr  1 18:29:41 2007
From: ryan at ryanduff.net (Ryan Duff)
Date: Sun Apr  1 18:30:21 2007
Subject: [wp-hackers] bug #3563 -> Buttonsnap Milestone Moved..
In-Reply-To: <460FB486.5010107@ftwr.co.uk>
References: <1175427613.m2f.30882@www.galleryembedded.com>
	<460FB486.5010107@ftwr.co.uk>
Message-ID: <8A093A05-7858-48F0-9C05-4DC3DDAE754D@ryanduff.net>

Peter Westwood wrote:

> ozgreg wrote:
>> I noticed that the broken buttonsnap (bug 3563) milestone has been  
>> moved to 2.3 the 03/27/07 16:54:38 changed by foolswisdom..
>> I am still fighting the aftermath of button changes since WP 2.1  
>> any chance we can get the milestone moved back to 2.2 and save a  
>> whole lot of headaches for us plugin authors?
>
> Yes.  You need to champion the ticket:
>
> Lloyd Budd wrote:
> > The target release date for WordPress 2.2 is less than a month away,
> > April 23rd.
> >
> > I am bumping non-severe tickets out of 2.2 .
> > If it has a patch, I am bumping it to 2.3 .
> > If it does not, I am bumping it to 2.4 .
> >
> > If I bump something, feel free to champion that ticket getting into
> > 2.2. Express in the ticket why the issue is more severe than the
> > ticket currently reflects.
>
> See if you can work on a patch if it doesn't already have one.


Well since Lloyd said if it already had a patch, it was moving to 2.3  
if it was considered non-severe.

It looks more to be an issue over whether it's severe or not.


--
Ryan Duff
web: http://ryanduff.net
aim: ryancduff
From jswitzer at gmail.com  Sun Apr  1 20:58:00 2007
From: jswitzer at gmail.com (jason switzer)
Date: Sun Apr  1 20:58:08 2007
Subject: [wp-hackers] Re: 2.0.10 and 2.1.3 Release Candidates
In-Reply-To: <bb0886ed0703281737y6cced373gc1d05863b7fa8ae4@mail.gmail.com>
References: <bb0886ed0703141742s2fd6f934w8e6fedadc35a742b@mail.gmail.com>
	<bb0886ed0703161534p51491bf8v44db677f95584cbf@mail.gmail.com>
	<bb0886ed0703170158v1550531aia9fabc6c2cafaf40@mail.gmail.com>
	<bb0886ed0703211539k5a88fd12w3b57943ea0e43d94@mail.gmail.com>
	<bb0886ed0703281737y6cced373gc1d05863b7fa8ae4@mail.gmail.com>
Message-ID: <69980e7f0704011358t41686eapa4199fca78d2744a@mail.gmail.com>

Since the WordPress Ideas page went active, one of the top ideas was easy
updating of WordPress. In fact, as of right now, this is the second highest
rated idea.

The 2.0.10 and 2.1.3 release is the 5th release since the public
announcement of the Ideas page. Has there been any development on this as of
yet? If not, how many more releases does the WordPress community have to
wait for before our voice is heard?

-Jason

On 3/28/07, Ryan Boren <ryan@boren.nu> wrote:
>
> We're now targeting April 2nd for release.  I'm going to do another
> round of auditing and then package RC3 tomorrow.  I think we shook out
> all of the bugs from our last big security patch, but more testing is
> always welcome.
>
> Ryan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From elharo at metalab.unc.edu  Sun Apr  1 21:03:37 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Sun Apr  1 21:03:43 2007
Subject: [wp-hackers] Re: 2.0.10 and 2.1.3 Release Candidates
In-Reply-To: <69980e7f0704011358t41686eapa4199fca78d2744a@mail.gmail.com>
References: <bb0886ed0703141742s2fd6f934w8e6fedadc35a742b@mail.gmail.com>	<bb0886ed0703161534p51491bf8v44db677f95584cbf@mail.gmail.com>	<bb0886ed0703170158v1550531aia9fabc6c2cafaf40@mail.gmail.com>	<bb0886ed0703211539k5a88fd12w3b57943ea0e43d94@mail.gmail.com>	<bb0886ed0703281737y6cced373gc1d05863b7fa8ae4@mail.gmail.com>
	<69980e7f0704011358t41686eapa4199fca78d2744a@mail.gmail.com>
Message-ID: <46101E29.7080803@metalab.unc.edu>

jason switzer wrote:

> The 2.0.10 and 2.1.3 release is the 5th release since the public
> announcement of the Ideas page. Has there been any development on this 
> as of
> yet? If not, how many more releases does the WordPress community have to
> wait for before our voice is heard?

That depends completely on how long until someone contributes the time 
or money necessary to implement this laudable feature.

Do not confuse a lack of action with a lack of hearing. I'm sure there 
are several people here who would be happy to implement this feature for 
you for the right price.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From robin.adr at gmail.com  Sun Apr  1 21:04:12 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Sun Apr  1 21:04:29 2007
Subject: [wp-hackers] Re: 2.0.10 and 2.1.3 Release Candidates
In-Reply-To: <69980e7f0704011358t41686eapa4199fca78d2744a@mail.gmail.com>
References: <bb0886ed0703141742s2fd6f934w8e6fedadc35a742b@mail.gmail.com>
	<bb0886ed0703161534p51491bf8v44db677f95584cbf@mail.gmail.com>
	<bb0886ed0703170158v1550531aia9fabc6c2cafaf40@mail.gmail.com>
	<bb0886ed0703211539k5a88fd12w3b57943ea0e43d94@mail.gmail.com>
	<bb0886ed0703281737y6cced373gc1d05863b7fa8ae4@mail.gmail.com>
	<69980e7f0704011358t41686eapa4199fca78d2744a@mail.gmail.com>
Message-ID: <d135ca9c0704011404j6b7f6c31n70055216f80ad90d@mail.gmail.com>

I believe it's now too late to add them into the 2.0 and 2.1 branches, and
2.2 is about to drop in 3 weeks if I recall correctly.

Personally, I don't know how upgrading could be easier... you just upload
the new files over the old files, and run wp-admin/upgrade.php. If a patch
file is what you're looking for, I believe Mark Jaquith produces these after
each release.

You can avoid this altogether by using SVN, and switch'ing to the new branch
when a major release comes out.

On 4/1/07, jason switzer <jswitzer@gmail.com> wrote:
>
> Since the WordPress Ideas page went active, one of the top ideas was easy
> updating of WordPress. In fact, as of right now, this is the second
> highest
> rated idea.
>
> The 2.0.10 and 2.1.3 release is the 5th release since the public
> announcement of the Ideas page. Has there been any development on this as
> of
> yet? If not, how many more releases does the WordPress community have to
> wait for before our voice is heard?
>
> -Jason
>
> On 3/28/07, Ryan Boren <ryan@boren.nu> wrote:
> >
> > We're now targeting April 2nd for release.  I'm going to do another
> > round of auditing and then package RC3 tomorrow.  I think we shook out
> > all of the bugs from our last big security patch, but more testing is
> > always welcome.
> >
> > Ryan
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From lloydomattic at gmail.com  Sun Apr  1 23:54:52 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Sun Apr  1 23:54:59 2007
Subject: [wp-hackers] bug #3563 -> Buttonsnap Milestone Moved..
In-Reply-To: <8A093A05-7858-48F0-9C05-4DC3DDAE754D@ryanduff.net>
References: <1175427613.m2f.30882@www.galleryembedded.com>
	<460FB486.5010107@ftwr.co.uk>
	<8A093A05-7858-48F0-9C05-4DC3DDAE754D@ryanduff.net>
Message-ID: <70ebb7140704011654t63a5cbc4h87da300f4e0170bf@mail.gmail.com>

On 4/1/07, Ryan Duff <ryan@ryanduff.net> wrote:
> Peter Westwood wrote:
>
> Well since Lloyd said if it already had a patch, it was moving to 2.3
> if it was considered non-severe.
>
> It looks more to be an issue over whether it's severe or not.

There is also the opportunities to comment in the ticket that the
attached patch still applies, that you have it applied in your
environment, and have tested it in x ways.

Cheers,
-- 
Lloyd Budd | Quality Assurance Lead | 250-885-1744
WordPress.com | WordPress.org | Automattic.com
From speedboxer at gmail.com  Mon Apr  2 00:34:58 2007
From: speedboxer at gmail.com (Matt)
Date: Mon Apr  2 00:35:05 2007
Subject: [wp-hackers] WP-Hackers Stats for March 2007
In-Reply-To: <46104668.5030900@gmail.com>
References: <460F8A73.70908@schestowitz.com> <46104668.5030900@gmail.com>
Message-ID: <b88434820704011734h1dd1e9fev406206cffb57cf34@mail.gmail.com>

GMT, as said on the first line of the Stats message. :P

On 4/1/07, Jeremy Visser <jeremy.visser@gmail.com> wrote:
>
> Roy Schestowitz wrote:
> > ***** Graph showing number of messages written during hours of day:
> >
> > 100% ---------------------------------#--------------- - 49
> >  90% -------------------#---#---#-----#--------------- msgs
> >  80% -------------------#---#---#-----#-#---#---------
> >  70% -------------------#-#-#-#-#-#-#-#-#---#-#-------
> >  60% -------------------#-#-#-#-#-#-#-#-#-#-#-#-------
> >  50% -------------------#-#-#-#-#-#-#-#-#-#-#-#-#-----
> >  40% ---------------#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
> >  30% -#-------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
> >  20% -#-------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
> >  10% -#-#-#-#-----#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
> >       * * * * * * * * * * * * * * * * * * * * * * * *
> > hour  0         5           11          17          23
>
> I never quite get this stat. What timezone is it in?
>
> --
> Jeremy Visser
>
> ()  ascii ribbon campaign - against html e-mail
> /\  www.asciiribbon.org   - against proprietary attachments
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From jeremy.visser at gmail.com  Mon Apr  2 01:33:02 2007
From: jeremy.visser at gmail.com (Jeremy Visser)
Date: Mon Apr  2 01:33:07 2007
Subject: [wp-hackers] WP-Hackers Stats for March 2007
In-Reply-To: <b88434820704011734h1dd1e9fev406206cffb57cf34@mail.gmail.com>
References: <460F8A73.70908@schestowitz.com> <46104668.5030900@gmail.com>
	<b88434820704011734h1dd1e9fev406206cffb57cf34@mail.gmail.com>
Message-ID: <43253ec50704011833o7ab639a1g99d9141af2a616a0@mail.gmail.com>

On 4/2/07, Matt <speedboxer@gmail.com> wrote:
> GMT, as said on the first line of the Stats message. :P

Oops, ok. :)
From mark.wordpress at txfx.net  Mon Apr  2 02:42:18 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Apr  2 02:42:53 2007
Subject: [wp-hackers] Re: 2.0.10 and 2.1.3 Release Candidates
In-Reply-To: <69980e7f0704011358t41686eapa4199fca78d2744a@mail.gmail.com>
References: <bb0886ed0703141742s2fd6f934w8e6fedadc35a742b@mail.gmail.com>
	<bb0886ed0703161534p51491bf8v44db677f95584cbf@mail.gmail.com>
	<bb0886ed0703170158v1550531aia9fabc6c2cafaf40@mail.gmail.com>
	<bb0886ed0703211539k5a88fd12w3b57943ea0e43d94@mail.gmail.com>
	<bb0886ed0703281737y6cced373gc1d05863b7fa8ae4@mail.gmail.com>
	<69980e7f0704011358t41686eapa4199fca78d2744a@mail.gmail.com>
Message-ID: <29205186-5ECF-44C6-820A-5F31158A68D9@txfx.net>

On Apr 1, 2007, at 4:58 PM, jason switzer wrote:

> The 2.0.10 and 2.1.3 release is the 5th release since the public
> announcement of the Ideas page. Has there been any development on  
> this as of
> yet? If not, how many more releases does the WordPress community  
> have to
> wait for before our voice is heard?

2.0.10 and 2.1.3 are minor releases, for bug and security reasons.   
New features don't go into minor releases.

As for "easy" updating of WordPress, there's no silver bullet.  By  
the time you get all the permissions changed so that WordPress can  
actually update itself, you might as well have just uploaded the new  
version.  Worth considering, but don't expect a completely smooth  
ride.  Personally, I'd much rather get update notification (for WP  
core and for plugins) into core, and then consider adding self- 
updating at a later date.  We're trying for shorter development  
cycles, so there's no need to do everything all at once.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From shacker at birdhouse.org  Mon Apr  2 04:15:25 2007
From: shacker at birdhouse.org (Scot Hacker)
Date: Mon Apr  2 04:15:40 2007
Subject: [wp-hackers] Re: 2.0.10 and 2.1.3 Release Candidates
In-Reply-To: <20070402003506.DB2E67148@comox.textdrive.com>
References: <20070402003506.DB2E67148@comox.textdrive.com>
Message-ID: <BDA23AD9-0EDE-47A6-8DFE-F67C6AD91C06@birdhouse.org>

From: "Robin Adrianse" <robin.adr@gmail.com>

> Personally, I don't know how upgrading could be easier... you just  
> upload
> the new files over the old files, and run wp-admin/upgrade.php.

> You can avoid this altogether by using SVN, and switch'ing to the  
> new branch
> when a major release comes out.

Easy in principle. In reality, few users have svn access. And believe  
it or not, most people (yes, most) are intimidated / confused by  
FTP.  And if you take a look at the public upgrade instructions:

http://codex.wordpress.org/Upgrading_WordPress

your average user is understandably intimidated. Especially when you  
factor in the instructions that people should deactivate all plugins  
and then re-activate them one by one. And that they back up their  
database before proceeding. I've never followed these steps, and have  
never had things break, but people do take the instructions at face  
value, which means the process is a *lot* more involved for them than  
it probably needs to be.

People are afraid they're going to break something, or don't have the  
time or skills to go through all the steps. I actually had what I  
thought was a very internet-savvy user confess that he had not  
upgraded from 1.2.x or something because the instructions made it  
seem like if he didn't do everything exactly right he'd break his blog.

... Or we could have a one-click option in Dashboard that would  
require no skills or time to operate. A lot of people out there are  
spending 30 fearful minutes upgrading WP, when it could be 30 seconds.

The downside is that inevitably, an automatic upgrader is going to  
break a few blogs with unexpected configurations, and there's going  
to be heat from that. Still, I think it would be better than the  
current situation, which is that people aren't even trying to upgrade  
because it seems too complicated.

./s



From cpoteet at siolon.com  Mon Apr  2 13:03:57 2007
From: cpoteet at siolon.com (Chris Poteet)
Date: Mon Apr  2 13:04:08 2007
Subject: [wp-hackers] Re: Re: 2.0.10 and 2.1.3 Release Candidates
Message-ID: <6ca5e4e30704020603h3d89984dr132aa3881affb64c@mail.gmail.com>

I agree with Mark that it would be more profitable to have plugin update
notification built into the core than updating the entire system.  Something
Firefox/Mint style would be great.
From Brian at TheCodeCave.com  Mon Apr  2 13:59:40 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  2 13:53:48 2007
Subject: [wp-hackers] Re: Re: 2.0.10 and 2.1.3 Release Candidates
In-Reply-To: <6ca5e4e30704020603h3d89984dr132aa3881affb64c@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6E8F@dsimail.drbsystems.com>

> Something Firefox/Mint style would be great.
Ug... Just don't require the hacking of every single plugin when a point
release goes out.  You shouldn't HAVE to unpack an archive and edit the
source's "max version" in order to install 2.1 plugin on 2.1.2 release, as
I've had to in FireFox.  Maybe they've fixed that by now in FF, but it sure
was annoying...

From computerguru at neosmart.net  Mon Apr  2 13:58:03 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  2 13:58:22 2007
Subject: [wp-hackers] Re: Re: 2.0.10 and 2.1.3 Release Candidates
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6E8F@dsimail.drbsystems.com>
References: <6ca5e4e30704020603h3d89984dr132aa3881affb64c@mail.gmail.com>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6E8F@dsimail.drbsystems.com>
Message-ID: <001101c7752e$f1c28130$d5478390$@net>

Nope, they haven't.

No matter how many people rant about it, they absoloutlely refuse to change
it.. I even proposed a fix by including a "Max Verified" feature instead,
where authors mark ONLY verified not working max values, but to no avail.

Not that I care, since I'm blissfully using Opera now - it actually works
and behaves the same on OS X, Linux, and Windows... PLUS I have it on my
Pocket PC. And it doesn't have as many bugs and holes.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Brian Layman
> Sent: Monday, April 02, 2007 5:00 PM
> To: wp-hackers@lists.automattic.com
> Subject: RE: [wp-hackers] Re: Re: 2.0.10 and 2.1.3 Release Candidates
> 
> > Something Firefox/Mint style would be great.
> Ug... Just don't require the hacking of every single plugin when a
> point
> release goes out.  You shouldn't HAVE to unpack an archive and edit the
> source's "max version" in order to install 2.1 plugin on 2.1.2 release,
> as
> I've had to in FireFox.  Maybe they've fixed that by now in FF, but it
> sure
> was annoying...
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From robin.adr at gmail.com  Mon Apr  2 19:58:02 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Mon Apr  2 19:58:08 2007
Subject: [wp-hackers] Re: 2.0.10 and 2.1.3 Release Candidates
In-Reply-To: <BDA23AD9-0EDE-47A6-8DFE-F67C6AD91C06@birdhouse.org>
References: <20070402003506.DB2E67148@comox.textdrive.com>
	<BDA23AD9-0EDE-47A6-8DFE-F67C6AD91C06@birdhouse.org>
Message-ID: <d135ca9c0704021258i540561f1k83b3c629235a7c37@mail.gmail.com>

Yes, it's technically possible. Simple Machines forum software does this
quite well, but you need to either use the FTP functions bundled with PHP,
or get the user to chmod a+w all the WordPress files, which is a huge
security issue. Or just get the user to go to WordPress.com...

On 4/1/07, Scot Hacker <shacker@birdhouse.org> wrote:
>
> From: "Robin Adrianse" <robin.adr@gmail.com>
>
> > Personally, I don't know how upgrading could be easier... you just
> > upload
> > the new files over the old files, and run wp-admin/upgrade.php.
>
> > You can avoid this altogether by using SVN, and switch'ing to the
> > new branch
> > when a major release comes out.
>
> Easy in principle. In reality, few users have svn access. And believe
> it or not, most people (yes, most) are intimidated / confused by
> FTP.  And if you take a look at the public upgrade instructions:
>
> http://codex.wordpress.org/Upgrading_WordPress
>
> your average user is understandably intimidated. Especially when you
> factor in the instructions that people should deactivate all plugins
> and then re-activate them one by one. And that they back up their
> database before proceeding. I've never followed these steps, and have
> never had things break, but people do take the instructions at face
> value, which means the process is a *lot* more involved for them than
> it probably needs to be.
>
> People are afraid they're going to break something, or don't have the
> time or skills to go through all the steps. I actually had what I
> thought was a very internet-savvy user confess that he had not
> upgraded from 1.2.x or something because the instructions made it
> seem like if he didn't do everything exactly right he'd break his blog.
>
> ... Or we could have a one-click option in Dashboard that would
> require no skills or time to operate. A lot of people out there are
> spending 30 fearful minutes upgrading WP, when it could be 30 seconds.
>
> The downside is that inevitably, an automatic upgrader is going to
> break a few blogs with unexpected configurations, and there's going
> to be heat from that. Still, I think it would be better than the
> current situation, which is that people aren't even trying to upgrade
> because it seems too complicated.
>
> ./s
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mark.wordpress at txfx.net  Mon Apr  2 19:45:15 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Apr  2 20:02:30 2007
Subject: [wp-hackers] Re: Re: 2.0.10 and 2.1.3 Release Candidates
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6E8F@dsimail.drbsystems.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6E8F@dsimail.drbsystems.com>
Message-ID: <075CCB45-7936-434A-B91A-E65425754C06@txfx.net>

On Apr 2, 2007, at 9:59 AM, Brian Layman wrote:

> Ug... Just don't require the hacking of every single plugin when a  
> point
> release goes out.  You shouldn't HAVE to unpack an archive and edit  
> the
> source's "max version" in order to install 2.1 plugin on 2.1.2  
> release, as
> I've had to in FireFox.

I'd be strongly against that.  readme.txt has a "Tested up to:" meta  
field, but that's just FYI, not for restricting users.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From speedboxer at gmail.com  Tue Apr  3 01:02:47 2007
From: speedboxer at gmail.com (Matt)
Date: Tue Apr  3 01:02:51 2007
Subject: [wp-hackers] Re: Re: 2.0.10 and 2.1.3 Release Candidates
In-Reply-To: <075CCB45-7936-434A-B91A-E65425754C06@txfx.net>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6E8F@dsimail.drbsystems.com>
	<075CCB45-7936-434A-B91A-E65425754C06@txfx.net>
Message-ID: <b88434820704021802n68489c47o29d8286156ed95df@mail.gmail.com>

It's not like it would be hard to check if you have the latest version.
Quite simply actually. You could just check it against a text file that
contains the latest version. Or even a feed. Of course, someone needs to
remember to update said text file. :P

On 4/2/07, Mark Jaquith <mark.wordpress@txfx.net> wrote:
>
> On Apr 2, 2007, at 9:59 AM, Brian Layman wrote:
>
> > Ug... Just don't require the hacking of every single plugin when a
> > point
> > release goes out.  You shouldn't HAVE to unpack an archive and edit
> > the
> > source's "max version" in order to install 2.1 plugin on 2.1.2
> > release, as
> > I've had to in FireFox.
>
> I'd be strongly against that.  readme.txt has a "Tested up to:" meta
> field, but that's just FYI, not for restricting users.
>
> --
> Mark Jaquith
> http://markjaquith.com/
>
> Covered Web Services
> http://coveredwebservices.com/
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From email at dalegroup.net  Tue Apr  3 05:43:52 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 05:37:25 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: 20070329150814.76061f5e@mail.lttd.net
Message-ID: <20070403054352.51710371@mail.lttd.net>

Version 0.3 is out. 

You can download it from here:
http://download.bluetrait.org/btev/latest.zip

It can now track failed logins (you need to enable override wp_login in the settings page).

I was wondering if anyone knows of a better way to track failed logins (without needing to create my own wp_login function)?

Changes in this version include:

+Logs: file uploads, Logout, registering user, failed logins (invalid user or password)
+Able to use set_error_handler
*fixed Previous/Next Page links
*stops the file from being run directly
-cleaned up and commented some code
From speedboxer at gmail.com  Tue Apr  3 05:42:51 2007
From: speedboxer at gmail.com (Matt)
Date: Tue Apr  3 05:44:27 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070403054352.51710371@mail.lttd.net>
References: <20070403054352.51710371@mail.lttd.net>
Message-ID: <b88434820704022242n40d18650k62291f071514f5a1@mail.gmail.com>

I have a question about your plugin, how are the logs stored? Are they
stored in files, the DB, what?

Thanks,
Matt


On 4/2/07, Michael Dale <email@dalegroup.net> wrote:
>
> Version 0.3 is out.
>
> You can download it from here:
> http://download.bluetrait.org/btev/latest.zip
>
> It can now track failed logins (you need to enable override wp_login in
> the settings page).
>
> I was wondering if anyone knows of a better way to track failed logins
> (without needing to create my own wp_login function)?
>
> Changes in this version include:
>
> +Logs: file uploads, Logout, registering user, failed logins (invalid user
> or password)
> +Able to use set_error_handler
> *fixed Previous/Next Page links
> *stops the file from being run directly
> -cleaned up and commented some code
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From email at dalegroup.net  Tue Apr  3 05:52:16 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 05:45:47 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: b88434820704022242n40d18650k62291f071514f5a1@mail.gmail.com
Message-ID: <20070403055216.1a5d27c1@mail.lttd.net>

> I have a question about your plugin, how are the logs stored? Are they
> stored in files, the DB, what?

Database. The plugin creates two tables (settings and events). The next version should also have an uninstall option.

Michael.
From speedboxer at gmail.com  Tue Apr  3 05:49:05 2007
From: speedboxer at gmail.com (Matt)
Date: Tue Apr  3 05:49:09 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070403055216.1a5d27c1@mail.lttd.net>
References: <20070403055216.1a5d27c1@mail.lttd.net>
Message-ID: <b88434820704022249g4cf5cf1h3620a6960eea3360@mail.gmail.com>

Hmm, but couldn't the DB become quickly clogged and "full" on a popular
blog?

On 4/2/07, Michael Dale <email@dalegroup.net> wrote:
>
> > I have a question about your plugin, how are the logs stored? Are they
> > stored in files, the DB, what?
>
> Database. The plugin creates two tables (settings and events). The next
> version should also have an uninstall option.
>
> Michael.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From computerguru at neosmart.net  Tue Apr  3 05:50:30 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr  3 05:50:43 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <b88434820704022249g4cf5cf1h3620a6960eea3360@mail.gmail.com>
References: <20070403055216.1a5d27c1@mail.lttd.net>
	<b88434820704022249g4cf5cf1h3620a6960eea3360@mail.gmail.com>
Message-ID: <001901c775b4$002e5cf0$008b16d0$@net>

Yeah, that's what the database does.
Data = storage.

It doesn't matter if it's the DB or a file or what. You'll still need to prune the logs.
Logs take space, and naturally, logging activity takes more space. But it doesn't matter where that space is being taken.....

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Matt
> Sent: Tuesday, April 03, 2007 8:49 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress Event Viewer Plugin
> 
> Hmm, but couldn't the DB become quickly clogged and "full" on a popular
> blog?
> 
> On 4/2/07, Michael Dale <email@dalegroup.net> wrote:
> >
> > > I have a question about your plugin, how are the logs stored? Are
> they
> > > stored in files, the DB, what?
> >
> > Database. The plugin creates two tables (settings and events). The
> next
> > version should also have an uninstall option.
> >
> > Michael.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> --
> Matt (speedboxer@gmail.com)
> http://mattsblog.ca/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From email at dalegroup.net  Tue Apr  3 06:00:04 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 05:53:35 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: b88434820704022249g4cf5cf1h3620a6960eea3360@mail.gmail.com
Message-ID: <20070403060004.aa5ef9e1@mail.lttd.net>

> Hmm, but couldn't the DB become quickly clogged and "full" on a popular
> blog?

At this stage events that are tracked are only for the admin panel. So visitors to the site won't generate any logs (unless of course they try to login).

The event viewer page only displays 100 events at a time, and mysql should support a few million rows in the table.

You can also clear the event table if you want. 
From speedboxer at gmail.com  Tue Apr  3 05:55:06 2007
From: speedboxer at gmail.com (Matt)
Date: Tue Apr  3 05:55:15 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070403060004.aa5ef9e1@mail.lttd.net>
References: <20070403060004.aa5ef9e1@mail.lttd.net>
Message-ID: <b88434820704022255n4e34d4a5y28b888744a180d56@mail.gmail.com>

You still might want to add a log auto-prune. :P It'll probably save you
from support headaches later on. :P

On 4/2/07, Michael Dale <email@dalegroup.net> wrote:
>
> > Hmm, but couldn't the DB become quickly clogged and "full" on a popular
> > blog?
>
> At this stage events that are tracked are only for the admin panel. So
> visitors to the site won't generate any logs (unless of course they try to
> login).
>
> The event viewer page only displays 100 events at a time, and mysql should
> support a few million rows in the table.
>
> You can also clear the event table if you want.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From email at dalegroup.net  Tue Apr  3 06:04:07 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 05:57:39 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: b88434820704022255n4e34d4a5y28b888744a180d56@mail.gmail.com
Message-ID: <20070403060407.5fa241d6@mail.lttd.net>

> You still might want to add a log auto-prune. :P It'll probably save you
> from support headaches later on. :P

Sure sounds like a good idea. There is a link that will clear the table, but I'll add an auto-prune option.

Michael.
From speedboxer at gmail.com  Tue Apr  3 06:00:00 2007
From: speedboxer at gmail.com (Matt)
Date: Tue Apr  3 06:00:04 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070403060407.5fa241d6@mail.lttd.net>
References: <20070403060407.5fa241d6@mail.lttd.net>
Message-ID: <b88434820704022300x38811f1dr3d221a36b8549fc@mail.gmail.com>

Possibly even add an option for users to set how often the logs should be
pruned... I'm assuming WP's pseudo-cron (sp?) would be used for this?

On 4/2/07, Michael Dale <email@dalegroup.net> wrote:
>
> > You still might want to add a log auto-prune. :P It'll probably save you
> > from support headaches later on. :P
>
> Sure sounds like a good idea. There is a link that will clear the table,
> but I'll add an auto-prune option.
>
> Michael.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From email at dalegroup.net  Tue Apr  3 06:10:30 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 06:04:02 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: b88434820704022300x38811f1dr3d221a36b8549fc@mail.gmail.com
Message-ID: <20070403061030.367e4b70@mail.lttd.net>

> pruned... I'm assuming WP's pseudo-cron (sp?) would be used for this?

wp-cron would work best for this as I don't want to check the number of rows in the table every time an event is written.

Michael. 
From speedboxer at gmail.com  Tue Apr  3 06:08:10 2007
From: speedboxer at gmail.com (Matt)
Date: Tue Apr  3 06:08:17 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070403061030.367e4b70@mail.lttd.net>
References: <20070403061030.367e4b70@mail.lttd.net>
Message-ID: <b88434820704022308o7e4f4109l3d74b5fd37f59066@mail.gmail.com>

Well, I was close. :P I'm not exactly a WP Plugin developer, right now. :P

On 4/2/07, Michael Dale <email@dalegroup.net> wrote:
>
> > pruned... I'm assuming WP's pseudo-cron (sp?) would be used for this?
>
> wp-cron would work best for this as I don't want to check the number of
> rows in the table every time an event is written.
>
> Michael.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From wordpress at dd32.id.au  Tue Apr  3 06:11:23 2007
From: wordpress at dd32.id.au (DD32)
Date: Tue Apr  3 06:11:04 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070403054352.51710371@mail.lttd.net>
References: <20070403054352.51710371@mail.lttd.net>
Message-ID: <op.tp6149zak6w4mc@dd32.no-ip.com>

> I was wondering if anyone knows of a better way to track failed logins  
> (without needing to create my own wp_login function)?

Perhaps the 'login_errors' filter?
The error text on the login page is sent through that filter, eg:
ERROR: Incorrect password.
ERROR: Invalid username.

(apologies is this posts twice,
Mail client is on the fritz and doing a few crazy things)
From email at dalegroup.net  Tue Apr  3 06:21:05 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 06:14:38 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: op.tp6149zak6w4mc@dd32.no-ip.com
Message-ID: <20070403062105.cdaf158d@mail.lttd.net>

> Perhaps the 'login_errors' filter?
> The error text on the login page is sent through that filter, eg:
> ERROR: Incorrect password.
> ERROR: Invalid username.

Yep that is possible. One small problems,
The username isn't passed, I like to see what username is being used.

Although that is an option. Thanks.

Michael.

From wordpress at dd32.id.au  Tue Apr  3 05:55:38 2007
From: wordpress at dd32.id.au (DD32)
Date: Tue Apr  3 06:24:56 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070403054352.51710371@mail.lttd.net>
References: <20070403054352.51710371@mail.lttd.net>
Message-ID: <op.tp61e0vwk6w4mc@dd32.no-ip.com>

On Tue, 03 Apr 2007 15:43:52 +1000, Michael Dale <email@dalegroup.net>  
wrote:
> I was wondering if anyone knows of a better way to track failed logins  
> (without needing to create my own wp_login function)?

Perhaps the 'login_errors' filter?
The error text on the login page is sent through that filter, eg:
ERROR: Incorrect password.
ERROR: Invalid username.
From wordpress at dd32.id.au  Tue Apr  3 06:33:04 2007
From: wordpress at dd32.id.au (DD32)
Date: Tue Apr  3 06:32:36 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070403062105.cdaf158d@mail.lttd.net>
References: <20070403062105.cdaf158d@mail.lttd.net>
Message-ID: <op.tp625etjk6w4mc@dd32.no-ip.com>

>> Perhaps the 'login_errors' filter?
>> The error text on the login page is sent through that filter, eg:
>> ERROR: Incorrect password.
>> ERROR: Invalid username.
>
> Yep that is possible. One small problems,
> The username isn't passed, I like to see what username is being used.
> Although that is an option. Thanks.

At that stage the raw post data should still be available.
$_POST['log'] amd $_POST['pwd'] would hold the username/password, and
$_POST['redirect_to'] will hold the page that they've been prompted to
login for?
From email at dalegroup.net  Tue Apr  3 06:42:00 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 06:35:38 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: op.tp625etjk6w4mc@dd32.no-ip.com
Message-ID: <20070403064200.171018e9@mail.lttd.net>

> At that stage the raw post data should still be available.
> $_POST['log'] amd $_POST['pwd'] would hold the username/password, and
> $_POST['redirect_to'] will hold the page that they've been prompted to
> login for?

Ah yes, good idea! I'll look into it.

Thanks again.

Michael.
From computerguru at neosmart.net  Tue Apr  3 06:38:20 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr  3 06:39:31 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <op.tp625etjk6w4mc@dd32.no-ip.com>
References: <20070403062105.cdaf158d@mail.lttd.net>
	<op.tp625etjk6w4mc@dd32.no-ip.com>
Message-ID: <001a01c775ba$af220e40$0d662ac0$@net>

I think sticking to your current custom login function is the most reliable
method.
It's not code that'd change too often or too much, so I don't really think
that would be a problem.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of DD32
> Sent: Tuesday, April 03, 2007 9:33 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress Event Viewer Plugin
> 
> >> Perhaps the 'login_errors' filter?
> >> The error text on the login page is sent through that filter, eg:
> >> ERROR: Incorrect password.
> >> ERROR: Invalid username.
> >
> > Yep that is possible. One small problems,
> > The username isn't passed, I like to see what username is being used.
> > Although that is an option. Thanks.
> 
> At that stage the raw post data should still be available.
> $_POST['log'] amd $_POST['pwd'] would hold the username/password, and
> $_POST['redirect_to'] will hold the page that they've been prompted to
> login for?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From viper at viper007bond.com  Tue Apr  3 08:25:06 2007
From: viper at viper007bond.com (Viper007Bond)
Date: Tue Apr  3 08:25:15 2007
Subject: [wp-hackers] Plugin Update Checker
Message-ID: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>

I've been rolling some ideas around in my head for the past couple days (as
I'm usually doing) and now that some plugins are hosted at WP.org, I suggest
we make an update checker to go with it.

Some thoughts / ideas:

* have plugin authors add a new field to the plugin details at the top of
their file which lists the plugin's stub name at WP.org (ex:
vipers-video-quicktags)
* once every X weeks/days/whatevers, use that stub to contact WP.org (unless
the user has opted not to) and parse an XML document located at like
updatechecker.php?stub=vipers-video-quicktags

I don't think auto-updating is worthwhile as there's just too many server
configurations to deal with (permissions and all that crap), but a little
notice saying that a new version of so-and-so is available along with a
download link would rock I think. The XML document could contain the
download link, real plugin name, new version, etc.

Thoughts?

Sounds fairly easy and worthwhile to me and I'm totally up for helping out
or even spear-heading it if there's interest.
-- 
Viper007Bond | http://www.viper007bond.com/
From wordpress at dd32.id.au  Tue Apr  3 08:37:35 2007
From: wordpress at dd32.id.au (DD32)
Date: Tue Apr  3 08:36:43 2007
Subject: [wp-hackers] Plugin Update Checker
In-Reply-To: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>
References: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>
Message-ID: <op.tp68wxxlk6w4mc@dd32.no-ip.com>

I've put a Summer of Code project proposal in for that idea..
Plus a few other things in there,
I've allready started working on related parts of it, and plan on  
releasing something even if my proposal isnt accepted.
I'm planning on having it being able to automatically install most  
plugins/themes, and checking updates periodically automatically.

At present i've got the Plugin search/theme search integrated into WP, and  
am working on checking for updates now.
So i've allready got a good start on it.. If anyone is interested in  
developing something themselves as well, i'd appreciate if they were to  
get in touch with me, mainly so that if multiple plugins are developed,  
that we all follow some basic "rules" (ie. how to check for update, Where  
to check, etc)


On Tue, 03 Apr 2007 18:25:06 +1000, Viper007Bond <viper@viper007bond.com>  
wrote:

> I've been rolling some ideas around in my head for the past couple days  
> (as
> I'm usually doing) and now that some plugins are hosted at WP.org, I  
> suggest
> we make an update checker to go with it.
>
> Some thoughts / ideas:
>
> * have plugin authors add a new field to the plugin details at the top of
> their file which lists the plugin's stub name at WP.org (ex:
> vipers-video-quicktags)
> * once every X weeks/days/whatevers, use that stub to contact WP.org  
> (unless
> the user has opted not to) and parse an XML document located at like
> updatechecker.php?stub=vipers-video-quicktags
>
> I don't think auto-updating is worthwhile as there's just too many server
> configurations to deal with (permissions and all that crap), but a little
> notice saying that a new version of so-and-so is available along with a
> download link would rock I think. The XML document could contain the
> download link, real plugin name, new version, etc.
>
> Thoughts?
>
> Sounds fairly easy and worthwhile to me and I'm totally up for helping  
> out
> or even spear-heading it if there's interest.



-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From email at dalegroup.net  Tue Apr  3 09:06:00 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 08:59:33 2007
Subject: [wp-hackers] Plugin Update Checker
In-Reply-To: op.tp68wxxlk6w4mc@dd32.no-ip.com
Message-ID: <20070403090600.0fc43583@mail.lttd.net>

If anyone is interested in  
  developing something themselves as well, i'd appreciate if they were to  
  get in touch with me, mainly so that if multiple plugins are developed,  
  that we all follow some basic "rules" (ie. how to check for update, Where  
  to check, etc)My plugin (http://www.bluetrait.com/page/btev/) already has an update checker, but I'm more than happy to work on a new an improved system.

Michael.
    
From viper at viper007bond.com  Tue Apr  3 09:10:34 2007
From: viper at viper007bond.com (Viper007Bond)
Date: Tue Apr  3 09:10:39 2007
Subject: [wp-hackers] Plugin Update Checker
In-Reply-To: <20070403090600.0fc43583@mail.lttd.net>
References: <20070403090600.0fc43583@mail.lttd.net>
Message-ID: <8f93a7390704030210k62231125y16d32eea6a487c15@mail.gmail.com>

Yeah, many plugins already have their own systems (including one of mine
that reads a serialized piece of data from a URL), it's just that there's no
central database and now that there's one at WP.org, I suggest we make use
of it.

DD32: Bah! I wish I hadn't dropped out of school. <_<  That Summer of Code
thing sounds so worthwhile. :(

On 4/3/07, Michael Dale <email@dalegroup.net> wrote:
>
> If anyone is interested in
>   developing something themselves as well, i'd appreciate if they were to
>   get in touch with me, mainly so that if multiple plugins are developed,
>   that we all follow some basic "rules" (ie. how to check for update,
> Where
>   to check, etc)My plugin (http://www.bluetrait.com/page/btev/) already
> has an update checker, but I'm more than happy to work on a new an improved
> system.
>
> Michael.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/
From martin.fitzpatrick at gmail.com  Tue Apr  3 09:24:24 2007
From: martin.fitzpatrick at gmail.com (Martin Fitzpatrick)
Date: Tue Apr  3 09:24:33 2007
Subject: [wp-hackers] Plugin Update Checker
In-Reply-To: <op.tp68wxxlk6w4mc@dd32.no-ip.com>
References: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>
	<op.tp68wxxlk6w4mc@dd32.no-ip.com>
Message-ID: <196d50d70704030224p26d2b397ib34f5cd39df4c267@mail.gmail.com>

On 03/04/07, DD32 <wordpress@dd32.id.au> wrote:
> I've put a Summer of Code project proposal in for that idea..
> Plus a few other things in there,
> I've allready started working on related parts of it, and plan on
> releasing something even if my proposal isnt accepted.
> I'm planning on having it being able to automatically install most
> plugins/themes, and checking updates periodically automatically.

Are you hosting the development of this somewhere (such as the
wp-plugins SVN) so we can all join in?

For the update checking bit the code out of my own update checker (
www.mutube.com/projects/wordpress/update-manager/ ) could probably be
gutted and used for the display. It checks with the data from
wp-plugins.net rather than wp-plugins.org.

Wp-plugins.net chucks out the data in serialised variable form, e.g.
http://wp-plugins.net/get_plugin_data.php?filter=im-online ( see:
http://wp-plugins.net/faq.html ) which might be worth a thought - it
avoids overhead of xml / feeds especially when you're checking
multiple plugins.

Martin
From wordpress at dd32.id.au  Tue Apr  3 09:31:40 2007
From: wordpress at dd32.id.au (DD32)
Date: Tue Apr  3 09:31:42 2007
Subject: [wp-hackers] Plugin Update Checker
In-Reply-To: <8f93a7390704030210k62231125y16d32eea6a487c15@mail.gmail.com>
References: <20070403090600.0fc43583@mail.lttd.net>
	<8f93a7390704030210k62231125y16d32eea6a487c15@mail.gmail.com>
Message-ID: <op.tp7be21ok6w4mc@dd32.no-ip.com>

> My plugin (http://www.bluetrait.com/page/btev/) already has an update  
> checker, but I'm more than happy to work on a new an improved system.
If a plugin author wants to build their own update functions in, then
thats fine by me, as it shouldnt affect any other plugins.

> now that there's one at WP.org, I suggest we make use of it.
Exactly my thinking..
I'd like to get a XML interface to the Plugin/Theme search pages, as well
as for individual Plugins..
I've written up some very basic draft xml ideas allready, and plan on
contacting those involved to see if anything like it could be
implemented(with or without my help), Or if i'll have to continue to rely
on parsing the HTML files(which will be a PITA if they change the layout..)

http://wp-plugins.net/ for example can dump out a file of serialized data
about the plugin if you know the correct URL to fetch.
Theres an update notifier for plugins hosted by them available here:
http://www.mutube.com/projects/wordpress/update-manager/

> DD32: Bah! I wish I hadn't dropped out of school. <_<  That Summer of  
> Code thing sounds so worthwhile. :(
I'm hoping its worthwhile, It should be, I'd love to see all the ideas
that students put in for it though(6,000 proposals were submitted in total
for all the projects..) Its a shame that only 800 of those ideas get
chosen..


On Tue, 03 Apr 2007 19:10:34 +1000, Viper007Bond <viper@viper007bond.com>
wrote:

> Yeah, many plugins already have their own systems (including one of mine
> that reads a serialized piece of data from a URL), it's just that  
> there's no
> central database and now that there's one at WP.org, I suggest we make  
> use
> of it.
>
> DD32: Bah! I wish I hadn't dropped out of school. <_<  That Summer of  
> Code
> thing sounds so worthwhile. :(
>
> On 4/3/07, Michael Dale <email@dalegroup.net> wrote:
>>
>> If anyone is interested in
>>   developing something themselves as well, i'd appreciate if they were  
>> to
>>   get in touch with me, mainly so that if multiple plugins are  
>> developed,
>>   that we all follow some basic "rules" (ie. how to check for update,
>> Where
>>   to check, etc)My plugin (http://www.bluetrait.com/page/btev/) already
>> has an update checker, but I'm more than happy to work on a new an  
>> improved
>> system.
>>
>> Michael.
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>

-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From wordpress at dd32.id.au  Tue Apr  3 09:51:05 2007
From: wordpress at dd32.id.au (DD32)
Date: Tue Apr  3 09:51:04 2007
Subject: [wp-hackers] Plugin Update Checker
In-Reply-To: <196d50d70704030224p26d2b397ib34f5cd39df4c267@mail.gmail.com>
References: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>
	<op.tp68wxxlk6w4mc@dd32.no-ip.com>
	<196d50d70704030224p26d2b397ib34f5cd39df4c267@mail.gmail.com>
Message-ID: <op.tp7cbfqek6w4mc@dd32.no-ip.com>

> Are you hosting the development of this somewhere (such as the
> wp-plugins SVN) so we can all join in?

At present i've only got a local SVN repos of it, i've not got any public  
releases of code whatsoever.
Since i've put this in for a GSoC proposal, i dont know if i've been  
accepted or not. (not until the 11th).
If accepted i'll be putting it up onto wp.org's plugin repos and hosting  
the dev. files there, so anyone will be able to check them out while  
progress is made.
If its not accepted, i'll put it up on the wp.org repos and let anyone  
help out, But if its being done as a project for GSoC, my understanding is  
that its supposed to be mainly the student working on the code.

> For the update checking bit the code out of my own update checker (
> www.mutube.com/projects/wordpress/update-manager/ ) could probably be
> gutted and used for the display. It checks with the data from
> wp-plugins.net rather than wp-plugins.org.

I took a look at your plugin previously, and took a few ideas from that.

> Wp-plugins.net chucks out the data in serialised variable form, e.g.
> http://wp-plugins.net/get_plugin_data.php?filter=im-online ( see:
> http://wp-plugins.net/faq.html ) which might be worth a thought - it
> avoids overhead of xml / feeds especially when you're checking
> multiple plugins.

Serialized data is a good idea actually, the XML files arnt that large  
reality, but certainly add up, serialised data is much easier to convert  
into readable data for PHP as well (without having to go through XML  
dealing functions/classes)
Now that i know how to get the wp-plugins.net data i'll look into the  
format and work around that, as well as around wp.org.

I'm uploading some screen shots of what the plugin currently looks like to  
here: http://dd32.id.au/files/wp-update/
I'm only working on it when i've got some spare time right now, Uni  
assignments have to get done as well! :(


On Tue, 03 Apr 2007 19:24:24 +1000, Martin Fitzpatrick  
<martin.fitzpatrick@gmail.com> wrote:

> On 03/04/07, DD32 <wordpress@dd32.id.au> wrote:
>> I've put a Summer of Code project proposal in for that idea..
>> Plus a few other things in there,
>> I've allready started working on related parts of it, and plan on
>> releasing something even if my proposal isnt accepted.
>> I'm planning on having it being able to automatically install most
>> plugins/themes, and checking updates periodically automatically.
>

>

>

>
> Martin
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From viper at viper007bond.com  Tue Apr  3 11:51:18 2007
From: viper at viper007bond.com (Viper007Bond)
Date: Tue Apr  3 11:51:28 2007
Subject: [wp-hackers] Plugin Update Checker
In-Reply-To: <op.tp7cbfqek6w4mc@dd32.no-ip.com>
References: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>
	<op.tp68wxxlk6w4mc@dd32.no-ip.com>
	<196d50d70704030224p26d2b397ib34f5cd39df4c267@mail.gmail.com>
	<op.tp7cbfqek6w4mc@dd32.no-ip.com>
Message-ID: <8f93a7390704030451g55d12a59m778f1c937b830ead@mail.gmail.com>

If your project does get accepted, I think I'll code my own anyway for the
hell of it. I have some ideas and think it'll be fun to code, even if my
code never gets used anywhere. ;)

On 4/3/07, DD32 <wordpress@dd32.id.au> wrote:
>
> > Are you hosting the development of this somewhere (such as the
> > wp-plugins SVN) so we can all join in?
>
> At present i've only got a local SVN repos of it, i've not got any public
> releases of code whatsoever.
> Since i've put this in for a GSoC proposal, i dont know if i've been
> accepted or not. (not until the 11th).
> If accepted i'll be putting it up onto wp.org's plugin repos and hosting
> the dev. files there, so anyone will be able to check them out while
> progress is made.
> If its not accepted, i'll put it up on the wp.org repos and let anyone
> help out, But if its being done as a project for GSoC, my understanding is
> that its supposed to be mainly the student working on the code.
>
> > For the update checking bit the code out of my own update checker (
> > www.mutube.com/projects/wordpress/update-manager/ ) could probably be
> > gutted and used for the display. It checks with the data from
> > wp-plugins.net rather than wp-plugins.org.
>
> I took a look at your plugin previously, and took a few ideas from that.
>
> > Wp-plugins.net chucks out the data in serialised variable form, e.g.
> > http://wp-plugins.net/get_plugin_data.php?filter=im-online ( see:
> > http://wp-plugins.net/faq.html ) which might be worth a thought - it
> > avoids overhead of xml / feeds especially when you're checking
> > multiple plugins.
>
> Serialized data is a good idea actually, the XML files arnt that large
> reality, but certainly add up, serialised data is much easier to convert
> into readable data for PHP as well (without having to go through XML
> dealing functions/classes)
> Now that i know how to get the wp-plugins.net data i'll look into the
> format and work around that, as well as around wp.org.
>
> I'm uploading some screen shots of what the plugin currently looks like to
> here: http://dd32.id.au/files/wp-update/
> I'm only working on it when i've got some spare time right now, Uni
> assignments have to get done as well! :(
>
>
> On Tue, 03 Apr 2007 19:24:24 +1000, Martin Fitzpatrick
> <martin.fitzpatrick@gmail.com> wrote:
>
> > On 03/04/07, DD32 <wordpress@dd32.id.au> wrote:
> >> I've put a Summer of Code project proposal in for that idea..
> >> Plus a few other things in there,
> >> I've allready started working on related parts of it, and plan on
> >> releasing something even if my proposal isnt accepted.
> >> I'm planning on having it being able to automatically install most
> >> plugins/themes, and checking updates periodically automatically.
> >
>
> >
>
> >
>
> >
> > Martin
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> --
> Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/
From Brian at TheCodeCave.com  Tue Apr  3 13:15:54 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Tue Apr  3 13:09:58 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070403064200.171018e9@mail.lttd.net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6EE3@dsimail.drbsystems.com>

A word of warning, please realize that some users will be highly offended if
they find out failed passwords are logged in plain text anywhere in the
system.  You would be logging failed attempts by valid users as well as fake
ones.

There's a disconnect in peoples' minds between the fact that they are
sending a password to a webserver and the fact that it can be read by the
people who run the site.  The thought that some sites are likely created
just to harvest passwords is a bit bothersome, but I'm sure its true.  I
just hope it's not true of any really popular sites.

I once saw someone write one of these plugins for another web app and they
had it email the invalid login attempts (with mistyped passwords) to the
admin email address.  Well the admin email address for this site delivered a
list of about 20 people.  So those people all saw the mistyping and pretty
much could guess at what the passwords really should have been.  That
included failed admin logins too  Also users tried alternative passwords
that had been used at other sites and they thought they had used at this
site too.  Since each admin had different privileges, this was a complete
security breakdown.  The plugin was quickly turned off.

There are some real-life issues here.  The passwords are stored in an
"encrypted" field in WordPress for a reason.  I'd also worry that if you
included a failed password logging feature, someone would hack your plugin
to simply always email the passwords out for every login.  That wouldn't be
your responsibility, but the plugin is probably easier to decipher than the
actual WP log in code is.  And it is something to consider.

So, basically if I added a feature like that, I would make certain to
restrict log access to the admins and to use a nonce so that browsing or
posting directly to the log viewing page is only allowed by those admins.  I
would also make it optional and leave it off by default.  But that's just
me.  Some might not have any problem at all with this.

_______________________________________________
Brian Layman
http://www.TheCodeCave.com

From jalkut at red-sweater.com  Tue Apr  3 13:11:29 2007
From: jalkut at red-sweater.com (Daniel Jalkut)
Date: Tue Apr  3 13:11:52 2007
Subject: [wp-hackers] Latest 2.1.x release when not yet tagged
Message-ID: <74676C47-99E8-4D21-8EFF-C77C495C555D@red-sweater.com>


I've noticed the past couple releases I've jumped the gun in response  
to release announcements, trying to "svn export" from a tagged  
directory, before it exists.

While I'd like to suggest that tags always be made coincidental with  
the packaging and releasing of a version, I know that it's not easy  
to be perfect :)

So in cases where there is no tag yet, is it safe to assume that the  
latest revision of the appropriate branch is in fact the same as the  
release? For instance, is

http://svn.automattic.com/wordpress/branches/2.1/

Currently 2.1.3? Or is there a trickier voodoo going on?

Thanks,
Daniel
From computerguru at neosmart.net  Tue Apr  3 13:13:44 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr  3 13:14:05 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6EE3@dsimail.drbsystems.com>
References: <20070403064200.171018e9@mail.lttd.net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6EE3@dsimail.drbsystems.com>
Message-ID: <001e01c775f1$ecce4e20$c66aea60$@net>

+1

I believe it was punBB that had this feature for a *forum* that would email
the admin on failed login. As you can imagine, that's hundreds of logins a
day, and a huge security breach.

It's things like this that give off an aura of "non-professionalism" with
otherwise excellent programs/scripts.

Put it this way: does the admin benefit by knowing the *password* someone
tried to login with?

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Brian Layman
> Sent: Tuesday, April 03, 2007 4:16 PM
> To: wp-hackers@lists.automattic.com
> Subject: RE: [wp-hackers] Wordpress Event Viewer Plugin
> 
> A word of warning, please realize that some users will be highly
> offended if
> they find out failed passwords are logged in plain text anywhere in the
> system.  You would be logging failed attempts by valid users as well as
> fake
> ones.
> 
> There's a disconnect in peoples' minds between the fact that they are
> sending a password to a webserver and the fact that it can be read by
> the
> people who run the site.  The thought that some sites are likely
> created
> just to harvest passwords is a bit bothersome, but I'm sure its true.
> I
> just hope it's not true of any really popular sites.
> 
> I once saw someone write one of these plugins for another web app and
> they
> had it email the invalid login attempts (with mistyped passwords) to
> the
> admin email address.  Well the admin email address for this site
> delivered a
> list of about 20 people.  So those people all saw the mistyping and
> pretty
> much could guess at what the passwords really should have been.  That
> included failed admin logins too  Also users tried alternative
> passwords
> that had been used at other sites and they thought they had used at
> this
> site too.  Since each admin had different privileges, this was a
> complete
> security breakdown.  The plugin was quickly turned off.
> 
> There are some real-life issues here.  The passwords are stored in an
> "encrypted" field in WordPress for a reason.  I'd also worry that if
> you
> included a failed password logging feature, someone would hack your
> plugin
> to simply always email the passwords out for every login.  That
> wouldn't be
> your responsibility, but the plugin is probably easier to decipher than
> the
> actual WP log in code is.  And it is something to consider.
> 
> So, basically if I added a feature like that, I would make certain to
> restrict log access to the admins and to use a nonce so that browsing
> or
> posting directly to the log viewing page is only allowed by those
> admins.  I
> would also make it optional and leave it off by default.  But that's
> just
> me.  Some might not have any problem at all with this.
> 
> _______________________________________________
> Brian Layman
> http://www.TheCodeCave.com
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From robin.adr at gmail.com  Tue Apr  3 13:19:08 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Tue Apr  3 13:19:16 2007
Subject: [wp-hackers] Latest 2.1.x release when not yet tagged
In-Reply-To: <74676C47-99E8-4D21-8EFF-C77C495C555D@red-sweater.com>
References: <74676C47-99E8-4D21-8EFF-C77C495C555D@red-sweater.com>
Message-ID: <d135ca9c0704030619t3668552er1358fcdcf975a212@mail.gmail.com>

The 2.1 branch isn't necessarily 2.1.3, but it doesn't get any dangerous (
i.e. stuff that could break things) commits -- just bug fixes. You're
probably pretty safe running off of the 2.1 branch. I may be wrong, though.

On 4/3/07, Daniel Jalkut <jalkut@red-sweater.com> wrote:
>
>
> I've noticed the past couple releases I've jumped the gun in response
> to release announcements, trying to "svn export" from a tagged
> directory, before it exists.
>
> While I'd like to suggest that tags always be made coincidental with
> the packaging and releasing of a version, I know that it's not easy
> to be perfect :)
>
> So in cases where there is no tag yet, is it safe to assume that the
> latest revision of the appropriate branch is in fact the same as the
> release? For instance, is
>
> http://svn.automattic.com/wordpress/branches/2.1/
>
> Currently 2.1.3? Or is there a trickier voodoo going on?
>
> Thanks,
> Daniel
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From tmountjr at gmail.com  Tue Apr  3 13:19:56 2007
From: tmountjr at gmail.com (Tom Mount)
Date: Tue Apr  3 13:21:11 2007
Subject: [wp-hackers] proxy support
Message-ID: <a13d15de0704030619g535ccdaau601722a17d8f926d@mail.gmail.com>

I've been using WP for a few years now and decided to try to give back
some time and effort to the project by testing the SVN versions on a
testbed box and keeping up with the hackers and testers lists. One of
the first problems I ran into is that my testbed box is behind a
corporate proxy and therefore can't automatically connect to my live
blog (I use the testbed and FeedWordPress to mirror the live site so I
know in advance what's going to happen to the live site when a new
version rolls out). After digging around a while in the code I made a
few modifications to my wp-config.php file to match some changes I
made to functions.php, class-snoopy.php, and others. I made a Trac
ticket (#4011 - http://trac.wordpress.org/ticket/4011) and uploaded my
patches, but I can't do much testing (beyond confirming that it works
with my setup), since I can't reconfigure my proxy on a whim to use
HTTP authentication, etc. I figured either here or testing would be
the place to get feedback, but since testing looks more like a place
to test official updates to the codebase and not user-created
enhancements/plugins, I decided to go here. Feel free to redirect the
n00b as necessary.
From robin.adr at gmail.com  Tue Apr  3 13:21:55 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Tue Apr  3 13:24:19 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <001e01c775f1$ecce4e20$c66aea60$@net>
References: <20070403064200.171018e9@mail.lttd.net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6EE3@dsimail.drbsystems.com>
	<001e01c775f1$ecce4e20$c66aea60$@net>
Message-ID: <d135ca9c0704030621g6e2ff0b2x1a7205cbebd87bf7@mail.gmail.com>

I don't think the admin should know what the user's password is. Besides, in
a well-designed application, the admin can change the user's settings, etc.
without needing to know their password.

Having the password email to the admin, on the other hand, is kind of
needless, unless I'm misunderstanding something. The user has the "Forgot
Your Password?" option for a reason, and what if they just accidentally have
caps lock on? I don't know and wouldn't trust the admins of 98% of the sites
I sign up at -- forums, for example.

On 4/3/07, Computer Guru <computerguru@neosmart.net> wrote:
>
> +1
>
> I believe it was punBB that had this feature for a *forum* that would
> email
> the admin on failed login. As you can imagine, that's hundreds of logins a
> day, and a huge security breach.
>
> It's things like this that give off an aura of "non-professionalism" with
> otherwise excellent programs/scripts.
>
> Put it this way: does the admin benefit by knowing the *password* someone
> tried to login with?
>
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
>
>
> > -----Original Message-----
> > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > bounces@lists.automattic.com] On Behalf Of Brian Layman
> > Sent: Tuesday, April 03, 2007 4:16 PM
> > To: wp-hackers@lists.automattic.com
> > Subject: RE: [wp-hackers] Wordpress Event Viewer Plugin
> >
> > A word of warning, please realize that some users will be highly
> > offended if
> > they find out failed passwords are logged in plain text anywhere in the
> > system.  You would be logging failed attempts by valid users as well as
> > fake
> > ones.
> >
> > There's a disconnect in peoples' minds between the fact that they are
> > sending a password to a webserver and the fact that it can be read by
> > the
> > people who run the site.  The thought that some sites are likely
> > created
> > just to harvest passwords is a bit bothersome, but I'm sure its true.
> > I
> > just hope it's not true of any really popular sites.
> >
> > I once saw someone write one of these plugins for another web app and
> > they
> > had it email the invalid login attempts (with mistyped passwords) to
> > the
> > admin email address.  Well the admin email address for this site
> > delivered a
> > list of about 20 people.  So those people all saw the mistyping and
> > pretty
> > much could guess at what the passwords really should have been.  That
> > included failed admin logins too  Also users tried alternative
> > passwords
> > that had been used at other sites and they thought they had used at
> > this
> > site too.  Since each admin had different privileges, this was a
> > complete
> > security breakdown.  The plugin was quickly turned off.
> >
> > There are some real-life issues here.  The passwords are stored in an
> > "encrypted" field in WordPress for a reason.  I'd also worry that if
> > you
> > included a failed password logging feature, someone would hack your
> > plugin
> > to simply always email the passwords out for every login.  That
> > wouldn't be
> > your responsibility, but the plugin is probably easier to decipher than
> > the
> > actual WP log in code is.  And it is something to consider.
> >
> > So, basically if I added a feature like that, I would make certain to
> > restrict log access to the admins and to use a nonce so that browsing
> > or
> > posting directly to the log viewing page is only allowed by those
> > admins.  I
> > would also make it optional and leave it off by default.  But that's
> > just
> > me.  Some might not have any problem at all with this.
> >
> > _______________________________________________
> > Brian Layman
> > http://www.TheCodeCave.com
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From burobjorn at gmail.com  Tue Apr  3 13:24:31 2007
From: burobjorn at gmail.com (Burobjorn)
Date: Tue Apr  3 13:27:19 2007
Subject: [wp-hackers] creating plugin urls which function as a callback?
In-Reply-To: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>
References: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>
Message-ID: <4612558F.9060901@gmail.com>

Hi,

Which filter or action do I need before I can use new urls such as 
mywordpressinstall.test/new/?

Basically I would like to create new urls for my plugin and have the url 
function as a callback. Any clues on how to achieve this or does this 
does not make any sense?

grtz
BjornW
From yahgrp at poplarware.com  Tue Apr  3 13:47:42 2007
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Tue Apr  3 13:47:10 2007
Subject: [wp-hackers] creating plugin urls which function as a callback?
In-Reply-To: <4612558F.9060901@gmail.com>
References: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>
	<4612558F.9060901@gmail.com>
Message-ID: <46125AFE.1030307@poplarware.com>

Burobjorn wrote:
> Which filter or action do I need before I can use new urls such as 
> mywordpressinstall.test/new/?
> 
> Basically I would like to create new urls for my plugin and have the url 
> function as a callback. Any clues on how to achieve this or does this 
> does not make any sense?

I am not sure what you mean by a "callback", but the functions you 
need to call to set up WordPress to recognize new URL structures are 
in wp-includes/rewrite.php. You might also benefit from reading this 
brand new article on the Codex that explains how WordPress parses URLs 
and decides what posts to display (and how plugins can modify the 
process):

http://codex.wordpress.org/Query_Overview

     Jennifer
From martin.fitzpatrick at gmail.com  Tue Apr  3 13:57:47 2007
From: martin.fitzpatrick at gmail.com (Martin Fitzpatrick)
Date: Tue Apr  3 13:57:53 2007
Subject: [wp-hackers] creating plugin urls which function as a callback?
In-Reply-To: <4612558F.9060901@gmail.com>
References: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>
	<4612558F.9060901@gmail.com>
Message-ID: <196d50d70704030657w66f7815bi49f8c731f0e20292@mail.gmail.com>

On 03/04/07, Burobjorn <burobjorn@gmail.com> wrote:

> Basically I would like to create new urls for my plugin and have the url
> function as a callback. Any clues on how to achieve this or does this
> does not make any sense?

If you just want to do something when a particular url is requested
you can test for in in the plugin source, e.g.

if($_GET['blah']='blah'){
//return result
die(0);
}

If you request *any* url on your site with ?blah=blah it will now
output the data and nothing else. e.g.
mywordpressinstall.test?blah=blah . The die(0); stops code execution -
since this is going to be loaded before page output it effectively
stops the rest of the page / loop being processed yet you still have
access to wordpress internals.

By combining a mix of the rewrite rules mentioned by another reply you
should be able to pass whatever you want into the query url above and
trigger any number of actions.  I'd be interested to hear how this
works out.

Martin
From email at dalegroup.net  Tue Apr  3 14:14:14 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 14:07:55 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: D0252C90757CBC4B8BC938A72BEDDF9D021E6EE3@dsimail.drbsystems.com
Message-ID: <20070403141414.63ecd3e6@mail.lttd.net>

A word of warning, please realize that some users will be highly offended if
  they find out failed passwords are logged in plain text anywhere in the
  system.  You would be logging failed attempts by valid users as well as fake
  ones.The event viewer doesn't log passwords. The events look like the following:

2007-04-04 00:05:56  WARNING  Login Failed: Unknown User, bla
2007-04-04 00:05:59  WARNING  Login Failed: Incorrect Password For, admin
    
From email at dalegroup.net  Tue Apr  3 14:15:43 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 14:09:18 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: 20070403141414.63ecd3e6@mail.lttd.net
Message-ID: <20070403141543.a3ede30a@mail.lttd.net>

Sorry everyone, my webmail client for some reason is messing up formatting.

Michael.
  
From Brian at TheCodeCave.com  Tue Apr  3 14:16:52 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Tue Apr  3 14:11:10 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <d135ca9c0704030621g6e2ff0b2x1a7205cbebd87bf7@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6EE5@dsimail.drbsystems.com>

"I don't know and wouldn't trust the admins of 98% of the sites I sign up at
-- forums, for example."

But if you use a username/password combo that you've used on any other site,
you are trusting them like it or not.  

_______________________________________________
Brian Layman
http://www.TheCodeCave.com

From Brian at TheCodeCave.com  Tue Apr  3 14:24:09 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Tue Apr  3 14:18:22 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070403141414.63ecd3e6@mail.lttd.net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6EE7@dsimail.drbsystems.com>

Nice and clean.  Looks good, but I'd get rid of the comma and put the stuff
in quotes, but its your plugin. :)

2007-04-04 00:05:56  WARNING  Login Failed: Unknown user "bla"
2007-04-04 00:05:59  WARNING  Login Failed: Incorrect password for user
"admin"

When this matures, you should add temp IP banning and etc. :)  I'm not sure
account disabling after x failed attempts is good or not.  I always thought
that would be a great attack vector on a site.  Kind of a new kind of DOS
attack.  The site is no good if no one can log in, including the admin.

_______________________________________________
Brian Layman
http://www.TheCodeCave.com

From email at dalegroup.net  Tue Apr  3 14:30:42 2007
From: email at dalegroup.net (Michael Dale)
Date: Tue Apr  3 14:24:24 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: D0252C90757CBC4B8BC938A72BEDDF9D021E6EE7@dsimail.drbsystems.com
Message-ID: <20070403143042.6d55efda@mail.lttd.net>

When this matures, you should add temp IP banning and etc. :)  I'm not sure
  account disabling after x failed attempts is good or not.  I always thought
  that would be a great attack vector on a site.  Kind of a new kind of DOS
  attack.  The site is no good if no one can log in, including the admin.
    I've thought about it, but at this stage I just want an event viewer, I don't want it to do anything on top of that. Think of it like the windows event viewer.

But I can see that being a useful feature, so maybe a different plugin based off this one.

Here is a screen shot of the plugin:
http://www.bluetrait.com/images/btev-0.2.png

Michael.

P.S thanks for your feedback.
From computerguru at neosmart.net  Tue Apr  3 14:24:24 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr  3 14:24:54 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6EE5@dsimail.drbsystems.com>
References: <d135ca9c0704030621g6e2ff0b2x1a7205cbebd87bf7@mail.gmail.com>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6EE5@dsimail.drbsystems.com>
Message-ID: <002501c775fb$ca854080$5f8fc180$@net>

I have a rule: I only repeat my username/pass combo if I know for fact that
the site uses encryption.

For instance, IPB, vBulletin, MyTopix, MyBB - I trust these, because it
encrypts the password in the DB.

For sites I know for a fact don't use encryption in the DB (like eBlah, some
punBB) or sites I don't know about, I use unique passwords.

It's not fail-proof, esp. since you can hook into the pre-encryption or
login methods and dump the raw password, but it's a fairly reliable method
IMO.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Brian Layman
> Sent: Tuesday, April 03, 2007 5:17 PM
> To: wp-hackers@lists.automattic.com
> Subject: RE: [wp-hackers] Wordpress Event Viewer Plugin
> 
> "I don't know and wouldn't trust the admins of 98% of the sites I sign
> up at
> -- forums, for example."
> 
> But if you use a username/password combo that you've used on any other
> site,
> you are trusting them like it or not.
> 
> _______________________________________________
> Brian Layman
> http://www.TheCodeCave.com
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From lloydomattic at gmail.com  Tue Apr  3 14:28:19 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Tue Apr  3 14:28:31 2007
Subject: [wp-hackers] Latest 2.1.x release when not yet tagged
In-Reply-To: <74676C47-99E8-4D21-8EFF-C77C495C555D@red-sweater.com>
References: <74676C47-99E8-4D21-8EFF-C77C495C555D@red-sweater.com>
Message-ID: <70ebb7140704030728i5ceae907v69351bdcea8a491d@mail.gmail.com>

On 4/3/07, Daniel Jalkut <jalkut@red-sweater.com> wrote:
>
> http://svn.automattic.com/wordpress/branches/2.1/

Will always be the latest development on the 2.1 branch. So at the
time of (2.1.3) release, it is mostly harmless ;-)

Hope that helps,
-- 
Lloyd Budd | Quality Assurance Lead | 250-885-1744
WordPress.com | WordPress.org | Automattic.com
From robin.adr at gmail.com  Tue Apr  3 14:40:24 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Tue Apr  3 14:40:39 2007
Subject: [wp-hackers] creating plugin urls which function as a callback?
In-Reply-To: <4612558F.9060901@gmail.com>
References: <8f93a7390704030125v5cc86048xe143f25d82f1034e@mail.gmail.com>
	<4612558F.9060901@gmail.com>
Message-ID: <d135ca9c0704030740w4a1192f5ne5ed4c17703ef51a@mail.gmail.com>

Perhaps you want add_rewrite_rule().

On 4/3/07, Burobjorn <burobjorn@gmail.com> wrote:
>
> Hi,
>
> Which filter or action do I need before I can use new urls such as
> mywordpressinstall.test/new/?
>
> Basically I would like to create new urls for my plugin and have the url
> function as a callback. Any clues on how to achieve this or does this
> does not make any sense?
>
> grtz
> BjornW
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From Brian at TheCodeCave.com  Tue Apr  3 14:53:19 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Tue Apr  3 14:47:25 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <002501c775fb$ca854080$5f8fc180$@net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6EE8@dsimail.drbsystems.com>

> For instance, IPB, VBulletin, MyTopix, MyBB - I trust these, because it
> encrypts the password in the DB.

VBulletin was the app that was emailing the passwords around in plain text.
It just takes a changed/inserted line of code before the encryption method
is called...  :)

I have a hybrid approach right now that uses a throw away u/p combo at sites
that I do not trust.  At sites I do trust I use a unique u/p combo for that
site, but there is a method to what I create and someone could break that if
they cared too.  Still those are all sites that anyone could get a free u/p
anyway.  So it doesn't matter. For sites that I have raised access on, I
raise that bar.  And I also have several core extra strong passwords for
sites that I admin or sites that have financial repercussions.  And those I
change periodically.

Of course email passwords are never mixed in with any of those because that
would allow the "Reset password" features to defeat any of those passwords.

A bit overkill? Maybe, but the more the every day person gets into php, the
more paranoid I get.  The web was much safer back in the early 90s when just
geeks were on it.  We at least followed a code in what we did and did not
do.  Just as most folks on this list do now.  Most all of us know ways to do
damage to other's sites, but don't do them.  

_______________________________________________
Brian Layman
http://www.TheCodeCave.com

From computerguru at neosmart.net  Tue Apr  3 14:51:53 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr  3 14:52:12 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6EE8@dsimail.drbsystems.com>
References: <002501c775fb$ca854080$5f8fc180$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6EE8@dsimail.drbsystems.com>
Message-ID: <003c01c775ff$a4b9f8b0$ee2dea10$@net>

> anyway.  So it doesn't matter. For sites that I have raised access on,
> I
> raise that bar.  And I also have several core extra strong passwords
> for
> sites that I admin or sites that have financial repercussions.  And
> those I
> change periodically.


> more paranoid I get.  The web was much safer back in the early 90s when
> just
> geeks were on it.  We at least followed a code in what we did and did
> not
> do.  Just as most folks on this list do now.  Most all of us know ways
> to do
> damage to other's sites, but don't do them.

You read my mind!

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

From Brian at TheCodeCave.com  Tue Apr  3 15:05:53 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Tue Apr  3 14:59:54 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <003c01c775ff$a4b9f8b0$ee2dea10$@net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6EEA@dsimail.drbsystems.com>

> You read my mind!
I know... You were thinking about your password at the time...
MWAHAHAHAHAHA!
_______________________________________________
Brian Layman
http://www.TheCodeCave.com
http://www.TheCodeCave.com/EasyWPUpgrade
 

From computerguru at neosmart.net  Tue Apr  3 15:09:34 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr  3 15:10:01 2007
Subject: [wp-hackers] Email Password Field
Message-ID: <003d01c77602$19b5de70$4d219b50$@net>

Should the password field @ http://blog/wp-admin/options-writing.php by a
normal plain-text thing?

Just all this paranoia talk got me wondering..4. 

 

Computer Guru

NeoSmart Technologies <http://neosmart.net/> 

http://neosmart.net/blog/

 

From false.hopes at gmail.com  Tue Apr  3 19:48:17 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Apr  3 19:48:23 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <002501c775fb$ca854080$5f8fc180$@net>
References: <d135ca9c0704030621g6e2ff0b2x1a7205cbebd87bf7@mail.gmail.com>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6EE5@dsimail.drbsystems.com>
	<002501c775fb$ca854080$5f8fc180$@net>
Message-ID: <a491f91d0704031248ned53a7yb245997accc5236f@mail.gmail.com>

On 4/3/07, Computer Guru <computerguru@neosmart.net> wrote:
> I have a rule: I only repeat my username/pass combo if I know for fact that
> the site uses encryption.
>
> For instance, IPB, vBulletin, MyTopix, MyBB - I trust these, because it
> encrypts the password in the DB.

No they don't. And even if they did, they'd have to be able to
unencrypt them somewhere in the script anyways to compare against the
one you enter.

Its a one-way hash, and thinking it can't be looked up in a rainbow
table or brute forced fairly easily is more often than not wrong
(because more often than not people are using things like md5() once
without any sort of salt to hash the password).

But please, do not call it encryption. It is not, and it will never
be. Encrypting passwords in a database is just silly.



-- 
--Robert Deaton
http://lushlab.com
From robin.adr at gmail.com  Tue Apr  3 19:56:26 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Tue Apr  3 19:56:31 2007
Subject: [wp-hackers] Email Password Field
In-Reply-To: <003d01c77602$19b5de70$4d219b50$@net>
References: <003d01c77602$19b5de70$4d219b50$@net>
Message-ID: <d135ca9c0704031256k23698da8v8bdcceea66e3467f@mail.gmail.com>

I don't see any password fields...?

On 4/3/07, Computer Guru <computerguru@neosmart.net> wrote:
>
> Should the password field @ http://blog/wp-admin/options-writing.php by a
> normal plain-text thing?
>
> Just all this paranoia talk got me wondering..4.
>
>
>
> Computer Guru
>
> NeoSmart Technologies <http://neosmart.net/>
>
> http://neosmart.net/blog/
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From computerguru at neosmart.net  Tue Apr  3 20:00:18 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr  3 20:00:34 2007
Subject: [wp-hackers] Email Password Field
In-Reply-To: <d135ca9c0704031256k23698da8v8bdcceea66e3467f@mail.gmail.com>
References: <003d01c77602$19b5de70$4d219b50$@net>
	<d135ca9c0704031256k23698da8v8bdcceea66e3467f@mail.gmail.com>
Message-ID: <005701c7762a$b65a3e60$230ebb20$@net>

The email-to-wordpress pop account password.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Robin Adrianse
> Sent: Tuesday, April 03, 2007 10:56 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Email Password Field
> 
> I don't see any password fields...?
> 
> On 4/3/07, Computer Guru <computerguru@neosmart.net> wrote:
> >
> > Should the password field @ http://blog/wp-admin/options-writing.php
> by a
> > normal plain-text thing?
> >
> > Just all this paranoia talk got me wondering..4.
> >
> >
> >
> > Computer Guru
> >
> > NeoSmart Technologies <http://neosmart.net/>
> >
> > http://neosmart.net/blog/
> >
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From computerguru at neosmart.net  Tue Apr  3 20:03:14 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr  3 20:03:31 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <a491f91d0704031248ned53a7yb245997accc5236f@mail.gmail.com>
References: <d135ca9c0704030621g6e2ff0b2x1a7205cbebd87bf7@mail.gmail.com>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6EE5@dsimail.drbsystems.com>	<002501c775fb$ca854080$5f8fc180$@net>
	<a491f91d0704031248ned53a7yb245997accc5236f@mail.gmail.com>
Message-ID: <005801c7762b$20186750$604935f0$@net>

Yes they do....

MD5 *is* technically an encryption scheme. And yes, with the help of rainbow tables, it can be decrypted - but it is never stored in plain text anywhere in a vanilla copy.

Instead, the user password when logging in is encrypted and the two MD5 hashes are compared.

I agree, it's not *that* secure, but it's good enough - like Brian was saying, how far do you want to go?

At any rate, vBulletin, IPB, Confluence, JIRA, Habari, MyTopix, and a bunch of others DO use SHA1/MD5 + Salt - and that's rather secure, because it's not going to be stored in rainbow tables or anything.

Of course adding a single line to the login module is all it takes to log successful passwords with the usernames associated with them, I'm not denying that.

But for someone like me who has over 500 active logins at any given time in use, it's *less* secure to have a different password for each account, because you're gonna have to write it down.

I have no problem telling you: I have about 35 or so different passwords that I use. 8 are one-per-account, the rest vary in complexity and usage. However, I've never had to write any of them down. On occasion, yes, I have forgotten a password, but it's better than writing it down so it can be stolen with your PDA/Phone or copied off the PostIt note on your screen.

Honestly, I HATE passwords. Passwords are ridiculously weak and terrible insecure - but what are the alternatives?

OpenID is a nice alternative to some extent, same with Live ID from Microsoft, except that one's not free.

So tell me, when you have 500 accounts you use regularly (1+ a month) on dozens of different platforms and scripts with trusted and untrusted people, organizations, and corporations - what DO you do?

At some point you just have to say to hell with it, and rely on the legal system and some level of human decency somewhere along the way.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Robert Deaton
> Sent: Tuesday, April 03, 2007 10:48 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress Event Viewer Plugin
> 
> On 4/3/07, Computer Guru <computerguru@neosmart.net> wrote:
> > I have a rule: I only repeat my username/pass combo if I know for
> fact that
> > the site uses encryption.
> >
> > For instance, IPB, vBulletin, MyTopix, MyBB - I trust these, because
> it
> > encrypts the password in the DB.
> 
> No they don't. And even if they did, they'd have to be able to
> unencrypt them somewhere in the script anyways to compare against the
> one you enter.
> 
> Its a one-way hash, and thinking it can't be looked up in a rainbow
> table or brute forced fairly easily is more often than not wrong
> (because more often than not people are using things like md5() once
> without any sort of salt to hash the password).
> 
> But please, do not call it encryption. It is not, and it will never
> be. Encrypting passwords in a database is just silly.
> 
> 
> 
> --
> --Robert Deaton
> http://lushlab.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Brian at TheCodeCave.com  Tue Apr  3 20:24:15 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Tue Apr  3 20:18:25 2007
Subject: [wp-hackers] Email Password Field
In-Reply-To: <005701c7762a$b65a3e60$230ebb20$@net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6EED@dsimail.drbsystems.com>

Arguments could be made either way.  But I'd leave it as it is.

First, that account can't be used for any other email, so the password need
not be secure.
Second, since email passwords are insecure in the first place, we may as
well show that its to be treated that way.  

But if it was changed, it wouldn't keep me up at night!
_______________________________________________
Brian Layman
http://www.TheCodeCave.com
 

From peter.westwood at ftwr.co.uk  Tue Apr  3 21:13:41 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue Apr  3 21:13:27 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <005801c7762b$20186750$604935f0$@net>
References: <d135ca9c0704030621g6e2ff0b2x1a7205cbebd87bf7@mail.gmail.com>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6EE5@dsimail.drbsystems.com>	<002501c775fb$ca854080$5f8fc180$@net>	<a491f91d0704031248ned53a7yb245997accc5236f@mail.gmail.com>
	<005801c7762b$20186750$604935f0$@net>
Message-ID: <4612C385.5020206@ftwr.co.uk>

Computer Guru wrote:
> Yes they do....
> 
> MD5 *is* technically an encryption scheme. And yes, with the help of rainbow tables, it can be decrypted - but it is never stored in plain text anywhere in a vanilla copy.
> 

No it is not.  MD5 is technically a compression scheme. It is a one way 
hash i.e. you cannot reverse the conversion function f(password) = hash.

For it to be an encryption scheme there must be an equivalent function 
g(hash) = password.

Rainbow tables do not allow you to decrypt the MD5 hash as it has not 
been encrypted all they allow you to do is identify one of the set of 
plaintexts which compress to the hash string.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk
From false.hopes at gmail.com  Tue Apr  3 21:20:38 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Apr  3 21:20:46 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <005801c7762b$20186750$604935f0$@net>
References: <d135ca9c0704030621g6e2ff0b2x1a7205cbebd87bf7@mail.gmail.com>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6EE5@dsimail.drbsystems.com>
	<002501c775fb$ca854080$5f8fc180$@net>
	<a491f91d0704031248ned53a7yb245997accc5236f@mail.gmail.com>
	<005801c7762b$20186750$604935f0$@net>
Message-ID: <a491f91d0704031420j1438a1ecjd9fb65ec8ba14a7f@mail.gmail.com>

On 4/3/07, Computer Guru <computerguru@neosmart.net> wrote:
> Yes they do....
>
> MD5 *is* technically an encryption scheme. And yes, with the help of rainbow tables, it can be decrypted - but it is never stored in plain text anywhere in a vanilla copy.

No, its not an encryption scheme. Its a digest algorithm. A one way
hash. And no, it can't be decrypted, ever. You can do a reverse lookup
(rainbow tables) or generate a collision.

Encryption by definition allows one to reverse the process knowing a
certain secret (the function to reverse the process). MD5 has no such
capability. In fact, run MD5 over a terabyte of data and it'll end up
with the same length checksum as if you checksum the letter "a".

>
> Instead, the user password when logging in is encrypted and the two MD5 hashes are compared.
>
> I agree, it's not *that* secure, but it's good enough - like Brian was saying, how far do you want to go?

... *smack himself on the hand*. Be nice. Be nice... but its so hard.

-- 
--Robert Deaton
http://lushlab.com
From Brian at TheCodeCave.com  Tue Apr  3 22:23:07 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Tue Apr  3 22:17:09 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <005801c7762b$20186750$604935f0$@net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6EEF@dsimail.drbsystems.com>

> So tell me, when you have 500 accounts you use regularly (1+ a month) on
dozens of 
> different platforms and scripts with trusted and untrusted people,
organizations, 
> and corporations - what DO you do?

You seek an automated solution and do everything you can to ensure that that
one system is protected.

Think about it, centralized solution is much easier to protect than one with
500+ entry points each with vulnerabilities outside your control.  A
security dongle, or even a USB key, that you keep with you is a lot easier
to protect than those 500 systems.  You just need a way to unlock your
secure password storage and allow your browser to do the work for you.

You're a big FF fan right? They have an auto generation password system
built in don't they?  Heck, go buy a few copies of http://www.roboform.com/
for your computers. It'll save you big Rogaine bills later when you go to
regrow the hair you've pulled out.  A co-worker has nice finger print
scanner that could  enter the two master security keys for you.

(Actually it is pretty cool.  He's associated each finger with a different
task on his computer.  And before you ask, no, I don't know what it does
when he gives it the middle finger... Probably reboots into Linux.)
_______________________________________________
Brian Layman
http://www.TheCodeCave.com

From wphackers at galleryembedded.com  Tue Apr  3 22:43:41 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Tue Apr  3 22:43:46 2007
Subject: [wp-hackers] Re: Plugin Update Checker
Message-ID: <1175640221.m2f.31074@www.galleryembedded.com>

Fantastic ideas here, I been playing around with the idea of a checker, I think I just sit back and let viper007 do the heavy lifting, and lift his code.. damn did I post that out aloud :-)

------------------------
WPG2 2.0 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From jswitzer at gmail.com  Tue Apr  3 23:46:13 2007
From: jswitzer at gmail.com (jason switzer)
Date: Tue Apr  3 23:46:20 2007
Subject: [wp-hackers] Re: Plugin Update Checker
In-Reply-To: <1175640221.m2f.31074@www.galleryembedded.com>
References: <1175640221.m2f.31074@www.galleryembedded.com>
Message-ID: <69980e7f0704031646v7bbfdf9sd909a2b98a492796@mail.gmail.com>

A logical extension to the update checker is for it to automatically
download and install the updated version.

-Jason

On 4/3/07, ozgreg <wphackers@galleryembedded.com> wrote:
>
> Fantastic ideas here, I been playing around with the idea of a checker, I
> think I just sit back and let viper007 do the heavy lifting, and lift his
> code.. damn did I post that out aloud :-)
>
> ------------------------
> WPG2 2.0 Installation, Operation & FAQ Documentation (
> http://wpg2.galleryembedded.com/)
>
>
>
>
> -------------------- m2f --------------------
>
> Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
> -------------------- m2f --------------------
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wphackers at galleryembedded.com  Wed Apr  4 00:57:30 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Wed Apr  4 00:57:35 2007
Subject: [wp-hackers] Re: Plugin Update Checker
Message-ID: <1175648250.m2f.31078@www.galleryembedded.com>


jswitzer at gmail.com wrote:
> A logical extension to the update checker is for it to automatically
> download and install the updated version.
> 
> -Jason
> 
> 


Actually I would not agree with the automatic downloading purely because some plugin's (like mine - WPG2) have depend on external applications as well thus suddenly a new version has been automatically rolled in and things no longer work the way they should..

I feel we need to be able to option within the serialisation of the plugin if autoupdating is possible or instead generate a link to the plugin project page with the wordpress extend plugin system.

------------------------
WPG2 2.0 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From wphackers at galleryembedded.com  Wed Apr  4 01:33:06 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Wed Apr  4 01:33:11 2007
Subject: [wp-hackers] Extending extend/plugins
Message-ID: <1175650385.m2f.31080@www.galleryembedded.com>

I like the new extend/plugin concept and can see great key benefits and a bright future for it..  However I also feel the current extend structure could do with, well extending :-)

In no order . (and these are my thoughts, please add yours..)..

Looking at the range of tabs (Description, Installation, FAQ, Screenshot, Other Notes and Statistics) to me we are missing at least one more major tab, changelog (and I can certainly think of a few other tabs I would like to see as well.)

Just from discussions in this forum, I can see a number of new subprojects being wrapped around the extend/plugin and would hate to see people going off into different paths to ultimately get the same result. I would rather have everything as a standard rather than 3 different ways to do update notifications (for example)

I also have some concerns over the most popular category because.. 
A) it appears to me that the most popular is simply the total downloads which will favour the projects that have been around the longest rather than the most downloads for say a week which is always a better indication of what is popular.  
B) I also feel the most popular should be linked to a tag rather than say than just a total number of downloads (as plugin's distributed  in core (like Akismet) will always feature heavily and skew the result of what really is popular vs what everyone has distributed by default)

------------------------
WPG2 2.0 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From jswitzer at gmail.com  Wed Apr  4 02:56:08 2007
From: jswitzer at gmail.com (jason switzer)
Date: Wed Apr  4 02:56:14 2007
Subject: [wp-hackers] Re: Plugin Update Checker
In-Reply-To: <1175648250.m2f.31078@www.galleryembedded.com>
References: <1175648250.m2f.31078@www.galleryembedded.com>
Message-ID: <69980e7f0704031956u4485a4f4h30059bfc65371f04@mail.gmail.com>

On 4/3/07, ozgreg <wphackers@galleryembedded.com> wrote:
>
> Actually I would not agree with the automatic downloading purely because
> some plugin's (like mine - WPG2) have depend on external applications as
> well thus suddenly a new version has been automatically rolled in and things
> no longer work the way they should..
>
> I feel we need to be able to option within the serialisation of the plugin
> if autoupdating is possible or instead generate a link to the plugin project
> page with the wordpress extend plugin system.
>

By that I meant that I could click on something similar to Activate /
Deactivate to upgrade the plugin. I believe I discussed this on the
mailing-list at least once before. Your solution would simply be to not
click on the Update button until you are ready to do so.

-Jason
From jalkut at red-sweater.com  Wed Apr  4 03:32:22 2007
From: jalkut at red-sweater.com (Daniel Jalkut)
Date: Wed Apr  4 03:32:29 2007
Subject: [wp-hackers] Latest 2.1.x release when not yet tagged
In-Reply-To: <70ebb7140704030728i5ceae907v69351bdcea8a491d@mail.gmail.com>
References: <74676C47-99E8-4D21-8EFF-C77C495C555D@red-sweater.com>
	<70ebb7140704030728i5ceae907v69351bdcea8a491d@mail.gmail.com>
Message-ID: <616BAE70-E3B8-4160-AAAF-8A091DC724A4@red-sweater.com>

On Apr 3, 2007, at 10:28 AM, Lloyd Budd wrote:
> Will always be the latest development on the 2.1 branch. So at the
> time of (2.1.3) release, it is mostly harmless ;-)

I'm troubled by all this "mostly harmless" talk :)

When the 2.1.3 tag does get made, where does it get copied from in  
the subversion repo?

D
From speedboxer at gmail.com  Wed Apr  4 03:56:50 2007
From: speedboxer at gmail.com (Matt)
Date: Wed Apr  4 03:56:55 2007
Subject: [wp-hackers] Latest 2.1.x release when not yet tagged
In-Reply-To: <616BAE70-E3B8-4160-AAAF-8A091DC724A4@red-sweater.com>
References: <74676C47-99E8-4D21-8EFF-C77C495C555D@red-sweater.com>
	<70ebb7140704030728i5ceae907v69351bdcea8a491d@mail.gmail.com>
	<616BAE70-E3B8-4160-AAAF-8A091DC724A4@red-sweater.com>
Message-ID: <b88434820704032056g8c7ecdbqc8274b921049c342@mail.gmail.com>

The tag for 2.1.3 has been made, I believe...

On 4/3/07, Daniel Jalkut <jalkut@red-sweater.com> wrote:
>
> On Apr 3, 2007, at 10:28 AM, Lloyd Budd wrote:
> > Will always be the latest development on the 2.1 branch. So at the
> > time of (2.1.3) release, it is mostly harmless ;-)
>
> I'm troubled by all this "mostly harmless" talk :)
>
> When the 2.1.3 tag does get made, where does it get copied from in
> the subversion repo?
>
> D
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From wphackers at galleryembedded.com  Wed Apr  4 04:08:17 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Wed Apr  4 04:08:23 2007
Subject: [wp-hackers] Re: Plugin Update Checker
Message-ID: <1175659697.m2f.31085@www.galleryembedded.com>


jswitzer at gmail.com wrote:
> 
> By that I meant that I could click on something similar to Activate /
> Deactivate to upgrade the plugin. I believe I discussed this on the
> mailing-list at least once before. Your solution would simply be to not
> click on the Update button until you are ready to do so.


Yes that could work, for us we have to be very careful with the different versions as some of the G2 API calls will not be compatible with older versions.  Lucky enough Gallery2 has very complete API versioning system that will let me check for this..

Thinking out loud here, when doing a version check, we should also include in the serialised data any new version requirements, that way we can exclude new notifications if they are not relevant to the current core WP version (please ensure we got a few hooks in this update checking routine so projects like mine can do some additional checking when dealing with external applications versions as well..)

If you do not mind, I would also suggest going and chatting to the Gallery2 developers who just went through this exercise with the new Gallery2 2.2 external plugin's library

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From robin.adr at gmail.com  Wed Apr  4 04:23:24 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Wed Apr  4 04:23:29 2007
Subject: [wp-hackers] Latest 2.1.x release when not yet tagged
In-Reply-To: <616BAE70-E3B8-4160-AAAF-8A091DC724A4@red-sweater.com>
References: <74676C47-99E8-4D21-8EFF-C77C495C555D@red-sweater.com>
	<70ebb7140704030728i5ceae907v69351bdcea8a491d@mail.gmail.com>
	<616BAE70-E3B8-4160-AAAF-8A091DC724A4@red-sweater.com>
Message-ID: <d135ca9c0704032123g5b78d467ga00897e70e06b3ae@mail.gmail.com>

Tagging it is merely copying the current 2.1 branch to a new /tag/2.1.3
folder.

On 4/3/07, Daniel Jalkut <jalkut@red-sweater.com> wrote:
>
> On Apr 3, 2007, at 10:28 AM, Lloyd Budd wrote:
> > Will always be the latest development on the 2.1 branch. So at the
> > time of (2.1.3) release, it is mostly harmless ;-)
>
> I'm troubled by all this "mostly harmless" talk :)
>
> When the 2.1.3 tag does get made, where does it get copied from in
> the subversion repo?
>
> D
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From dan at kuykendall.org  Wed Apr  4 06:09:56 2007
From: dan at kuykendall.org (Dan Kuykendall)
Date: Wed Apr  4 06:10:17 2007
Subject: [wp-hackers] Extending extend/plugins
In-Reply-To: <1175650385.m2f.31080@www.galleryembedded.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
Message-ID: <46134134.3060004@kuykendall.org>

Im still hoping this can be worked out. Im getting close to ditching the
use of wordpress.org because this issue has caused about 70 different
users to submit forum posts complaining about it not working and it was
due to the dir name.


Dan Kuykendall wrote:
> In the last couple of days I have gone ahead and moved podPress to the
> wordpress.org plugin directory, so that I can try and participate more
> with the plugin community.
> Most things are working nicely, the readme.txt solution is pretty handy.
>
> Anyways, I recently release version 7.7 of my plugin, so the download
> link is now for http://downloads.wordpress.org/plugin/podpress.7.7.zip
>
> This is all well and good, except that when you unzip this, you get a
> 'podpress.7.7' directory. I used to have a naming scheme very similar
> naming scheme (podpress-7.7.zip). However I was zipping the dir to be
> 'podpress' as it should be.
> I released version 7.7 last night, and already this issue with the dir
> being named 'podpress.7.7' has resulted in about 20 users posting on my
> forums, emailing me directly, or IM'ing me about podpress not installing
> properly. Most of these were new users, most of my existing users
> realized they needed to rename the dir, but the new users dont.
>
> Is anyone else having this problem?
>
> Can someone involved with the plugin dir look into naming the dir after
> the plugin, rather than using plugin.tag? The zip file name doesnt need
> to change, just the dirname inside it. Im willing to do the code if
> someone wants to pass along the file driving this.
>
From computerguru at neosmart.net  Wed Apr  4 06:14:42 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Wed Apr  4 06:15:02 2007
Subject: [wp-hackers] Extending extend/plugins
In-Reply-To: <46134134.3060004@kuykendall.org>
References: <1175650385.m2f.31080@www.galleryembedded.com>
	<46134134.3060004@kuykendall.org>
Message-ID: <005c01c77680$8df91030$a9eb3090$@net>

Yep, and it's another reason to allow basic listing with outsourced file
hosting on wp-plugins.

That way you can list your plugin there, and set up the SVN and download
packages and everything else on your own server, using the wp-plugin just as
a beacon/listing.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Dan Kuykendall
> Sent: Wednesday, April 04, 2007 9:10 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Extending extend/plugins
> 
> Im still hoping this can be worked out. Im getting close to ditching
> the
> use of wordpress.org because this issue has caused about 70 different
> users to submit forum posts complaining about it not working and it was
> due to the dir name.
> 
> 
> Dan Kuykendall wrote:
> > In the last couple of days I have gone ahead and moved podPress to
> the
> > wordpress.org plugin directory, so that I can try and participate
> more
> > with the plugin community.
> > Most things are working nicely, the readme.txt solution is pretty
> handy.
> >
> > Anyways, I recently release version 7.7 of my plugin, so the download
> > link is now for
> http://downloads.wordpress.org/plugin/podpress.7.7.zip
> >
> > This is all well and good, except that when you unzip this, you get a
> > 'podpress.7.7' directory. I used to have a naming scheme very similar
> > naming scheme (podpress-7.7.zip). However I was zipping the dir to be
> > 'podpress' as it should be.
> > I released version 7.7 last night, and already this issue with the
> dir
> > being named 'podpress.7.7' has resulted in about 20 users posting on
> my
> > forums, emailing me directly, or IM'ing me about podpress not
> installing
> > properly. Most of these were new users, most of my existing users
> > realized they needed to rename the dir, but the new users dont.
> >
> > Is anyone else having this problem?
> >
> > Can someone involved with the plugin dir look into naming the dir
> after
> > the plugin, rather than using plugin.tag? The zip file name doesnt
> need
> > to change, just the dirname inside it. Im willing to do the code if
> > someone wants to pass along the file driving this.
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From viper at viper007bond.com  Wed Apr  4 07:11:35 2007
From: viper at viper007bond.com (Viper007Bond)
Date: Wed Apr  4 07:11:41 2007
Subject: [wp-hackers] Re: Plugin Update Checker
In-Reply-To: <69980e7f0704031646v7bbfdf9sd909a2b98a492796@mail.gmail.com>
References: <1175640221.m2f.31074@www.galleryembedded.com>
	<69980e7f0704031646v7bbfdf9sd909a2b98a492796@mail.gmail.com>
Message-ID: <8f93a7390704040011o167fba09u2cb016b1e69850d2@mail.gmail.com>

I disagree. The number of support requests that would come in from users
complaining that it's not working (due to permissions, server
configurations, etc.) would be immense, not to mention all files would need
to be writable (to be modified by the server) and this is a potential
security risk.

On 4/3/07, jason switzer <jswitzer@gmail.com> wrote:
>
> A logical extension to the update checker is for it to automatically
> download and install the updated version.
>
> -Jason
>
> On 4/3/07, ozgreg <wphackers@galleryembedded.com> wrote:
> >
> > Fantastic ideas here, I been playing around with the idea of a checker,
> I
> > think I just sit back and let viper007 do the heavy lifting, and lift
> his
> > code.. damn did I post that out aloud :-)
> >
> > ------------------------
> > WPG2 2.0 Installation, Operation & FAQ Documentation (
> > http://wpg2.galleryembedded.com/)
> >
> >
> >
> >
> > -------------------- m2f --------------------
> >
> > Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
> > -------------------- m2f --------------------
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/
From martin.fitzpatrick at gmail.com  Wed Apr  4 10:40:04 2007
From: martin.fitzpatrick at gmail.com (Martin Fitzpatrick)
Date: Wed Apr  4 10:40:20 2007
Subject: [wp-hackers] Extending extend/plugins
In-Reply-To: <1175650385.m2f.31080@www.galleryembedded.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
Message-ID: <196d50d70704040340q5bab1b2ej4a7ebd2150744752@mail.gmail.com>

> I also have some concerns over the most popular category because..
> A) it appears to me that the most popular is simply the total downloads which will favour the projects that have been around the longest rather than the most downloads for say a week which is always a better indication of what is popular.

Also, oddly, if you look at the total count for downloads on the front
page it does not match the value shown on the statistics page, e.g.

Front page:
Kramer
Downloaded 2,648 times

Statistics:
All Time 1,845

Not a biggie just odd.

Basing it on downloads also favours plugins that release frequently
(assuming people update) although that's not neccessarily a bad thing
(it works in my favour).

> B) I also feel the most popular should be linked to a tag rather than say than just a total number of downloads (as plugin's distributed  in core (like Akismet) will always feature heavily and skew the result of what really is popular vs what everyone has distributed by default)

I am slightly confused about the Akismet result - is that counting
downloads of Wordpress also? Seems a little bit pointless to feature a
plugin that is contained with Wordpress itself.

The plugin-folder mentioned elsewhere is also causing a few problems for myself.

I still think it's a huge improvement over self-hosting.

Martin
From computerguru at neosmart.net  Wed Apr  4 12:15:41 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Wed Apr  4 12:16:01 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <a491f91d0704031420j1438a1ecjd9fb65ec8ba14a7f@mail.gmail.com>
References: <d135ca9c0704030621g6e2ff0b2x1a7205cbebd87bf7@mail.gmail.com>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6EE5@dsimail.drbsystems.com>	<002501c775fb$ca854080$5f8fc180$@net>	<a491f91d0704031248ned53a7yb245997accc5236f@mail.gmail.com>	<005801c7762b$20186750$604935f0$@net>
	<a491f91d0704031420j1438a1ecjd9fb65ec8ba14a7f@mail.gmail.com>
Message-ID: <005d01c776b2$fa1bf160$ee53d420$@net>

Sorry, I have no idea what the hell that was.... now after a long night's sleep, maybe I can make that go away :P

Yeah, sure, MD5 isn't encryption like PGP or Blowfish & Co. but it since we're not looking to retrieving the original unhashed value, it'll serve the same purpose.

Since the original unhashed message (password) will be made available, and all you have to do is check if its hash is the same as the hash you have stored, it's good enough.

Besides that, the argument remains unchanged.

Let's say it WAS encrypted, with a 4096-bit AES cipher. Does it make a difference? Since the source code is available to be freely modified, the real password can be leaked from anywhere pre-encryption or post-verification.

So, yeah, a Salt puts an obstacle in the way, and you'd have to first md5 the salt (available from the db) then rainbow table the password hash, then remove the md5'd salt from the "dehashed" password hash and then once more rainbow table the remaining stuff (because it's a 2 hashes within a hash) to get the password.

It doesn't make a difference how you look at it or if it's SHA2-512 being used vs. real GPG encryption of the password - so long as unencrypted/unhashed password is EVER at any point presented to the server its insecure.

Sorry about last night, I wasn't thinking straight and got carried away.

I guess the point of all this is: passwords are dead, security doesn't exist, and stuff like OpenID will never get the chance to make a difference unless everyone agrees around this point.

Back to my 500 accounts now?

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Robert Deaton
> Sent: Wednesday, April 04, 2007 12:21 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Wordpress Event Viewer Plugin
> 
> On 4/3/07, Computer Guru <computerguru@neosmart.net> wrote:
> > Yes they do....
> >
> > MD5 *is* technically an encryption scheme. And yes, with the help of
> rainbow tables, it can be decrypted - but it is never stored in plain
> text anywhere in a vanilla copy.
> 
> No, its not an encryption scheme. Its a digest algorithm. A one way
> hash. And no, it can't be decrypted, ever. You can do a reverse lookup
> (rainbow tables) or generate a collision.
> 
> Encryption by definition allows one to reverse the process knowing a
> certain secret (the function to reverse the process). MD5 has no such
> capability. In fact, run MD5 over a terabyte of data and it'll end up
> with the same length checksum as if you checksum the letter "a".
> 
> >
> > Instead, the user password when logging in is encrypted and the two
> MD5 hashes are compared.
> >
> > I agree, it's not *that* secure, but it's good enough - like Brian
> was saying, how far do you want to go?
> 
> ... *smack himself on the hand*. Be nice. Be nice... but its so hard.
> 
> --
> --Robert Deaton
> http://lushlab.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Wed Apr  4 12:40:32 2007
From: wordpress at dd32.id.au (DD32)
Date: Wed Apr  4 12:40:17 2007
Subject: [wp-hackers] Re: Plugin Update Checker
In-Reply-To: <1175659697.m2f.31085@www.galleryembedded.com>
References: <1175659697.m2f.31085@www.galleryembedded.com>
Message-ID: <op.tp9etlgdvivur0@dd32.no-ip.com>

On Wed, 04 Apr 2007 17:11:35 +1000, Viper007Bond <viper@viper007bond.com>  
wrote:

> I disagree. The number of support requests that would come in from users
> complaining that it's not working (due to permissions, server
> configurations, etc.) would be immense, not to mention all files would  
> need to be writable (to be modified by the server) and this is a  
> potential
> security risk.

That can be worked around though. eg: Not allowing the install/upgrade  
functionality to be enabled if it cannot work reliably on the current  
install
The security risk may not be as bad as what you make out, it's currently  
possible for the server to write to files usually, but that could be  
worked around, say by using FTP internally(Which would require to be setup  
when Wordpress is initially installed/plugin installed, but thats

On Wed, 04 Apr 2007 10:57:30 +1000, ozgreg <wphackers@galleryembedded.com>  
wrote:
> Actually I would not agree with the automatic downloading purely because  
> some plugin's (like mine - WPG2) have depend on external applications as  
> well thus suddenly a new version has been automatically rolled in and  
> things no longer work the way they should..

A Requirements section would be added;
Eg: Min Wordpress: 2.1, min PHP: 5.0, Requires Plugin XYZ (min version  
1.2), etc
plugin authors should be able to specify that the plugin is NOT automatic  
upgradable, and that the functionality should be disabled for the plugin

On Wed, 04 Apr 2007 10:57:30 +1000, ozgreg <wphackers@galleryembedded.com>  
wrote:
> Actually I would not agree with the automatic downloading purely because  
> some plugin's (like mine - WPG2) have depend on external applications as  
> well thus suddenly a new version has been automatically rolled in and  
> things no longer work the way they should..

That'd be purely optional for the author to opt-in to that, I'm thinking  
that the end user should be able to forceably override it perhaps,

On Wed, 04 Apr 2007 14:08:17 +1000, ozgreg <wphackers@galleryembedded.com>  
wrote:
> Thinking out loud here, when doing a version check, we should also  
> include in the serialised data any new version requirements, that way we  
> can exclude new notifications if they are not relevant to the current  
> core WP version (please ensure we got a few hooks in this update  
> checking routine so projects like mine can do some additional checking  
> when dealing with external applications versions as well..)

I was planning on including some actions like checkupdate-plugin,  
updaterequirements-plugin, etc, So as well as the update plugin  
controlling that, the plugin authors have got the ability to override it  
if need be.

> If you do not mind, I would also suggest going and chatting to the  
> Gallery2 developers who just went through this exercise with the new  
> Gallery2 2.2 external plugin's library
I'll get in touch in time myself, as well as have a read through some of  
the hurdles that they came up against, and how they were solved.


Dion / DD32
-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From ag.ml2007 at zirona.com  Wed Apr  4 13:29:45 2007
From: ag.ml2007 at zirona.com (Alex =?ISO-8859-1?Q?G=FCnsche?=)
Date: Wed Apr  4 13:30:00 2007
Subject: [wp-hackers] Automatic Upgrades with InstantUpgrade plugin
Message-ID: <1175693385.10986.52.camel@localhost>

Hi guys,

I need some feedback on an idea I have. As it is somewhat complex to
implement, I'd like to hear some opinions first.

I maintain the InstantUpgrade plugin[1], which performs WP upgrades at
the push of a button. Now this plugin needs to write lots of files, so
permissions must be changed -- which (a) is a bit hard to enable for
some users, (b) is a bit dangerous (cf. [2]) and (c) is hard to get rid
of. But there is a large interest in this (or such a) solution, and I
saw that even Mr. Matt M. himself ;) hinted that he would love to see
something like that in the WP core -- given the permissions issue can be
resolved[3].

Now I actually have an idea how those issues could be overcome, but this
is quite "adventuresome": I want to open an FTP session with the user's
credentials and let the plugin do the upgrading via FTP. I think this
would pretty much eliminate all file permission issues.

My questions are:

1. From your experience, do you think one could create such an FTP-based
solution which would work smooth for 95 percent of all users? What would
need to be done to allow this across server environments?

2. Do you know a decent lib for FTPing in PHP? It should not use the FTP
extension, but rather fsockopen etc., and it should be able to do the
following: mature transfering mechanisms (including some error
handling), support 'LIST -l' (I need the attributes), and maybe some
recursive functionality for reading and putting files/directories would
be nice. I have already searched at phpclasses.org and found 2 nice
libs, but their licenses don't fit (though I'm negotiating with the
authors). However, maybe there are other good solutions out there.

t.b.c. ;-)

What do you think?


[1] http://www.zirona.com/software/wordpress-instant-upgrade
[2] http://www.zirona.com/blog/software/a-few-words-about-the-instantupgrade-plugin
[3] http://www.mattcutts.com/blog/upgrading-wordpress/#comment-100841


Best regards,
Alex

-- 
Alex G?nsche, Zirona OpenSource-Consulting
http://www.zirona.com/ | Hilfe f?r das HQ AC: http://www.prohq.de
PubKey for this address: http://www.zirona.com/misc/ag.ml2007.asc

From zamoose at gmail.com  Wed Apr  4 14:29:44 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Wed Apr  4 14:29:58 2007
Subject: [wp-hackers] Automatic Upgrades with InstantUpgrade plugin
In-Reply-To: <1175693385.10986.52.camel@localhost>
References: <1175693385.10986.52.camel@localhost>
Message-ID: <71ddd7490704040729k3813e9bau23709427ca1d862a@mail.gmail.com>

On 4/4/07, Alex G?nsche <ag.ml2007@zirona.com> wrote:
> Hi guys,
>
> I need some feedback on an idea I have. As it is somewhat complex to
> implement, I'd like to hear some opinions first.
>
> I maintain the InstantUpgrade plugin[1], which performs WP upgrades at
> the push of a button. Now this plugin needs to write lots of files, so
> permissions must be changed -- which (a) is a bit hard to enable for
> some users, (b) is a bit dangerous (cf. [2]) and (c) is hard to get rid
> of. But there is a large interest in this (or such a) solution, and I
> saw that even Mr. Matt M. himself ;) hinted that he would love to see
> something like that in the WP core -- given the permissions issue can be
> resolved[3].
>
> Now I actually have an idea how those issues could be overcome, but this
> is quite "adventuresome": I want to open an FTP session with the user's
> credentials and let the plugin do the upgrading via FTP. I think this
> would pretty much eliminate all file permission issues.
>
> My questions are:
>
> 1. From your experience, do you think one could create such an FTP-based
> solution which would work smooth for 95 percent of all users? What would
> need to be done to allow this across server environments?
>
> 2. Do you know a decent lib for FTPing in PHP? It should not use the FTP
> extension, but rather fsockopen etc., and it should be able to do the
> following: mature transfering mechanisms (including some error
> handling), support 'LIST -l' (I need the attributes), and maybe some
> recursive functionality for reading and putting files/directories would
> be nice. I have already searched at phpclasses.org and found 2 nice
> libs, but their licenses don't fit (though I'm negotiating with the
> authors). However, maybe there are other good solutions out there.
>
> t.b.c. ;-)
>
> What do you think?

I'm a bit fuzzy on what exactly you'll be using the FTP for.  What
portion of the upgrade process are you proposing be accomplished via
FTP?  Downloading the .zip/tar.gz of WordPress from wp.org?

What advantages do you percieve in this method over your current
methodology (one which received a bit of a knock in the WP Podcast
#21, btw. http://tinyurl.com/3cgvd9   *grin*)
-- 
-Doug

http://literalbarrage.org/blog/
From dan at kuykendall.org  Wed Apr  4 14:52:34 2007
From: dan at kuykendall.org (Dan Kuykendall)
Date: Wed Apr  4 14:53:19 2007
Subject: [wp-hackers] Extending extend/plugins
In-Reply-To: <196d50d70704040340q5bab1b2ej4a7ebd2150744752@mail.gmail.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
	<196d50d70704040340q5bab1b2ej4a7ebd2150744752@mail.gmail.com>
Message-ID: <4613BBB2.60706@kuykendall.org>

Martin Fitzpatrick wrote:
>> I also have some concerns over the most popular category because..
>> A) it appears to me that the most popular is simply the total
>> downloads which will favour the projects that have been around the
>> longest rather than the most downloads for say a week which is always
>> a better indication of what is popular.
> 
> Also, oddly, if you look at the total count for downloads on the front
> page it does not match the value shown on the statistics page, e.g.
> 
> Front page:
> Kramer
> Downloaded 2,648 times

Yeah it is odd, because my plugin podPress shows to have more downloads
then the last one on the list, which I would think would move podPress
up into the most popular.

-- 
Dan Kuykendall (aka Seek3r)
http://www.mightyseek.com

In God we trust, all others we virus scan.
Programmer - an organism that turns coffee into software.
From dan at kuykendall.org  Wed Apr  4 14:52:41 2007
From: dan at kuykendall.org (Dan Kuykendall)
Date: Wed Apr  4 14:53:37 2007
Subject: [wp-hackers] Extending extend/plugins
In-Reply-To: <196d50d70704040340q5bab1b2ej4a7ebd2150744752@mail.gmail.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
	<196d50d70704040340q5bab1b2ej4a7ebd2150744752@mail.gmail.com>
Message-ID: <4613BBB9.2000407@kuykendall.org>

Martin Fitzpatrick wrote:
>> I also have some concerns over the most popular category because..
>> A) it appears to me that the most popular is simply the total
>> downloads which will favour the projects that have been around the
>> longest rather than the most downloads for say a week which is always
>> a better indication of what is popular.
> 
> Also, oddly, if you look at the total count for downloads on the front
> page it does not match the value shown on the statistics page, e.g.
> 
> Front page:
> Kramer
> Downloaded 2,648 times

Yeah it is odd, because my plugin podPress shows to have more downloads
then the last one on the list, which I would think would move podPress
up into the most popular list.

-- 
Dan Kuykendall (aka Seek3r)
http://www.mightyseek.com

In God we trust, all others we virus scan.
Programmer - an organism that turns coffee into software.
From wphackers at galleryembedded.com  Wed Apr  4 15:45:42 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Wed Apr  4 15:45:51 2007
Subject: [wp-hackers] Re: Automatic Upgrades with InstantUpgrade plugin
Message-ID: <1175701541.m2f.31111@www.galleryembedded.com>

Actually I know of two open source projects that have FTP installers / modification tools.

phpbb easymod tool which uses a FTP installer and gallery2 ftp installation tool

http://www.phpbb.com/community/viewtopic.php?f=15&t=217673
http://codex.gallery2.org/Gallery2:Preinstaller

Hope this helps..

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From martin.fitzpatrick at gmail.com  Wed Apr  4 15:50:44 2007
From: martin.fitzpatrick at gmail.com (Martin Fitzpatrick)
Date: Wed Apr  4 15:50:59 2007
Subject: [wp-hackers] Extending extend/plugins
In-Reply-To: <4613BBB2.60706@kuykendall.org>
References: <1175650385.m2f.31080@www.galleryembedded.com>
	<196d50d70704040340q5bab1b2ej4a7ebd2150744752@mail.gmail.com>
	<4613BBB2.60706@kuykendall.org>
Message-ID: <196d50d70704040850m3ab881e0xb8387f18987964ef@mail.gmail.com>

On 04/04/07, Dan Kuykendall <dan@kuykendall.org> wrote:
> Martin Fitzpatrick wrote:
> > Also, oddly, if you look at the total count for downloads on the front
> > page it does not match the value shown on the statistics page, e.g.
> >
> > Front page:
> > Kramer
> > Downloaded 2,648 times
>
> Yeah it is odd, because my plugin podPress shows to have more downloads
> then the last one on the list, which I would think would move podPress
> up into the most popular.

Same here... which is why I noticed!

If you look at the stats graph for those plugins you see them going
back a long time to what looks like before the extend/plugins system
was open and/or made public.  I'd assumed that these downloads are not
being counted on the stats page and are on the front page - or that
downloads are being counted from way before then.  It would give them
a slight head start!

Martin
From wphackers at galleryembedded.com  Wed Apr  4 15:56:31 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Wed Apr  4 15:56:46 2007
Subject: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <1175650385.m2f.31080@www.galleryembedded.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
Message-ID: <1175702191.m2f.31112@www.galleryembedded.com>


dan at kuykendall.org wrote:
> Martin Fitzpatrick wrote:
> Yeah it is odd, because my plugin podPress shows to have more downloads
> then the last one on the list, which I would think would move podPress
> up into the most popular list.


Starting to think it is all a conspiracy here ;)  either that or we need to pay Matt off to get a top five ranking :-) ..  and I over the featured plugin which also seems to be stuck..

Are we getting any ownership on fixing some of these issues?

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From ag.ml2007 at zirona.com  Wed Apr  4 17:12:38 2007
From: ag.ml2007 at zirona.com (Alex =?ISO-8859-1?Q?G=FCnsche?=)
Date: Wed Apr  4 17:12:57 2007
Subject: [wp-hackers] Automatic Upgrades with InstantUpgrade plugin
In-Reply-To: <71ddd7490704040729k3813e9bau23709427ca1d862a@mail.gmail.com>
References: <1175693385.10986.52.camel@localhost>
	<71ddd7490704040729k3813e9bau23709427ca1d862a@mail.gmail.com>
Message-ID: <1175706758.13618.12.camel@localhost>

On Wed, 2007-04-04 at 10:29 -0400, Doug Stewart wrote:
> I'm a bit fuzzy on what exactly you'll be using the FTP for.  What
> portion of the upgrade process are you proposing be accomplished via
> FTP?  Downloading the .zip/tar.gz of WordPress from wp.org?

No, the deleting and inserting of the WordPress files on the user's
webspace. If I let the webserver do this, it will need permissions like
777 (for directories) or 666 (for files), because on most hosts, FTP
user and webserver user have different system accounts. Now if I would
log into the webspace with FTP credentials, I would act as FTP user, and
could therefore overcome permission issues.

> What advantages do you percieve in this method over your current
> methodology

Users don't have to make tons of files writable, and the WP root doesn't
have to be left writable. Also, once a user wants to remove the plugin,
he/she must perform a pain-in-the-you-know-where procedure to regain
ownership of the files. This would all become obsolete when using FTP;
the user would enter the credentials once, and would not be bothered by
chmod issues.

>  (one which received a bit of a knock in the WP Podcast
> #21, btw. http://tinyurl.com/3cgvd9   *grin*)

Yes... that episode. ;) I am a bit disappointed how somebody can make
(and admit!) a stupid mistake, then attribute it to the plugin, and then
talk five minutes about how screwed that plugin is. But, ok... it's his
opinion, and I guess he didn't mean to be so harsh (as the comments also
show).


Regards,
Alex

-- 
Alex G?nsche 
Zirona OpenSource-Consulting <http://www.zirona.com/>
Hof 12, D-52062 Aachen, Tel.: +49-(0)241-1897946
-----------------------------------------------------------------------
This e-mail is digitally signed with GPG. If you receive a warning that
the sender/key isn't trustworthy, please import the public key for this
mail address from www.zirona.com/misc/ag.asc or ignore this warning.
-----------------------------------------------------------------------
-- 
Alex G?nsche, Zirona OpenSource-Consulting
http://www.zirona.com/ | Hilfe f?r das HQ AC: http://www.prohq.de
PubKey for this address: http://www.zirona.com/misc/ag.ml2007.asc

From diwaker.lists at gmail.com  Wed Apr  4 17:21:49 2007
From: diwaker.lists at gmail.com (Diwaker Gupta)
Date: Wed Apr  4 17:21:58 2007
Subject: [wp-hackers] Automatic Upgrades with InstantUpgrade plugin
In-Reply-To: <1175693385.10986.52.camel@localhost>
References: <1175693385.10986.52.camel@localhost>
Message-ID: <891be9410704041021h1cf1a91ay1ee82a6ad1c42765@mail.gmail.com>

> Now I actually have an idea how those issues could be overcome, but this
> is quite "adventuresome": I want to open an FTP session with the user's
> credentials and let the plugin do the upgrading via FTP. I think this
> would pretty much eliminate all file permission issues.

I'm not sure what the list thinks of this, since FTP is clearly
advocated as one of the upgrade methods on the Codex as well. However,
FTP is hopelessly insecure. As a user, I would _never_ use something
that forces me to use FTP. As a developer, I would _never_ write
something that uses FTP by default.

Just my 2c.

Diwaker
-- 
Web/Blog/Gallery: http://floatingsun.net/blog
From zamoose at gmail.com  Wed Apr  4 17:29:34 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Wed Apr  4 17:29:50 2007
Subject: [wp-hackers] Automatic Upgrades with InstantUpgrade plugin
In-Reply-To: <1175706758.13618.12.camel@localhost>
References: <1175693385.10986.52.camel@localhost>
	<71ddd7490704040729k3813e9bau23709427ca1d862a@mail.gmail.com>
	<1175706758.13618.12.camel@localhost>
Message-ID: <71ddd7490704041029v3d97628em1c6c1c120a68309f@mail.gmail.com>

On 4/4/07, Alex G?nsche <ag.ml2007@zirona.com> wrote:
> On Wed, 2007-04-04 at 10:29 -0400, Doug Stewart wrote:
> > I'm a bit fuzzy on what exactly you'll be using the FTP for.  What
> > portion of the upgrade process are you proposing be accomplished via
> > FTP?  Downloading the .zip/tar.gz of WordPress from wp.org?
>
> No, the deleting and inserting of the WordPress files on the user's
> webspace. If I let the webserver do this, it will need permissions like
> 777 (for directories) or 666 (for files), because on most hosts, FTP
> user and webserver user have different system accounts. Now if I would
> log into the webspace with FTP credentials, I would act as FTP user, and
> could therefore overcome permission issues.
>

You'll be FTPing _from_ the webhost _to_ the webhost?  Hmmm.

> > What advantages do you percieve in this method over your current
> > methodology
>
> Users don't have to make tons of files writable, and the WP root doesn't
> have to be left writable. Also, once a user wants to remove the plugin,
> he/she must perform a pain-in-the-you-know-where procedure to regain
> ownership of the files. This would all become obsolete when using FTP;
> the user would enter the credentials once, and would not be bothered by
> chmod issues.
>

I agree that messing with the perms on a WP install is a Bad Idea(tm).
 Your methodology assumes that everyone has FTP access, though, which
isn't a universal truth.  Some may be CPanel-limited, others
SFTP-only.

The fundamental problem with in-line updates is that, in order for
them to work, the webserver must have perms to alter the files in
question which is a terribly vexing security issue in any situation.

One tack that hasn't been pursued is a PHP frontend to a shell
scripted backend.  Have you thought of that, perhaps?  You'd obviously
need different scripts for Windows vs. *NIX hosts, but it wouldn't
really be any more insecure than using FTP as a method for doing this.

I guess what I'm trying to say is that web-based updates aren't a
great idea for the core app.  Migrating to a new version of WP is a
weighty decision and, as such, ought to have some serious thought put
into it by the ones doing the updating.  Simply clicking a few buttons
is a great way to get into a heap o' trouble, particularly if you're a
leading podcaster with an allergy to README.txts.  *grin*  (And
Charles, if you're reading this, we love you, buddy!)

> >  (one which received a bit of a knock in the WP Podcast
> > #21, btw. http://tinyurl.com/3cgvd9   *grin*)
>
> Yes... that episode. ;) I am a bit disappointed how somebody can make
> (and admit!) a stupid mistake, then attribute it to the plugin, and then
> talk five minutes about how screwed that plugin is. But, ok... it's his
> opinion, and I guess he didn't mean to be so harsh (as the comments also
> show).
>
>

Charles did indeed seem to be apologetic in the comments.  Didn't
credit me for getting him set back on the right path in #wordpress
either!  Such are the perils of the Intarweb[s].  *chuckle*

-- 
-Doug

http://literalbarrage.org/blog/
From ag.ml2007 at zirona.com  Wed Apr  4 18:17:49 2007
From: ag.ml2007 at zirona.com (Alex =?ISO-8859-1?Q?G=FCnsche?=)
Date: Wed Apr  4 18:18:07 2007
Subject: [wp-hackers] Automatic Upgrades with InstantUpgrade plugin
In-Reply-To: <71ddd7490704041029v3d97628em1c6c1c120a68309f@mail.gmail.com>
References: <1175693385.10986.52.camel@localhost>
	<71ddd7490704040729k3813e9bau23709427ca1d862a@mail.gmail.com>
	<1175706758.13618.12.camel@localhost>
	<71ddd7490704041029v3d97628em1c6c1c120a68309f@mail.gmail.com>
Message-ID: <1175710669.13618.29.camel@localhost>

On Wed, 2007-04-04 at 13:29 -0400, Doug Stewart wrote:
> You'll be FTPing _from_ the webhost _to_ the webhost?  Hmmm.

Right, in order to act as the FTP user, as he's the one to own the
files.

> I agree that messing with the perms on a WP install is a Bad Idea(tm).
>  Your methodology assumes that everyone has FTP access, though, which
> isn't a universal truth.  Some may be CPanel-limited, others
> SFTP-only.

Ok, those are users who would not be able to use this. But I'll limit my
considerations to FTP users. After all, it's just an option, and not
exclusive to othere upgrading methods. (However, the now used method,
where the webserver directly installs the files, could be kept in the
plugin as an alternative option for those without FTP access.)

> The fundamental problem with in-line updates is that, in order for
> them to work, the webserver must have perms to alter the files in
> question which is a terribly vexing security issue in any situation.

Er -- that's the very reason why I'm talking about the FTP stuff
here. ;)

> One tack that hasn't been pursued is a PHP frontend to a shell
> scripted backend.  Have you thought of that, perhaps?  You'd obviously
> need different scripts for Windows vs. *NIX hosts, but it wouldn't
> really be any more insecure than using FTP as a method for doing this.

No, I don't want to do a bash wrapper. There are no benefits to what I
have now, and the whole thing would still run under the UID of the
webserver. Besides, many hosts have system() etc. disabled.

> I guess what I'm trying to say is that web-based updates aren't a
> great idea for the core app.  Migrating to a new version of WP is a
> weighty decision and, as such, ought to have some serious thought put
> into it by the ones doing the updating.

Right. But after all, the plugin's job is to perform the same steps as
the upgrade guide proposes. Nothing more, nothing less.

>   Simply clicking a few buttons
> is a great way to get into a heap o' trouble, particularly if you're a
> leading podcaster with an allergy to README.txts.  *grin*  (And
> Charles, if you're reading this, we love you, buddy!)

Hehe, I agree... He said some nice words about another of my plugins in
an older podcast, so I guess he's not particularily after me. :P


Regards,
Alex

-- 
Alex G?nsche, Zirona OpenSource-Consulting
http://www.zirona.com/ | Hilfe f?r das HQ AC: http://www.prohq.de
PubKey for this address: http://www.zirona.com/misc/ag.ml2007.asc

From kconstable at kccricket.net  Wed Apr  4 19:16:16 2007
From: kconstable at kccricket.net (Keith Constable)
Date: Wed Apr  4 19:16:31 2007
Subject: [wp-hackers] Automatic Upgrades with InstantUpgrade plugin
In-Reply-To: <71ddd7490704041029v3d97628em1c6c1c120a68309f@mail.gmail.com>
References: <1175693385.10986.52.camel@localhost>	<71ddd7490704040729k3813e9bau23709427ca1d862a@mail.gmail.com>	<1175706758.13618.12.camel@localhost>
	<71ddd7490704041029v3d97628em1c6c1c120a68309f@mail.gmail.com>
Message-ID: <4613F980.8010505@kccricket.net>

On 04/04/07 13:29, Doug Stewart wrote:
> On 4/4/07, Alex G?nsche <ag.ml2007@zirona.com> wrote:
> 
> I agree that messing with the perms on a WP install is a Bad Idea(tm).
>  Your methodology assumes that everyone has FTP access, though, which
> isn't a universal truth.  Some may be CPanel-limited, others
> SFTP-only.

I'd assume most CPanel-limited users would be installing WordPress through
Fantastico.  Wouldn't most users using SFTP (as in file transfers over ssh) be
running their own servers?  In that case, those users wouldn't likely need an
easy update system anyway ("$ svn update").  I've never used a shared hosting
provider that only provided SFTP access, but it's been about five years since I
used shared hosting at all.

> One tack that hasn't been pursued is a PHP frontend to a shell
> scripted backend.  Have you thought of that, perhaps?  You'd obviously
> need different scripts for Windows vs. *NIX hosts, but it wouldn't
> really be any more insecure than using FTP as a method for doing this.

The only thing insecure about it is running an FTP server to begin with.  The
connection from PHP to the FTP server would be done via localhost, so the
information never leaves the computer and, therefore, can't be sniffed by third
parties.

--
-kccricket
* chirp * chirp *
From zamoose at gmail.com  Wed Apr  4 19:59:33 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Wed Apr  4 19:59:47 2007
Subject: [wp-hackers] Automatic Upgrades with InstantUpgrade plugin
In-Reply-To: <4613F980.8010505@kccricket.net>
References: <1175693385.10986.52.camel@localhost>
	<71ddd7490704040729k3813e9bau23709427ca1d862a@mail.gmail.com>
	<1175706758.13618.12.camel@localhost>
	<71ddd7490704041029v3d97628em1c6c1c120a68309f@mail.gmail.com>
	<4613F980.8010505@kccricket.net>
Message-ID: <71ddd7490704041259p38d8eb9epbc06f664c68547ef@mail.gmail.com>

On 4/4/07, Keith Constable <kconstable@kccricket.net> wrote:
> On 04/04/07 13:29, Doug Stewart wrote:
> > On 4/4/07, Alex G?nsche <ag.ml2007@zirona.com> wrote:
> >
> > I agree that messing with the perms on a WP install is a Bad Idea(tm).
> >  Your methodology assumes that everyone has FTP access, though, which
> > isn't a universal truth.  Some may be CPanel-limited, others
> > SFTP-only.
>
> I'd assume most CPanel-limited users would be installing WordPress through
> Fantastico.  Wouldn't most users using SFTP (as in file transfers over ssh) be
> running their own servers?  In that case, those users wouldn't likely need an
> easy update system anyway ("$ svn update").  I've never used a shared hosting
> provider that only provided SFTP access, but it's been about five years since I
> used shared hosting at all.
>

*shrug*  Dreamhost offers SSH/SFTP services with all its plans, so I
have a bit of a skewed view of the hosting world as well, it seems.

> > One tack that hasn't been pursued is a PHP frontend to a shell
> > scripted backend.  Have you thought of that, perhaps?  You'd obviously
> > need different scripts for Windows vs. *NIX hosts, but it wouldn't
> > really be any more insecure than using FTP as a method for doing this.
>
> The only thing insecure about it is running an FTP server to begin with.  The
> connection from PHP to the FTP server would be done via localhost, so the
> information never leaves the computer and, therefore, can't be sniffed by third
> parties.

I suppose it would be worth a shot, although I would imagine shared
hosts are going to be a bear to get working correctly in this sort of
FTP-centric setup...

-- 
-Doug

http://literalbarrage.org/blog/
From jalkut at red-sweater.com  Wed Apr  4 20:30:00 2007
From: jalkut at red-sweater.com (Daniel Jalkut)
Date: Wed Apr  4 20:30:10 2007
Subject: [wp-hackers] Latest 2.1.x release when not yet tagged
In-Reply-To: <d135ca9c0704032123g5b78d467ga00897e70e06b3ae@mail.gmail.com>
References: <74676C47-99E8-4D21-8EFF-C77C495C555D@red-sweater.com>
	<70ebb7140704030728i5ceae907v69351bdcea8a491d@mail.gmail.com>
	<616BAE70-E3B8-4160-AAAF-8A091DC724A4@red-sweater.com>
	<d135ca9c0704032123g5b78d467ga00897e70e06b3ae@mail.gmail.com>
Message-ID: <455F5B41-4DD3-4082-81C5-0C281BAB0EBD@red-sweater.com>

Thanks! That's what I was hoping for ...

On Apr 4, 2007, at 12:23 AM, Robin Adrianse wrote:

> Tagging it is merely copying the current 2.1 branch to a new /tag/ 
> 2.1.3
> folder.

From david.phoenix at gmail.com  Wed Apr  4 23:08:41 2007
From: david.phoenix at gmail.com (David Peralty)
Date: Wed Apr  4 23:08:46 2007
Subject: [wp-hackers] Automatic Upgrades with InstantUpgrade plugin
In-Reply-To: <1175706758.13618.12.camel@localhost>
References: <1175693385.10986.52.camel@localhost>
	<71ddd7490704040729k3813e9bau23709427ca1d862a@mail.gmail.com>
	<1175706758.13618.12.camel@localhost>
Message-ID: <957d73c60704041608m3714df1cna036374d2a46c5c9@mail.gmail.com>

> >  (one which received a bit of a knock in the WP Podcast
> > #21, btw. http://tinyurl.com/3cgvd9   *grin*)
>
> Yes... that episode. ;) I am a bit disappointed how somebody can make
> (and admit!) a stupid mistake, then attribute it to the plugin, and then
> talk five minutes about how screwed that plugin is. But, ok... it's his
> opinion, and I guess he didn't mean to be so harsh (as the comments also
> show).
>

We really didn't mean to shine a negative light on the plug-in. We
wanted to show that the plug-ins we mention are not recommendations,
and there is no better way to do that then tell horror stories. lol...

We actually think very highly of this plugin and are drooling over the
idea of it being in the core.
-- 
David | www.phoenixrealm.com
From ag.ml2007 at zirona.com  Wed Apr  4 23:19:54 2007
From: ag.ml2007 at zirona.com (Alex =?ISO-8859-1?Q?G=FCnsche?=)
Date: Wed Apr  4 23:20:06 2007
Subject: [wp-hackers] Automatic Upgrades with InstantUpgrade plugin
In-Reply-To: <957d73c60704041608m3714df1cna036374d2a46c5c9@mail.gmail.com>
References: <1175693385.10986.52.camel@localhost>
	<71ddd7490704040729k3813e9bau23709427ca1d862a@mail.gmail.com>
	<1175706758.13618.12.camel@localhost>
	<957d73c60704041608m3714df1cna036374d2a46c5c9@mail.gmail.com>
Message-ID: <1175728794.19374.6.camel@localhost>

On Wed, 2007-04-04 at 19:08 -0400, David Peralty wrote:
> We actually think very highly of this plugin and are drooling over the
> idea of it being in the core.

Oh thanks, that's nice to hear. As you see, I do my best to get it
there. ;)

Best regards,
Alex

-- 
Alex G?nsche, Zirona OpenSource-Consulting
http://www.zirona.com/ | Hilfe f?r das HQ AC: http://www.prohq.de
PubKey for this address: http://www.zirona.com/misc/ag.ml2007.asc

From mikea at turbonet.com  Thu Apr  5 02:35:23 2007
From: mikea at turbonet.com (Michael D Adams)
Date: Thu Apr  5 02:35:51 2007
Subject: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <1175702191.m2f.31112@www.galleryembedded.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
	<1175702191.m2f.31112@www.galleryembedded.com>
Message-ID: <BFEC9652-DC1D-46BD-9F95-FDDA1AD02E5F@turbonet.com>

On Apr 4, 2007, at 8:56 AM, ozgreg wrote:
> dan at kuykendall.org wrote:
>> Martin Fitzpatrick wrote:
>> Yeah it is odd, because my plugin podPress shows to have more  
>> downloads
>> then the last one on the list, which I would think would move  
>> podPress
>> up into the most popular list.
>
> Starting to think it is all a conspiracy here ;)

No conspiracy, just bugs :)

I'll work on getting the following straightened out:

Consistency in number of downloads.
The "Most Popular" list.  Maybe rank by number of downloads over the  
past X months.
Browse All
Directory names in zips.
Sensible RSS feeds

Michael
From wphackers at galleryembedded.com  Thu Apr  5 03:43:23 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Thu Apr  5 03:43:28 2007
Subject: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <1175650385.m2f.31080@www.galleryembedded.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
Message-ID: <1175744603.m2f.31137@www.galleryembedded.com>


> 
> No conspiracy, just bugs :)
> 
> I'll work on getting the following straightened out:
> 
> Consistency in number of downloads.
> The "Most Popular" list.  Maybe rank by number of downloads over the  
> past X months.
> Browse All
> Directory names in zips.
> Sensible RSS feeds
> 
> Michael


Thanks Michael, 

I think you hit the big ticket items all at once..

For my 10c worth, maybe the most popular should be by Tag as well?

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From elharo at metalab.unc.edu  Thu Apr  5 17:12:18 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Thu Apr  5 17:12:42 2007
Subject: [wp-hackers] Comment previews: plugins or themes
Message-ID: <46152DF2.8080309@metalab.unc.edu>

I've been experimenting with plug-ins for comment preview lately. All I 
want is something basic that allows the user to press a preview button 
instead of a Post button and then preview their comment, editing it if 
necessary.

I found three such plugins. The first two I tried were completely 
broken. The third works, but is really annoying. It gives Live preview 
instead of delayed preview. The flashing of text as I type is very 
distracting. I may turn it off.

It occurred to me: am I looking in the wrong place? Maybe this isn't a 
job for a plug-in at all? In particular, shoudl I be looking for a theme 
that includes comment previews rather than a plug-in? Are there any such?

Or is it simply the case that WordPress doesn't have the right API hooks 
to enable comment previewing to be developed as either a theme or a 
plug-in?

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From lloydomattic at gmail.com  Thu Apr  5 19:18:17 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Thu Apr  5 19:18:24 2007
Subject: [wp-hackers] On Flooding Trac
In-Reply-To: <a491f91d0703281017q21655ba9xe12400e678726988@mail.gmail.com>
References: <a491f91d0703271637r7baeb7bdtdb041d125f045c6e@mail.gmail.com>
	<70ebb7140703271649s406e48f5p9b53f123a1a17f1@mail.gmail.com>
	<460A2611.6040905@gmail.com>
	<a491f91d0703281017q21655ba9xe12400e678726988@mail.gmail.com>
Message-ID: <70ebb7140704051218q5ddd23fdw7026c7bbcb3a012a@mail.gmail.com>

On 3/28/07, Robert Deaton <false.hopes@gmail.com> wrote:
>
> For another idea, how about instead of giving us a warning or
> something, could somebody reconfigure the trac mailer not to send on
> frivolous changes that the whole list doesn't need to know about. It
> would be nice to know about comments, tickets being
> created/closed/reopened, but not so much to know about every time
> someone changes the milestone or the version.

That does seem like desirable behavior. I will add it to my long list
(unfortunately) on the bottom half. It is likely a non-trivial
technical problem as well, depending how Trac records/publishes
updates.

Thanks Robert,
-- 
Lloyd Budd | Quality Assurance Lead | 250-885-1744
WordPress.com | WordPress.org | Automattic.com
From if.website at gmail.com  Thu Apr  5 19:48:45 2007
From: if.website at gmail.com (Austin Matzko)
Date: Thu Apr  5 19:48:53 2007
Subject: [wp-hackers] Comment previews: plugins or themes
In-Reply-To: <46152DF2.8080309@metalab.unc.edu>
References: <46152DF2.8080309@metalab.unc.edu>
Message-ID: <674b4a3b0704051248p2c298ee2ma72d127650b38457@mail.gmail.com>

On 4/5/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> I've been experimenting with plug-ins for comment preview lately. All I
> want is something basic that allows the user to press a preview button
> instead of a Post button and then preview their comment, editing it if
> necessary.
>
> I found three such plugins. The first two I tried were completely
> broken. The third works, but is really annoying. It gives Live preview
> instead of delayed preview. The flashing of text as I type is very
> distracting. I may turn it off.

Coincidentally, today I've released a completely re-worked version of
my comments preview plugin, which you can get here:
http://www.ilfilosofo.com/blog/comments-preview/

It should work just fine for any WP version 2.0 or newer.  If you find
it "completely broken," please let me know.
From elharo at metalab.unc.edu  Thu Apr  5 20:05:07 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Thu Apr  5 20:05:26 2007
Subject: [wp-hackers] Comment previews: plugins or themes
In-Reply-To: <674b4a3b0704051248p2c298ee2ma72d127650b38457@mail.gmail.com>
References: <46152DF2.8080309@metalab.unc.edu>
	<674b4a3b0704051248p2c298ee2ma72d127650b38457@mail.gmail.com>
Message-ID: <46155673.7000603@metalab.unc.edu>

Austin Matzko wrote:

> Coincidentally, today I've released a completely re-worked version of
> my comments preview plugin, which you can get here:
> http://www.ilfilosofo.com/blog/comments-preview/
> 
> It should work just fine for any WP version 2.0 or newer.  If you find
> it "completely broken," please let me know.


Looks like I shoudl have waited 24 hours. :-) Thanks. I'll check it out.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From dan at kuykendall.org  Thu Apr  5 20:33:50 2007
From: dan at kuykendall.org (Dan Kuykendall)
Date: Thu Apr  5 20:34:12 2007
Subject: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <BFEC9652-DC1D-46BD-9F95-FDDA1AD02E5F@turbonet.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>	<1175702191.m2f.31112@www.galleryembedded.com>
	<BFEC9652-DC1D-46BD-9F95-FDDA1AD02E5F@turbonet.com>
Message-ID: <46155D2E.7080101@kuykendall.org>

Michael D Adams wrote:
> I'll work on getting the following straightened out:
> 
> Consistency in number of downloads.
> The "Most Popular" list.  Maybe rank by number of downloads over the

These look like they are working now. Great job, thanks.

> past X months.
> Browse All

Cool

> Directory names in zips.

looking forward to this one ;)

> Sensible RSS feeds

Ahh, this is cool. Im guessing it will tie nicely into the update
checker that everyones talking about.

+ In the per tags, there appears to be no order. Im thinking its in
order of most recently added to oldest. It should either be alphabetical
or by download/popularity

> Michael

Thank you Michael, your doing a great job!
If theres anything I can do to  help, and code help I can offer, let me
know.

-- 
Dan Kuykendall (aka Seek3r)
http://www.mightyseek.com

In God we trust, all others we virus scan.
Programmer - an organism that turns coffee into software.
From mikea at turbonet.com  Fri Apr  6 02:27:47 2007
From: mikea at turbonet.com (Michael D Adams)
Date: Fri Apr  6 02:28:17 2007
Subject: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <BFEC9652-DC1D-46BD-9F95-FDDA1AD02E5F@turbonet.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
	<1175702191.m2f.31112@www.galleryembedded.com>
	<BFEC9652-DC1D-46BD-9F95-FDDA1AD02E5F@turbonet.com>
Message-ID: <D2DB4816-F4E6-4E4E-962B-314576FB33B4@turbonet.com>

> Consistency in number of downloads.

Check

> The "Most Popular" list.  Maybe rank by number of downloads over  
> the past X months.

The only thing I changed was the consistency thing.  I can revisit  
this later.

> Browse All

Check: http://wordpress.org/extend/plugins/browse/popular/
Check: http://wordpress.org/extend/plugins/browse/new/
Check: http://wordpress.org/extend/plugins/browse/updated/
and Check: http://wordpress.org/extend/plugins/browse/top-rated/

> Directory names in zips.

Check.  I'll have the server reprocess all the zip files tonight to  
fix them.  Should be good for tomorrow.

> Sensible RSS feeds

Mostly check.

Most feeds show just the plugin description and are updated when a  
plugin is updated.  This makes it easy to keep track of plugin  
updates (until we have a real API for that) by adding plugins to your  
"Favorites".  In looking at it again, though, I see there is no UI to  
add plugins to your "Favorites".  Oops :)  Hopefully tomorrow.

Feeds for individual plugins show the comments on that plugin.  Other  
feeds can be made to do the same by appending ?comments to the url.

Michael
From mikea at turbonet.com  Fri Apr  6 02:28:48 2007
From: mikea at turbonet.com (Michael D Adams)
Date: Fri Apr  6 02:29:06 2007
Subject: [Spam] Re: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <46155D2E.7080101@kuykendall.org>
References: <1175650385.m2f.31080@www.galleryembedded.com>	<1175702191.m2f.31112@www.galleryembedded.com>
	<BFEC9652-DC1D-46BD-9F95-FDDA1AD02E5F@turbonet.com>
	<46155D2E.7080101@kuykendall.org>
Message-ID: <ACFEEAAF-88B4-4781-9048-48392F098B9D@turbonet.com>

> In the per tags, there appears to be no order. Im thinking its in
> order of most recently added to oldest. It should either be  
> alphabetical
> or by download/popularity

Hm.  Good point.  I'll see what the DB structure lets us do cheaply  
here.

Thanks!
Michael

From mikea at turbonet.com  Fri Apr  6 02:29:33 2007
From: mikea at turbonet.com (Michael D Adams)
Date: Fri Apr  6 02:29:52 2007
Subject: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <1175744603.m2f.31137@www.galleryembedded.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
	<1175744603.m2f.31137@www.galleryembedded.com>
Message-ID: <38797386-DBE4-4705-89A3-942F80884A7A@turbonet.com>

> For my 10c worth, maybe the most popular should be by Tag as well?

Maybe in Plugin Directory v2.0 :)

Michael

From wphackers at galleryembedded.com  Fri Apr  6 08:13:44 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Fri Apr  6 08:13:50 2007
Subject: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <1175650385.m2f.31080@www.galleryembedded.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
Message-ID: <1175847224.m2f.31188@www.galleryembedded.com>

Excellent work Michael looking great.  

Just a few more questions..

A) I presume the featured plugin will be the next on the to-be fixed list :-) 
B) Will the core plugin (Akismet) be removed from the plugin list?

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From wphackers at galleryembedded.com  Fri Apr  6 09:15:07 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Fri Apr  6 09:15:12 2007
Subject: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <1175650385.m2f.31080@www.galleryembedded.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
	<1175847224.m2f.31188@www.galleryembedded.com>
Message-ID: <1175850907.m2f.31191@www.galleryembedded.com>

Hmm anyone else's readme no longer correctly parsing??

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From wphackers at galleryembedded.com  Fri Apr  6 10:21:37 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Fri Apr  6 10:21:42 2007
Subject: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <1175650385.m2f.31080@www.galleryembedded.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
	<1175850907.m2f.31191@www.galleryembedded.com>
Message-ID: <1175854896.m2f.31195@www.galleryembedded.com>

Fixed now.. Must have been a hiccup..

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From vitamona at gmail.com  Fri Apr  6 15:08:41 2007
From: vitamona at gmail.com (vitamona)
Date: Fri Apr  6 15:36:11 2007
Subject: [wp-hackers] Use non default path for wp-admin e wp-includes
Message-ID: <fb9836e60704060808w8a43b6epbce9de1a7e44ac8d@mail.gmail.com>

Hi,
for security reason i think to move to wp-admin/ and wp-include/ into
a non standard path for example into a directory or only for
wp-include out from php open_basedir.

The wp-admin and wp-includes are hard coded into the sources.
Is there a simple way for make this?

Thanks
From ian at onecrayon.com  Fri Apr  6 18:15:24 2007
From: ian at onecrayon.com (Ian Beck)
Date: Fri Apr  6 18:15:35 2007
Subject: [wp-hackers] Detect if a plugin is calling function
Message-ID: <ABCA601C-F4C6-4F5D-8DF1-C6B0904FAE0C@onecrayon.com>

Hey,

New to the list; please forgive me if this topic has come up before,  
but I haven't been able to find any info online or elsewhere.

I'm working with David Coppit's Category Access plugin, which filters  
out blog content based on category and per user permissions.   
Currently, it filters all calls that fetch the post (such as get_post 
()), and on the way interferes with plugins such as Akismet (filters  
out the post content, making it difficult to tell what is spam).

I need to find a way to have Category Access check whether or not a  
local plugin is asking for post/comment content, and bypass the  
security measures.  Does anyone have suggestions for how to detect if  
a plugin is asking for the post content, or have suggestions for  
other workarounds?

Thanks in advance!

Ian

??????????????????
Ian Beck
ian@onecrayon.com

One Crayon Design
http://onecrayon.com


From ag.ml2007 at zirona.com  Fri Apr  6 18:22:33 2007
From: ag.ml2007 at zirona.com (Alex =?ISO-8859-1?Q?G=FCnsche?=)
Date: Fri Apr  6 18:22:49 2007
Subject: [wp-hackers] Detect if a plugin is calling function
In-Reply-To: <ABCA601C-F4C6-4F5D-8DF1-C6B0904FAE0C@onecrayon.com>
References: <ABCA601C-F4C6-4F5D-8DF1-C6B0904FAE0C@onecrayon.com>
Message-ID: <1175883753.3961.13.camel@localhost>

On Fri, 2007-04-06 at 11:15 -0700, Ian Beck wrote:
> I need to find a way to have Category Access check whether or not a  
> local plugin is asking for post/comment content, and bypass the  
> security measures.  Does anyone have suggestions for how to detect if  
> a plugin is asking for the post content, or have suggestions for  
> other workarounds?

You could hook in before the other plugin, the add_action() and
add_filter() hooks provide an optional parameter to define the plugin
pririty. Plugins which don't use this parameter have a default value of
10. Yours could use 7 or something.

Cf. http://codex.wordpress.org/Plugin_API


Regards,
Alex

-- 
Alex G?nsche, Zirona OpenSource-Consulting
http://www.zirona.com/ | Hilfe f?r das HQ AC: http://www.prohq.de
PubKey for this address: http://www.zirona.com/misc/ag.ml2007.asc

From codehooligans at codehooligans.com  Fri Apr  6 18:29:01 2007
From: codehooligans at codehooligans.com (Paul Menard)
Date: Fri Apr  6 18:28:20 2007
Subject: [wp-hackers] Use non default path for wp-admin e wp-includes
In-Reply-To: <fb9836e60704060808w8a43b6epbce9de1a7e44ac8d@mail.gmail.com>
References: <fb9836e60704060808w8a43b6epbce9de1a7e44ac8d@mail.gmail.com>
Message-ID: <8994E884-3DC9-4282-8279-541CAD948986@codehooligans.com>

vitamona,

In WP Options -> General you can setup the Site (public facing) to be  
one URL and the WordPress admin site to be two different URLs.

For example I've created the site/Blog URL to be http://www.mysite.com
Under WP Options -> General the Blog address is http://www.mysite.com
On disk this site's root path is  /var/www/htoccs/mysite_www/

For the Admin site I create a sub-domain http://admin.mysite.com
Under WP Options -> General the WordPress address is http:// 
admin.mysite.com
On disk this site's root path is /var/www/htdocs/mysite_admin/

So notice the WWW and ADMIN sites are under two different directory  
trees.

In the root of the WWW site I have one file, index.php. Below is the  
contents of this file.

<?php
/* Short and sweet */
define('WP_USE_THEMES', true);
require('wp-blog-header.php');
?>


The require line pulls in wp-blog-header.php. In a default WP  
installation this index.php lives in the wordpress root directory.  
The trick here is to have the WWW aware of the ADMIN site via the PHP  
include_path.

So in my Apache VirtualHost entry I includes the path to the  
location /var/www/htdocs/mysite_admin/

Below are the two Virtual Host I use.

<VirtualHost 127.0.0.1:80>
     ServerName www.mysite.com
     ServerAdmin webmaster
     DocumentRoot        /var/www/htdocs/mysite_www

    # This is to access the WordPress functions via the admin path.
     php_value include_path "/var/www/htdocs/mysite_admin/"

    # I use the following instead of the .htaccess file. Much faster  
since Apache does not need to check the directory
     <Directory          /var/www/htdocs/mysite_www>
                 # BEGIN WordPress
                 <IfModule mod_rewrite.c>
                         RewriteEngine On
                         RewriteBase /
                         RewriteCond %{REQUEST_FILENAME} !-f
                         RewriteCond %{REQUEST_FILENAME} !-d
                         RewriteRule . /index.php [L]
                 </IfModule>
                 # END WordPress
         </Directory>

</VirtualHost>

<VirtualHost 127.0.0.1:80>
     ServerName admin.mysite.com
     ServerAdmin webmaster
     DocumentRoot        /var/www/htdocs/mysite_admin
</VirtualHost>

What I've not been able to figure out is how to keep the theme  
related content under the WWW site and thus keep the WP engine out of  
the picture. Well doing that without hacking my own version of WP  
that is.

P-


On Apr 6, 2007, at 10:08 AM, vitamona wrote:

> Hi,
> for security reason i think to move to wp-admin/ and wp-include/ into
> a non standard path for example into a directory or only for
> wp-include out from php open_basedir.
>
> The wp-admin and wp-includes are hard coded into the sources.
> Is there a simple way for make this?
>
> Thanks
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From david at coppit.org  Fri Apr  6 18:34:19 2007
From: david at coppit.org (David Coppit)
Date: Fri Apr  6 18:35:03 2007
Subject: [wp-hackers] Re: Detect if a plugin is calling function
In-Reply-To: <1175883753.3961.13.camel@localhost>
References: <ABCA601C-F4C6-4F5D-8DF1-C6B0904FAE0C@onecrayon.com>
	<1175883753.3961.13.camel@localhost>
Message-ID: <Pine.BSF.4.64.0704061433190.59003@www.provisio.net>

On Fri, 6 Apr 2007, Alex Gnsche wrote:

> You could hook in before the other plugin, the add_action() and
> add_filter() hooks provide an optional parameter to define the plugin
> pririty. Plugins which don't use this parameter have a default value of
> 10. Yours could use 7 or something.

So setting the priority for Category Access to something like 1000 would
have it filter *after* the other plugins filter it. I bet that would work
Ian. Let me know!

David

_____________________________________________________________________
David Coppit                           david@coppit.org
The College of William and Mary        http://coppit.org/

"When the president does it that means that it is not illegal."
- Richard Nixon on domestic surveillance, 5/19/1977
"Do I have the legal authority to do this? And the answer is, absolutely."
- George W. Bush on domestic surveillance, 12/19/2005
From angsuman at taragana.com  Sat Apr  7 01:00:00 2007
From: angsuman at taragana.com (Angsuman Chakraborty)
Date: Sat Apr  7 00:59:07 2007
Subject: [wp-hackers] Re: Detect if a plugin is calling function
In-Reply-To: <Pine.BSF.4.64.0704061433190.59003@www.provisio.net>
References: <ABCA601C-F4C6-4F5D-8DF1-C6B0904FAE0C@onecrayon.com>
	<1175883753.3961.13.camel@localhost>
	<Pine.BSF.4.64.0704061433190.59003@www.provisio.net>
Message-ID: <1175907600.3642.91.camel@localhost.localdomain>

That will be fine unless someone like you decides to set the priority to
2000 :)

On Fri, 2007-04-06 at 14:34 -0400, David Coppit wrote:
> On Fri, 6 Apr 2007, Alex Gnsche wrote:
> 
> > You could hook in before the other plugin, the add_action() and
> > add_filter() hooks provide an optional parameter to define the plugin
> > pririty. Plugins which don't use this parameter have a default value of
> > 10. Yours could use 7 or something.
> 
> So setting the priority for Category Access to something like 1000 would
> have it filter *after* the other plugins filter it. I bet that would work
> Ian. Let me know!
> 
> David
> 
> _____________________________________________________________________
> David Coppit                           david@coppit.org
> The College of William and Mary        http://coppit.org/
> 
> "When the president does it that means that it is not illegal."
> - Richard Nixon on domestic surveillance, 5/19/1977
> "Do I have the legal authority to do this? And the answer is, absolutely."
> - George W. Bush on domestic surveillance, 12/19/2005
> _______________________________________________ wp-hackers mailing list wp-hackers@lists.automattic.com http://lists.automattic.com/mailman/listinfo/wp-hackers

From email at dalegroup.net  Sat Apr  7 13:03:24 2007
From: email at dalegroup.net (Michael Dale)
Date: Sat Apr  7 12:56:48 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: 005d01c776b2$fa1bf160$ee53d420$@net
Message-ID: <20070407130324.4a15f4dd@mail.lttd.net>

Version 0.4 is now out. This version can successfully upgrade all versions (including 0.1).

This version mostly has changes under the hood, although it is recommended for all users.

Changes:

+New Events Tracked:
	+Switching Themes
+wp_nonce protection.
+uninstaller
-faster
-more WordPress integration
-The dashboard recent events is now only displayed for admin users. 

I've been trying some cron stuff for auto-pruning but it isn't working/finished yet.

How well does the wordpress cron stuff work?

Michael.
From computerguru at neosmart.net  Sat Apr  7 17:55:22 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sat Apr  7 17:56:42 2007
Subject: [wp-hackers] Wordpress Event Viewer Plugin
In-Reply-To: <20070407130324.4a15f4dd@mail.lttd.net>
References: 005d01c776b2$fa1bf160$ee53d420$@net
	<20070407130324.4a15f4dd@mail.lttd.net>
Message-ID: <000001c7793d$ecb1cdf0$c61569d0$@net>

> How well does the wordpress cron stuff work?
> 
> Michael.

Quite reliably on most hosts, actually.
I believe there is a slight problem on certain configurations (CGI was it?),
but on the supported platforms, it's great.

However, it's a bit difficult to hook into compared to some of the other
stuff...

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

From miklb.online at gmail.com  Sat Apr  7 19:37:46 2007
From: miklb.online at gmail.com (Michael B)
Date: Sat Apr  7 19:37:51 2007
Subject: [wp-hackers] Re: Extending extend/plugins
In-Reply-To: <D2DB4816-F4E6-4E4E-962B-314576FB33B4@turbonet.com>
References: <1175650385.m2f.31080@www.galleryembedded.com>
	<1175702191.m2f.31112@www.galleryembedded.com>
	<BFEC9652-DC1D-46BD-9F95-FDDA1AD02E5F@turbonet.com>
	<D2DB4816-F4E6-4E4E-962B-314576FB33B4@turbonet.com>
Message-ID: <122d4b4d0704071237k65511744hb0e188bb49e6cb6@mail.gmail.com>

On 4/5/07, Michael D Adams <mikea@turbonet.com> wrote:
>
>
> > Sensible RSS feeds
>
> Mostly check.
>
> Most feeds show just the plugin description and are updated when a
> plugin is updated.  This makes it easy to keep track of plugin
> updates (until we have a real API for that) by adding plugins to your
> "Favorites".  In looking at it again, though, I see there is no UI to
> add plugins to your "Favorites".  Oops :)  Hopefully tomorrow.
>
> Feeds for individual plugins show the comments on that plugin.  Other
> feeds can be made to do the same by appending ?comments to the url.
>
> Michael



So is there not a way to subscribe to
http://wordpress.org/extend/plugins/browse/new/
or http://wordpress.org/extend/plugins/browse/updated/  ?


~miklb
From computerguru at neosmart.net  Sat Apr  7 19:57:48 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sat Apr  7 19:58:37 2007
Subject: [wp-hackers] Re: Detect if a plugin is calling function
In-Reply-To: <1175907600.3642.91.camel@localhost.localdomain>
References: <ABCA601C-F4C6-4F5D-8DF1-C6B0904FAE0C@onecrayon.com>	<1175883753.3961.13.camel@localhost>	<Pine.BSF.4.64.0704061433190.59003@www.provisio.net>
	<1175907600.3642.91.camel@localhost.localdomain>
Message-ID: <000601c7794f$1abe60d0$503b2270$@net>

Lol, my RSS plugin has a value of 1001 for that *exact* reason :P

Same on eBay: I always bid a round number + 1 USD as my max.... Psychology
:D

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Angsuman Chakraborty
> Sent: Saturday, April 07, 2007 4:00 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Re: Detect if a plugin is calling function
> 
> That will be fine unless someone like you decides to set the priority
> to
> 2000 :)
> 
> On Fri, 2007-04-06 at 14:34 -0400, David Coppit wrote:
> > On Fri, 6 Apr 2007, Alex Gnsche wrote:
> >
> > > You could hook in before the other plugin, the add_action() and
> > > add_filter() hooks provide an optional parameter to define the
> plugin
> > > pririty. Plugins which don't use this parameter have a default
> value of
> > > 10. Yours could use 7 or something.
> >
> > So setting the priority for Category Access to something like 1000
> would
> > have it filter *after* the other plugins filter it. I bet that would
> work
> > Ian. Let me know!
> >
> > David
> >
> > _____________________________________________________________________
> > David Coppit                           david@coppit.org
> > The College of William and Mary        http://coppit.org/
> >
> > "When the president does it that means that it is not illegal."
> > - Richard Nixon on domestic surveillance, 5/19/1977
> > "Do I have the legal authority to do this? And the answer is,
> absolutely."
> > - George W. Bush on domestic surveillance, 12/19/2005
> > _______________________________________________ wp-hackers mailing
> list wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From false.hopes at gmail.com  Sat Apr  7 21:08:53 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Sat Apr  7 21:08:58 2007
Subject: [wp-hackers] Re: Detect if a plugin is calling function
In-Reply-To: <000601c7794f$1abe60d0$503b2270$@net>
References: <ABCA601C-F4C6-4F5D-8DF1-C6B0904FAE0C@onecrayon.com>
	<1175883753.3961.13.camel@localhost>
	<Pine.BSF.4.64.0704061433190.59003@www.provisio.net>
	<1175907600.3642.91.camel@localhost.localdomain>
	<000601c7794f$1abe60d0$503b2270$@net>
Message-ID: <a491f91d0704071408kbbde2b7lad61e50da4286905@mail.gmail.com>

On 4/7/07, Computer Guru <computerguru@neosmart.net> wrote:
> Lol, my RSS plugin has a value of 1001 for that *exact* reason :P
>
> Same on eBay: I always bid a round number + 1 USD as my max.... Psychology
> :D

I do +3, after watching Jeopardy for most of my childhood.

-- 
--Robert Deaton
http://lushlab.com
From wphackers at galleryembedded.com  Sat Apr  7 23:43:11 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Sat Apr  7 23:43:14 2007
Subject: [wp-hackers] Moderating Extending extend/plugins Comments
Message-ID: <1175989391.m2f.31278@www.galleryembedded.com>

For the record I am against comment censorship however..

I have noticed a few posters leaving negative or just rubbish comments on other author's plugins (and I get them myself) from posters who clearly did not read the plugin requirements nor follow the plugin instructions.

Can we, the plugin authors, have some way to flag comments of this nature so they just do not appear on the public comments list, (hidden but not deleted) as nothing is worse than comments appearing in the list that are in effect just a red herring.

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From wphackers at galleryembedded.com  Sat Apr  7 23:46:08 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Sat Apr  7 23:46:11 2007
Subject: [wp-hackers] Re: Wordpress Event Viewer Plugin
Message-ID: <1175989568.m2f.31281@www.galleryembedded.com>

loving your work Michael, I grabbed a copy of your plugin and had a play around with it yesterday..

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From robin.adr at gmail.com  Sun Apr  8 04:54:55 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Sun Apr  8 04:55:00 2007
Subject: [wp-hackers] Moderating Extending extend/plugins Comments
In-Reply-To: <1175989391.m2f.31278@www.galleryembedded.com>
References: <1175989391.m2f.31278@www.galleryembedded.com>
Message-ID: <d135ca9c0704072154gebfcb08ne4d7e20249b39904@mail.gmail.com>

I don't think this is censorship. If this were censorship then by blocking
spam we would be censoring their thoughts. If people are just going to be
immature about something, then by all means -- delete their comments.

Are the comments getting run through Akismet?

On 4/7/07, ozgreg <wphackers@galleryembedded.com> wrote:
>
> For the record I am against comment censorship however..
>
> I have noticed a few posters leaving negative or just rubbish comments on
> other author's plugins (and I get them myself) from posters who clearly did
> not read the plugin requirements nor follow the plugin instructions.
>
> Can we, the plugin authors, have some way to flag comments of this nature
> so they just do not appear on the public comments list, (hidden but not
> deleted) as nothing is worse than comments appearing in the list that are in
> effect just a red herring.
>
> ------------------------
> WPG2 Installation, Operation & FAQ Documentation (
> http://wpg2.galleryembedded.com/)
>
>
>
>
> -------------------- m2f --------------------
>
> Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
> -------------------- m2f --------------------
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From computerguru at neosmart.net  Sun Apr  8 13:51:58 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr  8 13:52:35 2007
Subject: [wp-hackers] Moderating Extending extend/plugins Comments
In-Reply-To: <d135ca9c0704072154gebfcb08ne4d7e20249b39904@mail.gmail.com>
References: <1175989391.m2f.31278@www.galleryembedded.com>
	<d135ca9c0704072154gebfcb08ne4d7e20249b39904@mail.gmail.com>
Message-ID: <000d01c779e5$20de9c00$629bd400$@net>

"this comment broke my wordpress completely, don't use it!" 

Sounds like spam - so you delete it.
But what if it turns out that it *does* break certain versions of WP? The guy didn't clarify, but then again, he wasn't wrong.

I have people making these same kind of posts on my site, and I elect to keep them (and reply with a "no it doesn't + justification") - just so at the end of the day I can honestly say that NST doesn't engage in comment filtering or censorship (personal attacks and spam excluded).

I guess it's a personal to make - I'm just pointing out that a comment *may* be understood both ways - even if it's useless and of no benefit to your readers, it's still their comment, if you get what I mean...

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Robin Adrianse
> Sent: Sunday, April 08, 2007 7:55 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Moderating Extending extend/plugins Comments
> 
> I don't think this is censorship. If this were censorship then by
> blocking
> spam we would be censoring their thoughts. If people are just going to
> be
> immature about something, then by all means -- delete their comments.
> 
> Are the comments getting run through Akismet?
> 
> On 4/7/07, ozgreg <wphackers@galleryembedded.com> wrote:
> >
> > For the record I am against comment censorship however..
> >
> > I have noticed a few posters leaving negative or just rubbish
> comments on
> > other author's plugins (and I get them myself) from posters who
> clearly did
> > not read the plugin requirements nor follow the plugin instructions.
> >
> > Can we, the plugin authors, have some way to flag comments of this
> nature
> > so they just do not appear on the public comments list, (hidden but
> not
> > deleted) as nothing is worse than comments appearing in the list that
> are in
> > effect just a red herring.
> >
> > ------------------------
> > WPG2 Installation, Operation & FAQ Documentation (
> > http://wpg2.galleryembedded.com/)
> >
> >
> >
> >
> > -------------------- m2f --------------------
> >
> > Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
> > -------------------- m2f --------------------
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jalkut at red-sweater.com  Sun Apr  8 15:56:46 2007
From: jalkut at red-sweater.com (Daniel Jalkut)
Date: Sun Apr  8 15:56:55 2007
Subject: [wp-hackers] WordPress API Enhancements
Message-ID: <70FBB9DE-0A2E-48CE-9C9B-E82E92E3F076@red-sweater.com>

I only recently discovered the WordPress API enhancements that are  
being added for 2.2 to the xmlrpc.php implementation. It looks like  
this changeset is where the bulk of the functionality was added:

http://trac.wordpress.org/changeset/4793

But I don't see an associated ticket, or any clues as to where I can  
read up on the reasoning that went into these changes.

In particular I'd like to know if there was a debate around whether  
to invent the extensions instead of taking a Drupal-like approach and  
overloading "blog ID" to refer to the various asset types on the system.

For example in Drupal the "pages" can be accessed using the usual  
MovableType API, as long as you specify "page" as the blog ID.

Is there a mail thread, or Trac ticket discussion, where the details  
of this implementation were ironed out? I'd like to get the  
background story if it exists. In the meantime I'm going to report a  
couple issues for the record that might invite some discussion (if  
late, sorry).

Daniel
From gilmanhunt at comcast.net  Mon Apr  9 01:16:12 2007
From: gilmanhunt at comcast.net (Russ Gilman-Hunt (YAR))
Date: Mon Apr  9 01:16:17 2007
Subject: [wp-hackers] Plugin Framing Question
Message-ID: <20070408181612.6bf96d78@badger.had1.or.comcast.net.>

I'm working on a specific plugin for a community group; they want to
put in a list of addresses and notes, contact numbers and the like.
( It's a cross-denominational support group). I can see the utility in
other circumstances ( for instance, on one of my websites, a list of
"scrapbook retailers" with contact numbers and addresses), but it's
pretty specific at the moment.

How do you (and other plugin authors) decide how far to abstract out
the functionality of a plugin, to make it better for general use?



-- 
Russ Gilman-Hunt
http://www.arghwebworks.com/
gilmanhunt@comcast.net
From jalkut at red-sweater.com  Mon Apr  9 02:22:24 2007
From: jalkut at red-sweater.com (Daniel Jalkut)
Date: Mon Apr  9 02:22:38 2007
Subject: [wp-hackers] WordPress API Enhancements
In-Reply-To: <70FBB9DE-0A2E-48CE-9C9B-E82E92E3F076@red-sweater.com>
References: <70FBB9DE-0A2E-48CE-9C9B-E82E92E3F076@red-sweater.com>
Message-ID: <A90DD1A3-1C5B-42C9-BBD1-9C2175931987@red-sweater.com>

Since sending this, I've gotten my feet a little bit wetter with the  
xmlrpc.php changes that are going on. I now see that probably a lot  
of the decisions that were made, were made in the context of wanting  
to preserve the sanctity of "blog ID" as a completely unique top- 
level blog reference, in the event that WP supports some multi- 
blogging functionality out of the box in the future.

That said, I'd still be curious to know if there was any discussion  
about this before it was committed.

D

On Apr 8, 2007, at 11:56 AM, Daniel Jalkut wrote:

> I only recently discovered the WordPress API enhancements that are  
> being added for 2.2 to the xmlrpc.php implementation. It looks like  
> this changeset is where the bulk of the functionality was added:
>
> http://trac.wordpress.org/changeset/4793
>
> But I don't see an associated ticket, or any clues as to where I  
> can read up on the reasoning that went into these changes.
>
> In particular I'd like to know if there was a debate around whether  
> to invent the extensions instead of taking a Drupal-like approach  
> and overloading "blog ID" to refer to the various asset types on  
> the system.
>
> For example in Drupal the "pages" can be accessed using the usual  
> MovableType API, as long as you specify "page" as the blog ID.
>
> Is there a mail thread, or Trac ticket discussion, where the  
> details of this implementation were ironed out? I'd like to get the  
> background story if it exists. In the meantime I'm going to report  
> a couple issues for the record that might invite some discussion  
> (if late, sorry).
>
> Daniel
> __________________

From false.hopes at gmail.com  Mon Apr  9 05:39:20 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Apr  9 05:39:25 2007
Subject: [wp-hackers] Consolidating database tables and other assorted items
Message-ID: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>

Over the past few months I've noticed an interest by the devs to
consolidate data into as few tables as possible. Take for instance,
link_categories, categories, and tags. Now, since these are all
clearly exactly the same, its only logical that they go in the same
table together, however I propose we take this a step further.

Really, logically, all the data we store in the database is the same.
Its all WordPress data, that's why I suggest we consolidate all tables
into one table, wp_data. This table could have a type column that
allows you to choose whether you want
posts,postmeta,categories,link_categories,post2cat,options,users,usermeta,
etc.

Now, the number of indexes on this table would probably end up being
fairly large in order to keep our queries as blindingly efficient as
they've always been. This means, unfortunately, that writes to the
database would probably take some time because there would be so many
indexes. That is why I propose a second table, wp_pending_writes, with
a schema

CREATE TABLE `wp_pending_writes` (
  `ID` BIGINT(20)  NOT NULL AUTO_INCREMENT,
  `pending_query` TEXT  NOT NULL,
  PRIMARY KEY(`ID`)
)

where we simply insert all the pending writes. Then, our cron system
can run every 10 minutes and go through in the background and actually
write all the queries. This way, the server load doesn't spike too
horribly with heavy comment traffic and the site continues to load
whenever anybody does something that requires a database write. The
table would then obviously be cleared.

I also suggest we add one more table, for a total of three. This one
is mainly because all WordPress development follows WordPress.com
these days, and so we regular developers must also be concerned with
making sure that each individual WordPress install has information
such as blog_id and is efficient enough to scale to hundreds of
thousands of blogs. The table I propose is wp_cached_queries, which is
a table that has the following structure:

CREATE TABLE `wp_cached_queries` (
  `key` VARCHAR(32)  NOT NULL,
  `result` TEXT  NOT NULL,
  PRIMARY KEY(`key`)
)

This would allow us to cache the results of all the queries as a
serialized array into the database, with a key that is the md5 of the
actual query that we might run on the wp_data table. This allows us to
be incredibly efficient.


Now that that's out of the way, there's a few other assorted
suggestions that I have. I propose that when navigating in the admin
panel, in the spirit of #4089 [http://trac.wordpress.org/ticket/4089],
in order to have a consistent and pretty UI, that whenever you click
on a link to move to another page in the admin, the entire page fade
out to that dark blue WordPress hue with a giant W in a circle in the
center of the page, and then fade back in with the contents of the new
page. This means that essentially we'd have everything in the admin
loaded by fancy javascript and AJAX.

Some may see this as a radical proposal, but I think since we have
been compelled enough to remove the Firefox and BrowseHappy logos
intended for the unpure browser users, then clearly we can go ahead
and start implementing radical features that depend on these browsers
if we don't have to worry about spreading propaganda to the other
users anymore.

-- 
--Robert Deaton
http://lushlab.com
From speedboxer at gmail.com  Mon Apr  9 06:19:03 2007
From: speedboxer at gmail.com (Matt)
Date: Mon Apr  9 06:19:08 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
Message-ID: <b88434820704082319q7fb9f5d0ta8d55a8963389e70@mail.gmail.com>

Yes, but then your changes wouldn't happen immediately, which is what most
people want. It'll just confuse the average user and then they'll go and
they'll do the change again, increasing the size of the query. If this were
to ever happen, which I doubt it's going to anytime soon, we'd also have to
prioritize the queries. So that when you Publish a post, it won't be posted
10 Minutes later, it'll be posted immediately.

Also, just have 1 table for all the Data isn't a good idea for being able to
sift through it, if need be. The developers may want less tables, but it
still needs to be Organized and Manageable.

As for the page fading in and out and the Wordpress logo, that seems
excessive. We should just be working towards making it faster, keeping the
layout consistent and adding Ajax in places that it makes sense in adding
Ajax (which is quite a few places).


On 4/8/07, Robert Deaton <false.hopes@gmail.com> wrote:
>
> Over the past few months I've noticed an interest by the devs to
> consolidate data into as few tables as possible. Take for instance,
> link_categories, categories, and tags. Now, since these are all
> clearly exactly the same, its only logical that they go in the same
> table together, however I propose we take this a step further.
>
> Really, logically, all the data we store in the database is the same.
> Its all WordPress data, that's why I suggest we consolidate all tables
> into one table, wp_data. This table could have a type column that
> allows you to choose whether you want
> posts,postmeta,categories,link_categories,post2cat,options,users,usermeta,
> etc.
>
> Now, the number of indexes on this table would probably end up being
> fairly large in order to keep our queries as blindingly efficient as
> they've always been. This means, unfortunately, that writes to the
> database would probably take some time because there would be so many
> indexes. That is why I propose a second table, wp_pending_writes, with
> a schema
>
> CREATE TABLE `wp_pending_writes` (
> `ID` BIGINT(20)  NOT NULL AUTO_INCREMENT,
> `pending_query` TEXT  NOT NULL,
> PRIMARY KEY(`ID`)
> )
>
> where we simply insert all the pending writes. Then, our cron system
> can run every 10 minutes and go through in the background and actually
> write all the queries. This way, the server load doesn't spike too
> horribly with heavy comment traffic and the site continues to load
> whenever anybody does something that requires a database write. The
> table would then obviously be cleared.
>
> I also suggest we add one more table, for a total of three. This one
> is mainly because all WordPress development follows WordPress.com
> these days, and so we regular developers must also be concerned with
> making sure that each individual WordPress install has information
> such as blog_id and is efficient enough to scale to hundreds of
> thousands of blogs. The table I propose is wp_cached_queries, which is
> a table that has the following structure:
>
> CREATE TABLE `wp_cached_queries` (
> `key` VARCHAR(32)  NOT NULL,
> `result` TEXT  NOT NULL,
> PRIMARY KEY(`key`)
> )
>
> This would allow us to cache the results of all the queries as a
> serialized array into the database, with a key that is the md5 of the
> actual query that we might run on the wp_data table. This allows us to
> be incredibly efficient.
>
>
> Now that that's out of the way, there's a few other assorted
> suggestions that I have. I propose that when navigating in the admin
> panel, in the spirit of #4089 [http://trac.wordpress.org/ticket/4089],
> in order to have a consistent and pretty UI, that whenever you click
> on a link to move to another page in the admin, the entire page fade
> out to that dark blue WordPress hue with a giant W in a circle in the
> center of the page, and then fade back in with the contents of the new
> page. This means that essentially we'd have everything in the admin
> loaded by fancy javascript and AJAX.
>
> Some may see this as a radical proposal, but I think since we have
> been compelled enough to remove the Firefox and BrowseHappy logos
> intended for the unpure browser users, then clearly we can go ahead
> and start implementing radical features that depend on these browsers
> if we don't have to worry about spreading propaganda to the other
> users anymore.
>
> --
> --Robert Deaton
> http://lushlab.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From spencerp1 at gmail.com  Mon Apr  9 06:25:35 2007
From: spencerp1 at gmail.com (spencerp)
Date: Mon Apr  9 06:25:20 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <b88434820704082319q7fb9f5d0ta8d55a8963389e70@mail.gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
	<b88434820704082319q7fb9f5d0ta8d55a8963389e70@mail.gmail.com>
Message-ID: <4619DC5F.2010100@gmail.com>

Matt wrote:
> Yes, but then your changes wouldn't happen immediately, which is what 
> most
> people want. It'll just confuse the average user and then they'll go and
> they'll do the change again, increasing the size of the query. If this 
> were
> to ever happen, which I doubt it's going to anytime soon, we'd also 
> have to
> prioritize the queries. So that when you Publish a post, it won't be 
> posted
> 10 Minutes later, it'll be posted immediately.
>
> Also, just have 1 table for all the Data isn't a good idea for being 
> able to
> sift through it, if need be. The developers may want less tables, but it
> still needs to be Organized and Manageable.
>
> As for the page fading in and out and the Wordpress logo, that seems
> excessive. We should just be working towards making it faster, keeping 
> the
> layout consistent and adding Ajax in places that it makes sense in adding
> Ajax (which is quite a few places).

I'm not a database guru or anything, and though I like Robert Deaton's 
ideas and suggestions. I still have to agree with Matt above though... 
Here's at least one post in the forums regarding software performance 
slowing down (by each newer version):
http://wordpress.org/support/topic/112799?replies=14

--
spencerp
http://spencerp.net


>
>
> On 4/8/07, Robert Deaton <false.hopes@gmail.com> wrote:
>>
>> Over the past few months I've noticed an interest by the devs to
>> consolidate data into as few tables as possible. Take for instance,
>> link_categories, categories, and tags. Now, since these are all
>> clearly exactly the same, its only logical that they go in the same
>> table together, however I propose we take this a step further.
>>
>> Really, logically, all the data we store in the database is the same.
>> Its all WordPress data, that's why I suggest we consolidate all tables
>> into one table, wp_data. This table could have a type column that
>> allows you to choose whether you want
>> posts,postmeta,categories,link_categories,post2cat,options,users,usermeta, 
>>
>> etc.
>>
>> Now, the number of indexes on this table would probably end up being
>> fairly large in order to keep our queries as blindingly efficient as
>> they've always been. This means, unfortunately, that writes to the
>> database would probably take some time because there would be so many
>> indexes. That is why I propose a second table, wp_pending_writes, with
>> a schema
>>
>> CREATE TABLE `wp_pending_writes` (
>> `ID` BIGINT(20)  NOT NULL AUTO_INCREMENT,
>> `pending_query` TEXT  NOT NULL,
>> PRIMARY KEY(`ID`)
>> )
>>
>> where we simply insert all the pending writes. Then, our cron system
>> can run every 10 minutes and go through in the background and actually
>> write all the queries. This way, the server load doesn't spike too
>> horribly with heavy comment traffic and the site continues to load
>> whenever anybody does something that requires a database write. The
>> table would then obviously be cleared.
>>
>> I also suggest we add one more table, for a total of three. This one
>> is mainly because all WordPress development follows WordPress.com
>> these days, and so we regular developers must also be concerned with
>> making sure that each individual WordPress install has information
>> such as blog_id and is efficient enough to scale to hundreds of
>> thousands of blogs. The table I propose is wp_cached_queries, which is
>> a table that has the following structure:
>>
>> CREATE TABLE `wp_cached_queries` (
>> `key` VARCHAR(32)  NOT NULL,
>> `result` TEXT  NOT NULL,
>> PRIMARY KEY(`key`)
>> )
>>
>> This would allow us to cache the results of all the queries as a
>> serialized array into the database, with a key that is the md5 of the
>> actual query that we might run on the wp_data table. This allows us to
>> be incredibly efficient.
>>
>>
>> Now that that's out of the way, there's a few other assorted
>> suggestions that I have. I propose that when navigating in the admin
>> panel, in the spirit of #4089 [http://trac.wordpress.org/ticket/4089],
>> in order to have a consistent and pretty UI, that whenever you click
>> on a link to move to another page in the admin, the entire page fade
>> out to that dark blue WordPress hue with a giant W in a circle in the
>> center of the page, and then fade back in with the contents of the new
>> page. This means that essentially we'd have everything in the admin
>> loaded by fancy javascript and AJAX.
>>
>> Some may see this as a radical proposal, but I think since we have
>> been compelled enough to remove the Firefox and BrowseHappy logos
>> intended for the unpure browser users, then clearly we can go ahead
>> and start implementing radical features that depend on these browsers
>> if we don't have to worry about spreading propaganda to the other
>> users anymore.
>>
>> -- 
>> --Robert Deaton
>> http://lushlab.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>

From speedboxer at gmail.com  Mon Apr  9 06:39:32 2007
From: speedboxer at gmail.com (Matt)
Date: Mon Apr  9 06:39:37 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <4619DC5F.2010100@gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
	<b88434820704082319q7fb9f5d0ta8d55a8963389e70@mail.gmail.com>
	<4619DC5F.2010100@gmail.com>
Message-ID: <b88434820704082339v10ed3d3ei82ef38c0684f9033@mail.gmail.com>

Well, new features will always affect performance, since they're being
shoved in to a previously slightly optimized database/program. Maybe we
should get a new WP Dev that is great with MySQL optimization, so that every
release won't get slower. Maybe for 2.3 WP should be gone over closely and
Optimized?

On 4/8/07, spencerp <spencerp1@gmail.com> wrote:
>
> Matt wrote:
> > Yes, but then your changes wouldn't happen immediately, which is what
> > most
> > people want. It'll just confuse the average user and then they'll go and
> > they'll do the change again, increasing the size of the query. If this
> > were
> > to ever happen, which I doubt it's going to anytime soon, we'd also
> > have to
> > prioritize the queries. So that when you Publish a post, it won't be
> > posted
> > 10 Minutes later, it'll be posted immediately.
> >
> > Also, just have 1 table for all the Data isn't a good idea for being
> > able to
> > sift through it, if need be. The developers may want less tables, but it
> > still needs to be Organized and Manageable.
> >
> > As for the page fading in and out and the Wordpress logo, that seems
> > excessive. We should just be working towards making it faster, keeping
> > the
> > layout consistent and adding Ajax in places that it makes sense in
> adding
> > Ajax (which is quite a few places).
>
> I'm not a database guru or anything, and though I like Robert Deaton's
> ideas and suggestions. I still have to agree with Matt above though...
> Here's at least one post in the forums regarding software performance
> slowing down (by each newer version):
> http://wordpress.org/support/topic/112799?replies=14
>
> --
> spencerp
> http://spencerp.net
>
>
> >
> >
> > On 4/8/07, Robert Deaton <false.hopes@gmail.com> wrote:
> >>
> >> Over the past few months I've noticed an interest by the devs to
> >> consolidate data into as few tables as possible. Take for instance,
> >> link_categories, categories, and tags. Now, since these are all
> >> clearly exactly the same, its only logical that they go in the same
> >> table together, however I propose we take this a step further.
> >>
> >> Really, logically, all the data we store in the database is the same.
> >> Its all WordPress data, that's why I suggest we consolidate all tables
> >> into one table, wp_data. This table could have a type column that
> >> allows you to choose whether you want
> >>
> posts,postmeta,categories,link_categories,post2cat,options,users,usermeta,
> >>
> >> etc.
> >>
> >> Now, the number of indexes on this table would probably end up being
> >> fairly large in order to keep our queries as blindingly efficient as
> >> they've always been. This means, unfortunately, that writes to the
> >> database would probably take some time because there would be so many
> >> indexes. That is why I propose a second table, wp_pending_writes, with
> >> a schema
> >>
> >> CREATE TABLE `wp_pending_writes` (
> >> `ID` BIGINT(20)  NOT NULL AUTO_INCREMENT,
> >> `pending_query` TEXT  NOT NULL,
> >> PRIMARY KEY(`ID`)
> >> )
> >>
> >> where we simply insert all the pending writes. Then, our cron system
> >> can run every 10 minutes and go through in the background and actually
> >> write all the queries. This way, the server load doesn't spike too
> >> horribly with heavy comment traffic and the site continues to load
> >> whenever anybody does something that requires a database write. The
> >> table would then obviously be cleared.
> >>
> >> I also suggest we add one more table, for a total of three. This one
> >> is mainly because all WordPress development follows WordPress.com
> >> these days, and so we regular developers must also be concerned with
> >> making sure that each individual WordPress install has information
> >> such as blog_id and is efficient enough to scale to hundreds of
> >> thousands of blogs. The table I propose is wp_cached_queries, which is
> >> a table that has the following structure:
> >>
> >> CREATE TABLE `wp_cached_queries` (
> >> `key` VARCHAR(32)  NOT NULL,
> >> `result` TEXT  NOT NULL,
> >> PRIMARY KEY(`key`)
> >> )
> >>
> >> This would allow us to cache the results of all the queries as a
> >> serialized array into the database, with a key that is the md5 of the
> >> actual query that we might run on the wp_data table. This allows us to
> >> be incredibly efficient.
> >>
> >>
> >> Now that that's out of the way, there's a few other assorted
> >> suggestions that I have. I propose that when navigating in the admin
> >> panel, in the spirit of #4089 [http://trac.wordpress.org/ticket/4089],
> >> in order to have a consistent and pretty UI, that whenever you click
> >> on a link to move to another page in the admin, the entire page fade
> >> out to that dark blue WordPress hue with a giant W in a circle in the
> >> center of the page, and then fade back in with the contents of the new
> >> page. This means that essentially we'd have everything in the admin
> >> loaded by fancy javascript and AJAX.
> >>
> >> Some may see this as a radical proposal, but I think since we have
> >> been compelled enough to remove the Firefox and BrowseHappy logos
> >> intended for the unpure browser users, then clearly we can go ahead
> >> and start implementing radical features that depend on these browsers
> >> if we don't have to worry about spreading propaganda to the other
> >> users anymore.
> >>
> >> --
> >> --Robert Deaton
> >> http://lushlab.com
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> >
> >
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From les at lcb.me.uk  Mon Apr  9 09:28:18 2007
From: les at lcb.me.uk (Les Bessant)
Date: Mon Apr  9 09:28:22 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
Message-ID: <059201c77a89$69e593f0$3db0bbd0$@me.uk>

Did you mean to post this on the 1st of the month, by any chance?


Les Bessant les@lcb.me.uk
Losing it[1] - http://lcb.me.uk
My flickr pictures - http://flickr.com/photos/lesbessant/


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Robert Deaton
Sent: 09 April 2007 06:39
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] Consolidating database tables and other assorted items

Over the past few months I've noticed an interest by the devs to
consolidate data into as few tables as possible. Take for instance,
link_categories, categories, and tags. Now, since these are all
clearly exactly the same, its only logical that they go in the same
table together, however I propose we take this a step further.

Really, logically, all the data we store in the database is the same.
Its all WordPress data, that's why I suggest we consolidate all tables
into one table, wp_data. This table could have a type column that
allows you to choose whether you want
posts,postmeta,categories,link_categories,post2cat,options,users,usermeta,
etc.

Now, the number of indexes on this table would probably end up being
fairly large in order to keep our queries as blindingly efficient as
they've always been. This means, unfortunately, that writes to the
database would probably take some time because there would be so many
indexes. That is why I propose a second table, wp_pending_writes, with
a schema

CREATE TABLE `wp_pending_writes` (
  `ID` BIGINT(20)  NOT NULL AUTO_INCREMENT,
  `pending_query` TEXT  NOT NULL,
  PRIMARY KEY(`ID`)
)

where we simply insert all the pending writes. Then, our cron system
can run every 10 minutes and go through in the background and actually
write all the queries. This way, the server load doesn't spike too
horribly with heavy comment traffic and the site continues to load
whenever anybody does something that requires a database write. The
table would then obviously be cleared.

I also suggest we add one more table, for a total of three. This one
is mainly because all WordPress development follows WordPress.com
these days, and so we regular developers must also be concerned with
making sure that each individual WordPress install has information
such as blog_id and is efficient enough to scale to hundreds of
thousands of blogs. The table I propose is wp_cached_queries, which is
a table that has the following structure:

CREATE TABLE `wp_cached_queries` (
  `key` VARCHAR(32)  NOT NULL,
  `result` TEXT  NOT NULL,
  PRIMARY KEY(`key`)
)

This would allow us to cache the results of all the queries as a
serialized array into the database, with a key that is the md5 of the
actual query that we might run on the wp_data table. This allows us to
be incredibly efficient.


Now that that's out of the way, there's a few other assorted
suggestions that I have. I propose that when navigating in the admin
panel, in the spirit of #4089 [http://trac.wordpress.org/ticket/4089],
in order to have a consistent and pretty UI, that whenever you click
on a link to move to another page in the admin, the entire page fade
out to that dark blue WordPress hue with a giant W in a circle in the
center of the page, and then fade back in with the contents of the new
page. This means that essentially we'd have everything in the admin
loaded by fancy javascript and AJAX.

Some may see this as a radical proposal, but I think since we have
been compelled enough to remove the Firefox and BrowseHappy logos
intended for the unpure browser users, then clearly we can go ahead
and start implementing radical features that depend on these browsers
if we don't have to worry about spreading propaganda to the other
users anymore.

-- 
--Robert Deaton
http://lushlab.com
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From zamoose at gmail.com  Mon Apr  9 11:18:10 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr  9 11:18:15 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <b88434820704082319q7fb9f5d0ta8d55a8963389e70@mail.gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
	<b88434820704082319q7fb9f5d0ta8d55a8963389e70@mail.gmail.com>
Message-ID: <71ddd7490704090418q76e8ac6fg22bc6b86dfa48767@mail.gmail.com>

On 4/9/07, Matt <speedboxer@gmail.com> wrote:
> Yes, but then your changes wouldn't happen immediately, which is what most
> people want. It'll just confuse the average user and then they'll go and
> they'll do the change again, increasing the size of the query. If this were
> to ever happen, which I doubt it's going to anytime soon, we'd also have to
> prioritize the queries. So that when you Publish a post, it won't be posted
> 10 Minutes later, it'll be posted immediately.
>
> Also, just have 1 table for all the Data isn't a good idea for being able to
> sift through it, if need be. The developers may want less tables, but it
> still needs to be Organized and Manageable.
>
> As for the page fading in and out and the Wordpress logo, that seems
> excessive. We should just be working towards making it faster, keeping the
> layout consistent and adding Ajax in places that it makes sense in adding
> Ajax (which is quite a few places).
>
>

I believe his post should be marked "+1 biting satire".  Robert is
expressing disgust and dismay at the that direction some WP
development is taking and is conducting a reductio ad absurdum
argument, AFAICT.

-- 
-Doug

http://literalbarrage.org/blog/
From computerguru at neosmart.net  Mon Apr  9 12:03:39 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 12:04:52 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
Message-ID: <002c01c77a9f$3c6e5180$b54af480$@net>

Thank you Robert!

I don't know why people don't seem to get it: TABLES ARE CHEAP!
Database normalization almost always equals more tables - but hundred-fold flexibility.

It may take a couple of KB more, but the speed-ups certainly are worth it.

But this raises one *real* problem that I've been pondering about for a while: though the WP db is well spread about, it's either very incorrectly done or db access is very incorrectly coded.

Why does a clean WP install take 16 queries to load something as simple as the homepage?
It takes 20 queries to display a post.... it's illogical, and given WP's DB structure, wholly unnecessary.

A query for the post contents and metadata (such as the category it's in, the status of the post, the date it was published, etc.), a query for comments, a query for the current logged-in user, AND????

I'm sure I missed one or two important things, but how a post + comments = 20 queries on a stock WP *without a single plugin* is beyond me.

The thing is - since the WP data is well distributed and properly stored (the WP db-structure is fairly well done, with the exception of foreign keys IMO) why does it take so many queries to do so little?

I think if WP ever gets a database abstraction layer - even if it's something as heavy as MDB2/PearDB - it'll perform *better* since a hell of a lot of queries will be consolidated.

I've made these observations before, and I'm probably going to make them again.... I honestly believe WP will never utilize the DB correctly because no one uses the WP API where possible and instead issue their own DB commands. It's sad, and I only wish I had the time needed to just consolidate all queries in dbqueries.php and make WP use that _and only that_ to access core features. But I don't have the time, and doing that will break WP.... Plus *gasp* it'll make WP perform good.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Robert Deaton
> Sent: Monday, April 09, 2007 8:39 AM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] Consolidating database tables and other assorted
> items
> 
> Over the past few months I've noticed an interest by the devs to
> consolidate data into as few tables as possible. Take for instance,
> link_categories, categories, and tags. Now, since these are all
> clearly exactly the same, its only logical that they go in the same
> table together, however I propose we take this a step further.
> 
> Really, logically, all the data we store in the database is the same.
> Its all WordPress data, that's why I suggest we consolidate all tables
> into one table, wp_data. This table could have a type column that
> allows you to choose whether you want
> posts,postmeta,categories,link_categories,post2cat,options,users,userme
> ta,
> etc.
> 
> Now, the number of indexes on this table would probably end up being
> fairly large in order to keep our queries as blindingly efficient as
> they've always been. This means, unfortunately, that writes to the
> database would probably take some time because there would be so many
> indexes. That is why I propose a second table, wp_pending_writes, with
> a schema
> 
> CREATE TABLE `wp_pending_writes` (
>   `ID` BIGINT(20)  NOT NULL AUTO_INCREMENT,
>   `pending_query` TEXT  NOT NULL,
>   PRIMARY KEY(`ID`)
> )
> 
> where we simply insert all the pending writes. Then, our cron system
> can run every 10 minutes and go through in the background and actually
> write all the queries. This way, the server load doesn't spike too
> horribly with heavy comment traffic and the site continues to load
> whenever anybody does something that requires a database write. The
> table would then obviously be cleared.
> 
> I also suggest we add one more table, for a total of three. This one
> is mainly because all WordPress development follows WordPress.com
> these days, and so we regular developers must also be concerned with
> making sure that each individual WordPress install has information
> such as blog_id and is efficient enough to scale to hundreds of
> thousands of blogs. The table I propose is wp_cached_queries, which is
> a table that has the following structure:
> 
> CREATE TABLE `wp_cached_queries` (
>   `key` VARCHAR(32)  NOT NULL,
>   `result` TEXT  NOT NULL,
>   PRIMARY KEY(`key`)
> )
> 
> This would allow us to cache the results of all the queries as a
> serialized array into the database, with a key that is the md5 of the
> actual query that we might run on the wp_data table. This allows us to
> be incredibly efficient.
> 
> 
> Now that that's out of the way, there's a few other assorted
> suggestions that I have. I propose that when navigating in the admin
> panel, in the spirit of #4089 [http://trac.wordpress.org/ticket/4089],
> in order to have a consistent and pretty UI, that whenever you click
> on a link to move to another page in the admin, the entire page fade
> out to that dark blue WordPress hue with a giant W in a circle in the
> center of the page, and then fade back in with the contents of the new
> page. This means that essentially we'd have everything in the admin
> loaded by fancy javascript and AJAX.
> 
> Some may see this as a radical proposal, but I think since we have
> been compelled enough to remove the Firefox and BrowseHappy logos
> intended for the unpure browser users, then clearly we can go ahead
> and start implementing radical features that depend on these browsers
> if we don't have to worry about spreading propaganda to the other
> users anymore.
> 
> --
> --Robert Deaton
> http://lushlab.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From false.hopes at gmail.com  Mon Apr  9 12:05:42 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Apr  9 12:05:52 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <71ddd7490704090418q76e8ac6fg22bc6b86dfa48767@mail.gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
	<b88434820704082319q7fb9f5d0ta8d55a8963389e70@mail.gmail.com>
	<71ddd7490704090418q76e8ac6fg22bc6b86dfa48767@mail.gmail.com>
Message-ID: <a491f91d0704090505t2aece315q201887c00b53c37d@mail.gmail.com>

On 4/9/07, Doug Stewart <zamoose@gmail.com> wrote:
> On 4/9/07, Matt <speedboxer@gmail.com> wrote:
> > Yes, but then your changes wouldn't happen immediately, which is what most
> > people want. It'll just confuse the average user and then they'll go and
> > they'll do the change again, increasing the size of the query. If this were
> > to ever happen, which I doubt it's going to anytime soon, we'd also have to
> > prioritize the queries. So that when you Publish a post, it won't be posted
> > 10 Minutes later, it'll be posted immediately.
> >
> > Also, just have 1 table for all the Data isn't a good idea for being able to
> > sift through it, if need be. The developers may want less tables, but it
> > still needs to be Organized and Manageable.
> >
> > As for the page fading in and out and the Wordpress logo, that seems
> > excessive. We should just be working towards making it faster, keeping the
> > layout consistent and adding Ajax in places that it makes sense in adding
> > Ajax (which is quite a few places).
> >
> >
>
> I believe his post should be marked "+1 biting satire".  Robert is
> expressing disgust and dismay at the that direction some WP
> development is taking and is conducting a reductio ad absurdum
> argument, AFAICT.

You win. Have a cookie. :)

It was supposed to be comedic satire.

-- 
--Robert Deaton
http://lushlab.com
From abrazell at b5media.com  Mon Apr  9 12:10:43 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Mon Apr  9 12:12:45 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
Message-ID: <8E4367F2-07F0-4E2D-A445-8597A9B92DD0@b5media.com>

Two words. Ha ha... :-p
--
Aaron Brazell
Technology Manager, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor


On Apr 9, 2007, at 1:39 AM, Robert Deaton wrote:

> Over the past few months I've noticed an interest by the devs to
> consolidate data into as few tables as possible. Take for instance,
> link_categories, categories, and tags. Now, since these are all
> clearly exactly the same, its only logical that they go in the same
> table together, however I propose we take this a step further.
>
> Really, logically, all the data we store in the database is the same.
> Its all WordPress data, that's why I suggest we consolidate all tables
> into one table, wp_data. This table could have a type column that
> allows you to choose whether you want
> posts,postmeta,categories,link_categories,post2cat,options,users,userm 
> eta,
> etc.
>
> Now, the number of indexes on this table would probably end up being
> fairly large in order to keep our queries as blindingly efficient as
> they've always been. This means, unfortunately, that writes to the
> database would probably take some time because there would be so many
> indexes. That is why I propose a second table, wp_pending_writes, with
> a schema
>
> CREATE TABLE `wp_pending_writes` (
>  `ID` BIGINT(20)  NOT NULL AUTO_INCREMENT,
>  `pending_query` TEXT  NOT NULL,
>  PRIMARY KEY(`ID`)
> )
<snip>
From computerguru at neosmart.net  Mon Apr  9 12:47:39 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 12:48:12 2007
Subject: [wp-hackers] Consolidating database tables and other
	assorted	items
In-Reply-To: <b88434820704082319q7fb9f5d0ta8d55a8963389e70@mail.gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
	<b88434820704082319q7fb9f5d0ta8d55a8963389e70@mail.gmail.com>
Message-ID: <000001c77aa5$48e79ec0$dab6dc40$@net>

Dude.... query prioritization is the least of the worries in such a db design. Please...

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Matt
> Sent: Monday, April 09, 2007 9:19 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Consolidating database tables and other
> assorted items
> 
> Yes, but then your changes wouldn't happen immediately, which is what
> most
> people want. It'll just confuse the average user and then they'll go
> and
> they'll do the change again, increasing the size of the query. If this
> were
> to ever happen, which I doubt it's going to anytime soon, we'd also
> have to
> prioritize the queries. So that when you Publish a post, it won't be
> posted
> 10 Minutes later, it'll be posted immediately.
> 
> Also, just have 1 table for all the Data isn't a good idea for being
> able to
> sift through it, if need be. The developers may want less tables, but
> it
> still needs to be Organized and Manageable.
> 
> As for the page fading in and out and the Wordpress logo, that seems
> excessive. We should just be working towards making it faster, keeping
> the
> layout consistent and adding Ajax in places that it makes sense in
> adding
> Ajax (which is quite a few places).
> 
> 
> On 4/8/07, Robert Deaton <false.hopes@gmail.com> wrote:
> >
> > Over the past few months I've noticed an interest by the devs to
> > consolidate data into as few tables as possible. Take for instance,
> > link_categories, categories, and tags. Now, since these are all
> > clearly exactly the same, its only logical that they go in the same
> > table together, however I propose we take this a step further.
> >
> > Really, logically, all the data we store in the database is the same.
> > Its all WordPress data, that's why I suggest we consolidate all
> tables
> > into one table, wp_data. This table could have a type column that
> > allows you to choose whether you want
> >
> posts,postmeta,categories,link_categories,post2cat,options,users,userme
> ta,
> > etc.
> >
> > Now, the number of indexes on this table would probably end up being
> > fairly large in order to keep our queries as blindingly efficient as
> > they've always been. This means, unfortunately, that writes to the
> > database would probably take some time because there would be so many
> > indexes. That is why I propose a second table, wp_pending_writes,
> with
> > a schema
> >
> > CREATE TABLE `wp_pending_writes` (
> > `ID` BIGINT(20)  NOT NULL AUTO_INCREMENT,
> > `pending_query` TEXT  NOT NULL,
> > PRIMARY KEY(`ID`)
> > )
> >
> > where we simply insert all the pending writes. Then, our cron system
> > can run every 10 minutes and go through in the background and
> actually
> > write all the queries. This way, the server load doesn't spike too
> > horribly with heavy comment traffic and the site continues to load
> > whenever anybody does something that requires a database write. The
> > table would then obviously be cleared.
> >
> > I also suggest we add one more table, for a total of three. This one
> > is mainly because all WordPress development follows WordPress.com
> > these days, and so we regular developers must also be concerned with
> > making sure that each individual WordPress install has information
> > such as blog_id and is efficient enough to scale to hundreds of
> > thousands of blogs. The table I propose is wp_cached_queries, which
> is
> > a table that has the following structure:
> >
> > CREATE TABLE `wp_cached_queries` (
> > `key` VARCHAR(32)  NOT NULL,
> > `result` TEXT  NOT NULL,
> > PRIMARY KEY(`key`)
> > )
> >
> > This would allow us to cache the results of all the queries as a
> > serialized array into the database, with a key that is the md5 of the
> > actual query that we might run on the wp_data table. This allows us
> to
> > be incredibly efficient.
> >
> >
> > Now that that's out of the way, there's a few other assorted
> > suggestions that I have. I propose that when navigating in the admin
> > panel, in the spirit of #4089
> [http://trac.wordpress.org/ticket/4089],
> > in order to have a consistent and pretty UI, that whenever you click
> > on a link to move to another page in the admin, the entire page fade
> > out to that dark blue WordPress hue with a giant W in a circle in the
> > center of the page, and then fade back in with the contents of the
> new
> > page. This means that essentially we'd have everything in the admin
> > loaded by fancy javascript and AJAX.
> >
> > Some may see this as a radical proposal, but I think since we have
> > been compelled enough to remove the Firefox and BrowseHappy logos
> > intended for the unpure browser users, then clearly we can go ahead
> > and start implementing radical features that depend on these browsers
> > if we don't have to worry about spreading propaganda to the other
> > users anymore.
> >
> > --
> > --Robert Deaton
> > http://lushlab.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> --
> Matt (speedboxer@gmail.com)
> http://mattsblog.ca/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From iacobs at m0n5t3r.info  Mon Apr  9 14:08:06 2007
From: iacobs at m0n5t3r.info (Sabin Iacob)
Date: Mon Apr  9 14:08:26 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
Message-ID: <461A48C6.8040009@m0n5t3r.info>

Robert Deaton wrote:
> Some may see this as a radical proposal, but I think since we have
> been compelled enough to remove the Firefox and BrowseHappy logos
> intended for the unpure browser users, then clearly we can go ahead
> and start implementing radical features that depend on these browsers
> if we don't have to worry about spreading propaganda to the other
> users anymore.
+1 from me

There also was a brilliant idea proposed in extend/ideas: since all 
classes and functions are doing Wordpress-related jobs, they should be 
consolidated into a single class for increased speed and maintainability.

From Brian at TheCodeCave.com  Mon Apr  9 14:19:27 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 14:13:17 2007
Subject: [wp-hackers] Consolidating database tables and other assorteditems
In-Reply-To: <b88434820704082319q7fb9f5d0ta8d55a8963389e70@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F05@dsimail.drbsystems.com>

On 4/8/07, Robert Deaton <false.hopes@gmail.com> wrote:
> Really, logically, all the data we store in the database is the same.
> Its all WordPress data, that's why I suggest we consolidate all tables
> into one table, wp_data. This table could have a type column that
> allows you to choose whether you want
> posts,postmeta,categories,link_categories,post2cat,options,users,usermeta,
> etc.

Hey Robert, this is a great idea! In wp_data you'll have your `Want To Find`
column (hmm, have to abbreviate that to something shorter later).  It can be
a string 255 to make it "forward compatible".   Then you can just do "Select
* from wp_data where `Want To Find`='posts'".  What could be simpler?

And you can get rid of all of the "extra columns" and just store them in a
wp_metadata_stuff table, also keyed off of a string. Toss in a few many to
many tables to keep the old keys around to help optimize the upgrade process
and provide flexibility, and you've got yourself one sweet system with maybe
4 tables tops!

+100 on this puppy!

_______________________________________________
Brian Layman
http://www.TheCodeCave.com
 






From Brian at TheCodeCave.com  Mon Apr  9 14:25:46 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 14:19:36 2007
Subject: [wp-hackers] Consolidating database tables and other assorteditems
In-Reply-To: <71ddd7490704090418q76e8ac6fg22bc6b86dfa48767@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F06@dsimail.drbsystems.com>

On Behalf Of Doug Stewart
>"is conducting a reductio ad absurdum argument, AFAICT."

Look at Doug Stewart, pulling out the Latin on a Monday morning...

Somebody's had their coffee...

_______________________________________________
Brian Layman
http://www.TheCodeCave.com

From computerguru at neosmart.net  Mon Apr  9 14:13:21 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 14:38:28 2007
Subject: [wp-hackers] Consolidating database tables and other
	assorted	items
In-Reply-To: <461A48C6.8040009@m0n5t3r.info>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
	<461A48C6.8040009@m0n5t3r.info>
Message-ID: <000001c77ab1$3cfe0930$b6fa1b90$@net>

Just the classes?
Why not implement everything in a *single file* (Plugins excluded).

WordPress.php

You can have a switch() command that takes the $_GET['page'] variable to determine what functions to kick off!

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Sabin Iacob
> Sent: Monday, April 09, 2007 5:08 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Consolidating database tables and other
> assorted items
> 
> Robert Deaton wrote:
> > Some may see this as a radical proposal, but I think since we have
> > been compelled enough to remove the Firefox and BrowseHappy logos
> > intended for the unpure browser users, then clearly we can go ahead
> > and start implementing radical features that depend on these browsers
> > if we don't have to worry about spreading propaganda to the other
> > users anymore.
> +1 from me
> 
> There also was a brilliant idea proposed in extend/ideas: since all
> classes and functions are doing Wordpress-related jobs, they should be
> consolidated into a single class for increased speed and
> maintainability.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From iacobs at m0n5t3r.info  Mon Apr  9 14:49:11 2007
From: iacobs at m0n5t3r.info (Sabin Iacob)
Date: Mon Apr  9 14:49:23 2007
Subject: [wp-hackers] Consolidating database tables and other	assorted
	items
In-Reply-To: <000001c77ab1$3cfe0930$b6fa1b90$@net>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>	<461A48C6.8040009@m0n5t3r.info>
	<000001c77ab1$3cfe0930$b6fa1b90$@net>
Message-ID: <461A5267.8030909@m0n5t3r.info>

Computer Guru wrote:
> Just the classes?
> Why not implement everything in a *single file* (Plugins excluded).
>
> WordPress.php
>
> You can have a switch() command that takes the $_GET['page'] variable to determine what functions to kick off!
>   

well, I've seen a lot of plugins doing that, it seems to be quite 
popular :o)

From computerguru at neosmart.net  Mon Apr  9 14:51:51 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 14:52:53 2007
Subject: [wp-hackers] Consolidating database tables and other assorteditems
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F06@dsimail.drbsystems.com>
References: <71ddd7490704090418q76e8ac6fg22bc6b86dfa48767@mail.gmail.com>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F06@dsimail.drbsystems.com>
Message-ID: <000101c77ab6$bab243f0$3016cbd0$@net>

More likely he's still awake from yesterday - he'd need tons of coffee to do
that!

Share the caffeine!

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Brian Layman
> Sent: Monday, April 09, 2007 5:26 PM
> To: wp-hackers@lists.automattic.com
> Subject: RE: [wp-hackers] Consolidating database tables and other
> assorteditems
> 
> On Behalf Of Doug Stewart
> >"is conducting a reductio ad absurdum argument, AFAICT."
> 
> Look at Doug Stewart, pulling out the Latin on a Monday morning...
> 
> Somebody's had their coffee...
> 
> _______________________________________________
> Brian Layman
> http://www.TheCodeCave.com
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From kmccann at cruciverb.com  Mon Apr  9 15:09:38 2007
From: kmccann at cruciverb.com (Kevin McCann)
Date: Mon Apr  9 15:12:43 2007
Subject: [wp-hackers] State of WP
Message-ID: <461A5732.1050704@cruciverb.com>

Hi,

First, I apologize if this is not the right place to post this. Despite 
being new to WP I decided to join the hackers list because I thought it 
might best tell me what the state of WP is today. Indeed, I have seen 
some interesting discussions, including the current one regarding tables 
and query inefficiencies. I'd like to further get a sense of where WP is 
as far as matters of efficiency and maturity go.

I need to either choose an open source blogging package, or start one 
from scratch, that will support  at least 100,000 sites, have a 
multi-site approach with one user base, have a flexible permissions 
system, be able to perform and scale. There are other requirements, some 
very specific, and I'm trying to figure out whether WP is something that 
can be built upon, or if it would be easier to just start something from 
the ground up. Here are some questions:

- what are the most serious problems or limitations of WP today?
- approximately how many people are involved in WP development?
- is the project moving along smoothly? (is there consensus on what 
needs to be done)?
- if I was to take an open source blogging software package and tweak it 
for my own needs (hopefully with modules rather than hacks), are there 
packages that are more suitable than WP, or is it pretty much the best 
choice to start with?

Also, for the WPMU side of things:

- each site would have its 8 uniquely-prefixed tables. Times that by 
100,000 or possibly much more... anyone know if this'll be a problem for 
MySQL?
- am I wrong in having the impression that many plug-ins don't work with 
WPMU? I tried Role Manager (I need to create new roles) but it doesn't 
work. The plug-in creator wrote on his website that "Role Manager wasn't 
designed for WPMU..." and didn't say much more than that. So, is the 
common feeling that WP is the focus and that WPMU is this other minor 
thing on the side? ie will many/most plug-ins simply not work with WPMU 
because there is little reason for plu-in developers to worry about that?

Thanks in advance for any feedback. Feel free to send private replies to 
kmccann AT cruciverb.com if that would be more appropriate.

- Kevin



From computerguru at neosmart.net  Mon Apr  9 15:17:13 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 15:17:57 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <461A5732.1050704@cruciverb.com>
References: <461A5732.1050704@cruciverb.com>
Message-ID: <000201c77aba$3c32b3d0$b4981b70$@net>

Whatever WordPress may be, it *is* the most reliable and mature system with
a strong and 120% actively developed.

It's either WordPress or from scratch right now ATM IMHO.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Kevin McCann
> Sent: Monday, April 09, 2007 6:10 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] State of WP
> 
> Hi,
> 
> First, I apologize if this is not the right place to post this. Despite
> being new to WP I decided to join the hackers list because I thought it
> might best tell me what the state of WP is today. Indeed, I have seen
> some interesting discussions, including the current one regarding
> tables
> and query inefficiencies. I'd like to further get a sense of where WP
> is
> as far as matters of efficiency and maturity go.
> 
> I need to either choose an open source blogging package, or start one
> from scratch, that will support  at least 100,000 sites, have a
> multi-site approach with one user base, have a flexible permissions
> system, be able to perform and scale. There are other requirements,
> some
> very specific, and I'm trying to figure out whether WP is something
> that
> can be built upon, or if it would be easier to just start something
> from
> the ground up. Here are some questions:
> 
> - what are the most serious problems or limitations of WP today?
> - approximately how many people are involved in WP development?
> - is the project moving along smoothly? (is there consensus on what
> needs to be done)?
> - if I was to take an open source blogging software package and tweak
> it
> for my own needs (hopefully with modules rather than hacks), are there
> packages that are more suitable than WP, or is it pretty much the best
> choice to start with?
> 
> Also, for the WPMU side of things:
> 
> - each site would have its 8 uniquely-prefixed tables. Times that by
> 100,000 or possibly much more... anyone know if this'll be a problem
> for
> MySQL?
> - am I wrong in having the impression that many plug-ins don't work
> with
> WPMU? I tried Role Manager (I need to create new roles) but it doesn't
> work. The plug-in creator wrote on his website that "Role Manager
> wasn't
> designed for WPMU..." and didn't say much more than that. So, is the
> common feeling that WP is the focus and that WPMU is this other minor
> thing on the side? ie will many/most plug-ins simply not work with WPMU
> because there is little reason for plu-in developers to worry about
> that?
> 
> Thanks in advance for any feedback. Feel free to send private replies
> to
> kmccann AT cruciverb.com if that would be more appropriate.
> 
> - Kevin
> 
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From theapparatus at gmail.com  Mon Apr  9 15:26:31 2007
From: theapparatus at gmail.com (Dr. Mike Wendell)
Date: Mon Apr  9 15:26:46 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <461A5732.1050704@cruciverb.com>
References: <461A5732.1050704@cruciverb.com>
Message-ID: <f1cf41430704090826s6e4630e4ufc42eb7e8615c8a0@mail.gmail.com>

On 4/9/07, Kevin McCann <kmccann@cruciverb.com> wrote:
> - each site would have its 8 uniquely-prefixed tables. Times that by
> 100,000 or possibly much more... anyone know if this'll be a problem for
> MySQL?

Yup.  Big problem.  Each of those tables consist of three files within
the MySQL database so you would be looking at 2.4million database
files.  A normal Linux directory can hold at most 32k files.  There
are those with multi database setups but all of them are sitting on
their solutions and not releasing them to the community.  It's doable
but you'd have to figure how how to do it yourself.

> - am I wrong in having the impression that many plug-ins don't work with
> WPMU? I tried Role Manager (I need to create new roles) but it doesn't

Search the WPMu forums.  It's been discussed.

> thing on the side? ie will many/most plug-ins simply not work with WPMU
> because there is little reason for plu-in developers to worry about that?

And many plugins do work out of the box.  A lot of plugin developers
haven't upgraded to the WP 2.1 way of doing the database tables.
That's usually the issue we've been hitting.  Anagin,m you may want to
search the forums as we've covered most of the major ones.

A suggestion would also be to check out wpmydev.org as Andrew has
allowed folks to upload new and reworked plugins there.

Regards,
-drmike

-- 
Blog: http://drmikessteakdinner.com
Kim Possible: Remixed: http://kimpossibleremixed.com
Get your own free hosted WordPress Blog today: http://daria.be
From zamoose at gmail.com  Mon Apr  9 15:28:34 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr  9 15:28:51 2007
Subject: [wp-hackers] Consolidating database tables and other assorteditems
In-Reply-To: <000101c77ab6$bab243f0$3016cbd0$@net>
References: <71ddd7490704090418q76e8ac6fg22bc6b86dfa48767@mail.gmail.com>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F06@dsimail.drbsystems.com>
	<000101c77ab6$bab243f0$3016cbd0$@net>
Message-ID: <71ddd7490704090828k4b3afba5y4d6176b7bd3ae335@mail.gmail.com>

On 4/9/07, Computer Guru <computerguru@neosmart.net> wrote:
> More likely he's still awake from yesterday - he'd need tons of coffee to do
> that!
>
> Share the caffeine!

I'm married to a former Latin geek, so I get this stuff pounded into
me all the time.  *grin*

Now if I had figured out a way to bring in "novus ordo seclorum" at
that early hour, well, THAT'D  be something.  *chuckle*

-- 
-Doug

http://literalbarrage.org/blog/
From computerguru at neosmart.net  Mon Apr  9 15:33:47 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 15:34:00 2007
Subject: [wp-hackers] Consolidating database tables and other assorteditems
In-Reply-To: <71ddd7490704090828k4b3afba5y4d6176b7bd3ae335@mail.gmail.com>
References: <71ddd7490704090418q76e8ac6fg22bc6b86dfa48767@mail.gmail.com>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F06@dsimail.drbsystems.com>	<000101c77ab6$bab243f0$3016cbd0$@net>
	<71ddd7490704090828k4b3afba5y4d6176b7bd3ae335@mail.gmail.com>
Message-ID: <000301c77abc$791ca830$6b55f890$@net>

Hmmm... I guess we stick a label on the new one-file, one-table,
one-gigabyte version of WP to imply a new world order something..... What do
you say?

:P

(The best marriages are Geek + Geek == True Love!!!!!!)

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Doug Stewart
> Sent: Monday, April 09, 2007 6:29 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Consolidating database tables and other
> assorteditems
> 
> On 4/9/07, Computer Guru <computerguru@neosmart.net> wrote:
> > More likely he's still awake from yesterday - he'd need tons of
> coffee to do
> > that!
> >
> > Share the caffeine!
> 
> I'm married to a former Latin geek, so I get this stuff pounded into
> me all the time.  *grin*
> 
> Now if I had figured out a way to bring in "novus ordo seclorum" at
> that early hour, well, THAT'D  be something.  *chuckle*
> 
> --
> -Doug
> 
> http://literalbarrage.org/blog/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Brian at TheCodeCave.com  Mon Apr  9 16:55:06 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 16:49:01 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <000201c77aba$3c32b3d0$b4981b70$@net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F09@dsimail.drbsystems.com>

CG said:
> and 120% actively developed.

Guru, I'm sorry, but what the heck does "120% actively developed" mean???

And can we put that under a WordPress logo????

WordPress - 120% Actively Developed.

Sorry, guy, really I am....  ;)

_______________________________________________
Brian Layman
http://www.TheCodeCave.com


From computerguru at neosmart.net  Mon Apr  9 16:52:02 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 16:52:16 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F09@dsimail.drbsystems.com>
References: <000201c77aba$3c32b3d0$b4981b70$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F09@dsimail.drbsystems.com>
Message-ID: <000401c77ac7$678ddf20$36a99d60$@net>

Ummm.. I... ah...
Well..

*lightbulb moment*
WordPress is being actively developed 100% == WordPress isn't lacking in
terms of development.
People working for other platforms making plugins for WordPress == 20%

:D


Wait, can I just take that back? :P

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Brian Layman
> Sent: Monday, April 09, 2007 7:55 PM
> To: wp-hackers@lists.automattic.com
> Subject: RE: [wp-hackers] State of WP
> 
> CG said:
> > and 120% actively developed.
> 
> Guru, I'm sorry, but what the heck does "120% actively developed"
> mean???
> 
> And can we put that under a WordPress logo????
> 
> WordPress - 120% Actively Developed.
> 
> Sorry, guy, really I am....  ;)
> 
> _______________________________________________
> Brian Layman
> http://www.TheCodeCave.com
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From computerguru at neosmart.net  Mon Apr  9 16:59:11 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 16:59:23 2007
Subject: [wp-hackers] Plugin to Remove Extra Whitespace
Message-ID: <000501c77ac8$672e6490$358b2db0$@net>

I'm using a WYSIWG comment editor, and hundreds of comments on my site end
up like this:

 

"Onaunoauoau

 

&nbsp;

 

Euaououoauoauouuo

Ouaouoau

Aouoau

 

 

&nbsp;

 

&nbsp; &nbsp;

 

"

 

Just wondering if anyone knows of a comment to filter out these useless
whitespace thingies (both the blank spaces and the nbsps are converted to
whitespace in the comment thanks to WP's dual-action markup system). If not
I'll write one when I get the time, seems quite trivial.

 

Computer Guru

NeoSmart Technologies <http://neosmart.net/> 

http://neosmart.net/blog/

 

From Brian at TheCodeCave.com  Mon Apr  9 17:51:29 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 17:45:19 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <000401c77ac7$678ddf20$36a99d60$@net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>

> WordPress is being actively developed 100% == 
> WordPress isn't lacking in terms of development.

There we go, that works for me.  Stick with that. ;)

On the other hand, the original was perfect(!) sales pitch lingo.  I was
certain it was straight out of a WordPress marketing brochure.

OK, Kevin, I'll get back to your topic here.  The requirements you've
mentioned are significant.  100,000 sites, running out of any central
system, will require significant resources and optimizations.  AFAIK, any
existing blog/CMS system that you choose will require customization to scale
to that level of deployment.  

MySQL, to be brutally honest, is not a very mature database system. (Does
anyone else here have a transactions-check mark shirt from the 4.1(?)
deployment?)  MySQL IS rapidly improving.  So, I've got to ask you if your
100,000 site quote is an eventually goal, or a realistic appraisal of your
current planned deployment.  (BTW, either way, I believe WordPress will give
you a good foundation.)  The size of the initial deployment, may be the
biggest factor in deciding what you want to do next.

DrMike has already told you that MySQL cannot handle that capacity.  So, if
you are deploying at that size, you need to invest design and implementation
into converting the database over to something that can handle that scale.
For example, Interbase or Firebird should handle that with out a problem and
doesn't limit your platform, but you'll have to over come issues like how to
handle the missing MySQL InsertID feature.  MSSQL is another option, of
course, and there are others beyond that.

If, in the near term, your actual needs are significantly smaller,
implementing your site in phases, maybe the key to success. Take advantage
of improved compatibility with the WordPress core by deploying under MySQL.
You could then use the first phase to determine if what your scaling
problems will be and THEN decide your best avenue of attack. WordPress and
MySQL will have matured further, you will get a number of improvements by a
quick upgrade to the current system, you will be more proficient with the
actual WordPress code, and then you can switch over to the actual end system
that is capable of handling the workload you've mentioned.

That's my take on the whole thing without knowing more about the why's and
wherefore's of your actual plan.  And please don't take the grumblings and
gripes on a news list as large red flags.  The core folks who live and
breath WordPress each day are a good bunch of people who give every change
request due consideration.  

As for how many developers there are, that varies.  There are a large number
of people that contribute.  Each has their own special concern, point of
view, and desired goal.  That's the nature of open source.  The number of
people who can commit the changes that are submitted is smaller number, oh,
around half a dozen, I guess.  They take a look at how WordPress is being
used today, and just as importantly, how it isn't being used.  The then the
development to the benefit of the community as a whole.

WordPress is being adopted for ever larger deployments and is the core
technology of an increasingly larger number of media outlets.  You would not
be alone in your choice of WordPress for your foundation and I expect the
choice would serve you well.

I hope that answers some of your questions.

_______________________________________________
Brian Layman
http://www.TheCodeCave.com
 

From computerguru at neosmart.net  Mon Apr  9 17:48:02 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 17:48:19 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
References: <000401c77ac7$678ddf20$36a99d60$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
Message-ID: <000a01c77acf$3a760320$af620960$@net>

> For example, Interbase or Firebird should handle that with out a
> problem and
> doesn't limit your platform, but you'll have to over come issues like
> how to
> handle the missing MySQL InsertID feature.  MSSQL is another option, of
> course, and there are others beyond that.

In my testing with extremely heavy loads on limited hardware, Oracle and
MSSQL proved to be the most reliable - so long as the applications were
properly coded (and unfortunately, best performance was achieved using
non-ANSI SQL queries... :(

Anyway, PostgerSQL is a decent alternative that's similar enough to MySQL if
you're looking to port WPMU....

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


From zamoose at gmail.com  Mon Apr  9 17:54:49 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr  9 17:54:57 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
References: <000401c77ac7$678ddf20$36a99d60$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
Message-ID: <71ddd7490704091054m2a4d109dr730e848be1c5885c@mail.gmail.com>

On 4/9/07, Brian Layman <Brian@thecodecave.com> wrote:
> > WordPress is being actively developed 100% ==
> > WordPress isn't lacking in terms of development.
>
> There we go, that works for me.  Stick with that. ;)
>
> On the other hand, the original was perfect(!) sales pitch lingo.  I was
> certain it was straight out of a WordPress marketing brochure.
>
> OK, Kevin, I'll get back to your topic here.  The requirements you've
> mentioned are significant.  100,000 sites, running out of any central
> system, will require significant resources and optimizations.  AFAIK, any
> existing blog/CMS system that you choose will require customization to scale
> to that level of deployment.
>
> MySQL, to be brutally honest, is not a very mature database system. (Does
> anyone else here have a transactions-check mark shirt from the 4.1(?)
> deployment?)  MySQL IS rapidly improving.  So, I've got to ask you if your
> 100,000 site quote is an eventually goal, or a realistic appraisal of your
> current planned deployment.  (BTW, either way, I believe WordPress will give
> you a good foundation.)  The size of the initial deployment, may be the
> biggest factor in deciding what you want to do next.
>
> DrMike has already told you that MySQL cannot handle that capacity.  So, if
> you are deploying at that size, you need to invest design and implementation
> into converting the database over to something that can handle that scale.
> For example, Interbase or Firebird should handle that with out a problem and
> doesn't limit your platform, but you'll have to over come issues like how to
> handle the missing MySQL InsertID feature.  MSSQL is another option, of
> course, and there are others beyond that.
>
> If, in the near term, your actual needs are significantly smaller,
> implementing your site in phases, maybe the key to success. Take advantage
> of improved compatibility with the WordPress core by deploying under MySQL.
> You could then use the first phase to determine if what your scaling
> problems will be and THEN decide your best avenue of attack. WordPress and
> MySQL will have matured further, you will get a number of improvements by a
> quick upgrade to the current system, you will be more proficient with the
> actual WordPress code, and then you can switch over to the actual end system
> that is capable of handling the workload you've mentioned.
>
> That's my take on the whole thing without knowing more about the why's and
> wherefore's of your actual plan.  And please don't take the grumblings and
> gripes on a news list as large red flags.  The core folks who live and
> breath WordPress each day are a good bunch of people who give every change
> request due consideration.
>
> As for how many developers there are, that varies.  There are a large number
> of people that contribute.  Each has their own special concern, point of
> view, and desired goal.  That's the nature of open source.  The number of
> people who can commit the changes that are submitted is smaller number, oh,
> around half a dozen, I guess.  They take a look at how WordPress is being
> used today, and just as importantly, how it isn't being used.  The then the
> development to the benefit of the community as a whole.
>
> WordPress is being adopted for ever larger deployments and is the core
> technology of an increasingly larger number of media outlets.  You would not
> be alone in your choice of WordPress for your foundation and I expect the
> choice would serve you well.
>
> I hope that answers some of your questions.
>

Actually, this brings up a topic that I've been mulling over for a
bit: "federated" WordPress installations.  Obviously, there will be
security ramifications, but what if you had the capability of creating
a TRUE network of WP blogs on separate servers, blended between MU and
WP.org codebases?  It would be very handy in corporate environments,
for sure, but if security was Done Right, you could even organize such
a thing on the public Internet.*  And no, OpenID won't suffice, as
that's just identity-, not capability-driven.

What if there were a SOAP/XML-RPC-esque interface wherein federated
blogs could phone the authoritative server and request user
capabilities, profile information, etc.?  Think of the
possibilities...


*Of course, the security considerations would be decidedly monstrous.
Potentially so monstrous as to make the whole endeavor infeasible.  In
which case, these aren't the droids you're looking for.  This email
never existed.
-- 
-Doug

http://literalbarrage.org/blog/
From theapparatus at gmail.com  Mon Apr  9 17:58:04 2007
From: theapparatus at gmail.com (Dr. Mike Wendell)
Date: Mon Apr  9 17:58:10 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
References: <000401c77ac7$678ddf20$36a99d60$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
Message-ID: <f1cf41430704091058v5d620c07k80aae1f45535682f@mail.gmail.com>

On 4/9/07, Brian Layman <Brian@thecodecave.com> wrote:
> DrMike has already told you that MySQL cannot handle that capacity.  So, if
> you are deploying at that size, you need to invest design and implementation
> into converting the database over to something that can handle that scale.

Well it can handle it.  You're just going to have to work out a system
to use multiple databases.  It's more of an issue with the file
quanity restrictions within most OSes.

Wow, someone actually listened to me... :)

Regards,
-drmike


-- 
Blog: http://drmikessteakdinner.com
Kim Possible: Remixed: http://kimpossibleremixed.com
Get your own free hosted WordPress Blog today: http://daria.be
From computerguru at neosmart.net  Mon Apr  9 18:01:42 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 18:01:56 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <f1cf41430704091058v5d620c07k80aae1f45535682f@mail.gmail.com>
References: <000401c77ac7$678ddf20$36a99d60$@net>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
	<f1cf41430704091058v5d620c07k80aae1f45535682f@mail.gmail.com>
Message-ID: <000b01c77ad1$22f9ac90$68ed05b0$@net>

I think it can be solved by using ZFS or ReiserFS which don't have that
limit - but I'm not sure... Just trying to remember what someone once told
me, and failing miserably :)

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Dr. Mike Wendell
> Sent: Monday, April 09, 2007 8:58 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] State of WP
> 
> On 4/9/07, Brian Layman <Brian@thecodecave.com> wrote:
> > DrMike has already told you that MySQL cannot handle that capacity.
> So, if
> > you are deploying at that size, you need to invest design and
> implementation
> > into converting the database over to something that can handle that
> scale.
> 
> Well it can handle it.  You're just going to have to work out a system
> to use multiple databases.  It's more of an issue with the file
> quanity restrictions within most OSes.
> 
> Wow, someone actually listened to me... :)
> 
> Regards,
> -drmike
> 
> 
> --
> Blog: http://drmikessteakdinner.com
> Kim Possible: Remixed: http://kimpossibleremixed.com
> Get your own free hosted WordPress Blog today: http://daria.be
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Brian at TheCodeCave.com  Mon Apr  9 18:08:24 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 18:02:26 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <000a01c77acf$3a760320$af620960$@net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0E@dsimail.drbsystems.com>

> In my testing with extremely heavy loads on limited hardware, Oracle and
> MSSQL proved to be the most reliable - so long as the applications
wereproperly coded (and
> unfortunately, best performance was achieved using
> non-ANSI SQL queries... :(

I've not met anyone that was actually really happy with their Oracle system.
They just sort of co-existed with it.  :)  I'm sure they are around, I just
haven't bumped into them yet.

> Anyway, PostgerSQL is a decent alternative that's similar enough to MySQL
if
> you're looking to port WPMU....

That's one with which I have no experience or knowledge.  I don't know what
makes it special.
_______________________________________________
Brian Layman
http://www.TheCodeCave.com

From zamoose at gmail.com  Mon Apr  9 18:06:01 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr  9 18:06:09 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0E@dsimail.drbsystems.com>
References: <000a01c77acf$3a760320$af620960$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0E@dsimail.drbsystems.com>
Message-ID: <71ddd7490704091106g546b9dedg11616ca94211b449@mail.gmail.com>

On 4/9/07, Brian Layman <Brian@thecodecave.com> wrote:
> > In my testing with extremely heavy loads on limited hardware, Oracle and
> > MSSQL proved to be the most reliable - so long as the applications
> wereproperly coded (and
> > unfortunately, best performance was achieved using
> > non-ANSI SQL queries... :(
>
> I've not met anyone that was actually really happy with their Oracle system.
> They just sort of co-existed with it.  :)  I'm sure they are around, I just
> haven't bumped into them yet.
>

Certified Oracle DBAs are very happy with their installs - they
provide them 8 hours of "tuning" work per day and virtually assure
years of "productive" employment for said DBAs.  *grin*

Seriously, sometimes it feels as though they make it more difficult
than it needs to be simply to feel more "enterprise-y" so that
purchasing agents and IT managers get warm fuzzies whenever they think
about their prized Oracle installs.

Meanwhile, my engineers all use MySQL and get real work done.  *chuckle*

-- 
-Doug

http://literalbarrage.org/blog/
From false.hopes at gmail.com  Mon Apr  9 18:09:01 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Apr  9 18:09:08 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <000b01c77ad1$22f9ac90$68ed05b0$@net>
References: <000401c77ac7$678ddf20$36a99d60$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
	<f1cf41430704091058v5d620c07k80aae1f45535682f@mail.gmail.com>
	<000b01c77ad1$22f9ac90$68ed05b0$@net>
Message-ID: <a491f91d0704091109i7d3c5b8ej926be085b390defa@mail.gmail.com>

Eh, the 32k files in a directory thing is false. Ext2, one of the
older of the linux filesystems, has a limit of well into the tens to
hundreds of trillions of files in its inode specification. Now, with
ext2 and some implementations, especially ones in older (like, OLDer
kernels), you might only be able to store a few thousand because it
used a link list structure that was tedious to loop through.

Regardless, any and all modern filesystems have inode structures that
will allow millions to trillions or more files in a directory.  The
32k limit was actually on subdirectories in a single directory, and
only under certain filesystems like ext2, newer ones including ext3
will not necessarily suffer the same limitations. Lucky for us, MySQL
doesn't make a new directory for each table. MySQL will do just fine.

-- 
--Robert Deaton
http://lushlab.com
From Brian at TheCodeCave.com  Mon Apr  9 18:17:14 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 18:11:00 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <71ddd7490704091106g546b9dedg11616ca94211b449@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0F@dsimail.drbsystems.com>


On Behalf Of Doug Stewart:
> Certified Oracle DBAs are very happy with their installs - they
> provide them 8 hours of "tuning" work per day and virtually assure
> years of "productive" employment for said DBAs.  *grin*

> Seriously, sometimes it feels as though they make it more difficult
> than it needs to be simply to feel more "enterprise-y" so that
> purchasing agents and IT managers get warm fuzzies whenever they think
> about their prized Oracle installs.

That fits my 3rd party observations to a T.  Oracle does not have my
recommendation, but if it's part of and RFP, it's part of the RFP!
Sometimes, you've gotta do what you've gotta do! ;)  

_______________________________________________
Brian Layman
http://www.TheCodeCave.com

From false.hopes at gmail.com  Mon Apr  9 18:11:54 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Apr  9 18:12:16 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <a491f91d0704091109i7d3c5b8ej926be085b390defa@mail.gmail.com>
References: <000401c77ac7$678ddf20$36a99d60$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
	<f1cf41430704091058v5d620c07k80aae1f45535682f@mail.gmail.com>
	<000b01c77ad1$22f9ac90$68ed05b0$@net>
	<a491f91d0704091109i7d3c5b8ej926be085b390defa@mail.gmail.com>
Message-ID: <a491f91d0704091111v7a0d85a3v330d34d0b4e0fbca@mail.gmail.com>

On 4/9/07, Robert Deaton <false.hopes@gmail.com> wrote:
> Regardless, any and all modern filesystems have inode structures that
> will allow millions to trillions or more files in a directory.  The
> 32k limit was actually on subdirectories in a single directory, and
> only under certain filesystems like ext2, newer ones including ext3
> will not necessarily suffer the same limitations. Lucky for us, MySQL
> doesn't make a new directory for each table. MySQL will do just fine.

Lemme correct myself. That's supposed to say newer ones /excluding/
ext3, as ext3 is ext2 with a journal, and so its limitations are
inherited.

>
> --
> --Robert Deaton
> http://lushlab.com
>


-- 
--Robert Deaton
http://lushlab.com
From computerguru at neosmart.net  Mon Apr  9 18:13:48 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 18:14:10 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0E@dsimail.drbsystems.com>
References: <000a01c77acf$3a760320$af620960$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0E@dsimail.drbsystems.com>
Message-ID: <000c01c77ad2$d3977db0$7ac67910$@net>

It's not "special" really, it just does most everything you need.
It's slightly slower than MySQL on a per-query basis, but it'll take a load
MUCH MUCH better.

As far technology goes, everything MySQL has, PGSQL had years before. It
hasn't been as successful because of bad marketing mostly, but it's a really
swell and very very stable product.

I've had MySQL just die on me (on Windows..... of course) several times,
where for no reason what so ever, the service won't start though it debugs
just fine.. PGSQL is a more mature and less buggy product on the whole.

PGSQL is slower than Innodb but on-par (mostly) with MyISAM.... and it's
feature set is much much greater than MySQL's.

As for Oracle - *if* you can get it working right, it'll be wonderful. Using
it via ODBC is the best way to go about, since the native drivers for most
languages just don't cut it.

However, to be honest, I've found Oracle to be great with the JNDC Java
drivers and the .NET Connectors...

But Oracle isn't well suited for smaller sites because of the higher
maintenance costs associated... As a matter of fact, oracle has only just
started pimping their prouduct for small to mid-size sites - their biggest
business is from Fortune 500 companies, etc.

Oracle is best when it comes to server farms (think Google, Second Life...
aka HUGE), but I wouldn't recommend it for anything else. 

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Brian Layman
> Sent: Monday, April 09, 2007 9:08 PM
> To: wp-hackers@lists.automattic.com
> Subject: RE: [wp-hackers] State of WP
> 
> > In my testing with extremely heavy loads on limited hardware, Oracle
> and
> > MSSQL proved to be the most reliable - so long as the applications
> wereproperly coded (and
> > unfortunately, best performance was achieved using
> > non-ANSI SQL queries... :(
> 
> I've not met anyone that was actually really happy with their Oracle
> system.
> They just sort of co-existed with it.  :)  I'm sure they are around, I
> just
> haven't bumped into them yet.
> 
> > Anyway, PostgerSQL is a decent alternative that's similar enough to
> MySQL
> if
> > you're looking to port WPMU....
> 
> That's one with which I have no experience or knowledge.  I don't know
> what
> makes it special.
> _______________________________________________
> Brian Layman
> http://www.TheCodeCave.com
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Brian at TheCodeCave.com  Mon Apr  9 18:21:14 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 18:15:10 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <a491f91d0704091109i7d3c5b8ej926be085b390defa@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F10@dsimail.drbsystems.com>

Robert Deaton wrote:
> The 32k limit was actually on subdirectories in a single directory, and
> only under certain filesystems like ext2, newer ones including ext3
> will not necessarily suffer the same limitations. Lucky for us, MySQL
> doesn't make a new directory for each table. MySQL will do just fine.

Good to know Robert, thank you. 
_______________________________________________
Brian Layman
http://www.TheCodeCave.com

From Brian at TheCodeCave.com  Mon Apr  9 18:22:25 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 18:16:25 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <a491f91d0704091111v7a0d85a3v330d34d0b4e0fbca@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F11@dsimail.drbsystems.com>

> Lemme correct myself. That's supposed to say newer ones /excluding/
> ext3, as ext3 is ext2 with a journal, and so its limitations are
> inherited.

Noted.

From theapparatus at gmail.com  Mon Apr  9 18:20:18 2007
From: theapparatus at gmail.com (Dr. Mike Wendell)
Date: Mon Apr  9 18:20:36 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <a491f91d0704091111v7a0d85a3v330d34d0b4e0fbca@mail.gmail.com>
References: <000401c77ac7$678ddf20$36a99d60$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
	<f1cf41430704091058v5d620c07k80aae1f45535682f@mail.gmail.com>
	<000b01c77ad1$22f9ac90$68ed05b0$@net>
	<a491f91d0704091109i7d3c5b8ej926be085b390defa@mail.gmail.com>
	<a491f91d0704091111v7a0d85a3v330d34d0b4e0fbca@mail.gmail.com>
Message-ID: <f1cf41430704091120t5f798755j3b962ca425338008@mail.gmail.com>

On 4/9/07, Robert Deaton <false.hopes@gmail.com> wrote:
> On 4/9/07, Robert Deaton <false.hopes@gmail.com> wrote:
> Lemme correct myself. That's supposed to say newer ones /excluding/
> ext3, as ext3 is ext2 with a journal, and so its limitations are
> inherited.

So what's recommended?

Gotta admit that I'm interested here as I'm planning on moving my WPMu
installs to a server when i get some new ones this summer.  I believe
I'm using ext3 on Fedora 3 installs but don't quote me.

I'm also hitting it on FreeBSD as well.

Thanks,
-drmike

-- 
Blog: http://drmikessteakdinner.com
Kim Possible: Remixed: http://kimpossibleremixed.com
Get your own free hosted WordPress Blog today: http://daria.be
From lloydomattic at gmail.com  Mon Apr  9 18:23:24 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Mon Apr  9 18:23:29 2007
Subject: db tables + file system directory limitations was( Re: [wp-hackers]
	State of WP )
Message-ID: <70ebb7140704091123j26477475qabe87f1af1ab103e@mail.gmail.com>

On 4/9/07, Dr. Mike Wendell <theapparatus@gmail.com> wrote:
> On 4/9/07, Kevin McCann <kmccann@cruciverb.com> wrote:
> > - each site would have its 8 uniquely-prefixed tables. Times that by
> > 100,000 or possibly much more... anyone know if this'll be a problem for
> > MySQL?
>
> Yup.  Big problem.  Each of those tables consist of three files within
> the MySQL database so you would be looking at 2.4million database
> files.  A normal Linux directory can hold at most 32k files.  There
> are those with multi database setups but all of them are sitting on
> their solutions and not releasing them to the community.  It's doable
> but you'd have to figure how how to do it yourself.

On your own? I have limited understanding of how this works, but I
think I have seen Mu forum threads that describe in detail approaches
to do this, but you are correct, I have not seen any one reason the
code. It would seem to be a fairly trivial problem though.

If I recall correctly 64-bit nor any of the other popular file sytesm

This thread, like most most multiple topic threads, are fairly hard
for me to follow.

Cheers,
-- 
Lloyd Budd | Digital Entomologist | 250-885-1744
WordPress.com | WordPress.org | Automattic.com
From false.hopes at gmail.com  Mon Apr  9 18:23:46 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Apr  9 18:24:20 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <f1cf41430704091120t5f798755j3b962ca425338008@mail.gmail.com>
References: <000401c77ac7$678ddf20$36a99d60$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
	<f1cf41430704091058v5d620c07k80aae1f45535682f@mail.gmail.com>
	<000b01c77ad1$22f9ac90$68ed05b0$@net>
	<a491f91d0704091109i7d3c5b8ej926be085b390defa@mail.gmail.com>
	<a491f91d0704091111v7a0d85a3v330d34d0b4e0fbca@mail.gmail.com>
	<f1cf41430704091120t5f798755j3b962ca425338008@mail.gmail.com>
Message-ID: <a491f91d0704091123t676581ccmabfb6f37983ec3c9@mail.gmail.com>

On 4/9/07, Dr. Mike Wendell <theapparatus@gmail.com> wrote:
> On 4/9/07, Robert Deaton <false.hopes@gmail.com> wrote:
> > On 4/9/07, Robert Deaton <false.hopes@gmail.com> wrote:
> > Lemme correct myself. That's supposed to say newer ones /excluding/
> > ext3, as ext3 is ext2 with a journal, and so its limitations are
> > inherited.
>
> So what's recommended?

ext3 should do perfectly fine, since MySQL isn't creating directories.
The only filesystem limit you'll likely reach is the 32k directories
limit. I personally might adjust depending on what else the servers
are doing. Different filesystems are good at different things, but as
far as hitting a files in a directory limit, its unlikely to ever
happen.

> Gotta admit that I'm interested here as I'm planning on moving my WPMu
> installs to a server when i get some new ones this summer.  I believe
> I'm using ext3 on Fedora 3 installs but don't quote me.
>
> I'm also hitting it on FreeBSD as well.
>
> Thanks,
> -drmike

-- 
--Robert Deaton
http://lushlab.com
From computerguru at neosmart.net  Mon Apr  9 18:24:05 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 18:24:43 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <f1cf41430704091120t5f798755j3b962ca425338008@mail.gmail.com>
References: <000401c77ac7$678ddf20$36a99d60$@net>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>	<f1cf41430704091058v5d620c07k80aae1f45535682f@mail.gmail.com>	<000b01c77ad1$22f9ac90$68ed05b0$@net>	<a491f91d0704091109i7d3c5b8ej926be085b390defa@mail.gmail.com>	<a491f91d0704091111v7a0d85a3v330d34d0b4e0fbca@mail.gmail.com>
	<f1cf41430704091120t5f798755j3b962ca425338008@mail.gmail.com>
Message-ID: <000d01c77ad4$4394d030$cabe7090$@net>

FreeBSD can handle whatever you throw at it :)

I'd upgrade that FC3 system if I were you though.... I think the FC3 -> FC4
was the most important jump.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Dr. Mike Wendell
> Sent: Monday, April 09, 2007 9:20 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] State of WP
> 
> On 4/9/07, Robert Deaton <false.hopes@gmail.com> wrote:
> > On 4/9/07, Robert Deaton <false.hopes@gmail.com> wrote:
> > Lemme correct myself. That's supposed to say newer ones /excluding/
> > ext3, as ext3 is ext2 with a journal, and so its limitations are
> > inherited.
> 
> So what's recommended?
> 
> Gotta admit that I'm interested here as I'm planning on moving my WPMu
> installs to a server when i get some new ones this summer.  I believe
> I'm using ext3 on Fedora 3 installs but don't quote me.
> 
> I'm also hitting it on FreeBSD as well.
> 
> Thanks,
> -drmike
> 
> --
> Blog: http://drmikessteakdinner.com
> Kim Possible: Remixed: http://kimpossibleremixed.com
> Get your own free hosted WordPress Blog today: http://daria.be
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From zamoose at gmail.com  Mon Apr  9 18:24:53 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr  9 18:26:54 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <000c01c77ad2$d3977db0$7ac67910$@net>
References: <000a01c77acf$3a760320$af620960$@net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0E@dsimail.drbsystems.com>
	<000c01c77ad2$d3977db0$7ac67910$@net>
Message-ID: <71ddd7490704091124k6b3a8c46s387d2bea190bdfc6@mail.gmail.com>

On 4/9/07, Computer Guru <computerguru@neosmart.net> wrote:
> Oracle is best when it comes to server farms (think Google, Second Life...
> aka HUGE), but I wouldn't recommend it for anything else.

Coulda sworn The GOOG was all MySQL on the backend, but since their
technology profile is e'er-shifting, that info might be out of date...

Hooray for the Business OODA Loop!

-- 
-Doug

http://literalbarrage.org/blog/
From computerguru at neosmart.net  Mon Apr  9 18:27:45 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 18:28:55 2007
Subject: db tables + file system directory limitations was( Re:
	[wp-hackers]	State of WP )
In-Reply-To: <70ebb7140704091123j26477475qabe87f1af1ab103e@mail.gmail.com>
References: <70ebb7140704091123j26477475qabe87f1af1ab103e@mail.gmail.com>
Message-ID: <000e01c77ad4$c6f7ea20$54e7be60$@net>

> This thread, like most most multiple topic threads, are fairly hard
> for me to follow.
> 
> Cheers,
> --
> Lloyd Budd | Digital Entomologist | 250-885-1744

Try an online service like Nabble that displays them as threaded entries :)

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

From lloydomattic at gmail.com  Mon Apr  9 18:29:22 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Mon Apr  9 18:30:17 2007
Subject: db tables + file system directory limitations was( Re:
	[wp-hackers] State of WP )
In-Reply-To: <70ebb7140704091123j26477475qabe87f1af1ab103e@mail.gmail.com>
References: <70ebb7140704091123j26477475qabe87f1af1ab103e@mail.gmail.com>
Message-ID: <70ebb7140704091129r524cb313l58355f71a10b3f85@mail.gmail.com>

On 4/9/07, Lloyd Budd <lloydomattic@gmail.com> wrote:
>
> If I recall correctly 64-bit nor any of the other popular file sytems

Oops, never finished my thought, anyway Robert describes it better
than I would have:

Regardless, any and all modern filesystems have inode structures that
will allow millions to trillions or more files in a directory.  The
32k limit was actually on subdirectories in a single directory, and
only under certain filesystems like ext2, newer ones including ext3
will not necessarily suffer the same limitations. Lucky for us, MySQL
doesn't make a new directory for each table. MySQL will do just fine.
From lloydomattic at gmail.com  Mon Apr  9 18:32:24 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Mon Apr  9 18:32:52 2007
Subject: db tables + file system directory limitations was( Re:
	[wp-hackers] State of WP )
In-Reply-To: <000e01c77ad4$c6f7ea20$54e7be60$@net>
References: <70ebb7140704091123j26477475qabe87f1af1ab103e@mail.gmail.com>
	<000e01c77ad4$c6f7ea20$54e7be60$@net>
Message-ID: <70ebb7140704091132y2fc7a1b1t6ade582f8ee9e815@mail.gmail.com>

On 4/9/07, Computer Guru <computerguru@neosmart.net> wrote:
> > This thread, like most most multiple topic threads, are fairly hard
> > for me to follow.
>
> Try an online service like Nabble that displays them as threaded entries :)

I think it is less a matter of thead vs flat, and more about as much
as possible keeping a "thread" on a particular topic -- at least if
you want anyone other than those passionately following a whole
discussion to be able to contribute as the discussion meanders across
topics ;-)

Cheers,
Lloyd
From computerguru at neosmart.net  Mon Apr  9 18:31:50 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 18:32:59 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <71ddd7490704091124k6b3a8c46s387d2bea190bdfc6@mail.gmail.com>
References: <000a01c77acf$3a760320$af620960$@net>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0E@dsimail.drbsystems.com>	<000c01c77ad2$d3977db0$7ac67910$@net>
	<71ddd7490704091124k6b3a8c46s387d2bea190bdfc6@mail.gmail.com>
Message-ID: <000f01c77ad5$6fcee040$4f6ca0c0$@net>

I believe Google runs their own custom filesystem and custom database, but I
could be wrong....

If they don't - they should. You can get up to 2000% performance boost by
writing a job-specific rdbms instead of using a generic like
Oracle/MySQL/PGSQL/ETC

There was an entire tutorial + benchmarks up on /. a couple of months ago..
I'll see if I can find the link.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Doug Stewart
> Sent: Monday, April 09, 2007 9:25 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] State of WP
> 
> On 4/9/07, Computer Guru <computerguru@neosmart.net> wrote:
> > Oracle is best when it comes to server farms (think Google, Second
> Life...
> > aka HUGE), but I wouldn't recommend it for anything else.
> 
> Coulda sworn The GOOG was all MySQL on the backend, but since their
> technology profile is e'er-shifting, that info might be out of date...
> 
> Hooray for the Business OODA Loop!
> 
> --
> -Doug
> 
> http://literalbarrage.org/blog/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From kmccann at cruciverb.com  Mon Apr  9 18:38:11 2007
From: kmccann at cruciverb.com (Kevin McCann)
Date: Mon Apr  9 18:40:43 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
Message-ID: <461A8813.6090906@cruciverb.com>

Brian Layman wrote:
> OK, Kevin, I'll get back to your topic here.  The requirements you've
> mentioned are significant.  100,000 sites, running out of any central
> system, will require significant resources and optimizations.  AFAIK, any
> existing blog/CMS system that you choose will require customization to scale
> to that level of deployment.  
>
> MySQL, to be brutally honest, is not a very mature database system. (Does
> anyone else here have a transactions-check mark shirt from the 4.1(?)
> deployment?)  MySQL IS rapidly improving.  So, I've got to ask you if your
> 100,000 site quote is an eventually goal, or a realistic appraisal of your
> current planned deployment.  (BTW, either way, I believe WordPress will give
> you a good foundation.)  The size of the initial deployment, may be the
> biggest factor in deciding what you want to do next.
>   

Hi Brian,

Thanks for the detailed response (and thanks to others who responded).

We'd probably have at least 10,000 right off the bat (with blog data 
ported from another system). It would likely grow to 100,000 within 6-12 
months. Could eventually get to half-a-million or more. We currently 
have a half-decent infrastructure with multiple web servers, mail 
servers, Master and Slave MySQL servers, load balancers, etc. which we 
use for other services. We already use MySQL, which is why we'd want to 
use it if we can.

> DrMike has already told you that MySQL cannot handle that capacity.  So, if
> you are deploying at that size, you need to invest design and implementation
> into converting the database over to something that can handle that scale.
> For example, Interbase or Firebird should handle that with out a problem and
> doesn't limit your platform, but you'll have to over come issues like how to
> handle the missing MySQL InsertID feature.  MSSQL is another option, of
> course, and there are others beyond that.
>   

DrMike mentioned a limitation of 32k files, but isn't it actually 32k 
sub-directories within a directory? So if it's one big database, isn't 
it just a whole lot of files within one directory, not 32k+ 
sub-directories within a directory? Is the other limitation in the 
number of directories required for per-site media file storage (like 
images, etc.)? Also, someone mentioned to me that MySQL uses 3 files per 
table only when using ISAM. He said if you use InnoDB it's not a 
problem. True?

> If, in the near term, your actual needs are significantly smaller,
> implementing your site in phases, maybe the key to success. Take advantage
> of improved compatibility with the WordPress core by deploying under MySQL.
> You could then use the first phase to determine if what your scaling
> problems will be and THEN decide your best avenue of attack. WordPress and
> MySQL will have matured further, you will get a number of improvements by a
> quick upgrade to the current system, you will be more proficient with the
> actual WordPress code, and then you can switch over to the actual end system
> that is capable of handling the workload you've mentioned.
>   

My fear is that we would reach 32k quickly. If that is indeed the danger 
number, I'd rather be prepared for it. Maybe we have outgrown MySQL? 
Will investigate further.

> That's my take on the whole thing without knowing more about the why's and
> wherefore's of your actual plan.  And please don't take the grumblings and
> gripes on a news list as large red flags.  The core folks who live and
> breath WordPress each day are a good bunch of people who give every change
> request due consideration.  
>   

No worries, good to know you're a nice bunch of people!

> As for how many developers there are, that varies.  There are a large number
> of people that contribute.  Each has their own special concern, point of
> view, and desired goal.  That's the nature of open source.  The number of
> people who can commit the changes that are submitted is smaller number, oh,
> around half a dozen, I guess.  They take a look at how WordPress is being
> used today, and just as importantly, how it isn't being used.  The then the
> development to the benefit of the community as a whole.
>
> WordPress is being adopted for ever larger deployments and is the core
> technology of an increasingly larger number of media outlets.  You would not
> be alone in your choice of WordPress for your foundation and I expect the
> choice would serve you well.
>
> I hope that answers some of your questions.
>   

It sounds like there would be benefits to starting with WP as a foundation.

I did read some threads in the WPMU forum and found them rather 
interesting (thanks for the tip DrMike). I'm a bit confused about some 
of what I read (especially where there is talk of using multiple 
databases (wp.com uses 4096?), as I thought the whole idea was to use 
many tables within one database. We currently use Drupal, with one DB 
per site, and this is what we wanted to get away from. I have also been 
wondering why the approach for multi-sites would not be to have one 
database and a fixed number of tables, and have blog-specific data 
referenced by blog_id (like "post_blog_id" in a "posts" table). 
Therefore "select post_id, post_title ... from posts where post_blog_id 
= '$blogid' and ..." Simply too many records and slow queries? Is the 
WPMU forum the best place to follow up with these questions?

Thanks for your help.

- Kevin




From m at mullenweg.com  Mon Apr  9 18:40:46 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr  9 18:42:57 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <002c01c77a9f$3c6e5180$b54af480$@net>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
	<002c01c77a9f$3c6e5180$b54af480$@net>
Message-ID: <461A88AE.3000100@mullenweg.com>

Computer Guru wrote:
> I don't know why people don't seem to get it: TABLES ARE CHEAP!
> Database normalization almost always equals more tables - but hundred-fold flexibility.

In all seriousness, tables are cheap but we should keep them structured 
for the types of reads and queries we're going to be doing most of the time.

There's a happy medium between Post-Nuke (table for every freakin thing) 
and Drupal (everything is a node *except* comments) that I think we can 
hit if we keep in mind performance, elegance, and typical use cases.

Robert, your modest proposal was excellent but clearly we can't do 
anything that would hinder the exposure of the Browse Happy logo.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From kmccann at cruciverb.com  Mon Apr  9 18:46:25 2007
From: kmccann at cruciverb.com (Kevin McCann)
Date: Mon Apr  9 18:48:55 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <461A8813.6090906@cruciverb.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
	<461A8813.6090906@cruciverb.com>
Message-ID: <461A8A01.6020709@cruciverb.com>

Kevin McCann wrote:
>
> DrMike mentioned a limitation of 32k files, but isn't it actually 32k 
> sub-directories within a directory? So if it's one big database, isn't 
> it just a whole lot of files within one directory, not 32k+ 
> sub-directories within a directory?
>

Y'all responded while I was writing the response to Brian's message. 
Thanks for the confirmation.

- km
From Brian at TheCodeCave.com  Mon Apr  9 19:22:55 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 19:16:48 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <461A8813.6090906@cruciverb.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F12@dsimail.drbsystems.com>

>Thanks for the detailed response (and thanks to others who responded).

Glad I could contribute Kevin.

Brian Layman wrote:
>> MySQL, to be brutally honest, is not a very mature database system. 
BTW, I've been somewhat regretting that statement.  MySQL has taken
tremendous strides past where we are living in the WordPress world. The
WordPress core has deliberately chosen not to take advantage of certain
MySQL features in order to allow a wider, more compatible install base.
That doesn't mean that  the current MySQL implementation isn't mature.

Heck, 5.1 even has partitioning so that you can balance your server loads.
And if you customized your system, you will not be forced to live in the
same world as the open source core project must live in.  

> We'd probably have at least 10,000 right off the bat (with blog data 
> ported from another system). It would likely grow to 100,000 within 6-12 
> months. Could eventually get to half-a-million or more. 

Well, then you're right to start out on that scale from the beginning.  Some
Internet startups spend so much time planning to be large, that they fail
before they start.  I just wanted to know which group you were in. ;)

> We already use MySQL, which is why we'd want to use it if we can.
> DrMike mentioned a limitation of 32k files, but isn't it actually 32k 
> sub-directories within a directory? So if it's one big database, isn't 
> it just a whole lot of files within one directory, not 32k+ 
> sub-directories within a directory? 

You are correct.  Robert has confirmed this, and believes that MySQL can
handle the load you are facing.

> My fear is that we would reach 32k quickly. If that is indeed the danger 
> number, I'd rather be prepared for it. Maybe we have outgrown MySQL? 
> Will investigate further.
See Above.

>It sounds like there would be benefits to starting with WP as a foundation.
I think so. And your resource base, as far as employees, is growing as more
and more folks choose WP as a solution.  In my mind, WordPress has passed
the 'fad' stage and has reached the point where the business world
recognizes it as a real product that has value to them.  I'm not certain
that's the case for the alternatives that are out there.  Drupal gets a lot
of discussion, but I get flashes of RuPaul everytime I see the name and I
have a hard time considering it seriously after that. ;)

> I have also been wondering why the approach for multi-sites would not be
to have one 
> database and a fixed number of tables, and have blog-specific data
referenced by blog_id 
> (like "post_blog_id" in a "posts" table). Therefore "select post_id,
post_title ... from 
> posts where post_blog_id = '$blogid' and ..." 
> Simply too many records and slow queries? 

That's what I expected to see when I first looked at WPMU.  I think the
choice was made because of the target userbase.  WPmu was made (I presume)
with blogging community sites in mind.  Therefore data isolation is a
concern.  If a query can be malformed that would allow access to all records
in the table, that's a security risk.  That said, this is only a guess

> Is the WPMU forum the best place to follow up with these questions?
I dunno, I'm enjoying the conversation here.  As long as Lloyd doesn't kick
us out... ;)

From m at mullenweg.com  Mon Apr  9 19:22:42 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr  9 19:24:55 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
Message-ID: <461A9282.1090302@mullenweg.com>

Brian Layman wrote:
> MySQL, to be brutally honest, is not a very mature database system.
> DrMike has already told you that MySQL cannot handle that capacity.

I would pretty strongly disagree with both of these.

The nice thing about MU is that as long as your number of blogs is 
smaller than the number of blogs listed on the WordPress.com, there is 
someone who has already dealt with any issues you'll run into along the way.

If you already have a setup with LBs, webs, and slaves I would say you 
have most of the expertise needed to scale WP to very high levels already.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From m at mullenweg.com  Mon Apr  9 19:23:45 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr  9 19:25:59 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F12@dsimail.drbsystems.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F12@dsimail.drbsystems.com>
Message-ID: <461A92C1.6060702@mullenweg.com>

Brian Layman wrote:
> That's what I expected to see when I first looked at WPMU.  I think the
> choice was made because of the target userbase.  WPmu was made (I presume)
> with blogging community sites in mind.  Therefore data isolation is a
> concern.  If a query can be malformed that would allow access to all records
> in the table, that's a security risk.  That said, this is only a guess

It's more around:

* Easy compatibility with most WP plugins.
* Easy segmentation of rarely joined data for partitioning.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From theapparatus at gmail.com  Mon Apr  9 19:32:08 2007
From: theapparatus at gmail.com (Dr. Mike Wendell)
Date: Mon Apr  9 19:32:13 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <461A9282.1090302@mullenweg.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
	<461A9282.1090302@mullenweg.com>
Message-ID: <f1cf41430704091232x2889e0acyd3e537a6b0c7fd91@mail.gmail.com>

On 4/9/07, Matt Mullenweg <m@mullenweg.com> wrote:
> The nice thing about MU is that as long as your number of blogs is
> smaller than the number of blogs listed on the WordPress.com, there is
> someone who has already dealt with any issues you'll run into along the way.

There is but they're not giving up their secrets in the WPMu forums.
Multiple databases is one of the most asked for requests over there.

-drmike

-- 
Blog: http://drmikessteakdinner.com
Kim Possible: Remixed: http://kimpossibleremixed.com
Get your own free hosted WordPress Blog today: http://daria.be
From computerguru at neosmart.net  Mon Apr  9 19:32:20 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 19:32:56 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <461A9282.1090302@mullenweg.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
	<461A9282.1090302@mullenweg.com>
Message-ID: <001001c77add$d61f11f0$825d35d0$@net>

> Brian Layman wrote:
> > MySQL, to be brutally honest, is not a very mature database system.
> > DrMike has already told you that MySQL cannot handle that capacity.
> 
> I would pretty strongly disagree with both of these.

May I ask what you are comparing it to? Because I'm looking at PGSQL, MSSQL,
Oracle, etc. and I see that MySQL is the buggiest and least powerful
solution.

Obviously it's a relative statement, but I think that it's an accurate one.
MySQL is lite, free, and fast - because it doesn't do much as far as RDBMS
go. It does enough for what small to mid-size platforms need, but there is a
lot it doesn't do and a lot of ground for it to cover to catch up with the
rest.

My only problem with MySQL is - why should I spend my time on a promising
SQL Backend when other more mature and non-lacking systems already exist,
both in the open source and commercial markets. 

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

From theapparatus at gmail.com  Mon Apr  9 19:38:38 2007
From: theapparatus at gmail.com (Dr. Mike Wendell)
Date: Mon Apr  9 19:38:44 2007
Subject: db tables + file system directory limitations was( Re:
	[wp-hackers] State of WP )
In-Reply-To: <70ebb7140704091123j26477475qabe87f1af1ab103e@mail.gmail.com>
References: <70ebb7140704091123j26477475qabe87f1af1ab103e@mail.gmail.com>
Message-ID: <f1cf41430704091238t5dddafcawfebde135928db497@mail.gmail.com>

On 4/9/07, Lloyd Budd <lloydomattic@gmail.com> wrote:
> On 4/9/07, Dr. Mike Wendell <theapparatus@gmail.com> wrote:
> On your own? I have limited understanding of how this works, but I
> think I have seen Mu forum threads that describe in detail approaches
> to do this, but you are correct, I have not seen any one reason the
> code. It would seem to be a fairly trivial problem though.

I've kicked out a couple of ideas but no, I've not sat down and worked
out the code either.  My latest idea is to move the master tables into
their own database while adding a record to wp_blogs assigning that
blog to a specific additonal database.

Either that or the "Ok, the first letter of the blog is an 'a' so lets
put that in the 'a' database" method.

Now that most of my seasonal volenteerrism is now over, maybe I'll get the time.

Regards,
-drmike

-- 
Blog: http://drmikessteakdinner.com
Kim Possible: Remixed: http://kimpossibleremixed.com
Get your own free hosted WordPress Blog today: http://daria.be
From Brian at TheCodeCave.com  Mon Apr  9 19:45:51 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 19:39:43 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <461A9282.1090302@mullenweg.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F13@dsimail.drbsystems.com>

Matt M. Wrote
>Brian Layman wrote:
>> MySQL, to be brutally honest, is not a very mature database system.
> I would pretty strongly disagree with both of these.

Yeah, Matt, you're right to call me on that one.  I regretted that statement
as soon as I hit send and I've already recanted it in this thread.  

I've just been frustrated lately at not being able to use simple stuff like
subselect queries in what I am building.  But that's not a matter of MySQL
not supporting the features I want, but a matter the WP core needing to
maintaining wider install base. And as a point of fact, I could ignore the
restrictions, and release publicly for a later version of WordPress that
requires a more recent version if MySQL, if I so chose.  That's something I
think I just might do.

_______________________________________________
Brian Layman
http://www.TheCodeCave.com
 




From donncha at linux.ie  Mon Apr  9 19:43:24 2007
From: donncha at linux.ie (Donncha O Caoimh)
Date: Mon Apr  9 19:43:57 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <f1cf41430704090826s6e4630e4ufc42eb7e8615c8a0@mail.gmail.com>
References: <461A5732.1050704@cruciverb.com>
	<f1cf41430704090826s6e4630e4ufc42eb7e8615c8a0@mail.gmail.com>
Message-ID: <461A975C.3080107@linux.ie>

Dr. Mike Wendell wrote:
> On 4/9/07, Kevin McCann <kmccann@cruciverb.com> wrote:
>> - each site would have its 8 uniquely-prefixed tables. Times that by
>> 100,000 or possibly much more... anyone know if this'll be a problem for
>> MySQL?
> 
> Yup.  Big problem.  Each of those tables consist of three files within
> the MySQL database so you would be looking at 2.4million database
> files.  A normal Linux directory can hold at most 32k files.  There
> are those with multi database setups but all of them are sitting on
> their solutions and not releasing them to the community.  It's doable
> but you'd have to figure how how to do it yourself.

This has been explained several times on the MU forums, but for a quick
recap, the simplest way to use multiple databases is by running the
blog_id through md5 and grabbing the first 3 characters. This gives you
a possible 4096 databases, so create that number of databases which is
where we'll store the data for individual blogs.
We also need a global db for things like wp_blogs, wp_usermeta and other
"global" tables.
So, when a query comes in, if it's a global db query then send it there,
otherwise grab the blog_id from the query, or simply use $wpdb->blogid,
find the right db and send the query to that db.

Things get a little more complicated when you have master and slave
databases, and get scary when you partition the data over multiple servers.

Here's the Trac ticket for that little job, anyone want to submit a
patch? http://trac.mu.wordpress.org/ticket/250

> 
>> - am I wrong in having the impression that many plug-ins don't work with
>> WPMU? I tried Role Manager (I need to create new roles) but it doesn't
[snip]

drmike's right, most plugins do actually work, and the
themes I've thrown at it do too. The ones that don't are the ones which
haven't been updated to cope with the WP2.1 API.

Donncha
PS. resending hours later, the original got eaten!
From stevelle at gmail.com  Mon Apr  9 19:56:13 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Mon Apr  9 19:56:20 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <002c01c77a9f$3c6e5180$b54af480$@net>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
	<002c01c77a9f$3c6e5180$b54af480$@net>
Message-ID: <b65af1a30704091256g23111e20o3840225cfb80b725@mail.gmail.com>

On 4/9/07, Computer Guru <computerguru@neosmart.net> wrote:
>
> Thank you Robert!

+1
Brilliant.


Database normalization almost always equals more tables - but hundred-fold
> flexibility.
>

More tables, I agree.  Flexibility?  I don't know about that.

I'm sure I missed one or two important things, but how a post + comments =
> 20 queries on a stock WP *without a single plugin* is beyond me.
>
> The thing is - since the WP data is well distributed and properly stored
> (the WP db-structure is fairly well done, with the exception of foreign keys
> IMO) why does it take so many queries to do so little?


Normalization increases the complexity of data retrieval, and therefore the
complexity of the queries necessary.  The point of normalization is not to
simplify but to promote data integrity.  With that level of complexity,
either you have to perform more queries, or more join operations within your
queries.  The WP API discourages joins, generally.  That is why it takes 20
queries to do so little.

You would have to begin de-normalizing the database, or consider using
views, to reduce the number of queries per page without cutting features.

I think if WP ever gets a database abstraction layer - even if it's
> something as heavy as MDB2/PearDB - it'll perform *better* since a hell of a
> lot of queries will be consolidated.


I doubt that.  I seriously doubt that.  Especially because it makes it
harder to perform the optimal joins for the current context.  Abstractions
in the middleware defeat the value of the RDBMS.  That is just the way it is
in my experience.

I would love to know why I am wrong.

-- 
SteveL
From computerguru at neosmart.net  Mon Apr  9 19:59:31 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 19:59:46 2007
Subject: [wp-hackers] Consolidating database tables and other
	assorted	items
In-Reply-To: <b65af1a30704091256g23111e20o3840225cfb80b725@mail.gmail.com>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>	<002c01c77a9f$3c6e5180$b54af480$@net>
	<b65af1a30704091256g23111e20o3840225cfb80b725@mail.gmail.com>
Message-ID: <001101c77ae1$98a68a70$c9f39f50$@net>

I fully agree with all the points your making with regards to query
complexity..
But I firmly believe that the slight overhead introduced by database
abstraction is more than made up for by the more streamlined queries.
Obviously streamlined queries w/o database abstraction is even better, but 1
statement with 2 joins is by far much more efficient than 4 queries....

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Steve Lewis
> Sent: Monday, April 09, 2007 10:56 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Consolidating database tables and other
> assorted items
> 
> On 4/9/07, Computer Guru <computerguru@neosmart.net> wrote:
> >
> > Thank you Robert!
> 
> +1
> Brilliant.
> 
> 
> Database normalization almost always equals more tables - but hundred-
> fold
> > flexibility.
> >
> 
> More tables, I agree.  Flexibility?  I don't know about that.
> 
> I'm sure I missed one or two important things, but how a post +
> comments =
> > 20 queries on a stock WP *without a single plugin* is beyond me.
> >
> > The thing is - since the WP data is well distributed and properly
> stored
> > (the WP db-structure is fairly well done, with the exception of
> foreign keys
> > IMO) why does it take so many queries to do so little?
> 
> 
> Normalization increases the complexity of data retrieval, and therefore
> the
> complexity of the queries necessary.  The point of normalization is not
> to
> simplify but to promote data integrity.  With that level of complexity,
> either you have to perform more queries, or more join operations within
> your
> queries.  The WP API discourages joins, generally.  That is why it
> takes 20
> queries to do so little.
> 
> You would have to begin de-normalizing the database, or consider using
> views, to reduce the number of queries per page without cutting
> features.
> 
> I think if WP ever gets a database abstraction layer - even if it's
> > something as heavy as MDB2/PearDB - it'll perform *better* since a
> hell of a
> > lot of queries will be consolidated.
> 
> 
> I doubt that.  I seriously doubt that.  Especially because it makes it
> harder to perform the optimal joins for the current context.
> Abstractions
> in the middleware defeat the value of the RDBMS.  That is just the way
> it is
> in my experience.
> 
> I would love to know why I am wrong.
> 
> --
> SteveL
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From theapparatus at gmail.com  Mon Apr  9 20:01:59 2007
From: theapparatus at gmail.com (Dr. Mike Wendell)
Date: Mon Apr  9 20:02:07 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <461A975C.3080107@linux.ie>
References: <461A5732.1050704@cruciverb.com>
	<f1cf41430704090826s6e4630e4ufc42eb7e8615c8a0@mail.gmail.com>
	<461A975C.3080107@linux.ie>
Message-ID: <f1cf41430704091301m1d550eb5s3323e22c019e1920@mail.gmail.com>

On 4/9/07, Donncha O Caoimh <donncha@linux.ie> wrote:
> Dr. Mike Wendell wrote:
> This has been explained several times on the MU forums, but for a quick
> recap, the simplest way to use multiple databases is by running the
> blog_id through md5 and grabbing the first 3 characters. This gives you
> a possible 4096 databases, so create that number of databases which is
> where we'll store the data for individual blogs.
> We also need a global db for things like wp_blogs, wp_usermeta and other
> "global" tables.
> So, when a query comes in, if it's a global db query then send it there,
> otherwise grab the blog_id from the query, or simply use $wpdb->blogid,
> find the right db and send the query to that db.

I thought that's what we were doing for the upload subdirectories, no
the databases.  I don't remember that one ever being explained for the
databases.

Regards,
-drmike

-- 
Blog: http://drmikessteakdinner.com
Kim Possible: Remixed: http://kimpossibleremixed.com
Get your own free hosted WordPress Blog today: http://daria.be
From Brian at TheCodeCave.com  Mon Apr  9 20:18:14 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 20:12:00 2007
Subject: [wp-hackers] Consolidating database tables and other assorteditems
In-Reply-To: <b65af1a30704091256g23111e20o3840225cfb80b725@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F15@dsimail.drbsystems.com>

>> something as heavy as MDB2/PearDB - it'll perform *better* since a hell
of a
>> lot of queries will be consolidated.
> I doubt that.  I seriously doubt that.  Especially because it makes it
> harder to perform the optimal joins for the current context.  Abstractions
> in the middleware defeat the value of the RDBMS.  That is just the way it
is
> in my experience.
> I would love to know why I am wrong.

Expanding upon a reference in an earlier post, I lump ODBC in with the rest
of these abstraction layers.  It is great for gaining easy access to
everything, but there's a cost in performance.  Has ODBC matured (the word
of the day) enough in the last decade or so, so that there's very little
cost to it?  Certainly, if you have native access, you should use it.  Am I
wrong in that?

_______________________________________________
Brian Layman
http://www.TheCodeCave.com

From kmccann at cruciverb.com  Mon Apr  9 20:14:27 2007
From: kmccann at cruciverb.com (Kevin McCann)
Date: Mon Apr  9 20:16:47 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <461A975C.3080107@linux.ie>
References: <461A5732.1050704@cruciverb.com>	<f1cf41430704090826s6e4630e4ufc42eb7e8615c8a0@mail.gmail.com>
	<461A975C.3080107@linux.ie>
Message-ID: <461A9EA3.8030704@cruciverb.com>

Donncha O Caoimh wrote:
> This has been explained several times on the MU forums, but for a quick
> recap, the simplest way to use multiple databases is by running the
> blog_id through md5 and grabbing the first 3 characters. This gives you
> a possible 4096 databases, so create that number of databases which is
> where we'll store the data for individual blogs.
> We also need a global db for things like wp_blogs, wp_usermeta and other
> "global" tables.
> So, when a query comes in, if it's a global db query then send it there,
> otherwise grab the blog_id from the query, or simply use $wpdb->blogid,
> find the right db and send the query to that db.

Hi Donncha,

It was one of these forum threads that had me confused. Specifically it 
was in your mention of having 4,096 databases. But I think I understand 
now. You have multiple sites per database, not one database for each 
site, which is how we have Drupal set up. And the reason for doing this 
is to simply spread the data out. Do I follow? Now, let's say I do that, 
how hard will it be to tweak WPMU to do some interesting things like 
blog hierarchy (have a table with blog_id and blog_parent_id to 
establish relationships and then do fun stuff), permissions inheritance 
(if I can admin the company blog I can admin the child department blog), 
etc. The need for this kind of thing is why I always thought it would be 
optimal to have all data for all blogs in one huge honkin' database. 
Could you confirm the purpose of the 4096 databases (sorry, I'm not an 
expert at this type of thing).

Thanks,
Kevin
From Brian at TheCodeCave.com  Mon Apr  9 20:28:56 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr  9 20:22:47 2007
Subject: Replying to Lloyd (was RE: db tables + file system directory
	limitations was( Re:[wp-hackers] State of WP ))
In-Reply-To: <70ebb7140704091132y2fc7a1b1t6ade582f8ee9e815@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F17@dsimail.drbsystems.com>

Lloyd wrote:
> I think it is less a matter of thead vs flat, and more about as much
> as possible keeping a "thread" on a particular topic -- at least if
> you want anyone other than those passionately following a whole
> discussion to be able to contribute as the discussion meanders across
> topics ;-)

It's better than slight changes to the title with every single post. Then
you don't know what goes where,  because even Outlook groups emails by
subject. 

Anyway, I think we were still pretty close to Kevin's original topic of what
infrastructure would best suit his needs.  It was all conversation that
needed to happen and furthered his understanding (I hope) of the issues
involved.

IMHO

Cheers Lloyd,
_______________________________________________
Brian Layman
http://www.TheCodeCave.com
http://www.TheCodeCave.com/EasyWPUpgrade
 

From stevelle at gmail.com  Mon Apr  9 20:44:29 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Mon Apr  9 20:44:37 2007
Subject: [wp-hackers] Consolidating database tables and other assorted
	items
In-Reply-To: <001101c77ae1$98a68a70$c9f39f50$@net>
References: <a491f91d0704082239r79bb48c1rda15a7eca73fb93e@mail.gmail.com>
	<002c01c77a9f$3c6e5180$b54af480$@net>
	<b65af1a30704091256g23111e20o3840225cfb80b725@mail.gmail.com>
	<001101c77ae1$98a68a70$c9f39f50$@net>
Message-ID: <b65af1a30704091344s3a509108gcff8b5f0ea53843a@mail.gmail.com>

On 4/9/07, Computer Guru <computerguru@neosmart.net> wrote:
>
> I fully agree with all the points your making with regards to query
> complexity..
> But I firmly believe that the slight overhead introduced by database
> abstraction is more than made up for by the more streamlined queries.
> Obviously streamlined queries w/o database abstraction is even better, but
> 1
> statement with 2 joins is by far much more efficient than 4 queries....
>

Hey, I'll back you upon that one. I have toyed with generating an relational
mapping accessory to help optimize join behaviors but haven't resolved a
couple of the challenges yet.  As has been noted, retrofitting something
like that into WP to improve performance without sacrificing the existing
encapsulations would be more than a little challenging. :D

As for DB abstraction or no, maintainability and performance optimization
tend to be conflicting goals.  Abstractions help us as developers, they
don't improve performance.  I will happily trade some performance for
maintainability, and aside from wanting to see joins performed more
frequently by WP's API I think WP strikes a good balance.  Better caching is
the single most important thing that WP can do to be more digg-proof out of
the box, and I understand why there is resistance to adding WP-Cache to the
core.

-- 
SteveL
From stevelle at gmail.com  Mon Apr  9 20:49:10 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Mon Apr  9 20:49:15 2007
Subject: [wp-hackers] Consolidating database tables and other assorteditems
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F15@dsimail.drbsystems.com>
References: <b65af1a30704091256g23111e20o3840225cfb80b725@mail.gmail.com>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F15@dsimail.drbsystems.com>
Message-ID: <b65af1a30704091349i4d23182fs5e48b62a6447f289@mail.gmail.com>

On 4/9/07, Brian Layman <Brian@thecodecave.com> wrote:
>
> Expanding upon a reference in an earlier post, I lump ODBC in with the
> rest
> of these abstraction layers.  It is great for gaining easy access to
> everything, but there's a cost in performance.  Has ODBC matured (the word


I am not a big fan of ODBC because I don't know that I find enough value
provided by ODBC.  That has more to do with my common problem space then the
legitimacy of ODBC.

-- 
SteveL
From lloydomattic at gmail.com  Mon Apr  9 21:02:53 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Mon Apr  9 21:03:02 2007
Subject: Replying to Lloyd (was RE: db tables + file system directory
	limitations was( Re:[wp-hackers] State of WP ))
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F17@dsimail.drbsystems.com>
References: <70ebb7140704091132y2fc7a1b1t6ade582f8ee9e815@mail.gmail.com>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F17@dsimail.drbsystems.com>
Message-ID: <70ebb7140704091402h96af15ega12328599eedfb38@mail.gmail.com>

On 4/9/07, Brian Layman <Brian@thecodecave.com> wrote:
> Lloyd wrote:
> > I think it is less a matter of thead vs flat, and more about as much
> > as possible keeping a "thread" on a particular topic -- at least if
> > you want anyone other than those passionately following a whole
> > discussion to be able to contribute as the discussion meanders across
> > topics ;-)
>
> It's better than slight changes to the title with every single post. Then
> you don't know what goes where,  because even Outlook groups emails by
> subject.
>
> Anyway, I think we were still pretty close to Kevin's original topic of what
> infrastructure would best suit his needs.  It was all conversation that
> needed to happen and furthered his understanding (I hope) of the issues
> involved.
>
> IMHO
>
> Cheers Lloyd,

Whatever suits you, but an emails with subject like "Replying to
Lloyd" or "State of WP" I am a lot less likely to read or continue to
follow on a developer mailing list because it does not follow mailing
list netiquette.

Cheers,
-- 
Lloyd Budd | Digital Entomologist | 250-885-1744
WordPress.com | WordPress.org | Automattic.com
From computerguru at neosmart.net  Mon Apr  9 21:29:17 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr  9 21:30:13 2007
Subject: Replying to Lloyd (was RE: db tables + file system
	directory	limitations was( Re:[wp-hackers] State of WP ))
In-Reply-To: <70ebb7140704091402h96af15ega12328599eedfb38@mail.gmail.com>
References: <70ebb7140704091132y2fc7a1b1t6ade582f8ee9e815@mail.gmail.com>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F17@dsimail.drbsystems.com>
	<70ebb7140704091402h96af15ega12328599eedfb38@mail.gmail.com>
Message-ID: <001201c77aee$3b44fad0$b1cef070$@net>

I believe each list defines its own netiquette, and that this is just the
"wp-hackers way" of doing things...

Cheers! :D

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Lloyd Budd
> Sent: Tuesday, April 10, 2007 12:03 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: Replying to Lloyd (was RE: db tables + file system
> directory limitations was( Re:[wp-hackers] State of WP ))
> 
> On 4/9/07, Brian Layman <Brian@thecodecave.com> wrote:
> > Lloyd wrote:
> > > I think it is less a matter of thead vs flat, and more about as
> much
> > > as possible keeping a "thread" on a particular topic -- at least if
> > > you want anyone other than those passionately following a whole
> > > discussion to be able to contribute as the discussion meanders
> across
> > > topics ;-)
> >
> > It's better than slight changes to the title with every single post.
> Then
> > you don't know what goes where,  because even Outlook groups emails
> by
> > subject.
> >
> > Anyway, I think we were still pretty close to Kevin's original topic
> of what
> > infrastructure would best suit his needs.  It was all conversation
> that
> > needed to happen and furthered his understanding (I hope) of the
> issues
> > involved.
> >
> > IMHO
> >
> > Cheers Lloyd,
> 
> Whatever suits you, but an emails with subject like "Replying to
> Lloyd" or "State of WP" I am a lot less likely to read or continue to
> follow on a developer mailing list because it does not follow mailing
> list netiquette.
> 
> Cheers,
> --
> Lloyd Budd | Digital Entomologist | 250-885-1744
> WordPress.com | WordPress.org | Automattic.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mywebadmin at gmail.com  Mon Apr  9 22:25:14 2007
From: mywebadmin at gmail.com (Liang Jin)
Date: Mon Apr  9 22:25:20 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <f1cf41430704091301m1d550eb5s3323e22c019e1920@mail.gmail.com>
References: <461A5732.1050704@cruciverb.com>
	<f1cf41430704090826s6e4630e4ufc42eb7e8615c8a0@mail.gmail.com>
	<461A975C.3080107@linux.ie>
	<f1cf41430704091301m1d550eb5s3323e22c019e1920@mail.gmail.com>
Message-ID: <120437580704091525v622f3b7v942d7973814abe32@mail.gmail.com>

Hi, Dr. Mike

I think probably it would be useful to get Donncha's comment here into
the MU forum thread as follows:

http://mu.wordpress.org/forums/topic.php?id=1343

Best,

-Liang Jin
(kingler)

On 4/9/07, Dr. Mike Wendell <theapparatus@gmail.com> wrote:
> I thought that's what we were doing for the upload subdirectories, no
> the databases.  I don't remember that one ever being explained for the
> databases.
>
> Regards,
> -drmike
>
From ryan at boren.nu  Mon Apr  9 22:37:17 2007
From: ryan at boren.nu (Ryan Boren)
Date: Mon Apr  9 22:37:23 2007
Subject: [wp-hackers] Bug Hunt this Tuesday/Wednesday
Message-ID: <bb0886ed0704091537i72fd294dy7971aaa8f8f425b5@mail.gmail.com>

Cross-posted to hackers and testers.

http://codex.wordpress.org/WordPress_Bug_Hunts

http://www.timeanddate.com/worldclock/fixedtime.html?month=4&day=11&year=2007&hour=1&min=0&sec=0&p1=0,,

We'll focus on getting 2.2 ready for beta during this hunt.  Tagging
needs a lot of testing, including the UTW importer and the category to
tag migrator.

Ryan
From nbachiyski at developer.bg  Tue Apr 10 15:27:00 2007
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Tue Apr 10 15:30:07 2007
Subject: [wp-hackers] Timezone in RSS feeds
Message-ID: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>

Hello,

Is there any particular reason that the feeds doesn't include the real
post time and the GMT offset, but only the GMT time? For example in my

I remember there was a reason, however I could neither recall it,
neither find it in the archives.

Nikolay.
From andrew at fergcorp.com  Tue Apr 10 15:34:16 2007
From: andrew at fergcorp.com (Andrew Ferguson)
Date: Tue Apr 10 15:34:27 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>
Message-ID: <628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>

My guess is that since the RSS specification only has pubDate as its time
specification (which needs to be formated per RFC 822) [1] you can't really
have a "real time" posted element. Well, you could, but it wouldn't be used
by any aggregator.

-Andrew

[1] http://blogs.law.harvard.edu/tech/rss#requiredChannelElements

On 4/10/07, Nikolay Bachiyski <nbachiyski@developer.bg> wrote:
>
> Hello,
>
> Is there any particular reason that the feeds doesn't include the real
> post time and the GMT offset, but only the GMT time? For example in my
>
> I remember there was a reason, however I could neither recall it,
> neither find it in the archives.
>
> Nikolay.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From computerguru at neosmart.net  Tue Apr 10 15:51:24 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 10 15:51:51 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>
Message-ID: <000001c77b88$1a1aa130$4e4fe390$@net>

The idea is that everyone's individual RSS reader will auto-format the time field to match the correct value.

You need to keep in mind that RSS isn't supposed to be read raw or even "parsed" by Firefox or IE7 - most people access feeds via a desktop or web interface, and those take care of all the details for each individual viewer :)

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Nikolay Bachiyski
> Sent: Tuesday, April 10, 2007 6:27 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] Timezone in RSS feeds
> 
> Hello,
> 
> Is there any particular reason that the feeds doesn't include the real
> post time and the GMT offset, but only the GMT time? For example in my
> 
> I remember there was a reason, however I could neither recall it,
> neither find it in the archives.
> 
> Nikolay.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From foolistbar at googlemail.com  Tue Apr 10 15:51:35 2007
From: foolistbar at googlemail.com (Geoffrey Sneddon)
Date: Tue Apr 10 15:51:55 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>
	<628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>
Message-ID: <E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>


On 10 Apr 2007, at 16:34, Andrew Ferguson wrote:

> My guess is that since the RSS specification only has pubDate as  
> its time
> specification (which needs to be formated per RFC 822) [1] you  
> can't really
> have a "real time" posted element. Well, you could, but it wouldn't  
> be used
> by any aggregator.

I can't think of any aggregator that doesn't support the timezone  
offset? There are those that treat all military timezones as ?0000,  
but that's due to RFC822 mis-defining them. Any aggregator that  
doesn't support the timezone offset is just badly coded. It _really_  
isn't hard to support.


- Geoffrey Sneddon


From foolistbar at googlemail.com  Tue Apr 10 16:03:43 2007
From: foolistbar at googlemail.com (Geoffrey Sneddon)
Date: Tue Apr 10 16:03:56 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <000001c77b88$1a1aa130$4e4fe390$@net>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>
	<000001c77b88$1a1aa130$4e4fe390$@net>
Message-ID: <6FD2D78E-2B51-4891-9CD6-69B6D9E7ADC7@googlemail.com>


On 10 Apr 2007, at 16:51, Computer Guru wrote:

> The idea is that everyone's individual RSS reader will auto-format  
> the time field to match the correct value.
>
> You need to keep in mind that RSS isn't supposed to be read raw or  
> even "parsed" by Firefox or IE7 - most people access feeds via a  
> desktop or web interface, and those take care of all the details  
> for each individual viewer :)
>
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/

Huh? The only difference is what the timezone is raw in the feed  
before it is converted by the feed reader. Why can't the date be in  
the blog timezone then converted from that in the feed reader,  
instead of from GMT?


- Geoffrey Sneddon


From computerguru at neosmart.net  Tue Apr 10 16:08:17 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 10 16:08:45 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <6FD2D78E-2B51-4891-9CD6-69B6D9E7ADC7@googlemail.com>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<000001c77b88$1a1aa130$4e4fe390$@net>
	<6FD2D78E-2B51-4891-9CD6-69B6D9E7ADC7@googlemail.com>
Message-ID: <000101c77b8a$75cbeaf0$6163c0d0$@net>

You're not understanding my point.

RSS feeds are supposed to be machine-readable universable syndication
formats.
When dealing with standards and humans don't have to read what's there, you
serve as little info as possible that can be translated to give the complete
picture, and wherever you can, you stick to the "base" formats.

Your blog serves UTC time == it doesn't have to serve the current time + the
UTC offset.

So long as the feed readers are doing the conversion, why should your blog
have to bother with UTC offsets, DST, multiple TZs, user-specific TZ, etc.

RSS isn't HTML - humans aren't meant to read it directly. Therefore, it
shouldn't matter *what* your blog serves, so long as the feed readers
properly convert and display the end result to your subscribers.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Geoffrey Sneddon
> Sent: Tuesday, April 10, 2007 7:04 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Timezone in RSS feeds
> 
> 
> On 10 Apr 2007, at 16:51, Computer Guru wrote:
> 
> > The idea is that everyone's individual RSS reader will auto-format
> > the time field to match the correct value.
> >
> > You need to keep in mind that RSS isn't supposed to be read raw or
> > even "parsed" by Firefox or IE7 - most people access feeds via a
> > desktop or web interface, and those take care of all the details
> > for each individual viewer :)
> >
> > Computer Guru
> > NeoSmart Technologies
> > http://neosmart.net/blog/
> 
> Huh? The only difference is what the timezone is raw in the feed
> before it is converted by the feed reader. Why can't the date be in
> the blog timezone then converted from that in the feed reader,
> instead of from GMT?
> 
> 
> - Geoffrey Sneddon
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From nbachiyski at developer.bg  Tue Apr 10 16:32:37 2007
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Tue Apr 10 16:32:46 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>
	<628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>
	<E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>
Message-ID: <56f01e000704100932x62339cc5uc1a42947d1d658a8@mail.gmail.com>

2007/4/10, Computer Guru <computerguru@neosmart.net>:
> The idea is that everyone's individual RSS reader will auto-format the time field to
> matchthe correct value.

2007/4/10, Geoffrey Sneddon <foolistbar@googlemail.com>:
> I can't think of any aggregator that doesn't support the timezone
> offset?

I think you are both right. Usually aggregators don't have problems
parsing a valid RFC822 date and in fact it doesn't matter if we give
them a GMT or a "-1144" date. Thus GMT is a perfect choice. However I
have this awkward feeling of losing the real posting time.

<sigh> I know everybody will see the time of my posting reflected
through the prism of her aggrerator, but I would feel better if I know
that the midnight hour, I had finished my writing in, hasn't
evaporated in those endless timezone battlefields.</sigh>

Happy hacking,
Nikolay.
From computerguru at neosmart.net  Tue Apr 10 16:36:55 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 10 16:37:12 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <56f01e000704100932x62339cc5uc1a42947d1d658a8@mail.gmail.com>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>	<E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>
	<56f01e000704100932x62339cc5uc1a42947d1d658a8@mail.gmail.com>
Message-ID: <000801c77b8e$7553ff00$5ffbfd00$@net>

Just to point out one more thing: 
People don't generally care about the exact time of publishing - strictly speaking.
What matters is read vs. unread, what this links to, what links here, and of course, the content of the article itself.

I'm still appalled by the fact that WP 2.1 absolutely refuses to send the full content of articles, choosing to cut off after <!--more--> instead. How many people have to say that they refuse to read non-complete feeds for WP to realize that it needs a "full text" option, I don't know.

Here's my workaround to that issue: http://neosmart.net/dl.php?id=2

Maybe WordPress 2.2 can revert to 2.0 feed behavior? *hopeful*

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Nikolay Bachiyski
> Sent: Tuesday, April 10, 2007 7:33 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Timezone in RSS feeds
> 
> 2007/4/10, Computer Guru <computerguru@neosmart.net>:
> > The idea is that everyone's individual RSS reader will auto-format
> the
> > time field to matchthe correct value.
> 
> 2007/4/10, Geoffrey Sneddon <foolistbar@googlemail.com>:
> > I can't think of any aggregator that doesn't support the timezone
> > offset?
> 
> I think you are both right. Usually aggregators don't have problems
> parsing a valid RFC822 date and in fact it doesn't matter if we give
> them a GMT or a "-1144" date. Thus GMT is a perfect choice. However I
> have this awkward feeling of losing the real posting time.
> 
> <sigh> I know everybody will see the time of my posting reflected
> through the prism of her aggrerator, but I would feel better if I know
> that the midnight hour, I had finished my writing in, hasn't evaporated
> in those endless timezone battlefields.</sigh>
> 
> 
> Happy hacking,
> Nikolay.

From james at freecharity.org.uk  Tue Apr 10 16:41:48 2007
From: james at freecharity.org.uk (James Davis)
Date: Tue Apr 10 16:42:08 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <000801c77b8e$7553ff00$5ffbfd00$@net>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>	<E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>	<56f01e000704100932x62339cc5uc1a42947d1d658a8@mail.gmail.com>
	<000801c77b8e$7553ff00$5ffbfd00$@net>
Message-ID: <461BBE4C.5030702@freecharity.org.uk>

Computer Guru wrote:

> I'm still appalled by the fact that WP 2.1 absolutely refuses to send the full content of articles, choosing to cut off after <!--more--> instead. How many people have to say that they refuse to read non-complete feeds for WP to realize that it needs a "full text" option, I don't know.

Is there a bug report for this? I'd be interested to read it, it's not
something I'd thought about before and it may be affecting some of my
WordPress installs.

James

-- 
http://www.freecharity.org.uk/ - Free IT services for charities
http://www.freecharity.org.uk/wiki/ - The VCSWiki
From elharo at metalab.unc.edu  Tue Apr 10 16:46:49 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Tue Apr 10 16:47:03 2007
Subject: [wp-hackers] Editor button cusotmizations
Message-ID: <461BBF79.1020303@metalab.unc.edu>

The regular button bar for the non-WYSIWTG editor (b, i, link, b-quote, 
del, ins, etc.) doesn't work too well for me. There are some buttons 
there I never use and some missing tags I use all the time.

Would it be plausible to modify this list with a plug-in? I.e are there 
sufficient hook to write a WordPress plug-in that changes these? Or 
would it require forking the main code base?

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From zamoose at gmail.com  Tue Apr 10 16:51:40 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Tue Apr 10 16:54:56 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <461BBE4C.5030702@freecharity.org.uk>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>
	<628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>
	<E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>
	<56f01e000704100932x62339cc5uc1a42947d1d658a8@mail.gmail.com>
	<000801c77b8e$7553ff00$5ffbfd00$@net>
	<461BBE4C.5030702@freecharity.org.uk>
Message-ID: <71ddd7490704100951l39bc930bu187ef34f00efe595@mail.gmail.com>

On 4/10/07, James Davis <james@freecharity.org.uk> wrote:
> Computer Guru wrote:
>
> > I'm still appalled by the fact that WP 2.1 absolutely refuses to send the full content of articles, choosing to cut off after <!--more--> instead. How many people have to say that they refuse to read non-complete feeds for WP to realize that it needs a "full text" option, I don't know.
>
> Is there a bug report for this? I'd be interested to read it, it's not
> something I'd thought about before and it may be affecting some of my
> WordPress installs.

See http://trac.wordpress.org/ticket/2582 for a ticket.

-- 
-Doug

http://literalbarrage.org/blog/
From computerguru at neosmart.net  Tue Apr 10 16:52:58 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 10 16:55:32 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <461BBE4C.5030702@freecharity.org.uk>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>	<E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>	<56f01e000704100932x62339cc5uc1a42947d1d658a8@mail.gmail.com>	<000801c77b8e$7553ff00$5ffbfd00$@net>
	<461BBE4C.5030702@freecharity.org.uk>
Message-ID: <000901c77b90$b45cdbc0$1d169340$@net>

No.
I questioned it several times here in the list, but I was told it "was agreed upon" and that WP 2.0's serving of full feeds was wrong (not in so many words, but...).

CompleteRSS basically forces complete feed content, no matter what your WP settings are and regardless of whether or not you use <!--more--> breakers in your post. Basically, WP 2.0 behavior + enforcement..

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of James Davis
> Sent: Tuesday, April 10, 2007 7:42 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Timezone in RSS feeds
> 
> Computer Guru wrote:
> 
> > I'm still appalled by the fact that WP 2.1 absolutely refuses to send
> the full content of articles, choosing to cut off after <!--more-->
> instead. How many people have to say that they refuse to read non-
> complete feeds for WP to realize that it needs a "full text" option, I
> don't know.
> 
> Is there a bug report for this? I'd be interested to read it, it's not
> something I'd thought about before and it may be affecting some of my
> WordPress installs.
> 
> James
> 
> --
> http://www.freecharity.org.uk/ - Free IT services for charities
> http://www.freecharity.org.uk/wiki/ - The VCSWiki
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From les at lcb.me.uk  Tue Apr 10 16:55:03 2007
From: les at lcb.me.uk (Les Bessant)
Date: Tue Apr 10 16:56:47 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <461BBF79.1020303@metalab.unc.edu>
References: <461BBF79.1020303@metalab.unc.edu>
Message-ID: <00f101c77b90$fcb2c5b0$f6185110$@me.uk>

There's a plugin for adding QuickTags, but I've never seen one for removing unwanted ones, which requires an edit of quicktags.js. Simple enough to do, and it's only one file to remember when you upgrade, but a full plugin solution would be better

The WP 2.1 version of WP-AddQuicktags is in German http://bueltge.de/wp-addquicktags-de-plugin/120

I chopped it back into English for my own use. I think I saw someone had published an English version, but I don't recall where.


Les Bessant les@lcb.me.uk
Losing it[1] - http://lcb.me.uk
My flickr pictures - http://flickr.com/photos/lesbessant/


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Elliotte Harold
Sent: 10 April 2007 17:47
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] Editor button cusotmizations

The regular button bar for the non-WYSIWTG editor (b, i, link, b-quote, 
del, ins, etc.) doesn't work too well for me. There are some buttons 
there I never use and some missing tags I use all the time.

Would it be plausible to modify this list with a plug-in? I.e are there 
sufficient hook to write a WordPress plug-in that changes these? Or 
would it require forking the main code base?

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From if.website at gmail.com  Tue Apr 10 16:57:53 2007
From: if.website at gmail.com (Austin Matzko)
Date: Tue Apr 10 17:02:28 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <461BBF79.1020303@metalab.unc.edu>
References: <461BBF79.1020303@metalab.unc.edu>
Message-ID: <674b4a3b0704100957n2cf61ae6we57fdb92f8db7691@mail.gmail.com>

On 4/10/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> Would it be plausible to modify this list with a plug-in? I.e are there
> sufficient hook to write a WordPress plug-in that changes these? Or
> would it require forking the main code base?

It's fairly simple with a little JavaScript.  Take a look at the
wp-includes/js/quicktags.js file to see how to create new buttons
(basically define a new edButton); The buttons are all children of a
div with id "ed_toolbar", so once you grab it you can append and
remove buttons.
From codehooligans at codehooligans.com  Tue Apr 10 17:00:02 2007
From: codehooligans at codehooligans.com (Paul Menard)
Date: Tue Apr 10 17:02:58 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <461BBF79.1020303@metalab.unc.edu>
References: <461BBF79.1020303@metalab.unc.edu>
Message-ID: <F50DE0A0-DDE9-4236-BDD7-3D520F129A87@codehooligans.com>

Actually I just wrote a plugin that allows you to create your own  
button bars. Yes not the plural on bars. There are actually 3 rows or  
bars available to you. check this plugin.
http://www.codehooligans.com/2007/03/19/wysiwyg-button-manager-for- 
wordpress/

The interface for managing the buttons is not all that pretty yet.  
But the nice feature included is the ability to set specific WYSIWYG  
panels for each user. I still need to work on adding a list of  
features but the basics are there.

Paul



On Apr 10, 2007, at 11:46 AM, Elliotte Harold wrote:

> The regular button bar for the non-WYSIWTG editor (b, i, link, b- 
> quote, del, ins, etc.) doesn't work too well for me. There are some  
> buttons there I never use and some missing tags I use all the time.
>
> Would it be plausible to modify this list with a plug-in? I.e are  
> there sufficient hook to write a WordPress plug-in that changes  
> these? Or would it require forking the main code base?
>
> -- 
> Elliotte Rusty Harold  elharo@metalab.unc.edu
> Java I/O 2nd Edition Just Published!
> http://www.cafeaulait.org/books/javaio2/
> http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/ 
> cafeaulaitA/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From elharo at metalab.unc.edu  Tue Apr 10 17:18:02 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Tue Apr 10 17:18:16 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <461BBE4C.5030702@freecharity.org.uk>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>	<E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>	<56f01e000704100932x62339cc5uc1a42947d1d658a8@mail.gmail.com>	<000801c77b8e$7553ff00$5ffbfd00$@net>
	<461BBE4C.5030702@freecharity.org.uk>
Message-ID: <461BC6CA.9090803@metalab.unc.edu>

James Davis wrote:
> Computer Guru wrote:
> 
>> I'm still appalled by the fact that WP 2.1 absolutely refuses to send the full content of articles, choosing to cut off after <!--more--> instead. How many people have to say that they refuse to read non-complete feeds for WP to realize that it needs a "full text" option, I don't know.
> 

FYI, I've hacked Benjamin Smedberg's Atom 1.0 plug-in to make this a 
per-site configurable option and submitted the changes back to that 
plug-in author. I don't think he's incorporated them yet, though. It 
would be nice to make this a per-post option as well.

If people are really interested I could zip up and publish my version 
until he does.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From computerguru at neosmart.net  Tue Apr 10 16:58:21 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 10 17:35:13 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <461BBF79.1020303@metalab.unc.edu>
References: <461BBF79.1020303@metalab.unc.edu>
Message-ID: <000a01c77b91$73dbfda0$5b93f8e0$@net>

Forking the main code base just to remove a couple of buttons!?

No need for drastic action: there are more than enough hooks in the post form to do whatever you like with the post box.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Elliotte Harold
> Sent: Tuesday, April 10, 2007 7:47 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] Editor button cusotmizations
> 
> The regular button bar for the non-WYSIWTG editor (b, i, link, b-quote,
> del, ins, etc.) doesn't work too well for me. There are some buttons
> there I never use and some missing tags I use all the time.
> 
> Would it be plausible to modify this list with a plug-in? I.e are there
> sufficient hook to write a WordPress plug-in that changes these? Or
> would it require forking the main code base?
> 
> --
> ?Elliotte Rusty Harold  elharo@metalab.unc.edu
> Java I/O 2nd Edition Just Published!
> http://www.cafeaulait.org/books/javaio2/
> http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA
> /
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From computerguru at neosmart.net  Tue Apr 10 17:42:57 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 10 17:43:20 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <461BC6CA.9090803@metalab.unc.edu>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>	<E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>	<56f01e000704100932x62339cc5uc1a42947d1d658a8@mail.gmail.com>	<000801c77b8e$7553ff00$5ffbfd00$@net>	<461BBE4C.5030702@freecharity.org.uk>
	<461BC6CA.9090803@metalab.unc.edu>
Message-ID: <000b01c77b97$aea0a430$0be1ec90$@net>

Please do so! :)

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Elliotte Harold
> Sent: Tuesday, April 10, 2007 8:18 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Timezone in RSS feeds
> 
> James Davis wrote:
> > Computer Guru wrote:
> >
> >> I'm still appalled by the fact that WP 2.1 absolutely refuses to
> send the full content of articles, choosing to cut off after <!--more--
> > instead. How many people have to say that they refuse to read non-
> complete feeds for WP to realize that it needs a "full text" option, I
> don't know.
> >
> 
> FYI, I've hacked Benjamin Smedberg's Atom 1.0 plug-in to make this a
> per-site configurable option and submitted the changes back to that
> plug-in author. I don't think he's incorporated them yet, though. It
> would be nice to make this a per-post option as well.
> 
> If people are really interested I could zip up and publish my version
> until he does.
> 
> --
> ?Elliotte Rusty Harold  elharo@metalab.unc.edu
> Java I/O 2nd Edition Just Published!
> http://www.cafeaulait.org/books/javaio2/
> http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA
> /
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From iacobs at m0n5t3r.info  Tue Apr 10 17:57:18 2007
From: iacobs at m0n5t3r.info (Sabin Iacob)
Date: Tue Apr 10 17:57:39 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <000801c77b8e$7553ff00$5ffbfd00$@net>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>	<E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>	<56f01e000704100932x62339cc5uc1a42947d1d658a8@mail.gmail.com>
	<000801c77b8e$7553ff00$5ffbfd00$@net>
Message-ID: <461BCFFE.4090906@m0n5t3r.info>

Computer Guru wrote:
> I'm still appalled by the fact that WP 2.1 absolutely refuses to send the full content of articles, choosing to cut off after <!--more--> instead. How many people have to say that they refuse to read non-complete feeds for WP to realize that it needs a "full text" option, I don't know.
>   

see, it appears that hardcore bloggers are very territorial about their 
ramblings and are afraid someone would "steal" their masterpieces 
through RSS (I've met that attitude in "artist" photographers, too, btw; 
I saw one that was extremely pissed off at a soccer fan that had put one 
of his (publicly available) photos on his favourite team's fan forum, 
although the poor kid had given him full credit and tons of praises) :o)

From computerguru at neosmart.net  Tue Apr 10 18:02:21 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 10 18:02:41 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <461BCFFE.4090906@m0n5t3r.info>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<628687b30704100834v5532c9fate4285ac098856272@mail.gmail.com>	<E8A778EE-8896-42E0-9D2B-29B90BFF7E40@googlemail.com>	<56f01e000704100932x62339cc5uc1a42947d1d658a8@mail.gmail.com>	<000801c77b8e$7553ff00$5ffbfd00$@net>
	<461BCFFE.4090906@m0n5t3r.info>
Message-ID: <000c01c77b9a$64b804f0$2e280ed0$@net>

That's why WP has *always* offered an option to serve summaries - even back in 2.0.

The only difference now is, WP *always* serves summaries/teasers - and that's just plain stupid.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Sabin Iacob
> Sent: Tuesday, April 10, 2007 8:57 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Timezone in RSS feeds
> 
> Computer Guru wrote:
> > I'm still appalled by the fact that WP 2.1 absolutely refuses to send
> the full content of articles, choosing to cut off after <!--more-->
> instead. How many people have to say that they refuse to read non-
> complete feeds for WP to realize that it needs a "full text" option, I
> don't know.
> >
> 
> see, it appears that hardcore bloggers are very territorial about their
> ramblings and are afraid someone would "steal" their masterpieces
> through RSS (I've met that attitude in "artist" photographers, too,
> btw;
> I saw one that was extremely pissed off at a soccer fan that had put
> one
> of his (publicly available) photos on his favourite team's fan forum,
> although the poor kid had given him full credit and tons of praises)
> :o)
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From foolistbar at googlemail.com  Tue Apr 10 20:26:19 2007
From: foolistbar at googlemail.com (Geoffrey Sneddon)
Date: Tue Apr 10 20:26:33 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <000101c77b8a$75cbeaf0$6163c0d0$@net>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<000001c77b88$1a1aa130$4e4fe390$@net>
	<6FD2D78E-2B51-4891-9CD6-69B6D9E7ADC7@googlemail.com>
	<000101c77b8a$75cbeaf0$6163c0d0$@net>
Message-ID: <3065B35E-3EED-4CF6-AA61-AF4944DA359B@googlemail.com>


On 10 Apr 2007, at 17:08, Computer Guru wrote:

> You're not understanding my point.

I understand it well.

>
> RSS feeds are supposed to be machine-readable universable syndication
> formats.

I know ? I'm the author of a feed parser library (SimplePie) with  
thousands of users.

> When dealing with standards and humans don't have to read what's  
> there, you
> serve as little info as possible that can be translated to give the  
> complete
> picture, and wherever you can, you stick to the "base" formats.

The complete picture would be telling the user what timezone the item  
was published in.

>
> Your blog serves UTC time == it doesn't have to serve the current  
> time + the
> UTC offset.
>
> So long as the feed readers are doing the conversion, why should  
> your blog
> have to bother with UTC offsets, DST, multiple TZs, user-specific  
> TZ, etc.

It gives further information that the user may want. It doesn't cost  
WP anything to give the extra information (?[0-9]{4} is a single  
character longer than \x20GMT).


- Geoffrey Sneddon


From computerguru at neosmart.net  Tue Apr 10 20:32:45 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 10 20:34:09 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <3065B35E-3EED-4CF6-AA61-AF4944DA359B@googlemail.com>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<000001c77b88$1a1aa130$4e4fe390$@net>	<6FD2D78E-2B51-4891-9CD6-69B6D9E7ADC7@googlemail.com>	<000101c77b8a$75cbeaf0$6163c0d0$@net>
	<3065B35E-3EED-4CF6-AA61-AF4944DA359B@googlemail.com>
Message-ID: <000d01c77baf$677ae8f0$3670bad0$@net>

OK, then you should understand fully why it doesn't matter to the end user
what timezone it was published in.

I'm in +2 GMT. I don't give a damn whether Scoble was having lunch or dinner
when he made his last post - All I care is when it was published. 

UTC is the universal base standard for times. Hence, it's only natural that
it *and only it* should be in the feed.

I don't what a user would benefit in knowing what the local time was for the
person doing the publishing. RSS feeds are served to the user, everything
tailored to fit... So why not the timezone too?

Why break standards and conventions for something as pointless as local TZ
data?

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Geoffrey Sneddon
> Sent: Tuesday, April 10, 2007 11:26 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Timezone in RSS feeds
> 
> 
> On 10 Apr 2007, at 17:08, Computer Guru wrote:
> 
> > You're not understanding my point.
> 
> I understand it well.
> 
> >
> > RSS feeds are supposed to be machine-readable universable syndication
> > formats.
> 
> I know ? I'm the author of a feed parser library (SimplePie) with
> thousands of users.
> 
> > When dealing with standards and humans don't have to read what's
> > there, you
> > serve as little info as possible that can be translated to give the
> > complete
> > picture, and wherever you can, you stick to the "base" formats.
> 
> The complete picture would be telling the user what timezone the item
> was published in.
> 
> >
> > Your blog serves UTC time == it doesn't have to serve the current
> > time + the
> > UTC offset.
> >
> > So long as the feed readers are doing the conversion, why should
> > your blog
> > have to bother with UTC offsets, DST, multiple TZs, user-specific
> > TZ, etc.
> 
> It gives further information that the user may want. It doesn't cost
> WP anything to give the extra information (?[0-9]{4} is a single
> character longer than \x20GMT).
> 
> 
> - Geoffrey Sneddon
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From foolistbar at googlemail.com  Tue Apr 10 20:45:16 2007
From: foolistbar at googlemail.com (Geoffrey Sneddon)
Date: Tue Apr 10 20:45:24 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <000d01c77baf$677ae8f0$3670bad0$@net>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<000001c77b88$1a1aa130$4e4fe390$@net>	<6FD2D78E-2B51-4891-9CD6-69B6D9E7ADC7@googlemail.com>	<000101c77b8a$75cbeaf0$6163c0d0$@net>
	<3065B35E-3EED-4CF6-AA61-AF4944DA359B@googlemail.com>
	<000d01c77baf$677ae8f0$3670bad0$@net>
Message-ID: <02AA4C50-1B89-46A7-AE8B-5F23CB7D30A5@googlemail.com>


On 10 Apr 2007, at 21:32, Computer Guru wrote:

> OK, then you should understand fully why it doesn't matter to the  
> end user
> what timezone it was published in.

The fact that I'm arguing for it may mean I've had enough users ask  
to know.

> UTC is the universal base standard for times. Hence, it's only  
> natural that
> it *and only it* should be in the feed.

UTC != GMT. RFC 822 allows both. We currently use GMT.

> I don't what a user would benefit in knowing what the local time  
> was for the
> person doing the publishing. RSS feeds are served to the user,  
> everything
> tailored to fit... So why not the timezone too?

Well, as I've said, people want the data.

> Why break standards and conventions for something as pointless as  
> local TZ
> data?

What standards are we breaking? What conventions? There are no  
conventions, every feed does its own thing. TZ offsets are valid  
under RFC 822, so we aren't breaking any standards.


- Geoffrey Sneddon


From stevelle at gmail.com  Tue Apr 10 20:52:42 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Tue Apr 10 20:52:49 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <02AA4C50-1B89-46A7-AE8B-5F23CB7D30A5@googlemail.com>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>
	<000001c77b88$1a1aa130$4e4fe390$@net>
	<6FD2D78E-2B51-4891-9CD6-69B6D9E7ADC7@googlemail.com>
	<000101c77b8a$75cbeaf0$6163c0d0$@net>
	<3065B35E-3EED-4CF6-AA61-AF4944DA359B@googlemail.com>
	<000d01c77baf$677ae8f0$3670bad0$@net>
	<02AA4C50-1B89-46A7-AE8B-5F23CB7D30A5@googlemail.com>
Message-ID: <b65af1a30704101352o4ced6eadg4c22bab45e90447e@mail.gmail.com>

On 4/10/07, Geoffrey Sneddon <foolistbar@googlemail.com> wrote:
>
>
> The fact that I'm arguing for it may mean I've had enough users ask
> to know.


Is there a trac ticket for this, yet?

-- 
SteveL
From false.hopes at gmail.com  Tue Apr 10 21:32:28 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Apr 10 21:32:36 2007
Subject: [wp-hackers] Javascript Library
Message-ID: <a491f91d0704101432o52211c3h322fd679b36af67b@mail.gmail.com>

Is there one that is going to be the de-facto standard for the WP
stuff, especially the admin panel? Everyone's been talking about
jQuery like it would be but I don't recall seeing anything about it.
If it is, I've got a few patches to move some stuff to jQuery.

-- 
--Robert Deaton
http://lushlab.com
From lloydomattic at gmail.com  Tue Apr 10 21:36:07 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Tue Apr 10 21:36:13 2007
Subject: [wp-hackers] Javascript Library
In-Reply-To: <a491f91d0704101432o52211c3h322fd679b36af67b@mail.gmail.com>
References: <a491f91d0704101432o52211c3h322fd679b36af67b@mail.gmail.com>
Message-ID: <70ebb7140704101436k32f232e4v1b4050d8f32225eb@mail.gmail.com>

On 4/10/07, Robert Deaton <false.hopes@gmail.com> wrote:
> Is there one that is going to be the de-facto standard for the WP
> stuff, especially the admin panel? Everyone's been talking about
> jQuery like it would be but I don't recall seeing anything about it.
> If it is, I've got a few patches to move some stuff to jQuery.

The discussions that I have heard / read supports that. Most recently
I think it sounded like it was not all going to get done for 2.2

http://trac.wordpress.org/ticket/3824 relates

Hope that helps,
-- 
Lloyd Budd | Digital Entomologist | 250-885-1744
WordPress.com | WordPress.org | Automattic.com
From Brian at TheCodeCave.com  Tue Apr 10 23:13:36 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Tue Apr 10 23:13:42 2007
Subject: [wp-hackers] Javascript Library
In-Reply-To: <a491f91d0704101432o52211c3h322fd679b36af67b@mail.gmail.com>
Message-ID: <000601c77bc5$df31dff0$c864a8c0@tiger1>

> If it is, I've got a few patches to move some stuff to jQuery.

Robert, could you post here when you've submitted your patches?  I'd be
interested in seeing the changes.

I've already been through the diffs on the current ticket, but I'd like
to see more of how jQuery will be used. And I just might miss it in the
trac summaries.

--
--Robert Deaton
http://lushlab.com _______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From Brian at TheCodeCave.com  Tue Apr 10 23:16:15 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Tue Apr 10 23:16:20 2007
Subject: [wp-hackers] Javascript Library
In-Reply-To: <000601c77bc5$df31dff0$c864a8c0@tiger1>
Message-ID: <000701c77bc6$3d7901b0$c864a8c0@tiger1>

Sorry... I should have cut your sig from the end of that last message...


I wasn't intending to impersonate you.  ;)

From davebytes at comcast.net  Tue Apr 10 23:45:26 2007
From: davebytes at comcast.net (David Chait)
Date: Tue Apr 10 23:45:02 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <3065B35E-3EED-4CF6-AA61-AF4944DA359B@googlemail.com>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<000001c77b88$1a1aa130$4e4fe390$@net>	<6FD2D78E-2B51-4891-9CD6-69B6D9E7ADC7@googlemail.com>	<000101c77b8a$75cbeaf0$6163c0d0$@net>
	<3065B35E-3EED-4CF6-AA61-AF4944DA359B@googlemail.com>
Message-ID: <461C2196.30509@comcast.net>

As the author of yet-another feed parser library (CG-FeedRead), I 
generally have to agree with Geoffrey here.  The timestamps should be 
the same timestamps published on the blog itself, the data for those 
timestamps is in the db, shown to readers on the web, thus there's no 
"bother".  Converting from 'native TZ' to GMT is actually losing a bit 
of information (that arguably could be served up elsewhere in the feed, 
say the TZ of the blog as an element... but I digress... ;) ).  The data 
should be consistent whether it's on the web or via RSS or other format, 
as it is the same post/article/data in every case.  I'd say that while 
it's a seemingly less-important detail to 'retain' that extra piece of 
data, I see no reason why WP can't output it as normal.  All IMHO! ;) ;)

-d

Geoffrey Sneddon wrote:
> On 10 Apr 2007, at 17:08, Computer Guru wrote:
>> RSS feeds are supposed to be machine-readable universable syndication
>> formats.
>
> I know ? I'm the author of a feed parser library (SimplePie) with 
> thousands of users.
>
>> When dealing with standards and humans don't have to read what's 
>> there, you
>> serve as little info as possible that can be translated to give the 
>> complete
>> picture, and wherever you can, you stick to the "base" formats.
>
> The complete picture would be telling the user what timezone the item 
> was published in.
>
>> Your blog serves UTC time == it doesn't have to serve the current 
>> time + the
>> UTC offset.
>>
>> So long as the feed readers are doing the conversion, why should your 
>> blog
>> have to bother with UTC offsets, DST, multiple TZs, user-specific TZ, 
>> etc.
>
> It gives further information that the user may want. It doesn't cost 
> WP anything to give the extra information (?[0-9]{4} is a single 
> character longer than \x20GMT).
>
> - Geoffrey Sneddon

From false.hopes at gmail.com  Tue Apr 10 23:52:32 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Apr 10 23:52:38 2007
Subject: [wp-hackers] Javascript Library
In-Reply-To: <000601c77bc5$df31dff0$c864a8c0@tiger1>
References: <a491f91d0704101432o52211c3h322fd679b36af67b@mail.gmail.com>
	<000601c77bc5$df31dff0$c864a8c0@tiger1>
Message-ID: <a491f91d0704101652x44482a5bybc97be5b85014cdf@mail.gmail.com>

On 4/10/07, Brian Layman <Brian@thecodecave.com> wrote:
> > If it is, I've got a few patches to move some stuff to jQuery.
>
> Robert, could you post here when you've submitted your patches?  I'd be
> interested in seeing the changes.
>
> I've already been through the diffs on the current ticket, but I'd like
> to see more of how jQuery will be used. And I just might miss it in the
> trac summaries.

Actually, looking at the diffs, they're almost exactly what I had. I
didn't realize that stuff had patches to move it to jQuery already.
Mine are moot. :)


-- 
--Robert Deaton
http://lushlab.com
From Brian at TheCodeCave.com  Wed Apr 11 00:13:45 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Wed Apr 11 00:13:51 2007
Subject: [wp-hackers] Javascript Library
In-Reply-To: <a491f91d0704101652x44482a5bybc97be5b85014cdf@mail.gmail.com>
Message-ID: <000201c77bce$463e35b0$c864a8c0@tiger1>

On Behalf Of Robert Deaton
> Actually, looking at the diffs, they're almost exactly what I had. I
didn't realize that stuff had patches to > move it to jQuery already.
Mine are moot. :)

Ah, well...  At least one always learns more doing it themself.  I've
not looked at jQuery[1] before.  I have been examining qooxdoo[2]
lately, but it looks like the purposes of these two libraries are quite
different.  Whereas qooxdoo focuses upon visual implementation, it looks
like jQuery focuses upon source optimization.  At least that's what a
glance at the front pages seems to reveal.

______________________________________________
Brian Layman
http://www.TheCodeCave.com

[1] http://jquery.com/
[2] http://qooxdoo.org/ http://demo.qooxdoo.org/current/showcase

From lists07 at wiltgen.net  Wed Apr 11 02:54:51 2007
From: lists07 at wiltgen.net (Charles)
Date: Wed Apr 11 02:55:00 2007
Subject: [wp-hackers] Javascript Library
In-Reply-To: <000201c77bce$463e35b0$c864a8c0@tiger1>
References: <a491f91d0704101652x44482a5bybc97be5b85014cdf@mail.gmail.com>
	<000201c77bce$463e35b0$c864a8c0@tiger1>
Message-ID: <004501c77be4$cba55b00$62f01100$@net>

A small request:  Some of these libs play a little fast and loose, so I'd
appreciate if whoever's doing this would make sure that anything that gets
shipped in the core works with libs that do play well with others (like
YUI).

Thanks!

-- Charles


From robin.adr at gmail.com  Wed Apr 11 04:19:55 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Wed Apr 11 04:20:00 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <000a01c77b91$73dbfda0$5b93f8e0$@net>
References: <461BBF79.1020303@metalab.unc.edu>
	<000a01c77b91$73dbfda0$5b93f8e0$@net>
Message-ID: <d135ca9c0704102119n4be7d808n9e08d382d5d2899c@mail.gmail.com>

Yeah, forking seems like a drastic action. There are many filters and
actions (along with JavaScript methods) to add/remove buttons.

On 4/10/07, Computer Guru <computerguru@neosmart.net> wrote:
>
> Forking the main code base just to remove a couple of buttons!?
>
> No need for drastic action: there are more than enough hooks in the post
> form to do whatever you like with the post box.
>
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
>
>
> > -----Original Message-----
> > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > bounces@lists.automattic.com] On Behalf Of Elliotte Harold
> > Sent: Tuesday, April 10, 2007 7:47 PM
> > To: wp-hackers@lists.automattic.com
> > Subject: [wp-hackers] Editor button cusotmizations
> >
> > The regular button bar for the non-WYSIWTG editor (b, i, link, b-quote,
> > del, ins, etc.) doesn't work too well for me. There are some buttons
> > there I never use and some missing tags I use all the time.
> >
> > Would it be plausible to modify this list with a plug-in? I.e are there
> > sufficient hook to write a WordPress plug-in that changes these? Or
> > would it require forking the main code base?
> >
> > --
> > Elliotte Rusty Harold  elharo@metalab.unc.edu
> > Java I/O 2nd Edition Just Published!
> > http://www.cafeaulait.org/books/javaio2/
> > http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA
> > /
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From robin.adr at gmail.com  Wed Apr 11 04:21:20 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Wed Apr 11 04:21:25 2007
Subject: [wp-hackers] Javascript Library
In-Reply-To: <004501c77be4$cba55b00$62f01100$@net>
References: <a491f91d0704101652x44482a5bybc97be5b85014cdf@mail.gmail.com>
	<000201c77bce$463e35b0$c864a8c0@tiger1>
	<004501c77be4$cba55b00$62f01100$@net>
Message-ID: <d135ca9c0704102121p58abbce4v5fe951f5a1d32b9d@mail.gmail.com>

Already been done. Prototype currently has priority over the $() function,
since it was there first (something we might want to reconsider), and jQuery
is working in compatibility mode (use jQuery() function).

On 4/10/07, Charles <lists07@wiltgen.net> wrote:
>
> A small request:  Some of these libs play a little fast and loose, so I'd
> appreciate if whoever's doing this would make sure that anything that gets
> shipped in the core works with libs that do play well with others (like
> YUI).
>
> Thanks!
>
> -- Charles
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wphackers at galleryembedded.com  Wed Apr 11 06:04:54 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Wed Apr 11 06:04:59 2007
Subject: [wp-hackers] Extend -> Plugins & Wordpress Versions Archives
Message-ID: <1176271494.m2f.31490@www.galleryembedded.com>

I got recently asked where on extend, can you download older release of the WPG2 plugin as the poster was running a older WP 2.0x release.

Although I gave the poster a link to the WPG2 archives it got me thinking that we have no way to download older versions of the plugin's hosted on extend.

To me this is an important point as the WP releases march on, not all WP users will upgrade thus we are going to need some way of proving access to older releases as at times later releases of our plugins may not be compatible with (still maintained) older WP releases (2.0.x branch for example)..

My suggestion would be something along the lines of a previous version link/tab/page which would be Populating by scanning the readme.txt in the SVN tags for (supported) releases of Wordpress.

Suggestions / Thoughts???




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From iacobs at m0n5t3r.info  Wed Apr 11 06:40:25 2007
From: iacobs at m0n5t3r.info (Sabin Iacob)
Date: Wed Apr 11 06:40:36 2007
Subject: [wp-hackers] Extend -> Plugins & Wordpress Versions Archives
In-Reply-To: <1176271494.m2f.31490@www.galleryembedded.com>
References: <1176271494.m2f.31490@www.galleryembedded.com>
Message-ID: <461C82D9.3050804@m0n5t3r.info>

ozgreg wrote:
> I got recently asked where on extend, can you download older release of the WPG2 plugin as the poster was running a older WP 2.0x release.
>
> Although I gave the poster a link to the WPG2 archives it got me thinking that we have no way to download older versions of the plugin's hosted on extend.
>
> To me this is an important point as the WP releases march on, not all WP users will upgrade thus we are going to need some way of proving access to older releases as at times later releases of our plugins may not be compatible with (still maintained) older WP releases (2.0.x branch for example)..
>
> My suggestion would be something along the lines of a previous version link/tab/page which would be Populating by scanning the readme.txt in the SVN tags for (supported) releases of Wordpress.
>
> Suggestions / Thoughts???
>   

you could add a custom section in the "other notes" page, with links to 
downloads.wordpress.org/plugin/plugin_name.tag.zip, and it will work if 
the given tag exists.

btw, is it me, or the wordpress.org packager produces funny zip files? 
they seem to be missing some info at the beginning, so the "file" unix 
utility won't notice they are zips; unzipping works, but any archive 
viewing software that relies on file to get the file type (such as the 
mc VFS) won't recognize them.
Or maybe my Firefox and Opera and wget and curl have a common bug >:D
From nbachiyski at developer.bg  Wed Apr 11 14:20:10 2007
From: nbachiyski at developer.bg (Nikolay Bachiyski)
Date: Wed Apr 11 14:20:17 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <000d01c77baf$677ae8f0$3670bad0$@net>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>
	<000001c77b88$1a1aa130$4e4fe390$@net>
	<6FD2D78E-2B51-4891-9CD6-69B6D9E7ADC7@googlemail.com>
	<000101c77b8a$75cbeaf0$6163c0d0$@net>
	<3065B35E-3EED-4CF6-AA61-AF4944DA359B@googlemail.com>
	<000d01c77baf$677ae8f0$3670bad0$@net>
Message-ID: <56f01e000704110720q2eece008j377ff0d0158bb9cf@mail.gmail.com>

2007/4/10, Computer Guru <computerguru@neosmart.net>:
> OK, then you should understand fully why it doesn't matter to the end user
> what timezone it was published in.
>
> I'm in +2 GMT. I don't give a damn whether Scoble was having lunch or dinner
> when he made his last post - All I care is when it was published.

Computer Guru, I do care. Really.

>
> UTC is the universal base standard for times. Hence, it's only natural that
> it *and only it* should be in the feed.

Why *only it*, if the standard allows other timezones too?

> Why break standards and conventions for something as pointless as local TZ
> data?

What standards and conventions shall we break if we put the timezone?

Happy hacking,
Nikolay.

> > -----Original Message-----
> > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > bounces@lists.automattic.com] On Behalf Of Geoffrey Sneddon
> > Sent: Tuesday, April 10, 2007 11:26 PM
> > To: wp-hackers@lists.automattic.com
> > Subject: Re: [wp-hackers] Timezone in RSS feeds
> >
> >
> > On 10 Apr 2007, at 17:08, Computer Guru wrote:
> >
> > > You're not understanding my point.
> >
> > I understand it well.
> >
> > >
> > > RSS feeds are supposed to be machine-readable universable syndication
> > > formats.
> >
> > I know ? I'm the author of a feed parser library (SimplePie) with
> > thousands of users.
> >
> > > When dealing with standards and humans don't have to read what's
> > > there, you
> > > serve as little info as possible that can be translated to give the
> > > complete
> > > picture, and wherever you can, you stick to the "base" formats.
> >
> > The complete picture would be telling the user what timezone the item
> > was published in.
> >
> > >
> > > Your blog serves UTC time == it doesn't have to serve the current
> > > time + the
> > > UTC offset.
> > >
> > > So long as the feed readers are doing the conversion, why should
> > > your blog
> > > have to bother with UTC offsets, DST, multiple TZs, user-specific
> > > TZ, etc.
> >
> > It gives further information that the user may want. It doesn't cost
> > WP anything to give the extra information (?[0-9]{4} is a single
> > character longer than \x20GMT).
> >
> >
> > - Geoffrey Sneddon
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From computerguru at neosmart.net  Wed Apr 11 16:36:13 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Wed Apr 11 16:36:33 2007
Subject: [wp-hackers] Timezone in RSS feeds
In-Reply-To: <56f01e000704110720q2eece008j377ff0d0158bb9cf@mail.gmail.com>
References: <56f01e000704100827h3b215b13m7e0a8db812f18692@mail.gmail.com>	<000001c77b88$1a1aa130$4e4fe390$@net>	<6FD2D78E-2B51-4891-9CD6-69B6D9E7ADC7@googlemail.com>	<000101c77b8a$75cbeaf0$6163c0d0$@net>	<3065B35E-3EED-4CF6-AA61-AF4944DA359B@googlemail.com>	<000d01c77baf$677ae8f0$3670bad0$@net>
	<56f01e000704110720q2eece008j377ff0d0158bb9cf@mail.gmail.com>
Message-ID: <000901c77c57$87768940$96639bc0$@net>

I didn't think people cared, but if you strongly feel they do, I guess that's something else.

That was just my opinion obviously, and I'm sure you guys have more experience in the feeds field, so I'll step down here.

I bear no ill-feelings on this matter, I just felt that when it comes to feeds they should all stick to the same mold, so to speak.

Anyway, it's not my decision to make of course, I'm just giving the "alternative opinion" (or devil's advocate if you will). My argument is for the sake of standardization, but if there is a strong argument to the contrary....

Peace, 

CG
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Nikolay Bachiyski
> Sent: Wednesday, April 11, 2007 5:20 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Timezone in RSS feeds
> 
> 2007/4/10, Computer Guru <computerguru@neosmart.net>:
> > OK, then you should understand fully why it doesn't matter to the end
> > user what timezone it was published in.
> >
> > I'm in +2 GMT. I don't give a damn whether Scoble was having lunch or
> > dinner when he made his last post - All I care is when it was
> published.
> 
> Computer Guru, I do care. Really.
> 
> >
> > UTC is the universal base standard for times. Hence, it's only
> natural
> > that it *and only it* should be in the feed.
> 
> Why *only it*, if the standard allows other timezones too?
> 
> > Why break standards and conventions for something as pointless as
> > local TZ data?
> 
> What standards and conventions shall we break if we put the timezone?
> 
> Happy hacking,
> Nikolay.
> 
> > > -----Original Message-----
> > > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > > bounces@lists.automattic.com] On Behalf Of Geoffrey Sneddon
> > > Sent: Tuesday, April 10, 2007 11:26 PM
> > > To: wp-hackers@lists.automattic.com
> > > Subject: Re: [wp-hackers] Timezone in RSS feeds
> > >
> > >
> > > On 10 Apr 2007, at 17:08, Computer Guru wrote:
> > >
> > > > You're not understanding my point.
> > >
> > > I understand it well.
> > >
> > > >
> > > > RSS feeds are supposed to be machine-readable universable
> > > > syndication formats.
> > >
> > > I know ? I'm the author of a feed parser library (SimplePie) with
> > > thousands of users.
> > >
> > > > When dealing with standards and humans don't have to read what's
> > > > there, you serve as little info as possible that can be
> translated
> > > > to give the complete picture, and wherever you can, you stick to
> > > > the "base" formats.
> > >
> > > The complete picture would be telling the user what timezone the
> > > item was published in.
> > >
> > > >
> > > > Your blog serves UTC time == it doesn't have to serve the current
> > > > time + the UTC offset.
> > > >
> > > > So long as the feed readers are doing the conversion, why should
> > > > your blog have to bother with UTC offsets, DST, multiple TZs,
> > > > user-specific TZ, etc.
> > >
> > > It gives further information that the user may want. It doesn't
> cost
> > > WP anything to give the extra information (?[0-9]{4} is a single
> > > character longer than \x20GMT).
> > >
> > >
> > > - Geoffrey Sneddon
> > >
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >

From daya at meyshan.com  Wed Apr 11 20:08:10 2007
From: daya at meyshan.com (dayaparan ponnambalam)
Date: Wed Apr 11 20:08:21 2007
Subject: [wp-hackers] Ultimate Search Widget for Wordpress.
In-Reply-To: <e50d103b0704110034s73cf084bt632195d78d2d7435@mail.gmail.com>
References: <e50d103b0704110034s73cf084bt632195d78d2d7435@mail.gmail.com>
Message-ID: <e50d103b0704111308q500a3c67l795ce129f0e3b7b8@mail.gmail.com>

We are indeed very happy to release the Meyshan Ultimate search widget for
wordpress under GNU GPL for the Wordpress Community use. This search widget
is better than any other search widget or plugin available for wordpress.
Simply for the reason, this search widget has multiple option and powers the
blog so that, visitor keep visiting to your blog. Look at some of the key
features,, Please see the demo here http://www.spicyexpress.net and comment,
i would highly appreciate your opinion on this.

1. Yahoo multiple search integrated.

2. Google Multiple search Integrated.

3. Google custome search integrated.

4. Google adsense integrated.

5. Snap Preview integrated.

6. Used yahoo UI and effect is just cool.

7. Finally this search widget for wordpress is easy to install and
configure, just activate the from plugin tab you are done. May be you need
google search api key, to be put in option page.
Please see the demo here http://www.spicyexpress.net and you can download
this widget from here..

Feature plan for Meyshan Ultimate search widget?

Now we have planned to integrate MSN search along with yahoo and google and
allowing blog owner to use the  choose between the search engine or use
all.
In the upcoming release we have also planned to integrate Video support, so
that each blog owner could have personalized message for the blog visitor

Please check the widget and let me know your opinion and advice.

regards

daya
From elharo at metalab.unc.edu  Wed Apr 11 21:53:51 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Wed Apr 11 21:54:04 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <d135ca9c0704102119n4be7d808n9e08d382d5d2899c@mail.gmail.com>
References: <461BBF79.1020303@metalab.unc.edu>	<000a01c77b91$73dbfda0$5b93f8e0$@net>
	<d135ca9c0704102119n4be7d808n9e08d382d5d2899c@mail.gmail.com>
Message-ID: <461D58EF.70204@metalab.unc.edu>

Robin Adrianse wrote:
> Yeah, forking seems like a drastic action. There are many filters and
> actions (along with JavaScript methods) to add/remove buttons.
> 

I'd certainly prefer not to have to fork if I can avoid it.

After tracing through several files, it looks like the relevant code is 
in quicktags.js. The relevant code looks like this:

edButtons[edButtons.length] =
new edButton('ed_ol'
,'ol'
,'<ol>\n'
,'</ol>\n\n'
,'o'
);

It's very weird that this is all done with JavaScript. It's not clear 
why this couldn't be simple HTML.

Anyway, it's obvious in the code how to remove or add or change a 
button. I could very quickly hack this, but then I'd have to maintain my 
changes across upgrades. I'm not sure where I should be looking to do 
this in a plug-in though. Is there a specific action or filter that 
would be appropriate?

Please remember I am talking about the regular editor, *not* the rich 
editor. There seem to be more hooks for this in the rich editor.


-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From if.website at gmail.com  Wed Apr 11 22:00:32 2007
From: if.website at gmail.com (Austin Matzko)
Date: Wed Apr 11 22:00:37 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <461D58EF.70204@metalab.unc.edu>
References: <461BBF79.1020303@metalab.unc.edu>
	<000a01c77b91$73dbfda0$5b93f8e0$@net>
	<d135ca9c0704102119n4be7d808n9e08d382d5d2899c@mail.gmail.com>
	<461D58EF.70204@metalab.unc.edu>
Message-ID: <674b4a3b0704111500o4975c3f3x41bbb561419fc81d@mail.gmail.com>

On 4/11/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> It's very weird that this is all done with JavaScript. It's not clear
> why this couldn't be simple HTML.

You need the JavaScript to change the text in the textarea.

> Anyway, it's obvious in the code how to remove or add or change a
> button. I could very quickly hack this, but then I'd have to maintain my
> changes across upgrades. I'm not sure where I should be looking to do
> this in a plug-in though. Is there a specific action or filter that
> would be appropriate?

Probably the simplest is to use the 'admin_head' hook and put the
JavaScript, or a link to your script's file, in the admin page's
header.
From les at lcb.me.uk  Wed Apr 11 22:18:16 2007
From: les at lcb.me.uk (Les Bessant)
Date: Wed Apr 11 22:18:17 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <461D58EF.70204@metalab.unc.edu>
References: <461BBF79.1020303@metalab.unc.edu>	<000a01c77b91$73dbfda0$5b93f8e0$@net>	<d135ca9c0704102119n4be7d808n9e08d382d5d2899c@mail.gmail.com>
	<461D58EF.70204@metalab.unc.edu>
Message-ID: <00d501c77c87$4ec0b5f0$ec4221d0$@me.uk>

Quicktags editing:

http://www.tamba2.org.uk/wordpress/quicktags/




Les Bessant les@lcb.me.uk
Losing it[1] - http://lcb.me.uk
My flickr pictures - http://flickr.com/photos/lesbessant/


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Elliotte Harold
Sent: 11 April 2007 22:54
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Editor button cusotmizations

Robin Adrianse wrote:
> Yeah, forking seems like a drastic action. There are many filters and
> actions (along with JavaScript methods) to add/remove buttons.
> 

I'd certainly prefer not to have to fork if I can avoid it.

After tracing through several files, it looks like the relevant code is 
in quicktags.js. The relevant code looks like this:

edButtons[edButtons.length] =
new edButton('ed_ol'
,'ol'
,'<ol>\n'
,'</ol>\n\n'
,'o'
);

It's very weird that this is all done with JavaScript. It's not clear 
why this couldn't be simple HTML.

Anyway, it's obvious in the code how to remove or add or change a 
button. I could very quickly hack this, but then I'd have to maintain my 
changes across upgrades. I'm not sure where I should be looking to do 
this in a plug-in though. Is there a specific action or filter that 
would be appropriate?

Please remember I am talking about the regular editor, *not* the rich 
editor. There seem to be more hooks for this in the rich editor.


-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From elharo at metalab.unc.edu  Thu Apr 12 01:58:21 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Thu Apr 12 01:58:28 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <674b4a3b0704111500o4975c3f3x41bbb561419fc81d@mail.gmail.com>
References: <461BBF79.1020303@metalab.unc.edu>	<000a01c77b91$73dbfda0$5b93f8e0$@net>	<d135ca9c0704102119n4be7d808n9e08d382d5d2899c@mail.gmail.com>	<461D58EF.70204@metalab.unc.edu>
	<674b4a3b0704111500o4975c3f3x41bbb561419fc81d@mail.gmail.com>
Message-ID: <461D923D.5030600@metalab.unc.edu>

Austin Matzko wrote:
> On 4/11/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
>> It's very weird that this is all done with JavaScript. It's not clear
>> why this couldn't be simple HTML.
> 
> You need the JavaScript to change the text in the textarea.
> 

It needs JavaScript when the button is pressed, yes, but why are the 
buttons created with JavaScript? Why can't the buttons be created with 
plain old HTML?

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From r at robm.me.uk  Thu Apr 12 02:08:12 2007
From: r at robm.me.uk (Rob)
Date: Thu Apr 12 02:08:21 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <461D923D.5030600@metalab.unc.edu>
References: <461BBF79.1020303@metalab.unc.edu>
	<000a01c77b91$73dbfda0$5b93f8e0$@net>
	<d135ca9c0704102119n4be7d808n9e08d382d5d2899c@mail.gmail.com>
	<461D58EF.70204@metalab.unc.edu>
	<674b4a3b0704111500o4975c3f3x41bbb561419fc81d@mail.gmail.com>
	<461D923D.5030600@metalab.unc.edu>
Message-ID: <ab92f2360704111908y202f6400m67c5780e57edf57a@mail.gmail.com>

On 12/04/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> Austin Matzko wrote:
> > On 4/11/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> >> It's very weird that this is all done with JavaScript. It's not clear
> >> why this couldn't be simple HTML.
> >
> > You need the JavaScript to change the text in the textarea.
> >
>
> It needs JavaScript when the button is pressed, yes, but why are the
> buttons created with JavaScript? Why can't the buttons be created with
> plain old HTML?
>

At a guess, it's so that users with JavaScript turned off aren't
presented with a load of buttons with no functionality.

-- 
Rob

-----------------------
Rob Miller
Senior Programmer

email - rob@graphics.net
web - http://www.graphics.net/ | http://robm.me.uk/
From speedboxer at gmail.com  Thu Apr 12 03:54:05 2007
From: speedboxer at gmail.com (Matt)
Date: Thu Apr 12 03:54:10 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <ab92f2360704111908y202f6400m67c5780e57edf57a@mail.gmail.com>
References: <461BBF79.1020303@metalab.unc.edu>
	<000a01c77b91$73dbfda0$5b93f8e0$@net>
	<d135ca9c0704102119n4be7d808n9e08d382d5d2899c@mail.gmail.com>
	<461D58EF.70204@metalab.unc.edu>
	<674b4a3b0704111500o4975c3f3x41bbb561419fc81d@mail.gmail.com>
	<461D923D.5030600@metalab.unc.edu>
	<ab92f2360704111908y202f6400m67c5780e57edf57a@mail.gmail.com>
Message-ID: <b88434820704112054ofab3d1ey1c696e3d3be994ab@mail.gmail.com>

How else would you like to specify what code too add. :P

On 4/11/07, Rob <r@robm.me.uk> wrote:
>
> On 12/04/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> > Austin Matzko wrote:
> > > On 4/11/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> > >> It's very weird that this is all done with JavaScript. It's not clear
> > >> why this couldn't be simple HTML.
> > >
> > > You need the JavaScript to change the text in the textarea.
> > >
> >
> > It needs JavaScript when the button is pressed, yes, but why are the
> > buttons created with JavaScript? Why can't the buttons be created with
> > plain old HTML?
> >
>
> At a guess, it's so that users with JavaScript turned off aren't
> presented with a load of buttons with no functionality.
>
> --
> Rob
>
> -----------------------
> Rob Miller
> Senior Programmer
>
> email - rob@graphics.net
> web - http://www.graphics.net/ | http://robm.me.uk/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From skeltoac at gmail.com  Thu Apr 12 04:15:30 2007
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu Apr 12 04:15:37 2007
Subject: [wp-hackers] Editor button cusotmizations
In-Reply-To: <461D923D.5030600@metalab.unc.edu>
References: <461BBF79.1020303@metalab.unc.edu>
	<000a01c77b91$73dbfda0$5b93f8e0$@net>
	<d135ca9c0704102119n4be7d808n9e08d382d5d2899c@mail.gmail.com>
	<461D58EF.70204@metalab.unc.edu>
	<674b4a3b0704111500o4975c3f3x41bbb561419fc81d@mail.gmail.com>
	<461D923D.5030600@metalab.unc.edu>
Message-ID: <e6ec604d0704112115of021718hfe534079c415f859@mail.gmail.com>

On 4/11/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> It needs JavaScript when the button is pressed, yes, but why are the
> buttons created with JavaScript? Why can't the buttons be created with
> plain old HTML?

Maybe they can but they aren't and there are no compelling reasons to
change this. Is there something you need to do that CAN NOT BE DONE by
outputting some javascript at a later hook? Do you need a hook in the
middle of the quicktags script? Because adding hooks is cheap and
easy.

Andy
From iacobs at m0n5t3r.info  Thu Apr 12 07:48:53 2007
From: iacobs at m0n5t3r.info (Sabin Iacob)
Date: Thu Apr 12 07:49:01 2007
Subject: [wp-hackers] Wordpress object cache
Message-ID: <461DE465.1030209@m0n5t3r.info>

I enabled the thing with define("ENABLE_CACHE", true), but for some 
reason it seems to put cache files in /tmp rather than wp-content/cache; 
is this the expected behaviour?
putting stuff in /tmp is quite an unfortunate choice, IMO (at least they 
should get cleaned up, I found the 512MB /tmp in my vserver full this 
morning)
From skeltoac at gmail.com  Thu Apr 12 09:10:16 2007
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu Apr 12 09:10:20 2007
Subject: [wp-hackers] Wordpress object cache
In-Reply-To: <461DE465.1030209@m0n5t3r.info>
References: <461DE465.1030209@m0n5t3r.info>
Message-ID: <e6ec604d0704120210x57669ac0tb6ff13b666628dc0@mail.gmail.com>

On 4/12/07, Sabin Iacob <iacobs@m0n5t3r.info> wrote:
> I enabled the thing with define("ENABLE_CACHE", true), but for some
> reason it seems to put cache files in /tmp rather than wp-content/cache;
> is this the expected behaviour?

php's tempnam function is what's doing this because your
wp-content/cache directory does not exist or is not writable.

Andy
From skeltoac at gmail.com  Thu Apr 12 09:17:55 2007
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu Apr 12 09:18:03 2007
Subject: [wp-hackers] Wordpress object cache
In-Reply-To: <e6ec604d0704120210x57669ac0tb6ff13b666628dc0@mail.gmail.com>
References: <461DE465.1030209@m0n5t3r.info>
	<e6ec604d0704120210x57669ac0tb6ff13b666628dc0@mail.gmail.com>
Message-ID: <e6ec604d0704120217n4667ec17kefeea387fdb5d039@mail.gmail.com>

On 4/12/07, Andy Skelton <skeltoac@gmail.com> wrote:
> php's tempnam function is what's doing this because your
> wp-content/cache directory does not exist or is not writable.

Looks like there's a missing unlink in there; unusable tmp files
should never be left there.

Opened a ticket: http://trac.wordpress.org/ticket/4141

Andy
From supporto at pixline.net  Thu Apr 12 10:05:56 2007
From: supporto at pixline.net (Pixline)
Date: Thu Apr 12 10:06:04 2007
Subject: [wp-hackers] widget for wordpress built-in tag system
Message-ID: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>

Sorry if that argument has occurred before: I'm looking for a sidebar  
widget for the built-in tag system in WP22 and related, but I can't  
find it actually.
I'd like to know if you have found one, or someone is writing it,  
before writing mine :-)

Paolo
http://pixline.net
From computerguru at neosmart.net  Thu Apr 12 10:10:51 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Thu Apr 12 10:11:21 2007
Subject: [wp-hackers] widget for wordpress built-in tag system
In-Reply-To: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>
References: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>
Message-ID: <000e01c77cea$e2fb4ce0$a8f1e6a0$@net>

Well, WordPress 2.2 isn't out yet, and the tagging system isn't yet fully
complete - I think it's safe to say that such a widget doesn't yet exist if
it's not in the trunk or on wp-plugins.

Good luck with that widget! :)

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Pixline
> Sent: Thursday, April 12, 2007 1:06 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] widget for wordpress built-in tag system
> 
> Sorry if that argument has occurred before: I'm looking for a sidebar
> widget for the built-in tag system in WP22 and related, but I can't
> find it actually.
> I'd like to know if you have found one, or someone is writing it,
> before writing mine :-)
> 
> Paolo
> http://pixline.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From supporto at pixline.net  Thu Apr 12 10:28:46 2007
From: supporto at pixline.net (Pixline)
Date: Thu Apr 12 10:28:54 2007
Subject: [wp-hackers] widget for wordpress built-in tag system
In-Reply-To: <000e01c77cea$e2fb4ce0$a8f1e6a0$@net>
References: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>
	<000e01c77cea$e2fb4ce0$a8f1e6a0$@net>
Message-ID: <BDA56286-F215-4C07-AD6F-459C31ECDBC0@pixline.net>

> Well, WordPress 2.2 isn't out yet, and the tagging system isn't yet  
> fully
> complete - I think it's safe to say that such a widget doesn't yet  
> exist if
> it's not in the trunk or on wp-plugins.
>
> Good luck with that widget! :)

ok. so i'm going to write one unless it's in the trunk and I can't  
just find it :-) It would be nice to have that widget ready for the  
2.2 public release.

I'm actually don't know what wp do in the database for tags, and what  
are differences (advantages/disvantages) from other tag system -  
apart for having it built-in of course :-) - but I'll looking deeper  
the code. I suppose that following the importer code I'll be able to  
convert UTW widgets to match WP tag engine...

If someone knows about that importer and can help me to understand  
differences about the database, it will be appreciated, otherwise  
it's just a matter of time, I'll learn something.

Paolo

From computerguru at neosmart.net  Thu Apr 12 10:36:39 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Thu Apr 12 10:37:42 2007
Subject: [wp-hackers] widget for wordpress built-in tag system
In-Reply-To: <BDA56286-F215-4C07-AD6F-459C31ECDBC0@pixline.net>
References: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>	<000e01c77cea$e2fb4ce0$a8f1e6a0$@net>
	<BDA56286-F215-4C07-AD6F-459C31ECDBC0@pixline.net>
Message-ID: <000f01c77cee$82e8e430$88baac90$@net>

I believe the only difference between the DB fields for WP 2.2's tagging and
UTW's tagging is just the meta field that the tags are stored in.

UTW has a ton more options than WP22, but I'm sure those will either come
with time or that Christine will just mod UTW to hook into WP22's tagging
platform instead, keeping all the other really neat odds & ends working.

Both UTW and WP22 use the same tagging separation system - basically
anything goes, comments (w/ optional spaces) separate the tags from one
another.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Pixline
> Sent: Thursday, April 12, 2007 1:29 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] widget for wordpress built-in tag system
> 
> > Well, WordPress 2.2 isn't out yet, and the tagging system isn't yet
> > fully
> > complete - I think it's safe to say that such a widget doesn't yet
> > exist if
> > it's not in the trunk or on wp-plugins.
> >
> > Good luck with that widget! :)
> 
> ok. so i'm going to write one unless it's in the trunk and I can't
> just find it :-) It would be nice to have that widget ready for the
> 2.2 public release.
> 
> I'm actually don't know what wp do in the database for tags, and what
> are differences (advantages/disvantages) from other tag system -
> apart for having it built-in of course :-) - but I'll looking deeper
> the code. I suppose that following the importer code I'll be able to
> convert UTW widgets to match WP tag engine...
> 
> If someone knows about that importer and can help me to understand
> differences about the database, it will be appreciated, otherwise
> it's just a matter of time, I'll learn something.
> 
> Paolo
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From iacobs at m0n5t3r.info  Thu Apr 12 10:55:05 2007
From: iacobs at m0n5t3r.info (Sabin Iacob)
Date: Thu Apr 12 10:55:10 2007
Subject: [wp-hackers] Wordpress object cache
In-Reply-To: <e6ec604d0704120217n4667ec17kefeea387fdb5d039@mail.gmail.com>
References: <461DE465.1030209@m0n5t3r.info>	<e6ec604d0704120210x57669ac0tb6ff13b666628dc0@mail.gmail.com>
	<e6ec604d0704120217n4667ec17kefeea387fdb5d039@mail.gmail.com>
Message-ID: <461E1009.6050903@m0n5t3r.info>

Andy Skelton wrote:
> On 4/12/07, Andy Skelton <skeltoac@gmail.com> wrote:
>> php's tempnam function is what's doing this because your
>> wp-content/cache directory does not exist or is not writable.

hmm, very interesting: the cache directory was writable, but for some 
reason the directories wordpress had created inside were not (tried 
deleting them and they were again created without the write permission); 
however, deleting tha wp-content/cache directory and letting wordpress 
create it led to correct permissions;

btw, WP_Object_Cache::make_group_dir seems  to be repeating the work of 
wp_mkdir_p...

> Looks like there's a missing unlink in there; unusable tmp files
> should never be left there.
>
> Opened a ticket: http://trac.wordpress.org/ticket/4141

thanks
From if.website at gmail.com  Thu Apr 12 11:57:54 2007
From: if.website at gmail.com (Austin Matzko)
Date: Thu Apr 12 11:57:58 2007
Subject: [wp-hackers] widget for wordpress built-in tag system
In-Reply-To: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>
References: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>
Message-ID: <674b4a3b0704120457s64a1411fy100c1bc969e6deed@mail.gmail.com>

On 4/12/07, Pixline <supporto@pixline.net> wrote:
> Sorry if that argument has occurred before: I'm looking for a sidebar
> widget for the built-in tag system in WP22 and related, but I can't
> find it actually.
> I'd like to know if you have found one, or someone is writing it,
> before writing mine :-)

Someone submitted a tag cloud widget to trac here:
http://trac.wordpress.org/ticket/4130
From elharo at metalab.unc.edu  Thu Apr 12 13:17:23 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Thu Apr 12 13:17:26 2007
Subject: [wp-hackers] Page categories
Message-ID: <461E3163.2070003@metalab.unc.edu>

Am I missing something? Is there any way to assign a *page* to a 
category? I could have sworn this was possible, but right now I don't 
see any option in Manage or Edit Pages for  Category assignment.

I can add categories to posts, but the equivalent category assignment 
for pages just isn't there.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From false.hopes at gmail.com  Thu Apr 12 13:28:25 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Apr 12 13:28:34 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <461E3163.2070003@metalab.unc.edu>
References: <461E3163.2070003@metalab.unc.edu>
Message-ID: <a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>

On 4/12/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> Am I missing something? Is there any way to assign a *page* to a
> category? I could have sworn this was possible, but right now I don't
> see any option in Manage or Edit Pages for  Category assignment.
>
> I can add categories to posts, but the equivalent category assignment
> for pages just isn't there.


No, you can't, and this is intentional. Pages are meant to live
outside the normal hierarchy of the blog. If placed in a category they
would have to be displayed somehow when viewing the category, based on
time or something, which definitely does not coincide with the purpose
of a page.

If you want your pages in a hierarchy, use subpages.

-- 
--Robert Deaton
http://lushlab.com
From chris.hearn01 at ntlworld.com  Thu Apr 12 13:51:20 2007
From: chris.hearn01 at ntlworld.com (Chris)
Date: Thu Apr 12 13:51:42 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>
References: <461E3163.2070003@metalab.unc.edu>
	<a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>
Message-ID: <461E3958.7090501@ntlworld.com>

However, if you want to integrate pages and posts, try the 
Page-Organizer plugin.
This allows assigning categories to pages.
On the site I am currently developing, I use custom templates to show 
the page-n content (fixed) at the top, then any posts that relate 
underneath. They are linked together by tying a post category to a 
specific page.

This works well if you want a web-site/blog combination, rather than a 
pure-blog!

Originally I created all pages for the site first, then a matching 
category for each page, (so that the cat and page numbers are the same) 
this is ok only until you want to add more pages later!, as pages and 
posts now share id's.!

Chris

    ********************************************************************** 
    Chris Hearn 
    *Tel:* 01625 827589 
    *Mob:* 07768 725141 
    *email:* chris.hearn01@ntlworld.com 
    ********************************************************************** 
    The information transmitted is intended only for the person or entity 
    to which it is addressed and may contain confidential and/or privileged 
    material. Any review, retransmission, dissemination or other use of, 
    or taking of any action in reliance upon, this information by persons 
    or entities other than the intended recipient is prohibited. 
    If you received this in error, please contact the sender and delete the 
    material from any computer. 
    ********************************************************************** 



Robert Deaton wrote:
> On 4/12/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
>> Am I missing something? Is there any way to assign a *page* to a
>> category? I could have sworn this was possible, but right now I don't
>> see any option in Manage or Edit Pages for  Category assignment.
>>
>> I can add categories to posts, but the equivalent category assignment
>> for pages just isn't there.
>
>
> No, you can't, and this is intentional. Pages are meant to live
> outside the normal hierarchy of the blog. If placed in a category they
> would have to be displayed somehow when viewing the category, based on
> time or something, which definitely does not coincide with the purpose
> of a page.
>
> If you want your pages in a hierarchy, use subpages.
>
From elharo at metalab.unc.edu  Thu Apr 12 13:58:11 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Thu Apr 12 13:58:25 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>
References: <461E3163.2070003@metalab.unc.edu>
	<a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>
Message-ID: <461E3AF3.3090609@metalab.unc.edu>

Robert Deaton wrote:

> No, you can't, and this is intentional. Pages are meant to live
> outside the normal hierarchy of the blog. If placed in a category they
> would have to be displayed somehow when viewing the category, based on
> time or something, which definitely does not coincide with the purpose
> of a page.
> 
> If you want your pages in a hierarchy, use subpages.


I'll look at that. However what's weird is that wp_list_pages has an 
include argument that is defined thusly:

  include (string)
     Only include certain Pages in the list generated by wp_list_pages. 
Like exclude, this parameter takes a comma-separated list of categories 
by unique ID, in ascending order. There is no default value. See the 
Include Pages in List example below.


So I can specify the pages I want in a any given list by category, but I 
can't put them in categories? A bit of a disconnect here.

What I want to do is assign some pages to a sidebar category and only 
show those pages in the links list in the sidebar, not all the pages in 
the database. Excluding or including them by individual post number is 
way too complicated, and doesn't scale across more than one site.

More details:

http://www.elharo.com/blog/software-development/web-development/blogging/2007/04/12/wordpress-meetup-wrap-up/



-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From elharo at metalab.unc.edu  Thu Apr 12 14:01:26 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Thu Apr 12 14:01:40 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>
References: <461E3163.2070003@metalab.unc.edu>
	<a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>
Message-ID: <461E3BB6.2060704@metalab.unc.edu>

Robert Deaton wrote:

> No, you can't, and this is intentional. Pages are meant to live
> outside the normal hierarchy of the blog. If placed in a category they
> would have to be displayed somehow when viewing the category, based on
> time or something, which definitely does not coincide with the purpose
> of a page.

Why would they have to be displayed? If the theme doesn't ask for them 
to be displayed as links or summaries, they won't be displayed. Near as 
I can tell, this is completely under the control of the theme, and if 
the theme wants to, it can display them. Clearly different sites have 
different requirements here, and different themes would behave 
differently. Some would show them sorted one way, some would show them 
sorted another, and some wouldn't show any links to them or summaries at 
all. They would only use explicit user provided links from other content.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From swaroop at rackedhosting.com  Thu Apr 12 13:44:35 2007
From: swaroop at rackedhosting.com (Swaroop Hegde)
Date: Thu Apr 12 14:18:31 2007
Subject: [wp-hackers] GSOC feedback
Message-ID: <000601c77d08$b8a01de0$29e059a0$@com>

Hello,

Can I get in touch with any one of the mentors who reviewed applications for
Google Summer of code? I wanted to get some feedback on my app.

Thanks,
Swap


From yahgrp at poplarware.com  Thu Apr 12 14:25:24 2007
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Thu Apr 12 14:24:35 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <461E3AF3.3090609@metalab.unc.edu>
References: <461E3163.2070003@metalab.unc.edu>	<a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>
	<461E3AF3.3090609@metalab.unc.edu>
Message-ID: <461E4154.6030704@poplarware.com>


> I'll look at that. However what's weird is that wp_list_pages has an 
> include argument that is defined thusly:
> 
>  include (string)
>     Only include certain Pages in the list generated by wp_list_pages. 
> Like exclude, this parameter takes a comma-separated list of categories 
> by unique ID, in ascending order. There is no default value. See the 
> Include Pages in List example below.

The doc was incorrect -- looks like Michael H just fixed it on the 
Codex. It's actually a list of page IDs, not category IDs.
     Jennifer
From false.hopes at gmail.com  Thu Apr 12 14:45:49 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Apr 12 14:46:01 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <461E3BB6.2060704@metalab.unc.edu>
References: <461E3163.2070003@metalab.unc.edu>
	<a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>
	<461E3BB6.2060704@metalab.unc.edu>
Message-ID: <a491f91d0704120745u5ad9e0b1j5eec0f47837baa90@mail.gmail.com>

On 4/12/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
> Robert Deaton wrote:
>
> > No, you can't, and this is intentional. Pages are meant to live
> > outside the normal hierarchy of the blog. If placed in a category they
> > would have to be displayed somehow when viewing the category, based on
> > time or something, which definitely does not coincide with the purpose
> > of a page.
>
> Why would they have to be displayed? If the theme doesn't ask for them
> to be displayed as links or summaries, they won't be displayed. Near as
> I can tell, this is completely under the control of the theme, and if
> the theme wants to, it can display them. Clearly different sites have
> different requirements here, and different themes would behave
> differently. Some would show them sorted one way, some would show them
> sorted another, and some wouldn't show any links to them or summaries at
> all. They would only use explicit user provided links from other content.

Its not up to the theme. The query to the database to fetch by
category would actually make the decision. A good portion of themes
never mess with the queries at all.

We could obviously exclude them from displaying alongside normal
content, but then what would be the purpose of categorizing them at
all? Just use pages and subpages, they will organize your pages into a
sufficient hierarchy, or if you insist on putting pages in categories,
use a plugin like the one mentioned above.


--
--Robert Deaton
http://lushlab.com
From galeenet at gmail.com  Thu Apr 12 15:11:50 2007
From: galeenet at gmail.com (Gali)
Date: Thu Apr 12 15:11:57 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <a491f91d0704120745u5ad9e0b1j5eec0f47837baa90@mail.gmail.com>
References: <461E3163.2070003@metalab.unc.edu>
	<a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>
	<461E3BB6.2060704@metalab.unc.edu>
	<a491f91d0704120745u5ad9e0b1j5eec0f47837baa90@mail.gmail.com>
Message-ID: <16e4e19c0704120811s24df0234v8cb5038abae3cfe5@mail.gmail.com>

I'm currently working on a WP integration (as a CMS) : the ability to tag
pages would be a great thing. (I'm working with subpages and custom fields
for now)
From lloydomattic at gmail.com  Thu Apr 12 15:12:35 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Thu Apr 12 15:12:53 2007
Subject: [wp-hackers] GSOC feedback
In-Reply-To: <000601c77d08$b8a01de0$29e059a0$@com>
References: <000601c77d08$b8a01de0$29e059a0$@com>
Message-ID: <70ebb7140704120812y264234d9y1b2863a82333c0b3@mail.gmail.com>

On 4/12/07, Swaroop Hegde <swaroop@rackedhosting.com> wrote:
> Hello,
>
> Can I get in touch with any one of the mentors who reviewed applications for
> Google Summer of code? I wanted to get some feedback on my app.
>
> Thanks,
> Swap

Hi Swap,

Last night I started the long process of providing feedback from our
private discussions on all 84 applications. I hope to finish today.

Best regards,
-- 
Lloyd Budd | Digital Entomologist | 250-885-1744
WordPress.com | WordPress.org | Automattic.com
From computerguru at neosmart.net  Thu Apr 12 15:13:08 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Thu Apr 12 15:13:22 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <461E3163.2070003@metalab.unc.edu>
References: <461E3163.2070003@metalab.unc.edu>
Message-ID: <001501c77d15$178a8e10$469faa30$@net>

Nope.

I asked that very same question about a year ago, and things haven't changed since.

http://comox.textdrive.com/pipermail/wp-hackers/2006-July/007288.html
http://comox.textdrive.com/pipermail/wp-hackers/2007-January/010515.html


Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Elliotte Harold
> Sent: Thursday, April 12, 2007 4:17 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] Page categories
> 
> Am I missing something? Is there any way to assign a *page* to a
> category? I could have sworn this was possible, but right now I don't
> see any option in Manage or Edit Pages for  Category assignment.
> 
> I can add categories to posts, but the equivalent category assignment
> for pages just isn't there.
> 
> --
> ?Elliotte Rusty Harold  elharo@metalab.unc.edu
> Java I/O 2nd Edition Just Published!
> http://www.cafeaulait.org/books/javaio2/
> http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA
> /
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From swaroop at rackedhosting.com  Thu Apr 12 15:27:59 2007
From: swaroop at rackedhosting.com (Swaroop Hegde)
Date: Thu Apr 12 15:24:28 2007
Subject: [wp-hackers] GSOC feedback
In-Reply-To: <70ebb7140704120812y264234d9y1b2863a82333c0b3@mail.gmail.com>
References: <000601c77d08$b8a01de0$29e059a0$@com>
	<70ebb7140704120812y264234d9y1b2863a82333c0b3@mail.gmail.com>
Message-ID: <000d01c77d17$2bb54bd0$831fe370$@com>

Thanks a lot Lloyd! 
--
Swap

-----Original Message-----
From: Lloyd Budd [mailto:lloydomattic@gmail.com] 
Sent: Thursday, April 12, 2007 8:43 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] GSOC feedback

Hi Swap,

Last night I started the long process of providing feedback from our
private discussions on all 84 applications. I hope to finish today.

Best regards,
-- 
Lloyd Budd | Digital Entomologist | 250-885-1744
WordPress.com | WordPress.org | Automattic.com

From mark.wordpress at txfx.net  Thu Apr 12 15:31:49 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Thu Apr 12 15:32:24 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <16e4e19c0704120811s24df0234v8cb5038abae3cfe5@mail.gmail.com>
References: <461E3163.2070003@metalab.unc.edu>
	<a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>
	<461E3BB6.2060704@metalab.unc.edu>
	<a491f91d0704120745u5ad9e0b1j5eec0f47837baa90@mail.gmail.com>
	<16e4e19c0704120811s24df0234v8cb5038abae3cfe5@mail.gmail.com>
Message-ID: <CCE415CB-CC44-45E1-A655-8F6D9679418B@txfx.net>

On Apr 12, 2007, at 11:11 AM, Gali wrote:

> I'm currently working on a WP integration (as a CMS) : the ability  
> to tag
> pages would be a great thing.

Tagging Pages makes more sense than categorizing them.  They're  
already in their own hierarchical structure.

Maybe when we look into Page searching we can look into Page tagging  
too, since they're sort of similar (would likely do two queries or do  
one query and move the Page results to their own WP_Query object so  
themes can present the page results in different ways (integrating  
Pages and Posts won't make sense for a lot of sites).

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From supporto at pixline.net  Thu Apr 12 15:51:24 2007
From: supporto at pixline.net (Pixline)
Date: Thu Apr 12 15:51:41 2007
Subject: [wp-hackers] widget for wordpress built-in tag system
In-Reply-To: <674b4a3b0704120457s64a1411fy100c1bc969e6deed@mail.gmail.com>
References: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>
	<674b4a3b0704120457s64a1411fy100c1bc969e6deed@mail.gmail.com>
Message-ID: <B0E035E0-A209-45AB-9B71-CF5DA9192237@pixline.net>

12/apr/07, Austin Matzko:

> Someone submitted a tag cloud widget to trac here:
> http://trac.wordpress.org/ticket/4130
>

yeah. and it works like a charm (after a svn up, a db fix, and  
sidebar refactorizing of course)
you can see 22bleeding and that widget live on http:// 
medinforadio.net/ :-)
thanks!

Paolo
http://pixline.net

From elharo at metalab.unc.edu  Thu Apr 12 16:06:19 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Thu Apr 12 16:06:19 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <a491f91d0704120745u5ad9e0b1j5eec0f47837baa90@mail.gmail.com>
References: <461E3163.2070003@metalab.unc.edu>	<a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>	<461E3BB6.2060704@metalab.unc.edu>
	<a491f91d0704120745u5ad9e0b1j5eec0f47837baa90@mail.gmail.com>
Message-ID: <461E58FB.4040206@metalab.unc.edu>

Robert Deaton wrote:

> Its not up to the theme. The query to the database to fetch by
> category would actually make the decision. A good portion of themes
> never mess with the queries at all.

If the theme doesn't call wp_list_pages, then the pages don't get linked 
to, simple as that.

> We could obviously exclude them from displaying alongside normal
> content, but then what would be the purpose of categorizing them at
> all? Just use pages and subpages, they will organize your pages into a
> sufficient hierarchy, or if you insist on putting pages in categories,
> use a plugin like the one mentioned above.

1. Hierarchies are a pain in the butt, and users do not understand them. 
They never have and they never will. Programmers do, but that's another 
story.

2. The goal is to be able to say wp_list_pages(categories="Birding 
Blogging") and get a list all pages that match one of those categories.


It doesn't have to be categories. Tags might work. But we do need 
something that's in between "Give me exactly these pages with these IDs" 
and "Give me all pages".

Subpages are about the hierarchy of the site. That's a different story. 
What I'm trying to do here is get a list of links to all the pages in a 
given category, not actually display the pages themselves.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From theapparatus at gmail.com  Thu Apr 12 17:42:39 2007
From: theapparatus at gmail.com (Dr. Mike Wendell)
Date: Thu Apr 12 17:43:31 2007
Subject: [wp-hackers] GSOC feedback
In-Reply-To: <70ebb7140704120812y264234d9y1b2863a82333c0b3@mail.gmail.com>
References: <000601c77d08$b8a01de0$29e059a0$@com>
	<70ebb7140704120812y264234d9y1b2863a82333c0b3@mail.gmail.com>
Message-ID: <f1cf41430704121042o11da026dq9965d47ed51b361c@mail.gmail.com>

On 4/12/07, Lloyd Budd <lloydomattic@gmail.com> wrote:
> On 4/12/07, Swaroop Hegde <swaroop@rackedhosting.com> wrote:
> Last night I started the long process of providing feedback from our
> private discussions on all 84 applications. I hope to finish today.

84?  Wow...

That's a good sign. :)

-- 
Blog: http://drmikessteakdinner.com
Kim Possible: Remixed: http://kimpossibleremixed.com
Get your own free hosted WordPress Blog today: http://daria.be
From computerguru at neosmart.net  Thu Apr 12 18:18:31 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Thu Apr 12 18:18:45 2007
Subject: [wp-hackers] widget for wordpress built-in tag system
In-Reply-To: <B0E035E0-A209-45AB-9B71-CF5DA9192237@pixline.net>
References: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>	<674b4a3b0704120457s64a1411fy100c1bc969e6deed@mail.gmail.com>
	<B0E035E0-A209-45AB-9B71-CF5DA9192237@pixline.net>
Message-ID: <000001c77d2e$fb8bcfc0$f2a36f40$@net>

Did you import from UTW to WP22?
Mind sharing the script?

Thanks!

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Pixline
> Sent: Thursday, April 12, 2007 6:51 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] widget for wordpress built-in tag system
> 
> 12/apr/07, Austin Matzko:
> 
> > Someone submitted a tag cloud widget to trac here:
> > http://trac.wordpress.org/ticket/4130
> >
> 
> yeah. and it works like a charm (after a svn up, a db fix, and
> sidebar refactorizing of course)
> you can see 22bleeding and that widget live on http://
> medinforadio.net/ :-)
> thanks!
> 
> Paolo
> http://pixline.net
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From lloydomattic at gmail.com  Thu Apr 12 18:20:16 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Thu Apr 12 18:20:21 2007
Subject: [wp-hackers] widget for wordpress built-in tag system
In-Reply-To: <000001c77d2e$fb8bcfc0$f2a36f40$@net>
References: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>
	<674b4a3b0704120457s64a1411fy100c1bc969e6deed@mail.gmail.com>
	<B0E035E0-A209-45AB-9B71-CF5DA9192237@pixline.net>
	<000001c77d2e$fb8bcfc0$f2a36f40$@net>
Message-ID: <70ebb7140704121120t4dfcf6e3l96b13ef48164e2f5@mail.gmail.com>

On 4/12/07, Computer Guru <computerguru@neosmart.net> wrote:
> Did you import from UTW to WP22?
> Mind sharing the script?

MellerTime wrote it, it was tweaked and is already incorporated in trunk.
From computerguru at neosmart.net  Thu Apr 12 18:21:30 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Thu Apr 12 18:21:45 2007
Subject: [wp-hackers] widget for wordpress built-in tag system
In-Reply-To: <70ebb7140704121120t4dfcf6e3l96b13ef48164e2f5@mail.gmail.com>
References: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>	<674b4a3b0704120457s64a1411fy100c1bc969e6deed@mail.gmail.com>	<B0E035E0-A209-45AB-9B71-CF5DA9192237@pixline.net>	<000001c77d2e$fb8bcfc0$f2a36f40$@net>
	<70ebb7140704121120t4dfcf6e3l96b13ef48164e2f5@mail.gmail.com>
Message-ID: <000101c77d2f$66a56a00$33f03e00$@net>

Thanks, Lloyd :)

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Lloyd Budd
> Sent: Thursday, April 12, 2007 9:20 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] widget for wordpress built-in tag system
> 
> On 4/12/07, Computer Guru <computerguru@neosmart.net> wrote:
> > Did you import from UTW to WP22?
> > Mind sharing the script?
> 
> MellerTime wrote it, it was tweaked and is already incorporated in
> trunk.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mark.wordpress at txfx.net  Thu Apr 12 20:37:31 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Thu Apr 12 20:38:05 2007
Subject: [wp-hackers] Page categories
In-Reply-To: <461E58FB.4040206@metalab.unc.edu>
References: <461E3163.2070003@metalab.unc.edu>	<a491f91d0704120628n1ab6ec03kb41fc34370bde899@mail.gmail.com>	<461E3BB6.2060704@metalab.unc.edu>
	<a491f91d0704120745u5ad9e0b1j5eec0f47837baa90@mail.gmail.com>
	<461E58FB.4040206@metalab.unc.edu>
Message-ID: <3C15B273-12C5-4C58-AD1E-7F29DFA74D49@txfx.net>

On Apr 12, 2007, at 12:06 PM, Elliotte Harold wrote:

> 2. The goal is to be able to say wp_list_pages(categories="Birding  
> Blogging") and get a list all pages that match one of those  
> categories.
>
>
> It doesn't have to be categories. Tags might work. But we do need  
> something that's in between "Give me exactly these pages with these  
> IDs" and "Give me all pages".
>
> Subpages are about the hierarchy of the site. That's a different  
> story. What I'm trying to do here is get a list of links to all the  
> pages in a given category, not actually display the pages themselves.

Example:

hierarchy:

* Bird Blogging
	- Birds of prey
	- Songbirds
	- Bird-watching equipment

code:

<?php

$birds = get_page_by_path('bird-blogging');
$birds_array['child_of'] = (int) $birds->ID;

// or if you know the ID, just
// provide it and save a query

$birds_array['title_li'] = '';

wp_list_pages($birds_array);

?>

The only thing you don't get that you'd get from categories is having  
Pages exist in multiple categories (as they can only have one  
parent), but this sounds like it might work for some uses.

While subpages are about hierarchy, they can also be about grouping  
for convenience.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From johnbillion+wp at gmail.com  Thu Apr 12 21:27:36 2007
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu Apr 12 21:27:40 2007
Subject: [wp-hackers] Re: Editor button cusotmizations
Message-ID: <1fa535a70704121427m36e8b944x460a18635b4744bb@mail.gmail.com>

Elliotte,

A quick and dirty way of removing QuickTag buttons is to do it with
CSS. Create a plugin which uses the 'admin_head' hook to insert a
style declaration similar to this:

<style type="text/css">
#ed_del, #ed_ins, #ed_spell { display:none; }
</style>

You can get the IDs of all your current input buttons by viewing the
source of the admin screen (or probably from quicktags.js too).

Regards, John
From wordpress at dd32.id.au  Fri Apr 13 00:22:49 2007
From: wordpress at dd32.id.au (DD32)
Date: Fri Apr 13 00:22:41 2007
Subject: [wp-hackers] GSOC feedback
In-Reply-To: <f1cf41430704121042o11da026dq9965d47ed51b361c@mail.gmail.com>
References: <000601c77d08$b8a01de0$29e059a0$@com>
	<70ebb7140704120812y264234d9y1b2863a82333c0b3@mail.gmail.com>
	<f1cf41430704121042o11da026dq9965d47ed51b361c@mail.gmail.com>
Message-ID: <op.tqo4oby6k6w4mc@dd32.no-ip.com>

On Fri, 13 Apr 2007 03:42:39 +1000, Dr. Mike Wendell  
<theapparatus@gmail.com> wrote:
> 84?  Wow...
>
> That's a good sign. :)

And by the look of it, 10 of us were chosen :)
http://code.google.com/soc/wordpress/about.html

"Hierarchical Page (list) Management using jQuery"  should be interesteing  
to those following the "[wp-hackers] Page categories" thread.

D
-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From if.website at gmail.com  Fri Apr 13 01:32:29 2007
From: if.website at gmail.com (Austin Matzko)
Date: Fri Apr 13 01:32:35 2007
Subject: [wp-hackers] GSOC feedback
In-Reply-To: <op.tqo4oby6k6w4mc@dd32.no-ip.com>
References: <000601c77d08$b8a01de0$29e059a0$@com>
	<70ebb7140704120812y264234d9y1b2863a82333c0b3@mail.gmail.com>
	<f1cf41430704121042o11da026dq9965d47ed51b361c@mail.gmail.com>
	<op.tqo4oby6k6w4mc@dd32.no-ip.com>
Message-ID: <674b4a3b0704121832t2eb4d48bubcda1785753f3619@mail.gmail.com>

Is there some place that we can follow the students' progress?
From Brian at TheCodeCave.com  Fri Apr 13 01:32:36 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Fri Apr 13 01:32:41 2007
Subject: [wp-hackers] GSOC feedback
In-Reply-To: <op.tqo4oby6k6w4mc@dd32.no-ip.com>
Message-ID: <000401c77d6b$9eeb1e50$c864a8c0@tiger1>

> And by the look of it, 10 of us were chosen :)
http://code.google.com/soc/wordpress/about.html
Cool. They estimated that 600 students would be accepted this year.  So,
we've got 10 of those.

At $5000 a pop, that's still a fair bit of incentive to push WordPress
development forward!  

Thanks Google!

From lloydomattic at gmail.com  Fri Apr 13 01:39:07 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Fri Apr 13 01:39:12 2007
Subject: [wp-hackers] GSOC feedback
In-Reply-To: <000401c77d6b$9eeb1e50$c864a8c0@tiger1>
References: <op.tqo4oby6k6w4mc@dd32.no-ip.com>
	<000401c77d6b$9eeb1e50$c864a8c0@tiger1>
Message-ID: <70ebb7140704121839n1f1b8e0dj83cae4bd5046da6c@mail.gmail.com>

On 4/12/07, Brian Layman <Brian@thecodecave.com> wrote:
> > And by the look of it, 10 of us were chosen :)
> http://code.google.com/soc/wordpress/about.html
> Cool. They estimated that 600 students would be accepted this year.  So,
> we've got 10 of those.
>
> At $5000 a pop, that's still a fair bit of incentive to push WordPress
> development forward!

"We accepted over 900 student applicants from a pool of nearly 6,200
applications."
http://code.google.com/soc/
From lloydomattic at gmail.com  Fri Apr 13 01:40:09 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Fri Apr 13 01:40:23 2007
Subject: [wp-hackers] GSOC feedback
In-Reply-To: <674b4a3b0704121832t2eb4d48bubcda1785753f3619@mail.gmail.com>
References: <000601c77d08$b8a01de0$29e059a0$@com>
	<70ebb7140704120812y264234d9y1b2863a82333c0b3@mail.gmail.com>
	<f1cf41430704121042o11da026dq9965d47ed51b361c@mail.gmail.com>
	<op.tqo4oby6k6w4mc@dd32.no-ip.com>
	<674b4a3b0704121832t2eb4d48bubcda1785753f3619@mail.gmail.com>
Message-ID: <70ebb7140704121840r48327100r780ee30f8e0e6cd9@mail.gmail.com>

On 4/12/07, Austin Matzko <if.website@gmail.com> wrote:
> Is there some place that we can follow the students' progress?

Folllow? Participate, I would more hope ;-)

http://groups.google.com/group/wordpress-soc-2007

Do remember that SoC does not official start until May 28,
Lloyd
From supporto at pixline.net  Fri Apr 13 10:23:07 2007
From: supporto at pixline.net (Pixline)
Date: Fri Apr 13 10:23:14 2007
Subject: [wp-hackers] widget for wordpress built-in tag system
In-Reply-To: <000001c77d2e$fb8bcfc0$f2a36f40$@net>
References: <EFE7A4A6-A397-405C-ADA9-BB0568AAF1F0@pixline.net>	<674b4a3b0704120457s64a1411fy100c1bc969e6deed@mail.gmail.com>
	<B0E035E0-A209-45AB-9B71-CF5DA9192237@pixline.net>
	<000001c77d2e$fb8bcfc0$f2a36f40$@net>
Message-ID: <80915BBC-2487-40F8-AEDD-B4916F975B11@pixline.net>


Il giorno 12/apr/07, alle ore 20:18, Computer Guru ha scritto:

> Did you import from UTW to WP22?
> Mind sharing the script?

as far as I can remember, the importer is in trunk, but we didn't use  
it, medinfo is a brand new project with no import at all :-)

now that the widget has been made and works and it's also in the  
trunk, i can work around it on my wpmu project, just to understand if  
there's a way to collect sitewide tags from all the blogs. actually  
I'm working to a custom wpmu implementation as a portal system, and  
that sitewide tag system would be nice. i'm not used to wordpress.com  
blogs, but they seems to use something like that, and I also want  
this! :-)

thank you for your help. every mail I read in this list is a new step  
forward for my WP consciousness, and I love it!
p.
From supporto at pixline.net  Fri Apr 13 10:41:35 2007
From: supporto at pixline.net (Pixline)
Date: Fri Apr 13 10:41:42 2007
Subject: [wp-hackers] Javascript Library
In-Reply-To: <70ebb7140704101436k32f232e4v1b4050d8f32225eb@mail.gmail.com>
References: <a491f91d0704101432o52211c3h322fd679b36af67b@mail.gmail.com>
	<70ebb7140704101436k32f232e4v1b4050d8f32225eb@mail.gmail.com>
Message-ID: <F3DE6F91-11D3-4E13-B511-4B99A0A811F1@pixline.net>

10/apr/07, Lloyd Budd:
> The discussions that I have heard / read supports that. Most recently
> I think it sounded like it was not all going to get done for 2.2
> http://trac.wordpress.org/ticket/3824 relates

I'm working on a sidebar-widget clone for the homepage , and the  
drag&drop interface is actually 99% compatible with its original  
interface, but in jquery. You can get a working alpha of that 'post  
widgets' on http://pixline.net/wphackers/postwidgets.zip , it's  
tested with bleeding and wpmu.

I'd love to release my plugin system alongside 2.2 (but I'm not  
really sure I can make it), but I think that sidebar interface is  
actually heavy compared to other admin areas. Because widget system  
isn't in the core, I'm wondering if converting it's interface would  
be a priority; in that case I'll be glad to work with someone on the  
new sidebar widget interface, because despite I've translated a  
javascript course, I really suck at js, expecially @ ajax :-)

Let me know if I can help
Paolo
From supporto at pixline.net  Fri Apr 13 14:59:03 2007
From: supporto at pixline.net (Pixline)
Date: Fri Apr 13 14:59:11 2007
Subject: [wp-hackers] Javascript Library
In-Reply-To: <F3DE6F91-11D3-4E13-B511-4B99A0A811F1@pixline.net>
References: <a491f91d0704101432o52211c3h322fd679b36af67b@mail.gmail.com>
	<70ebb7140704101436k32f232e4v1b4050d8f32225eb@mail.gmail.com>
	<F3DE6F91-11D3-4E13-B511-4B99A0A811F1@pixline.net>
Message-ID: <7B4458E3-5381-48E6-8409-35039E79D4A2@pixline.net>

> 10/apr/07, Lloyd Budd:
>> The discussions that I have heard / read supports that. Most recently
>> I think it sounded like it was not all going to get done for 2.2
>> http://trac.wordpress.org/ticket/3824 relates

I have a working demo of the sidebar widget admin with jquery.
You can fetch it on http://pixline.net/wphackers/widgets-jquery.zip

If someone would like to give it a try and suggest/hint/help me, I  
think won't be hard to switch widgets to jquery.
Actually have a known bug: don't work if sanitized name of the  
sidebar is like "sidebar-1",
even if this is default sidebar name my js don't like the dash inside  
(js is not my favourite playground),
so if you have a sidebar and don't work please name it without any  
space inside and check if it works.

I'd love to hear about that from the people who actually wrote/ 
mainain sidebar widgets, just to know if I'm wasting my (maybe your)  
time :-)

Regards,
Paolo
------------------------------------
Pixline Freelance Network
http://pixline.net



From lloydomattic at gmail.com  Fri Apr 13 15:36:12 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Fri Apr 13 15:36:18 2007
Subject: mu global tags was( Re: [wp-hackers] widget for wordpress built-in
	tag system)
Message-ID: <70ebb7140704130836p6886a371j15e22207abf8528a@mail.gmail.com>

On 4/13/07, Pixline <supporto@pixline.net> wrote:

> now that the widget has been made and works and it's also in the
> trunk, i can work around it on my wpmu project, just to understand if
> there's a way to collect sitewide tags from all the blogs. actually
> I'm working to a custom wpmu implementation as a portal system, and
> that sitewide tag system would be nice. i'm not used to wordpress.com
> blogs, but they seems to use something like that, and I also want
> this! :-)

I am sure this has been discussed else where:
There is no public plugin I know of to do global tags, my suggestion
would be to capitalize on the fact that MU gives all its categories
the same ID, and just store a central table with tag id, blog id, post
id, and date.

Hope that helps,
-- 
Lloyd Budd | Digital Entomologist | 250-885-1744
WordPress.com | WordPress.org | Automattic.com
From supporto at pixline.net  Fri Apr 13 16:00:44 2007
From: supporto at pixline.net (Pixline)
Date: Fri Apr 13 16:00:52 2007
Subject: mu global tags was( Re: [wp-hackers] widget for wordpress
	built-in tag system)
In-Reply-To: <70ebb7140704130836p6886a371j15e22207abf8528a@mail.gmail.com>
References: <70ebb7140704130836p6886a371j15e22207abf8528a@mail.gmail.com>
Message-ID: <3E58961B-ABF6-490E-855F-72EFAC7E1A1A@pixline.net>

13/apr/07, Lloyd Budd:

> I am sure this has been discussed else where:
> There is no public plugin I know of to do global tags, my suggestion
> would be to capitalize on the fact that MU gives all its categories
> the same ID, and just store a central table with tag id, blog id, post
> id, and date.

This sounds really, really good to me. I'll put myself on it tomorrow..
Really thanks for the hint.

Paolo
------------------------------------
Pixline Freelance Network
http://pixline.net



From theapparatus at gmail.com  Fri Apr 13 16:18:07 2007
From: theapparatus at gmail.com (Dr. Mike Wendell)
Date: Fri Apr 13 16:18:12 2007
Subject: mu global tags was( Re: [wp-hackers] widget for wordpress
	built-in tag system)
In-Reply-To: <70ebb7140704130836p6886a371j15e22207abf8528a@mail.gmail.com>
References: <70ebb7140704130836p6886a371j15e22207abf8528a@mail.gmail.com>
Message-ID: <f1cf41430704130918j7dbef9afk6211416ef9f692df@mail.gmail.com>

> I am sure this has been discussed else where:
> There is no public plugin I know of to do global tags, my suggestion
> would be to capitalize on the fact that MU gives all its categories
> the same ID, and just store a central table with tag id, blog id, post
> id, and date.

Kind of sort of.  We just run a seperate wordpress blog for them
although others have reported that you can do it within a single blog
within wpmu.

http://mu.wordpress.org/forums/topic.php?id=3247

Regards,
-drmike

-- 
Blog: http://drmikessteakdinner.com
Kim Possible: Remixed: http://kimpossibleremixed.com
Get your own free hosted WordPress Blog today: http://daria.be
From elharo at metalab.unc.edu  Fri Apr 13 21:36:34 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Fri Apr 13 21:36:45 2007
Subject: [wp-hackers] Bug: admin_head called early
Message-ID: <461FF7E2.6010207@metalab.unc.edu>

The admin_head hook is documented as:

     Executes in the <head> section of the admin panel. Useful for 
insertion of additional content.


However I think it actually fires early, before the head. I'm seeing 
output like this when I hook into it:


<style type="text/css">#ed_lookup, #ed_spell { display:none; } </style>
         <script type='text/javascript'>
var emButton = document.getElementById('ed_em')
emButton.setAttribute('value', 'em')
 ></script>        <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 
Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Mokka mit Schlag &rsaquo; Create New Post &#8212; WordPress</title>
<link rel="stylesheet" 
href="http://www.elharo.com/blog/wp-admin/wp-admin.css?version=2.1.3" 
type="text/css" />
...

The first style and script element are from my nascent plugin. Notice 
that they show up before the DOCTYPE and root element. They should show 
up in the head element after the <head> start-tag.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From peter.westwood at ftwr.co.uk  Fri Apr 13 21:51:13 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri Apr 13 21:50:38 2007
Subject: [wp-hackers] Bug: admin_head called early
In-Reply-To: <461FF7E2.6010207@metalab.unc.edu>
References: <461FF7E2.6010207@metalab.unc.edu>
Message-ID: <461FFB51.70703@ftwr.co.uk>

Elliotte Harold wrote:
> The admin_head hook is documented as:
> 
>     Executes in the <head> section of the admin panel. Useful for 
> insertion of additional content.
> 
> 
> However I think it actually fires early, before the head. I'm seeing 
> output like this when I hook into it:
> 
> 
> <style type="text/css">#ed_lookup, #ed_spell { display:none; } </style>
>         <script type='text/javascript'>
> var emButton = document.getElementById('ed_em')
> emButton.setAttribute('value', 'em')
>  ></script>        <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 
> Transitional//EN" 
> "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
> <html xmlns="http://www.w3.org/1999/xhtml" >
> <head>
> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
> <title>Mokka mit Schlag &rsaquo; Create New Post &#8212; WordPress</title>
> <link rel="stylesheet" 
> href="http://www.elharo.com/blog/wp-admin/wp-admin.css?version=2.1.3" 
> type="text/css" />
> ...
> 
> The first style and script element are from my nascent plugin. Notice 
> that they show up before the DOCTYPE and root element. They should show 
> up in the head element after the <head> start-tag.
> 

Please can you supply example code that demonstrates this issue.

Reviewing the code in question sheds no light on the problem

Cheers

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk
From elharo at metalab.unc.edu  Fri Apr 13 21:55:22 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Fri Apr 13 21:55:31 2007
Subject: [wp-hackers] Bug: admin_head called early
In-Reply-To: <461FFB51.70703@ftwr.co.uk>
References: <461FF7E2.6010207@metalab.unc.edu> <461FFB51.70703@ftwr.co.uk>
Message-ID: <461FFC4A.6030401@metalab.unc.edu>

Peter Westwood wrote:

> Please can you supply example code that demonstrates this issue.
> 
> Reviewing the code in question sheds no light on the problem
> 
> Cheers
> 
> westi

Installing this simple plug-in will do the trick: (I do not promise it 
won;t break anything)


<?php

/*
Plugin Name: SemButtons
Version: 0.1
Plugin URI: http://www.elharo.com/SemButtons.html
Description: This plugin makes the Wordpress editor button bar more 
semantic.
Author: Elliotte Rusty Harold
Author URI: http://www.elharo.com/
Update:
*/

	add_action('admin_menu', 'remove_buttons');


	function remove_buttons(){
		?>
<style type="text/css">#ed_lookup, #ed_spell { display:none; } </style>
         <?php
	}

?>



-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From elharo at metalab.unc.edu  Fri Apr 13 22:02:01 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Fri Apr 13 22:02:09 2007
Subject: [wp-hackers] Bug: admin_head called early
In-Reply-To: <461FFC4A.6030401@metalab.unc.edu>
References: <461FF7E2.6010207@metalab.unc.edu> <461FFB51.70703@ftwr.co.uk>
	<461FFC4A.6030401@metalab.unc.edu>
Message-ID: <461FFDD9.9070200@metalab.unc.edu>

I have looked at the code, and it does look like it the data should be 
showing up at the end of the head, right before </head>. I can't explain 
why it's coming in earlier.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From if.website at gmail.com  Fri Apr 13 22:03:14 2007
From: if.website at gmail.com (Austin Matzko)
Date: Fri Apr 13 22:03:18 2007
Subject: [wp-hackers] Bug: admin_head called early
In-Reply-To: <461FFC4A.6030401@metalab.unc.edu>
References: <461FF7E2.6010207@metalab.unc.edu> <461FFB51.70703@ftwr.co.uk>
	<461FFC4A.6030401@metalab.unc.edu>
Message-ID: <674b4a3b0704131503r45e4628draba7f2176f055374@mail.gmail.com>

On 4/13/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
>         add_action('admin_menu', 'remove_buttons');

You want admin_head, not admin_menu.
From elharo at metalab.unc.edu  Fri Apr 13 22:23:36 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Fri Apr 13 22:23:44 2007
Subject: [wp-hackers] Bug: admin_head called early
In-Reply-To: <674b4a3b0704131503r45e4628draba7f2176f055374@mail.gmail.com>
References: <461FF7E2.6010207@metalab.unc.edu>
	<461FFB51.70703@ftwr.co.uk>	<461FFC4A.6030401@metalab.unc.edu>
	<674b4a3b0704131503r45e4628draba7f2176f055374@mail.gmail.com>
Message-ID: <462002E8.1090800@metalab.unc.edu>

Austin Matzko wrote:
> On 4/13/07, Elliotte Harold <elharo@metalab.unc.edu> wrote:
>>         add_action('admin_menu', 'remove_buttons');
> 
> You want admin_head, not admin_menu.

Doh! This is why pair programming works. There's someone else to catch 
your stupid mistakes.

Sorry for the noise.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From jalkut at red-sweater.com  Sat Apr 14 01:23:20 2007
From: jalkut at red-sweater.com (Daniel Jalkut)
Date: Sat Apr 14 01:23:31 2007
Subject: [wp-hackers] No XML-RPC Interface to tags in WP 2.2? 
Message-ID: <1107E78C-A653-4398-9796-58120A23DE5D@red-sweater.com>


I admit I'm late to the party, so I don't expect miracles here. I  
just want to make sure I understand the situation, and all parties  
who might be able to do something about it, understand the situation :)

I reopened issue 900 and submitted a patch to support mt_categories  
as an input/output mechanism for native tags in WP 2.2. The milestone  
has been changed to 2.3, so I assume this means there won't be any  
XML-RPC interface to tags for 2.2.

Is this a correct understanding, and does anybody besides me see it  
as a feature-marring deficiency?

Thanks for your attention,
Daniel
From Brian at TheCodeCave.com  Sat Apr 14 01:24:35 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Sat Apr 14 01:24:39 2007
Subject: [wp-hackers] Bug: admin_head called early
In-Reply-To: <462002E8.1090800@metalab.unc.edu>
Message-ID: <004401c77e33$aacf6960$c864a8c0@tiger1>

> Doh! This is why pair programming works. There's someone else to catch

> your stupid mistakes.
> Sorry for the noise.

And the other half of the time it just takes saying it out loud to
someone.  We've all been there.

From hovenko at linpro.no  Sat Apr 14 22:59:30 2007
From: hovenko at linpro.no (Knut-Olav Hoven)
Date: Sat Apr 14 22:59:35 2007
Subject: [wp-hackers] A new category structure for WordPress
Message-ID: <200704150059.30255.hovenko@linpro.no>

I just wrote a ticket on trac that describes what I think is a better way to 
handle categories than what we have today, especially since tags more and 
more take over for categorizing posts.

The ticket is to find here:
http://trac.wordpress.org/ticket/4148

Basically it describes using pages as a parent/category for posts and only one 
per post.


-- 
Knut-Olav Hoven
Systemutvikler               mob: +47 986 71 700
Linpro AS                    http://www.linpro.no/
From false.hopes at gmail.com  Sat Apr 14 23:05:02 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Sat Apr 14 23:05:08 2007
Subject: [wp-hackers] A new category structure for WordPress
In-Reply-To: <200704150059.30255.hovenko@linpro.no>
References: <200704150059.30255.hovenko@linpro.no>
Message-ID: <a491f91d0704141605l1034d34cw9a2a5d54157e983b@mail.gmail.com>

On 4/14/07, Knut-Olav Hoven <hovenko@linpro.no> wrote:
> I just wrote a ticket on trac that describes what I think is a better way to
> handle categories than what we have today, especially since tags more and
> more take over for categorizing posts.
>
> The ticket is to find here:
> http://trac.wordpress.org/ticket/4148
>
> Basically it describes using pages as a parent/category for posts and only one
> per post.

A _strong_ -1

Quick, concise reasons:
- Pages aren't containers for posts
- Assigning to multiple categories is essential
- Tags are not a replacement for hierarchical category structures

"especially since tags more and more take over for categorizing posts."
Something is wrong with that statement.

-- 
--Robert Deaton
http://lushlab.com
From hovenko at linpro.no  Sat Apr 14 23:39:26 2007
From: hovenko at linpro.no (Knut-Olav Hoven)
Date: Sat Apr 14 23:39:32 2007
Subject: [wp-hackers] A new category structure for WordPress
In-Reply-To: <a491f91d0704141605l1034d34cw9a2a5d54157e983b@mail.gmail.com>
References: <200704150059.30255.hovenko@linpro.no>
	<a491f91d0704141605l1034d34cw9a2a5d54157e983b@mail.gmail.com>
Message-ID: <200704150139.26726.hovenko@linpro.no>

On Sunday 15 April 2007 01:05:02 Robert Deaton wrote:
> On 4/14/07, Knut-Olav Hoven <hovenko@linpro.no> wrote:
> > I just wrote a ticket on trac that describes what I think is a better way
> > to handle categories than what we have today, especially since tags more
> > and more take over for categorizing posts.
> >
> > The ticket is to find here:
> > http://trac.wordpress.org/ticket/4148
> >
> > Basically it describes using pages as a parent/category for posts and
> > only one per post.
>
> A _strong_ -1
Ok, not a very good start ;)

> Quick, concise reasons:
> - Pages aren't containers for posts
They don't have to be. I just say they could.

> - Assigning to multiple categories is essential
Multiple tags?

> - Tags are not a replacement for hierarchical category structures
Combined tags when searching gives you allmost the same functionality.

> "especially since tags more and more take over for categorizing posts."
> Something is wrong with that statement.
Isn't the "hype" these days to tag everything?

Microsoft is doing this in WinFS with metadata on each file, OSX does it with 
Finder, Linux does it with Beagle and Google does it with Google Desktop.

Browsing directories (and categories) is no longer the preferred solution for 
finding what you are really looking for.


-- 
Knut-Olav Hoven
Systemutvikler               mob: +47 986 71 700
Linpro AS                    http://www.linpro.no/
From abrazell at b5media.com  Sat Apr 14 23:43:08 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Sat Apr 14 23:45:16 2007
Subject: [wp-hackers] A new category structure for WordPress
In-Reply-To: <200704150139.26726.hovenko@linpro.no>
References: <200704150059.30255.hovenko@linpro.no>
	<a491f91d0704141605l1034d34cw9a2a5d54157e983b@mail.gmail.com>
	<200704150139.26726.hovenko@linpro.no>
Message-ID: <3D7C6063-0C09-408D-B19D-AACB360CDC01@b5media.com>

You do make a good point and from an angle I had not thought of.  
However, Tags should _never_ replace categories. There's a semantic  
reason for both that makes sense. Tagging is simply metadata - not  
compartmentalization. There's room for both, as there should be.
--
Aaron Brazell
Technology Manager, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor


On Apr 14, 2007, at 7:39 PM, Knut-Olav Hoven wrote:

> Microsoft is doing this in WinFS with metadata on each file, OSX  
> does it with
> Finder, Linux does it with Beagle and Google does it with Google  
> Desktop.
>
> Browsing directories (and categories) is no longer the preferred  
> solution for
> finding what you are really looking for.

From false.hopes at gmail.com  Sun Apr 15 00:06:09 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Sun Apr 15 00:06:15 2007
Subject: [wp-hackers] A new category structure for WordPress
In-Reply-To: <200704150139.26726.hovenko@linpro.no>
References: <200704150059.30255.hovenko@linpro.no>
	<a491f91d0704141605l1034d34cw9a2a5d54157e983b@mail.gmail.com>
	<200704150139.26726.hovenko@linpro.no>
Message-ID: <a491f91d0704141706n33a7fb6bid94e43d9577b884e@mail.gmail.com>

On 4/14/07, Knut-Olav Hoven <hovenko@linpro.no> wrote:
> On Sunday 15 April 2007 01:05:02 Robert Deaton wrote:
> > On 4/14/07, Knut-Olav Hoven <hovenko@linpro.no> wrote:
> > > I just wrote a ticket on trac that describes what I think is a better way
> > > to handle categories than what we have today, especially since tags more
> > > and more take over for categorizing posts.
> > >
> > > The ticket is to find here:
> > > http://trac.wordpress.org/ticket/4148
> > >
> > > Basically it describes using pages as a parent/category for posts and
> > > only one per post.
> >
> > A _strong_ -1
> Ok, not a very good start ;)
>
> > Quick, concise reasons:
> > - Pages aren't containers for posts
> They don't have to be. I just say they could.
>
> > - Assigning to multiple categories is essential
> Multiple tags?

Categories != Tags

>
> > - Tags are not a replacement for hierarchical category structures
> Combined tags when searching gives you allmost the same functionality.

Tags do not have relationships, explicit or implied, in any way
whatsoever. Their only relationship is that some things may share two
tags.

Categories have relationships. PHP is a subcategory of Programmming,
and it makes sense to be. WordPress is a subcat of Blogging Software.
The a post tagged "wordpress blogging+software" does not display this
relationship, nor can you browse by this relationship.

> > "especially since tags more and more take over for categorizing posts."
> > Something is wrong with that statement.
> Isn't the "hype" these days to tag everything?

The hype these days is also to parade around digg and slashdot like a
2 year old who can't type, flame everyone to hell, and make insane
amounts of stupid looking misspelled cat pictures, but that doesn't
mean we should reduce ourselves to 2 year olds.

> Microsoft is doing this in WinFS with metadata on each file, OSX does it with
> Finder, Linux does it with Beagle and Google does it with Google Desktop.

Sounds to me like you're suggesting a better search, not advocating a
reason that humans should take the time to attempt to properly tag
their posts. The beauty of all the above is that there is no human
interaction involved. If we had to tag our own files, I guarantee that
most people would never find what they were looking for.

> Browsing directories (and categories) is no longer the preferred solution for
> finding what you are really looking for.

Just because an additional searching software can tell that my files
are pictures doesn't mean I should no longer put them in a picture
directory. And we aren't dealing with advanced file indexing
algorithms and metadata searching algorithms, this is a simple
blogging/CMS software.

-- 
--Robert Deaton
http://lushlab.com
From lloydomattic at gmail.com  Sun Apr 15 01:21:27 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Sun Apr 15 01:21:32 2007
Subject: [wp-hackers] No XML-RPC Interface to tags in WP 2.2?
In-Reply-To: <1107E78C-A653-4398-9796-58120A23DE5D@red-sweater.com>
References: <1107E78C-A653-4398-9796-58120A23DE5D@red-sweater.com>
Message-ID: <70ebb7140704141821u233e5ed4if51f178a97aec717@mail.gmail.com>

On 4/13/07, Daniel Jalkut <jalkut@red-sweater.com> wrote:
>
> I admit I'm late to the party, so I don't expect miracles here. I
> just want to make sure I understand the situation, and all parties
> who might be able to do something about it, understand the situation :)
>
> I reopened issue 900 and submitted a patch to support mt_categories
> as an input/output mechanism for native tags in WP 2.2. The milestone
> has been changed to 2.3, so I assume this means there won't be any
> XML-RPC interface to tags for 2.2.
>
> Is this a correct understanding, and does anybody besides me see it
> as a feature-marring deficiency?
>
> Thanks for your attention,
> Daniel

The priority is shipping regularly, high quality releases, and the
WordPress 2.2 pregnancy has almost come to term.  2.3 is really not
that far away.

westi, provided feedback on the patch, and no one has updated the
ticket addressing those "deficiency".

Hope that helps,
-- 
Lloyd Budd | Digital Entomologist | 250-885-1744
WordPress.com | WordPress.org | Automattic.com
From computerguru at neosmart.net  Sun Apr 15 05:45:56 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 15 05:46:26 2007
Subject: [wp-hackers] A new category structure for WordPress
In-Reply-To: <200704150139.26726.hovenko@linpro.no>
References: <200704150059.30255.hovenko@linpro.no>	<a491f91d0704141605l1034d34cw9a2a5d54157e983b@mail.gmail.com>
	<200704150139.26726.hovenko@linpro.no>
Message-ID: <000001c77f21$58e48c90$0aada5b0$@net>

Microsoft dropped WinFS for a reason :P
http://neosmart.net/blog/2006/winfs/

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Knut-Olav Hoven
> Sent: Sunday, April 15, 2007 2:39 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] A new category structure for WordPress
> 
> On Sunday 15 April 2007 01:05:02 Robert Deaton wrote:
> > On 4/14/07, Knut-Olav Hoven <hovenko@linpro.no> wrote:
> > > I just wrote a ticket on trac that describes what I think is a
> better way
> > > to handle categories than what we have today, especially since tags
> more
> > > and more take over for categorizing posts.
> > >
> > > The ticket is to find here:
> > > http://trac.wordpress.org/ticket/4148
> > >
> > > Basically it describes using pages as a parent/category for posts
> and
> > > only one per post.
> >
> > A _strong_ -1
> Ok, not a very good start ;)
> 
> > Quick, concise reasons:
> > - Pages aren't containers for posts
> They don't have to be. I just say they could.
> 
> > - Assigning to multiple categories is essential
> Multiple tags?
> 
> > - Tags are not a replacement for hierarchical category structures
> Combined tags when searching gives you allmost the same functionality.
> 
> > "especially since tags more and more take over for categorizing
> posts."
> > Something is wrong with that statement.
> Isn't the "hype" these days to tag everything?
> 
> Microsoft is doing this in WinFS with metadata on each file, OSX does
> it with
> Finder, Linux does it with Beagle and Google does it with Google
> Desktop.
> 
> Browsing directories (and categories) is no longer the preferred
> solution for
> finding what you are really looking for.
> 
> 
> --
> Knut-Olav Hoven
> Systemutvikler               mob: +47 986 71 700
> Linpro AS                    http://www.linpro.no/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From false.hopes at gmail.com  Sun Apr 15 06:05:30 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Sun Apr 15 06:05:35 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
Message-ID: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>

Okay, I'll try to cut right to the point here, cause its getting late
and my brain functionality is quickly slipping away. WordPress 2.2 is
shipped for release very shortly. Unfortunately, we're cutting it
pretty close again, with big changes going in only a week before its
scheduled for final release. Not only does this mean we're once again
not leaving time for the testing that is likely needed (think WP 2.0),
it means we are only a week away from releasing into the wild what I
see to be a mistake.

WordPress 2.2 features the new WP core tagging system. That's an
inevitability, its not going anywhere, and that's not what I'm
suggesting. The problem is, like linkcategories, its been thrown into
the categories table as well. Now, without getting into specifics, it
is a given that tags and categories are not the same. So why are we
storing them in the same table? Post categories and link categories
are also not the same, so again, why?

I believe that we should take the time now, before a release of
WordPress is made with these database schema changes, to fix the
issue. I think that the categories table needs to be resplit into a
link categories table, a post categories table, and a tag table, each
set up to handle their own specific job instead of throwing them
together with legacy fields. Let's have a look at the categories
table.

13 	$wp_queries="CREATE TABLE $wpdb->categories (
14 	  cat_ID bigint(20) NOT NULL auto_increment,

15 	  cat_name varchar(55) NOT NULL default '',
16 	  category_nicename varchar(200) NOT NULL default '',
^^ those two lines do seem rather inconsistent, don't you think?

17 	  category_description longtext NOT NULL,
18 	  category_parent bigint(20) NOT NULL default '0',
19 	  category_count bigint(20) NOT NULL default '0',

20 	  link_count bigint(20) NOT NULL default '0',
21 	  tag_count bigint(20) NOT NULL default '0',
^^ two different count fields only used for some of the things stored
in the table at different times

22 	  posts_private tinyint(1) NOT NULL default '0',
23 	  links_private tinyint(1) NOT NULL default '0',
^^ again

24 	  type tinyint NOT NULL default '1',
^^ a bitfield, instead of an enum? brilliant.

25 	  PRIMARY KEY  (cat_ID),
26 	  KEY category_nicename (category_nicename)
27 	) $charset_collate;

So, basically, its all lumped together. No wonder WP is notorious for
slow and poor queries.

While on the subject of splitting these out, I also believe that it is
about time that we created a proper schema and structure for managing
category hierarchies. I'm personally favoring the nested set model at
the moment, but really any proper schema that would allow us to manage
hierarchies easily with fewer queries would do.

The categories schema changes can probably wait for the next version,
as its a large undertaking and a lot to test, however I think that it
definitely wouldn't hurt to push back 2.2 and get these tables
separated and sorted out before they ship in a release and then we
have to worry about serious backwards compatibility issues when trying
to make these changes in the next version.

-- 
--Robert Deaton
http://lushlab.com
From computerguru at neosmart.net  Sun Apr 15 06:24:12 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 15 06:24:41 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
Message-ID: <000101c77f26$b0e0b630$12a22290$@net>

+1

The UTW import script is BROKEN and imports "Multiple Word Tags" as "Multiple-Word-Tags" - but that's not the point.

Robert, you're 100% correct. The current layout made my heart skip a beat when I saw that the tags weren't in wp_tags as they were in UTW but in wp_categories... and that we were using the category_type to ID a tag.

Reasons why tags shouldn't be with categories:

1) Tags aren't hierarchal
2) Tags can (theoretically - again, look at UTW) have synonyms -- Categories shouldn't.
3) Tags and categories aren't dependant on one-another, so there is absolutely no benefit to sticking them in the same table. Again, *TABLES ARE CHEAP* database clutter, however, isn't.


Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Robert Deaton
> Sent: Sunday, April 15, 2007 9:06 AM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
> 
> Okay, I'll try to cut right to the point here, cause its getting late
> and my brain functionality is quickly slipping away. WordPress 2.2 is
> shipped for release very shortly. Unfortunately, we're cutting it
> pretty close again, with big changes going in only a week before its
> scheduled for final release. Not only does this mean we're once again
> not leaving time for the testing that is likely needed (think WP 2.0),
> it means we are only a week away from releasing into the wild what I
> see to be a mistake.
> 
> WordPress 2.2 features the new WP core tagging system. That's an
> inevitability, its not going anywhere, and that's not what I'm
> suggesting. The problem is, like linkcategories, its been thrown into
> the categories table as well. Now, without getting into specifics, it
> is a given that tags and categories are not the same. So why are we
> storing them in the same table? Post categories and link categories
> are also not the same, so again, why?
> 
> I believe that we should take the time now, before a release of
> WordPress is made with these database schema changes, to fix the
> issue. I think that the categories table needs to be resplit into a
> link categories table, a post categories table, and a tag table, each
> set up to handle their own specific job instead of throwing them
> together with legacy fields. Let's have a look at the categories
> table.
> 
> 13 	$wp_queries="CREATE TABLE $wpdb->categories (
> 14 	  cat_ID bigint(20) NOT NULL auto_increment,
> 
> 15 	  cat_name varchar(55) NOT NULL default '',
> 16 	  category_nicename varchar(200) NOT NULL default '',
> ^^ those two lines do seem rather inconsistent, don't you think?
> 
> 17 	  category_description longtext NOT NULL,
> 18 	  category_parent bigint(20) NOT NULL default '0',
> 19 	  category_count bigint(20) NOT NULL default '0',
> 
> 20 	  link_count bigint(20) NOT NULL default '0',
> 21 	  tag_count bigint(20) NOT NULL default '0',
> ^^ two different count fields only used for some of the things stored
> in the table at different times
> 
> 22 	  posts_private tinyint(1) NOT NULL default '0',
> 23 	  links_private tinyint(1) NOT NULL default '0',
> ^^ again
> 
> 24 	  type tinyint NOT NULL default '1',
> ^^ a bitfield, instead of an enum? brilliant.
> 
> 25 	  PRIMARY KEY  (cat_ID),
> 26 	  KEY category_nicename (category_nicename)
> 27 	) $charset_collate;
> 
> So, basically, its all lumped together. No wonder WP is notorious for
> slow and poor queries.
> 
> While on the subject of splitting these out, I also believe that it is
> about time that we created a proper schema and structure for managing
> category hierarchies. I'm personally favoring the nested set model at
> the moment, but really any proper schema that would allow us to manage
> hierarchies easily with fewer queries would do.
> 
> The categories schema changes can probably wait for the next version,
> as its a large undertaking and a lot to test, however I think that it
> definitely wouldn't hurt to push back 2.2 and get these tables
> separated and sorted out before they ship in a release and then we
> have to worry about serious backwards compatibility issues when trying
> to make these changes in the next version.
> 
> --
> --Robert Deaton
> http://lushlab.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wphackers at jamietalbot.com  Sun Apr 15 06:30:12 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Sun Apr 15 06:30:37 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
Message-ID: <4621C674.80500@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Robert Deaton wrote:
> I believe that we should take the time now, before a release of
> WordPress is made with these database schema changes, to fix the
> issue. I think that the categories table needs to be resplit into a
> link categories table, a post categories table, and a tag table, each
> set up to handle their own specific job instead of throwing them
> together with legacy fields.

I'm strongly in favour of your idea Robert and am on the record as being strong against the current
implementation.  I believe the schema we have now will damage WordPress' credibility among
developers.  In my eyes it's a very poor design choice.  It doesn't matter that the end user doesn't
know the difference - those who come into contact with the codebase will.

The issues with the structure now in use were debated strongly on trac[1], but unfortunately Matt
went and committed the changes anyway, without ever really addressing them.  Comments from ryan[2]
and rob1n[3] seem to suggest they also have their doubts.  In fact, I haven't seen one comment from
anyone who is in favour of this monolithic design.  It seems like a unilateral decision, the main
argument for which was "We already have API that we can reuse" - never mind the huge amount of
changes that have since had to be made anyway.  With the addition of the bitfield, we now have
another horrendous hack to go along with 'link_count > 0'.

Unfortunately, I suspect that all of this will be dismissed with "It's there and it works, so why
bother changing it" and "We have a public deadline, we should stick to it".  Neither of these
arguments hold water.

Jamie.

[1] http://trac.wordpress.org/ticket/3723 (my comments as 'majelbstoat')
[2] http://trac.wordpress.org/ticket/3723#comment:42
[3] http://trac.wordpress.org/ticket/4148#comment:2 (at the bottom)

- --
http://jamietalbot.com
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGIcZzrovxfShShFARAh/3AKCESjE187LCUCmgh7dZVWb0OW9vkQCfd5lZ
tLu2Hfcyc+t3BpUFIXP4qrQ=
=nubO
-----END PGP SIGNATURE-----
From mark.wordpress at txfx.net  Sun Apr 15 07:18:56 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Sun Apr 15 07:19:40 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
Message-ID: <D23A6C62-F8DF-485F-9491-4250547ECED6@txfx.net>

On Apr 15, 2007, at 2:05 AM, Robert Deaton wrote:

> The categories schema changes can probably wait for the next version,
> as its a large undertaking and a lot to test, however I think that it
> definitely wouldn't hurt to push back 2.2 and get these tables
> separated and sorted out before they ship in a release and then we
> have to worry about serious backwards compatibility issues when trying
> to make these changes in the next version.

It certainly wouldn't hurt my feelings.  It was supposed to be a 4  
month development cycle anyway, and it was a mistake that it was  
scheduled for April.

And I'm definitely off the fence with regards to our taxonomy  
implementation.  This is madness.  Number of tables is a meaningless  
metric.  Community consensus, reduction of coding headaches, and KISS  
design are important metrics.  Split 'em, and do it properly.  If not  
now, immediately after 2.2

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From elharo at metalab.unc.edu  Sun Apr 15 10:08:49 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Sun Apr 15 10:09:02 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <000101c77f26$b0e0b630$12a22290$@net>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
	<000101c77f26$b0e0b630$12a22290$@net>
Message-ID: <4621F9B1.9030406@metalab.unc.edu>

+1
-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From peter.westwood at ftwr.co.uk  Sun Apr 15 10:29:09 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun Apr 15 10:28:32 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
Message-ID: <4621FE75.2080605@ftwr.co.uk>

Robert Deaton wrote:
> Okay, I'll try to cut right to the point here, cause its getting late
> and my brain functionality is quickly slipping away. WordPress 2.2 is
> shipped for release very shortly. Unfortunately, we're cutting it
> pretty close again, with big changes going in only a week before its
> scheduled for final release. Not only does this mean we're once again
> not leaving time for the testing that is likely needed (think WP 2.0),
> it means we are only a week away from releasing into the wild what I
> see to be a mistake.
> 
> WordPress 2.2 features the new WP core tagging system. That's an
> inevitability, its not going anywhere, and that's not what I'm
> suggesting. The problem is, like linkcategories, its been thrown into
> the categories table as well. Now, without getting into specifics, it
> is a given that tags and categories are not the same. So why are we
> storing them in the same table? Post categories and link categories
> are also not the same, so again, why?
> 

+1

I really can't see anyone justifying releasing 2.2 any time soon anyway.

The original idea behind the 120day release cycle was for a decent 
beta/stability period before release [1]:

"
2 months of crazy fun wild development where anything goes
1 month of polishing things a little bit, and performance
Feature freeze.
1 month of testing, with a public beta release at the beginning
"

For me with regard to the current tagging changes it feels like 2.2 is 
still in the first phase.

If we wanted to keep to the schedule for 2.2 then the tagging changes 
should have waiting till 2.3!

[1] http://comox.textdrive.com/pipermail/wp-hackers/2006-October/008907.html

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk
From spencerp1 at gmail.com  Sun Apr 15 10:37:06 2007
From: spencerp1 at gmail.com (spencerp)
Date: Sun Apr 15 10:36:41 2007
Subject: [wp-hackers] Re: [wp-svn] [5234] trunk/wp-includes: Tag clouds from
	mdawaffe.
In-Reply-To: <20070410195217.6A41758413@basie.automattic.com>
References: <20070410195217.6A41758413@basie.automattic.com>
Message-ID: <46220052.9090503@gmail.com>

Thanks Michael Adams for doing this! :D Ok, question is..  with this 
below here:

+function wp_tag_cloud( $args = '' ) {
+    $defaults = array(
+        'smallest' => 8, 'largest' => 22, 'unit' => 'pt', 'number' => 45,
+        'format' => 'flat', 'orderby' => 'name', 'order' => 'ASC',
+        'exclude' => '', 'include' => ''
+    );

I got my tag cloud on Vindictivebastard.net's index page using this:
http://www.vindictivebastard.net/

<?php wp_tag_cloud(1, 100, '', ''); ?>

How can I get those sizes and such adjusted using the above line code? I 
have my thoughts, but just want to ask the Pros about it lol... So, can 
someone maybe provide an example code call that holds all the possible 
various usages? Thanks in advance. :)

--
spencerp
http://spencerp.net
http://www.vindictivebastard.net/

From peter.westwood at ftwr.co.uk  Sun Apr 15 10:47:17 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun Apr 15 10:46:39 2007
Subject: [wp-hackers] Re: [wp-svn] [5234] trunk/wp-includes: Tag clouds
	from	mdawaffe.
In-Reply-To: <46220052.9090503@gmail.com>
References: <20070410195217.6A41758413@basie.automattic.com>
	<46220052.9090503@gmail.com>
Message-ID: <462202B5.6060407@ftwr.co.uk>

spencerp wrote:
> Thanks Michael Adams for doing this! :D Ok, question is..  with this 
> below here:
> 
> +function wp_tag_cloud( $args = '' ) {
> +    $defaults = array(
> +        'smallest' => 8, 'largest' => 22, 'unit' => 'pt', 'number' => 45,
> +        'format' => 'flat', 'orderby' => 'name', 'order' => 'ASC',
> +        'exclude' => '', 'include' => ''
> +    );
> 
> I got my tag cloud on Vindictivebastard.net's index page using this:
> http://www.vindictivebastard.net/
> 
> <?php wp_tag_cloud(1, 100, '', ''); ?>
> 
> How can I get those sizes and such adjusted using the above line code? I 
> have my thoughts, but just want to ask the Pros about it lol... So, can 
> someone maybe provide an example code call that holds all the possible 
> various usages? Thanks in advance. :)
> 

wp_tag_cloud tags query string style parameters not an argument list so 
you need to call it like this:

<?php wp_tag_cloud('smallest=1&largest=100'); ?>

See the codex for more info on using query string parameters:
http://codex.wordpress.org/Template_Tags/How_to_Pass_Tag_Parameters#Tags_with_query-string-style_parameters

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk
From spencerp1 at gmail.com  Sun Apr 15 10:50:15 2007
From: spencerp1 at gmail.com (spencerp)
Date: Sun Apr 15 10:49:49 2007
Subject: [wp-hackers] Re: [wp-svn] [5234] trunk/wp-includes: Tag clouds
	from	mdawaffe.
In-Reply-To: <462202B5.6060407@ftwr.co.uk>
References: <20070410195217.6A41758413@basie.automattic.com>	<46220052.9090503@gmail.com>
	<462202B5.6060407@ftwr.co.uk>
Message-ID: <46220367.1090506@gmail.com>

Peter Westwood wrote:
> spencerp wrote:
>> Thanks Michael Adams for doing this! :D Ok, question is..  with this 
>> below here:
>>
>> +function wp_tag_cloud( $args = '' ) {
>> +    $defaults = array(
>> +        'smallest' => 8, 'largest' => 22, 'unit' => 'pt', 'number' 
>> => 45,
>> +        'format' => 'flat', 'orderby' => 'name', 'order' => 'ASC',
>> +        'exclude' => '', 'include' => ''
>> +    );
>>
>> I got my tag cloud on Vindictivebastard.net's index page using this:
>> http://www.vindictivebastard.net/
>>
>> <?php wp_tag_cloud(1, 100, '', ''); ?>
>>
>> How can I get those sizes and such adjusted using the above line 
>> code? I have my thoughts, but just want to ask the Pros about it 
>> lol... So, can someone maybe provide an example code call that holds 
>> all the possible various usages? Thanks in advance. :)
>>
>
> wp_tag_cloud tags query string style parameters not an argument list 
> so you need to call it like this:
>
> <?php wp_tag_cloud('smallest=1&largest=100'); ?>
>
> See the codex for more info on using query string parameters:
> http://codex.wordpress.org/Template_Tags/How_to_Pass_Tag_Parameters#Tags_with_query-string-style_parameters 
>
>
> westi

Ahhh ha! Thanks a bunch Westi!! ;) :)  I was basically just trying to 
get it to show period lmao, hence my incorrect use to call it haha.. :P 
Thanks again!

spencerp
From supporto at pixline.net  Sun Apr 15 10:52:19 2007
From: supporto at pixline.net (Pixline)
Date: Sun Apr 15 10:52:33 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
Message-ID: <91A9DF9E-D931-4DBD-AC45-ADE8F0A5F529@pixline.net>

15/apr/07, Robert Deaton:
> I believe that we should take the time now, before a release of
> WordPress is made with these database schema changes, to fix the
> issue. I think that the categories table needs to be resplit into a
> link categories table, a post categories table, and a tag table, each
> set up to handle their own specific job instead of throwing them
> together with legacy fields.

a big and heavy +1 for me.  I'm really concerned about tags and db,  
now that I've understood what didn't sound to me.

if 2.2 gets out with this db structure, it will be official; think  
about the number of plugins and themes that will work on it,  and  
count how many headaches will face wp-core team about backward  
compatibility... Taking time and split tables will allow some authors  
to write their plugins and be ready for 2.2

And the beautifulness of open source is even to have a real  
explaination about delays :-)

Paolo
------------------------------------
Pixline Freelance Network
http://pixline.net



From spencerp1 at gmail.com  Sun Apr 15 11:04:24 2007
From: spencerp1 at gmail.com (spencerp)
Date: Sun Apr 15 11:04:00 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <91A9DF9E-D931-4DBD-AC45-ADE8F0A5F529@pixline.net>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
	<91A9DF9E-D931-4DBD-AC45-ADE8F0A5F529@pixline.net>
Message-ID: <462206B8.3030602@gmail.com>

Pixline wrote:
> 15/apr/07, Robert Deaton:
>> I believe that we should take the time now, before a release of
>> WordPress is made with these database schema changes, to fix the
>> issue. I think that the categories table needs to be resplit into a
>> link categories table, a post categories table, and a tag table, each
>> set up to handle their own specific job instead of throwing them
>> together with legacy fields.
>
> a big and heavy +1 for me.  I'm really concerned about tags and db, 
> now that I've understood what didn't sound to me.
>
> if 2.2 gets out with this db structure, it will be official; think 
> about the number of plugins and themes that will work on it,  and 
> count how many headaches will face wp-core team about backward 
> compatibility... Taking time and split tables will allow some authors 
> to write their plugins and be ready for 2.2
>
> And the beautifulness of open source is even to have a real 
> explaination about delays :-)
>
> Paolo

I agree, +1 from me... ;) :)

spencerp
From wordpress at dd32.id.au  Sun Apr 15 11:17:12 2007
From: wordpress at dd32.id.au (DD32)
Date: Sun Apr 15 11:16:34 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <91A9DF9E-D931-4DBD-AC45-ADE8F0A5F529@pixline.net>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
	<91A9DF9E-D931-4DBD-AC45-ADE8F0A5F529@pixline.net>
Message-ID: <op.tqtoayvyk6w4mc@dd32.no-ip.com>

On Sun, 15 Apr 2007 20:52:19 +1000, Pixline <supporto@pixline.net> wrote:
> if 2.2 gets out with this db structure, it will be official; think about  
> the number of plugins and themes that will work on it,  and count how  
> many headaches will face wp-core team about backward compatibility...  
> Taking time and split tables will allow some authors to write their  
> plugins and be ready for 2.2

another +1 from me,
Once its released, theres going to be a lot of new plugins centered around  
it, It seems tag support has come late in the dev. cycle, i was supprised  
to see more tagging patches coming in after the version was bumped(to  
almost-beta).
I think its in the interest both of future WP development, and for the  
Plugin authors to get the tagging support done well in a flexible manner,  
if that means breaking up the category table into 3 seperate tables, then  
so be it.. But it needs to be done well first, it'll be harder to change  
it down the line.
From andy at yellowswordfish.com  Sun Apr 15 12:24:02 2007
From: andy at yellowswordfish.com (Andy Staines)
Date: Sun Apr 15 12:24:08 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <op.tqtoayvyk6w4mc@dd32.no-ip.com>
Message-ID: <C247D7F2.3301%andy@yellowswordfish.com>

For what it's worth I'll cast my vote in favour. Getting rid of the link
categories table was itself bad database design and adding tags just
compounds that. It's no way to treat a relational database!

Andy

> 
> another +1 from me,
> Once its released, theres going to be a lot of new plugins centered around
> it, It seems tag support has come late in the dev. cycle, i was supprised
> to see more tagging patches coming in after the version was bumped(to
> almost-beta).
> I think its in the interest both of future WP development, and for the
> Plugin authors to get the tagging support done well in a flexible manner,
> if that means breaking up the category table into 3 seperate tables, then
> so be it.. But it needs to be done well first, it'll be harder to change
> it down the line.


From hovenko at linpro.no  Sun Apr 15 12:28:39 2007
From: hovenko at linpro.no (Knut-Olav Hoven)
Date: Sun Apr 15 12:28:44 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
Message-ID: <200704151428.39893.hovenko@linpro.no>

On Sunday 15 April 2007 08:05:30 Robert Deaton wrote:
> I believe that we should take the time now, before a release of
> WordPress is made with these database schema changes, to fix the
> issue. I think that the categories table needs to be resplit into a
> link categories table, a post categories table, and a tag table, each
> set up to handle their own specific job instead of throwing them
> together with legacy fields. Let's have a look at the categories
> table.
+1
I agree. The categories table is getting bloated with columns only needed 
depending on the context (tag, category, link). This not only makes the table 
large, but harder to maintain and a pain to handle in the mysql console.

> 24 	  type tinyint NOT NULL default '1',
> ^^ a bitfield, instead of an enum? brilliant.
Enums are mysql specific and would make it harder to port WordPress to another 
database in some rare future.
But you are partially right pointing at this column as an issue. It is 
impossible to see what this field does by just lookin at the database schema. 
It is clearly some sort of filtering, but that's that.


On Sunday 15 April 2007 08:30:12 Jamie Talbot wrote:
> The issues with the structure now in use were debated strongly on trac[1],
> but unfortunately Matt went and committed the changes anyway, without ever
> really addressing them.  Comments from ryan[2] and rob1n[3] seem to suggest
> they also have their doubts.  In fact, I haven't seen one comment from
> anyone who is in favour of this monolithic design.  It seems like a
> unilateral decision, the main argument for which was "We already have API
> that we can reuse" - never mind the huge amount of changes that have since
> had to be made anyway.  With the addition of the bitfield, we now have
> another horrendous hack to go along with 'link_count > 0'.
It looks like this decission was made in a hurry just to make the schedule. If 
the API can not easily be altered to use multiple tables it is probably not a 
very good API at all.

There are some similarities between post_categories, link_categories and tags, 
but not more than it is between anything else in WordPress: common ID, name, 
nicename and description/content.

Then maybe tags should be rescheduled to 2.3.


-- 
Knut-Olav Hoven
Systemutvikler               mob: +47 986 71 700
Linpro AS                    http://www.linpro.no/
From ryan at boren.nu  Sun Apr 15 16:12:51 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sun Apr 15 16:12:56 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
Message-ID: <bb0886ed0704150912k42d13deekcb1c5df4f0484a1b@mail.gmail.com>

On 4/14/07, Robert Deaton <false.hopes@gmail.com> wrote:
> The categories schema changes can probably wait for the next version,
> as its a large undertaking and a lot to test, however I think that it
> definitely wouldn't hurt to push back 2.2 and get these tables
> separated and sorted out before they ship in a release and then we
> have to worry about serious backwards compatibility issues when trying
> to make these changes in the next version.

No argument from me.

Ryan
From robin.adr at gmail.com  Sun Apr 15 16:13:07 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Sun Apr 15 16:13:26 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
Message-ID: <d135ca9c0704150913v17852867ja9f992703b11886c@mail.gmail.com>

+1. Definitely +1.

On 4/14/07, Robert Deaton <false.hopes@gmail.com> wrote:
>
> Okay, I'll try to cut right to the point here, cause its getting late
> and my brain functionality is quickly slipping away. WordPress 2.2 is
> shipped for release very shortly. Unfortunately, we're cutting it
> pretty close again, with big changes going in only a week before its
> scheduled for final release. Not only does this mean we're once again
> not leaving time for the testing that is likely needed (think WP 2.0),
> it means we are only a week away from releasing into the wild what I
> see to be a mistake.
>
> WordPress 2.2 features the new WP core tagging system. That's an
> inevitability, its not going anywhere, and that's not what I'm
> suggesting. The problem is, like linkcategories, its been thrown into
> the categories table as well. Now, without getting into specifics, it
> is a given that tags and categories are not the same. So why are we
> storing them in the same table? Post categories and link categories
> are also not the same, so again, why?
>
> I believe that we should take the time now, before a release of
> WordPress is made with these database schema changes, to fix the
> issue. I think that the categories table needs to be resplit into a
> link categories table, a post categories table, and a tag table, each
> set up to handle their own specific job instead of throwing them
> together with legacy fields. Let's have a look at the categories
> table.
>
> 13      $wp_queries="CREATE TABLE $wpdb->categories (
> 14        cat_ID bigint(20) NOT NULL auto_increment,
>
> 15        cat_name varchar(55) NOT NULL default '',
> 16        category_nicename varchar(200) NOT NULL default '',
> ^^ those two lines do seem rather inconsistent, don't you think?
>
> 17        category_description longtext NOT NULL,
> 18        category_parent bigint(20) NOT NULL default '0',
> 19        category_count bigint(20) NOT NULL default '0',
>
> 20        link_count bigint(20) NOT NULL default '0',
> 21        tag_count bigint(20) NOT NULL default '0',
> ^^ two different count fields only used for some of the things stored
> in the table at different times
>
> 22        posts_private tinyint(1) NOT NULL default '0',
> 23        links_private tinyint(1) NOT NULL default '0',
> ^^ again
>
> 24        type tinyint NOT NULL default '1',
> ^^ a bitfield, instead of an enum? brilliant.
>
> 25        PRIMARY KEY  (cat_ID),
> 26        KEY category_nicename (category_nicename)
> 27      ) $charset_collate;
>
> So, basically, its all lumped together. No wonder WP is notorious for
> slow and poor queries.
>
> While on the subject of splitting these out, I also believe that it is
> about time that we created a proper schema and structure for managing
> category hierarchies. I'm personally favoring the nested set model at
> the moment, but really any proper schema that would allow us to manage
> hierarchies easily with fewer queries would do.
>
> The categories schema changes can probably wait for the next version,
> as its a large undertaking and a lot to test, however I think that it
> definitely wouldn't hurt to push back 2.2 and get these tables
> separated and sorted out before they ship in a release and then we
> have to worry about serious backwards compatibility issues when trying
> to make these changes in the next version.
>
> --
> --Robert Deaton
> http://lushlab.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From computerguru at neosmart.net  Sun Apr 15 16:12:42 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 15 16:13:35 2007
Subject: [wp-hackers] UTW and WordPress
Message-ID: <000001c77f78$e7b4b010$b71e1030$@net>

UTW is a mature, well-rounded, very feature-filled, and well-built tagging
platform for WordPress.

Ignoring the odd bug or two, UTW has been through the mix, and generally
speaking, Christine has done an _excellent_ job and is to be commended for
her work.

 

The backend for UTW is built right, it has the right features, it has a
plethora of options, and people are familiar with it.

 

Is it so out of the question for WordPress to strip-down UTW a bit, remove a
couple of superfluous features, clean up the code maybe (not really needed
however), and integrate *that* into the core??

 

UTW is GREAT code, and it's really sad to see it being thrown away for the -
excuse me - pitiful excuse for tagging currently in the trunk now. The WP22
tagging feature is just tags that Technorati & Co. can read. It's none of
the nice features available in other systems, it's badly designed, cobbled
together, and limited.

 

Look at it this way: what would WP *LOSE* by using a lite version of UTW
instead of what's there now?

The answer: Absolutely nothing.

 

So: Motion to incorporate some form  of UTW into the WP core. All in favor?

 

Computer Guru

NeoSmart Technologies <http://neosmart.net/> 

http://neosmart.net/blog/

 

From abrazell at b5media.com  Sun Apr 15 16:19:30 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Sun Apr 15 16:21:45 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <000001c77f78$e7b4b010$b71e1030$@net>
References: <000001c77f78$e7b4b010$b71e1030$@net>
Message-ID: <3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>

A big, whopping "Hell No" from me. UTW is well respected, yes. It  
does many things, yes. However, in recent months we've experienced  
the following problems:

1) Artificial pageview inflation
2) Broken Search
3) Tags eaten
4) Permalink issues

Granted. For every bug, Christine has released a fix. Fine. However,  
it seems like we're on a cycle of fix one thing and break another.  
So, take inspiration from UTW - sure. Great plugin for the most part.  
Take UTW and refactor it into WP. Nuh uh.

That's my enterprise 2 cents worth.

--
Aaron Brazell
Technology Manager, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor


On Apr 15, 2007, at 12:12 PM, Computer Guru wrote:

> So: Motion to incorporate some form  of UTW into the WP core. All  
> in favor?

From computerguru at neosmart.net  Sun Apr 15 16:24:23 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 15 16:24:57 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>
References: <000001c77f78$e7b4b010$b71e1030$@net>
	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>
Message-ID: <000501c77f7a$892f13d0$9b8d3b70$@net>

Most - if not all - of those issues were caused by breakages due to WP
upgrades.
Obviously if it was in the core, they wouldn't happen... And I _did_
recommend a code review + fixing first too :)

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Aaron Brazell
> Sent: Sunday, April 15, 2007 7:20 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] UTW and WordPress
> 
> A big, whopping "Hell No" from me. UTW is well respected, yes. It
> does many things, yes. However, in recent months we've experienced
> the following problems:
> 
> 1) Artificial pageview inflation
> 2) Broken Search
> 3) Tags eaten
> 4) Permalink issues
> 
> Granted. For every bug, Christine has released a fix. Fine. However,
> it seems like we're on a cycle of fix one thing and break another.
> So, take inspiration from UTW - sure. Great plugin for the most part.
> Take UTW and refactor it into WP. Nuh uh.
> 
> That's my enterprise 2 cents worth.
> 
> --
> Aaron Brazell
> Technology Manager, b5media
> "A Global New Media Company"
> 
> web:: www.b5media.com, www.technosailor.com
> phone:: 410-608-6620
> skype:: technosailor
> 
> 
> On Apr 15, 2007, at 12:12 PM, Computer Guru wrote:
> 
> > So: Motion to incorporate some form  of UTW into the WP core. All
> > in favor?
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ryan at boren.nu  Sun Apr 15 16:30:04 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sun Apr 15 16:30:09 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <000501c77f7a$892f13d0$9b8d3b70$@net>
References: <000001c77f78$e7b4b010$b71e1030$@net>
	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>
	<000501c77f7a$892f13d0$9b8d3b70$@net>
Message-ID: <bb0886ed0704150930h12b1b875madf3d66c5c8c3348@mail.gmail.com>

On 4/15/07, Computer Guru <computerguru@neosmart.net> wrote:
> Most - if not all - of those issues were caused by breakages due to WP
> upgrades.
> Obviously if it was in the core, they wouldn't happen... And I _did_
> recommend a code review + fixing first too :)

I wouldn't mind using the UTW schema.  The tags API and code in 2.2
aren't bad, they're just crippled by needing to use a dumb schema.  We
could gut it and be using a proper schema in a day.

Ryan
From computerguru at neosmart.net  Sun Apr 15 16:32:00 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 15 16:32:36 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <bb0886ed0704150930h12b1b875madf3d66c5c8c3348@mail.gmail.com>
References: <000001c77f78$e7b4b010$b71e1030$@net>	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>	<000501c77f7a$892f13d0$9b8d3b70$@net>
	<bb0886ed0704150930h12b1b875madf3d66c5c8c3348@mail.gmail.com>
Message-ID: <000601c77f7b$99dc3900$cd94ab00$@net>

++
I agree - the API for WP22 is very dev-friendly :)

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Ryan Boren
> Sent: Sunday, April 15, 2007 7:30 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] UTW and WordPress
> 
> On 4/15/07, Computer Guru <computerguru@neosmart.net> wrote:
> > Most - if not all - of those issues were caused by breakages due to
> WP
> > upgrades.
> > Obviously if it was in the core, they wouldn't happen... And I _did_
> > recommend a code review + fixing first too :)
> 
> I wouldn't mind using the UTW schema.  The tags API and code in 2.2
> aren't bad, they're just crippled by needing to use a dumb schema.  We
> could gut it and be using a proper schema in a day.
> 
> Ryan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From abrazell at b5media.com  Sun Apr 15 16:30:28 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Sun Apr 15 16:32:39 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <000501c77f7a$892f13d0$9b8d3b70$@net>
References: <000001c77f78$e7b4b010$b71e1030$@net>
	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>
	<000501c77f7a$892f13d0$9b8d3b70$@net>
Message-ID: <045FDB5F-E316-4975-9C8C-AA6B947C38D1@b5media.com>

TWO of the four things were post-WP 2.1. I Just upgraded out network  
to 2.1 a month ago. The inflated pageviews and broken permalinks were  
2.0.

The way I see consideration for a plugin is by asking the question:

Is it feature frozen and if so, how often are bugfixes released?

If it's not feature frozen, it shouldn't be considered for the core  
unless its a new major version coming out. Ongoing development cycle  
for a plugin, while great for users, is not great for core  
consideration.

Is there more than one b ugfix release a month? If so, it probably is  
not stable enough to be in the core?

UTW is in constant release cycle and in February, there were 3 bug  
fix releases (granted 2.1 related btu why not have ONE bugfix release  
for 2.1?)

A better candidate for core inclusion is Subscribe 2 Comments. I  
wonder why that still has not been at least bundled.

--
Aaron Brazell
Technology Manager, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor


On Apr 15, 2007, at 12:24 PM, Computer Guru wrote:

> Most - if not all - of those issues were caused by breakages due to WP
> upgrades.

From computerguru at neosmart.net  Sun Apr 15 16:49:31 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 15 16:50:07 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <045FDB5F-E316-4975-9C8C-AA6B947C38D1@b5media.com>
References: <000001c77f78$e7b4b010$b71e1030$@net>	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>	<000501c77f7a$892f13d0$9b8d3b70$@net>
	<045FDB5F-E316-4975-9C8C-AA6B947C38D1@b5media.com>
Message-ID: <000001c77f7e$0d072f50$27158df0$@net>

I think you're missing my point though, Aaron...

S2C is a plugin that should be considered for inclusion. That's one thing.
But with UTW, we're *already* adding the same exact feature (tagging) to WP.
So I'm recommending using an already-existing platform vs. re-inventing the
(amateur) wheel.

I'm not saying: "Hey, XXX is a great plugin! Let's stick it in the core!"
I'm saying: "This new feature YYY we're adding - Plugin ZZZ does just that,
and it's done in a very mature and efficient manner. How about we use that
instead?"

:) 

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Aaron Brazell
> Sent: Sunday, April 15, 2007 7:30 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] UTW and WordPress
> 
> TWO of the four things were post-WP 2.1. I Just upgraded out network
> to 2.1 a month ago. The inflated pageviews and broken permalinks were
> 2.0.
> 
> The way I see consideration for a plugin is by asking the question:
> 
> Is it feature frozen and if so, how often are bugfixes released?
> 
> If it's not feature frozen, it shouldn't be considered for the core
> unless its a new major version coming out. Ongoing development cycle
> for a plugin, while great for users, is not great for core
> consideration.
> 
> Is there more than one b ugfix release a month? If so, it probably is
> not stable enough to be in the core?
> 
> UTW is in constant release cycle and in February, there were 3 bug
> fix releases (granted 2.1 related btu why not have ONE bugfix release
> for 2.1?)
> 
> A better candidate for core inclusion is Subscribe 2 Comments. I
> wonder why that still has not been at least bundled.
> 
> --
> Aaron Brazell
> Technology Manager, b5media
> "A Global New Media Company"
> 
> web:: www.b5media.com, www.technosailor.com
> phone:: 410-608-6620
> skype:: technosailor
> 
> 
> On Apr 15, 2007, at 12:24 PM, Computer Guru wrote:
> 
> > Most - if not all - of those issues were caused by breakages due to
> WP
> > upgrades.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From false.hopes at gmail.com  Sun Apr 15 17:18:58 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Sun Apr 15 17:19:02 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>
References: <000001c77f78$e7b4b010$b71e1030$@net>
	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>
Message-ID: <a491f91d0704151018v7b8d642cncb066d53e4c6855f@mail.gmail.com>

On 4/15/07, Aaron Brazell <abrazell@b5media.com> wrote:
> A big, whopping "Hell No" from me. UTW is well respected, yes. It
> does many things, yes. However, in recent months we've experienced
> the following problems:
>
> 1) Artificial pageview inflation
> 2) Broken Search
> 3) Tags eaten
> 4) Permalink issues

And at the same time, UTW has never had the plethora of coders looking
over its source as it would if it were checked into WP proper. I for
one, would easily spend a bit of time running through the source
scanning for bugs or poor coding if UTW were to go into the tree. I
don't think its history can be reason for not adapting it into the WP
core. I mean, by that measure, we'd have to strip out WordPress itself
from WordPress. ;-).


-- 
--Robert Deaton
http://lushlab.com
From abrazell at b5media.com  Sun Apr 15 17:26:23 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Sun Apr 15 17:28:32 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <a491f91d0704151018v7b8d642cncb066d53e4c6855f@mail.gmail.com>
References: <000001c77f78$e7b4b010$b71e1030$@net>
	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>
	<a491f91d0704151018v7b8d642cncb066d53e4c6855f@mail.gmail.com>
Message-ID: <6A2EF272-EF53-486D-81F1-467ECC8DAF21@b5media.com>

I'll meet the rest of you in the middle and say that I like the idea  
of using the schema. At that point, UTW is so feature rich to almost  
be the antithesis of what WordPress is (and I am proud to have used  
'antithesis' in a sentence!). So if we want to build from the schema,  
I'd be on board for that. But it will be hard, after that, to  
separate feature from bloat and still maintain UTW's... well UTWishness.
--
Aaron Brazell
Technology Manager, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor


On Apr 15, 2007, at 1:18 PM, Robert Deaton wrote:

> On 4/15/07, Aaron Brazell <abrazell@b5media.com> wrote:
>> A big, whopping "Hell No" from me. UTW is well respected, yes. It
>> does many things, yes. However, in recent months we've experienced
>> the following problems:
>>
>> 1) Artificial pageview inflation
>> 2) Broken Search
>> 3) Tags eaten
>> 4) Permalink issues
>
> And at the same time, UTW has never had the plethora of coders looking
> over its source as it would if it were checked into WP proper. I for
> one, would easily spend a bit of time running through the source
> scanning for bugs or poor coding if UTW were to go into the tree. I
> don't think its history can be reason for not adapting it into the WP
> core. I mean, by that measure, we'd have to strip out WordPress itself
> from WordPress. ;-).
>
>
> -- 
> --Robert Deaton
> http://lushlab.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From Brian at TheCodeCave.com  Sun Apr 15 17:43:33 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Sun Apr 15 17:43:43 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <C247D7F2.3301%andy@yellowswordfish.com>
Message-ID: <000901c77f85$97d31700$c864a8c0@tiger1>

> For what it's worth I'll cast my vote in favour. Getting rid of the
link categories table was itself bad 
> database design and adding tags just compounds that. It's no way to
treat a relational database!

I've not looked at the tagging implementation, but I will +1 categories
(re)split.  I never saw the bang for the buck of unifying these two
tables and while conversions weren't quite as bad as I predicted them to
be (on this list), we still lost features and broke parts of sites (link
categories suddenly appearing that were hidden before, missing blog roll
side bar sections, and other oddities.).  I can't imagine adding tags to
the same table will be a path to future success.  That table is going to
need to be split again at some point.  These are not all uniform
concepts.  Let's do it now before we get further down the path.

Thanks for bringing this up again Robert.

From computerguru at neosmart.net  Sun Apr 15 17:45:08 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 15 17:45:45 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <6A2EF272-EF53-486D-81F1-467ECC8DAF21@b5media.com>
References: <000001c77f78$e7b4b010$b71e1030$@net>	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>	<a491f91d0704151018v7b8d642cncb066d53e4c6855f@mail.gmail.com>
	<6A2EF272-EF53-486D-81F1-467ECC8DAF21@b5media.com>
Message-ID: <000401c77f85$d126fe40$7374fac0$@net>

I disagree, I think it's very easy to separate the two:

Tags, Synonyms, Renaming Tags, Deleting Tags, Linking Tags to Technorati,
Tag Archive Pages == Features

Changing the way tags look, dynamic adding and removing of tags, allowing
end-users to tag pages, allowing end-users to change tags, ajax tagging
system, in-post tagging == Unnecessary

All IMHO, but I'm just going by what I've seen in the blogging world. 
Aaron, you manage the systems for a blogging network - wouldn't you agree
that features and bloat can be separated rather easily?

I wrote an article on "standardized" tagging a while back, and I the
comments there (mostly Slashdot users, blog engine developers, and Web 2.0
startups based on tagging) pretty much sum-up what tagging is all about -
and address some of the difficulties in concept though the code would be
almost impossible to develop:
http://neosmart.net/blog/2007/the-need-for-creating-tag-standards/


Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Aaron Brazell
> Sent: Sunday, April 15, 2007 8:26 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] UTW and WordPress
> 
> I'll meet the rest of you in the middle and say that I like the idea
> of using the schema. At that point, UTW is so feature rich to almost
> be the antithesis of what WordPress is (and I am proud to have used
> 'antithesis' in a sentence!). So if we want to build from the schema,
> I'd be on board for that. But it will be hard, after that, to
> separate feature from bloat and still maintain UTW's... well
> UTWishness.
> --
> Aaron Brazell
> Technology Manager, b5media
> "A Global New Media Company"
> 
> web:: www.b5media.com, www.technosailor.com
> phone:: 410-608-6620
> skype:: technosailor
> 
> 
> On Apr 15, 2007, at 1:18 PM, Robert Deaton wrote:
> 
> > On 4/15/07, Aaron Brazell <abrazell@b5media.com> wrote:
> >> A big, whopping "Hell No" from me. UTW is well respected, yes. It
> >> does many things, yes. However, in recent months we've experienced
> >> the following problems:
> >>
> >> 1) Artificial pageview inflation
> >> 2) Broken Search
> >> 3) Tags eaten
> >> 4) Permalink issues
> >
> > And at the same time, UTW has never had the plethora of coders
> looking
> > over its source as it would if it were checked into WP proper. I for
> > one, would easily spend a bit of time running through the source
> > scanning for bugs or poor coding if UTW were to go into the tree. I
> > don't think its history can be reason for not adapting it into the WP
> > core. I mean, by that measure, we'd have to strip out WordPress
> itself
> > from WordPress. ;-).
> >
> >
> > --
> > --Robert Deaton
> > http://lushlab.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jer at simianuprising.com  Sun Apr 15 19:22:32 2007
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sun Apr 15 19:22:38 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <000401c77f85$d126fe40$7374fac0$@net>
References: <000001c77f78$e7b4b010$b71e1030$@net>
	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>
	<a491f91d0704151018v7b8d642cncb066d53e4c6855f@mail.gmail.com>
	<6A2EF272-EF53-486D-81F1-467ECC8DAF21@b5media.com>
	<000401c77f85$d126fe40$7374fac0$@net>
Message-ID: <e1202cb10704151222t3dacd7d6necc4465ddcf75de5@mail.gmail.com>

UTW also has a richer query system than even the normal WP categories does.
You can have unions (only posts in both categories) whereas WP only lets you
have all posts from multiple categories. Any chance we could get some of
that action integrated? I actually use UTW as a way of getting complex
queries to work without even using any of the tagging features (the copy
categories to tags tool works pretty well)

also, S2C should just be in the system, that's not even really worth
debating IMHO,  it's a life-changer.

jer

p.s. hello. I'm new to the list, I dev for
http://globalvoicesonline.orgwhich runs wp with hundreds of categories
(one for every country).



On 4/15/07, Computer Guru <computerguru@neosmart.net> wrote:
>
> I disagree, I think it's very easy to separate the two:
>
> Tags, Synonyms, Renaming Tags, Deleting Tags, Linking Tags to Technorati,
> Tag Archive Pages == Features
>
> Changing the way tags look, dynamic adding and removing of tags, allowing
> end-users to tag pages, allowing end-users to change tags, ajax tagging
> system, in-post tagging == Unnecessary
>
> All IMHO, but I'm just going by what I've seen in the blogging world.
> Aaron, you manage the systems for a blogging network - wouldn't you agree
> that features and bloat can be separated rather easily?
>
> I wrote an article on "standardized" tagging a while back, and I the
> comments there (mostly Slashdot users, blog engine developers, and Web 2.0
> startups based on tagging) pretty much sum-up what tagging is all about -
> and address some of the difficulties in concept though the code would be
> almost impossible to develop:
> http://neosmart.net/blog/2007/the-need-for-creating-tag-standards/
>
>
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
>
>
> > -----Original Message-----
> > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > bounces@lists.automattic.com] On Behalf Of Aaron Brazell
> > Sent: Sunday, April 15, 2007 8:26 PM
> > To: wp-hackers@lists.automattic.com
> > Subject: Re: [wp-hackers] UTW and WordPress
> >
> > I'll meet the rest of you in the middle and say that I like the idea
> > of using the schema. At that point, UTW is so feature rich to almost
> > be the antithesis of what WordPress is (and I am proud to have used
> > 'antithesis' in a sentence!). So if we want to build from the schema,
> > I'd be on board for that. But it will be hard, after that, to
> > separate feature from bloat and still maintain UTW's... well
> > UTWishness.
> > --
> > Aaron Brazell
> > Technology Manager, b5media
> > "A Global New Media Company"
> >
> > web:: www.b5media.com, www.technosailor.com
> > phone:: 410-608-6620
> > skype:: technosailor
> >
> >
> > On Apr 15, 2007, at 1:18 PM, Robert Deaton wrote:
> >
> > > On 4/15/07, Aaron Brazell <abrazell@b5media.com> wrote:
> > >> A big, whopping "Hell No" from me. UTW is well respected, yes. It
> > >> does many things, yes. However, in recent months we've experienced
> > >> the following problems:
> > >>
> > >> 1) Artificial pageview inflation
> > >> 2) Broken Search
> > >> 3) Tags eaten
> > >> 4) Permalink issues
> > >
> > > And at the same time, UTW has never had the plethora of coders
> > looking
> > > over its source as it would if it were checked into WP proper. I for
> > > one, would easily spend a bit of time running through the source
> > > scanning for bugs or poor coding if UTW were to go into the tree. I
> > > don't think its history can be reason for not adapting it into the WP
> > > core. I mean, by that measure, we'd have to strip out WordPress
> > itself
> > > from WordPress. ;-).
> > >
> > >
> > > --
> > > --Robert Deaton
> > > http://lushlab.com
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From speedboxer at gmail.com  Sun Apr 15 19:42:50 2007
From: speedboxer at gmail.com (Matt)
Date: Sun Apr 15 19:42:56 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <e1202cb10704151222t3dacd7d6necc4465ddcf75de5@mail.gmail.com>
References: <000001c77f78$e7b4b010$b71e1030$@net>
	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>
	<a491f91d0704151018v7b8d642cncb066d53e4c6855f@mail.gmail.com>
	<6A2EF272-EF53-486D-81F1-467ECC8DAF21@b5media.com>
	<000401c77f85$d126fe40$7374fac0$@net>
	<e1202cb10704151222t3dacd7d6necc4465ddcf75de5@mail.gmail.com>
Message-ID: <b88434820704151242v3dcb7144s49bec4825265a2b0@mail.gmail.com>

I'm assuming there's some hooks for the Tagging System in Trunk right now,
so, why can't we just leave it the way it is, and if someone wants more
features, just make a Plugin for it, or make UTW into a Plugin that adds
Features to the Core Tagging System?

On 4/15/07, Jeremy Clarke <jer@simianuprising.com> wrote:
>
> UTW also has a richer query system than even the normal WP categories
> does.
> You can have unions (only posts in both categories) whereas WP only lets
> you
> have all posts from multiple categories. Any chance we could get some of
> that action integrated? I actually use UTW as a way of getting complex
> queries to work without even using any of the tagging features (the copy
> categories to tags tool works pretty well)
>
> also, S2C should just be in the system, that's not even really worth
> debating IMHO,  it's a life-changer.
>
> jer
>
> p.s. hello. I'm new to the list, I dev for
> http://globalvoicesonline.orgwhich runs wp with hundreds of categories
> (one for every country).
>
>
>
> On 4/15/07, Computer Guru <computerguru@neosmart.net> wrote:
> >
> > I disagree, I think it's very easy to separate the two:
> >
> > Tags, Synonyms, Renaming Tags, Deleting Tags, Linking Tags to
> Technorati,
> > Tag Archive Pages == Features
> >
> > Changing the way tags look, dynamic adding and removing of tags,
> allowing
> > end-users to tag pages, allowing end-users to change tags, ajax tagging
> > system, in-post tagging == Unnecessary
> >
> > All IMHO, but I'm just going by what I've seen in the blogging world.
> > Aaron, you manage the systems for a blogging network - wouldn't you
> agree
> > that features and bloat can be separated rather easily?
> >
> > I wrote an article on "standardized" tagging a while back, and I the
> > comments there (mostly Slashdot users, blog engine developers, and Web
> 2.0
> > startups based on tagging) pretty much sum-up what tagging is all about
> -
> > and address some of the difficulties in concept though the code would be
> > almost impossible to develop:
> > http://neosmart.net/blog/2007/the-need-for-creating-tag-standards/
> >
> >
> > Computer Guru
> > NeoSmart Technologies
> > http://neosmart.net/blog/
> >
> >
> > > -----Original Message-----
> > > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > > bounces@lists.automattic.com] On Behalf Of Aaron Brazell
> > > Sent: Sunday, April 15, 2007 8:26 PM
> > > To: wp-hackers@lists.automattic.com
> > > Subject: Re: [wp-hackers] UTW and WordPress
> > >
> > > I'll meet the rest of you in the middle and say that I like the idea
> > > of using the schema. At that point, UTW is so feature rich to almost
> > > be the antithesis of what WordPress is (and I am proud to have used
> > > 'antithesis' in a sentence!). So if we want to build from the schema,
> > > I'd be on board for that. But it will be hard, after that, to
> > > separate feature from bloat and still maintain UTW's... well
> > > UTWishness.
> > > --
> > > Aaron Brazell
> > > Technology Manager, b5media
> > > "A Global New Media Company"
> > >
> > > web:: www.b5media.com, www.technosailor.com
> > > phone:: 410-608-6620
> > > skype:: technosailor
> > >
> > >
> > > On Apr 15, 2007, at 1:18 PM, Robert Deaton wrote:
> > >
> > > > On 4/15/07, Aaron Brazell <abrazell@b5media.com> wrote:
> > > >> A big, whopping "Hell No" from me. UTW is well respected, yes. It
> > > >> does many things, yes. However, in recent months we've experienced
> > > >> the following problems:
> > > >>
> > > >> 1) Artificial pageview inflation
> > > >> 2) Broken Search
> > > >> 3) Tags eaten
> > > >> 4) Permalink issues
> > > >
> > > > And at the same time, UTW has never had the plethora of coders
> > > looking
> > > > over its source as it would if it were checked into WP proper. I for
> > > > one, would easily spend a bit of time running through the source
> > > > scanning for bugs or poor coding if UTW were to go into the tree. I
> > > > don't think its history can be reason for not adapting it into the
> WP
> > > > core. I mean, by that measure, we'd have to strip out WordPress
> > > itself
> > > > from WordPress. ;-).
> > > >
> > > >
> > > > --
> > > > --Robert Deaton
> > > > http://lushlab.com
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers@lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From m at mullenweg.com  Sun Apr 15 19:41:40 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Apr 15 19:43:49 2007
Subject: [wp-hackers] A "terms" table
Message-ID: <46227FF4.7050107@mullenweg.com>

WordPress is like a sandwich.

Assuming we've scared off all the vegetarians with all the talk of BBQ, 
the core is the meat. Our meat is the wp_posts table, which stores what 
I would refer to as the primary points of content. Currently for us this 
is posts, pages, and attachments, though in the future I could see it 
expanding to support new post types such as externals, galleries, and 
hopefully things we can't even imagine yet.

On the side you have chips (good comments), vegetables (idiot comments), 
and that funny stuff your cousin brought that you're going to move 
around on the plate but never eat (spam comments). I think comments are 
okay right now, maybe they could use a meta table but we can talk about 
that later.

Meat alone is only a real meal at rboren's house, so most people put 
things on the sandwich to add flavor and spice it up. Some add other 
types of meat, in the WP world this is postmeta, which we call custom 
fields in polite company.

We also havae condiments which are currently handled by two tables: 
wp_categories and wp_post2cat. On the taxonomy/condiment side, right now 
we really only allow ketchup aka categories, and users for at least a 
year have been asking for more. In 2.2 we decided to satiate their 
appetites.

Everyone agrees that ketchup and mayonnaise are totally different, even 
though they're both condiments and you put them both on sandwiches. No 
one is trying to create some horrible pink mixture of the two tastes.

However there are currently two schools of thought on how we should 
store the data for categories and tags at a very low level in our DB.

Let me do my best to make the case for putting category data and tag 
data in separate tables, and feel free to chime in if you think I've 
missed any points.

* We shouldn't ship anything with a data schema people disagree on, 
because plugins and themes will be written against it.
* They're different things, so we should have them in different tables.
* Tags can have things like synonyms, and don't need things like hierarchy.
* There are ugly legacy field names in the category table like 
category_nicename, cat_name, cat_ID (wtf capitals) and we can clean 
those up in new tables
* With separate tables our queries on the admin side become WAY easier 
and cleaner to do, with no bitwise or _count nonsense
* Plugins for tagging have implemented it this way.

The code currently in SVN does something different. It uses the 
categories table for names of the tags and then adds fields to hint how 
those names are being used for the admin section. If I wanted to make 
everyone happy and be popular I would just go with the above since there 
seems to be good consensus there, but I think this is an important 
long-term decision for WP so let me spell out some reasons why I think 
the current design has legs not just for 2.2 but beyond.

1. It performs faster.

On front-end display, we have added ZERO QUERIES to support tags. The 
query that grabs categories is also grabbing tags and we're sorting them 
out in the code.

In the dashboard some of the queries are more complicated (though not 
really any different than what we deal with for link categories) and a 
few milliseconds slower than the old ones. However, that really doesn't 
matter because 1) we only need to write them once and more importantly 
2) they're run several orders of magnitude fewer times than the ones 
that display the blog on the front-end. A mantra has always been that 
user time is more important than developer time.

A separate tag naming table and post2tag table would require at least 2 
additional queries and/or joins to the front page, which already think 
does too many queries and is too heavy.

2. It's a better long-term foundation.

I think there are a lot of benefits to having a single ID that maps to a 
term and a slug. Let's pretend we had perfect foresight 5 years ago and 
instead of wp_categories we had wp_terms.

Regardless of the UI and philosophy behind categories, tags, and ooga 
booga, on a data level they're still mapping a set of terms to an item 
in post_content.

In WP a term has three important things: an ID, a human-entered name, 
and a URL-friendly slug. We use the ID in our relations instead of the 
slug because it's more efficient and slugs are not necessarily unique 
(because of hierarchy).

Having "dogs" in a category table have one ID and "dogs" in a tag table 
have a different ID is a long-term deck of cards that we will seriously 
regret later. It's MUCH harder to reconcile items with internally 
different IDs than it is to split out unique IDs into different tables.

As for some of the bit and count fields currently causing grief, I would 
argue the solution for that isn't a separate tags table, but a separate 
table specifically for that type of data. In Drupal for this 
infrastructure they have a term_data, term_hiercharchy, term_node, 
term_relation, term_synonym, vocabulary, and vocabulary_node_types 
tables. I think that might be a little more than we need, but there are 
some concepts there we could pretty cleanly combine into a single extra 
table that isn't called categories or tags, and will provide a good and 
scalable foundation for years to come.

3. There should be no user- or plugin-facing problems with how it's 
currently implemented, or if we decide to change it.

Now this isn't to suggest for a second there aren't bugs, many have been 
fixed already and I'm sure there are many still left, but that is going 
to be true of ANY code we put in WP and anyone who suggests otherwise is 
not very familiar with software development. From a point of view of 
plugin authors, they shouldn't have to think or care if we're storing it 
in a categories table or a turkey, the function they use should remain 
consistent no matter what we change or gymnastics we do behind the 
curtain. No matter what we do in 2.2 or 2.3, that's not going to change.

I do think there is something intrinsically better about shipping and 
iterating than noodling without release in search of the "perfect" 
implementation.

More importantly from a user's point of view, all that really matters is 
that they have a box they can type tags in and that their host doesn't 
tell them not to upgrade to 2.2 because it does more queries.

4. I'm open

I'm not personally tied to any code written thus far and if I think the 
best thing is.

There is a separate but related decision around what to do about the 
release date. Based on the discussion here I'm going to make go/no-go 
decision on Tuesday.

If we do delay I think we should laser-focus on tags and now allow other 
pet-issues to creep in, and I will fully expect people to put in as much 
time writing code and fixing bugs as they have arguing points on mailing 
lists, IRC, and trac. At the very least I hope we've learned a bit more 
about getting these things out of the way early rather than a week or 
two before a release. Also if something is sitting in trac, take it to 
the hackers list early.

I think if we stick with the current implementation we can hit it with a 
very stable release next Monday, but if we decide to replace it we need 
to push it back at least into mid-May.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From speedboxer at gmail.com  Sun Apr 15 19:48:15 2007
From: speedboxer at gmail.com (Matt)
Date: Sun Apr 15 19:48:20 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <000901c77f85$97d31700$c864a8c0@tiger1>
References: <C247D7F2.3301%andy@yellowswordfish.com>
	<000901c77f85$97d31700$c864a8c0@tiger1>
Message-ID: <b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>

+0.5

I think that Tags should have it's own table, but Link Categories and Post
Categories *should* be in the same table, simply because most people
probably won't have very many Link Cats, so you'll end up with a Table with
like less than 10 rows in it.


On 4/15/07, Brian Layman <Brian@thecodecave.com> wrote:
>
> > For what it's worth I'll cast my vote in favour. Getting rid of the
> link categories table was itself bad
> > database design and adding tags just compounds that. It's no way to
> treat a relational database!
>
> I've not looked at the tagging implementation, but I will +1 categories
> (re)split.  I never saw the bang for the buck of unifying these two
> tables and while conversions weren't quite as bad as I predicted them to
> be (on this list), we still lost features and broke parts of sites (link
> categories suddenly appearing that were hidden before, missing blog roll
> side bar sections, and other oddities.).  I can't imagine adding tags to
> the same table will be a path to future success.  That table is going to
> need to be split again at some point.  These are not all uniform
> concepts.  Let's do it now before we get further down the path.
>
> Thanks for bringing this up again Robert.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/
From computerguru at neosmart.net  Sun Apr 15 19:59:49 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 15 20:00:29 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>
	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>
Message-ID: <000501c77f98$a1d2c5d0$e5785170$@net>

I agree with your deduction there, but I disagree with regards to proper programming procedure.

DB optimization doesn't make a difference how many entries there are in the table... If it was 1 or 1000, the query complexity and db-clutter will not be changed.....

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Matt
> Sent: Sunday, April 15, 2007 10:48 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Grab a seat. On Delaying 2.2, separating
> tables
> 
> +0.5
> 
> I think that Tags should have it's own table, but Link Categories and
> Post
> Categories *should* be in the same table, simply because most people
> probably won't have very many Link Cats, so you'll end up with a Table
> with
> like less than 10 rows in it.
> 
> 
> On 4/15/07, Brian Layman <Brian@thecodecave.com> wrote:
> >
> > > For what it's worth I'll cast my vote in favour. Getting rid of the
> > link categories table was itself bad
> > > database design and adding tags just compounds that. It's no way to
> > treat a relational database!
> >
> > I've not looked at the tagging implementation, but I will +1
> categories
> > (re)split.  I never saw the bang for the buck of unifying these two
> > tables and while conversions weren't quite as bad as I predicted them
> to
> > be (on this list), we still lost features and broke parts of sites
> (link
> > categories suddenly appearing that were hidden before, missing blog
> roll
> > side bar sections, and other oddities.).  I can't imagine adding tags
> to
> > the same table will be a path to future success.  That table is going
> to
> > need to be split again at some point.  These are not all uniform
> > concepts.  Let's do it now before we get further down the path.
> >
> > Thanks for bringing this up again Robert.
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> --
> Matt (speedboxer@gmail.com)
> http://mattsblog.ca/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chris.hearn01 at ntlworld.com  Sun Apr 15 20:08:17 2007
From: chris.hearn01 at ntlworld.com (Chris)
Date: Sun Apr 15 20:08:45 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <d135ca9c0704150913v17852867ja9f992703b11886c@mail.gmail.com>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
	<d135ca9c0704150913v17852867ja9f992703b11886c@mail.gmail.com>
Message-ID: <46228631.5040207@ntlworld.com>

I'll add my view - don't do this!!
The categories table is for categories - if "other purposed" information 
is thrown in there, it's _all_ bad news
New information should go into new tables. Tagging should be in new 
table - they can be linked as required in the sql queries.
This keeps table bloat down, makes for more transparency, easier bug 
chasing and more understandable code - all of which eases support and 
development.

An most importantly of all, reduces the liklihood that existing blogs 
and plugins will be badly impacted.

SQL is a fine language for extracting related information from related 
tables - and provides designer control.
More tables, less in each, with good indexing, makes for happy people! I 
already see fields in tables that are not used (e.g. wp-posts)
This idea seems like a major change to a product that has many 1000 of 
users, and 100 of plugins. I have not read any good reason for these 
changes in this thread so far.
As a developer looking at Wordpress, my personal preference would be to 
keep it stable, reduce the number of changes, and improve the 
documentation which quite frankly, would benefit more people - try 
looking for descriptions of all the functions etc-  I have not found it 
easy, as many are either "waiting" for 2.1, or searches produce answers 
for v1.5 which I am reluctant to trust - so I need to read and 
understand the actual code, which is a lot slower.

(P.S. I don't pretend to have a long history with WP, but I do have 20 
years experience of database design, and a few years of php MySQL)

Cheers
Chris


Robin Adrianse wrote:
> +1. Definitely +1.
>
> On 4/14/07, Robert Deaton <false.hopes@gmail.com> wrote:
>>
>> Okay, I'll try to cut right to the point here, cause its getting late
>> and my brain functionality is quickly slipping away. WordPress 2.2 is
>> shipped for release very shortly. Unfortunately, we're cutting it
>> pretty close again, with big changes going in only a week before its
>> scheduled for final release. Not only does this mean we're once again
>> not leaving time for the testing that is likely needed (think WP 2.0),
>> it means we are only a week away from releasing into the wild what I
>> see to be a mistake.
>>
>> WordPress 2.2 features the new WP core tagging system. That's an
>> inevitability, its not going anywhere, and that's not what I'm
>> suggesting. The problem is, like linkcategories, its been thrown into
>> the categories table as well. Now, without getting into specifics, it
>> is a given that tags and categories are not the same. So why are we
>> storing them in the same table? Post categories and link categories
>> are also not the same, so again, why?
>>
>> I believe that we should take the time now, before a release of
>> WordPress is made with these database schema changes, to fix the
>> issue. I think that the categories table needs to be resplit into a
>> link categories table, a post categories table, and a tag table, each
>> set up to handle their own specific job instead of throwing them
>> together with legacy fields. Let's have a look at the categories
>> table.
>>
>> 13      $wp_queries="CREATE TABLE $wpdb->categories (
>> 14        cat_ID bigint(20) NOT NULL auto_increment,
>>
>> 15        cat_name varchar(55) NOT NULL default '',
>> 16        category_nicename varchar(200) NOT NULL default '',
>> ^^ those two lines do seem rather inconsistent, don't you think?
>>
>> 17        category_description longtext NOT NULL,
>> 18        category_parent bigint(20) NOT NULL default '0',
>> 19        category_count bigint(20) NOT NULL default '0',
>>
>> 20        link_count bigint(20) NOT NULL default '0',
>> 21        tag_count bigint(20) NOT NULL default '0',
>> ^^ two different count fields only used for some of the things stored
>> in the table at different times
>>
>> 22        posts_private tinyint(1) NOT NULL default '0',
>> 23        links_private tinyint(1) NOT NULL default '0',
>> ^^ again
>>
>> 24        type tinyint NOT NULL default '1',
>> ^^ a bitfield, instead of an enum? brilliant.
>>
>> 25        PRIMARY KEY  (cat_ID),
>> 26        KEY category_nicename (category_nicename)
>> 27      ) $charset_collate;
>>
>> So, basically, its all lumped together. No wonder WP is notorious for
>> slow and poor queries.
>>
>> While on the subject of splitting these out, I also believe that it is
>> about time that we created a proper schema and structure for managing
>> category hierarchies. I'm personally favoring the nested set model at
>> the moment, but really any proper schema that would allow us to manage
>> hierarchies easily with fewer queries would do.
>>
>> The categories schema changes can probably wait for the next version,
>> as its a large undertaking and a lot to test, however I think that it
>> definitely wouldn't hurt to push back 2.2 and get these tables
>> separated and sorted out before they ship in a release and then we
>> have to worry about serious backwards compatibility issues when trying
>> to make these changes in the next version.
>>
>> -- 
>> --Robert Deaton
>> http://lushlab.com
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
From robin.adr at gmail.com  Sun Apr 15 20:12:18 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Sun Apr 15 20:12:23 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>
	<000901c77f85$97d31700$c864a8c0@tiger1>
	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>
Message-ID: <d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>

I don't agree. One of my big, BIG pet peeves of the 2.1 release was that
link and post categories were, so to speak, "unified." If we're going to
separate them in the UI, then we should really put them in separate tables.

On 4/15/07, Matt <speedboxer@gmail.com> wrote:
>
> +0.5
>
> I think that Tags should have it's own table, but Link Categories and Post
> Categories *should* be in the same table, simply because most people
> probably won't have very many Link Cats, so you'll end up with a Table
> with
> like less than 10 rows in it.
>
>
> On 4/15/07, Brian Layman <Brian@thecodecave.com> wrote:
> >
> > > For what it's worth I'll cast my vote in favour. Getting rid of the
> > link categories table was itself bad
> > > database design and adding tags just compounds that. It's no way to
> > treat a relational database!
> >
> > I've not looked at the tagging implementation, but I will +1 categories
> > (re)split.  I never saw the bang for the buck of unifying these two
> > tables and while conversions weren't quite as bad as I predicted them to
> > be (on this list), we still lost features and broke parts of sites (link
> > categories suddenly appearing that were hidden before, missing blog roll
> > side bar sections, and other oddities.).  I can't imagine adding tags to
> > the same table will be a path to future success.  That table is going to
> > need to be split again at some point.  These are not all uniform
> > concepts.  Let's do it now before we get further down the path.
> >
> > Thanks for bringing this up again Robert.
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Matt (speedboxer@gmail.com)
> http://mattsblog.ca/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From false.hopes at gmail.com  Sun Apr 15 20:18:57 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Sun Apr 15 20:19:05 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <46227FF4.7050107@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
Message-ID: <a491f91d0704151318s4b8ebbaas1c4aae58007841bf@mail.gmail.com>

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> WordPress is like a sandwich.

I would swear you were highly overweight if I didn't know any better.

I will be snipping heavily.

> We also havae condiments which are currently handled by two tables:
> wp_categories and wp_post2cat. On the taxonomy/condiment side, right now
> we really only allow ketchup aka categories, and users for at least a
> year have been asking for more. In 2.2 we decided to satiate their
> appetites.

I wouldn't say we only "allow" ketchup, I'd say in the past we only
provided ketchup on our sandwhich, and if you want mayonnaise aka
tags, you needed to put them on yourself. I still don't necessarily
think this is a bad idea, but I won't argue this point, as removing
tags entirely is almost certainly not going to happen.

> Everyone agrees that ketchup and mayonnaise are totally different, even
> though they're both condiments and you put them both on sandwiches. No
> one is trying to create some horrible pink mixture of the two tastes.

You could've fooled me in the past. :)

> Let me do my best to make the case for putting category data and tag
> data in separate tables, and feel free to chime in if you think I've
> missed any points.
>
> * We shouldn't ship anything with a data schema people disagree on,
> because plugins and themes will be written against it.
> * They're different things, so we should have them in different tables.
> * Tags can have things like synonyms, and don't need things like hierarchy.
> * There are ugly legacy field names in the category table like
> category_nicename, cat_name, cat_ID (wtf capitals) and we can clean
> those up in new tables
> * With separate tables our queries on the admin side become WAY easier
> and cleaner to do, with no bitwise or _count nonsense
> * Plugins for tagging have implemented it this way.
>
> The code currently in SVN does something different. It uses the
> categories table for names of the tags and then adds fields to hint how
> those names are being used for the admin section. If I wanted to make
> everyone happy and be popular I would just go with the above since there
> seems to be good consensus there, but I think this is an important
> long-term decision for WP so let me spell out some reasons why I think
> the current design has legs not just for 2.2 but beyond.
>
> 1. It performs faster.
>
> On front-end display, we have added ZERO QUERIES to support tags. The
> query that grabs categories is also grabbing tags and we're sorting them
> out in the code.

One of the first rules of SQL has always been to not fetch more than
you need, to allow sorting and searching to be done on the SQL side,
etc. This breaks that fundamental rule.

The bitfield also introduces new things. Let's face it, the APIs for
fetching things from the database are horribly incomplete and will
never ever possibly cover all the things that plugins will want to do.
So, how about a plugin that wants to fetch all the tags to do some
magic? Well, with a bitfield, that plugin now has to fetch all the
categories and all the tags, and then sort through with bitwise
operations and discard the categories which they don't care about.
Efficiency? iffy.

> In the dashboard some of the queries are more complicated (though not
> really any different than what we deal with for link categories) and a
> few milliseconds slower than the old ones. However, that really doesn't
> matter because 1) we only need to write them once and more importantly
> 2) they're run several orders of magnitude fewer times than the ones
> that display the blog on the front-end. A mantra has always been that
> user time is more important than developer time.

> A separate tag naming table and post2tag table would require at least 2
> additional queries and/or joins to the front page, which already think
> does too many queries and is too heavy.

I think you missed a noun in the last clause of the sentence. Who
thinks it is? I think that the number of queries shouldn't necessarily
make a _huge_ difference, its the queries themselves, how much they
fetch, how much is actually used, etc. WP takes a "fetch everything
with the assumption it will be used approach", perhaps we need to
rethink that.

> 2. It's a better long-term foundation.
>
> I think there are a lot of benefits to having a single ID that maps to a
> term and a slug. Let's pretend we had perfect foresight 5 years ago and
> instead of wp_categories we had wp_terms.

I still think we'd be having this conversation today.

> Regardless of the UI and philosophy behind categories, tags, and ooga
> booga, on a data level they're still mapping a set of terms to an item
> in post_content.

Are you gradually moving us toward dropping this table altogether and
moving it all into postmeta?

> In WP a term has three important things: an ID, a human-entered name,
> and a URL-friendly slug. We use the ID in our relations instead of the
> slug because it's more efficient and slugs are not necessarily unique
> (because of hierarchy).
>
> Having "dogs" in a category table have one ID and "dogs" in a tag table
> have a different ID is a long-term deck of cards that we will seriously
> regret later. It's MUCH harder to reconcile items with internally
> different IDs than it is to split out unique IDs into different tables.

But like you said earlier, ketchup and mayonnaise are two different
things. Why would we be trying to put them together?

> As for some of the bit and count fields currently causing grief, I would
> argue the solution for that isn't a separate tags table, but a separate
> table specifically for that type of data. In Drupal for this
> infrastructure they have a term_data, term_hiercharchy, term_node,
> term_relation, term_synonym, vocabulary, and vocabulary_node_types
> tables. I think that might be a little more than we need, but there are
> some concepts there we could pretty cleanly combine into a single extra
> table that isn't called categories or tags, and will provide a good and
> scalable foundation for years to come.
>

> 3. There should be no user- or plugin-facing problems with how it's
> currently implemented, or if we decide to change it.

I disagree. Especially because the implementation is lacking so many
features that other tagging plugins have done well for some time now,
new plugins are bound to be forced to write their own queries to
interface with this table. And when they don't work anymore in the
next version, someone's gonna be pissed.

>
> Now this isn't to suggest for a second there aren't bugs, many have been
> fixed already and I'm sure there are many still left, but that is going
> to be true of ANY code we put in WP and anyone who suggests otherwise is
> not very familiar with software development. From a point of view of
> plugin authors, they shouldn't have to think or care if we're storing it
> in a categories table or a turkey, the function they use should remain
> consistent no matter what we change or gymnastics we do behind the
> curtain. No matter what we do in 2.2 or 2.3, that's not going to change.
>
> I do think there is something intrinsically better about shipping and
> iterating than noodling without release in search of the "perfect"
> implementation.

I agree, there is something better about shipping and iterating, as
long as the initial shipment has something that is not fundamentally
broken.

I snipped the rest cause I have more to say but I have to run out for
lunch. I'll come back later.


-- 
--Robert Deaton
http://lushlab.com
From ryan at boren.nu  Sun Apr 15 20:36:09 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sun Apr 15 20:36:14 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <46227FF4.7050107@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
Message-ID: <bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> Regardless of the UI and philosophy behind categories, tags, and ooga
> booga, on a data level they're still mapping a set of terms to an item
> in post_content.
>
> In WP a term has three important things: an ID, a human-entered name,
> and a URL-friendly slug. We use the ID in our relations instead of the
> slug because it's more efficient and slugs are not necessarily unique
> (because of hierarchy).
>
> Having "dogs" in a category table have one ID and "dogs" in a tag table
> have a different ID is a long-term deck of cards that we will seriously
> regret later. It's MUCH harder to reconcile items with internally
> different IDs than it is to split out unique IDs into different tables.

I agree with these points.  These points are the reason I tried to
make the current design work.

> As for some of the bit and count fields currently causing grief, I would
> argue the solution for that isn't a separate tags table, but a separate
> table specifically for that type of data. In Drupal for this
> infrastructure they have a term_data, term_hiercharchy, term_node,
> term_relation, term_synonym, vocabulary, and vocabulary_node_types
> tables. I think that might be a little more than we need, but there are
> some concepts there we could pretty cleanly combine into a single extra
> table that isn't called categories or tags, and will provide a good and
> scalable foundation for years to come.

The presence of category_parent and the count fields are the crux of
my problem with the unified table.  They cause a lot of grief and kill
any future-proofing you think you're getting by having a unified terms
table.  If you're open to a new table for this information, I think I
could get behind that.  I'll give it some thought.

Ryan
From chris.hearn01 at ntlworld.com  Sun Apr 15 20:42:49 2007
From: chris.hearn01 at ntlworld.com (Chris)
Date: Sun Apr 15 20:43:16 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <46227FF4.7050107@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
Message-ID: <46228E49.9060504@ntlworld.com>

You're the boss in this I guess - fwiw why the rush? because some other 
blogging systems put out releases more often? bad reason!
The documentation needs sorting for version 2.1 - stability is good - DB 
changes are bad unless very carefully implemented and documented so  = 
Keep tags out of the way, and don't rush to another release - May/June, 
later.. whatever!
Chris

Matt Mullenweg wrote:
> WordPress is like a sandwich.
>
> Assuming we've scared off all the vegetarians with all the talk of 
> BBQ, the core is the meat. Our meat is the wp_posts table, which 
> stores what I would refer to as the primary points of content. 
> Currently for us this is posts, pages, and attachments, though in the 
> future I could see it expanding to support new post types such as 
> externals, galleries, and hopefully things we can't even imagine yet.
>
> On the side you have chips (good comments), vegetables (idiot 
> comments), and that funny stuff your cousin brought that you're going 
> to move around on the plate but never eat (spam comments). I think 
> comments are okay right now, maybe they could use a meta table but we 
> can talk about that later.
>
> Meat alone is only a real meal at rboren's house, so most people put 
> things on the sandwich to add flavor and spice it up. Some add other 
> types of meat, in the WP world this is postmeta, which we call custom 
> fields in polite company.
>
> We also havae condiments which are currently handled by two tables: 
> wp_categories and wp_post2cat. On the taxonomy/condiment side, right 
> now we really only allow ketchup aka categories, and users for at 
> least a year have been asking for more. In 2.2 we decided to satiate 
> their appetites.
>
> Everyone agrees that ketchup and mayonnaise are totally different, 
> even though they're both condiments and you put them both on 
> sandwiches. No one is trying to create some horrible pink mixture of 
> the two tastes.
>
> However there are currently two schools of thought on how we should 
> store the data for categories and tags at a very low level in our DB.
>
> Let me do my best to make the case for putting category data and tag 
> data in separate tables, and feel free to chime in if you think I've 
> missed any points.
>
> * We shouldn't ship anything with a data schema people disagree on, 
> because plugins and themes will be written against it.
> * They're different things, so we should have them in different tables.
> * Tags can have things like synonyms, and don't need things like 
> hierarchy.
> * There are ugly legacy field names in the category table like 
> category_nicename, cat_name, cat_ID (wtf capitals) and we can clean 
> those up in new tables
> * With separate tables our queries on the admin side become WAY easier 
> and cleaner to do, with no bitwise or _count nonsense
> * Plugins for tagging have implemented it this way.
>
> The code currently in SVN does something different. It uses the 
> categories table for names of the tags and then adds fields to hint 
> how those names are being used for the admin section. If I wanted to 
> make everyone happy and be popular I would just go with the above 
> since there seems to be good consensus there, but I think this is an 
> important long-term decision for WP so let me spell out some reasons 
> why I think the current design has legs not just for 2.2 but beyond.
>
> 1. It performs faster.
>
> On front-end display, we have added ZERO QUERIES to support tags. The 
> query that grabs categories is also grabbing tags and we're sorting 
> them out in the code.
>
> In the dashboard some of the queries are more complicated (though not 
> really any different than what we deal with for link categories) and a 
> few milliseconds slower than the old ones. However, that really 
> doesn't matter because 1) we only need to write them once and more 
> importantly 2) they're run several orders of magnitude fewer times 
> than the ones that display the blog on the front-end. A mantra has 
> always been that user time is more important than developer time.
>
> A separate tag naming table and post2tag table would require at least 
> 2 additional queries and/or joins to the front page, which already 
> think does too many queries and is too heavy.
>
> 2. It's a better long-term foundation.
>
> I think there are a lot of benefits to having a single ID that maps to 
> a term and a slug. Let's pretend we had perfect foresight 5 years ago 
> and instead of wp_categories we had wp_terms.
>
> Regardless of the UI and philosophy behind categories, tags, and ooga 
> booga, on a data level they're still mapping a set of terms to an item 
> in post_content.
>
> In WP a term has three important things: an ID, a human-entered name, 
> and a URL-friendly slug. We use the ID in our relations instead of the 
> slug because it's more efficient and slugs are not necessarily unique 
> (because of hierarchy).
>
> Having "dogs" in a category table have one ID and "dogs" in a tag 
> table have a different ID is a long-term deck of cards that we will 
> seriously regret later. It's MUCH harder to reconcile items with 
> internally different IDs than it is to split out unique IDs into 
> different tables.
>
> As for some of the bit and count fields currently causing grief, I 
> would argue the solution for that isn't a separate tags table, but a 
> separate table specifically for that type of data. In Drupal for this 
> infrastructure they have a term_data, term_hiercharchy, term_node, 
> term_relation, term_synonym, vocabulary, and vocabulary_node_types 
> tables. I think that might be a little more than we need, but there 
> are some concepts there we could pretty cleanly combine into a single 
> extra table that isn't called categories or tags, and will provide a 
> good and scalable foundation for years to come.
>
> 3. There should be no user- or plugin-facing problems with how it's 
> currently implemented, or if we decide to change it.
>
> Now this isn't to suggest for a second there aren't bugs, many have 
> been fixed already and I'm sure there are many still left, but that is 
> going to be true of ANY code we put in WP and anyone who suggests 
> otherwise is not very familiar with software development. From a point 
> of view of plugin authors, they shouldn't have to think or care if 
> we're storing it in a categories table or a turkey, the function they 
> use should remain consistent no matter what we change or gymnastics we 
> do behind the curtain. No matter what we do in 2.2 or 2.3, that's not 
> going to change.
>
> I do think there is something intrinsically better about shipping and 
> iterating than noodling without release in search of the "perfect" 
> implementation.
>
> More importantly from a user's point of view, all that really matters 
> is that they have a box they can type tags in and that their host 
> doesn't tell them not to upgrade to 2.2 because it does more queries.
>
> 4. I'm open
>
> I'm not personally tied to any code written thus far and if I think 
> the best thing is.
>
> There is a separate but related decision around what to do about the 
> release date. Based on the discussion here I'm going to make go/no-go 
> decision on Tuesday.
>
> If we do delay I think we should laser-focus on tags and now allow 
> other pet-issues to creep in, and I will fully expect people to put in 
> as much time writing code and fixing bugs as they have arguing points 
> on mailing lists, IRC, and trac. At the very least I hope we've 
> learned a bit more about getting these things out of the way early 
> rather than a week or two before a release. Also if something is 
> sitting in trac, take it to the hackers list early.
>
> I think if we stick with the current implementation we can hit it with 
> a very stable release next Monday, but if we decide to replace it we 
> need to push it back at least into mid-May.
>
From peter.westwood at ftwr.co.uk  Sun Apr 15 20:46:14 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun Apr 15 20:45:57 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>
Message-ID: <46228F16.2050203@ftwr.co.uk>

Ryan Boren wrote:
> On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
>> Regardless of the UI and philosophy behind categories, tags, and ooga
>> booga, on a data level they're still mapping a set of terms to an item
>> in post_content.
>>
>> In WP a term has three important things: an ID, a human-entered name,
>> and a URL-friendly slug. We use the ID in our relations instead of the
>> slug because it's more efficient and slugs are not necessarily unique
>> (because of hierarchy).
>>
>> Having "dogs" in a category table have one ID and "dogs" in a tag table
>> have a different ID is a long-term deck of cards that we will seriously
>> regret later. It's MUCH harder to reconcile items with internally
>> different IDs than it is to split out unique IDs into different tables.
> 
> I agree with these points.  These points are the reason I tried to
> make the current design work.
> 

I also agree with this.

I do feel we need a super light terms table that just stores the three 
important things - ID, name and slug this would be wp_terms.

We then would have one table per term usage type with the linkages in 
them. i.e post2cat post2tag link2cat etc. - post2cat and post2tag could 
live as postmeta data although this would make them more expensive to 
access.

>> As for some of the bit and count fields currently causing grief, I would
>> argue the solution for that isn't a separate tags table, but a separate
>> table specifically for that type of data. In Drupal for this
>> infrastructure they have a term_data, term_hiercharchy, term_node,
>> term_relation, term_synonym, vocabulary, and vocabulary_node_types
>> tables. I think that might be a little more than we need, but there are
>> some concepts there we could pretty cleanly combine into a single extra
>> table that isn't called categories or tags, and will provide a good and
>> scalable foundation for years to come.
> 
> The presence of category_parent and the count fields are the crux of
> my problem with the unified table.  They cause a lot of grief and kill
> any future-proofing you think you're getting by having a unified terms
> table.  If you're open to a new table for this information, I think I
> could get behind that.  I'll give it some thought.
> 

It would be nice to be able to restore the lost functionality for links 
in this process too - i.e. the ability to customise the lists in the 
admin ui that was lost in 2.0 - a lot of people used this and we just 
dropped it!

This probably means we need tables like: link_cat_extras and 
post_cat_extras (these need better names and maybe they can be merged or 
can be extra columns in the wp_terms table ????)

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk
From ryan at boren.nu  Sun Apr 15 21:11:37 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sun Apr 15 21:11:41 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>
Message-ID: <bb0886ed0704151411u1249e39m15405d2d8d29b7bb@mail.gmail.com>

On 4/15/07, Ryan Boren <ryan@boren.nu> wrote:
> > As for some of the bit and count fields currently causing grief, I would
> > argue the solution for that isn't a separate tags table, but a separate
> > table specifically for that type of data. In Drupal for this
> > infrastructure they have a term_data, term_hiercharchy, term_node,
> > term_relation, term_synonym, vocabulary, and vocabulary_node_types
> > tables. I think that might be a little more than we need, but there are
> > some concepts there we could pretty cleanly combine into a single extra
> > table that isn't called categories or tags, and will provide a good and
> > scalable foundation for years to come.
>
> The presence of category_parent and the count fields are the crux of
> my problem with the unified table.  They cause a lot of grief and kill
> any future-proofing you think you're getting by having a unified terms
> table.  If you're open to a new table for this information, I think I
> could get behind that.  I'll give it some thought.

For everyone's perusal, the drupal schema can be found here (scroll down):

http://cvs.drupal.org/viewcvs/drupal/drupal/modules/system/system.install?rev=1.92&view=markup

Taxonomy code:

http://cvs.drupal.org/viewcvs/drupal/drupal/modules/taxonomy/taxonomy.module?rev=1.351&view=markup
From jalkut at red-sweater.com  Sun Apr 15 21:53:39 2007
From: jalkut at red-sweater.com (Daniel Jalkut)
Date: Sun Apr 15 21:53:47 2007
Subject: [wp-hackers] No XML-RPC Interface to tags in WP 2.2?
In-Reply-To: <70ebb7140704141821u233e5ed4if51f178a97aec717@mail.gmail.com>
References: <1107E78C-A653-4398-9796-58120A23DE5D@red-sweater.com>
	<70ebb7140704141821u233e5ed4if51f178a97aec717@mail.gmail.com>
Message-ID: <DB67CB37-F7C8-4131-8636-0AF578B6BF10@red-sweater.com>

Thanks for the explanation. I appreciate the need to punt changes to  
ship quality software, just wanted to make sure the "incompleteness"  
of the tagging feature was acknowledged.

In any case, the bug has received some renewed attention so maybe  
we'll luck out after all :)

Daniel

On Apr 14, 2007, at 9:21 PM, Lloyd Budd wrote:

> The priority is shipping regularly, high quality releases, and the
> WordPress 2.2 pregnancy has almost come to term.  2.3 is really not
> that far away.
>
> westi, provided feedback on the patch, and no one has updated the
> ticket addressing those "deficiency".
>
> Hope that helps,

From robin.adr at gmail.com  Sun Apr 15 21:58:00 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Sun Apr 15 21:58:05 2007
Subject: [wp-hackers] No XML-RPC Interface to tags in WP 2.2?
In-Reply-To: <DB67CB37-F7C8-4131-8636-0AF578B6BF10@red-sweater.com>
References: <1107E78C-A653-4398-9796-58120A23DE5D@red-sweater.com>
	<70ebb7140704141821u233e5ed4if51f178a97aec717@mail.gmail.com>
	<DB67CB37-F7C8-4131-8636-0AF578B6BF10@red-sweater.com>
Message-ID: <d135ca9c0704151458y58900124nc1b52c484f599352@mail.gmail.com>

I plan to look at it later today and either give feedback on what to fix, or
commit it :) . So don't worry. It'll most likely get in 2.2.

On 4/15/07, Daniel Jalkut <jalkut@red-sweater.com> wrote:
>
> Thanks for the explanation. I appreciate the need to punt changes to
> ship quality software, just wanted to make sure the "incompleteness"
> of the tagging feature was acknowledged.
>
> In any case, the bug has received some renewed attention so maybe
> we'll luck out after all :)
>
> Daniel
>
> On Apr 14, 2007, at 9:21 PM, Lloyd Budd wrote:
>
> > The priority is shipping regularly, high quality releases, and the
> > WordPress 2.2 pregnancy has almost come to term.  2.3 is really not
> > that far away.
> >
> > westi, provided feedback on the patch, and no one has updated the
> > ticket addressing those "deficiency".
> >
> > Hope that helps,
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From false.hopes at gmail.com  Sun Apr 15 22:11:51 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Sun Apr 15 22:11:57 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <46227FF4.7050107@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
Message-ID: <a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> 4. I'm open
>
> I'm not personally tied to any code written thus far and if I think the
> best thing is.
>
> There is a separate but related decision around what to do about the
> release date. Based on the discussion here I'm going to make go/no-go
> decision on Tuesday.
>
> If we do delay I think we should laser-focus on tags and now allow other
> pet-issues to creep in, and I will fully expect people to put in as much
> time writing code and fixing bugs as they have arguing points on mailing
> lists, IRC, and trac. At the very least I hope we've learned a bit more
> about getting these things out of the way early rather than a week or
> two before a release. Also if something is sitting in trac, take it to
> the hackers list early.

I really wish we would've learned something about checking in heavy
changesets within a week of release time, but every major release
proves otherwise. I personally think if we're going to try to stick to
a fixed release schedule for this release and future releases, that
throwing major things like tagging into the core within the last month
of the cycle is a big step backwards.


> I think if we stick with the current implementation we can hit it with a
> very stable release next Monday, but if we decide to replace it we need
> to push it back at least into mid-May.



-- 
--Robert Deaton
http://lushlab.com
From ryan at boren.nu  Sun Apr 15 22:40:20 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sun Apr 15 22:40:27 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <bb0886ed0704151411u1249e39m15405d2d8d29b7bb@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>
	<bb0886ed0704151411u1249e39m15405d2d8d29b7bb@mail.gmail.com>
Message-ID: <bb0886ed0704151540l6d177c23x5e7967bfe4eda4b8@mail.gmail.com>

On 4/15/07, Ryan Boren <ryan@boren.nu> wrote:
> On 4/15/07, Ryan Boren <ryan@boren.nu> wrote:
> > > As for some of the bit and count fields currently causing grief, I would
> > > argue the solution for that isn't a separate tags table, but a separate
> > > table specifically for that type of data. In Drupal for this
> > > infrastructure they have a term_data, term_hiercharchy, term_node,
> > > term_relation, term_synonym, vocabulary, and vocabulary_node_types
> > > tables. I think that might be a little more than we need, but there are
> > > some concepts there we could pretty cleanly combine into a single extra
> > > table that isn't called categories or tags, and will provide a good and
> > > scalable foundation for years to come.
> >
> > The presence of category_parent and the count fields are the crux of
> > my problem with the unified table.  They cause a lot of grief and kill
> > any future-proofing you think you're getting by having a unified terms
> > table.  If you're open to a new table for this information, I think I
> > could get behind that.  I'll give it some thought.
>
> For everyone's perusal, the drupal schema can be found here (scroll down):
>
> http://cvs.drupal.org/viewcvs/drupal/drupal/modules/system/system.install?rev=1.92&view=markup
>
> Taxonomy code:
>
> http://cvs.drupal.org/viewcvs/drupal/drupal/modules/taxonomy/taxonomy.module?rev=1.351&view=markup

I'll borrow and corrupt Drupal's vocabulary terminology.  We have
three vocabularies: link categories, post categories, and post tags.
We want a term with a given name to always have the same id but be
able to participate independently in each of these vocabularies.  If
we pare down the tables to the least we can get away with, we end with
with three.

CREATE TABLE $wpdb->terms (
  term_ID bigint(20) NOT NULL auto_increment,
  term_name varchar(55) NOT NULL default '',
  term_nicename varchar(200) NOT NULL default '',
  term_description longtext NOT NULL,  // Maybe put this in term_vocabulary
  PRIMARY KEY  (term_ID),
  KEY term_nicename (term_nicename)
);
CREATE TABLE $wpdb->term_vocabulary (
  term_ID bigint(20) NOT NULL default '0',
  vocabulary_ID bigint(20) NOT NULL default '0',
  parent bigint(20) NOT NULL default '0',
  count bigint(20) NOT NULL default '0'
);
CREATE TABLE $wpdb->object2term (
  object_ID bigint(20) NOT NULL default '0',
  term_ID bigint(20) NOT NULL default '0',
  vocabulary_ID bigint(20) NOT NULL default '0',
  PRIMARY KEY  (object_ID),
  KEY object_ID (object_ID,term_ID),
  KEY term_ID (term_ID,object_ID)
);

A term is created within the context of a vocabulary.  When creating,
if the term doesn't exist in the terms table it is added there and to
term_vocabulary with the appropriate term ID.  If the term already
exists in terms, it is just added to term_vocabulary.   Adding the
term to a post adds an entry to object2term with the appropriate
vocabulary id.  The count and parent relationship are per vocabulary.
Deleting a term removes its term_vocabulary entry.  If the term is no
longer used in any vocabulary, it is removed from terms.

That's the rough idea. Thoughts?

Ryan
From ryan at boren.nu  Sun Apr 15 22:45:06 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sun Apr 15 22:45:11 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
Message-ID: <bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>

On 4/15/07, Robert Deaton <false.hopes@gmail.com> wrote:
> I really wish we would've learned something about checking in heavy
> changesets within a week of release time, but every major release
> proves otherwise. I personally think if we're going to try to stick to
> a fixed release schedule for this release and future releases, that
> throwing major things like tagging into the core within the last month
> of the cycle is a big step backwards.

Tagging was supposed to go in at the beginning of the 2.2 cycle, but
this debate delayed its entry until late in the cycle and is delaying
things still.  Things were supposed to be locked down long ago, but
here we are.

Ryan
From zamoose at gmail.com  Sun Apr 15 22:45:43 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Sun Apr 15 22:46:01 2007
Subject: [wp-hackers] UTW and WordPress
In-Reply-To: <b88434820704151242v3dcb7144s49bec4825265a2b0@mail.gmail.com>
References: <000001c77f78$e7b4b010$b71e1030$@net>
	<3C4250A8-C4BB-4F3A-A780-9BAF8341267C@b5media.com>
	<a491f91d0704151018v7b8d642cncb066d53e4c6855f@mail.gmail.com>
	<6A2EF272-EF53-486D-81F1-467ECC8DAF21@b5media.com>
	<000401c77f85$d126fe40$7374fac0$@net>
	<e1202cb10704151222t3dacd7d6necc4465ddcf75de5@mail.gmail.com>
	<b88434820704151242v3dcb7144s49bec4825265a2b0@mail.gmail.com>
Message-ID: <71ddd7490704151545r1a34a877ic6932b36c040a58@mail.gmail.com>

On 4/15/07, Matt <speedboxer@gmail.com> wrote:
> I'm assuming there's some hooks for the Tagging System in Trunk right now,
> so, why can't we just leave it the way it is, and if someone wants more
> features, just make a Plugin for it, or make UTW into a Plugin that adds
> Features to the Core Tagging System?
>

You probably ought to check in on the other tagging thread (started by
Robert Deaton) for the current state of tagging in Trunk - it's "under
review" to say the least.

-- 
-Doug

http://literalbarrage.org/blog/
From false.hopes at gmail.com  Sun Apr 15 22:52:07 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Sun Apr 15 22:52:12 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
Message-ID: <a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>

On 4/15/07, Ryan Boren <ryan@boren.nu> wrote:
> On 4/15/07, Robert Deaton <false.hopes@gmail.com> wrote:
> > I really wish we would've learned something about checking in heavy
> > changesets within a week of release time, but every major release
> > proves otherwise. I personally think if we're going to try to stick to
> > a fixed release schedule for this release and future releases, that
> > throwing major things like tagging into the core within the last month
> > of the cycle is a big step backwards.
>
> Tagging was supposed to go in at the beginning of the 2.2 cycle, but
> this debate delayed its entry until late in the cycle and is delaying
> things still.  Things were supposed to be locked down long ago, but
> here we are.

I am not opposed to ripping it all out and starting fresh as soon as
2.2 is out the door.

-- 
--Robert Deaton
http://lushlab.com
From stevelle at gmail.com  Sun Apr 15 23:03:55 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Sun Apr 15 23:04:01 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
Message-ID: <b65af1a30704151603u5a4394bblefef440fc766cf7@mail.gmail.com>

On 4/15/07, Robert Deaton <false.hopes@gmail.com> wrote:

> I really wish we would've learned something about checking in heavy
> changesets within a week of release time, but every major release
> proves otherwise. I personally think if we're going to try to stick to
> a fixed release schedule for this release and future releases, that
> throwing major things like tagging into the core within the last month
> of the cycle is a big step backwards.


I couldn't agree more.  If there is an existential crisis with the
implementation of tags, particularly at such a low level, then roll Tagging
out of 2.2 NOW and give it the time it needs to be resolved, or blow the
release schedule for 2.2.  As has been pointed out, releasing tags in core,
and then changing the DB structure for storing it, is a recipe for
disaster.

That said, I think tags should be in their own table, but I am still
flabbergasted over what was done over links/blogroll.

-- 
SteveL
From m at mullenweg.com  Sun Apr 15 23:27:42 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Apr 15 23:29:52 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <a491f91d0704151318s4b8ebbaas1c4aae58007841bf@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151318s4b8ebbaas1c4aae58007841bf@mail.gmail.com>
Message-ID: <4622B4EE.8060308@mullenweg.com>

Robert Deaton wrote:
> I would swear you were highly overweight if I didn't know any better.

I'm working on it.

> One of the first rules of SQL has always been to not fetch more than
> you need, to allow sorting and searching to be done on the SQL side,
> etc. This breaks that fundamental rule.

In the context of displaying a post the categories and tags for that 
post aren't more than we need, they are exactly what we need. It's an 
index lookup.

> The bitfield also introduces new things. Let's face it, the APIs for
> fetching things from the database are horribly incomplete and will
> never ever possibly cover all the things that plugins will want to do.

If our APIs are incomplete, that's a separate and unrelated bug to the 
underlying data structure. A plugin should never talk to the core DB 
tables and fields directly.

> So, how about a plugin that wants to fetch all the tags to do some
> magic? Well, with a bitfield, that plugin now has to fetch all the
> categories and all the tags, and then sort through with bitwise
> operations and discard the categories which they don't care about.

You can get one or the other on the query level, no reason to select 
both. It's also something we could pretty easily create a wrapper 
function for, if there isn't one already.

> I think you missed a noun in the last clause of the sentence. Who
> thinks it is? 

Oh sorry, I think there are too many. I agree that it's better to have 
more fast and light queries than fewer heavy ones, but I don't think WP 
is yet fully optimized in this regard, though 2.1 was a step in the 
right direction.

> Are you gradually moving us toward dropping this table altogether and
> moving it all into postmeta?

I thought about this a lot, but that would make it pretty difficult to 
do a query against posts in category or tag X, which I think is a pretty 
common use case and one we should weight the schema toward.

> But like you said earlier, ketchup and mayonnaise are two different
> things. Why would we be trying to put them together?

I'm not going to try and stretch the metaphor too far, but I think at 
the base level they do something that can be described and stored in 
exactly the same way. I guess you could think of it as the ingredients 
that go into each. Perhaps a better analogy would be ketchup and 
spaghetti sauce.

> I disagree. Especially because the implementation is lacking so many
> features that other tagging plugins have done well for some time now,
> new plugins are bound to be forced to write their own queries to
> interface with this table. And when they don't work anymore in the
> next version, someone's gonna be pissed.

I think if we cover the basic CRUD operations, every missing feature I 
can imagine is doable. If people want to talk to the DB directly, they 
should be smart enough to know that means they'll have to update their 
plugin accordingly. Fortunately, with a regular release schedule and an 
Open Source codebase like ours there aren't really surprises like that 
you won't know pretty far in advance.

> I agree, there is something better about shipping and iterating, as
> long as the initial shipment has something that is not fundamentally
> broken.

I don't think anything we've talked about on either is fundamentally 
broken, especially from a user point of view.

Historically we've found that the things that are actual issues are very 
different from the things we've anticipated to be issues. I don't think 
this is unique to us, but is a general tenet of software design and 
development in general.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From speedboxer at gmail.com  Sun Apr 15 23:33:35 2007
From: speedboxer at gmail.com (Matt)
Date: Sun Apr 15 23:33:40 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
Message-ID: <b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>

Or, we could pull the Tags out of Trunk, then release what's in Trunk as
2.1.4, then carry on resolving and working on all these problems that are
coming up for 2.2, and release it in a month or 2...

On 4/15/07, Robert Deaton <false.hopes@gmail.com> wrote:
>
> On 4/15/07, Ryan Boren <ryan@boren.nu> wrote:
> > On 4/15/07, Robert Deaton <false.hopes@gmail.com> wrote:
> > > I really wish we would've learned something about checking in heavy
> > > changesets within a week of release time, but every major release
> > > proves otherwise. I personally think if we're going to try to stick to
> > > a fixed release schedule for this release and future releases, that
> > > throwing major things like tagging into the core within the last month
> > > of the cycle is a big step backwards.
> >
> > Tagging was supposed to go in at the beginning of the 2.2 cycle, but
> > this debate delayed its entry until late in the cycle and is delaying
> > things still.  Things were supposed to be locked down long ago, but
> > here we are.
>
> I am not opposed to ripping it all out and starting fresh as soon as
> 2.2 is out the door.
>
> --
> --Robert Deaton
> http://lushlab.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/ | http://livemp.net/
From m at mullenweg.com  Sun Apr 15 23:35:11 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Apr 15 23:37:19 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>
Message-ID: <4622B6AF.8010208@mullenweg.com>

Matt wrote:
> Or, we could pull the Tags out of Trunk, then release what's in Trunk as
> 2.1.4, then carry on resolving and working on all these problems that are
> coming up for 2.2, and release it in a month or 2...

I don't think we should change the semantics of a minor point release 
(2.x.x) to mean adding features.

Likewise if tagging isn't in 2.2, I'm not sure if it has enough sizzle 
to drive upgrades. The other sexy features were permalink redirection 
and widgets, and we axed both of those for 2.2 already.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From m at mullenweg.com  Sun Apr 15 23:37:30 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Apr 15 23:39:39 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <bb0886ed0704151411u1249e39m15405d2d8d29b7bb@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>	<bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>
	<bb0886ed0704151411u1249e39m15405d2d8d29b7bb@mail.gmail.com>
Message-ID: <4622B73A.4030601@mullenweg.com>

Ryan Boren wrote:
> For everyone's perusal, the drupal schema can be found here (scroll down):

Here's a neat representation of the same:

http://webdevgeeks.com/schemaspy/index.html

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From speedboxer at gmail.com  Sun Apr 15 23:39:58 2007
From: speedboxer at gmail.com (Matt)
Date: Sun Apr 15 23:40:23 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <4622B6AF.8010208@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>
	<4622B6AF.8010208@mullenweg.com>
Message-ID: <b88434820704151639h25cac3aew193cf6598b377a68@mail.gmail.com>

I meant to put that their wasn't any reason to upgrade. :P

Well, then, we should delay the release of 2.2. Otherwise, quite a lot of
people are going to be unhappy, and WP might start to get a bad name.


On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
>
> Matt wrote:
> > Or, we could pull the Tags out of Trunk, then release what's in Trunk as
> > 2.1.4, then carry on resolving and working on all these problems that
> are
> > coming up for 2.2, and release it in a month or 2...
>
> I don't think we should change the semantics of a minor point release
> (2.x.x) to mean adding features.
>
> Likewise if tagging isn't in 2.2, I'm not sure if it has enough sizzle
> to drive upgrades. The other sexy features were permalink redirection
> and widgets, and we axed both of those for 2.2 already.
>
> --
> Matt Mullenweg
> http://photomatt.net | http://wordpress.org
> http://automattic.com | http://akismet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/ | http://livemp.net/
From spencerp1 at gmail.com  Sun Apr 15 23:40:29 2007
From: spencerp1 at gmail.com (spencerp)
Date: Sun Apr 15 23:40:34 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>
Message-ID: <4622B7ED.8050108@gmail.com>

Matt wrote:
> Or, we could pull the Tags out of Trunk, then release what's in Trunk as
> 2.1.4, then carry on resolving and working on all these problems that are
> coming up for 2.2, and release it in a month or 2...
>
> On 4/15/07, Robert Deaton <false.hopes@gmail.com> wrote:
>>
>> On 4/15/07, Ryan Boren <ryan@boren.nu> wrote:
>> > On 4/15/07, Robert Deaton <false.hopes@gmail.com> wrote:
>> > > I really wish we would've learned something about checking in heavy
>> > > changesets within a week of release time, but every major release
>> > > proves otherwise. I personally think if we're going to try to 
>> stick to
>> > > a fixed release schedule for this release and future releases, that
>> > > throwing major things like tagging into the core within the last 
>> month
>> > > of the cycle is a big step backwards.
>> >
>> > Tagging was supposed to go in at the beginning of the 2.2 cycle, but
>> > this debate delayed its entry until late in the cycle and is delaying
>> > things still.  Things were supposed to be locked down long ago, but
>> > here we are.
>>
>> I am not opposed to ripping it all out and starting fresh as soon as
>> 2.2 is out the door.
>>

Oh Jesus! Stop the crazy talk people... :P Like Ryan said basically, 
"we're" already behind on that and just ripping it all out now would be 
crazy. I just manually adjusted TONS of my posts from that UTW tag 
import crap deal the other day. And made a tag cloud fer it and all that 
good mushy stuff...

WP 2.2 has some more changes since 2.1.X, but shite, not by much. With 
Tags in now, and the talk going on about splitting db tables, just move 
the release date forward. It's easier to do that, then rip out what's 
already been added... At the rate folks are talking about.. that SC2 
integration into the core will make it in around WP 2.7 or greater lmao! 
*sarcasm* of course! :P

spencerp
From m at mullenweg.com  Sun Apr 15 23:38:38 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Apr 15 23:41:48 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>
Message-ID: <4622B77E.4090603@mullenweg.com>

Ryan Boren wrote:
> The presence of category_parent and the count fields are the crux of
> my problem with the unified table.  They cause a lot of grief and kill
> any future-proofing you think you're getting by having a unified terms
> table.  If you're open to a new table for this information, I think I
> could get behind that.  I'll give it some thought.

Let's not lose counts, they can be super useful.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From r at robm.me.uk  Sun Apr 15 23:46:08 2007
From: r at robm.me.uk (Rob)
Date: Sun Apr 15 23:46:14 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <4622B6AF.8010208@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>
	<4622B6AF.8010208@mullenweg.com>
Message-ID: <ab92f2360704151646k6db5e73bof6055c9e6a139db@mail.gmail.com>

On 16/04/07, Matt Mullenweg <m@mullenweg.com> wrote:
> Likewise if tagging isn't in 2.2, I'm not sure if it has enough sizzle
> to drive upgrades. The other sexy features were permalink redirection
> and widgets, and we axed both of those for 2.2 already.

Why not push back 2.2, sort out this debate over tagging, *and*
include the permalink redirection stuff and widgets?

It really doesn't seem like there's enough in 2.2 to justify a
release, at the moment, and I really don't see the point in releasing
for the sake of it.

-- 
Rob

-----------------------
Rob Miller
Senior Programmer

email - rob@graphics.net
web - http://www.graphics.net/ | http://robm.me.uk/
From spencerp1 at gmail.com  Sun Apr 15 23:48:34 2007
From: spencerp1 at gmail.com (spencerp)
Date: Sun Apr 15 23:48:08 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <4622B7ED.8050108@gmail.com>
References: <46227FF4.7050107@mullenweg.com>	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>
	<4622B7ED.8050108@gmail.com>
Message-ID: <4622B9D2.40502@gmail.com>

spencerp wrote:
> that SC2 integration i

Dang, meant: Subscribe 2 Comments, or whatever the hell it is that was 
mentioned.. LOL!
From m at mullenweg.com  Sun Apr 15 23:46:35 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Apr 15 23:48:44 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <ab92f2360704151646k6db5e73bof6055c9e6a139db@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>	<b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>	<4622B6AF.8010208@mullenweg.com>
	<ab92f2360704151646k6db5e73bof6055c9e6a139db@mail.gmail.com>
Message-ID: <4622B95B.1050101@mullenweg.com>

Rob wrote:
> Why not push back 2.2, sort out this debate over tagging, *and*
> include the permalink redirection stuff and widgets?

Because down that road lies a year in between 2.0 and 2.1. A small 
feature release is better than no release.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From m at mullenweg.com  Sun Apr 15 23:48:14 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Apr 15 23:50:23 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <bb0886ed0704151540l6d177c23x5e7967bfe4eda4b8@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>	<bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>	<bb0886ed0704151411u1249e39m15405d2d8d29b7bb@mail.gmail.com>
	<bb0886ed0704151540l6d177c23x5e7967bfe4eda4b8@mail.gmail.com>
Message-ID: <4622B9BE.5080004@mullenweg.com>

Ryan Boren wrote:
> I'll borrow and corrupt Drupal's vocabulary terminology.  We have
> three vocabularies: link categories, post categories, and post tags.
> We want a term with a given name to always have the same id but be
> able to participate independently in each of these vocabularies.  If
> we pare down the tables to the least we can get away with, we end with
> with three.

On style:

* _id is lowercase on new stuff.
* _slug instead of _nicename.

On substance:

>  KEY object_ID (object_ID,term_ID),

I don't think this is needed.

>  KEY term_ID (term_ID,object_ID)

I think you can leave object_ID out of this.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From m at mullenweg.com  Sun Apr 15 23:51:45 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Apr 15 23:53:53 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>
	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>
Message-ID: <4622BA91.5010403@mullenweg.com>

Robin Adrianse wrote:
> I don't agree. One of my big, BIG pet peeves of the 2.1 release was that
> link and post categories were, so to speak, "unified." If we're going to
> separate them in the UI, then we should really put them in separate tables.

By that argument we should have separate tables for posts, pages, 
uploads, rss feeds, rewrite rules...

For April Fool's next year we should do a version with 1 post per table. 
Why?

* Posts are used differently in different contexts.
* You can do custom fields with ACTUAL fields.
* Get the benefit of the per-table query cache.
* "Tables are cheap!"

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From if.website at gmail.com  Sun Apr 15 23:53:48 2007
From: if.website at gmail.com (Austin Matzko)
Date: Sun Apr 15 23:53:57 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
Message-ID: <674b4a3b0704151653w50c69a93lb85b5cee798ca764@mail.gmail.com>

On 4/15/07, Robert Deaton <false.hopes@gmail.com> wrote:
> I am not opposed to ripping it all out and starting fresh as soon as
> 2.2 is out the door.

For the sake of plugin authors and their users, let's not do this.
Because having tags is for users the most interesting new feature of
2.2, plugin authors are going to leap on this new feature, and then
all their code would be broken at the next release.

Please let's sort it out now.
From r at robm.me.uk  Sun Apr 15 23:57:17 2007
From: r at robm.me.uk (Rob)
Date: Sun Apr 15 23:57:24 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <4622B95B.1050101@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>
	<4622B6AF.8010208@mullenweg.com>
	<ab92f2360704151646k6db5e73bof6055c9e6a139db@mail.gmail.com>
	<4622B95B.1050101@mullenweg.com>
Message-ID: <ab92f2360704151657n34de631v79a6897a443f14af@mail.gmail.com>

On 16/04/07, Matt Mullenweg <m@mullenweg.com> wrote:
> Because down that road lies a year in between 2.0 and 2.1. A small
> feature release is better than no release.

Why? I'm not disputing this, I just can't really get my head around
why it would be true.

-- 
Rob

-----------------------
Rob Miller
Senior Programmer

email - rob@graphics.net
web - http://www.graphics.net/ | http://robm.me.uk/
From elharo at metalab.unc.edu  Mon Apr 16 00:04:27 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Mon Apr 16 00:04:28 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <4622BA91.5010403@mullenweg.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>
	<4622BA91.5010403@mullenweg.com>
Message-ID: <4622BD8B.6050503@metalab.unc.edu>

Matt Mullenweg wrote:

> By that argument we should have separate tables for posts, pages, 
> uploads, rss feeds, rewrite rules...
> 

Posts, pages, uploads, and rewrite rules should be separate tables.

Theoretically RSS feeds shouldn't be because they're dependent on the 
post table. Sometimes optimization requires that sort of denormalization 
though, but I don't cross that bridge until i come to it.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From robin.adr at gmail.com  Mon Apr 16 00:14:40 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Mon Apr 16 00:14:45 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <ab92f2360704151657n34de631v79a6897a443f14af@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<b88434820704151633n3641f99pc41157365124de8a@mail.gmail.com>
	<4622B6AF.8010208@mullenweg.com>
	<ab92f2360704151646k6db5e73bof6055c9e6a139db@mail.gmail.com>
	<4622B95B.1050101@mullenweg.com>
	<ab92f2360704151657n34de631v79a6897a443f14af@mail.gmail.com>
Message-ID: <d135ca9c0704151714o6b1cf424ua056c974a1eebbfd@mail.gmail.com>

Yeah, I agree. Might as well just release 2.1.4 and 2.0.11, then keep
working on 2.2, instead of releasing with a severely messed up schema. "A
release is better than no release" is not always true.

On 4/15/07, Rob <r@robm.me.uk> wrote:
>
> On 16/04/07, Matt Mullenweg <m@mullenweg.com> wrote:
> > Because down that road lies a year in between 2.0 and 2.1. A small
> > feature release is better than no release.
>
> Why? I'm not disputing this, I just can't really get my head around
> why it would be true.
>
> --
> Rob
>
> -----------------------
> Rob Miller
> Senior Programmer
>
> email - rob@graphics.net
> web - http://www.graphics.net/ | http://robm.me.uk/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From lists.permutype at gmail.com  Mon Apr 16 00:17:49 2007
From: lists.permutype at gmail.com (Boris Anthony)
Date: Mon Apr 16 00:18:01 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <4622BA91.5010403@mullenweg.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>
	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>
	<4622BA91.5010403@mullenweg.com>
Message-ID: <38864677-C72D-4367-876E-7A1F0DE008D8@gmail.com>


On 15-Apr-07, at 7:51 PM, Matt Mullenweg wrote:
> Robin Adrianse wrote:
>> I don't agree. One of my big, BIG pet peeves of the 2.1 release  
>> was that
>> link and post categories were, so to speak, "unified." If we're  
>> going to
>> separate them in the UI, then we should really put them in  
>> separate tables.
>
> By that argument we should have separate tables for posts, pages,  
> uploads, rss feeds, rewrite rules...

just a question of where you draw the lines and why. I think most  
people here agree some lines were poorly drawn. We all make mistakes. :)

--

+1 for the ongoing vote.


insofar as tagging is concerned, please don't try to reinvent the  
wheel. Please check out how other systems do it. Please check out  
other codes bases. Please talk to people who have done this on  
monumental scales. Tags are seriously non-trivial thing to do,  
especially in a scaleable way. Consider your DB schemas deeply. Plan  
out what functionalities you will need and want. Please please do not  
do this half-assedly. :)

The world is watching. ;)

B.

-------------------------
Boris Anthony
Designer and Web Architect
http://globalvoicesonline.org/
From m at mullenweg.com  Mon Apr 16 00:26:08 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr 16 00:28:19 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <674b4a3b0704151653w50c69a93lb85b5cee798ca764@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<674b4a3b0704151653w50c69a93lb85b5cee798ca764@mail.gmail.com>
Message-ID: <4622C2A0.1050903@mullenweg.com>

Austin Matzko wrote:
> plugin authors are going to leap on this new feature, and then
> all their code would be broken at the next release.

It would make the conversation more useful if the longer messages were 
read more closely, I cover plugin authors specifically in my original 
email on this thread. If you disagree about any points there, it would 
be good to reply directly, rather than making a false assumption on 
something that has already been discussed.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From ryan at boren.nu  Mon Apr 16 00:35:17 2007
From: ryan at boren.nu (Ryan Boren)
Date: Mon Apr 16 00:35:22 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <4622C2A0.1050903@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<674b4a3b0704151653w50c69a93lb85b5cee798ca764@mail.gmail.com>
	<4622C2A0.1050903@mullenweg.com>
Message-ID: <bb0886ed0704151735x4a4b0036sf01b1a960b2eb3fd@mail.gmail.com>

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> Austin Matzko wrote:
> > plugin authors are going to leap on this new feature, and then
> > all their code would be broken at the next release.
>
> It would make the conversation more useful if the longer messages were
> read more closely, I cover plugin authors specifically in my original
> email on this thread. If you disagree about any points there, it would
> be good to reply directly, rather than making a false assumption on
> something that has already been discussed.

Plugins always want to do more than API allows.  If we added API for
every possible thing people might want to do with tags, we'd spend as
much time fleshing out the API as redoing the schema.  I think we must
acknowledge that we will have to suffer two rounds of breakage if we
leave 2.2 as is.  Maybe that's acceptable.  My inclination is to delay
and get it right in 2.2, but I confess that I think too much like an
engineer who always wants more time to, well, engineer.

Ryan
From ryan at boren.nu  Mon Apr 16 00:45:40 2007
From: ryan at boren.nu (Ryan Boren)
Date: Mon Apr 16 00:45:45 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <4622B9BE.5080004@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
	<bb0886ed0704151336k79652cb5q19c59353c67edca5@mail.gmail.com>
	<bb0886ed0704151411u1249e39m15405d2d8d29b7bb@mail.gmail.com>
	<bb0886ed0704151540l6d177c23x5e7967bfe4eda4b8@mail.gmail.com>
	<4622B9BE.5080004@mullenweg.com>
Message-ID: <bb0886ed0704151745n7e52ccd7ncac24c87fbc4f1fa@mail.gmail.com>

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> On style:
>
> * _id is lowercase on new stuff.
> * _slug instead of _nicename.
>
> On substance:
>
> >  KEY object_ID (object_ID,term_ID),
>
> I don't think this is needed.
>
> >  KEY term_ID (term_ID,object_ID)
>
> I think you can leave object_ID out of this.

And maybe use the term taxonomy rather than vocabulary.

Ryan
From if.website at gmail.com  Mon Apr 16 00:47:32 2007
From: if.website at gmail.com (Austin Matzko)
Date: Mon Apr 16 00:47:37 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <4622C2A0.1050903@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<674b4a3b0704151653w50c69a93lb85b5cee798ca764@mail.gmail.com>
	<4622C2A0.1050903@mullenweg.com>
Message-ID: <674b4a3b0704151747q59e061adk99928c61b7dc40cc@mail.gmail.com>

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> Austin Matzko wrote:
> > plugin authors are going to leap on this new feature, and then
> > all their code would be broken at the next release.
>
> It would make the conversation more useful if the longer messages were
> read more closely, I cover plugin authors specifically in my original
> email on this thread. If you disagree about any points there, it would
> be good to reply directly, rather than making a false assumption on
> something that has already been discussed.

Fair enough.  I disagree with this:

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
  > From a point of view of plugin authors, they shouldn't have to
think or care if we're storing it in a categories table or a turkey,
the function they use should remain consistent no matter what we
change or gymnastics we do behind the curtain.

Take something as simple and common as including categories in the tag
cloud.  As far as I can tell, there's no way to do that with the trunk
code without querying the db directly.
From spencerp1 at gmail.com  Mon Apr 16 00:47:42 2007
From: spencerp1 at gmail.com (spencerp)
Date: Mon Apr 16 00:47:46 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <bb0886ed0704151735x4a4b0036sf01b1a960b2eb3fd@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>	<674b4a3b0704151653w50c69a93lb85b5cee798ca764@mail.gmail.com>	<4622C2A0.1050903@mullenweg.com>
	<bb0886ed0704151735x4a4b0036sf01b1a960b2eb3fd@mail.gmail.com>
Message-ID: <4622C7AE.4020905@gmail.com>

Ryan Boren wrote:
> I think we must
> acknowledge that we will have to suffer two rounds of breakage if we
> leave 2.2 as is.  Maybe that's acceptable.  My inclination is to delay
> and get it right in 2.2, but I confess that I think too much like an
> engineer who always wants more time to, well, engineer. 
I agree. ;) :) I'd rather see 2.2's release date bumped, and given more 
time for the TLC it needs (tags/database reorganizing or whatever), 
rather then having another "rushed" ship job sigh... Handle the widgets, 
permalinks, *cough* better draft management system, and whatever else on 
next production cycle... :P

spencerp

From zamoose at gmail.com  Mon Apr 16 01:02:38 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr 16 01:02:44 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <4622BA91.5010403@mullenweg.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>
	<000901c77f85$97d31700$c864a8c0@tiger1>
	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>
	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>
	<4622BA91.5010403@mullenweg.com>
Message-ID: <71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> Robin Adrianse wrote:
> > I don't agree. One of my big, BIG pet peeves of the 2.1 release was that
> > link and post categories were, so to speak, "unified." If we're going to
> > separate them in the UI, then we should really put them in separate tables.
>
> By that argument we should have separate tables for posts, pages,
> uploads,

Yes, yes, yes.  Content.  I cannot count the number of times that
people have wanted to "categorize" pages.  They're fundamentally
different than each other and to cram them into the same table is a
bad notion, DB design-wise.

> rss feeds, rewrite rules...

No, no. Options

-- 
-Doug

http://literalbarrage.org/blog/
From wphackers at galleryembedded.com  Mon Apr 16 01:11:03 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Mon Apr 16 01:11:10 2007
Subject: [wp-hackers] Re: A "terms" table
Message-ID: <1176685862.m2f.31802@www.galleryembedded.com>

I will chime in as well, as I would rather WP 2.2 get tags right the first time around because as Matt has already pointed out this topic has a LOT of interest, and I got a queue of people sweating on syncing the tags between Gallery2 and WP and the last thing I want is to release major tag functionality that is going to be broken or changed in the subsequent releases, I just do not have the time to play the catchup to WP codebase changes game.

On a personal note.. I still question the release frequently concept, constant upgrading is painful and I notice a large number of posters in my WPG2 forums are still on 2.0x which to me is an indication that I am not the only person feeling the same way.. 

I rather see a rock solid, well tested WP released twice a year than the more frequent releases..




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From stevelle at gmail.com  Mon Apr 16 01:28:55 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Mon Apr 16 01:29:01 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <46227FF4.7050107@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
Message-ID: <b65af1a30704151828h74550082kd909431b8573ffb0@mail.gmail.com>

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> I cover plugin authors specifically in my original email on this thread.

Fine.
[reviewing]

3. There should be no user- or plugin-facing problems with how it's
> currently implemented, or if we decide to change it.


To answer that, I have to throw another of your own quotes back at you:

> Historically we've found that the things that are actual issues are very
> different from the things we've anticipated to be issues. I don't think
> this is unique to us, but is a general tenet of software design and
> development in general.

You can say that plugin authors "shouldn't" need to perform direct queries.
Respectfully, API consumers don't obey "should" or "shouldn't" dictates very
well when they are not given an alternative and there is no legitimate way
to claim that the hook API for tags is complete because the plugin authors
haven't had a chance to work with it yet.  To paraphrase you, the community
doesn't always use the tools the way you expect them to.

Some more tenets of software design:
Change is hard.  Change later is harder.
Fixing something later incurs a greater cost then fixing something earlier.
It takes a long time to regain the trust of your users (including theme and
plugin authors) but very little time to lose it.
Obligating others to spend time upgrading is not endearing.  To heck with
your "Web 2.0" daily code drop buzz.

I restate my position:  Fix the DB concerns now.  Whether that means staying
with what you got or not.  Make this your final answer.

-- 
SteveL
From FEWILL at aol.com  Mon Apr 16 01:41:40 2007
From: FEWILL at aol.com (FEWILL@aol.com)
Date: Mon Apr 16 01:41:54 2007
Subject: [wp-hackers] A "terms" table
Message-ID: <d0f.72d704b.33542e54@aol.com>

Please help--How do I get off of this mailing list!!!!!!!!!!!



************************************** See what's free at http://www.aol.com.
From false.hopes at gmail.com  Mon Apr 16 01:44:29 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Apr 16 01:44:34 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <d0f.72d704b.33542e54@aol.com>
References: <d0f.72d704b.33542e54@aol.com>
Message-ID: <a491f91d0704151844p6201a02qfd2fa8cd77375e44@mail.gmail.com>

On 4/15/07, FEWILL@aol.com <FEWILL@aol.com> wrote:
> Please help--How do I get off of this mailing list!!!!!!!!!!!

http://lists.automattic.com/mailman/listinfo/wp-hackers
Look toward the bottom of the page for the unsubscribe box.

To everyone else, this has been taken care of, no need to harass, move
on with the thread.

-- 
--Robert Deaton
http://lushlab.com
From abrazell at b5media.com  Mon Apr 16 01:53:32 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Mon Apr 16 01:55:41 2007
Subject: [wp-hackers] Trac Down?
Message-ID: <900EA1F8-73A5-4A18-B73A-D926CD7DB2B3@b5media.com>

Just wondering...
--
Aaron Brazell
Technology Manager, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor


From theapparatus at gmail.com  Mon Apr 16 01:57:57 2007
From: theapparatus at gmail.com (Dr. Mike Wendell)
Date: Mon Apr 16 01:58:01 2007
Subject: [wp-hackers] Trac Down?
In-Reply-To: <900EA1F8-73A5-4A18-B73A-D926CD7DB2B3@b5media.com>
References: <900EA1F8-73A5-4A18-B73A-D926CD7DB2B3@b5media.com>
Message-ID: <f1cf41430704151857n310432a3o268dc59eb43466e9@mail.gmail.com>

WPMU's is as well.  Been like that for at least the last 6-7 hours.

Regards,
-drmike

On 4/15/07, Aaron Brazell <abrazell@b5media.com> wrote:
> Just wondering...
> --
> Aaron Brazell
> Technology Manager, b5media
> "A Global New Media Company"
>
> web:: www.b5media.com, www.technosailor.com
> phone:: 410-608-6620
> skype:: technosailor
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Blog: http://drmikessteakdinner.com
Kim Possible: Remixed: http://kimpossibleremixed.com
Get your own free hosted WordPress Blog today: http://daria.be
From false.hopes at gmail.com  Mon Apr 16 02:04:48 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Apr 16 02:04:55 2007
Subject: [wp-hackers] Trac Down?
In-Reply-To: <f1cf41430704151857n310432a3o268dc59eb43466e9@mail.gmail.com>
References: <900EA1F8-73A5-4A18-B73A-D926CD7DB2B3@b5media.com>
	<f1cf41430704151857n310432a3o268dc59eb43466e9@mail.gmail.com>
Message-ID: <a491f91d0704151904u5fe33f2ey8b792955730cf13c@mail.gmail.com>

Barry announced on #-dev that it'd be down for a bit. Didn't think
it'd be this long, but they do know.


-- 
--Robert Deaton
http://lushlab.com
From m at mullenweg.com  Mon Apr 16 02:43:05 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr 16 02:50:51 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <bb0886ed0704151735x4a4b0036sf01b1a960b2eb3fd@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>	<674b4a3b0704151653w50c69a93lb85b5cee798ca764@mail.gmail.com>	<4622C2A0.1050903@mullenweg.com>
	<bb0886ed0704151735x4a4b0036sf01b1a960b2eb3fd@mail.gmail.com>
Message-ID: <4622E2B9.3050502@mullenweg.com>

Ryan Boren wrote:
> I think we must acknowledge that we will have to suffer two rounds of
 > breakage if we leave 2.2 as is.

I think a "plugin author beware" note with the release blog should be 
more than sufficient to set expectations around the API and DB structure 
changing.
From zamoose at gmail.com  Mon Apr 16 02:57:24 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr 16 02:57:27 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <4622E2B9.3050502@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<674b4a3b0704151653w50c69a93lb85b5cee798ca764@mail.gmail.com>
	<4622C2A0.1050903@mullenweg.com>
	<bb0886ed0704151735x4a4b0036sf01b1a960b2eb3fd@mail.gmail.com>
	<4622E2B9.3050502@mullenweg.com>
Message-ID: <71ddd7490704151957j1b8e9918jfcac9b788d3b4c36@mail.gmail.com>

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> Ryan Boren wrote:
> > I think we must acknowledge that we will have to suffer two rounds of
>  > breakage if we leave 2.2 as is.
>
> I think a "plugin author beware" note with the release blog should be
> more than sufficient to set expectations around the API and DB structure
> changing.

I think that's functionally useless.  You're turning 2.2 into a
red-headed stepchild of a release.  If devs and theme authors can't
depend on an ever-shifting API, then there's no incentive to support
2.2.  Just wait till 2.3 comes out and _then_ support it.

Breaking the API twice is madness.  Better to start a WP-Fork project
and let those that like the all-in-one-table stuff have one branch and
we serial tables-for-everything-gol-durnit arguers to have the other.


-- 
-Doug

http://literalbarrage.org/blog/
From m at mullenweg.com  Mon Apr 16 02:55:58 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr 16 02:58:09 2007
Subject: [wp-hackers] Trac Down?
In-Reply-To: <900EA1F8-73A5-4A18-B73A-D926CD7DB2B3@b5media.com>
References: <900EA1F8-73A5-4A18-B73A-D926CD7DB2B3@b5media.com>
Message-ID: <4622E5BE.6050205@mullenweg.com>

On 4/15/2007 Aaron Brazell wrote:
> Just wondering... 

Yeah I thought it would get people to stop talking about tags. ;)

A HD had failed in the RAID array anda while replacing it the DC folks 
seem to have messed something up. We're waiting on them to fix it, but 
worst case scenario there is a backup from a few hours before.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From m at mullenweg.com  Mon Apr 16 02:57:15 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr 16 02:59:25 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>	<4622BA91.5010403@mullenweg.com>
	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>
Message-ID: <4622E60B.60902@mullenweg.com>

On 4/15/2007 Doug Stewart wrote:
> They're fundamentally
> different than each other and to cram them into the same table is a
> bad notion, DB design-wise. 

Would you mind explaining why? It has worked quite well for us thus far.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From christine at neato.co.nz  Mon Apr 16 03:00:13 2007
From: christine at neato.co.nz (Christine Davis)
Date: Mon Apr 16 03:00:18 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <71ddd7490704151957j1b8e9918jfcac9b788d3b4c36@mail.gmail.com>
References: <46227FF4.7050107@mullenweg.com>
	<a491f91d0704151511u7040b328m9dae6610cd6cf592@mail.gmail.com>
	<bb0886ed0704151545q6e0e3eyc8047bb8af5b9326@mail.gmail.com>
	<a491f91d0704151552x18a4caa0h9b0d8c1948cd1068@mail.gmail.com>
	<674b4a3b0704151653w50c69a93lb85b5cee798ca764@mail.gmail.com>
	<4622C2A0.1050903@mullenweg.com>
	<bb0886ed0704151735x4a4b0036sf01b1a960b2eb3fd@mail.gmail.com>
	<4622E2B9.3050502@mullenweg.com>
	<71ddd7490704151957j1b8e9918jfcac9b788d3b4c36@mail.gmail.com>
Message-ID: <6e966a280704152000k236254a4t2b493fca1f67c871@mail.gmail.com>

I'm certainly hesitant about doing any kind of UTW release, with the state
of schema-things.

(I'm hoping to use the wordpress tag-store, and maintain the existing UTW
functionality over it... I'm pretty sure the API support isn't going to be
enough to do all of the things that UTW does;  and the prospect of rewriting
it twice makes me go Grah!)

On 4/16/07, Doug Stewart <zamoose@gmail.com> wrote:
>
> On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> > Ryan Boren wrote:
> > > I think we must acknowledge that we will have to suffer two rounds of
> >  > breakage if we leave 2.2 as is.
> >
> > I think a "plugin author beware" note with the release blog should be
> > more than sufficient to set expectations around the API and DB structure
> > changing.
>
> I think that's functionally useless.  You're turning 2.2 into a
> red-headed stepchild of a release.  If devs and theme authors can't
> depend on an ever-shifting API, then there's no incentive to support
> 2.2.  Just wait till 2.3 comes out and _then_ support it.
>
> Breaking the API twice is madness.  Better to start a WP-Fork project
> and let those that like the all-in-one-table stuff have one branch and
> we serial tables-for-everything-gol-durnit arguers to have the other.
>
>
> --
> -Doug
>
> http://literalbarrage.org/blog/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From abrazell at b5media.com  Mon Apr 16 02:58:37 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Mon Apr 16 03:00:46 2007
Subject: [wp-hackers] Trac Down?
In-Reply-To: <4622E5BE.6050205@mullenweg.com>
References: <900EA1F8-73A5-4A18-B73A-D926CD7DB2B3@b5media.com>
	<4622E5BE.6050205@mullenweg.com>
Message-ID: <D20286C7-D31B-4126-BAD5-475282F800FA@b5media.com>

Ah well, you missed your window of opportunity. I had about 10 diffs  
to add but I guess my boost to contribute on tickets will have to  
wait until tax day of 2007 now. :-p
--
Aaron Brazell
Technology Manager, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor


On Apr 15, 2007, at 10:55 PM, Matt Mullenweg wrote:

> On 4/15/2007 Aaron Brazell wrote:
>> Just wondering...
>
> Yeah I thought it would get people to stop talking about tags. ;)
>
> A HD had failed in the RAID array anda while replacing it the DC  
> folks seem to have messed something up. We're waiting on them to  
> fix it, but worst case scenario there is a backup from a few hours  
> before.
>
> -- 
> Matt Mullenweg
>  http://photomatt.net | http://wordpress.org
> http://automattic.com | http://akismet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From deko822 at hotmail.com  Mon Apr 16 03:02:15 2007
From: deko822 at hotmail.com (deko)
Date: Mon Apr 16 03:01:58 2007
Subject: [wp-hackers] category hack
Message-ID: <BAY107-DAV789C13A81033C8A47A4FDF2520@phx.gbl>

How to get additional data in $_category object?  (v. 2.1.3)

In wp-includes/category.php (line 149) the get_category function uses this SQL 
to create a $_category object:

$_category = $wpdb->get_row("SELECT * FROM $wpdb->categories WHERE cat_ID = 
'$category' LIMIT 1");

I've added 3 fields to the categories table (for a new plug-in I'm working on) 
which are designed to be administered from the admin pages.  When a category is 
created or updated, I want 3 additional pieces of information in the categories 
table.  So I've modified the wp-admin/edit-category-form.php accordingly, and 
also the wp_insert_category in wp-admin/admin-db.php (lines 124 and following).

The problem is my $_category object does NOT get the new data from the 
additional table fields.  Am I missing something?  Shouldn't that 'SELECT *' 
statement get my new data from the additional table fields?  Is the 
apply_filters function filtering it out?

Thanks in advance.

From mark.wordpress at txfx.net  Mon Apr 16 03:25:33 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Apr 16 03:26:22 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <46227FF4.7050107@mullenweg.com>
References: <46227FF4.7050107@mullenweg.com>
Message-ID: <984C50B1-7CC9-4286-93CB-86508631BB73@txfx.net>

On Apr 15, 2007, at 3:41 PM, Matt Mullenweg wrote:

> Let me do my best to make the case for putting category data and  
> tag data in separate tables, and feel free to chime in if you think  
> I've missed any points.
>
> * We shouldn't ship anything with a data schema people disagree on,  
> because plugins and themes will be written against it.

Correction: we shouldn't ship something with a data schema that one  
person supports and a multitude of others think is terrible.  It's  
less about the disagreement and more about how the lone opinion is  
the one that was the determinant.

> * They're different things, so we should have them in different  
> tables.

This requires exposition (of which some is provided in the next  
point) and alone seems like a bit of a straw man.

> * Tags can have things like synonyms, and don't need things like  
> hierarchy.

Plus: The monolithic taxonomy table isn't flexible.  It requires  
three *_count columns, two *_private count columns and a bitwise type  
column.  In order to allow for Link and Post hierarchies to differ,  
we'd need two *_parent columns.  *_parent and category_description  
are unusable by tags.  It's a shared apartment with very little  
communal space.

> 1. [The current code] performs faster.
>
> On front-end display, we have added ZERO QUERIES to support tags.  
> The query that grabs categories is also grabbing tags and we're  
> sorting them out in the code.

> A separate tag naming table and post2tag table would require at  
> least 2 additional queries and/or joins to the front page, which  
> already think does too many queries and is too heavy.

> More importantly from a user's point of view, all that really  
> matters is that they have a box they can type tags in and that  
> their host doesn't tell them not to upgrade to 2.2 because it does  
> more queries.

I've addressed this before.  Look at UTW.  Tags don't need to add  
queries, for normal post views.  Tags can and should be cached as a  
serialized array of nicename/original-name pairs in postmeta.  No  
additional queries.  The API flushes the cache as the post is updated  
or its tags are updated.  We can repopulate the cache then or  
repopulate on the fly.

> 3. There should be no user- or plugin-facing problems with how it's  
> currently implemented, or if we decide to change it.

The API won't be complete.  Custom queries will have to be made.   
Things WILL break.

> I do think there is something intrinsically better about shipping  
> and iterating than noodling without release in search of the  
> "perfect" implementation.

Yes, I agree in theory, but this wouldn't be an iteration.  It'd be a  
complete rebuild.

> 4. I'm open
>
> I'm not personally tied to any code written thus far and if I think  
> the best thing is.

I'm relieved to hear this.

> If we do delay I think we should laser-focus on tags and now allow  
> other pet-issues to creep in, and I will fully expect people to put  
> in as much time writing code and fixing bugs as they have arguing  
> points on mailing lists, IRC, and trac. At the very least I hope  
> we've learned a bit more about getting these things out of the way  
> early rather than a week or two before a release. Also if something  
> is sitting in trac, take it to the hackers list early.

Hopefully next time we'll have four months instead of three! :-)   
Three was too short.  As for me, I'll put my code where my mouth is,  
and I know a few others that will do the same.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From zamoose at gmail.com  Mon Apr 16 03:40:38 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr 16 03:40:43 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <4622E60B.60902@mullenweg.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>
	<000901c77f85$97d31700$c864a8c0@tiger1>
	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>
	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>
	<4622BA91.5010403@mullenweg.com>
	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>
	<4622E60B.60902@mullenweg.com>
Message-ID: <71ddd7490704152040h5be517e1ud5f6c45be5da1e17@mail.gmail.com>

On 4/15/07, Matt Mullenweg <m@mullenweg.com> wrote:
> On 4/15/2007 Doug Stewart wrote:
> > They're fundamentally
> > different than each other and to cram them into the same table is a
> > bad notion, DB design-wise.
>
> Would you mind explaining why? It has worked quite well for us thus far.
>

Let's take a look at the posts table for a second.

What use is "post_parent" to a post, exactly?  I can plainly see the
value for hierarchical pages and even uploads, but not posts.  What
about post_mimetype?  No value there, either.

How about "pinged" for uploads?  What sort of sense does that make?
And "post_content" is synonymous with "upload description"?  You're
getting peanut butter in the floor cleaner, to mix two slightly
disparate cultural references...

You're carrying unnecessary (and confusing) information with each
object type you cram into the posts table.  The only reason that it
has worked quite well thus far is that people are confident enough in
the overall quality and direction of WordPress to commit vast amounts
of their own time, blood, sweat and tears to the proposition that
WordPress is worth developing.  It has resulted in some gnarly hacks
in the past and I'm sure there will be some in the future

Which is easier, "SELECT * FORM wp_posts WHERE post_type='post'" or
"SELECT * FROM wp_posts" (in a DB purist's dream)?  In the second
example, the table name is actually descriptive of what it contains
(or we could just rename it to wp_content or somesuch and be done with
it, I suppose).  The current WP example is _not_ descriptive and it
carries a ton of informational baggage with each additional post,
upload and page that authors create.

Posts and pages are intended for different ends, yes?  The Codex says
so.  They are _similar_ but they are not the same, nor should they be,
IMNSHO.  "Alikeness" is not a factor for inclusion in a DB schema -
"synonymous" errrm, -ness _is_.

For example:

Let's say I was happily categorizing "Cars I've Seen" in a database.
I create a table called "cars" and begin storing "Lambroghini",
"Bentley", "Ford", "AMC" and the date and location on which I've seen
each.  Sometime down the road, I decide I really want to track "Planes
I've Seen" as well, so I simply begin to add "Learjet", "Super 80",
"747", etc. into the "cars" table.  They're vehicles, sure, and I've
seen 'em just like I've seen the cars, but they're fundamentally
different from what I initially intended the "cars" table to house.
Anyone coming along after me is going to be in for some serious
headscratching before they can suss out just what the devil I was
doing.

I do not understand the resistance to good DB design.  Lumping pages
in with posts was a kludge and is one that could use righting should
we ever care to scrub the entire schema.

-- 
-Doug

http://literalbarrage.org/blog/
From lists.permutype at gmail.com  Mon Apr 16 03:54:09 2007
From: lists.permutype at gmail.com (Boris Anthony)
Date: Mon Apr 16 04:42:24 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <4622E60B.60902@mullenweg.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>	<4622BA91.5010403@mullenweg.com>
	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>
	<4622E60B.60902@mullenweg.com>
Message-ID: <9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>

On 15-Apr-07, at 10:57 PM, Matt Mullenweg wrote:

> On 4/15/2007 Doug Stewart wrote:
>> They're fundamentally
>> different than each other and to cram them into the same table is a
>> bad notion, DB design-wise.
>
> Would you mind explaining why? It has worked quite well for us thus  
> far.

they are different content types, with different metadata, different  
uses and different interactions. Different needs etc.

counter argument to above: filesystem. handles many differnt content  
types in the same "database" (the filesystem).

argue amongst yourselves. ;p

but two last words: drupal + nodes.

*cough*

/me runs away

=D

B.

-------------------------
Boris Anthony
Designer and Web Architect
http://globalvoicesonline.org/

From skeltoac at gmail.com  Mon Apr 16 05:29:27 2007
From: skeltoac at gmail.com (Andy Skelton)
Date: Mon Apr 16 05:29:34 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>
	<000901c77f85$97d31700$c864a8c0@tiger1>
	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>
	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>
	<4622BA91.5010403@mullenweg.com>
	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>
	<4622E60B.60902@mullenweg.com>
	<9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>
Message-ID: <e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>

Matt, I have not seen your statements on this matter sway a single
person. The other committing devs have come out against releasing with
tags on the 2.2 milestone date.

The correctness of any one implementation of tags is not the subject
here. It's the development process.

To include a premature feature in an on-time release degrades the
quality of the product. I refer to not only the code but the state of
the community. Increments are supposed to be in the direction of
better, not merely more. Better would be to release on-time with a
modest set of stable upgrades.

To block release while the one new feature gets sorted out would be a
maladjustment of priorities. If 2.2 seems light on sex appeal, so be
it. Better to keep the release date as promised.

Proposed plan of action:

Don't touch trunk. Leave trunk out of this.
Create a 2.2 branch, remove tags from it, ship 2.2-alpha.

Andy
From computerguru at neosmart.net  Mon Apr 16 06:24:33 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 16 06:25:19 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>	<4622BA91.5010403@mullenweg.com>	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>	<4622E60B.60902@mullenweg.com>	<9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>
	<e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>
Message-ID: <000601c77fef$ea72eca0$bf58c5e0$@net>

That sounds awesome to me :)

I've been worrying about my site, I run it from the trunk at all times
(scary, I know) - and just yesterday I deleted UTW from it and switched to
WP22's tags instead. This method would minimize risk and be good all around.

*phew*

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Andy Skelton
> Sent: Monday, April 16, 2007 8:29 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Grab a seat. On Delaying 2.2, separating
> tables
> 
> Matt, I have not seen your statements on this matter sway a single
> person. The other committing devs have come out against releasing with
> tags on the 2.2 milestone date.
> 
> The correctness of any one implementation of tags is not the subject
> here. It's the development process.
> 
> To include a premature feature in an on-time release degrades the
> quality of the product. I refer to not only the code but the state of
> the community. Increments are supposed to be in the direction of
> better, not merely more. Better would be to release on-time with a
> modest set of stable upgrades.
> 
> To block release while the one new feature gets sorted out would be a
> maladjustment of priorities. If 2.2 seems light on sex appeal, so be
> it. Better to keep the release date as promised.
> 
> Proposed plan of action:
> 
> Don't touch trunk. Leave trunk out of this.
> Create a 2.2 branch, remove tags from it, ship 2.2-alpha.
> 
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From m at mullenweg.com  Mon Apr 16 06:49:33 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr 16 06:51:43 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <984C50B1-7CC9-4286-93CB-86508631BB73@txfx.net>
References: <46227FF4.7050107@mullenweg.com>
	<984C50B1-7CC9-4286-93CB-86508631BB73@txfx.net>
Message-ID: <46231C7D.5090804@mullenweg.com>

Mark Jaquith wrote:
> Correction: we shouldn't ship something with a data schema that one 
> person supports and a multitude of others think is terrible.  It's less 
> about the disagreement and more about how the lone opinion is the one 
> that was the determinant.

I apologize for not making enough of a case on the wp-hackers list 
before, hopefully this thread puts all the thinking out there.

> In order to allow for Link and Post hierarchies to differ, we'd need two 
> *_parent columns.

Links were never intended to have hierarchy, they should be flat.

> Tags can and should be cached as a 
> serialized array of nicename/original-name pairs in postmeta.

Caching things in postmeta makes me uncomfortable, it seems like the 
main benefit is that it's auto-loaded with posts, but then again so are 
categories. Are you suggesting we move everything attached to posts into 
postmeta? It also seems like it would be a waste if the object cache was 
turned on.

> Yes, I agree in theory, but this wouldn't be an iteration.  It'd be a 
> complete rebuild.

Which we've also done several times in WP's history, and been fine.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From ryan at boren.nu  Mon Apr 16 07:19:56 2007
From: ryan at boren.nu (Ryan Boren)
Date: Mon Apr 16 07:20:02 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
Message-ID: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>

Putting aside the rest of the debate, let's talk schema.  Here's a
proposed three table solution where we have terms (tags/categories),
taxonomies (link categories, post categories, post tags), and objects
(posts/pages and links).

// terms contains the actual
categories/tags/terms/classifiers/whatevers.  It stores only ID, name,
and slug.
CREATE TABLE $wpdb->terms (
 term_id bigint(20) NOT NULL auto_increment,
 term_name varchar(55) NOT NULL default '',
 term_slug varchar(200) NOT NULL default '',
 PRIMARY KEY  (term_ID),
 KEY term_slug (term_slug)
);
// term_taxonomy puts a term in the context of a taxonomy (link
category, post category, or tag).  Hierarchy is put here as well as
counts.
CREATE TABLE $wpdb->term_taxonomy (
 term_id bigint(20) NOT NULL default '0',
 taxonomy varchar(20) NOT NULL default '0',
 term_description longtext NOT NULL,
 parent bigint(20) NOT NULL default '0',
 count bigint(20) NOT NULL default '0'
);
// term_relationships relates a term to a post or link or undeclared
future object thingy.  The relationship is placed within the context
of a given taxonomy.
CREATE TABLE $wpdb->term_relationships (
 object_id bigint(20) NOT NULL default '0',
 term_id bigint(20) NOT NULL default '0',
 taxonomy varchar(20) NOT NULL default '0',
 PRIMARY KEY  (object_ID),
);

I haven't thought about the best keying yet.  TBD.

"taxonomy" is a string that can be 'post-category', 'link-category',
or 'post-tag'.  Plugins can add their own taxonomy types.  This could
be an id that relates to a taxonomy table instead of a stand-alone
string, but another table doesn't seem necessary. Another table would
mean having the taxonomy string in one place rather than two, but I
didn't drink that much of the normalization punch back in school.

This approach maintains one id for a given term name while separating
out the troublesome hierarchy and count fields into a table that can
maintain them in relation to specific taxonomies.  This avoids the
troubles encountered with the current category_parent field when link
and post categories share a table.  It also avoids having to add a
count field for every taxonomy type.  This schema seems well-suited to
plugins.  Plugins can easily add their own taxonomies. (Ryan's One
True Folksonomic Reverie Plugin here we come.) Generic API along the
lines of get_term($id, $taxonomy) and
get_terms($taxonomy[|$taxonomy]...) could be simple and powerful.  The
different taxonomies could be kept separate or joined in interesting
ways.

Ryan
From mark.wordpress at txfx.net  Mon Apr 16 08:05:07 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Mon Apr 16 08:05:52 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
Message-ID: <4CCBC584-44BA-4891-BC63-0EA7B254D83E@txfx.net>

On Apr 16, 2007, at 3:19 AM, Ryan Boren wrote:

> Putting aside the rest of the debate, let's talk schema.  Here's a
> proposed three table solution where we have terms (tags/categories),
> taxonomies (link categories, post categories, post tags), and objects
> (posts/pages and links).

I've been thinking about this for the past couple of hours since you  
pitched it to me, and I've yet to find fault with it.  It appears to  
deliver everything Matt's been trying to shoehorn into our current  
structure, but has several huge advantages.  The queries are sane,  
there aren't a zillion foo_count columns, you can have completely  
different Link Category and Post Category trees, and (this is a BIG  
one), it is easily and cleanly extendible via plugins.

Looking forward to the response on this.  Hope crowd from the other  
thread gives this a serious look.

To all the people who want pages to be categorizable, with this  
schema, a plugin can do it *without adding any new tables* and  
*without screwing up existing taxonomies*.  That should get some  
people interested.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From m at mullenweg.com  Mon Apr 16 08:07:31 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr 16 08:09:40 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>	<4622BA91.5010403@mullenweg.com>	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>	<4622E60B.60902@mullenweg.com>	<9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>
	<e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>
Message-ID: <46232EC3.2050908@mullenweg.com>

Andy Skelton wrote:
> Matt, I have not seen your statements on this matter sway a single
> person. The other committing devs have come out against releasing with
> tags on the 2.2 milestone date.

That's disappointing, I thought the discussion on the terms thread was 
generating some ideas better than the existing implementation or the 
"separate tags table." Also read through #3723.

Most importantly, there's movement around an issue that sat around forever.

The comments from people using the current implementation have been 
good, so I think we have the user side of things down and I'm 
comfortable shipping with that. I think if we get the backend down in a 
way that doesn't compromise terms or performance we have a neat little 
feature done.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From peter.westwood at ftwr.co.uk  Mon Apr 16 08:20:24 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon Apr 16 08:20:30 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <4CCBC584-44BA-4891-BC63-0EA7B254D83E@txfx.net>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<4CCBC584-44BA-4891-BC63-0EA7B254D83E@txfx.net>
Message-ID: <7471.199.64.72.252.1176711624.squirrel@epia.ftwr.co.uk>


On Mon, April 16, 2007 9:05 am, Mark Jaquith wrote:
> On Apr 16, 2007, at 3:19 AM, Ryan Boren wrote:
>
>> Putting aside the rest of the debate, let's talk schema.  Here's a
>> proposed three table solution where we have terms (tags/categories),
>> taxonomies (link categories, post categories, post tags), and objects
>> (posts/pages and links).
>
> I've been thinking about this for the past couple of hours since you
> pitched it to me, and I've yet to find fault with it.  It appears to
> deliver everything Matt's been trying to shoehorn into our current
> structure, but has several huge advantages.  The queries are sane,
> there aren't a zillion foo_count columns, you can have completely
> different Link Category and Post Category trees, and (this is a BIG
> one), it is easily and cleanly extendible via plugins.
>
> Looking forward to the response on this.  Hope crowd from the other
> thread gives this a serious look.
>
> To all the people who want pages to be categorizable, with this
> schema, a plugin can do it *without adding any new tables* and
> *without screwing up existing taxonomies*.  That should get some
> people interested.
>

This new schema proposal looks really good.

I think we need to ensure we expose two levels of API.

A low level api that works directly with these individual tables should be
provided to allow plugins that extend it to add new taxonomies types
without needing to interact with the db directly.

e.g.
wp_add_term(term_name,term_slug)
wp_add_term_to_taxonomy(term_name,taxonomy,term_description,opt_parent)
wp_relate_term_to_object(term_name,taxonomy,object_id)


We can then write the tag/catgeory/link_category API on top of this low
level API so that they do not require any direct db access.


westi
-- 
Peter Westwood <peter.westwood@ftwr.co.uk>
http://blog.ftwr.co.uk
From peter.westwood at ftwr.co.uk  Mon Apr 16 08:31:09 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon Apr 16 08:31:16 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <46232EC3.2050908@mullenweg.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>	<4622BA91.5010403@mullenweg.com>	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>	<4622E60B.60902@mullenweg.com>	<9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>
	<e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>
	<46232EC3.2050908@mullenweg.com>
Message-ID: <19225.199.64.72.252.1176712269.squirrel@epia.ftwr.co.uk>


On Mon, April 16, 2007 9:07 am, Matt Mullenweg wrote:
> Andy Skelton wrote:
>> Matt, I have not seen your statements on this matter sway a single
>> person. The other committing devs have come out against releasing with
>> tags on the 2.2 milestone date.
>
> That's disappointing, I thought the discussion on the terms thread was
> generating some ideas better than the existing implementation or the
> "separate tags table." Also read through #3723.
>

There are a lot of non tag releated changes that have gone in to 2.2
already.  There must be other things that we can pull out for the release
announcement that make it worth people upgrading:

# Updated Blogger importer
# APP
# WordPress xmlrpc api
# Mail sending improvements using phpmailer
# class-pop3 update
# Performance Improvements.
# Bug fixes, lots of.

http://trac.wordpress.org/query?status=closed&milestone=2.2

> Most importantly, there's movement around an issue that sat around
> forever.
>
> The comments from people using the current implementation have been
> good, so I think we have the user side of things down and I'm
> comfortable shipping with that. I think if we get the backend down in a
> way that doesn't compromise terms or performance we have a neat little
> feature done.
>

Just because we have an acceptable user interface for interacting with
tags does not mean they are ready for release.

The level of discussion around the schema used for storing these
relationships shows how unhappy people are with the current
implementation.

As stated elsewhere, in this thread, we can never provide a complete API
for plugin authors and as such they will end up interacting with the db. 
Therefore we need to be happy with the db schema before we release -
otherwise we have the potential to annoy a lot of people - and break any
number of plugins in the future when we rework the schema.

We need to get the groundwork done for the schema that everyone is happy
with before tags are released.

Tweaking it later is fine.

westi
-- 
Peter Westwood <peter.westwood@ftwr.co.uk>
http://blog.ftwr.co.uk
From m at mullenweg.com  Mon Apr 16 08:39:42 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr 16 08:41:51 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <19225.199.64.72.252.1176712269.squirrel@epia.ftwr.co.uk>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>	<4622BA91.5010403@mullenweg.com>	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>	<4622E60B.60902@mullenweg.com>	<9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>	<e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>	<46232EC3.2050908@mullenweg.com>
	<19225.199.64.72.252.1176712269.squirrel@epia.ftwr.co.uk>
Message-ID: <4623364E.209@mullenweg.com>

Peter Westwood wrote:
> There are a lot of non tag releated changes that have gone in to 2.2
> already.  There must be other things that we can pull out for the release
> announcement that make it worth people upgrading:

I agree there's lots of good stuff under the hood in 2.2, but nothing 
that would really compel someone to upgrade, unless perhaps they were 
using a desktop client that uses the new APIs.

> Just because we have an acceptable user interface for interacting with
> tags does not mean they are ready for release.

To clarify I meant the interface is fine for a first version to ship.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From peter.westwood at ftwr.co.uk  Mon Apr 16 08:59:23 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon Apr 16 08:59:28 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <4623364E.209@mullenweg.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>	<4622BA91.5010403@mullenweg.com>	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>	<4622E60B.60902@mullenweg.com>	<9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>	<e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>	<46232EC3.2050908@mullenweg.com>
	<19225.199.64.72.252.1176712269.squirrel@epia.ftwr.co.uk>
	<4623364E.209@mullenweg.com>
Message-ID: <10905.199.64.72.252.1176713963.squirrel@epia.ftwr.co.uk>


On Mon, April 16, 2007 9:39 am, Matt Mullenweg wrote:
> Peter Westwood wrote:
>> There are a lot of non tag releated changes that have gone in to 2.2
>> already.  There must be other things that we can pull out for the
>> release
>> announcement that make it worth people upgrading:
>
> I agree there's lots of good stuff under the hood in 2.2, but nothing
> that would really compel someone to upgrade, unless perhaps they were
> using a desktop client that uses the new APIs.
>

We shouldn't need lots of snazy features to compel people to upgrade.

WordPress has a bit of a reputation for new releases being centred around
adding features ( and be way of a side effect new bugs) with a little bit
of bug fixing on the side.

We have too many bugs that languish around and don't get fixed while we
concentrate on adding new features.

We need to understand that reliability is a selling point and that just
fixing a large number of those long standing bugs is good enough for a non
major version release.

Yes a release needs some new features.  But it doesn't need to be
overflowing with new features - the fact that a lot of long-standing bugs
have been fixed does give people a reason to upgrade.

westi
-- 
Peter Westwood <peter.westwood@ftwr.co.uk>
http://blog.ftwr.co.uk
From m at mullenweg.com  Mon Apr 16 09:27:11 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr 16 09:29:21 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <10905.199.64.72.252.1176713963.squirrel@epia.ftwr.co.uk>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>	<4622BA91.5010403@mullenweg.com>	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>	<4622E60B.60902@mullenweg.com>	<9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>	<e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>	<46232EC3.2050908@mullenweg.com>	<19225.199.64.72.252.1176712269.squirrel@epia.ftwr.co.uk>	<4623364E.209@mullenweg.com>
	<10905.199.64.72.252.1176713963.squirrel@epia.ftwr.co.uk>
Message-ID: <4623416F.70401@mullenweg.com>

Peter Westwood wrote:
> We shouldn't need lots of snazy features to compel people to upgrade.

Well, at least amoung the folks I've talked to new features seem to be 
the primary motivator for upgrades, even over security fixes. I'm not 
saying that's right, but just reality. At least one "hook" is needed, a 
release should appeal to people's emotional side as well.

> We have too many bugs that languish around and don't get fixed while we
> concentrate on adding new features.

Given the feature vs bugfix ratio in 2.2, I think we're safely over that 
bump. :)

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From wphackers at jamietalbot.com  Mon Apr 16 09:58:24 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Mon Apr 16 09:59:05 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
Message-ID: <462348C0.8020708@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ryan Boren wrote:
> Putting aside the rest of the debate, let's talk schema.  Here's a
> proposed three table solution where we have terms (tags/categories),
> taxonomies (link categories, post categories, post tags), and objects
> (posts/pages and links).
> 
> // terms contains the actual
> categories/tags/terms/classifiers/whatevers.  It stores only ID, name,
> and slug.
> CREATE TABLE $wpdb->terms (
> term_id bigint(20) NOT NULL auto_increment,
> term_name varchar(55) NOT NULL default '',
> term_slug varchar(200) NOT NULL default '',
> PRIMARY KEY  (term_ID),
> KEY term_slug (term_slug)
> );
> // term_taxonomy puts a term in the context of a taxonomy (link
> category, post category, or tag).  Hierarchy is put here as well as
> counts.
> CREATE TABLE $wpdb->term_taxonomy (
> term_id bigint(20) NOT NULL default '0',
> taxonomy varchar(20) NOT NULL default '0',
> term_description longtext NOT NULL,
> parent bigint(20) NOT NULL default '0',
> count bigint(20) NOT NULL default '0'
> );
> // term_relationships relates a term to a post or link or undeclared
> future object thingy.  The relationship is placed within the context
> of a given taxonomy.
> CREATE TABLE $wpdb->term_relationships (
> object_id bigint(20) NOT NULL default '0',
> term_id bigint(20) NOT NULL default '0',
> taxonomy varchar(20) NOT NULL default '0',
> PRIMARY KEY  (object_ID),
> );
> 
> I haven't thought about the best keying yet.  TBD.

This is a vast improvement on what we have, and a very nice way of providing flexibility for the
future.  Nice job Ryan!  I agree that we probably don't need another table for taxonomy types.  I'm
wondering whether we could get away with only writing taxonomy in one place anyway though:

($wpdb->terms remains the same)

CREATE TABLE $wpdb->term_taxonomy (
term_taxonomy_id bigint(20) NOT NULL default '0',
term_id bigint(20) NOT NULL default '0',
taxonomy varchar(20) NOT NULL default '0',
term_description longtext NOT NULL,
parent bigint(20) NOT NULL default '0',
count bigint(20) NOT NULL default '0'
PRIMARY KEY (term_taxonomy_id)
);

CREATE TABLE $wpdb->term_relationships (
object_id bigint(20) NOT NULL default '0',
term_taxonomy_id bigint(20) NOT NULL default '0'
PRIMARY KEY  (object_ID)
);

Basically the same, except that the term_relationships and term_taxonomy tables are related by an
integer, instead of a tuple.  We're going to have to join the two tables to get taxonomy data
anyway, and nothing beats joining on an int.  We also only have to store the taxonomy field strings
once.  Net result of the same amount of fields, but a bit cleaner.  Thoughts?

Cheers,

Jamie.

- --
http://jamietalbot.com
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGI0i/rovxfShShFARAtsPAJ4oxynYk6ufMOmvcOI1bknBWSsMtgCfcAfH
9KeGX3dA0Z/b6SXBxw7ksq8=
=Kg5l
-----END PGP SIGNATURE-----
From wphackers at jamietalbot.com  Mon Apr 16 10:34:27 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Mon Apr 16 10:37:19 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <462348C0.8020708@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<462348C0.8020708@jamietalbot.com>
Message-ID: <46235133.5060608@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jamie Talbot wrote:
> CREATE TABLE $wpdb->term_relationships (
> object_id bigint(20) NOT NULL default '0',
> term_taxonomy_id bigint(20) NOT NULL default '0'
> PRIMARY KEY  (object_ID)
> );
> 

While I'm thinking about this, is the object_id from this table expected to always come from
wp_posts?  Ryan mentioned this would also be for associating links.  If so, object_id can't be a
primary key as we'll be using ids from different tables.  Better perhaps to have a primary key
across the tuple, which will always be unique.  We'd also have to make sure we specified the
taxonomy in every query to make sure we didn't get back the wrong type inadvertently.

wp_links
1 http://wordpress.org WordPress ...
2 http://photomatt.net Matt ...

wp_posts
1 ... Hello World hello-world ...

SELECT tr.* FROM $wpdb->term_taxonomy AS t INNER JOIN $wpdb->term_relationships AS tr USING
term_taxonomy_id WHERE t.object_id = 1;

Could potentially return post_category, post_tag or link_category taxonomy data.  Specifying the
taxonomy will avoid this (assuming we always store the taxonomy correctly, and we've got bigger
problems if we don't...)

SELECT tr.* FROM $wpdb->term_taxonomy AS t INNER JOIN $wpdb->term_relationships AS tr USING
term_taxonomy_id WHERE t.object_id = 1 AND tr.taxonomy = 'post_category';

Would only return the post_category data, which you would assume would only ever be associated with
posts/pages.  Of course, if there is the possibility that we separate out wp_posts/wp_pages in the
future, we might have to revisit that.

Just throwing out some thoughts.

Cheers,

Jamie.

- --
http://jamietalbot.com
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGI1EzrovxfShShFARArEYAJwJQPyTmnp/zNfdBI6Nl+SFr5Sk/gCgiRtq
Ib74hUp51CwoGwqs4GP1jLs=
=gcN/
-----END PGP SIGNATURE-----
From false.hopes at gmail.com  Mon Apr 16 11:11:20 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Mon Apr 16 11:11:24 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <4623364E.209@mullenweg.com>
References: <C247D7F2.3301%andy@yellowswordfish.com>
	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>
	<4622BA91.5010403@mullenweg.com>
	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>
	<4622E60B.60902@mullenweg.com>
	<9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>
	<e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>
	<46232EC3.2050908@mullenweg.com>
	<19225.199.64.72.252.1176712269.squirrel@epia.ftwr.co.uk>
	<4623364E.209@mullenweg.com>
Message-ID: <a491f91d0704160411q3c5b9903p4db5cdaf448f597a@mail.gmail.com>

On 4/16/07, Matt Mullenweg <m@mullenweg.com> wrote:
> > Just because we have an acceptable user interface for interacting with
> > tags does not mean they are ready for release.
>
> To clarify I meant the interface is fine for a first version to ship.

Then you have clearly missed the point of this entire thread. This
isn't about an interface for users. This is about the backend, the
schema, everything but the UI.

-- 
--Robert Deaton
http://lushlab.com
From elharo at metalab.unc.edu  Mon Apr 16 11:17:58 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Mon Apr 16 11:18:13 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <19225.199.64.72.252.1176712269.squirrel@epia.ftwr.co.uk>
References: <C247D7F2.3301%andy@yellowswordfish.com>	<000901c77f85$97d31700$c864a8c0@tiger1>	<b88434820704151248u6158ecfdt3a8696c35f909203@mail.gmail.com>	<d135ca9c0704151312g4bd27924v5420ec9c72a505ac@mail.gmail.com>	<4622BA91.5010403@mullenweg.com>	<71ddd7490704151802t4a229a2l8a4af1506b5e911a@mail.gmail.com>	<4622E60B.60902@mullenweg.com>	<9C24AA21-F3CA-4B91-B4CB-FABB2A68AF3C@gmail.com>	<e6ec604d0704152229t6388eba4h4575057d576a7a3f@mail.gmail.com>	<46232EC3.2050908@mullenweg.com>
	<19225.199.64.72.252.1176712269.squirrel@epia.ftwr.co.uk>
Message-ID: <46235B66.7040803@metalab.unc.edu>

Peter Westwood wrote:

> There are a lot of non tag releated changes that have gone in to 2.2
> already.  There must be other things that we can pull out for the release
> announcement that make it worth people upgrading:
> 
> # Updated Blogger importer
> # APP
> # WordPress xmlrpc api
> # Mail sending improvements using phpmailer
> # class-pop3 update
> # Performance Improvements.
> # Bug fixes, lots of.
> 

Don't forget Atom 1.0 support. Long overdue and enough for me to 
recommend everyone upgrade for that alone.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From deko822 at hotmail.com  Mon Apr 16 11:30:30 2007
From: deko822 at hotmail.com (deko)
Date: Mon Apr 16 11:30:10 2007
Subject: [wp-hackers] WP Developer Edition
Message-ID: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>

Can we offer two or three different versions of WP?  Such as "Basic", 
"Advanced", and "Developer Edition"?

I was working on a category enhancement plug-in and was considering modifying 
the category table when I came to my senses: anything I did would become 
unmanageable in future releases when the schema changes.  Still, the problem 
remains - I need more fields in the category table.

If there were a Developer Edition that included a "utility" table with 
supporting code constructs, that would make my life easier.

And many of the advanced features that a vocal minority wants could be bundled 
in an "Advanced Edition".  This would allow for a more stable "Basic Edition" as 
the common choice for most bloggers. 

From abelcheung at gmail.com  Mon Apr 16 11:53:01 2007
From: abelcheung at gmail.com (Abel Cheung)
Date: Mon Apr 16 11:53:06 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>
References: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>
Message-ID: <df41a9470704160453v2c5ecb5avf90824929c3760cc@mail.gmail.com>

On 4/16/07, deko <deko822@hotmail.com> wrote:
> Can we offer two or three different versions of WP?  Such as "Basic",
> "Advanced", and "Developer Edition"?
>
> And many of the advanced features that a vocal minority wants could be bundled
> in an "Advanced Edition".  This would allow for a more stable "Basic Edition" as
> the common choice for most bloggers.

If this idea really works, perhaps localizable theme can be one of the really
needed thing to be included, since WP wants more than half of people in the
world to reinvent their own localized themes.

Abel


>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Abel Cheung   (GPG Key: 0xC67186FF)
Key fingerprint: 671C C7AE EFB5 110C D6D1  41EE 4152 E1F1 C671 86FF
--------------------------------------------------------------------
* GNOME Hong Kong - http://www.gnome.hk/
* Opensource Application Knowledge Assoc. - http://oaka.org/
* My own cave: http://me.abelcheung.org/
From jeremy.visser at gmail.com  Mon Apr 16 12:48:26 2007
From: jeremy.visser at gmail.com (Jeremy Visser)
Date: Mon Apr 16 12:48:32 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>
References: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>
Message-ID: <43253ec50704160548l7469433dyf059ef15d9649d77@mail.gmail.com>

On 4/16/07, deko <deko822@hotmail.com> wrote:
> Can we offer two or three different versions of WP?  Such as "Basic",
> "Advanced", and "Developer Edition"?

This sounds painfully similar to Windows Vista's versioning.
From Brian at TheCodeCave.com  Mon Apr 16 13:22:58 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr 16 13:16:24 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com>

> Can we offer two or three different versions of WP?  Such as "Basic", 
> "Advanced", and "Developer Edition"?

It's an open source product.  There can be as many versions of the project
as anyone wants to maintain.  But that's the rub.  I'm not so sure you'll
get buy in for maintaining a whole secondary version, meant only to add more
advanced features than what is in the main path.  If you could ensure that
you'll maintain that version from here on out, you certainly could make a
Developers edition and it might catch on.

However, what might be even better is taking a look at the enhancements you
want, and offering them to the trac in a way that integrates them into the
current WP core.  If you can do that, can present your enhancements in a way
that proves their benefit to a significant portion of the community, and if
you submit clean code that performs this addition, there's a good chance
that your code changes will be included in the core.  You could even include
a switch that enables your 'Advanced' interface.  At that point, no one is
maintaining two products, but one product with more features.  That's a much
better world.

If you don't think that's something you can do at this point, you might want
to test your additions as a suite of plugins.  Tie in your extra fields as
tables keyed off of the core tables.  That will give you forward
compatiblity.  Once you have the full feature set in place, you might feel
you're in a better place to suggest adding it to the core.

_______________________________________________
Brian Layman
http://www.TheCodeCave.com
http://www.TheCodeCave.com/EasyWPUpgrade
 

From deko822 at hotmail.com  Mon Apr 16 13:52:20 2007
From: deko822 at hotmail.com (deko)
Date: Mon Apr 16 13:52:05 2007
Subject: [wp-hackers] WP Developer Edition
References: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>
	<43253ec50704160548l7469433dyf059ef15d9649d77@mail.gmail.com>
Message-ID: <BAY107-DAV9A58FBB2350BC5EA1D4F0F2520@phx.gbl>

> This sounds painfully similar to Windows Vista's versioning.

I think the idea is a good one, regardless of any similarity.

The downside of versioning is management and interoperability (mundane work for 
developers); the upside is a more customer-centric application (happier users).

What I've been seeing in these wp-hackers threads is mostly developers lobbying 
for this or that.  All well and good, and we want to promote innovation, but the 
majority of WP users don't subscribe to wp-hackers and are not interested in new 
features.  They barely know how to use what they have now.  This is why a Basic 
Edition makes sense.

An Advanced Version seems to fit WP's current trajectory, based on what I've 
been reading in this mailing list.  Yes, let's add new features.  But let's be 
considerate of our user base, many of which are happy with less features and 
more stability.  Perhaps a new Basic Edition could be released for every third 
or forth rev of the Advanced Edition.  This way development might be more 
innovation-friendly, and release of the Advanced Edition need not be tied to any 
hard schedule.

Personally, I'd like to see a Developer Edition that makes it easy to modify the 
admin pages with additional input fields and corresponding database schema, as 
well as heavily-commented code.  Some of the customizations I need to make just 
aren't plug-in friendly. 

From chris at doesnthaveone.com  Mon Apr 16 14:32:34 2007
From: chris at doesnthaveone.com (Chris Meller)
Date: Mon Apr 16 14:32:39 2007
Subject: [wp-hackers] Grab a seat. On Delaying 2.2, separating tables
In-Reply-To: <000101c77f26$b0e0b630$12a22290$@net>
References: <a491f91d0704142305i620a0bb3u49c8b06865caa937@mail.gmail.com>
	<000101c77f26$b0e0b630$12a22290$@net>
Message-ID: <c1e7bac90704160732k242d7b5qbdf6f6c615b74893@mail.gmail.com>

On 4/15/07, Computer Guru <computerguru@neosmart.net> wrote:
>
> +1
>
> The UTW import script is BROKEN and imports "Multiple Word Tags" as
> "Multiple-Word-Tags" - but that's not the point.


That's because that's what UTW stores them as in its "<prefix>_tags" table.
I thought it better to go with exactly what they had, rather than trying to
guess and potentially removing a legit "-". Who designs a system that stores
"-" and " " the same? Ugh...

I fully agree that we should split tags out into their own tables. It was a
pain in the ass trying to keep up with the increasingly-complex table design
when I was writing the UTW importer. Granted I've spent a limited amount of
time with the new features, but I'm also not confident enough in a stable
2.2 release yet. I say delay it (maybe even skip to 2.3?) and get out a
truly quality release.

--
Chris Meller
chris@doesnthaveone.com
From deko822 at hotmail.com  Mon Apr 16 14:41:46 2007
From: deko822 at hotmail.com (deko)
Date: Mon Apr 16 14:41:26 2007
Subject: [wp-hackers] WP Developer Edition
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com>
Message-ID: <BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>

>> Can we offer two or three different versions of WP?  Such as "Basic",
>> "Advanced", and "Developer Edition"?

> It's an open source product.  There can be as many versions of the project
> as anyone wants to maintain.  But that's the rub.  I'm not so sure you'll
> get buy in for maintaining a whole secondary version, meant only to add more
> advanced features than what is in the main path.  If you could ensure that
> you'll maintain that version from here on out, you certainly could make a
> Developers edition and it might catch on.

Sort of like "physician, heal thyself".  But I think WP is taking on new 
dynamics as a mainstream app.  The challenge is to accommodate bleeding-edge 
developers as well as pedestrian-level users.

> However, what might be even better is taking a look at the enhancements you
> want, and offering them to the trac in a way that integrates them into the
> current WP core.  If you can do that, can present your enhancements in a way
> that proves their benefit to a significant portion of the community, and if
> you submit clean code that performs this addition, there's a good chance
> that your code changes will be included in the core.  You could even include
> a switch that enables your 'Advanced' interface.  At that point, no one is
> maintaining two products, but one product with more features.  That's a much
> better world.

One thing I've learned when adding non-request-specific features is to always 
include an "off" switch.  Perhaps some features could be toggled on install. 
This would maintain version singularity while letting users opt out of stuff 
they don't want.

> Tie in your extra fields as tables keyed off of the core tables.
> That will give you forward compatiblity.

So you're suggesting having the plug-in add/remove tables on 
activation/deactivation?  I'm curious how other plug-ins do this.  Anyone know 
of any examples? 

From ryan at boren.nu  Mon Apr 16 16:21:03 2007
From: ryan at boren.nu (Ryan Boren)
Date: Mon Apr 16 16:21:08 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <462348C0.8020708@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<462348C0.8020708@jamietalbot.com>
Message-ID: <bb0886ed0704160921r3120de8au9c729d1b5f3ab661@mail.gmail.com>

On 4/16/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
> Basically the same, except that the term_relationships and term_taxonomy tables are related by an
> integer, instead of a tuple.  We're going to have to join the two tables to get taxonomy data
> anyway, and nothing beats joining on an int.  We also only have to store the taxonomy field strings
> once.  Net result of the same amount of fields, but a bit cleaner.  Thoughts?

I had it like that in an earlier iteration, but how do plugins avoid
battling for new taxonomy ints?  A string provides less chance of
collision.  An int would be better for a join, however, so maybe we
should go ahead and add a taxonomy table that will act as a broker for
plugins to get a taxonomy id.

Ryan
From chris.hearn01 at ntlworld.com  Mon Apr 16 16:24:18 2007
From: chris.hearn01 at ntlworld.com (Chris)
Date: Mon Apr 16 16:24:42 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com>
	<BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>
Message-ID: <4623A332.406@ntlworld.com>

The plugin I have written adds 4 more tables on activation. - (CREATE if 
not exists etc),
It then allows import of csv data into those tables.
It does not remove the tables on de-activation, but has an "un-install 
data" option in the admin menu page
Seems to work ok.
Chris



deko wrote:
>>> Can we offer two or three different versions of WP?  Such as "Basic",
>>> "Advanced", and "Developer Edition"?
>
>> It's an open source product.  There can be as many versions of the 
>> project
>> as anyone wants to maintain.  But that's the rub.  I'm not so sure 
>> you'll
>> get buy in for maintaining a whole secondary version, meant only to 
>> add more
>> advanced features than what is in the main path.  If you could ensure 
>> that
>> you'll maintain that version from here on out, you certainly could 
>> make a
>> Developers edition and it might catch on.
>
> Sort of like "physician, heal thyself".  But I think WP is taking on 
> new dynamics as a mainstream app.  The challenge is to accommodate 
> bleeding-edge developers as well as pedestrian-level users.
>
>> However, what might be even better is taking a look at the 
>> enhancements you
>> want, and offering them to the trac in a way that integrates them 
>> into the
>> current WP core.  If you can do that, can present your enhancements 
>> in a way
>> that proves their benefit to a significant portion of the community, 
>> and if
>> you submit clean code that performs this addition, there's a good chance
>> that your code changes will be included in the core.  You could even 
>> include
>> a switch that enables your 'Advanced' interface.  At that point, no 
>> one is
>> maintaining two products, but one product with more features.  That's 
>> a much
>> better world.
>
> One thing I've learned when adding non-request-specific features is to 
> always include an "off" switch.  Perhaps some features could be 
> toggled on install. This would maintain version singularity while 
> letting users opt out of stuff they don't want.
>
>> Tie in your extra fields as tables keyed off of the core tables.
>> That will give you forward compatiblity.
>
> So you're suggesting having the plug-in add/remove tables on 
> activation/deactivation?  I'm curious how other plug-ins do this.  
> Anyone know of any examples?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
From ryan at boren.nu  Mon Apr 16 16:25:11 2007
From: ryan at boren.nu (Ryan Boren)
Date: Mon Apr 16 16:25:25 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <46235133.5060608@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<462348C0.8020708@jamietalbot.com> <46235133.5060608@jamietalbot.com>
Message-ID: <bb0886ed0704160925j414f50a0hd0a7d83f97ae0739@mail.gmail.com>

On 4/16/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Jamie Talbot wrote:
> > CREATE TABLE $wpdb->term_relationships (
> > object_id bigint(20) NOT NULL default '0',
> > term_taxonomy_id bigint(20) NOT NULL default '0'
> > PRIMARY KEY  (object_ID)
> > );
> >
>
> While I'm thinking about this, is the object_id from this table expected to always come from
> wp_posts?  Ryan mentioned this would also be for associating links.  If so, object_id can't be a
> primary key as we'll be using ids from different tables.  Better perhaps to have a primary key
> across the tuple, which will always be unique.  We'd also have to make sure we specified the
> taxonomy in every query to make sure we didn't get back the wrong type inadvertently.

Indeed, object_ID can be a post id or a link id or something provided
by a plugin.   Definitely need to keep that in mind when laying out
the keys.

Ryan
From theapparatus at gmail.com  Mon Apr 16 17:19:27 2007
From: theapparatus at gmail.com (Dr. Mike Wendell)
Date: Mon Apr 16 17:19:37 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com>
References: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com>
Message-ID: <f1cf41430704161019s279dc0aah701dcd0136d6dcf8@mail.gmail.com>

On 4/16/07, Brian Layman <Brian@thecodecave.com> wrote:
> However, what might be even better is taking a look at the enhancements you
> want, and offering them to the trac in a way that integrates them into the
> current WP core.

Isn't that the point of plugins though?

Regards,
-drmike

-- 
Blog: http://drmikessteakdinner.com
Kim Possible: Remixed: http://kimpossibleremixed.com
Get your own free hosted WordPress Blog today: http://daria.be
From zamoose at gmail.com  Mon Apr 16 17:35:24 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr 16 17:35:29 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <f1cf41430704161019s279dc0aah701dcd0136d6dcf8@mail.gmail.com>
References: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com>
	<f1cf41430704161019s279dc0aah701dcd0136d6dcf8@mail.gmail.com>
Message-ID: <71ddd7490704161035q334f52cdtd1cd7f5d1c71be28@mail.gmail.com>

Words cannot express just how bad of an idea I think separate versions
of WordPress is.  And before you start in on MU, recall that it is
virtually the same codebase as trunk with multisite capabilities.

As DrMike pointed out, plugins are the way to go. If you don't have
the ability to do what you want with plugins due to lack of schema
support or adequate hooks, submit a Trac ticket and get a discussion
started.

Or, go the way that UTW and countless other plugins have gone and
create your own plugin table and merrily go about your business.

On 4/16/07, Dr. Mike Wendell <theapparatus@gmail.com> wrote:
> On 4/16/07, Brian Layman <Brian@thecodecave.com> wrote:
> > However, what might be even better is taking a look at the enhancements
> you
> > want, and offering them to the trac in a way that integrates them into the
> > current WP core.
>
> Isn't that the point of plugins though?
>
> Regards,
> -drmike
>
> --
> Blog: http://drmikessteakdinner.com
> Kim Possible: Remixed: http://kimpossibleremixed.com
> Get your own free hosted WordPress Blog today: http://daria.be
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
-Doug

http://literalbarrage.org/blog/
From abrazell at b5media.com  Mon Apr 16 17:38:31 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Mon Apr 16 17:40:46 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <71ddd7490704161035q334f52cdtd1cd7f5d1c71be28@mail.gmail.com>
References: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com>
	<f1cf41430704161019s279dc0aah701dcd0136d6dcf8@mail.gmail.com>
	<71ddd7490704161035q334f52cdtd1cd7f5d1c71be28@mail.gmail.com>
Message-ID: <7B75AC5C-9771-4B88-A09D-66B3B268B82C@b5media.com>

My opinion is that WordPress should not be _supported_ as multiple  
version (exception being MU, WordPress.com [only form of virtual  
trunk that is supported] and WordPress.org). However, I think great  
things can come from forking and that is the beauty of GPL. I think  
forking WP is an extreme thing to do considering the fact that the  
weight and bulk of support is on the forker and that most  
enhancements would be given proper consideration even if the ultimate  
outcome is a WONTFIX or worse yet an OMYGODBBQBUTNO. Hooks are cheap.  
Plugins are not as cheap but can do just about anything that needs to  
be done without modifying core. But in the end, the rare occasions  
where a fork is deemed appropriate, good things can come to the  
forked version and even for WP proper.
--
Aaron Brazell
Technology Manager, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor


On Apr 16, 2007, at 1:35 PM, Doug Stewart wrote:

> Words cannot express just how bad of an idea I think separate versions
> of WordPress is.  And before you start in on MU, recall that it is
> virtually the same codebase as trunk with multisite capabilities.
>
> As DrMike pointed out, plugins are the way to go. If you don't have
> the ability to do what you want with plugins due to lack of schema
> support or adequate hooks, submit a Trac ticket and get a discussion
> started.
>
> Or, go the way that UTW and countless other plugins have gone and
> create your own plugin table and merrily go about your business.

From Brian at TheCodeCave.com  Mon Apr 16 18:09:38 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr 16 18:03:05 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <f1cf41430704161019s279dc0aah701dcd0136d6dcf8@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F52@dsimail.drbsystems.com>

> Dr. Mike:
>On 4/16/07, Brian Layman <Brian@thecodecave.com> wrote:
>> However, what might be even better is taking a look at the enhancements
you
>> want, and offering them to the trac in a way that integrates them into
the
>> current WP core.
>Isn't that the point of plugins though?

It certainly can be.  That's why I recommended it later in my response.  

But it sounds like he might have ideas that can't be addressed through the
API.  If that's the case, the solution is to organize the code, submit it to
the trac so that people can actually try it (vaporware doesn't go very far
and neither do stale tickets), and come back here to put forth your case.

I don't put stumbling blocks in front of creativity.  If he/they want to go
for it, I say go for it.  As long as they realize it is their own time they
are committing, and that the community isn't just going to belly up to
doubling the amount of work involved in a WP release.

A project descended from WordPress /is/ a lot of work and few have the will
to succeed.  WPMU and Lyceum come to mind as successes, but there are very
few others.  (Flashblog, I don't think is around any more, and I just
stumbled across WPopac, but I can't think of any others...)

I think I basically said the exact same thing as Doug.  I was just a bit
more subtle about it.

From stevelle at gmail.com  Mon Apr 16 18:13:05 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Mon Apr 16 18:13:25 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
Message-ID: <b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>

On 4/16/07, Ryan Boren <ryan@boren.nu> wrote:
>
> // terms contains the actual
> categories/tags/terms/classifiers/whatevers.  It stores only ID, name,
> and slug.
> CREATE TABLE $wpdb->terms (
> term_id bigint(20) NOT NULL auto_increment,
> term_name varchar(55) NOT NULL default '',
> term_slug varchar(200) NOT NULL default '',
> PRIMARY KEY  (term_ID),
> KEY term_slug (term_slug)
> );
> // term_taxonomy puts a term in the context of a taxonomy (link
> category, post category, or tag).  Hierarchy is put here as well as
> counts.
> CREATE TABLE $wpdb->term_taxonomy (
> term_id bigint(20) NOT NULL default '0',
> taxonomy varchar(20) NOT NULL default '0',
> term_description longtext NOT NULL,
> parent bigint(20) NOT NULL default '0',
> count bigint(20) NOT NULL default '0'
> );
> // term_relationships relates a term to a post or link or undeclared
> future object thingy.  The relationship is placed within the context
> of a given taxonomy.
> CREATE TABLE $wpdb->term_relationships (
> object_id bigint(20) NOT NULL default '0',
> term_id bigint(20) NOT NULL default '0',
> taxonomy varchar(20) NOT NULL default '0',
> PRIMARY KEY  (object_ID),
> );
>

I would like to ask you to expound on three use cases:
 - Aliases  (for instance: products -> projects)
 - Lookup by slug (myblog.com/projects)
 - Both together (myblog.com/products)

I don't want to presume too much about your intentions.

-- 
SteveL
From yahgrp at poplarware.com  Mon Apr 16 18:14:52 2007
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Mon Apr 16 18:15:37 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
Message-ID: <4623BD1C.1070009@poplarware.com>

Ryan Boren wrote:

> // terms contains the actual
> categories/tags/terms/classifiers/whatevers.  It stores only ID, name,
> and slug.
> CREATE TABLE $wpdb->terms (
> term_id bigint(20) NOT NULL auto_increment,
> term_name varchar(55) NOT NULL default '',
> term_slug varchar(200) NOT NULL default '',
> PRIMARY KEY  (term_ID),
> KEY term_slug (term_slug)
> );

Can I suggest making the term_name field (or whatever it will be 
called) either wider or a TEXT field? Multi-lingual plugins need more 
space than 55 characters for category names and tags (they have to 
store 2 or more versions of the text, plus some kind of tags 
specifying languages). 200 characters is sufficient for most people 
using multi-lingual plugins I think (see also 
http://trac.wordpress.org/ticket/3729, reported by another user).

For comparison, link names are VARCHAR(255), and post titles are TEXT 
(unlimited). I am not certain which is better VARCHAR or TEXT in terms 
of database efficiency, in the case where (for most users) the actual 
text is probably about 20-40 characters... will let the DB optimizers 
weigh in on that one.

     Jennifer
From zamoose at gmail.com  Mon Apr 16 18:16:15 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Mon Apr 16 18:18:41 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <7B75AC5C-9771-4B88-A09D-66B3B268B82C@b5media.com>
References: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com>
	<f1cf41430704161019s279dc0aah701dcd0136d6dcf8@mail.gmail.com>
	<71ddd7490704161035q334f52cdtd1cd7f5d1c71be28@mail.gmail.com>
	<7B75AC5C-9771-4B88-A09D-66B3B268B82C@b5media.com>
Message-ID: <71ddd7490704161116t55944182jc0870410c81a7e70@mail.gmail.com>

On 4/16/07, Aaron Brazell <abrazell@b5media.com> wrote:
> My opinion is that WordPress should not be _supported_ as multiple
> version (exception being MU, WordPress.com [only form of virtual
> trunk that is supported] and WordPress.org). However, I think great
> things can come from forking and that is the beauty of GPL. I think
> forking WP is an extreme thing to do considering the fact that the
> weight and bulk of support is on the forker and that most
> enhancements would be given proper consideration even if the ultimate
> outcome is a WONTFIX or worse yet an OMYGODBBQBUTNO. Hooks are cheap.
> Plugins are not as cheap but can do just about anything that needs to
> be done without modifying core. But in the end, the rare occasions
> where a fork is deemed appropriate, good things can come to the
> forked version and even for WP proper.

I took deko to be advocating for a multi-flavored release system by WP
proper, thus incurring all support burdens that are inherent in the
WP.org code releases anyway.  That, to paraphrase the Persian envoy,
is madness.  Automattic and the community have enough troubles keeping
up with WP, WPMU and bbPress as it is -- can you imagine what the
Support fora would look like if there were three(!) versions of WP?

No, if deko's idea is a good one that is worthy of inclusion in WP,
there should be a Trac issue logged and .diffs submitted for peer
review.  The "developer's version" of WP effectively IS trunk between
releases.

-- 
-Doug

http://literalbarrage.org/blog/
From computerguru at neosmart.net  Mon Apr 16 18:16:46 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 16 18:18:56 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <71ddd7490704161035q334f52cdtd1cd7f5d1c71be28@mail.gmail.com>
References: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com>	<f1cf41430704161019s279dc0aah701dcd0136d6dcf8@mail.gmail.com>
	<71ddd7490704161035q334f52cdtd1cd7f5d1c71be28@mail.gmail.com>
Message-ID: <000d01c78053$673b7820$35b26860$@net>

Doug, you  took the words right off the tip of my tongue.. I just couldn't
put my distaste for this idea into words :) 

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Doug Stewart
> Sent: Monday, April 16, 2007 8:35 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] WP Developer Edition
> 
> Words cannot express just how bad of an idea I think separate versions
> of WordPress is.  And before you start in on MU, recall that it is
> virtually the same codebase as trunk with multisite capabilities.
> 
> As DrMike pointed out, plugins are the way to go. If you don't have
> the ability to do what you want with plugins due to lack of schema
> support or adequate hooks, submit a Trac ticket and get a discussion
> started.
> 
> Or, go the way that UTW and countless other plugins have gone and
> create your own plugin table and merrily go about your business.
> 
> On 4/16/07, Dr. Mike Wendell <theapparatus@gmail.com> wrote:
> > On 4/16/07, Brian Layman <Brian@thecodecave.com> wrote:
> > > However, what might be even better is taking a look at the
> enhancements
> > you
> > > want, and offering them to the trac in a way that integrates them
> into the
> > > current WP core.
> >
> > Isn't that the point of plugins though?
> >
> > Regards,
> > -drmike
> >
> > --
> > Blog: http://drmikessteakdinner.com
> > Kim Possible: Remixed: http://kimpossibleremixed.com
> > Get your own free hosted WordPress Blog today: http://daria.be
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> --
> -Doug
> 
> http://literalbarrage.org/blog/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From elharo at metalab.unc.edu  Mon Apr 16 19:04:02 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Mon Apr 16 19:05:02 2007
Subject: [wp-hackers] SemButtons
Message-ID: <4623C8A2.1050207@metalab.unc.edu>

With the help of various people here I have now written a plug-in that 
reconfigures the WordPress non-WYSIWYG editor button bar to my liking:

http://www.elharo.com/blog/software-development/web-development/2007/04/16/sembuttons-my-first-wordpress-plugin/

It removes some buttons, adds a few new ones, and changes the names of 
some others.

It is an unbelievably hackish piece of work, and I'm a little astonished 
it works at all. PHP, JavaScript, and CSS are mixed freely but it works 
in Firefox and partially in Safari. I haven't tested other browsers yet.

I'm not sure how useful this is to anybody else. because it's really 
geared toward my own idiosyncratic markup style. However I would 
appreciate hearing from anyone who can figure out how to improve the 
code. It would never have occurred to em to do some of the things I did 
without suggestion from the folks here. One of the goals is to provide 
an interface that would allow end-users to customize their own button 
bars without having to hack the code.

Thanks!

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From m at mullenweg.com  Mon Apr 16 19:26:32 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Mon Apr 16 19:44:18 2007
Subject: [wp-hackers] [Fwd: [photomatt] An idea to benefit open source
	community]
Message-ID: <4623CDE8.5060109@mullenweg.com>

This is a pretty neat idea.

-------- Original Message --------
Subject: [photomatt] An idea to benefit open source community
Date: Sat, 14 Apr 2007 20:02:40 -0500
From: [name removed]

This is not a support question.

Wordpress is a nice application, but it also have a bunch of nice 
functions, for instance autoop() and antispambot() and so on. These 
functions could be used a bunch of places, not just in wordpress, but 
they are pretty hard to come by.

Greg Beaver has recently done a lot of work on the PEAR installer, and 
it now supports channels and other really neat features. The PEAR 
installer would be an excellent fit to put some of WP's reusable 
functions out for everyone to enjoy.

It would be neat to have the following commando available for the 
reusable functions:

$ pear channel-discover pear.wordpress.com
$ pear install wordpress/functions

And when there is an upgrade for the functions:

$pear upgrade wordpress/functions

Just an idea. Take care :D


-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From Brian at TheCodeCave.com  Mon Apr 16 19:35:54 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr 16 19:47:00 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F57@dsimail.drbsystems.com>

> Sort of like "physician, heal thyself".  But I think WP is taking on new 
> dynamics as a mainstream app.  The challenge is to accommodate
bleeding-edge 
> developers as well as pedestrian-level users.

Oh, agreed.  I just don't think maintaining two products instead of one
(doubling the testing requirements if nothing else) is the way to do it.

> One thing I've learned when adding non-request-specific features is to
always 
> include an "off" switch.  Perhaps some features could be toggled on
install. 

Definitely an idea worth investigating.  A more sophisticated first time
install that could activate and deactivate required features sounds quite
interesting.


> This would maintain version singularity while letting users opt out of
stuff 
> they don't want.
Good idea.

> So you're suggesting having the plug-in add/remove tables on 
> activation/deactivation?  I'm curious how other plug-ins do this.  Anyone
know 
> of any examples? 
Sure. As mentioned, some plugins do this already.  It's pretty much the same
thing as what many themes do with metadata.  And it's a heck of a lot better
than having people go in and tweak the DB themselves.  Imagine a plugin
that's linked with a GeoIP table.  A complete plugin isn't going to have the
user go out get all of the data and import it into the database.  It's going
handle it all and should have a way to remove that large amount of data too.
But you wouldn't want it to remove it when the plugin is simply disabled.
It should be a separate function.  With that in mind, maybe you now have a
foundation for your "Advanced WordPress Master Suite" of plugins.


From lists07 at wiltgen.net  Mon Apr 16 19:41:11 2007
From: lists07 at wiltgen.net (Charles)
Date: Mon Apr 16 19:51:20 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <71ddd7490704161035q334f52cdtd1cd7f5d1c71be28@mail.gmail.com>
References: <BAY107-DAV18E590D07765DFE1FD8601F2520@phx.gbl>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com>	<f1cf41430704161019s279dc0aah701dcd0136d6dcf8@mail.gmail.com>
	<71ddd7490704161035q334f52cdtd1cd7f5d1c71be28@mail.gmail.com>
Message-ID: <014201c7805f$342c85d0$9c859170$@net>

> Words cannot express just how bad of an idea I think separate versions of
WordPress is.  And before you start in on MU...

Speaking of that, why isn't MU just a plug-in, which any hooks it needs
built into WP?  Or alternatively, why isn't WordPress just MU?

I'm sure I'm not the first to have asked this, but maybe it's time to think
about the justifications again.

-- Charles


From deko822 at hotmail.com  Mon Apr 16 21:30:06 2007
From: deko822 at hotmail.com (deko)
Date: Mon Apr 16 21:29:53 2007
Subject: [wp-hackers] WP Developer Edition
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com><BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>
	<4623A332.406@ntlworld.com>
Message-ID: <BAY107-DAV6CB285E956E1437167763F2520@phx.gbl>

> The plugin I have written adds 4 more tables on activation. - (CREATE if 
> not exists etc),
> It then allows import of csv data into those tables.
> It does not remove the tables on de-activation, but has an "un-install 
> data" option in the admin menu page
> Seems to work ok.
> Chris

Sounds great.  Can you point me to your plug-in?
From deko822 at hotmail.com  Mon Apr 16 21:42:49 2007
From: deko822 at hotmail.com (deko)
Date: Mon Apr 16 21:42:28 2007
Subject: [wp-hackers] WP Developer Edition
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F57@dsimail.drbsystems.com>
Message-ID: <BAY107-DAV20196262807EF04B2C43EF2520@phx.gbl>

> Definitely an idea worth investigating.  A more sophisticated first time
> install that could activate and deactivate required features sounds quite
> interesting.

Well, the idea of different versions went over like a lead zeppelin :)

Perhaps install options might get a warmer reception - sort of like core-level 
plug-ins.  Someone suggested WP and WPMU could be consolidated this way.

One advantage would be the ability to quickly toggle off any unforseen 
bugs/security issues introduced with a new option/feature.

>> So you're suggesting having the plug-in add/remove tables on
>> activation/deactivation?  I'm curious how other plug-ins do this.  Anyone
know
>> of any examples?
> Sure. As mentioned, some plugins do this already.  It's pretty much the same
> thing as what many themes do with metadata.  And it's a heck of a lot better
> than having people go in and tweak the DB themselves.  Imagine a plugin
> that's linked with a GeoIP table.  A complete plugin isn't going to have the
> user go out get all of the data and import it into the database.  It's going
> handle it all and should have a way to remove that large amount of data too.
> But you wouldn't want it to remove it when the plugin is simply disabled.
> It should be a separate function.  With that in mind, maybe you now have a
> foundation for your "Advanced WordPress Master Suite" of plugins.

I'm hoping to learn from Chris' plug-in that adds/removes tables.

From wphackers at jamietalbot.com  Mon Apr 16 22:40:04 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Mon Apr 16 22:40:30 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <BAY107-DAV6CB285E956E1437167763F2520@phx.gbl>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com><BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>	<4623A332.406@ntlworld.com>
	<BAY107-DAV6CB285E956E1437167763F2520@phx.gbl>
Message-ID: <4623FB44.1050106@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

deko wrote:
>> The plugin I have written adds 4 more tables on activation. - (CREATE
>> if not exists etc),
>> It then allows import of csv data into those tables.
>> It does not remove the tables on de-activation, but has an "un-install
>> data" option in the admin menu page
>> Seems to work ok.
>> Chris
> 
> Sounds great.  Can you point me to your plug-in?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

Gengo does the same thing as Chris describes (bar the CSV import) to store multilingual data:

http://jamietalbot.com/wp-hacks/gengo/

Storing the schema in a separate file and having WordPress' own dbdelta function takes the hassle
out of users upgrading.  I've used this approach for a number of plugins and it works well for me.

Cheers,

Jamie.

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGI/tErovxfShShFARAoZDAJ9rt/gXanh4nU6+9Nc5X4PDBMqOWwCfcBzw
VkSJvELnBybC1f5t/PbC2l8=
=HHZ6
-----END PGP SIGNATURE-----
From wphackers at jamietalbot.com  Mon Apr 16 23:12:11 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Mon Apr 16 23:12:37 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704160921r3120de8au9c729d1b5f3ab661@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<462348C0.8020708@jamietalbot.com>
	<bb0886ed0704160921r3120de8au9c729d1b5f3ab661@mail.gmail.com>
Message-ID: <462402CB.80106@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ryan Boren wrote:
> On 4/16/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
>> Basically the same, except that the term_relationships and
>> term_taxonomy tables are related by an
>> integer, instead of a tuple.  We're going to have to join the two
>> tables to get taxonomy data
>> anyway, and nothing beats joining on an int.  We also only have to
>> store the taxonomy field strings
>> once.  Net result of the same amount of fields, but a bit cleaner. 
>> Thoughts?
> 
> I had it like that in an earlier iteration, but how do plugins avoid
> battling for new taxonomy ints?  A string provides less chance of
> collision.  An int would be better for a join, however, so maybe we
> should go ahead and add a taxonomy table that will act as a broker for
> plugins to get a taxonomy id.
> 

You're right that it might be a bit trickier, especially as we can't bank on subqueries (yet).  But,
we can still minimise queries, using INSERT ... SELECT.

Say I want to add a post to a category, cities.  I already know the post_id, which is stored in
$post_id.  Internally, this might look like the following semi-pseudocode, though obviously we'd
break this up into functions:

// First, try to add the tag if it doesn't already exist.
// I'm assuming we'll have a unique key on slug, right?  This won't generate a duplicate.
// As of 4.1, we could use ON DUPLICATE KEY UPDATE, but that will have to wait.
REPLACE INTO $wpdb->terms (term_name, term_slug) VALUES ('City', 'city')

// Now add the term_taxonomy entry.
if ($count = $wpdb->query("SELECT tt.count FROM $wpdb->term_taxonomy AS tt INNER JOIN $wpdb->terms
AS t ON tt.term_id = t.term_id WHERE tt.taxonomy = 'post_category' AND t.term_slug = 'city')) {
	// We'll be updating whatever's there, and incrementing the count.  Not a huge fan of
	// storing counts, by the way, but accept that there might be valid optimisation reasons for 	//
doing so.
	UPDATE $wpdb->term_taxonomy SET desciption = 'Cities visited', count = $count + 1
} else {
	// There was no existing entry for this taxonomy type, so add a new one.  Parent kept as 0 		// for
now.
	INSERT INTO $wpdb->term_taxonomy SELECT term_id, 'post_category', 'Cities I\'ve visited', 0, 1 FROM
$wpdb->terms WHERE term_slug = 'city'
}

// Finally, associate the object with the new taxonomy term.  This query should always find
// the term_taxonomy_id correctly as we've just inserted or updated it.
INSERT INTO $wpdb->term_relationships (object_id, term_taxonomy_id) SELECT $post_id,
tt.term_taxonomy_id FROM $wpdb->term_taxonomy AS tt INNER JOIN $wpdb->terms AS t ON (t.term_id =
tt.term_id AND tt.taxonomy = 'post_category' AND t.term_slug = 'city')

You could of course rework this to add an extra query to determine the recently inserted term_id and
remove the need for the INSERT ... SELECTS, - not sure which would profile faster.  With correctly
applied indices and field sizes that match, I suspect it may be faster as above, even with many
terms.  I'm pretty sure that either of those approaches would be faster than a string join though.
At the end of the day, with 3 tables you're always going to need to do 3 or 4 queries.  But seeing
as this happens on the admin side, and we aren't overly worried about the performance of the admin
side, that shouldn't be a problem.

Cheers,

Jamie.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGJALLrovxfShShFARAtyRAJ4872/WgADBHA+EQ9WoLQOt0vkyzQCeJ+Zo
kED49DvXV4SaBSJZVoZ7Qgc=
=VvDi
-----END PGP SIGNATURE-----
From wphackers at jamietalbot.com  Mon Apr 16 23:39:01 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Mon Apr 16 23:39:29 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>
Message-ID: <46240915.7050006@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Steve Lewis wrote:
> > On 4/16/07, Ryan Boren <ryan@boren.nu> wrote:
> > I would like to ask you to expound on three use cases:
> > - Aliases  (for instance: products -> projects)
> > - Lookup by slug (myblog.com/projects)
> > - Both together (myblog.com/products)
> >
> > I don't want to presume too much about your intentions.

In the trac ticket, it was initially thought that synonyms could be a feature added by a plugin.
Regardless of whether that ends up being the case or not, one standard way of representing groups
like this is to do a self join.  This might mean adding a column to the terms table called
'term_group' (which would also allow for synonyms of categories, which could be mighty handy for
multilingual plugins).

CREATE TABLE $wpdb->terms (
 term_id bigint(20) NOT NULL auto_increment,
 term_name varchar(55) NOT NULL default '',
 term_slug varchar(200) NOT NULL default '',
 term_group bigint(10) NOT NULL default 0
 PRIMARY KEY  (term_ID),
 KEY term_slug (term_slug)
);

1 Products	products	1
2 Cities	cities		0
3 Projects	projects	1


// Returns all synonyms of 'products' (including 'products').
SELECT t2.* FROM $wpdb->terms AS t1 INNER JOIN $wpdb->terms AS t2 ON t1.term_group = t2.term_group
WHERE t1.term_group != 0 AND t1.slug = 'products'.

I also don't presume that this way will be chosen, but it is a possible solution.  I have
implemented code in a manner similar to this to store the relationships between post translations -
each post is in a translation group, from which you can find out all the other translations.  Since
I got the initial syntax worked out, it's performed pretty well.

I'm not certain it is a core feature either - do other tagging systems employ aliases?

Lookup by slug is easy.  Lookup by both is still easy, but a bit more inefficient as you'd have to
do an IN(term_ids) based on all the returned tags from the above query.  The alternative would be to
have a master slave tagging system, which sounds suspiciously like category parents and don't really
fit with the whole fast and loose tag thing.

Cheers,

Jamie.

- --
http://jamietalbot.com
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGJAkVrovxfShShFARAsgJAJwOr90zgpDFjfEok76wRc5Lj+6jKgCeI+mU
P5JJeQt5RyzgGbvFm4GBy+E=
=Jg3Q
-----END PGP SIGNATURE-----
From chris.hearn01 at ntlworld.com  Tue Apr 17 00:06:04 2007
From: chris.hearn01 at ntlworld.com (Chris)
Date: Tue Apr 17 00:06:25 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <BAY107-DAV6CB285E956E1437167763F2520@phx.gbl>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com><BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>	<4623A332.406@ntlworld.com>
	<BAY107-DAV6CB285E956E1437167763F2520@phx.gbl>
Message-ID: <46240F6C.5090206@ntlworld.com>

It's work in progress at present, and has other functionality in too 
which i need to finish off, so needs tidying etc, but yes, then I will 
let you know, with pleasure.
Chris



deko wrote:
>> The plugin I have written adds 4 more tables on activation. - (CREATE 
>> if not exists etc),
>> It then allows import of csv data into those tables.
>> It does not remove the tables on de-activation, but has an 
>> "un-install data" option in the admin menu page
>> Seems to work ok.
>> Chris
>
> Sounds great.  Can you point me to your plug-in?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>


From denis at mesoconcepts.com  Tue Apr 17 00:09:34 2007
From: denis at mesoconcepts.com (Denis de Bernardy)
Date: Tue Apr 17 00:10:01 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <20070415204601.08FFA693A@comox.textdrive.com>
Message-ID: <011101c78084$b0368570$6401a8c0@kergan>

> Ryan said:
>
> > Having "dogs" in a category table have one ID and "dogs" in a tag 
> > table have a different ID is a long-term deck of cards that we will 
> > seriously regret later. It's MUCH harder to reconcile items with 
> > internally different IDs than it is to split out unique IDs into 
> > different tables.
> 
> I agree with these points.  These points are the reason I 
> tried to make the current design work.

Might be me, but... Why not use a sequence in common for the tables and
database views artificially to merge their contents? Lack of features in
MySQL?

D.

From denis at mesoconcepts.com  Tue Apr 17 00:42:19 2007
From: denis at mesoconcepts.com (Denis de Bernardy)
Date: Tue Apr 17 00:42:49 2007
Subject: [wp-hackers] postmeta table
In-Reply-To: <20070416084153.B316366FC@comox.textdrive.com>
Message-ID: <011201c78089$4525f9a0$6401a8c0@kergan>

> Matt Mullenweg said:
>
> Caching things in postmeta makes me uncomfortable, it seems like the 
> main benefit is that it's auto-loaded with posts, but then 
> again so are 
> categories. Are you suggesting we move everything attached to 
> posts into 
> postmeta? It also seems like it would be a waste if the 
> object cache was 
> turned on.

One thing that has tickled me from the very beginning in WP is this: Given
that the stuff in postmeta is mostly serialized and unqueriable any, why not
use a postmeta field in the posts table with all of the serialized related
to the post in it?

D.

From deko822 at hotmail.com  Tue Apr 17 01:37:05 2007
From: deko822 at hotmail.com (deko)
Date: Tue Apr 17 01:36:44 2007
Subject: [wp-hackers] WP Developer Edition
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com><BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>	<4623A332.406@ntlworld.com><BAY107-DAV6CB285E956E1437167763F2520@phx.gbl>
	<46240F6C.5090206@ntlworld.com>
Message-ID: <BAY107-DAV168F1B64E358B98C91C62FF2510@phx.gbl>

> It's work in progress at present, and has other functionality in too which i 
> need to finish off, so needs tidying etc, but yes, then I will let you know, 
> with pleasure.

Thanks.  I'm interested in how you will manage your plug-in data when WP is 
upgraded.  For example, when a user upgrades from 2.1.3 to 2.2 (deactivating 
your plug-in in the process), what happens to the data in the plug-in specific 
table(s)?  I've read about the dbdelta function (thanks Jamie) 
http://codex.wordpress.org/Creating_Tables_with_Plugins but that addresses 
upgrades to the plug-in table schema.  What happens when WP is upgraded to a new 
db schema?  Will plug-in specicific table data be persevered?  Or will the 
tables need to be exported and imported with phpMyAdmin after the upgrade?  Or 
would you simply script that process? 

From wphackers at jamietalbot.com  Tue Apr 17 02:50:03 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Tue Apr 17 02:50:31 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <BAY107-DAV168F1B64E358B98C91C62FF2510@phx.gbl>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com><BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>	<4623A332.406@ntlworld.com><BAY107-DAV6CB285E956E1437167763F2520@phx.gbl>	<46240F6C.5090206@ntlworld.com>
	<BAY107-DAV168F1B64E358B98C91C62FF2510@phx.gbl>
Message-ID: <462435DB.8070804@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

deko wrote:
> Thanks.  I'm interested in how you will manage your plug-in data when WP
> is upgraded.  For example, when a user upgrades from 2.1.3 to 2.2
> (deactivating your plug-in in the process), what happens to the data in
> the plug-in specific table(s)?  I've read about the dbdelta function
> (thanks Jamie) http://codex.wordpress.org/Creating_Tables_with_Plugins
> but that addresses upgrades to the plug-in table schema.  What happens
> when WP is upgraded to a new db schema?  Will plug-in specicific table
> data be persevered?  Or will the tables need to be exported and imported
> with phpMyAdmin after the upgrade?  Or would you simply script that
> process?

WordPress ignores any tables that aren't part of the core when it is upgrading, so you have nothing
to worry about.

Cheers,

Jamie.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGJDXbrovxfShShFARAuo7AJ9ECmj1rhJ1KE+qjMpaSwy93PeP5gCdGOS4
5uooQSEFpnbcMFMqxm5QZvY=
=8O+r
-----END PGP SIGNATURE-----
From davebytes at comcast.net  Tue Apr 17 02:57:23 2007
From: davebytes at comcast.net (David Chait)
Date: Tue Apr 17 02:56:46 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
Message-ID: <46243793.2090103@comcast.net>

there's been on-and-off issues with it, and while I applaud Ricardo on 
his time and effort taking Staticize Reloaded and bringing it forward 
into the new generation of WP, he's admitted to be overloaded and unable 
to keep it up to date and I think was asking for someone to take it 
over.  I'd claim that wp-cache is one of the most critical plugins out 
there for anyone with even a moderate level of traffic, and that having 
it not being properly attended to, updated, heck even improved, is going 
to become a 'critical issue' to many folks out there.  And I think it 
needs to be closer to the action.

Opinions?  Matt?  (since I think staticize was your baby originally, no?)

Any reasons it shouldn't be in the core (even if it's kept as a 
plugin...), while the object-caching approach IS?  Note that object 
caching has, in the past, shown to be detrimental to performance on the 
average shared hosting setup -- though on dedi setups, with APC or 
memcached and/or php bytecode caching, I could imagine setups where the 
object cache could beat out the wp-cache 'php page' caching system.  I 
run on shared for cost+stability management, I'd run on a VPS if my site 
really took off again.. ;)

Just with all the discussion of things like tagging systems, adding new 
features, it seems that the management of staticize/wp-cache is really 
important to the community as an 'old feature' (in a sense), that aside 
from antispam stuff is one of the first recommended things to install 
for a successful site.

Musing,

-d
From dan at dancoulter.com  Tue Apr 17 04:04:51 2007
From: dan at dancoulter.com (Dan Coulter)
Date: Tue Apr 17 04:04:57 2007
Subject: [wp-hackers] [Fwd: [photomatt] An idea to benefit open source
	community]
In-Reply-To: <4623CDE8.5060109@mullenweg.com>
References: <4623CDE8.5060109@mullenweg.com>
Message-ID: <5dc2163e0704162104y3b91cefdr6e89288ea9a3b211@mail.gmail.com>

On 4/16/07, Matt Mullenweg <m@mullenweg.com> wrote:
>
> This is a pretty neat idea.


I think it's a great idea!

-- 
Dan Coulter
http://www.dancoulter.com/
http://www.phpflickr.com/
It is time - http://e-hobo.com/

Hey, I got nothing to do today but smile
-Simon and Garfunkel
From lists.permutype at gmail.com  Tue Apr 17 04:35:42 2007
From: lists.permutype at gmail.com (Boris Anthony)
Date: Tue Apr 17 04:35:57 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <46243793.2090103@comcast.net>
References: <46243793.2090103@comcast.net>
Message-ID: <6D221F0C-4697-4C04-83EB-1F3E647F0166@gmail.com>


+1
;)
(starting to feel bad I don't have the time to actually help with any  
of this.. maybe i should shaddap :\

B.


On 16-Apr-07, at 10:57 PM, David Chait wrote:

> there's been on-and-off issues with it, and while I applaud Ricardo  
> on his time and effort taking Staticize Reloaded and bringing it  
> forward into the new generation of WP, he's admitted to be  
> overloaded and unable to keep it up to date and I think was asking  
> for someone to take it over.  I'd claim that wp-cache is one of the  
> most critical plugins out there for anyone with even a moderate  
> level of traffic, and that having it not being properly attended  
> to, updated, heck even improved, is going to become a 'critical  
> issue' to many folks out there.  And I think it needs to be closer  
> to the action.
>
> Opinions?  Matt?  (since I think staticize was your baby  
> originally, no?)
>
> Any reasons it shouldn't be in the core (even if it's kept as a  
> plugin...), while the object-caching approach IS?  Note that object  
> caching has, in the past, shown to be detrimental to performance on  
> the average shared hosting setup -- though on dedi setups, with APC  
> or memcached and/or php bytecode caching, I could imagine setups  
> where the object cache could beat out the wp-cache 'php page'  
> caching system.  I run on shared for cost+stability management, I'd  
> run on a VPS if my site really took off again.. ;)
>
> Just with all the discussion of things like tagging systems, adding  
> new features, it seems that the management of staticize/wp-cache is  
> really important to the community as an 'old feature' (in a sense),  
> that aside from antispam stuff is one of the first recommended  
> things to install for a successful site.
>
> Musing,
>
> -d
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From computerguru at neosmart.net  Tue Apr 17 05:29:10 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 17 05:30:13 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <46243793.2090103@comcast.net>
References: <46243793.2090103@comcast.net>
Message-ID: <001101c780b1$5ad58d60$1080a820$@net>

Not unless it can be made 100% compatible with all hosts - Windows and IIS
included.

I did some crazy overhauling of that script for my IIS host - yet I STILL
couldn't get it to work 100% there :-(

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of David Chait
> Sent: Tuesday, April 17, 2007 5:57 AM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
> 
> there's been on-and-off issues with it, and while I applaud Ricardo on
> his time and effort taking Staticize Reloaded and bringing it forward
> into the new generation of WP, he's admitted to be overloaded and
> unable
> to keep it up to date and I think was asking for someone to take it
> over.  I'd claim that wp-cache is one of the most critical plugins out
> there for anyone with even a moderate level of traffic, and that having
> it not being properly attended to, updated, heck even improved, is
> going
> to become a 'critical issue' to many folks out there.  And I think it
> needs to be closer to the action.
> 
> Opinions?  Matt?  (since I think staticize was your baby originally,
> no?)
> 
> Any reasons it shouldn't be in the core (even if it's kept as a
> plugin...), while the object-caching approach IS?  Note that object
> caching has, in the past, shown to be detrimental to performance on the
> average shared hosting setup -- though on dedi setups, with APC or
> memcached and/or php bytecode caching, I could imagine setups where the
> object cache could beat out the wp-cache 'php page' caching system.  I
> run on shared for cost+stability management, I'd run on a VPS if my
> site
> really took off again.. ;)
> 
> Just with all the discussion of things like tagging systems, adding new
> features, it seems that the management of staticize/wp-cache is really
> important to the community as an 'old feature' (in a sense), that aside
> from antispam stuff is one of the first recommended things to install
> for a successful site.
> 
> Musing,
> 
> -d
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jalkut at red-sweater.com  Tue Apr 17 05:34:48 2007
From: jalkut at red-sweater.com (Daniel Jalkut)
Date: Tue Apr 17 05:35:03 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <001101c780b1$5ad58d60$1080a820$@net>
References: <46243793.2090103@comcast.net>
	<001101c780b1$5ad58d60$1080a820$@net>
Message-ID: <1EC012A4-0DE7-45E4-A05F-8AC208D99D00@red-sweater.com>

On Apr 17, 2007, at 1:29 AM, Computer Guru wrote:
> Not unless it can be made 100% compatible with all hosts - Windows  
> and IIS
> included.

What if it's included but as an option that can be turned off?

It's such a good option for the vast majority of people ... it's a  
real shame it's not in the main product.

This is the one thing that my friends criticize WP for, and with good  
reason, I think.

I always have to say, "*But* you can install wp-cache!" ...

Daniel
From computerguru at neosmart.net  Tue Apr 17 05:42:55 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 17 05:43:50 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <1EC012A4-0DE7-45E4-A05F-8AC208D99D00@red-sweater.com>
References: <46243793.2090103@comcast.net>	<001101c780b1$5ad58d60$1080a820$@net>
	<1EC012A4-0DE7-45E4-A05F-8AC208D99D00@red-sweater.com>
Message-ID: <001201c780b3$41976290$c4c627b0$@net>

I'd say that's a great idea - but for the fact that _before_ adding
WP-Cache, WP runs 100% on all ECMA-standard platforms.

If the same code for PHP on Linux - once compiled into a Windows binary -
doesn't yield the same results...
I know this isn't Ricardo's fault (we've corresponded at length with regards
to the Windows/IIS issue) and it's mostly just PHP with their ridiculous
bugs on Windows to blame; but it just doesn't seem right to include
something that renders WP only partially compatible on systems that
*shouldn't* have any compatibility problems.

Statictize runs on Windows however...

IMO, _if_ WP chooses to integrate a caching system (I'm onboard with that
idea :), we should either stick the limited-but-still-compatible Statictize
or else go through Gallir's WP-Cache with a toothpick and fix that
problem... I pulled an all-nighter going through it and debugging every
step, and just for some odd reason, code that would work on Windows on other
scripts wasn't working right there.. I gave up after 8 hours.

Just my 2 cents. 

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Daniel Jalkut
> Sent: Tuesday, April 17, 2007 8:35 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] should (can?) wp-cache be adopted into the
> core?
> 
> On Apr 17, 2007, at 1:29 AM, Computer Guru wrote:
> > Not unless it can be made 100% compatible with all hosts - Windows
> > and IIS
> > included.
> 
> What if it's included but as an option that can be turned off?
> 
> It's such a good option for the vast majority of people ... it's a
> real shame it's not in the main product.
> 
> This is the one thing that my friends criticize WP for, and with good
> reason, I think.
> 
> I always have to say, "*But* you can install wp-cache!" ...
> 
> Daniel
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wphackers at galleryembedded.com  Tue Apr 17 05:51:37 2007
From: wphackers at galleryembedded.com (termite)
Date: Tue Apr 17 05:51:50 2007
Subject: [wp-hackers] Re: Taxonomy Schema Proposal
Message-ID: <1176789097.m2f.31911@www.galleryembedded.com>

Hello Everyone :-)

Overall I do agree with Jamie and the KISS principle is always key. In G2 (not that it's a reference or anything), we are doing the tags much like what Jamie explained and it's proven VERY performing so far.

We have 1 table that had the tags (tagID & tagName) and another table that does the mapping between the tags and then item being tagged.

It seems simplistic at first but overall it makes the all thing perform and I can tell you how much it's critical that things scale in todays world .... everybody is after fetting more hist, more post, more tags , well more .. so it's not efficient, people tends to look at other solutions/alternatives.

So teh design originally proposed seem to have a couple things to change (from my point of view :-)):

- I would not repeat the taxonomy field
- I would only use 2 tables (not three)
- I would try not to keep the non-tags with the tags.

Is it not more efficient in terms of coding to have a table that sole purpose is to hold tags ? this way a simple SELECT * gets all you need and only that :-)

Anyways, I just wanted to add a couple thoughs to the mix, I hope they help a bit :-)

Termitenshort




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From mark.wordpress at txfx.net  Tue Apr 17 06:17:12 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Apr 17 06:18:06 2007
Subject: [wp-hackers] postmeta table
In-Reply-To: <011201c78089$4525f9a0$6401a8c0@kergan>
References: <011201c78089$4525f9a0$6401a8c0@kergan>
Message-ID: <D2E97F6A-0E4F-4595-9151-342DF7C5516B@txfx.net>

On Apr 16, 2007, at 8:42 PM, Denis de Bernardy wrote:

> One thing that has tickled me from the very beginning in WP is  
> this: Given
> that the stuff in postmeta is mostly serialized and unqueriable  
> any, why not
> use a postmeta field in the posts table with all of the serialized  
> related
> to the post in it?

(1) You'd have to load everything into memory in order to edit any  
postmeta pairs for a post, which limits scalability.  I have several  
posts with more than 100 postmeta pairs, and one with over 700  
pairs.  That's not normal, but it's nice to know that postmeta is  
flexible enough to handle it.

(2) Only arrays and objects are serialized in postmeta.  String  
values are stored as plain text and are "queryable."  There's no API  
for such, but you can make direct queries.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From mark.wordpress at txfx.net  Tue Apr 17 06:23:26 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Apr 17 06:24:10 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <BAY107-DAV168F1B64E358B98C91C62FF2510@phx.gbl>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com><BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>	<4623A332.406@ntlworld.com><BAY107-DAV6CB285E956E1437167763F2520@phx.gbl>
	<46240F6C.5090206@ntlworld.com>
	<BAY107-DAV168F1B64E358B98C91C62FF2510@phx.gbl>
Message-ID: <BD558033-67ED-4AF4-ACFE-465AF3119912@txfx.net>

On Apr 16, 2007, at 9:37 PM, deko wrote:

> I'm interested in how you will manage your plug-in data when WP is  
> upgraded.  For example, when a user upgrades from 2.1.3 to 2.2  
> (deactivating your plug-in in the process), what happens to the  
> data in the plug-in specific table(s)?  I've read about the dbdelta  
> function (thanks Jamie) http://codex.wordpress.org/ 
> Creating_Tables_with_Plugins but that addresses upgrades to the  
> plug-in table schema.  What happens when WP is upgraded to a new db  
> schema?  Will plug-in specicific table data be persevered?

dbDelta() ignores:

(1) custom tables (it is only aware of current and past WP tables).

(2) custom columns in WP tables (for instance, if you added a  
post_mood column, WordPress would never touch it, unless post_mood  
became part of the WordPress schema).

And actually, dbDelta() doesn't do any dropping of columns or  
tables... it only alters or adds.  The dropping of obsolete WP core  
columns and tables is done manually in the upgrade code.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From mark.wordpress at txfx.net  Tue Apr 17 06:41:53 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Tue Apr 17 06:42:38 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <46243793.2090103@comcast.net>
References: <46243793.2090103@comcast.net>
Message-ID: <25346746-F576-49F7-8E07-2A4A06B8D459@txfx.net>

On Apr 16, 2007, at 10:57 PM, David Chait wrote:

>  I'd claim that wp-cache is one of the most critical plugins out  
> there for anyone with even a moderate level of traffic, and that  
> having it not being properly attended to, updated, heck even  
> improved, is going to become a 'critical issue' to many folks out  
> there.  And I think it needs to be closer to the action.

I've had some ideas about this in the past:

Would be cool if WP-Cache2 could be recoded to use the object cache  
API.  Then you could make it use Memcache or APC  which should take  
the hard drive out of the equation with cached loads.

While WP-Cache2 is a tremendous help, it has one major downside:  
dynamic actions require a lot of work to re-wire.  Many people don't  
"get" the concept (even people with some PHP-tinkering experience).   
So this isn't something that should be installed by default.

If it could be de-bugged and cleaned up, I might be okay with it  
being included as a plugin, but I'd almost rather focus on caching  
and optimization efforts that everyone can benefit from and that  
don't kill a site's ability to be as dynamic as the operator wants it  
to be.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From skeltoac at gmail.com  Tue Apr 17 07:59:15 2007
From: skeltoac at gmail.com (Andy Skelton)
Date: Tue Apr 17 07:59:29 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <46243793.2090103@comcast.net>
References: <46243793.2090103@comcast.net>
Message-ID: <e6ec604d0704170059v55a8b55agdd6c2293217061f3@mail.gmail.com>

On 4/16/07, David Chait <davebytes@comcast.net> wrote:
> Any reasons it shouldn't be in the core (even if it's kept as a
> plugin...), while the object-caching approach IS?  Note that object
> caching has, in the past, shown to be detrimental to performance on the
> average shared hosting setup -- though on dedi setups, with APC or
> memcached and/or php bytecode caching, I could imagine setups where the
> object cache could beat out the wp-cache 'php page' caching system.  I
> run on shared for cost+stability management, I'd run on a VPS if my site
> really took off again.. ;)

I would not like to see WP-Cache bundled with core in its current
state. The object cache has come a long way. The object cache is not a
substitute for WP-Cache, nor vice versa, but they are ignorant of each
other when they should be cooperating or even fusing.

What I want is for WP to have an object cache that is strong enough
that rendered pages could be cached, retrieved, optionally mixed with
dynamic content, served and appropriately invalidated using whatever
object cache client suits the setup.

In order to be compatible with full-page caching, all code (including
themes, plugins, widgets, mods) must comply with several principles of
caching that just haven't been codified yet. So those standards would
have to be written and followed.

That's a lot to ask for, I know, but it would be ideal. Picture this:
you install WordPress, you save a new post with comments off, you
visit the home page and notice that several queries were required in
order to render the page. The next reload should require zero queries.
You should be able to shut down MySQL and have WordPress serve that
same rendered page from cache until the end of time.

I have an experimental memcached client that implements the existing
"group" parameter as more of a "tags" parameter that accepts any
number of symbols indicating which datasets contribute to the cached
object. When an underlying dataset is changed, every object so tagged
can be invalidated by simply flushing the tag for that dataset.

(The dirty work of removing expired items from the cache can be done
by the cache client, the caching layer, or a virtual or actual cleanup
daemon. What matters most is that expired items are never returned by
the cache_get function.)

In this over-simplified example, we just finished rendering a page
that displays posts and comments and depends on some options for
formatting.

$key = md5( $request_uri );
$html = ob_get_contents();
$tags = array('posts', 'comments', 'options');
wp_cache_set( $key, $html, $tags );

Now when we see that same request URI we can serve from the cache:
$key = md5( $request_uri );
if ( $html = wp_cache_get( $key ) )
 die( $html );

(Did you notice that I removed the second parameter to the _get
function? This way you don't need to know the tags to get the data
associated with a key. Groups could be kept as an optional parameter;
this is an over-simplified example.)

The cached object is valid as long as the underlying data is
unchanged. Any function that changes underlying data should do one of
the following:
wp_cache_flush('posts');
wp_cache_flush('comments');
wp_cache_flush('options');
and any one of those flush operations is all that's needed to
invalidate our cached HTML, forcing the next page to render a fresh
page.

An extremely flexible system would permit tag registration by any
function that adds another dataset dependency to the mix. Thus if a
plugin uses data from its own table to contribute to the rendered
page, it should register its own tag on output and handle the flushing
of that tag when the related data is changed. Tag flushing could also
be done at intervals or by a schedule but careful flushing would make
this unnecessary.

In closing, I apologize for the long email and I hope you find some
way to get your ten minutes back.

Andy
From chris.hearn01 at ntlworld.com  Tue Apr 17 09:06:44 2007
From: chris.hearn01 at ntlworld.com (Chris)
Date: Tue Apr 17 09:07:21 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <BAY107-DAV168F1B64E358B98C91C62FF2510@phx.gbl>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com><BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>	<4623A332.406@ntlworld.com><BAY107-DAV6CB285E956E1437167763F2520@phx.gbl>	<46240F6C.5090206@ntlworld.com>
	<BAY107-DAV168F1B64E358B98C91C62FF2510@phx.gbl>
Message-ID: <46248E24.7000604@ntlworld.com>

I don't think there will be a problem -I should explain that my plugin 
is for a large sailing club web site.
The purpose of the plugin is:
a) To validate approx 500 member details on registration. Signing In 
activates site additional pages and facilities on the site that are 
"Member only". For example posts on "Member-only" pages can only be read 
when a member is signed in.

b) To show members detail of the year's sailing dates, duty rotas.
c) The plugin uses imported data on membership, sailing events, duty 
dates, which I keep in entirely separate tables.
The plugin generates a list (of about 120) sailing events thoughout the 
year. The plugin creates the posts and event calendar entries.
d) Members can see duty rotas for each sailing event, to check their 
duty dates, see the events for each week etc.. This is done via a custom 
theme page template and direct MySQL queries. There IS a linkage into 
the users table here, just to find the current user.
---
So the main linkage is to wp-posts table, and the Event Calendar plugin 
table ec3-schedule.

My plugin references these to add/delete the event list for the year. 
About 120 events. To display the duties I use a theme page template 
which looks up the member duties based on their login. and can display 
only the duties for that member, by month etc. But that is hadnled 
within the page template. There are about 800 "duties" in a year.

The plugin activates, simply look for the presence of these tables, and 
creates the tables if they dont exist.
I then currently imported the data using phpMyAdmin, (because that's 
easy for me at present) from csv table data created by the club.

For normal plugin activate/de-activate there is no impact - the data 
just sits in my tables, plus the wp-posts and ec3-schedule tables.
(When ec3 is de-activated it keeps the event table intact, so again no 
problem.)

UPGRADING:
If there is a wp issue on upgrade, I have an admin page with plugin 
routines that read my tables and add all the posts and events to the 
calendar, and I also have a routine to remove all the events again. So I 
think worst case would be remove all the events, then wp upgrade, then 
run the plugin "create-sailing events" admin routine. This would only be 
necessary if the wp-post id's are affected by the upgrade, which I 
decided was unlikely.
I'm probably more dependent on the Event Calendar ec3-schedule plugin 
table structure.

If WP upgrade changes the _core_ structure I shall not upgrade!
But bear in mind that I am focused on a specific purpose, not a general 
purpose plugin - although I guess most plugins start life like this!

Hope that helps.
Chris


    ********************************************************************** 
    Chris Hearn 
    *Tel:* 01625 827589 
    *Mob:* 07768 725141 
    *email:* chris.hearn01@ntlworld.com 
    ********************************************************************** 
    The information transmitted is intended only for the person or entity 
    to which it is addressed and may contain confidential and/or privileged 
    material. Any review, retransmission, dissemination or other use of, 
    or taking of any action in reliance upon, this information by persons 
    or entities other than the intended recipient is prohibited. 
    If you received this in error, please contact the sender and delete the 
    material from any computer. 
    ********************************************************************** 



deko wrote:
>> It's work in progress at present, and has other functionality in too 
>> which i need to finish off, so needs tidying etc, but yes, then I 
>> will let you know, with pleasure.
>
> Thanks.  I'm interested in how you will manage your plug-in data when 
> WP is upgraded.  For example, when a user upgrades from 2.1.3 to 2.2 
> (deactivating your plug-in in the process), what happens to the data 
> in the plug-in specific table(s)?  I've read about the dbdelta 
> function (thanks Jamie) 
> http://codex.wordpress.org/Creating_Tables_with_Plugins but that 
> addresses upgrades to the plug-in table schema.  What happens when WP 
> is upgraded to a new db schema?  Will plug-in specicific table data be 
> persevered?  Or will the tables need to be exported and imported with 
> phpMyAdmin after the upgrade?  Or would you simply script that process?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
From chris.hearn01 at ntlworld.com  Tue Apr 17 09:14:00 2007
From: chris.hearn01 at ntlworld.com (Chris)
Date: Tue Apr 17 09:14:29 2007
Subject: [wp-hackers] WP Developer Edition
In-Reply-To: <46248E24.7000604@ntlworld.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F42@dsimail.drbsystems.com><BAY107-DAV121F02EB1F3035177CCB4DF2520@phx.gbl>	<4623A332.406@ntlworld.com><BAY107-DAV6CB285E956E1437167763F2520@phx.gbl>	<46240F6C.5090206@ntlworld.com>	<BAY107-DAV168F1B64E358B98C91C62FF2510@phx.gbl>
	<46248E24.7000604@ntlworld.com>
Message-ID: <46248FD8.9020606@ntlworld.com>

Deko, all,
Apologies for very long post - my email has now dowloaded the replies 
from others that I see basically agree no issues on WP upgrades!
Chris
From computerguru at neosmart.net  Tue Apr 17 10:24:13 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 17 10:25:32 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <e6ec604d0704170059v55a8b55agdd6c2293217061f3@mail.gmail.com>
References: <46243793.2090103@comcast.net>
	<e6ec604d0704170059v55a8b55agdd6c2293217061f3@mail.gmail.com>
Message-ID: <001601c780da$956f3e70$c04dbb50$@net>

You know, with the importance of Caching, I'm surprised the MySQL team
hasn't developed a pure-caching extension for MySQL itself.....

What better place to implement a complete caching layer than at the SQL
backend? Via a nice, powerful, and easy-to-use GUI you can specify exactly
what tables/databases you want cached, how long a cache should last, whether
the results of uncached queries should be written to the hard disk, and so
on and so forth.

Obviously I'm dreaming, but you never know.... 

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Andy Skelton
> Sent: Tuesday, April 17, 2007 10:59 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] should (can?) wp-cache be adopted into the
> core?
> 
> On 4/16/07, David Chait <davebytes@comcast.net> wrote:
> > Any reasons it shouldn't be in the core (even if it's kept as a
> > plugin...), while the object-caching approach IS?  Note that object
> > caching has, in the past, shown to be detrimental to performance on
> the
> > average shared hosting setup -- though on dedi setups, with APC or
> > memcached and/or php bytecode caching, I could imagine setups where
> the
> > object cache could beat out the wp-cache 'php page' caching system.
> I
> > run on shared for cost+stability management, I'd run on a VPS if my
> site
> > really took off again.. ;)
> 
> I would not like to see WP-Cache bundled with core in its current
> state. The object cache has come a long way. The object cache is not a
> substitute for WP-Cache, nor vice versa, but they are ignorant of each
> other when they should be cooperating or even fusing.
> 
> What I want is for WP to have an object cache that is strong enough
> that rendered pages could be cached, retrieved, optionally mixed with
> dynamic content, served and appropriately invalidated using whatever
> object cache client suits the setup.
> 
> In order to be compatible with full-page caching, all code (including
> themes, plugins, widgets, mods) must comply with several principles of
> caching that just haven't been codified yet. So those standards would
> have to be written and followed.
> 
> That's a lot to ask for, I know, but it would be ideal. Picture this:
> you install WordPress, you save a new post with comments off, you
> visit the home page and notice that several queries were required in
> order to render the page. The next reload should require zero queries.
> You should be able to shut down MySQL and have WordPress serve that
> same rendered page from cache until the end of time.
> 
> I have an experimental memcached client that implements the existing
> "group" parameter as more of a "tags" parameter that accepts any
> number of symbols indicating which datasets contribute to the cached
> object. When an underlying dataset is changed, every object so tagged
> can be invalidated by simply flushing the tag for that dataset.
> 
> (The dirty work of removing expired items from the cache can be done
> by the cache client, the caching layer, or a virtual or actual cleanup
> daemon. What matters most is that expired items are never returned by
> the cache_get function.)
> 
> In this over-simplified example, we just finished rendering a page
> that displays posts and comments and depends on some options for
> formatting.
> 
> $key = md5( $request_uri );
> $html = ob_get_contents();
> $tags = array('posts', 'comments', 'options');
> wp_cache_set( $key, $html, $tags );
> 
> Now when we see that same request URI we can serve from the cache:
> $key = md5( $request_uri );
> if ( $html = wp_cache_get( $key ) )
>  die( $html );
> 
> (Did you notice that I removed the second parameter to the _get
> function? This way you don't need to know the tags to get the data
> associated with a key. Groups could be kept as an optional parameter;
> this is an over-simplified example.)
> 
> The cached object is valid as long as the underlying data is
> unchanged. Any function that changes underlying data should do one of
> the following:
> wp_cache_flush('posts');
> wp_cache_flush('comments');
> wp_cache_flush('options');
> and any one of those flush operations is all that's needed to
> invalidate our cached HTML, forcing the next page to render a fresh
> page.
> 
> An extremely flexible system would permit tag registration by any
> function that adds another dataset dependency to the mix. Thus if a
> plugin uses data from its own table to contribute to the rendered
> page, it should register its own tag on output and handle the flushing
> of that tag when the related data is changed. Tag flushing could also
> be done at intervals or by a schedule but careful flushing would make
> this unnecessary.
> 
> In closing, I apologize for the long email and I hope you find some
> way to get your ten minutes back.
> 
> Andy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From skeltoac at gmail.com  Tue Apr 17 11:11:50 2007
From: skeltoac at gmail.com (Andy Skelton)
Date: Tue Apr 17 11:11:57 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
Message-ID: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>

On 4/17/07, Computer Guru <computerguru@neosmart.net> wrote:
> You know, with the importance of Caching, I'm surprised the MySQL team
> hasn't developed a pure-caching extension for MySQL itself.....

MySQL has a built-in query cache that can be a tremendous help when
the same queries are repeated again and again. Database servers can
have many gigabytes of RAM dedicated to this cache.

Much of what WordPress caches is exactly what it gets from the wpdb
object but the best things to cache are the most expensive--those that
take the most time to generate--and the most-often used.

Now I'm really glad you brought MySQL into this because it reminded me
that MySQL has a database engine that might work very well as a
baseline, persistent object cache. I'm almost certain it would be
faster than core's file-based cache if it were well-written. I'm
talking about the MEMORY (HEAP) engine, which may be available in
enough places to make it core-worthy. (If this is a horrible idea I
hope Deaton chimes in right away.)

If somebody wanted to bang out a client I'd really like to lend an
eyeball or two, maybe even a hand, to see if it would be an
improvement.

Andy
From false.hopes at gmail.com  Tue Apr 17 11:24:18 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Apr 17 11:24:26 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
Message-ID: <a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>

As far as I know, there isn't anything particularly wrong with using
MySQL's query caching afaik. It would almost certainly be faster than
file based caching, however there are advantages and disadvantages to
each.

The advantage of using MySQL is indeed using RAM, which is many
magnitudes faster than disk based files. The disadvantage, however, is
that you still have MySQL connection overhead, a limited number of
connections to the MySQL server, etc. On a server expecting burst
traffic or just flat out heavy traffic, its worthwhile to use the
diskbased cache instead to relieve some of the stress from the MySQL
server.

It is because of this that I'd choose APC or memcached as a persistent
object cache backend. Probably APC because there is no daemon there
either, it can be stored straight to RAM and retrieved straight from
RAM.

Might want to get someone else's opinion on this one though.

-- 
--Robert Deaton
http://lushlab.com
From skeltoac at gmail.com  Tue Apr 17 11:52:39 2007
From: skeltoac at gmail.com (Andy Skelton)
Date: Tue Apr 17 11:52:43 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
Message-ID: <e6ec604d0704170452g171dbde5p745442a78aad92df@mail.gmail.com>

On 4/17/07, Robert Deaton <false.hopes@gmail.com> wrote:
> The advantage of using MySQL is indeed using RAM, which is many
> magnitudes faster than disk based files. The disadvantage, however, is
> that you still have MySQL connection overhead, a limited number of
> connections to the MySQL server, etc. On a server expecting burst
> traffic or just flat out heavy traffic, its worthwhile to use the
> diskbased cache instead to relieve some of the stress from the MySQL
> server.

There is no reason that this should cause additional connections.
Memory tables can live in the same database as other types.

> It is because of this that I'd choose APC or memcached as a persistent
> object cache backend. Probably APC because there is no daemon there
> either, it can be stored straight to RAM and retrieved straight from
> RAM.

I have no personal experience with APC. For any setup that needs to
scale beyond a single web server I would choose memcached. However,
the idea was to replace the disk-based cache with something that (a)
improves performance under load for the majority of installs
(shared/VPS) and (b) can be enabled by default.

Here is the horse's mouth:
http://dev.mysql.com/doc/refman/4.1/en/memory-storage-engine.html

And some highlights from the above:
MEMORY tables use a fixed-length row storage format.
MEMORY tables cannot contain BLOB or TEXT columns.
MEMORY tables are never converted to disk tables. To ensure that you
don't accidentally do anything foolish, you can set the
max_heap_table_size system variable to impose a maximum size on MEMORY
tables. For individual tables, you can also specify a MAX_ROWS table
option in the CREATE TABLE statement.

Even if it were limited to 10-20 rows at 50-100k per row, that
megabyte of RAM might be very useful for caching the ten or twenty
pages that get the most views. Typically that's the front page and a
few posts as rendered sans cookies.

Andy
From hovenko at linpro.no  Tue Apr 17 13:31:24 2007
From: hovenko at linpro.no (Knut-Olav Hoven)
Date: Tue Apr 17 13:31:46 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
Message-ID: <200704171531.24711.hovenko@linpro.no>

On Monday 16 April 2007 09:19:56 Ryan Boren wrote:
> Putting aside the rest of the debate, let's talk schema.  Here's a
> proposed three table solution where we have terms (tags/categories),
> taxonomies (link categories, post categories, post tags), and objects
> (posts/pages and links).

The schema you propose could make it easier for plugin developers.

It would indeed require a lot of rewrites in the core to make it support this 
schema. Maybe it should be implemented for use by plugins only, at least to 
begin with. A new API for plugins would not break current functionality.

In time we could port the (post|link) categories and tags to use this, if the 
schema works as intended (for the plugin developers). We should reserve some 
names to prevent breaking plugins when/if we deside on porting cats/tags.



-- 
Knut-Olav Hoven
Systemutvikler               mob: +47 986 71 700
Linpro AS                    http://www.linpro.no/
From dougal at gunters.org  Tue Apr 17 14:08:31 2007
From: dougal at gunters.org (Dougal Campbell)
Date: Tue Apr 17 14:08:56 2007
Subject: [wp-hackers] postmeta table
In-Reply-To: <D2E97F6A-0E4F-4595-9151-342DF7C5516B@txfx.net>
References: <011201c78089$4525f9a0$6401a8c0@kergan>
	<D2E97F6A-0E4F-4595-9151-342DF7C5516B@txfx.net>
Message-ID: <4624D4DF.4080400@gunters.org>

Mark Jaquith wrote:
> [...]
> (1) You'd have to load everything into memory in order to edit any
> postmeta pairs for a post, which limits scalability.  I have several
> posts with more than 100 postmeta pairs, and one with over 700 pairs. 
> That's not normal, but it's nice to know that postmeta is flexible
> enough to handle it.
> [...]


Okay, Mark... I've just *got* to know what you're doing that's using 700
pieces of postmeta on a single post. Can you satisfy my curiosity? :)

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From codehooligans at codehooligans.com  Tue Apr 17 14:45:20 2007
From: codehooligans at codehooligans.com (Paul Menard)
Date: Tue Apr 17 14:44:30 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
Message-ID: <C0C00047-F0E5-4875-A54F-02862500A2C7@codehooligans.com>


On Apr 17, 2007, at 6:24 AM, Robert Deaton wrote:
> It is because of this that I'd choose APC or memcached as a persistent
> object cache backend. Probably APC because there is no daemon there
> either, it can be stored straight to RAM and retrieved straight from
> RAM.

Robert, just wondering about your choice of words in the above. The  
way it's written you are almost stating APC is an alternate to using  
MySQL caching. In my development experience for high traffic sites  
these are two different technologies that can really compliment each  
other. My understanding of APC is it just caches the pre-compiled php  
object code for Apache. Which is better than having repeated requests  
for the same PHP page causing recompile from source every time. The  
actual WordPress page content is not stored as part of the object.  
This is just the PHP object code that still needs to be executed to  
build the output.

Paul
From davebytes at comcast.net  Tue Apr 17 15:49:10 2007
From: davebytes at comcast.net (David Chait)
Date: Tue Apr 17 15:48:41 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <e6ec604d0704170059v55a8b55agdd6c2293217061f3@mail.gmail.com>
References: <46243793.2090103@comcast.net>
	<e6ec604d0704170059v55a8b55agdd6c2293217061f3@mail.gmail.com>
Message-ID: <4624EC76.6010404@comcast.net>

I didn't ever specifically say 'in its current state'. ;)  Change it, 
tweak it, fix it, rewrite it.  But don't lose 'page caching' as an option.

Yes, there are problems with full-page caching.  First and foremost is 
that dynamic pieces have to be executed either as a pass-through loader 
(i.e., tagged as a jpg/png but actually a php file), or have to be via 
client-side methods (JS/ajax/whatever).  Secondly is when to invalidate 
the caching.  I didn't lose 10 minutes reading your spec, but a quick 
glance of it certainly looks interesting.  (Andy, I'm removing the end 
of your orig post just for length here... ;) ).

To other statements, not just andy:

I agree that moving wp-cache so it uses the object cache mechanism for 
storage might be useful for those cases where you have APC/memcached.  
HOWEVER, the importance of wp-cache is that it works WITHOUT those 
object-cache mechanisms, on shared hosts where they're not (generally) 
available.  AND, that the object-cache approach basically fails on 
shared hosting (again, in the old days it actually hurt performance if 
your host had well-configured mysql servers, especially if they were 
separate from the apache boxes -- don't know how it performs today).

I agree it should work across to IIS, that fixes are (apparently) 
needed.  However, reminder that wp-cache is the child of Staticize, so 
hopefully whatever problems are there might be easier to solve for the 
core team.

I don't like an approach that requires loading the entirety of WP in 
order to display a page.  The whole POINT of wp-cache/staticize was to 
NOT LOAD WP core, just short-circuit and dump out the cached page.

Yes, it 'breaks' dynamic stuff unless you use server/image-passthrough 
or client/JS approaches (OR, use the mfunc type thing from Staticize 
which has been rumored to have issues in recent wp-cache builds).  But, 
not all of us have dedi servers, let alone server farms, and running 
shared you need to trade off something for performance.  I learned long 
ago that surviving a slashdot was more important than a sidebar thing 
that changes if you refresh the page.  The basic blogger who wants 
purely dynamic, wacky, elements won't generally have traffic to worry 
about.  The heavy blogger probably has VPS or dedi and can put the 
object cache, with APC/memcached, plus generally use a PHP bytecode 
cache.  The midrange folks, without wp-cache, will quickly be 
'stranded', without performance tools to tune for reasonable volume on 
shared environments (which, again, can't usually, usefully, take 
advantage of the object cache or bytecode caching approaches).

Just imho. ;)

-d

Andy Skelton wrote:
> On 4/16/07, David Chait <davebytes@comcast.net> wrote:
>> Any reasons it shouldn't be in the core (even if it's kept as a
>> plugin...), while the object-caching approach IS?  Note that object
>> caching has, in the past, shown to be detrimental to performance on the
>> average shared hosting setup -- though on dedi setups, with APC or
>> memcached and/or php bytecode caching, I could imagine setups where the
>> object cache could beat out the wp-cache 'php page' caching system.  I
>> run on shared for cost+stability management, I'd run on a VPS if my site
>> really took off again.. ;)
>
> I would not like to see WP-Cache bundled with core in its current
> state. The object cache has come a long way. The object cache is not a
> substitute for WP-Cache, nor vice versa, but they are ignorant of each
> other when they should be cooperating or even fusing.
>
> What I want is for WP to have an object cache that is strong enough
> that rendered pages could be cached, retrieved, optionally mixed with
> dynamic content, served and appropriately invalidated using whatever
> object cache client suits the setup.
>
> In order to be compatible with full-page caching, all code (including
> themes, plugins, widgets, mods) must comply with several principles of
> caching that just haven't been codified yet. So those standards would
> have to be written and followed.

From computerguru at neosmart.net  Tue Apr 17 16:01:41 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 17 16:02:38 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <4624EC76.6010404@comcast.net>
References: <46243793.2090103@comcast.net>	<e6ec604d0704170059v55a8b55agdd6c2293217061f3@mail.gmail.com>
	<4624EC76.6010404@comcast.net>
Message-ID: <001701c78109$b2024350$1606c9f0$@net>

With regards to loading all of WP:
I believe this was a project in the GSoC thing... To make WP "modular," so
to speak, loading only components that need to be loaded.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of David Chait
> Sent: Tuesday, April 17, 2007 6:49 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] should (can?) wp-cache be adopted into the
> core?
> 
> I didn't ever specifically say 'in its current state'. ;)  Change it,
> tweak it, fix it, rewrite it.  But don't lose 'page caching' as an
> option.
> 
> Yes, there are problems with full-page caching.  First and foremost is
> that dynamic pieces have to be executed either as a pass-through loader
> (i.e., tagged as a jpg/png but actually a php file), or have to be via
> client-side methods (JS/ajax/whatever).  Secondly is when to invalidate
> the caching.  I didn't lose 10 minutes reading your spec, but a quick
> glance of it certainly looks interesting.  (Andy, I'm removing the end
> of your orig post just for length here... ;) ).
> 
> To other statements, not just andy:
> 
> I agree that moving wp-cache so it uses the object cache mechanism for
> storage might be useful for those cases where you have APC/memcached.
> HOWEVER, the importance of wp-cache is that it works WITHOUT those
> object-cache mechanisms, on shared hosts where they're not (generally)
> available.  AND, that the object-cache approach basically fails on
> shared hosting (again, in the old days it actually hurt performance if
> your host had well-configured mysql servers, especially if they were
> separate from the apache boxes -- don't know how it performs today).
> 
> I agree it should work across to IIS, that fixes are (apparently)
> needed.  However, reminder that wp-cache is the child of Staticize, so
> hopefully whatever problems are there might be easier to solve for the
> core team.
> 
> I don't like an approach that requires loading the entirety of WP in
> order to display a page.  The whole POINT of wp-cache/staticize was to
> NOT LOAD WP core, just short-circuit and dump out the cached page.
> 
> Yes, it 'breaks' dynamic stuff unless you use server/image-passthrough
> or client/JS approaches (OR, use the mfunc type thing from Staticize
> which has been rumored to have issues in recent wp-cache builds).  But,
> not all of us have dedi servers, let alone server farms, and running
> shared you need to trade off something for performance.  I learned long
> ago that surviving a slashdot was more important than a sidebar thing
> that changes if you refresh the page.  The basic blogger who wants
> purely dynamic, wacky, elements won't generally have traffic to worry
> about.  The heavy blogger probably has VPS or dedi and can put the
> object cache, with APC/memcached, plus generally use a PHP bytecode
> cache.  The midrange folks, without wp-cache, will quickly be
> 'stranded', without performance tools to tune for reasonable volume on
> shared environments (which, again, can't usually, usefully, take
> advantage of the object cache or bytecode caching approaches).
> 
> Just imho. ;)
> 
> -d
> 
> Andy Skelton wrote:
> > On 4/16/07, David Chait <davebytes@comcast.net> wrote:
> >> Any reasons it shouldn't be in the core (even if it's kept as a
> >> plugin...), while the object-caching approach IS?  Note that object
> >> caching has, in the past, shown to be detrimental to performance on
> the
> >> average shared hosting setup -- though on dedi setups, with APC or
> >> memcached and/or php bytecode caching, I could imagine setups where
> the
> >> object cache could beat out the wp-cache 'php page' caching system.
> I
> >> run on shared for cost+stability management, I'd run on a VPS if my
> site
> >> really took off again.. ;)
> >
> > I would not like to see WP-Cache bundled with core in its current
> > state. The object cache has come a long way. The object cache is not
> a
> > substitute for WP-Cache, nor vice versa, but they are ignorant of
> each
> > other when they should be cooperating or even fusing.
> >
> > What I want is for WP to have an object cache that is strong enough
> > that rendered pages could be cached, retrieved, optionally mixed with
> > dynamic content, served and appropriately invalidated using whatever
> > object cache client suits the setup.
> >
> > In order to be compatible with full-page caching, all code (including
> > themes, plugins, widgets, mods) must comply with several principles
> of
> > caching that just haven't been codified yet. So those standards would
> > have to be written and followed.
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From davebytes at comcast.net  Tue Apr 17 16:16:03 2007
From: davebytes at comcast.net (David Chait)
Date: Tue Apr 17 16:15:47 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
Message-ID: <4624F2C3.4030404@comcast.net>

And just to chime in, I agree that for high-volume sites, with complete 
dedi server control, you can make great use of APC/memcached on the 
'front end', BUT that can be tuned/balanced with effective use of the 
MySQL query cache -- ESPECIALLY if you have enough $$ to have a separate 
MySQL box (or four).  Then, in some cases, I can see the query cache 
being a big impact.  It depends on the ram in the two boxes, what's 
allocated to what.  Pulling over the lan out of ram should usually be 
faster than storing to disk, so if you are thrashing memcached ram 
storage for query/object caching on the front-end, you might be better 
off letting MySQL do it.  At least, that's my understanding -- I've 
never had a dedi box to try out on! ;)

Some quick notes for other readers.

1) memcached is a general persistant caching mechanism, that can store 
any serialized data in local ram for quick retrieval.  It's a great 
drop-in replacement for the default to-disk caching of the wp object 
cache.  there are a few other caching daemons (xcache for one).  
memcached actually is designed to allow the memory storage be remoted 
(to another box) which basically gives you ram-over-lan-based caching -- 
can be powerful if you want a big-ram box in back, with a lot of fast 
apache (or lighttpd, thttpd, etc.) servers in front, and mysql on the 
side. ;)

2) APC is a php 'opcode cache'.  it makes your PHP 'dynamic' code load 
and run quickly.  you need to tune its memory use properly from what I 
understand.  and, I've also read about people making APC network 
distributed too, though I'm not sure in what cases you'd win remoting an 
opcode cache's results vs regenerating locally.  There are other popular 
opcode caches, including I though Zend had one themselves (but I think 
Zend's is $$$, the others are usually free...).

So, two different parts of the equation, plus mysql query caching, gives 
you a 'hierarchy of caching mechanisms'.  Lots of places to tune.

However, just as a reminder, these solutions are only for dedi platforms 
-- they have zero impact on shared servers (well, you have no control, 
the host could use them if desired...).  And in some cases, some of them 
only make big impacts when you are talking multiple boxes.

Back to the original question. ;)  I wouldn't think MySQL object cache 
would be all that useful as a generalized cache, better to use 
memcached.  Again, zero experience, just from reading.  Then again, if 
you have a beefy-but-underused MySQL box, and a heavily-overused 
webserver, then yeah, I could see shifting data over to the db box being 
useful.  But at that point, why not just let the mysql query cache do 
its job, and get the object cache out of the way?

-d

Robert Deaton wrote:
> As far as I know, there isn't anything particularly wrong with using
> MySQL's query caching afaik. It would almost certainly be faster than
> file based caching, however there are advantages and disadvantages to
> each.
>
> The advantage of using MySQL is indeed using RAM, which is many
> magnitudes faster than disk based files. The disadvantage, however, is
> that you still have MySQL connection overhead, a limited number of
> connections to the MySQL server, etc. On a server expecting burst
> traffic or just flat out heavy traffic, its worthwhile to use the
> diskbased cache instead to relieve some of the stress from the MySQL
> server.
>
> It is because of this that I'd choose APC or memcached as a persistent
> object cache backend. Probably APC because there is no daemon there
> either, it can be stored straight to RAM and retrieved straight from
> RAM.
>
> Might want to get someone else's opinion on this one though.
>

From stevelle at gmail.com  Tue Apr 17 17:48:54 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Tue Apr 17 17:49:01 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <46240915.7050006@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>
	<46240915.7050006@jamietalbot.com>
Message-ID: <b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>

On 4/16/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
>
>
> In the trac ticket, it was initially thought that synonyms could be a
> feature added by a plugin.


At this point the API and upgrade patterns suggest that adding columns to
existing tables is a dangerous thing for plugins to attempt.  I wanted to at
least air that here.  It could be addressed a number of ways, but making
sure the topic is explored earlier then later seemed wise.

term_group bigint(10) NOT NULL default 0


I would suggest alias_term_id as a column name, but a self-join was my first
thought.  Using the word 'group' is very often a gateway to pain IME.  That
word is just too easily overloaded and vague, though the idea of using this
as a lever to achieve translation is clever I have to admit.  This solution
is distinct from the category type of hierarchy in that you only need to
manage a level of depth of 0 and 1.  That means when you add a new alias,
you only alias to root terms, not to aliases.  That simplifies the interface
and the data model tremendously.

Lookup by slug is easy.


Notice I slipped a trick into that one.  You don't know if 'products' is a
tag or a post category or ... based on the URL.  It isn't clear that we
should care.


> Lookup by both is still easy, but a bit more inefficient as you'd have to
> do an IN(term_ids) based on all the returned tags from the above query.


Couldn't you just self join, take the 'parent' term_id, and then lookup
objects based on that term_id?  No need for an IN clause if the 'parent'
term_id points at itself, as you suggested in your reply. Of course getting
that inserted id into the alias column is it's own challenge.  :)

-- 
SteveL
From robin.adr at gmail.com  Tue Apr 17 19:24:11 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Tue Apr 17 19:24:18 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <1EC012A4-0DE7-45E4-A05F-8AC208D99D00@red-sweater.com>
References: <46243793.2090103@comcast.net>
	<001101c780b1$5ad58d60$1080a820$@net>
	<1EC012A4-0DE7-45E4-A05F-8AC208D99D00@red-sweater.com>
Message-ID: <d135ca9c0704171224i1e68a8deuf3f08fb7ae25a6a@mail.gmail.com>

On 4/16/07, Daniel Jalkut <jalkut@red-sweater.com> wrote:
>
> On Apr 17, 2007, at 1:29 AM, Computer Guru wrote:
> > Not unless it can be made 100% compatible with all hosts - Windows
> > and IIS
> > included.
>
> What if it's included but as an option that can be turned off?


Why not just leave it a plugin, then? I personally can't use WP-Cache on my
host for reasons I won't get into here, so it would just be bloat for me and
all those other users who can't use WP-Cache (or choose not to), including
IIS/Windows people.

It's such a good option for the vast majority of people ... it's a
> real shame it's not in the main product.
>
> This is the one thing that my friends criticize WP for, and with good
> reason, I think.
>
> I always have to say, "*But* you can install wp-cache!" ...
>
> Daniel
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From false.hopes at gmail.com  Tue Apr 17 19:47:18 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Apr 17 19:47:24 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <e6ec604d0704170452g171dbde5p745442a78aad92df@mail.gmail.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
	<e6ec604d0704170452g171dbde5p745442a78aad92df@mail.gmail.com>
Message-ID: <a491f91d0704171247l1dafaad3jff861e98215bde0e@mail.gmail.com>

On 4/17/07, Andy Skelton <skeltoac@gmail.com> wrote:
> On 4/17/07, Robert Deaton <false.hopes@gmail.com> wrote:
> > The advantage of using MySQL is indeed using RAM, which is many
> > magnitudes faster than disk based files. The disadvantage, however, is
> > that you still have MySQL connection overhead, a limited number of
> > connections to the MySQL server, etc. On a server expecting burst
> > traffic or just flat out heavy traffic, its worthwhile to use the
> > diskbased cache instead to relieve some of the stress from the MySQL
> > server.
>
> There is no reason that this should cause additional connections.
> Memory tables can live in the same database as other types.

Sorry, I should have worded it better. What I was trying to say is
that, when you're trying to squeeze performance out, the overhead of
connections to the MySQL server is still there when using these sorts
of tables. For a site that's under heavy slashdot or digg traffic, for
example, its not uncommon to hit the mysql connection limit with your
scripts, whereas a diskbased or other non-MySQL method for persistent
object caching does not suffer this limitation.

> > It is because of this that I'd choose APC or memcached as a persistent
> > object cache backend. Probably APC because there is no daemon there
> > either, it can be stored straight to RAM and retrieved straight from
> > RAM.
>
> I have no personal experience with APC. For any setup that needs to
> scale beyond a single web server I would choose memcached. However,
> the idea was to replace the disk-based cache with something that (a)
> improves performance under load for the majority of installs
> (shared/VPS) and (b) can be enabled by default.
>
> Here is the horse's mouth:
> http://dev.mysql.com/doc/refman/4.1/en/memory-storage-engine.html
>
> And some highlights from the above:
> MEMORY tables use a fixed-length row storage format.

Yes, and for the size of the objects we'd like to cache, this may
hurt. char columns or binary columns can only have a length of up to
255. I guess theoretically we could do splitting in PHP and concat
them back out.

> MEMORY tables cannot contain BLOB or TEXT columns.

I believe that's a given due to the fixed-length row storage :)

> MEMORY tables are never converted to disk tables. To ensure that you
> don't accidentally do anything foolish, you can set the
> max_heap_table_size system variable to impose a maximum size on MEMORY
> tables. For individual tables, you can also specify a MAX_ROWS table
> option in the CREATE TABLE statement.


> Even if it were limited to 10-20 rows at 50-100k per row, that
> megabyte of RAM might be very useful for caching the ten or twenty
> pages that get the most views. Typically that's the front page and a
> few posts as rendered sans cookies.

Ah, caching whole pages? I didn't get that impression from your
original mail. Interesting thought.


-- 
--Robert Deaton
http://lushlab.com
From false.hopes at gmail.com  Tue Apr 17 19:48:46 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Apr 17 19:48:51 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <C0C00047-F0E5-4875-A54F-02862500A2C7@codehooligans.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
	<C0C00047-F0E5-4875-A54F-02862500A2C7@codehooligans.com>
Message-ID: <a491f91d0704171248r6bb22f39j5d7935cb29c45595@mail.gmail.com>

On 4/17/07, Paul Menard <codehooligans@codehooligans.com> wrote:
>
> On Apr 17, 2007, at 6:24 AM, Robert Deaton wrote:
> > It is because of this that I'd choose APC or memcached as a persistent
> > object cache backend. Probably APC because there is no daemon there
> > either, it can be stored straight to RAM and retrieved straight from
> > RAM.
>
> Robert, just wondering about your choice of words in the above. The
> way it's written you are almost stating APC is an alternate to using
> MySQL caching. In my development experience for high traffic sites
> these are two different technologies that can really compliment each
> other. My understanding of APC is it just caches the pre-compiled php
> object code for Apache. Which is better than having repeated requests
> for the same PHP page causing recompile from source every time. The
> actual WordPress page content is not stored as part of the object.
> This is just the PHP object code that still needs to be executed to
> build the output.

APC also has shared memory functions which can easily be used for an
object caching backend. Sorry to confuse, I just assumed that people
following the thread would know that.

-- 
--Robert Deaton
http://lushlab.com
From false.hopes at gmail.com  Tue Apr 17 20:25:05 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Apr 17 20:25:10 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <4624F2C3.4030404@comcast.net>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
	<4624F2C3.4030404@comcast.net>
Message-ID: <a491f91d0704171325r67b77090n68a9ec4934c8cce1@mail.gmail.com>

Okay, here's a few little tidbits from my experiences making WP scale
while keeping it on a single server. These won't be useful for shared
hosting, but the tidbits of information here might give you some
insight into why I say what I say. :)

1). APC alone will do wonders. I know this is no good for shared hosts
but if they got the hint, it'd be absolutely wonderful. As times goes
on, more and more shared hosts are and will be adpoting APC,
especially around the PHP6 launch which is supposed to have APC or an
equivalent object caching backend built in.

2). Tweaking MySQL's internal query cache options and size can do
wonders, however on a single box that expects to take a beating its
not enough. Something is going to be needed on the frontend to help
keep some of the load off the MySQL server for queries.

3). Don't bother using memcached on a single box. The APC backend for
WP's object cache will outperform it anyday, you don't need a seperate
daemon running to handle the requests.

4). Full page to disk caching does more harm than good on a server
that is expecting a beating, especially one like digg or slashdot. The
reason for this is that often times so many comments are posted that
the server is constantly having to regenerate these pages and write
them back to disk. Under heavy load, any moderately powered server
won't usually have a hard time keeping up as far as CPU time goes, its
file IO time, especially from disk (this is why APC helps immensely,
WordPress loads a metric asston of files from disk otherwise). Using
APC, the cost in CPU time for having to regenerate the pages easily
outweighs the cost of having to pull the PHP source from disk. It
isn't the recompilation that hurts WordPress the most, its disk IO.

5). lighttpd > Apache. The end.


Now that those are out of the way, what can we do to help the average
user on a shared host not kill the server?

I am not opposed to checking for the existance of sysvsem, sysvshm,
shmop, and APC, and attempting to use those as RAM storage. Writing
backends for each of them is fairly straightforward, and when loading
the object cache we could simply check for the existence of them and
automatically load the first one that matches what we need. A constant
in wp-config.php could be used to stop WordPress from automatically
loading one of these backends.

MySQL MEMORY for an object cache is also an option, but a potentially
risky one, especially for things like posts as they differ largely in
size, and we do have the fixed row limitation. I guess we could
implement it as an object cache and see how it performs, and try to
find a good balance between a size for all user's posts and a size
that doesn't eat too much unnecessary memory. I'm not sure, due to the
nature of only being able to store 255 chars in column, if using it to
do full page caches ala WP-Cache is a good option.

I believe there's some smaller optimizations that still may help. I
personally believe throwing all the files together into one giant
include would likely help. I also have a feeling that what Andy and I
have been discussing recently as far as on-demand function loading may
also help.

Our MySQL queries can still likely be optimized a bit, and this is key.

WP-Cache could use a rewrite from the ground up as well, imho. I wish
I had more time to take this project under, but perhaps I will anyways
in the coming weeks, or once summer starts.

There's a few other things but I think I've fueled this fire plenty
for the moment.

-- 
--Robert Deaton
http://lushlab.com
From timo.kissing+wordpress at gmail.com  Tue Apr 17 21:04:53 2007
From: timo.kissing+wordpress at gmail.com (Timo Kissing)
Date: Tue Apr 17 21:04:59 2007
Subject: [wp-hackers] Template tag parameters
Message-ID: <46253675.6050603@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Is there any specific reason why wp_loginout does not have the
parameters $before and $after (with the "li-defaults) like (for example)
wp_register? I know this is not a big problem, but since it makes sense
to have both wp_register and wp_loginout close to each other (and I
think in most themes I looked at they were right next to each other) it
would really be "better" for them to have the same interface.

Oh and while I am at it: Are there any plans to bring the different
parameters for some of the template tags "in line" (e.g. sort_column for
 wp_list_pages vs. orderby for get_posts)? I know this would possibly
break themes and/or plugins, but in the long run it would make theme and
plugin development more smooth. Maybe it would be best to allow both old
and new parameters for a while (with the new overriding the old if both
are set) and mark the old ones as deprecated in the code(x) and after a
while remove them completely.

Greetings,
Timo.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGJTZ1oLzpFOt4gucRAgnnAJ47ocwaEDRb/MSl4OhuULPcOJ08xwCeP2M/
5A99qEFKNxNec9VhCHsbn2A=
=IKdy
-----END PGP SIGNATURE-----
From computerguru at neosmart.net  Tue Apr 17 21:19:13 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 17 21:20:21 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <a491f91d0704171325r67b77090n68a9ec4934c8cce1@mail.gmail.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>	<4624F2C3.4030404@comcast.net>
	<a491f91d0704171325r67b77090n68a9ec4934c8cce1@mail.gmail.com>
Message-ID: <001b01c78136$1127b320$33771960$@net>

I do exactly that on my dedicated server (Window Server 2003, IIS 6, Tons of ISAPI Extensions) but the only difference being that I'm running IIS instead of Lighttpd, and eAccelerator instead of APC.

I know APC is the "standard," but it breaks many scripts (on my site, it's gallery2) so eAccelerator does the trick, and I find it to be just as fast and a bit lighter too.

In the past week, my site was (honored to be) on Slashdot's main page twice in 4 days, with the latter being a very highly popular article that's above normal for even the Slashdot effect (still, even now 3 days later). I finally had a chance to test out some of my tuning, and I'm really proud to say that WP survived without a single second of downtime :)

I'm not using WP-Cache or anything of that sort, and my blog issues 36-44 queries per requested page (thanks to WP's badly designed db layer that makes all these plugins issue separate queries for their stuff).

Just want to add a couple more things:
If you're using mod_gzip (or an IIS equivalent), make SURE it auto-disables under heavy load.
I'm using a proprietary IIS ISAPI extension that turns off gzip completely if CPU load hits 90% in order to free up cpu cycles for serving requests and dealing with the load.

On Windows, defragmenting actually makes a difference with regards to the amount of disk access needed to pull a file. I recommend PerfectDisk 8.

Switch your WP tables to Innodb. WP (by default) doesn't require any MyISAM-specific features. Innodb is far faster for most SQL usages (the exception being constant real-time logging of server requests, etc)

If you're using ISAPI PHP extensions, switch to FastCGI. If you're using CGI, that goes without saying. The first is because of reliability under load (PHP's ISAPI extensions are pure crap), the second is just pure performance. How-to: http://neosmart.net/blog/2007/opensource-on-windows-and-iis/

I benched lighttpd vs. IIS 6, and basically inconclusive results for issuing dynamic files. Once I expand to two servers however, I'll probably run lighttpd for serving downloads and images - big difference there!

I also have WP's inbuilt object caching enabled....

Thanks for your excellent tips, Robert. I think that about covers everything I've seen on the topic of enhancing WP performance without db caching..

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Robert Deaton
> Sent: Tuesday, April 17, 2007 11:25 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] MySQL MEMORY worth using for an object cache?
> 
> Okay, here's a few little tidbits from my experiences making WP scale
> while keeping it on a single server. These won't be useful for shared
> hosting, but the tidbits of information here might give you some
> insight into why I say what I say. :)
> 
> 1). APC alone will do wonders. I know this is no good for shared hosts
> but if they got the hint, it'd be absolutely wonderful. As times goes
> on, more and more shared hosts are and will be adpoting APC,
> especially around the PHP6 launch which is supposed to have APC or an
> equivalent object caching backend built in.
> 
> 2). Tweaking MySQL's internal query cache options and size can do
> wonders, however on a single box that expects to take a beating its
> not enough. Something is going to be needed on the frontend to help
> keep some of the load off the MySQL server for queries.
> 
> 3). Don't bother using memcached on a single box. The APC backend for
> WP's object cache will outperform it anyday, you don't need a seperate
> daemon running to handle the requests.
> 
> 4). Full page to disk caching does more harm than good on a server
> that is expecting a beating, especially one like digg or slashdot. The
> reason for this is that often times so many comments are posted that
> the server is constantly having to regenerate these pages and write
> them back to disk. Under heavy load, any moderately powered server
> won't usually have a hard time keeping up as far as CPU time goes, its
> file IO time, especially from disk (this is why APC helps immensely,
> WordPress loads a metric asston of files from disk otherwise). Using
> APC, the cost in CPU time for having to regenerate the pages easily
> outweighs the cost of having to pull the PHP source from disk. It
> isn't the recompilation that hurts WordPress the most, its disk IO.
> 
> 5). lighttpd > Apache. The end.
> 
> 
> Now that those are out of the way, what can we do to help the average
> user on a shared host not kill the server?
> 
> I am not opposed to checking for the existance of sysvsem, sysvshm,
> shmop, and APC, and attempting to use those as RAM storage. Writing
> backends for each of them is fairly straightforward, and when loading
> the object cache we could simply check for the existence of them and
> automatically load the first one that matches what we need. A constant
> in wp-config.php could be used to stop WordPress from automatically
> loading one of these backends.
> 
> MySQL MEMORY for an object cache is also an option, but a potentially
> risky one, especially for things like posts as they differ largely in
> size, and we do have the fixed row limitation. I guess we could
> implement it as an object cache and see how it performs, and try to
> find a good balance between a size for all user's posts and a size
> that doesn't eat too much unnecessary memory. I'm not sure, due to the
> nature of only being able to store 255 chars in column, if using it to
> do full page caches ala WP-Cache is a good option.
> 
> I believe there's some smaller optimizations that still may help. I
> personally believe throwing all the files together into one giant
> include would likely help. I also have a feeling that what Andy and I
> have been discussing recently as far as on-demand function loading may
> also help.
> 
> Our MySQL queries can still likely be optimized a bit, and this is key.
> 
> WP-Cache could use a rewrite from the ground up as well, imho. I wish
> I had more time to take this project under, but perhaps I will anyways
> in the coming weeks, or once summer starts.
> 
> There's a few other things but I think I've fueled this fire plenty
> for the moment.
> 
> --
> --Robert Deaton
> http://lushlab.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From CaptainN at unFocus.com  Tue Apr 17 21:42:26 2007
From: CaptainN at unFocus.com (Kevin Newman)
Date: Tue Apr 17 21:42:15 2007
Subject: [wp-hackers] State of WP
In-Reply-To: <71ddd7490704091054m2a4d109dr730e848be1c5885c@mail.gmail.com>
References: <000401c77ac7$678ddf20$36a99d60$@net>	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F0D@dsimail.drbsystems.com>
	<71ddd7490704091054m2a4d109dr730e848be1c5885c@mail.gmail.com>
Message-ID: <46253F42.8030303@unFocus.com>

Doug Stewart wrote:
> Actually, this brings up a topic that I've been mulling over for a
> bit: "federated" WordPress installations.  Obviously, there will be
> security ramifications, but what if you had the capability of creating
> a TRUE network of WP blogs on separate servers, blended between MU and
> WP.org codebases?  It would be very handy in corporate environments,
> for sure, but if security was Done Right, you could even organize such
> a thing on the public Internet.*  And no, OpenID won't suffice, as
> that's just identity-, not capability-driven.
>
> What if there were a SOAP/XML-RPC-esque interface wherein federated
> blogs could phone the authoritative server and request user
> capabilities, profile information, etc.?  Think of the
> possibilities...
>
>
> *Of course, the security considerations would be decidedly monstrous.
> Potentially so monstrous as to make the whole endeavor infeasible.  In
> which case, these aren't the droids you're looking for.  This email
> never existed.

You could use the wpOpenID plugin to set up your federation.

http://sourceforge.net/projects/wpopenid/
http://blog.verselogic.net/projects/wordpress/wordpress-openid-plugin/

The only thing missing is the ability to use your WP login as an OpenID 
for other servers. Someone made that work on WordPress MU though, so the 
code for it must be around somewhere.

Kevin N.



From davebytes at comcast.net  Tue Apr 17 22:22:28 2007
From: davebytes at comcast.net (David Chait)
Date: Tue Apr 17 22:21:49 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <d135ca9c0704171224i1e68a8deuf3f08fb7ae25a6a@mail.gmail.com>
References: <46243793.2090103@comcast.net>	<001101c780b1$5ad58d60$1080a820$@net>	<1EC012A4-0DE7-45E4-A05F-8AC208D99D00@red-sweater.com>
	<d135ca9c0704171224i1e68a8deuf3f08fb7ae25a6a@mail.gmail.com>
Message-ID: <462548A4.7020405@comcast.net>

I should have noted, I wasn't pushing for it to be integrated into the 
core code, as much as maintained as a packaged plugin -- maintained by 
the core WP team.

-d

Robin Adrianse wrote:
> On 4/16/07, Daniel Jalkut <jalkut@red-sweater.com> wrote:
>>
>> On Apr 17, 2007, at 1:29 AM, Computer Guru wrote:
>> > Not unless it can be made 100% compatible with all hosts - Windows
>> > and IIS
>> > included.
>>
>> What if it's included but as an option that can be turned off?
>
>
> Why not just leave it a plugin, then? I personally can't use WP-Cache 
> on my
> host for reasons I won't get into here, so it would just be bloat for 
> me and
> all those other users who can't use WP-Cache (or choose not to), 
> including
> IIS/Windows people.

From m at mullenweg.com  Tue Apr 17 22:23:47 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Apr 17 22:25:58 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <011101c78084$b0368570$6401a8c0@kergan>
References: <011101c78084$b0368570$6401a8c0@kergan>
Message-ID: <462548F3.1000001@mullenweg.com>

Denis de Bernardy wrote:
> Might be me, but... Why not use a sequence in common for the tables and
> database views artificially to merge their contents? Lack of features in
> MySQL?

Our baseline is MySQL 4.0.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From m at mullenweg.com  Tue Apr 17 22:26:58 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Apr 17 22:29:09 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <C0C00047-F0E5-4875-A54F-02862500A2C7@codehooligans.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
	<C0C00047-F0E5-4875-A54F-02862500A2C7@codehooligans.com>
Message-ID: <462549B2.7020107@mullenweg.com>

Paul Menard wrote:
> My 
> understanding of APC is it just caches the pre-compiled php object code 
> for Apache. 

APC adds some additional function to PHP that can be used for object 
caching.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From m at mullenweg.com  Tue Apr 17 22:38:03 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Apr 17 22:40:13 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <a491f91d0704171325r67b77090n68a9ec4934c8cce1@mail.gmail.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>	<4624F2C3.4030404@comcast.net>
	<a491f91d0704171325r67b77090n68a9ec4934c8cce1@mail.gmail.com>
Message-ID: <46254C4B.4030900@mullenweg.com>

Robert Deaton wrote:
> 4). Full page to disk caching does more harm than good on a server
> that is expecting a beating, especially one like digg or slashdot. The
> reason for this is that often times so many comments are posted that
> the server is constantly having to regenerate these pages and write
> them back to disk.

My experience has been the opposite. Make sure you have the latest 
wp-cache, a previous had a bug where it would invalidate the cache for 
spam comments and comments stuck in moderation. Perhaps turning 
moderation in the situation would help as well, but I've never run into 
that problem.

> I believe there's some smaller optimizations that still may help. I
> personally believe throwing all the files together into one giant
> include would likely help.

The only advantage to that over APC would be no stat calls to see if the 
file has changed. You can actually tell APC not to check if a file has 
changed, which means you have to restart it whenever you update a file, 
but we found that had little or no effect.

I think a far larger benefit would come from simply dividing WP's files 
up more so not everything is loaded for every request. A lot of 
functions are used only for the backend, or only for RSS, or only on 
non-RSS pages, and being smarter about what code we include I think can 
have a big impact. This is different from on-demand loading.

> WP-Cache could use a rewrite from the ground up as well, imho. I wish
> I had more time to take this project under, but perhaps I will anyways
> in the coming weeks, or once summer starts.

It would be great if it supported multiple backends, like WP's own 
cache. WP-cache + APC or memcache would be pretty potent.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From m at mullenweg.com  Tue Apr 17 22:43:12 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Apr 17 22:45:23 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
Message-ID: <46254D80.2040800@mullenweg.com>

Ryan Boren wrote:
> "taxonomy" is a string that can be 'post-category', 'link-category',
> or 'post-tag'.  Plugins can add their own taxonomy types.

How are URLs handled in this system?

Is the mapping of object_id to either post_id or link_id based on the 
taxonomy type?

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From if.website at gmail.com  Tue Apr 17 22:53:45 2007
From: if.website at gmail.com (Austin Matzko)
Date: Tue Apr 17 22:53:49 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <462549B2.7020107@mullenweg.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
	<C0C00047-F0E5-4875-A54F-02862500A2C7@codehooligans.com>
	<462549B2.7020107@mullenweg.com>
Message-ID: <674b4a3b0704171553o3dbd1d78n258bac01f135f7a4@mail.gmail.com>

On 4/17/07, Matt Mullenweg <m@mullenweg.com> wrote:
> APC adds some additional function to PHP that can be used for object
> caching.

I think Mark Jaquith wrote this plugin[1] to take advantage of that a
while back.  Has anyone used it with recent versions of WP?

[1] http://comox.textdrive.com/pipermail/wp-hackers/2006-February/004472.html
From m at mullenweg.com  Tue Apr 17 22:40:34 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Apr 17 23:11:53 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <001b01c78136$1127b320$33771960$@net>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>	<4624F2C3.4030404@comcast.net>	<a491f91d0704171325r67b77090n68a9ec4934c8cce1@mail.gmail.com>
	<001b01c78136$1127b320$33771960$@net>
Message-ID: <46254CE2.6090803@mullenweg.com>

Computer Guru wrote:
> my blog issues 36-44 queries per requested page (thanks to WP's badly designed db layer that makes all these plugins issue separate queries for their stuff).

That seems like a very odd thing to blame on WP, could you explain?

> Switch your WP tables to Innodb. WP (by default) doesn't require any MyISAM-specific features. Innodb is far faster for most SQL usages (the exception being constant real-time logging of server requests, etc)

I would recommend doing this, but only if you have innodb properly 
configured. The key settings are innodb_buffer_pool_size, 
innodb_additional_mem_pool_size, and innodb_flush_log_at_trx_commit.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From m at mullenweg.com  Tue Apr 17 23:29:19 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Tue Apr 17 23:31:29 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <46243793.2090103@comcast.net>
References: <46243793.2090103@comcast.net>
Message-ID: <4625584F.4000000@mullenweg.com>

David Chait wrote:
> Opinions?  Matt?  (since I think staticize was your baby originally, no?)

Having a built-in output cache could be very powerful for the growing 
number of WordPress users who are climbing to the top of the blogosphere.

There are a lot of issues to work out, as have been mentioned on this 
thread, so this is a good example of a project that needs a champion to 
take ownership of the issue and coordinate what needs to happen to get 
the plugin or functionality into a release like 2.3 or 2.4.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From false.hopes at gmail.com  Tue Apr 17 23:48:42 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Apr 17 23:48:47 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <674b4a3b0704171553o3dbd1d78n258bac01f135f7a4@mail.gmail.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
	<C0C00047-F0E5-4875-A54F-02862500A2C7@codehooligans.com>
	<462549B2.7020107@mullenweg.com>
	<674b4a3b0704171553o3dbd1d78n258bac01f135f7a4@mail.gmail.com>
Message-ID: <a491f91d0704171648r6bf88c8atc72ed994a7bfd47@mail.gmail.com>

On 4/17/07, Austin Matzko <if.website@gmail.com> wrote:
> On 4/17/07, Matt Mullenweg <m@mullenweg.com> wrote:
> > APC adds some additional function to PHP that can be used for object
> > caching.
>
> I think Mark Jaquith wrote this plugin[1] to take advantage of that a
> while back.  Has anyone used it with recent versions of WP?

This is what has been being discussed for using APC as an object cache backend.

-- 
--Robert Deaton
http://lushlab.com
From false.hopes at gmail.com  Tue Apr 17 23:51:31 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Tue Apr 17 23:51:36 2007
Subject: [wp-hackers] MySQL MEMORY worth using for an object cache?
In-Reply-To: <46254C4B.4030900@mullenweg.com>
References: <e6ec604d0704170411v33185ed1k81c3d5226ee78da2@mail.gmail.com>
	<a491f91d0704170424p17c49226t1338f92a7119f448@mail.gmail.com>
	<4624F2C3.4030404@comcast.net>
	<a491f91d0704171325r67b77090n68a9ec4934c8cce1@mail.gmail.com>
	<46254C4B.4030900@mullenweg.com>
Message-ID: <a491f91d0704171651t7ae38b23id173210b1b90cf0@mail.gmail.com>

On 4/17/07, Matt Mullenweg <m@mullenweg.com> wrote:
> Robert Deaton wrote:
> > 4). Full page to disk caching does more harm than good on a server
> > that is expecting a beating, especially one like digg or slashdot. The
> > reason for this is that often times so many comments are posted that
> > the server is constantly having to regenerate these pages and write
> > them back to disk.
>
> My experience has been the opposite. Make sure you have the latest
> wp-cache, a previous had a bug where it would invalidate the cache for
> spam comments and comments stuck in moderation. Perhaps turning
> moderation in the situation would help as well, but I've never run into
> that problem.

Its been a while since I've had to use WP-Cache or tried to use it. It
very well may be better now, or my differences could have always been
related to heavy disk access anyways which made WP-Cache on top just
seem to slow down even more. I've found on most hardware sites I've
had to optimize for end up being IO-bound, not CPU bound, so in most
cases trying to keep things off disk IO doesn't hurt.

> > I believe there's some smaller optimizations that still may help. I
> > personally believe throwing all the files together into one giant
> > include would likely help.
>
> The only advantage to that over APC would be no stat calls to see if the
> file has changed. You can actually tell APC not to check if a file has
> changed, which means you have to restart it whenever you update a file,
> but we found that had little or no effect.
>
> I think a far larger benefit would come from simply dividing WP's files
> up more so not everything is loaded for every request. A lot of
> functions are used only for the backend, or only for RSS, or only on
> non-RSS pages, and being smarter about what code we include I think can
> have a big impact. This is different from on-demand loading.

This is actually a part of what Andy and I have been talking about
recently. The discussion came up over a year ago as well, but nothing
ever came of it.

-- 
--Robert Deaton
http://lushlab.com
From zamoose at gmail.com  Wed Apr 18 03:07:57 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Wed Apr 18 03:08:03 2007
Subject: [wp-hackers] A "terms" table
In-Reply-To: <462548F3.1000001@mullenweg.com>
References: <011101c78084$b0368570$6401a8c0@kergan>
	<462548F3.1000001@mullenweg.com>
Message-ID: <71ddd7490704172007n6cc87dcew9fbb55e1bc569e52@mail.gmail.com>

On 4/17/07, Matt Mullenweg <m@mullenweg.com> wrote:
> Denis de Bernardy wrote:
> > Might be me, but... Why not use a sequence in common for the tables and
> > database views artificially to merge their contents? Lack of features in
> > MySQL?
>
> Our baseline is MySQL 4.0.
>

I thought post-2.2 we were looking to move to 4.1 as a baseline anyways...
-- 
-Doug

http://literalbarrage.org/blog/
From viper at viper007bond.com  Wed Apr 18 12:37:23 2007
From: viper at viper007bond.com (Viper007Bond)
Date: Wed Apr 18 12:37:29 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <4625584F.4000000@mullenweg.com>
References: <46243793.2090103@comcast.net> <4625584F.4000000@mullenweg.com>
Message-ID: <8f93a7390704180537k15f8b9c7q74e56944dd58695e@mail.gmail.com>

Couldn't agree more. I'd love to see a output caching system built in (or
even better, as a bundled plugin to make it modular). While WordPress can
run great under most circumstances, some blogs are just too dang popular to
run without a super computer. Having something that is essentially core, but
easily loadable / unloadable (a plugin) would solve this problem and make
WordPress even more feasible / desirable for large bloggers.

Case in point: I have a WP powered site that gets around a million hits a
month. While I know I could run it without WP-Cache, I'd rather put the CPU
to better use (like handling the site's forums which get around another
million or two hits a month). Not having to hack WP-Cache to work and
knowing for sure it'd support future versions would be a godsend.

On 4/17/07, Matt Mullenweg <m@mullenweg.com> wrote:
>
> David Chait wrote:
> > Opinions?  Matt?  (since I think staticize was your baby originally,
> no?)
>
> Having a built-in output cache could be very powerful for the growing
> number of WordPress users who are climbing to the top of the blogosphere.
>
> There are a lot of issues to work out, as have been mentioned on this
> thread, so this is a good example of a project that needs a champion to
> take ownership of the issue and coordinate what needs to happen to get
> the plugin or functionality into a release like 2.3 or 2.4.
>
> --
> Matt Mullenweg
>   http://photomatt.net | http://wordpress.org
> http://automattic.com | http://akismet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/
From supporto at pixline.net  Wed Apr 18 12:44:37 2007
From: supporto at pixline.net (Pixline)
Date: Wed Apr 18 12:44:44 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <8f93a7390704180537k15f8b9c7q74e56944dd58695e@mail.gmail.com>
References: <46243793.2090103@comcast.net> <4625584F.4000000@mullenweg.com>
	<8f93a7390704180537k15f8b9c7q74e56944dd58695e@mail.gmail.com>
Message-ID: <1F56DAA2-D49A-4333-93F0-57EA8EA56C45@pixline.net>

Il giorno 18/apr/07, alle ore 14:37, Viper007Bond ha scritto:
> Having something that is essentially core, but
> easily loadable / unloadable (a plugin) would solve this problem  
> and make
> WordPress even more feasible / desirable for large bloggers.

I think that a mixed/layered approach like WPcache plus/or APC plus/ 
or throttle [1] would be a really broad range of ways to deal with  
traffic bumps..
We could also borrow the way throttle deal with load to apply  
different caching strategies, either configurable with some options  
or not.
The throttle plugin is 'under consideration' in wp ideas [2] ; i'm  
using it, but I did not had any useful load to test it (until  
now :-) . Apart from that, its logic seems to me a good and layered  
approach, useful to face the whole problem, imho.

[1] http://www.mutube.com/projects/wordpress/throttle/
[2] http://wordpress.org/extend/ideas/topic.php?id=498&page&replies=1


Regards,
Paolo
------------------------------------
Pixline Freelance Network
http://pixline.net



From wphackers at jamietalbot.com  Wed Apr 18 12:45:27 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Wed Apr 18 12:46:01 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>	<46240915.7050006@jamietalbot.com>
	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
Message-ID: <462612E7.5070909@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Steve Lewis wrote:
> On 4/16/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
>>
>>
> At this point the API and upgrade patterns suggest that adding columns to
> existing tables is a dangerous thing for plugins to attempt.  I wanted
> to at
> least air that here.  It could be addressed a number of ways, but making
> sure the topic is explored earlier then later seemed wise.

Sure.  I think this column might actually be a valuable addition to the core myself, but will leave
that decision to those with authority.

> term_group bigint(10) NOT NULL default 0
> 
> I would suggest alias_term_id as a column name, but a self-join was my
> first thought.  Using the word 'group' is very often a gateway to pain IME.  That
> word is just too easily overloaded and vague, though the idea of using this
> as a lever to achieve translation is clever I have to admit.  This solution
> is distinct from the category type of hierarchy in that you only need to
> manage a level of depth of 0 and 1.  That means when you add a new alias,
> you only alias to root terms, not to aliases.  That simplifies the
> interface and the data model tremendously.

I think perhaps my original example was a little unclear.  The alias_term_id is not intended to be a
reference to a term_id, it is its own value that only makes sense in that column.  I would normally
agree with you about 'group', In this context, I would say that alias group is conceptually clearer.
 For example

1 Cities	cities		0
2 Products	products 	1
3 Projects	projects	1

The '1' in the third column signifies that they are in the same 'alias group' - it doesn't relate to
the row with a term_id of '1'.  The general pseudocode for adding an alias is:

Is the term I want to make an alias of already in an 'alias group'?
Yes:
	Add my new term with that same 'alias group'.
No:
	Select the next available 'alias group' (MAX() + 1 maybe)
	Update the existing term with the new 'alias group'
	Add my new term with that same 'alias group'.

Too many inverted commas but you get the idea.  There's no depth level at all - you're in an alias
group, or you're not.  Maintaining a 1-level hierarchy implies that the first term is the 'master'.
 What happens if you delete it?  In this scheme, it doesn't matter.  That's my take on it anyway.
You could make the column NULL by default, instead of 0, which simplifies certain operations, but is
slower (NOT NULL is virtually always faster).

>> Lookup by slug is easy.
>
> Notice I slipped a trick into that one.  You don't know if 'products' is a
> tag or a post category or ... based on the URL.  It isn't clear that we
> should care.

That's true, if you ignore the fact that category URLs will be prepended by category/, and tag URLs
by tag/.  Given that those bases exist though, I think we should be safe.

>> Lookup by both is still easy, but a bit more inefficient as you'd have to
>> do an IN(term_ids) based on all the returned tags from the above query.
>  
> Couldn't you just self join, take the 'parent' term_id, and then lookup
> objects based on that term_id?  No need for an IN clause if the 'parent'
> term_id points at itself, as you suggested in your reply. Of course getting
> that inserted id into the alias column is it's own challenge.  :)

There isn't a parent term_id (see above).  You'd do your self join to get all ids of the aliases of
the specified term, then use that in an IN() clause to filter only the posts/links that you wanted
from the term_references table.

Not many people have commented on this thread, despite the large number of people who were vocally
opposed to the existing schema.  Does this mean people approve of this new, suggested direction, or
are there any better solutions out there?

Cheers,

Jamie.

- --
http://jamietalbot.com
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGJhLnrovxfShShFARAmqEAJ4g1g7s1cVytkHbpzqDJiavj7EQPACfV6lt
lYyrWsKErMOdFIZIzosoay0=
=W+GW
-----END PGP SIGNATURE-----
From viper at viper007bond.com  Wed Apr 18 12:46:58 2007
From: viper at viper007bond.com (Viper007Bond)
Date: Wed Apr 18 12:47:04 2007
Subject: [wp-hackers] How to display one thing for the_content() and another
	for the_excerpt() ?
Message-ID: <8f93a7390704180546w7cdcb797i412349f08f238bcb@mail.gmail.com>

I have a post with some placeholder text. I want to replace the placeholder
with one bit of HTML for the_content() and another bit of HTML for
the_excerpt().

This works fine and dandy when the user has manually entered some excerpt
text. However, when WordPress generates it's own excerpt based on the post,
what happens from what I can tell is this:

1. Post content is grabbed from the database
2. Content run through "the_content" and placeholder is replaced with some
HTML due to my filter
3. HTML is stripped for excerpt purposes
4. Content is run through "the_excerpt" at which time there is nothing left
to search for to replace

What can I do? Is there some way to dynamically run "the_content" based on
whether we're making an excerpt or not?

I mean, I guess I could always use a is_archive() check as the_excerpt()
will only be on archive pages (like categories) for this client, but that's
not ideal as it's cheating.

-- 
Viper007Bond | http://www.viper007bond.com/
From supporto at pixline.net  Wed Apr 18 12:53:26 2007
From: supporto at pixline.net (Pixline)
Date: Wed Apr 18 12:53:34 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <462612E7.5070909@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>	<46240915.7050006@jamietalbot.com>
	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
	<462612E7.5070909@jamietalbot.com>
Message-ID: <DFB13F8E-5D41-4FD3-B026-D5D8FEA6B068@pixline.net>

18/apr/07, 14:45, Jamie Talbot:

> Not many people have commented on this thread, despite the large  
> number of people who were vocally
> opposed to the existing schema.  Does this mean people approve of  
> this new, suggested direction, or
> are there any better solutions out there?
By my side, I'm just reading on and on, learning a whole bunch of  
things about db design that I didn't know.
So I'm here, sitting, in mute-mode, and taking notes :-)

My worthless opinion is that,  if categories aren't tags and tags  
aren't categories, I don't understand why I find mixed categories and  
tags in the manage-> categories page, as well as on the dashboard, so  
I think that splitting in some way would work fine. Apart from that,  
db is not my favourite playground,  so I'm really not able to say  
anything about that design. Just sitting and learning (and lurking,  
in this case..).

Paolo
------------------------------------
Pixline Freelance Network
http://pixline.net



From if.website at gmail.com  Wed Apr 18 13:06:08 2007
From: if.website at gmail.com (Austin Matzko)
Date: Wed Apr 18 13:06:20 2007
Subject: [wp-hackers] How to display one thing for the_content() and
	another for the_excerpt() ?
In-Reply-To: <8f93a7390704180546w7cdcb797i412349f08f238bcb@mail.gmail.com>
References: <8f93a7390704180546w7cdcb797i412349f08f238bcb@mail.gmail.com>
Message-ID: <674b4a3b0704180606x1d55b83btb5d21b37d28a47b5@mail.gmail.com>

On 4/18/07, Viper007Bond <viper@viper007bond.com> wrote:
> I have a post with some placeholder text. I want to replace the placeholder
> with one bit of HTML for the_content() and another bit of HTML for
> the_excerpt().
>
> [snip]
>
> What can I do? Is there some way to dynamically run "the_content" based on
> whether we're making an excerpt or not?

It looks like WP calls wp_trim_excerpt, the function that generates
the excerpt, for the 'get_the_excerpt' filter.  Why don't you just
remove that function from the filter and add your own function, one
that doesn't filter the text with 'the_content'?
From wphackers at jamietalbot.com  Wed Apr 18 13:06:01 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Wed Apr 18 13:09:39 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <46254D80.2040800@mullenweg.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<46254D80.2040800@mullenweg.com>
Message-ID: <462617B9.3040206@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Matt Mullenweg wrote:
> Ryan Boren wrote:
>> "taxonomy" is a string that can be 'post-category', 'link-category',
>> or 'post-tag'.  Plugins can add their own taxonomy types.
> 
> How are URLs handled in this system?

We'll still have the category base and tag base, right?  In which case, won't they just work as they
do now?  anything site.tld/category/my_term/ would be queried as a post_category, anything
site.tld/tag/my_term/ would be queried as a post_tag.  At least, that's how I understood Ryan's
suggestion.

> Is the mapping of object_id to either post_id or link_id based on the
> taxonomy type?

It would be cool if it was loosely coupled enough that we could map a term to whatever object in
whatever taxonomy we wanted.  You'd probably say that the core functions would always add
link_category terms to links and post_category terms to posts, but we don't have to enforce this on
plugins.  That way, a plugin could add my_future_taxonomy which was applicable to posts, pages,
links and attachments (or any combination of those).  If a plugin has a good reason to add a
post_category term to a link, or a link_category to an attachment (though I'm not saying I can think
of one), then it should be allowed to.

Cheers,

Jamie.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGJhe4rovxfShShFARAkvRAJ9jviphp3wiWBuANroOYylwuPfibwCfZ39q
DYTwhfcjJAkcH4T/uvDZP+A=
=U1f2
-----END PGP SIGNATURE-----
From hovercrafter at earthlink.net  Wed Apr 18 13:33:07 2007
From: hovercrafter at earthlink.net (Jamie Holly)
Date: Wed Apr 18 13:33:22 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <8f93a7390704180537k15f8b9c7q74e56944dd58695e@mail.gmail.com>
References: <46243793.2090103@comcast.net> <4625584F.4000000@mullenweg.com>
	<8f93a7390704180537k15f8b9c7q74e56944dd58695e@mail.gmail.com>
Message-ID: <000601c781be$19e29ec0$4da7dc40$@net>

I agree 1000%. I do the tech work on two sites. One is averaging 250,000
hits a day and the other about 120,000 hits a day. Without running wp-cache,
our 8 core server dies. We also aren't running that many plugins, and the
ones we are have been run through the mill on profiling and not causing any
significant load. We also have a small shell script that runs, which
downloads the front page and generates an index.html for it to keep loads
down (which is a must for us), as well as using feedburner to handle the
additional 100,000+ feed subscribers for both sites. 

One thing I think would help out a lot is to re-examine the filters. The
larger blog, we are using Haloscan. The smaller one is using WP-Comments,
and that one gets anywhere from 200-600 comments per post (with 8-10 posts
per day). On that site I changed the comments so they run off AJAX to help
with the load. I have a refresh comments script that reloads the newer
comments (which does not load the wp-core, but rather contains all the
filter functions within the single file and generates the output). It also
does comment posting via AJAX, but I still load the core in that to handle
posting better.

With all that said, it seems that we might be wasting a lot on comment
filtering. For every comment on every page we look at these filters being
loaded:

add_filter('comment_author', 'wptexturize');
add_filter('comment_author', 'convert_chars');
add_filter('comment_author', 'wp_specialchars');

add_filter('comment_email', 'antispambot');

add_filter('comment_flood_filter', 'wp_throttle_comment_flood', 10, 3);

add_filter('comment_url', 'clean_url');

add_filter('comment_text', 'convert_chars');
add_filter('comment_text', 'make_clickable', 9);
add_filter('comment_text', 'force_balance_tags', 25);
add_filter('comment_text', 'wpautop', 30);
add_filter('comment_text', 'convert_smilies', 20);

I have been toying with ideas in my mind to call those before the comment is
saved and then don't call it when the page is viewed. The big problem is
that we have close to 1,000,000 comments in the database right now, so I
need to come up with a way for Wordpress to tell if the comment has been
filtered (possible Boolean added to each comment - is_filtered), and then
using a cron job to filter out X amount of comments every Y minutes until
everything is caught up.

I did see a ticket awhile back for the same filter rearrangement to take
place on posts also and it seemed to be a very popular idea.

Something else I saw Matt mention in this thread was making WP more modular
to that it only loads what is needed versus the entire core. This is
something else that can help out a lot and I would like to see plugin
authors take the same approach. Some plugins require a lot of coding for the
admin code then very little for the actual page generation code. Having PHP
load and compile that admin code on every page view is a waste. It would be
better to move plugins to their own directory and do something as simple as
having the main plugin file load then if the user is on an admin page, load
the file containing all admin related code. 



Jamie Holly
http://www.intoxination.net
> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Viper007Bond
> Sent: Wednesday, April 18, 2007 8:37 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] should (can?) wp-cache be adopted into the
> core?
> 
> Couldn't agree more. I'd love to see a output caching system built in
> (or
> even better, as a bundled plugin to make it modular). While WordPress
> can
> run great under most circumstances, some blogs are just too dang
> popular to
> run without a super computer. Having something that is essentially
> core, but
> easily loadable / unloadable (a plugin) would solve this problem and
> make
> WordPress even more feasible / desirable for large bloggers.
> 
> Case in point: I have a WP powered site that gets around a million hits
> a
> month. While I know I could run it without WP-Cache, I'd rather put the
> CPU
> to better use (like handling the site's forums which get around another
> million or two hits a month). Not having to hack WP-Cache to work and
> knowing for sure it'd support future versions would be a godsend.
> 
> On 4/17/07, Matt Mullenweg <m@mullenweg.com> wrote:
> >
> > David Chait wrote:
> > > Opinions?  Matt?  (since I think staticize was your baby
> originally,
> > no?)
> >
> > Having a built-in output cache could be very powerful for the growing
> > number of WordPress users who are climbing to the top of the
> blogosphere.
> >
> > There are a lot of issues to work out, as have been mentioned on this
> > thread, so this is a good example of a project that needs a champion
> to
> > take ownership of the issue and coordinate what needs to happen to
> get
> > the plugin or functionality into a release like 2.3 or 2.4.
> >
> > --
> > Matt Mullenweg
> >   http://photomatt.net | http://wordpress.org
> > http://automattic.com | http://akismet.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> --
> Viper007Bond | http://www.viper007bond.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From viper at viper007bond.com  Wed Apr 18 13:27:30 2007
From: viper at viper007bond.com (Viper007Bond)
Date: Wed Apr 18 13:57:42 2007
Subject: [wp-hackers] How to display one thing for the_content() and
	another for the_excerpt() ?
In-Reply-To: <674b4a3b0704180606x1d55b83btb5d21b37d28a47b5@mail.gmail.com>
References: <8f93a7390704180546w7cdcb797i412349f08f238bcb@mail.gmail.com>
	<674b4a3b0704180606x1d55b83btb5d21b37d28a47b5@mail.gmail.com>
Message-ID: <8f93a7390704180627t205b848ct547cad954cbbd41d@mail.gmail.com>

Oooooh, I knew wp_trim_excerpt() ran, but I didn't realize it was the one
that faked the excerpt if need be (and therefore I could clone it).

Perfect. Thanks!

On 4/18/07, Austin Matzko <if.website@gmail.com> wrote:
>
> On 4/18/07, Viper007Bond <viper@viper007bond.com> wrote:
> > I have a post with some placeholder text. I want to replace the
> placeholder
> > with one bit of HTML for the_content() and another bit of HTML for
> > the_excerpt().
> >
> > [snip]
> >
> > What can I do? Is there some way to dynamically run "the_content" based
> on
> > whether we're making an excerpt or not?
>
> It looks like WP calls wp_trim_excerpt, the function that generates
> the excerpt, for the 'get_the_excerpt' filter.  Why don't you just
> remove that function from the filter and add your own function, one
> that doesn't filter the text with 'the_content'?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/
From computerguru at neosmart.net  Wed Apr 18 15:03:27 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Wed Apr 18 15:04:37 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <000601c781be$19e29ec0$4da7dc40$@net>
References: <46243793.2090103@comcast.net>
	<4625584F.4000000@mullenweg.com>	<8f93a7390704180537k15f8b9c7q74e56944dd58695e@mail.gmail.com>
	<000601c781be$19e29ec0$4da7dc40$@net>
Message-ID: <002801c781ca$b9fbeae0$2df3c0a0$@net>

Jamie, that's really weird.

For the month of March, I was averaging 375k hits a day on my one server, on
a single-core P4 2.8GHz, with about 260k of those going to WP, the rest to
various DB-intensive things like Gallery2 and the forum.
(http://neosmart.net/ && http://neosmart.net/blog/) 

This is just a single server, tons of plugins, MySQL, IIS, URL Rewriters, no
AJAX, etc.

Like I said in my previous email, I'm not using any SQL-caching techniques. 
Disable unneeded/unused PHP extensions (or if on *nix, recompile without
them). Are you using APC/eAccelerator?

You shouldn't need 8 cores for < 400k hits/day, esp. seeing as you're
offloading comments to HS.

If you want to discuss this further, feel free to hit me off-list.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Jamie Holly
> Sent: Wednesday, April 18, 2007 4:33 PM
> To: wp-hackers@lists.automattic.com
> Subject: RE: [wp-hackers] should (can?) wp-cache be adopted into the
> core?
> 
> I agree 1000%. I do the tech work on two sites. One is averaging
> 250,000
> hits a day and the other about 120,000 hits a day. Without running wp-
> cache,
> our 8 core server dies. We also aren't running that many plugins, and
> the
> ones we are have been run through the mill on profiling and not causing
> any
> significant load. We also have a small shell script that runs, which
> downloads the front page and generates an index.html for it to keep
> loads
> down (which is a must for us), as well as using feedburner to handle
> the
> additional 100,000+ feed subscribers for both sites.
> 
> One thing I think would help out a lot is to re-examine the filters.
> The
> larger blog, we are using Haloscan. The smaller one is using WP-
> Comments,
> and that one gets anywhere from 200-600 comments per post (with 8-10
> posts
> per day). On that site I changed the comments so they run off AJAX to
> help
> with the load. I have a refresh comments script that reloads the newer
> comments (which does not load the wp-core, but rather contains all the
> filter functions within the single file and generates the output). It
> also
> does comment posting via AJAX, but I still load the core in that to
> handle
> posting better.
> 
> With all that said, it seems that we might be wasting a lot on comment
> filtering. For every comment on every page we look at these filters
> being
> loaded:
> 
> add_filter('comment_author', 'wptexturize');
> add_filter('comment_author', 'convert_chars');
> add_filter('comment_author', 'wp_specialchars');
> 
> add_filter('comment_email', 'antispambot');
> 
> add_filter('comment_flood_filter', 'wp_throttle_comment_flood', 10, 3);
> 
> add_filter('comment_url', 'clean_url');
> 
> add_filter('comment_text', 'convert_chars');
> add_filter('comment_text', 'make_clickable', 9);
> add_filter('comment_text', 'force_balance_tags', 25);
> add_filter('comment_text', 'wpautop', 30);
> add_filter('comment_text', 'convert_smilies', 20);
> 
> I have been toying with ideas in my mind to call those before the
> comment is
> saved and then don't call it when the page is viewed. The big problem
> is
> that we have close to 1,000,000 comments in the database right now, so
> I
> need to come up with a way for Wordpress to tell if the comment has
> been
> filtered (possible Boolean added to each comment - is_filtered), and
> then
> using a cron job to filter out X amount of comments every Y minutes
> until
> everything is caught up.
> 
> I did see a ticket awhile back for the same filter rearrangement to
> take
> place on posts also and it seemed to be a very popular idea.
> 
> Something else I saw Matt mention in this thread was making WP more
> modular
> to that it only loads what is needed versus the entire core. This is
> something else that can help out a lot and I would like to see plugin
> authors take the same approach. Some plugins require a lot of coding
> for the
> admin code then very little for the actual page generation code. Having
> PHP
> load and compile that admin code on every page view is a waste. It
> would be
> better to move plugins to their own directory and do something as
> simple as
> having the main plugin file load then if the user is on an admin page,
> load
> the file containing all admin related code.
> 
> 
> 
> Jamie Holly
> http://www.intoxination.net
> > -----Original Message-----
> > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > bounces@lists.automattic.com] On Behalf Of Viper007Bond
> > Sent: Wednesday, April 18, 2007 8:37 AM
> > To: wp-hackers@lists.automattic.com
> > Subject: Re: [wp-hackers] should (can?) wp-cache be adopted into the
> > core?
> >
> > Couldn't agree more. I'd love to see a output caching system built in
> > (or
> > even better, as a bundled plugin to make it modular). While WordPress
> > can
> > run great under most circumstances, some blogs are just too dang
> > popular to
> > run without a super computer. Having something that is essentially
> > core, but
> > easily loadable / unloadable (a plugin) would solve this problem and
> > make
> > WordPress even more feasible / desirable for large bloggers.
> >
> > Case in point: I have a WP powered site that gets around a million
> hits
> > a
> > month. While I know I could run it without WP-Cache, I'd rather put
> the
> > CPU
> > to better use (like handling the site's forums which get around
> another
> > million or two hits a month). Not having to hack WP-Cache to work and
> > knowing for sure it'd support future versions would be a godsend.
> >
> > On 4/17/07, Matt Mullenweg <m@mullenweg.com> wrote:
> > >
> > > David Chait wrote:
> > > > Opinions?  Matt?  (since I think staticize was your baby
> > originally,
> > > no?)
> > >
> > > Having a built-in output cache could be very powerful for the
> growing
> > > number of WordPress users who are climbing to the top of the
> > blogosphere.
> > >
> > > There are a lot of issues to work out, as have been mentioned on
> this
> > > thread, so this is a good example of a project that needs a
> champion
> > to
> > > take ownership of the issue and coordinate what needs to happen to
> > get
> > > the plugin or functionality into a release like 2.3 or 2.4.
> > >
> > > --
> > > Matt Mullenweg
> > >   http://photomatt.net | http://wordpress.org
> > > http://automattic.com | http://akismet.com
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > Viper007Bond | http://www.viper007bond.com/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From hovercrafter at earthlink.net  Wed Apr 18 15:22:47 2007
From: hovercrafter at earthlink.net (Jamie Holly)
Date: Wed Apr 18 15:23:32 2007
Subject: [wp-hackers] should (can?) wp-cache be adopted into the core?
In-Reply-To: <002801c781ca$b9fbeae0$2df3c0a0$@net>
References: <46243793.2090103@comcast.net>	<4625584F.4000000@mullenweg.com>	<8f93a7390704180537k15f8b9c7q74e56944dd58695e@mail.gmail.com>	<000601c781be$19e29ec0$4da7dc40$@net>
	<002801c781ca$b9fbeae0$2df3c0a0$@net>
Message-ID: <002f01c781cd$6b8b7990$42a26cb0$@net>

We were handling decent on 4 cores, we just upgraded to 8 because of a great
deal we got, plus we have 2 more sites going online (1 WP, 1 Drupal) that
will most likely push us to over 1,000,000 hits a day (these are all
political sites and as next year's elections get closer, the hits
skyrocket). 

We also have a lot of media stuff that gets downloaded (generally 2
terabytes a week), so that adds a lot into things.

The site we use HS on never really causes problems. The biggest problem
comes from the site that has all the WP commenting on (which gets about 1/2
the hits).

We are running EAccelerator on it and that has helped out a lot. We keep it
so the cache only expires once every 12 hours. I just go through and
manually dump it if needed (through the included web interface). We are also
using MySql's caching mechanisms. 

Jamie Holly
http://www.intoxination.net

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Computer Guru
> Sent: Wednesday, April 18, 2007 11:03 AM
> To: wp-hackers@lists.automattic.com
> Subject: RE: [wp-hackers] should (can?) wp-cache be adopted into the
> core?
> 
> Jamie, that's really weird.
> 
> For the month of March, I was averaging 375k hits a day on my one
> server, on
> a single-core P4 2.8GHz, with about 260k of those going to WP, the rest
> to
> various DB-intensive things like Gallery2 and the forum.
> (http://neosmart.net/ && http://neosmart.net/blog/)
> 
> This is just a single server, tons of plugins, MySQL, IIS, URL
> Rewriters, no
> AJAX, etc.
> 
> Like I said in my previous email, I'm not using any SQL-caching
> techniques.
> Disable unneeded/unused PHP extensions (or if on *nix, recompile
> without
> them). Are you using APC/eAccelerator?
> 
> You shouldn't need 8 cores for < 400k hits/day, esp. seeing as you're
> offloading comments to HS.
> 
> If you want to discuss this further, feel free to hit me off-list.
> 
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
> 
> 
> > -----Original Message-----
> > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > bounces@lists.automattic.com] On Behalf Of Jamie Holly
> > Sent: Wednesday, April 18, 2007 4:33 PM
> > To: wp-hackers@lists.automattic.com
> > Subject: RE: [wp-hackers] should (can?) wp-cache be adopted into the
> > core?
> >
> > I agree 1000%. I do the tech work on two sites. One is averaging
> > 250,000
> > hits a day and the other about 120,000 hits a day. Without running
> wp-
> > cache,
> > our 8 core server dies. We also aren't running that many plugins, and
> > the
> > ones we are have been run through the mill on profiling and not
> causing
> > any
> > significant load. We also have a small shell script that runs, which
> > downloads the front page and generates an index.html for it to keep
> > loads
> > down (which is a must for us), as well as using feedburner to handle
> > the
> > additional 100,000+ feed subscribers for both sites.
> >
> > One thing I think would help out a lot is to re-examine the filters.
> > The
> > larger blog, we are using Haloscan. The smaller one is using WP-
> > Comments,
> > and that one gets anywhere from 200-600 comments per post (with 8-10
> > posts
> > per day). On that site I changed the comments so they run off AJAX to
> > help
> > with the load. I have a refresh comments script that reloads the
> newer
> > comments (which does not load the wp-core, but rather contains all
> the
> > filter functions within the single file and generates the output). It
> > also
> > does comment posting via AJAX, but I still load the core in that to
> > handle
> > posting better.
> >
> > With all that said, it seems that we might be wasting a lot on
> comment
> > filtering. For every comment on every page we look at these filters
> > being
> > loaded:
> >
> > add_filter('comment_author', 'wptexturize');
> > add_filter('comment_author', 'convert_chars');
> > add_filter('comment_author', 'wp_specialchars');
> >
> > add_filter('comment_email', 'antispambot');
> >
> > add_filter('comment_flood_filter', 'wp_throttle_comment_flood', 10,
> 3);
> >
> > add_filter('comment_url', 'clean_url');
> >
> > add_filter('comment_text', 'convert_chars');
> > add_filter('comment_text', 'make_clickable', 9);
> > add_filter('comment_text', 'force_balance_tags', 25);
> > add_filter('comment_text', 'wpautop', 30);
> > add_filter('comment_text', 'convert_smilies', 20);
> >
> > I have been toying with ideas in my mind to call those before the
> > comment is
> > saved and then don't call it when the page is viewed. The big problem
> > is
> > that we have close to 1,000,000 comments in the database right now,
> so
> > I
> > need to come up with a way for Wordpress to tell if the comment has
> > been
> > filtered (possible Boolean added to each comment - is_filtered), and
> > then
> > using a cron job to filter out X amount of comments every Y minutes
> > until
> > everything is caught up.
> >
> > I did see a ticket awhile back for the same filter rearrangement to
> > take
> > place on posts also and it seemed to be a very popular idea.
> >
> > Something else I saw Matt mention in this thread was making WP more
> > modular
> > to that it only loads what is needed versus the entire core. This is
> > something else that can help out a lot and I would like to see plugin
> > authors take the same approach. Some plugins require a lot of coding
> > for the
> > admin code then very little for the actual page generation code.
> Having
> > PHP
> > load and compile that admin code on every page view is a waste. It
> > would be
> > better to move plugins to their own directory and do something as
> > simple as
> > having the main plugin file load then if the user is on an admin
> page,
> > load
> > the file containing all admin related code.
> >
> >
> >
> > Jamie Holly
> > http://www.intoxination.net
> > > -----Original Message-----
> > > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > > bounces@lists.automattic.com] On Behalf Of Viper007Bond
> > > Sent: Wednesday, April 18, 2007 8:37 AM
> > > To: wp-hackers@lists.automattic.com
> > > Subject: Re: [wp-hackers] should (can?) wp-cache be adopted into
> the
> > > core?
> > >
> > > Couldn't agree more. I'd love to see a output caching system built
> in
> > > (or
> > > even better, as a bundled plugin to make it modular). While
> WordPress
> > > can
> > > run great under most circumstances, some blogs are just too dang
> > > popular to
> > > run without a super computer. Having something that is essentially
> > > core, but
> > > easily loadable / unloadable (a plugin) would solve this problem
> and
> > > make
> > > WordPress even more feasible / desirable for large bloggers.
> > >
> > > Case in point: I have a WP powered site that gets around a million
> > hits
> > > a
> > > month. While I know I could run it without WP-Cache, I'd rather put
> > the
> > > CPU
> > > to better use (like handling the site's forums which get around
> > another
> > > million or two hits a month). Not having to hack WP-Cache to work
> and
> > > knowing for sure it'd support future versions would be a godsend.
> > >
> > > On 4/17/07, Matt Mullenweg <m@mullenweg.com> wrote:
> > > >
> > > > David Chait wrote:
> > > > > Opinions?  Matt?  (since I think staticize was your baby
> > > originally,
> > > > no?)
> > > >
> > > > Having a built-in output cache could be very powerful for the
> > growing
> > > > number of WordPress users who are climbing to the top of the
> > > blogosphere.
> > > >
> > > > There are a lot of issues to work out, as have been mentioned on
> > this
> > > > thread, so this is a good example of a project that needs a
> > champion
> > > to
> > > > take ownership of the issue and coordinate what needs to happen
> to
> > > get
> > > > the plugin or functionality into a release like 2.3 or 2.4.
> > > >
> > > > --
> > > > Matt Mullenweg
> > > >   http://photomatt.net | http://wordpress.org
> > > > http://automattic.com | http://akismet.com
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers@lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > >
> > >
> > >
> > > --
> > > Viper007Bond | http://www.viper007bond.com/
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From marcok at redesol.org  Wed Apr 18 16:25:08 2007
From: marcok at redesol.org (=?ISO-8859-1?Q?Marco_Ant=F4nio_Konopacki_-_Projeto_RHODES?=)
Date: Wed Apr 18 16:25:22 2007
Subject: [wp-hackers] Category Order
Message-ID: <46264664.2090101@redesol.org>

Hi all,

It's my first post in this list and I'd like to present myself: My name 
is Marco, developer from Brazil and a Wordpress enthusiastic :D I've 
contributed for many OpenSource projects like Mono (www.go-mono.com) and 
others Brazilian projects (like JSenna, Java MVC www.jsenna.com.br).

Well. I'm writing to post one patch that I'm wrote to allow users sort 
categories by an user defined order.

I don't know if it's a priority to Wordpress project, but it is a cool 
functionality ;)

Sorry send by mail this patches, but the submit patch link is broken.

Regards..

-- 

Marco Ant?nio Konopacki.
Presidente da RedeSol - Rede de Excel?ncia em Software Livre.
Programa Software Livre Paran?.

marcok@redesol.org
+55 41 9615-0715.
SKYPE: marcokonopacki
MSN: marcokonopacki@hotmail.com

-------------- next part --------------
Index: wp-admin/admin-functions.php
===================================================================
--- wp-admin/admin-functions.php	(revis??o 5282)
+++ wp-admin/admin-functions.php	(c??pia de trabalho)
@@ -838,6 +838,7 @@
 		<th scope='row' style='text-align: center'>$category->cat_ID</th>
 		<td>" . ( $name_override ? $name_override : $pad . ' ' . $category->cat_name ) . "</td>
 		<td>$category->category_description</td>
+		<td align='center'>$category->cat_order</td>
 		<td align='center'>$posts_count</td>
 		<td align='center'>$category->link_count</td>
 		<td>$edit</td>\n\t</tr>\n";
Index: wp-admin/admin-db.php
===================================================================
--- wp-admin/admin-db.php	(revis??o 5282)
+++ wp-admin/admin-db.php	(c??pia de trabalho)
@@ -129,10 +129,10 @@
 		$update = true;
 
 	if (!$update) {
-		$wpdb->query("INSERT INTO $wpdb->categories (cat_ID, cat_name, category_nicename, category_description, category_parent, links_private, posts_private, type) VALUES ('0', '$cat_name', '$category_nicename', '$category_description', '$category_parent', '$links_private', '$posts_private', '$type')");
+		$wpdb->query("INSERT INTO $wpdb->categories (cat_ID, cat_name, category_nicename, category_description, category_parent, links_private, posts_private, type,cat_order) VALUES ('0', '$cat_name', '$category_nicename', '$category_description', '$category_parent', '$links_private', '$posts_private', '$type','$cat_order')");
 		$cat_ID = (int) $wpdb->insert_id;
 	} else {
-		$wpdb->query ("UPDATE $wpdb->categories SET cat_name = '$cat_name', category_nicename = '$category_nicename', category_description = '$category_description', category_parent = '$category_parent', links_private = '$links_private', posts_private = '$posts_private', type = '$type' WHERE cat_ID = '$cat_ID'");
+		$wpdb->query ("UPDATE $wpdb->categories SET cat_name = '$cat_name', category_nicename = '$category_nicename', category_description = '$category_description', category_parent = '$category_parent', links_private = '$links_private', posts_private = '$posts_private', type = '$type', cat_order = '$cat_order' WHERE cat_ID = '$cat_ID'");
 	}
 
 	if ( $category_nicename == '' ) {
Index: wp-admin/edit-category-form.php
===================================================================
--- wp-admin/edit-category-form.php	(revis??o 5282)
+++ wp-admin/edit-category-form.php	(c??pia de trabalho)
@@ -42,6 +42,10 @@
 			<th scope="row" valign="top"><label for="category_description"><?php _e('Description: (optional)') ?></label></th>
 			<td><textarea name="category_description" id="category_description" rows="5" cols="50" style="width: 97%;"><?php echo wp_specialchars($category->category_description); ?></textarea></td>
 		</tr>
+		<tr>
+			<th scope="row" valign="top"><label for="cat_order"><?php _e('Category Order: (optional)') ?></label></th>
+			<td><input name="cat_order" id="cat_order" value="<?php echo attribute_escape($category->cat_order); ?>" size="3"></td>
+		</tr>
 	</table>
 <p class="submit"><input type="submit" name="submit" value="<?php echo $submit_text ?>" /></p>
 <?php do_action('edit_category_form', $category); ?>
Index: wp-admin/categories.php
===================================================================
--- wp-admin/categories.php	(revis??o 5282)
+++ wp-admin/categories.php	(c??pia de trabalho)
@@ -98,6 +98,7 @@
 		<th scope="col" style="text-align: center"><?php _e('ID') ?></th>
         <th scope="col"><?php _e('Name') ?></th>
         <th scope="col"><?php _e('Description') ?></th>
+        <th scope="col" width="90" style="text-align: center"><?php _e('Order') ?></th>
         <th scope="col" width="90" style="text-align: center"><?php _e('Posts') ?></th>
         <th scope="col" width="90" style="text-align: center"><?php _e('Links') ?></th>
         <th colspan="2" style="text-align: center"><?php _e('Action') ?></th>
Index: wp-admin/upgrade-schema.php
===================================================================
--- wp-admin/upgrade-schema.php	(revis??o 5282)
+++ wp-admin/upgrade-schema.php	(c??pia de trabalho)
@@ -13,6 +13,7 @@
 $wp_queries="CREATE TABLE $wpdb->categories (
   cat_ID bigint(20) NOT NULL auto_increment,
   cat_name varchar(55) NOT NULL default '',
+  cat_order tinyint(2) NULL default '0',
   category_nicename varchar(200) NOT NULL default '',
   category_description longtext NOT NULL,
   category_parent bigint(20) NOT NULL default '0',
-------------- next part --------------
Index: wp-admin/admin-functions.php
===================================================================
--- wp-admin/admin-functions.php	(revis??o 970)
+++ wp-admin/admin-functions.php	(c??pia de trabalho)
@@ -822,6 +822,7 @@
 		<th scope='row' style='text-align: center'>$category->cat_ID</th>
 		<td>" . ( $name_override ? $name_override : $pad . ' ' . $category->cat_name ) . "</td>
 		<td>$category->category_description</td>
+		<td align='center'>$category->cat_order</td>
 		<td align='center'>$posts_count</td>
 		<td align='center'>$category->link_count</td>
 		<td>$edit</td>\n\t</tr>\n";
Index: wp-admin/admin-db.php
===================================================================
--- wp-admin/admin-db.php	(revis??o 970)
+++ wp-admin/admin-db.php	(c??pia de trabalho)
@@ -128,9 +128,9 @@
 	if (!$update) {
 		$maxcat = $wpdb->get_var( "SELECT max(cat_ID) FROM {$wpdb->categories}" );
 		$cat_ID = mt_rand( $maxcat+100, $maxcat+4000 );
-		$wpdb->query("INSERT INTO $wpdb->categories (cat_ID, cat_name, category_nicename, category_description, category_parent, links_private, posts_private) VALUES ('$cat_ID', '$cat_name', '$category_nicename', '$category_description', '$category_parent', '$links_private', '$posts_private')");
+		$wpdb->query("INSERT INTO $wpdb->categories (cat_ID, cat_name, category_nicename, category_description, category_parent, links_private, posts_private, cat_order) VALUES ('$cat_ID', '$cat_name', '$category_nicename', '$category_description', '$category_parent', '$links_private', '$posts_private', '$cat_order')");
 	} else {
-		$wpdb->query ("UPDATE $wpdb->categories SET cat_name = '$cat_name', category_nicename = '$category_nicename', category_description = '$category_description', category_parent = '$category_parent', links_private = '$links_private', posts_private = '$posts_private' WHERE cat_ID = '$cat_ID'");
+		$wpdb->query ("UPDATE $wpdb->categories SET cat_name = '$cat_name', category_nicename = '$category_nicename', category_description = '$category_description', category_parent = '$category_parent', links_private = '$links_private', posts_private = '$posts_private', cat_order = '$cat_order' WHERE cat_ID = '$cat_ID'");
 	}
 
 	if ( $category_nicename == '' ) {
Index: wp-admin/edit-category-form.php
===================================================================
--- wp-admin/edit-category-form.php	(revis??o 970)
+++ wp-admin/edit-category-form.php	(c??pia de trabalho)
@@ -38,6 +38,10 @@
 			<th scope="row" valign="top"><label for="category_description"><?php _e('Description: (optional)') ?></label></th>
 			<td><textarea name="category_description" id="category_description" rows="5" cols="50" style="width: 97%;"><?php echo wp_specialchars($category->category_description); ?></textarea></td>
 		</tr>
+		<tr>
+			<th scope="row" valign="top"><label for="cat_order"><?php _e('Category Order: (optional)') ?></label></th>
+			<td><input name="cat_order" id="cat_order" value="<?php echo attribute_escape($category->cat_order); ?>" size="3"></td>
+		</tr>
 	</table>
 <p class="submit"><input type="submit" name="submit" value="<?php echo $submit_text ?>" /></p>
 <?php do_action('edit_category_form', $category); ?>
Index: wp-admin/categories.php
===================================================================
--- wp-admin/categories.php	(revis??o 970)
+++ wp-admin/categories.php	(c??pia de trabalho)
@@ -98,6 +98,7 @@
 		<th scope="col" style="text-align: center"><?php _e('ID') ?></th>
         <th scope="col"><?php _e('Name') ?></th>
         <th scope="col"><?php _e('Description') ?></th>
+        <th scope="col" width="90" style="text-align: center"><?php _e('Order') ?></th>
         <th scope="col" width="90" style="text-align: center"><?php _e('Posts') ?></th>
         <th scope="col" width="90" style="text-align: center"><?php _e('Links') ?></th>
         <th colspan="2" style="text-align: center"><?php _e('Action') ?></th>
Index: wp-admin/upgrade-schema.php
===================================================================
--- wp-admin/upgrade-schema.php	(revis??o 970)
+++ wp-admin/upgrade-schema.php	(c??pia de trabalho)
@@ -14,6 +14,7 @@
 $wp_queries="CREATE TABLE $wpdb->categories (
   cat_ID bigint(20) NOT NULL auto_increment,
   cat_name varchar(55) NOT NULL default '',
+  cat_order tinyint(2) NULL default '0',
   category_nicename varchar(200) NOT NULL default '',
   category_description longtext NOT NULL,
   category_parent bigint(20) NOT NULL default '0',
From david at coppit.org  Wed Apr 18 16:45:52 2007
From: david at coppit.org (David Coppit)
Date: Wed Apr 18 16:46:36 2007
Subject: [wp-hackers] Re: Category Order
In-Reply-To: <46264664.2090101@redesol.org>
References: <46264664.2090101@redesol.org>
Message-ID: <Pine.BSF.4.64.0704181233490.46470@www.provisio.net>

On Wed, 18 Apr 2007, Marco Antnio Konopacki - Projeto RHODES wrote:

> Well. I'm writing to post one patch that I'm wrote to allow users sort 
> categories by an user defined order.

Funny, that's what my "Category Order" plugin does.

http://www.coppit.org/blog/archives/165

David

P.S. I also would like to see this part of the core and not a plugin,
along with restricted access to categories. I have to currently parse raw
HTML, which is bug-prone.

_____________________________________________________________________
David Coppit                           david@coppit.org
The College of William and Mary        http://coppit.org/

"When the president does it that means that it is not illegal."
- Richard Nixon on domestic surveillance, 5/19/1977
"Do I have the legal authority to do this? And the answer is, absolutely."
- George W. Bush on domestic surveillance, 12/19/2005
From m at mullenweg.com  Wed Apr 18 17:59:25 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Apr 18 18:01:29 2007
Subject: [wp-hackers] 2.2 release
Message-ID: <46265C7D.90702@mullenweg.com>

Let's create a 2.2 branch and start removing the current tagging 
implementation. I'll announce on my blog that 2.2 will be delayed.

Based on how long it takes to extract and test a tag-free 2.2 we'll aim 
for either the 30th or May 7th best case, depending on how many people 
help out with the process. Ryan will also look at bringing back widgets 
as an easy, tested, and already-popular feature that will sex up the 
release.

I think trunk should start experimenting with the new taxonomy proposal 
on the list, which has the potential to do some really neat things, but 
I think it's also going to introduce a lot of complexity and need 
testing beyond the window for 2.2. Pushing it to 2.3 will allow it more 
breathing room and for us not to rush a pretty critical building block 
of WP going forward.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From spencerp1 at gmail.com  Wed Apr 18 18:29:31 2007
From: spencerp1 at gmail.com (spencerp)
Date: Wed Apr 18 18:29:03 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <46265C7D.90702@mullenweg.com>
References: <46265C7D.90702@mullenweg.com>
Message-ID: <4626638B.2050406@gmail.com>

Matt Mullenweg wrote:
> Let's create a 2.2 branch and start removing the current tagging 
> implementation. I'll announce on my blog that 2.2 will be delayed.
>
> Based on how long it takes to extract and test a tag-free 2.2 we'll 
> aim for either the 30th or May 7th best case, depending on how many 
> people help out with the process. Ryan will also look at bringing back 
> widgets as an easy, tested, and already-popular feature that will sex 
> up the release.
>
> I think trunk should start experimenting with the new taxonomy 
> proposal on the list, which has the potential to do some really neat 
> things, but I think it's also going to introduce a lot of complexity 
> and need testing beyond the window for 2.2. Pushing it to 2.3 will 
> allow it more breathing room and for us not to rush a pretty critical 
> building block of WP going forward.
>

Just as long as the Trunk keeps in the tags, and will move forward with 
the new taxonomy proposal. It sounds good to me. ;) :)

/I just don't want to flush all those man hours of trying to adjust 800+ 
tags from UTW to WP tags down the commode! And that's not even ALL of my 
posts, that's just some of them. LOL!

- Create 2.2 branch, strip tags out. Test test test!! Release around 
April 30th, or May 7th.

- Bump Trunk to 2.3-developer-edition. (Ha! There's a nice name for it! 
:P Haha.) Keep tags, do taxonomy proposal (database rearrangements). 
Maybe add in *cough* better draft management system, revamped blogroll, 
permalink adjustment/deal, and whatever else?

Is that about right? :P

--
spencerp
http://spencerp.net
http://www.vindictivebastard.net/
From computerguru at neosmart.net  Wed Apr 18 18:33:27 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Wed Apr 18 18:34:38 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <4626638B.2050406@gmail.com>
References: <46265C7D.90702@mullenweg.com> <4626638B.2050406@gmail.com>
Message-ID: <005c01c781e8$107223e0$31566ba0$@net>

> Just as long as the Trunk keeps in the tags, and will move forward with
> the new taxonomy proposal. It sounds good to me. ;) :)
> 
> /I just don't want to flush all those man hours of trying to adjust
> 800+
> tags from UTW to WP tags down the commode! And that's not even ALL of
> my
> posts, that's just some of them. LOL!

Same here!!



Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

From marcok at redesol.org  Wed Apr 18 18:52:34 2007
From: marcok at redesol.org (=?UTF-8?B?TWFyY28gQW50w7RuaW8gS29ub3BhY2tpIC0gUHJvamV0byBSSE9ERVM=?=)
Date: Wed Apr 18 18:52:45 2007
Subject: [wp-hackers] Re: Category Order
In-Reply-To: <Pine.BSF.4.64.0704181233490.46470@www.provisio.net>
References: <46264664.2090101@redesol.org>
	<Pine.BSF.4.64.0704181233490.46470@www.provisio.net>
Message-ID: <462668F2.8000806@redesol.org>

Great David!!!

If I got more few hours searching, may be I don't rewrote code... :P

Owohh coders just wanna have fun.... lol.

But get in accord with you, this feature needs to be a part of the core.

Regards,

Marco.

David Coppit escreveu:
> On Wed, 18 Apr 2007, Marco Ant?nio Konopacki - Projeto RHODES wrote:
>
>> Well. I'm writing to post one patch that I'm wrote to allow users 
>> sort categories by an user defined order.
>
> Funny, that's what my "Category Order" plugin does.
>
> http://www.coppit.org/blog/archives/165
>
> David
>
> P.S. I also would like to see this part of the core and not a plugin,
> along with restricted access to categories. I have to currently parse raw
> HTML, which is bug-prone.
>
> _____________________________________________________________________
> David Coppit david@coppit.org
> The College of William and Mary http://coppit.org/
>
> "When the president does it that means that it is not illegal."
> - Richard Nixon on domestic surveillance, 5/19/1977
> "Do I have the legal authority to do this? And the answer is, 
> absolutely."
> - George W. Bush on domestic surveillance, 12/19/2005
> ------------------------------------------------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   


-- 

Marco Ant?nio Konopacki.
Presidente da RedeSol - Rede de Excel?ncia em Software Livre.
Programa Software Livre Paran?.

marcok@redesol.org
+55 41 9615-0715.
SKYPE: marcokonopacki
MSN: marcokonopacki@hotmail.com

From ryan at boren.nu  Wed Apr 18 18:52:40 2007
From: ryan at boren.nu (Ryan Boren)
Date: Wed Apr 18 18:52:55 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <462612E7.5070909@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>
	<46240915.7050006@jamietalbot.com>
	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
	<462612E7.5070909@jamietalbot.com>
Message-ID: <bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>

On 4/18/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
> Not many people have commented on this thread, despite the large number of people who were vocally
> opposed to the existing schema.  Does this mean people approve of this new, suggested direction, or
> are there any better solutions out there?

I caught a bug that's laying me low at the moment.  The stuff you are
proposing sounds pretty good, but my head isn't clear enough to think
it all the way through.  Would you mind taking the proposed schema,
modifying it with your amendments, sprinkling in a few comments, and
submitting back to the list so we can see it as a whole?

Ryan
From stevelle at gmail.com  Wed Apr 18 18:59:12 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Wed Apr 18 18:59:48 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <462612E7.5070909@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>
	<46240915.7050006@jamietalbot.com>
	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
	<462612E7.5070909@jamietalbot.com>
Message-ID: <b65af1a30704181159i7a2ebb41h5f551929dc18f626@mail.gmail.com>

On 4/18/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
>
> For example
>
> 1 Cities        cities          0
> 2 Products      products        1
> 3 Projects      projects        1
>
> The '1' in the third column signifies that they are in the same 'alias
> group' - it doesn't relate to
> the row with a term_id of '1'.  The general pseudocode for adding an alias
> is:


Clarified.  That is a different solution, indeed.  I think I like it.


>> Lookup by slug is easy.
> >
> > Notice I slipped a trick into that one.  You don't know if 'products' is
> a
> > tag or a post category or ... based on the URL.  It isn't clear that we
> > should care.
>
> That's true, if you ignore the fact that category URLs will be prepended
> by category/, and tag URLs
> by tag/.  Given that those bases exist though, I think we should be safe.


I specifically excluded that.  I want to rewrite my URLs to eliminate that.
Maybe I'm alone in this.   :)

-- 
SteveL
From stevelle at gmail.com  Wed Apr 18 19:02:26 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Wed Apr 18 19:02:31 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <462617B9.3040206@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<46254D80.2040800@mullenweg.com> <462617B9.3040206@jamietalbot.com>
Message-ID: <b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>

On 4/18/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
>
>
> We'll still have the category base and tag base, right?  In which case,
> won't they just work as they
> do now?  anything site.tld/category/my_term/ would be queried as a
> post_category, anything
> site.tld/tag/my_term/ would be queried as a post_tag.  At least, that's
> how I understood Ryan's
> suggestion.



Why should we?  If we are storing these things in one table, I think the
term_slug ought to be a UNIQUE key.  If I can have a distinct 'cocktails'
tag and 'cocktails' category, then I stubbornly insist we stop storing them
in the same table. :)

-- 
SteveL
From m at mullenweg.com  Wed Apr 18 19:24:21 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Apr 18 19:26:24 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <4626638B.2050406@gmail.com>
References: <46265C7D.90702@mullenweg.com> <4626638B.2050406@gmail.com>
Message-ID: <46267065.8070006@mullenweg.com>

spencerp wrote:
> /I just don't want to flush all those man hours of trying to adjust 800+ 
> tags from UTW to WP tags down the commode! And that's not even ALL of my 
> posts, that's just some of them. LOL!

I'm in the same boat. I think although we shouldn't include formal 
upgrade code for it since it was never released, there should definitely 
be a plugin or something to migrate those of us who are bleeding edge 
testers.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From computerguru at neosmart.net  Wed Apr 18 19:26:48 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Wed Apr 18 19:27:59 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <46267065.8070006@mullenweg.com>
References: <46265C7D.90702@mullenweg.com> <4626638B.2050406@gmail.com>
	<46267065.8070006@mullenweg.com>
Message-ID: <006001c781ef$83fa6320$8bef2960$@net>

It shouldn't be too hard, it's just a list :P

Once the new db schema is in place I'm willing to create a quickie script :)

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Matt Mullenweg
> Sent: Wednesday, April 18, 2007 10:24 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] 2.2 release
> 
> spencerp wrote:
> > /I just don't want to flush all those man hours of trying to adjust
> 800+
> > tags from UTW to WP tags down the commode! And that's not even ALL of
> my
> > posts, that's just some of them. LOL!
> 
> I'm in the same boat. I think although we shouldn't include formal
> upgrade code for it since it was never released, there should
> definitely
> be a plugin or something to migrate those of us who are bleeding edge
> testers.
> 
> --
> Matt Mullenweg
>   http://photomatt.net | http://wordpress.org
> http://automattic.com | http://akismet.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From m at mullenweg.com  Wed Apr 18 19:39:44 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Apr 18 19:41:48 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<46254D80.2040800@mullenweg.com>
	<462617B9.3040206@jamietalbot.com>
	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>
Message-ID: <46267400.1080805@mullenweg.com>

Steve Lewis wrote:
> Why should we?  If we are storing these things in one table, I think the
> term_slug ought to be a UNIQUE key.  If I can have a distinct 'cocktails'
> tag and 'cocktails' category, then I stubbornly insist we stop storing them
> in the same table. :)

Check out the new schema, they're completely different and effectively 
in different tables. However, this type of argument is what made the 
discussion on trac so difficult and what led me to just put some code 
out there.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From stevelle at gmail.com  Wed Apr 18 20:06:24 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Wed Apr 18 20:06:30 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <46267400.1080805@mullenweg.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<46254D80.2040800@mullenweg.com> <462617B9.3040206@jamietalbot.com>
	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>
	<46267400.1080805@mullenweg.com>
Message-ID: <b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>

On 4/18/07, Matt Mullenweg <m@mullenweg.com> wrote:
>
> Steve Lewis wrote:
> > Why should we?  If we are storing these things in one table, I think the
> > term_slug ought to be a UNIQUE key.  If I can have a distinct
> 'cocktails'
> > tag and 'cocktails' category, then I stubbornly insist we stop storing
> them
> > in the same table. :)
>
> Check out the new schema, they're completely different and effectively
> in different tables. However, this type of argument is what made the
> discussion on trac so difficult and what led me to just put some code
> out there.
>

Color me confused.  The new proposed schema on-list?  As in the one that
discusses 'terms' perhaps?  The one I am replying to?
Categories are not in a distinct table from Tags because they are both in
wp_terms in the proposed schema I am replying to.

I must have missed something.
-- 
SteveL
From m at mullenweg.com  Wed Apr 18 20:09:42 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Apr 18 20:11:45 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<46254D80.2040800@mullenweg.com>
	<462617B9.3040206@jamietalbot.com>	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>	<46267400.1080805@mullenweg.com>
	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>
Message-ID: <46267B06.7030705@mullenweg.com>

Steve Lewis wrote:
> Categories are not in a distinct table from Tags because they are both in
> wp_terms in the proposed schema I am replying to.

But terms are neither categories or tags, the definition is stored in a 
separate table so you can have both a category and tag named "cocktails."

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From computerguru at neosmart.net  Wed Apr 18 20:14:19 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Wed Apr 18 20:15:30 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <46267B06.7030705@mullenweg.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<46254D80.2040800@mullenweg.com>	<462617B9.3040206@jamietalbot.com>	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>	<46267400.1080805@mullenweg.com>	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>
	<46267B06.7030705@mullenweg.com>
Message-ID: <006101c781f6$279e1d40$76da57c0$@net>

> Steve Lewis wrote:
> > Categories are not in a distinct table from Tags because they are
> both in
> > wp_terms in the proposed schema I am replying to.
> 
> But terms are neither categories or tags, the definition is stored in a
> separate table so you can have both a category and tag named
> "cocktails."

Yep, I believe that ties in with BCNF db schema.. It's just a bit "weird"
since WP hasn't been using this route - but this would be a huge step
towards a proper db schema :)

Hopefuly by using JOIN queries here we might be setting a precedent to
further optimize the rest of WP's db-calls.

It would be just _awesome_ to have WP use a fully BCNF db... though I'm not
holding my breath for two or three years though :P

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

From burobjorn at gmail.com  Wed Apr 18 20:33:56 2007
From: burobjorn at gmail.com (Burobjorn)
Date: Wed Apr 18 20:34:03 2007
Subject: [wp-hackers] proposal: context based urls
Message-ID: <462680B4.5090408@gmail.com>

Hi,

I would like discuss an idea that recently popped up during the 
development of some custom made plugins for my clients.

A lot of people seem to use Wordpress as a 'poor man's CMS' and while 
Wordpress is and has been very flexible I would like to propose to use a 
new form of url system which might make it even better. The general idea 
is that the urls would be used with a system wide dispatcher routing the 
urls to previously registered callbacks. Similar to the way Drupal does 
this.

This new system would follow the basic idea that the Wordpress urls are 
built up using the following principle:

1) A wordpress url consists of a base domain e.g.

www.wordpress.tld or wordpress.tld

2) Followed by a unique context parameter e.g.

/post
/home
/somepluginname
/category
/search
/blog (in the case of WP MU)

etc

3) Possibly followed by a unique action parameter e.g.

/view
/get
/remove

etc

4) Possibly followed by one or more values

/2007/05/13/
/uncategorized
/some+search+term

Some example urls:

http://www.foo.tld/post/view/2007/04/13/my-bad-hair-day
http://www.foo.tld/myplugin/view/addressbook
http://www.foo.tld/search/some+search+terms-withoutthisterm
http://www.foo.tld/home

Please let me know what you think of this. Does this make sense or am I 
trying to do something that already exists in WP (MU) using the 
permalinks or rewrite options?

All the best,

grtz
BjornW
From davebytes at comcast.net  Wed Apr 18 21:01:57 2007
From: davebytes at comcast.net (David Chait)
Date: Wed Apr 18 21:01:18 2007
Subject: [wp-hackers] proposal: context based urls
In-Reply-To: <462680B4.5090408@gmail.com>
References: <462680B4.5090408@gmail.com>
Message-ID: <46268745.9070700@comcast.net>

I'm confused -- nice URIs can do most of this today, though obviously 
you've made it a big more discreet.  While I don't know that it has 
quite the 'registered callback' handling methodology, the permalink 
format can already handle complex things, pages get their own top level 
name, and I wouldn't want extraneous parameters added in necessarily.

And yes, plugins using the rewrite system can already tap in and define 
unique URI elements for redirecting.  I do this for a next version of 
CG-Amazon to 'understand' that an incoming URI is meant for me to show 
particular product data in a page, or in other plugins for things like 
alternatives to categories (tagging systems, etc.).

-d


Burobjorn wrote:
> Hi,
>
> I would like discuss an idea that recently popped up during the 
> development of some custom made plugins for my clients.
>
> A lot of people seem to use Wordpress as a 'poor man's CMS' and while 
> Wordpress is and has been very flexible I would like to propose to use 
> a new form of url system which might make it even better. The general 
> idea is that the urls would be used with a system wide dispatcher 
> routing the urls to previously registered callbacks. Similar to the 
> way Drupal does this.
>
> This new system would follow the basic idea that the Wordpress urls 
> are built up using the following principle:
>
> 1) A wordpress url consists of a base domain e.g.
>
> www.wordpress.tld or wordpress.tld
>
> 2) Followed by a unique context parameter e.g.
>
> /post
> /home
> /somepluginname
> /category
> /search
> /blog (in the case of WP MU)
>
> etc
>
> 3) Possibly followed by a unique action parameter e.g.
>
> /view
> /get
> /remove
>
> etc
>
> 4) Possibly followed by one or more values
>
> /2007/05/13/
> /uncategorized
> /some+search+term
>
> Some example urls:
>
> http://www.foo.tld/post/view/2007/04/13/my-bad-hair-day
> http://www.foo.tld/myplugin/view/addressbook
> http://www.foo.tld/search/some+search+terms-withoutthisterm
> http://www.foo.tld/home
>
> Please let me know what you think of this. Does this make sense or am 
> I trying to do something that already exists in WP (MU) using the 
> permalinks or rewrite options?
>
> All the best,
>
> grtz
> BjornW
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From m at mullenweg.com  Wed Apr 18 21:04:38 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Wed Apr 18 21:06:44 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <006101c781f6$279e1d40$76da57c0$@net>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<46254D80.2040800@mullenweg.com>	<462617B9.3040206@jamietalbot.com>	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>	<46267400.1080805@mullenweg.com>	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>	<46267B06.7030705@mullenweg.com>
	<006101c781f6$279e1d40$76da57c0$@net>
Message-ID: <462687E6.7010704@mullenweg.com>

Computer Guru wrote:
> Yep, I believe that ties in with BCNF db schema.. It's just a bit "weird"
> since WP hasn't been using this route - but this would be a huge step
> towards a proper db schema :)

For those unfamiliar with the terminology:

http://en.wikipedia.org/wiki/Boyce-Codd_Normal_Form

Is this actual BCNF though?

> Hopefuly by using JOIN queries here we might be setting a precedent to
> further optimize the rest of WP's db-calls.

You have an interesting assumption that JOINs are more efficient. ;)

Ultimately speed is going to be a big factor in any implementation, I 
hope that the 3 additional tables and related queries don't hit us too 
hard on the performance side.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From spencerp1 at gmail.com  Wed Apr 18 21:19:38 2007
From: spencerp1 at gmail.com (spencerp)
Date: Wed Apr 18 21:19:10 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <006001c781ef$83fa6320$8bef2960$@net>
References: <46265C7D.90702@mullenweg.com>
	<4626638B.2050406@gmail.com>	<46267065.8070006@mullenweg.com>
	<006001c781ef$83fa6320$8bef2960$@net>
Message-ID: <46268B6A.5020004@gmail.com>

Computer Guru wrote:
> It shouldn't be too hard, it's just a list :P
>
> Once the new db schema is in place I'm willing to create a quickie script :)
>
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
>
>
>   
>> -----Original Message-----
>> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
>> bounces@lists.automattic.com] On Behalf Of Matt Mullenweg
>> Sent: Wednesday, April 18, 2007 10:24 PM
>> To: wp-hackers@lists.automattic.com
>> Subject: Re: [wp-hackers] 2.2 release
>>
>> spencerp wrote:
>>     
>>> /I just don't want to flush all those man hours of trying to adjust
>>>       
>> 800+
>>     
>>> tags from UTW to WP tags down the commode! And that's not even ALL of
>>>       
>> my
>>     
>>> posts, that's just some of them. LOL!
>>>       
>> I'm in the same boat. I think although we shouldn't include formal
>> upgrade code for it since it was never released, there should
>> definitely
>> be a plugin or something to migrate those of us who are bleeding edge
>> testers.
>>
>> --
>> Matt Mullenweg

Well, that sounds good to me! Just as long as "we" take this in an 
orderly fashion, and then can use Computer Guru's awesome soon-to-be 
quickie script. :) ;) All of my "live" (4 or so)  blogs are running 
2.2-bleeding, but only two of them have UTW tags on them. Out of those 
two using UTW tags, VindictiveBastard.net is the only one I spent hours 
adjusting UTW tags over to WP tags.

Even though I like UTW, I'm one of those people that likes to minimize 
the use or need for plugins. :P I'd love to have, and keep WP tags. So, 
anything to improve the system for the better is great with me! If you 
go forward on doing the 2.2 branch, I can setup a testbed blog and test 
there. Then I'll report back on wp-testers with any possible issues and 
so forth. ;) :)

As for the Trunk, can you maybe list what is all going to happen/go on 
with it? I just want to prepare myself, that's all. I pretty much know 
off-hand what's going to happen, but wouldn't mind the specifics. If 
that's all possible? If not, that's cool. ;) :)

--
spencerp
http://spencerp.net
http://www.vindictivebastard.net/



From mark.wordpress at txfx.net  Wed Apr 18 23:22:44 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Wed Apr 18 23:23:32 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <462687E6.7010704@mullenweg.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<46254D80.2040800@mullenweg.com>	<462617B9.3040206@jamietalbot.com>	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>	<46267400.1080805@mullenweg.com>	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>	<46267B06.7030705@mullenweg.com>
	<006101c781f6$279e1d40$76da57c0$@net>
	<462687E6.7010704@mullenweg.com>
Message-ID: <4B970F14-9B08-413D-9CCC-FD37FAFFC425@txfx.net>

On Apr 18, 2007, at 5:04 PM, Matt Mullenweg wrote:

> Ultimately speed is going to be a big factor in any implementation,  
> I hope that the 3 additional tables and related queries don't hit  
> us too hard on the performance side.

If the API for updating/adding/removing tags and post categories is  
solid (i.e. we won't expect people to have a reason to circumvent  
it), we can cache cats/tags in postmeta whenever they are updated.   
That would actually REMOVE a query from the existing system (as  
postmeta is already queried).  The system could be fail-safe, so that  
if there is no appropriate _wp_categories postmeta entry, it can do  
the big JOIN'd query (and at that moment, populate the postmeta  
cache).  That doesn't help us for Tag/Category views (which posts  
have X taxonomy?), but it helps us when querying tags/categories for  
a given set of posts.

I'd assume that would be faster than doing a three-way JOIN'd  
query... it certainly sped UTW up.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From stevelle at gmail.com  Wed Apr 18 23:28:27 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Wed Apr 18 23:28:33 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <46267B06.7030705@mullenweg.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<46254D80.2040800@mullenweg.com> <462617B9.3040206@jamietalbot.com>
	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>
	<46267400.1080805@mullenweg.com>
	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>
	<46267B06.7030705@mullenweg.com>
Message-ID: <b65af1a30704181628s1e5c1060yfbceccbc11b4da80@mail.gmail.com>

On 4/18/07, Matt Mullenweg <m@mullenweg.com> wrote:
>
> Steve Lewis wrote:
> > Categories are not in a distinct table from Tags because they are both
> in
> > wp_terms in the proposed schema I am replying to.
>
> But terms are neither categories or tags, the definition is stored in a
> separate table so you can have both a category and tag named "cocktails."
>

Sorry, I'm not buying that.  Terms have a taxonomy which may be Category or
Tag or some other.  That means Categories and Tags are Terms.  That suggests
I shouldn't care which taxonomy is associated with the Term.  I think it
will be both easier to use for authors and easier to support for the
community if *or* is considered to be *xor* in implementation.  Hopefully I
made that clear.

-- 
SteveL
From wphackers at jamietalbot.com  Wed Apr 18 23:43:22 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Wed Apr 18 23:43:51 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <462687E6.7010704@mullenweg.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<46254D80.2040800@mullenweg.com>	<462617B9.3040206@jamietalbot.com>	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>	<46267400.1080805@mullenweg.com>	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>	<46267B06.7030705@mullenweg.com>	<006101c781f6$279e1d40$76da57c0$@net>
	<462687E6.7010704@mullenweg.com>
Message-ID: <4626AD1A.4030203@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Matt Mullenweg wrote:
> Computer Guru wrote:
>> Yep, I believe that ties in with BCNF db schema.. It's just a bit "weird"
>> since WP hasn't been using this route - but this would be a huge step
>> towards a proper db schema :)
> 
> For those unfamiliar with the terminology:
> 
> http://en.wikipedia.org/wiki/Boyce-Codd_Normal_Form
> 
> Is this actual BCNF though?
> 

It isn't actually.  BCNF would be having a separate taxonomy lookup table.  An even more normalised
form would be having separate tags, categories and link cat tables, as well as the associated
post2cat, post2tag etc.  While initially I thought that would be the best way to go about it, Ryan's
proposal actually makes much more sense in terms of being mostly normalised while future proofing
without lots of future db alterations.  A nice compromise.

Cheers,

Jamie.

- --
http://jamietalbot.com
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGJq0arovxfShShFARAu0IAJ9eWJlul5J8p5mJH77pyt4XiuyoXgCfb/ds
6lEsg9ZiYtekP8EGV+4mrXY=
=M/F8
-----END PGP SIGNATURE-----
From wphackers at galleryembedded.com  Thu Apr 19 00:56:36 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Thu Apr 19 00:56:41 2007
Subject: [wp-hackers] Re: 2.2 release
Message-ID: <1176944196.m2f.32021@www.galleryembedded.com>


m at mullenweg.com wrote:
> Let's create a 2.2 branch and start removing the current tagging 
> implementation. I'll announce on my blog that 2.2 will be delayed.
> 
> Based on how long it takes to extract and test a tag-free 2.2 we'll aim 
> for either the 30th or May 7th best case, depending on how many people 
> help out with the process. Ryan will also look at bringing back widgets 
> as an easy, tested, and already-popular feature that will sex up the 
> release.


Instead why don't we push back WP 2.2 until June, rather than pulling out code and instead release both options (widgets and Tags) together.  What is the downside to pushing back on the release date, other than it is not going to fit into our published schedule, are we really pressured to release?? or instead take the time to roll in both features and be happy we got them right and release a really solid build that is going to have a WOW I want to upgrade NOW appeal..

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From wphackers at galleryembedded.com  Thu Apr 19 01:05:44 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Thu Apr 19 01:05:54 2007
Subject: [wp-hackers] Re: Taxonomy Schema Proposal
Message-ID: <1176944744.m2f.32022@www.galleryembedded.com>


mark.wordpress at txfx... wrote:
> 
> If the API for updating/adding/removing tags and post categories is  
> solid (i.e. we won't expect people to have a reason to circumvent  
> it), we can cache cats/tags in postmeta whenever they are updated.   
> That would actually REMOVE a query...


This is a very important comment, what ever the DB design outcome, build a decent API for tags.... tags are going to be a killer feature, the last thing we all want is to have to directly write WP queries to get at tag data..

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From alan at verselogic.net  Thu Apr 19 01:10:33 2007
From: alan at verselogic.net (Alan J Castonguay)
Date: Thu Apr 19 01:10:42 2007
Subject: [wp-hackers] overly aggressive replacement of <em> tags with <i>?
Message-ID: <4626C189.60100@verselogic.net>

Sometimes I like to include embedded flash videos in a post. Commonly I 
switch over to the code editor and paste in the relevant html. It 
Publishes fine, but when if I hit Save and Continue, or just save a 
draft and come back, the text that once looked like
> <embed src="http://www.youtube.com/v/whatever" 
> type="application/x-shockwave-flash" width="425" height="350"></embed>
now looks like
> <ibed type="application/x-shockwave-flash" width="425" 
> height="350"></ibed>
. This looks like overly aggressive replacement of <em> tags with <i>. 
I'm not sure why though. Any idea?

2.2-bleeding / 4772 (from svn)

-- 
Alan J Castonguay
 519.567.2633

From speedboxer at gmail.com  Thu Apr 19 01:53:25 2007
From: speedboxer at gmail.com (Matt)
Date: Thu Apr 19 01:53:32 2007
Subject: [wp-hackers] overly aggressive replacement of <em> tags with <i>?
In-Reply-To: <4626C189.60100@verselogic.net>
References: <4626C189.60100@verselogic.net>
Message-ID: <b88434820704181853t16cc012dn17c828eb74554636@mail.gmail.com>

Hmm, why would it be converting <em> to <i>, though? Last I checked, <i> is
deprecated...

On 4/18/07, Alan J Castonguay <alan@verselogic.net> wrote:
>
> Sometimes I like to include embedded flash videos in a post. Commonly I
> switch over to the code editor and paste in the relevant html. It
> Publishes fine, but when if I hit Save and Continue, or just save a
> draft and come back, the text that once looked like
> > <embed src="http://www.youtube.com/v/whatever"
> > type="application/x-shockwave-flash" width="425" height="350"></embed>
> now looks like
> > <ibed type="application/x-shockwave-flash" width="425"
> > height="350"></ibed>
> . This looks like overly aggressive replacement of <em> tags with <i>.
> I'm not sure why though. Any idea?
>
> 2.2-bleeding / 4772 (from svn)
>
> --
> Alan J Castonguay
> 519.567.2633
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/ | http://livemp.net/
From robin.adr at gmail.com  Thu Apr 19 02:03:25 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Thu Apr 19 02:03:32 2007
Subject: [wp-hackers] overly aggressive replacement of <em> tags with <i>?
In-Reply-To: <4626C189.60100@verselogic.net>
References: <4626C189.60100@verselogic.net>
Message-ID: <d135ca9c0704181903x59d7e7ecp2db1fabd0f25d460@mail.gmail.com>

This has been fixed since r4772. It was fixed when the patch to upgrade
TinyMCE to 2.1.0 was committed. Try latest trunk.

Matt: I believe it's for the RCE's displaying of the output. I don't know
the specifics. But it doesn't convert it permanently as far as I know.

On 4/18/07, Alan J Castonguay <alan@verselogic.net> wrote:
>
> Sometimes I like to include embedded flash videos in a post. Commonly I
> switch over to the code editor and paste in the relevant html. It
> Publishes fine, but when if I hit Save and Continue, or just save a
> draft and come back, the text that once looked like
> > <embed src="http://www.youtube.com/v/whatever"
> > type="application/x-shockwave-flash" width="425" height="350"></embed>
> now looks like
> > <ibed type="application/x-shockwave-flash" width="425"
> > height="350"></ibed>
> . This looks like overly aggressive replacement of <em> tags with <i>.
> I'm not sure why though. Any idea?
>
> 2.2-bleeding / 4772 (from svn)
>
> --
> Alan J Castonguay
> 519.567.2633
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From computerguru at neosmart.net  Thu Apr 19 04:17:36 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Thu Apr 19 04:18:08 2007
Subject: [wp-hackers] Re: 2.2 release
In-Reply-To: <1176944196.m2f.32021@www.galleryembedded.com>
References: <1176944196.m2f.32021@www.galleryembedded.com>
Message-ID: <006801c78239$b3599dd0$1a0cd970$@net>

Well, why not?

We do have other features than just tagging support in WP22, and they
are/have been very stable now and ready for prime-time.

I'm with Matt on this one.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of ozgreg
> Sent: Thursday, April 19, 2007 3:57 AM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] Re: 2.2 release
> 
> 
> m at mullenweg.com wrote:
> > Let's create a 2.2 branch and start removing the current tagging
> > implementation. I'll announce on my blog that 2.2 will be delayed.
> >
> > Based on how long it takes to extract and test a tag-free 2.2 we'll
> aim
> > for either the 30th or May 7th best case, depending on how many
> people
> > help out with the process. Ryan will also look at bringing back
> widgets
> > as an easy, tested, and already-popular feature that will sex up the
> > release.
> 
> 
> Instead why don't we push back WP 2.2 until June, rather than pulling
> out code and instead release both options (widgets and Tags) together.
> What is the downside to pushing back on the release date, other than it
> is not going to fit into our published schedule, are we really
> pressured to release?? or instead take the time to roll in both
> features and be happy we got them right and release a really solid
> build that is going to have a WOW I want to upgrade NOW appeal..
> 
> ------------------------
> WPG2 Installation, Operation & FAQ Documentation
> (http://wpg2.galleryembedded.com/)
> 
> 
> 
> 
> -------------------- m2f --------------------
> 
> Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
> -------------------- m2f --------------------
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From computerguru at neosmart.net  Thu Apr 19 04:19:07 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Thu Apr 19 04:19:35 2007
Subject: [wp-hackers] overly aggressive replacement of <em> tags with <i>?
In-Reply-To: <d135ca9c0704181903x59d7e7ecp2db1fabd0f25d460@mail.gmail.com>
References: <4626C189.60100@verselogic.net>
	<d135ca9c0704181903x59d7e7ecp2db1fabd0f25d460@mail.gmail.com>
Message-ID: <006901c78239$e76e22d0$b64a6870$@net>

*cough* TinyMCE b0rkedness *cough*

Use this instead: http://baptiste.us/plugins/xinha4wp
:}

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Robin Adrianse
> Sent: Thursday, April 19, 2007 5:03 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] overly aggressive replacement of <em> tags
> with <i>?
> 
> This has been fixed since r4772. It was fixed when the patch to upgrade
> TinyMCE to 2.1.0 was committed. Try latest trunk.
> 
> Matt: I believe it's for the RCE's displaying of the output. I don't
> know
> the specifics. But it doesn't convert it permanently as far as I know.
> 
> On 4/18/07, Alan J Castonguay <alan@verselogic.net> wrote:
> >
> > Sometimes I like to include embedded flash videos in a post. Commonly
> I
> > switch over to the code editor and paste in the relevant html. It
> > Publishes fine, but when if I hit Save and Continue, or just save a
> > draft and come back, the text that once looked like
> > > <embed src="http://www.youtube.com/v/whatever"
> > > type="application/x-shockwave-flash" width="425"
> height="350"></embed>
> > now looks like
> > > <ibed type="application/x-shockwave-flash" width="425"
> > > height="350"></ibed>
> > . This looks like overly aggressive replacement of <em> tags with
> <i>.
> > I'm not sure why though. Any idea?
> >
> > 2.2-bleeding / 4772 (from svn)
> >
> > --
> > Alan J Castonguay
> > 519.567.2633
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From false.hopes at gmail.com  Thu Apr 19 06:17:29 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Apr 19 06:17:35 2007
Subject: [wp-hackers] MySQL HEAP Persistent Object Cache
Message-ID: <a491f91d0704182317m5d10e72exd6fbb9ae94105431@mail.gmail.com>

After much discussion with Andy and tossing ideas back and forth, I
finally sat down for two hours tonight and threw this together.

Here's the brief rundown, as I am fading quickly and have class in the morning.

This uses a special MySQL engine that stores the information in RAM,
which is much faster than storing to disk, which is what the default
object cache does. In theory, this object cache should be faster,
that's what I'd like you to help me find out :). This is intended to
help shared hosts once it is in a more final stage. There are a few
features I would still like to add.

To use it, download the file, make sure it is named "object-cache.php"
and stick it in your wp-contents/ directory.

Next, using the MySQL console, PHPmyAdmin, or whatever else, issue the
following query:
CREATE TABLE trunk_memcache (hash CHAR(32), num TINYINT, expires INT,
a CHAR(255) NOT NULL default '', b CHAR(255) NOT NULL default '', c
CHAR(255) NOT NULL default '', d CHAR(255) NOT NULL default '', INDEX
USING BTREE (hash,num), INDEX USING BTREE(expires)) ENGINE = MEMORY;

Then, open up your wp-config.php file, and insert the following line
somewhere before the require_once:
define('ENABLE_CACHE', true);

Useful data includes any change in load time from no cache or from the
default file-based object cache (rename your
wp-content/object-cache.php to enable the old object cache, always
make sure its actually writing to disk before sending in any
benchmarks).

Questions are welcome, both technical and non-technical. Any
benchmarks, either numeric or subjective, are welcome (I'd prefer the
numeric kind, of course). Enjoy.

[The file may be attached to this mail, if not, there is a text
version online. http://lushlab.com/plugins/mysql_heap_object_cache/ ]

-- 
--Robert Deaton
http://lushlab.com
From false.hopes at gmail.com  Thu Apr 19 06:18:26 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Apr 19 06:18:33 2007
Subject: [wp-hackers] Re: MySQL HEAP Persistent Object Cache
In-Reply-To: <a491f91d0704182317m5d10e72exd6fbb9ae94105431@mail.gmail.com>
References: <a491f91d0704182317m5d10e72exd6fbb9ae94105431@mail.gmail.com>
Message-ID: <a491f91d0704182318o2dd44473qa2b7cc254129f9ec@mail.gmail.com>

Oh, I forgot to mention. MySQL 4.1 required.

-- 
--Robert Deaton
http://lushlab.com
From davebytes at comcast.net  Thu Apr 19 06:34:37 2007
From: davebytes at comcast.net (David Chait)
Date: Thu Apr 19 06:33:55 2007
Subject: [wp-hackers] MySQL HEAP Persistent Object Cache
In-Reply-To: <a491f91d0704182317m5d10e72exd6fbb9ae94105431@mail.gmail.com>
References: <a491f91d0704182317m5d10e72exd6fbb9ae94105431@mail.gmail.com>
Message-ID: <46270D7D.1090307@comcast.net>

How much will the shared hosting administrators hate you (us?) for 
implementing something that tries to take advantage of something shared 
hosters should be able to do? ;)

I'd be interested to find out if there's a way to run a MySQL command 
set that will test/verify whether this will work on a given shared host, 
and whether it is worth it (i.e., do they actually allocate enough ram 
to mysql to make it useful).

-d

Robert Deaton wrote:
> After much discussion with Andy and tossing ideas back and forth, I
> finally sat down for two hours tonight and threw this together.
>
> Here's the brief rundown, as I am fading quickly and have class in the 
> morning.
>
> This uses a special MySQL engine that stores the information in RAM,
> which is much faster than storing to disk, which is what the default
> object cache does. In theory, this object cache should be faster,
> that's what I'd like you to help me find out :). This is intended to
> help shared hosts once it is in a more final stage. There are a few
> features I would still like to add.
>
> To use it, download the file, make sure it is named "object-cache.php"
> and stick it in your wp-contents/ directory.
>
> Next, using the MySQL console, PHPmyAdmin, or whatever else, issue the
> following query:
> CREATE TABLE trunk_memcache (hash CHAR(32), num TINYINT, expires INT,
> a CHAR(255) NOT NULL default '', b CHAR(255) NOT NULL default '', c
> CHAR(255) NOT NULL default '', d CHAR(255) NOT NULL default '', INDEX
> USING BTREE (hash,num), INDEX USING BTREE(expires)) ENGINE = MEMORY;
>
> Then, open up your wp-config.php file, and insert the following line
> somewhere before the require_once:
> define('ENABLE_CACHE', true);
>
> Useful data includes any change in load time from no cache or from the
> default file-based object cache (rename your
> wp-content/object-cache.php to enable the old object cache, always
> make sure its actually writing to disk before sending in any
> benchmarks).
>
> Questions are welcome, both technical and non-technical. Any
> benchmarks, either numeric or subjective, are welcome (I'd prefer the
> numeric kind, of course). Enjoy.
>
> [The file may be attached to this mail, if not, there is a text
> version online. http://lushlab.com/plugins/mysql_heap_object_cache/ ]
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From false.hopes at gmail.com  Thu Apr 19 06:41:59 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Apr 19 06:42:05 2007
Subject: [wp-hackers] Re: MySQL HEAP Persistent Object Cache
In-Reply-To: <a491f91d0704182318o2dd44473qa2b7cc254129f9ec@mail.gmail.com>
References: <a491f91d0704182317m5d10e72exd6fbb9ae94105431@mail.gmail.com>
	<a491f91d0704182318o2dd44473qa2b7cc254129f9ec@mail.gmail.com>
Message-ID: <a491f91d0704182341t33481098o6a71689f6c12d488@mail.gmail.com>

Sorry for the heavy triple post, I'm extremely tired and disoriented.

The query above has "trunk_" as the table prefix, you may need to
adjust that to your own table prefix. Forgot to mention that, my
mistake.

Props to Andy as the idea was not entirely my own. De-props to Andy
for leading me on wild goose chases as I was trying to write the SQL
schema for this. The curses that went through my mind should never be
said aloud.

Props to Ryan Boren and Mark Jaquith for their different object cache
backends which I "borrowed" the skeletons from.

Also, I'm uploading a new version momentarily. Forgot str_split is
PHP5 only, adding a wrapper.


-- 
--Robert Deaton
http://lushlab.com
From false.hopes at gmail.com  Thu Apr 19 06:47:42 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Thu Apr 19 06:49:17 2007
Subject: [wp-hackers] MySQL HEAP Persistent Object Cache
In-Reply-To: <46270D7D.1090307@comcast.net>
References: <a491f91d0704182317m5d10e72exd6fbb9ae94105431@mail.gmail.com>
	<46270D7D.1090307@comcast.net>
Message-ID: <a491f91d0704182347s70a90f47w61768981d0bd7bce@mail.gmail.com>

On 4/19/07, David Chait <davebytes@comcast.net> wrote:
> How much will the shared hosting administrators hate you (us?) for
> implementing something that tries to take advantage of something shared
> hosters should be able to do? ;)
>
> I'd be interested to find out if there's a way to run a MySQL command
> set that will test/verify whether this will work on a given shared host,
> and whether it is worth it (i.e., do they actually allocate enough ram
> to mysql to make it useful).

Each row to this table should take up a little bit more than 1KB, I'm
going to take a stab and say approximately 1042 bytes. The number of
rows this cache will take depends a lot on the individual blogs, but
I'd say most blogs don't have enough data sitting in their persistent
cache to eat all the MySQL RAM. One of the things I intend to add is a
simple constant you can edit to limit the maximum number of rows in
the table that are cached.

-- 
--Robert Deaton
http://lushlab.com
From skeltoac at gmail.com  Thu Apr 19 07:01:35 2007
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu Apr 19 07:01:39 2007
Subject: [wp-hackers] MySQL HEAP Persistent Object Cache
In-Reply-To: <46270D7D.1090307@comcast.net>
References: <a491f91d0704182317m5d10e72exd6fbb9ae94105431@mail.gmail.com>
	<46270D7D.1090307@comcast.net>
Message-ID: <e6ec604d0704190001p929ea1ds5e534bbc07a4cb2b@mail.gmail.com>

On 4/19/07, David Chait <davebytes@comcast.net> wrote:
> How much will the shared hosting administrators hate you (us?) for
> implementing something that tries to take advantage of something shared
> hosters should be able to do? ;)

Even using only 1MB of RAM, it can cache several hundred items. This
ought to reduce all of the other loads on the machine including RAM,
CPU, I/O. The only way this would upset a host is if it hurt
performance.

We're not trying to get more resources from the box, we're trying to
use less. :-)

Andy
From mark.wordpress at txfx.net  Thu Apr 19 07:22:34 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Thu Apr 19 07:23:21 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <46265C7D.90702@mullenweg.com>
References: <46265C7D.90702@mullenweg.com>
Message-ID: <DC3B408E-16DC-44DB-95F3-6A110DADFE50@txfx.net>

On Apr 18, 2007, at 1:59 PM, Matt Mullenweg wrote:

> Let's create a 2.2 branch and start removing the current tagging  
> implementation. I'll announce on my blog that 2.2 will be delayed.
>
> Based on how long it takes to extract and test a tag-free 2.2 we'll  
> aim for either the 30th or May 7th best case, depending on how many  
> people help out with the process. Ryan will also look at bringing  
> back widgets as an easy, tested, and already-popular feature that  
> will sex up the release.
>
> I think trunk should start experimenting with the new taxonomy  
> proposal on the list, which has the potential to do some really  
> neat things, but I think it's also going to introduce a lot of  
> complexity and need testing beyond the window for 2.2. Pushing it  
> to 2.3 will allow it more breathing room and for us not to rush a  
> pretty critical building block of WP going forward.

I think this is the right decision.  My wedding preparations may get  
in the way of me helping out towards the end of the 2.2 cycle, but  
I'll be back in the saddle to get our new taxonomy system up at the  
start of the 2.3 cycle.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From m at marcosmedia.com  Thu Apr 19 07:57:04 2007
From: m at marcosmedia.com (Marcos Sader | marcosmedia)
Date: Thu Apr 19 07:57:11 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <DC3B408E-16DC-44DB-95F3-6A110DADFE50@txfx.net>
References: <46265C7D.90702@mullenweg.com>
	<DC3B408E-16DC-44DB-95F3-6A110DADFE50@txfx.net>
Message-ID: <8ff7155b0704190057u344185a1xc6c966321d19afd8@mail.gmail.com>

Great, i think this was the right decision to make. Shipping a
"temporary-let-us-see-how-it-goes-schema" was not going to make any good to
WordPress. Afterall, delaying the release few days is a reasonable price for
a stable release ;)

Regarding the ones that are using the trunk on their websites... stop
whining! :P You knew this was going to happen sooner or later, so find your
way around. As someone said above, it is just a list.

Now, let's play with the new schema :D

On 4/19/07, Mark Jaquith <mark.wordpress@txfx.net> wrote:
>
> On Apr 18, 2007, at 1:59 PM, Matt Mullenweg wrote:
>
> > Let's create a 2.2 branch and start removing the current tagging
> > implementation. I'll announce on my blog that 2.2 will be delayed.
> >
> > Based on how long it takes to extract and test a tag-free 2.2 we'll
> > aim for either the 30th or May 7th best case, depending on how many
> > people help out with the process. Ryan will also look at bringing
> > back widgets as an easy, tested, and already-popular feature that
> > will sex up the release.
> >
> > I think trunk should start experimenting with the new taxonomy
> > proposal on the list, which has the potential to do some really
> > neat things, but I think it's also going to introduce a lot of
> > complexity and need testing beyond the window for 2.2. Pushing it
> > to 2.3 will allow it more breathing room and for us not to rush a
> > pretty critical building block of WP going forward.
>
> I think this is the right decision.  My wedding preparations may get
> in the way of me helping out towards the end of the 2.2 cycle, but
> I'll be back in the saddle to get our new taxonomy system up at the
> start of the 2.3 cycle.
>
> --
> Mark Jaquith
> http://markjaquith.com/
>
> Covered Web Services
> http://coveredwebservices.com/
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Marcos Sader
m@marcosmedia.com
From computerguru at neosmart.net  Thu Apr 19 09:57:48 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Thu Apr 19 09:58:43 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <8ff7155b0704190057u344185a1xc6c966321d19afd8@mail.gmail.com>
References: <46265C7D.90702@mullenweg.com>	<DC3B408E-16DC-44DB-95F3-6A110DADFE50@txfx.net>
	<8ff7155b0704190057u344185a1xc6c966321d19afd8@mail.gmail.com>
Message-ID: <007001c78269$4496a9d0$cdc3fd70$@net>

"this was going to happen sooner or later"

I don't think that's true. The hard-core WP testers run everything off trunk, and I've personally been doing that on my production site @ http://neosmart.net/blog/ since the 1.6-to-be days and I never had to worry about a thing. 

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Marcos Sader | marcosmedia
> Sent: Thursday, April 19, 2007 10:57 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] 2.2 release
> 
> Great, i think this was the right decision to make. Shipping a
> "temporary-let-us-see-how-it-goes-schema" was not going to make any
> good to
> WordPress. Afterall, delaying the release few days is a reasonable
> price for
> a stable release ;)
> 
> Regarding the ones that are using the trunk on their websites... stop
> whining! :P You knew this was going to happen sooner or later, so find
> your
> way around. As someone said above, it is just a list.
> 
> Now, let's play with the new schema :D
> 
> On 4/19/07, Mark Jaquith <mark.wordpress@txfx.net> wrote:
> >
> > On Apr 18, 2007, at 1:59 PM, Matt Mullenweg wrote:
> >
> > > Let's create a 2.2 branch and start removing the current tagging
> > > implementation. I'll announce on my blog that 2.2 will be delayed.
> > >
> > > Based on how long it takes to extract and test a tag-free 2.2 we'll
> > > aim for either the 30th or May 7th best case, depending on how many
> > > people help out with the process. Ryan will also look at bringing
> > > back widgets as an easy, tested, and already-popular feature that
> > > will sex up the release.
> > >
> > > I think trunk should start experimenting with the new taxonomy
> > > proposal on the list, which has the potential to do some really
> > > neat things, but I think it's also going to introduce a lot of
> > > complexity and need testing beyond the window for 2.2. Pushing it
> > > to 2.3 will allow it more breathing room and for us not to rush a
> > > pretty critical building block of WP going forward.
> >
> > I think this is the right decision.  My wedding preparations may get
> > in the way of me helping out towards the end of the 2.2 cycle, but
> > I'll be back in the saddle to get our new taxonomy system up at the
> > start of the 2.3 cycle.
> >
> > --
> > Mark Jaquith
> > http://markjaquith.com/
> >
> > Covered Web Services
> > http://coveredwebservices.com/
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> --
> Marcos Sader
> m@marcosmedia.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From m at marcosmedia.com  Thu Apr 19 14:07:43 2007
From: m at marcosmedia.com (Marcos Sader | marcosmedia)
Date: Thu Apr 19 14:07:51 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <007001c78269$4496a9d0$cdc3fd70$@net>
References: <46265C7D.90702@mullenweg.com>
	<DC3B408E-16DC-44DB-95F3-6A110DADFE50@txfx.net>
	<8ff7155b0704190057u344185a1xc6c966321d19afd8@mail.gmail.com>
	<007001c78269$4496a9d0$cdc3fd70$@net>
Message-ID: <8ff7155b0704190707o2212eda3w8c70ab7e20cefb68@mail.gmail.com>

Now you have to, it's unstable, so no complains ;)

On 4/19/07, Computer Guru <computerguru@neosmart.net> wrote:
>
> "this was going to happen sooner or later"
>
> I don't think that's true. The hard-core WP testers run everything off
> trunk, and I've personally been doing that on my production site @
> http://neosmart.net/blog/ since the 1.6-to-be days and I never had to
> worry about a thing.
>
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
>
>
> > -----Original Message-----
> > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > bounces@lists.automattic.com] On Behalf Of Marcos Sader | marcosmedia
> > Sent: Thursday, April 19, 2007 10:57 AM
> > To: wp-hackers@lists.automattic.com
> > Subject: Re: [wp-hackers] 2.2 release
> >
> > Great, i think this was the right decision to make. Shipping a
> > "temporary-let-us-see-how-it-goes-schema" was not going to make any
> > good to
> > WordPress. Afterall, delaying the release few days is a reasonable
> > price for
> > a stable release ;)
> >
> > Regarding the ones that are using the trunk on their websites... stop
> > whining! :P You knew this was going to happen sooner or later, so find
> > your
> > way around. As someone said above, it is just a list.
> >
> > Now, let's play with the new schema :D
> >
> > On 4/19/07, Mark Jaquith <mark.wordpress@txfx.net> wrote:
> > >
> > > On Apr 18, 2007, at 1:59 PM, Matt Mullenweg wrote:
> > >
> > > > Let's create a 2.2 branch and start removing the current tagging
> > > > implementation. I'll announce on my blog that 2.2 will be delayed.
> > > >
> > > > Based on how long it takes to extract and test a tag-free 2.2 we'll
> > > > aim for either the 30th or May 7th best case, depending on how many
> > > > people help out with the process. Ryan will also look at bringing
> > > > back widgets as an easy, tested, and already-popular feature that
> > > > will sex up the release.
> > > >
> > > > I think trunk should start experimenting with the new taxonomy
> > > > proposal on the list, which has the potential to do some really
> > > > neat things, but I think it's also going to introduce a lot of
> > > > complexity and need testing beyond the window for 2.2. Pushing it
> > > > to 2.3 will allow it more breathing room and for us not to rush a
> > > > pretty critical building block of WP going forward.
> > >
> > > I think this is the right decision.  My wedding preparations may get
> > > in the way of me helping out towards the end of the 2.2 cycle, but
> > > I'll be back in the saddle to get our new taxonomy system up at the
> > > start of the 2.3 cycle.
> > >
> > > --
> > > Mark Jaquith
> > > http://markjaquith.com/
> > >
> > > Covered Web Services
> > > http://coveredwebservices.com/
> > >
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > Marcos Sader
> > m@marcosmedia.com
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Marcos Sader
m@marcosmedia.com
From computerguru at neosmart.net  Thu Apr 19 14:10:07 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Thu Apr 19 14:10:54 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <8ff7155b0704190707o2212eda3w8c70ab7e20cefb68@mail.gmail.com>
References: <46265C7D.90702@mullenweg.com>	<DC3B408E-16DC-44DB-95F3-6A110DADFE50@txfx.net>	<8ff7155b0704190057u344185a1xc6c966321d19afd8@mail.gmail.com>	<007001c78269$4496a9d0$cdc3fd70$@net>
	<8ff7155b0704190707o2212eda3w8c70ab7e20cefb68@mail.gmail.com>
Message-ID: <007101c7828c$7d86d850$789488f0$@net>

It's not a complaint, per say.
It's like this:

1) State the problem
2) Identify obstacles
3) Fix them. 

We were at stage 1....

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Marcos Sader | marcosmedia
> Sent: Thursday, April 19, 2007 5:08 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] 2.2 release
> 
> Now you have to, it's unstable, so no complains ;)
> 
> On 4/19/07, Computer Guru <computerguru@neosmart.net> wrote:
> >
> > "this was going to happen sooner or later"
> >
> > I don't think that's true. The hard-core WP testers run everything
> off
> > trunk, and I've personally been doing that on my production site @
> > http://neosmart.net/blog/ since the 1.6-to-be days and I never had to
> > worry about a thing.
> >
> > Computer Guru
> > NeoSmart Technologies
> > http://neosmart.net/blog/
> >
> >
> > > -----Original Message-----
> > > From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> > > bounces@lists.automattic.com] On Behalf Of Marcos Sader |
> marcosmedia
> > > Sent: Thursday, April 19, 2007 10:57 AM
> > > To: wp-hackers@lists.automattic.com
> > > Subject: Re: [wp-hackers] 2.2 release
> > >
> > > Great, i think this was the right decision to make. Shipping a
> > > "temporary-let-us-see-how-it-goes-schema" was not going to make any
> > > good to
> > > WordPress. Afterall, delaying the release few days is a reasonable
> > > price for
> > > a stable release ;)
> > >
> > > Regarding the ones that are using the trunk on their websites...
> stop
> > > whining! :P You knew this was going to happen sooner or later, so
> find
> > > your
> > > way around. As someone said above, it is just a list.
> > >
> > > Now, let's play with the new schema :D
> > >
> > > On 4/19/07, Mark Jaquith <mark.wordpress@txfx.net> wrote:
> > > >
> > > > On Apr 18, 2007, at 1:59 PM, Matt Mullenweg wrote:
> > > >
> > > > > Let's create a 2.2 branch and start removing the current
> tagging
> > > > > implementation. I'll announce on my blog that 2.2 will be
> delayed.
> > > > >
> > > > > Based on how long it takes to extract and test a tag-free 2.2
> we'll
> > > > > aim for either the 30th or May 7th best case, depending on how
> many
> > > > > people help out with the process. Ryan will also look at
> bringing
> > > > > back widgets as an easy, tested, and already-popular feature
> that
> > > > > will sex up the release.
> > > > >
> > > > > I think trunk should start experimenting with the new taxonomy
> > > > > proposal on the list, which has the potential to do some really
> > > > > neat things, but I think it's also going to introduce a lot of
> > > > > complexity and need testing beyond the window for 2.2. Pushing
> it
> > > > > to 2.3 will allow it more breathing room and for us not to rush
> a
> > > > > pretty critical building block of WP going forward.
> > > >
> > > > I think this is the right decision.  My wedding preparations may
> get
> > > > in the way of me helping out towards the end of the 2.2 cycle,
> but
> > > > I'll be back in the saddle to get our new taxonomy system up at
> the
> > > > start of the 2.3 cycle.
> > > >
> > > > --
> > > > Mark Jaquith
> > > > http://markjaquith.com/
> > > >
> > > > Covered Web Services
> > > > http://coveredwebservices.com/
> > > >
> > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers@lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > >
> > >
> > >
> > > --
> > > Marcos Sader
> > > m@marcosmedia.com
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> 
> --
> Marcos Sader
> m@marcosmedia.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jer at simianuprising.com  Thu Apr 19 14:30:55 2007
From: jer at simianuprising.com (Jeremy Clarke)
Date: Thu Apr 19 14:31:03 2007
Subject: [wp-hackers] overly aggressive replacement of <em> tags with <i>?
In-Reply-To: <006901c78239$e76e22d0$b64a6870$@net>
References: <4626C189.60100@verselogic.net>
	<d135ca9c0704181903x59d7e7ecp2db1fabd0f25d460@mail.gmail.com>
	<006901c78239$e76e22d0$b64a6870$@net>
Message-ID: <e1202cb10704190730g7de6e9bak1cf8384b0370addf@mail.gmail.com>

> > Matt: I believe it's for the RCE's displaying of the output. I don't
> > know
> > the specifics. But it doesn't convert it permanently as far as I know.

Had the same problem and it did change the actual post text. If you
don't want to upgrade you can just turn off the visual editor entirely
in user prefs, though you'll have to go in and change the posts back
to em.


> > On 4/18/07, Alan J Castonguay <alan@verselogic.net> wrote:
> > >
> > > Sometimes I like to include embedded flash videos in a post. Commonly
> > I
> > > switch over to the code editor and paste in the relevant html. It
> > > Publishes fine, but when if I hit Save and Continue, or just save a
> > > draft and come back, the text that once looked like
> > > > <embed src="http://www.youtube.com/v/whatever"
> > > > type="application/x-shockwave-flash" width="425"
> > height="350"></embed>
> > > now looks like
> > > > <ibed type="application/x-shockwave-flash" width="425"
> > > > height="350"></ibed>
> > > . This looks like overly aggressive replacement of <em> tags with
> > <i>.
> > > I'm not sure why though. Any idea?
> > >
> > > 2.2-bleeding / 4772 (from svn)
> > >
> > > --
> > > Alan J Castonguay
> > > 519.567.2633
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wphackers at jamietalbot.com  Thu Apr 19 15:18:02 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Thu Apr 19 15:19:02 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>	<46240915.7050006@jamietalbot.com>	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>	<462612E7.5070909@jamietalbot.com>
	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
Message-ID: <4627882A.9090807@jamietalbot.com>

Ryan Boren wrote:
> I caught a bug that's laying me low at the moment.  The stuff you are
> proposing sounds pretty good, but my head isn't clear enough to think
> it all the way through.  Would you mind taking the proposed schema,
> modifying it with your amendments, sprinkling in a few comments, and
> submitting back to the list so we can see it as a whole?
> 
> Ryan

So here are my initial thoughts.  The schema is almost identical to your proposed one, with the
changes I suggested for an integer join, as well as alias stuff from elsewhere on this thread:

<?php

// terms contains the actual categories/tags/terms/classifiers/whatevers.  It stores ID, name, and
slug and alias group.
CREATE TABLE $wpdb->terms (
 term_id bigint(20) NOT NULL auto_increment,
 term_name varchar(55) NOT NULL default '',
 term_slug varchar(200) NOT NULL default '',
 term_group bigint(10) NOT NULL default 0
 PRIMARY KEY  (term_ID),
 UNIQUE KEY term_slug (term_slug)
);

// term_taxonomy puts a term in the context of a taxonomy (link category, post category, or tag).
Hierarchy is put here as well as counts.
CREATE TABLE $wpdb->term_taxonomy (
 term_taxonomy_id bigint(20) NOT NULL auto_increment,
 term_id bigint(20) NOT NULL default 0,
 taxonomy varchar(20) NOT NULL default 0,
 term_description longtext NOT NULL,
 parent bigint(20) NOT NULL default 0,
 count bigint(20) NOT NULL default 0,
 PRIMARY KEY (term_taxonomy_id),
 KEY (term_idtaxonomy)
);

// term_relationships relates a term to a post or link or undeclared future object thingy.  The
relationship is placed within the context of a given taxonomy.
CREATE TABLE $wpdb->term_relationships (
 object_id bigint(20) NOT NULL default 0,
 term_taxonomy_id bigint(20) NOT NULL default 0,
 PRIMARY KEY  (object_ID),
 KEY (term_taxonomy_id)
);

// Some default definitions that might be useful.
define ('TAXONOMY_POST_CATEGORY', 1);
define ('TAXONOMY_LINK_CATEGORY', 2);
define ('TAXONOMY_POST_TAG', 4);

// Very basic example API.  This is half pseudocode, mostly real.  Not by any means final.
class WPTaxonomy {

	static var taxonomies = array(
		TAXONOMY_POST_CATEGORY => 'post_category',
		TAXONOMY_LINK_CATEGORY => 'link_category',
		TAXONOMY_POST_TAG => 'post_tag'
	);

	// Adds a new term, also adds alias relationship if necessary.  Handles numeric or slug-based aliases.
	function add_term($term, $alias_of = '') {
		global $wpdb;
		$term_slug = sanitize($term);		
		if ($alias_of) {
			// ctype_digit is faster than is_numeric, with the caveat that the arg must be in a string.
			$clause = (ctype_digit("$alias_of")) ? "term_id = $alias_of" : "term_slug = '$alias_of'";
			$alias = $wpdb->fetch_row("SELECT term_id, term_group FROM $wpdb->terms WHERE $clause");
			if ($alias->term_group)
				// The alias we want is already in a group, so let's use that one.
				$term_group = $alias->term_group;
			} else {
				// The alias isn't in a group, so let's create a new one and firstly add the alias term to it.
				$term_group = $wpdb->get_var("SELECT MAX() term_group FROM $wpdb->terms GROUP BY term_group") + 1;
				$wpdb->query("UPDATE $wpdb->terms SET term_group = $term_group WHERE term_id = $alias->term_id");
			}
		} else {
			$term_group = 0;
		}		
		// Because we have a unique key on term_slug, this will update or insert.  This means we can use
the same function
		// just to make an alias relationship between existing terms.  The term group has already been set
above.
		$wpdb->query("REPLACE INTO $wpdb->terms (term_name, term_slug, term_group) VALUES ($term,
$term_slug, $term_group)");
	}

	// Adds or increments a term taxonomy entry (for example, 'city' as a post_tag).
	// Accepts either term_id or term_slug, for completeness...
	function add_term_taxonomy($term, $taxonomy, $description = '', $parent = 0) {
		$clause = (ctype_digit("$term")) ? "t.term_id = $term" : "t.term_slug = '$term'";
		if ($count = $wpdb->query("SELECT tt.count FROM $wpdb->term_taxonomy AS tt INNER JOIN $wpdb->terms
AS t ON tt.term_id = t.term_id WHERE tt.taxonomy = '$taxonomy' AND $clause")) {
      // We'll be updating whatever's there, and incrementing the count.  Not a huge fan of
      // storing counts by the way, but accept that there might be valid optimisation reasons for
doing so.
      $count++;
			$wpdb->query("UPDATE $wpdb->term_taxonomy SET count = $count");
		} else {
      // There was no existing entry for this term and taxonomy type, so add a new one, using the
supplied
			// description and parent, with a count of 1.
      $wpdb->query("INSERT INTO $wpdb->term_taxonomy (term_id, taxonomy, term_description, parent,
count) SELECT term_id, '$taxonomy', '$description', $parent, 1 FROM $wpdb->terms AS t1 WHERE $clause");
		}
	}

	// Accepts either term_id or term_slug.	
	function get_aliases($term) {
		global $wpdb;
		$clause = (ctype_digit("$term")) ? "t1.term_id = $term" : "t1.term_slug = '$term'";
		return $wpdb->fetch("SELECT t2.* FROM $wpdb->terms AS t1 INNER JOIN $wpdb->terms AS t2 ON
t1.term_group = t2.term_group WHERE t1.term_group != 0 AND $clause");
	}
	
	// Gets the counts of supplied term, for specified taxonomies.
	// Could be extended to accept an array of terms.
	// Returns an object with members for each taxonomy if more than one is specified.
	// This example has taxonomies specified as strings, but you could also do it based on integers,
either from the default defines, or from a taxonomy index added by a plugin using add_taxonomy();
	function get_count($term, $taxonomies) {
		global $wpdb;
		if (ctype_digit("$term")) {
			$clause = "term_id = $term";
		} else {
			$join = "INNER JOIN $wpdb->terms AS t ON t.term_id = tt.term_id";
			$clause = "t.term_slug = '$term'";
		}

		if (is_array($taxonomies)) {
			$taxonomies = "'" implode("','", $taxonomies) . "'";
			if (!$counts = $wpdb->fetch("SELECT taxonomy, count FROM $wpdb->term_taxonomy AS tt $join WHERE
tt.taxonomy IN ($taxonomies) AND $clause")) {
				// Does $wpdb->fetch return an empty array, when there are no results?
				$counts = array();
			}
			foreach ($counts as $count) {
			  // Note that for this to work, taxonomies must use underscores, not hyphens, in their names...
				$return->{$count->taxonomy} = $count->count;
			}
		} else {
			$return = $wpdb->get_var("SELECT count FROM $wpdb->term_taxonomy AS tt $join WHERE tt.taxonomy =
'$taxonomies' AND $clause LIMIT 1");
		}
		return $return;
	}
	
	// Adds a new taxonomy and returns the index it was added at.
	static function add_taxonomy($taxonomy) {
		$index = last(array_flip(WPTaxonomy::taxonomies)) * 2;
		WPTaxonomy::taxonomies[$index] = $taxonomy;
		return $index;
	}
}

Plugins can say <?php $my_taxonomy_index = add_taxonomy('my_awesome_taxonomy'); ?> then use that
index, or 'my_awesome_taxonomy' to refer to it later on.  Pretty flexible, nice and extensible,
mostly normalised and with the opportunity to flesh out a full API.

For a more classical OO approach, rather than just using a class as a container, something like
class WPTerm {} might be nice, so you could do:

$term = new WPTerm('city');
$term->get_aliases();
$counts = $term->get_count(TAXONOMY_LINK_CATEGORY | TAXONOMY_POST_TAG);
// counts->link_category = 5;
// counts->post_tag = 8;
$term->find_ancestors();

Again where the WPTerm constructor would accept either an term_id or a term_slug.  Not sure what
people would think of that?

I'll leave it there for now :)

Cheers,

Jamie.
?>

--
http://jamietalbot.com
From wphackers at jamietalbot.com  Thu Apr 19 15:33:19 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Thu Apr 19 15:34:22 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <b65af1a30704181628s1e5c1060yfbceccbc11b4da80@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<46254D80.2040800@mullenweg.com>
	<462617B9.3040206@jamietalbot.com>	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>	<46267400.1080805@mullenweg.com>	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>	<46267B06.7030705@mullenweg.com>
	<b65af1a30704181628s1e5c1060yfbceccbc11b4da80@mail.gmail.com>
Message-ID: <46278BBF.7060509@jamietalbot.com>

Steve Lewis wrote:
> On 4/18/07, Matt Mullenweg <m@mullenweg.com> wrote:
>>
>> Steve Lewis wrote:
>> > Categories are not in a distinct table from Tags because they are both
>> in
>> > wp_terms in the proposed schema I am replying to.
>>
>> But terms are neither categories or tags, the definition is stored in a
>> separate table so you can have both a category and tag named "cocktails."
>>
> 
> Sorry, I'm not buying that.  Terms have a taxonomy which may be Category or
> Tag or some other.  That means Categories and Tags are Terms.  That
> suggests I shouldn't care which taxonomy is associated with the Term. 

That doesn't necessarily follow.  I could want a post_category called news, and want to tag certain
posts with news.  In one context, I want to retrieve all posts that have the category news.  In the
other, I only want those individually tagged with news.  These are not necessarily the same subsets.
 Now granted, you wouldn't be able to differentiate those in a URL without a category and tag base,
but we do have those and as far as I can tell, they're not going away (though they are becoming
customisable perhaps).

> I think it
> will be both easier to use for authors and easier to support for the
> community if *or* is considered to be *xor* in implementation.  Hopefully I
> made that clear.

Isn't that exactly what we *don't* want?  If I understand you correctly, you want to a term to be
either a post_category, or a post_tag, but not both?  What happens when you add a link_category
called 'friends'?  That means under your proposal you'd never be able to tag anything as 'friends'
or put posts in a category called 'friends'.  As I understand it, this was a big complaint about the
integration of link and post categories and exactly the thing we're trying to avoid here.

And after all this, there is a unique key on the proposed terms table term_slug anyway, as well as
on the term taxonomy table for the (term_id, taxonomy) tuple.  Or if there isn't I just missed it
off and there should be.

Cheers,

Jamie.

--
http://jamietalbot.com
From denis at mesoconcepts.com  Thu Apr 19 16:00:17 2007
From: denis at mesoconcepts.com (Denis de Bernardy)
Date: Thu Apr 19 16:02:40 2007
Subject: [wp-hackers] Re: 2.2 release
In-Reply-To: <20070419041809.CF22B6CC9@comox.textdrive.com>
Message-ID: <004201c7829b$d3c9fbc0$6401a8c0@kergan>


> m at mullenweg.com wrote:
> > Let's create a 2.2 branch and start removing the current tagging
> > implementation. I'll announce on my blog that 2.2 will be delayed.
> > 
> > Based on how long it takes to extract and test a tag-free 2.2 we'll 
> > aim for either the 30th or May 7th best case (...)
> 
> Instead why don't we push back WP 2.2 until June

+1

D.

From wordpress at nazgul.nu  Thu Apr 19 16:21:59 2007
From: wordpress at nazgul.nu (Bas Bosman)
Date: Thu Apr 19 16:22:16 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <4627882A.9090807@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>	<46240915.7050006@jamietalbot.com>	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>	<462612E7.5070909@jamietalbot.com>
	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
	<4627882A.9090807@jamietalbot.com>
Message-ID: <62428.217.169.231.130.1176999719.squirrel@webmail.colokoe.nl>

> CREATE TABLE $wpdb->terms (
>  term_id bigint(20) NOT NULL auto_increment,
>  term_name varchar(55) NOT NULL default '',
>  term_slug varchar(200) NOT NULL default '',
>  term_group bigint(10) NOT NULL default 0
>  PRIMARY KEY  (term_ID),
>  UNIQUE KEY term_slug (term_slug)
> );

I think it's just a typo, but in every iteration of the scheme i've seen
on this list there is a field called term_id and a primary key called
term_ID?

The same also applies to object_id in one of the other tables.

Bas Bosman (Nazgul)

From stevelle at gmail.com  Thu Apr 19 16:40:08 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Thu Apr 19 16:40:22 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <46278BBF.7060509@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<46254D80.2040800@mullenweg.com> <462617B9.3040206@jamietalbot.com>
	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>
	<46267400.1080805@mullenweg.com>
	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>
	<46267B06.7030705@mullenweg.com>
	<b65af1a30704181628s1e5c1060yfbceccbc11b4da80@mail.gmail.com>
	<46278BBF.7060509@jamietalbot.com>
Message-ID: <b65af1a30704190940qf18b4f5qf6890c83b8db810@mail.gmail.com>

On 4/19/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
>
> > Sorry, I'm not buying that.  Terms have a taxonomy which may be Category
> or
> > Tag or some other.  That means Categories and Tags are Terms.  That
> > suggests I shouldn't care which taxonomy is associated with the Term.
>
> That doesn't necessarily follow.  I could want a post_category called
> news, and want to tag certain


It doesn't have to.  The example you provided is understood.

> I think it
> > will be both easier to use for authors and easier to support for the
> > community if *or* is considered to be *xor* in
> implementation.  Hopefully I
> > made that clear.
>
> Isn't that exactly what we *don't* want?  If I understand you correctly,
> you want to a term to be
> either a post_category, or a post_tag, but not both?


We want different things.  I don't want to share tables across different
taxonomies unless the terms are exclusive.

As I understand it, this was a big complaint about the
> integration of link and post categories and exactly the thing we're trying
> to avoid here.


Our understanding of the complaints re: link and post categories is
different. The complaints I am familiar with were that the release that
merged them broke APIs without sufficient warning.  My recollections are
most likely the least reliable in the room because they were personal and
emotional when my stuff got broken and I had to roll back.

If you want that functionality, it's not clear what exactly you are buying
by having everything in one table.  Maybe I was clear on some value in doing
that before, but I forgot.  Either way, that argument seems to be going
nowhere.

After grousing as much as I have, i should take a moment to review the php
you outlined--and actually contribute something useful[gdr].  I haven't read
it yet, and will try to make some time to soon, but if you do put a UNIQUE
on the term_slug then you might find it difficult to create a 'friends' tag
if you already have a 'friends' category, no?  To do what you want, you
should put a compound UNIQUE on the taxonomy table: UNIQUE(taxonomy,
term_id).

-- 
SteveL
From ryan at boren.nu  Thu Apr 19 16:42:21 2007
From: ryan at boren.nu (Ryan Boren)
Date: Thu Apr 19 16:42:26 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <4627882A.9090807@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>
	<46240915.7050006@jamietalbot.com>
	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
	<462612E7.5070909@jamietalbot.com>
	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
	<4627882A.9090807@jamietalbot.com>
Message-ID: <bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>

On 4/19/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
> // terms contains the actual categories/tags/terms/classifiers/whatevers.  It stores ID, name, and
> slug and alias group.
> CREATE TABLE $wpdb->terms (
>  term_id bigint(20) NOT NULL auto_increment,
>  term_name varchar(55) NOT NULL default '',
>  term_slug varchar(200) NOT NULL default '',
>  term_group bigint(10) NOT NULL default 0
>  PRIMARY KEY  (term_ID),
>  UNIQUE KEY term_slug (term_slug)
> );
>
> // term_taxonomy puts a term in the context of a taxonomy (link category, post category, or tag).
> Hierarchy is put here as well as counts.
> CREATE TABLE $wpdb->term_taxonomy (
>  term_taxonomy_id bigint(20) NOT NULL auto_increment,
>  term_id bigint(20) NOT NULL default 0,
>  taxonomy varchar(20) NOT NULL default 0,
>  term_description longtext NOT NULL,
>  parent bigint(20) NOT NULL default 0,
>  count bigint(20) NOT NULL default 0,
>  PRIMARY KEY (term_taxonomy_id),
>  KEY (term_idtaxonomy)
> );
>
> // term_relationships relates a term to a post or link or undeclared future object thingy.  The
> relationship is placed within the context of a given taxonomy.
> CREATE TABLE $wpdb->term_relationships (
>  object_id bigint(20) NOT NULL default 0,
>  term_taxonomy_id bigint(20) NOT NULL default 0,
>  PRIMARY KEY  (object_ID),
>  KEY (term_taxonomy_id)
> );

So each term_taxonomy entry has its own unique id stored in
term_taxonomy_id?  Given an object_id, how does one find all
relationships in a specific taxonomy since there is no taxonomy field
in term_relationships?

>         // Adds a new term, also adds alias relationship if necessary.  Handles numeric or slug-based aliases.
>         function add_term($term, $alias_of = '') {
>                 global $wpdb;
>                 $term_slug = sanitize($term);
>                 if ($alias_of) {
>                         // ctype_digit is faster than is_numeric, with the caveat that the arg must be in a string.
>                         $clause = (ctype_digit("$alias_of")) ? "term_id = $alias_of" : "term_slug = '$alias_of'";

Using a year as a category/tag is pretty common. "2007" would be
misidentified as term ID.


>         // Adds a new taxonomy and returns the index it was added at.
>         static function add_taxonomy($taxonomy) {
>                 $index = last(array_flip(WPTaxonomy::taxonomies)) * 2;
>                 WPTaxonomy::taxonomies[$index] = $taxonomy;
>                 return $index;
>         }
> }
>
> Plugins can say <?php $my_taxonomy_index = add_taxonomy('my_awesome_taxonomy'); ?> then use that
> index, or 'my_awesome_taxonomy' to refer to it later on.  Pretty flexible, nice and extensible,
> mostly normalised and with the opportunity to flesh out a full API.

We have to be careful about the id changing depending on plugin load
order, but we can work that out.

> For a more classical OO approach, rather than just using a class as a container, something like
> class WPTerm {} might be nice, so you could do:
>
> $term = new WPTerm('city');
> $term->get_aliases();
> $counts = $term->get_count(TAXONOMY_LINK_CATEGORY | TAXONOMY_POST_TAG);
> // counts->link_category = 5;
> // counts->post_tag = 8;
> $term->find_ancestors();
>
> Again where the WPTerm constructor would accept either an term_id or a term_slug.  Not sure what
> people would think of that?

Fine by me.

Ryan
From stevelle at gmail.com  Thu Apr 19 16:44:53 2007
From: stevelle at gmail.com (Steve Lewis)
Date: Thu Apr 19 16:45:18 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <b65af1a30704190940qf18b4f5qf6890c83b8db810@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<46254D80.2040800@mullenweg.com> <462617B9.3040206@jamietalbot.com>
	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>
	<46267400.1080805@mullenweg.com>
	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>
	<46267B06.7030705@mullenweg.com>
	<b65af1a30704181628s1e5c1060yfbceccbc11b4da80@mail.gmail.com>
	<46278BBF.7060509@jamietalbot.com>
	<b65af1a30704190940qf18b4f5qf6890c83b8db810@mail.gmail.com>
Message-ID: <b65af1a30704190944s32ac49ccn3a22bc3a8bd29988@mail.gmail.com>

Poor form, replying to self...

On 4/19/07, Steve Lewis <stevelle@gmail.com> wrote:
>
> but if you do put a UNIQUE on the term_slug then you might find it
> difficult to create a 'friends' tag if you already have a 'friends'
> category, no?  To do what you want, you should put a compound UNIQUE on the
> taxonomy table: UNIQUE(taxonomy, term_id).
>

Scratch that, you want the UNIQUE on the term_slug.  The terms to taxonomy
relation isn't 1:1.  I believe you still want your KEY (taxonomy, term_id)
to be a UNIQUE, however.

-- 
SteveL
From alan at verselogic.net  Thu Apr 19 19:01:40 2007
From: alan at verselogic.net (Alan J Castonguay)
Date: Thu Apr 19 19:02:12 2007
Subject: [wp-hackers] overly aggressive replacement of <em> tags with <i>?
In-Reply-To: <e1202cb10704190730g7de6e9bak1cf8384b0370addf@mail.gmail.com>
References: <4626C189.60100@verselogic.net>	<d135ca9c0704181903x59d7e7ecp2db1fabd0f25d460@mail.gmail.com>	<006901c78239$e76e22d0$b64a6870$@net>
	<e1202cb10704190730g7de6e9bak1cf8384b0370addf@mail.gmail.com>
Message-ID: <4627BC94.7060602@verselogic.net>

I was editing in RCE, hopping over to code view, and repasting the 
<embed> string each time. It's good to know that issue has been 
corrected though, I'll stop looking and `svn up' once I have some time 
to fix any ensuing weirdness. Thanks.

Jeremy Clarke wrote:
>> > Matt: I believe it's for the RCE's displaying of the output. I don't
>> > know
>> > the specifics. But it doesn't convert it permanently as far as I know.
>
> Had the same problem and it did change the actual post text. If you
> don't want to upgrade you can just turn off the visual editor entirely
> in user prefs, though you'll have to go in and change the posts back
> to em.

From david.phoenix at gmail.com  Thu Apr 19 21:45:57 2007
From: david.phoenix at gmail.com (David Peralty)
Date: Thu Apr 19 21:46:03 2007
Subject: [wp-hackers] Re: 2.2 release
In-Reply-To: <004201c7829b$d3c9fbc0$6401a8c0@kergan>
References: <20070419041809.CF22B6CC9@comox.textdrive.com>
	<004201c7829b$d3c9fbc0$6401a8c0@kergan>
Message-ID: <957d73c60704191445v32241716m22b0353a213c6cb4@mail.gmail.com>

I know I don't talk on here much, but I have made it as clear as I can
on Blogging Pro that making a perfect 2.2 is more important than when
its released. Besides that... I am still recovering from upgrading
everything to 2.1.3... :) Take the extra time, get all the great
features in there and release 2.2 then. That way we won't have to see
a 2.2.1 a week or two afterwards. If you release June 1st... I doubt
anyone will complain (too loudly).

On 4/19/07, Denis de Bernardy <denis@mesoconcepts.com> wrote:
>
> > m at mullenweg.com wrote:
> > > Let's create a 2.2 branch and start removing the current tagging
> > > implementation. I'll announce on my blog that 2.2 will be delayed.
> > >
> > > Based on how long it takes to extract and test a tag-free 2.2 we'll
> > > aim for either the 30th or May 7th best case (...)
> >
> > Instead why don't we push back WP 2.2 until June
>
> +1
>
> D.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
David | www.phoenixrealm.com
From ryan at boren.nu  Thu Apr 19 22:10:27 2007
From: ryan at boren.nu (Ryan Boren)
Date: Thu Apr 19 22:10:34 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>
	<46240915.7050006@jamietalbot.com>
	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
	<462612E7.5070909@jamietalbot.com>
	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
	<4627882A.9090807@jamietalbot.com>
	<bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>
Message-ID: <bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>

On 4/19/07, Ryan Boren <ryan@boren.nu> wrote:
> On 4/19/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
> > // terms contains the actual categories/tags/terms/classifiers/whatevers.  It stores ID, name, and
> > slug and alias group.
> > CREATE TABLE $wpdb->terms (
> >  term_id bigint(20) NOT NULL auto_increment,
> >  term_name varchar(55) NOT NULL default '',
> >  term_slug varchar(200) NOT NULL default '',
> >  term_group bigint(10) NOT NULL default 0
> >  PRIMARY KEY  (term_ID),
> >  UNIQUE KEY term_slug (term_slug)
> > );
> >
> > // term_taxonomy puts a term in the context of a taxonomy (link category, post category, or tag).
> > Hierarchy is put here as well as counts.
> > CREATE TABLE $wpdb->term_taxonomy (
> >  term_taxonomy_id bigint(20) NOT NULL auto_increment,
> >  term_id bigint(20) NOT NULL default 0,
> >  taxonomy varchar(20) NOT NULL default 0,
> >  term_description longtext NOT NULL,
> >  parent bigint(20) NOT NULL default 0,
> >  count bigint(20) NOT NULL default 0,
> >  PRIMARY KEY (term_taxonomy_id),
> >  KEY (term_idtaxonomy)
> > );
> >
> > // term_relationships relates a term to a post or link or undeclared future object thingy.  The
> > relationship is placed within the context of a given taxonomy.
> > CREATE TABLE $wpdb->term_relationships (
> >  object_id bigint(20) NOT NULL default 0,
> >  term_taxonomy_id bigint(20) NOT NULL default 0,
> >  PRIMARY KEY  (object_ID),
> >  KEY (term_taxonomy_id)
> > );
>
> So each term_taxonomy entry has its own unique id stored in
> term_taxonomy_id?  Given an object_id, how does one find all
> relationships in a specific taxonomy since there is no taxonomy field
> in term_relationships?

I guess we use it to join on term_taxonomy and select where taxonomy =
tag, etc.  We'll probably end up getting all taxonomies for the term
in one gulp and divvy up the results in php.

> >         // Adds a new term, also adds alias relationship if necessary.  Handles numeric or slug-based aliases.
> >         function add_term($term, $alias_of = '') {
> >                 global $wpdb;
> >                 $term_slug = sanitize($term);
> >                 if ($alias_of) {
> >                         // ctype_digit is faster than is_numeric, with the caveat that the arg must be in a string.
> >                         $clause = (ctype_digit("$alias_of")) ? "term_id = $alias_of" : "term_slug = '$alias_of'";
>
> Using a year as a category/tag is pretty common. "2007" would be
> misidentified as term ID.

Mark suggested we could regard the int 2007 as an ID and the string
'2007' as a slug.

> >         // Adds a new taxonomy and returns the index it was added at.
> >         static function add_taxonomy($taxonomy) {
> >                 $index = last(array_flip(WPTaxonomy::taxonomies)) * 2;
> >                 WPTaxonomy::taxonomies[$index] = $taxonomy;
> >                 return $index;
> >         }
> > }
> >
> > Plugins can say <?php $my_taxonomy_index = add_taxonomy('my_awesome_taxonomy'); ?> then use that
> > index, or 'my_awesome_taxonomy' to refer to it later on.  Pretty flexible, nice and extensible,
> > mostly normalised and with the opportunity to flesh out a full API.
>
> We have to be careful about the id changing depending on plugin load
> order, but we can work that out.

To be clear, is the taxonomy field still a string, or are you changing
it to an int?

Ryan
From mark.wordpress at txfx.net  Thu Apr 19 22:39:52 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Thu Apr 19 22:40:46 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <46265C7D.90702@mullenweg.com>
References: <46265C7D.90702@mullenweg.com>
Message-ID: <24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>

On Apr 18, 2007, at 1:59 PM, Matt Mullenweg wrote:

> Let's create a 2.2 branch and start removing the current tagging  
> implementation.

Did someone order a wrecking ball?

http://trac.wordpress.org/changeset/5289

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From m at mullenweg.com  Fri Apr 20 00:26:54 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Fri Apr 20 00:27:37 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>
References: <46265C7D.90702@mullenweg.com>
	<24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>
Message-ID: <462808CE.2030800@mullenweg.com>

Mark Jaquith wrote:
> Did someone order a wrecking ball?
> 
> http://trac.wordpress.org/changeset/5289

Nice!

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From robin.adr at gmail.com  Fri Apr 20 00:31:37 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Fri Apr 20 00:31:43 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>
References: <46265C7D.90702@mullenweg.com>
	<24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>
Message-ID: <d135ca9c0704191731x13790f42o7ad1687461fb8c15@mail.gmail.com>

Wow, nice work!

On 4/19/07, Mark Jaquith <mark.wordpress@txfx.net> wrote:
>
> On Apr 18, 2007, at 1:59 PM, Matt Mullenweg wrote:
>
> > Let's create a 2.2 branch and start removing the current tagging
> > implementation.
>
> Did someone order a wrecking ball?
>
> http://trac.wordpress.org/changeset/5289
>
> --
> Mark Jaquith
> http://markjaquith.com/
>
> Covered Web Services
> http://coveredwebservices.com/
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wphackers at jamietalbot.com  Fri Apr 20 00:03:36 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Fri Apr 20 00:45:12 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <b65af1a30704190944s32ac49ccn3a22bc3a8bd29988@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<46254D80.2040800@mullenweg.com>
	<462617B9.3040206@jamietalbot.com>	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>	<46267400.1080805@mullenweg.com>	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>	<46267B06.7030705@mullenweg.com>	<b65af1a30704181628s1e5c1060yfbceccbc11b4da80@mail.gmail.com>	<46278BBF.7060509@jamietalbot.com>	<b65af1a30704190940qf18b4f5qf6890c83b8db810@mail.gmail.com>
	<b65af1a30704190944s32ac49ccn3a22bc3a8bd29988@mail.gmail.com>
Message-ID: <46280358.50102@jamietalbot.com>

Steve Lewis wrote:
> Poor form, replying to self...
> 
> On 4/19/07, Steve Lewis <stevelle@gmail.com> wrote:
>>
>> but if you do put a UNIQUE on the term_slug then you might find it
>> difficult to create a 'friends' tag if you already have a 'friends'
>> category, no?  To do what you want, you should put a compound UNIQUE
>> on the
>> taxonomy table: UNIQUE(taxonomy, term_id).
>>
> 
> Scratch that, you want the UNIQUE on the term_slug.  The terms to taxonomy
> relation isn't 1:1.  I believe you still want your KEY (taxonomy, term_id)
> to be a UNIQUE, however.
> 

- From the email you replied to:

"And after all this, there is a unique key on the proposed terms table term_slug anyway, as well as
on the term taxonomy table for the (term_id, taxonomy) tuple.  Or if there isn't I just missed it
off and there should be."

:)

Cheers,

Jamie.

From wphackers at jamietalbot.com  Fri Apr 20 01:44:12 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Fri Apr 20 01:44:43 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>	<46240915.7050006@jamietalbot.com>	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>	<462612E7.5070909@jamietalbot.com>	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>	<4627882A.9090807@jamietalbot.com>	<bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>
	<bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>
Message-ID: <46281AEC.8030506@jamietalbot.com>


Ryan Boren wrote:
> > On 4/19/07, Ryan Boren <ryan@boren.nu> wrote:
>> >> So each term_taxonomy entry has its own unique id stored in
>> >> term_taxonomy_id?  Given an object_id, how does one find all
>> >> relationships in a specific taxonomy since there is no taxonomy field
>> >> in term_relationships?
> >
> > I guess we use it to join on term_taxonomy and select where taxonomy =
> > tag, etc.  We'll probably end up getting all taxonomies for the term
> > in one gulp and divvy up the results in php.

Yeah, either way could work.  It does involve a join, but as it's an int join, it's probably ok.
And, you don't have to work hard to make sure you're updating the data in two places each time.  If
you wanted to find the total count of post_category for an object's post_categorys, for example,
you'd have to join to term_taxonomy anyway and under the initial schema that would have to be a
string join.  I think it's probably common enough that we will have to join to the term_taxonomy
table that we should do it in as fast a manner as possible (correctly keyed, and with matching
column sizes).

>>> >> >         // Adds a new term, also adds alias relationship if
>> >> necessary.  Handles numeric or slug-based aliases.
>>> >> >         function add_term($term, $alias_of = '') {
>>> >> >                 global $wpdb;
>>> >> >                 $term_slug = sanitize($term);
>>> >> >                 if ($alias_of) {
>>> >> >                         // ctype_digit is faster than is_numeric,
>> >> with the caveat that the arg must be in a string.
>>> >> >                         $clause = (ctype_digit("$alias_of")) ?
>> >> "term_id = $alias_of" : "term_slug = '$alias_of'";
>> >>
>> >> Using a year as a category/tag is pretty common. "2007" would be
>> >> misidentified as term ID.
> >
> > Mark suggested we could regard the int 2007 as an ID and the string
> > '2007' as a slug.

Yeah, that's true.  We don't *have* to allow lookups by ID, but it would be nice if we could figure
out a way.  I'm sure there will be some cases where you have either the slug or the ID and want to
do the same thing.  Just trying to build in flexibility.

>>> >> >         // Adds a new taxonomy and returns the index it was added at.
>>> >> >         static function add_taxonomy($taxonomy) {
>>> >> >                 $index = last(array_flip(WPTaxonomy::taxonomies)) * 2;
>>> >> >                 WPTaxonomy::taxonomies[$index] = $taxonomy;
>>> >> >                 return $index;
>>> >> >         }
>>> >> > }
>>> >> >
>>> >> > Plugins can say <?php $my_taxonomy_index =
>> >> add_taxonomy('my_awesome_taxonomy'); ?> then use that
>>> >> > index, or 'my_awesome_taxonomy' to refer to it later on.  Pretty
>> >> flexible, nice and extensible,
>>> >> > mostly normalised and with the opportunity to flesh out a full API.
>> >>
>> >> We have to be careful about the id changing depending on plugin load
>> >> order, but we can work that out.

The above proposal should work, except if plugins add the WPTaxonomy::taxonomies directly.  Best
solution would be to make it private (does PHP4 enforce scoping?  I can't remember), or use some
kind of max() function on the array to get the highest value, instead of last().  I looked and I
couldn't find a builtin PHP array_max() function, which I find hard to believe...

> > To be clear, is the taxonomy field still a string, or are you changing
> > it to an int?

Well, usually, I'd go with a separate lookup table and int joins every time.  However, it seems like
some people already aren't happy with 3 tables and I thought I'd be pushing my luck going for 4.
You can do a simple caching function which slurps them all up in one go though, and because it's not
likely to change much, you could place them somewhere where they'll be autoloaded.  Plugins could
then add entries to that table, instead of recreating their taxonomy each time they are loaded.  I'd
personally like to see a 4th table yeah.  I imagine there will be lots of lookups for taxonomy and
string joins aren't great.

Cheers,

Jamie.

--
http://jamietalbot.com
From wphackers at jamietalbot.com  Fri Apr 20 01:45:10 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Fri Apr 20 01:45:44 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>
References: <46265C7D.90702@mullenweg.com>
	<24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>
Message-ID: <46281B26.3070502@jamietalbot.com>

Mark Jaquith wrote:
> On Apr 18, 2007, at 1:59 PM, Matt Mullenweg wrote:
> 
>> Let's create a 2.2 branch and start removing the current tagging
>> implementation.
> 
> Did someone order a wrecking ball?
> 
> http://trac.wordpress.org/changeset/5289

Wow, that's quite a chunk of code!  I never thought I'd see that happen.  I'd like to take a sec and
thank the committers who have listened to all the opinions here and taken notice of them.
Especially Matt, who wrote most of that code in the first place and then consented to having it all
ripped out, so we can start again.  Cheers guys!

Jamie.
From spencerp1 at gmail.com  Fri Apr 20 03:43:31 2007
From: spencerp1 at gmail.com (spencerp)
Date: Fri Apr 20 03:42:58 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <462808CE.2030800@mullenweg.com>
References: <46265C7D.90702@mullenweg.com>	<24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>
	<462808CE.2030800@mullenweg.com>
Message-ID: <462836E3.8000803@gmail.com>

Matt Mullenweg wrote:
> Mark Jaquith wrote:
>> Did someone order a wrecking ball?
>>
>> http://trac.wordpress.org/changeset/5289
>
> Nice!

Awesome! I'll SVN CO the 2.2 branch on a sub domain on spencerp.net, and 
then starting testing/looking for issues. Let's try and get this puppy 
to the public asap! ;) :)

--
spencerp
http://spencerp.net
http://www.vindictivebastard.net/

From mark.wordpress at txfx.net  Fri Apr 20 04:08:15 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Fri Apr 20 04:09:04 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <462836E3.8000803@gmail.com>
References: <46265C7D.90702@mullenweg.com>	<24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>
	<462808CE.2030800@mullenweg.com> <462836E3.8000803@gmail.com>
Message-ID: <3142B98F-B2D8-4EF9-BE83-41DEBB05E787@txfx.net>

On Apr 19, 2007, at 11:43 PM, spencerp wrote:

> Awesome! I'll SVN CO the 2.2 branch on a sub domain on  
> spencerp.net, and then starting testing/looking for issues. Let's  
> try and get this puppy to the public asap! ;) :)

Yeah, which reminds me to remind you all: don't expect to be able to  
SVN switch from a post-tags /trunk/ install and still have this  
work.  So for people who have test blogs and would like to help us  
get 2.2 out the door in a timely fashion, drop your tables and start  
with a fresh install, or do an SVN up from 2.1.3 or earlier.

As for people who have been running trunk on their main blogs, I'm  
sure someone will write a conversion script to get you back to pre- 
tag state... you can just keep those blogs frozen on the current / 
trunk/ revision until such a script is available.

And as a way of documenting my procedure for posterity (and maybe for  
a future version of me doing a web search), this is how I cranked out  
that patch:

(1) work backwards through http://trac.wordpress.org/log, looking for  
patches that have to do with the feature
(2) click the link to look at the changeset
(3) right-click the "Unified diff" link at the bottom and select  
"Copy link location"
(4) $ wget -O patch.diff <PASTE>
(5) $ patch -p0 -R < patch.diff
(6) correct any paths in the patch (for instance, I had to remove / 
trunk/)
(7) note any failed chunks, and manually correct
(8) repair any collateral damage (patches with non-tag fixes that  
went in with a tags change)
(9) repeat until the feature is removed

If the majority of commits had been non-tag commits, I would have  
reverted to the pre-tags version and re-implemented those non-tag  
patches, but since there were a lot of non-tag commits, I decided to  
target tag commits for removal.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From computerguru at neosmart.net  Fri Apr 20 06:57:49 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Fri Apr 20 06:58:37 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <3142B98F-B2D8-4EF9-BE83-41DEBB05E787@txfx.net>
References: <46265C7D.90702@mullenweg.com>	<24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>	<462808CE.2030800@mullenweg.com>
	<462836E3.8000803@gmail.com>
	<3142B98F-B2D8-4EF9-BE83-41DEBB05E787@txfx.net>
Message-ID: <007a01c78319$41ede800$c5c9b800$@net>

Wow, nice work Mark!

It works great on a fresh install; I'll be doing my testing from there.

Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/


> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Mark Jaquith
> Sent: Friday, April 20, 2007 7:08 AM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] 2.2 release
> 
> On Apr 19, 2007, at 11:43 PM, spencerp wrote:
> 
> > Awesome! I'll SVN CO the 2.2 branch on a sub domain on
> > spencerp.net, and then starting testing/looking for issues. Let's
> > try and get this puppy to the public asap! ;) :)
> 
> Yeah, which reminds me to remind you all: don't expect to be able to
> SVN switch from a post-tags /trunk/ install and still have this
> work.  So for people who have test blogs and would like to help us
> get 2.2 out the door in a timely fashion, drop your tables and start
> with a fresh install, or do an SVN up from 2.1.3 or earlier.
> 
> As for people who have been running trunk on their main blogs, I'm
> sure someone will write a conversion script to get you back to pre-
> tag state... you can just keep those blogs frozen on the current /
> trunk/ revision until such a script is available.
> 
> And as a way of documenting my procedure for posterity (and maybe for
> a future version of me doing a web search), this is how I cranked out
> that patch:
> 
> (1) work backwards through http://trac.wordpress.org/log, looking for
> patches that have to do with the feature
> (2) click the link to look at the changeset
> (3) right-click the "Unified diff" link at the bottom and select
> "Copy link location"
> (4) $ wget -O patch.diff <PASTE>
> (5) $ patch -p0 -R < patch.diff
> (6) correct any paths in the patch (for instance, I had to remove /
> trunk/)
> (7) note any failed chunks, and manually correct
> (8) repair any collateral damage (patches with non-tag fixes that
> went in with a tags change)
> (9) repeat until the feature is removed
> 
> If the majority of commits had been non-tag commits, I would have
> reverted to the pre-tags version and re-implemented those non-tag
> patches, but since there were a lot of non-tag commits, I decided to
> target tag commits for removal.
> 
> --
> Mark Jaquith
> http://markjaquith.com/
> 
> Covered Web Services
> http://coveredwebservices.com/
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From peter.westwood at ftwr.co.uk  Fri Apr 20 08:15:26 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri Apr 20 08:15:32 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <3142B98F-B2D8-4EF9-BE83-41DEBB05E787@txfx.net>
References: <46265C7D.90702@mullenweg.com>	<24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>
	<462808CE.2030800@mullenweg.com> <462836E3.8000803@gmail.com>
	<3142B98F-B2D8-4EF9-BE83-41DEBB05E787@txfx.net>
Message-ID: <8121.199.64.72.252.1177056926.squirrel@epia.ftwr.co.uk>


On Fri, April 20, 2007 5:08 am, Mark Jaquith wrote:
> On Apr 19, 2007, at 11:43 PM, spencerp wrote:
>
>> Awesome! I'll SVN CO the 2.2 branch on a sub domain on
>> spencerp.net, and then starting testing/looking for issues. Let's
>> try and get this puppy to the public asap! ;) :)
>
> Yeah, which reminds me to remind you all: don't expect to be able to
> SVN switch from a post-tags /trunk/ install and still have this
> work.  So for people who have test blogs and would like to help us
> get 2.2 out the door in a timely fashion, drop your tables and start
> with a fresh install, or do an SVN up from 2.1.3 or earlier.
>
> As for people who have been running trunk on their main blogs, I'm
> sure someone will write a conversion script to get you back to pre-
> tag state... you can just keep those blogs frozen on the current /
> trunk/ revision until such a script is available.
>
> And as a way of documenting my procedure for posterity (and maybe for
> a future version of me doing a web search), this is how I cranked out
> that patch:
>
> (1) work backwards through http://trac.wordpress.org/log, looking for
> patches that have to do with the feature
> (2) click the link to look at the changeset
> (3) right-click the "Unified diff" link at the bottom and select
> "Copy link location"
> (4) $ wget -O patch.diff <PASTE>
> (5) $ patch -p0 -R < patch.diff
> (6) correct any paths in the patch (for instance, I had to remove /
> trunk/)
> (7) note any failed chunks, and manually correct
> (8) repair any collateral damage (patches with non-tag fixes that
> went in with a tags change)
> (9) repeat until the feature is removed
>
> If the majority of commits had been non-tag commits, I would have
> reverted to the pre-tags version and re-implemented those non-tag
> patches, but since there were a lot of non-tag commits, I decided to
> target tag commits for removal.
>

Awesome job.

You may have found it easier to use svn merge to revert those changes.

e.g. svn merge rev1:rev1-1 URL

    rev1 - first revision number.
    URL - The SVN URL corresponding to the resource.

westi
-- 
Peter Westwood <peter.westwood@ftwr.co.uk>
http://blog.ftwr.co.uk
From mark.wordpress at txfx.net  Fri Apr 20 09:41:26 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Fri Apr 20 09:42:28 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <46287FEF.8000503@gmail.com>
References: <46265C7D.90702@mullenweg.com>	<24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>	<462808CE.2030800@mullenweg.com>
	<462836E3.8000803@gmail.com>	<3142B98F-B2D8-4EF9-BE83-41DEBB05E787@txfx.net>
	<8121.199.64.72.252.1177056926.squirrel@epia.ftwr.co.uk>
	<46287FEF.8000503@gmail.com>
Message-ID: <62F29B7A-92AF-46B9-BF84-023554E7C42A@txfx.net>

On Apr 20, 2007, at 4:55 AM, Jeremy Visser wrote:

> Yeah, but weren't there other changesets in between the tagging  
> that may
> have also been reverted?

Yeah, unfortunately they weren't contiguous.

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From tariq at eNeuron.net  Fri Apr 20 09:55:39 2007
From: tariq at eNeuron.net (Tariq Murtaza)
Date: Fri Apr 20 09:56:17 2007
Subject: [wp-hackers] Looking for WP Architecture Docs or DFDs, if available
Message-ID: <46288E1B.9030901@eNeuron.net>

Hi there,

I am wondering where to find WP's Basic Software Development Docs, the 
architecture and the flow diagrams apart of APIs.
Can anybody shed some light.

Thanks and regards,
*TM**
*
From peter.westwood at ftwr.co.uk  Fri Apr 20 10:12:08 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri Apr 20 10:12:14 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <62F29B7A-92AF-46B9-BF84-023554E7C42A@txfx.net>
References: <46265C7D.90702@mullenweg.com>	<24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>	<462808CE.2030800@mullenweg.com>
	<462836E3.8000803@gmail.com>	<3142B98F-B2D8-4EF9-BE83-41DEBB05E787@txfx.net>
	<8121.199.64.72.252.1177056926.squirrel@epia.ftwr.co.uk>
	<46287FEF.8000503@gmail.com>
	<62F29B7A-92AF-46B9-BF84-023554E7C42A@txfx.net>
Message-ID: <45620.199.64.72.252.1177063928.squirrel@epia.ftwr.co.uk>


On Fri, April 20, 2007 10:41 am, Mark Jaquith wrote:
> On Apr 20, 2007, at 4:55 AM, Jeremy Visser wrote:
>
>> Yeah, but weren't there other changesets in between the tagging
>> that may
>> have also been reverted?
>
> Yeah, unfortunately they weren't contiguous.
>
>

Indeed.

But I believe you can use svn merge to revert individual changesets you
don't have to revert a contiguous set.

westi
-- 
Peter Westwood <peter.westwood@ftwr.co.uk>
http://blog.ftwr.co.uk
From tariq at eNeuron.net  Fri Apr 20 10:15:52 2007
From: tariq at eNeuron.net (Tariq Murtaza)
Date: Fri Apr 20 10:16:25 2007
Subject: [wp-hackers] Technial doc needed: How to build WP permalink feature
 from scratch for a mini-CMS
Message-ID: <462892D8.8080005@eNeuron.net>

Hi there,

I would appreciate if someone could point to WPs technical docs related 
to Permalinks structures (from Developers point of view).
Actually, I am seeking to achieve the same architecture for a mini-CMS 
to customize-in.
Any link will be appreciated the most. Thanks.


Best regards,
TM

From peter.westwood at ftwr.co.uk  Fri Apr 20 10:25:35 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri Apr 20 10:25:41 2007
Subject: [wp-hackers] Looking for WP Architecture Docs or DFDs,
	if available
In-Reply-To: <46288E1B.9030901@eNeuron.net>
References: <46288E1B.9030901@eNeuron.net>
Message-ID: <25623.199.64.72.252.1177064735.squirrel@epia.ftwr.co.uk>


On Fri, April 20, 2007 10:55 am, Tariq Murtaza wrote:
> Hi there,
>
> I am wondering where to find WP's Basic Software Development Docs, the
> architecture and the flow diagrams apart of APIs.
> Can anybody shed some light.
>

Well there is some info on the codex:
http://codex.wordpress.org/Developer_Documentation

And good info on plugin api hooks/filters developing at wphooks:
http://wphooks.flatearth.org/

Apart from that read the source!

westi
-- 
Peter Westwood <peter.westwood@ftwr.co.uk>
http://blog.ftwr.co.uk
From elharo at metalab.unc.edu  Fri Apr 20 10:44:44 2007
From: elharo at metalab.unc.edu (Elliotte Harold)
Date: Fri Apr 20 10:44:53 2007
Subject: [wp-hackers] Re: 2.2 release
In-Reply-To: <957d73c60704191445v32241716m22b0353a213c6cb4@mail.gmail.com>
References: <20070419041809.CF22B6CC9@comox.textdrive.com>	<004201c7829b$d3c9fbc0$6401a8c0@kergan>
	<957d73c60704191445v32241716m22b0353a213c6cb4@mail.gmail.com>
Message-ID: <4628999C.8090404@metalab.unc.edu>

David Peralty wrote:
> I know I don't talk on here much, but I have made it as clear as I can
> on Blogging Pro that making a perfect 2.2 is more important than when
> its released. 


It's important to distinguish between a perfect 2.2 and a 2.2 with all 
desired features. I would consider a "perfect" 2.2 to be any version 
that provides the features it does implement correctly, simply, and 
without bugs. I have no objection at all to releasing a 2.2 version with 
only one new feature if that's all that's ready, then 2.3 with one more, 
then 2.4 with one more, and so on.

I am increasingly unthrilled (or negatively thrilled) with big bang 
releases. Faster release cycles are good in general. However that does 
not mean speeding up and compressing the same software development 
process. It means cutting up the software into smaller feature sets with 
each iteration so you get some features sooner rather than all features 
much later. This is one of the fundamental principles and results of 
agile development.

-- 
?Elliotte Rusty Harold  elharo@metalab.unc.edu
Java I/O 2nd Edition Just Published!
http://www.cafeaulait.org/books/javaio2/
http://www.amazon.com/exec/obidos/ISBN=0596527500/ref=nosim/cafeaulaitA/
From tariq at eNeuron.net  Fri Apr 20 11:41:59 2007
From: tariq at eNeuron.net (Tariq Murtaza)
Date: Fri Apr 20 11:42:39 2007
Subject: [wp-hackers] Looking for WP Architecture Docs or DFDs,
	if available
In-Reply-To: <25623.199.64.72.252.1177064735.squirrel@epia.ftwr.co.uk>
References: <46288E1B.9030901@eNeuron.net>
	<25623.199.64.72.252.1177064735.squirrel@epia.ftwr.co.uk>
Message-ID: <4628A707.3090802@eNeuron.net>

Hi westi,

Thanks for the links but the second URL is not opening, plz have a 
look... http://wphooks.flatearth.org/
Any idea which files handles permalinks for WP?


Cheers!
TM


-------- Original Message  --------
Subject: [wp-hackers] Looking for WP Architecture Docs or DFDs,    if 
available
From: "Peter Westwood" <peter.westwood@ftwr.co.uk>
To: wp-hackers@lists.automattic.com
Date: 4/20/2007 3:25 PM
> On Fri, April 20, 2007 10:55 am, Tariq Murtaza wrote:
>   
>> Hi there,
>>
>> I am wondering where to find WP's Basic Software Development Docs, the
>> architecture and the flow diagrams apart of APIs.
>> Can anybody shed some light.
>>
>>     
>
> Well there is some info on the codex:
> http://codex.wordpress.org/Developer_Documentation
>
> And good info on plugin api hooks/filters developing at wphooks:
> http://wphooks.flatearth.org/
>
> Apart from that read the source!
>
> westi
>   

From yahgrp at poplarware.com  Fri Apr 20 12:53:32 2007
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Fri Apr 20 12:52:37 2007
Subject: [wp-hackers] Looking for WP Architecture Docs or DFDs,
	if available
In-Reply-To: <4628A707.3090802@eNeuron.net>
References: <46288E1B.9030901@eNeuron.net>	<25623.199.64.72.252.1177064735.squirrel@epia.ftwr.co.uk>
	<4628A707.3090802@eNeuron.net>
Message-ID: <4628B7CC.7050900@poplarware.com>

Tariq Murtaza wrote:
> Any idea which files handles permalinks for WP?

If you want to get into that level of WP development, you are going to 
have to do some work. I suggest (as someone else already did) starting 
by looking through this page and actually reading the documentation it 
links to:
   http://codex.wordpress.org/Developer_Documentation
and also:
   http://codex.wordpress.org/Advanced_Topics

There are documents listed on those two pages that describe a lot of 
the functionality of WordPress. For permalinks specifically, this 
guide (linked to on the Dev Doc page) should help you get started:
    http://codex.wordpress.org/Query_Overview

But you are going to have to read the PHP source code if you really 
want to understand deeply what WordPress is doing.

       Jennifer
From kconstable at kccricket.net  Fri Apr 20 16:05:19 2007
From: kconstable at kccricket.net (Keith Constable)
Date: Fri Apr 20 16:05:34 2007
Subject: [wp-hackers] 2.2 release
In-Reply-To: <3142B98F-B2D8-4EF9-BE83-41DEBB05E787@txfx.net>
References: <46265C7D.90702@mullenweg.com>	<24DF4844-52A5-4137-947D-E3D9D72B8892@txfx.net>	<462808CE.2030800@mullenweg.com>
	<462836E3.8000803@gmail.com>
	<3142B98F-B2D8-4EF9-BE83-41DEBB05E787@txfx.net>
Message-ID: <4628E4BF.5030800@kccricket.net>

On 04/20/2007 12:08 AM, Mark Jaquith wrote:
> (5) $ patch -p0 -R < patch.diff
> (6) correct any paths in the patch (for instance, I had to remove / 
> trunk/)

$ patch -p1 -R < patch.diff

might eliminate step six.


--
-Keith Constable
From dougal at gunters.org  Fri Apr 20 16:56:44 2007
From: dougal at gunters.org (Dougal Campbell)
Date: Fri Apr 20 16:56:56 2007
Subject: [wp-hackers] Reactivate All Plugins
Message-ID: <4628F0CC.8000001@gunters.org>

I whipped up a patch to provide "Reactivate All Plugins" functionality
to compliment the new "Deactivate All Plugins" feature. The patch is here:

  http://trac.wordpress.org/ticket/4176

I tried to trap errors as best as I could, but I'd appreciate it if
someone else could bang on it and make sure I didn't miss anything.

This should help out with the upgrade process. Just instruct users to
"Deactivate All", upgrade, then "Reactivate All". It should work fine
most of the time. But if an old plugin starts throwing fatal errors due
to changes in the core system, then the problem plugin will be reported
to the user, and they can delete it (or upgrade it) then try "Reactivate
All" again.

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From VOGELAP at UCMAIL.UC.EDU  Fri Apr 20 18:24:31 2007
From: VOGELAP at UCMAIL.UC.EDU (Vogel, Andrew (vogelap))
Date: Fri Apr 20 18:24:37 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <4628F0CC.8000001@gunters.org>
References: <4628F0CC.8000001@gunters.org>
Message-ID: <E7340445E0595A418B2F8DE0AE480E20125FECF1@ucmail6.ad.uc.edu>

Thanks for that! These two features (deactivate/reactivate) should make
upgrading much less headache-y!

-drew vogel
www.drewvogel.com

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Dougal
Campbell
Sent: Friday, April 20, 2007 12:57 PM
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] Reactivate All Plugins

I whipped up a patch to provide "Reactivate All Plugins" functionality
to compliment the new "Deactivate All Plugins" feature. The patch is
here:

  http://trac.wordpress.org/ticket/4176

I tried to trap errors as best as I could, but I'd appreciate it if
someone else could bang on it and make sure I didn't miss anything.

This should help out with the upgrade process. Just instruct users to
"Deactivate All", upgrade, then "Reactivate All". It should work fine
most of the time. But if an old plugin starts throwing fatal errors due
to changes in the core system, then the problem plugin will be reported
to the user, and they can delete it (or upgrade it) then try "Reactivate
All" again.

--
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From VOGELAP at UCMAIL.UC.EDU  Fri Apr 20 18:27:16 2007
From: VOGELAP at UCMAIL.UC.EDU (Vogel, Andrew (vogelap))
Date: Fri Apr 20 18:27:21 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <4628F0CC.8000001@gunters.org>
References: <4628F0CC.8000001@gunters.org>
Message-ID: <E7340445E0595A418B2F8DE0AE480E20125FECFF@ucmail6.ad.uc.edu>

I forgot to ask if the de/re-activate function could be made into a
plugin itself -- for completely selfish reasons -- I am facing the
upgrade from 2.0.x to 2.1.x and could sure use it!

-andrew vogel
Manager of Professional Programs
University of Cincinnati
College of Pharmacy

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Dougal
Campbell
Sent: Friday, April 20, 2007 12:57 PM
To: wp-hackers@lists.automattic.com
Subject: [wp-hackers] Reactivate All Plugins

I whipped up a patch to provide "Reactivate All Plugins" functionality
to compliment the new "Deactivate All Plugins" feature. The patch is
here:

  http://trac.wordpress.org/ticket/4176

I tried to trap errors as best as I could, but I'd appreciate it if
someone else could bang on it and make sure I didn't miss anything.

This should help out with the upgrade process. Just instruct users to
"Deactivate All", upgrade, then "Reactivate All". It should work fine
most of the time. But if an old plugin starts throwing fatal errors due
to changes in the core system, then the problem plugin will be reported
to the user, and they can delete it (or upgrade it) then try "Reactivate
All" again.

--
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From Brian at TheCodeCave.com  Fri Apr 20 18:31:43 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Fri Apr 20 18:31:56 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <4628F0CC.8000001@gunters.org>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F8C@dsimail.drbsystems.com>

It would be nice if, as it did the deactivated all process, it built a list
the activated plugins that it was touching.  Then when it reactivated the
plugins, it would only activate those that it had deactivated.

I don't keep all of my plugins active.  There are some I am trying, some I
am developing, some that have broken after an upgrade and I'd like to fix
some time, etc.  So, the Activate-All feature would actually break my
site(s) if it wasn't smart enough to restore the site to how it found it.

From dougal at gunters.org  Fri Apr 20 18:55:42 2007
From: dougal at gunters.org (Dougal Campbell)
Date: Fri Apr 20 18:55:55 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F8C@dsimail.drbsystems.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F8C@dsimail.drbsystems.com>
Message-ID: <46290CAE.3030603@gunters.org>

Brian Layman wrote:
> It would be nice if, as it did the deactivated all process, it built a list
> the activated plugins that it was touching.  Then when it reactivated the
> plugins, it would only activate those that it had deactivated.
>
> I don't keep all of my plugins active.  There are some I am trying, some I
> am developing, some that have broken after an upgrade and I'd like to fix
> some time, etc.  So, the Activate-All feature would actually break my
> site(s) if it wasn't smart enough to restore the site to how it found it.
>   

That's exactly how it works: When you 'Deactivate All', it saves a list
of your currently activated plugins. Then when you 'Reactivate All', it
only reactivates the previously active batch.

Perhaps 'Reactivate ALL' is bad wording. Any suggestions for better
terminology? 'Reactivate Previously Deactivated Plugins' seems kind of
long for the button :)

Perhaps 'Reactivate Plugin Bundle'? Or maybe 'Batch'?

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From Brian at TheCodeCave.com  Fri Apr 20 19:12:24 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Fri Apr 20 19:12:39 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <46290CAE.3030603@gunters.org>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F8D@dsimail.drbsystems.com>

> That's exactly how it works: When you 'Deactivate All', it saves a list
> of your currently activated plugins. Then when you 'Reactivate All', it
> only reactivates the previously active batch.

Oh, good show.  

I think "Deactivate Plugins" and "Reactivate Plugins" would suffice.  

Since the program is doing, logically, what you'd expect it to do, any
further explanation would just complicate the matter.

I look forward to seeing this in the product!

From ryan at boren.nu  Fri Apr 20 19:25:57 2007
From: ryan at boren.nu (Ryan Boren)
Date: Fri Apr 20 19:26:04 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <46281AEC.8030506@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>
	<46240915.7050006@jamietalbot.com>
	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
	<462612E7.5070909@jamietalbot.com>
	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
	<4627882A.9090807@jamietalbot.com>
	<bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>
	<bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>
	<46281AEC.8030506@jamietalbot.com>
Message-ID: <bb0886ed0704201225u66c474bbh25398b701517e5b3@mail.gmail.com>

On 4/19/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
> > > To be clear, is the taxonomy field still a string, or are you changing
> > > it to an int?
>
> Well, usually, I'd go with a separate lookup table and int joins every time.  However, it seems like
> some people already aren't happy with 3 tables and I thought I'd be pushing my luck going for 4.
> You can do a simple caching function which slurps them all up in one go though, and because it's not
> likely to change much, you could place them somewhere where they'll be autoloaded.  Plugins could
> then add entries to that table, instead of recreating their taxonomy each time they are loaded.  I'd
> personally like to see a 4th table yeah.  I imagine there will be lots of lookups for taxonomy and
> string joins aren't great.

I'm okay with a separate table as long as we're not joining on it
everywhere.  The table could hold an auto_increment integer id and a
varchar descriptive name.  This could be cached in an array stored in
the options table.  Options are autoloaded so we won't be adding extra
queries for front page loads.

Ryan
From VOGELAP at UCMAIL.UC.EDU  Fri Apr 20 19:38:38 2007
From: VOGELAP at UCMAIL.UC.EDU (Vogel, Andrew (vogelap))
Date: Fri Apr 20 19:38:44 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <46290CAE.3030603@gunters.org>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F8C@dsimail.drbsystems.com>
	<46290CAE.3030603@gunters.org>
Message-ID: <E7340445E0595A418B2F8DE0AE480E20125FEDF7@ucmail6.ad.uc.edu>

I like "Plugin Twiddler", but that's just how my brain is working this
afternoon.

-andrew vogel
Manager of Professional Programs
University of Cincinnati
College of Pharmacy

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Dougal
Campbell
Sent: Friday, April 20, 2007 2:56 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Reactivate All Plugins

Perhaps 'Reactivate ALL' is bad wording. Any suggestions for better
terminology? 'Reactivate Previously Deactivated Plugins' seems kind of
long for the button :)

Perhaps 'Reactivate Plugin Bundle'? Or maybe 'Batch'?

--
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From m at marcosmedia.com  Fri Apr 20 20:06:15 2007
From: m at marcosmedia.com (Marcos Sader | marcosmedia)
Date: Fri Apr 20 20:06:19 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F8D@dsimail.drbsystems.com>
References: <46290CAE.3030603@gunters.org>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F8D@dsimail.drbsystems.com>
Message-ID: <8ff7155b0704201306w2e8c348bm57a3f968f8eaadf8@mail.gmail.com>

On 4/20/07, Brian Layman <Brian@thecodecave.com> wrote:
>
> I think "Deactivate Plugins" and "Reactivate Plugins" would suffice.
>

Yes, that would be clear enough.


-- 
Marcos Sader
m@marcosmedia.com
From wantmoore at gmail.com  Fri Apr 20 20:15:48 2007
From: wantmoore at gmail.com (Justin Moore)
Date: Fri Apr 20 20:15:53 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <8ff7155b0704201306w2e8c348bm57a3f968f8eaadf8@mail.gmail.com>
References: <46290CAE.3030603@gunters.org>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F8D@dsimail.drbsystems.com>
	<8ff7155b0704201306w2e8c348bm57a3f968f8eaadf8@mail.gmail.com>
Message-ID: <75835fe10704201315r7f9a000cl84a226832bb59e80@mail.gmail.com>

On 4/20/07, Marcos Sader | marcosmedia <m@marcosmedia.com> wrote:
> On 4/20/07, Brian Layman <Brian@thecodecave.com> wrote:
> >
> > I think "Deactivate Plugins" and "Reactivate Plugins" would suffice.
> >
>
> Yes, that would be clear enough.

How about Plugin Toggle, Toggle Plugins, or just "Toggle" ?

-- 
Justin Moore
aka wantmoore
---------------------------------------
www.wantmoore.com
From Brian at TheCodeCave.com  Fri Apr 20 20:18:10 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Fri Apr 20 20:18:29 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <75835fe10704201315r7f9a000cl84a226832bb59e80@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F91@dsimail.drbsystems.com>

> How about Plugin Toggle, Toggle Plugins, or just "Toggle" ?

If you have some activated and some deactivated, "Toggle" would mean that
they would all flip states.  No one would want that.

From m at marcosmedia.com  Fri Apr 20 21:12:32 2007
From: m at marcosmedia.com (Marcos Sader | marcosmedia)
Date: Fri Apr 20 21:12:37 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F91@dsimail.drbsystems.com>
References: <75835fe10704201315r7f9a000cl84a226832bb59e80@mail.gmail.com>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F91@dsimail.drbsystems.com>
Message-ID: <8ff7155b0704201412r2ded940fxe00fb6b350382b49@mail.gmail.com>

Exactly, toggle means turn the active ones off, and viceversa.

On 4/20/07, Brian Layman <Brian@thecodecave.com> wrote:
>
> > How about Plugin Toggle, Toggle Plugins, or just "Toggle" ?
>
> If you have some activated and some deactivated, "Toggle" would mean that
> they would all flip states.  No one would want that.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Marcos Sader
m@marcosmedia.com
From wphackers at galleryembedded.com  Sat Apr 21 00:11:11 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Sat Apr 21 00:11:14 2007
Subject: [wp-hackers] Re: Reactivate All Plugins
Message-ID: <1177114271.m2f.32133@www.galleryembedded.com>

Personally I would like something like this in core and Wordpress have a real upgrade process.. (I do like the this is the only step message... Cheeky but effective)..

Regardless of this, nice work..

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From wphackers at galleryembedded.com  Sat Apr 21 00:14:03 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Sat Apr 21 00:14:08 2007
Subject: [wp-hackers] Re: Looking for WP Architecture Docs or DFDs,
	if available
Message-ID: <1177114443.m2f.32134@www.galleryembedded.com>

Dont forget phpxref -> http://www.phpxref.com/xref/wordpress comes in handy when trying to track down where that function is hiding..

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From robin.adr at gmail.com  Sat Apr 21 02:10:52 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Sat Apr 21 02:10:58 2007
Subject: [wp-hackers] Re: Looking for WP Architecture Docs or DFDs,
	if available
In-Reply-To: <1177114443.m2f.32134@www.galleryembedded.com>
References: <1177114443.m2f.32134@www.galleryembedded.com>
Message-ID: <d135ca9c0704201910i42d1386fk8ffd17774693c40e@mail.gmail.com>

If you want a Xref of the trunk, http://xref.redalt.com/wptrunk/ is
available also.

On 4/20/07, ozgreg <wphackers@galleryembedded.com> wrote:
>
> Dont forget phpxref -> http://www.phpxref.com/xref/wordpress comes in
> handy when trying to track down where that function is hiding..
>
> ------------------------
> WPG2 Installation, Operation & FAQ Documentation (
> http://wpg2.galleryembedded.com/)
>
>
>
>
> -------------------- m2f --------------------
>
> Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
> -------------------- m2f --------------------
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wphackers at jamietalbot.com  Sat Apr 21 02:29:33 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Sat Apr 21 02:29:46 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704201225u66c474bbh25398b701517e5b3@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>	<46240915.7050006@jamietalbot.com>	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>	<462612E7.5070909@jamietalbot.com>	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>	<4627882A.9090807@jamietalbot.com>	<bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>	<bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>	<46281AEC.8030506@jamietalbot.com>
	<bb0886ed0704201225u66c474bbh25398b701517e5b3@mail.gmail.com>
Message-ID: <4629770D.5060204@jamietalbot.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ryan Boren wrote:
> On 4/19/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
> I'm okay with a separate table as long as we're not joining on it
> everywhere.  The table could hold an auto_increment integer id and a
> varchar descriptive name.  This could be cached in an array stored in
> the options table.  Options are autoloaded so we won't be adding extra
> queries for front page loads.

That seems like a good solution.  So, should I be thinking about a new Trac ticket and putting some
code down for this now, or more consultation required?

Cheers,

Jamie.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.5 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGKXcNrovxfShShFARAt8nAKCLoB2KfidnRqxS4Xla02JHQcyZOwCfYN+/
VpGuzXSdziTbC8DroOGQyIs=
=eNTe
-----END PGP SIGNATURE-----
From ryan at boren.nu  Sat Apr 21 02:42:45 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sat Apr 21 02:42:49 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <4629770D.5060204@jamietalbot.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
	<462612E7.5070909@jamietalbot.com>
	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
	<4627882A.9090807@jamietalbot.com>
	<bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>
	<bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>
	<46281AEC.8030506@jamietalbot.com>
	<bb0886ed0704201225u66c474bbh25398b701517e5b3@mail.gmail.com>
	<4629770D.5060204@jamietalbot.com>
Message-ID: <bb0886ed0704201942q7ea6510es7d5a49fd2e235ef7@mail.gmail.com>

On 4/20/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Ryan Boren wrote:
> > On 4/19/07, Jamie Talbot <wphackers@jamietalbot.com> wrote:
> > I'm okay with a separate table as long as we're not joining on it
> > everywhere.  The table could hold an auto_increment integer id and a
> > varchar descriptive name.  This could be cached in an array stored in
> > the options table.  Options are autoloaded so we won't be adding extra
> > queries for front page loads.
>
> That seems like a good solution.  So, should I be thinking about a new Trac ticket and putting some
> code down for this now, or more consultation required?

Bust a move.

Ryan
From mark.wordpress at txfx.net  Sat Apr 21 06:06:09 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Sat Apr 21 06:06:57 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704201225u66c474bbh25398b701517e5b3@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>
	<46240915.7050006@jamietalbot.com>
	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
	<462612E7.5070909@jamietalbot.com>
	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
	<4627882A.9090807@jamietalbot.com>
	<bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>
	<bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>
	<46281AEC.8030506@jamietalbot.com>
	<bb0886ed0704201225u66c474bbh25398b701517e5b3@mail.gmail.com>
Message-ID: <2BCFF24A-5FB6-42C2-9613-5E700E539AB8@txfx.net>

On Apr 20, 2007, at 3:25 PM, Ryan Boren wrote:

> I'm okay with a separate table as long as we're not joining on it
> everywhere.  The table could hold an auto_increment integer id and a
> varchar descriptive name.  This could be cached in an array stored in
> the options table.  Options are autoloaded so we won't be adding extra
> queries for front page loads.

Why not just have it stored as an option only?  It's not like there  
are going to be a lot of them, and the default ones can be assumed.   
Create an API for it.

function register_taxonomy($name) {
	if ( !taxonomy_exists($name) )
		return (int) create_taxonomy($name); // returns taxonomy id
	return (int) get_taxonomy_id($name);
}

And so forth.

Plugin would do:

define('MY_PLUGIN_CUSTOM_TAX_ID', register_taxonomy 
('my_custom_taxonomy'));

If it needed to do custom queries on that taxonomy id.  Otherwise,  
the built-in functions would do quick queryless taxonomy_name =>  
taxonomy_id conversion out of the in-memory options cache  
( get_taxonomy_id($name), for instance).

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From mark.wordpress at txfx.net  Sat Apr 21 06:16:05 2007
From: mark.wordpress at txfx.net (Mark Jaquith)
Date: Sat Apr 21 06:16:53 2007
Subject: [wp-hackers] postmeta table
In-Reply-To: <4624D4DF.4080400@gunters.org>
References: <011201c78089$4525f9a0$6401a8c0@kergan>
	<D2E97F6A-0E4F-4595-9151-342DF7C5516B@txfx.net>
	<4624D4DF.4080400@gunters.org>
Message-ID: <095F9729-7BC9-402B-BBCD-DB196FBD9926@txfx.net>

On Apr 17, 2007, at 10:08 AM, Dougal Campbell wrote:

> Okay, Mark... I've just *got* to know what you're doing that's  
> using 700
> pieces of postmeta on a single post. Can you satisfy my curiosity? :)

Tracking and vetting incoming HTTP_REFERERs and converting them to  
Pingbacks for new valid links (such that someone clicking a link from  
a Movable Type install can create a Pingback just by following the  
link.)

http://wordpress.org/extend/plugins/kramer/

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


From leonid at mamchenkov.net  Sat Apr 21 12:50:09 2007
From: leonid at mamchenkov.net (Leonid Mamchenkov)
Date: Sat Apr 21 12:50:16 2007
Subject: [wp-hackers] Absolute vs. relative URLs
Message-ID: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>

Dear All,

It seems that quite a few people suggested to use relative URLs in
WordPress instead of absolute.  I've even seen some patches here and
there (Trac).  But the status of the issue is not clear.

What is happening with this?

Absolute URLs is about the biggest problem in our
development/deployment process for our customer's web sites.  Since
most of them already have web sites online, we can't develop under the
target domain.  We use a different host instead, and after everything
is done and ready, we have to change the 'home' and 'siteurl' values
in wp_options, 'guid' in wp_posts, and do a search-and-replace through
the text of all pre-set posts and pages ('About us', 'Contact us', and
whatever else the customer might have requested).

While we managed to somewhat automate the process, it's still error
prone and doesn't work very well in some situations, such as, for
example, several domains per web site.

-- 
Leonid Mamchenkov
http://mamchenkov.net
From moeffju at moeffju.net  Sat Apr 21 13:03:14 2007
From: moeffju at moeffju.net (Matthias Bauer)
Date: Sat Apr 21 13:03:24 2007
Subject: [wp-hackers] Absolute vs. relative URLs
In-Reply-To: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
References: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
Message-ID: <462A0B92.3070808@moeffju.net>

On 21.04.2007 14:50 Leonid Mamchenkov wrote:

> Absolute URLs is about the biggest problem in our
> development/deployment process for our customer's web sites.  Since
> most of them already have web sites online, we can't develop under the
> target domain.  We use a different host instead, and after everything
> is done and ready, we have to change the 'home' and 'siteurl' values
> in wp_options, 'guid' in wp_posts, and do a search-and-replace through
> the text of all pre-set posts and pages ('About us', 'Contact us', and
> whatever else the customer might have requested).
> 
> While we managed to somewhat automate the process, it's still error
> prone and doesn't work very well in some situations, such as, for
> example, several domains per web site.

Aside from the matter of absolute vs. relative URIs, why don't you just
set up a development server and make an internal DNS entry to point the
target domain to it, or change your HOSTS file? Or develop on the target
server in a subdirectory, then change the document root when finished,
or use rewrite? There are many solutions to your problem that don't
require changes to the WordPress core.

Or you could just roll those patches into your deployed versions yourself...

-Matt
From leonid at mamchenkov.net  Sat Apr 21 13:23:20 2007
From: leonid at mamchenkov.net (Leonid Mamchenkov)
Date: Sat Apr 21 13:23:25 2007
Subject: [wp-hackers] Absolute vs. relative URLs
In-Reply-To: <462A0B92.3070808@moeffju.net>
References: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
	<462A0B92.3070808@moeffju.net>
Message-ID: <b76f24970704210623s2840452bi9753eb595dc1b3ce@mail.gmail.com>

Hi,

On 4/21/07, Matthias Bauer <moeffju@moeffju.net> wrote:
> On 21.04.2007 14:50 Leonid Mamchenkov wrote:
>
> > Absolute URLs is about the biggest problem in our
> > development/deployment process for our customer's web sites.
>
> Aside from the matter of absolute vs. relative URIs, why don't you just
> set up a development server and make an internal DNS entry to point the
> target domain to it, or change your HOSTS file?

Developers aren't all on internal network.  Isn't  it a common thing now?

> Or develop on the target server in a subdirectory, then change the
> document root when finished,

Target server usually belongs to or administrated by the customer.

> or use rewrite?

That's an ugly option. But an option, yes.

> There are many solutions to your problem that don't
> require changes to the WordPress core.
>
> Or you could just roll those patches into your deployed versions yourself...

>From the Google search results, it seems that we aren't the only ones
who have the problem with absolute URLs.  What's so great about them
anyway?

There is already a configuration file for the database connectivity.
Numerous other systems keep a URL and a file system path in there too.
 It's native, it's what people are used to.  If someone, who is not
very familiar with WordPress needs to move it around, he/she can just
edit to lines of config file instead of doing lots of documentation
reading and then performing SQL trickery.  With relative URLs, things
like backups, hot standby's, and development/production setups are
trivial. With absolute URLs, these all are a pain.

Absolute URLs really look like a bad decision. Except for when RSS
feeds are involved, but those are easy to take care of.

-- 
Leonid Mamchenkov
http://mamchenkov.net
From if.website at gmail.com  Sat Apr 21 13:42:58 2007
From: if.website at gmail.com (Austin Matzko)
Date: Sat Apr 21 13:43:04 2007
Subject: [wp-hackers] Absolute vs. relative URLs
In-Reply-To: <b76f24970704210623s2840452bi9753eb595dc1b3ce@mail.gmail.com>
References: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
	<462A0B92.3070808@moeffju.net>
	<b76f24970704210623s2840452bi9753eb595dc1b3ce@mail.gmail.com>
Message-ID: <674b4a3b0704210642t413822bei8b44f433caea8b5e@mail.gmail.com>

On 4/21/07, Leonid Mamchenkov <leonid@mamchenkov.net> wrote:
> There is already a configuration file for the database connectivity.
> Numerous other systems keep a URL and a file system path in there too.
>  It's native, it's what people are used to.  If someone, who is not
> very familiar with WordPress needs to move it around, he/she can just
> edit to lines of config file instead of doing lots of documentation
> reading and then performing SQL trickery.  With relative URLs, things
> like backups, hot standby's, and development/production setups are
> trivial. With absolute URLs, these all are a pain.

Actually, with trunk WordPress you can now set the home and siteurl
options in the wp-config.php file using the optional WP_HOME and
WP_SITEURL constants.  That would seem to take care of most the cases
you mention, except for absolute URLs within posts, which can be fixed
with the MySQL replace function.
From burobjorn at gmail.com  Sat Apr 21 13:48:25 2007
From: burobjorn at gmail.com (Burobjorn)
Date: Sat Apr 21 13:50:03 2007
Subject: [wp-hackers] Absolute vs. relative URLs
In-Reply-To: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
References: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
Message-ID: <462A1629.3020303@gmail.com>

I agree with Leonid absolute urls being a nuisance and felt the same 
pain with the deployment of some of my clients' sites.

Perhaps somebody can explain the benefits of using absolute urls instead 
of relative ones? I would be willing to help out with making urls into 
relative ones, but would like to know first what the arguments are for 
using absolute ones.

grtz
BjornW


Leonid Mamchenkov wrote:
> Dear All,
> 
> It seems that quite a few people suggested to use relative URLs in
> WordPress instead of absolute.  I've even seen some patches here and
> there (Trac).  But the status of the issue is not clear.
> 
> What is happening with this?
> 
> Absolute URLs is about the biggest problem in our
> development/deployment process for our customer's web sites.  Since
> most of them already have web sites online, we can't develop under the
> target domain.  We use a different host instead, and after everything
> is done and ready, we have to change the 'home' and 'siteurl' values
> in wp_options, 'guid' in wp_posts, and do a search-and-replace through
> the text of all pre-set posts and pages ('About us', 'Contact us', and
> whatever else the customer might have requested).
> 
> While we managed to somewhat automate the process, it's still error
> prone and doesn't work very well in some situations, such as, for
> example, several domains per web site.
> 

From leonid at mamchenkov.net  Sat Apr 21 13:54:07 2007
From: leonid at mamchenkov.net (Leonid Mamchenkov)
Date: Sat Apr 21 13:54:12 2007
Subject: [wp-hackers] Absolute vs. relative URLs
In-Reply-To: <674b4a3b0704210642t413822bei8b44f433caea8b5e@mail.gmail.com>
References: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
	<462A0B92.3070808@moeffju.net>
	<b76f24970704210623s2840452bi9753eb595dc1b3ce@mail.gmail.com>
	<674b4a3b0704210642t413822bei8b44f433caea8b5e@mail.gmail.com>
Message-ID: <b76f24970704210654q7bdafcfx3c8d96b8d4277a84@mail.gmail.com>

Hello,

On 4/21/07, Austin Matzko <if.website@gmail.com> wrote:
> Actually, with trunk WordPress you can now set the home and siteurl
> options in the wp-config.php file using the optional WP_HOME and
> WP_SITEURL constants.  That would seem to take care of most the cases
> you mention, except for absolute URLs within posts, which can be fixed
> with the MySQL replace function.

Excellent!  I'll check it out.  Thanks.

-- 
Leonid Mamchenkov
http://mamchenkov.net
From ryan at boren.nu  Sat Apr 21 17:00:55 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sat Apr 21 17:01:00 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <2BCFF24A-5FB6-42C2-9613-5E700E539AB8@txfx.net>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>
	<462612E7.5070909@jamietalbot.com>
	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
	<4627882A.9090807@jamietalbot.com>
	<bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>
	<bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>
	<46281AEC.8030506@jamietalbot.com>
	<bb0886ed0704201225u66c474bbh25398b701517e5b3@mail.gmail.com>
	<2BCFF24A-5FB6-42C2-9613-5E700E539AB8@txfx.net>
Message-ID: <bb0886ed0704211000s4cac4290jc4708ca13af5a529@mail.gmail.com>

On 4/20/07, Mark Jaquith <mark.wordpress@txfx.net> wrote:
> On Apr 20, 2007, at 3:25 PM, Ryan Boren wrote:
>
> > I'm okay with a separate table as long as we're not joining on it
> > everywhere.  The table could hold an auto_increment integer id and a
> > varchar descriptive name.  This could be cached in an array stored in
> > the options table.  Options are autoloaded so we won't be adding extra
> > queries for front page loads.
>
> Why not just have it stored as an option only?  It's not like there
> are going to be a lot of them, and the default ones can be assumed.
> Create an API for it.
>
> function register_taxonomy($name) {
>         if ( !taxonomy_exists($name) )
>                 return (int) create_taxonomy($name); // returns taxonomy id
>         return (int) get_taxonomy_id($name);
> }
>
> And so forth.
>
> Plugin would do:
>
> define('MY_PLUGIN_CUSTOM_TAX_ID', register_taxonomy
> ('my_custom_taxonomy'));
>
> If it needed to do custom queries on that taxonomy id.  Otherwise,
> the built-in functions would do quick queryless taxonomy_name =>
> taxonomy_id conversion out of the in-memory options cache
> ( get_taxonomy_id($name), for instance).

That's fine too.  I think as long as we keep the ID strictly
incrementing and keep track of the current highest ID we are good.

Ryan
From jeremy.visser at gmail.com  Sun Apr 22 09:21:01 2007
From: jeremy.visser at gmail.com (Jeremy Visser)
Date: Sun Apr 22 09:21:06 2007
Subject: [wp-hackers] Absolute vs. relative URLs
In-Reply-To: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
References: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
Message-ID: <43253ec50704220221u2665c079sae427335914ea357@mail.gmail.com>

On 4/21/07, Leonid Mamchenkov <leonid@mamchenkov.net> wrote:
> Dear All,
>
> It seems that quite a few people suggested to use relative URLs in
> WordPress instead of absolute.  I've even seen some patches here and
> there (Trac).  But the status of the issue is not clear.
>
> What is happening with this?
>
> Absolute URLs is about the biggest problem in our
> development/deployment process for our customer's web sites.  Since
> most of them already have web sites online, we can't develop under the
> target domain.  We use a different host instead, and after everything
> is done and ready, we have to change the 'home' and 'siteurl' values
> in wp_options, 'guid' in wp_posts, and do a search-and-replace through
> the text of all pre-set posts and pages ('About us', 'Contact us', and
> whatever else the customer might have requested).
>
> While we managed to somewhat automate the process, it's still error
> prone and doesn't work very well in some situations, such as, for
> example, several domains per web site.

This has a problem with things like RSS feeds opening in external
viewers not working properly, and I also encounter problems with
things like pinging. WP should be smart enough to do this, but seeing
as though the market for relative URLs is smaller, it doesn't seem to
have been implemented.

Something like a wp_absolute_url($url, $base) function might be handy
for if you need to force an absolute URL.
From leonid at mamchenkov.net  Sun Apr 22 10:27:37 2007
From: leonid at mamchenkov.net (Leonid Mamchenkov)
Date: Sun Apr 22 10:27:43 2007
Subject: [wp-hackers] Absolute vs. relative URLs
In-Reply-To: <43253ec50704220221u2665c079sae427335914ea357@mail.gmail.com>
References: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
	<43253ec50704220221u2665c079sae427335914ea357@mail.gmail.com>
Message-ID: <b76f24970704220327w2349b2ffl93c1fe443543575b@mail.gmail.com>

Hi,

On 4/22/07, Jeremy Visser <jeremy.visser@gmail.com> wrote:
> > While we managed to somewhat automate the process, it's still error
> > prone and doesn't work very well in some situations, such as, for
> > example, several domains per web site.
>
> This has a problem with things like RSS feeds opening in external
> viewers not working properly, and I also encounter problems with
> things like pinging. WP should be smart enough to do this, but seeing
> as though the market for relative URLs is smaller, it doesn't seem to
> have been implemented.
>
> Something like a wp_absolute_url($url, $base) function might be handy
> for if you need to force an absolute URL.

Indeed.  RSS feeds and pinging functionality are a form of
presentation.  They have nothing to do with how things are implemented
internally.  After all, all systems that use relative URLs still
present absolute ones in the browser's address bar.

-- 
Leonid Mamchenkov
http://mamchenkov.net
From jeremy.visser at gmail.com  Sun Apr 22 10:56:06 2007
From: jeremy.visser at gmail.com (Jeremy Visser)
Date: Sun Apr 22 10:56:11 2007
Subject: [wp-hackers] Absolute vs. relative URLs
In-Reply-To: <b76f24970704220327w2349b2ffl93c1fe443543575b@mail.gmail.com>
References: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
	<43253ec50704220221u2665c079sae427335914ea357@mail.gmail.com>
	<b76f24970704220327w2349b2ffl93c1fe443543575b@mail.gmail.com>
Message-ID: <43253ec50704220356pf107cbib34a82a7f98b981e@mail.gmail.com>

On 4/22/07, Leonid Mamchenkov <leonid@mamchenkov.net> wrote:
> After all, all systems that use relative URLs still
> present absolute ones in the browser's address bar.

And, when they send the HTTP request to the server, it is always a
relative URL. ;)

GET /index.php HTTP/1.1
From wordpress at dd32.id.au  Sun Apr 22 11:12:22 2007
From: wordpress at dd32.id.au (DD32)
Date: Sun Apr 22 11:12:27 2007
Subject: [wp-hackers] DB options table; useless columns?
Message-ID: <op.tq6mqwvuk6w4mc@dd32.no-ip.com>

Hi all,
first of all, Apologies if there is actually a use for any of these  
columns,
But from what i can see (And after doing a grep of the WP source fo the  
terms)
The following columns from the Options table seem completely useless?
My only reasoning for mentioning this was to gain better insight into the  
underlaying db structure,


   option_can_override enum('Y','N') NOT NULL default 'Y',
   option_type int(11) NOT NULL default '1',
   option_width int(11) NOT NULL default '20',
   option_height int(11) NOT NULL default '8',
   option_admin_level int(11) NOT NULL default '1',

C:\www\wordpress>grep -r option_can_override *
	wp-admin/upgrade-schema.php:  option_can_override enum('Y','N') NOT NULL  
default 'Y',
C:\www\wordpress>grep -r option_type *
	wp-admin/upgrade-schema.php:  option_type int(11) NOT NULL default '1',
C:\www\wordpress>grep -r option_width *
	wp-admin/upgrade-schema.php:  option_width int(11) NOT NULL default '20',
C:\www\wordpress>grep -r option_height *
	wp-admin/upgrade-schema.php:  option_height int(11) NOT NULL default '8',
C:\www\wordpress>grep -r option_admin_level *
	wp-admin/upgrade-schema.php:  option_admin_level int(11) NOT NULL default  
'1',

A Quick glance at WP-MU didnt reveal any use either:

C:\www\wordpress-mu>grep -r option_can_override *
	wp-admin/upgrade-schema.php:  option_can_override enum('Y','N') NOT NULL  
default 'Y',
C:\www\wordpress-mu>grep -r option_type *
	wp-admin/upgrade-schema.php:  option_type int(11) NOT NULL default '1',
C:\www\wordpress-mu>grep -r option_width *
	wp-admin/upgrade-schema.php:  option_width int(11) NOT NULL default '20',
C:\www\wordpress-mu>grep -r option_height *
	wp-admin/upgrade-schema.php:  option_height int(11) NOT NULL default '8',
C:\www\wordpress-mu>grep -r option_admin_level *
	wp-admin/upgrade-schema.php:  option_admin_level int(11) NOT NULL default  
'1',
From m at mullenweg.com  Sun Apr 22 11:32:25 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Apr 22 11:34:37 2007
Subject: [wp-hackers] DB options table; useless columns?
In-Reply-To: <op.tq6mqwvuk6w4mc@dd32.no-ip.com>
References: <op.tq6mqwvuk6w4mc@dd32.no-ip.com>
Message-ID: <462B47C9.7090106@mullenweg.com>

DD32 wrote:
> The following columns from the Options table seem completely useless?
> My only reasoning for mentioning this was to gain better insight into 
> the underlaying db structure,

They're legacy from when the options UI was completely auto-generated.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From m at mullenweg.com  Sun Apr 22 11:36:10 2007
From: m at mullenweg.com (Matt Mullenweg)
Date: Sun Apr 22 11:38:23 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <2BCFF24A-5FB6-42C2-9613-5E700E539AB8@txfx.net>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<b65af1a30704161113iecf94eaycd8c58dcd2e93b65@mail.gmail.com>	<46240915.7050006@jamietalbot.com>	<b65af1a30704171048u60c1fabds67da0fc5ca1b6e5@mail.gmail.com>	<462612E7.5070909@jamietalbot.com>	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>	<4627882A.9090807@jamietalbot.com>	<bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>	<bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>	<46281AEC.8030506@jamietalbot.com>	<bb0886ed0704201225u66c474bbh25398b701517e5b3@mail.gmail.com>
	<2BCFF24A-5FB6-42C2-9613-5E700E539AB8@txfx.net>
Message-ID: <462B48AA.4000404@mullenweg.com>

Mark Jaquith wrote:
> Why not just have it stored as an option only?  It's not like there are 
> going to be a lot of them, and the default ones can be assumed.  Create 
> an API for it.

Perhaps we could learn something from our roles/caps implementation 
here, and hardcode the baseline/core functionality (categories and tags) 
but allow for it to be extended with plugins, either with filters or in 
the DB as you suggested.

-- 
Matt Mullenweg
  http://photomatt.net | http://wordpress.org
http://automattic.com | http://akismet.com
From per at soderlind.no  Sun Apr 22 22:15:03 2007
From: per at soderlind.no (=?us-ascii?Q?Per_Soderlind?=)
Date: Sun Apr 22 22:15:12 2007
Subject: [wp-hackers] SetupWP, simplifying WordPress installation
Message-ID: <003401c7852b$ad6f02d0$084d0870$@no>

Hi,

 

Some time ago I suggested over at the WordPress forum that it would be nice
for the novice users to have a setup wizard. Now it's available at
http://SetupWP.com/

 

The reason why I created this wizard is (hopefully) to make it easier for
the novice user to install and enjoy WordPress J

 

Any feedback is appreciated.

 

Kind regards,

Per Soderlind aka PerS

 

 

From speedboxer at gmail.com  Sun Apr 22 23:08:46 2007
From: speedboxer at gmail.com (Matt)
Date: Sun Apr 22 23:08:51 2007
Subject: [wp-hackers] SetupWP, simplifying WordPress installation
In-Reply-To: <003401c7852b$ad6f02d0$084d0870$@no>
References: <003401c7852b$ad6f02d0$084d0870$@no>
Message-ID: <b88434820704221608l52909e00ibfb683e6e558fbf6@mail.gmail.com>

I never thought it was that hard to install WP. Even for someone who didn't
know what they're doing, they could still read the installation
documentation...

On 4/22/07, Per Soderlind <per@soderlind.no> wrote:
>
> Hi,
>
>
>
> Some time ago I suggested over at the WordPress forum that it would be
> nice
> for the novice users to have a setup wizard. Now it's available at
> http://SetupWP.com/
>
>
>
> The reason why I created this wizard is (hopefully) to make it easier for
> the novice user to install and enjoy WordPress J
>
>
>
> Any feedback is appreciated.
>
>
>
> Kind regards,
>
> Per Soderlind aka PerS
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/ | http://livemp.net/
From omry at yadan.net  Mon Apr 23 04:55:17 2007
From: omry at yadan.net (Omry Yadan)
Date: Mon Apr 23 04:55:35 2007
Subject: [wp-hackers] SetupWP, simplifying WordPress installation
In-Reply-To: <b88434820704221608l52909e00ibfb683e6e558fbf6@mail.gmail.com>
References: <003401c7852b$ad6f02d0$084d0870$@no>
	<b88434820704221608l52909e00ibfb683e6e558fbf6@mail.gmail.com>
Message-ID: <462C3C35.5050103@yadan.net>

its not hard, but it can be easier.

try FireStats standalone installation to see :).


Matt wrote:

> I never thought it was that hard to install WP. Even for someone who
> didn't
> know what they're doing, they could still read the installation
> documentation...
>
> On 4/22/07, Per Soderlind <per@soderlind.no> wrote:
>>
>> Hi,
>>
>>
>>
>> Some time ago I suggested over at the WordPress forum that it would be
>> nice
>> for the novice users to have a setup wizard. Now it's available at
>> http://SetupWP.com/
>>
>>
>>
>> The reason why I created this wizard is (hopefully) to make it easier
>> for
>> the novice user to install and enjoy WordPress J
>>
>>
>>
>> Any feedback is appreciated.
>>
>>
>>
>> Kind regards,
>>
>> Per Soderlind aka PerS
>>
>>
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>

From spencerp1 at gmail.com  Mon Apr 23 04:56:50 2007
From: spencerp1 at gmail.com (spencerp)
Date: Mon Apr 23 04:57:06 2007
Subject: [wp-hackers] Exclude WP tag > categories 
Message-ID: <462C3C92.1040302@gmail.com>

Was wondering if anyone knew what code to use when excluding WP tags 
which are classified as categories? I have all XXX hundreds of them 
listed in a Category Drop Down sigh. I only want the actual categories 
for the posts to be showing lmao!

Here's the plugin's code: 
<?php zelig_dropdown_cats('title=Select 
Category&post_count=1&boxwidth=180'); ?>

I think I'd need this *even if* I didn't use this plugin right? Meaning, 
even if I just used the normal default code to call the categories on 
the sidebar? Thanks in advanced.. ;) :)

--
spencerp
http://spencerp.net
http://www.vindictivebastard.net


From spencerp1 at gmail.com  Mon Apr 23 05:00:57 2007
From: spencerp1 at gmail.com (spencerp)
Date: Mon Apr 23 05:01:04 2007
Subject: [wp-hackers] Re: Exclude WP tag > categories
In-Reply-To: <462C3C92.1040302@gmail.com>
References: <462C3C92.1040302@gmail.com>
Message-ID: <462C3D89.4010603@gmail.com>

spencerp wrote:
> Here's the plugin's code: <?php zelig_dropdown_cats('title=Select 
> Category&post_count=1&boxwidth=180'); ?>

Slaps self, shoot.. you would need to know MORE then that I guess lmao! 
Sorry about that. Nevermind for now.. lol..
From spencerp1 at gmail.com  Mon Apr 23 05:07:53 2007
From: spencerp1 at gmail.com (spencerp)
Date: Mon Apr 23 05:07:59 2007
Subject: [wp-hackers] Re: Exclude WP tag > categories
In-Reply-To: <462C3D89.4010603@gmail.com>
References: <462C3C92.1040302@gmail.com> <462C3D89.4010603@gmail.com>
Message-ID: <462C3F29.8050702@gmail.com>

spencerp wrote:
> Slaps self, shoot.. you would need to know MORE then that I guess 
> lmao! Sorry about that. Nevermind for now.. lol..

I put back the original category list template tag and dropped the 
category drop down plugin. All seems fine fer now! :D /Didn't really 
need the drop down fer it anyway.. whee!

spencerp
From jeremy.visser at gmail.com  Mon Apr 23 09:44:54 2007
From: jeremy.visser at gmail.com (Jeremy Visser)
Date: Mon Apr 23 09:45:06 2007
Subject: [wp-hackers] SetupWP, simplifying WordPress installation
In-Reply-To: <003401c7852b$ad6f02d0$084d0870$@no>
References: <003401c7852b$ad6f02d0$084d0870$@no>
Message-ID: <462C8016.7090309@gmail.com>

Per Soderlind wrote:
> The reason why I created this wizard is (hopefully) to make it easier
> for the novice user to install and enjoy WordPress J

Not a bad tool, but I don't think this will solve most of setup issues,
which lie in the database. From experience, nearly all newbie issues
with WP setup lies in the database configuration; uploading via FTP is
the easy bit.

Also, the setup wizards says "Please read the following License
Agreement [GPL]. You must agree to the terms before continuing."

Well, actually, you don't need to agree to the terms to use WordPress:

> Activities other than copying, distribution and modification are not
> covered by this License; they are outside its scope.  The act of
> running the Program is not restricted, and the output from the Program
> is covered only if its contents constitute a work based on the
> Program (independent of having been made by running the Program).
> Whether that is true depends on what the Program does.

So, the license dialog is not necessary.

Just my little bit of feedback. I hope I don't sound like I'm trying to
put you off; it's certainly the contrary. :)

-- 
Jeremy Visser

()  ascii ribbon campaign - against html e-mail
/\  www.asciiribbon.org   - against proprietary attachments
From per at soderlind.no  Mon Apr 23 10:25:47 2007
From: per at soderlind.no (=?us-ascii?Q?Per_Soderlind?=)
Date: Mon Apr 23 10:25:53 2007
Subject: [wp-hackers] SetupWP, simplifying WordPress installation
In-Reply-To: <462C8016.7090309@gmail.com>
References: <003401c7852b$ad6f02d0$084d0870$@no> <462C8016.7090309@gmail.com>
Message-ID: <011101c78591$c226e6f0$4674b4d0$@no>

On 2007-04-23, Jeremy Visser wrote:
> Also, the setup wizards says "Please read the following License
> Agreement [GPL]. You must agree to the terms before continuing."
> 
> Well, actually, you don't need to agree to the terms to use WordPress:
> 
>> Activities other than copying, distribution and modification are not
>> covered by this License; they are outside its scope.  The act of
>> running the Program is not restricted, and the output from the Program
>> is covered only if its contents constitute a work based on the Program
>> (independent of having been made by running the Program). Whether that
>> is true depends on what the Program does.
> 
> So, the license dialog is not necessary.

Thank you for your feedback Jeremy, I'll remove the license dialog.


Kind regards,
Per


From MattPat at mattpat.net  Mon Apr 23 10:26:12 2007
From: MattPat at mattpat.net (Matt Patenaude)
Date: Mon Apr 23 10:26:20 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <462C88C7.8070408@gmail.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F8D@dsimail.drbsystems.com>
	<462C88C7.8070408@gmail.com>
Message-ID: <C0D25E74-7BA6-4C91-A099-25F9483D219A@mattpat.net>

I'm just curious, why "Reactivate" and not "Activate?" Who's to say  
that the plugins were all originally active?

-Matt

On Apr 23, 2007, at 6:21 AM, Jeremy Visser wrote:

> Brian Layman wrote:
>>> That's exactly how it works: When you 'Deactivate All', it saves  
>>> a list
>>> of your currently activated plugins. Then when you 'Reactivate  
>>> All', it
>>> only reactivates the previously active batch.
>>
>> Oh, good show.
>>
>> I think "Deactivate Plugins" and "Reactivate Plugins" would suffice.
>>
>> Since the program is doing, logically, what you'd expect it to do,  
>> any
>> further explanation would just complicate the matter.
>
> Or perhaps "Deactivate 7 Plugins" and "Reactivate 7 Plugins" depending
> on the number that were activated?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From hovenko at linpro.no  Mon Apr 23 11:19:53 2007
From: hovenko at linpro.no (Knut-Olav Hoven)
Date: Mon Apr 23 11:19:59 2007
Subject: [wp-hackers] Absolute vs. relative URLs
In-Reply-To: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
References: <b76f24970704210550i59995598t27ff869c8fb918da@mail.gmail.com>
Message-ID: <200704231319.53986.hovenko@linpro.no>

On Saturday 21 April 2007 14:50:09 Leonid Mamchenkov wrote:
> Absolute URLs is about the biggest problem in our
> development/deployment process for our customer's web sites.  Since
> most of them already have web sites online, we can't develop under the
> target domain.  We use a different host instead, and after everything
> is done and ready, we have to change the 'home' and 'siteurl' values
> in wp_options, 'guid' in wp_posts, and do a search-and-replace through
> the text of all pre-set posts and pages ('About us', 'Contact us', and
> whatever else the customer might have requested).

Check out a plugin i wrote that can be used to override options from the 
database, such as home and siteurl.

http://wordpress.org/extend/plugins/df-fileconf/



-- 
Knut-Olav Hoven
Systemutvikler               mob: +47 986 71 700
Linpro AS                    http://www.linpro.no/
From computerguru at neosmart.net  Mon Apr 23 12:12:03 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 23 12:12:23 2007
Subject: [wp-hackers] DB options table; useless columns?
In-Reply-To: <462C8807.6000905@gmail.com>
References: <op.tq6mqwvuk6w4mc@dd32.no-ip.com>
	<462B47C9.7090106@mullenweg.com> <462C8807.6000905@gmail.com>
Message-ID: <462CA293.5040503@NeoSmart.net>

Jeremy Visser wrote:
> Matt Mullenweg wrote:
>   
>> They're legacy from when the options UI was completely auto-generated.
>>     
>
> Well why doesn't the upgrade script delete the columns? Or should it?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
That would be nice, but unpractical.
The problem is, then it would delete all columns that aren't in the 
official schema, making really really hard for some plugins to work 
efficiently.

Say I wanted to add a user-specific plugin somewhere that does 
something. I could create a new table with the user ID and the set of 
options for my plugin (really generic example, I know...), but then 
that's just a waste and bad performance.

Better would be to simply add a column to the WP users table, and use it 
from there.. Especially if I need access to other WP-core columns too, 
not just the ID.

However, I do believe they can be removed with a manual query in the db 
delta script, though that would kind of defeat (part of) the purpose of 
an automated DB schema updating mechanism....

One question: are these columns created in a _new_ install of WP? That 
would be something entirely different.......

-CG
From swaroop at rackedhosting.com  Mon Apr 23 12:57:57 2007
From: swaroop at rackedhosting.com (Swaroop Hegde)
Date: Mon Apr 23 12:54:12 2007
Subject: [wp-hackers] SetupWP, simplifying WordPress installation
In-Reply-To: <003401c7852b$ad6f02d0$084d0870$@no>
References: <003401c7852b$ad6f02d0$084d0870$@no>
Message-ID: <009c01c785a7$098bad90$1ca308b0$@com>

Pers,

Nice job, that should help a lot of newbies :)

I am guessing you are using Ioncube's package foundry?

--
Swap

http://www.swaroophegde.com


From wordpress at dd32.id.au  Mon Apr 23 12:56:50 2007
From: wordpress at dd32.id.au (DD32)
Date: Mon Apr 23 12:56:54 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <C0D25E74-7BA6-4C91-A099-25F9483D219A@mattpat.net>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F8D@dsimail.drbsystems.com>
	<462C88C7.8070408@gmail.com>
	<C0D25E74-7BA6-4C91-A099-25F9483D219A@mattpat.net>
Message-ID: <op.tq8l802fk6w4mc@dd32.no-ip.com>

Its not an "Activate All" option, Rather it only activates the plugins
which were Deactivated.
eg: i've got 20 plugins, 7 are active, I click deactivate all, i now have
0 active plugins, i press re-activate, those 7 previous plugins are
re-activated.

On Mon, 23 Apr 2007 20:26:12 +1000, Matt Patenaude <MattPat@mattpat.net>
wrote:
> I'm just curious, why "Reactivate" and not "Activate?" Who's to say that  
> the plugins were all originally active?
>
> -Matt
>
> On Apr 23, 2007, at 6:21 AM, Jeremy Visser wrote:
>
>> Brian Layman wrote:
>>>> That's exactly how it works: When you 'Deactivate All', it saves a  
>>>> list
>>>> of your currently activated plugins. Then when you 'Reactivate All',  
>>>> it
>>>> only reactivates the previously active batch.
>>>
>>> Oh, good show.
>>>
>>> I think "Deactivate Plugins" and "Reactivate Plugins" would suffice.
>>>
>>> Since the program is doing, logically, what you'd expect it to do, any
>>> further explanation would just complicate the matter.
>>
>> Or perhaps "Deactivate 7 Plugins" and "Reactivate 7 Plugins" depending
>> on the number that were activated?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From mark at wltc.net  Mon Apr 23 13:01:23 2007
From: mark at wltc.net (Mark Ghosh)
Date: Mon Apr 23 13:01:29 2007
Subject: [wp-hackers] Windows setup for Wordpress
Message-ID: <3f8cf6470704230601u627043d1ha509959792ff5190@mail.gmail.com>

I just wanted to bring everyone's attention to the following Wordpress
installation wizard.
Even though the steps in the installer are a simple FTP upload, the process
does take care of the file permissions and Wordpress on the server takes
care of the rest.

Would something like this make the install process easier and less daunting
and should this be considered as one distribution method?

I have personally never liked the idea of downloading core Wordpress files
from any location other than the Wordpress servers (especially if I do not
know the source) and so I have not posted it on WLTC but the installer could
be well received by novice bloggers.

http://setupwp.com/

Thanks,
Mark


-- 
---
Mark Ghosh
http://weblogtoolscollection.com
http://qlue.in
From wordpress at dd32.id.au  Mon Apr 23 13:02:14 2007
From: wordpress at dd32.id.au (DD32)
Date: Mon Apr 23 13:02:20 2007
Subject: [wp-hackers] DB options table; useless columns?
In-Reply-To: <462CA293.5040503@NeoSmart.net>
References: <op.tq6mqwvuk6w4mc@dd32.no-ip.com>
	<462B47C9.7090106@mullenweg.com> <462C8807.6000905@gmail.com>
	<462CA293.5040503@NeoSmart.net>
Message-ID: <op.tq8mh0ykk6w4mc@dd32.no-ip.com>

Thanks Matt, That explains it.

Guru:
The upgrade plan *could* specify that a column gets deleted, i dont know  
if thats currently in there, and it'd only be used to delete specific  
columns that WP used, and threw away.
IT'd not be set to just kill anu user columns.
Yes, Those columns are created in a new install of WP.

My guess is that its legacy, If there are plugins, or hacks still in use  
today which reference those columns, and they're installed on a WP install  
without those columns, its more likely the user will have strange error  
messages from WP, they may not understand what they're on about, they just  
wanted to use that functioanlity from this plugin from the dark ages...

Cheers,
D
Apologies for not replying to the list earlier, Turns out the list  
software silently rejects emails coming from unknown email addresses, and  
what would you know, i've been sending with the wrong email (Yet it still  
apears locally as a reply); Shame its not possible to bounce messages  
which have a valid "In-Reply-To" header, yet unknown email address? I  
understand why it discards(spam), but its anoying for those who dont  
notice they're using the wrong address.
From computerguru at neosmart.net  Mon Apr 23 13:10:02 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 23 13:10:22 2007
Subject: [wp-hackers] DB options table; useless columns?
In-Reply-To: <op.tq8mh0ykk6w4mc@dd32.no-ip.com>
References: <op.tq6mqwvuk6w4mc@dd32.no-ip.com>	<462B47C9.7090106@mullenweg.com>
	<462C8807.6000905@gmail.com>	<462CA293.5040503@NeoSmart.net>
	<op.tq8mh0ykk6w4mc@dd32.no-ip.com>
Message-ID: <462CB02A.306@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

DD32 wrote:
> Apologies for not replying to the list earlier, Turns out the list
> software silently rejects emails coming from unknown email addresses,
> and what would you know, i've been sending with the wrong email (Yet it
> still apears locally as a reply); Shame its not possible to bounce
> messages which have a valid "In-Reply-To" header, yet unknown email
> address? I understand why it discards(spam), but its anoying for those
> who dont notice they're using the wrong address.

Here's what you can do:
Register both addresses. Set one to email-as-they-come and the other to
never email.

That way both addresses are registered with WordPress' WP-Hackers, and
it doesn't matter which address you choose to email from :D

Cheers!

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLLAp3SICh4XKUt0RAtGMAKC/dNl03Y5c0/+cBBvls2cDFMIaVQCdGgUT
m2JQ56cSMtDXJFPLX72O8RU=
=8QSq
-----END PGP SIGNATURE-----
From computerguru at neosmart.net  Mon Apr 23 13:11:49 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 23 13:12:06 2007
Subject: [wp-hackers] Windows setup for Wordpress
In-Reply-To: <3f8cf6470704230601u627043d1ha509959792ff5190@mail.gmail.com>
References: <3f8cf6470704230601u627043d1ha509959792ff5190@mail.gmail.com>
Message-ID: <462CB095.90906@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Mark Ghosh wrote:
> I just wanted to bring everyone's attention to the following Wordpress
> installation wizard.
> Even though the steps in the installer are a simple FTP upload, the process
> does take care of the file permissions and Wordpress on the server takes
> care of the rest.
> 
> Would something like this make the install process easier and less daunting
> and should this be considered as one distribution method?
> 
> I have personally never liked the idea of downloading core Wordpress files
> from any location other than the Wordpress servers (especially if I do not
> know the source) and so I have not posted it on WLTC but the installer
> could
> be well received by novice bloggers.
> 
> http://setupwp.com/
> 
> Thanks,
> Mark
> 
> 

This was already posted in the previous thread by the author(s) of
SetupWP themselves...

See "[wp-hackers] SetupWP, simplifying WordPress installation"

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLLCV3SICh4XKUt0RAp8nAKDub5bS5bGEYOVmn3OzxlkQV4uCVACfYai/
sl225qaliBzjDHOlfHip8f8=
=0z/l
-----END PGP SIGNATURE-----
From per at soderlind.no  Mon Apr 23 13:13:48 2007
From: per at soderlind.no (=?US-ASCII?Q?Per_Soderlind?=)
Date: Mon Apr 23 13:13:58 2007
Subject: [wp-hackers] SetupWP, simplifying WordPress installation
In-Reply-To: <009c01c785a7$098bad90$1ca308b0$@com>
References: <003401c7852b$ad6f02d0$084d0870$@no>
	<009c01c785a7$098bad90$1ca308b0$@com>
Message-ID: <006301c785a9$3b6cc5e0$b24651a0$@no>

On 2007-04-23, Swaroop Hegde wrote:
> Pers,
> 
> Nice job, that should help a lot of newbies :)
> 
> I am guessing you are using Ioncube's package foundry?
> 

Yes, I'm using IPF.

Kind regards,
Per


From wordpress at dd32.id.au  Mon Apr 23 13:15:19 2007
From: wordpress at dd32.id.au (DD32)
Date: Mon Apr 23 13:15:27 2007
Subject: [wp-hackers] DB options table; useless columns?
In-Reply-To: <462CB02A.306@NeoSmart.net>
References: <op.tq6mqwvuk6w4mc@dd32.no-ip.com>
	<462B47C9.7090106@mullenweg.com> <462C8807.6000905@gmail.com>
	<462CA293.5040503@NeoSmart.net>
	<op.tq8mh0ykk6w4mc@dd32.no-ip.com> <462CB02A.306@NeoSmart.net>
Message-ID: <op.tq8m3tffk6w4mc@dd32.no-ip.com>

On Mon, 23 Apr 2007 23:10:02 +1000, Computer Guru  
<computerguru@neosmart.net> wrote:
> Here's what you can do:
> Register both addresses. Set one to email-as-they-come and the other to
> never email.
>
> That way both addresses are registered with WordPress' WP-Hackers, and
> it doesn't matter which address you choose to email from :D
> Cheers!

Cheers indeed!
I didnt realise there was an option for "Never email".
Thanks :)
From Brian at TheCodeCave.com  Mon Apr 23 13:18:17 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr 23 13:18:25 2007
Subject: [wp-hackers] Windows setup for Wordpress
In-Reply-To: <462CB095.90906@NeoSmart.net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F95@dsimail.drbsystems.com>

> http://setupwp.com/
> This was already posted in the previous thread by the author(s) of
> SetupWP themselves...
> See "[wp-hackers] SetupWP, simplifying WordPress installation"

Yeah. So, it's probably legit.  And I'll grant you that a Windows program to
do a Linux install is just a unique idea.  Still it will be a long time
before I go typing my root password into any pre-compiled EXE downloaded
from a personal site.

From hovercrafter at earthlink.net  Mon Apr 23 13:45:04 2007
From: hovercrafter at earthlink.net (Jamie Holly)
Date: Mon Apr 23 13:45:55 2007
Subject: [wp-hackers] Adding A CSS Loader
Message-ID: <006f01c785ad$995cca20$cc165e60$@net>

I just spent the weekend on a couple of sites I manage going through plugins
and stripping out all the CSS so it can all be contained within 1 file.
Considering the number of plugins using their own style rules, I was
thinking that perhaps we could take another lesson from something Drupal has
done recently and works great - A CSS loader. 

 

Basically we would create a function, add_css('stylesheet_location'), or
something similar. This would store all the css files in an array which
would be dumped out with the proper format during the head call. What this
would also allow is for us to create a caching mechanism for all the CSS
files. Basically we could have Wordpress combine all the CSS files into a
master CSS file and then save that file in the cache directory. This would
reduce the number of calls to the server to load X number of style sheets
from each plugin that requires them.

 

We shouldn't have any legacy issues with this really, as those could still
require upon the head hook to inject their CSS (same applies to dynamic CSS
files). It would also require themes remove the CSS from their header.php
file for this to work, but if they don't then there is no problem, it will
just fallback to the current method. Since the theme's CSS file will also
remain stored with the theme, we can also continue to utilize the head
section of the CSS file for theme information.

 

Thoughts?

 

Jamie Holly

http://www.intoxination.net

From r at robm.me.uk  Mon Apr 23 13:56:25 2007
From: r at robm.me.uk (Rob)
Date: Mon Apr 23 13:56:40 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <006f01c785ad$995cca20$cc165e60$@net>
References: <006f01c785ad$995cca20$cc165e60$@net>
Message-ID: <ab92f2360704230656k7bee248j10f1152063c480de@mail.gmail.com>

On 23/04/07, Jamie Holly <hovercrafter@earthlink.net> wrote:
> snip

How would there not be compatibility issues? As far as I can see,
plugins would have to do:

if ( function_exists('add_css') ) {
    add_css('foo.css');
} else {
    function foo_wp_head() {
        echo '<link rel="stylesheet" href="foo.css" type="text/css" />';
    }
    add_action('wp_head', 'foo_wp_head');
}

If they wanted to be compatible with <2.3 (or whenever we put this in).


-- 
Rob

-----------------------
Rob Miller
Senior Programmer

email - rob@graphics.net
web - http://www.graphics.net/ | http://robm.me.uk/
From burobjorn at gmail.com  Mon Apr 23 13:56:47 2007
From: burobjorn at gmail.com (Burobjorn)
Date: Mon Apr 23 13:57:06 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <006f01c785ad$995cca20$cc165e60$@net>
References: <006f01c785ad$995cca20$cc165e60$@net>
Message-ID: <462CBB1F.90603@gmail.com>

This seems like a good proposal.

I would like to add the same idea for the addition of javascript. 
Although I wonder about the order which might cause issues with 
javascript files (such as with prototype and jquery). I'm not sure if 
the same would apply to css.

grtz
BjornW



> I just spent the weekend on a couple of sites I manage going through plugins
> and stripping out all the CSS so it can all be contained within 1 file.
> Considering the number of plugins using their own style rules, I was
> thinking that perhaps we could take another lesson from something Drupal has
> done recently and works great - A CSS loader. 
> 
>  
> 
> Basically we would create a function, add_css('stylesheet_location'), or
> something similar. This would store all the css files in an array which
> would be dumped out with the proper format during the head call. What this
> would also allow is for us to create a caching mechanism for all the CSS
> files. Basically we could have Wordpress combine all the CSS files into a
> master CSS file and then save that file in the cache directory. This would
> reduce the number of calls to the server to load X number of style sheets
> from each plugin that requires them.
> 
>  
> 
> We shouldn't have any legacy issues with this really, as those could still
> require upon the head hook to inject their CSS (same applies to dynamic CSS
> files). It would also require themes remove the CSS from their header.php
> file for this to work, but if they don't then there is no problem, it will
> just fallback to the current method. Since the theme's CSS file will also
> remain stored with the theme, we can also continue to utilize the head
> section of the CSS file for theme information.
> 
>  
> 
> Thoughts?
> 
>  
> 
> Jamie Holly
> 
> http://www.intoxination.net
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From burobjorn at gmail.com  Mon Apr 23 14:08:06 2007
From: burobjorn at gmail.com (Burobjorn)
Date: Mon Apr 23 14:08:11 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <ab92f2360704230656k7bee248j10f1152063c480de@mail.gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net>
	<ab92f2360704230656k7bee248j10f1152063c480de@mail.gmail.com>
Message-ID: <462CBDC6.7080203@gmail.com>

As far as I understood plugin authors don't have to have to use it.

The echo will still work. Those plugins wanting to take advantage of the 
add_css function would use this otherwise they can still use echo.

It's not mandatory to use, although if we want to make it a succes we 
need to make it very much wanted and caching might be a good argument in 
  this.

grtz
BjornW

> On 23/04/07, Jamie Holly <hovercrafter@earthlink.net> wrote:
>> snip
> 
> How would there not be compatibility issues? As far as I can see,
> plugins would have to do:
> 
> if ( function_exists('add_css') ) {
>    add_css('foo.css');
> } else {
>    function foo_wp_head() {
>        echo '<link rel="stylesheet" href="foo.css" type="text/css" />';
>    }
>    add_action('wp_head', 'foo_wp_head');
> }
> 
> If they wanted to be compatible with <2.3 (or whenever we put this in).
> 
> 

From hovercrafter at earthlink.net  Mon Apr 23 14:11:17 2007
From: hovercrafter at earthlink.net (Jamie Holly)
Date: Mon Apr 23 14:12:21 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <ab92f2360704230656k7bee248j10f1152063c480de@mail.gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net>
	<ab92f2360704230656k7bee248j10f1152063c480de@mail.gmail.com>
Message-ID: <007701c785b1$43260820$c9721860$@net>

> 
> How would there not be compatibility issues? As far as I can see,
> plugins would have to do:
> 
> if ( function_exists('add_css') ) {
>     add_css('foo.css');
> } else {
>     function foo_wp_head() {
>         echo '<link rel="stylesheet" href="foo.css" type="text/css"
> />';
>     }
>     add_action('wp_head', 'foo_wp_head');
> }
> 
> If they wanted to be compatible with <2.3 (or whenever we put this in).
> 
> 
> --
> Rob

In that sense then yeah there would be an issue. I was talking about someone
using a plugin that was written in a version prior to the implementation.
Say we put it in version 2.5 (3.0 would be more likely), then plugins that
are authored for that version wouldn't work in 2.X, unless they added the
above check. However - plugins authored pre-loader would still work in WP
with the loader due to the head hook. 


Jamie Holly
http://www.intoxination.net

From hovercrafter at earthlink.net  Mon Apr 23 14:15:40 2007
From: hovercrafter at earthlink.net (Jamie Holly)
Date: Mon Apr 23 14:16:38 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462CBB1F.90603@gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net> <462CBB1F.90603@gmail.com>
Message-ID: <007801c785b1$df7179d0$9e546d70$@net>

> 
> This seems like a good proposal.
> 
> I would like to add the same idea for the addition of javascript.
> Although I wonder about the order which might cause issues with
> javascript files (such as with prototype and jquery). I'm not sure if
> the same would apply to css.
> 
> grtz
> BjornW
> 

This would also be a good idea. We could add a load order to the function -
add_js('js file name',load_order), with the higher numbers loading before
the lower numbers.

I think this would all be best in a major version release (ie: 3.0), but
overall it would reduce the calls to the server to load files. If you got 5
plugins loading CSS and JS, that is an additional 10 calls to the server.
Add that to other items, such as theme images, and a page quickly becomes
inflated with requests.

Jamie Holly
http://www.intoxination.net

From robin.adr at gmail.com  Mon Apr 23 15:38:49 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Mon Apr 23 15:38:55 2007
Subject: [wp-hackers] DB options table; useless columns?
In-Reply-To: <462C8807.6000905@gmail.com>
References: <op.tq6mqwvuk6w4mc@dd32.no-ip.com> <462B47C9.7090106@mullenweg.com>
	<462C8807.6000905@gmail.com>
Message-ID: <d135ca9c0704230838v635b3efcg2c2c6c0bac1ee734@mail.gmail.com>

Because it's possible that either outdated plugins query for those columns,
or plugins use those columns for other uses.

On 4/23/07, Jeremy Visser <jeremy.visser@gmail.com> wrote:
>
> Matt Mullenweg wrote:
> > They're legacy from when the options UI was completely auto-generated.
>
> Well why doesn't the upgrade script delete the columns? Or should it?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From robin.adr at gmail.com  Mon Apr 23 15:39:40 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Mon Apr 23 15:39:49 2007
Subject: [wp-hackers] Windows setup for Wordpress
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F95@dsimail.drbsystems.com>
References: <462CB095.90906@NeoSmart.net>
	<D0252C90757CBC4B8BC938A72BEDDF9D021E6F95@dsimail.drbsystems.com>
Message-ID: <d135ca9c0704230839y5eeb1cffl819757beedb6fcb4@mail.gmail.com>

Maybe if it were open sourced? ;) Hint, hint, wink, wink.

On 4/23/07, Brian Layman <Brian@thecodecave.com> wrote:
>
> > http://setupwp.com/
> > This was already posted in the previous thread by the author(s) of
> > SetupWP themselves...
> > See "[wp-hackers] SetupWP, simplifying WordPress installation"
>
> Yeah. So, it's probably legit.  And I'll grant you that a Windows program
> to
> do a Linux install is just a unique idea.  Still it will be a long time
> before I go typing my root password into any pre-compiled EXE downloaded
> from a personal site.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From robin.adr at gmail.com  Mon Apr 23 15:41:09 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Mon Apr 23 15:41:30 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <007801c785b1$df7179d0$9e546d70$@net>
References: <006f01c785ad$995cca20$cc165e60$@net> <462CBB1F.90603@gmail.com>
	<007801c785b1$df7179d0$9e546d70$@net>
Message-ID: <d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>

I believe we already do this with the script loader. wp_register_script() to
register a script, and wp_enqueue_script() to queue it up. But it may or may
not hook into wp_head. I'd have to look into that.

On 4/23/07, Jamie Holly <hovercrafter@earthlink.net> wrote:
>
> >
> > This seems like a good proposal.
> >
> > I would like to add the same idea for the addition of javascript.
> > Although I wonder about the order which might cause issues with
> > javascript files (such as with prototype and jquery). I'm not sure if
> > the same would apply to css.
> >
> > grtz
> > BjornW
> >
>
> This would also be a good idea. We could add a load order to the function
> -
> add_js('js file name',load_order), with the higher numbers loading before
> the lower numbers.
>
> I think this would all be best in a major version release (ie: 3.0), but
> overall it would reduce the calls to the server to load files. If you got
> 5
> plugins loading CSS and JS, that is an additional 10 calls to the server.
> Add that to other items, such as theme images, and a page quickly becomes
> inflated with requests.
>
> Jamie Holly
> http://www.intoxination.net
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From otto at ottodestruct.com  Mon Apr 23 16:28:53 2007
From: otto at ottodestruct.com (Otto)
Date: Mon Apr 23 16:29:00 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net> <462CBB1F.90603@gmail.com>
	<007801c785b1$df7179d0$9e546d70$@net>
	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>
Message-ID: <161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>

In default-filters.php, there's this:

add_action('wp_head', 'wp_print_scripts');

Which does just what you're thinking, printing out the scripts and
their dependencies and such. Plugins can indeed use
wp_enqueue_script() to make it load in the head. The widgets plugin
did that (before it became integrated into the core, of course).

I'm not sure there's a real need for a CSS specific loading function.
The entire function is basically just going to be something like this:

`function add_css($cssfile) {
add_action('wp_head', create_function('$a', 'echo "<link
rel=\"stylesheet\" href=\"'.$cssfile.'\" type=\"text/css\" />";');
}`

Because all it will do will add the line to the head. Nothing
particularly special. Sure, it's a shortened form and a convenience to
plugin/theme devs, but is it really necessary?


On 4/23/07, Robin Adrianse <robin.adr@gmail.com> wrote:
> I believe we already do this with the script loader. wp_register_script() to
> register a script, and wp_enqueue_script() to queue it up. But it may or may
> not hook into wp_head. I'd have to look into that.
>
> On 4/23/07, Jamie Holly <hovercrafter@earthlink.net> wrote:
> >
> > >
> > > This seems like a good proposal.
> > >
> > > I would like to add the same idea for the addition of javascript.
> > > Although I wonder about the order which might cause issues with
> > > javascript files (such as with prototype and jquery). I'm not sure if
> > > the same would apply to css.
> > >
> > > grtz
> > > BjornW
> > >
> >
> > This would also be a good idea. We could add a load order to the function
> > -
> > add_js('js file name',load_order), with the higher numbers loading before
> > the lower numbers.
> >
> > I think this would all be best in a major version release (ie: 3.0), but
> > overall it would reduce the calls to the server to load files. If you got
> > 5
> > plugins loading CSS and JS, that is an additional 10 calls to the server.
> > Add that to other items, such as theme images, and a page quickly becomes
> > inflated with requests.
> >
> > Jamie Holly
> > http://www.intoxination.net
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From hovercrafter at earthlink.net  Mon Apr 23 17:28:15 2007
From: hovercrafter at earthlink.net (Jamie Holly)
Date: Mon Apr 23 17:28:23 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net>
	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>
	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>
Message-ID: <000001c785cc$c70080b0$55018210$@net>


> In default-filters.php, there's this:
> 
> add_action('wp_head', 'wp_print_scripts');
> 
> Which does just what you're thinking, printing out the scripts and
> their dependencies and such. Plugins can indeed use
> wp_enqueue_script() to make it load in the head. The widgets plugin
> did that (before it became integrated into the core, of course).
> 
> I'm not sure there's a real need for a CSS specific loading function.
> The entire function is basically just going to be something like this:
> 
> `function add_css($cssfile) {
> add_action('wp_head', create_function('$a', 'echo "<link
> rel=\"stylesheet\" href=\"'.$cssfile.'\" type=\"text/css\" />";');
> }`
> 
> Because all it will do will add the line to the head. Nothing
> particularly special. Sure, it's a shortened form and a convenience to
> plugin/theme devs, but is it really necessary?
> 
> 

My original post was that we could use the new method to then add a caching
mechanism to have WP combine all CSS files into one "master" CSS file that
could be generated and stored/called from a server writeable directory (ie -
cache or uploads). That way when you got a bunch of plugins working off this
system, instead of having all those make additional server requests for
their independent CSS file, a single CSS file would load. Of course we would
have to look at options, such as enabling/disabling the caching and a cache
delete function for plugin updates. 

Jamie Holly
http://www.intoxination.net

From computerguru at neosmart.net  Mon Apr 23 17:37:25 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 23 17:37:39 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <000001c785cc$c70080b0$55018210$@net>
References: <006f01c785ad$995cca20$cc165e60$@net>	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>
	<000001c785cc$c70080b0$55018210$@net>
Message-ID: <462CEED5.1070000@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jamie Holly wrote:
> My original post was that we could use the new method to then add a caching
> mechanism to have WP combine all CSS files into one "master" CSS file that
> could be generated and stored/called from a server writeable directory (ie -
> cache or uploads). That way when you got a bunch of plugins working off this
> system, instead of having all those make additional server requests for
> their independent CSS file, a single CSS file would load. Of course we would
> have to look at options, such as enabling/disabling the caching and a cache
> delete function for plugin updates. 
> 
> Jamie Holly
> http://www.intoxination.net
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

Whether you employ a caching layer or not really make a difference at
that point.

Unless these are dynamically generated (MySQL-based) CSS files (highly
unlikely), then the benefit from the actual caching is close to null;
especially because everything else that matters is still dynamic. That
and the fact that simply doing

text1 .= text2;

..doesn't really take up much of anything! ;)

However, you are correct: it would cut the number of separate loads to
the server, which would result in faster page loads - BUT not any less
load on the server (realistically speaking).

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLO7V3SICh4XKUt0RAtIRAKCwMA71ZitUvYV/pD8kfC6NJfVOWwCgjVrZ
jrVL1FaOiqz5QE2r3gmFdrM=
=+1hS
-----END PGP SIGNATURE-----
From m at marcosmedia.com  Mon Apr 23 18:33:12 2007
From: m at marcosmedia.com (Marcos Sader | marcosmedia)
Date: Mon Apr 23 18:33:23 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <op.tq8l802fk6w4mc@dd32.no-ip.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F8D@dsimail.drbsystems.com>
	<462C88C7.8070408@gmail.com>
	<C0D25E74-7BA6-4C91-A099-25F9483D219A@mattpat.net>
	<op.tq8l802fk6w4mc@dd32.no-ip.com>
Message-ID: <8ff7155b0704231133w22afec9ej13f2fdcc47472c21@mail.gmail.com>

I don't believe it is so that hard to understand what is the meaning of
deactivate "just" the currently active ones and then just switch them back
again, but if it causing so much confusion, let's just make a note saying:
"This will help you upgrade your installation by deactivating your currently
active plugins, once you are done you can switch them back to it's current
state."

So, once you get back to that page, you have a similar notice stating that
you will return to previous state, plus you will be presented with a list of
the plugins (possibly with a checkbox next to them) that will be
reactivated.

Better now?



On 4/23/07, DD32 <wordpress@dd32.id.au> wrote:
>
> Its not an "Activate All" option, Rather it only activates the plugins
> which were Deactivated.
> eg: i've got 20 plugins, 7 are active, I click deactivate all, i now have
> 0 active plugins, i press re-activate, those 7 previous plugins are
> re-activated.
>
> On Mon, 23 Apr 2007 20:26:12 +1000, Matt Patenaude <MattPat@mattpat.net>
> wrote:
> > I'm just curious, why "Reactivate" and not "Activate?" Who's to say that
> > the plugins were all originally active?
> >
> > -Matt
> >
> > On Apr 23, 2007, at 6:21 AM, Jeremy Visser wrote:
> >
> >> Brian Layman wrote:
> >>>> That's exactly how it works: When you 'Deactivate All', it saves a
> >>>> list
> >>>> of your currently activated plugins. Then when you 'Reactivate All',
> >>>> it
> >>>> only reactivates the previously active batch.
> >>>
> >>> Oh, good show.
> >>>
> >>> I think "Deactivate Plugins" and "Reactivate Plugins" would suffice.
> >>>
> >>> Since the program is doing, logically, what you'd expect it to do, any
> >>> further explanation would just complicate the matter.
> >>
> >> Or perhaps "Deactivate 7 Plugins" and "Reactivate 7 Plugins" depending
> >> on the number that were activated?
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> --
> Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Marcos Sader
m@marcosmedia.com
From chris.hearn01 at ntlworld.com  Mon Apr 23 18:41:52 2007
From: chris.hearn01 at ntlworld.com (Chris)
Date: Mon Apr 23 18:42:05 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462CEED5.1070000@NeoSmart.net>
References: <006f01c785ad$995cca20$cc165e60$@net>	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>	<000001c785cc$c70080b0$55018210$@net>
	<462CEED5.1070000@NeoSmart.net>
Message-ID: <462CFDF0.4070806@ntlworld.com>

Another point..
Because CSS files are a cascade, would the order that plugins insert 
their CSS files potentially change the final CSS result?
Chris

Computer Guru wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Jamie Holly wrote:
>   
>> My original post was that we could use the new method to then add a caching
>> mechanism to have WP combine all CSS files into one "master" CSS file that
>> could be generated and stored/called from a server writeable directory (ie -
>> cache or uploads). That way when you got a bunch of plugins working off this
>> system, instead of having all those make additional server requests for
>> their independent CSS file, a single CSS file would load. Of course we would
>> have to look at options, such as enabling/disabling the caching and a cache
>> delete function for plugin updates. 
>>
>> Jamie Holly
>> http://www.intoxination.net
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
>
> Whether you employ a caching layer or not really make a difference at
> that point.
>
> Unless these are dynamically generated (MySQL-based) CSS files (highly
> unlikely), then the benefit from the actual caching is close to null;
> especially because everything else that matters is still dynamic. That
> and the fact that simply doing
>
> text1 .= text2;
>
> ..doesn't really take up much of anything! ;)
>
> However, you are correct: it would cut the number of separate loads to
> the server, which would result in faster page loads - BUT not any less
> load on the server (realistically speaking).
>
> - --
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.6 (GNU/Linux)
>
> iD8DBQFGLO7V3SICh4XKUt0RAtIRAKCwMA71ZitUvYV/pD8kfC6NJfVOWwCgjVrZ
> jrVL1FaOiqz5QE2r3gmFdrM=
> =+1hS
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>   
From Brian at TheCodeCave.com  Mon Apr 23 18:47:27 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr 23 18:47:32 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <8ff7155b0704231133w22afec9ej13f2fdcc47472c21@mail.gmail.com>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F9C@dsimail.drbsystems.com>

> I don't believe it is so that hard to understand what is the meaning of

It's not that. It's just a subject that everyone relates to and can offer
opinions on.  So, it gets more traction here or at least receives attention
from a different group than the other "deep core" threads.

From speedboxer at gmail.com  Mon Apr 23 19:02:09 2007
From: speedboxer at gmail.com (Matt)
Date: Mon Apr 23 19:02:40 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462CFDF0.4070806@ntlworld.com>
References: <006f01c785ad$995cca20$cc165e60$@net> <462CBB1F.90603@gmail.com>
	<007801c785b1$df7179d0$9e546d70$@net>
	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>
	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>
	<000001c785cc$c70080b0$55018210$@net> <462CEED5.1070000@NeoSmart.net>
	<462CFDF0.4070806@ntlworld.com>
Message-ID: <b88434820704231202p74b9fab8ka01b52fcbd903bfd@mail.gmail.com>

 Yes, but if we do this, unnecessary CSS might be loaded, causing Page Load
Times to be higher. It'd be better to make a system to only load the
necessary CSS, so if a Plugin isn't be used on a page, don't load the CSS
for it.

-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/ | http://livemp.net/
From computerguru at neosmart.net  Mon Apr 23 19:12:03 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 23 19:12:14 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <b88434820704231202p74b9fab8ka01b52fcbd903bfd@mail.gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net>
	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>	<000001c785cc$c70080b0$55018210$@net>
	<462CEED5.1070000@NeoSmart.net>	<462CFDF0.4070806@ntlworld.com>
	<b88434820704231202p74b9fab8ka01b52fcbd903bfd@mail.gmail.com>
Message-ID: <462D0503.3010606@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Matt wrote:
> Yes, but if we do this, unnecessary CSS might be loaded, causing Page Load
> Times to be higher. It'd be better to make a system to only load the
> necessary CSS, so if a Plugin isn't be used on a page, don't load the CSS
> for it.
> 

That's not true.

The same way I do:

if(is_home())
add_filter('wp_head', 'my_function) //or whatever it is....


I'll now do
if(is_home())
css_include('
*/ This is my CSS file /*

#p {
....
}

');

So that argument doesn't hold any water.

It wouldn't hurt to quote something so we'd know what message you're
referring to though.... ;)

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLQUD3SICh4XKUt0RAouFAKC3S4sMW6VG9rr1fCW30aHCgJ8dFgCeN1n9
e0ZaDmH2qy+96aF9vE1+/VI=
=orh9
-----END PGP SIGNATURE-----
From computerguru at neosmart.net  Mon Apr 23 19:17:27 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 23 19:17:37 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462CFDF0.4070806@ntlworld.com>
References: <006f01c785ad$995cca20$cc165e60$@net>	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>	<000001c785cc$c70080b0$55018210$@net>	<462CEED5.1070000@NeoSmart.net>
	<462CFDF0.4070806@ntlworld.com>
Message-ID: <462D0647.3070705@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chris wrote:
> Another point..
> Because CSS files are a cascade, would the order that plugins insert
> their CSS files potentially change the final CSS result?
> Chris

Technically, yes.
In reality, no.

The reason is that if you had

<link rel="stylesheet" href="mycss1.css" />
<link rel="stylesheet" href="mycss2_from_plugin.css" />

it's the same as

$css_text = get_file_contents("mycss1.css");
$css_text .= get_file_contents("mycss2_from_plugin.css");

<link rel="stylesheet" href="dynamicstylesheet.php" />

Order is still there and hasn't changed. Plus, the WP_Filter priority
thing would work great here too...

add_filter("wp_css", "my_css_making_function", -1); //Load this
particular CSS before anything else. -1 is the priority here.


One more workaround:
append !important to css that needs to be prioritized (i.e. it overrides
some other CSS from somewhere else, doesn't define something new)

e.g.

CSS1:
.p {
font-family: arial;
}

CSS2:
.p {
font-family: Calibri !important;
}

the !important tells the browser that if there is another .p CSS
definition defined elsewhere, use prioritize this particular line instead.

CHeers!

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLQZH3SICh4XKUt0RAswQAJ9eZOIwfG/cauP5CCQ4frhcxX7JgwCg3Zbl
fi/0Pfcov5i3tYmOzDzTftE=
=501F
-----END PGP SIGNATURE-----
From Brian at TheCodeCave.com  Mon Apr 23 19:21:54 2007
From: Brian at TheCodeCave.com (Brian Layman)
Date: Mon Apr 23 19:22:07 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462D0647.3070705@NeoSmart.net>
Message-ID: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F9F@dsimail.drbsystems.com>

> the !important tells the browser that if there is another .p CSS
> definition defined elsewhere, use/prioritize this particular line instead.

Heh - and here I was pronouncing that as NOTImportant as I read your post...

From lists07 at wiltgen.net  Mon Apr 23 19:26:38 2007
From: lists07 at wiltgen.net (Charles)
Date: Mon Apr 23 19:26:44 2007
Subject: [wp-hackers] postmeta table
In-Reply-To: <095F9729-7BC9-402B-BBCD-DB196FBD9926@txfx.net>
References: <011201c78089$4525f9a0$6401a8c0@kergan>	<D2E97F6A-0E4F-4595-9151-342DF7C5516B@txfx.net>	<4624D4DF.4080400@gunters.org>
	<095F9729-7BC9-402B-BBCD-DB196FBD9926@txfx.net>
Message-ID: <000001c785dd$51419e70$f3c4db50$@net>

Mark,

I've just installed Kramer, which looks awesome.

I get the error "Cannot load kramer.php" when I click "Update Options".  I
found a few other citations of this, including a Trac ticket that's been
open for two years.

What can I do to help you identify/fix the issue?

Thanks!

-- Charles


-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Mark Jaquith
Sent: Friday, April 20, 2007 11:16 PM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] postmeta table

On Apr 17, 2007, at 10:08 AM, Dougal Campbell wrote:

> Okay, Mark... I've just *got* to know what you're doing that's  
> using 700
> pieces of postmeta on a single post. Can you satisfy my curiosity? :)

Tracking and vetting incoming HTTP_REFERERs and converting them to  
Pingbacks for new valid links (such that someone clicking a link from  
a Movable Type install can create a Pingback just by following the  
link.)

http://wordpress.org/extend/plugins/kramer/

--
Mark Jaquith
http://markjaquith.com/

Covered Web Services
http://coveredwebservices.com/


_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From computerguru at neosmart.net  Mon Apr 23 19:54:47 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 23 19:54:59 2007
Subject: [wp-hackers] postmeta table
In-Reply-To: <000001c785dd$51419e70$f3c4db50$@net>
References: <011201c78089$4525f9a0$6401a8c0@kergan>	<D2E97F6A-0E4F-4595-9151-342DF7C5516B@txfx.net>	<4624D4DF.4080400@gunters.org>	<095F9729-7BC9-402B-BBCD-DB196FBD9926@txfx.net>
	<000001c785dd$51419e70$f3c4db50$@net>
Message-ID: <462D0F07.7030106@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Charles wrote:
> Mark,
> 
> I've just installed Kramer, which looks awesome.
> 
> I get the error "Cannot load kramer.php" when I click "Update Options".  I
> found a few other citations of this, including a Trac ticket that's been
> open for two years.

I had that error for a while too...
Delete all other Kramer-related files but kramer.php and stick it in
wp-includes/plugins/ directly; i.e. no subdirectory: plugins/kramer.php
then it'll work :)

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLQ8H3SICh4XKUt0RAosQAKCENEyLK2hprO355AWlsZbk7JX1WgCeLz2o
1B0m8PzdpR5mHvlar3acK98=
=aC7t
-----END PGP SIGNATURE-----
From computerguru at neosmart.net  Mon Apr 23 19:56:10 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 23 19:56:22 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F9F@dsimail.drbsystems.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F9F@dsimail.drbsystems.com>
Message-ID: <462D0F5A.5040809@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Brian Layman wrote:
>> the !important tells the browser that if there is another .p CSS
>> definition defined elsewhere, use/prioritize this particular line instead.
> 
> Heh - and here I was pronouncing that as NOTImportant as I read your post...

Yeah, tell me about it! CSS is one messed-up language, semantically
speaking :)

I absolutely hate CSS comments.

/* I can't believe I have to use * comments for a 1-liner! */

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLQ9a3SICh4XKUt0RAnNBAKDRW+1kQ4vQx5j5TJWmIB0u3mVzcgCg7gaI
U4/o16YkhA0n+dr8DoVO9wc=
=qixW
-----END PGP SIGNATURE-----
From kconstable at kccricket.net  Mon Apr 23 20:00:12 2007
From: kconstable at kccricket.net (Keith Constable)
Date: Mon Apr 23 20:00:27 2007
Subject: [wp-hackers] Windows setup for Wordpress
In-Reply-To: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F95@dsimail.drbsystems.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F95@dsimail.drbsystems.com>
Message-ID: <462D104C.1000406@kccricket.net>

On 04/23/2007 09:18 AM, Brian Layman wrote:
 > Yeah. So, it's probably legit.  And I'll grant you that a Windows program to
> do a Linux install is just a unique idea.  Still it will be a long time
> before I go typing my root password into any pre-compiled EXE downloaded
> from a personal site.

Urr... You probably shouldn't be logging in as root just to install WP, anyway.
 Especially over FTP.

Regardless, a lack of access to the source is a concern.

--Keith Constable


From leonid at mamchenkov.net  Mon Apr 23 20:02:34 2007
From: leonid at mamchenkov.net (Leonid Mamchenkov)
Date: Mon Apr 23 20:02:39 2007
Subject: [wp-hackers] Reactivate All Plugins
In-Reply-To: <462C88C7.8070408@gmail.com>
References: <D0252C90757CBC4B8BC938A72BEDDF9D021E6F8D@dsimail.drbsystems.com>
	<462C88C7.8070408@gmail.com>
Message-ID: <b76f24970704231302x482b0791h302ba6950ee5c2b@mail.gmail.com>

On 4/23/07, Jeremy Visser <jeremy.visser@gmail.com> wrote:
> > I think "Deactivate Plugins" and "Reactivate Plugins" would suffice.
> >
> > Since the program is doing, logically, what you'd expect it to do, any
> > further explanation would just complicate the matter.
>
> Or perhaps "Deactivate 7 Plugins" and "Reactivate 7 Plugins" depending
> on the number that were activated?

I like the one with numbers better.  Kind of gives the exact idea of
what it is about to do.

-- 
Leonid Mamchenkov
http://mamchenkov.net
From otto at ottodestruct.com  Mon Apr 23 21:27:59 2007
From: otto at ottodestruct.com (Otto)
Date: Mon Apr 23 21:28:06 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <000001c785cc$c70080b0$55018210$@net>
References: <006f01c785ad$995cca20$cc165e60$@net> <462CBB1F.90603@gmail.com>
	<007801c785b1$df7179d0$9e546d70$@net>
	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>
	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>
	<000001c785cc$c70080b0$55018210$@net>
Message-ID: <161617690704231427m36da9975jff7e3ed94b67ffe4@mail.gmail.com>

While that is an admirable goal, we're most likely talking about
static files here, no? Unless the CSS is dynamically generated, you're
just reading files, cat-ing them together, and shoving them to the
browser.

The benefit: You don't have multiple hits to the site for these files.
The cost: You do have a script call which is going to read all these
files from disk and serve it up to the browser as one combined thing.

The fact that you have even a single script call negates the benefit
of not having multiple server hits, IMO. Apache is really, really,
*really* good at serving static files. And modern versions of Apache
and browsers will combine all those requests into one single server
hit, by using a persistent connection. So no extra connection overhead
to worry about, really. Or not much anyway.

I just don't see that the caching would be particularly worth it
except for the case where the plugin is doing something like this:

<?php add_action('wp_head','my_styles');
function my_styles() { ?>
<style>
.plugin_style p {
blah: 0;
...
}
</style>
<?php } ?>

Which would put the plugins style directly into the webpage everytime.
Okay, so a lot of plugins do that. It's a bad idea, I grant you, but
that can be replaced with an external stylesheet and a wp_head call to
put the <link> code in place and you get browser caching of the CSS
file then.

The benefit of trying to cache CSS in the code just seems extremely
limited to me.



On 4/23/07, Jamie Holly <hovercrafter@earthlink.net> wrote:
>
> > In default-filters.php, there's this:
> >
> > add_action('wp_head', 'wp_print_scripts');
> >
> > Which does just what you're thinking, printing out the scripts and
> > their dependencies and such. Plugins can indeed use
> > wp_enqueue_script() to make it load in the head. The widgets plugin
> > did that (before it became integrated into the core, of course).
> >
> > I'm not sure there's a real need for a CSS specific loading function.
> > The entire function is basically just going to be something like this:
> >
> > `function add_css($cssfile) {
> > add_action('wp_head', create_function('$a', 'echo "<link
> > rel=\"stylesheet\" href=\"'.$cssfile.'\" type=\"text/css\" />";');
> > }`
> >
> > Because all it will do will add the line to the head. Nothing
> > particularly special. Sure, it's a shortened form and a convenience to
> > plugin/theme devs, but is it really necessary?
> >
> >
>
> My original post was that we could use the new method to then add a caching
> mechanism to have WP combine all CSS files into one "master" CSS file that
> could be generated and stored/called from a server writeable directory (ie -
> cache or uploads). That way when you got a bunch of plugins working off this
> system, instead of having all those make additional server requests for
> their independent CSS file, a single CSS file would load. Of course we would
> have to look at options, such as enabling/disabling the caching and a cache
> delete function for plugin updates.
>
> Jamie Holly
> http://www.intoxination.net
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From lists07 at wiltgen.net  Mon Apr 23 21:43:23 2007
From: lists07 at wiltgen.net (Charles)
Date: Mon Apr 23 21:43:30 2007
Subject: [wp-hackers] postmeta table
In-Reply-To: <462D0F07.7030106@NeoSmart.net>
References: <011201c78089$4525f9a0$6401a8c0@kergan>	<D2E97F6A-0E4F-4595-9151-342DF7C5516B@txfx.net>	<4624D4DF.4080400@gunters.org>	<095F9729-7BC9-402B-BBCD-DB196FBD9926@txfx.net>	<000001c785dd$51419e70$f3c4db50$@net>
	<462D0F07.7030106@NeoSmart.net>
Message-ID: <004101c785f0$6b92da60$42b88f20$@net>

Sorry, folks, my first message was meant to be private.  (Outlook helpfully changed the To: back to the list address when I changed my sending account.)

Guru, you were right on...thanks!  (And thanks for making such a cool plug-in, Mark!)

-- Charles



-----Original Message-----
> Mark,
> 
> I've just installed Kramer, which looks awesome.
> 
> I get the error "Cannot load kramer.php" when I click "Update Options".  I
> found a few other citations of this, including a Trac ticket that's been
> open for two years.

I had that error for a while too...
Delete all other Kramer-related files but kramer.php and stick it in
wp-includes/plugins/ directly; i.e. no subdirectory: plugins/kramer.php
then it'll work :)


From ryan at boren.nu  Mon Apr 23 21:44:16 2007
From: ryan at boren.nu (Ryan Boren)
Date: Mon Apr 23 21:44:24 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <462B48AA.4000404@mullenweg.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<462612E7.5070909@jamietalbot.com>
	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
	<4627882A.9090807@jamietalbot.com>
	<bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>
	<bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>
	<46281AEC.8030506@jamietalbot.com>
	<bb0886ed0704201225u66c474bbh25398b701517e5b3@mail.gmail.com>
	<2BCFF24A-5FB6-42C2-9613-5E700E539AB8@txfx.net>
	<462B48AA.4000404@mullenweg.com>
Message-ID: <bb0886ed0704231444sa6c1514qa5b6f77172e5c47@mail.gmail.com>

On 4/22/07, Matt Mullenweg <m@mullenweg.com> wrote:
> Mark Jaquith wrote:
> > Why not just have it stored as an option only?  It's not like there are
> > going to be a lot of them, and the default ones can be assumed.  Create
> > an API for it.
>
> Perhaps we could learn something from our roles/caps implementation
> here, and hardcode the baseline/core functionality (categories and tags)
> but allow for it to be extended with plugins, either with filters or in
> the DB as you suggested.

I think doing it through filters is too transient.
Activating/deactivating plugins could cause the IDs to shuffle.
Hardcoding the core taxonomies is fine for now, but what if we add
another core taxonomy down the road?  Its ID can't conflict with a
taxonomy ID that a plugin grabbed.  We could reserve a block of IDs
for use by core, I suppose.


Also, do we want to store some meta information for taxonomies.  For
example, a hierarchical flag that says whether the taxonomy can do
hierarchies.  For taxonomies that don't support hierarchies, we can
avoid running hierarchy specific code and queries in our generic terms
implementation.

Ryan
From lists07 at wiltgen.net  Mon Apr 23 21:55:45 2007
From: lists07 at wiltgen.net (Charles)
Date: Mon Apr 23 21:55:50 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <161617690704231427m36da9975jff7e3ed94b67ffe4@mail.gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net>
	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>	<000001c785cc$c70080b0$55018210$@net>
	<161617690704231427m36da9975jff7e3ed94b67ffe4@mail.gmail.com>
Message-ID: <004b01c785f2$25a998c0$70fcca40$@net>

I'm also of the mind that combining static CSS files has little benefit.

However, there is something that could be done in WordPress to improve
overall load performance, and it'd be useful not only for CSS files but all
of the other files that a page depends on.

Browsers normally download no more than two files in parallel.  If WordPress
could provide an option to allow users to enter a hostname alias and use it
intelligently -- i.e. alternating between the "real" hostname and the
hostname alias for alternative files, or maybe just by filetype (.html from
the hostname, .css files from the alias, image files from the hostname, .js
from the alias) -- the browser could load four files in parallel.  That
would speed up real-world load times for WordPress around 25%, per the study
cited below.

For example, my blog is on someblog.com.  Let me specify 88mph.someblog.com
as a domain alias under Options.  A first, simple implementation would use
the alias for CSS and JS, and continue to use the normal hostname for
images.

http://yuiblog.com/blog/2007/04/11/performance-research-part-4/

-- Charles


From alan at verselogic.net  Mon Apr 23 22:00:17 2007
From: alan at verselogic.net (Alan J Castonguay)
Date: Mon Apr 23 22:00:28 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <161617690704231427m36da9975jff7e3ed94b67ffe4@mail.gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net>
	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>	<000001c785cc$c70080b0$55018210$@net>
	<161617690704231427m36da9975jff7e3ed94b67ffe4@mail.gmail.com>
Message-ID: <462D2C71.9090802@verselogic.net>

Otto wrote:
> While that is an admirable goal, we're most likely talking about
> static files here, no? Unless the CSS is dynamically generated, you're
> just reading files, cat-ing them together, and shoving them to the
> browser.
>
> The benefit: You don't have multiple hits to the site for these files.
> The cost: You do have a script call which is going to read all these
> files from disk and serve it up to the browser as one combined thing.
>
> The fact that you have even a single script call negates the benefit
> of not having multiple server hits, IMO. Apache is really, really,
> *really* good at serving static files. And modern versions of Apache
> and browsers will combine all those requests into one single server
> hit, by using a persistent connection. So no extra connection overhead
> to worry about, really. Or not much anyway.
And this 'streamlined css cache' starts back a little, considering that 
you'd also have to handle conditional-get requests, or end up wasting 
bandwidth serving un-changed pages.

-- 
Alan J Castonguay
 519.567.2633

From hovercrafter at earthlink.net  Mon Apr 23 22:01:51 2007
From: hovercrafter at earthlink.net (Jamie Holly)
Date: Mon Apr 23 22:01:57 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <161617690704231427m36da9975jff7e3ed94b67ffe4@mail.gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net>
	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>	<000001c785cc$c70080b0$55018210$@net>
	<161617690704231427m36da9975jff7e3ed94b67ffe4@mail.gmail.com>
Message-ID: <009301c785f2$ffae95c0$ff0bc140$@net>

> While that is an admirable goal, we're most likely talking about
> static files here, no? Unless the CSS is dynamically generated, you're
> just reading files, cat-ing them together, and shoving them to the
> browser.
> 
> The benefit: You don't have multiple hits to the site for these files.
> The cost: You do have a script call which is going to read all these
> files from disk and serve it up to the browser as one combined thing.
> 
> The fact that you have even a single script call negates the benefit
> of not having multiple server hits, IMO. Apache is really, really,
> *really* good at serving static files. And modern versions of Apache
> and browsers will combine all those requests into one single server
> hit, by using a persistent connection. So no extra connection overhead
> to worry about, really. Or not much anyway.

What I am talking about is having Wordpress read in X number of static CSS
files and create a new static file with all the CSS in it (which is why I
was suggesting the uploads or cache directory to store it in, as it would
have the proper permissions). That would only happen every so often (if you
activate/deactivate a plugin or click a button in options to regenerate the
file if something goes wrong or gets changed). It would require no scripting
for the actual CSS load from the generated HTML, as it would still be a
static file - just a static file that WP created.

> I just don't see that the caching would be particularly worth it
> except for the case where the plugin is doing something like this:
> 
> <?php add_action('wp_head','my_styles');
> function my_styles() { ?>
> <style>
> .plugin_style p {
> blah: 0;
> ...
> }
> </style>
> <?php } ?>
> 
> Which would put the plugins style directly into the webpage everytime.
> Okay, so a lot of plugins do that. It's a bad idea, I grant you, but
> that can be replaced with an external stylesheet and a wp_head call to
> put the <link> code in place and you get browser caching of the CSS
> file then.
> 
> The benefit of trying to cache CSS in the code just seems extremely
> limited to me.
> 
> 
>

That is a big problem I have seen with a lot of plugins. I have even seen
ones that go as far as to create a pretty permalink just to dump out what
should be a static CSS file. That seems like a lot of wasted work/resources.

Another benefit of the single CSS would be the .htaccess issue (people say
to put your rewrites in httpd.conf - not on option for the vast number of WP
sites on shared hosting). Since you get a lot of these CSS's buried 4 levels
deep in the directory (/wp-content/plugins/pluginname/), that means Apache
checks each directory level for any overrides in the .htaccess, for each CSS
file loaded.

Jamie Holly
http://www.intoxination.net

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Otto
> Sent: Monday, April 23, 2007 5:28 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Adding A CSS Loader
> 
> 
> On 4/23/07, Jamie Holly <hovercrafter@earthlink.net> wrote:
> >
> > > In default-filters.php, there's this:
> > >
> > > add_action('wp_head', 'wp_print_scripts');
> > >
> > > Which does just what you're thinking, printing out the scripts and
> > > their dependencies and such. Plugins can indeed use
> > > wp_enqueue_script() to make it load in the head. The widgets plugin
> > > did that (before it became integrated into the core, of course).
> > >
> > > I'm not sure there's a real need for a CSS specific loading
> function.
> > > The entire function is basically just going to be something like
> this:
> > >
> > > `function add_css($cssfile) {
> > > add_action('wp_head', create_function('$a', 'echo "<link
> > > rel=\"stylesheet\" href=\"'.$cssfile.'\" type=\"text/css\" />";');
> > > }`
> > >
> > > Because all it will do will add the line to the head. Nothing
> > > particularly special. Sure, it's a shortened form and a convenience
> to
> > > plugin/theme devs, but is it really necessary?
> > >
> > >
> >
> > My original post was that we could use the new method to then add a
> caching
> > mechanism to have WP combine all CSS files into one "master" CSS file
> that
> > could be generated and stored/called from a server writeable
> directory (ie -
> > cache or uploads). That way when you got a bunch of plugins working
> off this
> > system, instead of having all those make additional server requests
> for
> > their independent CSS file, a single CSS file would load. Of course
> we would
> > have to look at options, such as enabling/disabling the caching and a
> cache
> > delete function for plugin updates.
> >
> > Jamie Holly
> > http://www.intoxination.net
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From timo.kissing+wordpress at gmail.com  Mon Apr 23 22:11:39 2007
From: timo.kissing+wordpress at gmail.com (Timo Kissing)
Date: Mon Apr 23 22:11:52 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462D0647.3070705@NeoSmart.net>
References: <006f01c785ad$995cca20$cc165e60$@net>	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>	<000001c785cc$c70080b0$55018210$@net>	<462CEED5.1070000@NeoSmart.net>	<462CFDF0.4070806@ntlworld.com>
	<462D0647.3070705@NeoSmart.net>
Message-ID: <462D2F1B.9090304@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Computer Guru schrieb:
> Chris wrote:
>> Another point..
>> Because CSS files are a cascade, would the order that plugins insert
>> their CSS files potentially change the final CSS result?
>> Chris
> 
> Technically, yes.
> In reality, no.
> 
> The reason is that if you had
> 
> <link rel="stylesheet" href="mycss1.css" />
> <link rel="stylesheet" href="mycss2_from_plugin.css" />
> 
> it's the same as
> 
> $css_text = get_file_contents("mycss1.css");
> $css_text .= get_file_contents("mycss2_from_plugin.css");
> 
> <link rel="stylesheet" href="dynamicstylesheet.php" />
> 
> Order is still there and hasn't changed. Plus, the WP_Filter priority
> thing would work great here too...

Except that the latter means 2 file IO operations for every request (1
if you cache the result, but then you have overhead to find out if the
cache is still up2date). And you will have to check for file dates too
and set appropriate headers (mainly last modified) so the clients
caching works.

IMO for static css files (meaning all css files that are not parsed by
PHP anyhow) it will be *very hard* to code something in PHP that
performs as good as just referencing the css files directly.

lino
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGLS8boLzpFOt4gucRAlIhAJwJEIuYG9RlDSxvZvFiJJgubMdL8ACeJ53H
VC72cYFj6U790CR0SV7uNuY=
=Y9bY
-----END PGP SIGNATURE-----
From computerguru at neosmart.net  Mon Apr 23 22:29:55 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 23 22:30:09 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462D2F1B.9090304@gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net>	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>	<000001c785cc$c70080b0$55018210$@net>	<462CEED5.1070000@NeoSmart.net>	<462CFDF0.4070806@ntlworld.com>	<462D0647.3070705@NeoSmart.net>
	<462D2F1B.9090304@gmail.com>
Message-ID: <462D3363.1090402@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Timo Kissing wrote:
> Computer Guru schrieb:
>> Chris wrote:
>>> Another point..
>>> Because CSS files are a cascade, would the order that plugins insert
>>> their CSS files potentially change the final CSS result?
>>> Chris
>> Technically, yes.
>> In reality, no.
> 
>> The reason is that if you had
> 
>> <link rel="stylesheet" href="mycss1.css" />
>> <link rel="stylesheet" href="mycss2_from_plugin.css" />
> 
>> it's the same as
> 
>> $css_text = get_file_contents("mycss1.css");
>> $css_text .= get_file_contents("mycss2_from_plugin.css");
> 
>> <link rel="stylesheet" href="dynamicstylesheet.php" />
> 
>> Order is still there and hasn't changed. Plus, the WP_Filter priority
>> thing would work great here too...
> 
> Except that the latter means 2 file IO operations for every request (1
> if you cache the result, but then you have overhead to find out if the
> cache is still up2date). And you will have to check for file dates too
> and set appropriate headers (mainly last modified) so the clients
> caching works.

How so?

The first is also two.

In the first sample there are 2 web streams + 2 IO streams.
In the second example there is 1 web stream + 2 IO streams.

Honestly, I don't think combined CSS is such a great idea.. I'm just
supporting it's benefits on paper, but real-world performance difference
would be close to zero 99.999999% of the time....

:D

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLTNj3SICh4XKUt0RAkDLAKDJQDP9f4MToapGbeIoHhWTKoP3WACgku3u
0xZ7IjXgTsQyDdM1ljFJDSw=
=kvjs
-----END PGP SIGNATURE-----
From timo.kissing+wordpress at gmail.com  Mon Apr 23 22:56:23 2007
From: timo.kissing+wordpress at gmail.com (Timo Kissing)
Date: Mon Apr 23 22:56:34 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462D3363.1090402@NeoSmart.net>
References: <006f01c785ad$995cca20$cc165e60$@net>	<462CBB1F.90603@gmail.com>	<007801c785b1$df7179d0$9e546d70$@net>	<d135ca9c0704230841n7e8e1c78r60ec625f9b9cb23c@mail.gmail.com>	<161617690704230928n2026f3b6i34aa025be9950af@mail.gmail.com>	<000001c785cc$c70080b0$55018210$@net>	<462CEED5.1070000@NeoSmart.net>	<462CFDF0.4070806@ntlworld.com>	<462D0647.3070705@NeoSmart.net>	<462D2F1B.9090304@gmail.com>
	<462D3363.1090402@NeoSmart.net>
Message-ID: <462D3997.7080207@gmail.com>

Computer Guru wrote:
> Timo Kissing wrote:
>> Computer Guru schrieb:
>>> Chris wrote:
>>>> Another point..
>>>> Because CSS files are a cascade, would the order that plugins insert
>>>> their CSS files potentially change the final CSS result?
>>>> Chris
>>> Technically, yes.
>>> In reality, no.
> 
>>> The reason is that if you had
> 
>>> <link rel="stylesheet" href="mycss1.css" />
>>> <link rel="stylesheet" href="mycss2_from_plugin.css" />
> 
>>> it's the same as
> 
>>> $css_text = get_file_contents("mycss1.css");
>>> $css_text .= get_file_contents("mycss2_from_plugin.css");
> 
>>> <link rel="stylesheet" href="dynamicstylesheet.php" />
> 
>>> Order is still there and hasn't changed. Plus, the WP_Filter priority
>>> thing would work great here too...
> 
>> Except that the latter means 2 file IO operations for every request (1
>> if you cache the result, but then you have overhead to find out if the
>> cache is still up2date). And you will have to check for file dates too
>> and set appropriate headers (mainly last modified) so the clients
>> caching works.
> 
> How so?
> 
> The first is also two.

Yes, but the second needs the 2 IO operations everytime any of the files
changes (with proper caching, otherwise it will need 2 for every
request), while in the first scenario with usual settings for client and
server only the changed file *should* be read from disk completly while
etag and last-modified of the other file should make the client use a
cached version.

Greetings,
lino.
From robin.adr at gmail.com  Tue Apr 24 00:59:33 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Tue Apr 24 00:59:39 2007
Subject: [wp-hackers] postmeta table
In-Reply-To: <004101c785f0$6b92da60$42b88f20$@net>
References: <011201c78089$4525f9a0$6401a8c0@kergan>
	<D2E97F6A-0E4F-4595-9151-342DF7C5516B@txfx.net>
	<4624D4DF.4080400@gunters.org>
	<095F9729-7BC9-402B-BBCD-DB196FBD9926@txfx.net>
	<000001c785dd$51419e70$f3c4db50$@net> <462D0F07.7030106@NeoSmart.net>
	<004101c785f0$6b92da60$42b88f20$@net>
Message-ID: <d135ca9c0704231759s6f1947f3k15405fa7c7c973d2@mail.gmail.com>

People still use Outlook? No way... :P

On 4/23/07, Charles <lists07@wiltgen.net> wrote:
>
> Sorry, folks, my first message was meant to be private.  (Outlook
> helpfully changed the To: back to the list address when I changed my sending
> account.)
>
> Guru, you were right on...thanks!  (And thanks for making such a cool
> plug-in, Mark!)
>
> -- Charles
>
>
>
> -----Original Message-----
> > Mark,
> >
> > I've just installed Kramer, which looks awesome.
> >
> > I get the error "Cannot load kramer.php" when I click "Update
> Options".  I
> > found a few other citations of this, including a Trac ticket that's been
> > open for two years.
>
> I had that error for a while too...
> Delete all other Kramer-related files but kramer.php and stick it in
> wp-includes/plugins/ directly; i.e. no subdirectory: plugins/kramer.php
> then it'll work :)
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From MattPat at mattpat.net  Tue Apr 24 01:03:03 2007
From: MattPat at mattpat.net (Matt Patenaude)
Date: Tue Apr 24 01:03:10 2007
Subject: [wp-hackers] postmeta table
In-Reply-To: <d135ca9c0704231759s6f1947f3k15405fa7c7c973d2@mail.gmail.com>
References: <011201c78089$4525f9a0$6401a8c0@kergan>
	<D2E97F6A-0E4F-4595-9151-342DF7C5516B@txfx.net>
	<4624D4DF.4080400@gunters.org>
	<095F9729-7BC9-402B-BBCD-DB196FBD9926@txfx.net>
	<000001c785dd$51419e70$f3c4db50$@net>
	<462D0F07.7030106@NeoSmart.net>
	<004101c785f0$6b92da60$42b88f20$@net>
	<d135ca9c0704231759s6f1947f3k15405fa7c7c973d2@mail.gmail.com>
Message-ID: <226AC7F0-B22F-4864-B240-EF956879EC02@mattpat.net>

Cute, isn't it? ;)

-Matt

On Apr 23, 2007, at 8:59 PM, Robin Adrianse wrote:

> People still use Outlook? No way... :P
>
> On 4/23/07, Charles <lists07@wiltgen.net> wrote:
>>
>> Sorry, folks, my first message was meant to be private.  (Outlook
>> helpfully changed the To: back to the list address when I changed  
>> my sending
>> account.)
>>
>> Guru, you were right on...thanks!  (And thanks for making such a cool
>> plug-in, Mark!)
>>
>> -- Charles
>>
>>
>>
>> -----Original Message-----
>> > Mark,
>> >
>> > I've just installed Kramer, which looks awesome.
>> >
>> > I get the error "Cannot load kramer.php" when I click "Update
>> Options".  I
>> > found a few other citations of this, including a Trac ticket  
>> that's been
>> > open for two years.
>>
>> I had that error for a while too...
>> Delete all other Kramer-related files but kramer.php and stick it in
>> wp-includes/plugins/ directly; i.e. no subdirectory: plugins/ 
>> kramer.php
>> then it'll work :)
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From lists07 at wiltgen.net  Tue Apr 24 02:43:37 2007
From: lists07 at wiltgen.net (Charles)
Date: Tue Apr 24 02:43:44 2007
Subject: [wp-hackers] postmeta table
In-Reply-To: <226AC7F0-B22F-4864-B240-EF956879EC02@mattpat.net>
References: <011201c78089$4525f9a0$6401a8c0@kergan>	<D2E97F6A-0E4F-4595-9151-342DF7C5516B@txfx.net>	<4624D4DF.4080400@gunters.org>	<095F9729-7BC9-402B-BBCD-DB196FBD9926@txfx.net>	<000001c785dd$51419e70$f3c4db50$@net>	<462D0F07.7030106@NeoSmart.net>	<004101c785f0$6b92da60$42b88f20$@net>	<d135ca9c0704231759s6f1947f3k15405fa7c7c973d2@mail.gmail.com>
	<226AC7F0-B22F-4864-B240-EF956879EC02@mattpat.net>
Message-ID: <00b901c7861a$5cdbd150$169373f0$@net>

>> People still use Outlook? No way... :P
>
> Cute, isn't it? ;)

I'll have you know that it's Outlook 2007, which is FOUR BETTER than Outlook
2003!

Plus, I use Google Apps for Your Domain, and I'm told it cleans the evil
off.

-- Charles


From ckunte at gmail.com  Tue Apr 24 08:05:11 2007
From: ckunte at gmail.com (Chetan Kunte)
Date: Tue Apr 24 08:05:16 2007
Subject: [wp-hackers] Long post bug in 2.1.3?
Message-ID: <74b84aa30704240105k3b6da065y8921b965644de763@mail.gmail.com>

Hi -

I am wondering if the long post bug persists in 2.1.3? It is either
this or something similar to this:
http://trac.wordpress.org/ticket/3627 . Here's what I experienced:
http://ckunte.com/archives/a-wordpress-bug .

I don't have an Trac account to report this, so could someone look at
this, see if this is a false alarm or if it is relevant, then please
add a ticket?

Thanks,
-- 
Chetan, ckunte.com
From MattPat at mattpat.net  Tue Apr 24 08:13:36 2007
From: MattPat at mattpat.net (Matt Patenaude)
Date: Tue Apr 24 08:13:49 2007
Subject: [wp-hackers] Long post bug in 2.1.3?
In-Reply-To: <74b84aa30704240105k3b6da065y8921b965644de763@mail.gmail.com>
References: <74b84aa30704240105k3b6da065y8921b965644de763@mail.gmail.com>
Message-ID: <E108C745-3DD9-4196-910A-652B478F9D2C@mattpat.net>

Not very familiar with this by any stretch, so not sure if this is  
valid, but just trying to consider all the options since this  
certainly sounds weird: was there something present in the paragraph  
that you deleted that could have been causing the error, rather than  
just the length of the post? Just a thought.

-Matt

On Apr 24, 2007, at 4:05 AM, Chetan Kunte wrote:

> Hi -
>
> I am wondering if the long post bug persists in 2.1.3? It is either
> this or something similar to this:
> http://trac.wordpress.org/ticket/3627 . Here's what I experienced:
> http://ckunte.com/archives/a-wordpress-bug .
>
> I don't have an Trac account to report this, so could someone look at
> this, see if this is a false alarm or if it is relevant, then please
> add a ticket?
>
> Thanks,
> -- 
> Chetan, ckunte.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ckunte at gmail.com  Tue Apr 24 08:30:26 2007
From: ckunte at gmail.com (Chetan Kunte)
Date: Tue Apr 24 08:30:32 2007
Subject: [wp-hackers] Long post bug in 2.1.3?
In-Reply-To: <E108C745-3DD9-4196-910A-652B478F9D2C@mattpat.net>
References: <74b84aa30704240105k3b6da065y8921b965644de763@mail.gmail.com>
	<E108C745-3DD9-4196-910A-652B478F9D2C@mattpat.net>
Message-ID: <74b84aa30704240130s47516274pa20db058d4d55048@mail.gmail.com>

> certainly sounds weird: was there something present in the paragraph
> that you deleted that could have been causing the error, rather than
> just the length of the post? Just a thought.

The 3-line paragraph I deleted was pure text (and it did not even have
any html tags -- like list, image or a link).
-- 
Chetan, ckunte.com
From MattPat at mattpat.net  Tue Apr 24 08:39:33 2007
From: MattPat at mattpat.net (Matt Patenaude)
Date: Tue Apr 24 08:39:43 2007
Subject: [wp-hackers] Long post bug in 2.1.3?
In-Reply-To: <74b84aa30704240130s47516274pa20db058d4d55048@mail.gmail.com>
References: <74b84aa30704240105k3b6da065y8921b965644de763@mail.gmail.com>
	<E108C745-3DD9-4196-910A-652B478F9D2C@mattpat.net>
	<74b84aa30704240130s47516274pa20db058d4d55048@mail.gmail.com>
Message-ID: <B5E9F482-A8CA-4F47-8E14-2AC369138A0E@mattpat.net>

Hmm... again, just offering solutions based on limited Googling, but  
are all of your site's file permissions (including and especially, I  
would think, any cache directories) set properly, to something like 755?

http://encodable.com/premature_end_of_script_headers/
http://htmlfixit.com/cgi-tutes/ 
tutorial_Common_Web_dev_error_messages_and_what_they_mean.php

Perhaps in WordPress something is generating a warning before the  
headers are fully output or something? Grasping at straws here :P

-Matt

On Apr 24, 2007, at 4:30 AM, Chetan Kunte wrote:

>> certainly sounds weird: was there something present in the paragraph
>> that you deleted that could have been causing the error, rather than
>> just the length of the post? Just a thought.
>
> The 3-line paragraph I deleted was pure text (and it did not even have
> any html tags -- like list, image or a link).
> -- 
> Chetan, ckunte.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Tue Apr 24 08:46:03 2007
From: wordpress at dd32.id.au (DD32)
Date: Tue Apr 24 08:45:50 2007
Subject: [wp-hackers] Long post bug in 2.1.3?
In-Reply-To: <74b84aa30704240130s47516274pa20db058d4d55048@mail.gmail.com>
References: <74b84aa30704240105k3b6da065y8921b965644de763@mail.gmail.com>
	<E108C745-3DD9-4196-910A-652B478F9D2C@mattpat.net>
	<74b84aa30704240130s47516274pa20db058d4d55048@mail.gmail.com>
Message-ID: <op.tq95a1ztk6w4mc@dd32.no-ip.com>

On Tue, 24 Apr 2007 18:30:26 +1000, Chetan Kunte <ckunte@gmail.com> wrote:

>> certainly sounds weird: was there something present in the paragraph
>> that you deleted that could have been causing the error, rather than
>> just the length of the post? Just a thought.
>
> The 3-line paragraph I deleted was pure text (and it did not even have
> any html tags -- like list, image or a link).

I just did a test post on a brand new 2.1.3 install, 30,000 characters,  
all a-Z, 0-9, and a few special characters (like ?)
No problem what so ever on windows. (Allthough convert_smilies took  
1.6seconds out of the 2.1 seconds it took to display it)

I'm thinking the problem would have to be something like PHP running out  
of memory or some issue with PHP directly rather than being caused by  
WordPress.


-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From MattPat at mattpat.net  Tue Apr 24 08:51:35 2007
From: MattPat at mattpat.net (Matt Patenaude)
Date: Tue Apr 24 08:51:44 2007
Subject: [wp-hackers] Long post bug in 2.1.3?
In-Reply-To: <op.tq95a1ztk6w4mc@dd32.no-ip.com>
References: <74b84aa30704240105k3b6da065y8921b965644de763@mail.gmail.com>
	<E108C745-3DD9-4196-910A-652B478F9D2C@mattpat.net>
	<74b84aa30704240130s47516274pa20db058d4d55048@mail.gmail.com>
	<op.tq95a1ztk6w4mc@dd32.no-ip.com>
Message-ID: <08A9076F-CD1B-46D2-A490-24BAF6196861@mattpat.net>

On Apr 24, 2007, at 4:46 AM, DD32 wrote:

> I'm thinking the problem would have to be something like PHP  
> running out of memory or some issue with PHP directly rather than  
> being caused by WordPress.

Sounds very logical to me, but wouldn't that kind of thing show up in  
an error log somewhere?

Can you try recreating a post that causes the error (without a more  
tag, so that it happens on the home page), then SSH into your server  
and run php index.php? See what happens from the command-line, and  
what (if any) errors come up.

-Matt
From ckunte at gmail.com  Tue Apr 24 08:58:23 2007
From: ckunte at gmail.com (Chetan Kunte)
Date: Tue Apr 24 08:58:30 2007
Subject: [wp-hackers] Long post bug in 2.1.3?
In-Reply-To: <08A9076F-CD1B-46D2-A490-24BAF6196861@mattpat.net>
References: <74b84aa30704240105k3b6da065y8921b965644de763@mail.gmail.com>
	<E108C745-3DD9-4196-910A-652B478F9D2C@mattpat.net>
	<74b84aa30704240130s47516274pa20db058d4d55048@mail.gmail.com>
	<op.tq95a1ztk6w4mc@dd32.no-ip.com>
	<08A9076F-CD1B-46D2-A490-24BAF6196861@mattpat.net>
Message-ID: <74b84aa30704240158q294456f6l2a3a3c1e4a5b373c@mail.gmail.com>

> I'm thinking the problem would have to be something like PHP running out
> of memory or some issue with PHP directly rather than being caused by
> WordPress.

I tried it on my localhost XAMPP setup in Windows, the long post is
displayed. But, on my webhost, I face problems.

> Can you try recreating a post that causes the error (without a more
> tag, so that it happens on the home page), then SSH into your server
> and run php index.php? See what happens from the command-line, and
> what (if any) errors come up.

Yes, will try this and update this thread. (I need to go home to do
this -- can't from behind the wall, so later in the evening.)

Thanks for your help, guys, but please keep the thread running, if
anyone else has any related weirdness. There are far too many things
that are beyond normal users' control. And when, webhosts become
clueless, it takes the enthusiasm out.
-- 
Chetan, ckunte.com
From jodo04ab at gmail.com  Tue Apr 24 10:20:57 2007
From: jodo04ab at gmail.com (Jochem Donkers)
Date: Tue Apr 24 10:21:06 2007
Subject: [wp-hackers] Survey for plug-in,
	theme and hack developers. Please participate!
Message-ID: <e07285660704240320r8673a18gae8a6b7ebbbaa052@mail.gmail.com>

Hi,

Hereby, I would like to invite you to participate in a survey about
the barriers that user innovators (as WordPress' plug-in, theme and
hack developers) face in their development process. This survey is
part of a master thesis research project that I am currently
completing at Copenhagen Business School (Denmark).

-------
Link to survey: http://tinyurl.com/35nbek
-------

The objective of this project is to investigate and describe the
barriers that user innovators are confronted with during their
innovative endeavors (e.g. building WordPress extensions).
Understanding the characteristics of these 'barriers' is an important
aspect of understanding the 'user innovation' phenomena. When vendors
of products have a good comprehension of the 'user innovation' concept
they will be able to provide better tools to users that would like to
modify or innovate on top of the standard product. The aim of this
survey is to gather the necessary data that will enables me to analyze
and describe the barriers.

In the WordPress context this survey is aimed at successful or
unsuccessful developers of plug-ins, themes and (source code) hacks. I
selected the WordPress user community because of its size, activity
and the opportunities for innovation and modification that are
available to users with various levels of technical capabilities.

Please, click on the following link to complete the survey. Completing
the survey will take you approximately five minutes.

Sruvey URL: http://tinyurl.com/35nbek

In the final section of the end of the survey you can leave your name
and e-mail address so that I can share the findings of my study with
you. If you prefer anonymity, please point your RSS reader to
http://userinnovation.wordpress.com/.

Kind regards,
Jochem

http://userinnovation.wordpress.com
From iacobs at m0n5t3r.info  Tue Apr 24 10:21:29 2007
From: iacobs at m0n5t3r.info (Sabin Iacob)
Date: Tue Apr 24 10:21:36 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <006f01c785ad$995cca20$cc165e60$@net>
References: <006f01c785ad$995cca20$cc165e60$@net>
Message-ID: <462DDA29.4010100@m0n5t3r.info>

Jamie Holly wrote:
> I just spent the weekend on a couple of sites I manage going through plugins
> and stripping out all the CSS so it can all be contained within 1 file.
> Considering the number of plugins using their own style rules, I was
> thinking that perhaps we could take another lesson from something Drupal has
> done recently and works great - A CSS loader. 
>   

glad to see that someone else shares my view :-): 
http://wordpress.org/extend/ideas/topic.php?id=535&page&replies=2

> Basically we would create a function, add_css('stylesheet_location'), or
> something similar. This would store all the css files in an array which
> would be dumped out with the proper format during the head call. What this
> would also allow is for us to create a caching mechanism for all the CSS
> files. Basically we could have Wordpress combine all the CSS files into a
> master CSS file and then save that file in the cache directory. This would
> reduce the number of calls to the server to load X number of style sheets
> from each plugin that requires them.
>   

the current javascript loader is a better model; CSS files can also 
depend on each other (the loading order is important).

Combining the files, while it doesn't lower the server load*, it can 
reduce load times a lot; if you have Firebug installed, load a page that 
has several CSS and Javascript files and go to the net tab to see what I 
mean: the stuff in the <head> section of the page is not multi-threaded, 
they are loaded in sequence, and nothing else is loaded before the 
<head> is done; lots of CSS and JS files to load means lots of HTTP 
requests, and while pipelining in the browser can help reduce the 
delays, you still get a lot of communication overhead.
> We shouldn't have any legacy issues with this really, as those could still
> require upon the head hook to inject their CSS (same applies to dynamic CSS
> files). It would also require themes remove the CSS from their header.php
> file for this to work, but if they don't then there is no problem, it will
> just fallback to the current method. Since the theme's CSS file will also
> remain stored with the theme, we can also continue to utilize the head
> section of the CSS file for theme information.
>   

yeah, as long as the themes run wp_head after they load their stuff; it 
wouldn't hurt to strongly advise theme (and plugin) authors to use the 
provided loaders in the future (perhaps release them as a (default) 
plugin for 2.0.x), since it would make life a lot easier for plugin 
authors (some themes load prototype/jQuery/mootools/whatever, a plugin 
shouldn't load the corresponding library a second time; plugin CSS is 
usually better loaded after the theme CSS, but there may be exceptions, 
etc).

my .02?

* as someone noted, you have a script call + a bunch of filesystem hits; 
caching would reduce the filesystem accesses to two, but you still have 
the script execution overhead
From omry at yadan.net  Tue Apr 24 12:23:29 2007
From: omry at yadan.net (Omry Yadan)
Date: Tue Apr 24 11:23:45 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462DDA29.4010100@m0n5t3r.info>
References: <006f01c785ad$995cca20$cc165e60$@net>
	<462DDA29.4010100@m0n5t3r.info>
Message-ID: <462DF6C1.60909@yadan.net>

some plugins, like FireStats need to load their CSS/JavaScript only when 
accessed via the admin interface.
careless plugin authors just inject their plugins CSS/JavaScript 
everywhere, increasing overhead for the entire installation, some in 
many cases changing appearance and breaking javascript in other pages 
(its not rare that other plugins break FireStats operation by injexting 
crap into its admin page etc).
in FireStats, I do some tricks to avoid crapping the wrong page with 
CSS/JS 
(http://firestats.cc/browser/branches/firestats-1.2/firestats/firestats-wordpress.php#L222), 

but its a good idea to add some way for plugins to register CSS/JS hook 
just for their own pages more easily, or to check if the current page is 
their own more easily.


Sabin Iacob wrote:
> Jamie Holly wrote:
>> I just spent the weekend on a couple of sites I manage going through 
>> plugins
>> and stripping out all the CSS so it can all be contained within 1 file.
>> Considering the number of plugins using their own style rules, I was
>> thinking that perhaps we could take another lesson from something 
>> Drupal has
>> done recently and works great - A CSS loader.   
>
> glad to see that someone else shares my view :-): 
> http://wordpress.org/extend/ideas/topic.php?id=535&page&replies=2
>
>> Basically we would create a function, add_css('stylesheet_location'), or
>> something similar. This would store all the css files in an array which
>> would be dumped out with the proper format during the head call. What 
>> this
>> would also allow is for us to create a caching mechanism for all the CSS
>> files. Basically we could have Wordpress combine all the CSS files 
>> into a
>> master CSS file and then save that file in the cache directory. This 
>> would
>> reduce the number of calls to the server to load X number of style 
>> sheets
>> from each plugin that requires them.
>>   
>
> the current javascript loader is a better model; CSS files can also 
> depend on each other (the loading order is important).
>
> Combining the files, while it doesn't lower the server load*, it can 
> reduce load times a lot; if you have Firebug installed, load a page 
> that has several CSS and Javascript files and go to the net tab to see 
> what I mean: the stuff in the <head> section of the page is not 
> multi-threaded, they are loaded in sequence, and nothing else is 
> loaded before the <head> is done; lots of CSS and JS files to load 
> means lots of HTTP requests, and while pipelining in the browser can 
> help reduce the delays, you still get a lot of communication overhead.
>> We shouldn't have any legacy issues with this really, as those could 
>> still
>> require upon the head hook to inject their CSS (same applies to 
>> dynamic CSS
>> files). It would also require themes remove the CSS from their 
>> header.php
>> file for this to work, but if they don't then there is no problem, it 
>> will
>> just fallback to the current method. Since the theme's CSS file will 
>> also
>> remain stored with the theme, we can also continue to utilize the head
>> section of the CSS file for theme information.
>>   
>
> yeah, as long as the themes run wp_head after they load their stuff; 
> it wouldn't hurt to strongly advise theme (and plugin) authors to use 
> the provided loaders in the future (perhaps release them as a 
> (default) plugin for 2.0.x), since it would make life a lot easier for 
> plugin authors (some themes load prototype/jQuery/mootools/whatever, a 
> plugin shouldn't load the corresponding library a second time; plugin 
> CSS is usually better loaded after the theme CSS, but there may be 
> exceptions, etc).
>
> my .02?
>
> * as someone noted, you have a script call + a bunch of filesystem 
> hits; caching would reduce the filesystem accesses to two, but you 
> still have the script execution overhead
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From hovercrafter at earthlink.net  Tue Apr 24 14:05:30 2007
From: hovercrafter at earthlink.net (Jamie Holly)
Date: Tue Apr 24 14:05:38 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462DDA29.4010100@m0n5t3r.info>
References: <006f01c785ad$995cca20$cc165e60$@net>
	<462DDA29.4010100@m0n5t3r.info>
Message-ID: <01fd01c78679$9eafe1c0$dc0fa540$@net>

> the current javascript loader is a better model; CSS files can also
> depend on each other (the loading order is important).
> 
> Combining the files, while it doesn't lower the server load*, it can
> reduce load times a lot; if you have Firebug installed, load a page
> that
> has several CSS and Javascript files and go to the net tab to see what
> I
> mean: the stuff in the <head> section of the page is not multi-
> threaded,
> they are loaded in sequence, and nothing else is loaded before the
> <head> is done; lots of CSS and JS files to load means lots of HTTP
> requests, and while pipelining in the browser can help reduce the
> delays, you still get a lot of communication overhead.

Every request to a server is an increased load. It's not a huge amount, but it increases the load none the less. 

I also understand the CSS load order, but this suggestion would not change that. The add_css would basically follow the same syntax as the current add_action routine. We would keep a priority on it to address the CSS load order, with the main theme CSS loading first. The only difference is all the CSS would be contained within 1 file, as opposed to a bunch of files. 

> 
> yeah, as long as the themes run wp_head after they load their stuff; it
> wouldn't hurt to strongly advise theme (and plugin) authors to use the
> provided loaders in the future (perhaps release them as a (default)
> plugin for 2.0.x), since it would make life a lot easier for plugin
> authors (some themes load prototype/jQuery/mootools/whatever, a plugin
> shouldn't load the corresponding library a second time; plugin CSS is
> usually better loaded after the theme CSS, but there may be exceptions,
> etc).

The exact same scenario applies as everything is today. The "master" CSS file would be added at the same point the current CSS files are loaded via the wp_head call. 


> my .02?
> 
> * as someone noted, you have a script call + a bunch of filesystem
> hits;
> caching would reduce the filesystem accesses to two, but you still have
> the script execution overhead

The script execution would be minimum. This proposal would create a static CSS file whenever the CSS has changed (plugin additions/updates, them update, or perhaps every X hours just to be sure everything is up to date). We could even (and probably should) add a check every X number of hits/minute(hours) that compares the filemtime for each CSS to the master and if a CSS has been modified since then, a new one is created. The overall factor is the output - which would be a single static file.

We could go a similar route as wp_cache and create user dependent CSS files. One master css for anonymous users, and then css_(md5 hash of user name).css for each logged in user (in the case of some plugins that might have different CSS rules for different users). That would prevent problems of certain CSS loading for certain users. True if that is the case, the plugin authors would still have the means to bypass the new loading method by still calling utilizing the current method of the wp_head action. 

Jamie Holly
http://www.intoxination.net

From computerguru at neosmart.net  Tue Apr 24 16:04:31 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 24 16:04:51 2007
Subject: [wp-hackers] Long post bug in 2.1.3?
In-Reply-To: <74b84aa30704240105k3b6da065y8921b965644de763@mail.gmail.com>
References: <74b84aa30704240105k3b6da065y8921b965644de763@mail.gmail.com>
Message-ID: <462E2A8F.7080606@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chetan Kunte wrote:
> Hi -
> 
> I am wondering if the long post bug persists in 2.1.3? It is either
> this or something similar to this:
> http://trac.wordpress.org/ticket/3627 . Here's what I experienced:
> http://ckunte.com/archives/a-wordpress-bug .
> 
> I don't have an Trac account to report this, so could someone look at
> this, see if this is a false alarm or if it is relevant, then please
> add a ticket?
> 
> Thanks,

It's real... Though I haven't verified it in 2.1.x, I haven't seen any
code that says it's been fixed either.

Previously on WP-Hackers:
http://groups.google.com/group/wp-hackers/browse_thread/thread/c4185117b1a13231/2a4795e439fb6830?lnk=gst&q=vista+review&rnum=1#2a4795e439fb6830

Drove me nuts!

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLiqP3SICh4XKUt0RAnUBAKCAIIdqvNJiNdbKDayjvEHSEYvLYQCgyUhW
5604kvzbWxZIgn+Arw3gruw=
=1VsY
-----END PGP SIGNATURE-----
From abrazell at b5media.com  Tue Apr 24 16:56:54 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Tue Apr 24 16:59:17 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <01fd01c78679$9eafe1c0$dc0fa540$@net>
References: <006f01c785ad$995cca20$cc165e60$@net>
	<462DDA29.4010100@m0n5t3r.info>
	<01fd01c78679$9eafe1c0$dc0fa540$@net>
Message-ID: <62A271F8-47D5-434B-A713-D4BA0C94029E@b5media.com>

I agree with this sentiment. I've been reading the rest of the emails  
in this thread and though I have no technical problem with some of  
the things being brought up, I can't get away from this nagging in  
the back of my mind that some of the previous suggestions are a  
highly dubious amount of bloat. I can't quantify that, like I said.  
Just call it a still, small voice.

However, an add_css hook makes sense and is a commodity in the big  
picture. If it solves a problem without adding too much overhead, I'd  
be in favor of implementation.
--
Aaron Brazell
Technology Manager, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor


On Apr 24, 2007, at 10:05 AM, Jamie Holly wrote:

> I also understand the CSS load order, but this suggestion would not  
> change that. The add_css would basically follow the same syntax as  
> the current add_action routine. We would keep a priority on it to  
> address the CSS load order, with the main theme CSS loading first.  
> The only difference is all the CSS would be contained within 1  
> file, as opposed to a bunch of files.

From swschulz at gmail.com  Tue Apr 24 18:26:56 2007
From: swschulz at gmail.com (S. William Schulz)
Date: Tue Apr 24 18:27:59 2007
Subject: [wp-hackers] Dual widgets.php in svn 5297
Message-ID: <92010c400704241126i4d37ac6aob63c9dc5fba98a9f@mail.gmail.com>

I just joined the list and the issue hasn't shown up in the archives
yet, so please forgive the possible repetition.

I just updated my test blogs to 5297 and it appears that there is now
two (different) copies of widgets.php included in the widgets.php
file, as if someone pasted in or merged an altered version.

I'd simply chop out the offending 9ish hundred lines, but I'm not sure
which half of the file is the correct set.

S
From computerguru at neosmart.net  Tue Apr 24 18:27:44 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 24 18:29:22 2007
Subject: [wp-hackers] Bug in the Mailing List?
Message-ID: <462E4C20.1080001@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Is there a bug in the mailing list that causes long titles to be broken
up to two sections and a tab in-between?

In Outlook 2007 on Vista it would look something like this:

"Survey for plug-in,	theme and hack developers. Please participate!"
and in Thunderbird on Linux

"Survey for plug-in,XXtheme and hack developers. Please participate!"
where XX is a non-printable character.

I've only seen it on WP-Hackers, and it happens only on long messages,
though they're not split in the middle. It doesn't always happen from
the very first time, sometimes a couple of replies down the road.

Is it just my addy?

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLkwg3SICh4XKUt0RAtN1AKCnT+OmK0OuqKxHI5Y0UmboY6VhcQCgpO4b
qJsXBvMHmY49ofDRhDXz850=
=ItBp
-----END PGP SIGNATURE-----
From joseph at randomnetworks.com  Tue Apr 24 18:36:47 2007
From: joseph at randomnetworks.com (Joseph Scott)
Date: Tue Apr 24 18:38:14 2007
Subject: [wp-hackers] Dual widgets.php in svn 5297
In-Reply-To: <92010c400704241126i4d37ac6aob63c9dc5fba98a9f@mail.gmail.com>
References: <92010c400704241126i4d37ac6aob63c9dc5fba98a9f@mail.gmail.com>
Message-ID: <81BD918E-F6E8-404B-A6EA-78C7EC8E27CC@randomnetworks.com>


On Apr 24, 2007, at 11:26 AM, S. William Schulz wrote:

> I just joined the list and the issue hasn't shown up in the archives
> yet, so please forgive the possible repetition.
>
> I just updated my test blogs to 5297 and it appears that there is now
> two (different) copies of widgets.php included in the widgets.php
> file, as if someone pasted in or merged an altered version.
>
> I'd simply chop out the offending 9ish hundred lines, but I'm not sure
> which half of the file is the correct set.


Ryan is looking into it.



--
Joseph Scott
joseph@randomnetworks.com
http://joseph.randomnetworks.com/


From timo.kissing+wordpress at gmail.com  Tue Apr 24 19:09:39 2007
From: timo.kissing+wordpress at gmail.com (Timo Kissing)
Date: Tue Apr 24 19:09:53 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <01fd01c78679$9eafe1c0$dc0fa540$@net>
References: <006f01c785ad$995cca20$cc165e60$@net>	<462DDA29.4010100@m0n5t3r.info>
	<01fd01c78679$9eafe1c0$dc0fa540$@net>
Message-ID: <462E55F3.6090301@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jamie Holly wrote:
> The script execution would be minimum. This proposal would create a
> static CSS file whenever the CSS has changed (plugin
> additions/updates, them update, or perhaps every X hours just to be
> sure everything is up to date). We could even (and probably should)
> add a check every X number of hits/minute(hours) that compares the
> filemtime for each CSS to the master and if a CSS has been modified
> since then, a new one is created. The overall factor is the output -
> which would be a single static file.

Writing a static file is certainly good, but I have some questions:
a) What about themes that (want to) include different stylesheets
depending on what is displayed? (e.g. a completely different stylesheet
for archives)
b) What if a plugin (wants to) include(s) a stylesheet depending on
<younameit>? (weekday, theme selector on the page, ...)
c) Will there be an option for plugin/theme developers to switch to a
on-the-fly-generation so they can alter any css file (in there favorite
editor) and get the new css on next page load? I would not want to have
to wait x minutes, do y reloads or press a button every time I make a
change to a css file during development.

Greetings,
lino.


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGLlXzoLzpFOt4gucRAmzjAJ9oSTFntKrA+SjEZm/aeOA31w7PuACdHmmg
bYUQ+CxNWhEzgvxodXWeTdk=
=83Hb
-----END PGP SIGNATURE-----
From timo.kissing+wordpress at gmail.com  Tue Apr 24 19:23:45 2007
From: timo.kissing+wordpress at gmail.com (Timo Kissing)
Date: Tue Apr 24 19:23:50 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462E4C20.1080001@NeoSmart.net>
References: <462E4C20.1080001@NeoSmart.net>
Message-ID: <462E5941.2040508@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Computer Guru schrieb:
> Is there a bug in the mailing list that causes long titles to be broken
> up to two sections and a tab in-between?
> 
> In Outlook 2007 on Vista it would look something like this:
> 
> "Survey for plug-in,	theme and hack developers. Please participate!"
> and in Thunderbird on Linux
> 
> "Survey for plug-in,XXtheme and hack developers. Please participate!"
> where XX is a non-printable character.
> 
> I've only seen it on WP-Hackers, and it happens only on long messages,
> though they're not split in the middle. It doesn't always happen from
> the very first time, sometimes a couple of replies down the road.
> 
> Is it just my addy?

This is due to some clients handling folded headers wrong (see RFC
2822). I am not sure which clients screw this up, but I am sure you can
look it up somewhere - and for some there might even be fixes or
workarounds. I would suspect MS mail clients to be among those screwing
it up, but I am biased there.
So, it should not be a bug in the mailing list (since it happens in the
middle of threads and the list doesn't tamper with the subject there)
and unless it is your Outlook screwing up the headers it is not a
problem on your side.

Greetings,
lino.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (MingW32)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFGLllBoLzpFOt4gucRAmL9AJ0Xgu+WeRl4KKrbR/0xesXC0tyJcQCeMXCd
3jK3AETU0bxOaFl5Ya1lJz8=
=0er/
-----END PGP SIGNATURE-----
From hovercrafter at earthlink.net  Tue Apr 24 19:24:49 2007
From: hovercrafter at earthlink.net (Jamie Holly)
Date: Tue Apr 24 19:24:51 2007
Subject: [wp-hackers] Adding A CSS Loader
In-Reply-To: <462E55F3.6090301@gmail.com>
References: <006f01c785ad$995cca20$cc165e60$@net>	<462DDA29.4010100@m0n5t3r.info>	<01fd01c78679$9eafe1c0$dc0fa540$@net>
	<462E55F3.6090301@gmail.com>
Message-ID: <027601c786a6$39f57830$ade06890$@net>

> 
> Writing a static file is certainly good, but I have some questions:
> a) What about themes that (want to) include different stylesheets
> depending on what is displayed? (e.g. a completely different stylesheet
> for archives)

Nothing would prevent that. All they would have to do is use the current method of directly outputting the CSS reference in their template instead of whatever the new function would be (add_css?). I would also recommend going the Drupal route on this issue of having an option where people can just disable the feature all together in case there is some weird plugin combination causing an issue.

> b) What if a plugin (wants to) include(s) a stylesheet depending on
> <younameit>? (weekday, theme selector on the page, ...)

Basically that would be the same as above. You still have the option of using the add_action for the wp_head call instead of the proposed CSS loader.

> c) Will there be an option for plugin/theme developers to switch to a
> on-the-fly-generation so they can alter any css file (in there favorite
> editor) and get the new css on next page load? I would not want to have
> to wait x minutes, do y reloads or press a button every time I make a
> change to a css file during development.
> 
> Greetings,
> lino.
> 
> 
Sure - just disable the feature while changing things (same applies to wp_cache right now if people are changing templates around). I would also like to see a css_cache_flush function in there that can be triggered via different actions (press a 'clear cache' button in the admin panel, plugin activation/deactivation, editing of the theme files, etc.).

Jamie Holly
http://www.intoxination.net

From computerguru at neosmart.net  Tue Apr 24 19:30:46 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 24 19:31:03 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462E5941.2040508@gmail.com>
References: <462E4C20.1080001@NeoSmart.net> <462E5941.2040508@gmail.com>
Message-ID: <462E5AE6.7040009@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Timo Kissing wrote:
> This is due to some clients handling folded headers wrong (see RFC
> 2822). I am not sure which clients screw this up, but I am sure you can
> look it up somewhere - and for some there might even be fixes or
> workarounds. I would suspect MS mail clients to be among those screwing
> it up, but I am biased there.
> So, it should not be a bug in the mailing list (since it happens in the
> middle of threads and the list doesn't tamper with the subject there)
> and unless it is your Outlook screwing up the headers it is not a
> problem on your side.
> 
> Greetings,
> lino.

Guess it's time to see at just which point in the chain this happens and
ID the message/client responsible :)

(I can vouch its not Outlook [which is the best email client, honestly]
since it didn't use to happen a couple of months back, and the ML-Stats
used to show all versions of Outlook in use....)

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLlrm3SICh4XKUt0RAvj5AKDUbAE2llJpzNt9AKp7JqwGYKAT7QCghwEq
JTXFnviPkAYkJ9UxY7YPKvY=
=sUPO
-----END PGP SIGNATURE-----
From swschulz at gmail.com  Tue Apr 24 19:32:07 2007
From: swschulz at gmail.com (S. William Schulz)
Date: Tue Apr 24 19:32:19 2007
Subject: [wp-hackers] Dual widgets.php in svn 5297
In-Reply-To: <81BD918E-F6E8-404B-A6EA-78C7EC8E27CC@randomnetworks.com>
References: <92010c400704241126i4d37ac6aob63c9dc5fba98a9f@mail.gmail.com>
	<81BD918E-F6E8-404B-A6EA-78C7EC8E27CC@randomnetworks.com>
Message-ID: <92010c400704241232u73ced6a1v2e50735fa3183ca4@mail.gmail.com>

On 4/24/07, Joseph Scott <joseph@randomnetworks.com> wrote:
>
> On Apr 24, 2007, at 11:26 AM, S. William Schulz wrote:
> >
> > I just updated my test blogs to 5297 and it appears that there is now
> > two (different) copies of widgets.php included in the widgets.php
> > file, as if someone pasted in or merged an altered version.
> >
>
>
> Ryan is looking into it.

Thank you.  That version has been replaced, but the new version throws
an error on the test setup, i.e. call to undefined function
register_sidebar_control.  I'm wondering, based on the context, if
that should actually be register_widget_control(...)

S
From zamoose at gmail.com  Tue Apr 24 19:42:51 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Tue Apr 24 19:43:12 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462E5AE6.7040009@NeoSmart.net>
References: <462E4C20.1080001@NeoSmart.net> <462E5941.2040508@gmail.com>
	<462E5AE6.7040009@NeoSmart.net>
Message-ID: <71ddd7490704241242w77187c42sec797a4f97b62dc9@mail.gmail.com>

On 4/24/07, Computer Guru <computerguru@neosmart.net> wrote:

> (I can vouch its not Outlook [which is the best email client, honestly]

I would loooooove to have a bit of what you're smoking, honestly.  *grin*
-- 
-Doug

http://literalbarrage.org/blog/
From computerguru at neosmart.net  Tue Apr 24 20:58:48 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Tue Apr 24 20:59:08 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <71ddd7490704241242w77187c42sec797a4f97b62dc9@mail.gmail.com>
References: <462E4C20.1080001@NeoSmart.net>
	<462E5941.2040508@gmail.com>	<462E5AE6.7040009@NeoSmart.net>
	<71ddd7490704241242w77187c42sec797a4f97b62dc9@mail.gmail.com>
Message-ID: <462E6F88.3070208@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Doug Stewart wrote:
> On 4/24/07, Computer Guru <computerguru@neosmart.net> wrote:
> 
>> (I can vouch its not Outlook [which is the best email client, honestly]
> 
> I would loooooove to have a bit of what you're smoking, honestly.  *grin*

Don't want to start a war or anything, but honestly, Office 2007 is just
great. Especially Outlook.

I'm a hard-core Windows programmer that loves Linux. The whole time I'm
in my LFS or in Ubuntu, the one (and only) thing I miss from Windows is
Outlook.

Thunderbird is weak (even with extensions), buggy, and only a mail client.
Evolution isn't even on-par with Outlook XP.
KMail is very disjoint and unorganized - and very buggy.

Outlook gives me a ton of features (and I disable the bloat like HTML
and stuff), has a most-wonderful interface, is very easy to use, has a
ton-load of options (yes, more than Thunderbird), and works great out of
the box.

With Thunderbird, I can't even make it close the original message when I
hit "Reply" or "Forward" - I have to send the first email, then go back
and close the old window.

Hell, Thunderbird doesn't even have an outbox! I have to keep each
window open as it establishes a connection to the remote server for
every message.

Evolution doesn't even have a new mail notification pop-up! And none of
those programs even dock to the system tray - I have to use a separate
program just to add that basic functionality (KDocker).

I hate how Thunderbird insists on filling up half of my composition
screen with useless ULTRA HUGE IN-YOUR-FACE 4 lines for the "mail-to"
list... WTF is up with that?

Linux is great and is (at the moment) my favorite OS, but until it gets
simple things like a decent blog editor [1] and a _real_ PIM (not just
email) client that works well, looks great, is intuitive, has tons of
options, and just works, it'll never reach 50% of the business market OS
share.

[1]: http://neosmart.net/blog/2007/wysiwyg-linux-blogging-clients/

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLm+I3SICh4XKUt0RAt7UAJ475yKyb0JOj5dTn4RhlC3hfdsg3wCg6QOP
Brs6riG8gM+rZZQKwkSV49g=
=QcUg
-----END PGP SIGNATURE-----
From lrivers at gmail.com  Tue Apr 24 21:31:06 2007
From: lrivers at gmail.com (Lorin Rivers)
Date: Tue Apr 24 21:31:11 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462E6F88.3070208@NeoSmart.net>
References: <462E4C20.1080001@NeoSmart.net> <462E5941.2040508@gmail.com>
	<462E5AE6.7040009@NeoSmart.net>
	<71ddd7490704241242w77187c42sec797a4f97b62dc9@mail.gmail.com>
	<462E6F88.3070208@NeoSmart.net>
Message-ID: <949829840704241431g3f4804dfl1ae51c2d157a8b5e@mail.gmail.com>

I bet there are plenty of great places to discuss which mail agent
rocks your world. I'd think wp-hackers is not one of them
(disappointed to see a wildly off-topic post as my first message from
the list).
From zamoose at gmail.com  Tue Apr 24 21:35:06 2007
From: zamoose at gmail.com (Doug Stewart)
Date: Tue Apr 24 21:35:11 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462E6F88.3070208@NeoSmart.net>
References: <462E4C20.1080001@NeoSmart.net> <462E5941.2040508@gmail.com>
	<462E5AE6.7040009@NeoSmart.net>
	<71ddd7490704241242w77187c42sec797a4f97b62dc9@mail.gmail.com>
	<462E6F88.3070208@NeoSmart.net>
Message-ID: <71ddd7490704241435m42639a9fu7f1b708a01523d18@mail.gmail.com>

On 4/24/07, Computer Guru <computerguru@neosmart.net> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Doug Stewart wrote:
> > On 4/24/07, Computer Guru <computerguru@neosmart.net> wrote:
> >
> >> (I can vouch its not Outlook [which is the best email client, honestly]
> >
> > I would loooooove to have a bit of what you're smoking, honestly.  *grin*
>
> Don't want to start a war or anything, but honestly, Office 2007 is just
> great. Especially Outlook.
>
> I'm a hard-core Windows programmer that loves Linux. The whole time I'm
> in my LFS or in Ubuntu, the one (and only) thing I miss from Windows is
> Outlook.
>
> Thunderbird is weak (even with extensions), buggy, and only a mail client.

1) You specified email, not PIM.

2) Have you tried T-Bird 2.0?  Very nice.  IMAP speed is greatly
increased, the new tagging is useful and the message history Forward
and Back buttons are very handy.  Worth a look, most def.

> Evolution isn't even on-par with Outlook XP.
> KMail is very disjoint and unorganized - and very buggy.
>
> Outlook gives me a ton of features (and I disable the bloat like HTML
> and stuff), has a most-wonderful interface, is very easy to use, has a
> ton-load of options (yes, more than Thunderbird), and works great out of
> the box.
>

It's also for-pay.  I haven't paid for an email client since Eudora
and I don't intend on doing so any time soon.  Free and great beats
fee and perfect at least when it comes to email.  *grin*


-- 
-Doug

http://literalbarrage.org/blog/
From dan at kuykendall.org  Tue Apr 24 23:33:04 2007
From: dan at kuykendall.org (Dan Kuykendall)
Date: Tue Apr 24 23:33:25 2007
Subject: [wp-hackers] how often does the cron job run for wordpress.org
	extend/plugins?
Message-ID: <462E93B0.3070607@kuykendall.org>

I just posted an update to my plugin podPress and was curious about how
long it will take for the new branch to be picked up on and reflected on
the site.
No big deal, just curious

-- 
Dan Kuykendall (aka Seek3r)
http://www.mightyseek.com

In God we trust, all others we virus scan.
Programmer - an organism that turns coffee into software.
From wordpress at dd32.id.au  Tue Apr 24 23:53:10 2007
From: wordpress at dd32.id.au (DD32)
Date: Tue Apr 24 23:53:02 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462E4C20.1080001@NeoSmart.net>
References: <462E4C20.1080001@NeoSmart.net>
Message-ID: <op.trbbawipk6w4mc@dd32.no-ip.com>

It seems to be a bug in the application thats being used to view the
message.
Opera 9 works perfectly, however, its been mentioned in a few places:
http://mail.python.org/pipermail/mailman-users/2003-February/026523.html
http://www.mail-archive.com/wireshark-dev@wireshark.org/msg04691.html

  From what i can see, they've classified it as a bug with the mail readers,
rather than mail senders.

On Wed, 25 Apr 2007 04:27:44 +1000, Computer Guru
<computerguru@neosmart.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Is there a bug in the mailing list that causes long titles to be broken
> up to two sections and a tab in-between?
>
> In Outlook 2007 on Vista it would look something like this:
>
> "Survey for plug-in,	theme and hack developers. Please participate!"
> and in Thunderbird on Linux
>
> "Survey for plug-in,XXtheme and hack developers. Please participate!"
> where XX is a non-printable character.
>
> I've only seen it on WP-Hackers, and it happens only on long messages,
> though they're not split in the middle. It doesn't always happen from
> the very first time, sometimes a couple of replies down the road.
>
> Is it just my addy?
>
> - --
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.6 (GNU/Linux)
>
> iD8DBQFGLkwg3SICh4XKUt0RAtN1AKCnT+OmK0OuqKxHI5Y0UmboY6VhcQCgpO4b
> qJsXBvMHmY49ofDRhDXz850=
> =ItBp
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From ryan at boren.nu  Wed Apr 25 00:10:40 2007
From: ryan at boren.nu (Ryan Boren)
Date: Wed Apr 25 00:10:47 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <bb0886ed0704231444sa6c1514qa5b6f77172e5c47@mail.gmail.com>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>
	<bb0886ed0704181152q45be34c2v9a252f64e26261e6@mail.gmail.com>
	<4627882A.9090807@jamietalbot.com>
	<bb0886ed0704190942i5d7361edxb976f8dbf3cfb525@mail.gmail.com>
	<bb0886ed0704191510nbcd0315m8b51f691c519bb39@mail.gmail.com>
	<46281AEC.8030506@jamietalbot.com>
	<bb0886ed0704201225u66c474bbh25398b701517e5b3@mail.gmail.com>
	<2BCFF24A-5FB6-42C2-9613-5E700E539AB8@txfx.net>
	<462B48AA.4000404@mullenweg.com>
	<bb0886ed0704231444sa6c1514qa5b6f77172e5c47@mail.gmail.com>
Message-ID: <bb0886ed0704241710o4cacfc44j7e665b2339a2f014@mail.gmail.com>

I opened a ticket here:

http://trac.wordpress.org/ticket/4189

Let's start throwing around some code.

Ryan
From kconstable at kccricket.net  Wed Apr 25 01:07:52 2007
From: kconstable at kccricket.net (Keith Constable)
Date: Wed Apr 25 01:08:11 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462E5AE6.7040009@NeoSmart.net>
References: <462E4C20.1080001@NeoSmart.net> <462E5941.2040508@gmail.com>
	<462E5AE6.7040009@NeoSmart.net>
Message-ID: <462EA9E8.5070004@kccricket.net>

On 04/24/2007 03:30 PM, Computer Guru wrote:
> Guess it's time to see at just which point in the chain this happens and
> ID the message/client responsible :)
> 
> (I can vouch its not Outlook [which is the best email client, honestly]
> since it didn't use to happen a couple of months back, and the ML-Stats
> used to show all versions of Outlook in use....)


OOoh, oooh!  I see one.  The message with the subject
[wp-hackers] how often does the cron job run for wordpress.org	extend/plugins?
from Dan Kuykendall has a wrapped subject.

I'm using TB 1.5.x and a character consisting of a tiny N above a tiny L
replaces the gap between "wordpress.org" and "extend/".  Representing a newline,
I suppose.

-Keith Constable
http://kccricket.net/
From hovercrafter at earthlink.net  Wed Apr 25 01:12:33 2007
From: hovercrafter at earthlink.net (Jamie Holly)
Date: Wed Apr 25 01:12:36 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462EA9E8.5070004@kccricket.net>
References: <462E4C20.1080001@NeoSmart.net>
	<462E5941.2040508@gmail.com>	<462E5AE6.7040009@NeoSmart.net>
	<462EA9E8.5070004@kccricket.net>
Message-ID: <038a01c786d6$ce2b8370$6a828a50$@net>

> 
> OOoh, oooh!  I see one.  The message with the subject
> [wp-hackers] how often does the cron job run for wordpress.org
> 	extend/plugins?
> from Dan Kuykendall has a wrapped subject.
> 
> I'm using TB 1.5.x and a character consisting of a tiny N above a tiny
> L
> replaces the gap between "wordpress.org" and "extend/".  Representing a
> newline,
> I suppose.
> 
> -Keith Constable
> http://kccricket.net/

LOL I just noticed that too (Outlook 2007). I just checked the actual message header and the tab is in there too.

Jamie Holly
http://www.intoxination.net

From wordpress at dd32.id.au  Wed Apr 25 01:29:35 2007
From: wordpress at dd32.id.au (DD32)
Date: Wed Apr 25 01:29:07 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <op.trbbawipk6w4mc@dd32.no-ip.com>
References: <462E4C20.1080001@NeoSmart.net> <op.trbbawipk6w4mc@dd32.no-ip.com>
Message-ID: <op.trbfrlmnk6w4mc@dd32.no-ip.com>

Ah here we go:
http://www.faqs.org/rfcs/rfc2822.html
2.2.3. Long Header Fields

The general rule is
    that wherever this standard allows for folding white space (not
    simply WSP characters), a CRLF may be inserted before any WSP.  For
    example, the header field:

            Subject: This is a test

    can be represented as:

            Subject: This
             is a test

and checking the message with a hex viewer, its 0D 0A 09, CR LF Tab, So  
i'd blame the mail reader
Its common for regressions in software, as everyone probably knows, just  
because Outlook xx worked, doesnt mean Outlook 2007 will, same for TB.

On Wed, 25 Apr 2007 09:53:10 +1000, DD32 <wordpress@dd32.id.au> wrote:

> It seems to be a bug in the application thats being used to view the
> message.
> Opera 9 works perfectly, however, its been mentioned in a few places:
> http://mail.python.org/pipermail/mailman-users/2003-February/026523.html
> http://www.mail-archive.com/wireshark-dev@wireshark.org/msg04691.html
>
>   From what i can see, they've classified it as a bug with the mail  
> readers,
> rather than mail senders.
>
> On Wed, 25 Apr 2007 04:27:44 +1000, Computer Guru
> <computerguru@neosmart.net> wrote:
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA1
>>
>> Is there a bug in the mailing list that causes long titles to be broken
>> up to two sections and a tab in-between?
>>
>> In Outlook 2007 on Vista it would look something like this:
>>
>> "Survey for plug-in,	theme and hack developers. Please participate!"
>> and in Thunderbird on Linux
>>
>> "Survey for plug-in,XXtheme and hack developers. Please participate!"
>> where XX is a non-printable character.
>>
>> I've only seen it on WP-Hackers, and it happens only on long messages,
>> though they're not split in the middle. It doesn't always happen from
>> the very first time, sometimes a couple of replies down the road.
>>
>> Is it just my addy?
>>
>> - --
>> Computer Guru
>> NeoSmart Technologies
>> http://neosmart.net/blog/
>> -----BEGIN PGP SIGNATURE-----
>> Version: GnuPG v1.4.6 (GNU/Linux)
>>
>> iD8DBQFGLkwg3SICh4XKUt0RAtN1AKCnT+OmK0OuqKxHI5Y0UmboY6VhcQCgpO4b
>> qJsXBvMHmY49ofDRhDXz850=
>> =ItBp
>> -----END PGP SIGNATURE-----
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From computerguru at neosmart.net  Wed Apr 25 05:16:23 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Wed Apr 25 05:16:47 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462EA9E8.5070004@kccricket.net>
References: <462E4C20.1080001@NeoSmart.net>
	<462E5941.2040508@gmail.com>	<462E5AE6.7040009@NeoSmart.net>
	<462EA9E8.5070004@kccricket.net>
Message-ID: <462EE427.2020904@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Keith Constable wrote:
> OOoh, oooh!  I see one.  The message with the subject
> [wp-hackers] how often does the cron job run for wordpress.org	extend/plugins?
> from Dan Kuykendall has a wrapped subject.
> 
> I'm using TB 1.5.x and a character consisting of a tiny N above a tiny L
> replaces the gap between "wordpress.org" and "extend/".  Representing a newline,
> I suppose.

Yeah, I see it too.

According to what I see, Dan sent his message from Thunderbird 2.0 on
Windows, and I'm viewing it in Thunderbird 2.0 on Linux.

In the message source code there is a line break in the subject... The
one thing I can think of is the AV software that scanned the message on
the server-side, because it's inconceivable that one would have a
line-break or tab spacing the subject, simply because pressing enter
would send the message and tab would move to the next control.

Weird.

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGLuQn3SICh4XKUt0RAvHPAKDY+K0LJ9zSeB2iyEODVermnbB12wCcCiel
GynBuoG52ICUj+04C71jN3E=
=2vFI
-----END PGP SIGNATURE-----
From elias at torrez.us  Wed Apr 25 05:17:21 2007
From: elias at torrez.us (Elias Torres)
Date: Wed Apr 25 05:17:27 2007
Subject: [wp-hackers] Taxonomy Schema Proposal
In-Reply-To: <4B970F14-9B08-413D-9CCC-FD37FAFFC425@txfx.net>
References: <bb0886ed0704160019l390b01bfi1e82b31073d109ce@mail.gmail.com>	<46254D80.2040800@mullenweg.com>	<462617B9.3040206@jamietalbot.com>	<b65af1a30704181202s31879f05ua4ccbc8915d03d5@mail.gmail.com>	<46267400.1080805@mullenweg.com>	<b65af1a30704181306p5bf7f92dxdf8afb7800ede17c@mail.gmail.com>	<46267B06.7030705@mullenweg.com>	<006101c781f6$279e1d40$76da57c0$@net>	<462687E6.7010704@mullenweg.com>
	<4B970F14-9B08-413D-9CCC-FD37FAFFC425@txfx.net>
Message-ID: <462EE461.1000201@torrez.us>

I implemented tags on Apache Roller not long ago and we decided not to
create a terms table. We only have a table for entry2tag and a table for
aggregates (tag clouds).

create table roller_weblogentrytag (
    id              varchar(48)   not null primary key,
    entryid         varchar(48)   not null,
    websiteid       varchar(48)   not null,
    userid	    varchar(48)   not null,
    name            varchar(255)  not null,
    time            $db.TIMESTAMP_SQL_TYPE 	not null
);

create table roller_weblogentrytagagg (
    id              varchar(48)   not null primary key,
    websiteid       varchar(48) ,
    name            varchar(255)  not null,
    total           integer		  not null,
    lastused        $db.TIMESTAMP_SQL_TYPE 	not null
);

Basically, we store for every entry, one row per tag. This eliminates
most joins. Additionally, we have an aggregate table per website that
keeps track of the total number of times a tag is used. Remember Roller
is the equivalent of WP-MU, not WP.

Anyways, just a thought that joins might not be the best way to go.

-Elias

Mark Jaquith wrote:
> On Apr 18, 2007, at 5:04 PM, Matt Mullenweg wrote:
> 
>> Ultimately speed is going to be a big factor in any implementation, I
>> hope that the 3 additional tables and related queries don't hit us too
>> hard on the performance side.
> 
> If the API for updating/adding/removing tags and post categories is
> solid (i.e. we won't expect people to have a reason to circumvent it),
> we can cache cats/tags in postmeta whenever they are updated.  That
> would actually REMOVE a query from the existing system (as postmeta is
> already queried).  The system could be fail-safe, so that if there is no
> appropriate _wp_categories postmeta entry, it can do the big JOIN'd
> query (and at that moment, populate the postmeta cache).  That doesn't
> help us for Tag/Category views (which posts have X taxonomy?), but it
> helps us when querying tags/categories for a given set of posts.
> 
> I'd assume that would be faster than doing a three-way JOIN'd query...
> it certainly sped UTW up.
> 
> -- 
> Mark Jaquith
> http://markjaquith.com/
> 
> Covered Web Services
> http://coveredwebservices.com/
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
From omry at yadan.net  Wed Apr 25 05:38:25 2007
From: omry at yadan.net (Omry Yadan)
Date: Wed Apr 25 05:38:40 2007
Subject: OFFTOPIC  [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462EE427.2020904@NeoSmart.net>
References: <462E4C20.1080001@NeoSmart.net>	<462E5941.2040508@gmail.com>	<462E5AE6.7040009@NeoSmart.net>	<462EA9E8.5070004@kccricket.net>
	<462EE427.2020904@NeoSmart.net>
Message-ID: <462EE951.8050801@yadan.net>

Please move this out of the mailing list.

Computer Guru wrote:

> Keith Constable wrote:
> > OOoh, oooh!  I see one.  The message with the subject
> > [wp-hackers] how often does the cron job run for wordpress.org  
>  extend/plugins?
> > from Dan Kuykendall has a wrapped subject.
>
> > I'm using TB 1.5.x and a character consisting of a tiny N above a tiny L
> > replaces the gap between "wordpress.org" and "extend/". 
> Representing a newline,
> > I suppose.
>
> Yeah, I see it too.
>
> According to what I see, Dan sent his message from Thunderbird 2.0 on
> Windows, and I'm viewing it in Thunderbird 2.0 on Linux.
>
> In the message source code there is a line break in the subject... The
> one thing I can think of is the AV software that scanned the message on
> the server-side, because it's inconceivable that one would have a
> line-break or tab spacing the subject, simply because pressing enter
> would send the message and tab would move to the next control.
>
> Weird.
>
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From false.hopes at gmail.com  Wed Apr 25 06:02:00 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Wed Apr 25 06:02:04 2007
Subject: [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462EE427.2020904@NeoSmart.net>
References: <462E4C20.1080001@NeoSmart.net> <462E5941.2040508@gmail.com>
	<462E5AE6.7040009@NeoSmart.net> <462EA9E8.5070004@kccricket.net>
	<462EE427.2020904@NeoSmart.net>
Message-ID: <a491f91d0704242302h507136aas6daa2fd1cc9de6fd@mail.gmail.com>

On 4/25/07, Computer Guru <computerguru@neosmart.net> wrote:
> In the message source code there is a line break in the subject... The
> one thing I can think of is the AV software that scanned the message on
> the server-side, because it's inconceivable that one would have a
> line-break or tab spacing the subject, simply because pressing enter
> would send the message and tab would move to the next control.

And yet, it is quite conceivable if you had read the thread before
replying, as it is quite clearly explained by DD32 a few hours before
you sent this message.

Now, anything more should really go offlist. As someone else pointed
out already, this is excessive.

-- 
--Robert Deaton
From robin.adr at gmail.com  Wed Apr 25 16:25:00 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Wed Apr 25 16:25:06 2007
Subject: OFFTOPIC [wp-hackers] Bug in the Mailing List?
In-Reply-To: <462EE951.8050801@yadan.net>
References: <462E4C20.1080001@NeoSmart.net> <462E5941.2040508@gmail.com>
	<462E5AE6.7040009@NeoSmart.net> <462EA9E8.5070004@kccricket.net>
	<462EE427.2020904@NeoSmart.net> <462EE951.8050801@yadan.net>
Message-ID: <d135ca9c0704250925h479f08f0x3c619b143aea302a@mail.gmail.com>

For starters, you could use less "order"-like language. Second of all, it
*does* pertain to WP's mailing lists (at least when it started it did). But
maybe that's not the case anymore.

On 4/24/07, Omry Yadan <omry@yadan.net> wrote:
>
> Please move this out of the mailing list.
>
> Computer Guru wrote:
>
> > Keith Constable wrote:
> > > OOoh, oooh!  I see one.  The message with the subject
> > > [wp-hackers] how often does the cron job run for wordpress.org
> >  extend/plugins?
> > > from Dan Kuykendall has a wrapped subject.
> >
> > > I'm using TB 1.5.x and a character consisting of a tiny N above a tiny
> L
> > > replaces the gap between "wordpress.org" and "extend/".
> > Representing a newline,
> > > I suppose.
> >
> > Yeah, I see it too.
> >
> > According to what I see, Dan sent his message from Thunderbird 2.0 on
> > Windows, and I'm viewing it in Thunderbird 2.0 on Linux.
> >
> > In the message source code there is a line break in the subject... The
> > one thing I can think of is the AV software that scanned the message on
> > the server-side, because it's inconceivable that one would have a
> > line-break or tab spacing the subject, simply because pressing enter
> > would send the message and tab would move to the next control.
> >
> > Weird.
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From lrivers at gmail.com  Wed Apr 25 18:22:23 2007
From: lrivers at gmail.com (Lorin Rivers)
Date: Wed Apr 25 18:22:27 2007
Subject: [wp-hackers] Hijack "The Loop"?
Message-ID: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>

Here's what I'm doing--I've got a custom table and some page
template-fu to display data that is not "posts". WP is so post-centric
that a lot of stuff doesn't work if the content is not in "the loop".

Is it possible to make my custom PHP ACT like The Loop? And if so, how?

Thanks!
From ag.ml2007 at zirona.com  Wed Apr 25 18:28:25 2007
From: ag.ml2007 at zirona.com (Alex =?ISO-8859-1?Q?G=FCnsche?=)
Date: Wed Apr 25 18:28:32 2007
Subject: [wp-hackers] Hijack "The Loop"?
In-Reply-To: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
Message-ID: <1177525705.13710.1.camel@localhost>

On Wed, 2007-04-25 at 13:22 -0500, Lorin Rivers wrote:
> Here's what I'm doing--I've got a custom table and some page
> template-fu to display data that is not "posts". WP is so post-centric
> that a lot of stuff doesn't work if the content is not in "the loop".
> 
> Is it possible to make my custom PHP ACT like The Loop? And if so, how?

I'm positive it is, but could you please describe more detailed what
you're trying to do?

Regards,
Alex

-- 
Alex G?nsche, Zirona OpenSource-Consulting
http://www.zirona.com/ | Hilfe f?r das HQ AC: http://www.prohq.de
PubKey for this address: http://www.zirona.com/misc/ag.ml2007.asc

From codehooligans at codehooligans.com  Wed Apr 25 18:58:53 2007
From: codehooligans at codehooligans.com (Paul Menard)
Date: Wed Apr 25 18:57:57 2007
Subject: [wp-hackers] Hijack "The Loop"?
In-Reply-To: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
Message-ID: <91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>

No. You really don't want to do that. I can answer this because well  
I know what you are working on.

For example on the custom search result page. If the your secret  
'alum_search' parameter is present you are dropping into your custom  
SQL query which hits you alumni table and searched for matching  
records. the result of this query is a standard mysql array (see my  
example below). If you don't have the secret 'alum_search parameter  
then you default to using the WP Loop to display any Post/Page items.  
You really can't hijack the loop since your table columns don't  
really apply to WP functions like the_title(), the_content(), etc.

For your custom query you just need to make your own loop and display  
the row information from your alumni contact table Something like the  
following. This is straight from the PHP MySQL manual.

$query = "SELECT..."; // your custom quuery
$result = mysql_query($query);
while ($row = mysql_fetch_assoc($result))
{
     echo $row['firstname'];
     echo $row['lastname'];
     echo $row['address'];
     echo $row['age'];
}
mysql_free_result($result);

P-


On Apr 25, 2007, at 1:22 PM, Lorin Rivers wrote:

> Here's what I'm doing--I've got a custom table and some page
> template-fu to display data that is not "posts". WP is so post-centric
> that a lot of stuff doesn't work if the content is not in "the loop".
>
> Is it possible to make my custom PHP ACT like The Loop? And if so,  
> how?
>
> Thanks!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lrivers at gmail.com  Wed Apr 25 19:18:40 2007
From: lrivers at gmail.com (Lorin Rivers)
Date: Wed Apr 25 19:18:45 2007
Subject: [wp-hackers] Hijack "The Loop"?
In-Reply-To: <1177525705.13710.1.camel@localhost>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
	<1177525705.13710.1.camel@localhost>
Message-ID: <949829840704251218k74813603kd8b12ba22b18386e@mail.gmail.com>

OK, sure. Let me also state the problem I'm trying to solve, instead
of leading with my proposed solution. There are two things I'd like to
do:
1) require a login to view alumni profiles (see below)
2) I think this is the most "post-like" behavior I want: allow
navigation forward and back inside result sets. Once a person has
drilled down to the profile page, I'd like to retain the query that
created the page they came from. In other words, if it's a search by
name, keep that list and forward and back through it. Likewise, if
someone goes to the profile page from the class page (see below), I'd
like to retain that query and allow the same navigation back and
forth.

I've got a table I created in the WP database that contains detailed
information about alumni, pretty standard stuff, name, address, etc.

I display that info in 3 places (page templates all):
1) a class-year page: names with link to alumnus profile page
Here's the query:
<?php
$alumni = $wpdb->get_results("SELECT user_id, last_name, maiden,
first_name, nickname, suffix FROM $wpdb->alumni WHERE class_year =
'$class_year' ORDER BY $order");
?>

Then I build an HTML table with the results (something like 450
records returned)

2) a search results page: names with link to alumnus profile page
3) a alumnus profile page: detailed info about that individual
This is the page I most want to "post-ify" (see above).

THANKS!

On 4/25/07, Alex G?nsche <ag.ml2007@zirona.com> wrote:
> On Wed, 2007-04-25 at 13:22 -0500, Lorin Rivers wrote:
> > Here's what I'm doing--I've got a custom table and some page
> > template-fu to display data that is not "posts". WP is so post-centric
> > that a lot of stuff doesn't work if the content is not in "the loop".
> >
> > Is it possible to make my custom PHP ACT like The Loop? And if so, how?
>
> I'm positive it is, but could you please describe more detailed what
> you're trying to do?
>
> Regards,
> Alex
>
> --
> Alex G?nsche, Zirona OpenSource-Consulting
> http://www.zirona.com/ | Hilfe f?r das HQ AC: http://www.prohq.de
> PubKey for this address: http://www.zirona.com/misc/ag.ml2007.asc
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From lrivers at gmail.com  Wed Apr 25 19:20:41 2007
From: lrivers at gmail.com (Lorin Rivers)
Date: Wed Apr 25 19:20:45 2007
Subject: [wp-hackers] Hijack "The Loop"?
In-Reply-To: <91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
	<91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>
Message-ID: <949829840704251220i3e5be589o3e3e991fc13f40db@mail.gmail.com>

Paul is my hero, he got me to this point.

Take a look at my follow-up, though.

On 4/25/07, Paul Menard <codehooligans@codehooligans.com> wrote:
> No. You really don't want to do that. I can answer this because well
> I know what you are working on.
>
> For example on the custom search result page. If the your secret
> 'alum_search' parameter is present you are dropping into your custom
> SQL query which hits you alumni table and searched for matching
> records. the result of this query is a standard mysql array (see my
> example below). If you don't have the secret 'alum_search parameter
> then you default to using the WP Loop to display any Post/Page items.
> You really can't hijack the loop since your table columns don't
> really apply to WP functions like the_title(), the_content(), etc.
>
> For your custom query you just need to make your own loop and display
> the row information from your alumni contact table Something like the
> following. This is straight from the PHP MySQL manual.
>
> $query = "SELECT..."; // your custom quuery
> $result = mysql_query($query);
> while ($row = mysql_fetch_assoc($result))
> {
>      echo $row['firstname'];
>      echo $row['lastname'];
>      echo $row['address'];
>      echo $row['age'];
> }
> mysql_free_result($result);
>
> P-
>
>
> On Apr 25, 2007, at 1:22 PM, Lorin Rivers wrote:
>
> > Here's what I'm doing--I've got a custom table and some page
> > template-fu to display data that is not "posts". WP is so post-centric
> > that a lot of stuff doesn't work if the content is not in "the loop".
> >
> > Is it possible to make my custom PHP ACT like The Loop? And if so,
> > how?
> >
> > Thanks!
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ross.bennetts at une.edu.au  Thu Apr 26 01:37:06 2007
From: ross.bennetts at une.edu.au (Ross M. W. Bennetts)
Date: Thu Apr 26 01:37:17 2007
Subject: [wp-hackers] FW: [BugTraq] WordPress v2.1.3 >> remote file include~
Message-ID: <00a001c787a3$663978d0$32ac6a70$@bennetts@une.edu.au>

-----Original Message-----
From: s433d_only_linux@yahoo.de [mailto:s433d_only_linux@yahoo.de] 
Sent: Wednesday, 25 April 2007 6:18 PM
To: bugtraq@securityfocus.com
Subject: WordPress v2.1.3 >> remote file include~

by : www.hackeraz.ir userz , saeid...
++++++++++++++++++++++++++++++++++++
####################################################
#WordPress >> 2.1.3         Remote File Inclusion  #
####################################################
Affected Software .: WordPress >> 2.1.3            #
Download..: http://wordpress-deutschland.org       #
Risk ..............: high                          #
Date .........: 25/4/2007                          #
Found by ..........: s433d_only_linux              #
Contact ...........: s433d_only_linux@yahoo.de     #
Web .............: Www.hackerz.ir                  #
special thanx ........... Ali Jasbi my beste friend#
####################################################
Affected File:                                     #
wordpress/wp-settings.php	                         #        
wordpress/wp-includes/template-loader.php	         #
wordpress/wp-includes/theme.php	                   #
####################################################
Exploit:
wordpress/wp-settings.php?require_once=shell?
wordpress/wp-includes/template-loader.php?include=shell?
wordpress/wp-includes/theme.php?require_once=shell?
######################################################

From abrazell at b5media.com  Thu Apr 26 01:55:54 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Thu Apr 26 01:58:21 2007
Subject: [wp-hackers] FW: [BugTraq] WordPress v2.1.3 >> remote file
	include~
In-Reply-To: <00a001c787a3$663978d0$32ac6a70$@bennetts@une.edu.au>
References: <00a001c787a3$663978d0$32ac6a70$@bennetts@une.edu.au>
Message-ID: <E8F29DE6-E5AA-4E44-A945-17B493820805@b5media.com>

Perhaps I'm missing something here, but I can't duplicate on 2.1.3 or  
trunk...
--
Aaron Brazell
Director of Technology, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor




On Apr 25, 2007, at 9:37 PM, Ross M. W. Bennetts wrote:

> -----Original Message-----
> From: s433d_only_linux@yahoo.de [mailto:s433d_only_linux@yahoo.de]
> Sent: Wednesday, 25 April 2007 6:18 PM
> To: bugtraq@securityfocus.com
> Subject: WordPress v2.1.3 >> remote file include~
>
> by : www.hackeraz.ir userz , saeid...
> ++++++++++++++++++++++++++++++++++++
> ####################################################
> #WordPress >> 2.1.3         Remote File Inclusion  #
> ####################################################
> Affected Software .: WordPress >> 2.1.3            #
> Download..: http://wordpress-deutschland.org       #
> Risk ..............: high                          #
> Date .........: 25/4/2007                          #
> Found by ..........: s433d_only_linux              #
> Contact ...........: s433d_only_linux@yahoo.de     #
> Web .............: Www.hackerz.ir                  #
> special thanx ........... Ali Jasbi my beste friend#
> ####################################################
> Affected File:                                     #
> wordpress/wp-settings.php	                         #
> wordpress/wp-includes/template-loader.php	         #
> wordpress/wp-includes/theme.php	                   #
> ####################################################
> Exploit:
> wordpress/wp-settings.php?require_once=shell?
> wordpress/wp-includes/template-loader.php?include=shell?
> wordpress/wp-includes/theme.php?require_once=shell?
> ######################################################
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chris at doesnthaveone.com  Thu Apr 26 02:01:53 2007
From: chris at doesnthaveone.com (Chris Meller)
Date: Thu Apr 26 02:06:16 2007
Subject: [wp-hackers] FW: [BugTraq] WordPress v2.1.3 >> remote file
	include~
In-Reply-To: <E8F29DE6-E5AA-4E44-A945-17B493820805@b5media.com>
References: <00a001c787a3$663978d0$32ac6a70$@bennetts@une.edu.au>
	<E8F29DE6-E5AA-4E44-A945-17B493820805@b5media.com>
Message-ID: <E6A03CDC-493D-42C6-9B57-9DB6B54988CA@doesnthaveone.com>

Yeah, I don't really see what's supposed to happen here either...


On Apr 25, 2007, at 9:55 PM, Aaron Brazell wrote:

> Perhaps I'm missing something here, but I can't duplicate on 2.1.3  
> or trunk...
> --
> Aaron Brazell
> Director of Technology, b5media
> "A Global New Media Company"
>
> web:: www.b5media.com, www.technosailor.com
> phone:: 410-608-6620
> skype:: technosailor
>
>
>
>
> On Apr 25, 2007, at 9:37 PM, Ross M. W. Bennetts wrote:
>
>> -----Original Message-----
>> From: s433d_only_linux@yahoo.de [mailto:s433d_only_linux@yahoo.de]
>> Sent: Wednesday, 25 April 2007 6:18 PM
>> To: bugtraq@securityfocus.com
>> Subject: WordPress v2.1.3 >> remote file include~
>>
>> by : www.hackeraz.ir userz , saeid...
>> ++++++++++++++++++++++++++++++++++++
>> ####################################################
>> #WordPress >> 2.1.3         Remote File Inclusion  #
>> ####################################################
>> Affected Software .: WordPress >> 2.1.3            #
>> Download..: http://wordpress-deutschland.org       #
>> Risk ..............: high                          #
>> Date .........: 25/4/2007                          #
>> Found by ..........: s433d_only_linux              #
>> Contact ...........: s433d_only_linux@yahoo.de     #
>> Web .............: Www.hackerz.ir                  #
>> special thanx ........... Ali Jasbi my beste friend#
>> ####################################################
>> Affected File:                                     #
>> wordpress/wp-settings.php	                         #
>> wordpress/wp-includes/template-loader.php	         #
>> wordpress/wp-includes/theme.php	                   #
>> ####################################################
>> Exploit:
>> wordpress/wp-settings.php?require_once=shell?
>> wordpress/wp-includes/template-loader.php?include=shell?
>> wordpress/wp-includes/theme.php?require_once=shell?
>> ######################################################
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From robin.adr at gmail.com  Thu Apr 26 02:14:36 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Thu Apr 26 02:14:41 2007
Subject: [wp-hackers] FW: [BugTraq] WordPress v2.1.3 >> remote file
	include~
In-Reply-To: <E6A03CDC-493D-42C6-9B57-9DB6B54988CA@doesnthaveone.com>
References: <E8F29DE6-E5AA-4E44-A945-17B493820805@b5media.com>
	<E6A03CDC-493D-42C6-9B57-9DB6B54988CA@doesnthaveone.com>
Message-ID: <d135ca9c0704251914l4fa3dad7n35e4b248c28a2663@mail.gmail.com>

I believe this report is not legitimate. I can't reproduce, nor can I find
any code that might actually do what the bug report is suggesting.

On 4/25/07, Chris Meller <chris@doesnthaveone.com> wrote:
>
> Yeah, I don't really see what's supposed to happen here either...
>
>
> On Apr 25, 2007, at 9:55 PM, Aaron Brazell wrote:
>
> > Perhaps I'm missing something here, but I can't duplicate on 2.1.3
> > or trunk...
> > --
> > Aaron Brazell
> > Director of Technology, b5media
> > "A Global New Media Company"
> >
> > web:: www.b5media.com, www.technosailor.com
> > phone:: 410-608-6620
> > skype:: technosailor
> >
> >
> >
> >
> > On Apr 25, 2007, at 9:37 PM, Ross M. W. Bennetts wrote:
> >
> >> -----Original Message-----
> >> From: s433d_only_linux@yahoo.de [mailto:s433d_only_linux@yahoo.de]
> >> Sent: Wednesday, 25 April 2007 6:18 PM
> >> To: bugtraq@securityfocus.com
> >> Subject: WordPress v2.1.3 >> remote file include~
> >>
> >> by : www.hackeraz.ir userz , saeid...
> >> ++++++++++++++++++++++++++++++++++++
> >> ####################################################
> >> #WordPress >> 2.1.3         Remote File Inclusion  #
> >> ####################################################
> >> Affected Software .: WordPress >> 2.1.3            #
> >> Download..: http://wordpress-deutschland.org       #
> >> Risk ..............: high                          #
> >> Date .........: 25/4/2007                          #
> >> Found by ..........: s433d_only_linux              #
> >> Contact ...........: s433d_only_linux@yahoo.de     #
> >> Web .............: Www.hackerz.ir                  #
> >> special thanx ........... Ali Jasbi my beste friend#
> >> ####################################################
> >> Affected File:                                     #
> >> wordpress/wp-settings.php                             #
> >> wordpress/wp-includes/template-loader.php             #
> >> wordpress/wp-includes/theme.php                         #
> >> ####################################################
> >> Exploit:
> >> wordpress/wp-settings.php?require_once=shell?
> >> wordpress/wp-includes/template-loader.php?include=shell?
> >> wordpress/wp-includes/theme.php?require_once=shell?
> >> ######################################################
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From computerguru at neosmart.net  Thu Apr 26 07:57:57 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Thu Apr 26 07:58:49 2007
Subject: [wp-hackers] FW: [BugTraq] WordPress v2.1.3 >> remote
	file	include~
In-Reply-To: <d135ca9c0704251914l4fa3dad7n35e4b248c28a2663@mail.gmail.com>
References: <E8F29DE6-E5AA-4E44-A945-17B493820805@b5media.com>	<E6A03CDC-493D-42C6-9B57-9DB6B54988CA@doesnthaveone.com>
	<d135ca9c0704251914l4fa3dad7n35e4b248c28a2663@mail.gmail.com>
Message-ID: <46305B85.1040408@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Robin Adrianse wrote:
> I believe this report is not legitimate. I can't reproduce, nor can I find
> any code that might actually do what the bug report is suggesting.

Same here.
Nor in WP 2.1.0

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGMFuF3SICh4XKUt0RAs5EAJ43ePvQOTaX/GvW2QMjlyXseMNT0gCgoGri
/IAJ/m39gMdKh8F2wTVs63M=
=ZXdC
-----END PGP SIGNATURE-----
From wordpress at dd32.id.au  Thu Apr 26 08:12:08 2007
From: wordpress at dd32.id.au (DD32)
Date: Thu Apr 26 08:11:22 2007
Subject: [wp-hackers] FW: [BugTraq] WordPress v2.1.3 >> remote
	file	include~
In-Reply-To: <46305B85.1040408@NeoSmart.net>
References: <E8F29DE6-E5AA-4E44-A945-17B493820805@b5media.com>
	<E6A03CDC-493D-42C6-9B57-9DB6B54988CA@doesnthaveone.com>
	<d135ca9c0704251914l4fa3dad7n35e4b248c28a2663@mail.gmail.com>
	<46305B85.1040408@NeoSmart.net>
Message-ID: <op.trds2idpk6w4mc@dd32.no-ip.com>

I havnt checked personally, But its not refering to something in the  
Deutch version is it?
> Download..: http://wordpress-deutschland.org

-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From cfanyc at gmail.com  Thu Apr 26 12:16:53 2007
From: cfanyc at gmail.com (cFA)
Date: Thu Apr 26 12:16:59 2007
Subject: [wp-hackers] Updating my Admin Theme- Cant Track Down Embedded
	Styles
Message-ID: <aca4c4b0704260516u769c6a6fr67ffe60bcc0facd5@mail.gmail.com>

Hi All, I'm in the process of updating my admin theme:

http://codex.wordpress.org/Using_Themes/Theme_List#Admin_Themes

"Aenonfiredesigns Tweak"

Alot has changed css wise with wp 2.1 (more styles, new css files) and I'm
getting most of it down, although there are some styles in the head of the
options-general.php file that I can't seem to find where they are getting
pulled in from.

Also, if you happen to know any other non .css files that are pulling in
styles that are for the admin pages I'd be grateful for the pointers



Thanks,

-clint


-- 
iron sharpens iron
From otto at ottodestruct.com  Thu Apr 26 14:25:38 2007
From: otto at ottodestruct.com (Otto)
Date: Thu Apr 26 14:25:48 2007
Subject: [wp-hackers] Hijack "The Loop"?
In-Reply-To: <949829840704251220i3e5be589o3e3e991fc13f40db@mail.gmail.com>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
	<91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>
	<949829840704251220i3e5be589o3e3e991fc13f40db@mail.gmail.com>
Message-ID: <161617690704260725k15d82be6qb7a04e929ad9d141@mail.gmail.com>

The thing I think you're missing is an understanding of the MySql LIMIT clause.

SELECT * FROM your_table LIMIT 5, 10

That will select 10 entries from "your_table", skipping the first 5 of
them. So you will get entries 6,7,8,9,10,11,12,13,14, and 15,
basically.

This is how Wordpress does the post loops, more or less. Each "page"
has X entries. Page 1 starts with entry 0. Page 2 starts with entry
number X. Page 3 starts with entry 2X. And so on.

So your "profile" page could be the same as your normal query (more or
less), but with a LIMIT of X,1, where X is the number of that person
in the result set (0-indexed). To get the next guy, you run the same
query with X+1.

I cannot tell you specifically how to apply this to your application,
but the gist of it is that Wordpress does not really retain the query
from page to page. It builds the same query that it did before, but
with new variables for the LIMIT clause.



On 4/25/07, Lorin Rivers <lrivers@gmail.com> wrote:
> Paul is my hero, he got me to this point.
>
> Take a look at my follow-up, though.
>
> On 4/25/07, Paul Menard <codehooligans@codehooligans.com> wrote:
> > No. You really don't want to do that. I can answer this because well
> > I know what you are working on.
> >
> > For example on the custom search result page. If the your secret
> > 'alum_search' parameter is present you are dropping into your custom
> > SQL query which hits you alumni table and searched for matching
> > records. the result of this query is a standard mysql array (see my
> > example below). If you don't have the secret 'alum_search parameter
> > then you default to using the WP Loop to display any Post/Page items.
> > You really can't hijack the loop since your table columns don't
> > really apply to WP functions like the_title(), the_content(), etc.
> >
> > For your custom query you just need to make your own loop and display
> > the row information from your alumni contact table Something like the
> > following. This is straight from the PHP MySQL manual.
> >
> > $query = "SELECT..."; // your custom quuery
> > $result = mysql_query($query);
> > while ($row = mysql_fetch_assoc($result))
> > {
> >      echo $row['firstname'];
> >      echo $row['lastname'];
> >      echo $row['address'];
> >      echo $row['age'];
> > }
> > mysql_free_result($result);
> >
> > P-
> >
> >
> > On Apr 25, 2007, at 1:22 PM, Lorin Rivers wrote:
> >
> > > Here's what I'm doing--I've got a custom table and some page
> > > template-fu to display data that is not "posts". WP is so post-centric
> > > that a lot of stuff doesn't work if the content is not in "the loop".
> > >
> > > Is it possible to make my custom PHP ACT like The Loop? And if so,
> > > how?
> > >
> > > Thanks!
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From otto at ottodestruct.com  Thu Apr 26 14:41:05 2007
From: otto at ottodestruct.com (Otto)
Date: Thu Apr 26 14:41:11 2007
Subject: [wp-hackers] FW: [BugTraq] WordPress v2.1.3 >> remote file
	include~
In-Reply-To: <op.trds2idpk6w4mc@dd32.no-ip.com>
References: <E8F29DE6-E5AA-4E44-A945-17B493820805@b5media.com>
	<E6A03CDC-493D-42C6-9B57-9DB6B54988CA@doesnthaveone.com>
	<d135ca9c0704251914l4fa3dad7n35e4b248c28a2663@mail.gmail.com>
	<46305B85.1040408@NeoSmart.net> <op.trds2idpk6w4mc@dd32.no-ip.com>
Message-ID: <161617690704260741u27ff85e3we5d52120474cb3cc@mail.gmail.com>

Nope, I downloaded the DE version from there and there's no real
differences in the code.

This same guy also posted two other things to BugTraq for b2evolution
and VirtuaNews pro which are similar in nature and similarly
nonsensical. I have a feeling that he doesn't understand PHP.

http://www.securityfocus.com/archive/1/466886/30/0/threaded
http://www.securityfocus.com/archive/1/466907/30/0/threaded

Original Wordpress post:
http://www.securityfocus.com/archive/1/466840/30/0/threaded


On 4/26/07, DD32 <wordpress@dd32.id.au> wrote:
> I havnt checked personally, But its not refering to something in the
> Deutch version is it?
> > Download..: http://wordpress-deutschland.org
>
> --
> Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From otto at ottodestruct.com  Thu Apr 26 14:42:51 2007
From: otto at ottodestruct.com (Otto)
Date: Thu Apr 26 14:43:02 2007
Subject: [wp-hackers] FW: [BugTraq] WordPress v2.1.3 >> remote file
	include~
In-Reply-To: <161617690704260741u27ff85e3we5d52120474cb3cc@mail.gmail.com>
References: <E8F29DE6-E5AA-4E44-A945-17B493820805@b5media.com>
	<E6A03CDC-493D-42C6-9B57-9DB6B54988CA@doesnthaveone.com>
	<d135ca9c0704251914l4fa3dad7n35e4b248c28a2663@mail.gmail.com>
	<46305B85.1040408@NeoSmart.net> <op.trds2idpk6w4mc@dd32.no-ip.com>
	<161617690704260741u27ff85e3we5d52120474cb3cc@mail.gmail.com>
Message-ID: <161617690704260742u6046e35el990d173dd0b00088@mail.gmail.com>

Haha.. He also posted one for gallery and dcp-portal.

http://www.securityfocus.com/archive/1/466783/30/30/threaded
http://www.securityfocus.com/archive/1/466749/30/30/threaded

And somebody else has already called him out on the gallery one:
http://www.securityfocus.com/archive/1/466761/30/30/threaded

Nothing to see here.


On 4/26/07, Otto <otto@ottodestruct.com> wrote:
> Nope, I downloaded the DE version from there and there's no real
> differences in the code.
>
> This same guy also posted two other things to BugTraq for b2evolution
> and VirtuaNews pro which are similar in nature and similarly
> nonsensical. I have a feeling that he doesn't understand PHP.
>
> http://www.securityfocus.com/archive/1/466886/30/0/threaded
> http://www.securityfocus.com/archive/1/466907/30/0/threaded
>
> Original Wordpress post:
> http://www.securityfocus.com/archive/1/466840/30/0/threaded
>
>
> On 4/26/07, DD32 <wordpress@dd32.id.au> wrote:
> > I havnt checked personally, But its not refering to something in the
> > Deutch version is it?
> > > Download..: http://wordpress-deutschland.org
> >
> > --
> > Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
From lrivers at gmail.com  Fri Apr 27 01:50:52 2007
From: lrivers at gmail.com (Lorin Rivers)
Date: Fri Apr 27 01:50:57 2007
Subject: [wp-hackers] Hijack "The Loop"?
In-Reply-To: <161617690704260725k15d82be6qb7a04e929ad9d141@mail.gmail.com>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
	<91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>
	<949829840704251220i3e5be589o3e3e991fc13f40db@mail.gmail.com>
	<161617690704260725k15d82be6qb7a04e929ad9d141@mail.gmail.com>
Message-ID: <949829840704261850t7d282102n15c96aded22670f4@mail.gmail.com>

OK, that's good to know. Can you tell me how to retain/access a query so
that I can apply LIMIT to it and get the next item?

On 4/26/07, Otto <otto@ottodestruct.com> wrote:
>
> The thing I think you're missing is an understanding of the MySql LIMIT
> clause.
>
> SELECT * FROM your_table LIMIT 5, 10
>
> That will select 10 entries from "your_table", skipping the first 5 of
> them. So you will get entries 6,7,8,9,10,11,12,13,14, and 15,
> basically.
>
> This is how Wordpress does the post loops, more or less. Each "page"
> has X entries. Page 1 starts with entry 0. Page 2 starts with entry
> number X. Page 3 starts with entry 2X. And so on.
>
> So your "profile" page could be the same as your normal query (more or
> less), but with a LIMIT of X,1, where X is the number of that person
> in the result set (0-indexed). To get the next guy, you run the same
> query with X+1.
>
> I cannot tell you specifically how to apply this to your application,
> but the gist of it is that Wordpress does not really retain the query
> from page to page. It builds the same query that it did before, but
> with new variables for the LIMIT clause.
>
>
>
> On 4/25/07, Lorin Rivers <lrivers@gmail.com> wrote:
> > Paul is my hero, he got me to this point.
> >
> > Take a look at my follow-up, though.
> >
> > On 4/25/07, Paul Menard <codehooligans@codehooligans.com> wrote:
> > > No. You really don't want to do that. I can answer this because well
> > > I know what you are working on.
> > >
> > > For example on the custom search result page. If the your secret
> > > 'alum_search' parameter is present you are dropping into your custom
> > > SQL query which hits you alumni table and searched for matching
> > > records. the result of this query is a standard mysql array (see my
> > > example below). If you don't have the secret 'alum_search parameter
> > > then you default to using the WP Loop to display any Post/Page items.
> > > You really can't hijack the loop since your table columns don't
> > > really apply to WP functions like the_title(), the_content(), etc.
> > >
> > > For your custom query you just need to make your own loop and display
> > > the row information from your alumni contact table Something like the
> > > following. This is straight from the PHP MySQL manual.
> > >
> > > $query = "SELECT..."; // your custom quuery
> > > $result = mysql_query($query);
> > > while ($row = mysql_fetch_assoc($result))
> > > {
> > >      echo $row['firstname'];
> > >      echo $row['lastname'];
> > >      echo $row['address'];
> > >      echo $row['age'];
> > > }
> > > mysql_free_result($result);
> > >
> > > P-
> > >
> > >
> > > On Apr 25, 2007, at 1:22 PM, Lorin Rivers wrote:
> > >
> > > > Here's what I'm doing--I've got a custom table and some page
> > > > template-fu to display data that is not "posts". WP is so
> post-centric
> > > > that a lot of stuff doesn't work if the content is not in "the
> loop".
> > > >
> > > > Is it possible to make my custom PHP ACT like The Loop? And if so,
> > > > how?
> > > >
> > > > Thanks!
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers@lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From computerguru at neosmart.net  Fri Apr 27 06:35:23 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Fri Apr 27 06:35:36 2007
Subject: [wp-hackers] Hijack "The Loop"?
In-Reply-To: <949829840704261850t7d282102n15c96aded22670f4@mail.gmail.com>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>	<91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>	<949829840704251220i3e5be589o3e3e991fc13f40db@mail.gmail.com>	<161617690704260725k15d82be6qb7a04e929ad9d141@mail.gmail.com>
	<949829840704261850t7d282102n15c96aded22670f4@mail.gmail.com>
Message-ID: <463199AB.5080500@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Lorin Rivers wrote:
> OK, that's good to know. Can you tell me how to retain/access a query so
> that I can apply LIMIT to it and get the next item?

Did you check out the "Custom Queries" codex?
http://codex.wordpress.org/Custom_Queries


- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGMZmr3SICh4XKUt0RAjCaAJ41udyUtp/sq5KV+Fk6xZWn8kQ2IwCdEBiZ
rpCW3Tgnglm4OjTW7EZT+rM=
=61B6
-----END PGP SIGNATURE-----
From computerguru at neosmart.net  Fri Apr 27 07:54:01 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Fri Apr 27 07:54:29 2007
Subject: [wp-hackers] Activate Action not Working?
Message-ID: <4631AC19.8060206@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I'm in the latest trunk, and I can't seem to get add_action(activate_*)
to work properly....

/////////////////////////////////////////////
class DonationTracker() {
	function DonationTracke() {
		add_action("activate_DonationTracker.php", "self::init_database");
//Tried lowercase too
	}
	function init_database(){
		...
	}
}

$DonationTracker =& new DonationTracker();
/////////////////////////////////////////////

Calling
self::init_database();

by itself in the constructor works just fine.
I tried changing the action to activate_donationtracker.php and also
tried changing the function from self::init_database to
DonationTracker::init_database and this->init_database() to no avail.

Any clues?

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGMawY3SICh4XKUt0RAvE8AJ9r5OA5opGIcx5njYbraVi9hEVZGwCfddhB
TPbDS4XLTRbZUyVFLzmmUDA=
=HgY/
-----END PGP SIGNATURE-----
From wordpress at dd32.id.au  Fri Apr 27 08:05:12 2007
From: wordpress at dd32.id.au (DD32)
Date: Fri Apr 27 08:04:47 2007
Subject: [wp-hackers] Activate Action not Working?
In-Reply-To: <4631AC19.8060206@NeoSmart.net>
References: <4631AC19.8060206@NeoSmart.net>
Message-ID: <op.trfneyc3k6w4mc@dd32.no-ip.com>

remember its being passed as a string, not a reference.  
"self::init_database" will be to call the function init_database within  
the class that the plugin is activated in, "self" will no longer refer to  
the object it did when you added the action.
I think the syntax you'll want is:
add_action('activate_DonationTracker.php',  
array('DonationTracker','init_database') );

On Fri, 27 Apr 2007 17:54:01 +1000, Computer Guru  
<computerguru@neosmart.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> I'm in the latest trunk, and I can't seem to get add_action(activate_*)
> to work properly....
>
> /////////////////////////////////////////////
> class DonationTracker() {
> 	function DonationTracke() {
> 		add_action("activate_DonationTracker.php", "self::init_database");
> //Tried lowercase too
> 	}
> 	function init_database(){
> 		...
> 	}
> }
>
> $DonationTracker =& new DonationTracker();
> /////////////////////////////////////////////
>
> Calling
> self::init_database();
>
> by itself in the constructor works just fine.
> I tried changing the action to activate_donationtracker.php and also
> tried changing the function from self::init_database to
> DonationTracker::init_database and this->init_database() to no avail.
>
> Any clues?
>
> - --
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.6 (GNU/Linux)
>
> iD8DBQFGMawY3SICh4XKUt0RAvE8AJ9r5OA5opGIcx5njYbraVi9hEVZGwCfddhB
> TPbDS4XLTRbZUyVFLzmmUDA=
> =HgY/
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/
From computerguru at neosmart.net  Fri Apr 27 08:17:18 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Fri Apr 27 08:17:41 2007
Subject: [wp-hackers] Activate Action not Working?
In-Reply-To: <op.trfneyc3k6w4mc@dd32.no-ip.com>
References: <4631AC19.8060206@NeoSmart.net> <op.trfneyc3k6w4mc@dd32.no-ip.com>
Message-ID: <4631B18E.10801@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

DD32 wrote:
> remember its being passed as a string, not a reference.
> "self::init_database" will be to call the function init_database within
> the class that the plugin is activated in, "self" will no longer refer
> to the object it did when you added the action.
> I think the syntax you'll want is:
> add_action('activate_DonationTracker.php',
> array('DonationTracker','init_database') );
> 

Awesome!
Thanks :)

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGMbGN3SICh4XKUt0RAq3IAKCGGuz1QDwSjvDWbzsjgpJCLMSXfwCgmuw0
SxIN0iS4BITGFzf3MKf3URM=
=SDDL
-----END PGP SIGNATURE-----
From chris.hearn01 at ntlworld.com  Fri Apr 27 08:51:43 2007
From: chris.hearn01 at ntlworld.com (Chris)
Date: Fri Apr 27 08:51:53 2007
Subject: [wp-hackers] Codex documentation - bad layout error
In-Reply-To: <463199AB.5080500@NeoSmart.net>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>	<91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>	<949829840704251220i3e5be589o3e3e991fc13f40db@mail.gmail.com>	<161617690704260725k15d82be6qb7a04e929ad9d141@mail.gmail.com>	<949829840704261850t7d282102n15c96aded22670f4@mail.gmail.com>
	<463199AB.5080500@NeoSmart.net>
Message-ID: <4631B99F.4090901@ntlworld.com>

Hi there,
(Apologies if this is the wrong place to notify, please someone pass it 
to the right person!)
The documentation at http://codex.wordpress.org/Main_Page etc. has quite 
a serious layout problem when viewed in IE6.
This has been there for some weeks - (I know Firefox is ok, but a lot of 
people use IE6)

The basic fault is that the bulleted list of links starts at the left 
hand edge, overwriting the "DOCUMENTATION" list.

This also occurs on several other pages,

The W3C validator gives this reply on http://codex.wordpress.org/Main_Page:

Below are the results of checking this document for XML well-formedness 
<http://www.w3.org/TR/REC-xml#sec-conformance> and validity.

   1. Error /Line 274 column 5/: end tag for element "div" which is not
      open.

      |</div*>* <!-- / sidebar -->|


Best Regards
Chris



From otto at ottodestruct.com  Fri Apr 27 13:57:54 2007
From: otto at ottodestruct.com (Otto)
Date: Fri Apr 27 13:58:01 2007
Subject: [wp-hackers] Hijack "The Loop"?
In-Reply-To: <949829840704261850t7d282102n15c96aded22670f4@mail.gmail.com>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
	<91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>
	<949829840704251220i3e5be589o3e3e991fc13f40db@mail.gmail.com>
	<161617690704260725k15d82be6qb7a04e929ad9d141@mail.gmail.com>
	<949829840704261850t7d282102n15c96aded22670f4@mail.gmail.com>
Message-ID: <161617690704270657w2c7c2e9q84b0ab0d7991d818@mail.gmail.com>

I think you're missing the point. You're not "retaining access" to
anything. You build and actually run the query a second time.

This gives you the first person in your list of people:
SELECT user_id, last_name, maiden, first_name, nickname, suffix FROM
$wpdb->alumni WHERE class_year = '$class_year' ORDER BY $order LIMIT
0,1

This gives you the second:
SELECT user_id, last_name, maiden, first_name, nickname, suffix FROM
$wpdb->alumni WHERE class_year = '$class_year' ORDER BY $order LIMIT
1,1

This gives you the third:
SELECT user_id, last_name, maiden, first_name, nickname, suffix FROM
$wpdb->alumni WHERE class_year = '$class_year' ORDER BY $order LIMIT
2,1

You're not "retaining" anything. When they hit the next button, you
actually run the query again for the next person that you want. You
just up the number in the limit to get the next user.



On 4/26/07, Lorin Rivers <lrivers@gmail.com> wrote:
> OK, that's good to know. Can you tell me how to retain/access a query so
> that I can apply LIMIT to it and get the next item?
>
> On 4/26/07, Otto <otto@ottodestruct.com> wrote:
> >
> > The thing I think you're missing is an understanding of the MySql LIMIT
> > clause.
> >
> > SELECT * FROM your_table LIMIT 5, 10
> >
> > That will select 10 entries from "your_table", skipping the first 5 of
> > them. So you will get entries 6,7,8,9,10,11,12,13,14, and 15,
> > basically.
> >
> > This is how Wordpress does the post loops, more or less. Each "page"
> > has X entries. Page 1 starts with entry 0. Page 2 starts with entry
> > number X. Page 3 starts with entry 2X. And so on.
> >
> > So your "profile" page could be the same as your normal query (more or
> > less), but with a LIMIT of X,1, where X is the number of that person
> > in the result set (0-indexed). To get the next guy, you run the same
> > query with X+1.
> >
> > I cannot tell you specifically how to apply this to your application,
> > but the gist of it is that Wordpress does not really retain the query
> > from page to page. It builds the same query that it did before, but
> > with new variables for the LIMIT clause.
> >
> >
> >
> > On 4/25/07, Lorin Rivers <lrivers@gmail.com> wrote:
> > > Paul is my hero, he got me to this point.
> > >
> > > Take a look at my follow-up, though.
> > >
> > > On 4/25/07, Paul Menard <codehooligans@codehooligans.com> wrote:
> > > > No. You really don't want to do that. I can answer this because well
> > > > I know what you are working on.
> > > >
> > > > For example on the custom search result page. If the your secret
> > > > 'alum_search' parameter is present you are dropping into your custom
> > > > SQL query which hits you alumni table and searched for matching
> > > > records. the result of this query is a standard mysql array (see my
> > > > example below). If you don't have the secret 'alum_search parameter
> > > > then you default to using the WP Loop to display any Post/Page items.
> > > > You really can't hijack the loop since your table columns don't
> > > > really apply to WP functions like the_title(), the_content(), etc.
> > > >
> > > > For your custom query you just need to make your own loop and display
> > > > the row information from your alumni contact table Something like the
> > > > following. This is straight from the PHP MySQL manual.
> > > >
> > > > $query = "SELECT..."; // your custom quuery
> > > > $result = mysql_query($query);
> > > > while ($row = mysql_fetch_assoc($result))
> > > > {
> > > >      echo $row['firstname'];
> > > >      echo $row['lastname'];
> > > >      echo $row['address'];
> > > >      echo $row['age'];
> > > > }
> > > > mysql_free_result($result);
> > > >
> > > > P-
> > > >
> > > >
> > > > On Apr 25, 2007, at 1:22 PM, Lorin Rivers wrote:
> > > >
> > > > > Here's what I'm doing--I've got a custom table and some page
> > > > > template-fu to display data that is not "posts". WP is so
> > post-centric
> > > > > that a lot of stuff doesn't work if the content is not in "the
> > loop".
> > > > >
> > > > > Is it possible to make my custom PHP ACT like The Loop? And if so,
> > > > > how?
> > > > >
> > > > > Thanks!
> > > > > _______________________________________________
> > > > > wp-hackers mailing list
> > > > > wp-hackers@lists.automattic.com
> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > >
> > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers@lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From robin.adr at gmail.com  Fri Apr 27 16:07:01 2007
From: robin.adr at gmail.com (Robin Adrianse)
Date: Fri Apr 27 16:07:05 2007
Subject: [wp-hackers] Codex documentation - bad layout error
In-Reply-To: <4631B99F.4090901@ntlworld.com>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
	<91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>
	<949829840704251220i3e5be589o3e3e991fc13f40db@mail.gmail.com>
	<161617690704260725k15d82be6qb7a04e929ad9d141@mail.gmail.com>
	<949829840704261850t7d282102n15c96aded22670f4@mail.gmail.com>
	<463199AB.5080500@NeoSmart.net> <4631B99F.4090901@ntlworld.com>
Message-ID: <d135ca9c0704270907k508ab995ua999ad4c183ada73@mail.gmail.com>

The main page of the Codex has been mangled in different ways for a while
now.

On 4/27/07, Chris <chris.hearn01@ntlworld.com> wrote:
>
> Hi there,
> (Apologies if this is the wrong place to notify, please someone pass it
> to the right person!)
> The documentation at http://codex.wordpress.org/Main_Page etc. has quite
> a serious layout problem when viewed in IE6.
> This has been there for some weeks - (I know Firefox is ok, but a lot of
> people use IE6)
>
> The basic fault is that the bulleted list of links starts at the left
> hand edge, overwriting the "DOCUMENTATION" list.
>
> This also occurs on several other pages,
>
> The W3C validator gives this reply on http://codex.wordpress.org/Main_Page
> :
>
> Below are the results of checking this document for XML well-formedness
> <http://www.w3.org/TR/REC-xml#sec-conformance> and validity.
>
>    1. Error /Line 274 column 5/: end tag for element "div" which is not
>       open.
>
>       |</div*>* <!-- / sidebar -->|
>
>
> Best Regards
> Chris
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From will at willnorris.com  Fri Apr 27 17:44:36 2007
From: will at willnorris.com (Will Norris)
Date: Fri Apr 27 17:44:44 2007
Subject: [wp-hackers] edit comment form
Message-ID: <E634EA52-E8E9-4E9E-AAB5-74573C6054FE@willnorris.com>

I maintain a port of Alan Castonguay's openid plugin at <http:// 
wordpress.org/extend/plugins/openid/> and was recently made aware of  
a problem when using the plugin with PHP 5.2.  Part of what the  
plugin does is to modify the comment form to include an additional  
input field for a user's OpenID.  To do this, it uses output  
buffering to capture the form, then some regex magic to make the  
necessary changes.  The problem is that it appears the callback  
method specified in ob_start() no longer has access to global  
variables in recent versions of PHP; this is not considered a bug  
<http://bugs.php.net/bug.php?id=40104>.  So I'm now looking for  
suggestions for how one might modify the comment form.

One possibility would be to attempt a new filter, but I'm not  
completely sure that would work.  Even if it did, this whole thing  
feels kinda weird... it feels much cleaner to have the user modify  
their theme directly, as most plugins require.  I guess another  
option would be to push it to the client side and modify the DOM with  
some javascript... still not ideal, but a little cleaner.  Does  
anyone have other ideas on modifying the comment form?  Alan, I'd  
love to hear your thoughts, since you can definitely shed some light  
on alternatives you might have considered when you first wrote this.

Thanks,
will
From lrivers at gmail.com  Fri Apr 27 17:59:28 2007
From: lrivers at gmail.com (Lorin Rivers)
Date: Fri Apr 27 17:59:34 2007
Subject: [wp-hackers] Hijack "The Loop"?
In-Reply-To: <161617690704270657w2c7c2e9q84b0ab0d7991d818@mail.gmail.com>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
	<91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>
	<949829840704251220i3e5be589o3e3e991fc13f40db@mail.gmail.com>
	<161617690704260725k15d82be6qb7a04e929ad9d141@mail.gmail.com>
	<949829840704261850t7d282102n15c96aded22670f4@mail.gmail.com>
	<161617690704270657w2c7c2e9q84b0ab0d7991d818@mail.gmail.com>
Message-ID: <949829840704271059t1ba8225fn6b0f381dc343ba95@mail.gmail.com>

OK, that makes sense. I've never used that SQL construction before, thanks.

On 4/27/07, Otto <otto@ottodestruct.com> wrote:
> I think you're missing the point. You're not "retaining access" to
> anything. You build and actually run the query a second time.
>
> This gives you the first person in your list of people:
> SELECT user_id, last_name, maiden, first_name, nickname, suffix FROM
> $wpdb->alumni WHERE class_year = '$class_year' ORDER BY $order LIMIT
> 0,1
>
> This gives you the second:
> SELECT user_id, last_name, maiden, first_name, nickname, suffix FROM
> $wpdb->alumni WHERE class_year = '$class_year' ORDER BY $order LIMIT
> 1,1
>
> This gives you the third:
> SELECT user_id, last_name, maiden, first_name, nickname, suffix FROM
> $wpdb->alumni WHERE class_year = '$class_year' ORDER BY $order LIMIT
> 2,1
>
> You're not "retaining" anything. When they hit the next button, you
> actually run the query again for the next person that you want. You
> just up the number in the limit to get the next user.
>
>
>
> On 4/26/07, Lorin Rivers <lrivers@gmail.com> wrote:
> > OK, that's good to know. Can you tell me how to retain/access a query so
> > that I can apply LIMIT to it and get the next item?
> >
> > On 4/26/07, Otto <otto@ottodestruct.com> wrote:
> > >
> > > The thing I think you're missing is an understanding of the MySql LIMIT
> > > clause.
> > >
> > > SELECT * FROM your_table LIMIT 5, 10
> > >
> > > That will select 10 entries from "your_table", skipping the first 5 of
> > > them. So you will get entries 6,7,8,9,10,11,12,13,14, and 15,
> > > basically.
> > >
> > > This is how Wordpress does the post loops, more or less. Each "page"
> > > has X entries. Page 1 starts with entry 0. Page 2 starts with entry
> > > number X. Page 3 starts with entry 2X. And so on.
> > >
> > > So your "profile" page could be the same as your normal query (more or
> > > less), but with a LIMIT of X,1, where X is the number of that person
> > > in the result set (0-indexed). To get the next guy, you run the same
> > > query with X+1.
> > >
> > > I cannot tell you specifically how to apply this to your application,
> > > but the gist of it is that Wordpress does not really retain the query
> > > from page to page. It builds the same query that it did before, but
> > > with new variables for the LIMIT clause.
> > >
> > >
> > >
> > > On 4/25/07, Lorin Rivers <lrivers@gmail.com> wrote:
> > > > Paul is my hero, he got me to this point.
> > > >
> > > > Take a look at my follow-up, though.
> > > >
> > > > On 4/25/07, Paul Menard <codehooligans@codehooligans.com> wrote:
> > > > > No. You really don't want to do that. I can answer this because well
> > > > > I know what you are working on.
> > > > >
> > > > > For example on the custom search result page. If the your secret
> > > > > 'alum_search' parameter is present you are dropping into your custom
> > > > > SQL query which hits you alumni table and searched for matching
> > > > > records. the result of this query is a standard mysql array (see my
> > > > > example below). If you don't have the secret 'alum_search parameter
> > > > > then you default to using the WP Loop to display any Post/Page items.
> > > > > You really can't hijack the loop since your table columns don't
> > > > > really apply to WP functions like the_title(), the_content(), etc.
> > > > >
> > > > > For your custom query you just need to make your own loop and display
> > > > > the row information from your alumni contact table Something like the
> > > > > following. This is straight from the PHP MySQL manual.
> > > > >
> > > > > $query = "SELECT..."; // your custom quuery
> > > > > $result = mysql_query($query);
> > > > > while ($row = mysql_fetch_assoc($result))
> > > > > {
> > > > >      echo $row['firstname'];
> > > > >      echo $row['lastname'];
> > > > >      echo $row['address'];
> > > > >      echo $row['age'];
> > > > > }
> > > > > mysql_free_result($result);
> > > > >
> > > > > P-
> > > > >
> > > > >
> > > > > On Apr 25, 2007, at 1:22 PM, Lorin Rivers wrote:
> > > > >
> > > > > > Here's what I'm doing--I've got a custom table and some page
> > > > > > template-fu to display data that is not "posts". WP is so
> > > post-centric
> > > > > > that a lot of stuff doesn't work if the content is not in "the
> > > loop".
> > > > > >
> > > > > > Is it possible to make my custom PHP ACT like The Loop? And if so,
> > > > > > how?
> > > > > >
> > > > > > Thanks!
> > > > > > _______________________________________________
> > > > > > wp-hackers mailing list
> > > > > > wp-hackers@lists.automattic.com
> > > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > > >
> > > > >
> > > > > _______________________________________________
> > > > > wp-hackers mailing list
> > > > > wp-hackers@lists.automattic.com
> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers@lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From dougal at gunters.org  Fri Apr 27 19:38:00 2007
From: dougal at gunters.org (Dougal Campbell)
Date: Fri Apr 27 19:38:08 2007
Subject: [wp-hackers] edit comment form
In-Reply-To: <E634EA52-E8E9-4E9E-AAB5-74573C6054FE@willnorris.com>
References: <E634EA52-E8E9-4E9E-AAB5-74573C6054FE@willnorris.com>
Message-ID: <46325118.1060505@gunters.org>

Will Norris wrote:
> I maintain a port of Alan Castonguay's openid plugin at
> <http://wordpress.org/extend/plugins/openid/> and was recently made
> aware of a problem when using the plugin with PHP 5.2.  Part of what
> the plugin does is to modify the comment form to include an additional
> input field for a user's OpenID.  To do this, it uses output buffering
> to capture the form, then some regex magic to make the necessary
> changes.  The problem is that it appears the callback method specified
> in ob_start() no longer has access to global variables in recent
> versions of PHP; this is not considered a bug
> <http://bugs.php.net/bug.php?id=40104>.  So I'm now looking for
> suggestions for how one might modify the comment form.

Have you tried using the superglobal, $GLOBALS['myvar']?

http://us.php.net/manual/en/reserved.variables.php
http://us.php.net/manual/en/language.references.spot.php#references.global

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/

From lloydomattic at gmail.com  Fri Apr 27 20:40:52 2007
From: lloydomattic at gmail.com (Lloyd Budd)
Date: Fri Apr 27 20:41:00 2007
Subject: [wp-hackers] Codex documentation - bad layout error
In-Reply-To: <4631B99F.4090901@ntlworld.com>
References: <949829840704251122u4795f6dl7c18a4d4fa5aeba4@mail.gmail.com>
	<91EE02C1-48C1-4CF9-BDCF-9312D5CD0941@codehooligans.com>
	<949829840704251220i3e5be589o3e3e991fc13f40db@mail.gmail.com>
	<161617690704260725k15d82be6qb7a04e929ad9d141@mail.gmail.com>
	<949829840704261850t7d282102n15c96aded22670f4@mail.gmail.com>
	<463199AB.5080500@NeoSmart.net> <4631B99F.4090901@ntlworld.com>
Message-ID: <70ebb7140704271340h56b077b1t10eacbc6878e6489@mail.gmail.com>

On 4/27/07, Chris <chris.hearn01@ntlworld.com> wrote:
> Hi there,
> (Apologies if this is the wrong place to notify, please someone pass it
> to the right person!)
> The documentation at http://codex.wordpress.org/Main_Page etc. has quite
> a serious layout problem when viewed in IE6.
> This has been there for some weeks - (I know Firefox is ok, but a lot of
> people use IE6)

What you did not like my subversive switch campaign?

Seriously though, we had an illness in the family and this should now be fixed.

Thank you,
-- 
Lloyd Budd | Digital Entomologist | 250-885-1744
WordPress.com | WordPress.org | Automattic.com
From alan at verselogic.net  Fri Apr 27 22:02:01 2007
From: alan at verselogic.net (Alan J Castonguay)
Date: Fri Apr 27 22:01:01 2007
Subject: [wp-hackers] edit comment form
In-Reply-To: <E634EA52-E8E9-4E9E-AAB5-74573C6054FE@willnorris.com>
References: <E634EA52-E8E9-4E9E-AAB5-74573C6054FE@willnorris.com>
Message-ID: <463272D9.5020206@verselogic.net>

Will Norris wrote:
> One possibility would be to attempt a new filter, but I'm not 
> completely sure that would work.  Even if it did, this whole thing 
> feels kinda weird... it feels much cleaner to have the user modify 
> their theme directly, as most plugins require.  I guess another option 
> would be to push it to the client side and modify the DOM with some 
> javascript... still not ideal, but a little cleaner.  Does anyone have 
> other ideas on modifying the comment form?  Alan, I'd love to hear 
> your thoughts, since you can definitely shed some light on 
> alternatives you might have considered when you first wrote this.
The regex magic for parsing existing and adding the extra field is still 
gross, regardless of whether it's done using output buffering or some 
other filter. I'm still hoping that the ability for Wordpress to easily 
alter the form will come the same day it supports a comment-preview loop.

-- 
Alan J Castonguay
 519.567.2633

From will at willnorris.com  Fri Apr 27 22:15:44 2007
From: will at willnorris.com (Will Norris)
Date: Fri Apr 27 22:15:52 2007
Subject: [wp-hackers] edit comment form
In-Reply-To: <46325118.1060505@gunters.org>
References: <E634EA52-E8E9-4E9E-AAB5-74573C6054FE@willnorris.com>
	<46325118.1060505@gunters.org>
Message-ID: <E2BF3303-1F7B-4280-9647-9692E86A94EA@willnorris.com>


On Apr 27, 2007, at 12:38 PM, Dougal Campbell wrote:

> Will Norris wrote:
>> I maintain a port of Alan Castonguay's openid plugin at
>> <http://wordpress.org/extend/plugins/openid/> and was recently made
>> aware of a problem when using the plugin with PHP 5.2.  Part of what
>> the plugin does is to modify the comment form to include an  
>> additional
>> input field for a user's OpenID.  To do this, it uses output  
>> buffering
>> to capture the form, then some regex magic to make the necessary
>> changes.  The problem is that it appears the callback method  
>> specified
>> in ob_start() no longer has access to global variables in recent
>> versions of PHP; this is not considered a bug
>> <http://bugs.php.net/bug.php?id=40104>.  So I'm now looking for
>> suggestions for how one might modify the comment form.
>
> Have you tried using the superglobal, $GLOBALS['myvar']?
>
> http://us.php.net/manual/en/reserved.variables.php
> http://us.php.net/manual/en/ 
> language.references.spot.php#references.global

yep, everything seems to be completely wiped.  That URL for the bug  
contains some pretty simple code that demonstrates the problem, even  
with $GLOBALS.  I discovered that I could pass data into the callback  
function using $_SESSION, but was trying that only out of  
curiousity... I wouldn't even entertain the thought of using that as  
a "solution".
From false.hopes at gmail.com  Fri Apr 27 23:53:06 2007
From: false.hopes at gmail.com (Robert Deaton)
Date: Fri Apr 27 23:53:12 2007
Subject: [wp-hackers] Activate Action not Working?
In-Reply-To: <4631B18E.10801@NeoSmart.net>
References: <4631AC19.8060206@NeoSmart.net> <op.trfneyc3k6w4mc@dd32.no-ip.com>
	<4631B18E.10801@NeoSmart.net>
Message-ID: <a491f91d0704271653y5f54e4i48615e6f21249425@mail.gmail.com>

Also, may I recommend register_activation_hook and
register_deactivation_hook instead of hardcoding the plugin filename.
Works much better for people who like to change the file names but
still expect it to work.

-- 
--Robert Deaton
http://lushlab.com
From jeremy.visser at gmail.com  Sat Apr 28 00:56:10 2007
From: jeremy.visser at gmail.com (Jeremy Visser)
Date: Sat Apr 28 00:56:20 2007
Subject: [wp-hackers] edit comment form
In-Reply-To: <E634EA52-E8E9-4E9E-AAB5-74573C6054FE@willnorris.com>
References: <E634EA52-E8E9-4E9E-AAB5-74573C6054FE@willnorris.com>
Message-ID: <46329BAA.9040501@gmail.com>

Will Norris wrote:
> it feels much cleaner to have the user modify their theme
> directly, as most plugins require.

I feel this way as well. The first thing I did when I unzipped the
plugin was to rip out the code that mangles with the theme.
From wphackers at galleryembedded.com  Sat Apr 28 01:09:56 2007
From: wphackers at galleryembedded.com (ozgreg)
Date: Sat Apr 28 01:10:00 2007
Subject: [wp-hackers] Re: Activate Action not Working?
Message-ID: <1177722596.m2f.32536@www.galleryembedded.com>

I use both activate and deactivate hooks via this small piece of code.  Beware WP got some concerns around the unix style slashing etc..  (someone has an open bugtrac tricket about this)


//Activate & Deactivate Plugin Functions
$plugin_filename= str_replace&#40;'\\', '/', preg_replace&#40;'/^.*wp-content&#91;\\\\\/&#93;plugins&#91;\\\\\/&#93;/', '', __FILE__&#41;&#41;;
$file = plugin_basename&#40;$plugin_filename&#41;;
add_action&#40;'activate_' . $file, 'wpg2_pluginactivate'&#41;;
add_action&#40;'deactivate_' . $file, 'wpg2_plugindeactivate'&#41;;


Hope this helps..

------------------------
WPG2 Installation, Operation & FAQ Documentation (http://wpg2.galleryembedded.com/)




-------------------- m2f --------------------

Gallery2 Embedded Forums (http://www.galleryembedded.com/forums/)
-------------------- m2f --------------------


From abrazell at b5media.com  Sat Apr 28 04:14:27 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Sat Apr 28 04:16:55 2007
Subject: [wp-hackers] Third Party Widgets
Message-ID: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>

I have a question.

What on earth do widget developers have to do to make their widgets  
available for the new widget system? IOW, it's no secret I run trunk.  
No big deal. I ask for breakage and that's fine. As soon as widgets  
were brought into the core, all custom widgets became unavailable.  
They are active as plugins. But unavailable on the widget page  
itself. It might be okay if thats the only place they were  
unavailable because, hey, who really wants to move widgets around  
anyway, right? But they aren't displaying in the sidebar of the blog  
either. In fact, the only widgets available to me are the stock  
widgets which is relatively okay.

Again, I don't ask for a lot except I admit to asking for a broken  
blog. No problem. But what do those of us who WRITE widgets, say, for  
large blog networks with widgetized themes (:grin:) do to prepare for  
the WP 2.2 release?
--
Aaron Brazell
Director of Technology, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor




From if.website at gmail.com  Sat Apr 28 04:38:56 2007
From: if.website at gmail.com (Austin Matzko)
Date: Sat Apr 28 04:39:01 2007
Subject: [wp-hackers] edit comment form
In-Reply-To: <E634EA52-E8E9-4E9E-AAB5-74573C6054FE@willnorris.com>
References: <E634EA52-E8E9-4E9E-AAB5-74573C6054FE@willnorris.com>
Message-ID: <674b4a3b0704272138h1054008al40539fa461670a67@mail.gmail.com>

On 4/27/07, Will Norris <will@willnorris.com> wrote:
> The problem is that it appears the callback
> method specified in ob_start() no longer has access to global
> variables in recent versions of PHP; this is not considered a bug
> <http://bugs.php.net/bug.php?id=40104>.

This seems to work for me: pass the callback function to ob_start as a
method of the global object.  Here's how I modified the bug code at
http://bugs.php.net/bug.php?id=40104 to avoid the fatal error:

class foo
{
  function bar()
  {
  }
  function foo_bar($buffer)
  {
    $this->bar();
    return $buffer;
  }
}

$GLOBALS['fb'] =& new foo; // this will throw a non-fatal error
"Assigning the return value of new by reference is deprecated", but so
does a bunch of stuff in wp-settings.php

ob_start(array(&$fb,'foo_bar'));
From computerguru at neosmart.net  Sat Apr 28 05:36:42 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sat Apr 28 05:37:02 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>
Message-ID: <4632DD6A.7000602@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Aaron Brazell wrote:
> I have a question.
> 
> What on earth do widget developers have to do to make their widgets
> available for the new widget system? IOW, it's no secret I run trunk. No
> big deal. I ask for breakage and that's fine. As soon as widgets were
> brought into the core, all custom widgets became unavailable. They are
> active as plugins. But unavailable on the widget page itself. It might
> be okay if thats the only place they were unavailable because, hey, who
> really wants to move widgets around anyway, right? But they aren't
> displaying in the sidebar of the blog either. In fact, the only widgets
> available to me are the stock widgets which is relatively okay.
> 
> Again, I don't ask for a lot except I admit to asking for a broken blog.
> No problem. But what do those of us who WRITE widgets, say, for large
> blog networks with widgetized themes (:grin:) do to prepare for the WP
> 2.2 release?

I've been wondering the same thing, more or less.
Like you said: not really complaining, just wondering. A couple of days
ago, I had an error with register_widget() being redefined - so I
disabled my old widgets plugin, modified stupid widgets like "King's
Widget" & Co. that need to be in the same DIR as widgets.php, and went
to the presentation page. Till now, you can't get 3rd party widgets to
show.

I'm looking at the code:

Stock:
	register_sidebar_widget(__('Recent Comments'),
'wp_widget_recent_comments', null, 'recent-comments');
	register_widget_control(__('Recent Comments'),
'wp_widget_recent_comments_control', 320, 90, 'recent-comments');

3rd Party:
	register_sidebar_widget('Paypal Donate', 'widget_wpaypal');
	register_widget_control('Paypal Donate', 'widget_wpaypal_control', 300,
350);

Changing that second bit of code to:
	register_sidebar_widget('Paypal Donate', 'widget_wpaypal', null,
'paypal-donations');
	register_widget_control('Paypal Donate', 'widget_wpaypal_control', 300,
350, 'paypal-donations');

Fixes the problem.

Bascially, you have to suffix both function calls with a friendly
machine name or something?

I don't like it - there will be mass revolt when users find widgts no
longer work -> they're supposed to be the most easy to use stuff in WP!


- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGMt1q3SICh4XKUt0RAmPPAKC1oHWJFoPE5NcrJ0opCk/ZlwWhuACgrAt4
qM7wMZ7X5xi/fgWJ17sbqMs=
=wPD8
-----END PGP SIGNATURE-----
From ryan at boren.nu  Sat Apr 28 05:50:39 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sat Apr 28 05:50:47 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <4632DD6A.7000602@NeoSmart.net>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>
	<4632DD6A.7000602@NeoSmart.net>
Message-ID: <bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>

On 4/27/07, Computer Guru <computerguru@neosmart.net> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Aaron Brazell wrote:
> > I have a question.
> >
> > What on earth do widget developers have to do to make their widgets
> > available for the new widget system? IOW, it's no secret I run trunk. No
> > big deal. I ask for breakage and that's fine. As soon as widgets were
> > brought into the core, all custom widgets became unavailable. They are
> > active as plugins. But unavailable on the widget page itself. It might
> > be okay if thats the only place they were unavailable because, hey, who
> > really wants to move widgets around anyway, right? But they aren't
> > displaying in the sidebar of the blog either. In fact, the only widgets
> > available to me are the stock widgets which is relatively okay.
> >
> > Again, I don't ask for a lot except I admit to asking for a broken blog.
> > No problem. But what do those of us who WRITE widgets, say, for large
> > blog networks with widgetized themes (:grin:) do to prepare for the WP
> > 2.2 release?
>
> I've been wondering the same thing, more or less.
> Like you said: not really complaining, just wondering. A couple of days
> ago, I had an error with register_widget() being redefined - so I
> disabled my old widgets plugin, modified stupid widgets like "King's
> Widget" & Co. that need to be in the same DIR as widgets.php, and went
> to the presentation page. Till now, you can't get 3rd party widgets to
> show.
>
> I'm looking at the code:
>
> Stock:
>         register_sidebar_widget(__('Recent Comments'),
> 'wp_widget_recent_comments', null, 'recent-comments');
>         register_widget_control(__('Recent Comments'),
> 'wp_widget_recent_comments_control', 320, 90, 'recent-comments');
>
> 3rd Party:
>         register_sidebar_widget('Paypal Donate', 'widget_wpaypal');
>         register_widget_control('Paypal Donate', 'widget_wpaypal_control', 300,
> 350);
>
> Changing that second bit of code to:
>         register_sidebar_widget('Paypal Donate', 'widget_wpaypal', null,
> 'paypal-donations');
>         register_widget_control('Paypal Donate', 'widget_wpaypal_control', 300,
> 350, 'paypal-donations');
>
> Fixes the problem.
>
> Bascially, you have to suffix both function calls with a friendly
> machine name or something?
>
> I don't like it - there will be mass revolt when users find widgts no
> longer work -> they're supposed to be the most easy to use stuff in WP!

Sounds like a bug.  That stuff is supposed to be back compatible.

Ryan
From computerguru at neosmart.net  Sat Apr 28 06:00:39 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sat Apr 28 06:00:51 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>	<4632DD6A.7000602@NeoSmart.net>
	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
Message-ID: <4632E307.7080604@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ryan Boren wrote:
> Sounds like a bug.  That stuff is supposed to be back compatible.

Nope.

I still can't get King's widgets to work with the new framework, even
after adding the required arguments :(

But everything else is working fine.

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGMuMG3SICh4XKUt0RAj68AKCefDt0C0ZO4ztGBrpVS3zNneweBwCeKVLS
drjSE1t6LQn2w3nlj7bdaBA=
=Qm78
-----END PGP SIGNATURE-----
From computerguru at neosmart.net  Sat Apr 28 06:04:18 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sat Apr 28 06:04:30 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>	<4632DD6A.7000602@NeoSmart.net>
	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
Message-ID: <4632E3E2.3010102@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ryan Boren wrote:
 > Sounds like a bug.  That stuff is supposed to be back compatible.

One more thing I just verified: on my local server, I can modify the
settings of widgets by pressing the options image in the
presentation->widgets section.

On neosmart.net, I can't.
In Firefox or Opera, when I press the image, nothing happens. Both
browsers work fine with my local install.

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGMuPi3SICh4XKUt0RAlpxAJ0R4fL+xT1aNxopKSjniC7V2N5RQQCg1FFs
32zBSJ8EymiXDaYmj038LMg=
=mQ7b
-----END PGP SIGNATURE-----
From ryan at boren.nu  Sat Apr 28 06:12:17 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sat Apr 28 06:12:24 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>
	<4632DD6A.7000602@NeoSmart.net>
	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
Message-ID: <bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>

On 4/27/07, Ryan Boren <ryan@boren.nu> wrote:
> > Bascially, you have to suffix both function calls with a friendly
> > machine name or something?
> >
> > I don't like it - there will be mass revolt when users find widgts no
> > longer work -> they're supposed to be the most easy to use stuff in WP!
>
> Sounds like a bug.  That stuff is supposed to be back compatible.

This fixes the few third-party widgets I tested.

http://trac.wordpress.org/changeset/5338  trunk
http://trac.wordpress.org/changeset/5339 2.2

Hopefully that will stave off a revolt.

Ryan
From abrazell at b5media.com  Sat Apr 28 06:13:32 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Sat Apr 28 06:15:58 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>
	<4632DD6A.7000602@NeoSmart.net>
	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
	<bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>
Message-ID: <3BE1736B-0B84-4B05-97CD-22373174D3D5@b5media.com>

Yep. The glorious mess which is my plugin bin just reappeared with  
that revision. Great work, Ryan... I owe you a drink. You're not a  
pina colada man are you?
--
Aaron Brazell
Director of Technology, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor




On Apr 28, 2007, at 2:12 AM, Ryan Boren wrote:

> This fixes the few third-party widgets I tested.
>
> http://trac.wordpress.org/changeset/5338  trunk
> http://trac.wordpress.org/changeset/5339 2.2
>
> Hopefully that will stave off a revolt.

From ryan at boren.nu  Sat Apr 28 06:23:40 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sat Apr 28 06:23:44 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <3BE1736B-0B84-4B05-97CD-22373174D3D5@b5media.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>
	<4632DD6A.7000602@NeoSmart.net>
	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
	<bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>
	<3BE1736B-0B84-4B05-97CD-22373174D3D5@b5media.com>
Message-ID: <bb0886ed0704272323s32f71b75kcb0867c0924b21f3@mail.gmail.com>

On 4/27/07, Aaron Brazell <abrazell@b5media.com> wrote:
> Yep. The glorious mess which is my plugin bin just reappeared with
> that revision. Great work, Ryan... I owe you a drink. You're not a
> pina colada man are you?

Not so much a pina colada man, but  I do like getting caught in the rain.
And the feel of the ocean, and the taste of champagne.

Ryan
From computerguru at neosmart.net  Sat Apr 28 06:24:54 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sat Apr 28 06:25:05 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>	<4632DD6A.7000602@NeoSmart.net>	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
	<bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>
Message-ID: <4632E8B6.30604@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ryan Boren wrote:
> On 4/27/07, Ryan Boren <ryan@boren.nu> wrote:
>> > Bascially, you have to suffix both function calls with a friendly
>> > machine name or something?
>> >
>> > I don't like it - there will be mass revolt when users find widgts no
>> > longer work -> they're supposed to be the most easy to use stuff in WP!
>>
>> Sounds like a bug.  That stuff is supposed to be back compatible.
> 
> This fixes the few third-party widgets I tested.
> 
> http://trac.wordpress.org/changeset/5338  trunk
> http://trac.wordpress.org/changeset/5339 2.2
> 
> Hopefully that will stave off a revolt.
> 
> Ryan

Consider the revolt put-off for now ;)

Awesome job - everything is working again.. EXCEPT for editing the options.
Do you have any idea what that could be? I can't see anything in the
code that point to a problem there. And it _does_ work locally, so I
just don't know.

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGMui23SICh4XKUt0RApXhAJsEHzxbnUyAOyFNwlPobg5f4RkhlgCcCVv2
cq4zuP1sBCNACknzZ2qw7LM=
=4/Mo
-----END PGP SIGNATURE-----
From abrazell at b5media.com  Sat Apr 28 06:23:53 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Sat Apr 28 06:26:23 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <bb0886ed0704272323s32f71b75kcb0867c0924b21f3@mail.gmail.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>
	<4632DD6A.7000602@NeoSmart.net>
	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
	<bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>
	<3BE1736B-0B84-4B05-97CD-22373174D3D5@b5media.com>
	<bb0886ed0704272323s32f71b75kcb0867c0924b21f3@mail.gmail.com>
Message-ID: <6862DF42-847B-4599-A6E0-4C0BDC6018D8@b5media.com>

And here I thought you were this manly man that like muscle cars,  
bikes and watching monday night football. Email is so deceiving... :p

--
Aaron Brazell
Director of Technology, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor




On Apr 28, 2007, at 2:23 AM, Ryan Boren wrote:

> Not so much a pina colada man, but  I do like getting caught in the  
> rain.
> And the feel of the ocean, and the taste of champagne.

From ryan at boren.nu  Sat Apr 28 17:06:04 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sat Apr 28 17:06:10 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <4632E8B6.30604@NeoSmart.net>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>
	<4632DD6A.7000602@NeoSmart.net>
	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
	<bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>
	<4632E8B6.30604@NeoSmart.net>
Message-ID: <bb0886ed0704281006q20821c89r14072be8265b6b98@mail.gmail.com>

On 4/27/07, Computer Guru <computerguru@neosmart.net> wrote:
> Consider the revolt put-off for now ;)
>
> Awesome job - everything is working again.. EXCEPT for editing the options.
> Do you have any idea what that could be? I can't see anything in the
> code that point to a problem there. And it _does_ work locally, so I
> just don't know.

Try this out:

http://trac.wordpress.org/changeset/5341
http://trac.wordpress.org/changeset/5342

Ryan
From computerguru at neosmart.net  Sat Apr 28 17:16:38 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sat Apr 28 17:16:48 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <bb0886ed0704281006q20821c89r14072be8265b6b98@mail.gmail.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>	<4632DD6A.7000602@NeoSmart.net>	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>	<bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>	<4632E8B6.30604@NeoSmart.net>
	<bb0886ed0704281006q20821c89r14072be8265b6b98@mail.gmail.com>
Message-ID: <46338176.6090807@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ryan Boren wrote:
> On 4/27/07, Computer Guru <computerguru@neosmart.net> wrote:
>> Consider the revolt put-off for now ;)
>>
>> Awesome job - everything is working again.. EXCEPT for editing the
>> options.
>> Do you have any idea what that could be? I can't see anything in the
>> code that point to a problem there. And it _does_ work locally, so I
>> just don't know.
> 
> Try this out:
> 
> http://trac.wordpress.org/changeset/5341
> http://trac.wordpress.org/changeset/5342

No go.

Is this the alternative widgets "Sidebar Modules" thingy code by any chance?

Because I never could get the options to show with SBM on my server
though they always worked great locally.

(The old widgets.php always worked great everywhere)

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGM4F23SICh4XKUt0RAhY6AJ9dkJDuqzzRVa8p9azTR7Ts17YIkgCeOa9b
K6ZVUP2fBznsTkrcvLe5Ri4=
=vJ+b
-----END PGP SIGNATURE-----
From ryan at boren.nu  Sat Apr 28 19:21:19 2007
From: ryan at boren.nu (Ryan Boren)
Date: Sat Apr 28 19:21:28 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <46338176.6090807@NeoSmart.net>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>
	<4632DD6A.7000602@NeoSmart.net>
	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>
	<bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>
	<4632E8B6.30604@NeoSmart.net>
	<bb0886ed0704281006q20821c89r14072be8265b6b98@mail.gmail.com>
	<46338176.6090807@NeoSmart.net>
Message-ID: <bb0886ed0704281221i5c966a71rf13f8c1d1e6236a6@mail.gmail.com>

On 4/28/07, Computer Guru <computerguru@neosmart.net> wrote:
> No go.
>
> Is this the alternative widgets "Sidebar Modules" thingy code by any chance?
>
> Because I never could get the options to show with SBM on my server
> though they always worked great locally.
>
> (The old widgets.php always worked great everywhere)

Look in the widgets plugin (not core widgets) and you will see code like this:

$name = __($name);

That is worthless for i18n purposes. Only literal strings should be
passed to __(). We fixed this for widgets on wordpress.com many moons
ago.  That fix included the extra $id field and back compatibility
code so that third-party widgets wouldn't have to change. After a soak
period on wordpress.com it was supposed to go upstream, but evidently
that never happened.  Andy owes us all a beer. ;-)

Anyhow, since the changes never went upstream, the back compat never
got properly debugged.  I brought the wordpress.com version of widgets
with the i18n fixes into WP core, and here we are.  Send me links to
any widgets that are causing problems and I will try to fix
compatibility for them.

Ryan
From guyleech at gmail.com  Sun Apr 29 05:32:01 2007
From: guyleech at gmail.com (Guy Leech)
Date: Sun Apr 29 05:32:05 2007
Subject: [wp-hackers] Dynamic Style Sheets
Message-ID: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>

I've modified my WP installation to read off 'style.php' instead of '
style.css', but I can't access any of the WP functions or variables from '
style.php'. Does anyone have any brilliant ideas of what could be wrong, or
how to access these funcs/vars. Basically, I want to be able to generate my
stylesheet on-the-fly, not using inline styles; something like 'if(
is_single() { //make CSS }'.

I basically modified 'wp-includes/theme.php' so that whenever it looked for
'style.css' it also looked for 'style.php' and loaded that. The styling
itself works fine, jus when I try to call a WP function it crashes with
'Fatal Error: undefined function.".

Any help would be greatly appreciated
 - Guy
From wordpress at uberdose.com  Sun Apr 29 05:39:35 2007
From: wordpress at uberdose.com (uberdose)
Date: Sun Apr 29 05:39:40 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
Message-ID: <4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>

How did you load it? You need someting like include or require ...

On 4/29/07, Guy Leech <guyleech@gmail.com> wrote:
> I've modified my WP installation to read off 'style.php' instead of '
> style.css', but I can't access any of the WP functions or variables from '
> style.php'. Does anyone have any brilliant ideas of what could be wrong, or
> how to access these funcs/vars. Basically, I want to be able to generate my
> stylesheet on-the-fly, not using inline styles; something like 'if(
> is_single() { //make CSS }'.
>
> I basically modified 'wp-includes/theme.php' so that whenever it looked for
> 'style.css' it also looked for 'style.php' and loaded that. The styling
> itself works fine, jus when I try to call a WP function it crashes with
> 'Fatal Error: undefined function.".
>
> Any help would be greatly appreciated
>  - Guy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From guyleech at gmail.com  Sun Apr 29 05:54:53 2007
From: guyleech at gmail.com (Guy Leech)
Date: Sun Apr 29 05:54:59 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
Message-ID: <e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>

I simply modified the get_themes() function to include 'stlye.php' or '
style.css'. Since the time of writing I've realised that I need to include
'wp-blog-header', and now everything is working fine and dandy. Though I'm
still having trouble figuring out if the page I'm on is a single page, as
the stylesheet can be called from anywhere. I'm sure I'll work something
out.

Thanks for the help
 - Guy

On 4/29/07, uberdose <wordpress@uberdose.com> wrote:
>
> How did you load it? You need someting like include or require ...
>
> On 4/29/07, Guy Leech <guyleech@gmail.com> wrote:
> > I've modified my WP installation to read off 'style.php' instead of '
> > style.css', but I can't access any of the WP functions or variables from
> '
> > style.php'. Does anyone have any brilliant ideas of what could be wrong,
> or
> > how to access these funcs/vars. Basically, I want to be able to generate
> my
> > stylesheet on-the-fly, not using inline styles; something like 'if(
> > is_single() { //make CSS }'.
> >
> > I basically modified 'wp-includes/theme.php' so that whenever it looked
> for
> > 'style.css' it also looked for 'style.php' and loaded that. The styling
> > itself works fine, jus when I try to call a WP function it crashes with
> > 'Fatal Error: undefined function.".
> >
> > Any help would be greatly appreciated
> >  - Guy
>
From chris at giantrobot.co.nz  Sun Apr 29 06:19:55 2007
From: chris at giantrobot.co.nz (chris burgess)
Date: Sun Apr 29 06:20:43 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
Message-ID: <1177827595.22529.23.camel@localhost.localdomain>

Not exactly what you're asking, but ...

I used a php-generated JS file to do this for another site. I had to add
the Status header manually for at least one version of WP2.

There may be a "more correct" way to do this, one which doesn't involve
overwriting the 404 header that appear(s|ed) if WP doesn't recognise
your direct reference of teh CSS/JS file.

--
<?
  define('WP_USE_THEMES', false) ;
  require('../../../wp-blog-header.php');
  header("HTTP/1.1 200 OK");
  header("Status: 200 All rosy") ;
 ?>

/**
 * javascript or css here
 */
--

this way you can reference the CSS/JS and it will work.

I'd love to hear a more "proper" way to embed WP functions without
activating the request handler. I couldn't find it at the time.

if WP sets a 404 header on a JS or CSS file, then only some browsers
will parse it (guess who), while others will ignore it unless it has a
200 or other goody.

From guyleech at gmail.com  Sun Apr 29 06:32:20 2007
From: guyleech at gmail.com (Guy Leech)
Date: Sun Apr 29 06:32:27 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <1177827595.22529.23.camel@localhost.localdomain>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
	<1177827595.22529.23.camel@localhost.localdomain>
Message-ID: <e0db7f770704282332l22924029y34a711bd4d26a6db@mail.gmail.com>

Interesting, though I don't understand why you're defining 'WP_USE_THEMES'
as false. Care to enlighten me?

My solution is to send out a '<?php header('Content-Type: text/css'); ?>' at
the very end of the file. I've only tested it in current browsers, but I see
no obvious reason why it wouldn't work. It looks something like this:

--
/* CSS stuff */
<?php //PHP stuff ?>
/*CSS stuff */
<?php header('Content-Type: text/css'); ?>
--

- Guy

On 4/29/07, chris burgess <chris@giantrobot.co.nz> wrote:
>
> Not exactly what you're asking, but ...
>
> I used a php-generated JS file to do this for another site. I had to add
> the Status header manually for at least one version of WP2.
>
> There may be a "more correct" way to do this, one which doesn't involve
> overwriting the 404 header that appear(s|ed) if WP doesn't recognise
> your direct reference of teh CSS/JS file.
>
> --
> <?
>   define('WP_USE_THEMES', false) ;
>   require('../../../wp-blog-header.php');
>   header("HTTP/1.1 200 OK");
>   header("Status: 200 All rosy") ;
> ?>
>
> /**
> * javascript or css here
> */
> --
>
> this way you can reference the CSS/JS and it will work.
>
> I'd love to hear a more "proper" way to embed WP functions without
> activating the request handler. I couldn't find it at the time.
>
> if WP sets a 404 header on a JS or CSS file, then only some browsers
> will parse it (guess who), while others will ignore it unless it has a
> 200 or other goody.
>
From skeltoac at gmail.com  Sun Apr 29 06:32:53 2007
From: skeltoac at gmail.com (Andy Skelton)
Date: Sun Apr 29 06:33:15 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
Message-ID: <e6ec604d0704282332x2e910d4r617bfbd6d0b709fd@mail.gmail.com>

On 4/29/07, Guy Leech <guyleech@gmail.com> wrote:
> I simply modified the get_themes() function to include 'stlye.php' or '
> style.css'. Since the time of writing I've realised that I need to include
> 'wp-blog-header', and now everything is working fine and dandy. Though I'm
> still having trouble figuring out if the page I'm on is a single page, as
> the stylesheet can be called from anywhere. I'm sure I'll work something
> out.

Having your style.php call is_single() will never work. The request
for the HTML and the request for the CSS are distinct HTTP requests
and the server has no way to connect them.

You can add a dynamic stylesheet without hacking core files by using
the action hook wp_head. You can pass your dynamic stylesheet script
any kind of information via its URL query string.

But why would you do any of these things? A static stylesheet can
serve you just as well. Instead of changing the CSS to fit the WP
context, use the WP context to change the markup so that different ids
or classes trigger the presentational changes you want.

You might want to use the Sandbox theme over at http://plaintxt.org/
and save yourself a lot of time. :-)

Andy
From computerguru at neosmart.net  Sun Apr 29 07:03:18 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 29 07:03:31 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <bb0886ed0704281221i5c966a71rf13f8c1d1e6236a6@mail.gmail.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>	<4632DD6A.7000602@NeoSmart.net>	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>	<bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>	<4632E8B6.30604@NeoSmart.net>	<bb0886ed0704281006q20821c89r14072be8265b6b98@mail.gmail.com>	<46338176.6090807@NeoSmart.net>
	<bb0886ed0704281221i5c966a71rf13f8c1d1e6236a6@mail.gmail.com>
Message-ID: <46344336.9090507@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ryan Boren wrote:
> On 4/28/07, Computer Guru <computerguru@neosmart.net> wrote:
>> No go.
>>
>> Is this the alternative widgets "Sidebar Modules" thingy code by any
>> chance?
>>
>> Because I never could get the options to show with SBM on my server
>> though they always worked great locally.
>>
>> (The old widgets.php always worked great everywhere)
> 
> Look in the widgets plugin (not core widgets) and you will see code like
> this:
> 
> $name = __($name);
> 
> That is worthless for i18n purposes. Only literal strings should be
> passed to __(). We fixed this for widgets on wordpress.com many moons
> ago.  That fix included the extra $id field and back compatibility
> code so that third-party widgets wouldn't have to change. After a soak
> period on wordpress.com it was supposed to go upstream, but evidently
> that never happened.  Andy owes us all a beer. ;-)
> 
> Anyhow, since the changes never went upstream, the back compat never
> got properly debugged.  I brought the wordpress.com version of widgets
> with the i18n fixes into WP core, and here we are.  Send me links to
> any widgets that are causing problems and I will try to fix
> compatibility for them.
> 
> Ryan

I'm not sure what you mean, Ryan...

The same widgets that I can change the settings/options for on my local
test server don't work on my server @ neosmart.net

They're both running the same platforms (Windows 2k3 + IIS6) with the
same versions of PHP (MS FastCGI, 5.2.x), MySQL (5.1), eAccelerator, and
the same extensions loaded as well.

Even "core" widgets like "Text 1" aren't working. They show-up all
right, I can drag them wherever I want, they display OK on the main
page, and everything else.. But I can't press that cute "menu button" on
the Widgets page to access the pop-up window that shows me the
configuration page for these widgets.

** Just Checked **

OK, it seems that the JS for WP widgets has changed.
"King Widgets Framework" had its own JS code that worked just fine with
previous versions of WP Widgets. I guess the JS is somehow conflicting
with the Prototype that ships with WP... Time to get cracking :)


Thanks for the help, Ryan. Sorry for the pain ;)

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGNEM23SICh4XKUt0RAmPVAJ9HSXxBsgDtEfIIgoN5Y4/JhZ8c8wCg0i49
/j+ch0hcD2y3CpS6yOzrToI=
=NUnV
-----END PGP SIGNATURE-----
From computerguru at neosmart.net  Sun Apr 29 07:08:33 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 29 07:08:47 2007
Subject: [wp-hackers] Third Party Widgets
In-Reply-To: <bb0886ed0704281221i5c966a71rf13f8c1d1e6236a6@mail.gmail.com>
References: <181640B8-522D-4363-B320-AE7ACA1AF924@b5media.com>	<4632DD6A.7000602@NeoSmart.net>	<bb0886ed0704272250x7f1c0393g9f6c578f64f9dd88@mail.gmail.com>	<bb0886ed0704272312o5e70f6e3md44e6eb4aa02aa35@mail.gmail.com>	<4632E8B6.30604@NeoSmart.net>	<bb0886ed0704281006q20821c89r14072be8265b6b98@mail.gmail.com>	<46338176.6090807@NeoSmart.net>
	<bb0886ed0704281221i5c966a71rf13f8c1d1e6236a6@mail.gmail.com>
Message-ID: <46344471.7050109@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ryan Boren wrote:
> On 4/28/07, Computer Guru <computerguru@neosmart.net> wrote:
>> No go.
>>
>> Is this the alternative widgets "Sidebar Modules" thingy code by any
>> chance?
>>
>> Because I never could get the options to show with SBM on my server
>> though they always worked great locally.
>>
>> (The old widgets.php always worked great everywhere)

> Anyhow, since the changes never went upstream, the back compat never
> got properly debugged.  I brought the wordpress.com version of widgets
> with the i18n fixes into WP core, and here we are.  Send me links to
> any widgets that are causing problems and I will try to fix
> compatibility for them.

I guess I spoke too soon - there's another bug on both local and remote
servers, this one is definitely WP-core issue.

For the core widgets like "Text" and "RSS" you can only view edit the
settings for "Text 1" and "RSS 1" for some odd reason. Click the options
button for "Text 2" & co. doesn't work.

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGNERx3SICh4XKUt0RArIVAKD4UcPM3d7nbau7iwNlWITsym/nxACgyq/V
EAehyYpslJyydJZRgF6COZ4=
=SLH0
-----END PGP SIGNATURE-----
From guyleech at gmail.com  Sun Apr 29 07:15:29 2007
From: guyleech at gmail.com (Guy Leech)
Date: Sun Apr 29 07:15:34 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <e6ec604d0704282332x2e910d4r617bfbd6d0b709fd@mail.gmail.com>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
	<e6ec604d0704282332x2e910d4r617bfbd6d0b709fd@mail.gmail.com>
Message-ID: <e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>

On 4/29/07, Andy Skelton <skeltoac@gmail.com> wrote:
>
> Having your style.php call is_single() will never work. The request
> for the HTML and the request for the CSS are distinct HTTP requests
> and the server has no way to connect them.


 I see. I guess no use going down that avenue then.

You can add a dynamic stylesheet without hacking core files by using
> the action hook wp_head. You can pass your dynamic stylesheet script
> any kind of information via its URL query string.


I thought of this a while back, and implemented it, but I like pretty
looking code, and lengthy GETs don't do it for me. Though I implemented it
in my 'header.php', rather than as a hook.

But why would you do any of these things? A static stylesheet can
> serve you just as well. Instead of changing the CSS to fit the WP
> context, use the WP context to change the markup so that different ids
> or classes trigger the presentational changes you want.
>
> You might want to use the Sandbox theme over at http://plaintxt.org/
> and save yourself a lot of time. :-)
>
> Andy


I'm trying to change the width of my content based on the number of
paragraphs in a post, and this is the only way I can think of doing it. It's
horizontal scrolling, so I have to define a set width, and I don't want to
create unnecessary room by setting 'width: 1000%;' or something.

It boils down to I like messing with things, the harder, the more rewarding.

Thanks for the reply
 - Guy
From speedboxer at gmail.com  Sun Apr 29 07:31:04 2007
From: speedboxer at gmail.com (Matt)
Date: Sun Apr 29 07:32:22 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
	<e6ec604d0704282332x2e910d4r617bfbd6d0b709fd@mail.gmail.com>
	<e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>
Message-ID: <b88434820704290031l720082c1hb179d9802c96d147@mail.gmail.com>

Why can't you do something like this in header.php:

<?php
if (is_single()) {
// your checking or whatever here
// something like if (whatever) {
echo '<link rel="stylesheet" href="path/to/single_stylesheet.css" />';
//}
?>

Just put that after the normal code for the normal stylesheet, and it should
overwrite the settings in the original stylesheet with the ones from
"single_stylesheet.css".

On 4/29/07, Guy Leech <guyleech@gmail.com> wrote:
>
> On 4/29/07, Andy Skelton <skeltoac@gmail.com> wrote:
> >
> > Having your style.php call is_single() will never work. The request
> > for the HTML and the request for the CSS are distinct HTTP requests
> > and the server has no way to connect them.
>
>
> I see. I guess no use going down that avenue then.
>
> You can add a dynamic stylesheet without hacking core files by using
> > the action hook wp_head. You can pass your dynamic stylesheet script
> > any kind of information via its URL query string.
>
>
> I thought of this a while back, and implemented it, but I like pretty
> looking code, and lengthy GETs don't do it for me. Though I implemented it
> in my 'header.php', rather than as a hook.
>
> But why would you do any of these things? A static stylesheet can
> > serve you just as well. Instead of changing the CSS to fit the WP
> > context, use the WP context to change the markup so that different ids
> > or classes trigger the presentational changes you want.
> >
> > You might want to use the Sandbox theme over at http://plaintxt.org/
> > and save yourself a lot of time. :-)
> >
> > Andy
>
>
> I'm trying to change the width of my content based on the number of
> paragraphs in a post, and this is the only way I can think of doing it.
> It's
> horizontal scrolling, so I have to define a set width, and I don't want to
> create unnecessary room by setting 'width: 1000%;' or something.
>
> It boils down to I like messing with things, the harder, the more
> rewarding.
>
> Thanks for the reply
> - Guy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/ | http://livemp.net/
From speedboxer at gmail.com  Sun Apr 29 07:31:04 2007
From: speedboxer at gmail.com (Matt)
Date: Sun Apr 29 07:32:27 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
	<e6ec604d0704282332x2e910d4r617bfbd6d0b709fd@mail.gmail.com>
	<e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>
Message-ID: <b88434820704290031l720082c1hb179d9802c96d147@mail.gmail.com>

Why can't you do something like this in header.php:

<?php
if (is_single()) {
// your checking or whatever here
// something like if (whatever) {
echo '<link rel="stylesheet" href="path/to/single_stylesheet.css" />';
//}
?>

Just put that after the normal code for the normal stylesheet, and it should
overwrite the settings in the original stylesheet with the ones from
"single_stylesheet.css".

On 4/29/07, Guy Leech <guyleech@gmail.com> wrote:
>
> On 4/29/07, Andy Skelton <skeltoac@gmail.com> wrote:
> >
> > Having your style.php call is_single() will never work. The request
> > for the HTML and the request for the CSS are distinct HTTP requests
> > and the server has no way to connect them.
>
>
> I see. I guess no use going down that avenue then.
>
> You can add a dynamic stylesheet without hacking core files by using
> > the action hook wp_head. You can pass your dynamic stylesheet script
> > any kind of information via its URL query string.
>
>
> I thought of this a while back, and implemented it, but I like pretty
> looking code, and lengthy GETs don't do it for me. Though I implemented it
> in my 'header.php', rather than as a hook.
>
> But why would you do any of these things? A static stylesheet can
> > serve you just as well. Instead of changing the CSS to fit the WP
> > context, use the WP context to change the markup so that different ids
> > or classes trigger the presentational changes you want.
> >
> > You might want to use the Sandbox theme over at http://plaintxt.org/
> > and save yourself a lot of time. :-)
> >
> > Andy
>
>
> I'm trying to change the width of my content based on the number of
> paragraphs in a post, and this is the only way I can think of doing it.
> It's
> horizontal scrolling, so I have to define a set width, and I don't want to
> create unnecessary room by setting 'width: 1000%;' or something.
>
> It boils down to I like messing with things, the harder, the more
> rewarding.
>
> Thanks for the reply
> - Guy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/ | http://livemp.net/
From speedboxer at gmail.com  Sun Apr 29 07:31:04 2007
From: speedboxer at gmail.com (Matt)
Date: Sun Apr 29 07:32:36 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
	<e6ec604d0704282332x2e910d4r617bfbd6d0b709fd@mail.gmail.com>
	<e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>
Message-ID: <b88434820704290031l720082c1hb179d9802c96d147@mail.gmail.com>

Why can't you do something like this in header.php:

<?php
if (is_single()) {
// your checking or whatever here
// something like if (whatever) {
echo '<link rel="stylesheet" href="path/to/single_stylesheet.css" />';
//}
?>

Just put that after the normal code for the normal stylesheet, and it should
overwrite the settings in the original stylesheet with the ones from
"single_stylesheet.css".

On 4/29/07, Guy Leech <guyleech@gmail.com> wrote:
>
> On 4/29/07, Andy Skelton <skeltoac@gmail.com> wrote:
> >
> > Having your style.php call is_single() will never work. The request
> > for the HTML and the request for the CSS are distinct HTTP requests
> > and the server has no way to connect them.
>
>
> I see. I guess no use going down that avenue then.
>
> You can add a dynamic stylesheet without hacking core files by using
> > the action hook wp_head. You can pass your dynamic stylesheet script
> > any kind of information via its URL query string.
>
>
> I thought of this a while back, and implemented it, but I like pretty
> looking code, and lengthy GETs don't do it for me. Though I implemented it
> in my 'header.php', rather than as a hook.
>
> But why would you do any of these things? A static stylesheet can
> > serve you just as well. Instead of changing the CSS to fit the WP
> > context, use the WP context to change the markup so that different ids
> > or classes trigger the presentational changes you want.
> >
> > You might want to use the Sandbox theme over at http://plaintxt.org/
> > and save yourself a lot of time. :-)
> >
> > Andy
>
>
> I'm trying to change the width of my content based on the number of
> paragraphs in a post, and this is the only way I can think of doing it.
> It's
> horizontal scrolling, so I have to define a set width, and I don't want to
> create unnecessary room by setting 'width: 1000%;' or something.
>
> It boils down to I like messing with things, the harder, the more
> rewarding.
>
> Thanks for the reply
> - Guy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/ | http://livemp.net/
From speedboxer at gmail.com  Sun Apr 29 07:31:04 2007
From: speedboxer at gmail.com (Matt)
Date: Sun Apr 29 07:33:00 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
	<e6ec604d0704282332x2e910d4r617bfbd6d0b709fd@mail.gmail.com>
	<e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>
Message-ID: <b88434820704290031l720082c1hb179d9802c96d147@mail.gmail.com>

Why can't you do something like this in header.php:

<?php
if (is_single()) {
// your checking or whatever here
// something like if (whatever) {
echo '<link rel="stylesheet" href="path/to/single_stylesheet.css" />';
//}
?>

Just put that after the normal code for the normal stylesheet, and it should
overwrite the settings in the original stylesheet with the ones from
"single_stylesheet.css".

On 4/29/07, Guy Leech <guyleech@gmail.com> wrote:
>
> On 4/29/07, Andy Skelton <skeltoac@gmail.com> wrote:
> >
> > Having your style.php call is_single() will never work. The request
> > for the HTML and the request for the CSS are distinct HTTP requests
> > and the server has no way to connect them.
>
>
> I see. I guess no use going down that avenue then.
>
> You can add a dynamic stylesheet without hacking core files by using
> > the action hook wp_head. You can pass your dynamic stylesheet script
> > any kind of information via its URL query string.
>
>
> I thought of this a while back, and implemented it, but I like pretty
> looking code, and lengthy GETs don't do it for me. Though I implemented it
> in my 'header.php', rather than as a hook.
>
> But why would you do any of these things? A static stylesheet can
> > serve you just as well. Instead of changing the CSS to fit the WP
> > context, use the WP context to change the markup so that different ids
> > or classes trigger the presentational changes you want.
> >
> > You might want to use the Sandbox theme over at http://plaintxt.org/
> > and save yourself a lot of time. :-)
> >
> > Andy
>
>
> I'm trying to change the width of my content based on the number of
> paragraphs in a post, and this is the only way I can think of doing it.
> It's
> horizontal scrolling, so I have to define a set width, and I don't want to
> create unnecessary room by setting 'width: 1000%;' or something.
>
> It boils down to I like messing with things, the harder, the more
> rewarding.
>
> Thanks for the reply
> - Guy
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt (speedboxer@gmail.com)
http://mattsblog.ca/ | http://livemp.net/
From computerguru at neosmart.net  Sun Apr 29 07:50:13 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Sun Apr 29 07:50:28 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <b88434820704290031l720082c1hb179d9802c96d147@mail.gmail.com>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>	<e6ec604d0704282332x2e910d4r617bfbd6d0b709fd@mail.gmail.com>	<e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>
	<b88434820704290031l720082c1hb179d9802c96d147@mail.gmail.com>
Message-ID: <46344E35.3070608@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Matt wrote:
> Why can't you do something like this in header.php:
> 
> <?php
> if (is_single()) {
> // your checking or whatever here
> // something like if (whatever) {
> echo '<link rel="stylesheet" href="path/to/single_stylesheet.css" />';
> //}
> ?>

Even better:

<?php

if (is_single()) {
....
echo  '<link rel="stylesheet" href="mycss.php?test_pass" />';
}
?>

You know, basically do all your testing in the WP php, then pass
whatever info you need to the CSS file as arguments at the end.

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGNE413SICh4XKUt0RAov4AJ9wGAZKBdKW7LXbQVuVSydF7zA9cwCcC40V
U/rwvkEodIcYkAKJV0Ttxko=
=7GBE
-----END PGP SIGNATURE-----
From guyleech at gmail.com  Sun Apr 29 08:05:53 2007
From: guyleech at gmail.com (Guy Leech)
Date: Sun Apr 29 08:05:57 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <46344E35.3070608@NeoSmart.net>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>
	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>
	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>
	<e6ec604d0704282332x2e910d4r617bfbd6d0b709fd@mail.gmail.com>
	<e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>
	<b88434820704290031l720082c1hb179d9802c96d147@mail.gmail.com>
	<46344E35.3070608@NeoSmart.net>
Message-ID: <e0db7f770704290105wbef566brd7cc3e673d7187c4@mail.gmail.com>

Yeah, that's what I'm doing now. I just don't like the look of a stlyesheet
link with a query string on it. But such is life.

Thanks for the help everyone, much appreciated.
 - Guy

On 4/29/07, Computer Guru <computerguru@neosmart.net> wrote:
>
> Even better:
>
> <?php
>
> if (is_single()) {
> ....
> echo  '<link rel="stylesheet" href="mycss.php?test_pass" />';
> }
> ?>
>
> You know, basically do all your testing in the WP php, then pass
> whatever info you need to the CSS file as arguments at the end.
>
> - --
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
>
From wphackers at jamietalbot.com  Sun Apr 29 08:10:35 2007
From: wphackers at jamietalbot.com (Jamie Talbot)
Date: Sun Apr 29 08:10:52 2007
Subject: [wp-hackers] Dynamic Style Sheets
In-Reply-To: <46344E35.3070608@NeoSmart.net>
References: <e0db7f770704282232t68133d4bk41c47df8acf2ea95@mail.gmail.com>	<4ba640480704282239x4871202frb63acd36e0af6999@mail.gmail.com>	<e0db7f770704282254w5b7ad119g5cbf9e8cd2746dac@mail.gmail.com>	<e6ec604d0704282332x2e910d4r617bfbd6d0b709fd@mail.gmail.com>	<e0db7f770704290015t483c2709pd3d2c87732cb504a@mail.gmail.com>	<b88434820704290031l720082c1hb179d9802c96d147@mail.gmail.com>
	<46344E35.3070608@NeoSmart.net>
Message-ID: <463452FB.6090404@jamietalbot.com>

Computer Guru wrote:
> Matt wrote:
> if (is_single()) {
> ....
> echo  '<link rel="stylesheet" href="mycss.php?test_pass" />';
> }
> ?>
> 
> You know, basically do all your testing in the WP php, then pass
> whatever info you need to the CSS file as arguments at the end.
> 

I think he said he didn't want to do it this way?

You could hook the_content() maybe?

// Counts the number of paragraphs, adds a class to each paragraph, depending on the number.
function my_content($content) {
	$count = get_number_of_paragraphs();
	return preg_replace('<p>', "<p class=\"para_class_$count\">", $content);
}

add_filter('the_content', 'my_content');

Alternatively, instead of adding a class to each paragraph, you could just wrap the whole content in
a div with a class.

Cheers,

Jamie.

-- 
http://jamietalbot.com
From computerguru at neosmart.net  Mon Apr 30 06:44:14 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 30 06:44:31 2007
Subject: [wp-hackers] RoadRunner/Phalanger Patches?
Message-ID: <4635903E.9020809@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

All this talk about performance that keeps coming and going has once
again got me to consider running WordPress as a compiled PHP application.

The last time I tried (Phalanger 2.0, IIS 6, Windows 2003) WordPress
wasn't fully compatible with the function set supported by Phalanger
(which is close to 99%)

If I were to patch WP in a way that doesn't break anything but allows it
to run as a compiled PHP application, would it be possible for these
patches to be added to the core?

I won't bother hacking it up if I have to reapply the patches every time
I svn up (3 or 4 times a day ;)

Just wondering... From the last time I looked at it, only a couple of
functions here and there gave it some trouble.

Thanks! :)

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGNZA+3SICh4XKUt0RAhCEAKCvslfOBJZaU1Bj3sbsGJZBBXDa1ACeIGYm
YRGZd77A2dZCosfy5m9Rc/s=
=fIBA
-----END PGP SIGNATURE-----
From andrew at fergcorp.com  Mon Apr 30 06:55:03 2007
From: andrew at fergcorp.com (Andrew Ferguson)
Date: Mon Apr 30 06:55:08 2007
Subject: [wp-hackers] RoadRunner/Phalanger Patches?
In-Reply-To: <4635903E.9020809@NeoSmart.net>
References: <4635903E.9020809@NeoSmart.net>
Message-ID: <628687b30704292355h2e29ff0l4e55f081ce94a922@mail.gmail.com>

Looking at the Phalanger website, it appears that they updated it on the
22nd and it now includes support for Wordpress. Have you tried running the
latest version?

=Andrew

On 4/30/07, Computer Guru <computerguru@neosmart.net> wrote:
>
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> All this talk about performance that keeps coming and going has once
> again got me to consider running WordPress as a compiled PHP application.
>
> The last time I tried (Phalanger 2.0, IIS 6, Windows 2003) WordPress
> wasn't fully compatible with the function set supported by Phalanger
> (which is close to 99%)
>
> If I were to patch WP in a way that doesn't break anything but allows it
> to run as a compiled PHP application, would it be possible for these
> patches to be added to the core?
>
> I won't bother hacking it up if I have to reapply the patches every time
> I svn up (3 or 4 times a day ;)
>
> Just wondering... From the last time I looked at it, only a couple of
> functions here and there gave it some trouble.
>
> Thanks! :)
>
> - --
> Computer Guru
> NeoSmart Technologies
> http://neosmart.net/blog/
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.6 (GNU/Linux)
>
> iD8DBQFGNZA+3SICh4XKUt0RAhCEAKCvslfOBJZaU1Bj3sbsGJZBBXDa1ACeIGYm
> YRGZd77A2dZCosfy5m9Rc/s=
> =fIBA
> -----END PGP SIGNATURE-----
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wordpress at dd32.id.au  Mon Apr 30 07:05:57 2007
From: wordpress at dd32.id.au (DD32)
Date: Mon Apr 30 07:03:44 2007
Subject: [wp-hackers] RoadRunner/Phalanger Patches?
In-Reply-To: <4635903E.9020809@NeoSmart.net>
References: <4635903E.9020809@NeoSmart.net>
Message-ID: <op.trk4n70jk6w4mc@dd32.no-ip.com>

On Mon, 30 Apr 2007 16:44:14 +1000, Computer Guru
<computerguru@neosmart.net> wrote:

> I won't bother hacking it up if I have to reapply the patches every time
> I svn up (3 or 4 times a day ;)

I run with about 5 core files with non-svn'd patches applied..
Everytime i do a svn update with TortoiseSVN, it usually retains the
changed files, Once in a while it'll flag a file as it cant merge(Usually
because i've hacked a function into obblivion and theres beena major
change to that function in SVN)

Point is.. Most SVN apps should be able to handle it pretty well,
TortoiseSVN's conflict resolve function is pretty powerful IMO.
From abrazell at b5media.com  Mon Apr 30 07:17:02 2007
From: abrazell at b5media.com (Aaron Brazell)
Date: Mon Apr 30 07:19:34 2007
Subject: [wp-hackers] RoadRunner/Phalanger Patches?
In-Reply-To: <4635903E.9020809@NeoSmart.net>
References: <4635903E.9020809@NeoSmart.net>
Message-ID: <BECBC7E7-C558-467E-B680-B1C9B7178CC9@b5media.com>

What you do is write a script that applies your patches en masse.  
Then you simply run that script and all the work is done. Here's one  
I use on a testing environment and has several homegrown patches that  
I apply all the time:

#!/bin/bash

# April 25, 2007
# Fixes IP address issue behind proxy
# Trac: http://trac.wordpress.org/ticket/4198
patch -d /root/skeleton/public_html -p0 -N < /home/patches/get-user- 
real-ip-api.diff

# April 27, 2007
# Adds Hooks to WP Dashboard for Custom URLs
patch -d /root/skeleton/public_html -p0 -N < /home/patches/ 
b5dashboard.diff

If you script it all together, you can get everything into one file.  
Fire and forget...

--
Aaron Brazell
Director of Technology, b5media
"A Global New Media Company"

web:: www.b5media.com, www.technosailor.com
phone:: 410-608-6620
skype:: technosailor




On Apr 30, 2007, at 2:44 AM, Computer Guru wrote:

> I won't bother hacking it up if I have to reapply the patches every  
> time
> I svn up (3 or 4 times a day ;)

From jodo04ab at gmail.com  Mon Apr 30 08:15:11 2007
From: jodo04ab at gmail.com (Jochem Donkers)
Date: Mon Apr 30 08:15:16 2007
Subject: [wp-hackers] Reminder: Survey for plug-in,
	theme and hack developers. Please participate!
Message-ID: <e07285660704300115w6c669052xb49132bfe60d8a00@mail.gmail.com>

Hi,

On April 24 I sent an e-mail to this mailing list with the request
(see text below) to complete a survey about the barriers that users
face when they are developing WordPress plug-ins, themes, and hacks.
So far I have received 51 responses, but I would like to get some
more. Thus, hereby I would like to ask to those that did not complete
the survey yet to take five minutes to do so. I would really
appreciate your help.

The URL for the survey is: http://tinyurl.com/35nbek

Furthermore, to those of you that have responded to the survey I would
like to thank you!

Kind regards,
Jochem


==========================
E-mail from April 24, 2007
==========================
Hi,

Hereby, I would like to invite you to participate in a survey about
the barriers that user innovators (as WordPress' plug-in, theme and
hack developers) face in their development process. This survey is
part of a master thesis research project that I am currently
completing at Copenhagen Business School (Denmark).

-------
Link to survey: http://tinyurl.com/35nbek
-------

The objective of this project is to investigate and describe the
barriers that user innovators are confronted with during their
innovative endeavors (e.g. building WordPress extensions).
Understanding the characteristics of these 'barriers' is an important
aspect of understanding the 'user innovation' phenomena. When vendors
of products have a good comprehension of the 'user innovation' concept
they will be able to provide better tools to users that would like to
modify or innovate on top of the standard product. The aim of this
survey is to gather the necessary data that will enables me to analyze
and describe the barriers.

In the WordPress context this survey is aimed at successful or
unsuccessful developers of plug-ins, themes and (source code) hacks. I
selected the WordPress user community because of its size, activity
and the opportunities for innovation and modification that are
available to users with various levels of technical capabilities.

Please, click on the following link to complete the survey. Completing
the survey will take you approximately five minutes.

Sruvey URL: http://tinyurl.com/35nbek

In the final section of the end of the survey you can leave your name
and e-mail address so that I can share the findings of my study with
you. If you prefer anonymity, please point your RSS reader to
http://userinnovation.wordpress.com/.

Kind regards,
Jochem

http://userinnovation.wordpress.com
From computerguru at neosmart.net  Mon Apr 30 09:22:12 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 30 09:22:37 2007
Subject: [wp-hackers] RoadRunner/Phalanger Patches?
In-Reply-To: <628687b30704292355h2e29ff0l4e55f081ce94a922@mail.gmail.com>
References: <4635903E.9020809@NeoSmart.net>
	<628687b30704292355h2e29ff0l4e55f081ce94a922@mail.gmail.com>
Message-ID: <4635B544.9020801@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andrew Ferguson wrote:
> Looking at the Phalanger website, it appears that they updated it on the
> 22nd and it now includes support for Wordpress. Have you tried running the
> latest version?
> 
> =Andrew

That's awesome news!

I last tried it maybe at the end of March or so...

Thanks :D

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGNbVE3SICh4XKUt0RAthrAKClwH9ndagNXZQ20W9uSrkt0AmEDQCfaKpk
O1E26Gfiywml5pWzcGxvB9o=
=4C89
-----END PGP SIGNATURE-----
From computerguru at neosmart.net  Mon Apr 30 10:57:21 2007
From: computerguru at neosmart.net (Computer Guru)
Date: Mon Apr 30 10:57:41 2007
Subject: [wp-hackers] RoadRunner/Phalanger Patches?
In-Reply-To: <628687b30704292355h2e29ff0l4e55f081ce94a922@mail.gmail.com>
References: <4635903E.9020809@NeoSmart.net>
	<628687b30704292355h2e29ff0l4e55f081ce94a922@mail.gmail.com>
Message-ID: <4635CB91.6010002@NeoSmart.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Andrew Ferguson wrote:
> Looking at the Phalanger website, it appears that they updated it on the
> 22nd and it now includes support for Wordpress. Have you tried running the
> latest version?
> 
> =Andrew

OMG - It's alive!

http://neosmart.ath.cx/blog/ is a Phalanger version of
http://neosmart.ach.cx/wordpress/

Time to start activating plugins and hope it's good enough to deploy on
my server :D

I had to change some stuff in the error_reporting settings, because they
don't properly register to the Compiler and instead are embedded in the
code.

The compiler has its own error reporter so that's ok.

Coolest thing:
Once this is done, I can compile all plugins, widgets, themes, and core
files into one DLL and just deploy it on all my servers.
Even better, I can access _any_ PHP function from any other (.NET)
language, like use WordPress from within a IronPython script, or mix and
match Perl plugins with WordPress core. Sweetness!

- --
Computer Guru
NeoSmart Technologies
http://neosmart.net/blog/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)

iD8DBQFGNcuQ3SICh4XKUt0RAskIAJ9WzX2XsR2t8GaTmFD/x+cG7WJ1tQCdGGMx
OZuvvRPNsSGQYc33jrgdYFs=
=KNM/
-----END PGP SIGNATURE-----
From martin.fitzpatrick at gmail.com  Mon Apr 30 13:55:36 2007
From: martin.fitzpatrick at gmail.com (Martin Fitzpatrick)
Date: Mon Apr 30 13:55:42 2007
Subject: [wp-hackers] how often does the cron job run for wordpress.org
	extend/plugins?
In-Reply-To: <462E93B0.3070607@kuykendall.org>
References: <462E93B0.3070607@kuykendall.org>
Message-ID: <196d50d70704300655n628a63fax72b36a899cd735df@mail.gmail.com>

Dan,

On 25/04/07, Dan Kuykendall <dan@kuykendall.org> wrote:
> I just posted an update to my plugin podPress and was curious about how
> long it will take for the new branch to be picked up on and reflected on
> the site.
> No big deal, just curious

Did you get an answer to this either here or off-list? Curious myself.

In my experience it ranges from a while to instantaneous-ish. All very
scientific measurements you understand.

Martin
From david at coppit.org  Mon Apr 30 17:44:26 2007
From: david at coppit.org (David Coppit)
Date: Mon Apr 30 17:44:50 2007
Subject: [wp-hackers] Re: Detect if a plugin is calling function
In-Reply-To: <Pine.BSF.4.64.0704061433190.59003@www.provisio.net>
References: <ABCA601C-F4C6-4F5D-8DF1-C6B0904FAE0C@onecrayon.com>
	<1175883753.3961.13.camel@localhost>
	<Pine.BSF.4.64.0704061433190.59003@www.provisio.net>
Message-ID: <Pine.BSF.4.64.0704301341070.5750@www.provisio.net>

On Fri, 6 Apr 2007, David Coppit wrote:

> On Fri, 6 Apr 2007, Alex Gnsche wrote:
>
>> You could hook in before the other plugin, the add_action() and
>> add_filter() hooks provide an optional parameter to define the plugin
>> pririty. Plugins which don't use this parameter have a default value of
>> 10. Yours could use 7 or something.
>
> So setting the priority for Category Access to something like 1000 would
> have it filter *after* the other plugins filter it.

Hm... The problem still isn't solved. We wanted to be able to detect when
the categories or comments are being pulled for a plugin, rather than
being rendered for the user. For example, Akismet comments are being
modified by my plugin when they shouldn't be. Can anyone suggest a way to
detect whether a call to wp_list_categories is for user or not? Should I
deconstruct the stack?

David

_____________________________________________________________________
David Coppit                           david@coppit.org
The College of William and Mary        http://coppit.org/

"When the president does it that means that it is not illegal."
- Richard Nixon on domestic surveillance, 5/19/1977
"Do I have the legal authority to do this? And the answer is, absolutely."
- George W. Bush on domestic surveillance, 12/19/2005
From peter.westwood at ftwr.co.uk  Mon Apr 30 18:05:32 2007
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon Apr 30 18:07:20 2007
Subject: [wp-hackers] Re: Detect if a plugin is calling function
In-Reply-To: <Pine.BSF.4.64.0704301341070.5750@www.provisio.net>
References: <ABCA601C-F4C6-4F5D-8DF1-C6B0904FAE0C@onecrayon.com>
	<1175883753.3961.13.camel@localhost>
	<Pine.BSF.4.64.0704061433190.59003@www.provisio.net>
	<Pine.BSF.4.64.0704301341070.5750@www.provisio.net>
Message-ID: <972AAEDF-8320-4F5A-B947-7D4B77B8EF13@ftwr.co.uk>


On 30 Apr 2007, at 18:44, David Coppit wrote:

> On Fri, 6 Apr 2007, David Coppit wrote:
>
>> On Fri, 6 Apr 2007, Alex G?nsche wrote:
>>
>>> You could hook in before the other plugin, the add_action() and
>>> add_filter() hooks provide an optional parameter to define the  
>>> plugin
>>> pririty. Plugins which don't use this parameter have a default  
>>> value of
>>> 10. Yours could use 7 or something.
>>
>> So setting the priority for Category Access to something like 1000  
>> would
>> have it filter *after* the other plugins filter it.
>
> Hm... The problem still isn't solved. We wanted to be able to  
> detect when
> the categories or comments are being pulled for a plugin, rather than
> being rendered for the user. For example, Akismet comments are being
> modified by my plugin when they shouldn't be. Can anyone suggest a  
> way to
> detect whether a call to wp_list_categories is for user or not?  
> Should I
> deconstruct the stack?
>

Things that spring to mind as possible solutions are:

is_admin()
User Role

You need to identify when the template tags you are modifying are  
called and where you do/do not want to modifed the results.

Ideally if you are in an admin page then you probably don't want to  
limit the category access unless it is for a low level user.

westi
-- 
Peter Westwood <peter.westwood@ftwr.co.uk>
Blog: http://blog.ftwr.co.uk/
WordPress Plugins: http://blog.ftwr.co.uk/wordpress/



From mikea at turbonet.com  Mon Apr 30 19:02:50 2007
From: mikea at turbonet.com (Michael D Adams)
Date: Mon Apr 30 19:03:20 2007
Subject: [wp-hackers] how often does the cron job run for wordpress.org
	extend/plugins?
In-Reply-To: <462E93B0.3070607@kuykendall.org>
References: <462E93B0.3070607@kuykendall.org>
Message-ID: <0015B4A6-E8EE-45B4-B0C0-609AEC6D92B9@turbonet.com>

Several cron jobs conspire to make the plugin directory update, and  
each runs hourly.

Short story:  If you check in some changes before the hour, but you  
don't see the changes by fifteen minutes after the hour, either  
there's a bug/server problem, or you've done something wrong.

Common problems:

1.  If you want the plugin directory to base it's info on a  
particular tag, you must edit the readme file in the *trunk*  
directory so that it points to that tag with the "Stable Tag:" line.

2.  The plugin directory completely ignores everything outside the  
trunk and tags directories.  Custom directories are useless and the  
branches directory is ignored (but is potentially useful to you in  
development).

That's all I can think of off the top of my head.

Here's a few links to the docs in case anyone's missed them.

FAQ: http://wordpress.org/extend/plugins/about/faq/
Readme Standard: http://wordpress.org/extend/plugins/about/readme.txt
Readme Validator: http://wordpress.org/extend/plugins/about/validator/

On Apr 24, 2007, at 4:33 PM, Dan Kuykendall wrote:

> I just posted an update to my plugin podPress and was curious about  
> how
> long it will take for the new branch to be picked up on and  
> reflected on
> the site.
> No big deal, just curious
>
> -- 
> Dan Kuykendall (aka Seek3r)
> http://www.mightyseek.com
>
> In God we trust, all others we virus scan.
> Programmer - an organism that turns coffee into software.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From martin.fitzpatrick at gmail.com  Mon Apr 30 19:13:48 2007
From: martin.fitzpatrick at gmail.com (Martin Fitzpatrick)
Date: Mon Apr 30 19:13:53 2007
Subject: [wp-hackers] how often does the cron job run for wordpress.org
	extend/plugins?
In-Reply-To: <0015B4A6-E8EE-45B4-B0C0-609AEC6D92B9@turbonet.com>
References: <462E93B0.3070607@kuykendall.org>
	<0015B4A6-E8EE-45B4-B0C0-609AEC6D92B9@turbonet.com>
Message-ID: <196d50d70704301213j6c8ae2e8w2316c7e8c7c0b05@mail.gmail.com>

On 30/04/07, Michael D Adams <mikea@turbonet.com> wrote:
> Several cron jobs conspire to make the plugin directory update, and
> each runs hourly.
>
> Short story:  If you check in some changes before the hour, but you
> don't see the changes by fifteen minutes after the hour, either
> there's a bug/server problem, or you've done something wrong.

Thanks Michael, that explains my experience - presumably once I
checked in just before the hour and another time just after. I've
never had any problems with the updates appearing, but it is useful to
know timing so I can update my site with release notes/etc.

At the moment I was waiting ~24hrs to check and publicize the release
just be safe!

Thanks again for the explanation ...much appreciated.

Martin
From mikea at turbonet.com  Mon Apr 30 20:02:48 2007
From: mikea at turbonet.com (Michael D Adams)
Date: Mon Apr 30 20:03:17 2007
Subject: [wp-hackers] how often does the cron job run for wordpress.org
	extend/plugins?
In-Reply-To: <0015B4A6-E8EE-45B4-B0C0-609AEC6D92B9@turbonet.com>
References: <462E93B0.3070607@kuykendall.org>
	<0015B4A6-E8EE-45B4-B0C0-609AEC6D92B9@turbonet.com>
Message-ID: <255941FA-A361-4BF1-9A81-DE0D03275D07@turbonet.com>

Actually, I just updated the cron jobs to run every 15 minutes, so  
you should see less of a lag now.
Michael

On Apr 30, 2007, at 12:02 PM, Michael D Adams wrote:

> Common problems:
>
> 1.  If you want the plugin directory to base it's info on a  
> particular tag, you must edit the readme file in the *trunk*  
> directory so that it points to that tag with the "Stable Tag:" line.
>
> 2.  The plugin directory completely ignores everything outside the  
> trunk and tags directories.  Custom directories are useless and the  
> branches directory is ignored (but is potentially useful to you in  
> development).
>
> That's all I can think of off the top of my head.
>
> Here's a few links to the docs in case anyone's missed them.
>
> FAQ: http://wordpress.org/extend/plugins/about/faq/
> Readme Standard: http://wordpress.org/extend/plugins/about/readme.txt
> Readme Validator: http://wordpress.org/extend/plugins/about/validator/
>
> On Apr 24, 2007, at 4:33 PM, Dan Kuykendall wrote:
>
>> I just posted an update to my plugin podPress and was curious  
>> about how
>> long it will take for the new branch to be picked up on and  
>> reflected on
>> the site.
>> No big deal, just curious
>>
>> -- 
>> Dan Kuykendall (aka Seek3r)
>> http://www.mightyseek.com
>>
>> In God we trust, all others we virus scan.
>> Programmer - an organism that turns coffee into software.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

