From lynne.pope at gmail.com  Sun Feb  1 06:25:05 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Sun Feb  1 06:25:15 2009
Subject: [wp-hackers] Avoiding GUID collisions
Message-ID: <427667db0901312225nd5a9b53ge620e1fc518f4a95@mail.gmail.com>

Hi all,
Anyone know of any way to avoid issues with WP's guid's? Also, how to avoid
issues with feeds if the guid's are changed?

Note - I am looking for a code solution, not support for fixing a user
problem!

I encountered some issues with this scenario...

4 x blogs, all created locally then uploaded to the server.
Time passed, I decided to take down 3 blogs and move some content from each
of these into blog #4.
guid's of http://localhost/blog/?p=ID were not a problem on each individual
blog. However, on pulling the posts into the last blog I found that this URI
was duplicated and sometimes triplicated.

This defeats the purpose of a GUID, which should be a unique identifier.

I've run an SQL query to change all guid's to the new domain with the ID
taken from the post ID. This recreates a unique guid but I am unsure of the
implications for feeds.

The blogs I took down had content dating way back, and had come from
b2\cafelog and Nuke before that. Due to the massive amount of data I didn't
attempt to combine the databases to keep ID's soomewhat related to date
order. And due to the revisions in WP 2.6, the ID's climbed exponentially.
This means that ID's for recent content from blog 1 are in some cases
considerably lower than ID's for old content from blog 2.

With the change to the GUID is this likely to see the feeds from the new
domain throwing out really old content now?

Apart from that issue, I am concerned that sites I develop locally for
clients could run into the same issues should any clients decided to migrate
content from, say, company blog A and company blog B to company blog C.  If
I have managed to have so-called unique guid's being replicated for
different content others are bound to run into this too.

Lynne
From wordpress at dd32.id.au  Sun Feb  1 06:42:09 2009
From: wordpress at dd32.id.au (DD32)
Date: Sun Feb  1 06:42:23 2009
Subject: [wp-hackers] Avoiding GUID collisions
In-Reply-To: <427667db0901312225nd5a9b53ge620e1fc518f4a95@mail.gmail.com>
References: <427667db0901312225nd5a9b53ge620e1fc518f4a95@mail.gmail.com>
Message-ID: <45055a190901312242t3e40f661qbf83d94cd68b7307@mail.gmail.com>

You can certainly hook in somewhere and set the Guid to md5(time() .
microtime()); if you want.. I believe the Guids were changed to use
the non-pretty permalinks so that they wouldnt change, and so that
people who were currently using them as a permalink wouldnt end up
with completely broken links.

Yes, People would probably get a duplicated item in their inbox if
their client bases it off the Guid, Some base it off  a hash of the
other details (As theres some which do not supply a guid, or supply a
non-unique guid).. But theres a limited number of items in the rss
feed, from memory, 10-15ish so it wouldnt be a huge duplication.. Most
scrapers wouldnt remember previous items either.

One thing i do, is i dont use localhost, at all.
I use xxxx.dev.dd32.id.au, Each domain is a seperate site in my apache
install, You can set up virtualhosts so that it maps xxx to
www-home/sites/xxxx/ too, which speeds up setting things up. (Thats
assuming you can add a Wildcard DNS entry for the domain..)

2009/2/1 Lynne Pope <lynne.pope@gmail.com>:
> Hi all,
> Anyone know of any way to avoid issues with WP's guid's? Also, how to avoid
> issues with feeds if the guid's are changed?
>
> Note - I am looking for a code solution, not support for fixing a user
> problem!
>
> I encountered some issues with this scenario...
>
> 4 x blogs, all created locally then uploaded to the server.
> Time passed, I decided to take down 3 blogs and move some content from each
> of these into blog #4.
> guid's of http://localhost/blog/?p=ID were not a problem on each individual
> blog. However, on pulling the posts into the last blog I found that this URI
> was duplicated and sometimes triplicated.
>
> This defeats the purpose of a GUID, which should be a unique identifier.
>
> I've run an SQL query to change all guid's to the new domain with the ID
> taken from the post ID. This recreates a unique guid but I am unsure of the
> implications for feeds.
>
> The blogs I took down had content dating way back, and had come from
> b2\cafelog and Nuke before that. Due to the massive amount of data I didn't
> attempt to combine the databases to keep ID's soomewhat related to date
> order. And due to the revisions in WP 2.6, the ID's climbed exponentially.
> This means that ID's for recent content from blog 1 are in some cases
> considerably lower than ID's for old content from blog 2.
>
> With the change to the GUID is this likely to see the feeds from the new
> domain throwing out really old content now?
>
> Apart from that issue, I am concerned that sites I develop locally for
> clients could run into the same issues should any clients decided to migrate
> content from, say, company blog A and company blog B to company blog C.  If
> I have managed to have so-called unique guid's being replicated for
> different content others are bound to run into this too.
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From jayarjo at gmail.com  Sun Feb  1 09:46:23 2009
From: jayarjo at gmail.com (David Barbakadze)
Date: Sun Feb  1 09:46:31 2009
Subject: [wp-hackers] Redefine wp_install_defaults() ?..
Message-ID: <9aa12a490902010146w45ddbc45wd31bc130e0384afa@mail.gmail.com>

Is it possible to redefine wp_install_defaults() and leave core file
intact? I've found out that it is pluggable, but I'm not sure if I can
make it being included without touching core WP files.
From otto at ottodestruct.com  Sun Feb  1 13:25:59 2009
From: otto at ottodestruct.com (Otto)
Date: Sun Feb  1 13:26:07 2009
Subject: [wp-hackers] Redefine wp_install_defaults() ?..
In-Reply-To: <9aa12a490902010146w45ddbc45wd31bc130e0384afa@mail.gmail.com>
References: <9aa12a490902010146w45ddbc45wd31bc130e0384afa@mail.gmail.com>
Message-ID: <161617690902010525y27dbac21of84168ac7c6340f3@mail.gmail.com>

On Sun, Feb 1, 2009 at 3:46 AM, David Barbakadze <jayarjo@gmail.com> wrote:
> Is it possible to redefine wp_install_defaults() and leave core file
> intact? I've found out that it is pluggable, but I'm not sure if I can
> make it being included without touching core WP files.

Yes, it's possible. Create an install.php file in the wp-content
directory. That will be loaded before the upgrade script, and you can
put your function there to override the existing one.

-Otto
From derek at amphibian.info  Sun Feb  1 13:27:13 2009
From: derek at amphibian.info (Derek Hogue)
Date: Sun Feb  1 13:27:27 2009
Subject: [wp-hackers] Translation problems after automatic plugin upgrade
Message-ID: <6B090446-B5B2-4C2E-B6FC-3FB39EF1DB9F@amphibian.info>

Hey all,

Some users of my plugin have been reporting for awhile that after  
performing an automatic plugin upgrade, the plugin is no longer  
displaying in their localized language.  The .mo files are indeed in  
their correct location, but they will not load.  Downloading the  
plugin manually and re-uploading the .mo files via FTP fixes the  
problem.

Has anyone else experienced this?  Any idea as to why this might be,  
and how to fix it?

Thanks,
Derek
--
GigPress: tour management for WordPress
http://gigpress.com



From mike_walsh at mindspring.com  Sun Feb  1 15:43:09 2009
From: mike_walsh at mindspring.com (Mike Walsh)
Date: Sun Feb  1 15:43:35 2009
Subject: [wp-hackers] Admin Menu Icons and Text?
Message-ID: <006101c98483$c8c81db0$5a585910$@com>

I am doing some work on my Swim Team plugin and have added a top level menu
with a custom icon to the Dashboard.  It works but I guessed on the proper
size of the icon (20x20) because I couldn't find the proper information
anywhere.  The WordPress icons are all in one file and displayed using CSS
offsets so it isn't easy to tell from the icons that ship with 2.7.  Does
anyone know the proper icon size?

 

My other question is about the top level menu itself - when I add the top
level menu, I get what I want but I also get a submenu with the same name.
I'd like the submenu to have different text (like 'Appearance' has 'Themes'
and 'Settings' has 'General').  Is there a way to do this with
add_menu_page() and add_submenu_page()?  I couldn't find it.

 

Thanks,

 

Mike

--

Mike Walsh - mike underscore walsh at mindspring dot com

 

From frank at bueltge.de  Sun Feb  1 15:50:55 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Sun Feb  1 15:51:08 2009
Subject: [wp-hackers] Admin Menu Icons and Text?
In-Reply-To: <006101c98483$c8c81db0$5a585910$@com>
References: <006101c98483$c8c81db0$5a585910$@com>
Message-ID: <db047a770902010750v28aec4f1ob295d21a957942f2@mail.gmail.com>

I use a icon form 33x64 pixel and use css-sprites for the mouseover effect.
see here for a examble:
http://wpengineer.com/top-level-menu-in-wordpress-27/


On Sun, Feb 1, 2009 at 4:43 PM, Mike Walsh <mike_walsh@mindspring.com>wrote:

> I am doing some work on my Swim Team plugin and have added a top level menu
> with a custom icon to the Dashboard.  It works but I guessed on the proper
> size of the icon (20x20) because I couldn't find the proper information
> anywhere.  The WordPress icons are all in one file and displayed using CSS
> offsets so it isn't easy to tell from the icons that ship with 2.7.  Does
> anyone know the proper icon size?
>
>
>
> My other question is about the top level menu itself - when I add the top
> level menu, I get what I want but I also get a submenu with the same name.
> I'd like the submenu to have different text (like 'Appearance' has 'Themes'
> and 'Settings' has 'General').  Is there a way to do this with
> add_menu_page() and add_submenu_page()?  I couldn't find it.
>
>
>
> Thanks,
>
>
>
> Mike
>
> --
>
> Mike Walsh - mike underscore walsh at mindspring dot com
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mpwalsh8 at gmail.com  Sun Feb  1 16:00:00 2009
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Sun Feb  1 16:00:14 2009
Subject: [wp-hackers] Admin Menu Icons and Text?
In-Reply-To: <db047a770902010750v28aec4f1ob295d21a957942f2@mail.gmail.com>
References: <006101c98483$c8c81db0$5a585910$@com>
	<db047a770902010750v28aec4f1ob295d21a957942f2@mail.gmail.com>
Message-ID: <bd35beb50902010800u16c0875dif9c9f2649668ad66@mail.gmail.com>

Thanks for the example - I'd see one other that talked about the use
of DIV to display a different icon using hover but your example is
much easier to follow.

Mike

On Sun, Feb 1, 2009 at 10:50 AM, Frank Bueltge <frank@bueltge.de> wrote:
> I use a icon form 33x64 pixel and use css-sprites for the mouseover effect.
> see here for a examble:
> http://wpengineer.com/top-level-menu-in-wordpress-27/
>
>
> On Sun, Feb 1, 2009 at 4:43 PM, Mike Walsh <mike_walsh@mindspring.com>wrote:
>
>> I am doing some work on my Swim Team plugin and have added a top level menu
>> with a custom icon to the Dashboard.  It works but I guessed on the proper
>> size of the icon (20x20) because I couldn't find the proper information
>> anywhere.  The WordPress icons are all in one file and displayed using CSS
>> offsets so it isn't easy to tell from the icons that ship with 2.7.  Does
>> anyone know the proper icon size?
>>
>>
>>
>> My other question is about the top level menu itself - when I add the top
>> level menu, I get what I want but I also get a submenu with the same name.
>> I'd like the submenu to have different text (like 'Appearance' has 'Themes'
>> and 'Settings' has 'General').  Is there a way to do this with
>> add_menu_page() and add_submenu_page()?  I couldn't find it.
>>
>>
>>
>> Thanks,
>>
>>
>>
>> Mike
>>
>> --
>>
>> Mike Walsh - mike underscore walsh at mindspring dot com
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mpwalsh8 at gmail.com  Sun Feb  1 16:01:32 2009
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Sun Feb  1 16:01:41 2009
Subject: [wp-hackers] Sandbox in WP Core?
Message-ID: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>

Not sure if this is appropriate for this list but this group is the
best resource I can think of for this question ...

Does anyone know if Sanbox is likely to become part of WP's core?  It
was posed in a one of the WordPress.org surveys and is mentioned on a
few older blog posts but I haven't found anything recent.

I have built a prototype of a theme on Sandbox but am not sure I want
to continue if it is a dead end project.

Mike
From ncrice at gmail.com  Sun Feb  1 16:03:39 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Sun Feb  1 16:03:52 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
References: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
Message-ID: <862d087f0902010803l323300as8c2d13bef123f62a@mail.gmail.com>

I can't imagine why it would be.

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Sun, Feb 1, 2009 at 11:01 AM, Mike Walsh <mpwalsh8@gmail.com> wrote:

> Not sure if this is appropriate for this list but this group is the
> best resource I can think of for this question ...
>
> Does anyone know if Sanbox is likely to become part of WP's core?  It
> was posed in a one of the WordPress.org surveys and is mentioned on a
> few older blog posts but I haven't found anything recent.
>
> I have built a prototype of a theme on Sandbox but am not sure I want
> to continue if it is a dead end project.
>
> Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From if.website at gmail.com  Sun Feb  1 16:14:11 2009
From: if.website at gmail.com (Austin Matzko)
Date: Sun Feb  1 16:14:22 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
References: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
Message-ID: <674b4a3b0902010814g62d592a2l3c9e22076d44bb1c@mail.gmail.com>

On Sun, Feb 1, 2009 at 10:01 AM, Mike Walsh <mpwalsh8@gmail.com> wrote:
> Does anyone know if Sanbox is likely to become part of WP's core?  It
> was posed in a one of the WordPress.org surveys and is mentioned on a
> few older blog posts but I haven't found anything recent.

This has been proposed before, but it's been a while[1].  However,
since it seems the theme hasn't been updated since July and its lead
developer is trying to sell off the related domains[2], I don't think
it's likely any more.

> I have built a prototype of a theme on Sandbox but am not sure I want
> to continue if it is a dead end project.

Sandbox is GPL-licensed, so I expect it will continue in some form or another.

[1] http://comox.textdrive.com/pipermail/wp-hackers/2007-May/012567.html
[2] http://www.plaintxt.org/2009/01/looking-for-a-wordpress-brand/
From yahgrp at poplarware.com  Sun Feb  1 16:17:21 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Sun Feb  1 16:15:08 2009
Subject: [wp-hackers] Translation problems after automatic plugin upgrade
In-Reply-To: <6B090446-B5B2-4C2E-B6FC-3FB39EF1DB9F@amphibian.info>
References: <6B090446-B5B2-4C2E-B6FC-3FB39EF1DB9F@amphibian.info>
Message-ID: <4985CB11.1080301@poplarware.com>

This is only a wild guess, but is it possible that the plugin upgrade 
code is incorrectly transferring the MO files using ASCII instead of 
binary mode (they are binary files, unlike PO and POT files, which are 
plain text)?

    --Jennifer

Derek Hogue wrote:
> Some users of my plugin have been reporting for awhile that after 
> performing an automatic plugin upgrade, the plugin is no longer 
> displaying in their localized language.  The .mo files are indeed in 
> their correct location, but they will not load.  Downloading the plugin 
> manually and re-uploading the .mo files via FTP fixes the problem.

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From r at schestowitz.com  Sun Feb  1 16:26:36 2009
From: r at schestowitz.com (Roy Schestowitz)
Date: Sun Feb  1 16:31:12 2009
Subject: [wp-hackers] WP-Hackers Stats for January 2009
Message-ID: <4985CD3C.2010101@schestowitz.com>

  ?  Times are Greenwich Mean Time (GMT) +0:00

  ?  Statistics span a period of one month

  ?  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  ?  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________



Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | mikeschinkel newclarity.net                  |   63 |  9.21 % |
|  2 | wordpress dd32.id.au                         |   45 |  6.58 % |
|  3 | otto ottodestruct.com                        |   36 |  5.26 % |
|  4 | mikeschinkel gmail.com                       |   22 |  3.22 % |
|  5 | ryanmccue cubegames.net                      |   22 |  3.22 % |
|  6 | lynne.pope gmail.com                         |   21 |  3.07 % |
|  7 | scribu gmail.com                             |   19 |  2.78 % |
|  8 | wp-hackers striderweb.com                    |   19 |  2.78 % |
|  9 | gaarai gaarai.com                            |   17 |  2.49 % |
| 10 | ozh planetozh.com                            |   16 |  2.34 % |
| 11 | jeremy.visser gmail.com                      |   12 |  1.75 % |
| 12 | flo.thiel+wphackers googlemail.com           |   12 |  1.75 % |
| 13 | if.website gmail.com                         |   12 |  1.75 % |
| 14 | glenn glennansley.com                        |   11 |  1.61 % |
| 15 | emmensetech gmail.com                        |   11 |  1.61 % |
| 16 | gamito gmail.com                             |   10 |  1.46 % |
| 17 | joost yoast.com                              |   10 |  1.46 % |
| 18 | wordpress santosj.name                       |   10 |  1.46 % |
| 19 | johan.eenfeldt gmail.com                     |    9 |  1.32 % |
| 20 | hempsworth googlemail.com                    |    9 |  1.32 % |
| 21 | ncrice gmail.com                             |    9 |  1.32 % |
| 22 | will willnorris.com                          |    8 |  1.17 % |
| 23 | peter.westwood ftwr.co.uk                    |    8 |  1.17 % |
| 24 | cclarkson htcomp.net                         |    8 |  1.17 % |
| 25 | jayarjo gmail.com                            |    7 |  1.02 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  258 | 37.72 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | mikeschinkel newclarity.net                          |   79.2 |
|  2 | mikeschinkel gmail.com                               |   50.2 |
|  3 | wordpress dd32.id.au                                 |   36.9 |
|  4 | gaarai gaarai.com                                    |   30.6 |
|  5 | otto ottodestruct.com                                |   21.5 |
|  6 | lynne.pope gmail.com                                 |   19.4 |
|  7 | wordpress santosj.name                               |   18.3 |
|  8 | flo.thiel+wphackers googlemail.com                   |   17.8 |
|  9 | daiv daivmowbray.com                                 |   13.3 |
| 10 | wp-hackers striderweb.com                            |   11.7 |
| 11 | jeremy.visser gmail.com                              |    9.7 |
| 12 | ozh planetozh.com                                    |    9.6 |
| 13 | scribu gmail.com                                     |    8.8 |
| 14 | ryanmccue cubegames.net                              |    8.8 |
| 15 | will willnorris.com                                  |    8.7 |
| 16 | emmensetech gmail.com                                |    7.8 |
| 17 | johan.eenfeldt gmail.com                             |    7.4 |
| 18 | paul codehooligans.com                               |    6.6 |
| 19 | gamito gmail.com                                     |    6.5 |
| 20 | peter.westwood ftwr.co.uk                            |    6.3 |
| 21 | if.website gmail.com                                 |    6.0 |
| 22 | cclarkson htcomp.net                                 |    5.9 |
| 23 | glenn glennansley.com                                |    5.8 |
| 24 | jer-wphackers simianuprising.com                     |    5.7 |
| 25 | hempsworth googlemail.com                            |    5.7 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | donny_loverboy live.nl                                |  4391 |
|  2 | mikeschinkel gmail.com                                |  2336 |
|  3 | daiv daivmowbray.com                                  |  1941 |
|  4 | wordpress santosj.name                                |  1874 |
|  5 | sales emailappeal.com                                 |  1874 |
|  6 | gaarai gaarai.com                                     |  1840 |
|  7 | flo.thiel+wphackers googlemail.com                    |  1515 |
|  8 | eckman.john gmail.com                                 |  1474 |
|  9 | lists i-sommer.de                                     |  1469 |
| 10 | skeltoac gmail.com                                    |  1300 |
| 11 | mikeschinkel newclarity.net                           |  1287 |
| 12 | shacker birdhouse.org                                 |  1239 |
| 13 | kazeneko gmail.com                                    |  1217 |
| 14 | burobjorn gmail.com                                   |  1212 |
| 15 | alister alistercameron.com                            |  1147 |
| 16 | will willnorris.com                                   |  1118 |
| 17 | wp-hackers itsananderson.com                          |  1085 |
| 18 | derek amphibian.info                                  |  1047 |
| 19 | yahgrp poplarware.com                                 |  1043 |
| 20 | dan eliresearch.com                                   |  1019 |
| 21 | scompt scompt.com                                     |   988 |
| 22 | g30rg3x gmail.com                                     |   979 |
| 23 | paul codehooligans.com                                |   959 |
| 24 | lynne.pope gmail.com                                  |   944 |
| 25 | regulatethis gmail.com                                |   937 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] Making WP more secure the evolu |   41 |  5.99 % |
|  2 | [wp-hackers] Plugin Upgrade Failing when usi |   34 |  4.97 % |
|  3 | [wp-hackers] Help with the API on WordPress. |   26 |  3.80 % |
|  4 | [wp-hackers] overriding pluggable.php functi |   22 |  3.22 % |
|  5 | [wp-hackers] MediaRSS plugin in Core         |   20 |  2.92 % |
|  6 | [wp-hackers] Gravatar + Feed integration for |   18 |  2.63 % |
|  7 | [wp-hackers] Re: filter the_exceprt          |   17 |  2.49 % |
|  8 | [wp-hackers] Ignore Portions of URI          |   16 |  2.34 % |
|  9 | [wp-hackers] distinguish plugin options?     |   16 |  2.34 % |
| 10 | [wp-hackers] Adding meta data to categories  |   16 |  2.34 % |
| 11 | [wp-hackers] Seeking some advice             |   14 |  2.05 % |
| 12 | [wp-hackers] shortcode for images?           |   14 |  2.05 % |
| 13 | [wp-hackers] PHP5                            |   14 |  2.05 % |
| 14 | [wp-hackers] Free themes have backlinks and  |   13 |  1.90 % |
| 15 | [wp-hackers] [PATCH] Improve performance of  |   11 |  1.61 % |
| 16 | [wp-hackers] Removing wp_admin_css from logi |   11 |  1.61 % |
| 17 | [wp-hackers] Difference between is_home and  |   11 |  1.61 % |
| 18 | [wp-hackers] wp_register_script() vs. wp_enq |   11 |  1.61 % |
| 19 | [wp-hackers] Plugin Update                   |   11 |  1.61 % |
| 20 | [wp-hackers] Set a unique directory for uplo |   10 |  1.46 % |
| 21 | [wp-hackers] Filter/Action for non-standard  |   10 |  1.46 % |
| 22 | [wp-hackers] Replace default doctype on one  |   10 |  1.46 % |
| 23 | [wp-hackers] Re: Some feeds will not display |    9 |  1.32 % |
| 24 | [wp-hackers] How to remove captions on the h |    9 |  1.32 % |
| 25 | [wp-hackers] Adding Google map inside post e |    9 |  1.32 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |  291 | 42.54 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  374 | 54.68 % |
|  2 | Thunderbird 2.0.0.19 (Windows/20081209)      |   74 | 10.82 % |
|  3 | Apple Mail (2.930.3)                         |   70 | 10.23 % |
|  4 | Zimbra 5.0.10_GA_2638.RHEL5_64               |   42 |  6.14 % |
|  5 | Zimbra 5.0.10_GA_2638.RHEL5_64 (Yahoo! Zimbr |   21 |  3.07 % |
|  6 | Apple Mail (2.929.2)                         |   12 |  1.75 % |
|  7 | Evolution 2.22.3.1                           |   12 |  1.75 % |
|  8 | Apple Mail (2.753.1)                         |   11 |  1.61 % |
|  9 | Mozilla/5.x                                  |   10 |  1.46 % |
| 10 | Lotus Notes Release 7.0                      |    9 |  1.32 % |
| 11 | Thunderbird 2.0.0.12 (Windows/20080213)      |    9 |  1.32 % |
| 12 | Thunderbird 2.0.0.19 (X11/20090105)          |    9 |  1.32 % |
| 13 | Industrious bit-pushing elves                |    6 |  0.88 % |
| 14 | G2/1.0                                       |    3 |  0.44 % |
| 15 | Microsoft-Entourage/11.4.0.080122            |    3 |  0.44 % |
| 16 | Mutt                                         |    2 |  0.29 % |
| 17 | RoundCube Webmail/0.2a                       |    2 |  0.29 % |
| 18 | Internet Messaging Program (IMP) H3 (4.1.6)  |    2 |  0.29 % |
| 19 | Opera Mail/10.00 (Win32)                     |    2 |  0.29 % |
| 20 | YahooMailRC/1155.45 YahooMailWebService/0.7. |    2 |  0.29 % |
| 21 | Turnpike/6.07-M (<OoLGtDLikIPwDFx9LYATXjDBBz |    1 |  0.15 % |
| 22 | Turnpike/6.07-M (<JaIGtLMFkIfIZEx9gPATX$LOGe |    1 |  0.15 % |
| 23 | Thunderbird 2.0.0.18 (X11/20081125)          |    1 |  0.15 % |
| 24 | Thunderbird 2.0.0.14 (Windows/20080421)      |    1 |  0.15 % |
| 25 | Microsoft Office Outlook 12.0                |    1 |  0.15 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    4 |  0.58 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | gigalinux gmail.com                                 | 78.57 % |
|  2 | chris clwill.com                                    | 78.11 % |
|  3 | aesqe skyphe.org                                    | 76.41 % |
|  4 | aaron xavisys.com                                   | 76.37 % |
|  5 | niladam gmail.com                                   | 75.69 % |
|  6 | joost yoast.com                                     | 75.52 % |
|  7 | johnbillion+wp gmail.com                            | 75.51 % |
|  8 | dhruva.sagar gmail.com                              | 75.19 % |
|  9 | frank bueltge.de                                    | 74.58 % |
| 10 | jason intraffic.net                                 | 74.28 % |
| 11 | joelfisher gmail.com                                | 72.50 % |
| 12 | donny_loverboy live.nl                              | 72.21 % |
| 13 | photofantaisie gmail.com                            | 71.89 % |
| 14 | TurnerJD cofc.edu                                   | 70.42 % |
| 15 | g30rg3x gmail.com                                   | 70.32 % |
| 16 | wordpress tekartist.org                             | 70.13 % |
| 17 | wordpress redfootwebdesign.com                      | 69.97 % |
| 18 | somani.mayur gmail.com                              | 69.86 % |
| 19 | mpwalsh8 gmail.com                                  | 69.80 % |
| 20 | raven mecus.es                                      | 69.59 % |
| 21 | jfontainhas gmail.com                               | 69.33 % |
| 22 | lilla.molnet gmail.com                              | 69.04 % |
| 23 | ron cavemonkey50.com                                | 66.90 % |
| 24 | super.pengki kasatmata.net                          | 65.59 % |
| 25 | casey.bisson gmail.com                              | 65.08 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 43.40 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% ---------------------------#-------#------------- - 48
 90% -----------------------#---#-------#------------- msgs
 80% -----------------------#---#-#---#-#---------#---
 70% -------------------#---#---#-#---#-#-#-#-#---#---
 60% -#-----------------#-#-#-#-#-#-#-#-#-#-#-#---#-#-
 50% -#-----------------#-#-#-#-#-#-#-#-#-#-#-#---#-#-
 40% -#---------------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 30% -#-#-#-----------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 20% -#-#-#---------#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
 10% -#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -------------------------------------------#------------------- - 61
 90% -------------------------------------------#------------------- msgs
 80% -------------------------------------------#-------------#-----
 70% -----------------------------#-#-----------#-------------#-----
 60% -----------------------------#-#---------#-#-------#-----#-#---
 50% -----------------------------#-#-------#-#-#-------#-----#-#---
 40% ---------------------------#-#-#-------#-#-#-------#-----#-#---
 30% ---#-----#-------------#---#-#-#-------#-#-#-------#-----#-#---
 20% -#-#-----#-----#-#-#-#-#---#-#-#---#-#-#-#-#-#-----#-#-#-#-#---
 10% -#-#-#---#---#-#-#-#-#-#-#-#-#-#---#-#-#-#-#-#-#-#-#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% -------------#--------------- - 192
 90% -------------#--------------- msgs
 80% -------------#---------------
 70% -------------#---#-----------
 60% -------------#---#-----------
 50% -#-----------#---#-----------
 40% -#-------#---#---#-----------
 30% -#---#---#---#---#-----------
 20% -#---#---#---#---#---#---#---
 10% -#---#---#---#---#---#---#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : wordpress dd32.id.au
      Subject    : [wp-hackers] Help with the API on WordPress.org?
      Date       : Fri, 2 Jan 2009 11:29:47 +1100
      Quote ratio: 96.52% / 9362 bytes

***** Longest message:
      Author     : donny_loverboy live.nl
      Subject    : [wp-hackers] RE: wp-hackers Digest, Vol 48, Issue 48
      Date       : Sat, 17 Jan 2009 09:09:43 +0100
      Size       : 15804 bytes

***** Most successful subject:
      Subject    : [wp-hackers] Making WP more secure the evolutionary way
      No. of msgs: 41
      Total size : 120482 bytes

***** Final summary:
      Total number of messages:             684
      Total number of different authors:    116
      Total number of different subjects:   122
      Total size of messages (w/o headers): 1031147 bytes
      Average size of a message:            1507 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.
From niladam at gmail.com  Sun Feb  1 20:37:30 2009
From: niladam at gmail.com (madalin)
Date: Sun Feb  1 20:37:44 2009
Subject: [wp-hackers] Blogger to WordPress ?
Message-ID: <df809b110902011237m2e39af33naf56b9cff141afa4@mail.gmail.com>

Hello,

I've managed (after 3 days) to import from blogspot (libxml was
broken, had to reinstall it) over to self-hosted wordpress. I've been
reading almost anything i could find about a redirection from
blogspot. Even tried their service (actually this sucks, it requires
the user to click YES in order to function) of redirection but
everything failed. The only one that worked is blogspot's lame
redirection service. No luck.

I know this is probably not the place for this type of questions, but
DOES anyone have a tutorial about or can provide a hand on this one ?
Almost every tutorial out-there says place this code (javascript)
below <Blogger> tag. But that doesn't exist.

Please provide me with a hint or such.

Thanks,
madalin
http://madalin.eu
From scribu at gmail.com  Sun Feb  1 21:30:54 2009
From: scribu at gmail.com (scribu)
Date: Sun Feb  1 21:31:04 2009
Subject: [wp-hackers] Blogger to WordPress ?
In-Reply-To: <df809b110902011237m2e39af33naf56b9cff141afa4@mail.gmail.com>
References: <df809b110902011237m2e39af33naf56b9cff141afa4@mail.gmail.com>
Message-ID: <349fe48b0902011330g66dabdebodcd3807e23e8f23f@mail.gmail.com>

Couldn't you just do a javascript redirect as in <body onload="location='
http://example.com' "> ?

On Sun, Feb 1, 2009 at 10:37 PM, madalin <niladam@gmail.com> wrote:

> Hello,
>
> I've managed (after 3 days) to import from blogspot (libxml was
> broken, had to reinstall it) over to self-hosted wordpress. I've been
> reading almost anything i could find about a redirection from
> blogspot. Even tried their service (actually this sucks, it requires
> the user to click YES in order to function) of redirection but
> everything failed. The only one that worked is blogspot's lame
> redirection service. No luck.
>
> I know this is probably not the place for this type of questions, but
> DOES anyone have a tutorial about or can provide a hand on this one ?
> Almost every tutorial out-there says place this code (javascript)
> below <Blogger> tag. But that doesn't exist.
>
> Please provide me with a hint or such.
>
> Thanks,
> madalin
> http://madalin.eu
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From gaarai at gaarai.com  Sun Feb  1 21:40:03 2009
From: gaarai at gaarai.com (Gaarai)
Date: Sun Feb  1 21:41:09 2009
Subject: [wp-hackers] Blogger to WordPress ?
In-Reply-To: <df809b110902011237m2e39af33naf56b9cff141afa4@mail.gmail.com>
References: <df809b110902011237m2e39af33naf56b9cff141afa4@mail.gmail.com>
Message-ID: <498616B3.1070107@gaarai.com>

Most times, a quick google search (redirect blogger account) produces gold.

301 Permanent Redirect from Blogger Beta to WordPress 
<http://www.techcounter.com/wordpress/301-permanent-redirect-from-blogger-beta-to-wordpress/>

The site even has instructions on how to do the import process. This 
could have saved you some time.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/



madalin wrote:
> Hello,
>
> I've managed (after 3 days) to import from blogspot (libxml was
> broken, had to reinstall it) over to self-hosted wordpress. I've been
> reading almost anything i could find about a redirection from
> blogspot. Even tried their service (actually this sucks, it requires
> the user to click YES in order to function) of redirection but
> everything failed. The only one that worked is blogspot's lame
> redirection service. No luck.
>
> I know this is probably not the place for this type of questions, but
> DOES anyone have a tutorial about or can provide a hand on this one ?
> Almost every tutorial out-there says place this code (javascript)
> below <Blogger> tag. But that doesn't exist.
>
> Please provide me with a hint or such.
>
> Thanks,
> madalin
> http://madalin.eu
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From niladam at gmail.com  Sun Feb  1 21:56:51 2009
From: niladam at gmail.com (madalin)
Date: Sun Feb  1 21:57:05 2009
Subject: [wp-hackers] Blogger to WordPress ?
In-Reply-To: <498616B3.1070107@gaarai.com>
References: <df809b110902011237m2e39af33naf56b9cff141afa4@mail.gmail.com>
	<498616B3.1070107@gaarai.com>
Message-ID: <df809b110902011356s71f48685mf0018bdd009cf7ad@mail.gmail.com>

Hello.

I actually managed to fix this. After i've read ALL those tutorials
(including Chris Jean's suggestion) i managed it by applying the
classic default theme to the blog, adding a javascript redirect.

As for the simple redirect with onload, this was a not. We wanted to
pass the post's title to the new blog.

Anyway, i fixed it and thanks for your suggestions!:)

Madalin

On Sun, Feb 1, 2009 at 11:40 PM, Gaarai <gaarai@gaarai.com> wrote:
> Most times, a quick google search (redirect blogger account) produces gold.
>
> 301 Permanent Redirect from Blogger Beta to WordPress
> <http://www.techcounter.com/wordpress/301-permanent-redirect-from-blogger-beta-to-wordpress/>
>
> The site even has instructions on how to do the import process. This could
> have saved you some time.
>
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
>
>
>
> madalin wrote:
>>
>> Hello,
>>
>> I've managed (after 3 days) to import from blogspot (libxml was
>> broken, had to reinstall it) over to self-hosted wordpress. I've been
>> reading almost anything i could find about a redirection from
>> blogspot. Even tried their service (actually this sucks, it requires
>> the user to click YES in order to function) of redirection but
>> everything failed. The only one that worked is blogspot's lame
>> redirection service. No luck.
>>
>> I know this is probably not the place for this type of questions, but
>> DOES anyone have a tutorial about or can provide a hand on this one ?
>> Almost every tutorial out-there says place this code (javascript)
>> below <Blogger> tag. But that doesn't exist.
>>
>> Please provide me with a hint or such.
>>
>> Thanks,
>> madalin
>> http://madalin.eu
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Regards,
madalin
http://madalin.eu
From beau at dentedreality.com.au  Sun Feb  1 21:58:32 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Sun Feb  1 21:58:45 2009
Subject: [wp-hackers] New LiveJournal Importer (please test)
Message-ID: <902424490902011358i2f4fe129gb842a0a2ba227f2d@mail.gmail.com>

Hi All,

I've added a drop-in replacement for the old LiveJournal importer. The
new one uses the LJ API to make the whole process a lot easier/more
bearable, especially for people with big LJ blogs.

If any of you know someone who could try it out (or if you have an LJ
blog yourself), can you please try it out and see if there's anything
that's not transferring/working properly? All you need to do is get
the latest trunk and you'll have it, then go to Tools > Import >
LiveJournal and follow the prompts (currently English only).

Known Issues:

 - Single quotes are being converted in a way that makes IE display
them incorrectly. Try changing line 238 to the following to
(hopefully) fix it, and please let me know if this does/doesn't work
for you:

        $trans_tbl = get_html_translation_table(HTML_ENTITIES, ENT_QUOTES);

 - Embedded media (e.g. YouTube videos) don't transfer properly:
Unfortunately this is a result of the way LJ's API works. They don't
translate their internal "<lj-embed/>" tags into the actual embedded
code, so we never get it. I'm looking at some options on how to get
around this, but they're all pretty ugly at the moment.

Please report any findings on Trac: http://trac.wordpress.org/ticket/8999

Thanks in advance,

Beau

-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From jidanni at jidanni.org  Sun Feb  1 23:02:15 2009
From: jidanni at jidanni.org (jidanni@jidanni.org)
Date: Sun Feb  1 23:02:30 2009
Subject: [wp-hackers] wouldn't internal links be more efficient?
Message-ID: <877i493gnc.fsf@jidanni.org>

Gentlemen, I notice large parts, but not all, of WordPress produced
HTML has absolute URLs href="http://..." when internal links
href="/bla" or even href="bla" would be more efficient.

It seems that there is nothing the user can do about this from the
admin panels.
From scribu at gmail.com  Sun Feb  1 23:06:59 2009
From: scribu at gmail.com (scribu)
Date: Sun Feb  1 23:07:12 2009
Subject: [wp-hackers] wouldn't internal links be more efficient?
In-Reply-To: <877i493gnc.fsf@jidanni.org>
References: <877i493gnc.fsf@jidanni.org>
Message-ID: <349fe48b0902011506v545b54b1r250803a772b3b9be@mail.gmail.com>

One reason might be the fact that you can have encrypted pages that begin
with https://

On Mon, Feb 2, 2009 at 1:02 AM, <jidanni@jidanni.org> wrote:

> Gentlemen, I notice large parts, but not all, of WordPress produced
> HTML has absolute URLs href="http://..." when internal links
> href="/bla" or even href="bla" would be more efficient.
>
> It seems that there is nothing the user can do about this from the
> admin panels.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From wordpress at dd32.id.au  Sun Feb  1 23:14:41 2009
From: wordpress at dd32.id.au (DD32)
Date: Sun Feb  1 23:14:53 2009
Subject: [wp-hackers] Translation problems after automatic plugin upgrade
In-Reply-To: <4985CB11.1080301@poplarware.com>
References: <6B090446-B5B2-4C2E-B6FC-3FB39EF1DB9F@amphibian.info>
	<4985CB11.1080301@poplarware.com>
Message-ID: <45055a190902011514r7993cc9cg5b40b89e0f250373@mail.gmail.com>

Binary vs. Ascii would indeed be the cause of it.

What WP Versions, Which plugin (An exact plugin helps sometimes, not
all .mo's are going to be the same), Do you have a setup which has the
same problem that you can do some testing on? etc.

2009/2/2 Jennifer Hodgdon <yahgrp@poplarware.com>:
> This is only a wild guess, but is it possible that the plugin upgrade code
> is incorrectly transferring the MO files using ASCII instead of binary mode
> (they are binary files, unlike PO and POT files, which are plain text)?
>
>   --Jennifer
>
> Derek Hogue wrote:
>>
>> Some users of my plugin have been reporting for awhile that after
>> performing an automatic plugin upgrade, the plugin is no longer displaying
>> in their localized language.  The .mo files are indeed in their correct
>> location, but they will not load.  Downloading the plugin manually and
>> re-uploading the .mo files via FTP fixes the problem.
>
> --
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
>
> Drupal/WordPress Sites, Themes, Modules/Plugins
> Custom Web Programming, Web Databases
> PHP, Perl, MySQL, JavaScript, XML, AJAX
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wordpress at dd32.id.au  Sun Feb  1 23:17:03 2009
From: wordpress at dd32.id.au (DD32)
Date: Sun Feb  1 23:17:15 2009
Subject: [wp-hackers] wouldn't internal links be more efficient?
In-Reply-To: <349fe48b0902011506v545b54b1r250803a772b3b9be@mail.gmail.com>
References: <877i493gnc.fsf@jidanni.org>
	<349fe48b0902011506v545b54b1r250803a772b3b9be@mail.gmail.com>
Message-ID: <45055a190902011517g335ea824mabf1bdeba6fa8518@mail.gmail.com>

The other reason is that plain 'bla' links generally wont work due to
permalinks, using '/blah' would always work, but it doesnt save much
transfer time at all.. esp. once compression kicks in.

You can filter the site_url() function which'll allow you to set
relative links for most of the front end and admin if you please (just
do a str_replace('http://mysite.com/','',$url);)

2009/2/2 scribu <scribu@gmail.com>:
> One reason might be the fact that you can have encrypted pages that begin
> with https://
>
> On Mon, Feb 2, 2009 at 1:02 AM, <jidanni@jidanni.org> wrote:
>
>> Gentlemen, I notice large parts, but not all, of WordPress produced
>> HTML has absolute URLs href="http://..." when internal links
>> href="/bla" or even href="bla" would be more efficient.
>>
>> It seems that there is nothing the user can do about this from the
>> admin panels.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mdmartz at sivel.net  Sun Feb  1 23:24:04 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Sun Feb  1 23:24:16 2009
Subject: [wp-hackers] wouldn't internal links be more efficient?
In-Reply-To: <349fe48b0902011506v545b54b1r250803a772b3b9be@mail.gmail.com>
References: <877i493gnc.fsf@jidanni.org>
	<349fe48b0902011506v545b54b1r250803a772b3b9be@mail.gmail.com>
Message-ID: <518fa9630902011524i255f12bajba92f5103bdd49ad@mail.gmail.com>

On Sun, Feb 1, 2009 at 6:06 PM, scribu <scribu@gmail.com> wrote:
> One reason might be the fact that you can have encrypted pages that begin
> with https://

Another reason is that relative links will not work with feeds when
viewed in feed readers and other such uses.  In addition I cannot see
how using relative URLs would make things more efficient.  The load
generated by getting the blog url is minimal, and using relative URLs
would require getting the directory where WordPress is installed
relative to the document root, which would generate just as much load
as getting the blog url.

Using relative URLs in the end, would in my opinion, complicate things
further as you have to make sure that based on the url being accessed
that your relative or absolute URL is correct.  Using relative urls in
the form of href="wp-content/uploads/2009/02/test.jpg" do not work
well with pretty permalinks because if you access
http://example.org/category/news it will try to pull the image from
http://example.org/category/news/wp-content/uploads/2008/02/images/test.jpg
which is not what we want.  We would have to use absolute URLs in the
form of href="/wp-content/uploads/2008/02/images/test.jpg" and in the
case that the blog was installed in /blog that would be
href="/blog/wp-content/uploads/2008/02/images/test.jpg"

So it actually becomes more simple, easier and more compatible to use
a fully qualified URL containing the hostname and path to the file
than it does to use absolute or relative.

-- 
Matt Martz
matt@sivel.net
From derek at amphibian.info  Mon Feb  2 00:42:03 2009
From: derek at amphibian.info (Derek Hogue)
Date: Mon Feb  2 00:42:15 2009
Subject: [wp-hackers] Re: Translation problems after automatic plugin upgrade
In-Reply-To: <45055a190902011514r7993cc9cg5b40b89e0f250373@mail.gmail.com>
References: <6B090446-B5B2-4C2E-B6FC-3FB39EF1DB9F@amphibian.info> 
	<4985CB11.1080301@poplarware.com>
	<45055a190902011514r7993cc9cg5b40b89e0f250373@mail.gmail.com>
Message-ID: <2a180899-5e2f-4331-b686-a837d0e59cf8@t13g2000yqc.googlegroups.com>

Jennifer, DD32,

Thanks for the responses ... I was unaware that .mo files were binary,
that makes sense that this could be the problem.

I'll gather more server data from the users who've had problems.  I
know for sure that one report was from someone running the 2.6 branch,
but another was just yesterday, so I'm assuming it was from 2.7.

The plugin is GigPress - http://wordpress.org/extend/plugins/gigpress

The .mo files were created using POEdit, and committed to the
repository using Versions.

I can't help but wonder why I haven't heard any other reports of this
though.  Googling this brought up nothing.

Best,
Derek

On Feb 1, 7:14?pm, DD32 <wordpr...@dd32.id.au> wrote:
> Binary vs. Ascii would indeed be the cause of it.
>
> What WP Versions, Which plugin (An exact plugin helps sometimes, not
> all .mo's are going to be the same), Do you have a setup which has the
> same problem that you can do some testing on? etc.
>
> 2009/2/2 Jennifer Hodgdon <yah...@poplarware.com>:
>
> > This is only a wild guess, but is it possible that the plugin upgrade code
> > is incorrectly transferring the MO files using ASCII instead of binary mode
> > (they are binary files, unlike PO and POT files, which are plain text)?
>
> > ? --Jennifer
>
> > Derek Hogue wrote:
>
> >> Some users of my plugin have been reporting for awhile that after
> >> performing an automatic plugin upgrade, the plugin is no longer displaying
> >> in their localized language. ?The .mo files are indeed in their correct
> >> location, but they will not load. ?Downloading the plugin manually and
> >> re-uploading the .mo files via FTP fixes the problem.
>
> > --
> > Jennifer Hodgdon * Poplar ProductivityWare
> >www.poplarware.com
>
> > Drupal/WordPress Sites, Themes, Modules/Plugins
> > Custom Web Programming, Web Databases
> > PHP, Perl, MySQL, JavaScript, XML, AJAX
>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hack...@lists.automattic.com
> >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hack...@lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
From viper at viper007bond.com  Mon Feb  2 01:30:44 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Mon Feb  2 01:30:55 2009
Subject: [wp-hackers] "Report Abuse" for comments
In-Reply-To: <13884831.1181233416706970.JavaMail.DELL-1405$@Dell-1405>
References: <8f93a7390901310150t7b1996abl97dad1fa21d30a5e@mail.gmail.com>
	<13884831.1181233416706970.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <8f93a7390902011730v14e0b5c8n70dcb1352d919c74@mail.gmail.com>

http://trac.wordpress.org/ticket/9013

On Sat, Jan 31, 2009 at 7:44 AM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> Thanks, that helps.
>
> >> There should probably be on on the query inside the function.
>
> Do you mean this is something to add to a v2.8+, or something else?
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "Viper007Bond" <viper@viper007bond.com>
> To: wp-hackers@lists.automattic.com
> Sent: Saturday, January 31, 2009 4:50:47 AM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] "Report Abuse" for comments
>
> Yes, comment_approved would be the way to go.
>
> Adding the link at the top if easy due to the "comment_status_links"
> filter.
>
> Getting _wp_get_comment_list() to return your flagged comments for you is
> the hard part as it appears to be hard coded and without a filter anywhere.
> There should probably be on on the query inside the function.
>
> On Sat, Jan 31, 2009 at 1:12 AM, Mike Schinkel
> <mikeschinkel@newclarity.net>wrote:
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From wordpress at dd32.id.au  Mon Feb  2 01:35:44 2009
From: wordpress at dd32.id.au (DD32)
Date: Mon Feb  2 01:35:55 2009
Subject: [wp-hackers] Re: Translation problems after automatic plugin 
	upgrade
In-Reply-To: <2a180899-5e2f-4331-b686-a837d0e59cf8@t13g2000yqc.googlegroups.com>
References: <6B090446-B5B2-4C2E-B6FC-3FB39EF1DB9F@amphibian.info>
	<4985CB11.1080301@poplarware.com>
	<45055a190902011514r7993cc9cg5b40b89e0f250373@mail.gmail.com>
	<2a180899-5e2f-4331-b686-a837d0e59cf8@t13g2000yqc.googlegroups.com>
Message-ID: <45055a190902011735g655084c7p5a839003c0ec579e@mail.gmail.com>

I think it would've definately been a problem under 2.6, It had a list
of file types to select between Ascii or binary for, IIRC, that list
didnt specify .mo, so it would've been left to the server config..

However, 2.7 includes a detection method for that sort of thing (If it
contains any non-ascii its treated as a binary file).. So it should
happen automatically for 2.7.

Of course.. That doesnt mean there wasnt a bug in my implementation of
it (I have to admit, I never tested .mo's, only images.. which are
binary..)

2009/2/2 Derek Hogue <derek@amphibian.info>:
> Jennifer, DD32,
>
> Thanks for the responses ... I was unaware that .mo files were binary,
> that makes sense that this could be the problem.
>
> I'll gather more server data from the users who've had problems.  I
> know for sure that one report was from someone running the 2.6 branch,
> but another was just yesterday, so I'm assuming it was from 2.7.
>
> The plugin is GigPress - http://wordpress.org/extend/plugins/gigpress
>
> The .mo files were created using POEdit, and committed to the
> repository using Versions.
>
> I can't help but wonder why I haven't heard any other reports of this
> though.  Googling this brought up nothing.
>
> Best,
> Derek
From wp at xentek.net  Mon Feb  2 02:11:25 2009
From: wp at xentek.net (Eric Marden)
Date: Mon Feb  2 02:11:38 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
References: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
Message-ID: <32A930DA-38FB-456A-B1FE-A94E20D1DACB@xentek.net>

On Feb 1, 2009, at 11:01 AM, Mike Walsh wrote:
> I have built a prototype of a theme on Sandbox but am not sure I want
> to continue if it is a dead end project.
>
> Mike

There are a number of theme frameworks out there besides Sandbox.

I personally use K2 (http://getk2.com) but Thesis ($ -> http://diythemes.com/thesis/) 
, Thematic (http://themeshaper.com/thematic-for-wordpress/), Starkers (http://elliotjaystocks.com/blog/archive/2008/free-starkers-wordpress-theme/ 
), and Carrington (http://crowdfavorite.com/wordpress/#themes) are  
also interesting.

You might find something to build off of from one of those.

-e
From ncrice at gmail.com  Mon Feb  2 02:17:45 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Mon Feb  2 02:17:57 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <32A930DA-38FB-456A-B1FE-A94E20D1DACB@xentek.net>
References: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
	<32A930DA-38FB-456A-B1FE-A94E20D1DACB@xentek.net>
Message-ID: <862d087f0902011817x71f021fdg6c23eb3e616d8a6@mail.gmail.com>

I definitely feel like including any theme AT ALL is little more than a
necessary evil.  It gives users SOMETHING to use to start off, and it give
us theme developers an example of any new features that have been added for
themes (like threaded comments, for instance), but that's about all.
Bloating the download with another theme just seems unnecessary.

And I agree with Eric, there are other theme frameworks out there that are
arguably better than Sandbox.

Nathan


On Sun, Feb 1, 2009 at 9:11 PM, Eric Marden <wp@xentek.net> wrote:

> On Feb 1, 2009, at 11:01 AM, Mike Walsh wrote:
>
>> I have built a prototype of a theme on Sandbox but am not sure I want
>> to continue if it is a dead end project.
>>
>> Mike
>>
>
> There are a number of theme frameworks out there besides Sandbox.
>
> I personally use K2 (http://getk2.com) but Thesis ($ ->
> http://diythemes.com/thesis/), Thematic (
> http://themeshaper.com/thematic-for-wordpress/), Starkers (
> http://elliotjaystocks.com/blog/archive/2008/free-starkers-wordpress-theme/),
> and Carrington (http://crowdfavorite.com/wordpress/#themes) are also
> interesting.
>
> You might find something to build off of from one of those.
>
>
> -e
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Mon Feb  2 02:23:47 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 02:24:10 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <862d087f0902011817x71f021fdg6c23eb3e616d8a6@mail.gmail.com>
Message-ID: <10415542.221233541437817.JavaMail.DELL-1405$@Dell-1405>

It would be nice if the default theme was at least reasonably attractive...

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Nathan Rice" <ncrice@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Sunday, February 1, 2009 9:17:45 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Sandbox in WP Core?

I definitely feel like including any theme AT ALL is little more than a
necessary evil.  It gives users SOMETHING to use to start off, and it give
us theme developers an example of any new features that have been added for
themes (like threaded comments, for instance), but that's about all.
Bloating the download with another theme just seems unnecessary.

And I agree with Eric, there are other theme frameworks out there that are
arguably better than Sandbox.

Nathan


On Sun, Feb 1, 2009 at 9:11 PM, Eric Marden <wp@xentek.net> wrote:

> On Feb 1, 2009, at 11:01 AM, Mike Walsh wrote:
>
>> I have built a prototype of a theme on Sandbox but am not sure I want
>> to continue if it is a dead end project.
>>
>> Mike
>>
>
> There are a number of theme frameworks out there besides Sandbox.
>
> I personally use K2 (http://getk2.com) but Thesis ($ ->
> http://diythemes.com/thesis/), Thematic (
> http://themeshaper.com/thematic-for-wordpress/), Starkers (
> http://elliotjaystocks.com/blog/archive/2008/free-starkers-wordpress-theme/),
> and Carrington (http://crowdfavorite.com/wordpress/#themes) are also
> interesting.
>
> You might find something to build off of from one of those.
>
>
> -e
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From ncrice at gmail.com  Mon Feb  2 02:28:39 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Mon Feb  2 02:28:53 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <10415542.221233541437817.JavaMail.DELL-1405$@Dell-1405>
References: <862d087f0902011817x71f021fdg6c23eb3e616d8a6@mail.gmail.com>
	<10415542.221233541437817.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <862d087f0902011828l4582fb92x49390b7b3d5bfc86@mail.gmail.com>

I think it's nice that it's not attractive.  At least the fact that it's
ugly means not a lot of people will use it. :-)

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Sun, Feb 1, 2009 at 9:23 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> It would be nice if the default theme was at least reasonably attractive...
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "Nathan Rice" <ncrice@gmail.com>
> To: wp-hackers@lists.automattic.com
> Sent: Sunday, February 1, 2009 9:17:45 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] Sandbox in WP Core?
>
> I definitely feel like including any theme AT ALL is little more than a
> necessary evil.  It gives users SOMETHING to use to start off, and it give
> us theme developers an example of any new features that have been added for
> themes (like threaded comments, for instance), but that's about all.
> Bloating the download with another theme just seems unnecessary.
>
> And I agree with Eric, there are other theme frameworks out there that are
> arguably better than Sandbox.
>
> Nathan
>
>
> On Sun, Feb 1, 2009 at 9:11 PM, Eric Marden <wp@xentek.net> wrote:
>
> > On Feb 1, 2009, at 11:01 AM, Mike Walsh wrote:
> >
> >> I have built a prototype of a theme on Sandbox but am not sure I want
> >> to continue if it is a dead end project.
> >>
> >> Mike
> >>
> >
> > There are a number of theme frameworks out there besides Sandbox.
> >
> > I personally use K2 (http://getk2.com) but Thesis ($ ->
> > http://diythemes.com/thesis/), Thematic (
> > http://themeshaper.com/thematic-for-wordpress/), Starkers (
> >
> http://elliotjaystocks.com/blog/archive/2008/free-starkers-wordpress-theme/
> ),
> > and Carrington (http://crowdfavorite.com/wordpress/#themes) are also
> > interesting.
> >
> > You might find something to build off of from one of those.
> >
> >
> > -e
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Mon Feb  2 02:51:42 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 02:52:02 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <862d087f0902011828l4582fb92x49390b7b3d5bfc86@mail.gmail.com>
Message-ID: <14538942.281233543111361.JavaMail.DELL-1405$@Dell-1405>

Too many people do use it. (Myself included, on one site.)

-Mike 

----- Original Message -----
From: "Nathan Rice" <ncrice@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Sunday, February 1, 2009 9:28:39 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Sandbox in WP Core?

I think it's nice that it's not attractive.  At least the fact that it's
ugly means not a lot of people will use it. :-)

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Sun, Feb 1, 2009 at 9:23 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> It would be nice if the default theme was at least reasonably attractive...
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "Nathan Rice" <ncrice@gmail.com>
> To: wp-hackers@lists.automattic.com
> Sent: Sunday, February 1, 2009 9:17:45 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] Sandbox in WP Core?
>
> I definitely feel like including any theme AT ALL is little more than a
> necessary evil.  It gives users SOMETHING to use to start off, and it give
> us theme developers an example of any new features that have been added for
> themes (like threaded comments, for instance), but that's about all.
> Bloating the download with another theme just seems unnecessary.
>
> And I agree with Eric, there are other theme frameworks out there that are
> arguably better than Sandbox.
>
> Nathan
>
>
> On Sun, Feb 1, 2009 at 9:11 PM, Eric Marden <wp@xentek.net> wrote:
>
> > On Feb 1, 2009, at 11:01 AM, Mike Walsh wrote:
> >
> >> I have built a prototype of a theme on Sandbox but am not sure I want
> >> to continue if it is a dead end project.
> >>
> >> Mike
> >>
> >
> > There are a number of theme frameworks out there besides Sandbox.
> >
> > I personally use K2 (http://getk2.com) but Thesis ($ ->
> > http://diythemes.com/thesis/), Thematic (
> > http://themeshaper.com/thematic-for-wordpress/), Starkers (
> >
> http://elliotjaystocks.com/blog/archive/2008/free-starkers-wordpress-theme/
> ),
> > and Carrington (http://crowdfavorite.com/wordpress/#themes) are also
> > interesting.
> >
> > You might find something to build off of from one of those.
> >
> >
> > -e
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From wordpress at dd32.id.au  Mon Feb  2 03:15:24 2009
From: wordpress at dd32.id.au (DD32)
Date: Mon Feb  2 03:15:36 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <14538942.281233543111361.JavaMail.DELL-1405$@Dell-1405>
References: <862d087f0902011828l4582fb92x49390b7b3d5bfc86@mail.gmail.com>
	<14538942.281233543111361.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <45055a190902011915t1f14f52u88beb8a188d466ad@mail.gmail.com>

The ability to install new themes from within the Administration
section, Much like plugins, Would really help users there.. It'll be
much easier for them to install Sandbox, or find a better theme that
suits them..

...Unfortunately, I'm just not having the time right now to actually
finish off writing it.. Life & work have got in the way again :(

2009/2/2 Mike Schinkel <mikeschinkel@newclarity.net>:
> Too many people do use it. (Myself included, on one site.)
>
> -Mike
>
> ----- Original Message -----
> From: "Nathan Rice" <ncrice@gmail.com>
> To: wp-hackers@lists.automattic.com
> Sent: Sunday, February 1, 2009 9:28:39 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] Sandbox in WP Core?
>
> I think it's nice that it's not attractive.  At least the fact that it's
> ugly means not a lot of people will use it. :-)
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Sun, Feb 1, 2009 at 9:23 PM, Mike Schinkel
> <mikeschinkel@newclarity.net>wrote:
>
>> It would be nice if the default theme was at least reasonably attractive...
>>
>> -Mike Schinkel
>> http://mikeschinkel.com/
>>
>> ----- Original Message -----
>> From: "Nathan Rice" <ncrice@gmail.com>
>> To: wp-hackers@lists.automattic.com
>> Sent: Sunday, February 1, 2009 9:17:45 PM GMT -05:00 US/Canada Eastern
>> Subject: Re: [wp-hackers] Sandbox in WP Core?
>>
>> I definitely feel like including any theme AT ALL is little more than a
>> necessary evil.  It gives users SOMETHING to use to start off, and it give
>> us theme developers an example of any new features that have been added for
>> themes (like threaded comments, for instance), but that's about all.
>> Bloating the download with another theme just seems unnecessary.
>>
>> And I agree with Eric, there are other theme frameworks out there that are
>> arguably better than Sandbox.
>>
>> Nathan
>>
>>
>> On Sun, Feb 1, 2009 at 9:11 PM, Eric Marden <wp@xentek.net> wrote:
>>
>> > On Feb 1, 2009, at 11:01 AM, Mike Walsh wrote:
>> >
>> >> I have built a prototype of a theme on Sandbox but am not sure I want
>> >> to continue if it is a dead end project.
>> >>
>> >> Mike
>> >>
>> >
>> > There are a number of theme frameworks out there besides Sandbox.
>> >
>> > I personally use K2 (http://getk2.com) but Thesis ($ ->
>> > http://diythemes.com/thesis/), Thematic (
>> > http://themeshaper.com/thematic-for-wordpress/), Starkers (
>> >
>> http://elliotjaystocks.com/blog/archive/2008/free-starkers-wordpress-theme/
>> ),
>> > and Carrington (http://crowdfavorite.com/wordpress/#themes) are also
>> > interesting.
>> >
>> > You might find something to build off of from one of those.
>> >
>> >
>> > -e
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers@lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From viper at viper007bond.com  Mon Feb  2 06:08:53 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Mon Feb  2 06:09:06 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <45055a190902011915t1f14f52u88beb8a188d466ad@mail.gmail.com>
References: <862d087f0902011828l4582fb92x49390b7b3d5bfc86@mail.gmail.com>
	<14538942.281233543111361.JavaMail.DELL-1405$@Dell-1405>
	<45055a190902011915t1f14f52u88beb8a188d466ad@mail.gmail.com>
Message-ID: <8f93a7390902012208j7701a8c2t35c7b21e74623716@mail.gmail.com>

Yeah, but it'd be lost in the massive number of themes.

I find Kubrick a perfectly acceptable default theme, but it's very hard to
modify it. Distributing a very light sandboxy theme with WordPress (and even
dropping the "classic") theme would be a good idea in my opinion. It'd teach
people how themes work and provide a good base to modify from.

On Sun, Feb 1, 2009 at 7:15 PM, DD32 <wordpress@dd32.id.au> wrote:

> The ability to install new themes from within the Administration
> section, Much like plugins, Would really help users there.. It'll be
> much easier for them to install Sandbox, or find a better theme that
> suits them..
>
> ...Unfortunately, I'm just not having the time right now to actually
> finish off writing it.. Life & work have got in the way again :(
>
> 2009/2/2 Mike Schinkel <mikeschinkel@newclarity.net>:
> > Too many people do use it. (Myself included, on one site.)
> >
> > -Mike
> >
> > ----- Original Message -----
> > From: "Nathan Rice" <ncrice@gmail.com>
> > To: wp-hackers@lists.automattic.com
> > Sent: Sunday, February 1, 2009 9:28:39 PM GMT -05:00 US/Canada Eastern
> > Subject: Re: [wp-hackers] Sandbox in WP Core?
> >
> > I think it's nice that it's not attractive.  At least the fact that it's
> > ugly means not a lot of people will use it. :-)
> >
> > My Website
> > http://www.nathanrice.net/
> >
> > My Twitter
> > http://twitter.com/nathanrice
> >
> >
> > On Sun, Feb 1, 2009 at 9:23 PM, Mike Schinkel
> > <mikeschinkel@newclarity.net>wrote:
> >
> >> It would be nice if the default theme was at least reasonably
> attractive...
> >>
> >> -Mike Schinkel
> >> http://mikeschinkel.com/
> >>
> >> ----- Original Message -----
> >> From: "Nathan Rice" <ncrice@gmail.com>
> >> To: wp-hackers@lists.automattic.com
> >> Sent: Sunday, February 1, 2009 9:17:45 PM GMT -05:00 US/Canada Eastern
> >> Subject: Re: [wp-hackers] Sandbox in WP Core?
> >>
> >> I definitely feel like including any theme AT ALL is little more than a
> >> necessary evil.  It gives users SOMETHING to use to start off, and it
> give
> >> us theme developers an example of any new features that have been added
> for
> >> themes (like threaded comments, for instance), but that's about all.
> >> Bloating the download with another theme just seems unnecessary.
> >>
> >> And I agree with Eric, there are other theme frameworks out there that
> are
> >> arguably better than Sandbox.
> >>
> >> Nathan
> >>
> >>
> >> On Sun, Feb 1, 2009 at 9:11 PM, Eric Marden <wp@xentek.net> wrote:
> >>
> >> > On Feb 1, 2009, at 11:01 AM, Mike Walsh wrote:
> >> >
> >> >> I have built a prototype of a theme on Sandbox but am not sure I want
> >> >> to continue if it is a dead end project.
> >> >>
> >> >> Mike
> >> >>
> >> >
> >> > There are a number of theme frameworks out there besides Sandbox.
> >> >
> >> > I personally use K2 (http://getk2.com) but Thesis ($ ->
> >> > http://diythemes.com/thesis/), Thematic (
> >> > http://themeshaper.com/thematic-for-wordpress/), Starkers (
> >> >
> >>
> http://elliotjaystocks.com/blog/archive/2008/free-starkers-wordpress-theme/
> >> ),
> >> > and Carrington (http://crowdfavorite.com/wordpress/#themes) are also
> >> > interesting.
> >> >
> >> > You might find something to build off of from one of those.
> >> >
> >> >
> >> > -e
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers@lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From sales at emailappeal.com  Mon Feb  2 06:16:15 2009
From: sales at emailappeal.com (Jason DeVelvis)
Date: Mon Feb  2 06:16:37 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <20090202060908.15555639B@comox.textdrive.com>
References: <20090202060908.15555639B@comox.textdrive.com>
Message-ID: <000001c984fd$c1180920$43481b60$@com>

How far along are you, DD32? I still have the plugin code I did, everything
up to the theme download. (Though, I'm getting a .zip file error when it
goes to download the theme last I checked... I'm assuming you're not done
with the API part?)

-----Original Message-----
Date: Mon, 2 Feb 2009 14:15:24 +1100
From: DD32 <wordpress@dd32.id.au>
Subject: Re: [wp-hackers] Sandbox in WP Core?
To: wp-hackers@lists.automattic.com
Message-ID:
	<45055a190902011915t1f14f52u88beb8a188d466ad@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

The ability to install new themes from within the Administration
section, Much like plugins, Would really help users there.. It'll be
much easier for them to install Sandbox, or find a better theme that
suits them..

...Unfortunately, I'm just not having the time right now to actually
finish off writing it.. Life & work have got in the way again :(

From wordpress at dd32.id.au  Mon Feb  2 06:58:01 2009
From: wordpress at dd32.id.au (DD32)
Date: Mon Feb  2 06:58:10 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <000001c984fd$c1180920$43481b60$@com>
References: <20090202060908.15555639B@comox.textdrive.com>
	<000001c984fd$c1180920$43481b60$@com>
Message-ID: <45055a190902012258o244330ag91744815a2b6d251@mail.gmail.com>

2009/2/2 Jason DeVelvis <sales@emailappeal.com>:
> How far along are you, DD32? I still have the plugin code I did, everything
> up to the theme download. (Though, I'm getting a .zip file error when it
> goes to download the theme last I checked... I'm assuming you're not done
> with the API part?)

Thats the easy part.. For me at least.. Theres some code on the trac
ticket (The number escapes me right now) which does install fine, It
just looks butt-ugly and doesnt have anything near the final UI i'm
dreaming of, or the functionality to search/filter the way i want.. or
even a hint at that.. Its basically the plugin installer all over
again right now..

The problem is having enough time to sit down and design the UI and
put it into practive.. Originally some UI mockup wireframes were going
to be made for the new theme installer & Widgets, and hopefully, it'd
apply to the plugin installer too.. But.. I've heard nothing in the
last month.. So no idea whats happening there.

As for the API, Return structure should be pretty good atm.. I havnt
really looked at it this month though. The actual data-in part to
define what is to be spat out however... really wasnt implemented in
the least at that point in time.. It might've been done though.. (I'm
not writing it, just giving feedback on what needs to be there, and
what would be nice to pass in - Someone much more capable with the
themes directory is doing that)

2009/2/2 Viper007Bond <viper@viper007bond.com>:
> Yeah, but it'd be lost in the massive number of themes.

I somewhat don't think it will.. I have a feeling the search
functionality for themes will be much better than what we see for
plugins at present, Themes can be based off tags & characteristics, As
soon as you add 2 or more tags to a filter on the themes directory,
you've got a very small handful of themes which fit the criteria..
From ionfish at gmail.com  Mon Feb  2 08:36:09 2009
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Mon Feb  2 08:36:21 2009
Subject: [wp-hackers] wouldn't internal links be more efficient?
In-Reply-To: <518fa9630902011524i255f12bajba92f5103bdd49ad@mail.gmail.com>
References: <877i493gnc.fsf@jidanni.org>
	<349fe48b0902011506v545b54b1r250803a772b3b9be@mail.gmail.com>
	<518fa9630902011524i255f12bajba92f5103bdd49ad@mail.gmail.com>
Message-ID: <fd3b80510902020036w50afe2f7wa2d968084d486c8b@mail.gmail.com>

I have a plugin which converts prefix-less absolute URIs (those
starting with a forward slash) to prefixed ones. That makes URIs
simpler, but avoids the problems associated with missing prefixes when
content is presented in a different context (e.g. an RSS reader).

http://github.com/ionfish/absolutify
From sudar at sudarmuthu.com  Mon Feb  2 08:42:09 2009
From: sudar at sudarmuthu.com (Sudar Muthu)
Date: Mon Feb  2 08:42:20 2009
Subject: [wp-hackers] Browse Happy and WordPress 2.7
Message-ID: <485dd1460902020042r54916d48h626e068287f557f1@mail.gmail.com>

Hi All.

Was it decided to remove the Browse Happy logo (which is displayed in the
footer for IE) in WordPress 2.7?

I looked into the source code and found that it is commented out on line 21
of wp-admin/admin-footer.php file

If it is decided not to show the logo, then it is better to remove the code
rather than having it commented out. What do you guys say?

PS: I am not here to start the discussion, whether the logo has to be
displayed or not. My point is just that if it is decided not to display it,
then we have to remove the dead code instead of commenting it out.

With Regards,
Sudar

http://SudarMuthu.com
http://twitter.com/sudarmuthu
From harrismw at huridocs.org  Mon Feb  2 10:33:12 2009
From: harrismw at huridocs.org (Michael Harris)
Date: Mon Feb  2 10:33:23 2009
Subject: [wp-hackers] Browse Happy and WordPress 2.7
In-Reply-To: <485dd1460902020042r54916d48h626e068287f557f1@mail.gmail.com>
References: <485dd1460902020042r54916d48h626e068287f557f1@mail.gmail.com>
Message-ID: <45606d480902020233r43591c32n4b83cf974181b7eb@mail.gmail.com>

I know I'm a bit of a lurker on this list, but I do want to comment on this.
> Was it decided to remove the Browse Happy logo (which is displayed in the
> footer for IE) in WordPress 2.7?
>
> I looked into the source code and found that it is commented out on line 21
> of wp-admin/admin-footer.php file
>
> If it is decided not to show the logo, then it is better to remove the code
> rather than having it commented out. What do you guys say?
I fail to see why having the code commented out, not display, is a bad
thing. As soon as you start removing code (as opposed to commenting it
out), you make it a lot harder to re-implement features into the
future.
From ionfish at gmail.com  Mon Feb  2 10:58:26 2009
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Mon Feb  2 10:58:36 2009
Subject: [wp-hackers] Browse Happy and WordPress 2.7
In-Reply-To: <45606d480902020233r43591c32n4b83cf974181b7eb@mail.gmail.com>
References: <485dd1460902020042r54916d48h626e068287f557f1@mail.gmail.com>
	<45606d480902020233r43591c32n4b83cf974181b7eb@mail.gmail.com>
Message-ID: <fd3b80510902020258l6ddc7b35k1413b80b84e0db84@mail.gmail.com>

>> If it is decided not to show the logo, then it is better to remove the code
>> rather than having it commented out. What do you guys say?
> I fail to see why having the code commented out, not display, is a bad
> thing. As soon as you start removing code (as opposed to commenting it
> out), you make it a lot harder to re-implement features into the
> future.

Commented-out code just makes the codebase messier and harder to read.
Being able to re-implement features in the future is what version
control is for.
From tunicwriter at gmail.com  Mon Feb  2 11:23:54 2009
From: tunicwriter at gmail.com (Joey Brooks)
Date: Mon Feb  2 11:24:07 2009
Subject: [wp-hackers] Browse Happy and WordPress 2.7
In-Reply-To: <fd3b80510902020258l6ddc7b35k1413b80b84e0db84@mail.gmail.com>
References: <485dd1460902020042r54916d48h626e068287f557f1@mail.gmail.com>	<45606d480902020233r43591c32n4b83cf974181b7eb@mail.gmail.com>
	<fd3b80510902020258l6ddc7b35k1413b80b84e0db84@mail.gmail.com>
Message-ID: <4986D7CA.7010704@gmail.com>

Benedict Eastaugh wrote:
> Commented-out code just makes the codebase messier and harder to read.
> Being able to re-implement features in the future is what version
> control is for
+1, commented-out -anything- has no reason to be there unless it's for 
documentation, which this isn't.
From krustyruffle at rustykruffle.com  Mon Feb  2 13:31:33 2009
From: krustyruffle at rustykruffle.com (Krusty Ruffle)
Date: Mon Feb  2 13:31:42 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <8f93a7390902012208j7701a8c2t35c7b21e74623716@mail.gmail.com>
References: <862d087f0902011828l4582fb92x49390b7b3d5bfc86@mail.gmail.com>
	<14538942.281233543111361.JavaMail.DELL-1405$@Dell-1405>
	<45055a190902011915t1f14f52u88beb8a188d466ad@mail.gmail.com>
	<8f93a7390902012208j7701a8c2t35c7b21e74623716@mail.gmail.com>
Message-ID: <93c3fbd10902020531h7a9c7624n4f4de50444c2bfa4@mail.gmail.com>

I just wish that the semantic functions were included in the core somewhere,
and maybe even added to whatever theme is default. If they were then a lot
more themes would use them, and the hooks that they provide. With those
hooks and functions great things can be done with css, but right now there
are only a small, but growing, number of themes that use them...

On Mon, Feb 2, 2009 at 1:08 AM, Viper007Bond <viper@viper007bond.com> wrote:

> Yeah, but it'd be lost in the massive number of themes.
>
> I find Kubrick a perfectly acceptable default theme, but it's very hard to
> modify it. Distributing a very light sandboxy theme with WordPress (and
> even
> dropping the "classic") theme would be a good idea in my opinion. It'd
> teach
> people how themes work and provide a good base to modify from.
>
>
From TurnerJD at cofc.edu  Mon Feb  2 13:50:40 2009
From: TurnerJD at cofc.edu (John Turner)
Date: Mon Feb  2 13:50:56 2009
Subject: [wp-hackers] Redefine wp_install_defaults() ?..
In-Reply-To: <9aa12a490902010146w45ddbc45wd31bc130e0384afa@mail.gmail.com>
Message-ID: <C5AC6460.9FC4%TurnerJD@cofc.edu>

Here's a nice tutorial

 http://wpbits.wordpress.com/2007/08/10/automating-wordpress-customizations-
the-installphp-way/

John Turner
Johndturner.com



> From: David Barbakadze <jayarjo@gmail.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Sun, 1 Feb 2009 13:46:23 +0400
> To: <wp-hackers@lists.automattic.com>
> Subject: [wp-hackers] Redefine wp_install_defaults() ?..
> 
> Is it possible to redefine wp_install_defaults() and leave core file
> intact? I've found out that it is pluggable, but I'm not sure if I can
> make it being included without touching core WP files.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From yahgrp at poplarware.com  Mon Feb  2 16:01:20 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Mon Feb  2 15:59:10 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <32A930DA-38FB-456A-B1FE-A94E20D1DACB@xentek.net>
References: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
	<32A930DA-38FB-456A-B1FE-A94E20D1DACB@xentek.net>
Message-ID: <498718D0.1060105@poplarware.com>

My 2 cents about Sandbox:

+1 for including a really good framework-type, black-and-white, 
excellent-as-example, easy-to-modify theme in the WP distribution. 
(Choose a good one. Modify it so it has all the best features of the 
existing GPL sandbox themes. I like Sandbox personally.)

Another idea: how about adding a tag to the Official Theme Repository 
to mark themes as "frameworks" (I'm not sure if this is the right 
term, but right now there isn't a tag related to this at all)?

On an unrelated note, how do you search the theme repository by tag 
anyway? Shouldn't there be an advanced search somewhere, or at least a 
tag cloud? Adding a tag for "frameworks" wouldn't help unless there is 
some way to search for it.

It doesn't look like there is... For instance, is there some way to 
find a red 2-column theme? When I put "red two column" in the search 
(those are both the official tag names), the first result was "Tickled 
Pink", which isn't even red, is not tagged as red, and doesn't have 
red in the description. Actually, the next three themes were not red 
either. Not good.

     --Jennifer

Eric Marden wrote:
> There are a number of theme frameworks out there besides Sandbox.
> 
> I personally use K2 (http://getk2.com) but Thesis ($ -> 
> http://diythemes.com/thesis/), Thematic 
> (http://themeshaper.com/thematic-for-wordpress/), Starkers 
> (http://elliotjaystocks.com/blog/archive/2008/free-starkers-wordpress-theme/), 
> and Carrington (http://crowdfavorite.com/wordpress/#themes) are also 
> interesting.

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From TurnerJD at cofc.edu  Mon Feb  2 16:10:33 2009
From: TurnerJD at cofc.edu (John Turner)
Date: Mon Feb  2 16:10:43 2009
Subject: [wp-hackers] WPMU install_blog_defaults()
Message-ID: <C5AC8529.9FD4%TurnerJD@cofc.edu>

Is there a way to override install_blog_defaults() in wpmu with out
modifying the source?


John Turner
Johndturner.com



From jess at funroe.net  Mon Feb  2 16:46:05 2009
From: jess at funroe.net (Jess Planck)
Date: Mon Feb  2 16:46:21 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <498718D0.1060105@poplarware.com>
References: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
	<32A930DA-38FB-456A-B1FE-A94E20D1DACB@xentek.net>
	<498718D0.1060105@poplarware.com>
Message-ID: <4E0F2058-6490-4469-90FA-9EBED13A8092@funroe.net>

A good semantic framework in core would be cool, but Sandbox really  
needs an upgrade. I just started a personal fork about a month ago  
because there are a few places where WordPress 2.7 has made some nice  
filters that replace some of the old Sandbox function ( post_class()  
for one ).

I guess is this a discussion about including a framework as the  
"advanced" default theme to show some theme-fu? The basic themes are  
"good enough" to help with some theme coding examples, but if you add  
a framework to that mix then wouldn't you have to add a theme that  
uses the framework? That would be three themes in the included download.

Basic Theme - simple semantic "just works"
Theme Framework - simple semantic with some funky framework only style  
tricks like sandbox_body_class and those sandbox widget mods.
Based on Theme Framework - example with more funkiness. Maybe Krubrick  
based on Sandbox? I think that was mentioned last year.

If not, including a theme framework would really not make sense to  
anyone new to WordPress. Also additional included themes may make some  
people here get a little hot under the collar.

The only other logical solution would be to replace the Basic Theme  
with a framework and go from there, but that kills the "Just Works"  
and might be introducing advanced concepts too soon. Jeez this gets a  
little complicated.

Anyway... Here's the old ticket if it wasn't mentioned:

http://trac.wordpress.org/ticket/4517

Jess


On Feb 2, 2009, at 10:01 AM, Jennifer Hodgdon wrote:

> +1 for including a really good framework-type, black-and-white,  
> excellent-as-example, easy-to-modify theme in the WP distribution.  
> (Choose a good one. Modify it so it has all the best features of the  
> existing GPL sandbox themes. I like Sandbox personally.)
>
> Another idea: how about adding a tag to the Official Theme  
> Repository to mark themes as "frameworks" (I'm not sure if this is  
> the right term, but right now there isn't a tag related to this at  
> all)?

From jer at simianuprising.com  Mon Feb  2 16:52:55 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon Feb  2 16:53:07 2009
Subject: [wp-hackers] wouldn't internal links be more efficient?
In-Reply-To: <fd3b80510902020036w50afe2f7wa2d968084d486c8b@mail.gmail.com>
References: <877i493gnc.fsf@jidanni.org>
	<349fe48b0902011506v545b54b1r250803a772b3b9be@mail.gmail.com>
	<518fa9630902011524i255f12bajba92f5103bdd49ad@mail.gmail.com>
	<fd3b80510902020036w50afe2f7wa2d968084d486c8b@mail.gmail.com>
Message-ID: <e1202cb10902020852g4f67f153l675cde877901d8f7@mail.gmail.com>

We had certain parts of our site that had a ton of links all together
(e.g. our cloud of 300+ categories). In that case we found that
removing our domain (which is long) from the urls saved us something
like 35% of the download size of the html in our page. Our solution
was to start generating the clouds from a cache and trimming the urls
before caching them. That way we don't mess with normal operation but
for that one part of the site we saved the extra K. It is a fairly big
hassle though and causes problems depending on the install location as
previously stated.

I think applying this to a whole site just isn't worth it at all. If
you have elements of your site that need it identify them specifically
and work to optimize those widgets or whatever instead of making
global changes.


-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
From jer at simianuprising.com  Mon Feb  2 17:23:44 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon Feb  2 17:23:58 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <498718D0.1060105@poplarware.com>
References: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
	<32A930DA-38FB-456A-B1FE-A94E20D1DACB@xentek.net>
	<498718D0.1060105@poplarware.com>
Message-ID: <e1202cb10902020923s53532b22kd6e503b6d13e32a6@mail.gmail.com>

On Mon, Feb 2, 2009 at 11:01 AM, Jennifer Hodgdon <yahgrp@poplarware.com> wrote:
>
> On an unrelated note, how do you search the theme repository by tag anyway?
> Shouldn't there be an advanced search somewhere, or at least a tag cloud?
> Adding a tag for "frameworks" wouldn't help unless there is some way to
> search for it.
>

This is kind of obvious but just in case people haven't thought of it:
If you can't find a given "tag" in the plugin/theme repositories try
going to any random tag and just changing the url to a tag you wish
existed.

In scouring through the plugin db looking for plugins (even ones i
know the name of /sigh) I've discovered that there are A LOT of tags
that don't show even in the extended tag cloud, and often an invisible
tag can get you a list of similar plugins that would otherwise be
impossible to see together. I imagine this would also work for the
themes repository as they are mostly the same code (?).

-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
From mikeschinkel at newclarity.net  Mon Feb  2 17:43:01 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 17:44:21 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <24765387.81233596454908.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <8344075.101233596587183.JavaMail.DELL-1405$@Dell-1405>

"Jess Planck" <jess@funroe.net> wrote:
> there are a few places where WordPress 2.7 has made 
> some nice filters that replace some of the old Sandbox 
> function ( post_class() for one ).

Sounds like what is really needed is some themeing framework functionality added to the core?

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Jess Planck" <jess@funroe.net>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 11:46:05 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Sandbox in WP Core?

A good semantic framework in core would be cool, but Sandbox really  
needs an upgrade. I just started a personal fork about a month ago  
because there are a few places where WordPress 2.7 has made some nice  
filters that replace some of the old Sandbox function ( post_class()  
for one ).

I guess is this a discussion about including a framework as the  
"advanced" default theme to show some theme-fu? The basic themes are  
"good enough" to help with some theme coding examples, but if you add  
a framework to that mix then wouldn't you have to add a theme that  
uses the framework? That would be three themes in the included download.

Basic Theme - simple semantic "just works"
Theme Framework - simple semantic with some funky framework only style  
tricks like sandbox_body_class and those sandbox widget mods.
Based on Theme Framework - example with more funkiness. Maybe Krubrick  
based on Sandbox? I think that was mentioned last year.

If not, including a theme framework would really not make sense to  
anyone new to WordPress. Also additional included themes may make some  
people here get a little hot under the collar.

The only other logical solution would be to replace the Basic Theme  
with a framework and go from there, but that kills the "Just Works"  
and might be introducing advanced concepts too soon. Jeez this gets a  
little complicated.

Anyway... Here's the old ticket if it wasn't mentioned:

http://trac.wordpress.org/ticket/4517

Jess


On Feb 2, 2009, at 10:01 AM, Jennifer Hodgdon wrote:

> +1 for including a really good framework-type, black-and-white,  
> excellent-as-example, easy-to-modify theme in the WP distribution.  
> (Choose a good one. Modify it so it has all the best features of the  
> existing GPL sandbox themes. I like Sandbox personally.)
>
> Another idea: how about adding a tag to the Official Theme  
> Repository to mark themes as "frameworks" (I'm not sure if this is  
> the right term, but right now there isn't a tag related to this at  
> all)?

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From yahgrp at poplarware.com  Mon Feb  2 17:48:35 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Mon Feb  2 17:46:14 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <e1202cb10902020923s53532b22kd6e503b6d13e32a6@mail.gmail.com>
References: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>	<32A930DA-38FB-456A-B1FE-A94E20D1DACB@xentek.net>	<498718D0.1060105@poplarware.com>
	<e1202cb10902020923s53532b22kd6e503b6d13e32a6@mail.gmail.com>
Message-ID: <498731F3.9020301@poplarware.com>

Jeremy Clarke wrote:
> On Mon, Feb 2, 2009 at 11:01 AM, Jennifer Hodgdon <yahgrp@poplarware.com> wrote:
>> On an unrelated note, how do you search the theme repository by tag anyway?
>> Shouldn't there be an advanced search somewhere, or at least a tag cloud?
>> Adding a tag for "frameworks" wouldn't help unless there is some way to
>> search for it.

> This is kind of obvious but just in case people haven't thought of it:
> If you can't find a given "tag" in the plugin/theme repositories try
> going to any random tag and just changing the url to a tag you wish
> existed.

Yes, I figured that out. But what if you want to find themes that have 
both "red" and "two column" tags? And do you think a non-technical 
person would know how to make a URL with a two-word tag like "two 
column", or would even think about changing the URL from one tag to 
another, or would know what the list of tags was in the first place? I 
found it under "more info", but it's not obvious, and the list of tags 
there isn't even links (that would be a good first step).

    --Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From mikeschinkel at newclarity.net  Mon Feb  2 17:44:52 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 17:47:08 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <498718D0.1060105@poplarware.com>
Message-ID: <27983465.121233596700560.JavaMail.DELL-1405$@Dell-1405>

"Jennifer Hodgdon" <yahgrp@poplarware.com> wrote:
> Another idea: how about adding a tag to the Official Theme 
> Repository to mark themes as "frameworks" (I'm not sure if 
> this is the right term, but right now there isn't a tag 
> related to this at all)?
> On an unrelated note, how do you search the theme repository 
> by tag anyway? Shouldn't there be an advanced search somewhere, 
> or at least a tag cloud? Adding a tag for "frameworks" wouldn't 
> help unless there is some way to search for it.

I second that...

-Mike Schinkel
http://mikeschinkel.com/
From mikeschinkel at newclarity.net  Mon Feb  2 17:59:33 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 18:01:38 2009
Subject: [wp-hackers] Updating a User Record via PHP?
Message-ID: <17037070.201233597583983.JavaMail.DELL-1405$@Dell-1405>

Hi all: 

I'm running into trouble using wp_update_user() where it is adding new users instead of simply updating them. When I trace it I find that it calls wp_insert_user(). Does anyone here know anything about this? Does anyone know how to ensure that a request to update a user actually updates instead of inserting a duplicate (w/o simply reverting to SQL?) 

-Mike Schinkel 
http://mikeschinkel.com/ 
From paul at codehooligans.com  Mon Feb  2 18:06:25 2009
From: paul at codehooligans.com (Paul)
Date: Mon Feb  2 18:06:39 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <17037070.201233597583983.JavaMail.DELL-1405$@Dell-1405>
References: <17037070.201233597583983.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <5319EE77-E6E1-45CC-AC5A-B632D20DD4B9@codehooligans.com>

Mike,

Pretty simple. Look at the function 'wp_insert_user' in wp-includes/ 
registrations.php
The code checks id the ID is present from the structure passed into  
the function.

function wp_insert_user($userdata) {
	global $wpdb;

	extract($userdata, EXTR_SKIP);

	// Are we updating or creating?
	if ( !empty($ID) ) {
		$ID = (int) $ID;
		$update = true;
	} else {
		$update = false;
	}

Further down in the same function:

	if ( $update ) {
		$wpdb->update( $wpdb->users, $data, compact( 'ID' ) );
		$user_id = (int) $ID;
	} else {
		$wpdb->insert( $wpdb->users, $data + compact( 'user_login' ) );
		$user_id = (int) $wpdb->insert_id;
	}




On Feb 2, 2009, at 11:59 AM, Mike Schinkel wrote:

> Hi all:
>
> I'm running into trouble using wp_update_user() where it is adding  
> new users instead of simply updating them. When I trace it I find  
> that it calls wp_insert_user(). Does anyone here know anything about  
> this? Does anyone know how to ensure that a request to update a user  
> actually updates instead of inserting a duplicate (w/o simply  
> reverting to SQL?)
>
> -Mike Schinkel
> http://mikeschinkel.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mdmartz at sivel.net  Mon Feb  2 18:09:17 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Mon Feb  2 18:09:30 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <17037070.201233597583983.JavaMail.DELL-1405$@Dell-1405>
References: <17037070.201233597583983.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <518fa9630902021009j8dcb100g6786b8c2aafe7056@mail.gmail.com>

On Mon, Feb 2, 2009 at 12:59 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Hi all:
>
> I'm running into trouble using wp_update_user() where it is adding new users instead of simply updating them. When I trace it I find that it calls wp_insert_user(). Does anyone here know anything about this? Does anyone know how to ensure that a request to update a user actually updates instead of inserting a duplicate (w/o simply reverting to SQL?)
>
> -Mike Schinkel
> http://mikeschinkel.com/

It shouldn't be adding a new user as long as you pass a proper
$userdata array to it.

According to the docs: "uses wp_insert_user() Used to update existing
user or add new one if user doesn't exist already"

-- 
Matt Martz
matt@sivel.net
From derek at amphibian.info  Mon Feb  2 18:22:01 2009
From: derek at amphibian.info (Derek Hogue)
Date: Mon Feb  2 18:22:12 2009
Subject: [wp-hackers] Re: Translation problems after automatic plugin upgrade
In-Reply-To: <45055a190902011735g655084c7p5a839003c0ec579e@mail.gmail.com>
References: <6B090446-B5B2-4C2E-B6FC-3FB39EF1DB9F@amphibian.info> 
	<4985CB11.1080301@poplarware.com>
	<45055a190902011514r7993cc9cg5b40b89e0f250373@mail.gmail.com> 
	<2a180899-5e2f-4331-b686-a837d0e59cf8@t13g2000yqc.googlegroups.com> 
	<45055a190902011735g655084c7p5a839003c0ec579e@mail.gmail.com>
Message-ID: <34ff5554-b96a-4e96-b1ac-01b3c2b235b7@n10g2000yqm.googlegroups.com>

DD32,

Looks like one user who had this problem under 2.6 has *not* had it
reoccur under 2.7 - so that's good news.  However, another user is
*still* having this problem under 2.7.  He's running a pretty standard
setup - Linux box, PHP 5.2.

I haven't gotten many reports of this, and the plugin is currently
translated into about 8 languages, so I can only conclude that this is
an edge-case problem, especially under 2.7.

Derek

On Feb 1, 9:35?pm, DD32 <wordpr...@dd32.id.au> wrote:
> I think it would've definately been a problem under 2.6, It had a list
> of file types to select between Ascii or binary for, IIRC, that list
> didnt specify .mo, so it would've been left to the server config..
>
> However, 2.7 includes a detection method for that sort of thing (If it
> contains any non-ascii its treated as a binary file).. So it should
> happen automatically for 2.7.
>
> Of course.. That doesnt mean there wasnt a bug in my implementation of
> it (I have to admit, I never tested .mo's, only images.. which are
> binary..)
>
> 2009/2/2 Derek Hogue <de...@amphibian.info>:
>
> > Jennifer, DD32,
>
> > Thanks for the responses ... I was unaware that .mo files were binary,
> > that makes sense that this could be the problem.
>
> > I'll gather more server data from the users who've had problems. ?I
> > know for sure that one report was from someone running the 2.6 branch,
> > but another was just yesterday, so I'm assuming it was from 2.7.
>
> > The plugin is GigPress -http://wordpress.org/extend/plugins/gigpress
>
> > The .mo files were created using POEdit, and committed to the
> > repository using Versions.
>
> > I can't help but wonder why I haven't heard any other reports of this
> > though. ?Googling this brought up nothing.
>
> > Best,
> > Derek
>
> _______________________________________________
> wp-hackers mailing list
> wp-hack...@lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
From jer at simianuprising.com  Mon Feb  2 18:23:22 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon Feb  2 18:23:33 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <498731F3.9020301@poplarware.com>
References: <bd35beb50902010801w525e7c44nbdd9a5ec11f4142f@mail.gmail.com>
	<32A930DA-38FB-456A-B1FE-A94E20D1DACB@xentek.net>
	<498718D0.1060105@poplarware.com>
	<e1202cb10902020923s53532b22kd6e503b6d13e32a6@mail.gmail.com>
	<498731F3.9020301@poplarware.com>
Message-ID: <e1202cb10902021023o4d1c4635o579a924e8f9b56c5@mail.gmail.com>

On Mon, Feb 2, 2009 at 12:48 PM, Jennifer Hodgdon <yahgrp@poplarware.com> wrote:
> Jeremy Clarke wrote:
>> This is kind of obvious but just in case people haven't thought of it:
>> If you can't find a given "tag" in the plugin/theme repositories try
>> going to any random tag and just changing the url to a tag you wish
>> existed.
>
> Yes, I figured that out. But what if you want to find themes that have both
> "red" and "two column" tags? And do you think a non-technical person would
> know how to make a URL with a two-word tag like "two column", or would even
> think about changing the URL from one tag to another, or would know what the
> list of tags was in the first place? I found it under "more info", but it's
> not obvious, and the list of tags there isn't even links (that would be a
> good first step).
>

I agree with this entirely. My recommendation was for frustrated
wp-hackers. The repos won't be end-user ready until they have working
search, which will fix almost everything, and the limitations of the
current tag system are another big frustration given that search is
still broken. Plz fix ;)

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From bryanspahr at gmail.com  Mon Feb  2 18:45:27 2009
From: bryanspahr at gmail.com (Bryan Spahr)
Date: Mon Feb  2 18:45:35 2009
Subject: [wp-hackers] Shortcode to show excerpts by tag?
Message-ID: <5d49cb490902021045p79e2a545vd72f92b304c2e5c4@mail.gmail.com>

Hi all -
I'm looking to create a static page that includes a list of posts that
have a certain tag.  I'm thinking I should be able to do something
like this:

Blah blah static text blah blah blah
--------------------------------
[list_excerpts tag='orange']

and would end up with something like this:

Blah blah static text blah blah blah
--------------------------------
Related Links
* the orange blah
  A story about blah blah
* two orange blah blah
  A story about blah blah blah
* blah blah blah three oranges
  A story about blah blah blah blah

I could write a plugin from scratch, but would (obviously) prefer to
find something that already works, or that I can apply minimal
enhancements to,...  or even just an example of the mini-loop to
return the excerpts inside my plugin so I spend less time fumbling
about.

I'm sure this is easier than I have imagined.  Thanks for any direction,

Bryan Spahr
From beau at dentedreality.com.au  Mon Feb  2 18:51:45 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Mon Feb  2 18:52:06 2009
Subject: [wp-hackers] Shortcode to show excerpts by tag?
In-Reply-To: <5d49cb490902021045p79e2a545vd72f92b304c2e5c4@mail.gmail.com>
References: <5d49cb490902021045p79e2a545vd72f92b304c2e5c4@mail.gmail.com>
Message-ID: <902424490902021051h110f7bb8gece9928eb9d33d3b@mail.gmail.com>

Hey Brian,

I just implemented something similar to this on my Page templates on
http://dentedreality.com.au (e.g.
http://dentedreality.com.au/projects/webpad/, "Recent Headlines" at
the bottom).

It's not a shortcode, it's done via a specific Custom Field when you
create the Page. Basically I just add a tag using the "project-tag"
Custom Field and then it uses that to load headlines. Here's the code
from the theme file:

<?php if ( $tag = get_post_custom_values( 'project-tag' ) ) : ?>
        <?php $headlines = get_posts(array('tag'=>$tag[0])) ?>
        <?php if ( count( $headlines ) ) : ?>
                <h2>Recent Headlines for this Project</h2>
                <ul>
                <?php foreach ( $headlines as $post ) :
setup_postdata( $post ); ?>
                        <li><a href="<?php the_permalink(); ?>"><?php
the_title(); ?></a></li>
                <?php endforeach; ?>
                </ul>
        <?php endif; ?>
<?php endif; ?>

Seems to work fine.

Cheers,
Beau


On Mon, Feb 2, 2009 at 10:45 AM, Bryan Spahr <bryanspahr@gmail.com> wrote:
> Hi all -
> I'm looking to create a static page that includes a list of posts that
> have a certain tag.  I'm thinking I should be able to do something
> like this:
>
> Blah blah static text blah blah blah
> --------------------------------
> [list_excerpts tag='orange']
>
> and would end up with something like this:
>
> Blah blah static text blah blah blah
> --------------------------------
> Related Links
> * the orange blah
>  A story about blah blah
> * two orange blah blah
>  A story about blah blah blah
> * blah blah blah three oranges
>  A story about blah blah blah blah
>
> I could write a plugin from scratch, but would (obviously) prefer to
> find something that already works, or that I can apply minimal
> enhancements to,...  or even just an example of the mini-loop to
> return the excerpts inside my plugin so I spend less time fumbling
> about.
>
> I'm sure this is easier than I have imagined.  Thanks for any direction,
>
> Bryan Spahr
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From mikeschinkel at newclarity.net  Mon Feb  2 19:08:04 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 19:10:16 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <5319EE77-E6E1-45CC-AC5A-B632D20DD4B9@codehooligans.com>
Message-ID: <26598348.281233601693968.JavaMail.DELL-1405$@Dell-1405>

Paul:

Thanks. Yeah I've reviewed (and actually single-step debugged though) that code but haven't been able to isolate why it is inserting rather than adding.  Wishing the update function didn't overload insert so that it would fail rather than insert.  

Based on your comments it's probably a missing ID somehow.  I'll dive in a try to tackle it again. Thanks.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Paul" <paul@codehooligans.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 1:06:25 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Updating a User Record via PHP?

Mike,

Pretty simple. Look at the function 'wp_insert_user' in wp-includes/ 
registrations.php
The code checks id the ID is present from the structure passed into  
the function.

function wp_insert_user($userdata) {
	global $wpdb;

	extract($userdata, EXTR_SKIP);

	// Are we updating or creating?
	if ( !empty($ID) ) {
		$ID = (int) $ID;
		$update = true;
	} else {
		$update = false;
	}

Further down in the same function:

	if ( $update ) {
		$wpdb->update( $wpdb->users, $data, compact( 'ID' ) );
		$user_id = (int) $ID;
	} else {
		$wpdb->insert( $wpdb->users, $data + compact( 'user_login' ) );
		$user_id = (int) $wpdb->insert_id;
	}




On Feb 2, 2009, at 11:59 AM, Mike Schinkel wrote:

> Hi all:
>
> I'm running into trouble using wp_update_user() where it is adding  
> new users instead of simply updating them. When I trace it I find  
> that it calls wp_insert_user(). Does anyone here know anything about  
> this? Does anyone know how to ensure that a request to update a user  
> actually updates instead of inserting a duplicate (w/o simply  
> reverting to SQL?)
>
> -Mike Schinkel
> http://mikeschinkel.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Mon Feb  2 19:10:14 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 19:13:28 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <518fa9630902021009j8dcb100g6786b8c2aafe7056@mail.gmail.com>
Message-ID: <5526450.301233601820765.JavaMail.DELL-1405$@Dell-1405>

"Matt Martz" <mdmartz@sivel.net> wrote:
> It shouldn't be adding a new user as long as you 
> pass a proper $userdata array to it.

Aye, there's the rub, eh?  Getting a proper $userdata seems to be the issue.

Did you guys know that core sometimes expects $userdata to be an array and sometimes it expects it to be an object?  Hard to write/debug code that interacts with it given that inconsistency.

-Mike Schinkel
http://mikeschinkel.com/
From mdmartz at sivel.net  Mon Feb  2 19:19:54 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Mon Feb  2 19:20:06 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <5526450.301233601820765.JavaMail.DELL-1405$@Dell-1405>
References: <518fa9630902021009j8dcb100g6786b8c2aafe7056@mail.gmail.com>
	<5526450.301233601820765.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <518fa9630902021119h5a465928qce98ae9e51cde352@mail.gmail.com>

> Aye, there's the rub, eh?  Getting a proper $userdata seems to be the issue.
>
> Did you guys know that core sometimes expects $userdata to be an array and sometimes it expects it to be an object?  Hard to write/debug code that interacts with it given that inconsistency.

get_object_vars (http://us.php.net/get_object_vars) is being use in
wp-admin/includes/user.php on line 164

wp_update_user( get_object_vars( $user ))

-- 
Matt Martz
matt@sivel.net
From jer at simianuprising.com  Mon Feb  2 19:55:13 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon Feb  2 19:55:29 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <518fa9630902021119h5a465928qce98ae9e51cde352@mail.gmail.com>
References: <518fa9630902021009j8dcb100g6786b8c2aafe7056@mail.gmail.com>
	<5526450.301233601820765.JavaMail.DELL-1405$@Dell-1405>
	<518fa9630902021119h5a465928qce98ae9e51cde352@mail.gmail.com>
Message-ID: <e1202cb10902021155n7a48f98fy95bc73b7de9cb634@mail.gmail.com>

On Mon, Feb 2, 2009 at 2:19 PM, Matt Martz <mdmartz@sivel.net> wrote:
>> Aye, there's the rub, eh?  Getting a proper $userdata seems to be the issue.
>>
>> Did you guys know that core sometimes expects $userdata to be an array and sometimes it expects it to be an object?  Hard to write/debug code that interacts with it given that inconsistency.
>

Just in case people are interested, here's a trac ticket I filed about
the badness/strangeness of the whole $userdata thing:

http://trac.wordpress.org/ticket/8911

It proposes to always use objects for users (like terms) and to use
the $WP_User object type (and a get_user() function as a wrapper like
get_term) instead of the out of date get_userdata (why even have
'data' in teh function name, what else would you get?).

Also note that get_users_of_blog() returns some stuff that is
radically incompatible with everything else present in the user system
of WP (it foolishly uses the user_id field of the usermeta table
instead of the ID field of the users table, so that breaks pretty much
everything that looks for the ID). If you are using the output of it
you'll want to either add the ID variable into the results manually or
process it some other way. (actually, now that I think of it the id
problem in get_users_of_blog could be fixed with a microscopic patch
that just fetches both the ID and user_id fields in the sql, it would
have but but the redundancy would be pretty tame, i'll do that now:
http://trac.wordpress.org/ticket/9020 )

-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
From wp at xentek.net  Mon Feb  2 19:58:58 2009
From: wp at xentek.net (Eric Marden)
Date: Mon Feb  2 19:59:10 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <8344075.101233596587183.JavaMail.DELL-1405$@Dell-1405>
References: <8344075.101233596587183.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <139CBE09-2C13-49C5-8B21-A07970987940@xentek.net>

> Sounds like what is really needed is some themeing framework  
> functionality added to the core?

Well the point of a theme framework for me:

* Core WP files remain untouched.
* Core Theme files remain unedited.
* Styles applied via custom CSS file
* Additional Functionality/Configuration Option for theme delivered  
via functions.php
* Further customization available via custom hooks and plugins.

YMMV, but if these 5 bullets were added to WP for any/every possible  
implementation of the above, then we'd have a lot more theme than  
engine, IMHO. With so many theme frameworks out there, offering  
different variations on the above, is it that hard to just install the  
one of your choice? You can even add it before install so you can  
activate it immediately. Coupling any more presentation functionality  
(conditionals, template tags) than is necessary to WP Core is the  
surest way to bloat it up. Give me the 80% for free. I'll take care of  
the other 20%.

-e
From mikeschinkel at newclarity.net  Mon Feb  2 19:58:36 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 20:01:15 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <11855420.341233604557337.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <20093090.361233604724712.JavaMail.DELL-1405$@Dell-1405>

Matt:

Nice, thanks. 

BTW, do you know if the use of object vs. arrays was by design, or is it just because of legacy issues?

-Mike Schinkel
http://mikeschinkel.com/

P.S. I'm starting to wonder if I will ever learn all that is encompassed by the PHP standard library. :-)

----- Original Message -----
From: "Matt Martz" <mdmartz@sivel.net>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 2:19:54 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Updating a User Record via PHP?

> Aye, there's the rub, eh?  Getting a proper $userdata seems to be the issue.
>
> Did you guys know that core sometimes expects $userdata to be an array and sometimes it expects it to be an object?  Hard to write/debug code that interacts with it given that inconsistency.

get_object_vars (http://us.php.net/get_object_vars) is being use in
wp-admin/includes/user.php on line 164

wp_update_user( get_object_vars( $user ))

-- 
Matt Martz
matt@sivel.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Mon Feb  2 21:11:44 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 21:12:15 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <139CBE09-2C13-49C5-8B21-A07970987940@xentek.net>
Message-ID: <321561.461233609113309.JavaMail.DELL-1405$@Dell-1405>

"Eric Marden" <wp@xentek.net> wrote:
> With so many theme frameworks out there, offering  
> different variations on the above, is it that hard 
> to just install the  one of your choice? You can 
> even add it before install so you can activate it 
> immediately. Coupling any more presentation functionality  
> (conditionals, template tags) than is necessary to WP 
> Core is the surest way to bloat it up. Give me the 80% 
> for free. I'll take care of the other 20%.

It'd really like to see one theming API vs. a different API for every framework, at least for all those things that are common and differences are otherwise arbitrary.

-Mike Schinkel
http://mikeschinkel.com/


From mpwalsh8 at gmail.com  Mon Feb  2 21:17:08 2009
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Mon Feb  2 21:17:25 2009
Subject: [wp-hackers] Sandbox in WP Core?
In-Reply-To: <139CBE09-2C13-49C5-8B21-A07970987940@xentek.net>
References: <8344075.101233596587183.JavaMail.DELL-1405$@Dell-1405>
	<139CBE09-2C13-49C5-8B21-A07970987940@xentek.net>
Message-ID: <bd35beb50902021317o11e5acc4i5e1d7ba0e6a2b216@mail.gmail.com>

On Mon, Feb 2, 2009 at 2:58 PM, Eric Marden <wp@xentek.net> wrote:
>> Sounds like what is really needed is some themeing framework functionality
>> added to the core?
>
> Well the point of a theme framework for me:
>
> * Core WP files remain untouched.
> * Core Theme files remain unedited.
> * Styles applied via custom CSS file
> * Additional Functionality/Configuration Option for theme delivered via
> functions.php
> * Further customization available via custom hooks and plugins.
>
> YMMV, but if these 5 bullets were added to WP for any/every possible
> implementation of the above, then we'd have a lot more theme than engine,
> IMHO. With so many theme frameworks out there, offering different variations
> on the above, is it that hard to just install the one of your choice? You
> can even add it before install so you can activate it immediately. Coupling
> any more presentation functionality (conditionals, template tags) than is
> necessary to WP Core is the surest way to bloat it up. Give me the 80% for
> free. I'll take care of the other 20%.
>
> -e
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


I had posed this question originally because I really like the idea of
a child theme (ability change the look and feel with just a CSS file
and/or a template file or two) but it falls apart if the parent theme
isn't available.

To distribute a child theme and have it work you need to make sure the
parent theme is available.  Obvious to most readers of this list but
possibly not to the casual or less than technical user.  If a user is
required to download two themes in order to make the child theme work,
then odds are people will get confused and the support load will be
high.

It doesn't really matter to me which framework was included in WP, I
would just like there to be one that I can depend on being there when
WordPress is installed and will be updated as WordPress evolves.  I
mentioned Sandbox in my original message because I had recalled some
discussion of it being included in a future release.  I'd really
rather not reinvent the wheel unless I have to but right now it seems
the safest thing to do is to include one of the frameworks as source
and build off of that.  Ugh.

There was a comment yesterday (2/1) on WpTavern about Sanbox being
included in 2.8 - see this:

http://www.wptavern.com/sandboxplaintxt-goes-up-for-sale#comments

Can anyone confirm or deny?

Mike
From mikeschinkel at newclarity.net  Mon Feb  2 21:29:00 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 21:31:29 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <8339991.521233610047482.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <27590064.561233610142771.JavaMail.DELL-1405$@Dell-1405>

"Jeremy Clarke" <jer@simianuprising.com> wrote:
> Just in case people are interested, here's a trac ticket I 
> filed about the badness/strangeness of the whole $userdata 
> thing: http://trac.wordpress.org/ticket/8911

I really like your proposal and would be interested in helping if possible.

I'd also like to make the login/register/profile system hookable and make it possible to theme it as well and I've done a lot of work for my current client that could be conceptually reused for this purpose. Improving on the user object as you propose would really help streamline the code I've written and could contribute when rewriting for the new structure you propose.

> http://trac.wordpress.org/ticket/9020 

Also, I very much agree with that too.

How do others feel about Jeremy's proposals?

-Mike Schinkel
http://mikeschinkel.com/
From paul at codehooligans.com  Mon Feb  2 21:43:20 2009
From: paul at codehooligans.com (Paul)
Date: Mon Feb  2 21:43:36 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <27590064.561233610142771.JavaMail.DELL-1405$@Dell-1405>
References: <27590064.561233610142771.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <3F8A8CBF-84DD-47D2-981F-D1BF456EC701@codehooligans.com>


On Feb 2, 2009, at 3:29 PM, Mike Schinkel wrote:

> I'd also like to make the login/register/profile system hookable and  
> make it possible to theme it as well and I've done a lot of work for  
> my current client that could be conceptually reused for this  
> purpose. Improving on the user object as you propose would really  
> help streamline the code I've written and could contribute when  
> rewriting for the new structure you propose.

Mike,
Not sure on your ideas for theming the login. This is very simple to  
accomplish with just images. I generally will create a login/register  
image to match the client fron-end.

http://www.davidairey.com/customize-your-WordPress-login/

Regards,
Paul

From mikeschinkel at newclarity.net  Mon Feb  2 21:46:35 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 21:48:59 2009
Subject: [wp-hackers] Less than Core,
 More than Plugins/Themes: Proposing Optional Modules.
In-Reply-To: <bd35beb50902021317o11e5acc4i5e1d7ba0e6a2b216@mail.gmail.com>
Message-ID: <12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>

Hi all:

I've followed the discussions of core vs. theme and realize there is (rightfully so) a backlash against moving too many things into the core. While I look for enhancements I do agree that including certain things would not be used by a significant number of users would bloat the core should be avoided.  

OTOH, some of those things that people are desiring include infrastructure components on which for others could build, and not having them "always available and consistently implements results in stunting progress and disallows certain types of growth from occuring. One example is the community pushback to include a new "theme"(ing framework) with the distribution which conflicts with Eric Marden's desire to have a theming framework on which to depend. 

What I'd like to propose is the creation of a new concept for WordPress, the "Optional module."  Optional modules would be singular like the core and would be versioned with the core but they would not be included in the default installation.  Optional modules would be "installed-on-demand" based on a plugin's request and admin's approval to install, and the version of the optional module installed would be determined by the version of the WordPress core that is installing it.

Having "Optional Modules" for WordPress such as I propose would allow progress in the direction of common infrastructure without bloating the core. And one of the first such optional modules could be a basic theming framework.

Thoughts?  Maybe I should post this to Trac?

-Mike Schinkel
http://mikeschinkel.com/
From ozh at planetozh.com  Mon Feb  2 21:51:43 2009
From: ozh at planetozh.com (Ozh)
Date: Mon Feb  2 21:51:57 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
References: <bd35beb50902021317o11e5acc4i5e1d7ba0e6a2b216@mail.gmail.com>
	<12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <ae81acd10902021351t7b143c8p25deda7e0c6c9871@mail.gmail.com>

I have probably misunderstood or overlooked something, but I don't get
how this is different from plugins...

On Mon, Feb 2, 2009 at 10:46 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> What I'd like to propose is the creation of a new concept for WordPress, the "Optional module."  Optional modules would be singular like the core and would be versioned with the core but they would not be included in the default installation.  Optional modules would be "installed-on-demand" based on a plugin's request and admin's approval to install, and the version of the optional module installed would be determined by the version of the WordPress core that is installing it.



-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From mikeschinkel at newclarity.net  Mon Feb  2 21:52:42 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 21:54:59 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <3F8A8CBF-84DD-47D2-981F-D1BF456EC701@codehooligans.com>
Message-ID: <8544163.621233611571029.JavaMail.DELL-1405$@Dell-1405>

> Not sure on your ideas for theming the login. This is 
> very simple to accomplish with just images. I generally 
> will create a login/register image to match the client 
> fron-end.

Sadly, theming with images is just lipstick (on a pitbull? sorry, couldn't resist), not functional improvements. :-)

My client wanted a modal dialog (think a "ThickBox" but we used something else), wanted to let users upload and preview their own avatar, and wanted to allow users to fill in some user profile fields all while still in a wizard within the modal.  Try that with images! :-) 

I had to take the wp-login.php code and *greatly* refactor it to get it to work. The results is I have something that could be a lot more maintainable and with hooks much more easily incorporated including the ability to capture custom user fields in a wizard-like dialog. 

-Mike Schinkel
http://mikeschinkel.com/
From mikeschinkel at newclarity.net  Mon Feb  2 22:00:12 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 22:01:41 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <ae81acd10902021351t7b143c8p25deda7e0c6c9871@mail.gmail.com>
Message-ID: <20266397.641233612021525.JavaMail.DELL-1405$@Dell-1405>

Hi Ozh:

> I have probably misunderstood or overlooked something, 
> but I don't get how this is different from plugins...

The concept is that the community would develop ONE version of something as an Optional Module, not potentiall tens of similar competing ones. And they would be more emphasis on infrastructure and API than end-user functionality.  They would actually be more similar to core than to plugins. Having Optional Modules would allow the community to pursue standardizing APIs and functionality that the community would otherwise not be willing to include in core.

It creates a middle ground between plugins and core. 

The community could even agree to elevate some plugins to optional module status assuming the plugin is quality enough and meets the needs of enough people (and assuming the plugin author agrees.)

You could also think of optional modules being similar to the 10+ Drupal modules that Acquia selected to bundle with Acquia Drupal albeit with a WordPress-ish spin on the idea.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Ozh" <ozh@planetozh.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 4:51:43 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing  Optional Modules.

I have probably misunderstood or overlooked something, but I don't get
how this is different from plugins...

On Mon, Feb 2, 2009 at 10:46 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> What I'd like to propose is the creation of a new concept for WordPress, the "Optional module."  Optional modules would be singular like the core and would be versioned with the core but they would not be included in the default installation.  Optional modules would be "installed-on-demand" based on a plugin's request and admin's approval to install, and the version of the optional module installed would be determined by the version of the WordPress core that is installing it.



-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From jer at simianuprising.com  Mon Feb  2 22:03:05 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon Feb  2 22:03:13 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <ae81acd10902021351t7b143c8p25deda7e0c6c9871@mail.gmail.com>
References: <bd35beb50902021317o11e5acc4i5e1d7ba0e6a2b216@mail.gmail.com>
	<12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
	<ae81acd10902021351t7b143c8p25deda7e0c6c9871@mail.gmail.com>
Message-ID: <e1202cb10902021403x498379b1mcac60324e0e1d5f2@mail.gmail.com>

On Mon, Feb 2, 2009 at 4:51 PM, Ozh <ozh@planetozh.com> wrote:
> I have probably misunderstood or overlooked something, but I don't get
> how this is different from plugins...

[ mike already replied but here's some more to chew on]


I'm agnostic on the issue, but they would be different from plugins in
that they would be a kind of official plugin tended by the core
committers but excluded from the default install. The best argument is
the situation where core says "this should be a plugin" but the people
say "This is too important to leave up to dislocated volunteers, this
functionality is so important that we all need insurance that it will
continue working like any part of core, even if it would cause bloat
if done in a way that makes it always active". Some non-standard
functionality may be important enough to - for example - stop a new
release from coming out until it is ready. Examples that might be
candidates for this module system:

 * Role/Capability micro-management
 * Podcasting abilities
 * CMS Theme framework
 * caching (supercache could just be promoted in status, Donncha is
already a committer for wpmu).

IMHO this could also be achieved by Automattic/WP.org just choosing
its preferred plugins and taking good care of them, but some UI and
API changes to make it easier to communicate missing dependencies to
users could also be cool.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From james at om4.com.au  Mon Feb  2 22:08:15 2009
From: james at om4.com.au (James Collins)
Date: Mon Feb  2 22:08:26 2009
Subject: [wp-hackers] Browse Happy and WordPress 2.7
In-Reply-To: <485dd1460902020042r54916d48h626e068287f557f1@mail.gmail.com>
References: <485dd1460902020042r54916d48h626e068287f557f1@mail.gmail.com>
Message-ID: <bcf8d3150902021408i400c60b8if6d518957bc4ccf5@mail.gmail.com>

I'm not sure if it was deliberate or not, but the browse happy code was
commented out in changeset 9964
(http://trac.wordpress.org/changeset/9964) by azaozz
right before the the version changed from 2.7-beta to 2.7-almost-rc.
Regards,

James Collins

OM4 - Find Customers and Convert Online
OM4.com.au | OM4Tourism.com | OM4Business.com



2009/2/2 Sudar Muthu <sudar@sudarmuthu.com>

> Hi All.
>
> Was it decided to remove the Browse Happy logo (which is displayed in the
> footer for IE) in WordPress 2.7?
>
> I looked into the source code and found that it is commented out on line 21
> of wp-admin/admin-footer.php file
>
> If it is decided not to show the logo, then it is better to remove the code
> rather than having it commented out. What do you guys say?
>
> PS: I am not here to start the discussion, whether the logo has to be
> displayed or not. My point is just that if it is decided not to display it,
> then we have to remove the dead code instead of commenting it out.
>
> With Regards,
> Sudar
>
> http://SudarMuthu.com
> http://twitter.com/sudarmuthu
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Mon Feb  2 22:11:17 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 22:12:43 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <e1202cb10902021403x498379b1mcac60324e0e1d5f2@mail.gmail.com>
Message-ID: <22685369.661233612684150.JavaMail.DELL-1405$@Dell-1405>

Jeremy:

Sounds like you understood the proposal and it's justification 100%. (Are you sure you are agnostic on the issue? ;-)

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Jeremy Clarke" <jer@simianuprising.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 5:03:05 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing  Optional Modules.

On Mon, Feb 2, 2009 at 4:51 PM, Ozh <ozh@planetozh.com> wrote:
> I have probably misunderstood or overlooked something, but I don't get
> how this is different from plugins...

[ mike already replied but here's some more to chew on]


I'm agnostic on the issue, but they would be different from plugins in
that they would be a kind of official plugin tended by the core
committers but excluded from the default install. The best argument is
the situation where core says "this should be a plugin" but the people
say "This is too important to leave up to dislocated volunteers, this
functionality is so important that we all need insurance that it will
continue working like any part of core, even if it would cause bloat
if done in a way that makes it always active". Some non-standard
functionality may be important enough to - for example - stop a new
release from coming out until it is ready. Examples that might be
candidates for this module system:

 * Role/Capability micro-management
 * Podcasting abilities
 * CMS Theme framework
 * caching (supercache could just be promoted in status, Donncha is
already a committer for wpmu).

IMHO this could also be achieved by Automattic/WP.org just choosing
its preferred plugins and taking good care of them, but some UI and
API changes to make it easier to communicate missing dependencies to
users could also be cool.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From scribu at gmail.com  Mon Feb  2 22:15:00 2009
From: scribu at gmail.com (scribu)
Date: Mon Feb  2 22:15:10 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <e1202cb10902021403x498379b1mcac60324e0e1d5f2@mail.gmail.com>
References: <bd35beb50902021317o11e5acc4i5e1d7ba0e6a2b216@mail.gmail.com>
	<12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
	<ae81acd10902021351t7b143c8p25deda7e0c6c9871@mail.gmail.com>
	<e1202cb10902021403x498379b1mcac60324e0e1d5f2@mail.gmail.com>
Message-ID: <349fe48b0902021415x1da238e5h85296916e9fa4a36@mail.gmail.com>

>
> Having "Optional Modules" for WordPress such as I propose would allow
> progress in the direction of common infrastructure without bloating the
> core.
>

I agree. This could potentially lead to a much more versatile platform, at
least in structure.

On the other hand, adding several optional modules automatically rises the
level of work required from the dev team. This could lead to slower release
cicles or more bugs.

Just my 2c.

-- 
http://scribu.net
From jer at simianuprising.com  Mon Feb  2 22:24:04 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon Feb  2 22:24:15 2009
Subject: [wp-hackers] Shortcode to show excerpts by tag?
In-Reply-To: <902424490902021051h110f7bb8gece9928eb9d33d3b@mail.gmail.com>
References: <5d49cb490902021045p79e2a545vd72f92b304c2e5c4@mail.gmail.com>
	<902424490902021051h110f7bb8gece9928eb9d33d3b@mail.gmail.com>
Message-ID: <e1202cb10902021424y5c553418wbafa0bae1584c409@mail.gmail.com>

http://codex.wordpress.org/Shortcode_API

http://codex.wordpress.org/Template_Tags/get_posts

That should explain everything.



-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From mikeschinkel at newclarity.net  Mon Feb  2 22:32:02 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 22:34:07 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <349fe48b0902021415x1da238e5h85296916e9fa4a36@mail.gmail.com>
Message-ID: <8481666.681233613931319.JavaMail.DELL-1405$@Dell-1405>

"scribu" <scribu@gmail.com> wrote:
> I agree. This could potentially lead to a much more versatile 
> platform, at least in structure.

Thanks for pitching in your thoughts.

> On the other hand, adding several optional modules 
> automatically rises the level of work required from 
> the dev team. This could lead to slower release
> cicles or more bugs.

I could actually see it being a net plus. I think optional modules in more specialize areas might attract people who wouldn't otherwise be materially able to contribute to the core. Me, for example. 

The core dev team could still review and approve the optional modules; that'd be up to the team. 

-Mike Schinkel
http://mikeschinkel.com/

From lynne.pope at gmail.com  Mon Feb  2 22:46:00 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Mon Feb  2 22:46:08 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <e1202cb10902021403x498379b1mcac60324e0e1d5f2@mail.gmail.com>
References: <bd35beb50902021317o11e5acc4i5e1d7ba0e6a2b216@mail.gmail.com>
	<12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
	<ae81acd10902021351t7b143c8p25deda7e0c6c9871@mail.gmail.com>
	<e1202cb10902021403x498379b1mcac60324e0e1d5f2@mail.gmail.com>
Message-ID: <427667db0902021446g54d2c74cub58e340eac4d8812@mail.gmail.com>

2009/2/3 Jeremy Clarke <jer@simianuprising.com>

>
> IMHO this could also be achieved by Automattic/WP.org just choosing
> its preferred plugins and taking good care of them, but some UI and
> API changes to make it easier to communicate missing dependencies to
> users could also be cool.


I could be completely misunderstanding here, but the issues this approach
appear to be trying to solve could probably be mitigated if there was a
formal structure for writing plugins. If plugin devs had a good reference
for plugin best practise, and a "plugin coding standard" to work to,
wouldn't this (a) improve quality; (b) make it easy to locate missing
dependencies, and (c) reduce conflicts?

I'm not convinced we need an additional layer between the core and plugins.
However, if the optional module concept is essentially a plugin framework
then this could be a good thing.

Apologies if I am totally off base.

Lynne
From mikeschinkel at newclarity.net  Mon Feb  2 22:49:18 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 22:50:02 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <e1202cb10902021424y5c553418wbafa0bae1584c409@mail.gmail.com>
Message-ID: <6247089.721233614966572.JavaMail.DELL-1405$@Dell-1405>

Yet another topic I'm starting lately...

Has anyone done any CDN integration?  I can't find a plugin that addresses.  I've got to get Limelight Networks CDN in use for a site by EOD Wednesday and think I'm going to write a plugin for it unless someone can direct me to an easier solution?

-Mike Schinkel
http://mikeschinkel.com/
From scribu at gmail.com  Mon Feb  2 23:26:23 2009
From: scribu at gmail.com (scribu)
Date: Mon Feb  2 23:26:34 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <427667db0902021446g54d2c74cub58e340eac4d8812@mail.gmail.com>
References: <bd35beb50902021317o11e5acc4i5e1d7ba0e6a2b216@mail.gmail.com>
	<12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
	<ae81acd10902021351t7b143c8p25deda7e0c6c9871@mail.gmail.com>
	<e1202cb10902021403x498379b1mcac60324e0e1d5f2@mail.gmail.com>
	<427667db0902021446g54d2c74cub58e340eac4d8812@mail.gmail.com>
Message-ID: <349fe48b0902021526x362989b9t434de3fe9c2abc96@mail.gmail.com>

On Tue, Feb 3, 2009 at 12:46 AM, Lynne Pope <lynne.pope@gmail.com> wrote:

>  I'm not convinced we need an additional layer between the core and
> plugins.
> However, if the optional module concept is essentially a plugin framework
> then this could be a good thing.
>
> Apologies if I am totally off base.
>
> Lynne


As I understand it, it wouldn't be a single plugin framework, but
potentially one for each area of interest, for example: podcasts, photo,
video, themes etc.

WordPress would still be about web publishing, but it could branch out into
specific areas, while still being coordinated by the dev team.

-- 
http://scribu.net
From peter at avirtualhome.com  Mon Feb  2 23:30:03 2009
From: peter at avirtualhome.com (Peter van der Does)
Date: Mon Feb  2 23:30:22 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <6247089.721233614966572.JavaMail.DELL-1405$@Dell-1405>
References: <e1202cb10902021424y5c553418wbafa0bae1584c409@mail.gmail.com>
	<6247089.721233614966572.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <20090202183003.2d630e0b@montecarlo.grandprix.int>

On Mon, 2 Feb 2009 16:49:18 -0600 (CST)
Mike Schinkel <mikeschinkel@newclarity.net> wrote:

> Yet another topic I'm starting lately...
> 
> Has anyone done any CDN integration?  I can't find a plugin that
> addresses.  I've got to get Limelight Networks CDN in use for a site
> by EOD Wednesday and think I'm going to write a plugin for it unless
> someone can direct me to an easier solution?
> 
> -Mike Schinkel

What content do you want the CDN to deliver, javascript, images,
everything?



-- 
Peter van der Does

GPG key: E77E8E98

WordPress Plugin Developer
http://blog.avirtualhome.com

GetDeb Package Builder/GetDeb Site Coder
http://www.getdeb.net - Software you want for Ubuntu
From mikeschinkel at newclarity.net  Mon Feb  2 23:36:31 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 23:37:14 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <20090202183003.2d630e0b@montecarlo.grandprix.int>
Message-ID: <21979743.741233617798055.JavaMail.DELL-1405$@Dell-1405>

images, pdfs, flash (swf), and streaming video.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Peter van der Does" <peter@avirtualhome.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 6:30:03 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] CDN Integration?

On Mon, 2 Feb 2009 16:49:18 -0600 (CST)
Mike Schinkel <mikeschinkel@newclarity.net> wrote:

> Yet another topic I'm starting lately...
> 
> Has anyone done any CDN integration?  I can't find a plugin that
> addresses.  I've got to get Limelight Networks CDN in use for a site
> by EOD Wednesday and think I'm going to write a plugin for it unless
> someone can direct me to an easier solution?
> 
> -Mike Schinkel

What content do you want the CDN to deliver, javascript, images,
everything?



-- 
Peter van der Does

GPG key: E77E8E98

WordPress Plugin Developer
http://blog.avirtualhome.com

GetDeb Package Builder/GetDeb Site Coder
http://www.getdeb.net - Software you want for Ubuntu
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From photofantaisie at gmail.com  Mon Feb  2 23:38:26 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon Feb  2 23:38:34 2009
Subject: [wp-hackers] Get query variables and tags
Message-ID: <9dd057850902021538n94e8baasa08099cf83abca57@mail.gmail.com>

Hi all,

I would be very grateful to get a pointer or two for this, please.

I have a single post template with a sidebar which is to be populated with
links to other posts (from the same category). Each post has various tags
assigned to it. If the user clicks a tag, which are listed on the page using
the_tags(), I want the sidebar list of posts to only reflect posts which
have the same tag.

I was thinking that if I could access the query string and identify which
tag had been clicked, I could then run a wp_query to pull posts with the
same tag.

So, my questions are (1) how do I grab the query string to identify which
tag had been clicked, and (2) would I use get_the_tags() to filter the
results of the wp_query?

I have a feeling I'm either oversimplifying what is required - or
over-complicating it! So any pointers would be very gratefully received.

Thanks in advance.

Ade.
From charles at cefm.ca  Mon Feb  2 23:39:00 2009
From: charles at cefm.ca (Charles E. Frees-Melvin)
Date: Mon Feb  2 23:39:24 2009
Subject: [wp-hackers] Less than Core,
	More than Plugins/Themes: Proposing Optional Modules.
In-Reply-To: <349fe48b0902021526x362989b9t434de3fe9c2abc96@mail.gmail.com>
References: <bd35beb50902021317o11e5acc4i5e1d7ba0e6a2b216@mail.gmail.com><12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405><ae81acd10902021351t7b143c8p25deda7e0c6c9871@mail.gmail.com><e1202cb10902021403x498379b1mcac60324e0e1d5f2@mail.gmail.com><427667db0902021446g54d2c74cub58e340eac4d8812@mail.gmail.com>
	<349fe48b0902021526x362989b9t434de3fe9c2abc96@mail.gmail.com>
Message-ID: <2CE8CB4832634554B3339C6641D78628@cefmpc1>

It is very intreaging from this point of view a projec like bbPress for 
example could be added as an extention of WordPress rather that duplicating 
the code with the BackPress code. Basically add on the forum functionality 
without the need for the Authentication, Seperate Theme Engine, Comment 
Engine (for a gellery addon), unified plugin administration etc that is 
provided by the WordPress Core.

I think this could allow a major strive to allow additional functionality 
like a full "Gallery" type extention that goes far beyond the current 
section. But by that it would move more towards the Module system of Joomla 
or Mambo without compramising the core "Best/Simplest blog software ever" 
vision of WordPress.

I think this descussion I would like to see progress similar to the 
"WordPress as a CMS" discussion but this time as "WordPress the Framwork" 
discussion

Charles E. Frees-Melvin (aka thee17)
----- Original Message ----- 
From: "scribu" <scribu@gmail.com>
To: <wp-hackers@lists.automattic.com>
Sent: Monday, February 02, 2009 7:26 PM
Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: 
Proposing Optional Modules.


> On Tue, Feb 3, 2009 at 12:46 AM, Lynne Pope <lynne.pope@gmail.com> wrote:
>
>>  I'm not convinced we need an additional layer between the core and
>> plugins.
>> However, if the optional module concept is essentially a plugin framework
>> then this could be a good thing.
>>
>> Apologies if I am totally off base.
>>
>> Lynne
>
>
> As I understand it, it wouldn't be a single plugin framework, but
> potentially one for each area of interest, for example: podcasts, photo,
> video, themes etc.
>
> WordPress would still be about web publishing, but it could branch out 
> into
> specific areas, while still being coordinated by the dev team.
>
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From lynne.pope at gmail.com  Mon Feb  2 23:39:58 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Mon Feb  2 23:40:09 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <349fe48b0902021526x362989b9t434de3fe9c2abc96@mail.gmail.com>
References: <bd35beb50902021317o11e5acc4i5e1d7ba0e6a2b216@mail.gmail.com>
	<12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
	<ae81acd10902021351t7b143c8p25deda7e0c6c9871@mail.gmail.com>
	<e1202cb10902021403x498379b1mcac60324e0e1d5f2@mail.gmail.com>
	<427667db0902021446g54d2c74cub58e340eac4d8812@mail.gmail.com>
	<349fe48b0902021526x362989b9t434de3fe9c2abc96@mail.gmail.com>
Message-ID: <427667db0902021539w54b226c8x89c4fd625501dcbc@mail.gmail.com>

2009/2/3 scribu <scribu@gmail.com>

>
> As I understand it, it wouldn't be a single plugin framework, but
> potentially one for each area of interest, for example: podcasts, photo,
> video, themes etc.
>
> WordPress would still be about web publishing, but it could branch out into
> specific areas, while still being coordinated by the dev team.


Ah, ok. In that case my concerns are these:
1. creating additional workload for the core team (the more complex WP
becomes, the harder it is to maintain and the more bugs and potential
security issues there could be to deal with);

And,
2. the danger of potential loss of extensibility to end users - many of whom
are developers and use WP as a framework.

Even though these are proposed to be optional modules my experience with
other FOSS projects has shown that when a core team has to support optional
modules development becomes a bit of a "chicken and egg" situation, where
code goes into the core to support the optional modules and module
development and compatibility issues can end up impacting on decisions made
about the core. I am far more in favour of the core team simply providing
the hooks and extending the API to make development for the different areas
of interest easier - for third parties ;)

Lynne
From wordpress at dd32.id.au  Mon Feb  2 23:41:05 2009
From: wordpress at dd32.id.au (DD32)
Date: Mon Feb  2 23:41:19 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <8544163.621233611571029.JavaMail.DELL-1405$@Dell-1405>
References: <3F8A8CBF-84DD-47D2-981F-D1BF456EC701@codehooligans.com>
	<8544163.621233611571029.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <45055a190902021541m43f43c4ewb6580c92630a40b8@mail.gmail.com>

Your most likely problem is the case of the ID, $id !== $ID, Pass a
valid $ID and the user record gets updated.

You do NOT have to duplicate most of the wp-login.php file at all.
Create a new page, have that as the login form, Create a new page, set
that as the register form, Create a new page, set that as the user
options page.  Add the forms, Next, Set the forms action for the
login/register to wp-login.php SET THE REDIRECTION URL, Next, Add some
code which hooks in on the wp-login page, Redirect to the
login/register forms if someone manually hits the wp-login page, also
add a redirect for a login failure.

It can be done.. I've got about 150 lines of code which i'm using for
that exact purpose (No, I wont release it for client reasons), End
result is a perfectly themed login, how you want it, where you want
it, And no-one ever see's the wp-login.php page.

If you want a thickbox page.. You might want to add a function to your
header.php file to have a "mini header" ie. no sidebar, no huge
logo's, no nothing, just a plain page with styles loaded..


2009/2/3 Mike Schinkel <mikeschinkel@newclarity.net>:
>> Not sure on your ideas for theming the login. This is
>> very simple to accomplish with just images. I generally
>> will create a login/register image to match the client
>> fron-end.
>
> Sadly, theming with images is just lipstick (on a pitbull? sorry, couldn't resist), not functional improvements. :-)
>
> My client wanted a modal dialog (think a "ThickBox" but we used something else), wanted to let users upload and preview their own avatar, and wanted to allow users to fill in some user profile fields all while still in a wizard within the modal.  Try that with images! :-)
>
> I had to take the wp-login.php code and *greatly* refactor it to get it to work. The results is I have something that could be a lot more maintainable and with hooks much more easily incorporated including the ability to capture custom user fields in a wizard-like dialog.
From wordpress at dd32.id.au  Mon Feb  2 23:44:16 2009
From: wordpress at dd32.id.au (DD32)
Date: Mon Feb  2 23:46:35 2009
Subject: [wp-hackers] Get query variables and tags
In-Reply-To: <9dd057850902021538n94e8baasa08099cf83abca57@mail.gmail.com>
References: <9dd057850902021538n94e8baasa08099cf83abca57@mail.gmail.com>
Message-ID: <45055a190902021544k1a7d0e08o88ca04925d426cc4@mail.gmail.com>

What i would do:

$tag = get_query_var('tag');
//Might need to convert 'MyTag' into a TermID here.. not sure
$objects = get_objects_in_term('post_tag', $tag)
$posts = get_posts( array('post_in' => $objects) );

Or something similar.... You'll have to check the get_objects
function.. and WP_Query for the correct usage of post_in..

2009/2/3 Ade Walker <photofantaisie@gmail.com>:
> Hi all,
>
> I would be very grateful to get a pointer or two for this, please.
>
> I have a single post template with a sidebar which is to be populated with
> links to other posts (from the same category). Each post has various tags
> assigned to it. If the user clicks a tag, which are listed on the page using
> the_tags(), I want the sidebar list of posts to only reflect posts which
> have the same tag.
>
> I was thinking that if I could access the query string and identify which
> tag had been clicked, I could then run a wp_query to pull posts with the
> same tag.
>
> So, my questions are (1) how do I grab the query string to identify which
> tag had been clicked, and (2) would I use get_the_tags() to filter the
> results of the wp_query?
>
> I have a feeling I'm either oversimplifying what is required - or
> over-complicating it! So any pointers would be very gratefully received.
>
> Thanks in advance.
>
> Ade.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Mon Feb  2 23:45:26 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 23:46:52 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <1375890.761233618084318.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <31615650.781233618333785.JavaMail.DELL-1405$@Dell-1405>

"scribu" <scribu@gmail.com> wrote:
> As I understand it, it wouldn't be a single plugin framework, 
> but potentially one for each area of interest, for example: 
> podcasts, photo, video, themes etc.
>
> WordPress would still be about web publishing, but it could 
> branch out into specific areas, while still being coordinated 
> by the dev team.

Yes, that's the idea.

There would, for example, be a real benefit to adding some more advanced concepts for image management but currently each plugin goes it's own way arbitrarily in areas that I would consider "infrastructure", i.e. filenaming conventions, locations, etc. Doing this would eventually empower plugin developers to do a lot more more quickly because they would have less that they would have to do "from scrach."

-Mike Schinkel
http://mikeschinkel.com/
From wordpress at dd32.id.au  Mon Feb  2 23:47:22 2009
From: wordpress at dd32.id.au (DD32)
Date: Mon Feb  2 23:47:36 2009
Subject: [wp-hackers] Re: Translation problems after automatic plugin 
	upgrade
In-Reply-To: <34ff5554-b96a-4e96-b1ac-01b3c2b235b7@n10g2000yqm.googlegroups.com>
References: <6B090446-B5B2-4C2E-B6FC-3FB39EF1DB9F@amphibian.info>
	<4985CB11.1080301@poplarware.com>
	<45055a190902011514r7993cc9cg5b40b89e0f250373@mail.gmail.com>
	<2a180899-5e2f-4331-b686-a837d0e59cf8@t13g2000yqc.googlegroups.com>
	<45055a190902011735g655084c7p5a839003c0ec579e@mail.gmail.com>
	<34ff5554-b96a-4e96-b1ac-01b3c2b235b7@n10g2000yqm.googlegroups.com>
Message-ID: <45055a190902021547i12bda7a4v385315a056146364@mail.gmail.com>

"pretty standard" ..Nothing is ever pretty standard, Its a PITA, but
quite often a "standard" setup might include a library which has a
small bug in it.. or a combination of items cause a problem.. Its rare
for 2 peoples setups to be identical.. Which causes problems.

I'll do some testing next chance i get to make sure the binary switch
is working correctly.. It could be that one of the FTP methods is not
handling it correctly (Theres 3 different ways WordPress can connect
via FTP to the local host, Standards again, You need the
5(FTP+Direct+SSH) different ways to connect to everyones servers..)

2009/2/3 Derek Hogue <derek@amphibian.info>:
> DD32,
>
> Looks like one user who had this problem under 2.6 has *not* had it
> reoccur under 2.7 - so that's good news.  However, another user is
> *still* having this problem under 2.7.  He's running a pretty standard
> setup - Linux box, PHP 5.2.
>
> I haven't gotten many reports of this, and the plugin is currently
> translated into about 8 languages, so I can only conclude that this is
> an edge-case problem, especially under 2.7.
>
> Derek
From wordpress at dd32.id.au  Mon Feb  2 23:48:49 2009
From: wordpress at dd32.id.au (DD32)
Date: Mon Feb  2 23:48:58 2009
Subject: [wp-hackers] wouldn't internal links be more efficient?
In-Reply-To: <e1202cb10902020852g4f67f153l675cde877901d8f7@mail.gmail.com>
References: <877i493gnc.fsf@jidanni.org>
	<349fe48b0902011506v545b54b1r250803a772b3b9be@mail.gmail.com>
	<518fa9630902011524i255f12bajba92f5103bdd49ad@mail.gmail.com>
	<fd3b80510902020036w50afe2f7wa2d968084d486c8b@mail.gmail.com>
	<e1202cb10902020852g4f67f153l675cde877901d8f7@mail.gmail.com>
Message-ID: <45055a190902021548u714a61e6pab74f976550f41ee@mail.gmail.com>

2009/2/3 Jeremy Clarke <jer@simianuprising.com>:
> We had certain parts of our site that had a ton of links all together
> (e.g. our cloud of 300+ categories). In that case we found that
> removing our domain (which is long) from the urls saved us something
> like 35% of the download size of the html in our page.

If you had compression turned on, You'd probably find that it'd load
faster.. even with the extra domain in there..
From photofantaisie at gmail.com  Mon Feb  2 23:51:32 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon Feb  2 23:51:44 2009
Subject: [wp-hackers] Get query variables and tags
In-Reply-To: <45055a190902021544k1a7d0e08o88ca04925d426cc4@mail.gmail.com>
References: <9dd057850902021538n94e8baasa08099cf83abca57@mail.gmail.com>
	<45055a190902021544k1a7d0e08o88ca04925d426cc4@mail.gmail.com>
Message-ID: <9dd057850902021551s905892cvd8136cf706facead@mail.gmail.com>

Thanks so much! That's exactly the kind of thing I was looking for. I'll now
go and have a play and see if I can get it to work.
Thanks again.
Ade.

2009/2/3 DD32 <wordpress@dd32.id.au>

> What i would do:
>
> $tag = get_query_var('tag');
> //Might need to convert 'MyTag' into a TermID here.. not sure
> $objects = get_objects_in_term('post_tag', $tag)
> $posts = get_posts( array('post_in' => $objects) );
>
> Or something similar.... You'll have to check the get_objects
> function.. and WP_Query for the correct usage of post_in..
>
> 2009/2/3 Ade Walker <photofantaisie@gmail.com>:
> > Hi all,
> >
> > I would be very grateful to get a pointer or two for this, please.
> >
> > I have a single post template with a sidebar which is to be populated
> with
> > links to other posts (from the same category). Each post has various tags
> > assigned to it. If the user clicks a tag, which are listed on the page
> using
> > the_tags(), I want the sidebar list of posts to only reflect posts which
> > have the same tag.
> >
> > I was thinking that if I could access the query string and identify which
> > tag had been clicked, I could then run a wp_query to pull posts with the
> > same tag.
> >
> > So, my questions are (1) how do I grab the query string to identify which
> > tag had been clicked, and (2) would I use get_the_tags() to filter the
> > results of the wp_query?
> >
> > I have a feeling I'm either oversimplifying what is required - or
> > over-complicating it! So any pointers would be very gratefully received.
> >
> > Thanks in advance.
> >
> > Ade.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Mon Feb  2 23:54:42 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb  2 23:55:20 2009
Subject: [wp-hackers] Get query variables and tags
In-Reply-To: <7151740.801233618590824.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <31116704.821233618890867.JavaMail.DELL-1405$@Dell-1405>

Ade:

For #1

	function get_url_path() {
		static $path;
		if (!isset($path)) {
			$path = strtolower(trim($_SERVER['REQUEST_URI'],'/'));
			$path = explode('?',$path);
			$path = $path[0];
		}
		return $path;
	}

	function get_last_url_segment() {
		static $last_segment;
		if (!isset($last_segment)) $last_segment = array_pop(explode('/', self::get_url_path()));
		return $last_segment;
	}



For #2 (I think)

    $q = new WP_Query();
    $q->query('tag=bread,baking');


See: http://codex.wordpress.org/Template_Tags/query_posts 
Also: http://weblogtoolscollection.com/archives/2008/04/13/define-your-own-wordpress-loop-using-wp_query/

HTH.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Ade Walker" <photofantaisie@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 6:38:26 PM GMT -05:00 US/Canada Eastern
Subject: [wp-hackers] Get query variables and tags

Hi all,

I would be very grateful to get a pointer or two for this, please.

I have a single post template with a sidebar which is to be populated with
links to other posts (from the same category). Each post has various tags
assigned to it. If the user clicks a tag, which are listed on the page using
the_tags(), I want the sidebar list of posts to only reflect posts which
have the same tag.

I was thinking that if I could access the query string and identify which
tag had been clicked, I could then run a wp_query to pull posts with the
same tag.

So, my questions are (1) how do I grab the query string to identify which
tag had been clicked, and (2) would I use get_the_tags() to filter the
results of the wp_query?

I have a feeling I'm either oversimplifying what is required - or
over-complicating it! So any pointers would be very gratefully received.

Thanks in advance.

Ade.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Tue Feb  3 00:11:03 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 00:11:21 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <427667db0902021539w54b226c8x89c4fd625501dcbc@mail.gmail.com>
Message-ID: <29878079.841233619871391.JavaMail.DELL-1405$@Dell-1405>

"Lynne Pope" <lynne.pope@gmail.com> wrote:
> Even though these are proposed to be optional modules my 
> experience with other FOSS projects has shown that...

But FOSS projects are by their very nature fluid and there is collective learning over time. Structure this thoughtfully and it becomes less ultimate work on the core team instead of more.  

Have the core team delegate to "module teams" and give them the authority over that module. This allows the core team to really focus on core features instead of addressing what would essentially be less core but that lots of people want.

> ... when a core team has to support optional modules 
> development becomes a bit of a "chicken and egg" situation, 
> where code goes into the core to support the optional modules 
> and module development and compatibility issues can end up 
> impacting on decisions made about the core. 

That would be inevitable, and desirable, no matter what structure is made. When plugin developers have valid needs the core must evolve, how is this different?
The whole point of evolving the core is to make it a better platform; without actual needs driving the platform evolution, but value is there to the evolution?  Your concern appears to be a good thing, not a bad thing.
 
> I am far more in favour of the core team simply providing 
> the hooks and extending the API to make development for 
> the different areas of interest easier - for third parties ;)

The problem is that needed hooks have been "voted down" because it will "bloat the core."  The point of the proposal is to give those things aren't right for the core but that really do need some standardization and dependability have a place to go.

What's the decision flow?  

   Is it right for the core? 
      -> Yes -> Into core
      -> No -> Is it shared Infrastructure/APIs?  Does the community benefit from having "one" vs. "many?"
         -> No -> Make it a Plugin
         -> Yes -> Make it an Optional Module

What I'm basically asking for are specialized APIs (and some commonly valued functionality) that are not right for the core but by definition don't achieve defacto-standardization if they are implemented as one-of-many plugins.

-Mike Schinkel
http://mikeschinkel.com/
From mwalters8 at gmail.com  Tue Feb  3 00:15:38 2009
From: mwalters8 at gmail.com (Matt Walters)
Date: Tue Feb  3 00:15:52 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <31615650.781233618333785.JavaMail.DELL-1405$@Dell-1405>
References: <1375890.761233618084318.JavaMail.DELL-1405$@Dell-1405>
	<31615650.781233618333785.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <5dbff0c70902021615m5a67fe37n7294332a8093035d@mail.gmail.com>

Does there need to be any concern over dependancy issues the end-user
might face?

Theme-X needs module Y

Plugin-A needs module B

etc...

Just throwing it out there as that's the first thing that came to my
mind, but no one mentioned it.

---------------------------------
Matt Walters




On Mon, Feb 2, 2009 at 6:45 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> "scribu" <scribu@gmail.com> wrote:
>> As I understand it, it wouldn't be a single plugin framework,
>> but potentially one for each area of interest, for example:
>> podcasts, photo, video, themes etc.
>>
>> WordPress would still be about web publishing, but it could
>> branch out into specific areas, while still being coordinated
>> by the dev team.
>
> Yes, that's the idea.
>
> There would, for example, be a real benefit to adding some more advanced concepts for image management but currently each plugin goes it's own way arbitrarily in areas that I would consider "infrastructure", i.e. filenaming conventions, locations, etc. Doing this would eventually empower plugin developers to do a lot more more quickly because they would have less that they would have to do "from scrach."
>
> -Mike Schinkel
> http://mikeschinkel.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Tue Feb  3 00:15:38 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 00:17:05 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <45055a190902021541m43f43c4ewb6580c92630a40b8@mail.gmail.com>
Message-ID: <28366786.861233620142890.JavaMail.DELL-1405$@Dell-1405>

Hmm.  Is that "interface" documented anywhere?  Yes, you documented it in the paragraph below but I mean more details. 

That said, wouldn't you agree that wp-login.php is rather spaghetti code and very difficult to follow? I ended up refactoring to lots of little functions and passing around an array of state and it is not very easy to follow and interact with.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "DD32" <wordpress@dd32.id.au>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 6:41:05 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Updating a User Record via PHP?

Your most likely problem is the case of the ID, $id !== $ID, Pass a
valid $ID and the user record gets updated.

You do NOT have to duplicate most of the wp-login.php file at all.
Create a new page, have that as the login form, Create a new page, set
that as the register form, Create a new page, set that as the user
options page.  Add the forms, Next, Set the forms action for the
login/register to wp-login.php SET THE REDIRECTION URL, Next, Add some
code which hooks in on the wp-login page, Redirect to the
login/register forms if someone manually hits the wp-login page, also
add a redirect for a login failure.

It can be done.. I've got about 150 lines of code which i'm using for
that exact purpose (No, I wont release it for client reasons), End
result is a perfectly themed login, how you want it, where you want
it, And no-one ever see's the wp-login.php page.

If you want a thickbox page.. You might want to add a function to your
header.php file to have a "mini header" ie. no sidebar, no huge
logo's, no nothing, just a plain page with styles loaded..


2009/2/3 Mike Schinkel <mikeschinkel@newclarity.net>:
>> Not sure on your ideas for theming the login. This is
>> very simple to accomplish with just images. I generally
>> will create a login/register image to match the client
>> fron-end.
>
> Sadly, theming with images is just lipstick (on a pitbull? sorry, couldn't resist), not functional improvements. :-)
>
> My client wanted a modal dialog (think a "ThickBox" but we used something else), wanted to let users upload and preview their own avatar, and wanted to allow users to fill in some user profile fields all while still in a wizard within the modal.  Try that with images! :-)
>
> I had to take the wp-login.php code and *greatly* refactor it to get it to work. The results is I have something that could be a lot more maintainable and with hooks much more easily incorporated including the ability to capture custom user fields in a wizard-like dialog.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From wordpress at dd32.id.au  Tue Feb  3 00:20:37 2009
From: wordpress at dd32.id.au (DD32)
Date: Tue Feb  3 00:20:48 2009
Subject: [wp-hackers] Get query variables and tags
In-Reply-To: <45055a190902021544k1a7d0e08o88ca04925d426cc4@mail.gmail.com>
References: <9dd057850902021538n94e8baasa08099cf83abca57@mail.gmail.com>
	<45055a190902021544k1a7d0e08o88ca04925d426cc4@mail.gmail.com>
Message-ID: <45055a190902021620x6d91902bvc7132bfa29e1398f@mail.gmail.com>

In addition, If you want to use all the normal Template tags (such as
the_title(), the_permalink(), etc) you might want to create your own
loop: http://weblogtoolscollection.com/archives/2008/04/13/define-your-own-wordpress-loop-using-wp_query/

You basically do the same, But instead of ->query('showposts=5'); use
->query( array('post_in' => $objects, 'showposts' => <number of posts
you want>) );

I should've mentioned WP_Query defaults to 5 posts.. (Which get_posts
uses internally), you can set the post number to 0 to retrieve them
all.

2009/2/3 DD32 <wordpress@dd32.id.au>:
> What i would do:
>
> $tag = get_query_var('tag');
> //Might need to convert 'MyTag' into a TermID here.. not sure
> $objects = get_objects_in_term('post_tag', $tag)
> $posts = get_posts( array('post_in' => $objects) );
>
> Or something similar.... You'll have to check the get_objects
> function.. and WP_Query for the correct usage of post_in..
>
> 2009/2/3 Ade Walker <photofantaisie@gmail.com>:
>> Hi all,
>>
>> I would be very grateful to get a pointer or two for this, please.
>>
>> I have a single post template with a sidebar which is to be populated with
>> links to other posts (from the same category). Each post has various tags
>> assigned to it. If the user clicks a tag, which are listed on the page using
>> the_tags(), I want the sidebar list of posts to only reflect posts which
>> have the same tag.
>>
>> I was thinking that if I could access the query string and identify which
>> tag had been clicked, I could then run a wp_query to pull posts with the
>> same tag.
>>
>> So, my questions are (1) how do I grab the query string to identify which
>> tag had been clicked, and (2) would I use get_the_tags() to filter the
>> results of the wp_query?
>>
>> I have a feeling I'm either oversimplifying what is required - or
>> over-complicating it! So any pointers would be very gratefully received.
>>
>> Thanks in advance.
>>
>> Ade.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
From wordpress at dd32.id.au  Tue Feb  3 00:24:43 2009
From: wordpress at dd32.id.au (DD32)
Date: Tue Feb  3 00:24:55 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <28366786.861233620142890.JavaMail.DELL-1405$@Dell-1405>
References: <45055a190902021541m43f43c4ewb6580c92630a40b8@mail.gmail.com>
	<28366786.861233620142890.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <45055a190902021624v42424f8foaffc644164ed1210@mail.gmail.com>

2009/2/3 Mike Schinkel <mikeschinkel@newclarity.net>:
> Hmm.  Is that "interface" documented anywhere?  Yes, you documented it in the paragraph below but I mean more details.

What "Interface" ? If you're refering to the userdata bizzo, Its basic PHP.

> That said, wouldn't you agree that wp-login.php is rather spaghetti code and very difficult to follow? I ended up refactoring to lots of little functions and passing around an array of state and it is not very easy to follow and interact with.

Yes, which was why i supported themes defining new login pages.

My advice is, If you want a themed login, Ignore wp-login.php all
together, except for POST'ing to. You should be able to look up the
user functions for anything else needed (ie. custom register fields,
you need to handle that yourself.. which is very easy to do.. since
its just accept-POST items, validate, Error, or call wp_insert_user()
From mikeschinkel at newclarity.net  Tue Feb  3 00:25:49 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 00:26:22 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <5dbff0c70902021615m5a67fe37n7294332a8093035d@mail.gmail.com>
Message-ID: <23180024.881233620753556.JavaMail.DELL-1405$@Dell-1405>

Those exact dependency issues are already concerns with the core vs. existing plugins and themes. This proposal doesn't modify those concerns at all.

The modules would be versions with the core.  Modules could come out after a core update was released but would be associated with the current release. Version control can handle all that nicely.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Matt Walters" <mwalters8@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 7:15:38 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing  Optional Modules.

Does there need to be any concern over dependancy issues the end-user
might face?

Theme-X needs module Y

Plugin-A needs module B

etc...

Just throwing it out there as that's the first thing that came to my
mind, but no one mentioned it.

---------------------------------
Matt Walters




On Mon, Feb 2, 2009 at 6:45 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> "scribu" <scribu@gmail.com> wrote:
>> As I understand it, it wouldn't be a single plugin framework,
>> but potentially one for each area of interest, for example:
>> podcasts, photo, video, themes etc.
>>
>> WordPress would still be about web publishing, but it could
>> branch out into specific areas, while still being coordinated
>> by the dev team.
>
> Yes, that's the idea.
>
> There would, for example, be a real benefit to adding some more advanced concepts for image management but currently each plugin goes it's own way arbitrarily in areas that I would consider "infrastructure", i.e. filenaming conventions, locations, etc. Doing this would eventually empower plugin developers to do a lot more more quickly because they would have less that they would have to do "from scrach."
>
> -Mike Schinkel
> http://mikeschinkel.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Tue Feb  3 00:29:14 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 00:29:34 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <10019820.901233620872779.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <29977390.921233620961158.JavaMail.DELL-1405$@Dell-1405>

> What "Interface" ? If you're refering to the userdata bizzo, Its basic PHP.

What URLs to call, what each is expecting in terms of POSTed state, where it redirects, etc.

> My advice is, If you want a themed login, Ignore wp-login.php all
together, except for POST'ing to. 

I didn't realize it could be used this way.  Hmmm. I'll have to stew on that.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "DD32" <wordpress@dd32.id.au>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 7:24:43 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Updating a User Record via PHP?

2009/2/3 Mike Schinkel <mikeschinkel@newclarity.net>:
> Hmm.  Is that "interface" documented anywhere?  Yes, you documented it in the paragraph below but I mean more details.

What "Interface" ? If you're refering to the userdata bizzo, Its basic PHP.

> That said, wouldn't you agree that wp-login.php is rather spaghetti code and very difficult to follow? I ended up refactoring to lots of little functions and passing around an array of state and it is not very easy to follow and interact with.

Yes, which was why i supported themes defining new login pages.

My advice is, If you want a themed login, Ignore wp-login.php all
together, except for POST'ing to. You should be able to look up the
user functions for anything else needed (ie. custom register fields,
you need to handle that yourself.. which is very easy to do.. since
its just accept-POST items, validate, Error, or call wp_insert_user()
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mwalters8 at gmail.com  Tue Feb  3 00:36:20 2009
From: mwalters8 at gmail.com (Matt Walters)
Date: Tue Feb  3 00:36:34 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <23180024.881233620753556.JavaMail.DELL-1405$@Dell-1405>
References: <5dbff0c70902021615m5a67fe37n7294332a8093035d@mail.gmail.com>
	<23180024.881233620753556.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <5dbff0c70902021636y6faef170h5462261dd6d51440@mail.gmail.com>

I'm not saying that the Module idea is not worth it (I'm more or less
indifferent).  But I do think modules could potentially compound this
concern.  I get what you're saying in that even currently, a theme may
not work without x, y and z plugins, but adding in Modules would only
expand the risk of running into those issues.

I'm fairly certain that this could be handled elegantly though, for
instance some sort of notification along the lines of, "This theme
requires Module E, would you like to install it now?" (along the lines
of one click upgrades, etc)

---------------------------------
Matt Walters
http://mattwalters.net/

On Mon, Feb 2, 2009 at 7:25 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Those exact dependency issues are already concerns with the core vs. existing plugins and themes. This proposal doesn't modify those concerns at all.
>
> The modules would be versions with the core.  Modules could come out after a core update was released but would be associated with the current release. Version control can handle all that nicely.
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "Matt Walters" <mwalters8@gmail.com>
> To: wp-hackers@lists.automattic.com
> Sent: Monday, February 2, 2009 7:15:38 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing  Optional Modules.
>
> Does there need to be any concern over dependancy issues the end-user
> might face?
>
> Theme-X needs module Y
>
> Plugin-A needs module B
>
> etc...
>
> Just throwing it out there as that's the first thing that came to my
> mind, but no one mentioned it.
>
> ---------------------------------
> Matt Walters
>
>
>
>
> On Mon, Feb 2, 2009 at 6:45 PM, Mike Schinkel
> <mikeschinkel@newclarity.net> wrote:
>> "scribu" <scribu@gmail.com> wrote:
>>> As I understand it, it wouldn't be a single plugin framework,
>>> but potentially one for each area of interest, for example:
>>> podcasts, photo, video, themes etc.
>>>
>>> WordPress would still be about web publishing, but it could
>>> branch out into specific areas, while still being coordinated
>>> by the dev team.
>>
>> Yes, that's the idea.
>>
>> There would, for example, be a real benefit to adding some more advanced concepts for image management but currently each plugin goes it's own way arbitrarily in areas that I would consider "infrastructure", i.e. filenaming conventions, locations, etc. Doing this would eventually empower plugin developers to do a lot more more quickly because they would have less that they would have to do "from scrach."
>>
>> -Mike Schinkel
>> http://mikeschinkel.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From lynne.pope at gmail.com  Tue Feb  3 00:38:54 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Tue Feb  3 00:39:01 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <29878079.841233619871391.JavaMail.DELL-1405$@Dell-1405>
References: <427667db0902021539w54b226c8x89c4fd625501dcbc@mail.gmail.com>
	<29878079.841233619871391.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <427667db0902021638w27e19228g7dd93defa029beab@mail.gmail.com>

2009/2/3 Mike Schinkel <mikeschinkel@newclarity.net>

> "Lynne Pope" <lynne.pope@gmail.com> wrote:
> > Even though these are proposed to be optional modules my
> > experience with other FOSS projects has shown that...
>
> But FOSS projects are by their very nature fluid and there is collective
> learning over time. Structure this thoughtfully and it becomes less ultimate
> work on the core team instead of more.


Because FOSS projects are fluid and people come and go, there is no
guarantee that the number of people around in the future will be able to
sustain a core + modules + plugins + themes.
What is less ultimate work for the core team this year could become a real
noose around the necks next year. WP is currently enjoying high popularity
with 3rd party developers, but this may not always be the case. Basic risk
management for the project should always include sustainability.


> Have the core team delegate to "module teams" and give them the authority
> over that module. This allows the core team to really focus on core features
> instead of addressing what would essentially be less core but that lots of
> people want.


The problem with "lots of people" is that this is unquantified. We know lots
of people want a good, solid blogging platform. Many seem to use it as a
framework for their own development. If the ideas forum is anything to go
by, most people must be pretty happy with what WP does now - there are not
too many new features being requested there. The rest of us are looking at
what we do with WP, but this does not necessarily project out to what the
masses want or need.


> > ... when a core team has to support optional modules
> > development becomes a bit of a "chicken and egg" situation,
> > where code goes into the core to support the optional modules
> > and module development and compatibility issues can end up
> > impacting on decisions made about the core.
>
> That would be inevitable, and desirable, no matter what structure is made.
> When plugin developers have valid needs the core must evolve, how is this
> different?
> The whole point of evolving the core is to make it a better platform;
> without actual needs driving the platform evolution, but value is there to
> the evolution?  Your concern appears to be a good thing, not a bad thing.


This holds true only when meeting the needs of the module does not have a
negative impact on extensibility. Unfortunately, it often does.


> > I am far more in favour of the core team simply providing
> > the hooks and extending the API to make development for
> > the different areas of interest easier - for third parties ;)
> ......
>
> What I'm basically asking for are specialized APIs (and some commonly
> valued functionality) that are not right for the core but by definition
> don't achieve defacto-standardization if they are implemented as one-of-many
> plugins.


I understand where you are coming from and may even be inclined to agree
sometime. At the moment though it kinda seems a bit like putting the cart
before the horse, so to speak. *If* we had some standardisation across
plugins and documented methods to avoid collisions, optional modules would
probably not be needed. Dependencies are a real problem and coding standards
are a real problem. I'm not sure modules are the best way to address these
kinds of issues.

Lynne
From dangayle at gmail.com  Tue Feb  3 00:46:03 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Tue Feb  3 00:50:12 2009
Subject: [wp-hackers] Less than Core,
	More than Plugins/Themes: Proposing  Optional Modules.
In-Reply-To: <5dbff0c70902021636y6faef170h5462261dd6d51440@mail.gmail.com>
References: <5dbff0c70902021615m5a67fe37n7294332a8093035d@mail.gmail.com>
	<23180024.881233620753556.JavaMail.DELL-1405$@Dell-1405>
	<5dbff0c70902021636y6faef170h5462261dd6d51440@mail.gmail.com>
Message-ID: <B2934BCD-DB47-4D76-B8A9-0ECEBDFFE687@gmail.com>


On Feb 2, 2009, at 4:36 PM, Matt Walters wrote:

> I'm not saying that the Module idea is not worth it (I'm more or less
> indifferent).  But I do think modules could potentially compound this
> concern.  I get what you're saying in that even currently, a theme may
> not work without x, y and z plugins, but adding in Modules would only
> expand the risk of running into those issues.

Wouldn't having a standardized set of modules available just transfer  
the requirements of dependencies, if not lessen them? If a theme  
requires plugin X, Y, and Z, but module A provides most of the  
functionality in a standardized environment, I see that as a good  
thing. Any additional theme specific functions could go into  
functions.php where they belong.
From wordpress at dd32.id.au  Tue Feb  3 00:51:58 2009
From: wordpress at dd32.id.au (DD32)
Date: Tue Feb  3 00:52:11 2009
Subject: [wp-hackers] Updating a User Record via PHP?
In-Reply-To: <29977390.921233620961158.JavaMail.DELL-1405$@Dell-1405>
References: <10019820.901233620872779.JavaMail.DELL-1405$@Dell-1405>
	<29977390.921233620961158.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <45055a190902021651k1220fec0j2081eba02c50ec5d@mail.gmail.com>

Oh then, No, No there isnt.
Just read the PHP, look at the case switch, Look at the way the form
is structured.

Also, People might be interested in this:
http://wpengineer.com/removing-wordpress-login-design/ or this
http://wpengineer.com/create-your-own-wordpress-login-design/
I wouldnt usually refer to wpengineer.com, But those 2 examples
provide a simple example of striping WordPress style from the forms..

2009/2/3 Mike Schinkel <mikeschinkel@newclarity.net>:
>> What "Interface" ? If you're refering to the userdata bizzo, Its basic PHP.
>
> What URLs to call, what each is expecting in terms of POSTed state, where it redirects, etc.
>
>> My advice is, If you want a themed login, Ignore wp-login.php all
> together, except for POST'ing to.
>
> I didn't realize it could be used this way.  Hmmm. I'll have to stew on that.
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "DD32" <wordpress@dd32.id.au>
> To: wp-hackers@lists.automattic.com
> Sent: Monday, February 2, 2009 7:24:43 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] Updating a User Record via PHP?
>
> 2009/2/3 Mike Schinkel <mikeschinkel@newclarity.net>:
>> Hmm.  Is that "interface" documented anywhere?  Yes, you documented it in the paragraph below but I mean more details.
>
> What "Interface" ? If you're refering to the userdata bizzo, Its basic PHP.
>
>> That said, wouldn't you agree that wp-login.php is rather spaghetti code and very difficult to follow? I ended up refactoring to lots of little functions and passing around an array of state and it is not very easy to follow and interact with.
>
> Yes, which was why i supported themes defining new login pages.
>
> My advice is, If you want a themed login, Ignore wp-login.php all
> together, except for POST'ing to. You should be able to look up the
> user functions for anything else needed (ie. custom register fields,
> you need to handle that yourself.. which is very easy to do.. since
> its just accept-POST items, validate, Error, or call wp_insert_user()
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From brian at nerdlife.net  Tue Feb  3 01:06:56 2009
From: brian at nerdlife.net (Brian Krausz)
Date: Tue Feb  3 01:07:08 2009
Subject: [wp-hackers] Plugin Update
In-Reply-To: <45055a190901300146h37806f83w69a5108827cf11ef@mail.gmail.com>
References: <862d087f0901251929w680eb491l25d05a9e723fabeb@mail.gmail.com>
	<8B8C37E1-4CFF-49E8-AB95-75AFB7643BFD@striderweb.com>
	<45055a190901252214h10452a43hb43d3a4039215666@mail.gmail.com>
	<63a3a6ce0901260046j126afadbv422c26d57be3ae0c@mail.gmail.com>
	<E9F94600-F1AF-407A-810F-0D4F90E78E06@striderweb.com>
	<161617690901260633s76dda452w69f797059763960c@mail.gmail.com>
	<842109AF-07F3-4018-87FD-0D952060BD7F@striderweb.com>
	<63a3a6ce0901292137l657e12acx27622cb6f82fce12@mail.gmail.com>
	<4982A320.9050003@htcomp.net>
	<45055a190901300146h37806f83w69a5108827cf11ef@mail.gmail.com>
Message-ID: <63a3a6ce0902021706u3d53b2fdudeeb545c7f1f813e@mail.gmail.com>

Fair enough, it was a hack that I throw together off the top of my head at
1am :-P.

--Brian

On Fri, Jan 30, 2009 at 4:46 AM, DD32 <wordpress@dd32.id.au> wrote:

> 2009/1/30 Charles K. Clarkson <cclarkson@htcomp.net>:
> >> add_action('update_plugins', 'hook_me_baby');
> >> function hook_me_baby() {
> >>    static $run = false;
> >>    if(!$run) {
> >>        $run = true;
> >>        return;
> >>    }
> >>    $run = false;
> >>    //Your code
> >> }
>
>
> Ew Ew Ew! No no no! (Only for the fact i dont like conditional code
> like that.. and you never know if the option is updated multiple times
> or something....
>
> Um, I dont have access to my source right now, however, Look at the
> way the update occurs, from memory, i did something based off
> last_checked & get_option on itself... Alternatively, I could've
> mearly stuffed it up and its running my code on both of them (Ive not
> done a full check over my code yet)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Tue Feb  3 01:14:23 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 01:15:25 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <B2934BCD-DB47-4D76-B8A9-0ECEBDFFE687@gmail.com>
Message-ID: <29027283.941233623670319.JavaMail.DELL-1405$@Dell-1405>

Exactly.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Dan Gayle" <dangayle@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 7:46:03 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing  Optional Modules.


On Feb 2, 2009, at 4:36 PM, Matt Walters wrote:

> I'm not saying that the Module idea is not worth it (I'm more or less
> indifferent).  But I do think modules could potentially compound this
> concern.  I get what you're saying in that even currently, a theme may
> not work without x, y and z plugins, but adding in Modules would only
> expand the risk of running into those issues.

Wouldn't having a standardized set of modules available just transfer  
the requirements of dependencies, if not lessen them? If a theme  
requires plugin X, Y, and Z, but module A provides most of the  
functionality in a standardized environment, I see that as a good  
thing. Any additional theme specific functions could go into  
functions.php where they belong.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Tue Feb  3 01:56:18 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 01:56:37 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <21724911.1061233626122909.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <8059306.1081233626189286.JavaMail.DELL-1405$@Dell-1405>

"Lynne Pope" <lynne.pope@gmail.com> wrote:
> Because FOSS projects are fluid and people come and go, 
> there is no guarantee that the number of people around 
> in the future will be able to sustain a core + modules
> + plugins + themes.

I'll give you that, but using that logic shouldn't we freeze the core at 2.7 and dissuade people from creating plugs and themes?  When all you have is a hammer everything looks like a nail, and currently all we have are plugins.  I need a screwdriver and pliers and I think many others do too?

> The problem with "lots of people" is that this is unquantified. 

Also, and respectfully, several of your comments against are also unquantifiable: 

   "most people must be pretty happy with what WP does now"
   "there are not too many new features being requested there."
   "This holds true only when meeting the needs of the module does not have a negative impact on extensibility. Unfortunately, it often does."

So maybe we should (both) stick to quantifiable anecdotes to support our assertions?  

> The rest of us are looking at what we do with WP, but 
> this does not necessarily project out to what the masses 
> want or need.

Developers and themers power end users and thus their comparing end-user requests on par with developer requests would be foolish for the platform.

> I understand where you are coming from and may even be inclined to agree sometime. At the moment though it kinda seems a bit like putting the cart
before the horse, so to speak. 

It's a chicken-and-egg problem.  With just core and plugins, we either have to reach the hurdle to get into core or doing in a one-of-thousands of plugins which doesn't result in something being standard enough that others can build on them. Optional modules would give us a one-of-ten solution.

> *If* we had some standardisation across plugins and 
> documented methods to avoid collisions, optional modules 
> would probably not be needed.

The problem with that as the "solution" is it is a holy grail. Everyone always talks about voluntary standards in every FOSS and even commercial project, and it rarely ever coalesces. Most developers (myself included) aren't fully aware on best practices for WordPress (and I'm trying hard to get get) and given then many plugin developers became programmers simply to develop their plugin means that most plugins will never be developed to standards, ever.

Optional Modules would give plugin developers something to strive for; optional modules would become the gold standard of plugin best practices. 

> Dependencies are a real problem 

Dependancies are always a problem so I'm not sure how it relates to optional modules specifically.  Can you give specific examples of how?

> and coding standards are  a real problem. 

I disagree that coding standards are a panacea; they are at best nice to have. But people who don't actively seek out to follow them won't.

I think what's far more effective is a framework that enforces it's standard; i.e. if standards aren't followed it won't work; you code access to an API wrong and you get nothing, or worse.  That's why people follow the hook system in WordPress and hence why it works so well.

> I'm not sure modules are the best way to address these
> kinds of issues.

Maybe not but status quo is causing pain too (for me, and for others on the list recently) and I've not heard other proposals. Suggestions?

Maybe instead of "Optional Modules" we instead need "Pluggable APIs" that have the same distribution and versions mechanism I've already described?

For example people have said "Don't include (certain) shortcodes in the core because it bloats." But some of those would be very valuable if standardized on. Make that a optional pluggable module.

-Mike Schinkel
http://mikeschinkel.com/

P.S. Optional Modules could also be used to elevate the status of the plugins that most people believe in, i.e. All-in-one-SEO, Google Sitemap, Viper's Video Tags, etc.  Doing this would to WordPress users they can at least depend on those, and it would also make it so that plugin developers could use them as a base for their own plugins and make the assumption that they will be installed-on-demand if needed.

P.P.S. Maybe another option would be to build install-on-demand for plugins where other plugins and themes could specify that they are needed and they will be automatically downloaded and installed?  Then these best "Optional Modules" would be still be named plugins and just bubble up to the top by virtual of having others require them? 


From wordpress at dd32.id.au  Tue Feb  3 02:15:39 2009
From: wordpress at dd32.id.au (DD32)
Date: Tue Feb  3 02:15:50 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <8059306.1081233626189286.JavaMail.DELL-1405$@Dell-1405>
References: <21724911.1061233626122909.JavaMail.DELL-1405$@Dell-1405>
	<8059306.1081233626189286.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <45055a190902021815s165e83eav58e59a93437c2d61@mail.gmail.com>

I'm going to put my one, and only comment on this thread now.

The way i see it, Is that Your (mike) looking at it in the wrong way.

"Modules" would mearly be plugins, Why call them something else?

We have Akismet, Thats a Plugin, It adds functionality which the core
does not have.

The Plugin installer lets people choose what they want, The popular
plugins section lists what most people use.

Plugins are created by people who care. Core features are created by
people who care, Aside from the small number of people who are payed
to do code whatever, The majority of Core submitters and plugin
developers make their patches/plugins based on what they care about.

I do not give a .. about spam plugins, So i do not touch that code. I
do not care about Email posting, So i do not touch that code. I do not
care about this, or that, so i dont touch it. However,  Person ABC
might really care about something, so they write a plugin, THEY keep
it up to date.

The idea of having a optional plugin(Or module as you're calling it,
Obviously coming from a non-WordPress background) is pointless, IF
someone cares about a idea enough, they'll write it. Automattic
employee's have created a selection of plugins, and they generally
keep them up to date if they're useful, But the list is very limited.
(Infact,It looks like its had a trim too..
http://automattic.com/projects/ ).

Having a plugin in core makes no difference to having a Plugin created
by someone else, Hosted on wordpress.org & marked as a Featured
plugin. If its wanted in core, Add it to core & keep it updated, Else,
Leave it to plugins to people who are going to be willing to take care
of it, and nurture it.

Yes. Having people who were loving of their plugin work & kept it up
to date in years to come, updating it every time WordPress made a
release would be wonderful, But it simply takes up time, Core
developers have a life, They'll work on one function at a time,
They'll get the job done, But I dont see the point in them working on
a plugin which they dont care about, They care about the WordPress
core, and allowing others to build it to where they want, They dont
want to be rewriting functionality in a plugin they dont care about..
(And that goes for submitters of patches, not just core devs, And yes,
I realise i've repeated myself a few times in this post)
From peter at avirtualhome.com  Tue Feb  3 02:43:14 2009
From: peter at avirtualhome.com (Peter van der Does)
Date: Tue Feb  3 02:43:31 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <21979743.741233617798055.JavaMail.DELL-1405$@Dell-1405>
References: <20090202183003.2d630e0b@montecarlo.grandprix.int>
	<21979743.741233617798055.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <20090202214314.5e4ba71a@montecarlo.grandprix.int>

On Mon, 2 Feb 2009 17:36:31 -0600 (CST)
Mike Schinkel <mikeschinkel@newclarity.net> wrote:

> images, pdfs, flash (swf), and streaming video.
> 
> -Mike Schinkel
> http://mikeschinkel.com/
> 

I take it you want to have these files in a separate subdomain.
I think what you could try is have the entire wp-content directory
being served by the CDN.

What you'll have to do is change the the wp-config.php

Add the line:
define('WP_CONTENT_URL', 'wpcontent.foo.com');


-- 
Peter van der Does

GPG key: E77E8E98

WordPress Plugin Developer
http://blog.avirtualhome.com

GetDeb Package Builder/GetDeb Site Coder
http://www.getdeb.net - Software you want for Ubuntu
From mikeschinkel at newclarity.net  Tue Feb  3 02:46:49 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 02:47:12 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <45055a190902021815s165e83eav58e59a93437c2d61@mail.gmail.com>
Message-ID: <5467958.1101233629218772.JavaMail.DELL-1405$@Dell-1405>

DD32:

I agree with everything you wrote, but you completely missed the most important point and the impetus for my proposal. But what I'm really looking for is a set of standard APIs that are outside the scope of core. (Having plugins with end-user functionality recognized special has some benefits but I can easily part with that potential and not feel a great loss.)

What we have by analogy is a power company (i.e. WordPress core) who says "Build things that use our power", so many do but nobody standardizes the plug so everyone has to reinvent the wheel.  I'm asking for a "standard plug" in areas that are outside of core.

A plugin developer can build functionality but really can't define a standardize API, standardized data repositories, nor dependency management for other plugin developers to use.

For example, I recently reviewed numerous Twitter plugins for displaying tweets on a website.  Most of them were functional but none of them are even close to ideal nor even robust.  I could see an Optional Module being one that provided Twitter tweet download services that downloaded them into a standardized repository, once who design has been vetting by many people on a mailing list dedicated to that optional module. Then plugin developers could easily build on top of it and create lots of great Twitter display add-ins. 

Another example is NextGen Gallery.  It's a nice plugin but has serious architectural flaws; it doesn't integrate with WordPress' media library and where's the album-gallery linking table? But no other plugin is even close in functionality. It we had a Image Management Optional Module it could benefit from a community process and then others who want to build functionality on top of core image management functionality could do so.

And I could go on but those two are my most recently identified examples. The past three days, at least. '-)

So, again, while I agree 100% with what you said none of what you said addresses dependency management nor the need for standardized APIs and standardized data repositories in areas that are deemed by the team to be outside the purview of core. Call it whatever you want but those are the issues I'm trying to address with the proposal.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "DD32" <wordpress@dd32.id.au>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 9:15:39 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing  Optional Modules.

I'm going to put my one, and only comment on this thread now.

The way i see it, Is that Your (mike) looking at it in the wrong way.

"Modules" would mearly be plugins, Why call them something else?

We have Akismet, Thats a Plugin, It adds functionality which the core
does not have.

The Plugin installer lets people choose what they want, The popular
plugins section lists what most people use.

Plugins are created by people who care. Core features are created by
people who care, Aside from the small number of people who are payed
to do code whatever, The majority of Core submitters and plugin
developers make their patches/plugins based on what they care about.

I do not give a .. about spam plugins, So i do not touch that code. I
do not care about Email posting, So i do not touch that code. I do not
care about this, or that, so i dont touch it. However,  Person ABC
might really care about something, so they write a plugin, THEY keep
it up to date.

The idea of having a optional plugin(Or module as you're calling it,
Obviously coming from a non-WordPress background) is pointless, IF
someone cares about a idea enough, they'll write it. Automattic
employee's have created a selection of plugins, and they generally
keep them up to date if they're useful, But the list is very limited.
(Infact,It looks like its had a trim too..
http://automattic.com/projects/ ).

Having a plugin in core makes no difference to having a Plugin created
by someone else, Hosted on wordpress.org & marked as a Featured
plugin. If its wanted in core, Add it to core & keep it updated, Else,
Leave it to plugins to people who are going to be willing to take care
of it, and nurture it.

Yes. Having people who were loving of their plugin work & kept it up
to date in years to come, updating it every time WordPress made a
release would be wonderful, But it simply takes up time, Core
developers have a life, They'll work on one function at a time,
They'll get the job done, But I dont see the point in them working on
a plugin which they dont care about, They care about the WordPress
core, and allowing others to build it to where they want, They dont
want to be rewriting functionality in a plugin they dont care about..
(And that goes for submitters of patches, not just core devs, And yes,
I realise i've repeated myself a few times in this post)
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Tue Feb  3 02:54:14 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 02:54:31 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <11007137.1141233629569709.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <28990604.1161233629662060.JavaMail.DELL-1405$@Dell-1405>

Hmm. Interesting. But that won't work because the PHP files need to be on the local server and not on CDN.

If there were some way set a subdir of the theme, i.e.:

   /wp-content/themes/my-theme/media-assets/

Do you know of a way to do that?

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Peter van der Does" <peter@avirtualhome.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 9:43:14 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] CDN Integration?

On Mon, 2 Feb 2009 17:36:31 -0600 (CST)
Mike Schinkel <mikeschinkel@newclarity.net> wrote:

> images, pdfs, flash (swf), and streaming video.
> 
> -Mike Schinkel
> http://mikeschinkel.com/
> 

I take it you want to have these files in a separate subdomain.
I think what you could try is have the entire wp-content directory
being served by the CDN.

What you'll have to do is change the the wp-config.php

Add the line:
define('WP_CONTENT_URL', 'wpcontent.foo.com');


-- 
Peter van der Does

GPG key: E77E8E98

WordPress Plugin Developer
http://blog.avirtualhome.com

GetDeb Package Builder/GetDeb Site Coder
http://www.getdeb.net - Software you want for Ubuntu
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From peter at avirtualhome.com  Tue Feb  3 03:46:38 2009
From: peter at avirtualhome.com (Peter van der Does)
Date: Tue Feb  3 03:46:54 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <28990604.1161233629662060.JavaMail.DELL-1405$@Dell-1405>
References: <11007137.1141233629569709.JavaMail.DELL-1405$@Dell-1405>
	<28990604.1161233629662060.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <20090202224638.7abcdbc4@montecarlo.grandprix.int>

On Mon, 2 Feb 2009 20:54:14 -0600 (CST)
Mike Schinkel <mikeschinkel@newclarity.net> wrote:

> Hmm. Interesting. But that won't work because the PHP files need to
> be on the local server and not on CDN.
> 
> If there were some way set a subdir of the theme, i.e.:
> 
>    /wp-content/themes/my-theme/media-assets/
> 
> Do you know of a way to do that?
> 
> -Mike Schinkel
> http://mikeschinkel.com/
> 

No, without a plugin I don't think it's possible I don't BUT you can do
another solution.

Use ReWrite Rules:
RewriteEngine On
ReWriteCond %{HTTP_HOST} !limelight\.com [NC]
RewriteCond %{QUERY_STRING} !no-serve$
RewriteRule 
^http://www.\foo\.com/wp-content/themes/my-theme/media-assets/(.*)$
http://whatever.limelight.network.is/and/maybe/subs/$1 [R,L]

Ok this involves a few assumptions :)
Limelight  uses limelight.com (i believe it's llnwd.com) and in the
query it states no-serve when they don't have the content.

I think you get the idea.

-- 
Peter van der Does

GPG key: E77E8E98

WordPress Plugin Developer
http://blog.avirtualhome.com

GetDeb Package Builder/GetDeb Site Coder
http://www.getdeb.net - Software you want for Ubuntu
From dan at sproutventure.com  Tue Feb  3 06:20:59 2009
From: dan at sproutventure.com (Daniel Cameron)
Date: Tue Feb  3 06:21:11 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <6247089.721233614966572.JavaMail.DELL-1405$@Dell-1405>
References: <e1202cb10902021424y5c553418wbafa0bae1584c409@mail.gmail.com>
	<6247089.721233614966572.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <505c639e0902022220o7519b84bqa13c00832383c860@mail.gmail.com>

>
> I've got to get Limelight Networks CDN in use for a site by EOD Wednesday
> and think I'm going to write a plugin for it unless someone can direct me to
> an easier solution?


In my limited experience with CDN integration the best solution would be to
create a new function that replaces all those references to your local
server (i.e. bloginfo('stylesheet_directory')
or bloginfo('template_directory') ), like cdn_url().

That function could be controlled through a file or custom admin panel to
direct traffic to the CDN URI.

If you're talking about syncing the assets between your server and the CDN,
good luck.



-- 


// Dan Cameron
Principal
SproutVenture // grow your business
http://sproutventure.com
(805) 288-2232
GTalk: dan@sproutventure.com
From ryanmccue at cubegames.net  Tue Feb  3 07:53:38 2009
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Tue Feb  3 07:54:06 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing
	Optional Modules.
In-Reply-To: <12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
References: <12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <4987F802.6040402@cubegames.net>

Here's my $2e-2 on the issue:

I think we should have a set of standard API *classes* (important, I'll
explain later) included with WordPress but not actually used until they
are called. Including them with WordPress is imperative to their use: if
they are not included with WordPress by default, they won't be used,
even if they are promoted, as authors would have to write fallbacks for
their code anyway.

Now, the use of classes. Using PHP's built in autoloader, these modules
could sit, unused, until they are actually needed, when they would be
dynamically loaded. Additionally, one would be able to hook into these
and create their own modules, which would overrride the built in ones
(if they so desire, somewhat pointless though, in my humble opinion).
Ideally, the real classes would be named something like _ExampleAPI,
with an ExampleAPI alias, so that one could override the ExampleAPI
class, but still get all the real functionality by "extend"ing _ExampleAPI.

There is, however, a catch: __autoload() is only available in PHP5+.
And, I don't believe there is any way at all to replicate the
functionality (being that the code that calls it is built into the
Zend/PHP engine). This is most likely not a problem though, because I
doubt the APIs would be ubiquitously used, even by about 3.2. Until
then, we could have it as a progressive enhancement for developers who
develop for PHP5+.

So, for those of you who skipped to the end (I'm talking to you, tl;dr
fans): standard API classes; must be included with the core; should be
autoloaded; needs PHP5+; maybe progressive enhancement.

-- 
Ryan McCue
<http://cubegames.net/>

From andre.renaut at gmail.com  Tue Feb  3 08:03:36 2009
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Tue Feb  3 08:03:48 2009
Subject: [wp-hackers] Adding Google map inside post edit/writing
Message-ID: <8810a71a0902030003o47f2aad2i8c5832cd7c18e396@mail.gmail.com>

To mailapera

See here : http://wordpress.org/extend/plugins/geotagger/screenshots/
From peter.westwood at ftwr.co.uk  Tue Feb  3 08:50:42 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue Feb  3 08:51:35 2009
Subject: [wp-hackers] Less than Core,
	More than Plugins/Themes: Proposing Optional Modules.
In-Reply-To: <4987F802.6040402@cubegames.net>
References: <12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
	<4987F802.6040402@cubegames.net>
Message-ID: <45115D6E-F5C4-4192-873D-2E994F239FCB@ftwr.co.uk>


On 3 Feb 2009, at 07:53, Ryan McCue wrote:
>
> There is, however, a catch: __autoload() is only available in PHP5+.
> And, I don't believe there is any way at all to replicate the
> functionality (being that the code that calls it is built into the
> Zend/PHP engine). This is most likely not a problem though, because I
> doubt the APIs would be ubiquitously used, even by about 3.2. Until
> then, we could have it as a progressive enhancement for developers who
> develop for PHP5+.
>
> So, for those of you who skipped to the end (I'm talking to you, tl;dr
> fans): standard API classes; must be included with the core; should be
> autoloaded; needs PHP5+; maybe progressive enhancement.
>

Personally, I would avoid autoload like the plague.  It is one of the  
more brain dead design decisions in PHP and encourages poor  
programming practice.

If you need to include files because you are using code in them -  
then you should include them relying on autoload when you know you  
need them is just a waste of execution time.

(I also hate the PHP concept of overloading as well but will save  
that rant for another day!)

I don't see why we need these "Optional Modules".

If there is API missing from our framework we should add it.

If there is a big piece of functionality that is required by a large  
portion of our end-users we should add it to the core.

We don't need to maintain optional pieces of code which are not used  
by many users - history has shown that functionality not in use by a  
large portion of the user base gets broken and doesn't get the  
attention it needs to be kept up-to-date.
Moving to having optional bits of code would only increase the burden.

The open-source model prefers choice over restriction which is why  
there are multiple plugins that do the same thing - this is not a bad  
thing it is a good thing!

Peter
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From bryanspahr at gmail.com  Tue Feb  3 13:04:25 2009
From: bryanspahr at gmail.com (Bryan Spahr)
Date: Tue Feb  3 13:04:37 2009
Subject: [wp-hackers] Shortcode to show excerpts by tag?
In-Reply-To: <7316d9b40902021651t3ef70a31k2f5b3376dde60bbf@mail.gmail.com>
References: <5d49cb490902021045p79e2a545vd72f92b304c2e5c4@mail.gmail.com>
	<902424490902021051h110f7bb8gece9928eb9d33d3b@mail.gmail.com>
	<e1202cb10902021424y5c553418wbafa0bae1584c409@mail.gmail.com>
	<7316d9b40902021641v48f58838nb12f7ebf8b0ef392@mail.gmail.com>
	<7316d9b40902021651t3ef70a31k2f5b3376dde60bbf@mail.gmail.com>
Message-ID: <5d49cb490902030504t689a3012s8df34e4985773a24@mail.gmail.com>

Thanks Torben, and Jeremy, and Beau.  It's been said before, but bears
repeating - this community is one of the friendliest and most helpful
that I've ever been involved with.  The active discussion and
inclusive community are most refreshing!

Regards,
Bryan Spahr

> ---------- Forwarded message ----------
> From: Torben Brams <tbrams@gmail.com>
> Date: Tue, Feb 3, 2009 at 1:41 AM
> Subject: Re: [wp-hackers] Shortcode to show excerpts by tag?
> To: wp-hackers@lists.automattic.com
>
>
> Here's a quick implementation that lists titles along with permalinks based
> on a list of tags. You can use this as a starting point if you need to add
> excerpts as well.
> For example: [list_tagged tag="thai,cover"] will make a nice list of all
> posts with either the tag "thai" or the tag "cover"
> Implementation - add this to your functions.php or create a plugin:
> //Shortcode [list_tagged arglist]
> //All I have included here are the basic tag list and some wrappers (that I
> have not implemented - to keep things as simple as possible ;-) )
> add_shortcode('list_tagged', 'tbr_list_tagged');
> function tbr_list_tagged($atts, $content=null) {
> $atts=shortcode_atts(array(
> 'tag'       => 0,
> 'tag_before' => '',
> 'tag_after' => ''
> ), $atts);
> return tbr_list_tagged_src($atts);
> }
> function tbr_list_tagged_src($atts) {
>    $pages='<ul class="tbr_postlist">';
>    $posts = get_posts(array('tag'=>$atts['tag']));
>    foreach ( $posts as $mypost ) {
>        $pages.= '<li><a
> href="'.get_permalink($mypost->ID).'">'.$mypost->post_title.'</a></li>';
>    }
>    $pages.='</ul>';
>    return $pages;
> }
> I have a running example on http://brams.dk/thai-frontpage/thai-tones/ if
> you want to see, but I will remove it shortly, because it is totally out of
> context there...
> Hope this helps
> Kind regards
> Torben Brams
>
>
>
From scribu at gmail.com  Tue Feb  3 14:53:02 2009
From: scribu at gmail.com (scribu)
Date: Tue Feb  3 14:53:13 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <45115D6E-F5C4-4192-873D-2E994F239FCB@ftwr.co.uk>
References: <12968750.601233611202725.JavaMail.DELL-1405$@Dell-1405>
	<4987F802.6040402@cubegames.net>
	<45115D6E-F5C4-4192-873D-2E994F239FCB@ftwr.co.uk>
Message-ID: <349fe48b0902030653y2aaf5d1dxa7bdf6e297aba25e@mail.gmail.com>

Some more thoughts:

All plugins, on Extend at least, are GPL. Knowing this, you can:
- fork any plugin to meet your needs (this includes adopting a plugin that
isn't updated anymore). If a plugin is really needed by many people, surely
one of them will find time to update it.
- make a base plugin and use it as an API (all that is needed is the
functionality to automatically install it when needed). If it is any good,
other plugin authors will use it - why work more?

Basically, optional modules = extensible plugins

-- 
http://scribu.net
From frank at bueltge.de  Tue Feb  3 15:04:34 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Tue Feb  3 15:04:43 2009
Subject: [wp-hackers] 2.8 bleeding and feed
Message-ID: <db047a770902030704q4e2cfdfbkea1ce3b2620882ff@mail.gmail.com>

My blog works with the nightly build and is is not possible to use the feed
- give it problems with actualy build and feeds.
Thank and best wishes
Frank
From mikeschinkel at newclarity.net  Tue Feb  3 15:07:20 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 15:09:51 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <505c639e0902022220o7519b84bqa13c00832383c860@mail.gmail.com>
Message-ID: <5118611.01233673650468.JavaMail.DELL-1405$@Dell-1405>

Dan:

Thanks. After analysis, that's almost exactly what I'm going to do.  Actually, I've going to write a plugin to manage it, but yeah.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Daniel Cameron" <dan@sproutventure.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 3, 2009 1:20:59 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] CDN Integration?

>
> I've got to get Limelight Networks CDN in use for a site by EOD Wednesday
> and think I'm going to write a plugin for it unless someone can direct me to
> an easier solution?


In my limited experience with CDN integration the best solution would be to
create a new function that replaces all those references to your local
server (i.e. bloginfo('stylesheet_directory')
or bloginfo('template_directory') ), like cdn_url().

That function could be controlled through a file or custom admin panel to
direct traffic to the CDN URI.

If you're talking about syncing the assets between your server and the CDN,
good luck.



-- 


// Dan Cameron
Principal
SproutVenture // grow your business
http://sproutventure.com
(805) 288-2232
GTalk: dan@sproutventure.com
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mdmartz at sivel.net  Tue Feb  3 15:09:55 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Tue Feb  3 15:10:03 2009
Subject: [wp-hackers] 2.8 bleeding and feed
In-Reply-To: <db047a770902030704q4e2cfdfbkea1ce3b2620882ff@mail.gmail.com>
References: <db047a770902030704q4e2cfdfbkea1ce3b2620882ff@mail.gmail.com>
Message-ID: <518fa9630902030709r1bea5aa2we917e4dcc39018dc@mail.gmail.com>

On Tue, Feb 3, 2009 at 10:04 AM, Frank Bueltge <frank@bueltge.de> wrote:
> My blog works with the nightly build and is is not possible to use the feed
> - give it problems with actualy build and feeds.
> Thank and best wishes
> Frank

My install of trunk with the most recent revision (r10487) is working
fine with feeds.

Perhaps giving us more detail into the error or problem would be of
use.  Maybe it is a plugin conflict?

-- 
Matt Martz
matt@sivel.net
From frank at bueltge.de  Tue Feb  3 15:25:11 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Tue Feb  3 15:25:25 2009
Subject: [wp-hackers] 2.8 bleeding and feed
In-Reply-To: <518fa9630902030709r1bea5aa2we917e4dcc39018dc@mail.gmail.com>
References: <db047a770902030704q4e2cfdfbkea1ce3b2620882ff@mail.gmail.com>
	<518fa9630902030709r1bea5aa2we917e4dcc39018dc@mail.gmail.com>
Message-ID: <db047a770902030725w3ac271f4j77a0af4a8b088146@mail.gmail.com>

I have update with intern update function on this blog, my dev-blog on the
last revision works with feed. my dev-blog was upgrade with Tortoise on the
SVN. Maybe iis this a different.

db-version 9873

at the feed-url: i become a clean white site, no syntax in source or
frontend.

i have test withour plugins or functions in the theme - all not help. the
same effect without plugins or functions in the theme.

On Tue, Feb 3, 2009 at 4:09 PM, Matt Martz <mdmartz@sivel.net> wrote:

> On Tue, Feb 3, 2009 at 10:04 AM, Frank Bueltge <frank@bueltge.de> wrote:
> > My blog works with the nightly build and is is not possible to use the
> feed
> > - give it problems with actualy build and feeds.
> > Thank and best wishes
> > Frank
>
> My install of trunk with the most recent revision (r10487) is working
> fine with feeds.
>
> Perhaps giving us more detail into the error or problem would be of
> use.  Maybe it is a plugin conflict?
>
> --
> Matt Martz
> matt@sivel.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Tue Feb  3 15:25:48 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 15:26:13 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <20090202224638.7abcdbc4@montecarlo.grandprix.int>
Message-ID: <6293773.61233674758238.JavaMail.DELL-1405$@Dell-1405>

Peter:

Yes, thanks. Yeah, mod_rewrite is an option but I want to set it up hands-off in a reusable plugin so I was try to avoid that scenario.  I'm just going to go with what Daniel Cameron suggested.

> Limelight  uses limelight.com (i believe it's llnwd.com) 

Yes, I think they do.

> and in the query it states no-serve when they don't have the content.

That I don't follow?

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Peter van der Does" <peter@avirtualhome.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 2, 2009 10:46:38 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] CDN Integration?

On Mon, 2 Feb 2009 20:54:14 -0600 (CST)
Mike Schinkel <mikeschinkel@newclarity.net> wrote:

> Hmm. Interesting. But that won't work because the PHP files need to
> be on the local server and not on CDN.
> 
> If there were some way set a subdir of the theme, i.e.:
> 
>    /wp-content/themes/my-theme/media-assets/
> 
> Do you know of a way to do that?
> 
> -Mike Schinkel
> http://mikeschinkel.com/
> 

No, without a plugin I don't think it's possible I don't BUT you can do
another solution.

Use ReWrite Rules:
RewriteEngine On
ReWriteCond %{HTTP_HOST} !limelight\.com [NC]
RewriteCond %{QUERY_STRING} !no-serve$
RewriteRule 
^http://www.\foo\.com/wp-content/themes/my-theme/media-assets/(.*)$
http://whatever.limelight.network.is/and/maybe/subs/$1 [R,L]

Ok this involves a few assumptions :)
Limelight  uses limelight.com (i believe it's llnwd.com) and in the
query it states no-serve when they don't have the content.

I think you get the idea.

-- 
Peter van der Does

GPG key: E77E8E98

WordPress Plugin Developer
http://blog.avirtualhome.com

GetDeb Package Builder/GetDeb Site Coder
http://www.getdeb.net - Software you want for Ubuntu
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From TurnerJD at cofc.edu  Tue Feb  3 15:30:12 2009
From: TurnerJD at cofc.edu (John Turner)
Date: Tue Feb  3 15:31:13 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <6293773.61233674758238.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <C5ADCD34.A076%TurnerJD@cofc.edu>

Mike

Here's a plugin for mu that you might be able to take some code from.

http://wpmudev.org/project/Plugin-to-off-load-theme-files-to-Amazon-S3

John Turner
http://johndturner.com




> From: Mike Schinkel <mikeschinkel@newclarity.net>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Tue, 3 Feb 2009 09:25:48 -0600 (CST)
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] CDN Integration?
> 
> Peter:
> 
> Yes, thanks. Yeah, mod_rewrite is an option but I want to set it up hands-off
> in a reusable plugin so I was try to avoid that scenario.  I'm just going to
> go with what Daniel Cameron suggested.
> 
>> Limelight  uses limelight.com (i believe it's llnwd.com)
> 
> Yes, I think they do.
> 
>> and in the query it states no-serve when they don't have the content.
> 
> That I don't follow?
> 
> -Mike Schinkel
> http://mikeschinkel.com/
> 
> ----- Original Message -----
> From: "Peter van der Does" <peter@avirtualhome.com>
> To: wp-hackers@lists.automattic.com
> Sent: Monday, February 2, 2009 10:46:38 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] CDN Integration?
> 
> On Mon, 2 Feb 2009 20:54:14 -0600 (CST)
> Mike Schinkel <mikeschinkel@newclarity.net> wrote:
> 
>> Hmm. Interesting. But that won't work because the PHP files need to
>> be on the local server and not on CDN.
>> 
>> If there were some way set a subdir of the theme, i.e.:
>> 
>>    /wp-content/themes/my-theme/media-assets/
>> 
>> Do you know of a way to do that?
>> 
>> -Mike Schinkel
>> http://mikeschinkel.com/
>> 
> 
> No, without a plugin I don't think it's possible I don't BUT you can do
> another solution.
> 
> Use ReWrite Rules:
> RewriteEngine On
> ReWriteCond %{HTTP_HOST} !limelight\.com [NC]
> RewriteCond %{QUERY_STRING} !no-serve$
> RewriteRule 
> ^http://www.\foo\.com/wp-content/themes/my-theme/media-assets/(.*)$
> http://whatever.limelight.network.is/and/maybe/subs/$1 [R,L]
> 
> Ok this involves a few assumptions :)
> Limelight  uses limelight.com (i believe it's llnwd.com) and in the
> query it states no-serve when they don't have the content.
> 
> I think you get the idea.
> 
> -- 
> Peter van der Does
> 
> GPG key: E77E8E98
> 
> WordPress Plugin Developer
> http://blog.avirtualhome.com
> 
> GetDeb Package Builder/GetDeb Site Coder
> http://www.getdeb.net - Software you want for Ubuntu
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Tue Feb  3 15:30:08 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 15:31:19 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing Optional Modules.
In-Reply-To: <32908026.81233674868571.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <5354253.101233675017775.JavaMail.DELL-1405$@Dell-1405>

"Ryan McCue" <ryanmccue@cubegames.net> wrote:
> Including them with WordPress is imperative to their use: 
> if they are not included with WordPress by default, they 
> won't be used, even if they are promoted, as authors would 
> have to write fallbacks for their code anyway.

EXACTLY. That's the point of the proposal, in a nutshell.

> standard API classes; must be included with the core; 
> should be autoloaded; needs PHP5+; maybe progressive 
> enhancement.

I'm with you there with the only concern that some people may say "But we don't want to include that in the download because it will bloat the download."  Of course that's not something I see as a problem but others might hence my "install-on-demand" proposal to alleviate their concerns.

-Mike Schinkel
http://mikeschinkel.com/
From mikeschinkel at newclarity.net  Tue Feb  3 15:46:33 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 15:48:44 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing Optional Modules.
In-Reply-To: <45115D6E-F5C4-4192-873D-2E994F239FCB@ftwr.co.uk>
Message-ID: <31829758.121233676001043.JavaMail.DELL-1405$@Dell-1405>

> I don't see why we need these "Optional Modules".

There has been frequent refrain on the list of "We don't want to add that to the core."  Optional Modules addresses those issues for things that many would like to have added to the core but that the core team opposes.

> If there is API missing from our framework we should add it.

But only if the core team has the bandwidth to address. Optional Modules allow for faster enhancement because it allows more than the core team to participate. It also more importantly creates a mechanism by which plugin authors of similar plugins may choose to collaborate on shared infrastructure (using my earlier examples of Twitter and Image Management as examples again.)

> If there is a big piece of functionality that is required by a 
> large portion of our end-users we should add it to the core.

Google SiteMap?
Themeing Framework?
Image Mangement?
Video Shortcodes?
Microblogging?
Twitter Sync?

I could go on...

> "history has shown that functionality not in use by a large 
> portion of the user base gets broken and doesn't get the  
> attention it needs to be kept up-to-date.

Can you please point to where I can read about that history?

Besides, it doesn't have to be "a large portion of the user base", it only has to be "a significant number of users."  If not the latter it wouldn't justify becoming an Optional Module.  

But if 40% of the WordPress user base needs/is using something then that is a huge number of users, even if 60% of them overall WordPress user base would rather not have it "bloating their core."  WordPress has the scale to support this whereas most open source projects do not.

> Moving to having optional bits of code would only increase the burden.

Only if the ability to add an Optional Module as made freely available as plugins. I'm envisioning probably 10 of these, not 1000.  And the community would still decide what became or did not become an optional module just like the community vets inclusion into the core.

And yes, in this reply I reverted back to discussing Optional Modules as functionality in addition to just as APIs. Both have value.

> The open-source model prefers choice over restriction which 
> is why there are multiple plugins that do the same thing - 
> this is not a bad thing it is a good thing!

That's a gross simplification of the open source model that obscures all of the facets of successful open source.  Without a core that people can reliably build-on, open-source flounders. Optional Modules are simply extensions to the core where either:

 1.) There is a need for APIs (a large amount of choice in APIs is NOT a good thing, wouldn't you agree?)
 2.) The community process has already identified a "winner" (i.e. the Google Sitemap plugin.)

It *everything* is chaos, you get nothing better than a Tower of Babble.

-Mike Schinkel
http://mikeschinkel.com/
From mikeschinkel at newclarity.net  Tue Feb  3 16:00:29 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 16:02:42 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <349fe48b0902030653y2aaf5d1dxa7bdf6e297aba25e@mail.gmail.com>
Message-ID: <26356521.141233676836049.JavaMail.DELL-1405$@Dell-1405>

> All plugins, on Extend at least, are GPL. Knowing this, 
> you can: - fork any plugin to meet your needs 

That presumes there is little value in an existing userbase. IMO the inertia of an existing user base is usually more valuable than the code itself.

> (this includes adopting a plugin that isn't updated anymore). 

Of course that's a good fork.

> If a plugin is really needed by many people, surely one of them will find time to update it.

Build it and they will come?  History is littered with well-meaning failures.

> make a base plugin and use it as an API (all that is needed 
> is the functionality to automatically install it when needed). 
> If it is any good, other plugin authors will use it - why work 
> more?

You make huge assumptions.  

1.) That plugin authors will be willing to invest in using the API if it is not part of the core.
2.) That plugin authors will ever even know about it if it's not part of the core.

I spent 12 years in the Microsoft-centric developer world running a company that sold components to software developers. I've since become a believer in open-source over commercial for software components, but in my prior role I learned how important standard APIs are, and also how ineffective APIs are when there are too many.

For an API to be adopted, it needs to be like The Highlander; there can be only one.

> Basically, optional modules = extensible plugins

Yes. And as you agreed a necessary capability for this is to automatically install dependencies. That could be a first step even if the Optional Module proposal goes nowhere or morphs into something else. Right?

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "scribu" <scribu@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 3, 2009 9:53:02 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing  Optional Modules.

Some more thoughts:

All plugins, on Extend at least, are GPL. Knowing this, you can:
- fork any plugin to meet your needs (this includes adopting a plugin that
isn't updated anymore). If a plugin is really needed by many people, surely
one of them will find time to update it.
- make a base plugin and use it as an API (all that is needed is the
functionality to automatically install it when needed). If it is any good,
other plugin authors will use it - why work more?

Basically, optional modules = extensible plugins

-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From jer-wphackers at simianuprising.com  Tue Feb  3 16:37:42 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Tue Feb  3 16:37:55 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <26356521.141233676836049.JavaMail.DELL-1405$@Dell-1405>
References: <349fe48b0902030653y2aaf5d1dxa7bdf6e297aba25e@mail.gmail.com>
	<26356521.141233676836049.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <e1202cb10902030837u3f64d326i26ef40ee45ed7200@mail.gmail.com>

Lots of great points being made here. I think I'm personally leaning
towards the status quo on this one though.

Some bullets:

* The plugin ecosystem squeezes more work out of volunteer developers
than core. Obviously it would be nice if we could all sit back with
absolute confidence that everything we need will always be provided to
us for free, but that would overload the core development team. As it
is prestige, notoriety, etc. are available to people to create or take
care of important plugins. They take on responsibility because they
need the thing, and we all benefit. This is the 'caring' DD32 was
talking about. I think if optional functionality is moved into core
there would be less people putting time into it (though obviously i
have no proof).

* Core moves slowly: I think that lots of plugin devs like having full
control over their work. They would do less work if they had to go
through the hoops you have to jump through to get patches committed to
core. It is frustrating and time consuming, which is good because it
keeps quality high and weeds out people who aren't committed to the
long-term stability of core, but not necessarily the best place for
groups to collaborate around important shared functionality.

* core should not be managing teams of module devs - this is pretty
obvious to me but Mike's description of having teams working on the
modules sounds like a management nightmare. The core committers are
very busy looking at one function at a time as previously stated. The
whole ecosystem right now is a kind of anarchic meritocracy that runs
based on tickets rather than people and I think it works pretty well.
I think asking the devs to go around kicking the teams awake is a very
bad idea. If anything they should just make note of the truly
important plugins and offer friendly advice and encouragement and help
to them as needed in an informal way, just like they currently do to
developpers who work on important parts of core and take
responsibility for them.

* If the API sucks lets fix it - The whole discussion about a paradigm
shift towards moving API into optional modules I think misses the
point entirely. The things that get turned down for core aren't API
they are uses of the API. If you make a consistent argument for a
given bit of API and do the work to implement it then there's a good
chance it will get committed. In my experience when I ask for a hook
that is really needed I get it as long as I write a patch and convince
people why it's important. When it is turned down it's usually because
there is already another place in the code that can do what I need.

* Drupal modules are a clusterfuck. No personal offense meant to any
Drupal developpers or users out there, but my experience with that
platform gives me no particular confidence in the kind of system you
are describing (which is exactly how Drupal does its business). Their
modules are often abandoned, out of date, bug-ridden and also crappy.
They end up feeling like design-by-committee in a very annoying way
and ultimately aren't that much more consistent than the better WP
plugins. They also always feel pretty handicapped by their slavish
acquiescence to the Drupal API (which covers everything like you
propose). They somehow manage to all feel awful to use because they
are built that way, unlike WP plugins which (while it can be
annoying!) vary widely, from the ugliest plainest most useful thing to
the elaborate extravagant plugins that you love to use.


I think that the solution to these issues isn't a paradigm shift but
rather little steps towards encouraging the kinds of behavior that is
good for everyone and discouraging the behavior that isn't.

Some ideas that wouldn't change the big picture but would help fix it:

 * Make the plugin pages on extend more development-focussed - I'm
constantly wishing I had access to some kind of bug tracker where I
could post patches or bugs on extend. I think there might be a trac
set up automatically somewhere but it's invisible from the extend page
and no one uses it as far as I can tell. The wp forums is NOT the
right place for development, and extend should be doing something. It
would make it easier for different users to work together to solve
shared problems (and would make it easier for concerned users without
problems to help their unknown-neighbors). Ideally the dev would have
the ability to turn off the development stuff IF they had another link
or place to forward users.

* Have plugin reviews for api compatibility - Maybe this could be a
party idea for those who want more fun in between Wordcamps,
"Wordpress Hacker Plugin Review Night". A lot of the issues you
describe basically come down to "Devs aren't using the api properly".
In all your examples I could think of API ways to accomplish them
(store tweets in posts table with 'twitter' as type, for example). A
more dev-focussed extend would also make this easier, as people could
come together to put friendly pressure on plugin devs to clean up
their act.


-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
From wp at xentek.net  Tue Feb  3 16:57:59 2009
From: wp at xentek.net (Eric Marden)
Date: Tue Feb  3 16:58:16 2009
Subject: [wp-hackers] Less than Core,
	More than Plugins/Themes: Proposing  Optional Modules.
In-Reply-To: <5467958.1101233629218772.JavaMail.DELL-1405$@Dell-1405>
References: <5467958.1101233629218772.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <3C352391-17AA-4663-BD8B-F62F2FC6774C@xentek.net>

> But what I'm really looking for is a set of standard APIs that are  
> outside the scope of core.

You can do this with plugins, today. Take a look at the Simple Pie  
(rss parsing library) plugins: http://simplepie.org/wiki/plugins/start#wordpress
They published a 'core' plugin which provides the SimplePie API, and  
other plugins depend on it to do their work.

If you have some API needs in mind, why not start it as a plugin and  
if it becomes popular and used by many, moving it core would make a  
logical first step.

The only one who needs APIs are developers and I feel we can do what  
we need now as plugins or in the theme layer.


-e
From yahgrp at poplarware.com  Tue Feb  3 17:08:16 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Tue Feb  3 17:06:01 2009
Subject: [wp-hackers] Plugin metadata internationalization
Message-ID: <49887A00.2070806@poplarware.com>

Could someone send me a quick summary of the right way to 
internationalize plugin header information, so that WP will recognize 
it, so that I can update the section of 
http://codex.wordpress.org/Writing_a_Plugin to contain this information?

I looked through http://trac.wordpress.org/ticket/3089 but I wasn't 
clear on what the implemented solution actually was.

Thanks,
    Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From mikeschinkel at newclarity.net  Tue Feb  3 17:21:30 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 17:22:16 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <e1202cb10902030837u3f64d326i26ef40ee45ed7200@mail.gmail.com>
Message-ID: <398690.221233681696476.JavaMail.DELL-1405$@Dell-1405>

> * Drupal modules are a clusterfuck. No personal offense meant 
> to any Drupal developpers or users out there, but my experience 
> with that platform gives me no particular confidence in the kind 
> of system you are describing 

No it's not exactly as I desscribed; far from it. I worked in Drupal for 1.5 years and most Drupal modules are exactly like WordPress plugins. Anyone can add one, and (too) many do.  

Same is true with WordPress plugins. Are you forgetting how much crap there is in Extend? 

> They also always feel pretty handicapped by their slavish
> acquiescence to the Drupal API (which covers everything like you
propose). 

Saying that obscures the issue. WordPress has an API just like Drupal has a API.  The fact you don't like Drupal's API doesn't mean that having an API is bad. I'm not advocating a Drupal-style API, I'm advocating the ability to add things that can become standard that don't make the cut into the core because they are "too specialized."

Some of the things Drupal does *really well* is "standard" modules and shared APIs.  WordPress could learn from the good parts of that instead of taking it as a "not invented here" attitude.

> I think that the solution to these issues isn't a paradigm shift 
> but rather little steps towards encouraging the kinds of behavior 
> that is good for everyone and discouraging the behavior that isn't.

I'm open to alternate solutions. I'm not married to the idea, just to getting a solution that works.

> Make the plugin pages on extend more development-focussed

Agreed.

> The wp forums is NOT the right place for development, and extend 
> should be doing something. It would make it easier for different 
> users to work together to solve shared problems (and would make it 
> easier for concerned users without problems to help their unknown-
> neighbors). 

Agreed. Frankly I'd like to have mailing lists that are specific to areas, ie. "wp-image-management", "wp-twitter-integration", etc.  I find mailing lists the most effective way to stay involved and one of the main reasons I moved from Drupal to WordPress.

> Have plugin reviews for api compatibility - 

I COMPLETELY agree with that.

> Maybe this could be a party idea for those who want more fun in 
> between Wordcamps, "Wordpress Hacker Plugin Review Night". 

BTW, I'm seriously considering a WordCamp for Atlanta later this year...

> A lot of the issues you describe basically come down to "Devs 
> aren't using the api properly".

Many, but not even half of the issues.

> In all your examples I could think of API ways to accomplish them
(store tweets in posts table with 'twitter' as type, for example). 

EXACTLY.  That's where the community process would be invaluable, and why I called for optional modules that would be on peer with core; that would get the community to discuss them (and it could be a sub-community.)  I too thought of "twitter' as a type but then I thought "What about Facebook Status Updates?"  So should it be "twitter" or "status?"  That's what the community would be invaluable to address and that doesn't get addressed for plugins; they just do whatever first comes to mind which is often not the best for long-term.

> A more dev-focussed extend would also make this easier, as people 
> could come together to put friendly pressure on plugin devs to 
> clean up their act.

Agree too.

Anyway, given the pushback I've gotten from selected individuals (because I honestly don't think they really understand the proposal) I'm going to take a different approach. I'm going to instead start bringing up things that are needed and when told "No, that would bloat the core" I'll be asking why they can't be optional modules.

See my next email.

Further, I'll call for dependency management and auto-install of dependent plugins. Is there a reason we can't do that?

-Mike Schinkel
http://mikeschinkel.com/



----- Original Message -----
From: "Jeremy Clarke" <jer-wphackers@simianuprising.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 3, 2009 11:37:42 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing  Optional Modules.

Lots of great points being made here. I think I'm personally leaning
towards the status quo on this one though.

Some bullets:

* The plugin ecosystem squeezes more work out of volunteer developers
than core. Obviously it would be nice if we could all sit back with
absolute confidence that everything we need will always be provided to
us for free, but that would overload the core development team. As it
is prestige, notoriety, etc. are available to people to create or take
care of important plugins. They take on responsibility because they
need the thing, and we all benefit. This is the 'caring' DD32 was
talking about. I think if optional functionality is moved into core
there would be less people putting time into it (though obviously i
have no proof).

* Core moves slowly: I think that lots of plugin devs like having full
control over their work. They would do less work if they had to go
through the hoops you have to jump through to get patches committed to
core. It is frustrating and time consuming, which is good because it
keeps quality high and weeds out people who aren't committed to the
long-term stability of core, but not necessarily the best place for
groups to collaborate around important shared functionality.

* core should not be managing teams of module devs - this is pretty
obvious to me but Mike's description of having teams working on the
modules sounds like a management nightmare. The core committers are
very busy looking at one function at a time as previously stated. The
whole ecosystem right now is a kind of anarchic meritocracy that runs
based on tickets rather than people and I think it works pretty well.
I think asking the devs to go around kicking the teams awake is a very
bad idea. If anything they should just make note of the truly
important plugins and offer friendly advice and encouragement and help
to them as needed in an informal way, just like they currently do to
developpers who work on important parts of core and take
responsibility for them.

* If the API sucks lets fix it - The whole discussion about a paradigm
shift towards moving API into optional modules I think misses the
point entirely. The things that get turned down for core aren't API
they are uses of the API. If you make a consistent argument for a
given bit of API and do the work to implement it then there's a good
chance it will get committed. In my experience when I ask for a hook
that is really needed I get it as long as I write a patch and convince
people why it's important. When it is turned down it's usually because
there is already another place in the code that can do what I need.

* Drupal modules are a clusterfuck. No personal offense meant to any
Drupal developpers or users out there, but my experience with that
platform gives me no particular confidence in the kind of system you
are describing (which is exactly how Drupal does its business). Their
modules are often abandoned, out of date, bug-ridden and also crappy.
They end up feeling like design-by-committee in a very annoying way
and ultimately aren't that much more consistent than the better WP
plugins. They also always feel pretty handicapped by their slavish
acquiescence to the Drupal API (which covers everything like you
propose). They somehow manage to all feel awful to use because they
are built that way, unlike WP plugins which (while it can be
annoying!) vary widely, from the ugliest plainest most useful thing to
the elaborate extravagant plugins that you love to use.


I think that the solution to these issues isn't a paradigm shift but
rather little steps towards encouraging the kinds of behavior that is
good for everyone and discouraging the behavior that isn't.

Some ideas that wouldn't change the big picture but would help fix it:

 * Make the plugin pages on extend more development-focussed - I'm
constantly wishing I had access to some kind of bug tracker where I
could post patches or bugs on extend. I think there might be a trac
set up automatically somewhere but it's invisible from the extend page
and no one uses it as far as I can tell. The wp forums is NOT the
right place for development, and extend should be doing something. It
would make it easier for different users to work together to solve
shared problems (and would make it easier for concerned users without
problems to help their unknown-neighbors). Ideally the dev would have
the ability to turn off the development stuff IF they had another link
or place to forward users.

* Have plugin reviews for api compatibility - Maybe this could be a
party idea for those who want more fun in between Wordcamps,
"Wordpress Hacker Plugin Review Night". A lot of the issues you
describe basically come down to "Devs aren't using the api properly".
In all your examples I could think of API ways to accomplish them
(store tweets in posts table with 'twitter' as type, for example). A
more dev-focussed extend would also make this easier, as people could
come together to put friendly pressure on plugin devs to clean up
their act.


-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Tue Feb  3 17:23:30 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 17:24:16 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
Message-ID: <7962235.241233681820028.JavaMail.DELL-1405$@Dell-1405>

There are tens of Twitter plugins and after a survey I've found that none of them are fully reliable nor do they store their content in ways that is accessible or robust. 

So I suggest we develop and implement Twitter support in core. Twitter support would include a robust API and repository for supporting all the future (updated) Twitter plugins. 

Thoughts? 


-Mike Schinkel 
http://mikeschinkel.com/ 
From mikeschinkel at newclarity.net  Tue Feb  3 17:33:46 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 17:34:18 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <3C352391-17AA-4663-BD8B-F62F2FC6774C@xentek.net>
Message-ID: <3173886.301233682435300.JavaMail.DELL-1405$@Dell-1405>

"Eric Marden" <wp@xentek.net> wrote:
> You can do this with plugins, today. Take a look at 
> the Simple Pie (rss parsing library) plugins: 
> http://simplepie.org/wiki/plugins/start#wordpress
> They published a 'core' plugin which provides the 
> SimplePie API, and other plugins depend on it to do 
> their work.

SimplePie API plugin is a *perfect* example of what is wrong. I know, I have a plugin that depends on it. SimpleAPI is a standalone project with it's own community support that developed around it; not all things we need in WordPress can be handled the same way, especially not those things that require database support.

Also managing those dependencies is a nightmare and releasing a plugin that requires it is begging for lots of time spent on free tech support for newbies who can't figure it out.

Auto-install of dependencies would go a long way to solving this one issue, though.

> If you have some API needs in mind, why not start 
> it as a plugin and if it becomes popular and used 
> by many, moving it core would make a logical first 
> step.

What's needed is community support to develop a good API together, not one guy (like me) developing a crappy one alone.  

-Mike Schinkel
http://mikeschinkel.com/
From charles at cefm.ca  Tue Feb  3 17:45:39 2009
From: charles at cefm.ca (Charles E. Frees-Melvin)
Date: Tue Feb  3 17:52:55 2009
Subject: [wp-hackers] Less than Core,
	More than Plugins/Themes: Proposing  Optional Modules.
In-Reply-To: <398690.221233681696476.JavaMail.DELL-1405$@Dell-1405>
References: <398690.221233681696476.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <7C479211-DFA2-4888-B492-957DC3071866@cefm.ca>

Would having a plug-in then child plugins resolve this?

Sent from my iPhone

On 3-Feb-09, at 13:21, Mike Schinkel <mikeschinkel@newclarity.net>  
wrote:

>> * Drupal modules are a clusterfuck. No personal offense meant
>> to any Drupal developpers or users out there, but my experience
>> with that platform gives me no particular confidence in the kind
>> of system you are describing
>
> No it's not exactly as I desscribed; far from it. I worked in Drupal  
> for 1.5 years and most Drupal modules are exactly like WordPress  
> plugins. Anyone can add one, and (too) many do.
>
> Same is true with WordPress plugins. Are you forgetting how much  
> crap there is in Extend?
>
>> They also always feel pretty handicapped by their slavish
>> acquiescence to the Drupal API (which covers everything like you
> propose).
>
> Saying that obscures the issue. WordPress has an API just like  
> Drupal has a API.  The fact you don't like Drupal's API doesn't mean  
> that having an API is bad. I'm not advocating a Drupal-style API,  
> I'm advocating the ability to add things that can become standard  
> that don't make the cut into the core because they are "too  
> specialized."
>
> Some of the things Drupal does *really well* is "standard" modules  
> and shared APIs.  WordPress could learn from the good parts of that  
> instead of taking it as a "not invented here" attitude.
>
>> I think that the solution to these issues isn't a paradigm shift
>> but rather little steps towards encouraging the kinds of behavior
>> that is good for everyone and discouraging the behavior that isn't.
>
> I'm open to alternate solutions. I'm not married to the idea, just  
> to getting a solution that works.
>
>> Make the plugin pages on extend more development-focussed
>
> Agreed.
>
>> The wp forums is NOT the right place for development, and extend
>> should be doing something. It would make it easier for different
>> users to work together to solve shared problems (and would make it
>> easier for concerned users without problems to help their unknown-
>> neighbors).
>
> Agreed. Frankly I'd like to have mailing lists that are specific to  
> areas, ie. "wp-image-management", "wp-twitter-integration", etc.  I  
> find mailing lists the most effective way to stay involved and one  
> of the main reasons I moved from Drupal to WordPress.
>
>> Have plugin reviews for api compatibility -
>
> I COMPLETELY agree with that.
>
>> Maybe this could be a party idea for those who want more fun in
>> between Wordcamps, "Wordpress Hacker Plugin Review Night".
>
> BTW, I'm seriously considering a WordCamp for Atlanta later this  
> year...
>
>> A lot of the issues you describe basically come down to "Devs
>> aren't using the api properly".
>
> Many, but not even half of the issues.
>
>> In all your examples I could think of API ways to accomplish them
> (store tweets in posts table with 'twitter' as type, for example).
>
> EXACTLY.  That's where the community process would be invaluable,  
> and why I called for optional modules that would be on peer with  
> core; that would get the community to discuss them (and it could be  
> a sub-community.)  I too thought of "twitter' as a type but then I  
> thought "What about Facebook Status Updates?"  So should it be  
> "twitter" or "status?"  That's what the community would be  
> invaluable to address and that doesn't get addressed for plugins;  
> they just do whatever first comes to mind which is often not the  
> best for long-term.
>
>> A more dev-focussed extend would also make this easier, as people
>> could come together to put friendly pressure on plugin devs to
>> clean up their act.
>
> Agree too.
>
> Anyway, given the pushback I've gotten from selected individuals  
> (because I honestly don't think they really understand the proposal)  
> I'm going to take a different approach. I'm going to instead start  
> bringing up things that are needed and when told "No, that would  
> bloat the core" I'll be asking why they can't be optional modules.
>
> See my next email.
>
> Further, I'll call for dependency management and auto-install of  
> dependent plugins. Is there a reason we can't do that?
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
>
>
> ----- Original Message -----
> From: "Jeremy Clarke" <jer-wphackers@simianuprising.com>
> To: wp-hackers@lists.automattic.com
> Sent: Tuesday, February 3, 2009 11:37:42 AM GMT -05:00 US/Canada  
> Eastern
> Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes:  
> Proposing  Optional Modules.
>
> Lots of great points being made here. I think I'm personally leaning
> towards the status quo on this one though.
>
> Some bullets:
>
> * The plugin ecosystem squeezes more work out of volunteer developers
> than core. Obviously it would be nice if we could all sit back with
> absolute confidence that everything we need will always be provided to
> us for free, but that would overload the core development team. As it
> is prestige, notoriety, etc. are available to people to create or take
> care of important plugins. They take on responsibility because they
> need the thing, and we all benefit. This is the 'caring' DD32 was
> talking about. I think if optional functionality is moved into core
> there would be less people putting time into it (though obviously i
> have no proof).
>
> * Core moves slowly: I think that lots of plugin devs like having full
> control over their work. They would do less work if they had to go
> through the hoops you have to jump through to get patches committed to
> core. It is frustrating and time consuming, which is good because it
> keeps quality high and weeds out people who aren't committed to the
> long-term stability of core, but not necessarily the best place for
> groups to collaborate around important shared functionality.
>
> * core should not be managing teams of module devs - this is pretty
> obvious to me but Mike's description of having teams working on the
> modules sounds like a management nightmare. The core committers are
> very busy looking at one function at a time as previously stated. The
> whole ecosystem right now is a kind of anarchic meritocracy that runs
> based on tickets rather than people and I think it works pretty well.
> I think asking the devs to go around kicking the teams awake is a very
> bad idea. If anything they should just make note of the truly
> important plugins and offer friendly advice and encouragement and help
> to them as needed in an informal way, just like they currently do to
> developpers who work on important parts of core and take
> responsibility for them.
>
> * If the API sucks lets fix it - The whole discussion about a paradigm
> shift towards moving API into optional modules I think misses the
> point entirely. The things that get turned down for core aren't API
> they are uses of the API. If you make a consistent argument for a
> given bit of API and do the work to implement it then there's a good
> chance it will get committed. In my experience when I ask for a hook
> that is really needed I get it as long as I write a patch and convince
> people why it's important. When it is turned down it's usually because
> there is already another place in the code that can do what I need.
>
> * Drupal modules are a clusterfuck. No personal offense meant to any
> Drupal developpers or users out there, but my experience with that
> platform gives me no particular confidence in the kind of system you
> are describing (which is exactly how Drupal does its business). Their
> modules are often abandoned, out of date, bug-ridden and also crappy.
> They end up feeling like design-by-committee in a very annoying way
> and ultimately aren't that much more consistent than the better WP
> plugins. They also always feel pretty handicapped by their slavish
> acquiescence to the Drupal API (which covers everything like you
> propose). They somehow manage to all feel awful to use because they
> are built that way, unlike WP plugins which (while it can be
> annoying!) vary widely, from the ugliest plainest most useful thing to
> the elaborate extravagant plugins that you love to use.
>
>
> I think that the solution to these issues isn't a paradigm shift but
> rather little steps towards encouraging the kinds of behavior that is
> good for everyone and discouraging the behavior that isn't.
>
> Some ideas that wouldn't change the big picture but would help fix it:
>
> * Make the plugin pages on extend more development-focussed - I'm
> constantly wishing I had access to some kind of bug tracker where I
> could post patches or bugs on extend. I think there might be a trac
> set up automatically somewhere but it's invisible from the extend page
> and no one uses it as far as I can tell. The wp forums is NOT the
> right place for development, and extend should be doing something. It
> would make it easier for different users to work together to solve
> shared problems (and would make it easier for concerned users without
> problems to help their unknown-neighbors). Ideally the dev would have
> the ability to turn off the development stuff IF they had another link
> or place to forward users.
>
> * Have plugin reviews for api compatibility - Maybe this could be a
> party idea for those who want more fun in between Wordcamps,
> "Wordpress Hacker Plugin Review Night". A lot of the issues you
> describe basically come down to "Devs aren't using the api properly".
> In all your examples I could think of API ways to accomplish them
> (store tweets in posts table with 'twitter' as type, for example). A
> more dev-focussed extend would also make this easier, as people could
> come together to put friendly pressure on plugin devs to clean up
> their act.
>
>
> -- 
> Jeremy Clarke | http://simianuprising.com
> Code and Design | http://globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From if.website at gmail.com  Tue Feb  3 17:54:43 2009
From: if.website at gmail.com (Austin Matzko)
Date: Tue Feb  3 17:54:52 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <7962235.241233681820028.JavaMail.DELL-1405$@Dell-1405>
References: <7962235.241233681820028.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <674b4a3b0902030954t9cb57f5qc42adc475f3f6b23@mail.gmail.com>

On Tue, Feb 3, 2009 at 11:23 AM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> So I suggest we develop and implement Twitter support in core. Twitter support would include a robust API and repository for supporting all the future (updated) Twitter plugins.

There is Twitter support in core, more or less.  You can make RESTful
queries using the HTTP API.  Almost everything else involves details
of implementation that are specific to a proprietary service and so
would not be appropriate for WordPress core.
From emmensetech at gmail.com  Tue Feb  3 17:54:41 2009
From: emmensetech at gmail.com (Aaron Brazell)
Date: Tue Feb  3 17:54:54 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <7962235.241233681820028.JavaMail.DELL-1405$@Dell-1405>
References: <7962235.241233681820028.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <ca7320070902030954y6049c16dj9823a36484b03865@mail.gmail.com>

-1

WordPress is not in the "business" of supporting Twitter. This is 100%
plugin territory (and there are many fine ones out there).

-- 
Aaron Brazell
web:: www.technosailor.com
phone:: 410-608-6620
skype:: technosailor
twitter:: @technosailor


On Tue, Feb 3, 2009 at 12:23 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> There are tens of Twitter plugins and after a survey I've found that none
> of them are fully reliable nor do they store their content in ways that is
> accessible or robust.
>
> So I suggest we develop and implement Twitter support in core. Twitter
> support would include a robust API and repository for supporting all the
> future (updated) Twitter plugins.
>
> Thoughts?
>
>
> -Mike Schinkel
> http://mikeschinkel.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From scribu at gmail.com  Tue Feb  3 18:14:37 2009
From: scribu at gmail.com (scribu)
Date: Tue Feb  3 18:14:49 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <7C479211-DFA2-4888-B492-957DC3071866@cefm.ca>
References: <398690.221233681696476.JavaMail.DELL-1405$@Dell-1405>
	<7C479211-DFA2-4888-B492-957DC3071866@cefm.ca>
Message-ID: <349fe48b0902031014o2b2442bbrd9317faaeba17341@mail.gmail.com>

For auto-install of dependencies, there are two ways, not very complicated
since WP 2.7:

1. Each child plugin has some code that checks if dependencies are met and
shows a message to auto-install them.

2. The core has an API for plugin and theme dependencies. This functionality
could not be dismissed as "too specialized".

Nr. 2 could stem from nr. 1, if a lot of child-plugins emerge.

-- 
http://scribu.net
From mikeschinkel at newclarity.net  Tue Feb  3 18:35:15 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 18:36:16 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <ca7320070902030954y6049c16dj9823a36484b03865@mail.gmail.com>
Message-ID: <2571503.341233686124862.JavaMail.DELL-1405$@Dell-1405>

"Aaron Brazell" <emmensetech@gmail.com> wrote:
> WordPress is not in the "business" of supporting Twitter. 
> This is 100% plugin territory (and there are many fine ones 
> out there).

Ah. Exactly what I expected as a response. (And that I agree with.)

Have you per chance not been following the "Optional Modules" proposal discussion?

-Mike Schinkel
http://mikeschinkel.com/

From mikeschinkel at newclarity.net  Tue Feb  3 18:36:10 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 18:37:44 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <674b4a3b0902030954t9cb57f5qc42adc475f3f6b23@mail.gmail.com>
Message-ID: <22505415.361233686178204.JavaMail.DELL-1405$@Dell-1405>

> There is Twitter support in core, more or less.  

There's not enough support in the core because all the Twitter modules I looked at implement it differently and none share any code.  And the most popular one (MyTwitter) is not robust.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Austin Matzko" <if.website@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 3, 2009 12:54:43 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Proposal: Twitter Support in Core

On Tue, Feb 3, 2009 at 11:23 AM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> So I suggest we develop and implement Twitter support in core. Twitter support would include a robust API and repository for supporting all the future (updated) Twitter plugins.

There is Twitter support in core, more or less.  You can make RESTful
queries using the HTTP API.  Almost everything else involves details
of implementation that are specific to a proprietary service and so
would not be appropriate for WordPress core.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mwalters8 at gmail.com  Tue Feb  3 18:38:19 2009
From: mwalters8 at gmail.com (Matt Walters)
Date: Tue Feb  3 18:38:38 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <2571503.341233686124862.JavaMail.DELL-1405$@Dell-1405>
References: <ca7320070902030954y6049c16dj9823a36484b03865@mail.gmail.com>
	<2571503.341233686124862.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <5dbff0c70902031038t36b2b9f9hcc028c85028afe63@mail.gmail.com>

Sorry, but -1 for spamming the list with a silly request to attempt
making a point.

Keep it in the modules thread.

---------------------------------
Matt Walters

On Tue, Feb 3, 2009 at 1:35 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> "Aaron Brazell" <emmensetech@gmail.com> wrote:
>> WordPress is not in the "business" of supporting Twitter.
>> This is 100% plugin territory (and there are many fine ones
>> out there).
>
> Ah. Exactly what I expected as a response. (And that I agree with.)
>
> Have you per chance not been following the "Optional Modules" proposal discussion?
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Tue Feb  3 18:39:30 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 18:42:19 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <349fe48b0902031014o2b2442bbrd9317faaeba17341@mail.gmail.com>
Message-ID: <16942599.381233686380634.JavaMail.DELL-1405$@Dell-1405>

Thanks. I'll pursue #1 with my plugin that uses SimplePie when I get a chance.

For #2, we are more likely to see child-plugins emerge if we have a well-known way to include it. Does anyone know if there is sufficient information to support identifying dependent plugins in the plugin repository?

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "scribu" <scribu@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 3, 2009 1:14:37 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing  Optional Modules.

For auto-install of dependencies, there are two ways, not very complicated
since WP 2.7:

1. Each child plugin has some code that checks if dependencies are met and
shows a message to auto-install them.

2. The core has an API for plugin and theme dependencies. This functionality
could not be dismissed as "too specialized".

Nr. 2 could stem from nr. 1, if a lot of child-plugins emerge.

-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From beau at dentedreality.com.au  Tue Feb  3 18:48:25 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Tue Feb  3 18:48:33 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <16942599.381233686380634.JavaMail.DELL-1405$@Dell-1405>
References: <349fe48b0902031014o2b2442bbrd9317faaeba17341@mail.gmail.com>
	<16942599.381233686380634.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <902424490902031048v3cff7145h44f11c3b273e55a6@mail.gmail.com>

> For #2, we are more likely to see child-plugins emerge if we have a well-known way to include it. Does anyone know if there is sufficient information to support identifying dependent plugins in the plugin repository?

That sounds like it could be handled via an extension to the README
format, allowing plugin creators to specify a "requires" option that
would just reference another plugin (or perhaps a specific tag of
another plugin, for reliability's sake).

If that was the case, then as a starting point, plugins being
installed via the plugin installer could warn/alert the user if they
detected that they have dependencies that aren't met.
From listswphackers at mist.org.uk  Tue Feb  3 18:59:38 2009
From: listswphackers at mist.org.uk (mrmist)
Date: Tue Feb  3 19:00:54 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <7962235.241233681820028.JavaMail.DELL-1405$@Dell-1405>
References: <7962235.241233681820028.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <H$GxBmDaQJiJFwdS@dsl-217-155-35-239.zen.co.uk>

In message <7962235.241233681820028.JavaMail.DELL-1405$@Dell-1405>, Mike 
Schinkel <mikeschinkel@newclarity.net> writes
>
>Thoughts?
>

-1

Twitter is an external service.  It is not an essential tool required in 
order to blog.  If you open up WordPress Core to it you are opening up 
any associated security holes and bloating the product.

It's definite plugin land.  Even Akismet is a plugin, albeit bundled.

-- 
mrmist
From scribu at gmail.com  Tue Feb  3 19:01:58 2009
From: scribu at gmail.com (scribu)
Date: Tue Feb  3 19:02:09 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <16942599.381233686380634.JavaMail.DELL-1405$@Dell-1405>
References: <349fe48b0902031014o2b2442bbrd9317faaeba17341@mail.gmail.com>
	<16942599.381233686380634.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <349fe48b0902031101k78b63f9cud1c194dcda2a74b8@mail.gmail.com>

On Tue, Feb 3, 2009 at 8:39 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> For #2, we are more likely to see child-plugins emerge if we have a
> well-known way to include it. Does anyone know if there is sufficient
> information to support identifying dependent plugins in the plugin
> repository?
>

2.7 has an API for getting all plugin info from Extend.

This is how I would (and probably will) do it:

On child-plugin activation, launch check_dependencies procedure.
Is required plugin installed?
    YES: Is plugin version good?
        YES: ok, exit
        NO: Request update
    NO: Request install

For plugins on Extend, this should be pretty easy, because the code is all
there.

I'm still waiting for the StriderCore plugin to see how he handles it.

-- 
http://scribu.net
From if.website at gmail.com  Tue Feb  3 19:02:11 2009
From: if.website at gmail.com (Austin Matzko)
Date: Tue Feb  3 19:02:19 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <22505415.361233686178204.JavaMail.DELL-1405$@Dell-1405>
References: <674b4a3b0902030954t9cb57f5qc42adc475f3f6b23@mail.gmail.com>
	<22505415.361233686178204.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <674b4a3b0902031102k77279402l54c2168a1a7635d3@mail.gmail.com>

On Tue, Feb 3, 2009 at 12:36 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
>> There is Twitter support in core, more or less.
>
> There's not enough support in the core because all the Twitter modules I looked at implement it differently and none share any code.
> And the most popular one (MyTwitter) is not robust.

The fact that plugin authors have different approaches or may be
unaware of core features (or possibly just want to support older
versions of WP without those features) says little about core itself.

If you don't like any of the current Twitter plugins, you can make
your own or hire someone else to do so.   So far you haven't mentioned
anything that the core API prevents you from doing with such a plugin,
so there' s no reason to think this is a core issue.
From ncrice at gmail.com  Tue Feb  3 19:09:25 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb  3 19:09:36 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <H$GxBmDaQJiJFwdS@dsl-217-155-35-239.zen.co.uk>
References: <7962235.241233681820028.JavaMail.DELL-1405$@Dell-1405>
	<H$GxBmDaQJiJFwdS@dsl-217-155-35-239.zen.co.uk>
Message-ID: <862d087f0902031109had564a9gf93ad6c0d35a78d0@mail.gmail.com>

On Tue, Feb 3, 2009 at 1:59 PM, mrmist <listswphackers@mist.org.uk> wrote:
>
>
> Twitter is an external service.  It is not an essential tool required in
> order to blog.


In fairness, the same could be said of Gravatar.
From zamoose at gmail.com  Tue Feb  3 19:13:24 2009
From: zamoose at gmail.com (zamoose@gmail.com)
Date: Tue Feb  3 19:13:34 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <862d087f0902031109had564a9gf93ad6c0d35a78d0@mail.gmail.com>
Message-ID: <00163628369423467304620877d0@google.com>

On Feb 3, 2009 2:09pm, Nathan Rice <ncrice@gmail.com> wrote:
> On Tue, Feb 3, 2009 at 1:59 PM, mrmist listswphackers@mist.org.uk> wrote:
> >
>
> > Twitter is an external service. It is not an essential tool required in
>
> > order to blog.
>
> In fairness, the same could be said of Gravatar.

It could indeed. Wait, is that Twitter's plan for a revenue stream -- get  
bought by Automattic too?

*grin*

-Doug
From nb at nikolay.bg  Tue Feb  3 20:00:42 2009
From: nb at nikolay.bg (Nikolay Bachiyski)
Date: Tue Feb  3 20:00:55 2009
Subject: [wp-hackers] Plugin metadata internationalization
In-Reply-To: <49887A00.2070806@poplarware.com>
References: <49887A00.2070806@poplarware.com>
Message-ID: <87e663fa0902031200j228eb9f5xb6f50d8feef0d543@mail.gmail.com>

On Tue, Feb 3, 2009 at 19:08, Jennifer Hodgdon <yahgrp@poplarware.com> wrote:
> Could someone send me a quick summary of the right way to internationalize
> plugin header information, so that WP will recognize it, so that I can
> update the section of http://codex.wordpress.org/Writing_a_Plugin to contain
> this information?

Two simple things:

1. Add Text Domain: header to the main plugin file. For example:

Plugin Name: Templates for Posts
...
Text Domain: templates-for-posts

2. Generate a POT file, which contains the metadata. Here are two ways to do it:

http://codex.wordpress.org/I18n_for_WordPress_Developers#Generating_a_POT_file

Also, can you link in the appropriate place of Writing_a_Plugin to:

http://codex.wordpress.org/I18n_for_WordPress_Developers#I18n_for_theme_and_plugin_developers

We should probably merge them and let one of them link to the other.

Happy hacking,
Nikolay.
From beau at dentedreality.com.au  Tue Feb  3 20:11:18 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Tue Feb  3 20:11:29 2009
Subject: [wp-hackers] Quick Install WP from SVN
Message-ID: <902424490902031211n15dab553u412c4c1af6f921e2@mail.gmail.com>

In case anyone's interested, I thought I'd share this quick shell
script I use to set up a new install of WP. Usage is like this
(assuming it's saved as a file called "wordpress" and is in your
path):

$ wordpress wp27 tags/2.7

That would install 2.7 into a directory called "wp27" and would
attempt to create a database called "wp27" as well.

It's very basic, and doesn't do any checks of any kind, but hey -- it
gets the job done. Also, this is for development purposes on a local
machine only (thus the open permissions), and is not recommended for
production/live installs.

Just paste the following into a file, call it "wordpress" (no
extension), drop it into your path and make it excutable.

Works on my Mac. YMMV.

Cheers,
Beau

---
#!/bin/sh

REV=trunk
OUTDIR=.

if [ "$1" != "" ]; then
	OUTDIR=$1
fi

if [ "$2" != "" ]; then
	REV=$2
fi

svn co http://svn.automattic.com/wordpress/${REV}/ ${OUTDIR}
sudo chmod -R 777 ${OUTDIR}
echo "CREATE DATABASE \`${OUTDIR}\`" | mysql -u root
---



-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From emmensetech at gmail.com  Tue Feb  3 20:14:46 2009
From: emmensetech at gmail.com (Aaron Brazell)
Date: Tue Feb  3 20:14:57 2009
Subject: [wp-hackers] Quick Install WP from SVN
In-Reply-To: <902424490902031211n15dab553u412c4c1af6f921e2@mail.gmail.com>
References: <902424490902031211n15dab553u412c4c1af6f921e2@mail.gmail.com>
Message-ID: <ca7320070902031214r393b085ax8d7ae0c5e0417caf@mail.gmail.com>

On Tue, Feb 3, 2009 at 3:11 PM, Beau Lebens <beau@dentedreality.com.au>wrote:

> In case anyone's interested, I thought I'd share this quick shell
> script I use to set up a new install of WP. Usage is like this
> (assuming it's saved as a file called "wordpress" and is in your
> path):
>
> $ wordpress wp27 tags/2.7
>
> That would install 2.7 into a directory called "wp27" and would
> attempt to create a database called "wp27" as well.
>
> It's very basic, and doesn't do any checks of any kind, but hey -- it
> gets the job done. Also, this is for development purposes on a local
> machine only (thus the open permissions), and is not recommended for
> production/live installs.
>
> Just paste the following into a file, call it "wordpress" (no
> extension), drop it into your path and make it excutable.
>
> Works on my Mac. YMMV.
>
> Cheers,
> Beau
>
> ---
> #!/bin/sh
>
> REV=trunk
> OUTDIR=.
>
> if [ "$1" != "" ]; then
>        OUTDIR=$1
> fi
>
> if [ "$2" != "" ]; then
>        REV=$2
> fi
>
> svn co http://svn.automattic.com/wordpress/${REV}/<http://svn.automattic.com/wordpress/$%7BREV%7D/>${OUTDIR}
> sudo chmod -R 777 ${OUTDIR}
> echo "CREATE DATABASE \`${OUTDIR}\`" | mysql -u root


Nice! Throw some curl in there to run the install script as well. :)


-- 
Aaron Brazell
web:: www.technosailor.com
phone:: 410-608-6620
skype:: technosailor
twitter:: @technosailor
From joost at yoast.com  Tue Feb  3 20:42:50 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb  3 20:43:13 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <ca7320070902030954y6049c16dj9823a36484b03865@mail.gmail.com>
References: <7962235.241233681820028.JavaMail.DELL-1405$@Dell-1405>
	<ca7320070902030954y6049c16dj9823a36484b03865@mail.gmail.com>
Message-ID: <768B36D8-33A8-413A-A03F-D0B51FB55F1F@yoast.com>

Agree 100% with Aaron.

On 3 feb 2009, at 18:54, Aaron Brazell <emmensetech@gmail.com> wrote:

> -1
>
> WordPress is not in the "business" of supporting Twitter. This is 100%
> plugin territory (and there are many fine ones out there).
>
> --  
> Aaron Brazell
> web:: www.technosailor.com
> phone:: 410-608-6620
> skype:: technosailor
> twitter:: @technosailor
>
>
> On Tue, Feb 3, 2009 at 12:23 PM, Mike Schinkel
> <mikeschinkel@newclarity.net>wrote:
>
>> There are tens of Twitter plugins and after a survey I've found  
>> that none
>> of them are fully reliable nor do they store their content in ways  
>> that is
>> accessible or robust.
>>
>> So I suggest we develop and implement Twitter support in core.  
>> Twitter
>> support would include a robust API and repository for supporting  
>> all the
>> future (updated) Twitter plugins.
>>
>> Thoughts?
>>
>>
>> -Mike Schinkel
>> http://mikeschinkel.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Tue Feb  3 20:51:57 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb  3 20:52:16 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <768B36D8-33A8-413A-A03F-D0B51FB55F1F@yoast.com>
Message-ID: <14277268.441233694324973.JavaMail.DELL-1405$@Dell-1405>

Joost:

This proposal was to make the point that some things that have value shouldn't be in the core but for which there is also benefit of a community process and community recommendation of shared use.  Can I assume you didn't follow the "Optional Modules" thread completely?

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Joost de Valk" <joost@yoast.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 3, 2009 3:42:50 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Proposal: Twitter Support in Core

Agree 100% with Aaron.

On 3 feb 2009, at 18:54, Aaron Brazell <emmensetech@gmail.com> wrote:

> -1
>
> WordPress is not in the "business" of supporting Twitter. This is 100%
> plugin territory (and there are many fine ones out there).
>
> --  
> Aaron Brazell
> web:: www.technosailor.com
> phone:: 410-608-6620
> skype:: technosailor
> twitter:: @technosailor
>
>
> On Tue, Feb 3, 2009 at 12:23 PM, Mike Schinkel
> <mikeschinkel@newclarity.net>wrote:
>
>> There are tens of Twitter plugins and after a survey I've found  
>> that none
>> of them are fully reliable nor do they store their content in ways  
>> that is
>> accessible or robust.
>>
>> So I suggest we develop and implement Twitter support in core.  
>> Twitter
>> support would include a robust API and repository for supporting  
>> all the
>> future (updated) Twitter plugins.
>>
>> Thoughts?
>>
>>
>> -Mike Schinkel
>> http://mikeschinkel.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From joost at yoast.com  Tue Feb  3 20:53:30 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb  3 20:53:47 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <14277268.441233694324973.JavaMail.DELL-1405$@Dell-1405>
References: <14277268.441233694324973.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <6D269525-9F53-434B-ACEB-46D1DCB83CC2@yoast.com>

I reacted to the statement below, and think core developers have way  
more important things to do than support Twitter.

On Feb 3, 2009, at 9:51 PM, Mike Schinkel wrote:

>>> So I suggest we develop and implement Twitter support in core.
>>> Twitter
>>> support would include a robust API and repository for supporting
>>> all the
>>> future (updated) Twitter plugins.

From regulatethis at gmail.com  Tue Feb  3 20:58:06 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Feb  3 20:58:19 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <6D269525-9F53-434B-ACEB-46D1DCB83CC2@yoast.com>
References: <14277268.441233694324973.JavaMail.DELL-1405$@Dell-1405>
	<6D269525-9F53-434B-ACEB-46D1DCB83CC2@yoast.com>
Message-ID: <39fdab560902031258t42a2d856hb4a1a7380bf7d4ea@mail.gmail.com>

I think you're missing the point, again. :p

On Tue, Feb 3, 2009 at 3:53 PM, Joost de Valk <joost@yoast.com> wrote:
> I reacted to the statement below, and think core developers have way more
> important things to do than support Twitter.
>
> On Feb 3, 2009, at 9:51 PM, Mike Schinkel wrote:
>
>>>> So I suggest we develop and implement Twitter support in core.
>>>> Twitter
>>>> support would include a robust API and repository for supporting
>>>> all the
>>>> future (updated) Twitter plugins.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mark at simplercomputing.net  Tue Feb  3 21:30:29 2009
From: mark at simplercomputing.net (Mark E)
Date: Tue Feb  3 21:30:41 2009
Subject: [wp-hackers] Quick Install WP from SVN
In-Reply-To: <ca7320070902031214r393b085ax8d7ae0c5e0417caf@mail.gmail.com>
References: <902424490902031211n15dab553u412c4c1af6f921e2@mail.gmail.com>
	<ca7320070902031214r393b085ax8d7ae0c5e0417caf@mail.gmail.com>
Message-ID: <4988B775.2010707@simplercomputing.net>



Aaron Brazell wrote:

>> sudo chmod -R 777 ${OUTDIR}

If the dirs are left in that state then the site will get hacked sooner 
or later. It's a very bad idea to set permissions to 777. What reason 
could their possibly be to do that?

Mark
From jobjorn at gmail.com  Tue Feb  3 21:37:27 2009
From: jobjorn at gmail.com (=?ISO-8859-1?Q?Jobj=F6rn_Folkesson?=)
Date: Tue Feb  3 21:38:20 2009
Subject: [wp-hackers] Percent in $wpdb->prepare()?
Message-ID: <abd03bef0902031337x4da6f88at9559b773d03364ae@mail.gmail.com>

Hello everyone,

I am slowly learning to build plugins for BuddyPress, and I love the
WordPress platform. One of the many great things it provides is that nifty
database input sanitization function provided in $wpdb - noone likes a Bobby
Tables incident.

However, when I try to use it to add a row where one cell contains the
percent sign ("%"), nothing happens. What am I doing wrong?

Example:
$wpdb->query($wpdb->prepare("INSERT INTO testtable(test) VALUES ('71% of the
surface of the Earth is water.')"));

Thanks in advance!

Jobj?rn Folkesson
Uppsala, Sweden
From shacker at birdhouse.org  Tue Feb  3 21:42:59 2009
From: shacker at birdhouse.org (Scot Hacker)
Date: Tue Feb  3 21:43:22 2009
Subject: [wp-hackers] Quick Install WP from SVN
In-Reply-To: <20090203213043.027146D55@comox.textdrive.com>
References: <20090203213043.027146D55@comox.textdrive.com>
Message-ID: <0B6303D5-E106-4B80-93CD-FB8BECF6AC72@birdhouse.org>

> Date: Tue, 3 Feb 2009 15:14:46 -0500
> From: Aaron Brazell <emmensetech@gmail.com>
> Subject: Re: [wp-hackers] Quick Install WP from SVN
>
>> In case anyone's interested, I thought I'd share this quick shell
>> script I use to set up a new install of WP. Usage is like this
>> (assuming it's saved as a file called "wordpress" and is in your
>> path):
>>

See also:
http://birdhouse.org/software/2008/04/wp-create/
http://birdhouse.org/software/2007/07/wp-mass-upgrade/

./s

--

 >>> Birdhouse Hosting <<<
Customized web and mail  solutions
http://hosting.birdhouse.org/


From nb at nikolay.bg  Tue Feb  3 21:44:34 2009
From: nb at nikolay.bg (Nikolay Bachiyski)
Date: Tue Feb  3 21:44:45 2009
Subject: [wp-hackers] Percent in $wpdb->prepare()?
In-Reply-To: <abd03bef0902031337x4da6f88at9559b773d03364ae@mail.gmail.com>
References: <abd03bef0902031337x4da6f88at9559b773d03364ae@mail.gmail.com>
Message-ID: <87e663fa0902031344x6f2f8188n60cd440a09a29f7d@mail.gmail.com>

On Tue, Feb 3, 2009 at 23:37, Jobj?rn Folkesson <jobjorn@gmail.com> wrote:
> Hello everyone,
>
> I am slowly learning to build plugins for BuddyPress, and I love the
> WordPress platform. One of the many great things it provides is that nifty
> database input sanitization function provided in $wpdb - noone likes a Bobby
> Tables incident.
>
> However, when I try to use it to add a row where one cell contains the
> percent sign ("%"), nothing happens. What am I doing wrong?
>
> Example:
> $wpdb->query($wpdb->prepare("INSERT INTO testtable(test) VALUES ('71% of the
> surface of the Earth is water.')"));

prepare() expects a sprintf() format string, in which the % is used to
prefix placeholder types. You can use a literal % by prepending it
with another %: %%.

Happy hacking,
Nikolay.
From peter.westwood at ftwr.co.uk  Tue Feb  3 22:11:17 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue Feb  3 22:12:11 2009
Subject: [wp-hackers] Less than Core,
	More than Plugins/Themes: Proposing Optional Modules.
In-Reply-To: <31829758.121233676001043.JavaMail.DELL-1405$@Dell-1405>
References: <31829758.121233676001043.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <09155C38-4C0A-40CC-8DD5-1DCE6B33974D@ftwr.co.uk>


On 3 Feb 2009, at 15:46, Mike Schinkel wrote:

>> I don't see why we need these "Optional Modules".
>
> There has been frequent refrain on the list of "We don't want to  
> add that to the core."  Optional Modules addresses those issues for  
> things that many would like to have added to the core but that the  
> core team opposes.

That is what plugins are for!
>
>
>> If there is API missing from our framework we should add it.
>
> But only if the core team has the bandwidth to address. Optional  
> Modules allow for faster enhancement because it allows more than  
> the core team to participate. It also more importantly creates a  
> mechanism by which plugin authors of similar plugins may choose to  
> collaborate on shared infrastructure (using my earlier examples of  
> Twitter and Image Management as examples again.)
>

If the core team is not addressing a functional deficiency then  
anyone can write and champion a patch - if the functionality is  
suitable and right for core we will commit it.

>> If there is a big piece of functionality that is required by a
>> large portion of our end-users we should add it to the core.
>
> Themeing Framework?

WordPress is a Theming framework!

> Image Mangement?

Media management is to be greatly improved in a future version

> Video Shortcodes?

Very good plugins exist

> Microblogging?

That is a theme thing - prologue does it very well.

>
>> "history has shown that functionality not in use by a large
>> portion of the user base gets broken and doesn't get the
>> attention it needs to be kept up-to-date.
>
> Can you please point to where I can read about that history?
>

Look at the Post-By-Email support in WordPress. There is better  
support from plugins that what is in the core.  Very few people use  
this functionality and there have been times where is was completely  
broken by the accidental update of one 3rd party library with a  
different library with a different api!


> Besides, it doesn't have to be "a large portion of the user base",  
> it only has to be "a significant number of users."  If not the  
> latter it wouldn't justify becoming an Optional Module.
>
> But if 40% of the WordPress user base needs/is using something then  
> that is a huge number of users, even if 60% of them overall  
> WordPress user base would rather not have it "bloating their  
> core."  WordPress has the scale to support this whereas most open  
> source projects do not.
>

WordPress is a platform.  It is never going to be able to include  
everything you want out of the box.

I suspect a large portion of the user base of Firefox install things  
like the webdevelopers toolbar - but I wouldn't expect mozilla to  
start shipping it as default - it is unnecessary possibly confusing  
fluff for the rest of the userbase.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From geniosity at gmail.com  Tue Feb  3 22:31:23 2009
From: geniosity at gmail.com (James)
Date: Tue Feb  3 22:31:37 2009
Subject: [wp-hackers] Quick Install WP from SVN
In-Reply-To: <0B6303D5-E106-4B80-93CD-FB8BECF6AC72@birdhouse.org>
References: <20090203213043.027146D55@comox.textdrive.com>
	<0B6303D5-E106-4B80-93CD-FB8BECF6AC72@birdhouse.org>
Message-ID: <513d59820902031431r16a95761v2fd8be104a5bf9ca@mail.gmail.com>

While we're at it :-) Sends emails with the upgrade link and log output, and
seems to be pretty robust
http://www.geniosity.co.za/musings/wordpress/shell-script-automate-wordpress-updates-for-multiple-blogs/

On Tue, Feb 3, 2009 at 11:42 PM, Scot Hacker <shacker@birdhouse.org> wrote:

> Date: Tue, 3 Feb 2009 15:14:46 -0500
>> From: Aaron Brazell <emmensetech@gmail.com>
>> Subject: Re: [wp-hackers] Quick Install WP from SVN
>>
>>  In case anyone's interested, I thought I'd share this quick shell
>>> script I use to set up a new install of WP. Usage is like this
>>> (assuming it's saved as a file called "wordpress" and is in your
>>> path):
>>>
>>>
> See also:
> http://birdhouse.org/software/2008/04/wp-create/
> http://birdhouse.org/software/2007/07/wp-mass-upgrade/
>
> ./s
>
> --
>
> >>> Birdhouse Hosting <<<
> Customized web and mail  solutions
> http://hosting.birdhouse.org/
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
<http://www.geniosity.co.za/>
From wordpress at dd32.id.au  Tue Feb  3 22:39:44 2009
From: wordpress at dd32.id.au (DD32)
Date: Tue Feb  3 22:39:56 2009
Subject: [wp-hackers] 2.8 bleeding and feed
In-Reply-To: <db047a770902030725w3ac271f4j77a0af4a8b088146@mail.gmail.com>
References: <db047a770902030704q4e2cfdfbkea1ce3b2620882ff@mail.gmail.com>
	<518fa9630902030709r1bea5aa2we917e4dcc39018dc@mail.gmail.com>
	<db047a770902030725w3ac271f4j77a0af4a8b088146@mail.gmail.com>
Message-ID: <45055a190902031439v4bca67a6r3c6f9c3a9b8c56f8@mail.gmail.com>

http://trac.wordpress.org/ticket/8989

If you can put your experience there.. Including adding the WP_DEBUG
constant I mentioned there, To see if it a PHP Error related to
certain hosts

2009/2/4 Frank Bueltge <frank@bueltge.de>:
> I have update with intern update function on this blog, my dev-blog on the
> last revision works with feed. my dev-blog was upgrade with Tortoise on the
> SVN. Maybe iis this a different.
>
> db-version 9873
>
> at the feed-url: i become a clean white site, no syntax in source or
> frontend.
>
> i have test withour plugins or functions in the theme - all not help. the
> same effect without plugins or functions in the theme.
>
> On Tue, Feb 3, 2009 at 4:09 PM, Matt Martz <mdmartz@sivel.net> wrote:
>
>> On Tue, Feb 3, 2009 at 10:04 AM, Frank Bueltge <frank@bueltge.de> wrote:
>> > My blog works with the nightly build and is is not possible to use the
>> feed
>> > - give it problems with actualy build and feeds.
>> > Thank and best wishes
>> > Frank
>>
>> My install of trunk with the most recent revision (r10487) is working
>> fine with feeds.
>>
>> Perhaps giving us more detail into the error or problem would be of
>> use.  Maybe it is a plugin conflict?
>>
>> --
>> Matt Martz
>> matt@sivel.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From jidanni at jidanni.org  Tue Feb  3 23:30:53 2009
From: jidanni at jidanni.org (jidanni@jidanni.org)
Date: Tue Feb  3 23:31:05 2009
Subject: [wp-hackers] don't rabidly connect upon installation
Message-ID: <87eiyfp07m.fsf@jidanni.org>

Gentlemen, as you know when one installs and configures WordPress,
it immediately makes lots of net connections, even before one has a
chance to turn off such items from the screen options on the
dashboard.

So how might one stop it even before it happens the first time?
Put something in the config file?
From wordpress at dd32.id.au  Tue Feb  3 23:53:38 2009
From: wordpress at dd32.id.au (DD32)
Date: Tue Feb  3 23:53:49 2009
Subject: [wp-hackers] don't rabidly connect upon installation
In-Reply-To: <87eiyfp07m.fsf@jidanni.org>
References: <87eiyfp07m.fsf@jidanni.org>
Message-ID: <45055a190902031553o10d83f1aq4776e39bc801231e@mail.gmail.com>

In short, You cant.

2009/2/4  <jidanni@jidanni.org>:
> Gentlemen, as you know when one installs and configures WordPress,
> it immediately makes lots of net connections, even before one has a
> chance to turn off such items from the screen options on the
> dashboard.
>
> So how might one stop it even before it happens the first time?
> Put something in the config file?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Wed Feb  4 00:32:06 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 00:32:36 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <5dbff0c70902031038t36b2b9f9hcc028c85028afe63@mail.gmail.com>
Message-ID: <11515213.621233707536606.JavaMail.DELL-1405$@Dell-1405>

"Matt Walters" <mwalters8@gmail.com> wrote:
> Sorry, but -1 for spamming the list with a silly request 
> to attempt making a point.

Well, I also wanted to discuss developing a standard API and standard repository for Twitter for use in WordPress sites with the community, but what's the mechanism to do so when people immediately say "Not in core."  Where can it be discussed with the community?

So it wasn't *just* to make a point even though in part it was. 

-Mike Schinkel
http://mikeschinkel.com/
From mikeschinkel at newclarity.net  Wed Feb  4 00:43:16 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 00:43:37 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing Optional Modules.
In-Reply-To: <09155C38-4C0A-40CC-8DD5-1DCE6B33974D@ftwr.co.uk>
Message-ID: <1318443.661233708205173.JavaMail.DELL-1405$@Dell-1405>

"Peter Westwood" <peter.westwood@ftwr.co.uk> wrote
> WordPress is a platform.  It is never going to be able 
> to include everything you want out of the box.

Ironically I'm asking for it to be a better platform. Currently what's in place creates a black & white divide between what's appropriate for core (nice and structured) and plugins (completely chaotic.)  I'm looking for more structure in extensibility than is currently provided by plugins.

Essentially what I've boiled it down to is:

1.) No auto-load or dependency management.  That can be fixed.
2.) No place to discuss and come to agreement on shared development with (a portion of) the community that is not applicable to the core.

BTW, #2 is NOT a technical issue, it's more of a socialogical issue.

That said, how and where can we discuss things with the community when the core team says it's not appropriate for the core?  What about another mailing list for that purpose.

-Mike Schinkel
http://mikeschinkel.com/
From photofantaisie at gmail.com  Wed Feb  4 00:45:40 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Wed Feb  4 00:45:48 2009
Subject: [wp-hackers] Get query variables and tags
In-Reply-To: <31116704.821233618890867.JavaMail.DELL-1405$@Dell-1405>
References: <7151740.801233618590824.JavaMail.DELL-1405$@Dell-1405>
	<31116704.821233618890867.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <9dd057850902031645l1a0d976dma8891d8aac813715@mail.gmail.com>

Thanks Mike! I'll make a note of that.

2009/2/3 Mike Schinkel <mikeschinkel@newclarity.net>
From photofantaisie at gmail.com  Wed Feb  4 00:52:39 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Wed Feb  4 00:52:49 2009
Subject: [wp-hackers] Get query variables and tags
In-Reply-To: <45055a190902021544k1a7d0e08o88ca04925d426cc4@mail.gmail.com>
References: <9dd057850902021538n94e8baasa08099cf83abca57@mail.gmail.com>
	<45055a190902021544k1a7d0e08o88ca04925d426cc4@mail.gmail.com>
Message-ID: <9dd057850902031652n34d3465fj87b6263354d15e86@mail.gmail.com>

Thanks DD!

I was hoping to take a shortcut as get_query_var works fine. However,
WP_Query doesn't seem to accept tag= as a parameter (I was hoping I could
simply pass the $tag variable to WP_Query). I already have a main loop going
on in the same page and therefore I don't think I can use query_posts
either, which would have let me do this. I'll take a closer look at the
get_objects_in_terms and get_posts suggestions to see how to get this to
work.

2009/2/3 DD32 <wordpress@dd32.id.au>

> What i would do:
>
> $tag = get_query_var('tag');
> //Might need to convert 'MyTag' into a TermID here.. not sure
> $objects = get_objects_in_term('post_tag', $tag)
> $posts = get_posts( array('post_in' => $objects) );
>
> Or something similar.... You'll have to check the get_objects
> function.. and WP_Query for the correct usage of post_in..
>
From wordpress at dd32.id.au  Wed Feb  4 00:58:23 2009
From: wordpress at dd32.id.au (DD32)
Date: Wed Feb  4 00:58:38 2009
Subject: [wp-hackers] Get query variables and tags
In-Reply-To: <9dd057850902031652n34d3465fj87b6263354d15e86@mail.gmail.com>
References: <9dd057850902021538n94e8baasa08099cf83abca57@mail.gmail.com>
	<45055a190902021544k1a7d0e08o88ca04925d426cc4@mail.gmail.com>
	<9dd057850902031652n34d3465fj87b6263354d15e86@mail.gmail.com>
Message-ID: <45055a190902031658j4f0a6363g412c209934177df6@mail.gmail.com>

WP_Query DOES accept 'tag'
http://trac.wordpress.org/browser/trunk/wp-includes/query.php#L1178 &
http://trac.wordpress.org/browser/trunk/wp-includes/query.php#L1852

So you might want to recheck you were using the right stuff :)


2009/2/4 Ade Walker <photofantaisie@gmail.com>:
> Thanks DD!
>
> I was hoping to take a shortcut as get_query_var works fine. However,
> WP_Query doesn't seem to accept tag= as a parameter (I was hoping I could
> simply pass the $tag variable to WP_Query). I already have a main loop going
> on in the same page and therefore I don't think I can use query_posts
> either, which would have let me do this. I'll take a closer look at the
> get_objects_in_terms and get_posts suggestions to see how to get this to
> work.
>
> 2009/2/3 DD32 <wordpress@dd32.id.au>
>
>> What i would do:
>>
>> $tag = get_query_var('tag');
>> //Might need to convert 'MyTag' into a TermID here.. not sure
>> $objects = get_objects_in_term('post_tag', $tag)
>> $posts = get_posts( array('post_in' => $objects) );
>>
>> Or something similar.... You'll have to check the get_objects
>> function.. and WP_Query for the correct usage of post_in..
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From lists at 1bigidea.com  Wed Feb  4 01:00:53 2009
From: lists at 1bigidea.com (Tom Ransom)
Date: Wed Feb  4 01:01:11 2009
Subject: [wp-hackers] WPMU install_blog_defaults()
In-Reply-To: <C5AC8529.9FD4%TurnerJD@cofc.edu>
References: <C5AC8529.9FD4%TurnerJD@cofc.edu>
Message-ID: <A0B865F9-34C3-402E-AE4C-0FC3FD61302C@1bigidea.com>

Sure -

Write a plugin that reverses the desired steps (from steps in  
wpmu_create_blog in wpmu-functions.php)
Insert your own steps, and hook it all to a wpmu_new_blog action. Drop  
your plugin in mu-plugin.

I did something similar for a client - adding default gallery pages  
and setting plugin-specific options on the creation of a new blog.

- Tom Ransom

Every successful marketing program starts with
One Big Idea

(360) 746-2101                         transom@1bigidea.com
Toll-Free: (800) 815-4744           (815) 642-0258 efax
AIM: my1bigidea                        SKYPE: tomransom
Twitter: onebigidea                     linkedin.com/in/onebigidea


On Feb 2, 2009, at 8:10 AM, John Turner wrote:

> Is there a way to override install_blog_defaults() in wpmu with out
> modifying the source?
>
>
> John Turner
> Johndturner.com
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From viper at viper007bond.com  Wed Feb  4 01:10:57 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Wed Feb  4 01:11:09 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <6247089.721233614966572.JavaMail.DELL-1405$@Dell-1405>
References: <e1202cb10902021424y5c553418wbafa0bae1584c409@mail.gmail.com>
	<6247089.721233614966572.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <8f93a7390902031710s781de1cay84ba3a56e1c8ce89@mail.gmail.com>

Don't forget that you can set up WordPress to upload to any path on your
server. I for example have WordPress store my files on a different HTTPD
(lighttpd) off on another part of the server (different subdomain than the
main site).

I'd imagine you could do the same kinda thing if you can set up syncing
between a folder on your server and the CDN and if you can guess the URLs it
will result in.

-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From mikeschinkel at newclarity.net  Wed Feb  4 01:41:20 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 01:41:49 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <28755255.781233711262351.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <19871235.821233711685820.JavaMail.DELL-1405$@Dell-1405>

Yes, thanks. 

I've actually just completed the work on a (mostly generic) plugin for (Limelight) CDN integration and applied it to the theme of the site we are building. Unfortunately the NextGen Gallery which we are using has several hard-coded references to get_option('site_url') which means I have to modify his plug in order to use it and I want to avoid modifying other's code if possible.  This is an example of why it would be nice to have a better vetted image management api, but I digress.

It occurs to me that what would be helpful would be to add the following to get_bloginfo():

   get_bloginfo('images_url')
   get_bloginfo('videos_url')
   get_bloginfo('css_url')
   get_bloginfo('js_url')

And maybe more. These could then default to the theme + the file (i.e. get_bloginfo('template_url')+'/images', etc.) and be stated it's a best practice to use these in themes and plugins. 

If I had these and there were used correctly I could write a CDN Integration plugin that would be (almost?) seemless.


-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Viper007Bond" <viper@viper007bond.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 3, 2009 8:10:57 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] CDN Integration?

Don't forget that you can set up WordPress to upload to any path on your
server. I for example have WordPress store my files on a different HTTPD
(lighttpd) off on another part of the server (different subdomain than the
main site).

I'd imagine you could do the same kinda thing if you can set up syncing
between a folder on your server and the CDN and if you can guess the URLs it
will result in.

-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From lynne.pope at gmail.com  Wed Feb  4 02:29:54 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Wed Feb  4 02:30:05 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <11515213.621233707536606.JavaMail.DELL-1405$@Dell-1405>
References: <5dbff0c70902031038t36b2b9f9hcc028c85028afe63@mail.gmail.com>
	<11515213.621233707536606.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <427667db0902031829o52cfe9a3ve6c54c73ab2d400@mail.gmail.com>

2009/2/4 Mike Schinkel <mikeschinkel@newclarity.net>

> "Matt Walters" <mwalters8@gmail.com> wrote:
> > Sorry, but -1 for spamming the list with a silly request
> > to attempt making a point.
>
> Well, I also wanted to discuss developing a standard API and standard
> repository for Twitter for use in WordPress sites with the community, but
> what's the mechanism to do so when people immediately say "Not in core."
>  Where can it be discussed with the community?


There are the forums (Request and Feedback) and Ideas:
http://wordpress.org/extend/ideas/

I doubt you would get much informed support for developing an API for
Twitter, especially since Twitter makes changes to its own API that impact
those developing with it.  But there is nothing stopping you from developing
your own you know.

Lynne
From jidanni at jidanni.org  Wed Feb  4 02:31:53 2009
From: jidanni at jidanni.org (jidanni@jidanni.org)
Date: Wed Feb  4 02:32:07 2009
Subject: [wp-hackers] how about <form action="">?
References: <45055a190902021548u714a61e6pab74f976550f41ee@mail.gmail.com>
Message-ID: <8763jrnd9i.fsf_-_@jidanni.org>

Gentlemen, I notice several places where the code makes <form
action="..."> URIs where the result would just be the default URI anyway.
Perhaps one could just get away with <form action=""> in those cases?
http://www.thefutureoftheweb.com/blog/use-empty-form-action-submit-to-current
http://www.google.com/search?q=HTML+form+action+empty
http://www.carehart.org/blog/client/index.cfm/2007/1/2/form_self_post
From gaarai at gaarai.com  Wed Feb  4 02:52:17 2009
From: gaarai at gaarai.com (Gaarai)
Date: Wed Feb  4 02:52:44 2009
Subject: [wp-hackers] how about <form action="">?
In-Reply-To: <8763jrnd9i.fsf_-_@jidanni.org>
References: <45055a190902021548u714a61e6pab74f976550f41ee@mail.gmail.com>
	<8763jrnd9i.fsf_-_@jidanni.org>
Message-ID: <498902E1.5080904@gaarai.com>

If that's the case, does it really matter?

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/



jidanni@jidanni.org wrote:
> Gentlemen, I notice several places where the code makes <form
> action="..."> URIs where the result would just be the default URI anyway.
> Perhaps one could just get away with <form action=""> in those cases?
> http://www.thefutureoftheweb.com/blog/use-empty-form-action-submit-to-current
> http://www.google.com/search?q=HTML+form+action+empty
> http://www.carehart.org/blog/client/index.cfm/2007/1/2/form_self_post
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From mikeschinkel at newclarity.net  Wed Feb  4 03:06:46 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 03:07:36 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <427667db0902031829o52cfe9a3ve6c54c73ab2d400@mail.gmail.com>
Message-ID: <28589699.841233716811607.JavaMail.DELL-1405$@Dell-1405>

"Lynne Pope" <lynne.pope@gmail.com> wrote:
> There are the forums (Request and Feedback) and Ideas:
> http://wordpress.org/extend/ideas/

Thanks for the note. Unfortunately those forums are a poor substitute for a mailing list.  They are too much effort to participate in and hence don't generate the free flow of discussion that a mailing list would (at least not the forum software used by Codex.) 

Minimally, why not a plugin issues mailing list added to here?  http://codex.wordpress.org/Mailing_Lists

Am I the *only* one that sees a need for this?  If you are reading this and you concur but don't want to jump in the frey can you please email me off list so that I know that there are others who feel the need to collaborate on functionality that is not right for the core?

> ... especially since Twitter makes changes to its 
> own API that impact those developing with it.  

Not a problem. The important part of the API would be how WordPress users would be isolated from Twitter.

-Mike Schinkel
http://mikeschinkel.com/
From speedboxer at gmail.com  Wed Feb  4 03:28:21 2009
From: speedboxer at gmail.com (Matt)
Date: Wed Feb  4 03:28:34 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <28589699.841233716811607.JavaMail.DELL-1405$@Dell-1405>
References: <427667db0902031829o52cfe9a3ve6c54c73ab2d400@mail.gmail.com>
	<28589699.841233716811607.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <b88434820902031928u5bc47428pcf0955720a949d91@mail.gmail.com>

On Tue, Feb 3, 2009 at 7:06 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Minimally, why not a plugin issues mailing list added to here?  http://codex.wordpress.org/Mailing_Lists


"The wp-hackers list is meant for people interested in extending
WordPress either through plugins or improvements to the core code."

What's wrong with using *this* mailing list for talking about plugin
development?


-- 
Matt (http://mattsblog.ca/)
From cclarkson at htcomp.net  Wed Feb  4 04:16:07 2009
From: cclarkson at htcomp.net (Charles K. Clarkson)
Date: Wed Feb  4 04:16:22 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <28589699.841233716811607.JavaMail.DELL-1405$@Dell-1405>
References: <28589699.841233716811607.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <49891687.6010607@htcomp.net>

Mike Schinkel wrote:

> Minimally, why not a plugin issues mailing list added to here?
 > http://codex.wordpress.org/Mailing_Lists

     That's codex page, so I don't think your email list would
need to be hosted by Automattic. Just set up mailman on some sever 
somewhere and add the list url to a new section on the Codex page.


HTH,

Charles Clarkson
-- 
Mobile Home Investor
Free Market Advocate
Programmer

Stephenville, TX
http://www.clarksonenergyhomes.com/wordpress/about/
http://twitter.com/CharlesClarkson
+1 (254) 968-8328
From frank at bueltge.de  Wed Feb  4 07:04:17 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Wed Feb  4 07:04:26 2009
Subject: [wp-hackers] 2.8 bleeding and feed
In-Reply-To: <45055a190902031439v4bca67a6r3c6f9c3a9b8c56f8@mail.gmail.com>
References: <db047a770902030704q4e2cfdfbkea1ce3b2620882ff@mail.gmail.com>
	<518fa9630902030709r1bea5aa2we917e4dcc39018dc@mail.gmail.com>
	<db047a770902030725w3ac271f4j77a0af4a8b088146@mail.gmail.com>
	<45055a190902031439v4bca67a6r3c6f9c3a9b8c56f8@mail.gmail.com>
Message-ID: <db047a770902032304r1355a20l228df6d87a53e13e@mail.gmail.com>

Thanks,
i have check all possible ideas, no error found.

Now i have donwgrade to 2.7 and the feed works fine.
My other informations do you find in the trac.
Best wishes
From viper at viper007bond.com  Wed Feb  4 08:17:27 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Wed Feb  4 08:17:39 2009
Subject: [wp-hackers] how about <form action="">?
In-Reply-To: <8763jrnd9i.fsf_-_@jidanni.org>
References: <45055a190902021548u714a61e6pab74f976550f41ee@mail.gmail.com>
	<8763jrnd9i.fsf_-_@jidanni.org>
Message-ID: <8f93a7390902040017w7daf286era49e3efcec9239f@mail.gmail.com>

What if you're at script.php?foo=bar   ? You don't want the form coming back
to that URL after submitting it if it was saying like "X number of comments
deleted" for example.

On Tue, Feb 3, 2009 at 6:31 PM, <jidanni@jidanni.org> wrote:

> Gentlemen, I notice several places where the code makes <form
> action="..."> URIs where the result would just be the default URI anyway.
> Perhaps one could just get away with <form action=""> in those cases?
>
> http://www.thefutureoftheweb.com/blog/use-empty-form-action-submit-to-current
> http://www.google.com/search?q=HTML+form+action+empty
> http://www.carehart.org/blog/client/index.cfm/2007/1/2/form_self_post
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From iacobs at m0n5t3r.info  Wed Feb  4 08:20:37 2009
From: iacobs at m0n5t3r.info (Sabin Iacob)
Date: Wed Feb  4 08:20:55 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <19871235.821233711685820.JavaMail.DELL-1405$@Dell-1405>
References: <19871235.821233711685820.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <49894FD5.7030001@m0n5t3r.info>

Mike Schinkel wrote:
> Yes, thanks. 
>
> I've actually just completed the work on a (mostly generic) plugin for (Limelight) CDN integration and applied it to the theme of the site we are building. Unfortunately the NextGen Gallery which we are using has several hard-coded references to get_option('site_url') which means I have to modify his plug in order to use it and I want to avoid modifying other's code if possible.  This is an example of why it would be nice to have a better vetted image management api, but I digress.
>
> It occurs to me that what would be helpful would be to add the following to get_bloginfo():
>
>    get_bloginfo('images_url')
>    get_bloginfo('videos_url')
>    get_bloginfo('css_url')
>    get_bloginfo('js_url')
>
> And maybe more. These could then default to the theme + the file (i.e. get_bloginfo('template_url')+'/images', etc.) and be stated it's a best practice to use these in themes and plugins. 
>
> If I had these and there were used correctly I could write a CDN Integration plugin that would be (almost?) seemless.
>   

get_bloginfo calls get_option behind the scenes, so they are not hard to
add, but to get others to actually use this convention may be difficult ;)

also, for options you want to modify on the fly, I remember from the
days when I actually had time to write wordpress plugins about an
undocumented series filters looking like "option_<option_name>" (e.g.
option_html_type,  built dynamically), from a quick look at the source
in trunk, that feature is still there :o)

From scribu at gmail.com  Wed Feb  4 08:51:42 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb  4 08:51:55 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <1318443.661233708205173.JavaMail.DELL-1405$@Dell-1405>
References: <09155C38-4C0A-40CC-8DD5-1DCE6B33974D@ftwr.co.uk>
	<1318443.661233708205173.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <349fe48b0902040051l2ae62d76o20919357bd28ed69@mail.gmail.com>

On Wed, Feb 4, 2009 at 2:43 AM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> 2.) No place to discuss and come to agreement on shared development with (a
> portion of) the community that is not applicable to the core.
>
> BTW, #2 is NOT a technical issue, it's more of a socialogical issue.
>
> That said, how and where can we discuss things with the community when the
> core team says it's not appropriate for the core?  What about another
> mailing list for that purpose.
>

+1. People that ask about specific functionality on wp-hackers would have a
better place there, I think.

-- 
http://scribu.net
From listswphackers at mist.org.uk  Wed Feb  4 12:16:06 2009
From: listswphackers at mist.org.uk (mrmist)
Date: Wed Feb  4 12:48:34 2009
Subject: [wp-hackers] how about <form action="">?
In-Reply-To: <8763jrnd9i.fsf_-_@jidanni.org>
References: <45055a190902021548u714a61e6pab74f976550f41ee@mail.gmail.com>
	<8763jrnd9i.fsf_-_@jidanni.org>
Message-ID: <Fuhh1fDGcYiJFwNo@dsl-217-155-35-239.zen.co.uk>

In message <8763jrnd9i.fsf_-_@jidanni.org>, jidanni@jidanni.org writes
>Gentlemen, I notice several places where the code makes <form
>action="..."> URIs where the result would just be the default URI anyway.
>Perhaps one could just get away with <form action=""> in those cases?

Personally I find empty actions disturbing.  I know it might be valid 
and all that, but it just looks wrong.

-- 
mrmist
From otto at ottodestruct.com  Wed Feb  4 14:04:34 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Feb  4 14:04:44 2009
Subject: [wp-hackers] how about <form action="">?
In-Reply-To: <Fuhh1fDGcYiJFwNo@dsl-217-155-35-239.zen.co.uk>
References: <45055a190902021548u714a61e6pab74f976550f41ee@mail.gmail.com>
	<8763jrnd9i.fsf_-_@jidanni.org>
	<Fuhh1fDGcYiJFwNo@dsl-217-155-35-239.zen.co.uk>
Message-ID: <161617690902040604l33567cdah68af96f80636c91a@mail.gmail.com>

On Wed, Feb 4, 2009 at 6:16 AM, mrmist <listswphackers@mist.org.uk> wrote:
> In message <8763jrnd9i.fsf_-_@jidanni.org>, jidanni@jidanni.org writes
>> Gentlemen, I notice several places where the code makes <form
>> action="..."> URIs where the result would just be the default URI anyway.
>> Perhaps one could just get away with <form action=""> in those cases?
>
> Personally I find empty actions disturbing.  I know it might be valid and
> all that, but it just looks wrong.

I find your lack of faith disturbing. ;-)

Empty actions are perfectly valid. They're recommended for a lot of
cases. I use them all the time. Actually, the "action" is just defined
as a URI reference, however an empty-URI is defined to point to the
current page. From RFC 2396:

4.2. Same-document References

   A URI reference that does not contain a URI is a reference to the
   current document.  In other words, an empty URI reference within a
   document is interpreted as a reference to the start of that document,
   and a reference containing only a fragment identifier is a reference
   to the identified fragment of that document.  Traversal of such a
   reference should not result in an additional retrieval action.
   However, if the URI reference occurs in a context that is always
   intended to result in a new request, as in the case of HTML's FORM
   element, then an empty URI reference represents the base URI of the
   current document and should be replaced by that URI when transformed
   into a request.
From wordpress at santosj.name  Wed Feb  4 14:39:02 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Wed Feb  4 14:39:13 2009
Subject: [wp-hackers] how about <form action="">?
In-Reply-To: <161617690902040604l33567cdah68af96f80636c91a@mail.gmail.com>
References: <45055a190902021548u714a61e6pab74f976550f41ee@mail.gmail.com>	<8763jrnd9i.fsf_-_@jidanni.org>	<Fuhh1fDGcYiJFwNo@dsl-217-155-35-239.zen.co.uk>
	<161617690902040604l33567cdah68af96f80636c91a@mail.gmail.com>
Message-ID: <4989A886.9020808@santosj.name>

Agreed, plus you don't have instances where in some cases you can hack 
the location of server variable to point to another location and post to 
another location.

I use it all the time and I'm cool. Right? Even if I'm not cool, it is 
still okay and better to use and I can give like three of the top of my 
head.

Jacob Santos


Otto wrote:
> On Wed, Feb 4, 2009 at 6:16 AM, mrmist <listswphackers@mist.org.uk> wrote:
>   
>> In message <8763jrnd9i.fsf_-_@jidanni.org>, jidanni@jidanni.org writes
>>     
>>> Gentlemen, I notice several places where the code makes <form
>>> action="..."> URIs where the result would just be the default URI anyway.
>>> Perhaps one could just get away with <form action=""> in those cases?
>>>       
>> Personally I find empty actions disturbing.  I know it might be valid and
>> all that, but it just looks wrong.
>>     
>
> I find your lack of faith disturbing. ;-)
>
> Empty actions are perfectly valid. They're recommended for a lot of
> cases. I use them all the time. Actually, the "action" is just defined
> as a URI reference, however an empty-URI is defined to point to the
> current page. From RFC 2396:
>
> 4.2. Same-document References
>
>    A URI reference that does not contain a URI is a reference to the
>    current document.  In other words, an empty URI reference within a
>    document is interpreted as a reference to the start of that document,
>    and a reference containing only a fragment identifier is a reference
>    to the identified fragment of that document.  Traversal of such a
>    reference should not result in an additional retrieval action.
>    However, if the URI reference occurs in a context that is always
>    intended to result in a new request, as in the case of HTML's FORM
>    element, then an empty URI reference represents the base URI of the
>    current document and should be replaced by that URI when transformed
>    into a request.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From photofantaisie at gmail.com  Wed Feb  4 18:08:39 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Wed Feb  4 18:08:49 2009
Subject: [wp-hackers] Get query variables and tags
In-Reply-To: <45055a190902031658j4f0a6363g412c209934177df6@mail.gmail.com>
References: <9dd057850902021538n94e8baasa08099cf83abca57@mail.gmail.com>
	<45055a190902021544k1a7d0e08o88ca04925d426cc4@mail.gmail.com>
	<9dd057850902031652n34d3465fj87b6263354d15e86@mail.gmail.com>
	<45055a190902031658j4f0a6363g412c209934177df6@mail.gmail.com>
Message-ID: <9dd057850902041008p1d2a1fe1x9a675e1af57ed94a@mail.gmail.com>

Thanks again DD.

Yes, you're right of course, it accepts 'tag', but I found I needed to pass
the variables as an array to WP_Query, like this:

$tag = get_query_var('tag');
$storylist = new WP_Query(array(
                                                    'tag' => $tag,
                                                    'showposts' => '30'
                                                    ));

Seems to work fine. Thanks again for your assistance :-)

Ade.

2009/2/4 DD32 <wordpress@dd32.id.au>

> WP_Query DOES accept 'tag'
> http://trac.wordpress.org/browser/trunk/wp-includes/query.php#L1178 &
> http://trac.wordpress.org/browser/trunk/wp-includes/query.php#L1852
>
> So you might want to recheck you were using the right stuff :)
>
From sudar at sudarmuthu.com  Wed Feb  4 18:13:19 2009
From: sudar at sudarmuthu.com (Sudar Muthu)
Date: Wed Feb  4 18:13:29 2009
Subject: [wp-hackers] Unexpected behaviour in WP_Query
Message-ID: <485dd1460902041013x17ac4b1an3dcbcbc000952e73@mail.gmail.com>

Hello all,

I was playing with WP_Query and found an unexpected behaviour. I am not sure
whether this is the expected behaviour or it is a bug. And if it is a bug, I
will open a new ticket in trac.

This is the code which I am using in one of my Plugins to retrieve the posts
belonging to a particular category. Both code and output available in
pastebin as well at http://pastebin.com/m46539116

$my_query = new WP_Query;

$posts = $my_query->query(array('category__in'=>array($cat_id),
'post_type'=>'post', 'nopaging'=>'true'));

print_r($posts);

And in the output I have the following line

[post_category] => 0



So the function is retrieving the posts, but in the result, the category is
0. I tried to trace the SQL generated in this case and it is available in
pastebin at http://pastebin.com/m7a889bdc

The category is 0 even when I execute the generated SQL directly in my
database.

I strongly feel that it is a bug. So please let me know whether it is a bug
or it an expected behaviour. Thanks!


With Regards,
Sudar
http://SudarMuthu.com
http://twitter.com/sudarmuthu
From jer-wphackers at simianuprising.com  Wed Feb  4 18:14:04 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Wed Feb  4 18:14:16 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <349fe48b0902040051l2ae62d76o20919357bd28ed69@mail.gmail.com>
References: <09155C38-4C0A-40CC-8DD5-1DCE6B33974D@ftwr.co.uk>
	<1318443.661233708205173.JavaMail.DELL-1405$@Dell-1405>
	<349fe48b0902040051l2ae62d76o20919357bd28ed69@mail.gmail.com>
Message-ID: <e1202cb10902041014l25d85bc3i1e2a4224f8f87fc6@mail.gmail.com>

Um, I think that people can and do have those conversations on
wp-hackers. Questions like "What do you guys think is the most API and
future-compatible way to import twitter posts using a plugin" aren't
hassled, they are answered carefully with lots of work from the
community.

As long as you don't persist in promoting a plugin feature being added
to core (which should be done using the Ideas section I guess) I've
found that people get lots of help. It's not a standards governing
body for the API, but people here know a lot and usually come up with
the best solution around.

The only things I've seen people get hassled for here are 1)
frustrating bikeshed arguments like php5 and 2) user support questions
that should be handled on the forums. Plugin programming and API
questions usually get a great reception.

-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
From scribu at gmail.com  Wed Feb  4 18:19:12 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb  4 18:19:23 2009
Subject: [wp-hackers] Unexpected behaviour in WP_Query
In-Reply-To: <485dd1460902041013x17ac4b1an3dcbcbc000952e73@mail.gmail.com>
References: <485dd1460902041013x17ac4b1an3dcbcbc000952e73@mail.gmail.com>
Message-ID: <349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>

I think $post->post_category is a fossil from older versions and doesn't
serve any purpose.

On Wed, Feb 4, 2009 at 8:13 PM, Sudar Muthu <sudar@sudarmuthu.com> wrote:

> Hello all,
>
> I was playing with WP_Query and found an unexpected behaviour. I am not
> sure
> whether this is the expected behaviour or it is a bug. And if it is a bug,
> I
> will open a new ticket in trac.
>
> This is the code which I am using in one of my Plugins to retrieve the
> posts
> belonging to a particular category. Both code and output available in
> pastebin as well at http://pastebin.com/m46539116
>
> $my_query = new WP_Query;
>
> $posts = $my_query->query(array('category__in'=>array($cat_id),
> 'post_type'=>'post', 'nopaging'=>'true'));
>
> print_r($posts);
>
> And in the output I have the following line
>
> [post_category] => 0
>
>
>
> So the function is retrieving the posts, but in the result, the category is
> 0. I tried to trace the SQL generated in this case and it is available in
> pastebin at http://pastebin.com/m7a889bdc
>
> The category is 0 even when I execute the generated SQL directly in my
> database.
>
> I strongly feel that it is a bug. So please let me know whether it is a bug
> or it an expected behaviour. Thanks!
>
>
> With Regards,
> Sudar
> http://SudarMuthu.com
> http://twitter.com/sudarmuthu
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From scribu at gmail.com  Wed Feb  4 18:21:22 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb  4 18:21:33 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing 
	Optional Modules.
In-Reply-To: <e1202cb10902041014l25d85bc3i1e2a4224f8f87fc6@mail.gmail.com>
References: <09155C38-4C0A-40CC-8DD5-1DCE6B33974D@ftwr.co.uk>
	<1318443.661233708205173.JavaMail.DELL-1405$@Dell-1405>
	<349fe48b0902040051l2ae62d76o20919357bd28ed69@mail.gmail.com>
	<e1202cb10902041014l25d85bc3i1e2a4224f8f87fc6@mail.gmail.com>
Message-ID: <349fe48b0902041021j3f89bacbxd0470f3e6b2d3bf9@mail.gmail.com>

On Wed, Feb 4, 2009 at 8:14 PM, Jeremy Clarke <
jer-wphackers@simianuprising.com> wrote:

> The only things I've seen people get hassled for here are 1)
> frustrating bikeshed arguments like php5 and 2) user support questions
> that should be handled on the forums. Plugin programming and API
> questions usually get a great reception.
>

Yes, you're right. I was thinking of support questions.

-- 
http://scribu.net
From sudar at sudarmuthu.com  Wed Feb  4 18:22:33 2009
From: sudar at sudarmuthu.com (Sudar Muthu)
Date: Wed Feb  4 18:22:44 2009
Subject: [wp-hackers] Unexpected behaviour in WP_Query
In-Reply-To: <349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>
References: <485dd1460902041013x17ac4b1an3dcbcbc000952e73@mail.gmail.com>
	<349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>
Message-ID: <485dd1460902041022y6a5f8659qe58a27b293b852d3@mail.gmail.com>

>
> I think $post->post_category is a fossil from older versions and doesn't
>
serve any purpose.
>

If that is the case, then is there a way to retrieve the category of the
post without using wp_get_post_categories($post->ID); function call?

With Regards,
Sudar

http://SudarMuthu.com
http://twitter.com/sudarmuthu


On Wed, Feb 4, 2009 at 11:49 PM, scribu <scribu@gmail.com> wrote:

> I think $post->post_category is a fossil from older versions and doesn't
> serve any purpose.
>
> On Wed, Feb 4, 2009 at 8:13 PM, Sudar Muthu <sudar@sudarmuthu.com> wrote:
>
> > Hello all,
> >
> > I was playing with WP_Query and found an unexpected behaviour. I am not
> > sure
> > whether this is the expected behaviour or it is a bug. And if it is a
> bug,
> > I
> > will open a new ticket in trac.
> >
> > This is the code which I am using in one of my Plugins to retrieve the
> > posts
> > belonging to a particular category. Both code and output available in
> > pastebin as well at http://pastebin.com/m46539116
> >
> > $my_query = new WP_Query;
> >
> > $posts = $my_query->query(array('category__in'=>array($cat_id),
> > 'post_type'=>'post', 'nopaging'=>'true'));
> >
> > print_r($posts);
> >
> > And in the output I have the following line
> >
> > [post_category] => 0
> >
> >
> >
> > So the function is retrieving the posts, but in the result, the category
> is
> > 0. I tried to trace the SQL generated in this case and it is available in
> > pastebin at http://pastebin.com/m7a889bdc
> >
> > The category is 0 even when I execute the generated SQL directly in my
> > database.
> >
> > I strongly feel that it is a bug. So please let me know whether it is a
> bug
> > or it an expected behaviour. Thanks!
> >
> >
> > With Regards,
> > Sudar
> > http://SudarMuthu.com
> > http://twitter.com/sudarmuthu
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From peter.westwood at ftwr.co.uk  Wed Feb  4 18:25:07 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Feb  4 18:25:59 2009
Subject: [wp-hackers] Unexpected behaviour in WP_Query
In-Reply-To: <485dd1460902041022y6a5f8659qe58a27b293b852d3@mail.gmail.com>
References: <485dd1460902041013x17ac4b1an3dcbcbc000952e73@mail.gmail.com>
	<349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>
	<485dd1460902041022y6a5f8659qe58a27b293b852d3@mail.gmail.com>
Message-ID: <BC3F0F75-91EB-4FED-957B-E097F88773E0@ftwr.co.uk>


On 4 Feb 2009, at 18:22, Sudar Muthu wrote:

>>
>> I think $post->post_category is a fossil from older versions and  
>> doesn't
>>
> serve any purpose.
>>
>
> If that is the case, then is there a way to retrieve the category  
> of the
> post without using wp_get_post_categories($post->ID); function call?
>

A post is not necessarily in a single category.

You could do it with some manual SQL probably, but you shouldn't!

Use the API available and call wp_get_post_categories.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From if.website at gmail.com  Wed Feb  4 18:26:35 2009
From: if.website at gmail.com (Austin Matzko)
Date: Wed Feb  4 18:26:43 2009
Subject: [wp-hackers] Unexpected behaviour in WP_Query
In-Reply-To: <485dd1460902041022y6a5f8659qe58a27b293b852d3@mail.gmail.com>
References: <485dd1460902041013x17ac4b1an3dcbcbc000952e73@mail.gmail.com>
	<349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>
	<485dd1460902041022y6a5f8659qe58a27b293b852d3@mail.gmail.com>
Message-ID: <674b4a3b0902041026x3569ef30nd76c3ac952eb3a20@mail.gmail.com>

On Wed, Feb 4, 2009 at 12:22 PM, Sudar Muthu <sudar@sudarmuthu.com> wrote:
> If that is the case, then is there a way to retrieve the category of the
> post without using wp_get_post_categories($post->ID); function call?

Why won't wp_get_post_categories() work?
From mwalters8 at gmail.com  Wed Feb  4 18:35:55 2009
From: mwalters8 at gmail.com (Matt Walters)
Date: Wed Feb  4 18:36:09 2009
Subject: [wp-hackers] Unexpected behaviour in WP_Query
In-Reply-To: <349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>
References: <485dd1460902041013x17ac4b1an3dcbcbc000952e73@mail.gmail.com>
	<349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>
Message-ID: <5dbff0c70902041035p35e1c614pd85519a12661df98@mail.gmail.com>

I asked about it in #wordpress-dev about a month ago and was told
$post->post_category was fine to use for updating a posts categories,
but it does not retrieve the categories when the object is loaded.
So, not sure it really helps with the issue at hand, but just wanted
to point out it's not a complete fossil yet either.


---------------------------------
Matt Walters




On Wed, Feb 4, 2009 at 1:19 PM, scribu <scribu@gmail.com> wrote:
> I think $post->post_category is a fossil from older versions and doesn't
> serve any purpose.
>
> On Wed, Feb 4, 2009 at 8:13 PM, Sudar Muthu <sudar@sudarmuthu.com> wrote:
>
>> Hello all,
>>
>> I was playing with WP_Query and found an unexpected behaviour. I am not
>> sure
>> whether this is the expected behaviour or it is a bug. And if it is a bug,
>> I
>> will open a new ticket in trac.
>>
>> This is the code which I am using in one of my Plugins to retrieve the
>> posts
>> belonging to a particular category. Both code and output available in
>> pastebin as well at http://pastebin.com/m46539116
>>
>> $my_query = new WP_Query;
>>
>> $posts = $my_query->query(array('category__in'=>array($cat_id),
>> 'post_type'=>'post', 'nopaging'=>'true'));
>>
>> print_r($posts);
>>
>> And in the output I have the following line
>>
>> [post_category] => 0
>>
>>
>>
>> So the function is retrieving the posts, but in the result, the category is
>> 0. I tried to trace the SQL generated in this case and it is available in
>> pastebin at http://pastebin.com/m7a889bdc
>>
>> The category is 0 even when I execute the generated SQL directly in my
>> database.
>>
>> I strongly feel that it is a bug. So please let me know whether it is a bug
>> or it an expected behaviour. Thanks!
>>
>>
>> With Regards,
>> Sudar
>> http://SudarMuthu.com
>> http://twitter.com/sudarmuthu
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From if.website at gmail.com  Wed Feb  4 18:53:23 2009
From: if.website at gmail.com (Austin Matzko)
Date: Wed Feb  4 18:53:32 2009
Subject: [wp-hackers] Unexpected behaviour in WP_Query
In-Reply-To: <5dbff0c70902041035p35e1c614pd85519a12661df98@mail.gmail.com>
References: <485dd1460902041013x17ac4b1an3dcbcbc000952e73@mail.gmail.com>
	<349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>
	<5dbff0c70902041035p35e1c614pd85519a12661df98@mail.gmail.com>
Message-ID: <674b4a3b0902041053u7ac20265qbf6a5d7be0f6fbe4@mail.gmail.com>

On Wed, Feb 4, 2009 at 12:35 PM, Matt Walters <mwalters8@gmail.com> wrote:
> I asked about it in #wordpress-dev about a month ago and was told
> $post->post_category was fine to use for updating a posts categories,
> but it does not retrieve the categories when the object is loaded.
> So, not sure it really helps with the issue at hand, but just wanted
> to point out it's not a complete fossil yet either.

That's right, more or less.  "post_category" is an array parameter
that you can pass to wp_insert_post(), for example, to set the post's
categories.  However, what the OP is seeing is the vestige wp_posts
table field, which is unused.  They share the name "post_category" but
they are two separate things.
From peter.westwood at ftwr.co.uk  Wed Feb  4 18:23:42 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Feb  4 18:59:41 2009
Subject: [wp-hackers] Unexpected behaviour in WP_Query
In-Reply-To: <349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>
References: <485dd1460902041013x17ac4b1an3dcbcbc000952e73@mail.gmail.com>
	<349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>
Message-ID: <F359BF65-4855-4AD7-BAC2-AC19418CFEB1@ftwr.co.uk>


On 4 Feb 2009, at 18:19, scribu wrote:

> I think $post->post_category is a fossil from older versions and  
> doesn't
> serve any purpose.

Correct.

That is from the good old days when posts only had one category ;-)

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From mikeschinkel at newclarity.net  Wed Feb  4 19:48:29 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 19:50:54 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <49891687.6010607@htcomp.net>
Message-ID: <24351554.1161233776917464.JavaMail.DELL-1405$@Dell-1405>

Thanks. I guess I really don't understand Codex. It's a wiki?  Does anyone police it?

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Charles K. Clarkson" <cclarkson@htcomp.net>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 3, 2009 11:16:07 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Proposal: Twitter Support in Core

Mike Schinkel wrote:

> Minimally, why not a plugin issues mailing list added to here?
 > http://codex.wordpress.org/Mailing_Lists

     That's codex page, so I don't think your email list would
need to be hosted by Automattic. Just set up mailman on some sever 
somewhere and add the list url to a new section on the Codex page.


HTH,

Charles Clarkson
-- 
Mobile Home Investor
Free Market Advocate
Programmer

Stephenville, TX
http://www.clarksonenergyhomes.com/wordpress/about/
http://twitter.com/CharlesClarkson
+1 (254) 968-8328
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Wed Feb  4 19:58:06 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 19:59:44 2009
Subject: [wp-hackers] CDN Integration?
In-Reply-To: <20698702.1181233777040100.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <32808144.1201233777496221.JavaMail.DELL-1405$@Dell-1405>

"Sabin Iacob" <iacobs@m0n5t3r.info> wrote:
> get_bloginfo calls get_option behind the scenes, so they are 
> not hard to add, 

Only for hardcoded options; there's no easy pass-thru currently except to use a filter. I was suggesting it be added to the core rather than force it to rely on a filter from a plugin because if it requires that we are back to square one (at least until the core supports auto-loading of required infrastructure plugins.)

Actually, since I wrote that I realized what's really needed is a better way to do media/assets/file management that can support numerous and extensible groups of files (images, video, flash, pdf, etc.), support uploading them to different places including the ability to intercept uploads and route them elsewhere as well as to a preferred directory. Then there's a need for a way to retrieve the path for those files (get_bloginfo() might work.) 

TO ALL:  So this is an example of a file management API. Is this something that should go in core or a plugin?

> but to get others to actually use this 
> convention may be difficult ;)

I believe you would be right, but I'm curious to know why you think it would be difficult?  Resistance, lack of awareness, or lack of concern?

> also, for options you want to modify on the fly, I remember 
> from the days when I actually had time to write wordpress 
> plugins about an undocumented series filters looking like
> "option_<option_name>" (e.g. option_html_type,  built 
> dynamically), from a quick look at the source in trunk, 
> that feature is still there :o)

I don't follow nor how it would relate? (thanks in advance for explaining.)

-Mike Schinkel
http://mikeschinkel.com/
From dangayle at gmail.com  Wed Feb  4 20:00:10 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Wed Feb  4 20:00:31 2009
Subject: [wp-hackers] Why does wp_page_menu exist?
Message-ID: <F11C9716-3917-43C6-AAFB-5B9788B2F5C9@gmail.com>

Why does wp_page_menu exist? The functionality is LESS than  
wp_list_pages. For example, what if one doesn't want to have sub-pages  
listed? You can't if you choose to use wp_page_menu. In fact, it  
provides half of the functionality of wp_list_pages, while only  
allowing the additional use of adding a link to the home page, which  
is easily done like this:

<ul id="navigation">
	<li><a href="<?php echo get_option('home'); ?>" rtitle="<?php  
bloginfo('name'); ?> Home Page">Home</a></li>
	<?php wp_list_pages('depth=1&sort_column=menu_order&title_li='); ?>
</ul>

So what was the reasoning behind adding a totally new function, when  
simply adding an additional option to wp_list_pages would have done  
the trick?
From listswphackers at mist.org.uk  Wed Feb  4 20:06:56 2009
From: listswphackers at mist.org.uk (mrmist)
Date: Wed Feb  4 20:08:21 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <24351554.1161233776917464.JavaMail.DELL-1405$@Dell-1405>
References: <49891687.6010607@htcomp.net>
	<24351554.1161233776917464.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <uIYLsVFgVfiJFwbn@dsl-217-155-35-239.zen.co.uk>

In message <24351554.1161233776917464.JavaMail.DELL-1405$@Dell-1405>, 
Mike Schinkel <mikeschinkel@newclarity.net> writes
>Thanks. I guess I really don't understand Codex. It's a wiki?  Does 
>anyone police it?
>

It's both (retro-actively) moderated and self-moderated (for want of a 
better word.)

-- 
mrmist
From if.website at gmail.com  Wed Feb  4 20:10:44 2009
From: if.website at gmail.com (Austin Matzko)
Date: Wed Feb  4 20:10:52 2009
Subject: [wp-hackers] Why does wp_page_menu exist?
In-Reply-To: <F11C9716-3917-43C6-AAFB-5B9788B2F5C9@gmail.com>
References: <F11C9716-3917-43C6-AAFB-5B9788B2F5C9@gmail.com>
Message-ID: <674b4a3b0902041210w621d9913na5855701d9460bc4@mail.gmail.com>

On Wed, Feb 4, 2009 at 2:00 PM, Dan Gayle <dangayle@gmail.com> wrote:
> Why does wp_page_menu exist? The functionality is LESS than wp_list_pages.
> For example, what if one doesn't want to have sub-pages listed? You can't if
> you choose to use wp_page_menu. In fact, it provides half of the
> functionality of wp_list_pages, while only allowing the additional use of
> adding a link to the home page, which is easily done like this:

I'm not sure why you say that.  wp_page_menu calls wp_list_pages(),
passing its argument to wp_list_pages().  So wp_list_pages()'s
features are actually a subset of wp_page_menu()'s.
From jer-wphackers at simianuprising.com  Wed Feb  4 20:13:11 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Wed Feb  4 20:13:22 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <uIYLsVFgVfiJFwbn@dsl-217-155-35-239.zen.co.uk>
References: <49891687.6010607@htcomp.net>
	<24351554.1161233776917464.JavaMail.DELL-1405$@Dell-1405>
	<uIYLsVFgVfiJFwbn@dsl-217-155-35-239.zen.co.uk>
Message-ID: <e1202cb10902041213s7cd72c5k1d2ff3964ee6a7d9@mail.gmail.com>

On Wed, Feb 4, 2009 at 3:06 PM, mrmist <listswphackers@mist.org.uk> wrote:
> In message <24351554.1161233776917464.JavaMail.DELL-1405$@Dell-1405>, Mike
> Schinkel <mikeschinkel@newclarity.net> writes
>>
>> Thanks. I guess I really don't understand Codex. It's a wiki?  Does anyone
>> police it?

zomg. The codex is the collaborative documentation for Wordpress. It
has lots of problems because no one is really paid to make sure its
complete, but it tends to have most of the stuff that regular users
need to get going with wordpress (its mostly the dev articles that are
missing for new additions to core and stuff like that).

This whole conversation is pretty insane if you didn't know about the
Codex and its purpose, because it is the main place where API docs are
created and maintained. The problems we have with policing the  API
are 1) people don't read the codex and have incomplete knowledge of
the API as a result and 2) the codex is incomplete and so people have
to read the source to get full knowledge of the API. It is a key tool
in the War on Bad Code.

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From mikeschinkel at newclarity.net  Wed Feb  4 20:34:47 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 20:36:18 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <18307714.1241233779475046.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <5256698.1261233779697826.JavaMail.DELL-1405$@Dell-1405>

"Jeremy Clarke" <jer-wphackers@simianuprising.com> wrote:
> This whole conversation is pretty insane if you didn't 
> know about the Codex and its purpose, 

I *know* about the Codex. I've read it many times and have my bookmarks to key pages. And I've quoted it for others several times on this list.

I however have always felt it was discombobulated, and never knew it was a wiki.

I also guess I struggle with the branding; I mean what the heck does "Codex" mean?  Why not just "Docs" on WordPress.org?  The name is probably the most confusing part about it because unless you know what it means you don't know what it means. Jakob Nielsen would not approve.  But I'm sure those who've been with WordPress for years have an emotional attachment to the name so I wouldn't propose changing its name for fear of starting a firestorm.

-Mike Schinkel
http://mikeschinkel.com/
From cclarkson at htcomp.net  Wed Feb  4 20:52:13 2009
From: cclarkson at htcomp.net (Charles K. Clarkson)
Date: Wed Feb  4 20:52:33 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <24351554.1161233776917464.JavaMail.DELL-1405$@Dell-1405>
References: <24351554.1161233776917464.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <4989FFFD.20306@htcomp.net>

Mike Schinkel wrote:

> Thanks. I guess I really don't understand Codex. It's a wiki?  Does anyone police it?

     Yes and yes.

     See: http://codex.wordpress.org/Codex:Community_Portal


HTH,

Charles Clarkson
-- 
Mobile Home Investor
Free Market Advocate
Programmer

Stephenville, TX
http://www.clarksonenergyhomes.com/wordpress/about/
http://twitter.com/CharlesClarkson
+1 (254) 968-8328
From mikeschinkel at newclarity.net  Wed Feb  4 20:51:18 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 20:53:26 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:
	Proposing  Optional Modules.
In-Reply-To: <32687175.1281233779973865.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <29231342.1301233780686079.JavaMail.DELL-1405$@Dell-1405>

The biggest thing I've noticed is that when people bring up discussion of items that could be considered for core and the influentials on the list say "Shouldn't be in core" then all discussion drops.

I get the feeling that this list is for discussions of additions to core and/or for help on how to implement code. Please tell me if I'm wrong. Are you saying that we can discuss the best way to implement a shared Twitter API on this list?

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "scribu" <scribu@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Wednesday, February 4, 2009 1:21:22 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes: Proposing  Optional Modules.

On Wed, Feb 4, 2009 at 8:14 PM, Jeremy Clarke <
jer-wphackers@simianuprising.com> wrote:

> The only things I've seen people get hassled for here are 1)
> frustrating bikeshed arguments like php5 and 2) user support questions
> that should be handled on the forums. Plugin programming and API
> questions usually get a great reception.
>

Yes, you're right. I was thinking of support questions.

-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Wed Feb  4 20:56:53 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 20:58:03 2009
Subject: [wp-hackers] <title> tag different than set in header.php?
In-Reply-To: <349fe48b0902041021j3f89bacbxd0470f3e6b2d3bf9@mail.gmail.com>
Message-ID: <29571842.1321233781021367.JavaMail.DELL-1405$@Dell-1405>

This one is driving me crazy.

I have a header.php that emits the <title> tag and the title the browser sees if different from the html my code generates. I'm using a single step debugger and to test it I kill the execution immediately after I run (the equivalent of) the following like: 

echo '<title>Foo</title>';

However what shows up in my browser's view source is (something like):

<title>Bar</title>

Is there some hook I'm not seeing that does this?  Is there some place in the admin where "Bar" is set that I can't find?  Does anyone have any idea how this is happening? (I'm sure I'll realize it was stupid once I figure it out, but until then I'm just scratching my head going "WTF?!?")

Thanks in advance.

-Mike Schinkel
http://mikeschinkel.com/
From mdmartz at sivel.net  Wed Feb  4 20:59:49 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Wed Feb  4 21:00:00 2009
Subject: [wp-hackers] <title> tag different than set in header.php?
In-Reply-To: <29571842.1321233781021367.JavaMail.DELL-1405$@Dell-1405>
References: <349fe48b0902041021j3f89bacbxd0470f3e6b2d3bf9@mail.gmail.com>
	<29571842.1321233781021367.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <518fa9630902041259g414102adne1ba6beb9e569e65@mail.gmail.com>

On Wed, Feb 4, 2009 at 3:56 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> This one is driving me crazy.
>
> I have a header.php that emits the <title> tag and the title the browser sees if different from the html my code generates. I'm using a single step debugger and to test it I kill the execution immediately after I run (the equivalent of) the following like:
>
> echo '<title>Foo</title>';
>
> However what shows up in my browser's view source is (something like):
>
> <title>Bar</title>
>
> Is there some hook I'm not seeing that does this?  Is there some place in the admin where "Bar" is set that I can't find?  Does anyone have any idea how this is happening? (I'm sure I'll realize it was stupid once I figure it out, but until then I'm just scratching my head going "WTF?!?")
>
> Thanks in advance.
>
> -Mike Schinkel
> http://mikeschinkel.com/

Please keep in mind that this mailing list is not a support list.  You
should direct support requests to http://wordpress.org/support/

-- 
Matt Martz
matt@sivel.net
From sj at sawtoothid.com  Wed Feb  4 21:17:13 2009
From: sj at sawtoothid.com (Steve Johnson)
Date: Wed Feb  4 21:17:18 2009
Subject: [wp-hackers] Less than Core,
	More than Plugins/Themes:Proposing  Optional Modules.
In-Reply-To: <29231342.1301233780686079.JavaMail.DELL-1405$@Dell-1405>
References: <32687175.1281233779973865.JavaMail.DELL-1405$@Dell-1405>
	<29231342.1301233780686079.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <D4D199651A7244CAB862504BFA7B6DE6@sawtooth>

> The biggest thing I've noticed is that when people bring up discussion of items that
> could be considered for core and the influentials on the list say "Shouldn't be in core"
> then all discussion drops.

Why beat a dead horse? Consensus is that it doesn't belong in core. If your arguments are not accepted, let it die or at least hibernate for the winter. It's like the kid who argues for hours when mom tells him "no".

> Are you saying that we can discuss the best way to implement a shared Twitter API on > this list?

We discuss everything else, why not that? But beyond that, what's the big deal about starting a mailman list and adding notification to the Codex? The list doesn't have to be permanent and would filter out the noise for those who aren't interested.

Steve Johnson



> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of Mike Schinkel
> Sent: Wednesday, February 04, 2009 1:51 PM
> To: wp-hackers@lists.automattic.com
> Subject: Re: [wp-hackers] Less than Core, More than Plugins/Themes:Proposing
> Optional Modules.
> 
> The biggest thing I've noticed is that when people bring up discussion of items that
> could be considered for core and the influentials on the list say "Shouldn't be in core"
> then all discussion drops.
> 
> I get the feeling that this list is for discussions of additions to core and/or for help on
> how to implement code. Please tell me if I'm wrong. Are you saying that we can
> discuss the best way to implement a shared Twitter API on this list?
> 
> -Mike Schinkel
> http://mikeschinkel.com/m/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Wed Feb  4 21:34:00 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 21:34:16 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:Proposing
	Optional Modules.
In-Reply-To: <D4D199651A7244CAB862504BFA7B6DE6@sawtooth>
Message-ID: <18062323.1411233783251389.JavaMail.DELL-1405$@Dell-1405>

"Steve Johnson" <sj@sawtoothid.com> wrote:
> Why beat a dead horse? Consensus is that it doesn't belong 
> in core. If your arguments are not accepted, let it die or 
> at least hibernate for the winter. It's like the kid who 
> argues for hours when mom tells him "no".

How was I beating a dead horse? I was moving on to another question; getting clarification on what's appropriate for discussion on this list. How is that beating a dead horse?

> We discuss everything else, why not that? 

That's not been my observation.

> But beyond that, what's the big deal about starting a mailman 
> list and adding notification to the Codex? The list doesn't 
> have to be permanent and would filter out the noise for 
> those who aren't interested.

I've come to that conclusion.

-Mike Schinkel
http://mikeschinkel.com/

From if.website at gmail.com  Wed Feb  4 21:37:41 2009
From: if.website at gmail.com (Austin Matzko)
Date: Wed Feb  4 21:37:51 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <5256698.1261233779697826.JavaMail.DELL-1405$@Dell-1405>
References: <18307714.1241233779475046.JavaMail.DELL-1405$@Dell-1405>
	<5256698.1261233779697826.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <674b4a3b0902041337x60a51912uda325ddca40dac34@mail.gmail.com>

On Wed, Feb 4, 2009 at 2:34 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> I also guess I struggle with the branding; I mean what the heck does "Codex" mean?  Why not just "Docs" on WordPress.org?  The name is probably the most confusing part about it because unless you know what it means you don't know what it means. Jakob Nielsen would not approve.  But I'm sure those who've been with WordPress for years have an emotional attachment to the name so I wouldn't propose changing its name for fear of starting a firestorm.

"Docs" on WordPress.org links to the Codex and if you google
"WordPress Docs" it's the first result, so it all works out okay.
From sj at sawtoothid.com  Wed Feb  4 21:53:19 2009
From: sj at sawtoothid.com (Steve Johnson)
Date: Wed Feb  4 21:53:42 2009
Subject: [wp-hackers] Less than Core,
	More than Plugins/Themes:ProposingOptional Modules.
In-Reply-To: <18062323.1411233783251389.JavaMail.DELL-1405$@Dell-1405>
References: <D4D199651A7244CAB862504BFA7B6DE6@sawtooth>
	<18062323.1411233783251389.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <E8FE4922B1DC4EC2814B2C465683B154@sawtooth>

Mike Schinkel wrote,
> How was I beating a dead horse? I was moving on to another question; getting
> clarification on what's appropriate for discussion on this list. How is that beating a
> dead horse?

I was speaking in general, the "your arguments" phrase was not directed at you specifically. I was responding to your statement that when the powers-that-be decide something isn't appropriate for core, discussion ends.

I guess we know what's appropriate to discuss by the response we get? If we're told to 'take it off the list', I think that'd be a pretty good indication. :-)

Steve Johnson

From otto at ottodestruct.com  Wed Feb  4 21:57:05 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Feb  4 21:57:14 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <5256698.1261233779697826.JavaMail.DELL-1405$@Dell-1405>
References: <18307714.1241233779475046.JavaMail.DELL-1405$@Dell-1405>
	<5256698.1261233779697826.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <161617690902041357o5bfc348ap4ae2e6619e2d99f5@mail.gmail.com>

On Wed, Feb 4, 2009 at 2:34 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> I also guess I struggle with the branding; I mean what the heck does "Codex" mean?

Ahh, English has failed us once again.

The word "codex" is another word for "book", as in the style of
books... with pages that are bound together and which have a cover.
Before humanity figured out how to make a codex, they used scrolls,
mostly.

The term "codex" is more commonly used nowadays for manuscripts, or
books which are handwritten only, as opposed to printed books. So, if
you consider it in that sense, the "handwritten" aspect of it tends to
also imply "poorly edited", which I think describes a wiki quite well,
actually. :)

-Otto
From zamoose at gmail.com  Wed Feb  4 22:00:40 2009
From: zamoose at gmail.com (zamoose@gmail.com)
Date: Wed Feb  4 22:00:52 2009
Subject: [wp-hackers] Less than Core,
	More than Plugins/Themes:Proposing Optional Modules.
In-Reply-To: <18062323.1411233783251389.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <0016361648992649a104621eeb6d@google.com>

Mike:
John Gruber linked to an interesting post from a former Googler (now  
FriendFeeder?) called "Communicating With Code":

http://paulbuchheit.blogspot.com/2009/01/communicating-with-code.html

The crux of the argument is that points made in the abstract are very  
difficult to get folks to see the implications of, let alone throw their  
weight behind, so whip something up (a rapid prototype, if you will) and  
even if it sucks, it'll get folks talking and then something GOOD will  
likely result.

It really seems as if your arguments are not reaching at least a segment of  
the population here on this list. So, I'd advocate that you flesh something  
out and propose it, either via a Trac ticket w/patch, a blog post  
describing your change[s] to the core to allow for micromessaging support,  
or heck, even a diagram describing a process you'd like to see the WP  
community adopt, then send the link to the list. We can comment on tickets  
or on posts and, hopefully, get a more focused discussion going without  
further clogging up the mailing list.

-Doug
http://literalbarrage.org/blog/
From otto at ottodestruct.com  Wed Feb  4 22:01:22 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Feb  4 22:01:43 2009
Subject: [wp-hackers] Why does wp_page_menu exist?
In-Reply-To: <F11C9716-3917-43C6-AAFB-5B9788B2F5C9@gmail.com>
References: <F11C9716-3917-43C6-AAFB-5B9788B2F5C9@gmail.com>
Message-ID: <161617690902041401v5fc31a74hb0f44ac29cb9831c@mail.gmail.com>

On Wed, Feb 4, 2009 at 2:00 PM, Dan Gayle <dangayle@gmail.com> wrote:
> Why does wp_page_menu exist? The functionality is LESS than wp_list_pages.
> For example, what if one doesn't want to have sub-pages listed? You can't if
> you choose to use wp_page_menu. In fact, it provides half of the
> functionality of wp_list_pages, while only allowing the additional use of
> adding a link to the home page, which is easily done like this:
>
> <ul id="navigation">
>        <li><a href="<?php echo get_option('home'); ?>" rtitle="<?php
> bloginfo('name'); ?> Home Page">Home</a></li>
>        <?php wp_list_pages('depth=1&sort_column=menu_order&title_li='); ?>
> </ul>
>
> So what was the reasoning behind adding a totally new function, when simply
> adding an additional option to wp_list_pages would have done the trick?

The function wp_page_menu supports everything wp_list_pages does,
along with the ability to add the home link. It's an extension to
wp_list_pages, not a replacement for it.

As for why a new function was added, I expect that it's for both
future expansion and to maintain backwards compatibility.

-Otto
From zamoose at gmail.com  Wed Feb  4 22:03:51 2009
From: zamoose at gmail.com (zamoose@gmail.com)
Date: Wed Feb  4 22:04:02 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <161617690902041357o5bfc348ap4ae2e6619e2d99f5@mail.gmail.com>
Message-ID: <00163630f1d783f75c04621ef662@google.com>

On Feb 4, 2009 4:57pm, Otto <otto@ottodestruct.com> wrote:

>
> Ahh, English has failed us once again.
>
>
>
> The word "codex" is another word for "book", as in the style of
>
> books... with pages that are bound together and which have a cover.
>
> Before humanity figured out how to make a codex, they used scrolls,
>
> mostly.
>
>
>
> The term "codex" is more commonly used nowadays for manuscripts, or
>
> books which are handwritten only, as opposed to printed books. So, if
>
> you consider it in that sense, the "handwritten" aspect of it tends to
>
> also imply "poorly edited", which I think describes a wiki quite well,
>
> actually. :)
>
>


Apple's system dictionary defines it as "an ancient manuscript text in book  
form", which I thought was rather humorous (especially the "ancient" part,  
given the tendencies of some corners of the Codex... *grin*)

-Doug
http://literalbarrage.org/blog/
From peter.westwood at ftwr.co.uk  Wed Feb  4 22:03:13 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Feb  4 22:04:17 2009
Subject: [wp-hackers] Why does wp_page_menu exist?
In-Reply-To: <161617690902041401v5fc31a74hb0f44ac29cb9831c@mail.gmail.com>
References: <F11C9716-3917-43C6-AAFB-5B9788B2F5C9@gmail.com>
	<161617690902041401v5fc31a74hb0f44ac29cb9831c@mail.gmail.com>
Message-ID: <1AD6693C-9302-44F9-9D81-B57E53C54443@ftwr.co.uk>


On 4 Feb 2009, at 22:01, Otto wrote:
> As for why a new function was added, I expect that it's for both
> future expansion and to maintain backwards compatibility.

wp_page_menu is designed for all those themes that have a list of  
pages across the top.

(Maybe it was a little bit of a hint that having a nice theme with  
links to #,# and # is a little annoying IMHO)

wp_list_pages is more for a sidebar listing of pages.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From emmensetech at gmail.com  Wed Feb  4 22:12:51 2009
From: emmensetech at gmail.com (Aaron Brazell)
Date: Wed Feb  4 22:13:00 2009
Subject: [wp-hackers] Why does wp_page_menu exist?
In-Reply-To: <F11C9716-3917-43C6-AAFB-5B9788B2F5C9@gmail.com>
References: <F11C9716-3917-43C6-AAFB-5B9788B2F5C9@gmail.com>
Message-ID: <ca7320070902041412h3f8a9fcft222fedfe127190ab@mail.gmail.com>

On Wed, Feb 4, 2009 at 3:00 PM, Dan Gayle <dangayle@gmail.com> wrote:

> Why does wp_page_menu exist? The functionality is LESS than wp_list_pages.
> For example, what if one doesn't want to have sub-pages listed? You can't if
> you choose to use wp_page_menu. In fact, it provides half of the
> functionality of wp_list_pages, while only allowing the additional use of
> adding a link to the home page, which is easily done like this:
>
> <ul id="navigation">
>        <li><a href="<?php echo get_option('home'); ?>" rtitle="<?php
> bloginfo('name'); ?> Home Page">Home</a></li>
>        <?php wp_list_pages('depth=1&sort_column=menu_order&title_li='); ?>
> </ul>
>
> So what was the reasoning behind adding a totally new function, when simply
> adding an additional option to wp_list_pages would have done the trick?
>

As others have mentioned, its got full functionality of wp_list_pages().
Additionally, it's a nice wrapper template tag that I hope more people will
use. :)
From justmichaelh at gmail.com  Wed Feb  4 23:26:46 2009
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Wed Feb  4 23:26:51 2009
Subject: [wp-hackers] Why does wp_page_menu exist?
References: <F11C9716-3917-43C6-AAFB-5B9788B2F5C9@gmail.com><161617690902041401v5fc31a74hb0f44ac29cb9831c@mail.gmail.com>
	<1AD6693C-9302-44F9-9D81-B57E53C54443@ftwr.co.uk>
Message-ID: <02a001c98720$0c4e96b0$6701a8c0@dell8600>


From: "Peter Westwood"
> wp_page_menu is designed for all those themes that have a list of  pages 
> across the top.
...
> wp_list_pages is more for a sidebar listing of pages.


And as such, wp_page_menu does not support 'title_li=', while wp_list_pages 
does.



MichaelH

From mikeschinkel at newclarity.net  Wed Feb  4 23:27:23 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 23:28:16 2009
Subject: [wp-hackers] Less than Core, More than
	Plugins/Themes:ProposingOptional Modules.
In-Reply-To: <E8FE4922B1DC4EC2814B2C465683B154@sawtooth>
Message-ID: <25043500.1471233790051839.JavaMail.DELL-1405$@Dell-1405>

> I was speaking in general, the "your arguments" phrase was 
> not directed at you specifically. I was responding to your 
> statement that when the powers-that-be decide something 
> isn't appropriate for core, discussion ends.

I can see how my phrasing could have been misinterpreted.  I simply meant that it appeared to me that things that are not appropriate for core don't get discussed once someone says "No appropriate for core" even if the topic would have value outside of core.  Wasn't trying to imply that the decision regarding waht should go into core should be continuously open for discussion.

But I only say that to clarify, not to beat a dead horse. :)

-Mike Schinkel
http://mikeschinkel.com/

P.S. That said, anyone for PHP5...?   Sorry, couldn't resist. ;-p
From jeffro at jeffro2pt0.com  Wed Feb  4 23:31:45 2009
From: jeffro at jeffro2pt0.com (Jeff Chandler)
Date: Wed Feb  4 23:31:56 2009
Subject: [wp-hackers] What Is Considered Bloat?
Message-ID: <498A2561.3040000@jeffro2pt0.com>

I've been following the Plugins/Core Modules thread for awhile and in 
it, the word Bloated is mentioned quite a few times. I wanted to know, 
what is the criteria that has to be met for something to be considered 
added bloat? Is this a majority rules minority rights type of thing or 
is it strictly up to the core team to decide if it's bloat or not?

From lynne.pope at gmail.com  Wed Feb  4 23:32:49 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Wed Feb  4 23:33:06 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <161617690902041357o5bfc348ap4ae2e6619e2d99f5@mail.gmail.com>
References: <18307714.1241233779475046.JavaMail.DELL-1405$@Dell-1405>
	<5256698.1261233779697826.JavaMail.DELL-1405$@Dell-1405>
	<161617690902041357o5bfc348ap4ae2e6619e2d99f5@mail.gmail.com>
Message-ID: <427667db0902041532p5c600496mafb6a4d7286aef19@mail.gmail.com>

2009/2/5 Otto <otto@ottodestruct.com>

> On Wed, Feb 4, 2009 at 2:34 PM, Mike Schinkel
> <mikeschinkel@newclarity.net> wrote:
> > I also guess I struggle with the branding; I mean what the heck does
> "Codex" mean?
>
> Ahh, English has failed us once again.


Not really ;)
A codex also refers to a collection of laws, or of recipes (generally for
making medicines), while its diminutive form codicil is a supplement or
appendix.

It's not a term that is in common usage for modern works, but I always
thought WP's use of "codex" was a very clever play on the word. If you think
of the WP codex as a collection of recipes for WP and as a supplement or
appendix to the code the term makes a whole lot of sense.

Lynne
From mikeschinkel at newclarity.net  Wed Feb  4 23:32:04 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb  4 23:34:29 2009
Subject: [wp-hackers] Less than Core, More than Plugins/Themes:Proposing
	Optional Modules.
In-Reply-To: <0016361648992649a104621eeb6d@google.com>
Message-ID: <26546882.1581233790334566.JavaMail.DELL-1405$@Dell-1405>

Doug:

Excellent feedback, and very much thanks for the link. I look forward to reading it when I have time to ponder it in depth.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: zamoose@gmail.com
To: wp-hackers@lists.automattic.com
Sent: Wednesday, February 4, 2009 5:00:40 PM GMT -05:00 US/Canada Eastern
Subject: Re: Re: [wp-hackers] Less than Core, More than Plugins/Themes:Proposing Optional Modules.

Mike:
John Gruber linked to an interesting post from a former Googler (now  
FriendFeeder?) called "Communicating With Code":

http://paulbuchheit.blogspot.com/2009/01/communicating-with-code.html

The crux of the argument is that points made in the abstract are very  
difficult to get folks to see the implications of, let alone throw their  
weight behind, so whip something up (a rapid prototype, if you will) and  
even if it sucks, it'll get folks talking and then something GOOD will  
likely result.

It really seems as if your arguments are not reaching at least a segment of  
the population here on this list. So, I'd advocate that you flesh something  
out and propose it, either via a Trac ticket w/patch, a blog post  
describing your change[s] to the core to allow for micromessaging support,  
or heck, even a diagram describing a process you'd like to see the WP  
community adopt, then send the link to the list. We can comment on tickets  
or on posts and, hopefully, get a more focused discussion going without  
further clogging up the mailing list.

-Doug
http://literalbarrage.org/blog/
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From wp at xentek.net  Thu Feb  5 00:09:26 2009
From: wp at xentek.net (Eric Marden)
Date: Thu Feb  5 00:09:42 2009
Subject: [wp-hackers] What Is Considered Bloat?
In-Reply-To: <498A2561.3040000@jeffro2pt0.com>
References: <498A2561.3040000@jeffro2pt0.com>
Message-ID: <049C756C-4849-4EA2-8E2E-CD2B749F1CA2@xentek.net>

On Feb 4, 2009, at 6:31 PM, Jeff Chandler wrote:
> I've been following the Plugins/Core Modules thread for awhile and  
> in it, the word Bloated is mentioned quite a few times. I wanted to  
> know, what is the criteria that has to be met for something to be  
> considered added bloat? Is this a majority rules minority rights  
> type of thing or is it strictly up to the core team to decide if  
> it's bloat or not?

Anything not absolutely necessary for WordPress to complete its  
mission of being the best blogging platform on the planet is  
considered bloat. if code is added to satisfy an edge case scenario  
(like supporting a particular service)* would be considered bloating  
the core codebase. Everything else is fair game in plugin land.

- Eric Marden

* Non-Automattic services
From wp-hackers at striderweb.com  Wed Feb  4 22:26:05 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Feb  5 00:46:40 2009
Subject: [wp-hackers] don't rabidly connect upon installation
In-Reply-To: <45055a190902031553o10d83f1aq4776e39bc801231e@mail.gmail.com>
References: <87eiyfp07m.fsf@jidanni.org>
	<45055a190902031553o10d83f1aq4776e39bc801231e@mail.gmail.com>
Message-ID: <497224C5-FA6A-47F0-BB01-8805D07F9534@striderweb.com>

You might be able to do it with a custom install.php

On Feb 3, 2009, at 5:53 PM, DD32 wrote:

> In short, You cant.
>
> 2009/2/4  <jidanni@jidanni.org>:
>> Gentlemen, as you know when one installs and configures WordPress,
>> it immediately makes lots of net connections, even before one has a
>> chance to turn off such items from the screen options on the
>> dashboard.
>>
>> So how might one stop it even before it happens the first time?
>> Put something in the config file?
From yahgrp at poplarware.com  Thu Feb  5 01:43:33 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Thu Feb  5 01:41:09 2009
Subject: [wp-hackers] What Is Considered Bloat?
In-Reply-To: <049C756C-4849-4EA2-8E2E-CD2B749F1CA2@xentek.net>
References: <498A2561.3040000@jeffro2pt0.com>
	<049C756C-4849-4EA2-8E2E-CD2B749F1CA2@xentek.net>
Message-ID: <498A4445.3030304@poplarware.com>

Eric Marden wrote:
> Anything not absolutely necessary for WordPress to complete its mission 
> of being the best blogging platform on the planet is considered bloat. 

I would just like to point out that while the people who choose what 
gets committed to the official WP repository may not be open to adding 
your favorite feature to WP core, they usually will be open to the 
idea of adding a hook so your favorite feature will integrate well 
with WP without you having to branch your own version. (At least, 
that's been my experience.) Isn't that good enough?

I think the core features of WP are a pretty good subset of what most 
people need for blogging and basic web site CMS, and while I can think 
of a few plugins I might wish were in core, others would probably have 
a different list -- so probably the feature set is more or less right.

So I would amend Eric's statement to say "to complete its mission of 
being the best *extensible* blogging platform".  I don't think that is 
a bad thing.

     --Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From charles at cefm.ca  Thu Feb  5 02:38:36 2009
From: charles at cefm.ca (Charles E. Frees-Melvin)
Date: Thu Feb  5 02:39:07 2009
Subject: [wp-hackers] What Is Considered Bloat?
In-Reply-To: <498A4445.3030304@poplarware.com>
References: <498A2561.3040000@jeffro2pt0.com><049C756C-4849-4EA2-8E2E-CD2B749F1CA2@xentek.net>
	<498A4445.3030304@poplarware.com>
Message-ID: <A2DD2E08278C4E6691195CE54369AFDB@cefmpc1>

One bloat I find Is the many importers for everything. I think this should 
be a plugin(or module) that comes with WordPress and in on by default to 
allow you to delete it on mass or keep it like Hello Dolly/Akismat. Lets 
face it 99% of the time besides after the original install in is not really 
used.
----- Original Message ----- 
From: "Jennifer Hodgdon" <yahgrp@poplarware.com>
To: <wp-hackers@lists.automattic.com>
Sent: Wednesday, February 04, 2009 9:43 PM
Subject: Re: [wp-hackers] What Is Considered Bloat?


> Eric Marden wrote:
>> Anything not absolutely necessary for WordPress to complete its mission 
>> of being the best blogging platform on the planet is considered bloat.
>
> I would just like to point out that while the people who choose what gets 
> committed to the official WP repository may not be open to adding your 
> favorite feature to WP core, they usually will be open to the idea of 
> adding a hook so your favorite feature will integrate well with WP without 
> you having to branch your own version. (At least, that's been my 
> experience.) Isn't that good enough?
>
> I think the core features of WP are a pretty good subset of what most 
> people need for blogging and basic web site CMS, and while I can think of 
> a few plugins I might wish were in core, others would probably have a 
> different list -- so probably the feature set is more or less right.
>
> So I would amend Eric's statement to say "to complete its mission of being 
> the best *extensible* blogging platform".  I don't think that is a bad 
> thing.
>
>     --Jennifer
>
> -- 
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
>
> Drupal/WordPress Sites, Themes, Modules/Plugins
> Custom Web Programming, Web Databases
> PHP, Perl, MySQL, JavaScript, XML, AJAX
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From wp at xentek.net  Thu Feb  5 02:57:55 2009
From: wp at xentek.net (Eric Marden)
Date: Thu Feb  5 02:58:09 2009
Subject: [wp-hackers] What Is Considered Bloat?
In-Reply-To: <498A4445.3030304@poplarware.com>
References: <498A2561.3040000@jeffro2pt0.com>
	<049C756C-4849-4EA2-8E2E-CD2B749F1CA2@xentek.net>
	<498A4445.3030304@poplarware.com>
Message-ID: <9AD41159-D677-4E9B-AF39-B4E6B22A10B7@xentek.net>

Jennifer Hodgdon wrote:
> Eric Marden wrote:
>> Anything not absolutely necessary for WordPress to complete its  
>> mission of being the best blogging platform on the planet is  
>> considered bloat.
>
> I would just like to point out that while the people who choose what  
> gets committed to the official WP repository may not be open to  
> adding your favorite feature to WP core, they usually will be open  
> to the idea of adding a hook so your favorite feature will integrate  
> well with WP

Indeed. Even better if you provide a patch for said hook.

>
> So I would amend Eric's statement to say "to complete its mission of  
> being the best *extensible* blogging platform".  I don't think that  
> is a bad thing.
>

I knew I was missing something. Thanks.

-e
From dan at dancoulter.com  Thu Feb  5 04:28:22 2009
From: dan at dancoulter.com (Dan Coulter)
Date: Thu Feb  5 04:28:34 2009
Subject: [wp-hackers] Speaking of Sandbox...
Message-ID: <5dc2163e0902042028x659abbadtb3e0fd0080b8134d@mail.gmail.com>

Does anyone have plans to try to maintain and update Sandbox?  I'd be happy
to help contribute if a group is thinking about doing it.

-- 
Dan Coulter
http://dancoulter.com/
http://phpflickr.com/
http://blogsforbands.com/

Hey, I got nothing to do today but smile
-Simon and Garfunkel
From viper at viper007bond.com  Thu Feb  5 07:42:39 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Thu Feb  5 07:42:54 2009
Subject: [wp-hackers] What Is Considered Bloat?
In-Reply-To: <A2DD2E08278C4E6691195CE54369AFDB@cefmpc1>
References: <498A2561.3040000@jeffro2pt0.com>
	<049C756C-4849-4EA2-8E2E-CD2B749F1CA2@xentek.net>
	<498A4445.3030304@poplarware.com>
	<A2DD2E08278C4E6691195CE54369AFDB@cefmpc1>
Message-ID: <8f93a7390902042342p33b3d4d4wfdddca1d0816dd68@mail.gmail.com>

How in the world that bloat? It's not loaded on every page. It does not slow
down WordPress at all.

If you're concerned about having to upload the files or something, then
don't. Every single file in the "import" file is entirely optional.

Not to mention packing blogging software without having the ability to
migrate from other platforms is just silly.

On Wed, Feb 4, 2009 at 6:38 PM, Charles E. Frees-Melvin <charles@cefm.ca>wrote:

> One bloat I find Is the many importers for everything. I think this should
> be a plugin(or module) that comes with WordPress and in on by default to
> allow you to delete it on mass or keep it like Hello Dolly/Akismat. Lets
> face it 99% of the time besides after the original install in is not really
> used.
> ----- Original Message ----- From: "Jennifer Hodgdon" <
> yahgrp@poplarware.com>
> To: <wp-hackers@lists.automattic.com>
> Sent: Wednesday, February 04, 2009 9:43 PM
> Subject: Re: [wp-hackers] What Is Considered Bloat?
>
>
>
>  Eric Marden wrote:
>>
>>> Anything not absolutely necessary for WordPress to complete its mission
>>> of being the best blogging platform on the planet is considered bloat.
>>>
>>
>> I would just like to point out that while the people who choose what gets
>> committed to the official WP repository may not be open to adding your
>> favorite feature to WP core, they usually will be open to the idea of adding
>> a hook so your favorite feature will integrate well with WP without you
>> having to branch your own version. (At least, that's been my experience.)
>> Isn't that good enough?
>>
>> I think the core features of WP are a pretty good subset of what most
>> people need for blogging and basic web site CMS, and while I can think of a
>> few plugins I might wish were in core, others would probably have a
>> different list -- so probably the feature set is more or less right.
>>
>> So I would amend Eric's statement to say "to complete its mission of being
>> the best *extensible* blogging platform".  I don't think that is a bad
>> thing.
>>
>>    --Jennifer
>>
>> --
>> Jennifer Hodgdon * Poplar ProductivityWare
>> www.poplarware.com
>>
>> Drupal/WordPress Sites, Themes, Modules/Plugins
>> Custom Web Programming, Web Databases
>> PHP, Perl, MySQL, JavaScript, XML, AJAX
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From sudar at sudarmuthu.com  Thu Feb  5 08:36:43 2009
From: sudar at sudarmuthu.com (Sudar Muthu)
Date: Thu Feb  5 08:36:55 2009
Subject: [wp-hackers] Unexpected behaviour in WP_Query
In-Reply-To: <F359BF65-4855-4AD7-BAC2-AC19418CFEB1@ftwr.co.uk>
References: <485dd1460902041013x17ac4b1an3dcbcbc000952e73@mail.gmail.com>
	<349fe48b0902041019q1f2c0504p621a7d0d63735694@mail.gmail.com>
	<F359BF65-4855-4AD7-BAC2-AC19418CFEB1@ftwr.co.uk>
Message-ID: <485dd1460902050036t4b0e1cc1m26786216f20b6644@mail.gmail.com>

>
> That is from the good old days when posts only had one category ;-)
>

Thanks for clearing this up. I didn't know about it and I was breaking my
head for a couple of hours to figure this out.

By the way I will be very thankful if someone can tell me if there are any
other depreciated ones in the following list. Thanks

[ID]
[post_author]
[post_date]
[post_date_gmt]
[post_content]
[post_title]
[post_category]
[post_excerpt]
[post_status]
[comment_status]
[ping_status]
[post_password]
[post_name]
[to_ping]
[pinged]
[post_modified]
[post_modified_gmt]
[post_content_filtered]
[post_parent]
[guid]
[menu_order]
[post_type]
[post_mime_type]
[comment_count]

With Regards,
Sudar

http://SudarMuthu.com
http://twitter.com/sudarmuthu


On Wed, Feb 4, 2009 at 11:53 PM, Peter Westwood
<peter.westwood@ftwr.co.uk>wrote:

>
> On 4 Feb 2009, at 18:19, scribu wrote:
>
>  I think $post->post_category is a fossil from older versions and doesn't
>> serve any purpose.
>>
>
> Correct.
>
> That is from the good old days when posts only had one category ;-)
>
> westi
> --
> Peter Westwood
> http://blog.ftwr.co.uk | http://westi.wordpress.com
> C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From malaiac at gmail.com  Thu Feb  5 08:48:08 2009
From: malaiac at gmail.com (Malaiac)
Date: Thu Feb  5 08:48:17 2009
Subject: [wp-hackers] Importing massive amount of tags and linking them to
	objects
Message-ID: <59e7f3130902050048q5c370d4cl4ec058c2af873811@mail.gmail.com>

Is there an easy way to import 2000 tags and link them to posts ?
I browsed the wp-admin/import/*.php files, and didn't found any simple
way to do that.

Malaiac
From wordpress at dd32.id.au  Thu Feb  5 08:55:17 2009
From: wordpress at dd32.id.au (DD32)
Date: Thu Feb  5 08:55:31 2009
Subject: [wp-hackers] Importing massive amount of tags and linking them to
	objects
In-Reply-To: <59e7f3130902050048q5c370d4cl4ec058c2af873811@mail.gmail.com>
References: <59e7f3130902050048q5c370d4cl4ec058c2af873811@mail.gmail.com>
Message-ID: <45055a190902050055lf35a1dcia3088b81f27f563e@mail.gmail.com>

The question is:
Where are the tags coming from?
Are all 2000 tags being applied to every post?

You're most likely going to have to write a custom script if the latter.

2009/2/5 Malaiac <malaiac@gmail.com>:
> Is there an easy way to import 2000 tags and link them to posts ?
> I browsed the wp-admin/import/*.php files, and didn't found any simple
> way to do that.
>
> Malaiac
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From malaiac at gmail.com  Thu Feb  5 09:04:12 2009
From: malaiac at gmail.com (Malaiac)
Date: Thu Feb  5 09:04:21 2009
Subject: [wp-hackers] Importing massive amount of tags and linking them to
	objects
In-Reply-To: <45055a190902050055lf35a1dcia3088b81f27f563e@mail.gmail.com>
References: <59e7f3130902050048q5c370d4cl4ec058c2af873811@mail.gmail.com>
	<45055a190902050055lf35a1dcia3088b81f27f563e@mail.gmail.com>
Message-ID: <59e7f3130902050104k3abe2d06kdd569d8114a19c6f@mail.gmail.com>

2009/2/5 DD32 <wordpress@dd32.id.au>:
> The question is:
> Where are the tags coming from?
> Are all 2000 tags being applied to every post?
>
> You're most likely going to have to write a custom script if the latter.

Custom script is no problem.
Tags are in a php array (they come from a SQL table), with an (old) ID
and a name
Not all tags are applied to all posts.
From wordpress at dd32.id.au  Thu Feb  5 09:20:45 2009
From: wordpress at dd32.id.au (DD32)
Date: Thu Feb  5 09:23:43 2009
Subject: [wp-hackers] Importing massive amount of tags and linking them to
	objects
In-Reply-To: <59e7f3130902050104k3abe2d06kdd569d8114a19c6f@mail.gmail.com>
References: <59e7f3130902050048q5c370d4cl4ec058c2af873811@mail.gmail.com>
	<45055a190902050055lf35a1dcia3088b81f27f563e@mail.gmail.com>
	<59e7f3130902050104k3abe2d06kdd569d8114a19c6f@mail.gmail.com>
Message-ID: <45055a190902050120v18c7ebd1wb62d1ddd89410988@mail.gmail.com>

Looks like you'll want to look into:
wp_set_post_tags($post_id, $tags = '', $append = false);  (post.php,
line 1717 or there abouts)
then..

Just adding the tag names there should be fine, but you'll have to
check the function..  WP will automatically create the term i believe

2009/2/5 Malaiac <malaiac@gmail.com>:
> 2009/2/5 DD32 <wordpress@dd32.id.au>:
>> The question is:
>> Where are the tags coming from?
>> Are all 2000 tags being applied to every post?
>>
>> You're most likely going to have to write a custom script if the latter.
>
> Custom script is no problem.
> Tags are in a php array (they come from a SQL table), with an (old) ID
> and a name
> Not all tags are applied to all posts.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From kalle at wangstedt.net  Thu Feb  5 10:29:53 2009
From: kalle at wangstedt.net (=?ISO-8859-1?Q?Karl_W=E5ngstedt?=)
Date: Thu Feb  5 10:30:12 2009
Subject: [wp-hackers] Problem with custom TinyMCE button
Message-ID: <5830A8D6-5AA9-46CB-8962-C6E4689EA287@wangstedt.net>

Hi all

I'm not sure this is the right forum for this question. I've tried to  
get answers from elsewhere, but without any luck. So I turn to you,  
guys as I consider you the cr?me de la cr?me of the WP community.

I'm building an update to a site, and have decided to use xHTML5 to  
make use of the new <video> element. It doesn't really matter that I  
use xHTML5, the same happens if I use an <embed> or something else.

The idea of the plugin is to take the inserted link from the gallery- 
box, extract the link-URI and insert the new element with the link in  
the right place.

On my developing server I've used WP2.6.3, and now when it's time to  
release the site, I've upgraded to WP2.7.

But when I did that, I ran in to a problem with a custom TinyMCE  
button that I've built. The button is supposed to take a link to a  
video file (<a href="video.mov">) and convert it to a <video> element  
with the link intact inside it. The button works fine in 2.6, but in  
2.7 it removes the link from the editor and nothing gets inserted but  
a <span style="color: #000099; text-decoration: underline;"> </span>.

I'd really appreciate if someone could point me in the right direction.

The code for the button is:

			// Register button
			ed.addButton('videolink', {
				title : 'videolink.desc',
				image : url + '/img/videolink.gif',
				onclick : function() {
					// Add you own code to execute something on click
					
					var kewvalue = ed.selection.getContent({format : 'text'}); // Get  
the selected text
					var e = ed.dom.getParent(ed.selection.getNode(), 'A'); // Get the  
link
					var kewuri = ed.dom.getAttrib(e, 'href'); // The URL from the link
					// Add new code to replace the selected text
					ed.selection.setContent('<p class="align02"><video src="'+kewuri 
+'" controls="true"><a href="'+kewuri+'">'+kewvalue+'</a></video></p>');
				}
			});

Thank you
Karl W?ngstedt

----------------------------------
         W?ngstedt  nova
        www.wangstedt.net

Karl W?ngstedt       0278-61 12 33
Stenhuggarv?gen 3g   070-578 13 04
821 41  BOLLN?S
----------------------------------
Det h?r brevet skickades med en Macintosh fr?n Apple.
Garanterat virusfri med Mac OS X.
From paul at codehooligans.com  Thu Feb  5 16:00:14 2009
From: paul at codehooligans.com (Paul)
Date: Thu Feb  5 16:00:38 2009
Subject: [wp-hackers] Style guide for admin plugin interface??
Message-ID: <EFFAB707-7CCC-44A5-99CB-ABCE07C06709@codehooligans.com>

Looking to update one of my plugins and need some advice. I wrote a  
little plugin last year Simply Exclude http://wordpress.org/extend/plugins/simply-exclude/

This plugin has sort of a sub-menu. So when you click on Settings ->  
Simply Exclude there is a nav bar across the top containing sub  
options: "Manage Categories", "Manage Tags", "Manage Authors" and  
"Manage Pages".

The changes I'm making are mostly cosmetic. Just trying to update the  
sub-menu to be styled for wp 2.7. I'm looking this morning in the  
Codex for guidelines for plugin authors on styling such a sub-menu.  
Meaning I'd like to use some standard HTML code and let the default  
admin stylesheet take over. Much like when adding a table and using  
the default class="widefat". I see lots of information on coding  
plugins or course but very little (mostly outdated) information on  
building the plugin admin interface.

So looking for suggestions from the group or better if anyone has seen  
something like this in another plugin that would be great. and of  
course if there is a better suggestion for presenting sub-options to  
the user I'm open to that suggestion as well.

Thanks.

From frank at bueltge.de  Thu Feb  5 16:04:42 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Thu Feb  5 16:04:54 2009
Subject: [wp-hackers] Style guide for admin plugin interface??
In-Reply-To: <EFFAB707-7CCC-44A5-99CB-ABCE07C06709@codehooligans.com>
References: <EFFAB707-7CCC-44A5-99CB-ABCE07C06709@codehooligans.com>
Message-ID: <db047a770902050804w49809435q6d1ce66ada2ecff@mail.gmail.com>

http://bueltge.de/wordpress-25-plugin-style-guide/614/

this is a small styleguide for 2.5; you can also use thsi classes and IDs
also in 2.7.
The different is, in 2.7 give it a little bid more classes.

I hope, this help a little bid.
From paul at codehooligans.com  Thu Feb  5 16:08:00 2009
From: paul at codehooligans.com (Paul)
Date: Thu Feb  5 16:08:18 2009
Subject: [wp-hackers] Style guide for admin plugin interface??
In-Reply-To: <db047a770902050804w49809435q6d1ce66ada2ecff@mail.gmail.com>
References: <EFFAB707-7CCC-44A5-99CB-ABCE07C06709@codehooligans.com>
	<db047a770902050804w49809435q6d1ce66ada2ecff@mail.gmail.com>
Message-ID: <70227F44-539F-4988-95D6-5CBD52272241@codehooligans.com>

Awesome! Thanks Frank. So any chance this could be added to the Codex  
for others?

P-

On Feb 5, 2009, at 10:04 AM, Frank Bueltge wrote:

> http://bueltge.de/wordpress-25-plugin-style-guide/614/
>
> this is a small styleguide for 2.5; you can also use thsi classes  
> and IDs
> also in 2.7.
> The different is, in 2.7 give it a little bid more classes.
>
> I hope, this help a little bid.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ionfish at gmail.com  Thu Feb  5 16:13:34 2009
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Thu Feb  5 16:13:43 2009
Subject: [wp-hackers] Style guide for admin plugin interface??
In-Reply-To: <70227F44-539F-4988-95D6-5CBD52272241@codehooligans.com>
References: <EFFAB707-7CCC-44A5-99CB-ABCE07C06709@codehooligans.com>
	<db047a770902050804w49809435q6d1ce66ada2ecff@mail.gmail.com>
	<70227F44-539F-4988-95D6-5CBD52272241@codehooligans.com>
Message-ID: <fd3b80510902050813m525ddf9dg6bda3f5beee57635@mail.gmail.com>

2009/2/5 Paul <paul@codehooligans.com>:
> Awesome! Thanks Frank. So any chance this could be added to the Codex for
> others?

A Codex page detailing how to style admin pages would be a really
worthwhile addition if someone wants to take it on.
From admin at laptoptips.ca  Thu Feb  5 16:30:03 2009
From: admin at laptoptips.ca (Andrew Ozz)
Date: Thu Feb  5 16:32:09 2009
Subject: [wp-hackers] Problem with custom TinyMCE button
In-Reply-To: <5830A8D6-5AA9-46CB-8962-C6E4689EA287@wangstedt.net>
References: <5830A8D6-5AA9-46CB-8962-C6E4689EA287@wangstedt.net>
Message-ID: <498B140B.6060702@laptoptips.ca>

Did you add 'video' to the extended valid elements in TinyMCE? If no, 
something like this should work:

function my_extend_mce_settings($a) {
   if ( isset($a['extended_valid_elements']) )
     $a['extended_valid_elements'] .= ',video[*]';
   else
     $a['extended_valid_elements'] = 'video[*]';

   return $a;
}
add_filter('tiny_mce_before_init', 'my_extend_mce_settings');
From info at mindsharestudios.com  Thu Feb  5 16:51:59 2009
From: info at mindsharestudios.com (Mindshare Studios)
Date: Thu Feb  5 16:52:16 2009
Subject: [wp-hackers] Reporting WordPress exploits?
Message-ID: <003a01c987b2$1276e500$3764af00$@com>

Hi,

 

I was just wondering if there was a recommended procedure for reporting
WordPress security vulnerabilities. I have a site running 2.7 that has had
some hidden spam links injected into it, but this may have occurred before I
upgraded to the latest version. I'm going to completely wipe the server and
do a fresh install to be sure to get rid of the problems but I thought I'd
ask the list to see if anyone is interested in looking at the malicious code
(I've isolated at least three files containing bad code) or if this is worth
reporting.

 

Thanks,

Damian

From if.website at gmail.com  Thu Feb  5 17:02:03 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu Feb  5 17:03:04 2009
Subject: [wp-hackers] Reporting WordPress exploits?
In-Reply-To: <003a01c987b2$1276e500$3764af00$@com>
References: <003a01c987b2$1276e500$3764af00$@com>
Message-ID: <674b4a3b0902050902x79f74529qf9bab87ab8592b70@mail.gmail.com>

On Thu, Feb 5, 2009 at 10:51 AM, Mindshare Studios
<info@mindsharestudios.com> wrote:
> I was just wondering if there was a recommended procedure for reporting
> WordPress security vulnerabilities.

http://codex.wordpress.org/Submitting_Bugs#Reporting_security_issues
From lynne.pope at gmail.com  Thu Feb  5 17:01:06 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Thu Feb  5 17:05:31 2009
Subject: [wp-hackers] Reporting WordPress exploits?
In-Reply-To: <003a01c987b2$1276e500$3764af00$@com>
References: <003a01c987b2$1276e500$3764af00$@com>
Message-ID: <427667db0902050901k478d776es539dc6d0a7f1dc92@mail.gmail.com>

2009/2/6 Mindshare Studios <info@mindsharestudios.com>

> Hi,
>
> I was just wondering if there was a recommended procedure for reporting
> WordPress security vulnerabilities. I have a site running 2.7 that has had
> some hidden spam links injected into it, but this may have occurred before
> I
> upgraded to the latest version. I'm going to completely wipe the server and
> do a fresh install to be sure to get rid of the problems but I thought I'd
> ask the list to see if anyone is interested in looking at the malicious
> code
> (I've isolated at least three files containing bad code) or if this is
> worth
> reporting.


If you are certain its a WordPress security issue just send an email to
security@wordpress.org

You should first check your server logs to identify where the crackers or
bot got in and identify where the injection occurred. Even though you have
had WP files hacked the vulnerability may lie elsewhere on the server.

If it is a WordPress vulnerability the team will need to know as much
information as possible about your server environment, which plugins you are
using, and which theme. This will help them to isolate any issues.

Lynne
From info at mindsharestudios.com  Thu Feb  5 17:16:07 2009
From: info at mindsharestudios.com (Mindshare Studios)
Date: Thu Feb  5 17:16:25 2009
Subject: [wp-hackers] Reporting WordPress exploits?
In-Reply-To: <427667db0902050901k478d776es539dc6d0a7f1dc92@mail.gmail.com>
References: <003a01c987b2$1276e500$3764af00$@com>
	<427667db0902050901k478d776es539dc6d0a7f1dc92@mail.gmail.com>
Message-ID: <004a01c987b5$70fa1e00$52ee5a00$@com>

Thanks!

Damian

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Lynne Pope
Sent: Thursday, February 05, 2009 10:01 AM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Reporting WordPress exploits?

2009/2/6 Mindshare Studios <info@mindsharestudios.com>

> Hi,
>
> I was just wondering if there was a recommended procedure for reporting
> WordPress security vulnerabilities. I have a site running 2.7 that has had
> some hidden spam links injected into it, but this may have occurred before
> I
> upgraded to the latest version. I'm going to completely wipe the server
and
> do a fresh install to be sure to get rid of the problems but I thought I'd
> ask the list to see if anyone is interested in looking at the malicious
> code
> (I've isolated at least three files containing bad code) or if this is
> worth
> reporting.


If you are certain its a WordPress security issue just send an email to
security@wordpress.org

You should first check your server logs to identify where the crackers or
bot got in and identify where the injection occurred. Even though you have
had WP files hacked the vulnerability may lie elsewhere on the server.

If it is a WordPress vulnerability the team will need to know as much
information as possible about your server environment, which plugins you are
using, and which theme. This will help them to isolate any issues.

Lynne
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From info at mindsharestudios.com  Thu Feb  5 17:19:44 2009
From: info at mindsharestudios.com (Mindshare Studios)
Date: Thu Feb  5 17:20:03 2009
Subject: [wp-hackers] Reporting WordPress exploits?
In-Reply-To: <427667db0902050901k478d776es539dc6d0a7f1dc92@mail.gmail.com>
References: <003a01c987b2$1276e500$3764af00$@com>
	<427667db0902050901k478d776es539dc6d0a7f1dc92@mail.gmail.com>
Message-ID: <004b01c987b5$f23faf20$d6bf0d60$@com>

Could you elaborate on how one might identify "where the injection
occurred"? What should I look for?

Thanks,
Damian

-----Original Message-----
From: wp-hackers-bounces@lists.automattic.com
[mailto:wp-hackers-bounces@lists.automattic.com] On Behalf Of Lynne Pope
Sent: Thursday, February 05, 2009 10:01 AM
To: wp-hackers@lists.automattic.com
Subject: Re: [wp-hackers] Reporting WordPress exploits?

2009/2/6 Mindshare Studios <info@mindsharestudios.com>

> Hi,
>
> I was just wondering if there was a recommended procedure for reporting
> WordPress security vulnerabilities. I have a site running 2.7 that has had
> some hidden spam links injected into it, but this may have occurred before
> I
> upgraded to the latest version. I'm going to completely wipe the server
and
> do a fresh install to be sure to get rid of the problems but I thought I'd
> ask the list to see if anyone is interested in looking at the malicious
> code
> (I've isolated at least three files containing bad code) or if this is
> worth
> reporting.


If you are certain its a WordPress security issue just send an email to
security@wordpress.org

You should first check your server logs to identify where the crackers or
bot got in and identify where the injection occurred. Even though you have
had WP files hacked the vulnerability may lie elsewhere on the server.

If it is a WordPress vulnerability the team will need to know as much
information as possible about your server environment, which plugins you are
using, and which theme. This will help them to isolate any issues.

Lynne
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers

From jess at funroe.net  Thu Feb  5 17:27:28 2009
From: jess at funroe.net (Jess Planck)
Date: Thu Feb  5 17:27:38 2009
Subject: [wp-hackers] Reporting WordPress exploits?
In-Reply-To: <004b01c987b5$f23faf20$d6bf0d60$@com>
References: <003a01c987b2$1276e500$3764af00$@com>
	<427667db0902050901k478d776es539dc6d0a7f1dc92@mail.gmail.com>
	<004b01c987b5$f23faf20$d6bf0d60$@com>
Message-ID: <7147A2AC-9A90-4C8B-9507-8EA5FCDDD482@funroe.net>

Sometimes you can check modification dates on files and match those  
times with dates in your raw web traffic logs. Also look for bizarre  
http strings and variables. If the server was compromised from the web  
and not fully compromised the information may be available. If the  
server was compromised by other means or fully compromised an intruder  
may be able to cover their tracks.

On Feb 5, 2009, at 11:19 AM, Mindshare Studios wrote:

> Could you elaborate on how one might identify "where the injection
> occurred"? What should I look for?

From beau at dentedreality.com.au  Thu Feb  5 17:34:13 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Thu Feb  5 17:34:24 2009
Subject: [wp-hackers] Style guide for admin plugin interface??
In-Reply-To: <fd3b80510902050813m525ddf9dg6bda3f5beee57635@mail.gmail.com>
References: <EFFAB707-7CCC-44A5-99CB-ABCE07C06709@codehooligans.com>
	<db047a770902050804w49809435q6d1ce66ada2ecff@mail.gmail.com>
	<70227F44-539F-4988-95D6-5CBD52272241@codehooligans.com>
	<fd3b80510902050813m525ddf9dg6bda3f5beee57635@mail.gmail.com>
Message-ID: <902424490902050934l6c3ec784o3a759365543a237e@mail.gmail.com>

What might also be interesting (and perhaps more future-friendly) is
if we could address all the common UI elements and provide
standardized WP functions for creating them. These functions could be
ported back to handle the existing wp-admin UI as well to make
everything more consistent.

Thoughts?

On 2/5/09, Benedict Eastaugh <ionfish@gmail.com> wrote:
> 2009/2/5 Paul <paul@codehooligans.com>:
>> Awesome! Thanks Frank. So any chance this could be added to the Codex for
>> others?
>
> A Codex page detailing how to style admin pages would be a really
> worthwhile addition if someone wants to take it on.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From paul at codehooligans.com  Thu Feb  5 17:39:01 2009
From: paul at codehooligans.com (Paul)
Date: Thu Feb  5 17:39:16 2009
Subject: [wp-hackers] Style guide for admin plugin interface??
In-Reply-To: <902424490902050934l6c3ec784o3a759365543a237e@mail.gmail.com>
References: <EFFAB707-7CCC-44A5-99CB-ABCE07C06709@codehooligans.com>
	<db047a770902050804w49809435q6d1ce66ada2ecff@mail.gmail.com>
	<70227F44-539F-4988-95D6-5CBD52272241@codehooligans.com>
	<fd3b80510902050813m525ddf9dg6bda3f5beee57635@mail.gmail.com>
	<902424490902050934l6c3ec784o3a759365543a237e@mail.gmail.com>
Message-ID: <969959F1-3041-4A14-90A2-D8925FC5131E@codehooligans.com>


On Feb 5, 2009, at 11:34 AM, Beau Lebens wrote:

> What might also be interesting (and perhaps more future-friendly) is
> if we could address all the common UI elements and provide
> standardized WP functions for creating them. These functions could be
> ported back to handle the existing wp-admin UI as well to make
> everything more consistent.
>
> Thoughts?
>

I agree 100% on that direction. In my opinion it's the right step  
forward in providing hooks for a standardized UI for the user which  
will be consistent across future design changes (or even possible  
theming) of the admin interface.

Question is how to begin?

Paul
From joost at yoast.com  Thu Feb  5 17:58:00 2009
From: joost at yoast.com (Joost de Valk)
Date: Thu Feb  5 17:58:23 2009
Subject: [wp-hackers] Style guide for admin plugin interface??
In-Reply-To: <969959F1-3041-4A14-90A2-D8925FC5131E@codehooligans.com>
References: <EFFAB707-7CCC-44A5-99CB-ABCE07C06709@codehooligans.com>
	<db047a770902050804w49809435q6d1ce66ada2ecff@mail.gmail.com>
	<70227F44-539F-4988-95D6-5CBD52272241@codehooligans.com>
	<fd3b80510902050813m525ddf9dg6bda3f5beee57635@mail.gmail.com>
	<902424490902050934l6c3ec784o3a759365543a237e@mail.gmail.com>
	<969959F1-3041-4A14-90A2-D8925FC5131E@codehooligans.com>
Message-ID: <36CA4756-C2B7-4B60-AC92-2E166695ECE3@yoast.com>

I'd +1 that too. The hardest part of lots of plugins us the backend.

On 5 feb 2009, at 18:39, Paul <paul@codehooligans.com> wrote:

>
> On Feb 5, 2009, at 11:34 AM, Beau Lebens wrote:
>
>> What might also be interesting (and perhaps more future-friendly) is
>> if we could address all the common UI elements and provide
>> standardized WP functions for creating them. These functions could be
>> ported back to handle the existing wp-admin UI as well to make
>> everything more consistent.
>>
>> Thoughts?
>>
>
> I agree 100% on that direction. In my opinion it's the right step  
> forward in providing hooks for a standardized UI for the user which  
> will be consistent across future design changes (or even possible  
> theming) of the admin interface.
>
> Question is how to begin?
>
> Paul
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From wp at xentek.net  Thu Feb  5 17:58:45 2009
From: wp at xentek.net (Eric Marden)
Date: Thu Feb  5 17:59:03 2009
Subject: [wp-hackers] Style guide for admin plugin interface??
In-Reply-To: <969959F1-3041-4A14-90A2-D8925FC5131E@codehooligans.com>
References: <EFFAB707-7CCC-44A5-99CB-ABCE07C06709@codehooligans.com>
	<db047a770902050804w49809435q6d1ce66ada2ecff@mail.gmail.com>
	<70227F44-539F-4988-95D6-5CBD52272241@codehooligans.com>
	<fd3b80510902050813m525ddf9dg6bda3f5beee57635@mail.gmail.com>
	<902424490902050934l6c3ec784o3a759365543a237e@mail.gmail.com>
	<969959F1-3041-4A14-90A2-D8925FC5131E@codehooligans.com>
Message-ID: <26F41681-7936-420F-98D4-40678E5B8A20@xentek.net>

On Feb 5, 2009, at 12:39 PM, Paul wrote:

>
> On Feb 5, 2009, at 11:34 AM, Beau Lebens wrote:
>
>> What might also be interesting (and perhaps more future-friendly) is
>> if we could address all the common UI elements and provide
>> standardized WP functions for creating them. These functions could be
>> ported back to handle the existing wp-admin UI as well to make
>> everything more consistent.
>>
>> Thoughts?
>>
>
> I agree 100% on that direction. In my opinion it's the right step  
> forward in providing hooks for a standardized UI for the user which  
> will be consistent across future design changes (or even possible  
> theming) of the admin interface.
>
> Question is how to begin?
>
> Paul

++1

I've done my best with the plugins I write to use WP-Admin styles,  
color and layouts for my options screens, but it doesn't always work  
out. Being able to condense this down to a set of functions would be a  
great idea, especially if the rest of the admin utilizes the same  
function set... in other words its not just for plugin developers but  
for all of wp-admin.

Next step would probably be to identify which elements are in use and  
start to get a handle on what would be required out of this UI API.

-e
From wp at xentek.net  Thu Feb  5 18:01:50 2009
From: wp at xentek.net (Eric Marden)
Date: Thu Feb  5 18:02:01 2009
Subject: [wp-hackers] Reporting WordPress exploits?
In-Reply-To: <7147A2AC-9A90-4C8B-9507-8EA5FCDDD482@funroe.net>
References: <003a01c987b2$1276e500$3764af00$@com>
	<427667db0902050901k478d776es539dc6d0a7f1dc92@mail.gmail.com>
	<004b01c987b5$f23faf20$d6bf0d60$@com>
	<7147A2AC-9A90-4C8B-9507-8EA5FCDDD482@funroe.net>
Message-ID: <DA915C64-4344-4C29-B393-3DDB1FB3B39F@xentek.net>

>
> On Feb 5, 2009, at 11:19 AM, Mindshare Studios wrote:
>
>> Could you elaborate on how one might identify "where the injection
>> occurred"? What should I look for?
>

** Assuming Linux **

Also check the .bash_history files for the users on your site,  
especially for users like the one your web server runs under, your  
root user, and all others. Sometimes when they do cover their tracks,  
they will forget that all commands run are saved in .bash_history

-e
From dangayle at gmail.com  Thu Feb  5 18:03:31 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Thu Feb  5 18:03:45 2009
Subject: [wp-hackers] Why does wp_page_menu exist?
In-Reply-To: <ca7320070902041412h3f8a9fcft222fedfe127190ab@mail.gmail.com>
References: <F11C9716-3917-43C6-AAFB-5B9788B2F5C9@gmail.com>
	<ca7320070902041412h3f8a9fcft222fedfe127190ab@mail.gmail.com>
Message-ID: <FF32D4FE-0A80-494D-9C59-FDA3CB1D2289@gmail.com>


On Feb 4, 2009, at 2:12 PM, Aaron Brazell wrote:
> As others have mentioned, its got full functionality of  
> wp_list_pages().
> Additionally, it's a nice wrapper template tag that I hope more  
> people will
> use. :)

After looking at the actual function in post-template.php, I actually  
DO like it. It saves a bit of work, actually. Nice job.

Of course, the Codex documentation is really lacking. The fact that it  
never mentions that you can use all of wp_list_pages arguments is, I  
think, a glaring omission that I will rectify.
From mpwalsh8 at gmail.com  Thu Feb  5 18:10:41 2009
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Thu Feb  5 18:10:55 2009
Subject: [wp-hackers] Speaking of Sandbox...
In-Reply-To: <5dc2163e0902042028x659abbadtb3e0fd0080b8134d@mail.gmail.com>
References: <5dc2163e0902042028x659abbadtb3e0fd0080b8134d@mail.gmail.com>
Message-ID: <bd35beb50902051010l64fcd552hf6f403dca3e42bc5@mail.gmail.com>

Well Sanbox is looking for a new home, see this:

http://www.plaintxt.org/2009/01/looking-for-a-wordpress-brand/

I'd like to see someone pick it up and continue as think this sort of
framework would be really useful to have.

Mike

On Wed, Feb 4, 2009 at 11:28 PM, Dan Coulter <dan@dancoulter.com> wrote:
> Does anyone have plans to try to maintain and update Sandbox?  I'd be happy
> to help contribute if a group is thinking about doing it.
>
> --
> Dan Coulter
> http://dancoulter.com/
> http://phpflickr.com/
> http://blogsforbands.com/
>
> Hey, I got nothing to do today but smile
> -Simon and Garfunkel
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mwalters8 at gmail.com  Thu Feb  5 18:45:10 2009
From: mwalters8 at gmail.com (Matt Walters)
Date: Thu Feb  5 18:45:25 2009
Subject: [wp-hackers] Speaking of Sandbox...
In-Reply-To: <bd35beb50902051010l64fcd552hf6f403dca3e42bc5@mail.gmail.com>
References: <5dc2163e0902042028x659abbadtb3e0fd0080b8134d@mail.gmail.com>
	<bd35beb50902051010l64fcd552hf6f403dca3e42bc5@mail.gmail.com>
Message-ID: <5dbff0c70902051045wfd6dab6k228b5fb0d547b342@mail.gmail.com>

Actually, I contacted him regarding it within the past week.  He said
he'd already found a buyer and they planned to continue work on the
project.  I told him if that person wanted any help to pass on my
information, but was not told who the other party is.

So, anyhow, hopefully we'll see it continue to be developed.

---------------------------------
Matt Walters




On Thu, Feb 5, 2009 at 1:10 PM, Mike Walsh <mpwalsh8@gmail.com> wrote:
> Well Sanbox is looking for a new home, see this:
>
> http://www.plaintxt.org/2009/01/looking-for-a-wordpress-brand/
>
> I'd like to see someone pick it up and continue as think this sort of
> framework would be really useful to have.
>
> Mike
>
> On Wed, Feb 4, 2009 at 11:28 PM, Dan Coulter <dan@dancoulter.com> wrote:
>> Does anyone have plans to try to maintain and update Sandbox?  I'd be happy
>> to help contribute if a group is thinking about doing it.
>>
>> --
>> Dan Coulter
>> http://dancoulter.com/
>> http://phpflickr.com/
>> http://blogsforbands.com/
>>
>> Hey, I got nothing to do today but smile
>> -Simon and Garfunkel
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Thu Feb  5 18:51:34 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Feb  5 18:52:16 2009
Subject: [wp-hackers] Style guide for admin plugin interface??
In-Reply-To: <902424490902050934l6c3ec784o3a759365543a237e@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl14CpZ7ef173fe9c85bf4acf8d1f,
	mikeschinkel@newclarity.net, 7726798.61233859898908.J>

"Beau Lebens" <beau@dentedreality.com.au> wrote:
> What might also be interesting (and perhaps more 
> future-friendly) is if we could address all the 
> common UI elements and provide standardized WP 
> functions for creating them. These functions 
> could be ported back to handle the existing 
> wp-admin UI as well to make everything more 
> consistent.

+1. 

Rich admin functionality is the thing that my custom plugins for clients lack the most and hence why I've not (yet) released the ones with generic functionality to the community. If rich admin functionality were easier, especially parent-child record editing functionality, I'd go a long way to making it easier for me to release my work for others to use.

-Mike Schinkel
http://mikeschinkel.com/

From cclarkson at htcomp.net  Thu Feb  5 19:17:04 2009
From: cclarkson at htcomp.net (Charles K. Clarkson)
Date: Thu Feb  5 19:17:30 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <427667db0902041532p5c600496mafb6a4d7286aef19@mail.gmail.com>
References: <18307714.1241233779475046.JavaMail.DELL-1405$@Dell-1405>	<5256698.1261233779697826.JavaMail.DELL-1405$@Dell-1405>	<161617690902041357o5bfc348ap4ae2e6619e2d99f5@mail.gmail.com>
	<427667db0902041532p5c600496mafb6a4d7286aef19@mail.gmail.com>
Message-ID: <498B3B30.4060304@htcomp.net>

Lynne Pope wrote:

> 2009/2/5 Otto <otto@ottodestruct.com>
> 
>> Ahh, English has failed us once again.
> 
> Not really ;)
> A codex also refers to a collection of laws, or of recipes (generally for
> making medicines), while its diminutive form codicil is a supplement or
> appendix.

     I think almost anyone with a D&D background would know what a Codex 
is without looking it up. Perhaps we don't have enough stereotypical 
nerds around here. Only new-fangled nerds.

     Why, when I was a young nerd, we had to walk five miles through the 
snow to get to ...



HTH,

Charles Clarkson
-- 
Mobile Home Investor
Free Market Advocate
Programmer

Stephenville, TX
http://www.clarksonenergyhomes.com/wordpress/about/
http://twitter.com/CharlesClarkson
+1 (254) 968-8328
From jer-wphackers at simianuprising.com  Thu Feb  5 19:22:36 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Thu Feb  5 19:22:48 2009
Subject: [wp-hackers] Proposal: Twitter Support in Core
In-Reply-To: <498B3B30.4060304@htcomp.net>
References: <18307714.1241233779475046.JavaMail.DELL-1405$@Dell-1405>
	<5256698.1261233779697826.JavaMail.DELL-1405$@Dell-1405>
	<161617690902041357o5bfc348ap4ae2e6619e2d99f5@mail.gmail.com>
	<427667db0902041532p5c600496mafb6a4d7286aef19@mail.gmail.com>
	<498B3B30.4060304@htcomp.net>
Message-ID: <e1202cb10902051122r7ea0ad79t859b79c2678fcc10@mail.gmail.com>

On Thu, Feb 5, 2009 at 2:17 PM, Charles K. Clarkson
<cclarkson@htcomp.net> wrote:
>    I think almost anyone with a D&D background would know what a Codex is
> without looking it up. Perhaps we don't have enough stereotypical nerds
> around here. Only new-fangled nerds.
>

Seriously. Didn't anyone play Warhammer?
http://en.wikipedia.org/wiki/Codex_(Warhammer_40,000)


-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From mikeschinkel at newclarity.net  Thu Feb  5 20:32:14 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Feb  5 20:35:51 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <17340213.261233865720139.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl14EWQf194e84cb44e72781faae7,
	mikeschinkel@newclarity.net, 20876601.281233865940627.J>

Hi all: 


I'm trying to write a plugin that uses jQuery and would like to get it from the Google AJAX hosting [1] using wp_enqueue_script() [2] like so: 

wp_enqueue_script('jquery',"http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js",array(),'1.2.6'); 

However, what is emitted as a response to the browser is: 

<script type='text/javascript' src='http://upsracing.loc/wp-includes/js/jquery/jquery.js?ver=1.2.6'></script> 

Of course the scripts are the same but I'd like to get that tiny extra "oomph" from the liklihood someone already has the script cached from another site. 

Anyone know how do disable the default jQuery script generation so it will use the Google AJAX one? Thanks in advance. 

-Mike Schinkel 
http://mikeschinkel.com/ 

[1] http://code.google.com/apis/ajaxlibs/ 
[2] http://codex.wordpress.org/Function_Reference/wp_enqueue_script 
From if.website at gmail.com  Thu Feb  5 20:39:48 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu Feb  5 20:40:01 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <-6298294100775923544@unknownmsgid>
References: <17340213.261233865720139.JavaMail.DELL-1405$@Dell-1405>
	<-6298294100775923544@unknownmsgid>
Message-ID: <674b4a3b0902051239o61dbed6ayf03682e562c2e8e5@mail.gmail.com>

On Thu, Feb 5, 2009 at 2:32 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Anyone know how do disable the default jQuery script generation so it will use the Google AJAX one? Thanks in advance.


wp_deregister_script('jquery');
wp_enqueue_script('jquery',"http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js",array(),'1.2.6');
From dangayle at gmail.com  Thu Feb  5 20:40:03 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Thu Feb  5 20:40:16 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <EMEWEMEW2_DELIMl14EWQf194e84cb44e72781faae7,
	mikeschinkel@newclarity.net, 20876601.281233865940627.J>
References: <EMEWEMEW2_DELIMl14EWQf194e84cb44e72781faae7,
	mikeschinkel@newclarity.net, 20876601.281233865940627.J>
Message-ID: <00CEAABC-C0F7-42EC-A65E-3F5A1A745A92@gmail.com>

> I'm trying to write a plugin that uses jQuery and would like to get  
> it from the Google AJAX hosting [1] using wp_enqueue_script() [2]  
> like so:
>
> wp_enqueue_script('jquery',"http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js 
> ",array(),'1.2.6');
>
> However, what is emitted as a response to the browser is:
>
> <script type='text/javascript' src='http://upsracing.loc/wp-includes/js/jquery/jquery.js?ver=1.2.6' 
> ></script>
>
> Of course the scripts are the same but I'd like to get that tiny  
> extra "oomph" from the liklihood someone already has the script  
> cached from another site.
>
> Anyone know how do disable the default jQuery script generation so  
> it will use the Google AJAX one? Thanks in advance.

+1

That's exactly the same issue that I was working on with our lead  
programmer. He doesn't see the point in using Google's jQuery, but I  
keep nagging him about it.
From dangayle at gmail.com  Thu Feb  5 20:46:55 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Thu Feb  5 20:51:26 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <674b4a3b0902051239o61dbed6ayf03682e562c2e8e5@mail.gmail.com>
References: <17340213.261233865720139.JavaMail.DELL-1405$@Dell-1405>
	<-6298294100775923544@unknownmsgid>
	<674b4a3b0902051239o61dbed6ayf03682e562c2e8e5@mail.gmail.com>
Message-ID: <48A016FD-B836-469F-BD2D-70056694089E@gmail.com>


On Feb 5, 2009, at 12:39 PM, Austin Matzko wrote:

> On Thu, Feb 5, 2009 at 2:32 PM, Mike Schinkel
> <mikeschinkel@newclarity.net> wrote:
>> Anyone know how do disable the default jQuery script generation so  
>> it will use the Google AJAX one? Thanks in advance.
>
>
> wp_deregister_script('jquery');
> wp_enqueue_script('jquery',"http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js 
> ",array(),'1.2.6');
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

How would a person make a fallback, in case *crosses fingers* Google's  
jQuery is unavailable?
From mikeschinkel at newclarity.net  Thu Feb  5 20:51:47 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Feb  5 20:52:20 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <00CEAABC-C0F7-42EC-A65E-3F5A1A745A92@gmail.com>
Message-ID: <EMEWEMEW2_DELIMl14Epl9ed71a36142a7cdfd5a3bb,
	mikeschinkel@newclarity.net, 5386920.301233867109939.J>

"Austin Matzko" <if.website@gmail.com> wrote:
> wp_deregister_script('jquery');

Thanks Austin. It's so obvious now that you explain it...

BTW, I'm using your Flag Comments plugin for another big company's website; was so happy to find it was so close to exactly what we needed. Thanks here too!

"Dan Gayle" <dangayle@gmail.com> wrote:
> That's exactly the same issue that I was working on 
> with our lead programmer. He doesn't see the point in 
> using Google's jQuery, but I keep nagging him about it.

Send him this thread. ;-)

-Mike Schinkel
http://mikeschinkel.com/
From ryanmccue at cubegames.net  Thu Feb  5 21:05:39 2009
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Thu Feb  5 21:06:03 2009
Subject: [wp-hackers] Style guide for admin plugin interface??
In-Reply-To: <902424490902050934l6c3ec784o3a759365543a237e@mail.gmail.com>
References: <EFFAB707-7CCC-44A5-99CB-ABCE07C06709@codehooligans.com>	<db047a770902050804w49809435q6d1ce66ada2ecff@mail.gmail.com>	<70227F44-539F-4988-95D6-5CBD52272241@codehooligans.com>	<fd3b80510902050813m525ddf9dg6bda3f5beee57635@mail.gmail.com>
	<902424490902050934l6c3ec784o3a759365543a237e@mail.gmail.com>
Message-ID: <498B54A3.3080808@cubegames.net>

Beau Lebens wrote:
> What might also be interesting (and perhaps more future-friendly) is
> if we could address all the common UI elements and provide
> standardized WP functions for creating them. These functions could be
> ported back to handle the existing wp-admin UI as well to make
> everything more consistent.
>
> Thoughts?
>   

+1 for this. I always leave admin pages to last in plugins at the
moment, because they are a time sink.

I'm also willing to code it up too, if no one else wants to.

-- 
Ryan McCue
<http://cubegames.net/>

From justmichaelh at gmail.com  Thu Feb  5 21:25:32 2009
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Thu Feb  5 21:25:37 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
References: <EMEWEMEW2_DELIMl14Epl9ed71a36142a7cdfd5a3bb,
	mikeschinkel@newclarity.net, 5386920.301233867109939.J>
Message-ID: <060c01c987d8$4787d620$6701a8c0@dell8600>


From: "Mike Schinkel" <mikeschinkel@newclarity.net>
> BTW, I'm using your Flag Comments plugin for another big company's 
> website; was so happy to find it was so close to exactly what we needed. 
> Thanks here too!

Let's hope your customer is doing better than Austin does for his plugin 
work!

"This month I have received $1.00 for my plugin coding work"


MichaelH

From otto at ottodestruct.com  Thu Feb  5 21:32:54 2009
From: otto at ottodestruct.com (Otto)
Date: Thu Feb  5 21:33:09 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <674b4a3b0902051239o61dbed6ayf03682e562c2e8e5@mail.gmail.com>
References: <17340213.261233865720139.JavaMail.DELL-1405$@Dell-1405>
	<-6298294100775923544@unknownmsgid>
	<674b4a3b0902051239o61dbed6ayf03682e562c2e8e5@mail.gmail.com>
Message-ID: <161617690902051332g58cb487fp58ab4f66155ef0f7@mail.gmail.com>

A somewhat simpler approach:

http://wordpress.org/extend/plugins/use-google-libraries/

:-)

-Otto
From if.website at gmail.com  Thu Feb  5 21:40:08 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu Feb  5 21:40:16 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <060c01c987d8$4787d620$6701a8c0@dell8600>
References: <060c01c987d8$4787d620$6701a8c0@dell8600>
Message-ID: <674b4a3b0902051340p616fa8ao2a3f2488c9918437@mail.gmail.com>

On Thu, Feb 5, 2009 at 3:25 PM, Michael E. Hancock
<justmichaelh@gmail.com> wrote:
> Let's hope your customer is doing better than Austin does for his plugin
> work!
>
> "This month I have received $1.00 for my plugin coding work"

Heh.  That needed rewording.

I guess it's a good thing I'm not counting on the tip jar to pay the bills.
From gaarai at gaarai.com  Thu Feb  5 21:55:50 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Thu Feb  5 21:56:07 2009
Subject: [wp-hackers] Multiwidget Support
Message-ID: <498B6066.1080202@gaarai.com>

I've suffered through development of widgets that support multiple 
instances many times. Recently, I began wondering some things:

   1. Why is the method for producing multiwidgets so obscure and
      complicated?
   2. Why is there any need to support a single-instance widget?
   3. Why aren't all the core widgets multiwidgets?
   4. Couldn't the method of registering and controlling widgets be
      improved to automatically make all widgets multiwidgets?

Of course, for that last option to work, the storage mechanism would 
have to be standardized. That's not a bad idea though.

Thoughts?

-- 
Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/

From joost at yoast.com  Thu Feb  5 21:57:29 2009
From: joost at yoast.com (Joost de Valk)
Date: Thu Feb  5 21:57:46 2009
Subject: [wp-hackers] Multiwidget Support
In-Reply-To: <498B6066.1080202@gaarai.com>
References: <498B6066.1080202@gaarai.com>
Message-ID: <D1677DC5-FF84-4F1A-BBE9-8C5AE8E84EEA@yoast.com>

+1

I hate building multiple instanced widgets as well.

The amount of good ideas on the list seems to be going up rapidly, or  
is that just me paying more attention? :)

On Feb 5, 2009, at 10:55 PM, Chris Jean wrote:

> I've suffered through development of widgets that support multiple  
> instances many times. Recently, I began wondering some things:
>
>  1. Why is the method for producing multiwidgets so obscure and
>     complicated?
>  2. Why is there any need to support a single-instance widget?
>  3. Why aren't all the core widgets multiwidgets?
>  4. Couldn't the method of registering and controlling widgets be
>     improved to automatically make all widgets multiwidgets?
>
> Of course, for that last option to work, the storage mechanism would  
> have to be standardized. That's not a bad idea though.
>
> Thoughts?
>
> -- 
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> http://dnsyogi.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From if.website at gmail.com  Thu Feb  5 21:59:25 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu Feb  5 21:59:36 2009
Subject: [wp-hackers] Multiwidget Support
In-Reply-To: <498B6066.1080202@gaarai.com>
References: <498B6066.1080202@gaarai.com>
Message-ID: <674b4a3b0902051359g4aa0a608wdbb4247f1d50c0b4@mail.gmail.com>

On Thu, Feb 5, 2009 at 3:55 PM, Chris Jean <gaarai@gaarai.com> wrote:
> I've suffered through development of widgets that support multiple instances
> many times. Recently, I began wondering some things:
>
>  1. Why is the method for producing multiwidgets so obscure and
>     complicated?
>  2. Why is there any need to support a single-instance widget?
>  3. Why aren't all the core widgets multiwidgets?
>  4. Couldn't the method of registering and controlling widgets be
>     improved to automatically make all widgets multiwidgets?
>
> Of course, for that last option to work, the storage mechanism would have to
> be standardized. That's not a bad idea though.

I think this is a step in the right direction:

http://trac.wordpress.org/ticket/8441
From scribu at gmail.com  Thu Feb  5 22:13:26 2009
From: scribu at gmail.com (scribu)
Date: Thu Feb  5 22:13:38 2009
Subject: [wp-hackers] Multiwidget Support
In-Reply-To: <674b4a3b0902051359g4aa0a608wdbb4247f1d50c0b4@mail.gmail.com>
References: <498B6066.1080202@gaarai.com>
	<674b4a3b0902051359g4aa0a608wdbb4247f1d50c0b4@mail.gmail.com>
Message-ID: <349fe48b0902051413l5e5645cja64cf3a9552be805@mail.gmail.com>

On Thu, Feb 5, 2009 at 11:59 PM, Austin Matzko <if.website@gmail.com> wrote:

> On Thu, Feb 5, 2009 at 3:55 PM, Chris Jean <gaarai@gaarai.com> wrote:
> > I've suffered through development of widgets that support multiple
> instances
> > many times. Recently, I began wondering some things:
> >
> >  1. Why is the method for producing multiwidgets so obscure and
> >     complicated?
> >  2. Why is there any need to support a single-instance widget?
> >  3. Why aren't all the core widgets multiwidgets?
> >  4. Couldn't the method of registering and controlling widgets be
> >     improved to automatically make all widgets multiwidgets?
> >
> > Of course, for that last option to work, the storage mechanism would have
> to
> > be standardized. That's not a bad idea though.
>
> I think this is a step in the right direction:
>
> http://trac.wordpress.org/ticket/8441


+1 for core.

I was also thinking of making a class for multiple widgets. Thanks for
saving me the trouble.

Another thing, why do you have to register a widget after 'plugins_loaded' ?
By the way they are implemented, they still feel like part of a plugin, yet
you can't disable them from the plugins menu.

-- 
http://scribu.net
From mikeschinkel at newclarity.net  Thu Feb  5 22:12:29 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Feb  5 22:15:10 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <674b4a3b0902051340p616fa8ao2a3f2488c9918437@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl14GCU94f12d08336b2d05105a3b,
	mikeschinkel@newclarity.net, 4858724.361233871952080.J>

I didn't see the tip jar. 
Sounds like your marketing could improve... ;-)

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Austin Matzko" <if.website@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Thursday, February 5, 2009 4:40:08 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Overriding Default jQuery Script Generation?

On Thu, Feb 5, 2009 at 3:25 PM, Michael E. Hancock
<justmichaelh@gmail.com> wrote:
> Let's hope your customer is doing better than Austin does for his plugin
> work!
>
> "This month I have received $1.00 for my plugin coding work"

Heh.  That needed rewording.

I guess it's a good thing I'm not counting on the tip jar to pay the bills.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From chris at clwill.com  Thu Feb  5 22:19:57 2009
From: chris at clwill.com (Chris Williams)
Date: Thu Feb  5 22:20:29 2009
Subject: [wp-hackers] Multiwidget Support
In-Reply-To: <349fe48b0902051413l5e5645cja64cf3a9552be805@mail.gmail.com>
Message-ID: <C5B0A60D.29BB1%chris@clwill.com>

+1 for a clean, simple class that implements this in core.  And true enough
that the exception should be a single instance one, not the other way
around.

Spent the last 36 hours trying like heck to get a multi-widget to work
right.  It's almost like magic spell incantation, try something, hope it
works, try something else :)

> From: scribu <scribu@gmail.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Fri, 6 Feb 2009 00:13:26 +0200
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Multiwidget Support
> 
> On Thu, Feb 5, 2009 at 11:59 PM, Austin Matzko <if.website@gmail.com> wrote:
> 
>> On Thu, Feb 5, 2009 at 3:55 PM, Chris Jean <gaarai@gaarai.com> wrote:
>>> I've suffered through development of widgets that support multiple
>> instances
>>> many times. Recently, I began wondering some things:
>>> 
>>>  1. Why is the method for producing multiwidgets so obscure and
>>>     complicated?
>>>  2. Why is there any need to support a single-instance widget?
>>>  3. Why aren't all the core widgets multiwidgets?
>>>  4. Couldn't the method of registering and controlling widgets be
>>>     improved to automatically make all widgets multiwidgets?
>>> 
>>> Of course, for that last option to work, the storage mechanism would have
>> to
>>> be standardized. That's not a bad idea though.
>> 
>> I think this is a step in the right direction:
>> 
>> http://trac.wordpress.org/ticket/8441
> 
> 
> +1 for core.
> 
> I was also thinking of making a class for multiple widgets. Thanks for
> saving me the trouble.
> 
> Another thing, why do you have to register a widget after 'plugins_loaded' ?
> By the way they are implemented, they still feel like part of a plugin, yet
> you can't disable them from the plugins menu.

From dangayle at gmail.com  Thu Feb  5 23:08:48 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Thu Feb  5 23:09:03 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <161617690902051332g58cb487fp58ab4f66155ef0f7@mail.gmail.com>
References: <17340213.261233865720139.JavaMail.DELL-1405$@Dell-1405>
	<-6298294100775923544@unknownmsgid>
	<674b4a3b0902051239o61dbed6ayf03682e562c2e8e5@mail.gmail.com>
	<161617690902051332g58cb487fp58ab4f66155ef0f7@mail.gmail.com>
Message-ID: <2D95C925-BC1E-4882-8EE7-6718BA6CBBD9@gmail.com>


On Feb 5, 2009, at 1:32 PM, Otto wrote:

> A somewhat simpler approach:
>
> http://wordpress.org/extend/plugins/use-google-libraries/
>
> :-)
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

I just tested this out. It works great! Don't even need to modify  
anything. I love it when plugins work like that.
From mikeschinkel at newclarity.net  Thu Feb  5 23:18:43 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Feb  5 23:20:15 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <2D95C925-BC1E-4882-8EE7-6718BA6CBBD9@gmail.com>
Message-ID: <EMEWEMEW2_DELIMl14HIhb5374f72f7353ec3a523f9,
	mikeschinkel@newclarity.net, 13422747.381233875925093.J>

Question: 

Wouldn't offering this functionality be appropriate for core? (he says, then ducks and runs in fear...)

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Dan Gayle" <dangayle@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Thursday, February 5, 2009 6:08:48 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Overriding Default jQuery Script Generation?


On Feb 5, 2009, at 1:32 PM, Otto wrote:

> A somewhat simpler approach:
>
> http://wordpress.org/extend/plugins/use-google-libraries/
>
> :-)
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

I just tested this out. It works great! Don't even need to modify  
anything. I love it when plugins work like that.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From dangayle at gmail.com  Thu Feb  5 23:22:52 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Thu Feb  5 23:23:04 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <EMEWEMEW2_DELIMl14HIhb5374f72f7353ec3a523f9,
	mikeschinkel@newclarity.net, 13422747.381233875925093.J>
References: <EMEWEMEW2_DELIMl14HIhb5374f72f7353ec3a523f9,
	mikeschinkel@newclarity.net, 13422747.381233875925093.J>
Message-ID: <BD9F9EFE-D21C-46D3-813B-522F5681708C@gmail.com>


On Feb 5, 2009, at 3:18 PM, Mike Schinkel wrote:

> Question:
>
> Wouldn't offering this functionality be appropriate for core? (he  
> says, then ducks and runs in fear...)

Wow. If something as big as Wordpress started using it, that would  
create a snowball effect. How many WP blogs are there out in the  
world? That would greatly increase the effectiveness of using it to  
begin with.
From paul at codehooligans.com  Thu Feb  5 23:27:20 2009
From: paul at codehooligans.com (Paul)
Date: Thu Feb  5 23:27:37 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <BD9F9EFE-D21C-46D3-813B-522F5681708C@gmail.com>
References: <EMEWEMEW2_DELIMl14HIhb5374f72f7353ec3a523f9,
	mikeschinkel@newclarity.net, 13422747.381233875925093.J>
	<BD9F9EFE-D21C-46D3-813B-522F5681708C@gmail.com>
Message-ID: <2B2CC687-0C7C-442C-8098-53E7B1E009BC@codehooligans.com>

+1 on that! Maybe it will finally convince some plugin authors to not  
include their own local local of the various libs.
P-

On Feb 5, 2009, at 5:22 PM, Dan Gayle wrote:

>
> On Feb 5, 2009, at 3:18 PM, Mike Schinkel wrote:
>
>> Question:
>>
>> Wouldn't offering this functionality be appropriate for core? (he  
>> says, then ducks and runs in fear...)
>
> Wow. If something as big as Wordpress started using it, that would  
> create a snowball effect. How many WP blogs are there out in the  
> world? That would greatly increase the effectiveness of using it to  
> begin with.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From scribu at gmail.com  Thu Feb  5 23:50:45 2009
From: scribu at gmail.com (scribu)
Date: Thu Feb  5 23:50:57 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <2B2CC687-0C7C-442C-8098-53E7B1E009BC@codehooligans.com>
References: <BD9F9EFE-D21C-46D3-813B-522F5681708C@gmail.com>
	<2B2CC687-0C7C-442C-8098-53E7B1E009BC@codehooligans.com>
Message-ID: <349fe48b0902051550j34405d49g4bf6ae69080cca93@mail.gmail.com>

>
> Wow. If something as big as Wordpress started using it, that would create a
>> snowball effect. How many WP blogs are there out in the world? That would
>> greatly increase the effectiveness of using it to begin with.
>>
>
If this feature got implemented in WP 2.7.1 (can't happen, I know), I bet
some Google servers would go down when people start to upgrade. Imagine
that. :-)

Still, a good ideea.

-- 
http://scribu.net
From beau at dentedreality.com.au  Fri Feb  6 00:09:12 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Fri Feb  6 00:09:23 2009
Subject: [wp-hackers] Improve community features on wordpress.org/trac
Message-ID: <902424490902051609y1481f140t5a9ec55ee18f3949@mail.gmail.com>

I don't know where would be the best place to make this suggestion, so
I'm making it here.

Definitely not a high-priority, but I think it'd be cool to see a
better integration between wordpress.org and trac.wordpress.org (and
codex.wordpress.org). I have no clue about how flexible/extensible
trac is (or mediawiki for that matter), so some of this might not even
be possible, but here are some ideas anyway:

 - Use the same theme/template (at least just header/footer) on
trac.wordpress.org

 - Link user references within trac back to user profiles on
wordpress.org, based on username (e.g. "beaulebens" on trac would link
to http://wordpress.org/support/profile/190677 )

 - Add trac activity to my profile page on wordpress.org, since it
seems to be my "global profile" within the wordpress world (tickets
filed, commits, perhaps comments/file attachments if available)

 - Include tickets assigned to this person on trac (currently working on...)

 - Maybe also add in history of Codex edits on your wordpress.org profile

That's all for now.
Beau

-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From mwalters8 at gmail.com  Fri Feb  6 00:15:08 2009
From: mwalters8 at gmail.com (Matt Walters)
Date: Fri Feb  6 00:15:18 2009
Subject: [wp-hackers] wp_insert_post and publish_post action
Message-ID: <5dbff0c70902051615q29b48168j31dbb220b5a9bf8d@mail.gmail.com>

Just curious, it seems that wp_insert_post() is not triggering an
action I have tied to publish_post.  Is this intended functionality or
is it just a conflict of plugins?

Further information:

I developed a plugin that ties into publish_post, it seems to work
fine whenever a post is published via the admin, or even if the post
comes in through XMLRPC.  However, today a user reported that while
using wp-o-matic, posts coming in from a feed are not processed by my
plugin so I started investigating and saw that it is using
wp_insert_post() to add posts from the feed into the local copy of
WordPress.  So I guess I'm trying to figure out is it an issue of the
two plugins just can't behave with each other, or do I need to add
further functionality to my plugin to catch posts getting put in via
wp_insert_post().  If I do need to add functionality to my plugin,
does anyone know how to catch posts getting inserted via this method?

---------------------------------
Matt Walters
From charles at cefm.ca  Fri Feb  6 01:11:24 2009
From: charles at cefm.ca (Charles E. Frees-Melvin)
Date: Fri Feb  6 01:11:50 2009
Subject: [wp-hackers] Improve community features on wordpress.org/trac
In-Reply-To: <902424490902051609y1481f140t5a9ec55ee18f3949@mail.gmail.com>
References: <902424490902051609y1481f140t5a9ec55ee18f3949@mail.gmail.com>
Message-ID: <1F805AED-EEC8-410A-B35C-9CF96D86BF3B@cefm.ca>

Your trad username comes from the Forums. The Codex has a completly  
different set of usernames. It would be nice to have them linked but  
it might be too late at this point.

Sent from my iPhone

On 5-Feb-09, at 20:09, Beau Lebens <beau@dentedreality.com.au> wrote:

> I don't know where would be the best place to make this suggestion, so
> I'm making it here.
>
> Definitely not a high-priority, but I think it'd be cool to see a
> better integration between wordpress.org and trac.wordpress.org (and
> codex.wordpress.org). I have no clue about how flexible/extensible
> trac is (or mediawiki for that matter), so some of this might not even
> be possible, but here are some ideas anyway:
>
> - Use the same theme/template (at least just header/footer) on
> trac.wordpress.org
>
> - Link user references within trac back to user profiles on
> wordpress.org, based on username (e.g. "beaulebens" on trac would link
> to http://wordpress.org/support/profile/190677 )
>
> - Add trac activity to my profile page on wordpress.org, since it
> seems to be my "global profile" within the wordpress world (tickets
> filed, commits, perhaps comments/file attachments if available)
>
> - Include tickets assigned to this person on trac (currently working  
> on...)
>
> - Maybe also add in history of Codex edits on your wordpress.org  
> profile
>
> That's all for now.
> Beau
>
> -- 
> Beau Lebens
> Dented Reality
> beau@dentedreality.com.au
> http://dentedreality.com.au
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From if.website at gmail.com  Fri Feb  6 01:14:55 2009
From: if.website at gmail.com (Austin Matzko)
Date: Fri Feb  6 01:15:04 2009
Subject: [wp-hackers] wp_insert_post and publish_post action
In-Reply-To: <5dbff0c70902051615q29b48168j31dbb220b5a9bf8d@mail.gmail.com>
References: <5dbff0c70902051615q29b48168j31dbb220b5a9bf8d@mail.gmail.com>
Message-ID: <674b4a3b0902051714h6b1e9a8bm4dc4de6948bcca44@mail.gmail.com>

On Thu, Feb 5, 2009 at 6:15 PM, Matt Walters <mwalters8@gmail.com> wrote:
> Just curious, it seems that wp_insert_post() is not triggering an
> action I have tied to publish_post.

For something that is a newly published post, wp_insert_post() does
trigger the "publish_post."  wp_insert_post() calls
wp_transition_post_status(), which is what triggers "publish_post."

Perhaps the thing published for your user was a page, in which case it
would have been "publish_page."
From mwalters8 at gmail.com  Fri Feb  6 02:07:25 2009
From: mwalters8 at gmail.com (Matt Walters)
Date: Fri Feb  6 02:07:35 2009
Subject: [wp-hackers] wp_insert_post and publish_post action
In-Reply-To: <674b4a3b0902051714h6b1e9a8bm4dc4de6948bcca44@mail.gmail.com>
References: <5dbff0c70902051615q29b48168j31dbb220b5a9bf8d@mail.gmail.com>
	<674b4a3b0902051714h6b1e9a8bm4dc4de6948bcca44@mail.gmail.com>
Message-ID: <5dbff0c70902051807n10b437cm9fff9e24ac5a741c@mail.gmail.com>

Pretty sure wp-o-matic isn't publishing feeds as pages.  I'd sure hope
not at least.

I'll do some more research and see if I can narrow the problem down
further.  Thanks for the response.

---------------------------------
Matt Walters

On Thu, Feb 5, 2009 at 8:14 PM, Austin Matzko <if.website@gmail.com> wrote:
> Perhaps the thing published for your user was a page, in which case it
> would have been "publish_page."
From god.dreams at gmail.com  Fri Feb  6 03:46:16 2009
From: god.dreams at gmail.com (baker)
Date: Fri Feb  6 03:46:28 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
Message-ID: <25ec3df30902051946v76bc566brc5ae7ea118b995e0@mail.gmail.com>

I gotta say, if WP decided that jQuery was their "js library of choice" it'd
force a few people that prefer using other libraries away - I use mootools
extensively (as do a few other bloggers I know). This is better off a
"user's choice" than an "executive decision."

That being said, they're all ready using jQuery for the admin interface, but
as far as plugins go, each version can make or break a plugin, so generally
authors include "the latest version that worked with my code."

-kb


> Date: Fri, 6 Feb 2009 01:50:45 +0200
> From: scribu <scribu@gmail.com>
> Subject: Re: [wp-hackers] Overriding Default jQuery Script Generation?
> To: wp-hackers@lists.automattic.com
> Message-ID:
>        <349fe48b0902051550j34405d49g4bf6ae69080cca93@mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> >
> > Wow. If something as big as Wordpress started using it, that would create
> a
> >> snowball effect. How many WP blogs are there out in the world? That
> would
> >> greatly increase the effectiveness of using it to begin with.
> >>
> >
> If this feature got implemented in WP 2.7.1 (can't happen, I know), I bet
> some Google servers would go down when people start to upgrade. Imagine
> that. :-)
>
> Still, a good ideea.
>
> --
> http://scribu.net
>
>

-- 
Keith Baker
grand central: (614) 654-4296
linkedin: http://www.linkedin.com/in/keithbaker
twitter: http:/www.twitter.com/ikeif
blog: http://ikeif.net
From otto at ottodestruct.com  Fri Feb  6 04:07:10 2009
From: otto at ottodestruct.com (Otto)
Date: Fri Feb  6 04:07:19 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <25ec3df30902051946v76bc566brc5ae7ea118b995e0@mail.gmail.com>
References: <25ec3df30902051946v76bc566brc5ae7ea118b995e0@mail.gmail.com>
Message-ID: <161617690902052007u6982a2b1j456e46e333fb20c0@mail.gmail.com>

On Thu, Feb 5, 2009 at 9:46 PM, baker <god.dreams@gmail.com> wrote:
> I gotta say, if WP decided that jQuery was their "js library of choice" it'd
> force a few people that prefer using other libraries away

WordPress has already decided that, more or less. That's why all the
work to switch off of scriptaculous and onto jQuery happened a few
versions back.

Of course, what your site uses is up to you and your theme and your
plugins. But the admin interface is all based around jQuery and such.

-Otto
From dangayle at gmail.com  Sun Feb  1 18:22:17 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Fri Feb  6 04:12:20 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <25ec3df30902051946v76bc566brc5ae7ea118b995e0@mail.gmail.com>
References: <25ec3df30902051946v76bc566brc5ae7ea118b995e0@mail.gmail.com>
Message-ID: <4E4F2B3F-F23B-48D2-B86A-AF174134767B@gmail.com>

But that's the beauty of using this method. The Google AJAX APIs  
support multiple javascript libraries, including mootools. They host  
the latest versions of jQuery, jQuery UI, Prototype, script.aculo.us,  
MooTools, Dojo, SWFObject, and YUI.

And you can be very specific or very general as to which version you  
want to download. I don't know if that plugin that we were looking at  
gives you as much flexibility as the google.load() function of their  
jsapi script, but it should be trivial to make sure that it does.

On Feb 5, 2009, at 7:46 PM, baker wrote:

> I gotta say, if WP decided that jQuery was their "js library of  
> choice" it'd
> force a few people that prefer using other libraries away - I use  
> mootools
> extensively (as do a few other bloggers I know). This is better off a
> "user's choice" than an "executive decision."
>
> That being said, they're all ready using jQuery for the admin  
> interface, but
> as far as plugins go, each version can make or break a plugin, so  
> generally
> authors include "the latest version that worked with my code."
>
> -kb
>
From wp-hackers at striderweb.com  Fri Feb  6 04:37:59 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri Feb  6 04:38:25 2009
Subject: [wp-hackers] What Is Considered Bloat?
In-Reply-To: <8f93a7390902042342p33b3d4d4wfdddca1d0816dd68@mail.gmail.com>
References: <498A2561.3040000@jeffro2pt0.com>
	<049C756C-4849-4EA2-8E2E-CD2B749F1CA2@xentek.net>
	<498A4445.3030304@poplarware.com>
	<A2DD2E08278C4E6691195CE54369AFDB@cefmpc1>
	<8f93a7390902042342p33b3d4d4wfdddca1d0816dd68@mail.gmail.com>
Message-ID: <21CB77EC-4249-4882-A22B-D4ADEF54021B@striderweb.com>

Playing devil's advocate here... it's bloat because it clutters the  
Admin Menu with functionality that is generally (almost by definition)  
only ever used once, if ever.

Stephen

On Feb 5, 2009, at 1:42 AM, Viper007Bond wrote:

> How in the world that bloat? It's not loaded on every page. It does  
> not slow
> down WordPress at all.
>
> On Wed, Feb 4, 2009 at 6:38 PM, Charles E. Frees-Melvin <charles@cefm.ca 
> >wrote:
>
>> One bloat I find Is the many importers for everything. I think this  
>> should
>> be a plugin
From wp at xentek.net  Fri Feb  6 05:06:54 2009
From: wp at xentek.net (Eric Marden)
Date: Fri Feb  6 05:07:06 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <349fe48b0902051550j34405d49g4bf6ae69080cca93@mail.gmail.com>
References: <BD9F9EFE-D21C-46D3-813B-522F5681708C@gmail.com>
	<2B2CC687-0C7C-442C-8098-53E7B1E009BC@codehooligans.com>
	<349fe48b0902051550j34405d49g4bf6ae69080cca93@mail.gmail.com>
Message-ID: <035F8DD0-2E93-48AB-9231-761BD18658FA@xentek.net>

There was a long thread about this on the list in May 2008:
http://groups.google.com/group/wp-hackers/browse_frm/thread/6bba555016dd01fa/bc34e5b5e0dc0842


-e
From mikeschinkel at newclarity.net  Fri Feb  6 05:49:13 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb  6 05:49:54 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <035F8DD0-2E93-48AB-9231-761BD18658FA@xentek.net>
Message-ID: <EMEWEMEW2_DELIMl14NnD53c719c9decb62bf9143cc,
	mikeschinkel@newclarity.net, 33085907.461233899354472.J>

It seems all none of that conversation discussed is as a non-default option...

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Eric Marden" <wp@xentek.net>
To: wp-hackers@lists.automattic.com
Sent: Friday, February 6, 2009 12:06:54 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Overriding Default jQuery Script Generation?

There was a long thread about this on the list in May 2008:
http://groups.google.com/group/wp-hackers/browse_frm/thread/6bba555016dd01fa/bc34e5b5e0dc0842


-e
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Fri Feb  6 06:22:32 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb  6 06:23:59 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <14781210.541233900700325.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl150MX499d880035a2a00cd9ea35,
	mikeschinkel@newclarity.net, 18270872.561233901352423.J>

Ya know when a plugin author chooses to code in a library other than one included with WP then it takes away choice from the end user who wants to not have to load two JS libraries when they could use one. For my clients I recommend against any plugins that use mootools or scriptaculous/prototype simple to minimize the number of JS libs that have to be downloaded since jQuery will already be downloaded. 

OTOH if the plugin developer wants to and provides the end user with the ability to use the JS lib of their choice (and I know at least one who does) then that is the bigger freedom of choice.  So the irony is that giving the developer choice takes choice away from the end-user.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "baker" <god.dreams@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Thursday, February 5, 2009 10:46:16 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Overriding Default jQuery Script Generation?

I gotta say, if WP decided that jQuery was their "js library of choice" it'd
force a few people that prefer using other libraries away - I use mootools
extensively (as do a few other bloggers I know). This is better off a
"user's choice" than an "executive decision."

That being said, they're all ready using jQuery for the admin interface, but
as far as plugins go, each version can make or break a plugin, so generally
authors include "the latest version that worked with my code."

-kb


> Date: Fri, 6 Feb 2009 01:50:45 +0200
> From: scribu <scribu@gmail.com>
> Subject: Re: [wp-hackers] Overriding Default jQuery Script Generation?
> To: wp-hackers@lists.automattic.com
> Message-ID:
>        <349fe48b0902051550j34405d49g4bf6ae69080cca93@mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> >
> > Wow. If something as big as Wordpress started using it, that would create
> a
> >> snowball effect. How many WP blogs are there out in the world? That
> would
> >> greatly increase the effectiveness of using it to begin with.
> >>
> >
> If this feature got implemented in WP 2.7.1 (can't happen, I know), I bet
> some Google servers would go down when people start to upgrade. Imagine
> that. :-)
>
> Still, a good ideea.
>
> --
> http://scribu.net
>
>

-- 
Keith Baker
grand central: (614) 654-4296
linkedin: http://www.linkedin.com/in/keithbaker
twitter: http:/www.twitter.com/ikeif
blog: http://ikeif.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Fri Feb  6 06:48:02 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb  6 06:48:19 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <EMEWEMEW2_DELIMl14NnD53c719c9decb62bf9143cc,
	mikeschinkel@newclarity.net, 33085907.461233899354472.J>
Message-ID: <EMEWEMEW2_DELIMl150m2f4f8a857df8bbd470b954c,
	mikeschinkel@newclarity.net, 29178235.631233902884005.J>

Damn, should type when I'm so tired. I meant to type:

   "It seems that none of that conversation discussed (Google AJAX hosting) as a non-default option..."

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Mike Schinkel" <mikeschinkel@newclarity.net>
To: wp-hackers@lists.automattic.com
Sent: Friday, February 6, 2009 12:49:13 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Overriding Default jQuery Script Generation?

It seems all none of that conversation discussed is as a non-default option...

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Eric Marden" <wp@xentek.net>
To: wp-hackers@lists.automattic.com
Sent: Friday, February 6, 2009 12:06:54 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Overriding Default jQuery Script Generation?

There was a long thread about this on the list in May 2008:
http://groups.google.com/group/wp-hackers/browse_frm/thread/6bba555016dd01fa/bc34e5b5e0dc0842


-e
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From ryanmccue at cubegames.net  Fri Feb  6 07:03:45 2009
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Fri Feb  6 07:04:13 2009
Subject: [wp-hackers] Improve community features on wordpress.org/trac
In-Reply-To: <902424490902051609y1481f140t5a9ec55ee18f3949@mail.gmail.com>
References: <902424490902051609y1481f140t5a9ec55ee18f3949@mail.gmail.com>
Message-ID: <498BE0D1.8060005@cubegames.net>

Beau Lebens wrote:
>  - Use the same theme/template (at least just header/footer) on
> trac.wordpress.org

-1 on that. I definitely prefer having the standard Trac interface, as
it simplifies things a lot more. Trac isn't in the site's navigation
itself, so IMHO, it shouldn't be. All the Trac sites that I've seen
integrated look like crap to me.

-- 
Ryan McCue
<http://cubegames.net/>

From lynne.pope at gmail.com  Fri Feb  6 07:06:12 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri Feb  6 07:06:23 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <8617303609518231560@unknownmsgid>
References: <14781210.541233900700325.JavaMail.DELL-1405$@Dell-1405>
	<8617303609518231560@unknownmsgid>
Message-ID: <427667db0902052306u5be4006cs20672f953a6118de@mail.gmail.com>

2009/2/6 Mike Schinkel <mikeschinkel@newclarity.net>

>
> So the irony is that giving the developer choice takes choice away from the
> end-user.


End-users of free plugins have a choice to use the plugin or not. Or they
could develop their own or find someone willing to do so for them.

End-users of WordPress are not necessarily users of free, mass-distribution
plugins.  By giving developers choice WordPress is giving everyone the
ability to extend the code in the way that best suits them. There is no such
thing as the perfect library, whether its JavaScript or whatever, that meets
all needs. As long as WP remains extensible individual needs can be met -
locking developers and/or users into specific libraries just removes choice.

Lynne
From joost at yoast.com  Fri Feb  6 07:06:58 2009
From: joost at yoast.com (Joost de Valk)
Date: Fri Feb  6 07:07:11 2009
Subject: [wp-hackers] Improve community features on wordpress.org/trac
In-Reply-To: <498BE0D1.8060005@cubegames.net>
References: <902424490902051609y1481f140t5a9ec55ee18f3949@mail.gmail.com>
	<498BE0D1.8060005@cubegames.net>
Message-ID: <BC17E4A7-052E-4804-9AC2-A4ED97943333@yoast.com>

On Feb 6, 2009, at 8:03 AM, Ryan McCue wrote:

> Beau Lebens wrote:
>> - Use the same theme/template (at least just header/footer) on
>> trac.wordpress.org
>
> -1 on that. I definitely prefer having the standard Trac interface, as
> it simplifies things a lot more. Trac isn't in the site's navigation
> itself, so IMHO, it shouldn't be. All the Trac sites that I've seen
> integrated look like crap to me.
>
Besides that, other people who are new to developing for WP but know  
Trac would have an advantage because Trac is default. It's not a thing  
for normal users, so keep it this way :) You might consider making an  
easier way to submit bugs on wp.org itself, but be prepared for an  
onslaught of bug submissions :)

From lynne.pope at gmail.com  Fri Feb  6 07:08:21 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri Feb  6 07:08:34 2009
Subject: [wp-hackers] Improve community features on wordpress.org/trac
In-Reply-To: <498BE0D1.8060005@cubegames.net>
References: <902424490902051609y1481f140t5a9ec55ee18f3949@mail.gmail.com>
	<498BE0D1.8060005@cubegames.net>
Message-ID: <427667db0902052308s3e641414p3533801bbf2c6c74@mail.gmail.com>

2009/2/6 Ryan McCue <ryanmccue@cubegames.net>

> Beau Lebens wrote:
> >  - Use the same theme/template (at least just header/footer) on
> > trac.wordpress.org
>
> -1 on that. I definitely prefer having the standard Trac interface, as
> it simplifies things a lot more. Trac isn't in the site's navigation
> itself, so IMHO, it shouldn't be. All the Trac sites that I've seen
> integrated look like crap to me.


Another -1.
Theming trac would just create extra work for no real benefit. Trac is
designed for functionality and this is all that is needed in any tracker.

Lynne
From wp at xentek.net  Fri Feb  6 07:12:16 2009
From: wp at xentek.net (Eric Marden)
Date: Fri Feb  6 07:12:30 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <427667db0902052306u5be4006cs20672f953a6118de@mail.gmail.com>
References: <14781210.541233900700325.JavaMail.DELL-1405$@Dell-1405>
	<8617303609518231560@unknownmsgid>
	<427667db0902052306u5be4006cs20672f953a6118de@mail.gmail.com>
Message-ID: <0DC74559-8ECE-41D2-BA41-FE7F5A179D72@xentek.net>

> There is no such thing as the perfect library, whether its  
> JavaScript or whatever

Yeah, but jQuery comes damn close ;)

-e
From lynne.pope at gmail.com  Fri Feb  6 07:30:20 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri Feb  6 07:30:28 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <0DC74559-8ECE-41D2-BA41-FE7F5A179D72@xentek.net>
References: <14781210.541233900700325.JavaMail.DELL-1405$@Dell-1405>
	<8617303609518231560@unknownmsgid>
	<427667db0902052306u5be4006cs20672f953a6118de@mail.gmail.com>
	<0DC74559-8ECE-41D2-BA41-FE7F5A179D72@xentek.net>
Message-ID: <427667db0902052330q78c4f8d6rcc1204c1fdab12a4@mail.gmail.com>

2009/2/6 Eric Marden <wp@xentek.net>

> There is no such thing as the perfect library, whether its JavaScript or
>> whatever
>>
>
> Yeah, but jQuery comes damn close ;)


Absolutely! :)
But even though its all I use I still wouldn't want to see WP locking us in
with it. Or even locking us in to particular versions. Me likes choice ;)

Lynne
From mail at arickmann.co.uk  Fri Feb  6 07:30:21 2009
From: mail at arickmann.co.uk (Andrew Rickmann)
Date: Fri Feb  6 07:30:34 2009
Subject: [wp-hackers] What Is Considered Bloat?
In-Reply-To: <21CB77EC-4249-4882-A22B-D4ADEF54021B@striderweb.com>
References: <498A2561.3040000@jeffro2pt0.com>
	<049C756C-4849-4EA2-8E2E-CD2B749F1CA2@xentek.net>
	<498A4445.3030304@poplarware.com>
	<A2DD2E08278C4E6691195CE54369AFDB@cefmpc1>
	<8f93a7390902042342p33b3d4d4wfdddca1d0816dd68@mail.gmail.com>
	<21CB77EC-4249-4882-A22B-D4ADEF54021B@striderweb.com>
Message-ID: <d0bc6e050902052330g67825ea3l908ef7b1d688af31@mail.gmail.com>

There is no real definition of bloat. It all depends on what your
philosophy towards WordPress is.

If you look at items on an individual basis then bloat is simply
functionality that isn't of benefit to the majority. The problem with
that outlook is that there is a difference between current users and
future users. Features may be almost useless to bloggers but might be
essential to make WordPress fit with the expectations of someone
looking to use it as a CMS.

Take post revisions as an example. It has a limited benefit to
bloggers. A lot of people find it useful now it is here, but never
would have thought twice if it wasn't. It was necessary though because
the absence of it came up every time the 'is WordPress a CMS?' debate
started up.

The general philosophy suggested by the actions of the community is
that a feature is not bloat if it is essential for blogging, a feature
that bloggers would expect in any blog system, if it is generally
related to content production, organisation, or workflow, if it meets
the needs of most users, or meets the needs of a potential group of
users.

The other problem of feature bloat is whether you want to define an
entirely unnecessary and unrelated feature as bloat, or as unsuitable.
I wouldn't describe a Twitter API as bloat, as it would never be
suitable to be in core in the first place.

If you take a more holistic view there are also various
interpretations. Do you look at how much each individual feature slows
down WordPress, for example, the importers reduce the speed of
WordPress by the time take to add themselves to the menu, or do you
add up all the things that are capable of being turned off in the
event that the user isn't interested? Perhaps then we get the speed of
10 menu items, perhaps the speed of loading some Javascript, extra
database calls, extra database writes, etc of all the items you don't
use.

In the case of the former, as long as it doesn't add a significant
amount to the download or slow down WordPress almost no feature will
be bloat, in the case of the latter almost any feature could be bloat.

finally, of course, it is so individual that it is impossible to reach
agreement. I think the links / blogroll / whatever it is called now,
functionality is pointless bloat, but loads of people us it, like it,
and would fight me to the death to keep it. We would both be right,
and wrong.

Andrew
http://www.wp-fun.co.uk


2009/2/6 Stephen Rider <wp-hackers@striderweb.com>:
> Playing devil's advocate here... it's bloat because it clutters the Admin
> Menu with functionality that is generally (almost by definition) only ever
> used once, if ever.
>
> Stephen
>
> On Feb 5, 2009, at 1:42 AM, Viper007Bond wrote:
>
>> How in the world that bloat? It's not loaded on every page. It does not
>> slow
>> down WordPress at all.
>>
>> On Wed, Feb 4, 2009 at 6:38 PM, Charles E. Frees-Melvin
>> <charles@cefm.ca>wrote:
>>
>>> One bloat I find Is the many importers for everything. I think this
>>> should
>>> be a plugin
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From kalle at wangstedt.net  Fri Feb  6 07:43:52 2009
From: kalle at wangstedt.net (=?ISO-8859-1?Q?Karl_W=E5ngstedt?=)
Date: Fri Feb  6 07:44:19 2009
Subject: [wp-hackers] Problem with custom TinyMCE button
In-Reply-To: <498B140B.6060702@laptoptips.ca>
References: <5830A8D6-5AA9-46CB-8962-C6E4689EA287@wangstedt.net>
	<498B140B.6060702@laptoptips.ca>
Message-ID: <FC076A0D-74E5-46EC-A7B4-35BB643B55A2@wangstedt.net>

5 feb 2009 kl. 17.30 skrev Andrew Ozz:

> Did you add 'video' to the extended valid elements in TinyMCE? If  
> no, something like this should work:


Yes, I did.

The weird thing is that it works fine under 2.6.3, witch makes me  
think there's some change in either TinyMCE och in WP under 2.7 that  
makes the javascript in the plugin to stop working.

Do you maybe have suggestion for how I could rewrite the TinyMCE- 
plugin to make it get a link (<a href="blah.mov">) and replace it with  
another code with the link inside(<video src="blah.mov">).

Thank you
Karl W?ngstedt
----------------------------------
          W?ngstedt  nova
         www.wangstedt.net

Karl W?ngstedt       0278-61 12 33
Stenhuggarv?gen 3g   070-578 13 04
821 41  BOLLN?S
----------------------------------
Det h?r brevet skickades med en Macintosh fr?n Apple.
Garanterat virusfri med Mac OS X.
From kalle at wangstedt.net  Fri Feb  6 08:01:03 2009
From: kalle at wangstedt.net (=?ISO-8859-1?Q?Karl_W=E5ngstedt?=)
Date: Fri Feb  6 08:01:21 2009
Subject: [wp-hackers] Problem with custom TinyMCE button
In-Reply-To: <498B140B.6060702@laptoptips.ca>
References: <5830A8D6-5AA9-46CB-8962-C6E4689EA287@wangstedt.net>
	<498B140B.6060702@laptoptips.ca>
Message-ID: <5C7999DA-C348-4E93-A631-EC1B46BE3D5D@wangstedt.net>

When I select the link (<a href="blah.mov"> and push the button, the  
link disappear and when I check the code-view in the editor, this gets  
inserted instead:

<span style="color: #0000ee; text-decoration: underline;"> </span>

If I manually add the <video> element it works both in fancy edit  
mode, and in quicktags mode. As it does in the live site.


Thanks
Karl W?ngstedt
----------------------------------
          W?ngstedt  nova
         www.wangstedt.net

Karl W?ngstedt       0278-61 12 33
Stenhuggarv?gen 3g   070-578 13 04
821 41  BOLLN?S
----------------------------------
Det h?r brevet skickades med en Macintosh fr?n Apple.
Garanterat virusfri med Mac OS X.
From lynne.pope at gmail.com  Fri Feb  6 08:03:28 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri Feb  6 08:03:37 2009
Subject: [wp-hackers] What Is Considered Bloat?
In-Reply-To: <d0bc6e050902052330g67825ea3l908ef7b1d688af31@mail.gmail.com>
References: <498A2561.3040000@jeffro2pt0.com>
	<049C756C-4849-4EA2-8E2E-CD2B749F1CA2@xentek.net>
	<498A4445.3030304@poplarware.com>
	<A2DD2E08278C4E6691195CE54369AFDB@cefmpc1>
	<8f93a7390902042342p33b3d4d4wfdddca1d0816dd68@mail.gmail.com>
	<21CB77EC-4249-4882-A22B-D4ADEF54021B@striderweb.com>
	<d0bc6e050902052330g67825ea3l908ef7b1d688af31@mail.gmail.com>
Message-ID: <427667db0902060003hf281d12u83e66c45f6f80813@mail.gmail.com>

2009/2/6 Andrew Rickmann <mail@arickmann.co.uk>

> <snip of really good stuff>


Great response Andrew!


>
> finally, of course, it is so individual that it is impossible to reach
> agreement. I think the links / blogroll / whatever it is called now,
> functionality is pointless bloat, but loads of people us it, like it,
> and would fight me to the death to keep it. We would both be right,
> and wrong.


This is probably one of the best examples. For the past few years I have
hardly ever used the links/blogroll and would have not missed it. BUT, once
you start looking at what it does, rather than thinking of it as a list of
external links, its actually a really nice thing to have.  eg. call it
"Recommended Posts" and add internal links to posts you want to put back
into the forefront. Extend it to add the link to an external sites feed, or
pull in images, or create a directory... list goes on. As a building block
for using in a different way to that it was originally designed for, its not
bloat at all.

And I think this is what the crux of the issue is - none of us know just how
people are going to build on, extend or modify any of the core code.

For me, bloat is anything that adds features the majority don't need in a
solid blogging platform where these can be handled by optional plugins
written by 3rd party (non-core) developers. Or anything the core devs say is
bloat ;)

Lynne
From mikeschinkel at newclarity.net  Fri Feb  6 08:35:46 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb  6 08:36:12 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
In-Reply-To: <20828423.651233908307728.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl152Zld0e5d7913aee04a98ecee8,
	mikeschinkel@newclarity.net, 31288420.671233908393385.J>

My point was there are multiple perspectives. Your reply reinforces that you see it from only one, your own.

-Mike 

----- Original Message -----
From: "Lynne Pope" <lynne.pope@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Friday, February 6, 2009 2:06:12 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Overriding Default jQuery Script Generation?

2009/2/6 Mike Schinkel <mikeschinkel@newclarity.net>

>
> So the irony is that giving the developer choice takes choice away from the
> end-user.


End-users of free plugins have a choice to use the plugin or not. Or they
could develop their own or find someone willing to do so for them.

End-users of WordPress are not necessarily users of free, mass-distribution
plugins.  By giving developers choice WordPress is giving everyone the
ability to extend the code in the way that best suits them. There is no such
thing as the perfect library, whether its JavaScript or whatever, that meets
all needs. As long as WP remains extensible individual needs can be met -
locking developers and/or users into specific libraries just removes choice.

Lynne
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From steagl4ml at gmail.com  Fri Feb  6 09:33:39 2009
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Fri Feb  6 09:33:52 2009
Subject: [wp-hackers] Overriding Default jQuery Script Generation?
References: <EMEWEMEW2_DELIMl14HIhb5374f72f7353ec3a523f9,
	mikeschinkel@newclarity.net, 13422747.381233875925093.J>
Message-ID: <ct0oo4lacf70h407j8rveq95gts13qh97p@4ax.com>

Are you going to ask the same question about wevery new thead that
appear here? Just to know if iI have to filter you or you are going to
post something mre interesting and not stress us forever just cause
somene said no at one of yours idea.

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it (personal blog)
       http://www.wordpress-it.it (WordPress Italia)
From admin at laptoptips.ca  Fri Feb  6 12:11:35 2009
From: admin at laptoptips.ca (Andrew Ozz)
Date: Fri Feb  6 12:13:48 2009
Subject: [wp-hackers] Problem with custom TinyMCE button
In-Reply-To: <5C7999DA-C348-4E93-A631-EC1B46BE3D5D@wangstedt.net>
References: <5830A8D6-5AA9-46CB-8962-C6E4689EA287@wangstedt.net>	<498B140B.6060702@laptoptips.ca>
	<5C7999DA-C348-4E93-A631-EC1B46BE3D5D@wangstedt.net>
Message-ID: <498C28F7.4020904@laptoptips.ca>

Looking at the function there are couple of things:

1. It seems you're mixing DOM nodes and strings. It would be better to 
stick to one of them:

var e = the link node;
var h = the href from e;
var txt = the inner text from e;

Then you have enough to make the <video> tag string.

2. You got the link node but it's still in the document so when you do 
"insertContent" it puts it at the cursor position inside the existing 
<a> tag, making it totally invalid. It's inserted as string, not DOM 
node so you'll have to either select the <a> tag and replace it or you 
can create new <p> node, set it's content and attribs and replace the 
<a> node (TinyMCE makes this pretty easy, all in one step).

Another problem is that you're replacing an inline element <a> with a 
block element <p> and the <a> element is most likely inside a <p>.  This 
probably would be fixed by the internal cleanup in TinyMCE, but may have 
some problems in some browsers. All browsers have to render the content 
entered in a "contentEditable" area and they are usually quite more 
restrictive about malformed HTML there compared to a "normal" page.
From mike_walsh at mindspring.com  Fri Feb  6 13:41:16 2009
From: mike_walsh at mindspring.com (Mike Walsh)
Date: Fri Feb  6 13:41:25 2009
Subject: [wp-hackers] Script to create a bunch of dummy users?
Message-ID: <001001c98860$95a0a160$c0e1e420$@com>

For a project I am working on I want to create a bunch of dummy user
accounts (~100) in my development area.  Before I create a script to do
this, I am wondering if anyone has done this before?  If so, can you share
it?

 

Mike

 

--

Mike Walsh - mike underscore walsh at mindspring dot com

 

From viper at viper007bond.com  Fri Feb  6 14:12:49 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Fri Feb  6 14:13:00 2009
Subject: [wp-hackers] Script to create a bunch of dummy users?
In-Reply-To: <001001c98860$95a0a160$c0e1e420$@com>
References: <001001c98860$95a0a160$c0e1e420$@com>
Message-ID: <8f93a7390902060612p1553fc46m8d7257b4d31e6991@mail.gmail.com>

<?php

require( 'wp-load.php' );

/* foreach or whatever */

$user_pass = wp_generate_password();
$user_id = wp_create_user( $user_login, $user_pass, $user_email );

/* end foreach */

?>

On Fri, Feb 6, 2009 at 5:41 AM, Mike Walsh <mike_walsh@mindspring.com>wrote:

> For a project I am working on I want to create a bunch of dummy user
> accounts (~100) in my development area.  Before I create a script to do
> this, I am wondering if anyone has done this before?  If so, can you share
> it?
>
>
>
> Mike
>
>
>
> --
>
> Mike Walsh - mike underscore walsh at mindspring dot com
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From dino at duechiacchiere.it  Fri Feb  6 14:57:36 2009
From: dino at duechiacchiere.it (Dino Termini)
Date: Fri Feb  6 14:57:50 2009
Subject: [wp-hackers] More finely-grained permissions
Message-ID: <498C4FE0.8050505@duechiacchiere.it>

Hello everybody,

I see there is a big momentum in this list about new features, so I'd 
like to add my 2 cents. It would be nice to have a more finely-grained 
permission system, allowing admins to associate priviledges on a 
per-page/post basis. In other words, here is the scenario I have in mind:

- you have a post whose owner is "user01"
- you have other 2 users (user02, user03) in wordpress

I would like to be able to give ONLY user01 (the owner) and user02 a 
"write access" to that post, while user03 shouldn't be allowed to modify 
it (read-only). As far as I know, there are no plugins to do this. Role 
Manager is kinda complicated, and does not allow to do what I have in mind.

What I would suggest is to use a Linux-like approach: we could associate 
each post/page with a group and an access level (read only, read-write). 
The owner would be allowed to customize these settings (assign a group, 
change access level for that group), while the admin would be in charge 
for creating new groups.

I can offer my help in building this new feature! What do you think?

Thank you,
dino.
From malaiac at gmail.com  Fri Feb  6 15:06:16 2009
From: malaiac at gmail.com (Malaiac)
Date: Fri Feb  6 15:06:25 2009
Subject: [wp-hackers] More finely-grained permissions
In-Reply-To: <498C4FE0.8050505@duechiacchiere.it>
References: <498C4FE0.8050505@duechiacchiere.it>
Message-ID: <59e7f3130902060706k678b3c89hd6de3965576fb869@mail.gmail.com>

2009/2/6 Dino Termini <dino@duechiacchiere.it>:
> Hello everybody,
>
> I see there is a big momentum in this list about new features, so I'd like
> to add my 2 cents. It would be nice to have a more finely-grained permission
> system, allowing admins to associate priviledges on a per-page/post basis.
> In other words, here is the scenario I have in mind:
>
> - you have a post whose owner is "user01"
> - you have other 2 users (user02, user03) in wordpress
>
> I would like to be able to give ONLY user01 (the owner) and user02 a "write
> access" to that post, while user03 shouldn't be allowed to modify it
> (read-only). As far as I know, there are no plugins to do this. Role Manager

For a project I'm working on, I mixed some ideas from "co authors" and
"user acces" plugins, to have, foreach post :
an author who can do evtg but publish
an editor who can edit and publish
the editor_id being a custom field to the post
(actually, the author can manage his drafts and posts, and submit them
to edition,
then the editor edits and submit them to publication,
then the main editor "Secretaire de r?daction" - english term may be
Main Editor ? - publish them)

The permission system seems quite complicated to me, and pushing some
internals closer to the back end could be good.

Malaiac
From steagl4ml at gmail.com  Fri Feb  6 16:09:36 2009
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Fri Feb  6 16:09:51 2009
Subject: [wp-hackers] More finely-grained permissions
References: <498C4FE0.8050505@duechiacchiere.it>
Message-ID: <83ooo4dps0ob2gu3cl2d7ndl1h2b1loskv@4ax.com>

On Fri, 06 Feb 2009 09:57:36 -0500, Dino Termini
<dino@duechiacchiere.it> wrote:

>Hello everybody,
>
>I see there is a big momentum in this list about new features, so I'd 
>like to add my 2 cents. It would be nice to have a more finely-grained 
>permission system, allowing admins to associate priviledges on a 
>per-page/post basis. In other words, here is the scenario I have in mind:
>
>- you have a post whose owner is "user01"
>- you have other 2 users (user02, user03) in wordpress
>
>I would like to be able to give ONLY user01 (the owner) and user02 a 
>"write access" to that post, while user03 shouldn't be allowed to modify 
>it (read-only). As far as I know, there are no plugins to do this. Role 
>Manager is kinda complicated, and does not allow to do what I have in mind.

Thereis a plugin that do this:

http://wordpress.org/extend/plugins/user-access-manager/

||With the "User Access Manager"-plugin you can manage the access to your
||posts, pages and files. You only create a user group, put registered users
||to this and set up the rights for this group. From now on the post/page
||is only accessible for the specified group. This plugin is useful if you
||need a member area or a private section at your blog.

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it (personal blog)
       http://www.wordpress-it.it (WordPress Italia)
From steph at sillybean.net  Fri Feb  6 17:25:25 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Fri Feb  6 17:25:36 2009
Subject: [wp-hackers] Multiwidget Support
In-Reply-To: <C5B0A60D.29BB1%chris@clwill.com>
References: <C5B0A60D.29BB1%chris@clwill.com>
Message-ID: <f9211ee069813487f7b5d5f397bc3c43@laurel.joyent.us>

On Thu, 05 Feb 2009 14:19:57 -0800, Chris Williams <chris@clwill.com>
wrote:
> +1 for a clean, simple class that implements this in core.  And true
enough
> that the exception should be a single instance one, not the other way
> around.

I absolutely agree.
 
> Spent the last 36 hours trying like heck to get a multi-widget to work
> right.  It's almost like magic spell incantation, try something, hope it
> works, try something else :)

Have you seen this example? 
http://wp.gdragon.info/2008/07/06/create-multi-instances-widget/

I based my own widget on that code. I won't say it was the easiest thing
I've ever written, but I had more problems with my logic than with the
example. ;)


Stephanie

From beau at dentedreality.com.au  Fri Feb  6 17:38:22 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Fri Feb  6 17:38:29 2009
Subject: [wp-hackers] Improve community features on wordpress.org/trac
In-Reply-To: <427667db0902052308s3e641414p3533801bbf2c6c74@mail.gmail.com>
References: <902424490902051609y1481f140t5a9ec55ee18f3949@mail.gmail.com>
	<498BE0D1.8060005@cubegames.net>
	<427667db0902052308s3e641414p3533801bbf2c6c74@mail.gmail.com>
Message-ID: <902424490902060938k299984f4xd24d5b0a1d3308bb@mail.gmail.com>

> Another -1.
> Theming trac would just create extra work for no real benefit. Trac is
> designed for functionality and this is all that is needed in any tracker.

Valid points all -- thanks for the contribs.

Consider me convinced. I guess part of what drove me to make these
suggestions was the lack of profile information on trac. It'd be nice
to be able to get a "feel" for a user on trac (assuming you don't know
them already) by clicking their username and seeing some kind of
reputation for that user. e.g. if they've opened 50 tickets, all of
which have been closed as duplicate/wontfix/works-for-me, then perhaps
this new ticket they opened should be taken with a grain of salt.

Either way -- carry on :)
From steph at sillybean.net  Fri Feb  6 17:47:21 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Fri Feb  6 17:47:29 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
Message-ID: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>



I'm thinking of working on a plugin to import HTML files as pages,
ideally preserving the directory structure in the page hierarchy.
(I'll be working on the assumption that the files use a common HTML
structure, and that there is a standard div ID or something that can
be used to extract the portion of the page we want to import.) 

I've Googled a bit and searched Trac, and haven't found any other
projects like this, only users asking for it. :) If you know of anyone
already working on the problem, please let me know. 
Stephanie
From dangayle at gmail.com  Fri Feb  6 17:50:17 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Fri Feb  6 17:50:28 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
Message-ID: <74a8f8d80902060950o56dd9ab7p6082b51474728d43@mail.gmail.com>

Isn't that something that you could use AJAX for? That's a simple
jQuery thing to do using innerHtml

On Fri, Feb 6, 2009 at 9:47 AM, Stephanie Leary <steph@sillybean.net> wrote:
>
>
> I'm thinking of working on a plugin to import HTML files as pages,
> ideally preserving the directory structure in the page hierarchy.
> (I'll be working on the assumption that the files use a common HTML
> structure, and that there is a standard div ID or something that can
> be used to extract the portion of the page we want to import.)
>
> I've Googled a bit and searched Trac, and haven't found any other
> projects like this, only users asking for it. :) If you know of anyone
> already working on the problem, please let me know.
> Stephanie
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From steph at sillybean.net  Fri Feb  6 17:52:29 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Fri Feb  6 17:52:37 2009
Subject: [wp-hackers] Importing HTML files as pages -- been
	=?UTF-8?Q?done=3F?=
In-Reply-To: <74a8f8d80902060950o56dd9ab7p6082b51474728d43@mail.gmail.com>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
	<74a8f8d80902060950o56dd9ab7p6082b51474728d43@mail.gmail.com>
Message-ID: <9d50a49f81690f5208fc132e5fc03a83@laurel.joyent.us>

On Fri, 6 Feb 2009 09:50:17 -0800, Dan Gayle <dangayle@gmail.com> wrote:
> Isn't that something that you could use AJAX for? That's a simple
> jQuery thing to do using innerHtml

I was thinking more along the lines of parsing the files as XML, but I'm
open to suggestions.


Stephanie

From dino at duechiacchiere.it  Fri Feb  6 18:08:36 2009
From: dino at duechiacchiere.it (Dino Termini)
Date: Fri Feb  6 18:08:53 2009
Subject: [wp-hackers] More finely-grained permissions
In-Reply-To: <83ooo4dps0ob2gu3cl2d7ndl1h2b1loskv@4ax.com>
References: <498C4FE0.8050505@duechiacchiere.it>
	<83ooo4dps0ob2gu3cl2d7ndl1h2b1loskv@4ax.com>
Message-ID: <498C7CA4.6040709@duechiacchiere.it>


> Thereis a plugin that do this:
>
>   
Thank you Stefano. I didn't know that plugin. Unfortunately it doesn't 
solve the issue, because if you assign a post/page to a specific group, 
it won't be "publicly readable" for anonymous users who visit the 
website. You need to log in in order to see that post. Also, you need to 
patch a couple of core files in order to make it work. What I have in 
mind is slightly different: assign a group to each post (as done by this 
plugin) but keep them publicly available. In other words, I don't want 
to limit the readability of a post, but its "writeability" by given 
group(s) of users.

This is a typical scenario in each medium/large organization using a CMS 
to manager their website: department A should be allowed to edit only 
pages/posts for which they are in charge, and have no rights to edit 
pages&posts belonging to department B. Nonetheless all these pages/posts 
should be available to the public with no authentication. Hope I made it 
a little clearer what I have in mind :)

dino.
From mikeschinkel at newclarity.net  Fri Feb  6 18:18:13 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb  6 18:19:56 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <9d50a49f81690f5208fc132e5fc03a83@laurel.joyent.us>
Message-ID: <EMEWEMEW2_DELIMl15CID38b9fcedf35b4f5ef73630,
	mikeschinkel@newclarity.net, 11493215.791233944295481.J>

I think you'll be better off using preg_match(). That's what most screen-scrapers use...

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Stephanie Leary" <steph@sillybean.net>
To: wp-hackers@lists.automattic.com
Sent: Friday, February 6, 2009 12:52:29 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Importing HTML files as pages -- been done?

On Fri, 6 Feb 2009 09:50:17 -0800, Dan Gayle <dangayle@gmail.com> wrote:
> Isn't that something that you could use AJAX for? That's a simple
> jQuery thing to do using innerHtml

I was thinking more along the lines of parsing the files as XML, but I'm
open to suggestions.


Stephanie

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From jer-wphackers at simianuprising.com  Fri Feb  6 18:22:37 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Fri Feb  6 18:22:51 2009
Subject: [wp-hackers] More finely-grained permissions
In-Reply-To: <498C7CA4.6040709@duechiacchiere.it>
References: <498C4FE0.8050505@duechiacchiere.it>
	<83ooo4dps0ob2gu3cl2d7ndl1h2b1loskv@4ax.com>
	<498C7CA4.6040709@duechiacchiere.it>
Message-ID: <e1202cb10902061022n63be7e13u9ab3077b05e94428@mail.gmail.com>

Dino, this plugin is out of date and probably broken, it was created
by someone at Siemens and posted to google code but then they
dissapeared and were never heard from again:

http://code.google.com/p/wp-group-restriction/

It sounds like it might be a step in the right direction and it seems
to prove that what you want is possible on some level. The core of it
still seems to work for me but I never used it for post/page
restriction so that part might need a lot of work (i basically forked
it just to keep the 'groups' modelling so I can define editorial
groups within our site).

-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
From jess at funroe.net  Fri Feb  6 18:23:31 2009
From: jess at funroe.net (Jess Planck)
Date: Fri Feb  6 18:23:41 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <9d50a49f81690f5208fc132e5fc03a83@laurel.joyent.us>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
	<74a8f8d80902060950o56dd9ab7p6082b51474728d43@mail.gmail.com>
	<9d50a49f81690f5208fc132e5fc03a83@laurel.joyent.us>
Message-ID: <539E65FF-3248-4B63-A663-E18E93918430@funroe.net>

I've thought about an HTML importer myself for sure.

I think the DOM parser in php 4 was nasty, but the DOM parser for php  
5 could be "bent" to work if you go that far. If your lucky and are  
sure there is some standard element to key from some grep parser would  
probably the easiest.

Personally I ran into too much poorly generated user HTML for the time  
and effort. I would have to fix things in the HTML, run it through  
said importer, get everything filtered into the database correctly,  
and then deal with attachments if any.

Heh, a cool HTML importer that took a zip file would be awesome. Even  
if it was done page by page or post by post it'd still be cool.

Jess

On Feb 6, 2009, at 11:52 AM, Stephanie Leary wrote:

> I was thinking more along the lines of parsing the files as XML, but  
> I'm
> open to suggestions.

From dangayle at gmail.com  Fri Feb  6 18:29:15 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Fri Feb  6 18:29:29 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <EMEWEMEW2_DELIMl15CID38b9fcedf35b4f5ef73630,
	mikeschinkel@newclarity.net, 11493215.791233944295481.J>
References: <EMEWEMEW2_DELIMl15CID38b9fcedf35b4f5ef73630,
	mikeschinkel@newclarity.net, 11493215.791233944295481.J>
Message-ID: <F3478ADA-FFF9-4A38-BDC7-7B17B25640DF@gmail.com>

Why use PHP? DOM manipulation in jQuery is easy. The jQuery to do it  
is light:

$(document).ready(function() {
     $('.nav a').click(function() { //when you click on a link within  
the .nav container
         var url = $(this).attr('href'); //creates a variable of the  
link's href attribute
         $('#content').load(url + ' #contentInside'); //loads the  
entire #contentInside content into #content, if #contentInside exists,  
it replaces it
         return false; //don't follow the link
     }
     );
);


On Feb 6, 2009, at 10:18 AM, Mike Schinkel wrote:

> I think you'll be better off using preg_match(). That's what most  
> screen-scrapers use...
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "Stephanie Leary" <steph@sillybean.net>
> To: wp-hackers@lists.automattic.com
> Sent: Friday, February 6, 2009 12:52:29 PM GMT -05:00 US/Canada  
> Eastern
> Subject: Re: [wp-hackers] Importing HTML files as pages -- been done?
>
> On Fri, 6 Feb 2009 09:50:17 -0800, Dan Gayle <dangayle@gmail.com>  
> wrote:
>> Isn't that something that you could use AJAX for? That's a simple
>> jQuery thing to do using innerHtml
>
> I was thinking more along the lines of parsing the files as XML, but  
> I'm
> open to suggestions.
>
>
> Stephanie
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From beau at dentedreality.com.au  Fri Feb  6 18:32:54 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Fri Feb  6 18:33:08 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <539E65FF-3248-4B63-A663-E18E93918430@funroe.net>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
	<74a8f8d80902060950o56dd9ab7p6082b51474728d43@mail.gmail.com>
	<9d50a49f81690f5208fc132e5fc03a83@laurel.joyent.us>
	<539E65FF-3248-4B63-A663-E18E93918430@funroe.net>
Message-ID: <902424490902061032l7703c7fatd6d1c170a1c04520@mail.gmail.com>

> I think the DOM parser in php 4 was nasty, but the DOM parser for php 5
> could be "bent" to work if you go that far. If your lucky and are sure there
> is some standard element to key from some grep parser would probably the
> easiest.

Assuming this was non-core (and thus has the flexibility to rely on
extensions that's aren't standard fare), you could use
http://us2.php.net/tidy to get a cleaned/tidied file, which you can
then manipulate as XML. I haven't used the PHP version, but I'd used
Tidy before and it's pretty slick. You can get some strange nesting of
elements sometimes if your source HTML is really scrappy though.
From mail at arickmann.co.uk  Fri Feb  6 18:46:24 2009
From: mail at arickmann.co.uk (Andrew Rickmann)
Date: Fri Feb  6 18:46:37 2009
Subject: [wp-hackers] Multiwidget Support
In-Reply-To: <f9211ee069813487f7b5d5f397bc3c43@laurel.joyent.us>
References: <C5B0A60D.29BB1%chris@clwill.com>
	<f9211ee069813487f7b5d5f397bc3c43@laurel.joyent.us>
Message-ID: <d0bc6e050902061046he66f614l8be46b725be75d18@mail.gmail.com>

The current widget code seems massively over-complicated to me. If the
class just abstracts that then is it really that much of an
improvement?

For a concept as simple as widgets it should be easy to produce some
ground up object oriented code to simplify the whole lot.

Aren't widgets due for a revamp in 2.8 anyway?

Andrew

2009/2/6 Stephanie Leary <steph@sillybean.net>:
> On Thu, 05 Feb 2009 14:19:57 -0800, Chris Williams <chris@clwill.com>
> wrote:
>> +1 for a clean, simple class that implements this in core.  And true
> enough
>> that the exception should be a single instance one, not the other way
>> around.
>
> I absolutely agree.
>
>> Spent the last 36 hours trying like heck to get a multi-widget to work
>> right.  It's almost like magic spell incantation, try something, hope it
>> works, try something else :)
>
> Have you seen this example?
> http://wp.gdragon.info/2008/07/06/create-multi-instances-widget/
>
> I based my own widget on that code. I won't say it was the easiest thing
> I've ever written, but I had more problems with my logic than with the
> example. ;)
>
>
> Stephanie
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ncrice at gmail.com  Fri Feb  6 18:49:26 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Fri Feb  6 18:49:41 2009
Subject: [wp-hackers] Multiwidget Support
In-Reply-To: <d0bc6e050902061046he66f614l8be46b725be75d18@mail.gmail.com>
References: <C5B0A60D.29BB1%chris@clwill.com>
	<f9211ee069813487f7b5d5f397bc3c43@laurel.joyent.us>
	<d0bc6e050902061046he66f614l8be46b725be75d18@mail.gmail.com>
Message-ID: <862d087f0902061049w3ad68001s4145a729fb96ba81@mail.gmail.com>

Andrew,
I completely agree.  I think the entire widgets code and concept needs to be
demolished and rewritten.  It seems horribly complicated and unnecessarily
difficult to use.  Also, the interface needs work as well.

+1 for starting over.

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Fri, Feb 6, 2009 at 12:46 PM, Andrew Rickmann <mail@arickmann.co.uk>wrote:

> The current widget code seems massively over-complicated to me. If the
> class just abstracts that then is it really that much of an
> improvement?
>
> For a concept as simple as widgets it should be easy to produce some
> ground up object oriented code to simplify the whole lot.
>
> Aren't widgets due for a revamp in 2.8 anyway?
>
> Andrew
>
> 2009/2/6 Stephanie Leary <steph@sillybean.net>:
> > On Thu, 05 Feb 2009 14:19:57 -0800, Chris Williams <chris@clwill.com>
> > wrote:
> >> +1 for a clean, simple class that implements this in core.  And true
> > enough
> >> that the exception should be a single instance one, not the other way
> >> around.
> >
> > I absolutely agree.
> >
> >> Spent the last 36 hours trying like heck to get a multi-widget to work
> >> right.  It's almost like magic spell incantation, try something, hope it
> >> works, try something else :)
> >
> > Have you seen this example?
> > http://wp.gdragon.info/2008/07/06/create-multi-instances-widget/
> >
> > I based my own widget on that code. I won't say it was the easiest thing
> > I've ever written, but I had more problems with my logic than with the
> > example. ;)
> >
> >
> > Stephanie
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ionfish at gmail.com  Fri Feb  6 19:22:40 2009
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Fri Feb  6 19:25:13 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <902424490902061032l7703c7fatd6d1c170a1c04520@mail.gmail.com>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
	<74a8f8d80902060950o56dd9ab7p6082b51474728d43@mail.gmail.com>
	<9d50a49f81690f5208fc132e5fc03a83@laurel.joyent.us>
	<539E65FF-3248-4B63-A663-E18E93918430@funroe.net>
	<902424490902061032l7703c7fatd6d1c170a1c04520@mail.gmail.com>
Message-ID: <fd3b80510902061122w67fa694ei8f1bb920697b763b@mail.gmail.com>

Hpricot is a lovely library.

http://wiki.github.com/why/hpricot
From steph at sillybean.net  Fri Feb  6 19:50:08 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Fri Feb  6 19:50:16 2009
Subject: [wp-hackers] Importing HTML files as pages -- been
	=?UTF-8?Q?done=3F?=
In-Reply-To: <F3478ADA-FFF9-4A38-BDC7-7B17B25640DF@gmail.com>
References: <EMEWEMEW2_DELIMl15CID38b9fcedf35b4f5ef73630,
	mikeschinkel@newclarity.net, 11493215.791233944295481.J>
	<F3478ADA-FFF9-4A38-BDC7-7B17B25640DF@gmail.com>
Message-ID: <0f2ae935652a930ea37e93018bc67ded@laurel.joyent.us>

On Fri, 6 Feb 2009 10:29:15 -0800, Dan Gayle <dangayle@gmail.com> wrote:
> Why use PHP? DOM manipulation in jQuery is easy. 

Because this isn't an operation that needs to be pushed to the client. I'm
not manipulating the DOM in order to present an altered copy to the
visitor; I'm crawling directories and preparing data for storage in the
database. 

We might be working from different assumptions. I was thinking that the
files to be imported would be -- at least for my first attempt at this --
stored on the same server as the WP installation. Were you envisioning
having the user select files from their local drive?


Stephanie

From mikeschinkel at newclarity.net  Fri Feb  6 19:55:11 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb  6 19:57:40 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <fd3b80510902061122w67fa694ei8f1bb920697b763b@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl15DyB930b07a2fd0b09b63deecb,
	mikeschinkel@newclarity.net, 2402740.811233950114003.J>

Ruby?  Hell, it we're suggesting non PHP options she should try Beautiful Soup:

http://www.crummy.com/software/BeautifulSoup/


-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Benedict Eastaugh" <ionfish@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Friday, February 6, 2009 2:22:40 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Importing HTML files as pages -- been done?

Hpricot is a lovely library.

http://wiki.github.com/why/hpricot
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From otto at ottodestruct.com  Fri Feb  6 20:07:01 2009
From: otto at ottodestruct.com (Otto)
Date: Fri Feb  6 20:07:15 2009
Subject: [wp-hackers] Improve community features on wordpress.org/trac
In-Reply-To: <902424490902060938k299984f4xd24d5b0a1d3308bb@mail.gmail.com>
References: <902424490902051609y1481f140t5a9ec55ee18f3949@mail.gmail.com>
	<498BE0D1.8060005@cubegames.net>
	<427667db0902052308s3e641414p3533801bbf2c6c74@mail.gmail.com>
	<902424490902060938k299984f4xd24d5b0a1d3308bb@mail.gmail.com>
Message-ID: <161617690902061207y634e89d8re1a01c79f646dc8a@mail.gmail.com>

On Fri, Feb 6, 2009 at 11:38 AM, Beau Lebens <beau@dentedreality.com.au> wrote:
> Consider me convinced. I guess part of what drove me to make these
> suggestions was the lack of profile information on trac. It'd be nice
> to be able to get a "feel" for a user on trac (assuming you don't know
> them already) by clicking their username and seeing some kind of
> reputation for that user. e.g. if they've opened 50 tickets, all of
> which have been closed as duplicate/wontfix/works-for-me, then perhaps
> this new ticket they opened should be taken with a grain of salt.

Try searching for them by name in the upper right search box. Shows
everything they've done on trac. Example:
http://trac.wordpress.org/search?q=Otto42

-Otto
From harish.mlists at gmail.com  Fri Feb  6 20:19:37 2009
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Fri Feb  6 20:19:53 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
Message-ID: <498C9B59.4010104@gmail.com>

Stephanie Leary wrote:
> 
> I'm thinking of working on a plugin to import HTML files as pages,
> ideally preserving the directory structure in the page hierarchy.
> (I'll be working on the assumption that the files use a common HTML
> structure, and that there is a standard div ID or something that can
> be used to extract the portion of the page we want to import.) 
> 
> I've Googled a bit and searched Trac, and haven't found any other
> projects like this, only users asking for it. :) If you know of anyone
> already working on the problem, please let me know. 

I stumbled upon the following page while googling:
http://www.stonemind.net/blog/2007/11/18/a-possible-approach-to-importing-static-content-into-drupal/

It ought to be straightforward to rework it/use it for design
inspiration to apply to WordPress.

Harish
From mike at zed1.com  Fri Feb  6 20:39:49 2009
From: mike at zed1.com (Mike Little)
Date: Fri Feb  6 20:40:04 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
Message-ID: <7235ce780902061239r6c3a7d14yb8be919cef63f3e4@mail.gmail.com>

2009/2/6 Stephanie Leary <steph@sillybean.net>:
> I'm thinking of working on a plugin to import HTML files as pages,
> ideally preserving the directory structure in the page hierarchy.
> ...
> I've Googled a bit and searched Trac, and haven't found any other
> projects like this, only users asking for it. :) If you know of anyone
> already working on the problem, please let me know.
> Stephanie
> _______________________________________________


Hi Stephanie and others on this thread,

I will probably release a WordPress importer in the next few hours
which takes an XHTML hierarchy of files and imports it into WordPress
as pages.

It was written to import the XHTML output of the DITA[1] Open
Toolkit[2] a tool which takes XML topics in DITA format and converts
them to a number of formats, including PDF, Win Help, and XHTML. It
uses the body tag to grab what it needs.

It is very rough and specific to the use it was put to in my last
company. It also works on WPmu (in fact it might only work on mu now).

It uses PHP5's xml manipulation and has some quirky stuff in it. For
instance importing 1200 files in one go on windows used to always time
out (PHP timeout calc on windows uses wallclock time not cpu time), so
it can be restarted and it will process from where it left off.

I'll tidy it a little, put together some documentation, and try to get
it released this evening. Otherwise this weekend for sure.

I mentioned it and DITA over in this post [3] on WP-Docs as part of
this conversation [4].


Mike
-- 
Mike Little
http://zed1.com/

[1] http://dita.xml.org/book/getting-started
[2] http://dita.xml.org/wiki/the-dita-open-toolkit
[3] http://comox.textdrive.com/pipermail/wp-docs/2009-January/001890.html
[4] http://comox.textdrive.com/pipermail/wp-docs/2009-January/001862.html
From steph at sillybean.net  Fri Feb  6 20:41:55 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Fri Feb  6 20:42:18 2009
Subject: [wp-hackers] Importing HTML files as pages -- been
	=?UTF-8?Q?done=3F?=
In-Reply-To: <7235ce780902061239r6c3a7d14yb8be919cef63f3e4@mail.gmail.com>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
	<7235ce780902061239r6c3a7d14yb8be919cef63f3e4@mail.gmail.com>
Message-ID: <e2a83a794a861420df181d590ba2c31d@laurel.joyent.us>

On Fri, 6 Feb 2009 20:39:49 +0000, Mike Little <mike@zed1.com> wrote:
> I will probably release a WordPress importer in the next few hours
> which takes an XHTML hierarchy of files and imports it into WordPress
> as pages.

Fantastic! I look forward to trying it out.


Stephanie

From chris at clwill.com  Fri Feb  6 22:33:40 2009
From: chris at clwill.com (Chris Williams)
Date: Fri Feb  6 22:34:47 2009
Subject: [wp-hackers] Multiwidget Support
In-Reply-To: <f9211ee069813487f7b5d5f397bc3c43@laurel.joyent.us>
Message-ID: <C5B1FAC4.41C37%chris@clwill.com>

I had not seen that.  I based mine off the sample code in the bottom of
wp-includes/widgets.php

Thanks for the pointer.

> From: Stephanie Leary <steph@sillybean.net>
> 
> Have you seen this example?
> http://wp.gdragon.info/2008/07/06/create-multi-instances-widget/
> 
> I based my own widget on that code. I won't say it was the easiest thing
> I've ever written, but I had more problems with my logic than with the
> example. ;)

From mikeschinkel at newclarity.net  Fri Feb  6 22:40:31 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb  6 22:42:16 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <F3478ADA-FFF9-4A38-BDC7-7B17B25640DF@gmail.com>
Message-ID: <EMEWEMEW2_DELIMl15GeW5e29bde2d5620173d2f7cd,
	mikeschinkel@newclarity.net, 12443607.1121233960034102.J>

>> Why use PHP? 

So it can be done robustly on the server and more easily debugged, for me anyway.


-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Dan Gayle" <dangayle@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Friday, February 6, 2009 1:29:15 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Importing HTML files as pages -- been done?

Why use PHP? DOM manipulation in jQuery is easy. The jQuery to do it  
is light:

$(document).ready(function() {
     $('.nav a').click(function() { //when you click on a link within  
the .nav container
         var url = $(this).attr('href'); //creates a variable of the  
link's href attribute
         $('#content').load(url + ' #contentInside'); //loads the  
entire #contentInside content into #content, if #contentInside exists,  
it replaces it
         return false; //don't follow the link
     }
     );
);


On Feb 6, 2009, at 10:18 AM, Mike Schinkel wrote:

> I think you'll be better off using preg_match(). That's what most  
> screen-scrapers use...
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "Stephanie Leary" <steph@sillybean.net>
> To: wp-hackers@lists.automattic.com
> Sent: Friday, February 6, 2009 12:52:29 PM GMT -05:00 US/Canada  
> Eastern
> Subject: Re: [wp-hackers] Importing HTML files as pages -- been done?
>
> On Fri, 6 Feb 2009 09:50:17 -0800, Dan Gayle <dangayle@gmail.com>  
> wrote:
>> Isn't that something that you could use AJAX for? That's a simple
>> jQuery thing to do using innerHtml
>
> I was thinking more along the lines of parsing the files as XML, but  
> I'm
> open to suggestions.
>
>
> Stephanie
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mike at zed1.com  Sat Feb  7 00:15:57 2009
From: mike at zed1.com (Mike Little)
Date: Sat Feb  7 00:16:11 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <7235ce780902061239r6c3a7d14yb8be919cef63f3e4@mail.gmail.com>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
	<7235ce780902061239r6c3a7d14yb8be919cef63f3e4@mail.gmail.com>
Message-ID: <7235ce780902061615l7fd8c936oe277c129719066c2@mail.gmail.com>

2009/2/6 Mike Little <mike@zed1.com>:
> I will probably release a WordPress importer in the next few hours
> which takes an XHTML hierarchy of files and imports it into WordPress
> as pages.
>

OK. It's out! http://zed1.com/journalized/wordpress-plugins/dita-to-wordpress-import-tool/


Mike
-- 
Mike Little
http://zed1.com/
From sj at sawtoothid.com  Sat Feb  7 06:22:19 2009
From: sj at sawtoothid.com (Steve Johnson)
Date: Sat Feb  7 06:22:24 2009
Subject: [wp-hackers] A question about update_usermeta()
Message-ID: <8A91AF7BBCFC4F348DB9802B3E462864@sawtooth>

I fought with this for an hour before I finally figured out what was going
on.

I was trying to store a zero 0 value in user_meta table using
update_usermeta(), and the metadata wasn't being created. After diving into
the function in user.php:

	function update_usermeta( $user_id, $meta_key, $meta_value )

I find that the function is evaluating the passed $meta_value using
if(empty($meta_value)). If empty, the metadata is removed. If not empty,
$meta_value is maybe_serialized, then stored.

0 evaluates to empty. String '0' evaluates as empty.

Is this something that should be fixed, or should I just not try to store
the value 0? 


Steve Johnson

From mailinglistaddy at nerdshack.com  Sat Feb  7 08:05:36 2009
From: mailinglistaddy at nerdshack.com (MLA)
Date: Sat Feb  7 08:05:52 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
Message-ID: <498D40D0.6070106@nerdshack.com>

Stephanie Leary wrote:

> I'm thinking of working on a plugin to import HTML files as pages,
> ideally preserving the directory structure in the page hierarchy.

[...]

I have the opposite problem and can't find a solution. I need to convert a WP 
site to static HTML pages. In case anyone is wondering why, it's a local govt 
site for a now defunct organisation that will never be updated again but has to 
be kept alive for three years (legal/archive reasons). Removing WP would reduce 
maintenance to almost zero. I could sit and manually save and clean up 600+ 
pages  but it would take longer than the current maintenance time. No amount of 
searching has so far come up with a usable solution but if anyone knows of a way 
I'd be eternally (well, three years) grateful.

Thanks in advance.

-- 
MLA.

From wordpress at dd32.id.au  Sat Feb  7 08:11:42 2009
From: wordpress at dd32.id.au (DD32)
Date: Sat Feb  7 08:11:51 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <498D40D0.6070106@nerdshack.com>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
	<498D40D0.6070106@nerdshack.com>
Message-ID: <45055a190902070011q18e44c79m48bb401066704163@mail.gmail.com>

2009/2/7 MLA <mailinglistaddy@nerdshack.com>:
> I have the opposite problem and can't find a solution. I need to convert a
> WP site to static HTML pages. In case anyone is wondering why, it's a local
> govt site for a now defunct organisation that will never be updated again
> but has to be kept alive for three years (legal/archive reasons). Removing
> WP would reduce maintenance to almost zero. I could sit and manually save
> and clean up 600+ pages  but it would take longer than the current
> maintenance time. No amount of searching has so far come up with a usable
> solution but if anyone knows of a way I'd be eternally (well, three years)
> grateful.

I cant mention any software by name, But theres a large number of
"Website Rippers" and "Offline Saver" software's which download entire
websites, and keep the links exactly the same, and the document
structure the same.

ie, It'd convert  /wordpress/page-name/ into a file:
c:/www/wordpress/page-name/index.html, requests for
/wordpress/page-name/ cause the webserver to serve up index.html...
etc.

I've used that a few times in the past for converting php sites into
standard .html as required for submittal.. (Great for creating the
menu's and templating for static sites, Just php it to start with,
then rip it to .html afterwards, saved me a heap of time in the past)
From harish.mlists at gmail.com  Sat Feb  7 08:18:51 2009
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Sat Feb  7 08:19:09 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <498D40D0.6070106@nerdshack.com>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>
	<498D40D0.6070106@nerdshack.com>
Message-ID: <498D43EB.90303@gmail.com>

MLA wrote:
> I have the opposite problem and can't find a solution. I need to convert
> a WP site to static HTML pages. In case anyone is wondering why, it's a
> local govt site for a now defunct organisation that will never be
> updated again but has to be kept alive for three years (legal/archive
> reasons). Removing WP would reduce maintenance to almost zero. I could
> sit and manually save and clean up 600+ pages  but it would take longer
> than the current maintenance time. No amount of searching has so far
> come up with a usable solution but if anyone knows of a way I'd be
> eternally (well, three years) grateful.

Here's a sequence of steps that works for me, but for an entirely
different purpose[1].

1. Install wp-super-cache.
(http://wordpress.org/extend/plugins/wp-super-cache/)

2. Write a script to make sure all your pages are crawled. This ensures
that wp-super-cache at least generates all pages once and stores them
statically.

   In order to do this, I've:

    a. Installed the XML sitemap generator plugin.
(http://wordpress.org/extend/plugins/google-sitemap-generator/)
    b. Fetch its output, say listing.xml, and create a bash script to
pull all the files:
    grep '<loc>' listing.xml | sed 's/<loc>/ wget --delete-after /' |
sed 's/<\/loc>//' > listing.sh
    c. Run this script using 'bash ./listing.sh'

3. Save the cache folder created on your server.
   ($WP_HOME/wp-content/cache/supercache/yoursite.local.gov/)
   This preserves your website exactly the way it is, including link
structure.

Harish

[1] I use it to make WordPress behave like an engine that generates
static HTML on inexpensive servers where the MySQL connection is
sometimes overloaded and hence slow/flaky.
From mailinglistaddy at nerdshack.com  Sat Feb  7 08:38:28 2009
From: mailinglistaddy at nerdshack.com (MLA)
Date: Sat Feb  7 08:38:46 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <45055a190902070011q18e44c79m48bb401066704163@mail.gmail.com>
References: <d443211a4ff9ee65e72ea9ee4fb0552e@laurel.joyent.us>	<498D40D0.6070106@nerdshack.com>
	<45055a190902070011q18e44c79m48bb401066704163@mail.gmail.com>
Message-ID: <498D4884.1020905@nerdshack.com>

DD32 wrote:

> I cant mention any software by name, But theres a large number of
> "Website Rippers" and "Offline Saver" software's which download entire
> websites, and keep the links exactly the same, and the document
> structure the same.

That was a major doh! moment for me. I'll give it a whirl with WinHTTrack and 
see what happens. Thanks!

[...]

-- 
MLA.

From mikeschinkel at newclarity.net  Sat Feb  7 16:11:54 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Feb  7 16:12:14 2009
Subject: [wp-hackers] A question about update_usermeta()
In-Reply-To: <8A91AF7BBCFC4F348DB9802B3E462864@sawtooth>
Message-ID: <EMEWEMEW2_DELIMl16ABs960db484be3ec78c299cc6,
	mikeschinkel@newclarity.net, 5601820.1261234023110512.J>

Yeouch. That's pretty much a bug in my mind.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Steve Johnson" <sj@sawtoothid.com>
To: wp-hackers@lists.automattic.com
Sent: Saturday, February 7, 2009 1:22:19 AM GMT -05:00 US/Canada Eastern
Subject: [wp-hackers] A question about update_usermeta()

I fought with this for an hour before I finally figured out what was going
on.

I was trying to store a zero 0 value in user_meta table using
update_usermeta(), and the metadata wasn't being created. After diving into
the function in user.php:

	function update_usermeta( $user_id, $meta_key, $meta_value )

I find that the function is evaluating the passed $meta_value using
if(empty($meta_value)). If empty, the metadata is removed. If not empty,
$meta_value is maybe_serialized, then stored.

0 evaluates to empty. String '0' evaluates as empty.

Is this something that should be fixed, or should I just not try to store
the value 0? 


Steve Johnson

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From johan.eenfeldt at gmail.com  Sat Feb  7 16:48:45 2009
From: johan.eenfeldt at gmail.com (Johan Eenfeldt)
Date: Sat Feb  7 16:48:57 2009
Subject: [wp-hackers] Stripping attachment handling from rewrite rules
Message-ID: <7547287e0902070848y22343349g7c3be8c4536cfd7b@mail.gmail.com>

Inspired by the recent discussion of permalinks on wp-testers I took a
closer look at my rewrite_rules.

We use %postname% as permalink, which result in verbose rewrite_rules
-- in our case ~8000 rules (~350KB).

Looking a bit closer, most of that was various rewrites handling
attachments -- all pictures on all pages got a few each. This is done
to allow linking to and using them the same way as posts. Something we
do not use.

So I tried just strippin them:

function filter_rewrite_attachment($content) {
	if (!is_array($content))
		return $content;

	foreach ($content as $key => $val) {
		if (strpos($val, 'attachment') !== false)
			unset($content[$key]);
	}

	return $content;
}
add_filter('page_rewrite_rules', 'filter_rewrite_attachment');
add_filter('post_rewrite_rules', 'filter_rewrite_attachment');

This got the size of rewrite_rules down to ~300 rules (~35KB), and
seems to work just fine.

We didn't really have any problems (yet?) by the proliferation of
rewrite rules -- though changing it decreases the average mysql
transfers by almost 50%!

Anyone knows any reason not to do this?

Thank you,
Johan Eenfeldt
From otto at ottodestruct.com  Sat Feb  7 16:48:47 2009
From: otto at ottodestruct.com (Otto)
Date: Sat Feb  7 16:48:59 2009
Subject: [wp-hackers] A question about update_usermeta()
In-Reply-To: <-727093502912323439@unknownmsgid>
References: <8A91AF7BBCFC4F348DB9802B3E462864@sawtooth>
	<-727093502912323439@unknownmsgid>
Message-ID: <161617690902070848y385f86cejbaa4190e3ccf9503@mail.gmail.com>

Well, it's not new. Looking through the history, it's been like that
for at least 2 years or so. So I'm hard pressed to say whether it's
intentional or not. Removing it might break something that relies on
it.

I'd say that if you have to store any empty value, then you need to
recognize the empty value you'll get back from get_usermeta (empty
string or an empty array) and act accordingly.



On Sat, Feb 7, 2009 at 10:11 AM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Yeouch. That's pretty much a bug in my mind.
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "Steve Johnson" <sj@sawtoothid.com>
> To: wp-hackers@lists.automattic.com
> Sent: Saturday, February 7, 2009 1:22:19 AM GMT -05:00 US/Canada Eastern
> Subject: [wp-hackers] A question about update_usermeta()
>
> I fought with this for an hour before I finally figured out what was going
> on.
>
> I was trying to store a zero 0 value in user_meta table using
> update_usermeta(), and the metadata wasn't being created. After diving into
> the function in user.php:
>
>        function update_usermeta( $user_id, $meta_key, $meta_value )
>
> I find that the function is evaluating the passed $meta_value using
> if(empty($meta_value)). If empty, the metadata is removed. If not empty,
> $meta_value is maybe_serialized, then stored.
>
> 0 evaluates to empty. String '0' evaluates as empty.
>
> Is this something that should be fixed, or should I just not try to store
> the value 0?
>
>
> Steve Johnson
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From kalle at wangstedt.net  Sat Feb  7 22:38:42 2009
From: kalle at wangstedt.net (=?ISO-8859-1?Q?Karl_W=E5ngstedt?=)
Date: Sat Feb  7 22:39:09 2009
Subject: [wp-hackers] Problem with custom TinyMCE button
In-Reply-To: <498C28F7.4020904@laptoptips.ca>
References: <5830A8D6-5AA9-46CB-8962-C6E4689EA287@wangstedt.net>	<498B140B.6060702@laptoptips.ca>
	<5C7999DA-C348-4E93-A631-EC1B46BE3D5D@wangstedt.net>
	<498C28F7.4020904@laptoptips.ca>
Message-ID: <4A4ED905-7747-4509-8D85-95AAA91F37D0@wangstedt.net>

6 feb 2009 kl. 13.11 skrev Andrew Ozz:

> Looking at the function there are couple of things:

Supergreat! Thank you.

I did as you said, and used the replace method instead. The insertion  
now looks like:

var kewvalue = ed.selection.getContent({format : 'text'});
var e = ed.dom.getParent(ed.selection.getNode(), 'A');
var kewuri = ed.dom.getAttrib(e, 'href');
e.replace('<p class="align02"><video src="'+kewuri+'"  
controls="true"><a href="'+kewuri+'">'+kewvalue+'</a></video></p>',  
'A');

This works, and I hope I do as I am supposed to do.

Sincerely
Karl W?ngstedt
----------------------------------
          W?ngstedt  nova
         www.wangstedt.net

Karl W?ngstedt       0278-61 12 33
Stenhuggarv?gen 3g   070-578 13 04
821 41  BOLLN?S
----------------------------------
Det h?r brevet skickades med en Macintosh fr?n Apple.
Garanterat virusfri med Mac OS X.
From heiko.rabe at code-styling.de  Sun Feb  8 00:10:43 2009
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Sun Feb  8 00:10:47 2009
Subject: [wp-hackers] how long does a security report response take ?
Message-ID: <498E2303.9010506@code-styling.de>

Hi,
is somebody familar with wp security report response times ?
I didn't get any response after 48 hours lapsed now. May be, this has 
been moved to spam folder, because a *.zip file was attached containing 
screenshots and description about ?
The mail headline contains this: "WordPress 2.7 produces fatal error 
inside Apache WebServer (Access Violation at Apache Server Module)".

regards

Heiko Rabe

From wordpress at dd32.id.au  Sun Feb  8 00:17:25 2009
From: wordpress at dd32.id.au (DD32)
Date: Sun Feb  8 00:17:36 2009
Subject: [wp-hackers] how long does a security report response take ?
In-Reply-To: <498E2303.9010506@code-styling.de>
References: <498E2303.9010506@code-styling.de>
Message-ID: <45055a190902071617m739bdafdu39f2f089511df72a@mail.gmail.com>

It might sometimes take a bit for someone to look into it, However, No
idea how long, Or if you should even expect a reply.

However, WordPress cannot cause that sort of error, That'll be a
PHP/Apache bug..

2009/2/8 Heiko Rabe <heiko.rabe@code-styling.de>:
> Hi,
> is somebody familar with wp security report response times ?
> I didn't get any response after 48 hours lapsed now. May be, this has been
> moved to spam folder, because a *.zip file was attached containing
> screenshots and description about ?
> The mail headline contains this: "WordPress 2.7 produces fatal error inside
> Apache WebServer (Access Violation at Apache Server Module)".
>
> regards
>
> Heiko Rabe
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From heiko.rabe at code-styling.de  Sun Feb  8 00:23:16 2009
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Sun Feb  8 00:23:23 2009
Subject: [wp-hackers] how long does a security report response take ?
In-Reply-To: <45055a190902071617m739bdafdu39f2f089511df72a@mail.gmail.com>
References: <498E2303.9010506@code-styling.de>
	<45055a190902071617m739bdafdu39f2f089511df72a@mail.gmail.com>
Message-ID: <498E25F4.9030309@code-styling.de>

The bug is forced by insufficient parameter checks at WordPress code and 
should not be happen, even there is a bug inside PHP or Apache.
It can be avoided by adding some appropriated lines.

I know, that this is a PHP/Apache issue but i WP calls a PHP function 
with malformed parameters could be avoided, than it's a WP bug too, in 
my opinion.

regards
> It might sometimes take a bit for someone to look into it, However, No
> idea how long, Or if you should even expect a reply.
>
> However, WordPress cannot cause that sort of error, That'll be a
> PHP/Apache bug..
>
> 2009/2/8 Heiko Rabe <heiko.rabe@code-styling.de>:
>   
>> Hi,
>> is somebody familar with wp security report response times ?
>> I didn't get any response after 48 hours lapsed now. May be, this has been
>> moved to spam folder, because a *.zip file was attached containing
>> screenshots and description about ?
>> The mail headline contains this: "WordPress 2.7 produces fatal error inside
>> Apache WebServer (Access Violation at Apache Server Module)".
>>
>> regards
>>
>> Heiko Rabe
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   

From wordpress at dd32.id.au  Sun Feb  8 00:27:12 2009
From: wordpress at dd32.id.au (DD32)
Date: Sun Feb  8 00:27:25 2009
Subject: [wp-hackers] how long does a security report response take ?
In-Reply-To: <498E25F4.9030309@code-styling.de>
References: <498E2303.9010506@code-styling.de>
	<45055a190902071617m739bdafdu39f2f089511df72a@mail.gmail.com>
	<498E25F4.9030309@code-styling.de>
Message-ID: <45055a190902071627t5fd60e35ta27cd9a779e05264@mail.gmail.com>

Well, In that case, If its not something that mentioning the code in
question would result in an attacker being able to compromise a tonne
of WordPress installs (I get the feeling its more of a code issue, and
not one that can be exploited remotely?) then opening a trac ticket
could be a better avenue (possibly)

http://trac.wordpress.org/

2009/2/8 Heiko Rabe <heiko.rabe@code-styling.de>:
> The bug is forced by insufficient parameter checks at WordPress code and
> should not be happen, even there is a bug inside PHP or Apache.
> It can be avoided by adding some appropriated lines.
>
> I know, that this is a PHP/Apache issue but i WP calls a PHP function with
> malformed parameters could be avoided, than it's a WP bug too, in my
> opinion.
>
> regards
>>
>> It might sometimes take a bit for someone to look into it, However, No
>> idea how long, Or if you should even expect a reply.
>>
>> However, WordPress cannot cause that sort of error, That'll be a
>> PHP/Apache bug..
>>
>> 2009/2/8 Heiko Rabe <heiko.rabe@code-styling.de>:
>>
>>>
>>> Hi,
>>> is somebody familar with wp security report response times ?
>>> I didn't get any response after 48 hours lapsed now. May be, this has
>>> been
>>> moved to spam folder, because a *.zip file was attached containing
>>> screenshots and description about ?
>>> The mail headline contains this: "WordPress 2.7 produces fatal error
>>> inside
>>> Apache WebServer (Access Violation at Apache Server Module)".
>>>
>>> regards
>>>
>>> Heiko Rabe
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From danf at eliresearch.com  Sun Feb  8 01:21:28 2009
From: danf at eliresearch.com (Dan Fellars)
Date: Sun Feb  8 01:21:51 2009
Subject: [wp-hackers] Reference TermId or TermTaxonomyId for category plugin?
Message-ID: <AFF9A1A87EACDD418AF3FC7B77548E610317657D@MI8NYCMAIL17.Mi8.com>

Hi - I am writing a plugin that creates metadata for categories (using
the c2c custom fields for anything plugin as the core).

Im debating which table I should reference back to - the terms or
term_taxonomy table?

To me it makes sense to reference the term_taxonomy_id in the
term_taxonomy table since then you know you are getting the category
taxonomy.

But it seems that wordpress always references the term_id  (i.e. the
cat_ID in categories.php refers to the term_id).


Is the proper way to reference term_id when referring to categories?

Thanks,

danf
From danf at eliresearch.com  Sun Feb  8 02:54:02 2009
From: danf at eliresearch.com (Dan Fellars)
Date: Sun Feb  8 02:54:22 2009
Subject: [wp-hackers] RE: Reference TermId or TermTaxonomyId for category
	plugin?
Message-ID: <AFF9A1A87EACDD418AF3FC7B77548E610317657E@MI8NYCMAIL17.Mi8.com>

Now that I've looked at this more, maybe term_taxonomy is the better
approach, seeing as that is how the term_relationships table works.

If so, anyone know the easiest way to get the term_taxonomy_id if you
have the term_id?

I tried looking to no avail for some function like: get_tt_id($termid,
'category') - does anything like that exist?

Thanks,
danf
From yahgrp at poplarware.com  Sun Feb  8 05:34:11 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Sun Feb  8 05:31:46 2009
Subject: [wp-hackers] Reference TermId or TermTaxonomyId for category
	plugin?
In-Reply-To: <AFF9A1A87EACDD418AF3FC7B77548E610317657D@MI8NYCMAIL17.Mi8.com>
References: <AFF9A1A87EACDD418AF3FC7B77548E610317657D@MI8NYCMAIL17.Mi8.com>
Message-ID: <498E6ED3.50305@poplarware.com>

I'm not sure that "wordpress always references the term_id". For 
instance, the term_relationships table (which associates categories 
and tags with particular posts) uses term_taxonomy_id as its key, 
because a given term could be both a category and a tag, and you want 
to be able to associate them independently with a post.

However, term_id is the only way to look up the term information (such 
as the slug, term name, etc. -- stored in the terms table), so many 
functions do use term_id.

So I think you could go either way... If you are only concerned with 
metadata for post categories (as opposed to tags or link categories), 
you can probably get away with using term_id. If you are possibly in 
the future going to want to store different metadata for categories 
and tags that might happen to share the same terms table record (i.e. 
same name, slug, etc. and hence the same term_id), then key off 
term_taxonomy_id.

    --Jennifer

Dan Fellars wrote:
> Hi - I am writing a plugin that creates metadata for categories (using
> the c2c custom fields for anything plugin as the core).
> 
> Im debating which table I should reference back to - the terms or
> term_taxonomy table?
> 
> To me it makes sense to reference the term_taxonomy_id in the
> term_taxonomy table since then you know you are getting the category
> taxonomy.
> 
> But it seems that wordpress always references the term_id  (i.e. the
> cat_ID in categories.php refers to the term_id).

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From yahgrp at poplarware.com  Sun Feb  8 05:37:38 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Sun Feb  8 05:35:12 2009
Subject: [wp-hackers] RE: Reference TermId or TermTaxonomyId for category
	plugin?
In-Reply-To: <AFF9A1A87EACDD418AF3FC7B77548E610317657E@MI8NYCMAIL17.Mi8.com>
References: <AFF9A1A87EACDD418AF3FC7B77548E610317657E@MI8NYCMAIL17.Mi8.com>
Message-ID: <498E6FA2.7050003@poplarware.com>

Dan Fellars wrote:
> If so, anyone know the easiest way to get the term_taxonomy_id if you
> have the term_id?

Try the get_term function (in wp-includes/taxonomy.php). That will 
return all the fields from both terms and term_taxonomy, given a term 
ID and the name of a taxonomy.

    --Jennifer


-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From steagl4ml at gmail.com  Sun Feb  8 15:09:27 2009
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Sun Feb  8 15:09:46 2009
Subject: [wp-hackers] Passing info between shotcodes
Message-ID: <j1tto4p2aagoshjtih9g7i7gkeb0l4k82m@4ax.com>

I'm wondering if and how I can pass parameters between shortcodes
defined inside the same plugin.

I wish have a "main" shotcode have various attributes and some of them
are settings that have to be passed to a "child" shotcode, i nedd this
cause the child shotcodes can be more than one

Example:

[main_shortcode par1='ABC' par2='DEF']
[child_shortcode title='123']some text[/child_shortcode]
[child_shortcode title='456']some text[/child_shortcode]
[/main_shortcode]

I wanna use par2 processing child shortcode, i tried to make the
parameter array of the main shortcode global but no luck.

Any suggestion?

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it (personal blog)
       http://www.wordpress-it.it (WordPress Italia)
From harish.mlists at gmail.com  Sun Feb  8 15:38:31 2009
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Sun Feb  8 15:38:47 2009
Subject: [wp-hackers] <title> tag different than set in header.php?
In-Reply-To: <518fa9630902041259g414102adne1ba6beb9e569e65@mail.gmail.com>
References: <349fe48b0902041021j3f89bacbxd0470f3e6b2d3bf9@mail.gmail.com>	<29571842.1321233781021367.JavaMail.DELL-1405$@Dell-1405>
	<518fa9630902041259g414102adne1ba6beb9e569e65@mail.gmail.com>
Message-ID: <498EFC77.2050301@gmail.com>

Matt Martz wrote:
> On Wed, Feb 4, 2009 at 3:56 PM, Mike Schinkel
> <mikeschinkel@newclarity.net> wrote:
>> This one is driving me crazy.
>>
>> I have a header.php that emits the <title> tag and the title the browser sees if different from the html my code generates. I'm using a single step debugger and to test it I kill the execution immediately after I run (the equivalent of) the following like:
>>
>> echo '<title>Foo</title>';
>>
>> However what shows up in my browser's view source is (something like):
>>
>> <title>Bar</title>
>>
>> Is there some hook I'm not seeing that does this?  Is there some place in the admin where "Bar" is set that I can't find?  Does anyone have any idea how this is happening? (I'm sure I'll realize it was stupid once I figure it out, but until then I'm just scratching my head going "WTF?!?")
>>
>> Thanks in advance.
>>
>> -Mike Schinkel
>> http://mikeschinkel.com/
> 
> Please keep in mind that this mailing list is not a support list.  You
> should direct support requests to http://wordpress.org/support/

Apart from the support forum, is there also a mailing list for support?
Something like a 'wp-users' list akin to the 'wp-hackers' list.

Hairsh
From yahgrp at poplarware.com  Sun Feb  8 17:06:19 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Sun Feb  8 17:03:53 2009
Subject: [wp-hackers] <title> tag different than set in header.php?
In-Reply-To: <498EFC77.2050301@gmail.com>
References: <349fe48b0902041021j3f89bacbxd0470f3e6b2d3bf9@mail.gmail.com>	<29571842.1321233781021367.JavaMail.DELL-1405$@Dell-1405>	<518fa9630902041259g414102adne1ba6beb9e569e65@mail.gmail.com>
	<498EFC77.2050301@gmail.com>
Message-ID: <498F110B.2010504@poplarware.com>

> Apart from the support forum, is there also a mailing list for support?
> Something like a 'wp-users' list akin to the 'wp-hackers' list.

No, there isn't.

From daiv at daivmowbray.com  Sun Feb  8 19:49:42 2009
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Sun Feb  8 19:49:55 2009
Subject: [wp-hackers] Passing info between shotcodes
In-Reply-To: <j1tto4p2aagoshjtih9g7i7gkeb0l4k82m@4ax.com>
References: <j1tto4p2aagoshjtih9g7i7gkeb0l4k82m@4ax.com>
Message-ID: <226BE01A-1221-43AA-9446-EC1FAC810801@daivmowbray.com>


I do something similar :

// in the short code function, opdate options if any changes with  
shortcode
// you could simply update an array of your choice.
// Here I update the plugin options based on the shortcode atts.

		if ($atts !='') $this->change_options($atts);

	function change_options( $atts ){
			$this->OpOut = array_merge($this->OpOut, array_filter($atts));

   			return $this->OpOut;
	}

On Feb 8, 2009, at 4:09 PM, Stefano Aglietti wrote:

> Any suggestion?


----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From jidanni at jidanni.org  Sun Feb  8 21:13:25 2009
From: jidanni at jidanni.org (jidanni@jidanni.org)
Date: Sun Feb  8 21:13:40 2009
Subject: [wp-hackers] Re: Importing HTML files as pages -- been done?
References: <7235ce780902061615l7fd8c936oe277c129719066c2@mail.gmail.com>
Message-ID: <87mycwvdhm.fsf@jidanni.org>

My method to import a static website into WordPress is to:
1. Explore the currently offered official import methods in the admin menus.
2. Realize that RSS is the simplest, and indeed, looking at the source
   code one sees that it only cares about <item>s etc.
3. Make a script that turns my pages into such a RSS format > file.xml
   and then import that into WordPress.
P.S., remove any newlines between <p></p> or else expect lots of <br />s in
   WordPress.
From dougal at gunters.org  Sun Feb  8 22:12:07 2009
From: dougal at gunters.org (Dougal Campbell)
Date: Sun Feb  8 22:12:47 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <EMEWEMEW2_DELIMl15CID38b9fcedf35b4f5ef73630,
	mikeschinkel@newclarity.net, 11493215.791233944295481.J>
References: <EMEWEMEW2_DELIMl15CID38b9fcedf35b4f5ef73630,
	mikeschinkel@newclarity.net, 11493215.791233944295481.J>
Message-ID: <498F58B7.1070606@gunters.org>

No, a DOM-based approach is definitely better than regex. Regexes for 
parsing HTML can get *extremely* complicated, and if you start trying to 
write a regex-based parser from scratch, you'll almost certainly miss 
some things. There is all manner of badly formed HTML out in the wild 
(it's not all well-formed XHTML, you know), and you have to consider how 
to handle it. For example, you might have to parse something like:

  <p><img src="foo.mpg" width=512 title='image of a </p> tag' alt="it's 
fun to parse html!" /></p>

Note that you have some attributes with single-quotes, others with 
double-quotes, one with no quotes at all (valid in HTML4), a 
single-quote inside a double-quoted attribute, and there's a close-p tag 
inside an attribute, which would throw a lot of regex-based parsing 
attempts off.

Then you have the fun of deciding how you can extract the main content 
out of some arbitrary set of pages in a generic enough way to make your 
code work with different sets of pages. I've done work in this area 
before in both Perl and PHP, and you *definitely* want to use a 
DOM-based approach. There are libraries available to do the heavy lifting.

Try these bookmarks of mine for some possible starting points:

  http://delicious.com/dougal/screenscraping

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
*Hire me!*


Mike Schinkel wrote:
> I think you'll be better off using preg_match(). That's what most screen-scrapers use...
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "Stephanie Leary" <steph@sillybean.net>
> To: wp-hackers@lists.automattic.com
> Sent: Friday, February 6, 2009 12:52:29 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] Importing HTML files as pages -- been done?
>
> On Fri, 6 Feb 2009 09:50:17 -0800, Dan Gayle <dangayle@gmail.com> wrote:
>   
>> Isn't that something that you could use AJAX for? That's a simple
>> jQuery thing to do using innerHtml
>>     
>
> I was thinking more along the lines of parsing the files as XML, but I'm
> open to suggestions.
>   

From mikeschinkel at newclarity.net  Sun Feb  8 23:11:53 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun Feb  8 23:12:19 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <15305261.1531234134373003.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl17HBr9738a254232a1d764146e7,
	mikeschinkel@newclarity.net, 16133377.1551234134721542.J>

"Dougal Campbell" <dougal@gunters.org> wrote:
> No, a DOM-based approach is definitely better than regex. 
> Regexes for parsing HTML can get *extremely* complicated, 
> and if you start trying to write a regex-based parser from 
> scratch, you'll almost certainly miss some things. 

I agree, in general.  In her specific case she said that she'd have enclosing <div>s with unique IDs identifying the content to select. That <div> would be easy to find even with strpos() and then from there a simple loop to find the applicable closing </div> would work.  Yes there are potential issues with that approach, but they would be rare.  For a general purpose tool those limitations wouldn't be acceptable but for a quick & dirty tool to accomplish a specific conversion it would be sufficient and easy.

Still, for those that feel that only a DOM approach will do I'll not stand in the way by debating it further. :-)

-Mike Schinkel
http://mikeschinkel.com/

From mikeschinkel at newclarity.net  Sun Feb  8 23:23:48 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun Feb  8 23:24:04 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <16133377.1551234134721542.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl17HNm9fbdeb94e1f0d6b9f38202,
	mikeschinkel@newclarity.net, 9451585.1571234135434178.J>

Dougal:

BTW, I just checked your link and found phpQuery & DomQuery which both looks very cool. Thanks for the link, I'll definitely be reviewing those in the future.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Mike Schinkel" <mikeschinkel@newclarity.net>
To: wp-hackers@lists.automattic.com
Sent: Sunday, February 8, 2009 6:11:53 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Importing HTML files as pages -- been done?

"Dougal Campbell" <dougal@gunters.org> wrote:
> No, a DOM-based approach is definitely better than regex. 
> Regexes for parsing HTML can get *extremely* complicated, 
> and if you start trying to write a regex-based parser from 
> scratch, you'll almost certainly miss some things. 

I agree, in general.  In her specific case she said that she'd have enclosing <div>s with unique IDs identifying the content to select. That <div> would be easy to find even with strpos() and then from there a simple loop to find the applicable closing </div> would work.  Yes there are potential issues with that approach, but they would be rare.  For a general purpose tool those limitations wouldn't be acceptable but for a quick & dirty tool to accomplish a specific conversion it would be sufficient and easy.

Still, for those that feel that only a DOM approach will do I'll not stand in the way by debating it further. :-)

-Mike Schinkel
http://mikeschinkel.com/

From mike at zed1.com  Sun Feb  8 23:53:03 2009
From: mike at zed1.com (Mike Little)
Date: Sun Feb  8 23:53:15 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <498F58B7.1070606@gunters.org>
References: <498F58B7.1070606@gunters.org>
Message-ID: <7235ce780902081553l77255cd0y8fe7d0d2e2025a2f@mail.gmail.com>

2009/2/8 Dougal Campbell <dougal@gunters.org>:
> No, a DOM-based approach is definitely better than regex. Regexes for
> parsing HTML can get *extremely* complicated, and if you start trying to
> write a regex-based parser from scratch, you'll almost certainly miss some
> things. There is all manner of badly formed HTML out in the wild (it's not
> all well-formed XHTML, you know),
>

If you have the fortune to only need to parse machine generated XHTML,
it may be worth having a look at my DITA importer I just released (
http://zed1.com/journalized/wordpress-plugins/dita-to-wordpress-import-tool/
)

I just used the plain old PHP5 DOM manipulation classes to do the work.
There are examples of finding, removing, modifying, and adding in
elements using straight DOM and also XPath.
The code is far from elegant, but it might give someone a start.


Mike
-- 
Mike Little
http://zed1.com/
From dougal at gunters.org  Mon Feb  9 00:07:29 2009
From: dougal at gunters.org (Dougal Campbell)
Date: Mon Feb  9 00:37:09 2009
Subject: [wp-hackers] Importing HTML files as pages -- been done?
In-Reply-To: <EMEWEMEW2_DELIMl17HBr9738a254232a1d764146e7,
	mikeschinkel@newclarity.net, 16133377.1551234134721542.J>
References: <EMEWEMEW2_DELIMl17HBr9738a254232a1d764146e7,
	mikeschinkel@newclarity.net, 16133377.1551234134721542.J>
Message-ID: <498F73C1.3030406@gunters.org>

Mike Schinkel wrote:
> "Dougal Campbell" <dougal@gunters.org> wrote:
>   
>> No, a DOM-based approach is definitely better than regex. 
>> Regexes for parsing HTML can get *extremely* complicated, 
>> and if you start trying to write a regex-based parser from 
>> scratch, you'll almost certainly miss some things. 
>>     
>
> I agree, in general.  In her specific case she said that she'd have enclosing <div>s with unique IDs identifying the content to select. That <div> would be easy to find even with strpos() and then from there a simple loop to find the applicable closing </div> would work.  Yes there are potential issues with that approach, but they would be rare.  For a general purpose tool those limitations wouldn't be acceptable but for a quick & dirty tool to accomplish a specific conversion it would be sufficient and easy.
>   

and

Mike Little wrote:
> If you have the fortune to only need to parse machine generated XHTML,
> it may be worth having a look at my DITA importer I just released (
> http://zed1.com/journalized/wordpress-plugins/dita-to-wordpress-import-tool/
> )
>
> I just used the plain old PHP5 DOM manipulation classes to do the work.
> There are examples of finding, removing, modifying, and adding in
> elements using straight DOM and also XPath.
> The code is far from elegant, but it might give someone a start.
>
>   

True, if you know for sure that you have well-formed input, then it 
greatly simplifies things. But it seemed that the discussion was 
wandering towards the idea of a more generalized tool that could deal 
with arbitrary sets of files. And since I've been dealing with such a 
case for some time now, it was sort of weighing down my brain in that 
direction anyways. :)

-- 
Dougal Campbell <dougal@gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
*Hire me!*
From barry at automattic.com  Mon Feb  9 01:27:39 2009
From: barry at automattic.com (Barry Abrahamson)
Date: Mon Feb  9 01:27:55 2009
Subject: [wp-hackers] Improve community features on wordpress.org/trac
In-Reply-To: <902424490902060938k299984f4xd24d5b0a1d3308bb@mail.gmail.com>
References: <902424490902051609y1481f140t5a9ec55ee18f3949@mail.gmail.com>
	<498BE0D1.8060005@cubegames.net>
	<427667db0902052308s3e641414p3533801bbf2c6c74@mail.gmail.com>
	<902424490902060938k299984f4xd24d5b0a1d3308bb@mail.gmail.com>
Message-ID: <C2CCF709-3C25-4AA0-B8E9-65C97890F824@automattic.com>


On Feb 6, 2009, at 12:38 PM, Beau Lebens wrote:

>> Another -1.
>> Theming trac would just create extra work for no real benefit. Trac  
>> is
>> designed for functionality and this is all that is needed in any  
>> tracker.
>
> Valid points all -- thanks for the contribs.
>
> Consider me convinced. I guess part of what drove me to make these
> suggestions was the lack of profile information on trac.

There is some work being done to create "global profiles" on  
WordPress.org.  This would integrate your activity on various forums  
(bbpress, WP, buddypress, etc), trac, svn, etc.  IIRC it is almost  
working.  I will try to take another look at it this week.

--
Barry Abrahamson | Systems Wrangler | Automattic
Blog: http://barry.wordpress.com






From grisu46 at yahoo.it  Mon Feb  9 14:46:04 2009
From: grisu46 at yahoo.it (grisu46)
Date: Mon Feb  9 14:46:20 2009
Subject: [wp-hackers] Debian and wordpress problem
Message-ID: <499041AC.2090400@yahoo.it>

I have a LAN wordpress blog on a Debian Etch (apache2 prefork + mysql 5
+ php 5 + eaccelerator). Server is a Athlon X2 dual core 5200+ with 2 GB
of Ram.
Blog is on a lan (no internet)
I have to waiting >60 seconds before to view a blog page or article.
DNS works without problems.
I installed phpmyadmin, and this works quickly , 1-2 seconds for a page.

Some suggestions?

Thanks.

Chiacchiera con i tuoi amici in tempo reale! 
 http://it.yahoo.com/mail_it/foot/*http://it.messenger.yahoo.com 

From mdmartz at sivel.net  Mon Feb  9 14:54:11 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Mon Feb  9 14:54:24 2009
Subject: [wp-hackers] Debian and wordpress problem
In-Reply-To: <499041AC.2090400@yahoo.it>
References: <499041AC.2090400@yahoo.it>
Message-ID: <518fa9630902090654q9019d2epabccdea43957a0d3@mail.gmail.com>

On Mon, Feb 9, 2009 at 9:46 AM, grisu46 <grisu46@yahoo.it> wrote:
> I have a LAN wordpress blog on a Debian Etch (apache2 prefork + mysql 5
> + php 5 + eaccelerator). Server is a Athlon X2 dual core 5200+ with 2 GB
> of Ram.
> Blog is on a lan (no internet)
> I have to waiting >60 seconds before to view a blog page or article.
> DNS works without problems.
> I installed phpmyadmin, and this works quickly , 1-2 seconds for a page.
>
> Some suggestions?
>
> Thanks.

Seeing as though I started this I am going to just keep on doing it.

This mailing list is not a support list.  You should direct support
requests to http://wordpress.org/support/

-- 
Matt Martz
matt@sivel.net
From wp at xentek.net  Mon Feb  9 16:52:19 2009
From: wp at xentek.net (Eric Marden)
Date: Mon Feb  9 16:52:33 2009
Subject: [wp-hackers] Plugin i18n
Message-ID: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>

Someone sent me translations for a couple of my plugins. I have  
the .po and .mo files and would like to test it, but didn't find much  
information in the codex about plugin localization (except a link to a  
blog post that is 5 years old). Do I have to define WP_LANG in my  
config file to test it? Do i need to store the translations in a  
special folder with in my plugin or anything like that?

Thanks in advance.


- Eric Marden
http://xentek.net



From if.website at gmail.com  Mon Feb  9 16:56:10 2009
From: if.website at gmail.com (Austin Matzko)
Date: Mon Feb  9 16:56:26 2009
Subject: [wp-hackers] Plugin i18n
In-Reply-To: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>
References: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>
Message-ID: <674b4a3b0902090856j3c49d4b1k820e3f073a752508@mail.gmail.com>

On Mon, Feb 9, 2009 at 10:52 AM, Eric Marden <wp@xentek.net> wrote:
> Someone sent me translations for a couple of my plugins. I have the .po and
> .mo files and would like to test it, but didn't find much information in the
> codex about plugin localization (except a link to a blog post that is 5
> years old). Do I have to define WP_LANG in my config file to test it? Do i
> need to store the translations in a special folder with in my plugin or
> anything like that?

It's "WPLANG" and you can read about it and other internationalization
issues here: http://codex.wordpress.org/Translating_WordPress
From steagl4ml at gmail.com  Mon Feb  9 17:06:13 2009
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Mon Feb  9 17:06:30 2009
Subject: [wp-hackers] Passing info between shotcodes
References: <j1tto4p2aagoshjtih9g7i7gkeb0l4k82m@4ax.com>
	<226BE01A-1221-43AA-9446-EC1FAC810801@daivmowbray.com>
Message-ID: <ogo0p4pnavmb0sq94136knhpirntgq0ltj@4ax.com>

On Sun, 8 Feb 2009 20:49:42 +0100, Daiv Mowbray <daiv@daivmowbray.com>
wrote:

>I do something similar :
>
>// in the short code function, opdate options if any changes with  
>shortcode
>// you could simply update an array of your choice.
>// Here I update the plugin options based on the shortcode atts.
>
>		if ($atts !='') $this->change_options($atts);
>
>	function change_options( $atts ){
>			$this->OpOut = array_merge($this->OpOut, array_filter($atts));
>
>   			return $this->OpOut;

This as the way i keep ad alternative one, usign options to pass
parameters to 2 shortdcodes during a post rendering is not something I
would use if there is another way.. but looks like it's the only one.

Thanks for the help

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it (personal blog)
       http://www.wordpress-it.it (WordPress Italia)
From nb at nikolay.bg  Mon Feb  9 17:19:57 2009
From: nb at nikolay.bg (Nikolay Bachiyski)
Date: Mon Feb  9 17:20:23 2009
Subject: [wp-hackers] Plugin i18n
In-Reply-To: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>
References: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>
Message-ID: <87e663fa0902090919jc84cbey91c9af6884704cc7@mail.gmail.com>

On Mon, Feb 9, 2009 at 18:52, Eric Marden <wp@xentek.net> wrote:
> Someone sent me translations for a couple of my plugins. I have the .po and
> .mo files and would like to test it, but didn't find much information in the
> codex about plugin localization (except a link to a blog post that is 5
> years old). Do I have to define WP_LANG in my config file to test it? Do i
> need to store the translations in a special folder with in my plugin or
> anything like that?
>

Most plugin developers store their translations in the plugin folder
(see the Codex article below). If they become too many, you can move
them into a subdirectory of your plugin one, e.g. languages.

In order to test, set WP_LANG to the basename of the MO file you've
got and this should be enough.

http://codex.wordpress.org/I18n_for_WordPress_Developers#I18n_for_theme_and_plugin_developers

Happy hacking,
Nikolay.
From yahgrp at poplarware.com  Mon Feb  9 17:50:28 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Mon Feb  9 17:48:08 2009
Subject: [wp-hackers] Plugin i18n
In-Reply-To: <674b4a3b0902090856j3c49d4b1k820e3f073a752508@mail.gmail.com>
References: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>
	<674b4a3b0902090856j3c49d4b1k820e3f073a752508@mail.gmail.com>
Message-ID: <49906CE4.9060508@poplarware.com>

Austin Matzko wrote:
> On Mon, Feb 9, 2009 at 10:52 AM, Eric Marden <wp@xentek.net> wrote:
>> Someone sent me translations for a couple of my plugins. I have the .po and
>> .mo files and would like to test it, but didn't find much information in the
>> codex about plugin localization (except a link to a blog post that is 5
>> years old). Do I have to define WP_LANG in my config file to test it? Do i
>> need to store the translations in a special folder with in my plugin or
>> anything like that?
> 
> It's "WPLANG" and you can read about it and other internationalization
> issues here: http://codex.wordpress.org/Translating_WordPress

See also http://codex.wordpress.org/I18n_for_WordPress_Developers

    --Jennifer


-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From wp-hackers at striderweb.com  Mon Feb  9 18:06:24 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon Feb  9 18:06:46 2009
Subject: [wp-hackers] Plugin i18n
In-Reply-To: <87e663fa0902090919jc84cbey91c9af6884704cc7@mail.gmail.com>
References: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>
	<87e663fa0902090919jc84cbey91c9af6884704cc7@mail.gmail.com>
Message-ID: <B4A308CE-AC5B-410A-8586-7FA97B175616@striderweb.com>

That codex page need some updating, since PLUGINDIR is outdated.   
Since WP 2.6 it's  better to use WP_PLUGIN_DIR instead. The textdomain  
function was changed to accommodate.

Stephen


-- 
Stephen Rider
http://striderweb.com/

On Feb 9, 2009, at 11:19 AM, Nikolay Bachiyski wrote:

> Most plugin developers store their translations in the plugin folder
> (see the Codex article below). If they become too many, you can move
> them into a subdirectory of your plugin one, e.g. languages.
>
> In order to test, set WP_LANG to the basename of the MO file you've
> got and this should be enough.
>
> http://codex.wordpress.org/I18n_for_WordPress_Developers#I18n_for_theme_and_plugin_developers
From jer-wphackers at simianuprising.com  Mon Feb  9 20:53:14 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Mon Feb  9 20:53:23 2009
Subject: [wp-hackers] RE: Reference TermId or TermTaxonomyId for category 
	plugin?
In-Reply-To: <498E6FA2.7050003@poplarware.com>
References: <AFF9A1A87EACDD418AF3FC7B77548E610317657E@MI8NYCMAIL17.Mi8.com>
	<498E6FA2.7050003@poplarware.com>
Message-ID: <e1202cb10902091253v22ff43cav44a598081164e998@mail.gmail.com>

I would definitely recommend staying with the term_id whenever
possible if you're creating functions that could even conceivably be
used by anyone outside of your plugin.

It's not necessarily better or faster but IMHO your plugin is building
an API and it might as well be as close as possible to the existing
terms API provided by WP, which definitely uses term_id as its base
unit. That's what get_term() accepts, its what you have when you check
global $cat, etc etc.

It's the number that maps onto the old categories system as well (back
when it made sense right away ;)

If your plugin is good people will want to write their own code around
the functions you provide, so you should give them functions that
accept the values they already have on hand: term_id for categories
and slugs for tags.


-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From wp at xentek.net  Tue Feb 10 00:09:56 2009
From: wp at xentek.net (Eric Marden)
Date: Tue Feb 10 00:10:11 2009
Subject: [wp-hackers] Plugin i18n
In-Reply-To: <71C99A1A-A5B8-41C8-B01C-E9C36410F6C0@1bigidea.com>
References: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>
	<71C99A1A-A5B8-41C8-B01C-E9C36410F6C0@1bigidea.com>
Message-ID: <84FFB0B2-F0D3-417E-98B9-2ACBD5E0F65F@xentek.net>

Thanks everyone, it is now much clearer to me how to proceed. And yes  
I did use __e() with all of my text, and included the language domain  
as the 2nd param (using the name of my plugin). I will load them up  
tonight and see what they look like. I also plan on sending it to some  
non-technical folks that speak the language to get a 2nd opinion on  
the text and how it reads.

-e
From yahgrp at poplarware.com  Tue Feb 10 04:40:42 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Tue Feb 10 04:38:13 2009
Subject: [wp-hackers] Plugin i18n
In-Reply-To: <B4A308CE-AC5B-410A-8586-7FA97B175616@striderweb.com>
References: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>	<87e663fa0902090919jc84cbey91c9af6884704cc7@mail.gmail.com>
	<B4A308CE-AC5B-410A-8586-7FA97B175616@striderweb.com>
Message-ID: <4991054A.3000705@poplarware.com>

Stephen Rider wrote:
> That codex page need some updating, since PLUGINDIR is outdated.  Since 
> WP 2.6 it's  better to use WP_PLUGIN_DIR instead. The textdomain 
> function was changed to accommodate.

Would you care to update the page?
    Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From wp-hackers at striderweb.com  Tue Feb 10 04:53:06 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Feb 10 04:53:34 2009
Subject: [wp-hackers] Plugin i18n
In-Reply-To: <4991054A.3000705@poplarware.com>
References: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>	<87e663fa0902090919jc84cbey91c9af6884704cc7@mail.gmail.com>
	<B4A308CE-AC5B-410A-8586-7FA97B175616@striderweb.com>
	<4991054A.3000705@poplarware.com>
Message-ID: <EAC1700C-B315-45B8-9681-1610FAFAD2B6@striderweb.com>

I should have some time in the next couple days.... :-)

On Feb 9, 2009, at 10:40 PM, Jennifer Hodgdon wrote:

> Stephen Rider wrote:
>> That codex page need some updating, since PLUGINDIR is outdated.   
>> Since WP 2.6 it's  better to use WP_PLUGIN_DIR instead. The  
>> textdomain function was changed to accommodate.
>
> Would you care to update the page?
>   Jennifer
>
> -- 
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
>
> Drupal/WordPress Sites, Themes, Modules/Plugins
> Custom Web Programming, Web Databases
> PHP, Perl, MySQL, JavaScript, XML, AJAX
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From msafi at msafi.com  Tue Feb 10 05:25:22 2009
From: msafi at msafi.com (Mohammed K. al-Safi)
Date: Tue Feb 10 05:25:33 2009
Subject: [wp-hackers] Uploading Files with a Plugin
Message-ID: <d8b84dd60902092125j2cb161cds6e367204549f7160@mail.gmail.com>

Hi,

I'm trying to allow users to upload a CSV file through a plugin, take that
CSV file and parse its content into the database. I can't figure out how to
get the plugin to manage the file upload. I think the only folder which the
plugin has permission to upload to is the upload folder that is specified in
the settings. I tried to use *ABSPATH.get_option('upload_path'); *to get the
location of that folder, but this is returning something funny like: *
C:\xampp\htdocs\wordpress/C:\xampp\htdocs\wordpress/wp-content/uploads*(local
WordPress installation using XAMPP).

Anyone know what's happening here and how to get the upload path correctly?

Alternatively, if you know of an up-to-date plugin that accepts user uploads
and does something with them, I could perhaps just take a look at their
code...

50% thanks in advance.

Best,

Mohammed al-Safi
From wp-hackers at striderweb.com  Tue Feb 10 05:56:14 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Feb 10 05:56:43 2009
Subject: [wp-hackers] 'option_update_plugins' filter won't run
Message-ID: <FFF590A1-E3EC-4820-A569-818EB9F6087D@striderweb.com>

I'm working on a third-party plugin version checker.

I'm trying to add a filter to the 'update_plugins' setting when it is  
called by get_option().  (simplified code follows)

function add_filters() {
	error_log( 'running add_filters()' );
	add_filter( 'option_update_plugins', 'filter_update_plugins' );
}

In my PHP logs, I see that add_filters is called, and then  
get_option('update_plugins') is called multiple times, but  
filter_update_plugins() never runs.  It should be running in the  
course of every run of get_option('update_plugins')

I've done similar filters, including one on  
'pre_update_option_update_plugins', and that runs just fine.

Logs give me:

running add_filters()
get_option('update_plugins')
get_option('update_plugins')
get_option('update_plugins')
get_option('update_plugins')

Any idea why this doesn't work?  I'm running WP 2.8 bleeding.

Stephen

-- 
Stephen Rider
http://striderweb.com/




From ryan at boren.nu  Tue Feb 10 06:32:52 2009
From: ryan at boren.nu (Ryan Boren)
Date: Tue Feb 10 06:33:03 2009
Subject: [wp-hackers] 'option_update_plugins' filter won't run
In-Reply-To: <FFF590A1-E3EC-4820-A569-818EB9F6087D@striderweb.com>
References: <FFF590A1-E3EC-4820-A569-818EB9F6087D@striderweb.com>
Message-ID: <c8f37c930902092232y5fbec6c7qc9f4050da2ebbd69@mail.gmail.com>

On Mon, Feb 9, 2009 at 9:56 PM, Stephen Rider <wp-hackers@striderweb.com> wrote:
> I'm working on a third-party plugin version checker.
>
> I'm trying to add a filter to the 'update_plugins' setting when it is called
> by get_option().  (simplified code follows)
>
> function add_filters() {
>        error_log( 'running add_filters()' );
>        add_filter( 'option_update_plugins', 'filter_update_plugins' );
> }
>
> In my PHP logs, I see that add_filters is called, and then
> get_option('update_plugins') is called multiple times, but
> filter_update_plugins() never runs.  It should be running in the course of
> every run of get_option('update_plugins')
>
> I've done similar filters, including one on
> 'pre_update_option_update_plugins', and that runs just fine.
>
> Logs give me:
>
> running add_filters()
> get_option('update_plugins')
> get_option('update_plugins')
> get_option('update_plugins')
> get_option('update_plugins')
>
> Any idea why this doesn't work?  I'm running WP 2.8 bleeding.

Are you using an add-on object cache backend like memcached, APC, or
xcache?  If so, update_plugins is not stored as an option but is
instead stored in the cache.  We're experimenting with having
transient data such as update_plugins stored in the cache whenever a
persistent object cache backend is installed so that we can avoid
cluttering up the options table.  See
http://trac.wordpress.org/ticket/9048

Transients have transient_* filters that behave the same as option_*.
Hook your function to both option_update_plugins and
transient_update_plugins.  option_update_plugins will be run for 2.7
and earlier.  transient_update_plugins will be run for 2.8.
From ionfish at gmail.com  Tue Feb 10 09:35:20 2009
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Tue Feb 10 09:35:31 2009
Subject: [wp-hackers] Uploading Files with a Plugin
In-Reply-To: <d8b84dd60902092125j2cb161cds6e367204549f7160@mail.gmail.com>
References: <d8b84dd60902092125j2cb161cds6e367204549f7160@mail.gmail.com>
Message-ID: <fd3b80510902100135nbc8c1a1w4b67895e55950a51@mail.gmail.com>

What's wrong with just using get_option('upload_path'); ? It doesn't
need to be appended to ABSPATH, as it's based on the WP_CONTENT_DIR
constant; that's why you're getting those paths, because it's
appending one absolute filesystem path to another.

2009/2/10 Mohammed K. al-Safi <msafi@msafi.com>:
> Hi,
>
> I'm trying to allow users to upload a CSV file through a plugin, take that
> CSV file and parse its content into the database. I can't figure out how to
> get the plugin to manage the file upload. I think the only folder which the
> plugin has permission to upload to is the upload folder that is specified in
> the settings. I tried to use *ABSPATH.get_option('upload_path'); *to get the
> location of that folder, but this is returning something funny like: *
> C:\xampp\htdocs\wordpress/C:\xampp\htdocs\wordpress/wp-content/uploads*(local
> WordPress installation using XAMPP).
>
> Anyone know what's happening here and how to get the upload path correctly?
>
> Alternatively, if you know of an up-to-date plugin that accepts user uploads
> and does something with them, I could perhaps just take a look at their
> code...
>
> 50% thanks in advance.
>
> Best,
>
> Mohammed al-Safi
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From msafi at msafi.com  Tue Feb 10 10:09:10 2009
From: msafi at msafi.com (Mohammed K. al-Safi)
Date: Tue Feb 10 10:09:22 2009
Subject: [wp-hackers] Uploading Files with a Plugin
In-Reply-To: <fd3b80510902100135nbc8c1a1w4b67895e55950a51@mail.gmail.com>
References: <d8b84dd60902092125j2cb161cds6e367204549f7160@mail.gmail.com>
	<fd3b80510902100135nbc8c1a1w4b67895e55950a51@mail.gmail.com>
Message-ID: <d8b84dd60902100209v2fe9db75i28d22a8d8911cad5@mail.gmail.com>

Yep, that worked!

Full thanks to you, Benedict!

Mohammed al-Safi


On Tue, Feb 10, 2009 at 1:35 PM, Benedict Eastaugh <ionfish@gmail.com>wrote:

> What's wrong with just using get_option('upload_path'); ? It doesn't
> need to be appended to ABSPATH, as it's based on the WP_CONTENT_DIR
> constant; that's why you're getting those paths, because it's
> appending one absolute filesystem path to another.
>
> 2009/2/10 Mohammed K. al-Safi <msafi@msafi.com>:
> > Hi,
> >
> > I'm trying to allow users to upload a CSV file through a plugin, take
> that
> > CSV file and parse its content into the database. I can't figure out how
> to
> > get the plugin to manage the file upload. I think the only folder which
> the
> > plugin has permission to upload to is the upload folder that is specified
> in
> > the settings. I tried to use *ABSPATH.get_option('upload_path'); *to get
> the
> > location of that folder, but this is returning something funny like: *
> >
> C:\xampp\htdocs\wordpress/C:\xampp\htdocs\wordpress/wp-content/uploads*(local
> > WordPress installation using XAMPP).
> >
> > Anyone know what's happening here and how to get the upload path
> correctly?
> >
> > Alternatively, if you know of an up-to-date plugin that accepts user
> uploads
> > and does something with them, I could perhaps just take a look at their
> > code...
> >
> > 50% thanks in advance.
> >
> > Best,
> >
> > Mohammed al-Safi
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From grisu46 at yahoo.it  Tue Feb 10 11:28:59 2009
From: grisu46 at yahoo.it (Maria Casale)
Date: Tue Feb 10 11:29:18 2009
Subject: [wp-hackers] Debian and wordpress problem
In-Reply-To: <20090209112828.67be45ad@montecarlo.grandprix.int>
Message-ID: <46793.85732.qm@web28606.mail.ukl.yahoo.com>




--- Lun 9/2/09, Peter van der Does <peter@avirtualhome.com> ha scritto:

> Da: Peter van der Does <peter@avirtualhome.com>
> Oggetto: Re: [wp-hackers] Debian and wordpress problem
> A: "grisu46" <grisu46@yahoo.it>
> Data: Luned? 9 febbraio 2009, 17:28
> On Mon, 09 Feb 2009 15:46:04 +0100
> grisu46 <grisu46@yahoo.it> wrote:
> 
> > I have a LAN wordpress blog on a Debian Etch (apache2
> prefork + mysql
> > 5
> > + php 5 + eaccelerator). Server is a Athlon X2 dual
> core 5200+ with 2
> > GB of Ram.
> > Blog is on a lan (no internet)
> > I have to waiting >60 seconds before to view a blog
> page or article.
> > DNS works without problems.
> > I installed phpmyadmin, and this works quickly , 1-2
> seconds for a
> > page.
> > 
> > Some suggestions?
> > 
> > Thanks.
> > 
> > Chiacchiera con i tuoi amici in tempo reale! 
> > 
> http://it.yahoo.com/mail_it/foot/*http://it.messenger.yahoo.com
> 
> > 
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> >
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> Even tough you say your DNS is working fine, I recommend
> you take a look
> at this. 
> http://blog.avirtualhome.com/2008/12/03/wordpress-being-slow-a-dns-problem/
> 
> It also has a small PHP script to determine if the problem
> described in your email is the same.
> 
> -- 
> Peter van der Does
> 
> GPG key: E77E8E98
> 
> WordPress Plugin Developer
> http://blog.avirtualhome.com
> 
> GetDeb Package Builder/GetDeb Site Coder
> http://www.getdeb.net - Software you want for Ubuntu


      Passa a Yahoo! Mail.

La webmail che ti offre GRATIS spazio illimitato, 
antispam e messenger integrato.
http://it.mail.yahoo.com/??????????????

From john.ivar.myrstad at gmail.com  Tue Feb 10 14:24:02 2009
From: john.ivar.myrstad at gmail.com (John Myrstad)
Date: Tue Feb 10 14:24:16 2009
Subject: [wp-hackers] Readability / Typography
Message-ID: <d29aad6e0902100624s4dccbfe9x993752fccb1e4493@mail.gmail.com>

Hi.

My fist post to the list, and its a idea. You might have discussed this
before though...

cut`n paste from WP/ideas:

WordPress is a easy-to-write tool for any kind of publishers, and its
> getting better and better...
>
> BUT, I lack some development when it comes to read-friendliness. Reading on
> screen is much harder than reading on paper of various and documented
> reasons.
>
> The perfect readable webpage has columns, perfect typographic formatted
> text, no visual clutter/disturbance, pagination and a elastic layout that
> fits different screen sizes.
>
> To achieve this we need better tools supported in WordPress, even if a good
> theme will do half the work.
>
> I suggest a read-this feature working much like a print-this feature, with
> usable read friendly text in a modal window like all lightbox clones, with
> support for dynamic columns and paginating based on character/word count.
>
> check http://www.billhillsite.com/standardsp1.htm for an example of
> readable webpage
>

 I`d like to get some feedback on my idea of a read-this feature, with
articles/pages 100% optimised for readability. Is it possible to do with
WordPress, or is some kind of support for character counting in WP needed ?

John Myrstad
From ionfish at gmail.com  Tue Feb 10 14:27:10 2009
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Tue Feb 10 14:27:25 2009
Subject: [wp-hackers] Readability / Typography
In-Reply-To: <d29aad6e0902100624s4dccbfe9x993752fccb1e4493@mail.gmail.com>
References: <d29aad6e0902100624s4dccbfe9x993752fccb1e4493@mail.gmail.com>
Message-ID: <fd3b80510902100627l67862d61r6d0b91fd3fd256a5@mail.gmail.com>

This is a problem for theme authors, not WP core.

2009/2/10 John Myrstad <john.ivar.myrstad@gmail.com>:
> Hi.
>
> My fist post to the list, and its a idea. You might have discussed this
> before though...
>
> cut`n paste from WP/ideas:
>
> WordPress is a easy-to-write tool for any kind of publishers, and its
>> getting better and better...
>>
>> BUT, I lack some development when it comes to read-friendliness. Reading on
>> screen is much harder than reading on paper of various and documented
>> reasons.
>>
>> The perfect readable webpage has columns, perfect typographic formatted
>> text, no visual clutter/disturbance, pagination and a elastic layout that
>> fits different screen sizes.
>>
>> To achieve this we need better tools supported in WordPress, even if a good
>> theme will do half the work.
>>
>> I suggest a read-this feature working much like a print-this feature, with
>> usable read friendly text in a modal window like all lightbox clones, with
>> support for dynamic columns and paginating based on character/word count.
>>
>> check http://www.billhillsite.com/standardsp1.htm for an example of
>> readable webpage
>>
>
>  I`d like to get some feedback on my idea of a read-this feature, with
> articles/pages 100% optimised for readability. Is it possible to do with
> WordPress, or is some kind of support for character counting in WP needed ?
>
> John Myrstad
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From glenn at glennansley.com  Tue Feb 10 15:35:54 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Tue Feb 10 15:36:05 2009
Subject: [wp-hackers] posts_where and admin interface
Message-ID: <3283f0830902100735u67dfdad0iad88eda28f391585@mail.gmail.com>

Hi all,
Does anyone know if the posts_where filter is supposed to be applied
to the admin searches? (wp-admin/edit.php)

I have a very simple plugin that uses the posts_where filter [1]

I noticed that i had to call it inside of a if ( !is_admin() )
conditional or it would screw up the ability to search for posts in
the backend (all searches return empty).
This wasn't a big deal, I just assumed that I didn't understand the
filter previously and added the conditional.

I came across the problem again today with the plugin Search
Everything [2]. Is this related to the posts_where filter and should
it be doing this?

[1] <http://svn.wp-plugins.org/no-sub-category-posts-in-loop/trunk/ft-no-subcats-in-loop.php>
[2] <http://svn.wp-plugins.org/search-everything/tags/5.0/>

Thanks,
Glenn Ansley
Web Design | http://glennansley.com
WP Plugins  | http://fullthrottledevelopment.com
From yahgrp at poplarware.com  Tue Feb 10 15:49:37 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Tue Feb 10 16:18:41 2009
Subject: [wp-hackers] posts_where and admin interface
In-Reply-To: <3283f0830902100735u67dfdad0iad88eda28f391585@mail.gmail.com>
References: <3283f0830902100735u67dfdad0iad88eda28f391585@mail.gmail.com>
Message-ID: <4991A211.5080902@poplarware.com>

Yes... posts_where is a very low-level filter on the DB query's WHERE 
clause, inside the base-level query posts code that *every* post query 
uses, including those from admin screens.

So it is applied everywhere, but your plugin putting an if( !is admin) 
inside its function is a good idea to get around that. Maybe suggest 
that to the Search Everywhere author as well, if it is causing you 
admin screen headaches?

    --Jennifer

Glenn Ansley wrote:
> Does anyone know if the posts_where filter is supposed to be applied
> to the admin searches? (wp-admin/edit.php) [...]

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From jer-wphackers at simianuprising.com  Tue Feb 10 17:05:03 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Tue Feb 10 17:05:17 2009
Subject: [wp-hackers] Readability / Typography
In-Reply-To: <fd3b80510902100627l67862d61r6d0b91fd3fd256a5@mail.gmail.com>
References: <d29aad6e0902100624s4dccbfe9x993752fccb1e4493@mail.gmail.com>
	<fd3b80510902100627l67862d61r6d0b91fd3fd256a5@mail.gmail.com>
Message-ID: <e1202cb10902100905q5731594araa354314b0649cd8@mail.gmail.com>

The lightbox angle also clearly implies a plugin, just like there is
the outstanding wp-print plugin that offers a great print view with
almost no work on your theme, you could build or pay someone to build
a reading-focused plugin that offers this view to users.

I have to say I'm a bit skeptical about its viability though. Most
site creators want to expose readers to their sidebars and stuff, and
readers who want more control over WP-created content are probably
more likely to know about RSS and use it to control their reading than
to think to turn on the reader-friendly mode while browsing a wp site.

Also: No more tiny text! That's the real problem with reading online.
11px black on white is a recipe for middle-age blindness.

-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
From beau at dentedreality.com.au  Tue Feb 10 17:28:48 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Tue Feb 10 17:28:59 2009
Subject: [wp-hackers] New (Again) LiveJournal Importer
Message-ID: <902424490902100928h7aa51164ka162b8a9b6789737@mail.gmail.com>

Howdy,

If anyone's interested, there's a significant re-write of the new
LiveJournal importer available now which uses the database rather than
cache files to store things during import. On the surface it looks
very similar, but under the hood things are quite different.

If anyone gets a chance, please try it out by applying this patch
http://trac.wordpress.org/attachment/ticket/8999/db-based-lj-importer.diff
to a current trunk of WP.

Thanks in advance,
Beau

-- 
Beau Lebens
Dented Reality
beau@dentedreality.com.au
http://dentedreality.com.au
From dangayle at gmail.com  Tue Feb 10 17:38:55 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Tue Feb 10 17:39:12 2009
Subject: [wp-hackers] Readability / Typography
In-Reply-To: <d29aad6e0902100624s4dccbfe9x993752fccb1e4493@mail.gmail.com>
References: <d29aad6e0902100624s4dccbfe9x993752fccb1e4493@mail.gmail.com>
Message-ID: <2AE7B2E9-F37A-460D-B427-8E7DF0ABB006@gmail.com>

Bill Hill's site is a giant pile of rubbish. I'm trying to find the  
Typophile.com thread where we tear it apart, but to no avail. That  
website was created by someone who knows nothing of web design.

Bill Hill is a great guy, I saw him speak at Typecon 2007 and he was  
very into what he was speaking about. He understands the principles of  
how the human eye/brain work together to read, not necessarily how to  
put them into proper blocks of elegant and readable typography.

Great guy, and an asset to the type community, but his site is a pile.

-Dan Gayle
Type Designer
http://www.typophile.com/user/12948

>> check http://www.billhillsite.com/standardsp1.htm for an example of  
>> a readable webpage
From mikeschinkel at newclarity.net  Tue Feb 10 17:51:07 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 10 17:52:15 2009
Subject: [wp-hackers] Readability / Typography
In-Reply-To: <2AE7B2E9-F37A-460D-B427-8E7DF0ABB006@gmail.com>
Message-ID: <EMEWEMEW2_DELIMl19Bp705cb77d77d15cdd9c61350,
	mikeschinkel@newclarity.net, 13456247.3521234288274883.J>

Interesting. I know this is off-topic, and it'd be great to take off the list, but what's wrong with the example that was given? It looks quite good to me (me who knows little about typography.)

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Dan Gayle" <dangayle@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 10, 2009 12:38:55 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Readability / Typography

Bill Hill's site is a giant pile of rubbish. I'm trying to find the  
Typophile.com thread where we tear it apart, but to no avail. That  
website was created by someone who knows nothing of web design.

Bill Hill is a great guy, I saw him speak at Typecon 2007 and he was  
very into what he was speaking about. He understands the principles of  
how the human eye/brain work together to read, not necessarily how to  
put them into proper blocks of elegant and readable typography.

Great guy, and an asset to the type community, but his site is a pile.

-Dan Gayle
Type Designer
http://www.typophile.com/user/12948

>> check http://www.billhillsite.com/standardsp1.htm for an example of  
>> a readable webpage
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From jensimmons at gmail.com  Tue Feb 10 17:54:09 2009
From: jensimmons at gmail.com (Jen Simmons)
Date: Tue Feb 10 17:54:25 2009
Subject: [wp-hackers] need help with loop code
Message-ID: <70A1E7C8-F52F-4029-9865-3CA8BC4DAC16@gmail.com>

Hello hackers,

I'm writing loop code for home.php, and I'm stuck.

I started with
<?php if ( in_category('6') && is_home() ) continue; ?>

Which excludes all posts with category 6 from the home page. But the  
client wants all posts with cat 6 to print, if they are also makred  
with a second category, and to not show up only if cat 6 is the only  
cat the post has.

How can I do that?

In other words, I need the code to read:

If you have only one category, and that category is #6, then jump  
ahead and don't do this stuff,
otherwise,
do do this stuff (printing stuff).

thanks,
Jen

Jen Simmons
Milkweed Media Design
http://milkweedmediadesign.com

From if.website at gmail.com  Tue Feb 10 17:58:23 2009
From: if.website at gmail.com (Austin Matzko)
Date: Tue Feb 10 17:58:32 2009
Subject: [wp-hackers] need help with loop code
In-Reply-To: <70A1E7C8-F52F-4029-9865-3CA8BC4DAC16@gmail.com>
References: <70A1E7C8-F52F-4029-9865-3CA8BC4DAC16@gmail.com>
Message-ID: <674b4a3b0902100958g67d65214p5c9f14b93a67b145@mail.gmail.com>

On Tue, Feb 10, 2009 at 11:54 AM, Jen Simmons <jensimmons@gmail.com> wrote:
> In other words, I need the code to read:
>
> If you have only one category, and that category is #6, then jump ahead and
> don't do this stuff,
> otherwise,
> do do this stuff (printing stuff).

Use wp_get_post_categories(get_the_ID()) to get an array of the
categories for the current post.
From gaarai at gaarai.com  Tue Feb 10 18:48:37 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Tue Feb 10 18:48:56 2009
Subject: [wp-hackers] need help with loop code
In-Reply-To: <70A1E7C8-F52F-4029-9865-3CA8BC4DAC16@gmail.com>
References: <70A1E7C8-F52F-4029-9865-3CA8BC4DAC16@gmail.com>
Message-ID: <4991CC05.8040201@gaarai.com>

Here's a code snippet that I have running on my site that can be easily 
modified to your situation:

$categories = get_the_category();

if ( empty( $categories ) )
    return;
if ( ( 1 === count( $categories ) ) && ( 1 == $categories[0]->cat_ID ) )
    return;

Let me know if this works for you.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Jen Simmons wrote:
> Hello hackers,
>
> I'm writing loop code for home.php, and I'm stuck.
>
> I started with
> <?php if ( in_category('6') && is_home() ) continue; ?>
>
> Which excludes all posts with category 6 from the home page. But the 
> client wants all posts with cat 6 to print, if they are also makred 
> with a second category, and to not show up only if cat 6 is the only 
> cat the post has.
>
> How can I do that?
>
> In other words, I need the code to read:
>
> If you have only one category, and that category is #6, then jump 
> ahead and don't do this stuff,
> otherwise,
> do do this stuff (printing stuff).
>
> thanks,
> Jen
>
> Jen Simmons
> Milkweed Media Design
> http://milkweedmediadesign.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From chris at clwill.com  Tue Feb 10 19:50:31 2009
From: chris at clwill.com (Chris Williams)
Date: Tue Feb 10 19:51:32 2009
Subject: [wp-hackers] Readability / Typography
In-Reply-To: <EMEWEMEW2_DELIMl19Bp705cb77d77d15cdd9c61350,
	mikeschinkel@newclarity.net, 13456247.3521234288274883.J>
Message-ID: <C5B71A87.41F7C%chris@clwill.com>

- Fixed width (for a guy who rails against it)
- Exceptionally wide (what if I'm NOT on a wide monitor?  I get a horizontal
scroll bar)
- Insists that I go full screen with my browser (reformats content to match
my screen, not my browser window).  And even then makes a math error so I
have a vertical scroll bar no matter what (think he didn't count on my FF
debugging toolbar).
- Not a single meaningful link (no permalink to each article, not even a
"home" by clicking on the banner)
- Messed up formatting (for me on Mac/FF-3, the "next page" link is all over
the place, in the text even)
- Only navigation is next/previous page (how "web like", control your
readers like a newspaper)

Etc.  Simply put, a mess...


> From: Mike Schinkel <mikeschinkel@newclarity.net>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Tue, 10 Feb 2009 11:51:07 -0600 (CST)
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Readability / Typography
> 
> Interesting. I know this is off-topic, and it'd be great to take off the list,
> but what's wrong with the example that was given? It looks quite good to me
> (me who knows little about typography.)
> 
> -Mike Schinkel
> http://mikeschinkel.com/

From mikeschinkel at newclarity.net  Tue Feb 10 20:20:47 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 10 20:23:37 2009
Subject: [wp-hackers] Readability / Typography
In-Reply-To: <C5B71A87.41F7C%chris@clwill.com>
Message-ID: <EMEWEMEW2_DELIMl19EKn30a62786447c4f53281a01,
	mikeschinkel@newclarity.net, 10537275.3841234297254054.J>

Good points, all.  Thanks.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Chris Williams" <chris@clwill.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 10, 2009 2:50:31 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Readability / Typography

- Fixed width (for a guy who rails against it)
- Exceptionally wide (what if I'm NOT on a wide monitor?  I get a horizontal
scroll bar)
- Insists that I go full screen with my browser (reformats content to match
my screen, not my browser window).  And even then makes a math error so I
have a vertical scroll bar no matter what (think he didn't count on my FF
debugging toolbar).
- Not a single meaningful link (no permalink to each article, not even a
"home" by clicking on the banner)
- Messed up formatting (for me on Mac/FF-3, the "next page" link is all over
the place, in the text even)
- Only navigation is next/previous page (how "web like", control your
readers like a newspaper)

Etc.  Simply put, a mess...


> From: Mike Schinkel <mikeschinkel@newclarity.net>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Tue, 10 Feb 2009 11:51:07 -0600 (CST)
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Readability / Typography
> 
> Interesting. I know this is off-topic, and it'd be great to take off the list,
> but what's wrong with the example that was given? It looks quite good to me
> (me who knows little about typography.)
> 
> -Mike Schinkel
> http://mikeschinkel.com/

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Tue Feb 10 20:30:42 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 10 20:33:14 2009
Subject: [wp-hackers] SWFobject not included in core?
Message-ID: <EMEWEMEW2_DELIMl19EUg5a088d1995b0b781b3f020,
	mikeschinkel@newclarity.net, 26786609.3861234297853375.J>

I'm impressed that WordPress includes so many JS libs in core (http://codex.wordpress.org/Function_Reference/wp_enqueue_script) but am curious why SWFobject is not one of them? 

-Mike Schinkel 
http://mikeschinkel.com/ 
From beau at dentedreality.com.au  Tue Feb 10 20:35:18 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Tue Feb 10 20:35:30 2009
Subject: [wp-hackers] SWFobject not included in core?
In-Reply-To: <5754475338446156790@unknownmsgid>
References: <5754475338446156790@unknownmsgid>
Message-ID: <902424490902101235n28f220a4q75869a95cd702205@mail.gmail.com>

On Tue, Feb 10, 2009 at 12:30 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> I'm impressed that WordPress includes so many JS libs in core (http://codex.wordpress.org/Function_Reference/wp_enqueue_script) but am curious why SWFobject is not one of them?

Because it's not needed?

SWFUploader is the only thing I'm aware of that's flash-based that's
in the core, and it uses its own system to add the flash item into the
DOM.

Only libraries that are used in core are distributed as part of the
core package.
From dangayle at gmail.com  Tue Feb 10 20:41:19 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Tue Feb 10 20:41:38 2009
Subject: [wp-hackers] wp_list_pages meta conditionals
Message-ID: <D6DDAC34-6310-4BC5-B0D4-16EC7A50F345@gmail.com>

I'm looking at the wp_list_pages template function page in the codex  
and at the bottom of the page it says this:

meta_key
     (string) Only include the Pages that have this Custom Field Key  
(use in conjunction with the meta_value field).
meta_value
     (string) Only include the Pages that have this Custom Field Value  
(use in conjuntion with the meta_key field).

Opening the actual wp_list_pages function in post-template.php in 2.7,  
there is clearly no reference to meta_key or meta_value. What gives?  
It would actually be a handy option to have.


From if.website at gmail.com  Tue Feb 10 20:48:23 2009
From: if.website at gmail.com (Austin Matzko)
Date: Tue Feb 10 20:48:31 2009
Subject: [wp-hackers] wp_list_pages meta conditionals
In-Reply-To: <D6DDAC34-6310-4BC5-B0D4-16EC7A50F345@gmail.com>
References: <D6DDAC34-6310-4BC5-B0D4-16EC7A50F345@gmail.com>
Message-ID: <674b4a3b0902101248n58d4b7as41e56ccda24271ad@mail.gmail.com>

On Tue, Feb 10, 2009 at 2:41 PM, Dan Gayle <dangayle@gmail.com> wrote:
> Opening the actual wp_list_pages function in post-template.php in 2.7, there
> is clearly no reference to meta_key or meta_value. What gives? It would
> actually be a handy option to have.

wp_list_pages() calls get_pages(), which does allow you to use
meta_key and meta_value, so it's in place already.
From mikeschinkel at newclarity.net  Tue Feb 10 20:54:04 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 10 20:55:32 2009
Subject: [wp-hackers] SWFobject not included in core?
In-Reply-To: <902424490902101235n28f220a4q75869a95cd702205@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl19Es4ea130a1dc71208bf6b5f01,
	mikeschinkel@newclarity.net, 1634490.3921234299249909.J>

>  "only libraries that are used in core are distributed as part of the core package"

Fair enough.

OTOH, IMO its' an unfortunate constraint for those things that could be used by a lot of plugins.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Beau Lebens" <beau@dentedreality.com.au>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 10, 2009 3:35:18 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] SWFobject not included in core?

On Tue, Feb 10, 2009 at 12:30 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> I'm impressed that WordPress includes so many JS libs in core (http://codex.wordpress.org/Function_Reference/wp_enqueue_script) but am curious why SWFobject is not one of them?

Because it's not needed?

SWFUploader is the only thing I'm aware of that's flash-based that's
in the core, and it uses its own system to add the flash item into the
DOM.

Only libraries that are used in core are distributed as part of the
core package.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From otto at ottodestruct.com  Tue Feb 10 21:47:48 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 10 21:48:45 2009
Subject: [wp-hackers] wp_list_pages meta conditionals
In-Reply-To: <D6DDAC34-6310-4BC5-B0D4-16EC7A50F345@gmail.com>
References: <D6DDAC34-6310-4BC5-B0D4-16EC7A50F345@gmail.com>
Message-ID: <161617690902101347h7472b384hd2dcbe4795f61240@mail.gmail.com>

2009/2/10 Dan Gayle <dangayle@gmail.com>:
> I'm looking at the wp_list_pages template function page in the codex and at the bottom of the page it says this:
>
> meta_key
>    (string) Only include the Pages that have this Custom Field Key (use in conjunction with the meta_value field).
> meta_value
>    (string) Only include the Pages that have this Custom Field Value (use in conjuntion with the meta_key field).
>
> Opening the actual wp_list_pages function in post-template.php in 2.7, there is clearly no reference to meta_key or meta_value. What gives? It would actually be a handy option to have.

Lots and lots of functions in WordPress pass their entire argument
list down to subfunctions, so parameters for those subfunctions can be
used in the higher level functions as well.

So the arguments that are actually available to a function may not
actually be in that function.

-Otto
From dangayle at gmail.com  Tue Feb 10 22:01:16 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Tue Feb 10 22:01:49 2009
Subject: [wp-hackers] Readability / Typography
In-Reply-To: <EMEWEMEW2_DELIMl19EKn30a62786447c4f53281a01,
	mikeschinkel@newclarity.net, 10537275.3841234297254054.J>
References: <EMEWEMEW2_DELIMl19EKn30a62786447c4f53281a01,
	mikeschinkel@newclarity.net, 10537275.3841234297254054.J>
Message-ID: <0EC5A564-AD77-4203-89C4-4CD2488FA99B@gmail.com>

For the sake of cleaning up this discussion, here are further thoughts  
from several professional type people, and the eminent accessibility  
guru Joe Clark:
http://typophile.com/node/54631

Feel free to chime in with your thoughts/questions there, which is a  
far more appropriate forum for typographic discussion.

On Feb 10, 2009, at 12:20 PM, Mike Schinkel wrote:

> Good points, all.  Thanks.
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "Chris Williams" <chris@clwill.com>
> To: wp-hackers@lists.automattic.com
> Sent: Tuesday, February 10, 2009 2:50:31 PM GMT -05:00 US/Canada  
> Eastern
> Subject: Re: [wp-hackers] Readability / Typography
>
> - Fixed width (for a guy who rails against it)
> - Exceptionally wide (what if I'm NOT on a wide monitor?  I get a  
> horizontal
> scroll bar)
> - Insists that I go full screen with my browser (reformats content  
> to match
> my screen, not my browser window).  And even then makes a math error  
> so I
> have a vertical scroll bar no matter what (think he didn't count on  
> my FF
> debugging toolbar).
> - Not a single meaningful link (no permalink to each article, not  
> even a
> "home" by clicking on the banner)
> - Messed up formatting (for me on Mac/FF-3, the "next page" link is  
> all over
> the place, in the text even)
> - Only navigation is next/previous page (how "web like", control your
> readers like a newspaper)
>
> Etc.  Simply put, a mess...
>
>
>> From: Mike Schinkel <mikeschinkel@newclarity.net>
>> Reply-To: <wp-hackers@lists.automattic.com>
>> Date: Tue, 10 Feb 2009 11:51:07 -0600 (CST)
>> To: <wp-hackers@lists.automattic.com>
>> Subject: Re: [wp-hackers] Readability / Typography
>>
>> Interesting. I know this is off-topic, and it'd be great to take  
>> off the list,
>> but what's wrong with the example that was given? It looks quite  
>> good to me
>> (me who knows little about typography.)
>>
>> -Mike Schinkel
>> http://mikeschinkel.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From scribu at gmail.com  Tue Feb 10 22:20:46 2009
From: scribu at gmail.com (scribu)
Date: Tue Feb 10 22:21:01 2009
Subject: [wp-hackers] SWFobject not included in core?
In-Reply-To: <7070405511689965577@unknownmsgid>
References: <902424490902101235n28f220a4q75869a95cd702205@mail.gmail.com>
	<7070405511689965577@unknownmsgid>
Message-ID: <349fe48b0902101420r46019cc8hdfc7991631fc3014@mail.gmail.com>

On Tue, Feb 10, 2009 at 10:54 PM, Mike Schinkel <mikeschinkel@newclarity.net
> wrote:

> >  "only libraries that are used in core are distributed as part of the
> core package"
>
> Fair enough.
>
> OTOH, IMO its' an unfortunate constraint for those things that could be
> used by a lot of plugins.
>

If a certain plugin requires it, the plugin author can bundle the lib with
the plugin and call it using wp_enqueue_script() so that there are no
conflicts.

-- 
http://scribu.net
From jess at funroe.net  Tue Feb 10 22:33:21 2009
From: jess at funroe.net (Jess Planck)
Date: Tue Feb 10 22:33:31 2009
Subject: [wp-hackers] SWFobject not included in core?
In-Reply-To: <349fe48b0902101420r46019cc8hdfc7991631fc3014@mail.gmail.com>
References: <902424490902101235n28f220a4q75869a95cd702205@mail.gmail.com>
	<7070405511689965577@unknownmsgid>
	<349fe48b0902101420r46019cc8hdfc7991631fc3014@mail.gmail.com>
Message-ID: <B8F08D0B-986F-4905-A7FF-D017873D9C78@funroe.net>

Not to mention there are now multiple approaches to SWFobject and a  
few approach them as jQuery plugins. Maybe somebody should cook up a  
"Javascript Madness" plugin to include libraries like SWFObject,  
jQuery UI with support for the Google js libs. Notice I wrote "Madness".

Jess

On Feb 10, 2009, at 4:20 PM, scribu wrote:

> If a certain plugin requires it, the plugin author can bundle the  
> lib with
> the plugin and call it using wp_enqueue_script() so that there are no
> conflicts.

From mikeschinkel at newclarity.net  Tue Feb 10 22:35:52 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 10 22:36:15 2009
Subject: [wp-hackers] SWFobject not included in core?
In-Reply-To: <349fe48b0902101420r46019cc8hdfc7991631fc3014@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl19GZq892fc5ed98316ea4b6cfe8,
	mikeschinkel@newclarity.net, 9960987.4101234305360796.J>

Yes, it can be bundled but it's a shame to have so many copies of the same library lying around for a commonly used library (i.e. man with 2 watches never really knows what time it is.)

JMTCW

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "scribu" <scribu@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 10, 2009 5:20:46 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] SWFobject not included in core?

On Tue, Feb 10, 2009 at 10:54 PM, Mike Schinkel <mikeschinkel@newclarity.net
> wrote:

> >  "only libraries that are used in core are distributed as part of the
> core package"
>
> Fair enough.
>
> OTOH, IMO its' an unfortunate constraint for those things that could be
> used by a lot of plugins.
>

If a certain plugin requires it, the plugin author can bundle the lib with
the plugin and call it using wp_enqueue_script() so that there are no
conflicts.

-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From scribu at gmail.com  Wed Feb 11 00:17:13 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb 11 00:17:26 2009
Subject: [wp-hackers] SWFobject not included in core?
In-Reply-To: <6865515545136748137@unknownmsgid>
References: <349fe48b0902101420r46019cc8hdfc7991631fc3014@mail.gmail.com>
	<6865515545136748137@unknownmsgid>
Message-ID: <349fe48b0902101617w6999e07bo4647f30d8e51efd0@mail.gmail.com>

Seriously, how many concurent plugins that rely on SWFObject can you have
installed on one WP install?

On Wed, Feb 11, 2009 at 12:35 AM, Mike Schinkel <mikeschinkel@newclarity.net
> wrote:

> Yes, it can be bundled but it's a shame to have so many copies of the same
> library lying around for a commonly used library (i.e. man with 2 watches
> never really knows what time it is.)
>
> JMTCW
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "scribu" <scribu@gmail.com>
> To: wp-hackers@lists.automattic.com
> Sent: Tuesday, February 10, 2009 5:20:46 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] SWFobject not included in core?
>
> On Tue, Feb 10, 2009 at 10:54 PM, Mike Schinkel <
> mikeschinkel@newclarity.net
> > wrote:
>
> > >  "only libraries that are used in core are distributed as part of the
> > core package"
> >
> > Fair enough.
> >
> > OTOH, IMO its' an unfortunate constraint for those things that could be
> > used by a lot of plugins.
> >
>
> If a certain plugin requires it, the plugin author can bundle the lib with
> the plugin and call it using wp_enqueue_script() so that there are no
> conflicts.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From mikeschinkel at newclarity.net  Wed Feb 11 00:38:02 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb 11 00:39:00 2009
Subject: [wp-hackers] SWFobject not included in core?
In-Reply-To: <349fe48b0902101617w6999e07bo4647f30d8e51efd0@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl19Ic23369adf6be2a594eca3cc2,
	mikeschinkel@newclarity.net, 23027730.4341234312688510.J>

2 or 3.  My current project has 4.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "scribu" <scribu@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 10, 2009 7:17:13 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] SWFobject not included in core?

Seriously, how many concurent plugins that rely on SWFObject can you have
installed on one WP install?

On Wed, Feb 11, 2009 at 12:35 AM, Mike Schinkel <mikeschinkel@newclarity.net
> wrote:

> Yes, it can be bundled but it's a shame to have so many copies of the same
> library lying around for a commonly used library (i.e. man with 2 watches
> never really knows what time it is.)
>
> JMTCW
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "scribu" <scribu@gmail.com>
> To: wp-hackers@lists.automattic.com
> Sent: Tuesday, February 10, 2009 5:20:46 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] SWFobject not included in core?
>
> On Tue, Feb 10, 2009 at 10:54 PM, Mike Schinkel <
> mikeschinkel@newclarity.net
> > wrote:
>
> > >  "only libraries that are used in core are distributed as part of the
> > core package"
> >
> > Fair enough.
> >
> > OTOH, IMO its' an unfortunate constraint for those things that could be
> > used by a lot of plugins.
> >
>
> If a certain plugin requires it, the plugin author can bundle the lib with
> the plugin and call it using wp_enqueue_script() so that there are no
> conflicts.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From viper at viper007bond.com  Wed Feb 11 00:56:31 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Wed Feb 11 00:56:45 2009
Subject: [wp-hackers] SWFobject not included in core?
In-Reply-To: <6865515545136748137@unknownmsgid>
References: <349fe48b0902101420r46019cc8hdfc7991631fc3014@mail.gmail.com>
	<6865515545136748137@unknownmsgid>
Message-ID: <8f93a7390902101656y96ab626m872a292e429f45c2@mail.gmail.com>

What does it matter? The WP API, if properly used, ensures only one copy,
the latest version, is used.

I don't see what the problem is. WordPress can't be expected to bundle every
JS package known to man. Plus why SWFObject over something else? What about
all of the blogs that don't use it? etc.

On Tue, Feb 10, 2009 at 2:35 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> Yes, it can be bundled but it's a shame to have so many copies of the same
> library lying around for a commonly used library (i.e. man with 2 watches
> never really knows what time it is.)
>
> JMTCW
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> ----- Original Message -----
> From: "scribu" <scribu@gmail.com>
> To: wp-hackers@lists.automattic.com
> Sent: Tuesday, February 10, 2009 5:20:46 PM GMT -05:00 US/Canada Eastern
> Subject: Re: [wp-hackers] SWFobject not included in core?
>
> On Tue, Feb 10, 2009 at 10:54 PM, Mike Schinkel <
> mikeschinkel@newclarity.net
> > wrote:
>
> > >  "only libraries that are used in core are distributed as part of the
> > core package"
> >
> > Fair enough.
> >
> > OTOH, IMO its' an unfortunate constraint for those things that could be
> > used by a lot of plugins.
> >
>
> If a certain plugin requires it, the plugin author can bundle the lib with
> the plugin and call it using wp_enqueue_script() so that there are no
> conflicts.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From mikeschinkel at newclarity.net  Wed Feb 11 01:26:07 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb 11 01:26:34 2009
Subject: [wp-hackers] SWFobject not included in core?
In-Reply-To: <30838589.4461234314748638.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl19JQ89b9c0c4526b5a617fb2a1c,
	mikeschinkel@newclarity.net, 33539412.4481234315575468.J>

"Viper007Bond" <viper@viper007bond.com> wrote:
> I don't see what the problem is. 

There's no "problem", just a difference of opinion. I think it would be more elegant if included, you don't.  If included in core a plugin author can't accidentally include the wrong version or on purpose hack the version the version they include to "provide a patch that won't affect anyone else."

> WordPress can't be expected to bundle every JS package known to man. 

Of course not, but that's a straw man. It would be reasonable to bundle the really popular ones. From what I've seen SWFobject is far more popular than any other alternative, which is why I asked. Am I wrong in my analysis of the number of people who use it? 

FWIW I like to see defacto-standards converge vs. the chaos of many competing options because it can greatly simplifies things.  Clearly there are benefits to multiple alternatives in most cases, but when one solution greatly outpaces all others it makes senses to focus on it just as WordPress has mostly focused on jQuery. For me, one of the main reasons I'm involved in WordPress itself is because it has established itself as the defacto-standard blogging tools/CMS. (So if you don't like defacto-standards I'll ask why are you using WordPress and why aren't you coding your own blog software from scratch?)

> Plus why SWFObject over something else? 

What alternate is there that has even 10% as many people using it?

> What about all of the blogs that don't use it? etc.

It would sit there on the disk minding it's own business not bothering anyone, just like all the blog converters do.

All that said, I get the strong impression  ou've made up your minds and this is a non-starter. If you are not going to change your mind then no need to even reply and this suggestion will just dissipate into the ether.

-Mike Schinkel
http://mikeschinkel.com/

From paul at codehooligans.com  Wed Feb 11 01:35:10 2009
From: paul at codehooligans.com (Paul)
Date: Wed Feb 11 01:35:27 2009
Subject: [wp-hackers] Need direction on custom image handling
Message-ID: <AE2ACECE-AA35-4CD7-AD2B-2C888C7F181B@codehooligans.com>

All,

I'm not trying to tack away traffic from the SWFObject discussion but  
need some advice.

I'm trying to find wrap my head around the attachment/image handling  
functions and figure out the best action/filter to hook into. I have a  
need to intercept an uploaded image and create two new sizes. I know  
WP comes with the thumb, medium and large option. I don't want to mess  
with these as they would effect the general user uploads. I need to  
check the parent post of the upload and if in a 'special' category  
create the other two sizes of the image.

Where is this functionality? Any example would be appreciated.


paul
From wp-hackers at striderweb.com  Wed Feb 11 03:33:51 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Feb 11 03:34:20 2009
Subject: [wp-hackers] 'option_update_plugins' filter won't run
In-Reply-To: <c8f37c930902092232y5fbec6c7qc9f4050da2ebbd69@mail.gmail.com>
References: <FFF590A1-E3EC-4820-A569-818EB9F6087D@striderweb.com>
	<c8f37c930902092232y5fbec6c7qc9f4050da2ebbd69@mail.gmail.com>
Message-ID: <86085826-745E-4495-A86F-6692878C9FE0@striderweb.com>


On Feb 10, 2009, at 12:32 AM, Ryan Boren wrote:

> On Mon, Feb 9, 2009 at 9:56 PM, Stephen Rider <wp-hackers@striderweb.com 
> > wrote:
>>
(added some code to clarify...)

I'm working on a third-party plugin version checker.

function add_filters() {
       error_log( 'running add_filters()' );
       add_filter( 'option_update_plugins', 'filter_update_plugins' );
}

function filter_update_plugins( $data ) {
	error_log( 'filter_update_plugins()' );
	return $data;
}

Also added an error_log() at the beginning of the core get_option()  
function.

Logs give me:

running add_filters()
get_option('update_plugins')
get_option('update_plugins')
get_option('update_plugins')
get_option('update_plugins')

Any idea why this doesn't work?  I'm running WP 2.8 bleeding.

> Are you using an add-on object cache backend like memcached, APC, or
> xcache?  If so, update_plugins is not stored as an option but is
> instead stored in the cache.  We're experimenting with having
> transient data such as update_plugins stored in the cache whenever a
> persistent object cache backend is installed so that we can avoid
> cluttering up the options table.  See
> http://trac.wordpress.org/ticket/9048
>
> Transients have transient_* filters that behave the same as option_*.
> Hook your function to both option_update_plugins and
> transient_update_plugins.  option_update_plugins will be run for 2.7
> and earlier.  transient_update_plugins will be run for 2.8.

I'm not using any cache plugins.  Actually, I added an error_log() to  
the actual get_option() function, so the log excerpt above shows the  
actual get_option() function being run.  The function is running, and  
calling the 'update_plugins' settings, but the 'option_update_plugins'  
filter is apparently not firing.  The code is pretty straightforward  
-- I can't imagine why it isn't working.

Any other idea?

Thanks,
Steve

P.S. -- When I get it working, I'll be sure to hook  
transient_update_plugins as well. :)

-- 
Stephen Rider
http://striderweb.com/




From ryanmccue at cubegames.net  Wed Feb 11 06:22:33 2009
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Wed Feb 11 06:22:57 2009
Subject: [wp-hackers] Readability / Typography
In-Reply-To: <C5B71A87.41F7C%chris@clwill.com>
References: <C5B71A87.41F7C%chris@clwill.com>
Message-ID: <49926EA9.4080803@cubegames.net>

Chris Williams wrote:
> - Fixed width (for a guy who rails against it)

Especially ironic, seeing as the article is on fixed vs. fluid layouts.

But we must digress, back on topic. This is, as mentioned, in the domain
of themes. Additionally, the original idea mentions WordPress having a
"print view". This should be handled by print stylesheets in the themes
and is absolutely nothing to do with WordPress.

-- 
Ryan McCue
<http://cubegames.net/>

From lynne.pope at gmail.com  Wed Feb 11 07:09:36 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Wed Feb 11 07:09:44 2009
Subject: [wp-hackers] Correct URL for 2.7/2.7.1 Changeset?
Message-ID: <427667db0902102309v269ec94ahdad060bbe99eeb6b@mail.gmail.com>

Hi all,
The announcement has a link to the changeset - well, it would if the link
worked! Can anyone give me the correct link please?

Cheers,
Lynne
From wordpress at dd32.id.au  Wed Feb 11 07:13:10 2009
From: wordpress at dd32.id.au (DD32)
Date: Wed Feb 11 07:13:28 2009
Subject: [wp-hackers] Correct URL for 2.7/2.7.1 Changeset?
In-Reply-To: <427667db0902102309v269ec94ahdad060bbe99eeb6b@mail.gmail.com>
References: <427667db0902102309v269ec94ahdad060bbe99eeb6b@mail.gmail.com>
Message-ID: <45055a190902102313r4746fa41m585004ad3edda718@mail.gmail.com>

Looks like theres been a bit of a stuffup in the redirection of trac..
(Things are getting shuffled around)

http://core.trac.wordpress.org/changeset?old_path=tags%2F2.7&old=10539&new_path=tags%2F2.7.1&new=10539

2009/2/11 Lynne Pope <lynne.pope@gmail.com>:
> Hi all,
> The announcement has a link to the changeset - well, it would if the link
> worked! Can anyone give me the correct link please?
>
> Cheers,
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From lynne.pope at gmail.com  Wed Feb 11 08:02:47 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Wed Feb 11 08:03:01 2009
Subject: [wp-hackers] Correct URL for 2.7/2.7.1 Changeset?
In-Reply-To: <45055a190902102313r4746fa41m585004ad3edda718@mail.gmail.com>
References: <427667db0902102309v269ec94ahdad060bbe99eeb6b@mail.gmail.com>
	<45055a190902102313r4746fa41m585004ad3edda718@mail.gmail.com>
Message-ID: <427667db0902110002s61ec4baaxbd3724d48caf832a@mail.gmail.com>

2009/2/11 DD32 <wordpress@dd32.id.au>

> Looks like theres been a bit of a stuffup in the redirection of trac..
> (Things are getting shuffled around)
>
>
> http://core.trac.wordpress.org/changeset?old_path=tags%2F2.7&old=10539&new_path=tags%2F2.7.1&new=10539


Thanks heaps.

Lynne
From peter.westwood at ftwr.co.uk  Wed Feb 11 09:34:57 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Feb 11 09:35:55 2009
Subject: [wp-hackers] Correct URL for 2.7/2.7.1 Changeset?
In-Reply-To: <427667db0902110002s61ec4baaxbd3724d48caf832a@mail.gmail.com>
References: <427667db0902102309v269ec94ahdad060bbe99eeb6b@mail.gmail.com>
	<45055a190902102313r4746fa41m585004ad3edda718@mail.gmail.com>
	<427667db0902110002s61ec4baaxbd3724d48caf832a@mail.gmail.com>
Message-ID: <CE0C020D-4B66-4D67-B11E-5E040FAA2787@ftwr.co.uk>


On 11 Feb 2009, at 08:02, Lynne Pope wrote:

> 2009/2/11 DD32 <wordpress@dd32.id.au>
>
>> Looks like theres been a bit of a stuffup in the redirection of  
>> trac..
>> (Things are getting shuffled around)
>>
>>
>> http://core.trac.wordpress.org/changeset?old_path=tags% 
>> 2F2.7&old=10539&new_path=tags%2F2.7.1&new=10539


Dev blog post fixed.
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From xavier at borderie.net  Wed Feb 11 10:02:41 2009
From: xavier at borderie.net (Xavier Borderie)
Date: Wed Feb 11 10:02:52 2009
Subject: [wp-hackers] Getting comment feed for articles of specific author
Message-ID: <9e4ae73e0902110202u540218aaub8d881ddd226df06@mail.gmail.com>

Hey there, good people.

In a standard install, we can:
 - get the general feed > /blog/feed/
 - get the comments feed > /blog/comments/feed/
 - get a feed for each author's articles > /blog/author/AUTHOR_ID/feed/

How would I go about getting the next logical step: a feed of the
comments to a given author's articles.

Basic idea: /blog/author/AUTHOR_ID/comments/feed/
What say you?

-- 
Xavier Borderie
From burobjorn at gmail.com  Wed Feb 11 10:40:26 2009
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Wed Feb 11 10:40:40 2009
Subject: [wp-hackers] Feed date format and locale not using blog settings.
	Bug or feature?
Message-ID: <4992AB1A.2040305@gmail.com>

Hi,

It seems that Wordpress does not use the date format settings as set in de admin
interface (/wp-admin/options-general.php).

Instead it uses some hardcoded value in for example feed-rss2.php:

<pubDate><?php echo mysql2date('D, d M Y H:i:s +0000',
get_lastpostmodified('GMT'), false); ?></pubDate>

Is there a reason why it is hardcoded?

It also seems that the locale is not being used in this. It seems it defaults to
English. I would expect it to use the current set locale. So for Dutch it would
use the Dutch locale instead of the English one. Now we get a date/time format
in English even when the locale is set to Dutch. AFAIK no bug report exists for
this issue.

I would suggest to use the date_format and time_format options as set per blog
(thinking of WPMU as well) in the (/wp-admin/options-general.php). In order to
localize time/date I suggest we use the setlocale() function in combination with
strftime() function instead of date().

I'm willing to create a patch for this, but I would like to know if the proposed
solution would work out and make sure I'm not missing anything. So any feedback
on this is much appreciated.

ps: I have not yet created a ticket for this. I want to know for sure this is a
bug and not a feature.

All the best,

grtz
BjornW

-- 

met vriendelijke groet,
Bjorn Wijers

* b u r o b j o r n .nl *
digitaal vakmanschap | digital craftsmanship

Concordiastraat 68-126
3551 EM Utrecht
The Netherlands

phone: +31 6 49 74 78 70
http://www.burobjorn.nl

From wordpress at dd32.id.au  Wed Feb 11 10:47:56 2009
From: wordpress at dd32.id.au (DD32)
Date: Wed Feb 11 10:48:10 2009
Subject: [wp-hackers] Feed date format and locale not using blog settings.
	Bug or feature?
In-Reply-To: <4992AB1A.2040305@gmail.com>
References: <4992AB1A.2040305@gmail.com>
Message-ID: <45055a190902110247u8ebe7e0re33bd1c274eebdf7@mail.gmail.com>

My understanding of this is that RSS/Atom/Etc define the type of date
representation which the parsers expect, RSS expects it in that
format.. So following the user-set options would cause incompatibility
with various feed readers who cant manually parse a odd date/time

2009/2/11 Bjorn Wijers <burobjorn@gmail.com>:
> Hi,
>
> It seems that Wordpress does not use the date format settings as set in de admin
> interface (/wp-admin/options-general.php).
>
> Instead it uses some hardcoded value in for example feed-rss2.php:
>
> <pubDate><?php echo mysql2date('D, d M Y H:i:s +0000',
> get_lastpostmodified('GMT'), false); ?></pubDate>
>
> Is there a reason why it is hardcoded?
>
> It also seems that the locale is not being used in this. It seems it defaults to
> English. I would expect it to use the current set locale. So for Dutch it would
> use the Dutch locale instead of the English one. Now we get a date/time format
> in English even when the locale is set to Dutch. AFAIK no bug report exists for
> this issue.
>
> I would suggest to use the date_format and time_format options as set per blog
> (thinking of WPMU as well) in the (/wp-admin/options-general.php). In order to
> localize time/date I suggest we use the setlocale() function in combination with
> strftime() function instead of date().
>
> I'm willing to create a patch for this, but I would like to know if the proposed
> solution would work out and make sure I'm not missing anything. So any feedback
> on this is much appreciated.
>
> ps: I have not yet created a ticket for this. I want to know for sure this is a
> bug and not a feature.
>
> All the best,
>
> grtz
> BjornW
>
> --
>
> met vriendelijke groet,
> Bjorn Wijers
>
> * b u r o b j o r n .nl *
> digitaal vakmanschap | digital craftsmanship
>
> Concordiastraat 68-126
> 3551 EM Utrecht
> The Netherlands
>
> phone: +31 6 49 74 78 70
> http://www.burobjorn.nl
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From burobjorn at gmail.com  Wed Feb 11 11:30:11 2009
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Wed Feb 11 11:30:26 2009
Subject: [wp-hackers] Feed date format and locale not using blog settings.
	Bug or feature?
In-Reply-To: <45055a190902110247u8ebe7e0re33bd1c274eebdf7@mail.gmail.com>
References: <4992AB1A.2040305@gmail.com>
	<45055a190902110247u8ebe7e0re33bd1c274eebdf7@mail.gmail.com>
Message-ID: <4992B6C3.60506@gmail.com>

Good point.

I looked at the RSS spec[1] and it refers to RFC822[2] which states (I glanced
over it) that the current time/date format as used by Wordpress is the correct
one. I've added this to the Codex[3]. However as far as I know it doesn't
mention anything on the localization of this? So my question on if this
could/should be localized remains.

LINKS
[1] http://cyber.law.harvard.edu/rss/rss.html

[2] http://asg.web.cmu.edu/rfc/rfc822.html

[3] http://codex.wordpress.org/index.php?title=WordPress_Feeds&action=edit&section=7

All the best,

grtz
BjornW


> My understanding of this is that RSS/Atom/Etc define the type of date
> representation which the parsers expect, RSS expects it in that
> format.. So following the user-set options would cause incompatibility
> with various feed readers who cant manually parse a odd date/time
> 
> 2009/2/11 Bjorn Wijers <burobjorn@gmail.com>:
>> Hi,
>>
>> It seems that Wordpress does not use the date format settings as set in de admin
>> interface (/wp-admin/options-general.php).
>>
>> Instead it uses some hardcoded value in for example feed-rss2.php:
>>
>> <pubDate><?php echo mysql2date('D, d M Y H:i:s +0000',
>> get_lastpostmodified('GMT'), false); ?></pubDate>
>>
>> Is there a reason why it is hardcoded?
>>
>> It also seems that the locale is not being used in this. It seems it defaults to
>> English. I would expect it to use the current set locale. So for Dutch it would
>> use the Dutch locale instead of the English one. Now we get a date/time format
>> in English even when the locale is set to Dutch. AFAIK no bug report exists for
>> this issue.
>>
>> I would suggest to use the date_format and time_format options as set per blog
>> (thinking of WPMU as well) in the (/wp-admin/options-general.php). In order to
>> localize time/date I suggest we use the setlocale() function in combination with
>> strftime() function instead of date().
>>
>> I'm willing to create a patch for this, but I would like to know if the proposed
>> solution would work out and make sure I'm not missing anything. So any feedback
>> on this is much appreciated.
>>
>> ps: I have not yet created a ticket for this. I want to know for sure this is a
>> bug and not a feature.
>>
>> All the best,
>>
>> grtz
>> BjornW
>>
>> --
>>
>> met vriendelijke groet,
>> Bjorn Wijers
>>
>> * b u r o b j o r n .nl *
>> digitaal vakmanschap | digital craftsmanship
>>
>> Concordiastraat 68-126
>> 3551 EM Utrecht
>> The Netherlands
>>
>> phone: +31 6 49 74 78 70
>> http://www.burobjorn.nl
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From wordpress at dd32.id.au  Wed Feb 11 11:39:11 2009
From: wordpress at dd32.id.au (DD32)
Date: Wed Feb 11 11:39:24 2009
Subject: [wp-hackers] Feed date format and locale not using blog settings.
	Bug or feature?
In-Reply-To: <4992B6C3.60506@gmail.com>
References: <4992AB1A.2040305@gmail.com>
	<45055a190902110247u8ebe7e0re33bd1c274eebdf7@mail.gmail.com>
	<4992B6C3.60506@gmail.com>
Message-ID: <45055a190902110339o14266e80w4563e09bfdebbdb2@mail.gmail.com>

Once again, No.
Simply for the fact, That Feed readers do not understand different
languages, The RSS spec (along with most other spec's and software) is
written with English as the common format..
If the spec makes no mention of it, Its not going to be supported by
implementations of it, I do see that people would want it shown in
their native tongue, IMO, Feed readers should be able to translate the
time from a english-centric date/time into the users custom format (or
language format).

I somewhat think Internationalisation might be something that would be
included in future spec's though.

2009/2/11 Bjorn Wijers <burobjorn@gmail.com>:
> Good point.
>
> I looked at the RSS spec[1] and it refers to RFC822[2] which states (I glanced
> over it) that the current time/date format as used by Wordpress is the correct
> one. I've added this to the Codex[3]. However as far as I know it doesn't
> mention anything on the localization of this? So my question on if this
> could/should be localized remains.
>
> LINKS
> [1] http://cyber.law.harvard.edu/rss/rss.html
>
> [2] http://asg.web.cmu.edu/rfc/rfc822.html
>
> [3] http://codex.wordpress.org/index.php?title=WordPress_Feeds&action=edit&section=7
>
> All the best,
>
> grtz
> BjornW
>
>
>> My understanding of this is that RSS/Atom/Etc define the type of date
>> representation which the parsers expect, RSS expects it in that
>> format.. So following the user-set options would cause incompatibility
>> with various feed readers who cant manually parse a odd date/time
>>
>> 2009/2/11 Bjorn Wijers <burobjorn@gmail.com>:
>>> Hi,
>>>
>>> It seems that Wordpress does not use the date format settings as set in de admin
>>> interface (/wp-admin/options-general.php).
>>>
>>> Instead it uses some hardcoded value in for example feed-rss2.php:
>>>
>>> <pubDate><?php echo mysql2date('D, d M Y H:i:s +0000',
>>> get_lastpostmodified('GMT'), false); ?></pubDate>
>>>
>>> Is there a reason why it is hardcoded?
>>>
>>> It also seems that the locale is not being used in this. It seems it defaults to
>>> English. I would expect it to use the current set locale. So for Dutch it would
>>> use the Dutch locale instead of the English one. Now we get a date/time format
>>> in English even when the locale is set to Dutch. AFAIK no bug report exists for
>>> this issue.
>>>
>>> I would suggest to use the date_format and time_format options as set per blog
>>> (thinking of WPMU as well) in the (/wp-admin/options-general.php). In order to
>>> localize time/date I suggest we use the setlocale() function in combination with
>>> strftime() function instead of date().
>>>
>>> I'm willing to create a patch for this, but I would like to know if the proposed
>>> solution would work out and make sure I'm not missing anything. So any feedback
>>> on this is much appreciated.
>>>
>>> ps: I have not yet created a ticket for this. I want to know for sure this is a
>>> bug and not a feature.
>>>
>>> All the best,
>>>
>>> grtz
>>> BjornW
>>>
>>> --
>>>
>>> met vriendelijke groet,
>>> Bjorn Wijers
>>>
>>> * b u r o b j o r n .nl *
>>> digitaal vakmanschap | digital craftsmanship
>>>
>>> Concordiastraat 68-126
>>> 3551 EM Utrecht
>>> The Netherlands
>>>
>>> phone: +31 6 49 74 78 70
>>> http://www.burobjorn.nl
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From peter.westwood at ftwr.co.uk  Wed Feb 11 11:44:24 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Wed Feb 11 11:45:22 2009
Subject: [wp-hackers] Feed date format and locale not using blog settings.
	Bug or feature?
In-Reply-To: <45055a190902110339o14266e80w4563e09bfdebbdb2@mail.gmail.com>
References: <4992AB1A.2040305@gmail.com>
	<45055a190902110247u8ebe7e0re33bd1c274eebdf7@mail.gmail.com>
	<4992B6C3.60506@gmail.com>
	<45055a190902110339o14266e80w4563e09bfdebbdb2@mail.gmail.com>
Message-ID: <EE2F896D-D519-4121-A33B-1C364CD1F9F6@ftwr.co.uk>


On 11 Feb 2009, at 11:39, DD32 wrote:

> Once again, No.
> Simply for the fact, That Feed readers do not understand different
> languages, The RSS spec (along with most other spec's and software) is
> written with English as the common format..
> If the spec makes no mention of it, Its not going to be supported by
> implementations of it, I do see that people would want it shown in
> their native tongue, IMO, Feed readers should be able to translate the
> time from a english-centric date/time into the users custom format (or
> language format).
>
> I somewhat think Internationalisation might be something that would be
> included in future spec's though.
>
> 2009/2/11 Bjorn Wijers <burobjorn@gmail.com>:
>> Good point.
>>
>> I looked at the RSS spec[1] and it refers to RFC822[2] which  
>> states (I glanced
>> over it) that the current time/date format as used by Wordpress is  
>> the correct
>> one. I've added this to the Codex[3]. However as far as I know it  
>> doesn't
>> mention anything on the localization of this? So my question on if  
>> this
>> could/should be localized remains.
>>
>> LINKS
>> [1] http://cyber.law.harvard.edu/rss/rss.html
>>
>> [2] http://asg.web.cmu.edu/rfc/rfc822.html
>>
>> [3] http://codex.wordpress.org/index.php? 
>> title=WordPress_Feeds&action=edit&section=7
>>
>> All the best,
>>


It must not be localised.

It must conform to the RFC which is specific about the format of the  
date/time string.

The only change that RSS makes is it relaxed the rules on year to  
accept 2 digit years (But they should be avoided anyway as they are  
ambigious)

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From scribu at gmail.com  Wed Feb 11 13:44:53 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb 11 13:45:04 2009
Subject: [wp-hackers] Need direction on custom image handling
In-Reply-To: <AE2ACECE-AA35-4CD7-AD2B-2C888C7F181B@codehooligans.com>
References: <AE2ACECE-AA35-4CD7-AD2B-2C888C7F181B@codehooligans.com>
Message-ID: <349fe48b0902110544n6be1258g21d804a0a92c3a2c@mail.gmail.com>

This is how I check if an image is large enough:

add_filter('wp_update_attachment_metadata', 'check_size', 10, 2);

function check_size($data, $id) {
        if ( $data['width'] < 800 && $data['height'] < 600 ) {
            wp_delete_attachment($id);
            die("<strong class='error'>Eroare: Imaginea este prea
mic?</strong>");
        } else
            return $data;
}

You could also try the 'add_attachment' hook.

-- 
http://scribu.net
From frank at bueltge.de  Wed Feb 11 13:49:36 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Wed Feb 11 13:49:46 2009
Subject: [wp-hackers] Need direction on custom image handling
In-Reply-To: <349fe48b0902110544n6be1258g21d804a0a92c3a2c@mail.gmail.com>
References: <AE2ACECE-AA35-4CD7-AD2B-2C888C7F181B@codehooligans.com>
	<349fe48b0902110544n6be1258g21d804a0a92c3a2c@mail.gmail.com>
Message-ID: <db047a770902110549r65a7d63cm74a9c84e4d3b992a@mail.gmail.com>

nice, thx
From burobjorn at gmail.com  Wed Feb 11 14:07:44 2009
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Wed Feb 11 14:07:57 2009
Subject: [wp-hackers] Feed date format and locale not using blog settings.
	Bug or feature?
In-Reply-To: <EE2F896D-D519-4121-A33B-1C364CD1F9F6@ftwr.co.uk>
References: <4992AB1A.2040305@gmail.com>	<45055a190902110247u8ebe7e0re33bd1c274eebdf7@mail.gmail.com>	<4992B6C3.60506@gmail.com>	<45055a190902110339o14266e80w4563e09bfdebbdb2@mail.gmail.com>
	<EE2F896D-D519-4121-A33B-1C364CD1F9F6@ftwr.co.uk>
Message-ID: <4992DBB0.9030209@gmail.com>

Ok, before I add it to the Codex:

The time/date format of feed should NOT be localized since the the current RSS
specifications are referring to RFC822 which specifies English as a default.
This implies that every RSS consumer should take care of translating time/date
according to its locale.

Any remarks hints or tips before I add it to the codex?

Thanks for the feedback so far!

All the best,

grtz
BjornW



> 
> On 11 Feb 2009, at 11:39, DD32 wrote:
> 
>> Once again, No.
>> Simply for the fact, That Feed readers do not understand different
>> languages, The RSS spec (along with most other spec's and software) is
>> written with English as the common format..
>> If the spec makes no mention of it, Its not going to be supported by
>> implementations of it, I do see that people would want it shown in
>> their native tongue, IMO, Feed readers should be able to translate the
>> time from a english-centric date/time into the users custom format (or
>> language format).
>>
>> I somewhat think Internationalisation might be something that would be
>> included in future spec's though.
>>
>> 2009/2/11 Bjorn Wijers <burobjorn@gmail.com>:
>>> Good point.
>>>
>>> I looked at the RSS spec[1] and it refers to RFC822[2] which states
>>> (I glanced
>>> over it) that the current time/date format as used by Wordpress is
>>> the correct
>>> one. I've added this to the Codex[3]. However as far as I know it
>>> doesn't
>>> mention anything on the localization of this? So my question on if this
>>> could/should be localized remains.
>>>
>>> LINKS
>>> [1] http://cyber.law.harvard.edu/rss/rss.html
>>>
>>> [2] http://asg.web.cmu.edu/rfc/rfc822.html
>>>
>>> [3]
>>> http://codex.wordpress.org/index.php?title=WordPress_Feeds&action=edit&section=7
>>>
>>>
>>> All the best,
>>>
> 
> 
> It must not be localised.
> 
> It must conform to the RFC which is specific about the format of the
> date/time string.
> 
> The only change that RSS makes is it relaxed the rules on year to accept
> 2 digit years (But they should be avoided anyway as they are ambigious)
> 
> westi

From malaiac at gmail.com  Wed Feb 11 19:28:44 2009
From: malaiac at gmail.com (Malaiac)
Date: Wed Feb 11 19:28:59 2009
Subject: [wp-hackers] about wp.com stats
Message-ID: <59e7f3130902111128v6210087bs2a9e142661c05418@mail.gmail.com>

this plugin http://wordpress.org/extend/plugins/stats/
all other self-hosted statistics plugins are bound to fail in the long run

But is there any way to push the stats back on the front end (like the
simple wp-postviews plugin) ?
Purpose : displaying best posts, views per post, etc.

Malaiac
From jer-wphackers at simianuprising.com  Wed Feb 11 20:12:03 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Wed Feb 11 20:12:16 2009
Subject: [wp-hackers] about wp.com stats
In-Reply-To: <59e7f3130902111128v6210087bs2a9e142661c05418@mail.gmail.com>
References: <59e7f3130902111128v6210087bs2a9e142661c05418@mail.gmail.com>
Message-ID: <e1202cb10902111212p2079ff14we7a57643c6f28116@mail.gmail.com>

On Wed, Feb 11, 2009 at 2:28 PM, Malaiac <malaiac@gmail.com> wrote:
> this plugin http://wordpress.org/extend/plugins/stats/
> all other self-hosted statistics plugins are bound to fail in the long run
>
> But is there any way to push the stats back on the front end (like the
> simple wp-postviews plugin) ?
> Purpose : displaying best posts, views per post, etc.

If we're making requests for wp.com stats it would  make a HUGE
difference to me if it was possible to change a setting to make the
stats available to anyone logged into the admin of the self-hosted
wordpress site. Currently its garbage for any site that wants to make
its dashboard stats available to more than one person without sharing
a wordpress.com account.

This is actually related to the above request in that its the same
basic issue (i think): the stats are currently tied to a logged in
wordpress.com account rather than having the site access the files on
its own.

Obviously Automattic has no responsibility to satisfy our needs, it
would just be nice :)

-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From malaiac at gmail.com  Wed Feb 11 20:30:49 2009
From: malaiac at gmail.com (Malaiac)
Date: Wed Feb 11 20:30:58 2009
Subject: [wp-hackers] about wp.com stats
In-Reply-To: <e1202cb10902111212p2079ff14we7a57643c6f28116@mail.gmail.com>
References: <59e7f3130902111128v6210087bs2a9e142661c05418@mail.gmail.com>
	<e1202cb10902111212p2079ff14we7a57643c6f28116@mail.gmail.com>
Message-ID: <59e7f3130902111230x2a58f18cv4c8051b66a907bd2@mail.gmail.com>

2009/2/11 Jeremy Clarke <jer-wphackers@simianuprising.com>:
> If we're making requests for wp.com stats it would  make a HUGE
> difference to me if it was possible to change a setting to make the
> stats available to anyone logged into the admin of the self-hosted
> wordpress site.

Well, you can give access to other ppl in the stats interface... just
add their mail

M
From jer-wphackers at simianuprising.com  Wed Feb 11 20:37:18 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Wed Feb 11 20:37:26 2009
Subject: [wp-hackers] about wp.com stats
In-Reply-To: <59e7f3130902111230x2a58f18cv4c8051b66a907bd2@mail.gmail.com>
References: <59e7f3130902111128v6210087bs2a9e142661c05418@mail.gmail.com>
	<e1202cb10902111212p2079ff14we7a57643c6f28116@mail.gmail.com>
	<59e7f3130902111230x2a58f18cv4c8051b66a907bd2@mail.gmail.com>
Message-ID: <e1202cb10902111237y2f283998x5e08abbaff73a195@mail.gmail.com>

On Wed, Feb 11, 2009 at 3:30 PM, Malaiac <malaiac@gmail.com> wrote:
> 2009/2/11 Jeremy Clarke <jer-wphackers@simianuprising.com>:
>> If we're making requests for wp.com stats it would  make a HUGE
>> difference to me if it was possible to change a setting to make the
>> stats available to anyone logged into the admin of the self-hosted
>> wordpress site.
>
> Well, you can give access to other ppl in the stats interface... just
> add their mail

Call me when you've finished getting 200 people to give you their
wordpress.com enabled email addresses :P (maybe you could ask your
visitors for their addresses so they could see too?)


-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From malaiac at gmail.com  Wed Feb 11 21:00:27 2009
From: malaiac at gmail.com (Malaiac)
Date: Wed Feb 11 21:00:36 2009
Subject: [wp-hackers] about wp.com stats
In-Reply-To: <e1202cb10902111237y2f283998x5e08abbaff73a195@mail.gmail.com>
References: <59e7f3130902111128v6210087bs2a9e142661c05418@mail.gmail.com>
	<e1202cb10902111212p2079ff14we7a57643c6f28116@mail.gmail.com>
	<59e7f3130902111230x2a58f18cv4c8051b66a907bd2@mail.gmail.com>
	<e1202cb10902111237y2f283998x5e08abbaff73a195@mail.gmail.com>
Message-ID: <59e7f3130902111300m3d0de769q90d937601b1dd42e@mail.gmail.com>

2009/2/11 Jeremy Clarke <jer-wphackers@simianuprising.com>:
> Call me when you've finished getting 200 people to give you their
> wordpress.com enabled email addresses :P (maybe you could ask your
> visitors for their addresses so they could see too?)

didn't imagine you wanted your minions to have access to your precious stats :)

A generic API/plugin to pull the data from already available stats
would solve both our problems.

M
From chris at clwill.com  Wed Feb 11 21:27:16 2009
From: chris at clwill.com (Chris Williams)
Date: Wed Feb 11 21:27:28 2009
Subject: [wp-hackers] Page Title for Admin Menu
Message-ID: <C5B882B4.2A161%chris@clwill.com>

I am writing a plugin that adds an admin menu page (not submenu).  It does
this because it?s really quite a separate thing ? a calendar of racing
events, nothing to do with the WP functions, it?s really a separate data
table and everything.  So, it doesn?t really belong down in ?settings?, or
?tools?.

This is all good, I have it working with add_menu_page and all is fine.  It
really only needs one page (like the ?Links? or ?Comments? menu items), it?s
just an ?edit events? page.  There is one small problem, and that?s that the
HTML page title is null.  It says simply ?[blogname] > -- Wordpress?.
Nothing I put in the $page_title parameter on add_menu_page works.

If I have a submenu page, it works, but not with just a plain add_menu_page.
I believe the issue is in get_admin_page_title in
wp-admin/includes/plugin.php, but I haven?t debugged it completely.

My questions are: 1) am I doing something incorrectly that is causing this,
2) is this a known issue and I should just chill, or 3) should I figure it
out and propose a patch?

Thanks,
Chris
From burobjorn at gmail.com  Thu Feb 12 02:01:29 2009
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Thu Feb 12 02:01:43 2009
Subject: [wp-hackers] Feed date format and locale not using blog settings.
	Bug or feature?
In-Reply-To: <4992DBB0.9030209@gmail.com>
References: <4992AB1A.2040305@gmail.com>	<45055a190902110247u8ebe7e0re33bd1c274eebdf7@mail.gmail.com>	<4992B6C3.60506@gmail.com>	<45055a190902110339o14266e80w4563e09bfdebbdb2@mail.gmail.com>	<EE2F896D-D519-4121-A33B-1C364CD1F9F6@ftwr.co.uk>
	<4992DBB0.9030209@gmail.com>
Message-ID: <499382F9.80207@gmail.com>

FYI, I just added this to the Codex.

See:
http://codex.wordpress.org/index.php?title=WordPress_Feeds&action=edit&section=7

grtz
BjornW

> Ok, before I add it to the Codex:
> 
> The time/date format of feed should NOT be localized since the the current RSS
> specifications are referring to RFC822 which specifies English as a default.
> This implies that every RSS consumer should take care of translating time/date
> according to its locale.
> 
> Any remarks hints or tips before I add it to the codex?
> 
> Thanks for the feedback so far!
> 
> All the best,
> 
> grtz
> BjornW
> 
> 
> 
>> On 11 Feb 2009, at 11:39, DD32 wrote:
>>
>>> Once again, No.
>>> Simply for the fact, That Feed readers do not understand different
>>> languages, The RSS spec (along with most other spec's and software) is
>>> written with English as the common format..
>>> If the spec makes no mention of it, Its not going to be supported by
>>> implementations of it, I do see that people would want it shown in
>>> their native tongue, IMO, Feed readers should be able to translate the
>>> time from a english-centric date/time into the users custom format (or
>>> language format).
>>>
>>> I somewhat think Internationalisation might be something that would be
>>> included in future spec's though.
>>>
>>> 2009/2/11 Bjorn Wijers <burobjorn@gmail.com>:
>>>> Good point.
>>>>
>>>> I looked at the RSS spec[1] and it refers to RFC822[2] which states
>>>> (I glanced
>>>> over it) that the current time/date format as used by Wordpress is
>>>> the correct
>>>> one. I've added this to the Codex[3]. However as far as I know it
>>>> doesn't
>>>> mention anything on the localization of this? So my question on if this
>>>> could/should be localized remains.
>>>>
>>>> LINKS
>>>> [1] http://cyber.law.harvard.edu/rss/rss.html
>>>>
>>>> [2] http://asg.web.cmu.edu/rfc/rfc822.html
>>>>
>>>> [3]
>>>> http://codex.wordpress.org/index.php?title=WordPress_Feeds&action=edit&section=7
>>>>
>>>>
>>>> All the best,
>>>>
>>
>> It must not be localised.
>>
>> It must conform to the RFC which is specific about the format of the
>> date/time string.
>>
>> The only change that RSS makes is it relaxed the rules on year to accept
>> 2 digit years (But they should be avoided anyway as they are ambigious)
>>
>> westi
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From heiko.rabe at code-styling.de  Thu Feb 12 02:23:49 2009
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Thu Feb 12 02:23:55 2009
Subject: [wp-hackers] Feed date format and locale not using blog settings.
	Bug or feature?
In-Reply-To: <499382F9.80207@gmail.com>
References: <4992AB1A.2040305@gmail.com>	<45055a190902110247u8ebe7e0re33bd1c274eebdf7@mail.gmail.com>	<4992B6C3.60506@gmail.com>	<45055a190902110339o14266e80w4563e09bfdebbdb2@mail.gmail.com>	<EE2F896D-D519-4121-A33B-1C364CD1F9F6@ftwr.co.uk>	<4992DBB0.9030209@gmail.com>
	<499382F9.80207@gmail.com>
Message-ID: <49938835.9090604@code-styling.de>

Please have a look at "RSS Specifications for Creation of Rhode Island 
Government Information Exchange Feeds"

http://www.ri.gov/rex/downloads/RSSelements.pdf

Several goverments take care about language field of RSS (use google an 
you will find a lot f) and also refere to W3C who states, that not only 
the "en-us" is valid but all languages also meet HTML lang fields.
HTML is a subset of XML family and RSS too. so all of them have to 
publish their correct language they depend on even if no reader is 
interested!

This leads to supporting at least a filter for WordPress RSS feed, so 
user can make the decision if the pass it back to WordPress or if they 
modify it depending on feeds content (in term of multi-ligual blogs).

This force only "en-us" is not the way it should be.

regards

Heiko

> FYI, I just added this to the Codex.
>
> See:
> http://codex.wordpress.org/index.php?title=WordPress_Feeds&action=edit&section=7
>
> grtz
> BjornW
>
>   
>> Ok, before I add it to the Codex:
>>
>> The time/date format of feed should NOT be localized since the the current RSS
>> specifications are referring to RFC822 which specifies English as a default.
>> This implies that every RSS consumer should take care of translating time/date
>> according to its locale.
>>
>> Any remarks hints or tips before I add it to the codex?
>>
>> Thanks for the feedback so far!
>>
>> All the best,
>>
>> grtz
>> BjornW
>>
>>
>>
>>     
>>> On 11 Feb 2009, at 11:39, DD32 wrote:
>>>
>>>       
>>>> Once again, No.
>>>> Simply for the fact, That Feed readers do not understand different
>>>> languages, The RSS spec (along with most other spec's and software) is
>>>> written with English as the common format..
>>>> If the spec makes no mention of it, Its not going to be supported by
>>>> implementations of it, I do see that people would want it shown in
>>>> their native tongue, IMO, Feed readers should be able to translate the
>>>> time from a english-centric date/time into the users custom format (or
>>>> language format).
>>>>
>>>> I somewhat think Internationalisation might be something that would be
>>>> included in future spec's though.
>>>>
>>>> 2009/2/11 Bjorn Wijers <burobjorn@gmail.com>:
>>>>         
>>>>> Good point.
>>>>>
>>>>> I looked at the RSS spec[1] and it refers to RFC822[2] which states
>>>>> (I glanced
>>>>> over it) that the current time/date format as used by Wordpress is
>>>>> the correct
>>>>> one. I've added this to the Codex[3]. However as far as I know it
>>>>> doesn't
>>>>> mention anything on the localization of this? So my question on if this
>>>>> could/should be localized remains.
>>>>>
>>>>> LINKS
>>>>> [1] http://cyber.law.harvard.edu/rss/rss.html
>>>>>
>>>>> [2] http://asg.web.cmu.edu/rfc/rfc822.html
>>>>>
>>>>> [3]
>>>>> http://codex.wordpress.org/index.php?title=WordPress_Feeds&action=edit&section=7
>>>>>
>>>>>
>>>>> All the best,
>>>>>
>>>>>           
>>> It must not be localised.
>>>
>>> It must conform to the RFC which is specific about the format of the
>>> date/time string.
>>>
>>> The only change that RSS makes is it relaxed the rules on year to accept
>>> 2 digit years (But they should be avoided anyway as they are ambigious)
>>>
>>> westi
>>>       
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   

From wordpress at dd32.id.au  Thu Feb 12 02:30:39 2009
From: wordpress at dd32.id.au (DD32)
Date: Thu Feb 12 02:30:52 2009
Subject: [wp-hackers] Feed date format and locale not using blog settings.
	Bug or feature?
In-Reply-To: <49938835.9090604@code-styling.de>
References: <4992AB1A.2040305@gmail.com>
	<45055a190902110247u8ebe7e0re33bd1c274eebdf7@mail.gmail.com>
	<4992B6C3.60506@gmail.com>
	<45055a190902110339o14266e80w4563e09bfdebbdb2@mail.gmail.com>
	<EE2F896D-D519-4121-A33B-1C364CD1F9F6@ftwr.co.uk>
	<4992DBB0.9030209@gmail.com> <499382F9.80207@gmail.com>
	<49938835.9090604@code-styling.de>
Message-ID: <45055a190902111830t602b5716k5bc443815eae967d@mail.gmail.com>

You can manually change the 'rss_language' option in the database if
you'd like to output a different language value..
However, The language marker makes no impact what so ever upon any
machine-parsable fields, It mearly states that the contents of the
field are non-english.

I'm not sure if the rss_language value changes if you have defined a
language.. This would probably work in your themes functions.php:

add_filter('option_rss_language', 'theme_rss_lang');
function theme_rss_lang($lang) {
return defined('WPLANG') && !empty(WPLANG) ? WPLANG : $lang;
}

That uses your defined Language if its set, else the default thats set.

2009/2/12 Heiko Rabe <heiko.rabe@code-styling.de>:
> Please have a look at "RSS Specifications for Creation of Rhode Island
> Government Information Exchange Feeds"
>
> http://www.ri.gov/rex/downloads/RSSelements.pdf
>
> Several goverments take care about language field of RSS (use google an you
> will find a lot f) and also refere to W3C who states, that not only the
> "en-us" is valid but all languages also meet HTML lang fields.
> HTML is a subset of XML family and RSS too. so all of them have to publish
> their correct language they depend on even if no reader is interested!
>
> This leads to supporting at least a filter for WordPress RSS feed, so user
> can make the decision if the pass it back to WordPress or if they modify it
> depending on feeds content (in term of multi-ligual blogs).
>
> This force only "en-us" is not the way it should be.
>
> regards
>
> Heiko
>
>> FYI, I just added this to the Codex.
>>
>> See:
>>
>> http://codex.wordpress.org/index.php?title=WordPress_Feeds&action=edit&section=7
>>
>> grtz
>> BjornW
>>
>>
>>>
>>> Ok, before I add it to the Codex:
>>>
>>> The time/date format of feed should NOT be localized since the the
>>> current RSS
>>> specifications are referring to RFC822 which specifies English as a
>>> default.
>>> This implies that every RSS consumer should take care of translating
>>> time/date
>>> according to its locale.
>>>
>>> Any remarks hints or tips before I add it to the codex?
>>>
>>> Thanks for the feedback so far!
>>>
>>> All the best,
>>>
>>> grtz
>>> BjornW
>>>
>>>
>>>
>>>
>>>>
>>>> On 11 Feb 2009, at 11:39, DD32 wrote:
>>>>
>>>>
>>>>>
>>>>> Once again, No.
>>>>> Simply for the fact, That Feed readers do not understand different
>>>>> languages, The RSS spec (along with most other spec's and software) is
>>>>> written with English as the common format..
>>>>> If the spec makes no mention of it, Its not going to be supported by
>>>>> implementations of it, I do see that people would want it shown in
>>>>> their native tongue, IMO, Feed readers should be able to translate the
>>>>> time from a english-centric date/time into the users custom format (or
>>>>> language format).
>>>>>
>>>>> I somewhat think Internationalisation might be something that would be
>>>>> included in future spec's though.
>>>>>
>>>>> 2009/2/11 Bjorn Wijers <burobjorn@gmail.com>:
>>>>>
>>>>>>
>>>>>> Good point.
>>>>>>
>>>>>> I looked at the RSS spec[1] and it refers to RFC822[2] which states
>>>>>> (I glanced
>>>>>> over it) that the current time/date format as used by Wordpress is
>>>>>> the correct
>>>>>> one. I've added this to the Codex[3]. However as far as I know it
>>>>>> doesn't
>>>>>> mention anything on the localization of this? So my question on if
>>>>>> this
>>>>>> could/should be localized remains.
>>>>>>
>>>>>> LINKS
>>>>>> [1] http://cyber.law.harvard.edu/rss/rss.html
>>>>>>
>>>>>> [2] http://asg.web.cmu.edu/rfc/rfc822.html
>>>>>>
>>>>>> [3]
>>>>>>
>>>>>> http://codex.wordpress.org/index.php?title=WordPress_Feeds&action=edit&section=7
>>>>>>
>>>>>>
>>>>>> All the best,
>>>>>>
>>>>>>
>>>>
>>>> It must not be localised.
>>>>
>>>> It must conform to the RFC which is specific about the format of the
>>>> date/time string.
>>>>
>>>> The only change that RSS makes is it relaxed the rules on year to accept
>>>> 2 digit years (But they should be avoided anyway as they are ambigious)
>>>>
>>>> westi
>>>>
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From aesqe at skyphe.org  Thu Feb 12 13:30:16 2009
From: aesqe at skyphe.org (aesqe)
Date: Thu Feb 12 13:30:34 2009
Subject: [wp-hackers] Stripping attachment handling from rewrite rules
In-Reply-To: <7547287e0902070848y22343349g7c3be8c4536cfd7b@mail.gmail.com>
References: <7547287e0902070848y22343349g7c3be8c4536cfd7b@mail.gmail.com>
Message-ID: <49942468.1080809@skyphe.org>

Johan, thank you so much, because it would never cross my mind that 
something like attachment rewrite rules could be the cause of my problems.

A site I'm currently working on has nearly 300 pages, each with 5 to 20 
attachments, and it would take forever to load a single page.

Until I used your code,

<!-- <?php echo get_num_queries(); ?> queries. <?php timer_stop(1); ?> 
seconds. -->

was returning this:

<!-- 3906 queries. 34.944 seconds. -->

but now it returns this:

<!-- 91 queries. 1.687 seconds. -->

I'd say that's a big improvement :)




Thanks once again!


Bruno


On 7.2.2009 17:48, Johan Eenfeldt wrote:
> Inspired by the recent discussion of permalinks on wp-testers I took a
> closer look at my rewrite_rules.
>
> We use %postname% as permalink, which result in verbose rewrite_rules
> -- in our case ~8000 rules (~350KB).
>
> Looking a bit closer, most of that was various rewrites handling
> attachments -- all pictures on all pages got a few each. This is done
> to allow linking to and using them the same way as posts. Something we
> do not use.
>
> So I tried just strippin them:
>
> function filter_rewrite_attachment($content) {
> 	if (!is_array($content))
> 		return $content;
>
> 	foreach ($content as $key =>  $val) {
> 		if (strpos($val, 'attachment') !== false)
> 			unset($content[$key]);
> 	}
>
> 	return $content;
> }
> add_filter('page_rewrite_rules', 'filter_rewrite_attachment');
> add_filter('post_rewrite_rules', 'filter_rewrite_attachment');
>
> This got the size of rewrite_rules down to ~300 rules (~35KB), and
> seems to work just fine.
>
> We didn't really have any problems (yet?) by the proliferation of
> rewrite rules -- though changing it decreases the average mysql
> transfers by almost 50%!
>
> Anyone knows any reason not to do this?
>
> Thank you,
> Johan Eenfeldt
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> ------------------------------------------------------------------------
>
>
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.0.233 / Virus Database: 270.10.19/1938 - Release Date: 02/06/09 17:28:00
>

-- 
-._______________KAWAII!_______________.-
Skyphe.org : It'll all make sense one day
http://skyphe.org .:. http://breedart.org
From mark.cunningham at gmail.com  Thu Feb 12 13:46:02 2009
From: mark.cunningham at gmail.com (Mark Cunningham)
Date: Thu Feb 12 13:46:15 2009
Subject: [wp-hackers] What is the logic on stripping slashes on
	add_post_meta?
Message-ID: <ee3949160902120546k479abc73pf8eb1055a4492c43@mail.gmail.com>

I have a situation in my plugin where I store a file path in a Custom
Field on a post using add_post_meta. But I discovered that
add_post_meta strips slashes out of the meta value before adding them
to the database, which causes a pain when people use my plugin on a
Windows host that uses '\' as directory seperaters. It turns
"C:\folder\subfolder" into "C:foldersubfolder". In fact add_post_meta
uses "stripslashes_deep" so even if you're using an array of strings,
the slashes will be removed.

Why doesn't add_post_meta do add slashes and protect the original
input rather than strip them and risk modifying the original input?
The function documentation doesn't mention having to protect slashes
in the metadata value and neither does the codex. Is this a bug or a
"feature"?

This actually caused a pretty serious bug in my plugin because it
would use the value in the custom field to delete a folder contain
files and subfolders when a post was deleted. It did this by using
dirname on the path to a file returned from the post meta. This works
fine in unix and linux which is my default testing environment and
about 99% of users of my plugin, but on windows when you run dirname
on "C:foldersubfolder" you get "C:" and so my plugin attempted to
systematically delete every thing on the root of a windows host - not
smart but I can't test every host/os combination myself.

Mark
-- 
http://thedeadone.net
http://lostheroesrpg.com
http://irishgamingwiki.com
From ozh at planetozh.com  Thu Feb 12 14:41:39 2009
From: ozh at planetozh.com (Ozh)
Date: Thu Feb 12 14:42:15 2009
Subject: [wp-hackers] What is the logic on stripping slashes on
	add_post_meta?
In-Reply-To: <ee3949160902120546k479abc73pf8eb1055a4492c43@mail.gmail.com>
Message-ID: <OFC440EBCA.417FEE5C-ONC125755B.00507792-C125755B.0050B832@notes.edfgdf.fr>

>(...) when people use my plugin on a
>Windows host that uses '\' as directory seperaters. It turns
>"C:\folder\subfolder" into "C:foldersubfolder".

As a general rule in my plugins I always str_replace('\\', '/') every 
string that can contain a path, even WP consts and vars such as 
TEMPLATEPATH. Saves a lot of troubles and always work no matter what OS is 
running.

Ozh



From aesqe at skyphe.org  Thu Feb 12 15:21:04 2009
From: aesqe at skyphe.org (aesqe)
Date: Thu Feb 12 15:21:25 2009
Subject: [wp-hackers] Need direction on custom image handling
In-Reply-To: <AE2ACECE-AA35-4CD7-AD2B-2C888C7F181B@codehooligans.com>
References: <AE2ACECE-AA35-4CD7-AD2B-2C888C7F181B@codehooligans.com>
Message-ID: <49943E60.5060108@skyphe.org>

I've explained here how to add additional image sizes: 
http://wordpress.org/support/topic/235286

you'd need to modify the function that adds additional sizes to the 
array to check if the post is in certain category, or call the filter 
only if post is in certain category, or something along those lines :)


On 11.2.2009 2:35, Paul wrote:
> All,
>
> I'm not trying to tack away traffic from the SWFObject discussion but
> need some advice.
>
> I'm trying to find wrap my head around the attachment/image handling
> functions and figure out the best action/filter to hook into. I have a
> need to intercept an uploaded image and create two new sizes. I know WP
> comes with the thumb, medium and large option. I don't want to mess with
> these as they would effect the general user uploads. I need to check the
> parent post of the upload and if in a 'special' category create the
> other two sizes of the image.
>
> Where is this functionality? Any example would be appreciated.
>
>
> paul
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> ------------------------------------------------------------------------
>
>
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.0.233 / Virus Database: 270.10.21/1945 - Release Date: 02/10/09 17:44:00
>

-- 
-._______________KAWAII!_______________.-
Skyphe.org : It'll all make sense one day
http://skyphe.org .:. http://breedart.org
From wp-hackers at striderweb.com  Thu Feb 12 16:18:17 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Feb 12 16:18:32 2009
Subject: [wp-hackers] plugin .pot creation/editing
Message-ID: <1144E3C7-6601-4123-A63E-908260C0A798@striderweb.com>

Hi --

For translations of plugins, I've used Poedit in the past, but  
unfortunately the program is utter crap on OS X, and the latest  
version is literally unusable.

Does anyone have a decent workflow for creating and updating .pot  
files for plugins?  I'm on Mac OS X as I said, but I'm okay with  
Terminal commands if a decent GUI app isn't available.

Thanks,
Stephen


-- 
Stephen Rider
http://striderweb.com/




From if.website at gmail.com  Thu Feb 12 16:32:08 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu Feb 12 16:32:17 2009
Subject: [wp-hackers] plugin .pot creation/editing
In-Reply-To: <1144E3C7-6601-4123-A63E-908260C0A798@striderweb.com>
References: <1144E3C7-6601-4123-A63E-908260C0A798@striderweb.com>
Message-ID: <674b4a3b0902120832q2b54b633j706bd03843144b68@mail.gmail.com>

On Thu, Feb 12, 2009 at 10:18 AM, Stephen Rider
<wp-hackers@striderweb.com> wrote:
> Does anyone have a decent workflow for creating and updating .pot files for
> plugins?  I'm on Mac OS X as I said, but I'm okay with Terminal commands if
> a decent GUI app isn't available.

I use xgettext on Linux, and I would guess it's available on Mac's BSD:

xgettext my-plugin.php -k__ -k_e -k_n_noop -k_n -o my-plugin.po
From heiko.rabe at code-styling.de  Thu Feb 12 17:41:44 2009
From: heiko.rabe at code-styling.de (heiko.rabe@code-styling.de)
Date: Thu Feb 12 17:41:59 2009
Subject: [wp-hackers] plugin .pot creation/editing
Message-ID: <9575674.1105631234460504887.JavaMail.servlet@kundenserver>

Hi,

may let me suggest my WordPress Plugin, can be found at wordpress.org: http://wordpress.org/extend/plugins/codestyling-localization/ and a more detailed description here: http://www.code-styling.de/english/development/wordpress-plugin-codestyling-localization-en
If you have write permission at you domain for creating and updating files, you would have a WordPress seamless solution, could be your way out, all pure PHP.

regards

Heiko Rabe


Hi --

For translations of plugins, I've used Poedit in the past, but  
unfortunately the program is utter crap on OS X, and the latest  
version is literally unusable.

Does anyone have a decent workflow for creating and updating .pot  
files for plugins?  I'm on Mac OS X as I said, but I'm okay with  
Terminal commands if a decent GUI app isn't available.

Thanks,
Stephen


-- 
Stephen Rider
http://striderweb.com/




_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mdmartz at sivel.net  Thu Feb 12 17:51:28 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Thu Feb 12 17:51:45 2009
Subject: [wp-hackers] plugin .pot creation/editing
In-Reply-To: <9575674.1105631234460504887.JavaMail.servlet@kundenserver>
References: <9575674.1105631234460504887.JavaMail.servlet@kundenserver>
Message-ID: <518fa9630902120951l9063945pc99522bd2f423be2@mail.gmail.com>

On Thu, Feb 12, 2009 at 12:41 PM,  <heiko.rabe@code-styling.de> wrote:
> Hi,
>
> may let me suggest my WordPress Plugin, can be found at wordpress.org: http://wordpress.org/extend/plugins/codestyling-localization/ and a more detailed description here: http://www.code-styling.de/english/development/wordpress-plugin-codestyling-localization-en
> If you have write permission at you domain for creating and updating files, you would have a WordPress seamless solution, could be your way out, all pure PHP.
>

Perhaps you should try the following:

Visit the following link after changing [PLUGIN] to the name of your
plugin on wp.org:

http://wordpress.org/extend/plugins/[PLUGIN]/admin/

Using the login form, log into the site.  You should now see "Generate POT file"

-- 
Matt Martz
matt@sivel.net
From ozh at planetozh.com  Thu Feb 12 18:03:26 2009
From: ozh at planetozh.com (Ozh)
Date: Thu Feb 12 18:03:37 2009
Subject: [wp-hackers] plugin .pot creation/editing
In-Reply-To: <518fa9630902120951l9063945pc99522bd2f423be2@mail.gmail.com>
References: <9575674.1105631234460504887.JavaMail.servlet@kundenserver>
	<518fa9630902120951l9063945pc99522bd2f423be2@mail.gmail.com>
Message-ID: <ae81acd10902121003g40406b26y16fb47d303231309@mail.gmail.com>

On Thu, Feb 12, 2009 at 6:51 PM, Matt Martz <mdmartz@sivel.net> wrote:
> http://wordpress.org/extend/plugins/[PLUGIN]/admin/
> Using the login form, log into the site.  You should now see "Generate POT file"

This is cool but too limited: it only parses for __() and _e()

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From wp-hackers at striderweb.com  Thu Feb 12 18:11:31 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Feb 12 18:11:46 2009
Subject: [wp-hackers] plugin .pot creation/editing
In-Reply-To: <ae81acd10902121003g40406b26y16fb47d303231309@mail.gmail.com>
References: <9575674.1105631234460504887.JavaMail.servlet@kundenserver>
	<518fa9630902120951l9063945pc99522bd2f423be2@mail.gmail.com>
	<ae81acd10902121003g40406b26y16fb47d303231309@mail.gmail.com>
Message-ID: <CD8E8F16-DD2F-41F7-A539-C888F798F064@striderweb.com>

On Feb 12, 2009, at 12:03 PM, Ozh wrote:

> On Thu, Feb 12, 2009 at 6:51 PM, Matt Martz <mdmartz@sivel.net> wrote:
>> http://wordpress.org/extend/plugins/[PLUGIN]/admin/
>> Using the login form, log into the site.  You should now see  
>> "Generate POT file"
>
> This is cool but too limited: it only parses for __() and _e()

Heh.  Ohz -- you must do the same thing I do.  ;-)

It also only helps if your plugin is hosted at WP-Extend.  Most of  
mine are not, for multiple reasons.

Stephen

-- 
Stephen Rider
http://striderweb.com/
From jason at intraffic.net  Thu Feb 12 18:24:22 2009
From: jason at intraffic.net (Jason Webster)
Date: Thu Feb 12 18:24:25 2009
Subject: [wp-hackers] plugin .pot creation/editing
In-Reply-To: <CD8E8F16-DD2F-41F7-A539-C888F798F064@striderweb.com>
References: <9575674.1105631234460504887.JavaMail.servlet@kundenserver>	<518fa9630902120951l9063945pc99522bd2f423be2@mail.gmail.com>	<ae81acd10902121003g40406b26y16fb47d303231309@mail.gmail.com>
	<CD8E8F16-DD2F-41F7-A539-C888F798F064@striderweb.com>
Message-ID: <49946956.2060802@intraffic.net>

While I am an advocate of the GNU command line utils that someone suggested eariler, there are some 
tools here <http://svn.automattic.com/wordpress-i18n/tools/trunk/> that may help.

On 12/02/2009 10:11 AM, Stephen Rider wrote:
> On Feb 12, 2009, at 12:03 PM, Ozh wrote:
>
>> On Thu, Feb 12, 2009 at 6:51 PM, Matt Martz <mdmartz@sivel.net> wrote:
>>> http://wordpress.org/extend/plugins/[PLUGIN]/admin/
>>> Using the login form, log into the site. You should now see "Generate
>>> POT file"
>>
>> This is cool but too limited: it only parses for __() and _e()
>
> Heh. Ohz -- you must do the same thing I do. ;-)
>
> It also only helps if your plugin is hosted at WP-Extend. Most of mine
> are not, for multiple reasons.
>
> Stephen
>

From frank at bueltge.de  Thu Feb 12 19:00:00 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Thu Feb 12 19:00:09 2009
Subject: [wp-hackers] plugin .pot creation/editing
In-Reply-To: <49946956.2060802@intraffic.net>
References: <9575674.1105631234460504887.JavaMail.servlet@kundenserver>
	<518fa9630902120951l9063945pc99522bd2f423be2@mail.gmail.com>
	<ae81acd10902121003g40406b26y16fb47d303231309@mail.gmail.com>
	<CD8E8F16-DD2F-41F7-A539-C888F798F064@striderweb.com>
	<49946956.2060802@intraffic.net>
Message-ID: <db047a770902121100tf28977axe5db325e13a1427c@mail.gmail.com>

Hello,

--> it only parses for __() and _e()
no, the plugin parse all psossible strings, also _c() and stings for plural
( print_f()) etc.
The plugin works better as poEdit and you can translate with the API of
Google Translate. The plugin understand all languages and the codex auf the
plural.
test it, its so nice.
We hope, Matt can see the plugin on the WordCamp in germany on the next
weekend.
best regards and
sorry for my bad english.
Frank
From jer-wphackers at simianuprising.com  Thu Feb 12 21:09:24 2009
From: jer-wphackers at simianuprising.com (Jeremy Clarke)
Date: Thu Feb 12 21:11:42 2009
Subject: [wp-hackers] wp_list_pages meta conditionals
In-Reply-To: <161617690902101347h7472b384hd2dcbe4795f61240@mail.gmail.com>
References: <D6DDAC34-6310-4BC5-B0D4-16EC7A50F345@gmail.com>
	<161617690902101347h7472b384hd2dcbe4795f61240@mail.gmail.com>
Message-ID: <e1202cb10902121309i7fd1e6f7l89cbb82b04cc8f66@mail.gmail.com>

This is something to remember generally about the Codex: Any time it
lists arguments you pass in in the url query style ('x=y&z=a') there
is a fair likelihood that you can pass in more options than are
immediately obvious. In the codex's defense of course is the fact that
even after reading the function itself you can be left with a
overly-limited sense of what appropriate parameters are.

IMHO its a matter of ensuring that the phpDoc info gets across the
option cascade as clearly as possible. In the case of wp_list_pages we
can see the obvious culprit is a completely useless @param description
for its one argument:

 * @param array|string $args Optional. Override default arguments.

Sure it implies that you should just look down a few lines and read
the contents of $defaults, but even in that case it could be more
explicit and useful, something like "Overrides default arguments (see
$defaults array)". Really though it should probably hint at what the
defaults are and what they might do. Maybe those comments should go
inside the function just before the $defaults array is defined?

It should also have an @uses phpdoc definition to mention get_pages(),
anyone know if its appropriate to do something along the lines of

 * @uses get_pages() - extra query parameters not found in $defaults
can still be passed into this function and will be used by
get_pages().

I can't shake the feeling that the docs for functions like this (which
really have multiple params, having just one @param in the phpdoc is
borderline cheating when using this style of arguments) should have
each possible setting and its effect listed somewhere in the comments.
This would make it easier to read and the mere act of writing it up
would probably help the doc author to remember that they should
mention that other settings from the called function (in this case
get_pages ) can be used as well.


-- 
Jeremy Clarke
Code and Design | globalvoicesonline.org
From wordpress at dd32.id.au  Thu Feb 12 21:23:30 2009
From: wordpress at dd32.id.au (DD32)
Date: Thu Feb 12 21:23:43 2009
Subject: [wp-hackers] What is the logic on stripping slashes on 
	add_post_meta?
In-Reply-To: <OFC440EBCA.417FEE5C-ONC125755B.00507792-C125755B.0050B832@notes.edfgdf.fr>
References: <ee3949160902120546k479abc73pf8eb1055a4492c43@mail.gmail.com>
	<OFC440EBCA.417FEE5C-ONC125755B.00507792-C125755B.0050B832@notes.edfgdf.fr>
Message-ID: <45055a190902121323r71db3161g10f5bb45b6a69e0@mail.gmail.com>

The logic is as follows:
Originally, The code which is used for meta, was in theform for
adding-meta directly from the post screen, It was carried across to
the API functions.
WordPress addslashes() to all $_POST data (stupidly IMO), so the raw
meta handling functions expect the input to be slashed (As they're
originally just  admin template code).

IMO, add_post_meta should be updated to take a non-slashed input, but
then, theres backwards compat issues with those which pass a slashed
input in..

2009/2/13 Ozh <ozh@planetozh.com>:
>>(...) when people use my plugin on a
>>Windows host that uses '\' as directory seperaters. It turns
>>"C:\folder\subfolder" into "C:foldersubfolder".
>
> As a general rule in my plugins I always str_replace('\\', '/') every
> string that can contain a path, even WP consts and vars such as
> TEMPLATEPATH. Saves a lot of troubles and always work no matter what OS is
> running.
>
> Ozh
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ryan at boren.nu  Fri Feb 13 00:04:31 2009
From: ryan at boren.nu (Ryan Boren)
Date: Fri Feb 13 00:04:39 2009
Subject: [wp-hackers] 'option_update_plugins' filter won't run
In-Reply-To: <86085826-745E-4495-A86F-6692878C9FE0@striderweb.com>
References: <FFF590A1-E3EC-4820-A569-818EB9F6087D@striderweb.com>
	<c8f37c930902092232y5fbec6c7qc9f4050da2ebbd69@mail.gmail.com>
	<86085826-745E-4495-A86F-6692878C9FE0@striderweb.com>
Message-ID: <c8f37c930902121604t6fe630ces1b1047ed0e004c52@mail.gmail.com>

On Tue, Feb 10, 2009 at 7:33 PM, Stephen Rider
<wp-hackers@striderweb.com> wrote:
>
> On Feb 10, 2009, at 12:32 AM, Ryan Boren wrote:
>> Transients have transient_* filters that behave the same as option_*.
>> Hook your function to both option_update_plugins and
>> transient_update_plugins.  option_update_plugins will be run for 2.7
>> and earlier.  transient_update_plugins will be run for 2.8.
>
> I'm not using any cache plugins.  Actually, I added an error_log() to the
> actual get_option() function, so the log excerpt above shows the actual
> get_option() function being run.  The function is running, and calling the
> 'update_plugins' settings, but the 'option_update_plugins' filter is
> apparently not firing.  The code is pretty straightforward -- I can't
> imagine why it isn't working.
>
> Any other idea?
>
> Thanks,
> Steve
>
> P.S. -- When I get it working, I'll be sure to hook transient_update_plugins
> as well. :)

I was wrong. A caching plugin does not need to be installed to get the
new behavior.  2.8 currently requires using transient_update_plugins.
The option in the DB is now called _transient_update_plugins and the
filter called _option__transient_update_plugins.  I'll look into
adding some back-compat, but for now transient_update_plugins can be
used.
From chris at clwill.com  Fri Feb 13 01:25:28 2009
From: chris at clwill.com (Chris Williams)
Date: Fri Feb 13 01:26:24 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <C5B882B4.2A161%chris@clwill.com>
Message-ID: <C5BA0C08.2A2B2%chris@clwill.com>

Despite my overabundant use of the word "really" (which I "really" regret
now :) ), does anybody have any input on this issue?


> From: Chris Williams <chris@clwill.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Wed, 11 Feb 2009 13:27:16 -0800
> To: <wp-hackers@lists.automattic.com>
> Subject: [wp-hackers] Page Title for Admin Menu
> 
> I am writing a plugin that adds an admin menu page (not submenu).  It does
> this because it?s really quite a separate thing ? a calendar of racing
> events, nothing to do with the WP functions, it?s really a separate data
> table and everything.  So, it doesn?t really belong down in ?settings?, or
> ?tools?.
> 
> This is all good, I have it working with add_menu_page and all is fine.  It
> really only needs one page (like the ?Links? or ?Comments? menu items), it?s
> just an ?edit events? page.  There is one small problem, and that?s that the
> HTML page title is null.  It says simply ?[blogname] > -- Wordpress?.
> Nothing I put in the $page_title parameter on add_menu_page works.
> 
> If I have a submenu page, it works, but not with just a plain add_menu_page.
> I believe the issue is in get_admin_page_title in
> wp-admin/includes/plugin.php, but I haven?t debugged it completely.
> 
> My questions are: 1) am I doing something incorrectly that is causing this,
> 2) is this a known issue and I should just chill, or 3) should I figure it
> out and propose a patch?
> 
> Thanks,
> Chris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From andre.renaut at gmail.com  Fri Feb 13 01:40:55 2009
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Fri Feb 13 01:41:03 2009
Subject: [wp-hackers] Upload media and postmeta
Message-ID: <8810a71a0902121740m60076693t829c676c6d62d7bc@mail.gmail.com>

On 'new post' page, post is new, user loads an image using the Upload/Insert
option, Image is not inserted in post ...

why is inserted two rows into postmeta with following metakeys

* _wp_attached_file
* _wp_attachment_metadata

and a post_id that doesnot already exists (and never will) ! ??

thank you for your answers
From gaarai at gaarai.com  Fri Feb 13 03:21:02 2009
From: gaarai at gaarai.com (Gaarai)
Date: Fri Feb 13 03:21:32 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <C5BA0C08.2A2B2%chris@clwill.com>
References: <C5BA0C08.2A2B2%chris@clwill.com>
Message-ID: <4994E71E.9000203@gaarai.com>

In my experience, it isn't the top-level menu that sets the title; 
rather, the first sub-menu under it does.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/



Chris Williams wrote:
> Despite my overabundant use of the word "really" (which I "really" regret
> now :) ), does anybody have any input on this issue?
>
>
>   
>> From: Chris Williams <chris@clwill.com>
>> Reply-To: <wp-hackers@lists.automattic.com>
>> Date: Wed, 11 Feb 2009 13:27:16 -0800
>> To: <wp-hackers@lists.automattic.com>
>> Subject: [wp-hackers] Page Title for Admin Menu
>>
>> I am writing a plugin that adds an admin menu page (not submenu).  It does
>> this because it?s really quite a separate thing < a calendar of racing
>> events, nothing to do with the WP functions, it?s really a separate data
>> table and everything.  So, it doesn?t really belong down in ?settings?, or
>> ?tools?.
>>
>> This is all good, I have it working with add_menu_page and all is fine.  It
>> really only needs one page (like the ?Links? or ?Comments? menu items), it?s
>> just an ?edit events? page.  There is one small problem, and that?s that the
>> HTML page title is null.  It says simply ?[blogname] > -- Wordpress?.
>> Nothing I put in the $page_title parameter on add_menu_page works.
>>
>> If I have a submenu page, it works, but not with just a plain add_menu_page.
>> I believe the issue is in get_admin_page_title in
>> wp-admin/includes/plugin.php, but I haven?t debugged it completely.
>>
>> My questions are: 1) am I doing something incorrectly that is causing this,
>> 2) is this a known issue and I should just chill, or 3) should I figure it
>> out and propose a patch?
>>
>> Thanks,
>> Chris
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>     
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From mark.cunningham at gmail.com  Fri Feb 13 09:06:12 2009
From: mark.cunningham at gmail.com (Mark Cunningham)
Date: Fri Feb 13 09:06:25 2009
Subject: [wp-hackers] What is the logic on stripping slashes on 
	add_post_meta?
In-Reply-To: <45055a190902121323r71db3161g10f5bb45b6a69e0@mail.gmail.com>
References: <ee3949160902120546k479abc73pf8eb1055a4492c43@mail.gmail.com>
	<OFC440EBCA.417FEE5C-ONC125755B.00507792-C125755B.0050B832@notes.edfgdf.fr>
	<45055a190902121323r71db3161g10f5bb45b6a69e0@mail.gmail.com>
Message-ID: <ee3949160902130106l52ff8139q3b34b19564ee5750@mail.gmail.com>

So it boils down to a "feature" of the function rather than a bug
because fixing it will probably cause too many errors and confusion
for other plugins. At the very least though the function documentation
should be updated to indicate that you need to add extra slashes to
protect your input. I'll go update the codex when I get a chance
today.

Mark

2009/2/12 DD32 <wordpress@dd32.id.au>:
> The logic is as follows:
> Originally, The code which is used for meta, was in theform for
> adding-meta directly from the post screen, It was carried across to
> the API functions.
> WordPress addslashes() to all $_POST data (stupidly IMO), so the raw
> meta handling functions expect the input to be slashed (As they're
> originally just  admin template code).
>
> IMO, add_post_meta should be updated to take a non-slashed input, but
> then, theres backwards compat issues with those which pass a slashed
> input in..
>
> 2009/2/13 Ozh <ozh@planetozh.com>:
>>>(...) when people use my plugin on a
>>>Windows host that uses '\' as directory seperaters. It turns
>>>"C:\folder\subfolder" into "C:foldersubfolder".
>>
>> As a general rule in my plugins I always str_replace('\\', '/') every
>> string that can contain a path, even WP consts and vars such as
>> TEMPLATEPATH. Saves a lot of troubles and always work no matter what OS is
>> running.
>>
>> Ozh
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://thedeadone.net
http://lostheroesrpg.com
http://irishgamingwiki.com
From xavier at borderie.net  Fri Feb 13 09:52:06 2009
From: xavier at borderie.net (Xavier Borderie)
Date: Fri Feb 13 09:52:14 2009
Subject: [wp-hackers] Re: Getting comment feed for articles of specific
	author
In-Reply-To: <9e4ae73e0902110202u540218aaub8d881ddd226df06@mail.gmail.com>
References: <9e4ae73e0902110202u540218aaub8d881ddd226df06@mail.gmail.com>
Message-ID: <9e4ae73e0902130152x1b4b71g78ce75fa33f4022@mail.gmail.com>

So, lemme guess: there's no way to make this work?

Thanks for any help.

-x.


2009/2/11 Xavier Borderie <xavier@borderie.net>:
> Hey there, good people.
>
> In a standard install, we can:
>  - get the general feed > /blog/feed/
>  - get the comments feed > /blog/comments/feed/
>  - get a feed for each author's articles > /blog/author/AUTHOR_ID/feed/
>
> How would I go about getting the next logical step: a feed of the
> comments to a given author's articles.
>
> Basic idea: /blog/author/AUTHOR_ID/comments/feed/
> What say you?
>
> --
> Xavier Borderie
>



-- 
Xavier Borderie
From alan at verselogic.net  Fri Feb 13 12:55:45 2009
From: alan at verselogic.net (Alan Castonguay)
Date: Fri Feb 13 12:56:01 2009
Subject: [wp-hackers] Re: Getting comment feed for articles of specific
	author
In-Reply-To: <9e4ae73e0902130152x1b4b71g78ce75fa33f4022@mail.gmail.com>
References: <9e4ae73e0902110202u540218aaub8d881ddd226df06@mail.gmail.com>
	<9e4ae73e0902130152x1b4b71g78ce75fa33f4022@mail.gmail.com>
Message-ID: <91AB2584-0096-4205-BF20-7EA4A60E07E9@verselogic.net>

There is, afaik, no such feed yet.

There really should be a way of fetching this data, at least for the  
Atom APP.  I've been considering recently where a Comment Collection  
should be placed, possibly at the top-level beside posts and media. If  
a subcollection / collection query / etc of Comments were available,  
then an Atom feed could be provided for both the requested use case  
(feed of all comments on posts by a given author) and others not yet  
discovered.

The APP really needs to reach feature parity with the xmlrpc  
interface. Optimally, one or both should reach parity with the Admin  
interface as a whole.

How can we manage (Post new, Put updates/moderate, Delete, Get feeds  
of) comments with AtomPUB?

-Alan J Castonguay


On Feb 13, 2009, at 4:52 AM, Xavier Borderie wrote:

> So, lemme guess: there's no way to make this work?
>
> Thanks for any help.
>
> -x.
>
>
> 2009/2/11 Xavier Borderie <xavier@borderie.net>:
>> Hey there, good people.
>>
>> In a standard install, we can:
>> - get the general feed > /blog/feed/
>> - get the comments feed > /blog/comments/feed/
>> - get a feed for each author's articles > /blog/author/AUTHOR_ID/ 
>> feed/
>>
>> How would I go about getting the next logical step: a feed of the
>> comments to a given author's articles.
>>
>> Basic idea: /blog/author/AUTHOR_ID/comments/feed/
>> What say you?
>>
>> --
>> Xavier Borderie
>>
>
>
>
> -- 
> Xavier Borderie
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp-hackers at striderweb.com  Fri Feb 13 13:20:46 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri Feb 13 13:21:08 2009
Subject: [wp-hackers] 'option_update_plugins' filter won't run
In-Reply-To: <c8f37c930902121604t6fe630ces1b1047ed0e004c52@mail.gmail.com>
References: <FFF590A1-E3EC-4820-A569-818EB9F6087D@striderweb.com>
	<c8f37c930902092232y5fbec6c7qc9f4050da2ebbd69@mail.gmail.com>
	<86085826-745E-4495-A86F-6692878C9FE0@striderweb.com>
	<c8f37c930902121604t6fe630ces1b1047ed0e004c52@mail.gmail.com>
Message-ID: <35F15B14-0947-40F5-ADC9-65C72CA7E429@striderweb.com>


On Feb 12, 2009, at 6:04 PM, Ryan Boren wrote:

> On Tue, Feb 10, 2009 at 7:33 PM, Stephen Rider
> <wp-hackers@striderweb.com> wrote:
>>
>> On Feb 10, 2009, at 12:32 AM, Ryan Boren wrote:
>>> Transients have transient_* filters that behave the same as  
>>> option_*.
>>> Hook your function to both option_update_plugins and
>>> transient_update_plugins.  option_update_plugins will be run for 2.7
>>> and earlier.  transient_update_plugins will be run for 2.8.
>>
>> I'm not using any cache plugins.  Actually, I added an error_log()  
>> to the
>> actual get_option() function, so the log excerpt above shows the  
>> actual
>> get_option() function being run.  The function is running, and  
>> calling the
>> 'update_plugins' settings, but the 'option_update_plugins' filter is
>> apparently not firing.  The code is pretty straightforward -- I can't
>> imagine why it isn't working.
>>
>
> I was wrong. A caching plugin does not need to be installed to get the
> new behavior.  2.8 currently requires using transient_update_plugins.
> The option in the DB is now called _transient_update_plugins and the
> filter called _option__transient_update_plugins.  I'll look into
> adding some back-compat, but for now transient_update_plugins can be
> used.

Last night it just up and decided to work.  Sometime in the past  
couple days I went from 2.8 bleeding back to 2.7.1, so that may have  
been part of it (if so, you may have a bug in 2.8).  It may also have  
been something glitched in my particular install.

So... thanks for the assist, and please do keep me updated as to the  
"transient" stuff.

Stephen

-- 
Stephen Rider
http://striderweb.com/
From fhelmschrott at gmail.com  Fri Feb 13 13:33:28 2009
From: fhelmschrott at gmail.com (Frank Helmschrott)
Date: Fri Feb 13 13:33:36 2009
Subject: [wp-hackers] 302 redirect - why?
In-Reply-To: <360919220902130529n5f4f2cebie84a94ba08994822@mail.gmail.com>
References: <360919220902130529n5f4f2cebie84a94ba08994822@mail.gmail.com>
Message-ID: <360919220902130533w4da7e92en1748ad0bc543e6ff@mail.gmail.com>

wrong list, sorry - this should have gone to wp-hackers instead of wp-testers.

---------- Forwarded message ----------

Hi,

in wp-trackback.php around line 80 the code looks like that:

if (empty($title) && empty($tb_url) && empty($blog_name)) {
       // If it doesn't look like a trackback at all...
       wp_redirect(get_permalink($tb_id));
       exit;
}

This redirects a request to the trackback URL that isn't a real
trackback. This redirect is HTTP Status 302 redirect. Why is that? Is
there any special reason for a 302? We're currently still researching
things but it looks like a bit that this can couse google to penalize
a wordpress blog. But that's not the real case here. By definition a
302 redirect means "Moved temporarily" which definitely isn't the case
here.

For non-trackback-requests the correct url is _always_ the one where
the user get's redirected so this is a permanent move - ergo 301. This
code change is all that has to be done:

if (empty($title) && empty($tb_url) && empty($blog_name)) {
       // If it doesn't look like a trackback at all...
       wp_redirect(get_permalink($tb_id),301);
       exit;
}


just add the ,301 to the end of wp_redirect function.

It would be good if this could be done in the codebase as there
shouldn't be a need for a 302 redirect.

Thanks!


--
Frank



-- 
Frank
From tim at silentgap.com  Fri Feb 13 14:40:16 2009
From: tim at silentgap.com (Tim Schoffelman)
Date: Fri Feb 13 14:40:32 2009
Subject: [wp-hackers] Re: Getting comment feed for articles of specific
	author
In-Reply-To: <91AB2584-0096-4205-BF20-7EA4A60E07E9@verselogic.net>
References: <9e4ae73e0902110202u540218aaub8d881ddd226df06@mail.gmail.com>
	<9e4ae73e0902130152x1b4b71g78ce75fa33f4022@mail.gmail.com>
	<91AB2584-0096-4205-BF20-7EA4A60E07E9@verselogic.net>
Message-ID: <12D4794E-65DE-4740-ADE1-3FB1D75A6629@silentgap.com>

Why not create an author template (you may be able to do a category  
template) and in your loop pull the comments from that author & then  
grab the feed from either the author or category template - not sure  
if that's been done before, but I'm pretty sure I could arm wrestle  
the loop enough to do this very thing.

Any thoughts?

-Tim Schoffelman


On Feb 13, 2009, at 6:55 AM, Alan Castonguay wrote:

> There is, afaik, no such feed yet.
>
> There really should be a way of fetching this data, at least for the  
> Atom APP.  I've been considering recently where a Comment Collection  
> should be placed, possibly at the top-level beside posts and media.  
> If a subcollection / collection query / etc of Comments were  
> available, then an Atom feed could be provided for both the  
> requested use case (feed of all comments on posts by a given author)  
> and others not yet discovered.
>
> The APP really needs to reach feature parity with the xmlrpc  
> interface. Optimally, one or both should reach parity with the Admin  
> interface as a whole.
>
> How can we manage (Post new, Put updates/moderate, Delete, Get feeds  
> of) comments with AtomPUB?
>
> -Alan J Castonguay
>
>
> On Feb 13, 2009, at 4:52 AM, Xavier Borderie wrote:
>
>> So, lemme guess: there's no way to make this work?
>>
>> Thanks for any help.
>>
>> -x.
>>
>>
>> 2009/2/11 Xavier Borderie <xavier@borderie.net>:
>>> Hey there, good people.
>>>
>>> In a standard install, we can:
>>> - get the general feed > /blog/feed/
>>> - get the comments feed > /blog/comments/feed/
>>> - get a feed for each author's articles > /blog/author/AUTHOR_ID/ 
>>> feed/
>>>
>>> How would I go about getting the next logical step: a feed of the
>>> comments to a given author's articles.
>>>
>>> Basic idea: /blog/author/AUTHOR_ID/comments/feed/
>>> What say you?
>>>
>>> --
>>> Xavier Borderie
>>>
>>
>>
>>
>> -- 
>> Xavier Borderie
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Fri Feb 13 16:10:47 2009
From: otto at ottodestruct.com (Otto)
Date: Fri Feb 13 16:10:58 2009
Subject: [wp-hackers] 302 redirect - why?
In-Reply-To: <360919220902130533w4da7e92en1748ad0bc543e6ff@mail.gmail.com>
References: <360919220902130529n5f4f2cebie84a94ba08994822@mail.gmail.com>
	<360919220902130533w4da7e92en1748ad0bc543e6ff@mail.gmail.com>
Message-ID: <161617690902130810p3507bf73pf10ab90f5f8c29db@mail.gmail.com>

The reason you have it send a 302 instead of a 301 is that you don't
want the client to change the actual URL it's sending to, if it sent
the wrong thing by mistake.

Say a client tries to send a trackback, but something goes wrong and
it leaves off the URL. You send back a 301. According to standard
methods, the client, if it retries later, should retry at the new
location only. Meaning that the trackback will never get there.

By sending a 302, you account for possible errors.



On Fri, Feb 13, 2009 at 7:33 AM, Frank Helmschrott
<fhelmschrott@gmail.com> wrote:
> wrong list, sorry - this should have gone to wp-hackers instead of wp-testers.
>
> ---------- Forwarded message ----------
>
> Hi,
>
> in wp-trackback.php around line 80 the code looks like that:
>
> if (empty($title) && empty($tb_url) && empty($blog_name)) {
>       // If it doesn't look like a trackback at all...
>       wp_redirect(get_permalink($tb_id));
>       exit;
> }
>
> This redirects a request to the trackback URL that isn't a real
> trackback. This redirect is HTTP Status 302 redirect. Why is that? Is
> there any special reason for a 302? We're currently still researching
> things but it looks like a bit that this can couse google to penalize
> a wordpress blog. But that's not the real case here. By definition a
> 302 redirect means "Moved temporarily" which definitely isn't the case
> here.
>
> For non-trackback-requests the correct url is _always_ the one where
> the user get's redirected so this is a permanent move - ergo 301. This
> code change is all that has to be done:
>
> if (empty($title) && empty($tb_url) && empty($blog_name)) {
>       // If it doesn't look like a trackback at all...
>       wp_redirect(get_permalink($tb_id),301);
>       exit;
> }
>
>
> just add the ,301 to the end of wp_redirect function.
>
> It would be good if this could be done in the codebase as there
> shouldn't be a need for a 302 redirect.
>
> Thanks!
>
>
> --
> Frank
>
>
>
> --
> Frank
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
-
From chris at clwill.com  Fri Feb 13 16:13:20 2009
From: chris at clwill.com (Chris Williams)
Date: Fri Feb 13 16:27:59 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <4994E71E.9000203@gaarai.com>
Message-ID: <C5BADC20.2A322%chris@clwill.com>

Exactly, so is that a bug?  Is it impossible/illegal to have a plug-in with
only a top level menu?


> From: Gaarai <gaarai@gaarai.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Thu, 12 Feb 2009 21:21:02 -0600
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Page Title for Admin Menu
> 
> In my experience, it isn't the top-level menu that sets the title;
> rather, the first sub-menu under it does.
> 
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> 
> 
> 
> Chris Williams wrote:
>> Despite my overabundant use of the word "really" (which I "really" regret
>> now :) ), does anybody have any input on this issue?
>> 
>> 
>>   
>>> From: Chris Williams <chris@clwill.com>
>>> Reply-To: <wp-hackers@lists.automattic.com>
>>> Date: Wed, 11 Feb 2009 13:27:16 -0800
>>> To: <wp-hackers@lists.automattic.com>
>>> Subject: [wp-hackers] Page Title for Admin Menu
>>> 
>>> I am writing a plugin that adds an admin menu page (not submenu).  It does
>>> this because it?s really quite a separate thing < a calendar of racing
>>> events, nothing to do with the WP functions, it?s really a separate data
>>> table and everything.  So, it doesn?t really belong down in ?settings?, or
>>> ?tools?.
>>> 
>>> This is all good, I have it working with add_menu_page and all is fine.  It
>>> really only needs one page (like the ?Links? or ?Comments? menu items), it?s
>>> just an ?edit events? page.  There is one small problem, and that?s that the
>>> HTML page title is null.  It says simply ?[blogname] > -- Wordpress?.
>>> Nothing I put in the $page_title parameter on add_menu_page works.
>>> 
>>> If I have a submenu page, it works, but not with just a plain add_menu_page.
>>> I believe the issue is in get_admin_page_title in
>>> wp-admin/includes/plugin.php, but I haven?t debugged it completely.
>>> 
>>> My questions are: 1) am I doing something incorrectly that is causing this,
>>> 2) is this a known issue and I should just chill, or 3) should I figure it
>>> out and propose a patch?
>>> 
>>> Thanks,
>>> Chris
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>     
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>>   
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From xavier at borderie.net  Fri Feb 13 16:56:49 2009
From: xavier at borderie.net (Xavier Borderie)
Date: Fri Feb 13 16:57:01 2009
Subject: [wp-hackers] Re: Getting comment feed for articles of specific 
	author
In-Reply-To: <12D4794E-65DE-4740-ADE1-3FB1D75A6629@silentgap.com>
References: <9e4ae73e0902110202u540218aaub8d881ddd226df06@mail.gmail.com>
	<9e4ae73e0902130152x1b4b71g78ce75fa33f4022@mail.gmail.com>
	<91AB2584-0096-4205-BF20-7EA4A60E07E9@verselogic.net>
	<12D4794E-65DE-4740-ADE1-3FB1D75A6629@silentgap.com>
Message-ID: <9e4ae73e0902130856t367f2c91xcd1ea42557d940a2@mail.gmail.com>

Yup, that's what I was thinking would be the other way to achieve this.
Hoped there was a plugin that could do it out-of-the-box, but AFAICT, nope.

Thanks, guys.

-x.

2009/2/13 Tim Schoffelman <tim@silentgap.com>:
> Why not create an author template (you may be able to do a category
> template) and in your loop pull the comments from that author & then grab
> the feed from either the author or category template - not sure if that's
> been done before, but I'm pretty sure I could arm wrestle the loop enough to
> do this very thing.
>
> Any thoughts?
>
> -Tim Schoffelman
>
>
> On Feb 13, 2009, at 6:55 AM, Alan Castonguay wrote:
>
>> There is, afaik, no such feed yet.
>>
>> There really should be a way of fetching this data, at least for the Atom
>> APP.  I've been considering recently where a Comment Collection should be
>> placed, possibly at the top-level beside posts and media. If a subcollection
>> / collection query / etc of Comments were available, then an Atom feed could
>> be provided for both the requested use case (feed of all comments on posts
>> by a given author) and others not yet discovered.
>>
>> The APP really needs to reach feature parity with the xmlrpc interface.
>> Optimally, one or both should reach parity with the Admin interface as a
>> whole.
>>
>> How can we manage (Post new, Put updates/moderate, Delete, Get feeds of)
>> comments with AtomPUB?
>>
>> -Alan J Castonguay
>>
>>
>> On Feb 13, 2009, at 4:52 AM, Xavier Borderie wrote:
>>
>>> So, lemme guess: there's no way to make this work?
>>>
>>> Thanks for any help.
>>>
>>> -x.
>>>
>>>
>>> 2009/2/11 Xavier Borderie <xavier@borderie.net>:
>>>>
>>>> Hey there, good people.
>>>>
>>>> In a standard install, we can:
>>>> - get the general feed > /blog/feed/
>>>> - get the comments feed > /blog/comments/feed/
>>>> - get a feed for each author's articles > /blog/author/AUTHOR_ID/feed/
>>>>
>>>> How would I go about getting the next logical step: a feed of the
>>>> comments to a given author's articles.
>>>>
>>>> Basic idea: /blog/author/AUTHOR_ID/comments/feed/
>>>> What say you?
>>>>
>>>> --
>>>> Xavier Borderie
>>>>
>>>
>>>
>>>
>>> --
>>> Xavier Borderie
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Xavier Borderie
From navjotjsingh at gmail.com  Fri Feb 13 20:09:02 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Fri Feb 13 20:09:11 2009
Subject: [wp-hackers] Small Problem in Echo Text
Message-ID: <7b9e108c0902131209p748b8e3ak4a46ed98b774ffd5@mail.gmail.com>

I am writing a script for my font blog where I need to echo out a long img
tag containing a lot of php variables and also need to echo out the blog
url. But When I use the following, it doesn't parse the blog url. Pls
suggest, I am noob in PHP.

echo "<img src=\"".bloginfo('url')."/render/font.php?text=A B C D E F G H I
J K L M N O P Q R S T U V W X Y
Z&font=".$id."&size=".$size."&color=".$color."&background=".$background."&transparent=".$transparent."&alias=".$alias."&max_width=".$max_width."&alignment=".$alignment."&leading=".$leading."&padding=".$padding."&vadj=".$vadj."&hadj=".$hadj."\"
alt=\"".$name."\" title=\"".$name."\" \n/>";

It parses the blog url but it lists the following output in a strange
manner:

http://localhost/newfont/blog<img src="/render/font.php?text=A B C D E F G H
I J K L M N O P Q R S T U V W X Y
Z&font=acmesab&size=12&color=#000&background=#FFF&transparent=false&alias=false&max_width=false&alignment=left&leading=0&padding=0&vadj=0&hadj=0"
alt="A.C.M.E. Secret Agent Bold Font" title="A.C.M.E. Secret Agent Bold
Font"
/>

Whereas the output should be:

<img src="http://localhost/newfont/blog/render/font.php?text=A B C D E F G H
I J K L M N O P Q R S T U V W X Y
Z&font=acmesab&size=12&color=#000&background=#FFF&transparent=false&alias=false&max_width=false&alignment=left&leading=0&padding=0&vadj=0&hadj=0"
alt="A.C.M.E. Secret Agent Bold Font" title="A.C.M.E. Secret Agent Bold
Font"
/>

I am using this echo command inside a shortcode function which I would like
to use.

Regards
Navjot Singh
From mdmartz at sivel.net  Fri Feb 13 20:12:49 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Fri Feb 13 20:13:01 2009
Subject: [wp-hackers] Small Problem in Echo Text
In-Reply-To: <7b9e108c0902131209p748b8e3ak4a46ed98b774ffd5@mail.gmail.com>
References: <7b9e108c0902131209p748b8e3ak4a46ed98b774ffd5@mail.gmail.com>
Message-ID: <518fa9630902131212y7ab12913q392dff8fa35a6610@mail.gmail.com>

On Fri, Feb 13, 2009 at 3:09 PM, Navjot Singh <navjotjsingh@gmail.com> wrote:
> I am writing a script for my font blog where I need to echo out a long img
> tag containing a lot of php variables and also need to echo out the blog
> url. But When I use the following, it doesn't parse the blog url. Pls
> suggest, I am noob in PHP.
>
> echo "<img src=\"".bloginfo('url')."/render/font.php?text=A B C D E F G H I
> J K L M N O P Q R S T U V W X Y
> Z&font=".$id."&size=".$size."&color=".$color."&background=".$background."&transparent=".$transparent."&alias=".$alias."&max_width=".$max_width."&alignment=".$alignment."&leading=".$leading."&padding=".$padding."&vadj=".$vadj."&hadj=".$hadj."\"
> alt=\"".$name."\" title=\"".$name."\" \n/>";
>
> It parses the blog url but it lists the following output in a strange
> manner:
>
> http://localhost/newfont/blog<img src="/render/font.php?text=A B C D E F G H
> I J K L M N O P Q R S T U V W X Y
> Z&font=acmesab&size=12&color=#000&background=#FFF&transparent=false&alias=false&max_width=false&alignment=left&leading=0&padding=0&vadj=0&hadj=0"
> alt="A.C.M.E. Secret Agent Bold Font" title="A.C.M.E. Secret Agent Bold
> Font"
> />
>
> Whereas the output should be:
>
> <img src="http://localhost/newfont/blog/render/font.php?text=A B C D E F G H
> I J K L M N O P Q R S T U V W X Y
> Z&font=acmesab&size=12&color=#000&background=#FFF&transparent=false&alias=false&max_width=false&alignment=left&leading=0&padding=0&vadj=0&hadj=0"
> alt="A.C.M.E. Secret Agent Bold Font" title="A.C.M.E. Secret Agent Bold
> Font"
> />
>
> I am using this echo command inside a shortcode function which I would like
> to use.
>
> Regards
> Navjot Singh
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

use get_bloginfo instead of bloginfo.

-- 
Matt Martz
matt@sivel.net
From navjotjsingh at gmail.com  Fri Feb 13 20:18:16 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Fri Feb 13 20:18:27 2009
Subject: [wp-hackers] Small Problem in Echo Text
In-Reply-To: <518fa9630902131212y7ab12913q392dff8fa35a6610@mail.gmail.com>
References: <7b9e108c0902131209p748b8e3ak4a46ed98b774ffd5@mail.gmail.com>
	<518fa9630902131212y7ab12913q392dff8fa35a6610@mail.gmail.com>
Message-ID: <7b9e108c0902131218y28b7057ei3894ab79593f16e4@mail.gmail.com>

Thanks for the Quick Fix.

Regards
Navjot Singh

On Sat, Feb 14, 2009 at 1:42 AM, Matt Martz <mdmartz@sivel.net> wrote:

> On Fri, Feb 13, 2009 at 3:09 PM, Navjot Singh <navjotjsingh@gmail.com>
> wrote:
> > I am writing a script for my font blog where I need to echo out a long
> img
> > tag containing a lot of php variables and also need to echo out the blog
> > url. But When I use the following, it doesn't parse the blog url. Pls
> > suggest, I am noob in PHP.
> >
> > echo "<img src=\"".bloginfo('url')."/render/font.php?text=A B C D E F G H
> I
> > J K L M N O P Q R S T U V W X Y
> >
> Z&font=".$id."&size=".$size."&color=".$color."&background=".$background."&transparent=".$transparent."&alias=".$alias."&max_width=".$max_width."&alignment=".$alignment."&leading=".$leading."&padding=".$padding."&vadj=".$vadj."&hadj=".$hadj."\"
> > alt=\"".$name."\" title=\"".$name."\" \n/>";
> >
> > It parses the blog url but it lists the following output in a strange
> > manner:
> >
> > http://localhost/newfont/blog<img src="/render/font.php?text=A B C D E F
> G H
> > I J K L M N O P Q R S T U V W X Y
> >
> Z&font=acmesab&size=12&color=#000&background=#FFF&transparent=false&alias=false&max_width=false&alignment=left&leading=0&padding=0&vadj=0&hadj=0"
> > alt="A.C.M.E. Secret Agent Bold Font" title="A.C.M.E. Secret Agent Bold
> > Font"
> > />
> >
> > Whereas the output should be:
> >
> > <img src="http://localhost/newfont/blog/render/font.php?text=A B C D E F
> G H
> > I J K L M N O P Q R S T U V W X Y
> >
> Z&font=acmesab&size=12&color=#000&background=#FFF&transparent=false&alias=false&max_width=false&alignment=left&leading=0&padding=0&vadj=0&hadj=0"
> > alt="A.C.M.E. Secret Agent Bold Font" title="A.C.M.E. Secret Agent Bold
> > Font"
> > />
> >
> > I am using this echo command inside a shortcode function which I would
> like
> > to use.
> >
> > Regards
> > Navjot Singh
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
> use get_bloginfo instead of bloginfo.
>
> --
> Matt Martz
> matt@sivel.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From gaarai at gaarai.com  Fri Feb 13 21:36:43 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri Feb 13 21:38:47 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <C5BADC20.2A322%chris@clwill.com>
References: <C5BADC20.2A322%chris@clwill.com>
Message-ID: <4995E7EB.1020407@gaarai.com>

I don't believe that it's a bug; rather, I think that this is just a 
complex issue. Let me explain.

I dug through 1.5 - 2.7.1 and found that all of those versions have the 
page title parameter for top-level menu items. I also found that none of 
those versions actually define the page title for any of the menus built 
into core (they just use a blank string: '').

However, I have found that all of the versions actually do refer to the 
page title in the $menu data structure. You can find references to page 
title by searching for "$menu_array[3]" in the 
wp-admin/includes/plugin.php file (wp-admin/admin-functions.php file in 
versions before 2.3).

I traced the logic and found that its possible use comes down to the 
code found in the get_admin_page_title and get_admin_page_parent 
functions. Basically, if a parent can't be found (returned from 
get_admin_page_parent), there is the possibility that 
get_admin_page_title will use the top-level menu item's page title. 
However, when I looked through get_admin_page_parent, I can't think of 
any possible scenario where a parent wouldn't be found.

Looking farther back to version 1.2.2 (the only publicly available 
version I could find pre-1.5), I see that there is a single-level menu 
that doesn't support page titles. This combined with the fact that 1.5 
has two-level menus and more-or-less unused top-level menu page titles, 
I believe that I know why they are there.

I believe somewhere in 1.3 or 1.4 development, page titles were added to 
the menus. Then sometime before 1.5, second level menus were added which 
had their own page titles. These new page titles superseded the old page 
titles, but the top-level-menu page titles remained for backwards 
compatibility.

Here's where the story gets weird.

 From all the code I've looked through, the presence of a page title 
parameter for a top-level menu is nothing more than vestigial. Even in 
the earliest publicly available builds of WP where the parameter exists, 
the core doesn't make any use of the parameter and simply shuffles past 
its existence by filling in the field with empty strings.

Based on this, I would assume that there aren't any top-level menus that 
are devoid of sub-menu items and that the top-level menu items serve as 
nothing more than simple containers for the sub-menu items. And I would 
be wrong.

Just look at a new install of WordPress, and you will see a standalone 
top-level menu: Dashboard. In a standard install, Dashboard doesn't have 
any sub-menu items. When I realized this, I looked at the code and found 
that there weren't any entries in $submenu to create the Dashboard 
sub-menu entry that appears if plugins, such as Akismet, adds a sub-menu 
to the Dashboard top-level menu.

This confused me at first, but I looked at the add_submenu_page code and 
found that it generates the first $submenu entry automatically when a 
sub-menu page is added to a menu entry that doesn't have any sub-menu pages.

Even though the Dashboard menu entry doesn't have any sub-menu entries 
by default, it still does not make use of the page title parameter. 
Instead, it does something hackish (IMHO), it has to manually set the 
$title variable before get_admin_page_title is called. The 
get_admin_page_title will immediately return the value of the $title 
variable if it is not empty.

After seeing this, I cooked up the following quick plugin:

    <?php

    /*
    Plugin Name: Menu Test
    */

    add_action( 'admin_menu', menu_test_add_pages );

    function menu_test_add_pages() {
        $page_ref = add_menu_page( '', 'Menu Test', 10, 'menu-test',
    'menu_test_index' );
       
        add_action( 'load-' . $page_ref, 'menu_test_set_title' );
    }

    function menu_test_index() {
        echo "<h3>Menu Test</h3>";
    }

    function menu_test_set_title() {
        global $title;
        $title = 'Menu Test';
    }

    ?>

All this plugin does is register a menu entry that doesn't have any 
sub-menu entries and give the resulting page a title. This is more or 
less the same way that Dashboard has set the title since 1.5.

Sorry for the long reply. It was fun digging into this. I hope that my 
reply helps you out.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Chris Williams wrote:
> Exactly, so is that a bug?  Is it impossible/illegal to have a plug-in with
> only a top level menu?
>
>
>   
>> From: Gaarai <gaarai@gaarai.com>
>> Reply-To: <wp-hackers@lists.automattic.com>
>> Date: Thu, 12 Feb 2009 21:21:02 -0600
>> To: <wp-hackers@lists.automattic.com>
>> Subject: Re: [wp-hackers] Page Title for Admin Menu
>>
>> In my experience, it isn't the top-level menu that sets the title;
>> rather, the first sub-menu under it does.
>>
>> Chris Jean
>> http://gaarai.com/
>> http://wp-roadmap.com/
>>
>>
>>
>> Chris Williams wrote:
>>     
>>> Despite my overabundant use of the word "really" (which I "really" regret
>>> now :) ), does anybody have any input on this issue?
>>>
>>>
>>>   
>>>       
>>>> From: Chris Williams <chris@clwill.com>
>>>> Reply-To: <wp-hackers@lists.automattic.com>
>>>> Date: Wed, 11 Feb 2009 13:27:16 -0800
>>>> To: <wp-hackers@lists.automattic.com>
>>>> Subject: [wp-hackers] Page Title for Admin Menu
>>>>
>>>> I am writing a plugin that adds an admin menu page (not submenu).  It does
>>>> this because it?s really quite a separate thing < a calendar of racing
>>>> events, nothing to do with the WP functions, it?s really a separate data
>>>> table and everything.  So, it doesn?t really belong down in ?settings?, or
>>>> ?tools?.
>>>>
>>>> This is all good, I have it working with add_menu_page and all is fine.  It
>>>> really only needs one page (like the ?Links? or ?Comments? menu items), it?s
>>>> just an ?edit events? page.  There is one small problem, and that?s that the
>>>> HTML page title is null.  It says simply ?[blogname] > -- Wordpress?.
>>>> Nothing I put in the $page_title parameter on add_menu_page works.
>>>>
>>>> If I have a submenu page, it works, but not with just a plain add_menu_page.
>>>> I believe the issue is in get_admin_page_title in
>>>> wp-admin/includes/plugin.php, but I haven?t debugged it completely.
>>>>
>>>> My questions are: 1) am I doing something incorrectly that is causing this,
>>>> 2) is this a known issue and I should just chill, or 3) should I figure it
>>>> out and propose a patch?
>>>>
>>>> Thanks,
>>>> Chris
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>     
>>>>         
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>   
>>>       
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>     
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From alan at verselogic.net  Fri Feb 13 21:53:11 2009
From: alan at verselogic.net (Alan J Castonguay)
Date: Fri Feb 13 21:53:27 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <4995E7EB.1020407@gaarai.com>
References: <C5BADC20.2A322%chris@clwill.com> <4995E7EB.1020407@gaarai.com>
Message-ID: <9BEA19C5-99DC-4AFB-9775-737C5CECF9BD@verselogic.net>

Nice sleuthing, Chris!

-Alan

On 13-Feb-09, at 4:36 PM, Chris Jean wrote:

> I don't believe that it's a bug; rather, I think that this is just  
> a complex issue. Let me explain.
>
> I dug through 1.5 - 2.7.1 and found that all of those versions have  
> the page title parameter for top-level menu items. I also found  
> that none of those versions actually define the page title for any  
> of the menus built into core (they just use a blank string: '').
>
> However, I have found that all of the versions actually do refer to  
> the page title in the $menu data structure. You can find references  
> to page title by searching for "$menu_array[3]" in the wp-admin/ 
> includes/plugin.php file (wp-admin/admin-functions.php file in  
> versions before 2.3).
>
> I traced the logic and found that its possible use comes down to  
> the code found in the get_admin_page_title and  
> get_admin_page_parent functions. Basically, if a parent can't be  
> found (returned from get_admin_page_parent), there is the  
> possibility that get_admin_page_title will use the top-level menu  
> item's page title. However, when I looked through  
> get_admin_page_parent, I can't think of any possible scenario where  
> a parent wouldn't be found.
>
> Looking farther back to version 1.2.2 (the only publicly available  
> version I could find pre-1.5), I see that there is a single-level  
> menu that doesn't support page titles. This combined with the fact  
> that 1.5 has two-level menus and more-or-less unused top-level menu  
> page titles, I believe that I know why they are there.
>
> I believe somewhere in 1.3 or 1.4 development, page titles were  
> added to the menus. Then sometime before 1.5, second level menus  
> were added which had their own page titles. These new page titles  
> superseded the old page titles, but the top-level-menu page titles  
> remained for backwards compatibility.
>
> Here's where the story gets weird.
>
> From all the code I've looked through, the presence of a page title  
> parameter for a top-level menu is nothing more than vestigial. Even  
> in the earliest publicly available builds of WP where the parameter  
> exists, the core doesn't make any use of the parameter and simply  
> shuffles past its existence by filling in the field with empty  
> strings.
>
> Based on this, I would assume that there aren't any top-level menus  
> that are devoid of sub-menu items and that the top-level menu items  
> serve as nothing more than simple containers for the sub-menu  
> items. And I would be wrong.
>
> Just look at a new install of WordPress, and you will see a  
> standalone top-level menu: Dashboard. In a standard install,  
> Dashboard doesn't have any sub-menu items. When I realized this, I  
> looked at the code and found that there weren't any entries in  
> $submenu to create the Dashboard sub-menu entry that appears if  
> plugins, such as Akismet, adds a sub-menu to the Dashboard top- 
> level menu.
>
> This confused me at first, but I looked at the add_submenu_page  
> code and found that it generates the first $submenu entry  
> automatically when a sub-menu page is added to a menu entry that  
> doesn't have any sub-menu pages.
>
> Even though the Dashboard menu entry doesn't have any sub-menu  
> entries by default, it still does not make use of the page title  
> parameter. Instead, it does something hackish (IMHO), it has to  
> manually set the $title variable before get_admin_page_title is  
> called. The get_admin_page_title will immediately return the value  
> of the $title variable if it is not empty.
>
> After seeing this, I cooked up the following quick plugin:
>
>    <?php
>
>    /*
>    Plugin Name: Menu Test
>    */
>
>    add_action( 'admin_menu', menu_test_add_pages );
>
>    function menu_test_add_pages() {
>        $page_ref = add_menu_page( '', 'Menu Test', 10, 'menu-test',
>    'menu_test_index' );
>              add_action( 'load-' . $page_ref, 'menu_test_set_title' );
>    }
>
>    function menu_test_index() {
>        echo "<h3>Menu Test</h3>";
>    }
>
>    function menu_test_set_title() {
>        global $title;
>        $title = 'Menu Test';
>    }
>
>    ?>
>
> All this plugin does is register a menu entry that doesn't have any  
> sub-menu entries and give the resulting page a title. This is more  
> or less the same way that Dashboard has set the title since 1.5.
>
> Sorry for the long reply. It was fun digging into this. I hope that  
> my reply helps you out.
>
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> http://dnsyogi.com/
>
>
>
> Chris Williams wrote:
>> Exactly, so is that a bug?  Is it impossible/illegal to have a  
>> plug-in with
>> only a top level menu?
>>
>>
>>
>>> From: Gaarai <gaarai@gaarai.com>
>>> Reply-To: <wp-hackers@lists.automattic.com>
>>> Date: Thu, 12 Feb 2009 21:21:02 -0600
>>> To: <wp-hackers@lists.automattic.com>
>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
>>>
>>> In my experience, it isn't the top-level menu that sets the title;
>>> rather, the first sub-menu under it does.
>>>
>>> Chris Jean
>>> http://gaarai.com/
>>> http://wp-roadmap.com/
>>>
>>>
>>>
>>> Chris Williams wrote:
>>>
>>>> Despite my overabundant use of the word "really" (which I  
>>>> "really" regret
>>>> now :) ), does anybody have any input on this issue?
>>>>
>>>>
>>>>
>>>>> From: Chris Williams <chris@clwill.com>
>>>>> Reply-To: <wp-hackers@lists.automattic.com>
>>>>> Date: Wed, 11 Feb 2009 13:27:16 -0800
>>>>> To: <wp-hackers@lists.automattic.com>
>>>>> Subject: [wp-hackers] Page Title for Admin Menu
>>>>>
>>>>> I am writing a plugin that adds an admin menu page (not  
>>>>> submenu).  It does
>>>>> this because it?s really quite a separate thing < a calendar of  
>>>>> racing
>>>>> events, nothing to do with the WP functions, it?s really a  
>>>>> separate data
>>>>> table and everything.  So, it doesn?t really belong down in  
>>>>> ?settings?, or
>>>>> ?tools?.
>>>>>
>>>>> This is all good, I have it working with add_menu_page and all  
>>>>> is fine.  It
>>>>> really only needs one page (like the ?Links? or ?Comments? menu  
>>>>> items), it?s
>>>>> just an ?edit events? page.  There is one small problem, and  
>>>>> that?s that the
>>>>> HTML page title is null.  It says simply ?[blogname] > --  
>>>>> Wordpress?.
>>>>> Nothing I put in the $page_title parameter on add_menu_page works.
>>>>>
>>>>> If I have a submenu page, it works, but not with just a plain  
>>>>> add_menu_page.
>>>>> I believe the issue is in get_admin_page_title in
>>>>> wp-admin/includes/plugin.php, but I haven?t debugged it  
>>>>> completely.
>>>>>
>>>>> My questions are: 1) am I doing something incorrectly that is  
>>>>> causing this,
>>>>> 2) is this a known issue and I should just chill, or 3) should  
>>>>> I figure it
>>>>> out and propose a patch?
>>>>>
>>>>> Thanks,
>>>>> Chris
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp-hackers at striderweb.com  Fri Feb 13 21:53:55 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri Feb 13 21:54:18 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <4995E7EB.1020407@gaarai.com>
References: <C5BADC20.2A322%chris@clwill.com> <4995E7EB.1020407@gaarai.com>
Message-ID: <9195A487-AB21-43A5-9110-29F7979E2893@striderweb.com>

What a great writeup!  Could you help me find my car keys?

Actually, maybe you're the guy to guide WP core out of it's  
load_textdomain mess....

Stephen

On Feb 13, 2009, at 3:36 PM, Chris Jean wrote:

> I dug through 1.5 - 2.7.1 and found that...
>
> I traced the logic and found that i...
>
> Looking farther back to version 1.2.2 (the only publicly available  
> version I could find pre-1.5), I see that ...
>
> I believe somewhere in 1.3 or 1.4 development.... Then sometime  
> before 1.5....
>
> Here's where the story gets weird.
>
> From all the code I've looked through...
>
> Based on this, I would assume that.... And I would be wrong.
>
> Just look at a new install of WordPress, and you will see....
>
> This confused me at first, but I looked at the ...
>
>
> After seeing this, I cooked up the following quick plugin:

From gaarai at gaarai.com  Fri Feb 13 22:08:57 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri Feb 13 22:09:13 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <9195A487-AB21-43A5-9110-29F7979E2893@striderweb.com>
References: <C5BADC20.2A322%chris@clwill.com> <4995E7EB.1020407@gaarai.com>
	<9195A487-AB21-43A5-9110-29F7979E2893@striderweb.com>
Message-ID: <4995EF79.6080902@gaarai.com>

Your keys are stuck in the far-right back corner of your living room chair.

I guess that I don't know enough about the load_textdomain situation. 
I've had to deal with it a couple of times, but I just do what everyone 
else has. Is there a specific issue or is it just that the code is 
less-than-convenient to use?

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Stephen Rider wrote:
> What a great writeup!  Could you help me find my car keys?
>
> Actually, maybe you're the guy to guide WP core out of it's 
> load_textdomain mess....
>
> Stephen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From chris at clwill.com  Fri Feb 13 23:03:12 2009
From: chris at clwill.com (Chris Williams)
Date: Fri Feb 13 23:04:12 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <4995E7EB.1020407@gaarai.com>
Message-ID: <C5BB3C30.2A3CD%chris@clwill.com>

Thank you for this comprehensive detective job, an excellent write-up, and a
way around it.

However, I'm even more convinced that this is a bug, not a feature.  There
is another top menu item in core that has no submenus, and also has a proper
page title, and that's Comments.  From what I can tell, it gets away with it
because it manually loads the menu[] array, as other core items do.

More to the point, however, I think it should be possible to create a
plug-in that has only a top-menu item, and still benefits from a page title.
Your ingenious solution below will be a temporary fix, but I think a real
one is also in order.

Thanks again for your detective work, perhaps you missed your calling -- the
CIA could use help finding Bin Laden :)

Chris


> From: Chris Jean <gaarai@gaarai.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Fri, 13 Feb 2009 15:36:43 -0600
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Page Title for Admin Menu
> 
> I don't believe that it's a bug; rather, I think that this is just a
> complex issue. Let me explain.
> 
> I dug through 1.5 - 2.7.1 and found that all of those versions have the
> page title parameter for top-level menu items. I also found that none of
> those versions actually define the page title for any of the menus built
> into core (they just use a blank string: '').
> 
> However, I have found that all of the versions actually do refer to the
> page title in the $menu data structure. You can find references to page
> title by searching for "$menu_array[3]" in the
> wp-admin/includes/plugin.php file (wp-admin/admin-functions.php file in
> versions before 2.3).
> 
> I traced the logic and found that its possible use comes down to the
> code found in the get_admin_page_title and get_admin_page_parent
> functions. Basically, if a parent can't be found (returned from
> get_admin_page_parent), there is the possibility that
> get_admin_page_title will use the top-level menu item's page title.
> However, when I looked through get_admin_page_parent, I can't think of
> any possible scenario where a parent wouldn't be found.
> 
> Looking farther back to version 1.2.2 (the only publicly available
> version I could find pre-1.5), I see that there is a single-level menu
> that doesn't support page titles. This combined with the fact that 1.5
> has two-level menus and more-or-less unused top-level menu page titles,
> I believe that I know why they are there.
> 
> I believe somewhere in 1.3 or 1.4 development, page titles were added to
> the menus. Then sometime before 1.5, second level menus were added which
> had their own page titles. These new page titles superseded the old page
> titles, but the top-level-menu page titles remained for backwards
> compatibility.
> 
> Here's where the story gets weird.
> 
>  From all the code I've looked through, the presence of a page title
> parameter for a top-level menu is nothing more than vestigial. Even in
> the earliest publicly available builds of WP where the parameter exists,
> the core doesn't make any use of the parameter and simply shuffles past
> its existence by filling in the field with empty strings.
> 
> Based on this, I would assume that there aren't any top-level menus that
> are devoid of sub-menu items and that the top-level menu items serve as
> nothing more than simple containers for the sub-menu items. And I would
> be wrong.
> 
> Just look at a new install of WordPress, and you will see a standalone
> top-level menu: Dashboard. In a standard install, Dashboard doesn't have
> any sub-menu items. When I realized this, I looked at the code and found
> that there weren't any entries in $submenu to create the Dashboard
> sub-menu entry that appears if plugins, such as Akismet, adds a sub-menu
> to the Dashboard top-level menu.
> 
> This confused me at first, but I looked at the add_submenu_page code and
> found that it generates the first $submenu entry automatically when a
> sub-menu page is added to a menu entry that doesn't have any sub-menu pages.
> 
> Even though the Dashboard menu entry doesn't have any sub-menu entries
> by default, it still does not make use of the page title parameter.
> Instead, it does something hackish (IMHO), it has to manually set the
> $title variable before get_admin_page_title is called. The
> get_admin_page_title will immediately return the value of the $title
> variable if it is not empty.
> 
> After seeing this, I cooked up the following quick plugin:
> 
>     <?php
> 
>     /*
>     Plugin Name: Menu Test
>     */
> 
>     add_action( 'admin_menu', menu_test_add_pages );
> 
>     function menu_test_add_pages() {
>         $page_ref = add_menu_page( '', 'Menu Test', 10, 'menu-test',
>     'menu_test_index' );
>        
>         add_action( 'load-' . $page_ref, 'menu_test_set_title' );
>     }
> 
>     function menu_test_index() {
>         echo "<h3>Menu Test</h3>";
>     }
> 
>     function menu_test_set_title() {
>         global $title;
>         $title = 'Menu Test';
>     }
> 
>     ?>
> 
> All this plugin does is register a menu entry that doesn't have any
> sub-menu entries and give the resulting page a title. This is more or
> less the same way that Dashboard has set the title since 1.5.
> 
> Sorry for the long reply. It was fun digging into this. I hope that my
> reply helps you out.
> 
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> http://dnsyogi.com/
> 
> 
> 
> Chris Williams wrote:
>> Exactly, so is that a bug?  Is it impossible/illegal to have a plug-in with
>> only a top level menu?
>> 
>> 
>>   
>>> From: Gaarai <gaarai@gaarai.com>
>>> Reply-To: <wp-hackers@lists.automattic.com>
>>> Date: Thu, 12 Feb 2009 21:21:02 -0600
>>> To: <wp-hackers@lists.automattic.com>
>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
>>> 
>>> In my experience, it isn't the top-level menu that sets the title;
>>> rather, the first sub-menu under it does.
>>> 
>>> Chris Jean
>>> http://gaarai.com/
>>> http://wp-roadmap.com/
>>> 
>>> 
>>> 
>>> Chris Williams wrote:
>>>     
>>>> Despite my overabundant use of the word "really" (which I "really" regret
>>>> now :) ), does anybody have any input on this issue?
>>>> 
>>>> 
>>>>   
>>>>       
>>>>> From: Chris Williams <chris@clwill.com>
>>>>> Reply-To: <wp-hackers@lists.automattic.com>
>>>>> Date: Wed, 11 Feb 2009 13:27:16 -0800
>>>>> To: <wp-hackers@lists.automattic.com>
>>>>> Subject: [wp-hackers] Page Title for Admin Menu
>>>>> 
>>>>> I am writing a plugin that adds an admin menu page (not submenu).  It does
>>>>> this because it?s really quite a separate thing < a calendar of racing
>>>>> events, nothing to do with the WP functions, it?s really a separate data
>>>>> table and everything.  So, it doesn?t really belong down in ?settings?, or
>>>>> ?tools?.
>>>>> 
>>>>> This is all good, I have it working with add_menu_page and all is fine.
>>>>> It
>>>>> really only needs one page (like the ?Links? or ?Comments? menu items),
>>>>> it?s
>>>>> just an ?edit events? page.  There is one small problem, and that?s that
>>>>> the
>>>>> HTML page title is null.  It says simply ?[blogname] > -- Wordpress?.
>>>>> Nothing I put in the $page_title parameter on add_menu_page works.
>>>>> 
>>>>> If I have a submenu page, it works, but not with just a plain
>>>>> add_menu_page.
>>>>> I believe the issue is in get_admin_page_title in
>>>>> wp-admin/includes/plugin.php, but I haven?t debugged it completely.
>>>>> 
>>>>> My questions are: 1) am I doing something incorrectly that is causing
>>>>> this,
>>>>> 2) is this a known issue and I should just chill, or 3) should I figure it
>>>>> out and propose a patch?
>>>>> 
>>>>> Thanks,
>>>>> Chris
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>     
>>>>>         
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>>   
>>>>       
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>     
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>>   
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From gaarai at gaarai.com  Fri Feb 13 23:27:04 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri Feb 13 23:27:20 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <C5BB3C30.2A3CD%chris@clwill.com>
References: <C5BB3C30.2A3CD%chris@clwill.com>
Message-ID: <499601C8.8050806@gaarai.com>

It's true that Comments is like Dashboard. In fact, it is set up exactly 
the same way. If you look at the code, it doesn't have a page title 
declared for it either. Just like all the other top-level menu items of 
core, that entry is just an empty string.

Just like Dashboard, if you look in the wp-admin/comment.php file, 
you'll find it manually assigning the title to the $title variable.

If you are looking at the wp-admin/menu.php file and see where the array 
has the first entry defined, that's not the page title; its the menu 
title. If you look at the add_menu_page code, you see that the page 
title is put in the fourth array location while the menu title is put in 
the first array location.

I would agree with you on the idea of this being a bug if there is 
inconsistent code and things don't work properly. However, things do 
work properly and each instance of a stand-alone top-level menu item in 
core is coded the same way. This means that this odd situation is either 
a) a bad side-effect of trying to stay as backwards-compatible as 
possible or b) some very sloppy coding that was patched up quickly and 
never cleaned up.

Since I don't have access to all the code revisions between 1.2.2 and 
1.5, I can only make assumptions. However, the fact that the parameter 
exists, the manual entries into the $menu array all have a blank string 
in that array position, and the existence of the $title variable all 
suggest that this is due to supporting legacy code.

I may play around with core some more to see exactly what it takes to 
get_admin_page_title to return the page title of the top-level menu 
item. Maybe I can find a solution that is cleaner than the one that I've 
already provided. Who knows, I may even find a way to clean up core so 
that the page title of the top-level item is used in the event that it 
doesn't have any sub-menu items and $title isn't set. Of course, I'll 
have to do this without breaking anything.

Happy 0123456789 Day everyone.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Chris Williams wrote:
> Thank you for this comprehensive detective job, an excellent write-up, and a
> way around it.
>
> However, I'm even more convinced that this is a bug, not a feature.  There
> is another top menu item in core that has no submenus, and also has a proper
> page title, and that's Comments.  From what I can tell, it gets away with it
> because it manually loads the menu[] array, as other core items do.
>
> More to the point, however, I think it should be possible to create a
> plug-in that has only a top-menu item, and still benefits from a page title.
> Your ingenious solution below will be a temporary fix, but I think a real
> one is also in order.
>
> Thanks again for your detective work, perhaps you missed your calling -- the
> CIA could use help finding Bin Laden :)
>
> Chris
>
>
>   
>> From: Chris Jean <gaarai@gaarai.com>
>> Reply-To: <wp-hackers@lists.automattic.com>
>> Date: Fri, 13 Feb 2009 15:36:43 -0600
>> To: <wp-hackers@lists.automattic.com>
>> Subject: Re: [wp-hackers] Page Title for Admin Menu
>>
>> I don't believe that it's a bug; rather, I think that this is just a
>> complex issue. Let me explain.
>>
>> I dug through 1.5 - 2.7.1 and found that all of those versions have the
>> page title parameter for top-level menu items. I also found that none of
>> those versions actually define the page title for any of the menus built
>> into core (they just use a blank string: '').
>>
>> However, I have found that all of the versions actually do refer to the
>> page title in the $menu data structure. You can find references to page
>> title by searching for "$menu_array[3]" in the
>> wp-admin/includes/plugin.php file (wp-admin/admin-functions.php file in
>> versions before 2.3).
>>
>> I traced the logic and found that its possible use comes down to the
>> code found in the get_admin_page_title and get_admin_page_parent
>> functions. Basically, if a parent can't be found (returned from
>> get_admin_page_parent), there is the possibility that
>> get_admin_page_title will use the top-level menu item's page title.
>> However, when I looked through get_admin_page_parent, I can't think of
>> any possible scenario where a parent wouldn't be found.
>>
>> Looking farther back to version 1.2.2 (the only publicly available
>> version I could find pre-1.5), I see that there is a single-level menu
>> that doesn't support page titles. This combined with the fact that 1.5
>> has two-level menus and more-or-less unused top-level menu page titles,
>> I believe that I know why they are there.
>>
>> I believe somewhere in 1.3 or 1.4 development, page titles were added to
>> the menus. Then sometime before 1.5, second level menus were added which
>> had their own page titles. These new page titles superseded the old page
>> titles, but the top-level-menu page titles remained for backwards
>> compatibility.
>>
>> Here's where the story gets weird.
>>
>>  From all the code I've looked through, the presence of a page title
>> parameter for a top-level menu is nothing more than vestigial. Even in
>> the earliest publicly available builds of WP where the parameter exists,
>> the core doesn't make any use of the parameter and simply shuffles past
>> its existence by filling in the field with empty strings.
>>
>> Based on this, I would assume that there aren't any top-level menus that
>> are devoid of sub-menu items and that the top-level menu items serve as
>> nothing more than simple containers for the sub-menu items. And I would
>> be wrong.
>>
>> Just look at a new install of WordPress, and you will see a standalone
>> top-level menu: Dashboard. In a standard install, Dashboard doesn't have
>> any sub-menu items. When I realized this, I looked at the code and found
>> that there weren't any entries in $submenu to create the Dashboard
>> sub-menu entry that appears if plugins, such as Akismet, adds a sub-menu
>> to the Dashboard top-level menu.
>>
>> This confused me at first, but I looked at the add_submenu_page code and
>> found that it generates the first $submenu entry automatically when a
>> sub-menu page is added to a menu entry that doesn't have any sub-menu pages.
>>
>> Even though the Dashboard menu entry doesn't have any sub-menu entries
>> by default, it still does not make use of the page title parameter.
>> Instead, it does something hackish (IMHO), it has to manually set the
>> $title variable before get_admin_page_title is called. The
>> get_admin_page_title will immediately return the value of the $title
>> variable if it is not empty.
>>
>> After seeing this, I cooked up the following quick plugin:
>>
>>     <?php
>>
>>     /*
>>     Plugin Name: Menu Test
>>     */
>>
>>     add_action( 'admin_menu', menu_test_add_pages );
>>
>>     function menu_test_add_pages() {
>>         $page_ref = add_menu_page( '', 'Menu Test', 10, 'menu-test',
>>     'menu_test_index' );
>>        
>>         add_action( 'load-' . $page_ref, 'menu_test_set_title' );
>>     }
>>
>>     function menu_test_index() {
>>         echo "<h3>Menu Test</h3>";
>>     }
>>
>>     function menu_test_set_title() {
>>         global $title;
>>         $title = 'Menu Test';
>>     }
>>
>>     ?>
>>
>> All this plugin does is register a menu entry that doesn't have any
>> sub-menu entries and give the resulting page a title. This is more or
>> less the same way that Dashboard has set the title since 1.5.
>>
>> Sorry for the long reply. It was fun digging into this. I hope that my
>> reply helps you out.
>>
>> Chris Jean
>> http://gaarai.com/
>> http://wp-roadmap.com/
>> http://dnsyogi.com/
>>
>>
>>
>> Chris Williams wrote:
>>     
>>> Exactly, so is that a bug?  Is it impossible/illegal to have a plug-in with
>>> only a top level menu?
>>>
>>>
>>>   
>>>       
>>>> From: Gaarai <gaarai@gaarai.com>
>>>> Reply-To: <wp-hackers@lists.automattic.com>
>>>> Date: Thu, 12 Feb 2009 21:21:02 -0600
>>>> To: <wp-hackers@lists.automattic.com>
>>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
>>>>
>>>> In my experience, it isn't the top-level menu that sets the title;
>>>> rather, the first sub-menu under it does.
>>>>
>>>> Chris Jean
>>>> http://gaarai.com/
>>>> http://wp-roadmap.com/
>>>>
>>>>
>>>>
>>>> Chris Williams wrote:
>>>>     
>>>>         
>>>>> Despite my overabundant use of the word "really" (which I "really" regret
>>>>> now :) ), does anybody have any input on this issue?
>>>>>
>>>>>
>>>>>   
>>>>>       
>>>>>           
>>>>>> From: Chris Williams <chris@clwill.com>
>>>>>> Reply-To: <wp-hackers@lists.automattic.com>
>>>>>> Date: Wed, 11 Feb 2009 13:27:16 -0800
>>>>>> To: <wp-hackers@lists.automattic.com>
>>>>>> Subject: [wp-hackers] Page Title for Admin Menu
>>>>>>
>>>>>> I am writing a plugin that adds an admin menu page (not submenu).  It does
>>>>>> this because it?s really quite a separate thing < a calendar of racing
>>>>>> events, nothing to do with the WP functions, it?s really a separate data
>>>>>> table and everything.  So, it doesn?t really belong down in ?settings?, or
>>>>>> ?tools?.
>>>>>>
>>>>>> This is all good, I have it working with add_menu_page and all is fine.
>>>>>> It
>>>>>> really only needs one page (like the ?Links? or ?Comments? menu items),
>>>>>> it?s
>>>>>> just an ?edit events? page.  There is one small problem, and that?s that
>>>>>> the
>>>>>> HTML page title is null.  It says simply ?[blogname] > -- Wordpress?.
>>>>>> Nothing I put in the $page_title parameter on add_menu_page works.
>>>>>>
>>>>>> If I have a submenu page, it works, but not with just a plain
>>>>>> add_menu_page.
>>>>>> I believe the issue is in get_admin_page_title in
>>>>>> wp-admin/includes/plugin.php, but I haven?t debugged it completely.
>>>>>>
>>>>>> My questions are: 1) am I doing something incorrectly that is causing
>>>>>> this,
>>>>>> 2) is this a known issue and I should just chill, or 3) should I figure it
>>>>>> out and propose a patch?
>>>>>>
>>>>>> Thanks,
>>>>>> Chris
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers@lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>     
>>>>>>         
>>>>>>             
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>   
>>>>>       
>>>>>           
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>     
>>>>         
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>   
>>>       
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>     
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From chris at clwill.com  Sat Feb 14 01:50:22 2009
From: chris at clwill.com (Chris Williams)
Date: Sat Feb 14 01:50:49 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <499601C8.8050806@gaarai.com>
Message-ID: <C5BB635E.42366%chris@clwill.com>

> I may play around with core some more to see exactly what it takes to
> get_admin_page_title to return the page title of the top-level menu
> item.

Right, this is the spot, I started walking through it the other day, and
then I just had to get my plugin out, so I stopped poking through it.  I
think I have some time, so I'll resume.

Thanks for your input,
Chris

> From: Chris Jean <gaarai@gaarai.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Fri, 13 Feb 2009 17:27:04 -0600
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Page Title for Admin Menu
> 
> It's true that Comments is like Dashboard. In fact, it is set up exactly
> the same way. If you look at the code, it doesn't have a page title
> declared for it either. Just like all the other top-level menu items of
> core, that entry is just an empty string.
> 
> Just like Dashboard, if you look in the wp-admin/comment.php file,
> you'll find it manually assigning the title to the $title variable.
> 
> If you are looking at the wp-admin/menu.php file and see where the array
> has the first entry defined, that's not the page title; its the menu
> title. If you look at the add_menu_page code, you see that the page
> title is put in the fourth array location while the menu title is put in
> the first array location.
> 
> I would agree with you on the idea of this being a bug if there is
> inconsistent code and things don't work properly. However, things do
> work properly and each instance of a stand-alone top-level menu item in
> core is coded the same way. This means that this odd situation is either
> a) a bad side-effect of trying to stay as backwards-compatible as
> possible or b) some very sloppy coding that was patched up quickly and
> never cleaned up.
> 
> Since I don't have access to all the code revisions between 1.2.2 and
> 1.5, I can only make assumptions. However, the fact that the parameter
> exists, the manual entries into the $menu array all have a blank string
> in that array position, and the existence of the $title variable all
> suggest that this is due to supporting legacy code.
> 
> I may play around with core some more to see exactly what it takes to
> get_admin_page_title to return the page title of the top-level menu
> item. Maybe I can find a solution that is cleaner than the one that I've
> already provided. Who knows, I may even find a way to clean up core so
> that the page title of the top-level item is used in the event that it
> doesn't have any sub-menu items and $title isn't set. Of course, I'll
> have to do this without breaking anything.
> 
> Happy 0123456789 Day everyone.
> 
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> http://dnsyogi.com/
> 
> 
> 
> Chris Williams wrote:
>> Thank you for this comprehensive detective job, an excellent write-up, and a
>> way around it.
>> 
>> However, I'm even more convinced that this is a bug, not a feature.  There
>> is another top menu item in core that has no submenus, and also has a proper
>> page title, and that's Comments.  From what I can tell, it gets away with it
>> because it manually loads the menu[] array, as other core items do.
>> 
>> More to the point, however, I think it should be possible to create a
>> plug-in that has only a top-menu item, and still benefits from a page title.
>> Your ingenious solution below will be a temporary fix, but I think a real
>> one is also in order.
>> 
>> Thanks again for your detective work, perhaps you missed your calling -- the
>> CIA could use help finding Bin Laden :)
>> 
>> Chris
>> 
>> 
>>   
>>> From: Chris Jean <gaarai@gaarai.com>
>>> Reply-To: <wp-hackers@lists.automattic.com>
>>> Date: Fri, 13 Feb 2009 15:36:43 -0600
>>> To: <wp-hackers@lists.automattic.com>
>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
>>> 
>>> I don't believe that it's a bug; rather, I think that this is just a
>>> complex issue. Let me explain.
>>> 
>>> I dug through 1.5 - 2.7.1 and found that all of those versions have the
>>> page title parameter for top-level menu items. I also found that none of
>>> those versions actually define the page title for any of the menus built
>>> into core (they just use a blank string: '').
>>> 
>>> However, I have found that all of the versions actually do refer to the
>>> page title in the $menu data structure. You can find references to page
>>> title by searching for "$menu_array[3]" in the
>>> wp-admin/includes/plugin.php file (wp-admin/admin-functions.php file in
>>> versions before 2.3).
>>> 
>>> I traced the logic and found that its possible use comes down to the
>>> code found in the get_admin_page_title and get_admin_page_parent
>>> functions. Basically, if a parent can't be found (returned from
>>> get_admin_page_parent), there is the possibility that
>>> get_admin_page_title will use the top-level menu item's page title.
>>> However, when I looked through get_admin_page_parent, I can't think of
>>> any possible scenario where a parent wouldn't be found.
>>> 
>>> Looking farther back to version 1.2.2 (the only publicly available
>>> version I could find pre-1.5), I see that there is a single-level menu
>>> that doesn't support page titles. This combined with the fact that 1.5
>>> has two-level menus and more-or-less unused top-level menu page titles,
>>> I believe that I know why they are there.
>>> 
>>> I believe somewhere in 1.3 or 1.4 development, page titles were added to
>>> the menus. Then sometime before 1.5, second level menus were added which
>>> had their own page titles. These new page titles superseded the old page
>>> titles, but the top-level-menu page titles remained for backwards
>>> compatibility.
>>> 
>>> Here's where the story gets weird.
>>> 
>>>  From all the code I've looked through, the presence of a page title
>>> parameter for a top-level menu is nothing more than vestigial. Even in
>>> the earliest publicly available builds of WP where the parameter exists,
>>> the core doesn't make any use of the parameter and simply shuffles past
>>> its existence by filling in the field with empty strings.
>>> 
>>> Based on this, I would assume that there aren't any top-level menus that
>>> are devoid of sub-menu items and that the top-level menu items serve as
>>> nothing more than simple containers for the sub-menu items. And I would
>>> be wrong.
>>> 
>>> Just look at a new install of WordPress, and you will see a standalone
>>> top-level menu: Dashboard. In a standard install, Dashboard doesn't have
>>> any sub-menu items. When I realized this, I looked at the code and found
>>> that there weren't any entries in $submenu to create the Dashboard
>>> sub-menu entry that appears if plugins, such as Akismet, adds a sub-menu
>>> to the Dashboard top-level menu.
>>> 
>>> This confused me at first, but I looked at the add_submenu_page code and
>>> found that it generates the first $submenu entry automatically when a
>>> sub-menu page is added to a menu entry that doesn't have any sub-menu pages.
>>> 
>>> Even though the Dashboard menu entry doesn't have any sub-menu entries
>>> by default, it still does not make use of the page title parameter.
>>> Instead, it does something hackish (IMHO), it has to manually set the
>>> $title variable before get_admin_page_title is called. The
>>> get_admin_page_title will immediately return the value of the $title
>>> variable if it is not empty.
>>> 
>>> After seeing this, I cooked up the following quick plugin:
>>> 
>>>     <?php
>>> 
>>>     /*
>>>     Plugin Name: Menu Test
>>>     */
>>> 
>>>     add_action( 'admin_menu', menu_test_add_pages );
>>> 
>>>     function menu_test_add_pages() {
>>>         $page_ref = add_menu_page( '', 'Menu Test', 10, 'menu-test',
>>>     'menu_test_index' );
>>>        
>>>         add_action( 'load-' . $page_ref, 'menu_test_set_title' );
>>>     }
>>> 
>>>     function menu_test_index() {
>>>         echo "<h3>Menu Test</h3>";
>>>     }
>>> 
>>>     function menu_test_set_title() {
>>>         global $title;
>>>         $title = 'Menu Test';
>>>     }
>>> 
>>>     ?>
>>> 
>>> All this plugin does is register a menu entry that doesn't have any
>>> sub-menu entries and give the resulting page a title. This is more or
>>> less the same way that Dashboard has set the title since 1.5.
>>> 
>>> Sorry for the long reply. It was fun digging into this. I hope that my
>>> reply helps you out.
>>> 
>>> Chris Jean
>>> http://gaarai.com/
>>> http://wp-roadmap.com/
>>> http://dnsyogi.com/
>>> 
>>> 
>>> 
>>> Chris Williams wrote:
>>>     
>>>> Exactly, so is that a bug?  Is it impossible/illegal to have a plug-in with
>>>> only a top level menu?
>>>> 
>>>> 
>>>>   
>>>>       
>>>>> From: Gaarai <gaarai@gaarai.com>
>>>>> Reply-To: <wp-hackers@lists.automattic.com>
>>>>> Date: Thu, 12 Feb 2009 21:21:02 -0600
>>>>> To: <wp-hackers@lists.automattic.com>
>>>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
>>>>> 
>>>>> In my experience, it isn't the top-level menu that sets the title;
>>>>> rather, the first sub-menu under it does.
>>>>> 
>>>>> Chris Jean
>>>>> http://gaarai.com/
>>>>> http://wp-roadmap.com/
>>>>> 
>>>>> 
>>>>> 
>>>>> Chris Williams wrote:
>>>>>     
>>>>>         
>>>>>> Despite my overabundant use of the word "really" (which I "really" regret
>>>>>> now :) ), does anybody have any input on this issue?
>>>>>> 
>>>>>> 
>>>>>>   
>>>>>>       
>>>>>>           
>>>>>>> From: Chris Williams <chris@clwill.com>
>>>>>>> Reply-To: <wp-hackers@lists.automattic.com>
>>>>>>> Date: Wed, 11 Feb 2009 13:27:16 -0800
>>>>>>> To: <wp-hackers@lists.automattic.com>
>>>>>>> Subject: [wp-hackers] Page Title for Admin Menu
>>>>>>> 
>>>>>>> I am writing a plugin that adds an admin menu page (not submenu).  It
>>>>>>> does
>>>>>>> this because it?s really quite a separate thing < a calendar of racing
>>>>>>> events, nothing to do with the WP functions, it?s really a separate data
>>>>>>> table and everything.  So, it doesn?t really belong down in ?settings?,
>>>>>>> or
>>>>>>> ?tools?.
>>>>>>> 
>>>>>>> This is all good, I have it working with add_menu_page and all is fine.
>>>>>>> It
>>>>>>> really only needs one page (like the ?Links? or ?Comments? menu items),
>>>>>>> it?s
>>>>>>> just an ?edit events? page.  There is one small problem, and that?s that
>>>>>>> the
>>>>>>> HTML page title is null.  It says simply ?[blogname] > -- Wordpress?.
>>>>>>> Nothing I put in the $page_title parameter on add_menu_page works.
>>>>>>> 
>>>>>>> If I have a submenu page, it works, but not with just a plain
>>>>>>> add_menu_page.
>>>>>>> I believe the issue is in get_admin_page_title in
>>>>>>> wp-admin/includes/plugin.php, but I haven?t debugged it completely.
>>>>>>> 
>>>>>>> My questions are: 1) am I doing something incorrectly that is causing
>>>>>>> this,
>>>>>>> 2) is this a known issue and I should just chill, or 3) should I figure
>>>>>>> it
>>>>>>> out and propose a patch?
>>>>>>> 
>>>>>>> Thanks,
>>>>>>> Chris
>>>>>>> _______________________________________________
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers@lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>     
>>>>>>>         
>>>>>>>            
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers@lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>> 
>>>>>>   
>>>>>>       
>>>>>>           
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>     
>>>>>         
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>>>   
>>>>       
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>     
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>>   
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chris at clwill.com  Sat Feb 14 01:59:42 2009
From: chris at clwill.com (Chris Williams)
Date: Sat Feb 14 01:59:59 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <499601C8.8050806@gaarai.com>
Message-ID: <C5BB658E.4236A%chris@clwill.com>

One more thing... things *don't* work properly.  I call add_menu_page
passing in a parameter called "page title" and no page title shows up.

:)


> From: Chris Jean <gaarai@gaarai.com>
> 
> I would agree with you on the idea of this being a bug if there is
> inconsistent code and things don't work properly.

From wp-hackers at striderweb.com  Sat Feb 14 04:25:05 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat Feb 14 04:25:28 2009
Subject: [wp-hackers] Plugin i18n
In-Reply-To: <4991054A.3000705@poplarware.com>
References: <E7C30847-8C0C-42B4-B506-BEDF678CFB8E@xentek.net>	<87e663fa0902090919jc84cbey91c9af6884704cc7@mail.gmail.com>
	<B4A308CE-AC5B-410A-8586-7FA97B175616@striderweb.com>
	<4991054A.3000705@poplarware.com>
Message-ID: <AC2158C6-768D-421A-9665-A3913E5E0488@striderweb.com>

On Feb 9, 2009, at 10:40 PM, Jennifer Hodgdon wrote:

> Stephen Rider wrote:
>> That codex page need some updating, since PLUGINDIR is outdated.   
>> Since WP 2.6 it's  better to use WP_PLUGIN_DIR instead. The  
>> textdomain function was changed to accommodate.
>
> Would you care to update the page?

Done.

http://codex.wordpress.org/I18n_for_WordPress_Developers#Choosing_and_loading_a_domain

However -- I think the *theme* textdomain info is wrong as well, and  
someone more familiar than I should take that one.

Stephen


-- 
Stephen Rider
http://striderweb.com/

From danf at eliresearch.com  Sat Feb 14 05:33:24 2009
From: danf at eliresearch.com (Dan Fellars)
Date: Sat Feb 14 05:42:04 2009
Subject: [wp-hackers] Inserting More Tags Across Entire Database
In-Reply-To: <20090213232722.9F4FC6D0C@comox.textdrive.com>
References: <20090213232722.9F4FC6D0C@comox.textdrive.com>
Message-ID: <AFF9A1A87EACDD418AF3FC7B77548E6103326FB3@MI8NYCMAIL17.Mi8.com>

I'm migrating a decent size database (50k+) of articles over to wp and I
want them all to have a <!-- more --> tag inserted after a specified X
number of characters.  Obviously would prefer not doing it manually.

Any ideas on how to approach it, or any code lying around that does it?
The tricky part is handling the html so that I don't insert the more tag
in the middle of an html tag. 
From viper at viper007bond.com  Sat Feb 14 14:38:33 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Sat Feb 14 14:38:44 2009
Subject: [wp-hackers] Inserting More Tags Across Entire Database
In-Reply-To: <AFF9A1A87EACDD418AF3FC7B77548E6103326FB3@MI8NYCMAIL17.Mi8.com>
References: <20090213232722.9F4FC6D0C@comox.textdrive.com>
	<AFF9A1A87EACDD418AF3FC7B77548E6103326FB3@MI8NYCMAIL17.Mi8.com>
Message-ID: <8f93a7390902140638h265e350cg758e6bca60a46a45@mail.gmail.com>

Er, http://codex.wordpress.org/Template_Tags/the_excerpt ?

If you don't want it to be the default 55 words or want to tweak it in
another way, you can remove the default automatic excerpt making filter and
register your own. Inserting <!--more--> is not the best solution.

On Fri, Feb 13, 2009 at 9:33 PM, Dan Fellars <danf@eliresearch.com> wrote:

> I'm migrating a decent size database (50k+) of articles over to wp and I
> want them all to have a <!-- more --> tag inserted after a specified X
> number of characters.  Obviously would prefer not doing it manually.
>
> Any ideas on how to approach it, or any code lying around that does it?
> The tricky part is handling the html so that I don't insert the more tag
> in the middle of an html tag.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From alan at verselogic.net  Sat Feb 14 16:39:42 2009
From: alan at verselogic.net (Alan Castonguay)
Date: Sat Feb 14 16:39:56 2009
Subject: [wp-hackers] Re: Getting comment feed for articles of specific
	author
In-Reply-To: <9e4ae73e0902130856t367f2c91xcd1ea42557d940a2@mail.gmail.com>
References: <9e4ae73e0902110202u540218aaub8d881ddd226df06@mail.gmail.com>
	<9e4ae73e0902130152x1b4b71g78ce75fa33f4022@mail.gmail.com>
	<91AB2584-0096-4205-BF20-7EA4A60E07E9@verselogic.net>
	<12D4794E-65DE-4740-ADE1-3FB1D75A6629@silentgap.com>
	<9e4ae73e0902130856t367f2c91xcd1ea42557d940a2@mail.gmail.com>
Message-ID: <E3BDFE82-788E-4B9E-AA18-CDCD2B6121D8@verselogic.net>

Rehash; the comments feeds provide most of the functionality that  
Xavier was asking for, minus a filter to just a single author.

We get a comment rss/atom feed with three types
  - Comments on a particular post (is_singluar)
  - Comments on search results (is_search, only true if the 's' query  
var is !empty() )
  - Comments on the blog as a whole, but the normal query parameters  
are still in effect.

Mix and match a few query parameters in

  - Request: http://blog.verselogic.net/?feed=comments-atom&author=1
  - Result: 301 redirect by canonical.php to http://blog.verselogic.net/archives/author/alanjcastonguay/comments/feed/atom/
     - Suggests such functionality was intended to exist? This looks a  
lot like the url that Xavier proposed.

  - Request: http://blog.verselogic.net/archives/author/alanjcastonguay/comments/feed/atom/
  - Results: 301 redirect to first post by that author.
     - Incomplete implementation? If this is supposed to work, we  
should look at fixing it.

Try disabling the canonicalization feature with preview=1, to avoid  
the above redirect.

  - Request: http://blog.verselogic.net/?feed=comments-atom&author=1&preview=1
  - Result: An Atom feed of comments on posts owned by author 1

  - Request: http://blog.verselogic.net/?feed=comments-atom&author=66&preview=1
  - Results: An Atom feed of the only comment on a post created by  
author 66 (my post-from-flickr user)

It -is- possible, with some trickery, to get a feed of comments on a  
particular author's posts. What is the canonicalizer trying to do here?

Alan J Castonguay


-------------- next part --------------


>>>>> In a standard install, we can:
>>>>> - get the general feed > /blog/feed/
>>>>> - get the comments feed > /blog/comments/feed/
>>>>> - get a feed for each author's articles > /blog/author/AUTHOR_ID/ 
>>>>> feed/
>>>>>
>>>>> How would I go about getting the next logical step: a feed of the
>>>>> comments to a given author's articles.
>>>>>
>>>>> Basic idea: /blog/author/AUTHOR_ID/comments/feed/
>>>>> What say you?
>>>>>
>>>>> --
>>>>> Xavier Borderie
>>>>>

From jidanni at jidanni.org  Sat Feb 14 05:41:20 2009
From: jidanni at jidanni.org (jidanni@jidanni.org)
Date: Sat Feb 14 21:56:08 2009
Subject: [wp-hackers] URL to jump to the single post of a day
Message-ID: <87hc2wvgtk.fsf@jidanni.org>

While converting a static HTML site to WordPress, I have fifty URLs to
redirect via .htaccess. I should probably just hardwire them all in,
but I noticed for WordPress if there is only one match for day, etc,
the name gets expanded:
$ HEAD -Sd http://localhost/articles/index.php/2002/10/02/a
HEAD http://localhost/articles/index.php/2002/10/02/a --> 301 Moved Permanently
HEAD http://localhost/articles/index.php/2002/10/02/a-government-out-of-control --> 200 OK
So I was thinking maybe instead of 50 hardwired lines, I could just
get away with one:
RedirectMatch (articles)/(\d{4})(\d{2})(\d{2})\.html$ http://localhost/$1/index.php/$2/$3/$4
which gets to the archive for that day, good enough, but as my site
never had more than one article per day, I am looking for the magic
wildcard character I could add to the end to jump straight to the article.
I could add "/a", but not all my articles start with "a". OK, never
mind. I'll just hardwire them all in. That way I can just issue the
definite 301 redirect in one shot.
From mikeschinkel at newclarity.net  Sat Feb 14 21:59:28 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Feb 14 21:59:51 2009
Subject: [wp-hackers] URL to jump to the single post of a day
In-Reply-To: <87hc2wvgtk.fsf@jidanni.org>
Message-ID: <EMEWEMEW2_DELIMl1DFxS165c0944fcc21ffcebaa5c,
	mikeschinkel@newclarity.net, 13295734.2181234648781087.J>

Do you want /a to work for every post, or do you want /{x} where "x" is the first character of the slug?

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: jidanni@jidanni.org
To: wp-hackers@lists.automattic.com
Sent: Saturday, February 14, 2009 12:41:20 AM GMT -05:00 US/Canada Eastern
Subject: [wp-hackers] URL to jump to the single post of a day

While converting a static HTML site to WordPress, I have fifty URLs to
redirect via .htaccess. I should probably just hardwire them all in,
but I noticed for WordPress if there is only one match for day, etc,
the name gets expanded:
$ HEAD -Sd http://localhost/articles/index.php/2002/10/02/a
HEAD http://localhost/articles/index.php/2002/10/02/a --> 301 Moved Permanently
HEAD http://localhost/articles/index.php/2002/10/02/a-government-out-of-control --> 200 OK
So I was thinking maybe instead of 50 hardwired lines, I could just
get away with one:
RedirectMatch (articles)/(\d{4})(\d{2})(\d{2})\.html$ http://localhost/$1/index.php/$2/$3/$4
which gets to the archive for that day, good enough, but as my site
never had more than one article per day, I am looking for the magic
wildcard character I could add to the end to jump straight to the article.
I could add "/a", but not all my articles start with "a". OK, never
mind. I'll just hardwire them all in. That way I can just issue the
definite 301 redirect in one shot.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From if.website at gmail.com  Sat Feb 14 22:25:26 2009
From: if.website at gmail.com (Austin Matzko)
Date: Sat Feb 14 22:25:34 2009
Subject: [wp-hackers] URL to jump to the single post of a day
In-Reply-To: <87hc2wvgtk.fsf@jidanni.org>
References: <87hc2wvgtk.fsf@jidanni.org>
Message-ID: <674b4a3b0902141425v47b62c20gfd7eb01466d3db4@mail.gmail.com>

On Fri, Feb 13, 2009 at 11:41 PM,  <jidanni@jidanni.org> wrote:
> While converting a static HTML site to WordPress, I have fifty URLs to
> redirect via .htaccess. I should probably just hardwire them all in,
> but I noticed for WordPress if there is only one match for day, etc,
> the name gets expanded:
> $ HEAD -Sd http://localhost/articles/index.php/2002/10/02/a
> HEAD http://localhost/articles/index.php/2002/10/02/a --> 301 Moved Permanently
> HEAD http://localhost/articles/index.php/2002/10/02/a-government-out-of-control --> 200 OK
> So I was thinking maybe instead of 50 hardwired lines, I could just
> get away with one:
> RedirectMatch (articles)/(\d{4})(\d{2})(\d{2})\.html$ http://localhost/$1/index.php/$2/$3/$4
> which gets to the archive for that day, good enough, but as my site
> never had more than one article per day, I am looking for the magic
> wildcard character I could add to the end to jump straight to the article.
> I could add "/a", but not all my articles start with "a". OK, never
> mind. I'll just hardwire them all in. That way I can just issue the
> definite 301 redirect in one shot.

Since you have just one article per day, something like the following
should work:

In .htaccess:
RedirectMatch (articles)/(\d{4})(\d{2})(\d{2})\.html$
http://localhost/$1/index.php/$2/$3/$4?singleredirect=1

In a plugin:
add_action('template_redirect', 'redirect_old');
function redirect_old() {
        if ( is_day() && ! empty( $_GET['singleredirect'] ) && have_posts() ) {
                the_post();
                wp_redirect(get_permalink(), 301);
                exit;
        }
}
From hempsworth at googlemail.com  Sun Feb 15 01:00:36 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 15 01:00:49 2009
Subject: [wp-hackers] OT: Checkout SVN into another?
Message-ID: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>

Hi all,
I'm trying to test out BuddyPress and I want to be able to update it all
(WPMU, BP and bbPress) using SVN.

I've checked-out WPMU and installed it into the root of my test-site. Now I
would like to check-out BP into the /wp-content/mu-plugins/ directory, but I
get an error becuase the root is already a working copy.

Here is my shell actions so far:

cd ~/example.com
svn co http://svn.automattic.com/wordpress-mu/trunk .
(CHECKS OUT)
cd ~/example.comcontent/mu-plugins/
svn co http://svn.buddypress.org/trunk .

But I get this error:

svn: '.' is already a working copy of a different URL

How would I go about having these two repos checked out? Is there any way of
me including it as a remote repo?

Cheers,
Alex
From wordpress at santosj.name  Sun Feb 15 01:02:46 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Feb 15 01:02:56 2009
Subject: [wp-hackers] OT: Checkout SVN into another?
In-Reply-To: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
References: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
Message-ID: <499769B6.1080607@santosj.name>

You need to create a new directory and then checkout into that. As 
you've figured out, you can not checkout something that is in a separate 
repository into another repository. Subversion doesn't work like Git.

Jacob Santos

Alex Hempton-Smith wrote:
> Hi all,
> I'm trying to test out BuddyPress and I want to be able to update it all
> (WPMU, BP and bbPress) using SVN.
>
> I've checked-out WPMU and installed it into the root of my test-site. Now I
> would like to check-out BP into the /wp-content/mu-plugins/ directory, but I
> get an error becuase the root is already a working copy.
>
> Here is my shell actions so far:
>
> cd ~/example.com
> svn co http://svn.automattic.com/wordpress-mu/trunk .
> (CHECKS OUT)
> cd ~/example.comcontent/mu-plugins/
> svn co http://svn.buddypress.org/trunk .
>
> But I get this error:
>
> svn: '.' is already a working copy of a different URL
>
> How would I go about having these two repos checked out? Is there any way of
> me including it as a remote repo?
>
> Cheers,
> Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From hempsworth at googlemail.com  Sun Feb 15 01:07:52 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 15 01:08:04 2009
Subject: [wp-hackers] OT: Checkout SVN into another?
In-Reply-To: <499769B6.1080607@santosj.name>
References: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
	<499769B6.1080607@santosj.name>
Message-ID: <5a1dad880902141707p59de0c9bkb3b4810325a08dcc@mail.gmail.com>

Hmm, thanks Jacob - I might have a problem though. The folder I want to
checkout into already exists because its created by the original repo. Any
ideas?

-- Alex


On Sun, Feb 15, 2009 at 1:02 AM, Jacob Santos <wordpress@santosj.name>wrote:

> You need to create a new directory and then checkout into that. As you've
> figured out, you can not checkout something that is in a separate repository
> into another repository. Subversion doesn't work like Git.
>
> Jacob Santos
>
> Alex Hempton-Smith wrote:
>
>> Hi all,
>> I'm trying to test out BuddyPress and I want to be able to update it all
>> (WPMU, BP and bbPress) using SVN.
>>
>> I've checked-out WPMU and installed it into the root of my test-site. Now
>> I
>> would like to check-out BP into the /wp-content/mu-plugins/ directory, but
>> I
>> get an error becuase the root is already a working copy.
>>
>> Here is my shell actions so far:
>>
>> cd ~/example.com
>> svn co http://svn.automattic.com/wordpress-mu/trunk .
>> (CHECKS OUT)
>> cd ~/example.comcontent/mu-plugins/
>> svn co http://svn.buddypress.org/trunk .
>>
>> But I get this error:
>>
>> svn: '.' is already a working copy of a different URL
>>
>> How would I go about having these two repos checked out? Is there any way
>> of
>> me including it as a remote repo?
>>
>> Cheers,
>> Alex
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mike at zed1.com  Sun Feb 15 01:24:39 2009
From: mike at zed1.com (Mike Little)
Date: Sun Feb 15 01:24:51 2009
Subject: [wp-hackers] OT: Checkout SVN into another?
In-Reply-To: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
References: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
Message-ID: <7235ce780902141724x1843bb07sb7cb1f68a3e90022@mail.gmail.com>

2009/2/15 Alex Hempton-Smith <hempsworth@googlemail.com>:
> Hi all,
> I'm trying to test out BuddyPress and I want to be able to update it all
> (WPMU, BP and bbPress) using SVN.
>
> I've checked-out WPMU and installed it into the root of my test-site. Now I
> would like to check-out BP into the /wp-content/mu-plugins/ directory, but I
> get an error becuase the root is already a working copy.
>

Hi Alex

SVN Externals are the answer

http://svnbook.red-bean.com/en/1.1/ch07s04.html


Mike
-- 
Mike Little
http://zed1.com/
From regulatethis at gmail.com  Sun Feb 15 01:28:53 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Sun Feb 15 01:29:05 2009
Subject: [wp-hackers] OT: Checkout SVN into another?
In-Reply-To: <7235ce780902141724x1843bb07sb7cb1f68a3e90022@mail.gmail.com>
References: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
	<7235ce780902141724x1843bb07sb7cb1f68a3e90022@mail.gmail.com>
Message-ID: <39fdab560902141728t9199b7fw7afb96a6adbd6edb@mail.gmail.com>

On Sat, Feb 14, 2009 at 8:24 PM, Mike Little <mike@zed1.com> wrote:
> 2009/2/15 Alex Hempton-Smith <hempsworth@googlemail.com>:
> Hi Alex
>
> SVN Externals are the answer
>
> http://svnbook.red-bean.com/en/1.1/ch07s04.html
>
>
> Mike
> --
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

I don't know if an external is really the answer because I'm pretty
sure the top level repo isn't his to mess with. Jacob's reply is
probably the way to go - does the directory's name actually matter
Alex?

Daniel
From hempsworth at googlemail.com  Sun Feb 15 01:29:26 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 15 01:29:38 2009
Subject: [wp-hackers] OT: Checkout SVN into another?
In-Reply-To: <7235ce780902141724x1843bb07sb7cb1f68a3e90022@mail.gmail.com>
References: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
	<7235ce780902141724x1843bb07sb7cb1f68a3e90022@mail.gmail.com>
Message-ID: <5a1dad880902141729p480f88ebmf04742bfd2822653@mail.gmail.com>

Thanks Mike, maybe I'm not reading the URL you showed me right (I'm sleepy
:P), but how do I define these externals when I'm checking out a repository?
I know you can define externals if you actually own the repo (WordPress does
this for the Akismet plugin), but when I don't own it and just checking out?

Many thanks,
Alex


On Sun, Feb 15, 2009 at 1:24 AM, Mike Little <mike@zed1.com> wrote:

> 2009/2/15 Alex Hempton-Smith <hempsworth@googlemail.com>:
> > Hi all,
> > I'm trying to test out BuddyPress and I want to be able to update it all
> > (WPMU, BP and bbPress) using SVN.
> >
> > I've checked-out WPMU and installed it into the root of my test-site. Now
> I
> > would like to check-out BP into the /wp-content/mu-plugins/ directory,
> but I
> > get an error becuase the root is already a working copy.
> >
>
> Hi Alex
>
> SVN Externals are the answer
>
> http://svnbook.red-bean.com/en/1.1/ch07s04.html
>
>
> Mike
> --
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From speedboxer at gmail.com  Sun Feb 15 01:32:03 2009
From: speedboxer at gmail.com (Matt)
Date: Sun Feb 15 01:32:19 2009
Subject: [wp-hackers] OT: Checkout SVN into another?
In-Reply-To: <5a1dad880902141729p480f88ebmf04742bfd2822653@mail.gmail.com>
References: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
	<7235ce780902141724x1843bb07sb7cb1f68a3e90022@mail.gmail.com>
	<5a1dad880902141729p480f88ebmf04742bfd2822653@mail.gmail.com>
Message-ID: <b88434820902141732k2abd14dcqb96645fcff7f934c@mail.gmail.com>

On Sat, Feb 14, 2009 at 5:29 PM, Alex Hempton-Smith
<hempsworth@googlemail.com> wrote:
> Thanks Mike, maybe I'm not reading the URL you showed me right (I'm sleepy
> :P), but how do I define these externals when I'm checking out a repository?
> I know you can define externals if you actually own the repo (WordPress does
> this for the Akismet plugin), but when I don't own it and just checking out?

You can make and use an SVN external without it being committed.


-- 
Matt (http://mattsblog.ca/)
From hempsworth at googlemail.com  Sun Feb 15 01:37:38 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 15 01:37:50 2009
Subject: [wp-hackers] OT: Checkout SVN into another?
In-Reply-To: <b88434820902141732k2abd14dcqb96645fcff7f934c@mail.gmail.com>
References: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
	<7235ce780902141724x1843bb07sb7cb1f68a3e90022@mail.gmail.com>
	<5a1dad880902141729p480f88ebmf04742bfd2822653@mail.gmail.com>
	<b88434820902141732k2abd14dcqb96645fcff7f934c@mail.gmail.com>
Message-ID: <5a1dad880902141737l551d5fd0y55befb9c97d88a90@mail.gmail.com>

Thanks, just tried it in Putty and I can add the directories, but as
mentioned it doesn't allow the inclusion of individual files and that's what
I need. :S
Hmm...

The directory is quite important because the BuddyPress plugins need to be
in the mu-plugins directory.

If there isn't a more elegant solution I might just have to write a bash
script to delete the contents of the mu-plugins folder, checkout the
BuddyPress repo into a completely different directory and then move the
files into the mu-plugins directory. It'll be annoying if I want to have
other stuff in the mu-plugins folder though...

-- Alex


On Sun, Feb 15, 2009 at 1:32 AM, Matt <speedboxer@gmail.com> wrote:

> On Sat, Feb 14, 2009 at 5:29 PM, Alex Hempton-Smith
> <hempsworth@googlemail.com> wrote:
> > Thanks Mike, maybe I'm not reading the URL you showed me right (I'm
> sleepy
> > :P), but how do I define these externals when I'm checking out a
> repository?
> > I know you can define externals if you actually own the repo (WordPress
> does
> > this for the Akismet plugin), but when I don't own it and just checking
> out?
>
> You can make and use an SVN external without it being committed.
>
>
> --
> Matt (http://mattsblog.ca/)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wordpress at dd32.id.au  Sun Feb 15 01:48:38 2009
From: wordpress at dd32.id.au (DD32)
Date: Sun Feb 15 01:48:52 2009
Subject: [wp-hackers] OT: Checkout SVN into another?
In-Reply-To: <5a1dad880902141737l551d5fd0y55befb9c97d88a90@mail.gmail.com>
References: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
	<7235ce780902141724x1843bb07sb7cb1f68a3e90022@mail.gmail.com>
	<5a1dad880902141729p480f88ebmf04742bfd2822653@mail.gmail.com>
	<b88434820902141732k2abd14dcqb96645fcff7f934c@mail.gmail.com>
	<5a1dad880902141737l551d5fd0y55befb9c97d88a90@mail.gmail.com>
Message-ID: <45055a190902141748n70cee5ameef4159c596e4211@mail.gmail.com>

cant you just delete mu-plugins/.svn/ and then check out into .svn?

You'll loose the ability to keep any default plugins (which i dont
think there are any?) up to date via SVN..

SVN is designed to be able to handle customisations like that.

The other option (like mentioned), is to delete the mu-plugins folder,
and then create a svn:externals item for mu-plugins on the root of the
svn co, SVN will handle that nicely, i'm not sure how to add a
Svn:external via cli tools though.

2009/2/15 Alex Hempton-Smith <hempsworth@googlemail.com>:
> Thanks, just tried it in Putty and I can add the directories, but as
> mentioned it doesn't allow the inclusion of individual files and that's what
> I need. :S
> Hmm...
>
> The directory is quite important because the BuddyPress plugins need to be
> in the mu-plugins directory.
>
> If there isn't a more elegant solution I might just have to write a bash
> script to delete the contents of the mu-plugins folder, checkout the
> BuddyPress repo into a completely different directory and then move the
> files into the mu-plugins directory. It'll be annoying if I want to have
> other stuff in the mu-plugins folder though...
>
> -- Alex
>
>
> On Sun, Feb 15, 2009 at 1:32 AM, Matt <speedboxer@gmail.com> wrote:
>
>> On Sat, Feb 14, 2009 at 5:29 PM, Alex Hempton-Smith
>> <hempsworth@googlemail.com> wrote:
>> > Thanks Mike, maybe I'm not reading the URL you showed me right (I'm
>> sleepy
>> > :P), but how do I define these externals when I'm checking out a
>> repository?
>> > I know you can define externals if you actually own the repo (WordPress
>> does
>> > this for the Akismet plugin), but when I don't own it and just checking
>> out?
>>
>> You can make and use an SVN external without it being committed.
>>
>>
>> --
>> Matt (http://mattsblog.ca/)
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From hempsworth at googlemail.com  Sun Feb 15 01:56:32 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 15 01:56:44 2009
Subject: [wp-hackers] OT: Checkout SVN into another?
In-Reply-To: <45055a190902141748n70cee5ameef4159c596e4211@mail.gmail.com>
References: <5a1dad880902141700p36b36f9gdadd78bc8877a93a@mail.gmail.com>
	<7235ce780902141724x1843bb07sb7cb1f68a3e90022@mail.gmail.com>
	<5a1dad880902141729p480f88ebmf04742bfd2822653@mail.gmail.com>
	<b88434820902141732k2abd14dcqb96645fcff7f934c@mail.gmail.com>
	<5a1dad880902141737l551d5fd0y55befb9c97d88a90@mail.gmail.com>
	<45055a190902141748n70cee5ameef4159c596e4211@mail.gmail.com>
Message-ID: <5a1dad880902141756n57cc846bp4ff83933faae16bb@mail.gmail.com>

W00t! Cheers DD32, I didn't even think to delete the .svn folder - works
like a charm now.
Many thanks all for your replies and suggestions!

-- Alex


On Sun, Feb 15, 2009 at 1:48 AM, DD32 <wordpress@dd32.id.au> wrote:

> cant you just delete mu-plugins/.svn/ and then check out into .svn?
>
> You'll loose the ability to keep any default plugins (which i dont
> think there are any?) up to date via SVN..
>
> SVN is designed to be able to handle customisations like that.
>
> The other option (like mentioned), is to delete the mu-plugins folder,
> and then create a svn:externals item for mu-plugins on the root of the
> svn co, SVN will handle that nicely, i'm not sure how to add a
> Svn:external via cli tools though.
>
> 2009/2/15 Alex Hempton-Smith <hempsworth@googlemail.com>:
> > Thanks, just tried it in Putty and I can add the directories, but as
> > mentioned it doesn't allow the inclusion of individual files and that's
> what
> > I need. :S
> > Hmm...
> >
> > The directory is quite important because the BuddyPress plugins need to
> be
> > in the mu-plugins directory.
> >
> > If there isn't a more elegant solution I might just have to write a bash
> > script to delete the contents of the mu-plugins folder, checkout the
> > BuddyPress repo into a completely different directory and then move the
> > files into the mu-plugins directory. It'll be annoying if I want to have
> > other stuff in the mu-plugins folder though...
> >
> > -- Alex
> >
> >
> > On Sun, Feb 15, 2009 at 1:32 AM, Matt <speedboxer@gmail.com> wrote:
> >
> >> On Sat, Feb 14, 2009 at 5:29 PM, Alex Hempton-Smith
> >> <hempsworth@googlemail.com> wrote:
> >> > Thanks Mike, maybe I'm not reading the URL you showed me right (I'm
> >> sleepy
> >> > :P), but how do I define these externals when I'm checking out a
> >> repository?
> >> > I know you can define externals if you actually own the repo
> (WordPress
> >> does
> >> > this for the Akismet plugin), but when I don't own it and just
> checking
> >> out?
> >>
> >> You can make and use an SVN external without it being committed.
> >>
> >>
> >> --
> >> Matt (http://mattsblog.ca/)
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From jidanni at jidanni.org  Sun Feb 15 01:58:02 2009
From: jidanni at jidanni.org (jidanni@jidanni.org)
Date: Sun Feb 15 01:58:18 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
References: <054.52c67d834550ae166c87ca0abcc7b89c@lists.automattic.com>
Message-ID: <87bpt4qx5h.fsf_-_@jidanni.org>

Gentlemen, allow us to broach the question "what about WordPress
SmartQuotes, SmartDashes, etc?"

You see I was reading http://www.fourmilab.ch/webtools/demoroniser/
just the other day, where it says

  You see, "state of the art" Microsoft Office applications sport a
  nifty feature called "smart quotes." (Rule of thumb--every time
  Microsoft use the word "smart," be on the lookout for something dumb).
  This feature is on by default in both Word and PowerPoint, and can be
  disabled only by finding the little box buried among the dozens of
  bewildering option panels these products contain. If enabled, and you
  type the string,

     "Halt," he cried, "this is the police!"

  "smart quotes" transforms the ASCII quote characters automatically
  into the incompatible Microsoft opening and closing quotes. ASCII
  single and double quotes are similarly transformed (even though
  ASCII already contains apostrophe and single open quote characters),
  and double hyphens are replaced by the incompatible em dash symbol.
  What other horrors occur, I know not. If the user notices this
  happening at all, their reaction might be "Thank you Billy-boy--that
  looks ever so much nicer," not knowing they've been set up to look
  like a moron to folks all over the world.

And it dawned on me "Hey, that's just like WordPress! I'll sumbit
http://core.trac.wordpress.org/ticket/9100 One click disable wptexturize()
to get them to be more reasonable."

But alas: Wontfix. You WordPress whippersnappers are all head over
heels for curly quotes. Old fashioned quotes and dashes probably look
to you like... "ASCII. Yuck!"

> MicroSoft was making illegal characters, WordPress makes legal &#...

Yes, however I'm talking about the whole concept of chaining one's
printing characters altogether.

> You don't think WordPress SmartQuotes are pretty?

Yes I admit they are very pretty, and don't cause any problems on any
of my devices. I just don't like the idea that one is not allowed to
retain their original input, as if WordPress is permanently smarter
than thou. Even the lowliest word processor program has a checkbox to
stop such abuse, why not WordPress. (I don't use the built in
WordPress editor by the way, but instead import from RSS.)

> WordPress also adds <p>'s. I suppose you don't like them either.

I'm not talking about that.

> For code, use <...>

I'm not just talking about code, I'm talking about any text.

Anyway, all I'm asking is that WordPress make a checkbox,

  [x]Beautify quote marks, dashes, etc.

checked by default, on an admin panel.

That way we old geezers who don't appreciate such beauty could have
our text remain unscathed.

> Just use a plugin like...

I'm saying it needs to be in the WordPress core code, as an
acknowledgement by the WordPress Foundation to their respect for
computer science. Yes.

Also examining the WordPress source code, the way wptexturize() is
spread all over the place, no plugin could rope it all in for more
than a version or two. The control switch needs to be in the core, as
wptexturize() seems also to play other good roles, not necessarily
corrupting text.

> Ha, just do...

I already do: http://core.trac.wordpress.org/ticket/8929 , so I'm not
hurting anymore. I'm just saying that WordPress needs to add a
"checkbox of respect to thier computing forefathers".

Another question is what happens to old documents? Apparently once the
damage is done it remains in the database. Well at least with the
aforementioned checkbox of respect, newer blog articles could be saved
the embarrassment, if one so wishes.
From sj at sawtoothid.com  Sun Feb 15 02:40:08 2009
From: sj at sawtoothid.com (Steve Johnson)
Date: Sun Feb 15 02:40:21 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <87bpt4qx5h.fsf_-_@jidanni.org>
References: <054.52c67d834550ae166c87ca0abcc7b89c@lists.automattic.com>
	<87bpt4qx5h.fsf_-_@jidanni.org>
Message-ID: <C7FA8CE2307D4C78B5BC6636CF9E4724@sawtooth>

So basically what you're saying is that you want the freedom to attach the
horse to the front of the car, yes?
 
Some of us are happy that we don't have to go through the contortions of
using alt- combinations to arrive at the proper typographical destination.
The rest don't know the difference and couldn't care less that double open
quotes are not the same as primes which aren't the same as straight quote
marks from a typewriter (which don't really mean anything at all as they
aren't proper in the first place).

I am perfectly happy to produce WordPress posts that do not look as if they
were typed on a Royal typewriter that was new in 1964.

Which brings us to: 'computing forefathers'? How about 'typing on an ancient
machine that most people under 30 have only seen in magazines forefathers'?

Steve Johnson

> -----Original Message-----
> From: wp-hackers-bounces@lists.automattic.com [mailto:wp-hackers-
> bounces@lists.automattic.com] On Behalf Of jidanni@jidanni.org
> Sent: Saturday, February 14, 2009 6:58 PM
> To: wp-hackers@lists.automattic.com
> Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
> 
> Gentlemen, allow us to broach the question "what about WordPress
> SmartQuotes, SmartDashes, etc?"
> 
> You see I was reading http://www.fourmilab.ch/webtools/demoroniser/
> just the other day, where it says
> 
>   You see, "state of the art" Microsoft Office applications sport a
>   nifty feature called "smart quotes." (Rule of thumb--every time
>   Microsoft use the word "smart," be on the lookout for something dumb).
>   This feature is on by default in both Word and PowerPoint, and can be
>   disabled only by finding the little box buried among the dozens of
>   bewildering option panels these products contain. If enabled, and you
>   type the string,
> 
>      "Halt," he cried, "this is the police!"
> 
>   "smart quotes" transforms the ASCII quote characters automatically
>   into the incompatible Microsoft opening and closing quotes. ASCII
>   single and double quotes are similarly transformed (even though
>   ASCII already contains apostrophe and single open quote characters),
>   and double hyphens are replaced by the incompatible em dash symbol.
>   What other horrors occur, I know not. If the user notices this
>   happening at all, their reaction might be "Thank you Billy-boy--that
>   looks ever so much nicer," not knowing they've been set up to look
>   like a moron to folks all over the world.
> 
> And it dawned on me "Hey, that's just like WordPress! I'll sumbit
> http://core.trac.wordpress.org/ticket/9100 One click disable wptexturize()
> to get them to be more reasonable."
> 
> But alas: Wontfix. You WordPress whippersnappers are all head over
> heels for curly quotes. Old fashioned quotes and dashes probably look
> to you like... "ASCII. Yuck!"
> 
> > MicroSoft was making illegal characters, WordPress makes legal &#...
> 
> Yes, however I'm talking about the whole concept of chaining one's
> printing characters altogether.
> 
> > You don't think WordPress SmartQuotes are pretty?
> 
> Yes I admit they are very pretty, and don't cause any problems on any
> of my devices. I just don't like the idea that one is not allowed to
> retain their original input, as if WordPress is permanently smarter
> than thou. Even the lowliest word processor program has a checkbox to
> stop such abuse, why not WordPress. (I don't use the built in
> WordPress editor by the way, but instead import from RSS.)
> 
> > WordPress also adds <p>'s. I suppose you don't like them either.
> 
> I'm not talking about that.
> 
> > For code, use <...>
> 
> I'm not just talking about code, I'm talking about any text.
> 
> Anyway, all I'm asking is that WordPress make a checkbox,
> 
>   [x]Beautify quote marks, dashes, etc.
> 
> checked by default, on an admin panel.
> 
> That way we old geezers who don't appreciate such beauty could have
> our text remain unscathed.
> 
> > Just use a plugin like...
> 
> I'm saying it needs to be in the WordPress core code, as an
> acknowledgement by the WordPress Foundation to their respect for
> computer science. Yes.
> 
> Also examining the WordPress source code, the way wptexturize() is
> spread all over the place, no plugin could rope it all in for more
> than a version or two. The control switch needs to be in the core, as
> wptexturize() seems also to play other good roles, not necessarily
> corrupting text.
> 
> > Ha, just do...
> 
> I already do: http://core.trac.wordpress.org/ticket/8929 , so I'm not
> hurting anymore. I'm just saying that WordPress needs to add a
> "checkbox of respect to thier computing forefathers".
> 
> Another question is what happens to old documents? Apparently once the
> damage is done it remains in the database. Well at least with the
> aforementioned checkbox of respect, newer blog articles could be saved
> the embarrassment, if one so wishes.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From if.website at gmail.com  Sun Feb 15 02:46:52 2009
From: if.website at gmail.com (Austin Matzko)
Date: Sun Feb 15 02:47:00 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <87bpt4qx5h.fsf_-_@jidanni.org>
References: <054.52c67d834550ae166c87ca0abcc7b89c@lists.automattic.com>
	<87bpt4qx5h.fsf_-_@jidanni.org>
Message-ID: <674b4a3b0902141846p51762a0ehb673d3b168f1a3e5@mail.gmail.com>

On Sat, Feb 14, 2009 at 7:58 PM,  <jidanni@jidanni.org> wrote:
>> Just use a plugin like...
>
> I'm saying it needs to be in the WordPress core code, as an
> acknowledgement by the WordPress Foundation to their respect for
> computer science. Yes.

You haven't yet made much of a case for this yet.  The fact that you
don't like wptexturize() isn't sufficient reason when there are a
number of plugins that easily disable its use.  Even the demoroniser
man page to which you link doesn't support your argument, as its
author's point is that Microsoft makes up character entities outside
of Unicode and Latin1.  In contrast, the curly quotes used by
WordPress are legitimate Unicode entities and render just fine for the
vast majority.
From johnbillion+wp at gmail.com  Sun Feb 15 02:58:16 2009
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sun Feb 15 02:58:31 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <674b4a3b0902141846p51762a0ehb673d3b168f1a3e5@mail.gmail.com>
References: <054.52c67d834550ae166c87ca0abcc7b89c@lists.automattic.com>
	<87bpt4qx5h.fsf_-_@jidanni.org>
	<674b4a3b0902141846p51762a0ehb673d3b168f1a3e5@mail.gmail.com>
Message-ID: <1fa535a70902141858p28383a04m84484b658c94e623@mail.gmail.com>

"Another question is what happens to old documents? Apparently once the
damage is done it remains in the database. Well at least with the
aforementioned checkbox of respect, newer blog articles could be saved
the embarrassment, if one so wishes."

wptexturize doesn't touch the database so I don't you where you got
this information. Its function is to take a string and return a
formatted version with curly quotes etc.

2009/2/15 Austin Matzko <if.website@gmail.com>:
> On Sat, Feb 14, 2009 at 7:58 PM,  <jidanni@jidanni.org> wrote:
>>> Just use a plugin like...
>>
>> I'm saying it needs to be in the WordPress core code, as an
>> acknowledgement by the WordPress Foundation to their respect for
>> computer science. Yes.
>
> You haven't yet made much of a case for this yet.  The fact that you
> don't like wptexturize() isn't sufficient reason when there are a
> number of plugins that easily disable its use.  Even the demoroniser
> man page to which you link doesn't support your argument, as its
> author's point is that Microsoft makes up character entities outside
> of Unicode and Latin1.  In contrast, the curly quotes used by
> WordPress are legitimate Unicode entities and render just fine for the
> vast majority.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ryanmccue at cubegames.net  Sun Feb 15 06:32:46 2009
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Sun Feb 15 06:33:34 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <87bpt4qx5h.fsf_-_@jidanni.org>
References: <054.52c67d834550ae166c87ca0abcc7b89c@lists.automattic.com>
	<87bpt4qx5h.fsf_-_@jidanni.org>
Message-ID: <4997B70E.5060703@cubegames.net>

jidanni@jidanni.org wrote:
> But alas: Wontfix. You WordPress whippersnappers are all head over
> heels for curly quotes. Old fashioned quotes and dashes probably look
> to you like... "ASCII. Yuck!"
>   

Just as the ?dash? key on your keyboard is not actually a dash, it's a
hyphen, ?old fashioned quotes? on your keyboard aren't actually quotes
at all, they're prime and double prime symbols. (According to Designing
for the Web by Mark Boulton, at least.)

-- 
Ryan McCue
<http://cubegames.net/>

From gamito at gmail.com  Sun Feb 15 07:17:41 2009
From: gamito at gmail.com (=?ISO-8859-1?Q?M=E1rio_Gamito?=)
Date: Sun Feb 15 07:18:09 2009
Subject: [wp-hackers] Mismatched WP version displayed
Message-ID: <4997C195.1050100@gmail.com>

Hi,

After upgrading WP 2.6 to 2.7, I got all over the message "WordPress 2.7
is available! Please update now.", at the Administration Panel.

Now, that I've updated to 2.7.1, I get "WordPress 2.7.1 is available!
Please update now."

It's not a big deal, but how can I solve this issue ?

I've googled around, but found no satisfactory answers, only doubts :(

Any help would be appreciated.

Warm Regards,
-- 
:wq! M?rio Gamito
Key Fingerprint: 0x5CEFF763
From wordpress at dd32.id.au  Sun Feb 15 07:25:09 2009
From: wordpress at dd32.id.au (DD32)
Date: Sun Feb 15 07:28:08 2009
Subject: [wp-hackers] Mismatched WP version displayed
In-Reply-To: <4997C195.1050100@gmail.com>
References: <4997C195.1050100@gmail.com>
Message-ID: <45055a190902142325r1e85d888x86f9209e52125d49@mail.gmail.com>

Are you running a Localised version of WordPress? (Well.. I presume
not given its in english..), Or do you have any Localisation plugins
installed? (ie. ones that allow users to select which language the
interface is in)

Or, Do you have a plugin installed which hides the WordPress version?

2009/2/15 M?rio Gamito <gamito@gmail.com>:
> Hi,
>
> After upgrading WP 2.6 to 2.7, I got all over the message "WordPress 2.7
> is available! Please update now.", at the Administration Panel.
>
> Now, that I've updated to 2.7.1, I get "WordPress 2.7.1 is available!
> Please update now."
>
> It's not a big deal, but how can I solve this issue ?
>
> I've googled around, but found no satisfactory answers, only doubts :(
>
> Any help would be appreciated.
>
> Warm Regards,
> --
> :wq! M?rio Gamito
> Key Fingerprint: 0x5CEFF763
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From gamito at gmail.com  Sun Feb 15 08:08:40 2009
From: gamito at gmail.com (=?ISO-8859-1?Q?M=E1rio_Gamito?=)
Date: Sun Feb 15 08:09:11 2009
Subject: [wp-hackers] Mismatched WP version displayed
In-Reply-To: <45055a190902142325r1e85d888x86f9209e52125d49@mail.gmail.com>
References: <4997C195.1050100@gmail.com>
	<45055a190902142325r1e85d888x86f9209e52125d49@mail.gmail.com>
Message-ID: <4997CD88.9070403@gmail.com>

Hi,

DD32 wrote:
> Are you running a Localised version of WordPress?
No!

> not given its in english..), Or do you have any Localisation plugins
> installed? (ie. ones that allow users to select which language the
> interface is in)
No!

> Or, Do you have a plugin installed which hides the WordPress version?
No!

Maybe the version is in some field in the DB.

Warm Regards,
-- 
:wq! M?rio Gamito
Key Fingerprint: 0x5CEFF763
From wordpress at dd32.id.au  Sun Feb 15 08:14:06 2009
From: wordpress at dd32.id.au (DD32)
Date: Sun Feb 15 08:14:19 2009
Subject: [wp-hackers] Mismatched WP version displayed
In-Reply-To: <4997CD88.9070403@gmail.com>
References: <4997C195.1050100@gmail.com>
	<45055a190902142325r1e85d888x86f9209e52125d49@mail.gmail.com>
	<4997CD88.9070403@gmail.com>
Message-ID: <45055a190902150014m78dc9f72s2008d86af110fb80@mail.gmail.com>

Thats odd, Is the correct version showing in the WordPress footer?

2009/2/15 M?rio Gamito <gamito@gmail.com>:
> Hi,
>
> DD32 wrote:
>> Are you running a Localised version of WordPress?
> No!
>
>> not given its in english..), Or do you have any Localisation plugins
>> installed? (ie. ones that allow users to select which language the
>> interface is in)
> No!
>
>> Or, Do you have a plugin installed which hides the WordPress version?
> No!
>
> Maybe the version is in some field in the DB.
>
> Warm Regards,
> --
> :wq! M?rio Gamito
> Key Fingerprint: 0x5CEFF763
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From gamito at gmail.com  Sun Feb 15 08:23:49 2009
From: gamito at gmail.com (=?ISO-8859-1?Q?M=E1rio_Gamito?=)
Date: Sun Feb 15 08:24:18 2009
Subject: [wp-hackers] Mismatched WP version displayed
In-Reply-To: <45055a190902150014m78dc9f72s2008d86af110fb80@mail.gmail.com>
References: <4997C195.1050100@gmail.com>	<45055a190902142325r1e85d888x86f9209e52125d49@mail.gmail.com>	<4997CD88.9070403@gmail.com>
	<45055a190902150014m78dc9f72s2008d86af110fb80@mail.gmail.com>
Message-ID: <4997D115.2000706@gmail.com>

DD32 wrote:
> Thats odd, Is the correct version showing in the WordPress footer?
I removed that, but if you view the source of the main page, it
indicates 2.7.1 which is correct!

Warm Regards,
-- 
:wq! M?rio Gamito
Key Fingerprint: 0x5CEFF763
From navjotjsingh at gmail.com  Sun Feb 15 08:28:43 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Sun Feb 15 08:28:54 2009
Subject: [wp-hackers] Mismatched WP version displayed
In-Reply-To: <4997D115.2000706@gmail.com>
References: <4997C195.1050100@gmail.com>
	<45055a190902142325r1e85d888x86f9209e52125d49@mail.gmail.com>
	<4997CD88.9070403@gmail.com>
	<45055a190902150014m78dc9f72s2008d86af110fb80@mail.gmail.com>
	<4997D115.2000706@gmail.com>
Message-ID: <7b9e108c0902150028t22123b62r1aa7bf8418f31ce9@mail.gmail.com>

Can you show what is written in file wp-includes/version.php?

On Sun, Feb 15, 2009 at 1:53 PM, M?rio Gamito <gamito@gmail.com> wrote:

> DD32 wrote:
> > Thats odd, Is the correct version showing in the WordPress footer?
> I removed that, but if you view the source of the main page, it
> indicates 2.7.1 which is correct!
>
> Warm Regards,
> --
> :wq! M?rio Gamito
> Key Fingerprint: 0x5CEFF763
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From gamito at gmail.com  Sun Feb 15 08:57:28 2009
From: gamito at gmail.com (=?UTF-8?B?TcOhcmlvIEdhbWl0bw==?=)
Date: Sun Feb 15 08:57:59 2009
Subject: [wp-hackers] Mismatched WP version displayed
In-Reply-To: <7b9e108c0902150028t22123b62r1aa7bf8418f31ce9@mail.gmail.com>
References: <4997C195.1050100@gmail.com>	<45055a190902142325r1e85d888x86f9209e52125d49@mail.gmail.com>	<4997CD88.9070403@gmail.com>	<45055a190902150014m78dc9f72s2008d86af110fb80@mail.gmail.com>	<4997D115.2000706@gmail.com>
	<7b9e108c0902150028t22123b62r1aa7bf8418f31ce9@mail.gmail.com>
Message-ID: <4997D8F8.6010508@gmail.com>

Navjot Singh wrote:
> Can you show what is written in file wp-includes/version.php?
I solved it :)

As I have all my files with 444 permissions, I click on the link to
update to 2.7.1 (which was the one I already had).

Then, I was presented with the choice to say that 2.7.1 is the right
version and so I did it.

Solved, but odd anyway!

Thank you all.

Warm Regards,
-- 
:wq! M?rio Gamito
Key Fingerprint: 0x5CEFF763
From peter.westwood at ftwr.co.uk  Sun Feb 15 09:03:34 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun Feb 15 09:05:12 2009
Subject: [wp-hackers] Mismatched WP version displayed
In-Reply-To: <4997D8F8.6010508@gmail.com>
References: <4997C195.1050100@gmail.com>	<45055a190902142325r1e85d888x86f9209e52125d49@mail.gmail.com>	<4997CD88.9070403@gmail.com>	<45055a190902150014m78dc9f72s2008d86af110fb80@mail.gmail.com>	<4997D115.2000706@gmail.com>
	<7b9e108c0902150028t22123b62r1aa7bf8418f31ce9@mail.gmail.com>
	<4997D8F8.6010508@gmail.com>
Message-ID: <0417AD8B-A26B-4808-B137-4E717C05E6F9@ftwr.co.uk>


On 15 Feb 2009, at 08:57, M?rio Gamito wrote:

> Navjot Singh wrote:
>> Can you show what is written in file wp-includes/version.php?
> I solved it :)
>
> As I have all my files with 444 permissions, I click on the link to
> update to 2.7.1 (which was the one I already had).
>
> Then, I was presented with the choice to say that 2.7.1 is the right
> version and so I did it.
>
> Solved, but odd anyway!

This sounds like the option which stores the upgrade info didn't get  
updated post upgrade.

It is cached for a long time (12 hours + i think) and I guess if the  
call to fetch the data and update it which is triggered by the  
upgrade fails to make a successful HTTP request you will then have to  
wait that length of time for the message to disappear.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From gamito at gmail.com  Sun Feb 15 09:31:01 2009
From: gamito at gmail.com (=?ISO-8859-1?Q?M=E1rio_Gamito?=)
Date: Sun Feb 15 09:31:33 2009
Subject: [wp-hackers] Mismatched WP version displayed
In-Reply-To: <0417AD8B-A26B-4808-B137-4E717C05E6F9@ftwr.co.uk>
References: <4997C195.1050100@gmail.com>	<45055a190902142325r1e85d888x86f9209e52125d49@mail.gmail.com>	<4997CD88.9070403@gmail.com>	<45055a190902150014m78dc9f72s2008d86af110fb80@mail.gmail.com>	<4997D115.2000706@gmail.com>	<7b9e108c0902150028t22123b62r1aa7bf8418f31ce9@mail.gmail.com>	<4997D8F8.6010508@gmail.com>
	<0417AD8B-A26B-4808-B137-4E717C05E6F9@ftwr.co.uk>
Message-ID: <4997E0D5.1070601@gmail.com>

Hi Peter,

> This sounds like the option which stores the upgrade info didn't get
> updated post upgrade.
> 
> It is cached for a long time (12 hours + i think) and I guess if the
> call to fetch the data and update it which is triggered by the upgrade
> fails to make a successful HTTP request you will then have to wait that
> length of time for the message to disappear.
It has been wrong since I've installed 2.7 when it was out.
Now that I made the move, it imediately disappeared. I no longer have it!

I don't know, maybe Google Gears and some .js file FF had in cache
provoked that.

Well, solved by a happy turn of chance :)

Warm Regards,
-- 
:wq! M?rio Gamito
Key Fingerprint: 0x5CEFF763
From info at toscho.de  Sun Feb 15 13:57:34 2009
From: info at toscho.de (Thomas Scholz)
Date: Sun Feb 15 13:57:43 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <87bpt4qx5h.fsf_-_@jidanni.org>
References: <054.52c67d834550ae166c87ca0abcc7b89c@lists.automattic.com>
	<87bpt4qx5h.fsf_-_@jidanni.org>
Message-ID: <op.upebp8e6r6yny2@perplexifikator.speedport_w_303v_typ_a>

Am 15.02.2009, 02:58 Uhr, schrieb <jidanni@jidanni.org>:

> One click disable wptexturize()

I second that.

WordPress inserts legal quotes for english text only. In non-english texts  
WordPress? ?smart quotes? are anything but smart. They?re just plain wrong.

Additionally WordPress has german, swiss and french ?quotes?  hard coded  
as *arrows*. This is extremly annoying, because it requires anyone who  
cares about typography to buffer and clean up the complete output.
Using ? and ? as arrows violates aestethic, orthographic and unicode rules.

Typography should never be hard coded in a software that is used in  
different languages. Get it out of the core or add at least an option to  
switch it completely off.

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de
From scribu at gmail.com  Sun Feb 15 14:08:12 2009
From: scribu at gmail.com (scribu)
Date: Sun Feb 15 14:08:24 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <op.upebp8e6r6yny2@perplexifikator.speedport_w_303v_typ_a>
References: <054.52c67d834550ae166c87ca0abcc7b89c@lists.automattic.com>
	<87bpt4qx5h.fsf_-_@jidanni.org>
	<op.upebp8e6r6yny2@perplexifikator.speedport_w_303v_typ_a>
Message-ID: <349fe48b0902150608h537a4d57sb4b2ead47d42f745@mail.gmail.com>

On Sun, Feb 15, 2009 at 3:57 PM, Thomas Scholz <info@toscho.de> wrote:

> WordPress inserts legal quotes for english text only. In non-english texts
> WordPress' ?smart quotes? are anything but smart. They're just plain wrong.
>
> Additionally WordPress has german, swiss and french ?quotes?  hard coded as
> *arrows*. This is extremly annoying, because it requires anyone who cares
> about typography to buffer and clean up the complete output.
> Using ? and ? as arrows violates aestethic, orthographic and unicode rules.
>
> Typography should never be hard coded in a software that is used in
> different languages. Get it out of the core or add at least an option to
> switch it completely off.
>
> Thomas
>

Now that's a solid argument. +1

-- 
http://scribu.net
From wp-hackers at striderweb.com  Sun Feb 15 17:07:14 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sun Feb 15 17:07:42 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <op.upebp8e6r6yny2@perplexifikator.speedport_w_303v_typ_a>
References: <054.52c67d834550ae166c87ca0abcc7b89c@lists.automattic.com>
	<87bpt4qx5h.fsf_-_@jidanni.org>
	<op.upebp8e6r6yny2@perplexifikator.speedport_w_303v_typ_a>
Message-ID: <857C6BEB-CA00-4B2F-860E-3A649873E537@striderweb.com>

+1 RE other languages.

Also, doesn't Unicode have actual arrow symbols?

On Feb 15, 2009, at 7:57 AM, Thomas Scholz wrote:

> WordPress inserts legal quotes for english text only. In non-english  
> texts WordPress? ?smart quotes? are anything but smart. They?re just  
> plain wrong.
>
> Additionally WordPress has german, swiss and french ?quotes?  hard  
> coded as *arrows*. This is extremly annoying, because it requires  
> anyone who cares about typography to buffer and clean up the  
> complete output.
> Using ? and ? as arrows violates aestethic, orthographic and unicode  
> rules.
>
> Typography should never be hard coded in a software that is used in  
> different languages. Get it out of the core or add at least an  
> option to switch it completely off.

From info at toscho.de  Sun Feb 15 17:38:43 2009
From: info at toscho.de (Thomas Scholz)
Date: Sun Feb 15 17:38:53 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <857C6BEB-CA00-4B2F-860E-3A649873E537@striderweb.com>
References: <054.52c67d834550ae166c87ca0abcc7b89c@lists.automattic.com>
	<87bpt4qx5h.fsf_-_@jidanni.org>
	<op.upebp8e6r6yny2@perplexifikator.speedport_w_303v_typ_a>
	<857C6BEB-CA00-4B2F-860E-3A649873E537@striderweb.com>
Message-ID: <op.upelytoir6yny2@perplexifikator.speedport_w_303v_typ_a>

Am 15.02.2009, 18:07 Uhr, schrieb Stephen Rider  
<wp-hackers@striderweb.com>:

> +1 RE other languages.
>
> Also, doesn't Unicode have actual arrow symbols?

Of course. For a readable overview see  
http://www.alanwood.net/unicode/arrows.html
The first four arrows work even in Internet Explorer Windows 5.0.

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de
0160/1764727
From hempsworth at googlemail.com  Sun Feb 15 17:42:38 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 15 17:42:50 2009
Subject: [wp-hackers] Use WP as an authentication system
Message-ID: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>

Hi all,
I'm building a set of custom apps/scripts for our charity and I would like
to make these available at "staff.example.com". I have a regular install of
WP in "example.com/wp/". The staff subdomain's content is actually in /home/
example.com/staff/.

Instead of re-invent the wheel I (and to have the same usernames/passwords),
I would like to use the authentication system from the WP install on my own
custom PHP stuff in the subdomain. And then be able to use normal WP
functions within my own app, like checking if they're logged in, getting
usernames etc.

What do I need to do to allow my users to log into the main install, and
then be logged into the custom area?

I know it'll be more than just including 'wp-blog-header.php', because of
cookies etc?

Many thanks if anyone can help!

-- Alex
From gaarai at gaarai.com  Sun Feb 15 17:49:17 2009
From: gaarai at gaarai.com (Gaarai)
Date: Sun Feb 15 17:49:58 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
Message-ID: <4998559D.50700@gaarai.com>

I'm about to head out, but I wanted to give you a tip to get you started.

I recommend checking out the wp-admin/index.php file. This should serve 
as a template for your custom app.

You'll also need to look at the $_REQUEST['redirect_to'] query arg so 
that you can properly redirect your user once they've logged in. You can 
find more about it by looking in the wp-login.php file.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/



Alex Hempton-Smith wrote:
> Hi all,
> I'm building a set of custom apps/scripts for our charity and I would like
> to make these available at "staff.example.com". I have a regular install of
> WP in "example.com/wp/". The staff subdomain's content is actually in /home/
> example.com/staff/.
>
> Instead of re-invent the wheel I (and to have the same usernames/passwords),
> I would like to use the authentication system from the WP install on my own
> custom PHP stuff in the subdomain. And then be able to use normal WP
> functions within my own app, like checking if they're logged in, getting
> usernames etc.
>
> What do I need to do to allow my users to log into the main install, and
> then be logged into the custom area?
>
> I know it'll be more than just including 'wp-blog-header.php', because of
> cookies etc?
>
> Many thanks if anyone can help!
>
> -- Alex
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From hempsworth at googlemail.com  Sun Feb 15 19:10:30 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 15 19:10:43 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <4998559D.50700@gaarai.com>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
	<4998559D.50700@gaarai.com>
Message-ID: <5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>

I'm having real trouble with this... I get errors when I try to include the
following code:
require_once('../wp/wp-admin/admin.php');

Saying:
Warning: require_once(../wp-load.php) [function.require-once]: failed
to open stream: No such file or directory in...

Does anybody have any experience of using WP in this way?

-- Alex


On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com> wrote:

> I'm about to head out, but I wanted to give you a tip to get you started.
>
> I recommend checking out the wp-admin/index.php file. This should serve as
> a template for your custom app.
>
> You'll also need to look at the $_REQUEST['redirect_to'] query arg so that
> you can properly redirect your user once they've logged in. You can find
> more about it by looking in the wp-login.php file.
>
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
>
>
>
> Alex Hempton-Smith wrote:
>
>> Hi all,
>> I'm building a set of custom apps/scripts for our charity and I would like
>> to make these available at "staff.example.com". I have a regular install
>> of
>> WP in "example.com/wp/". The staff subdomain's content is actually in
>> /home/
>> example.com/staff/.
>>
>> Instead of re-invent the wheel I (and to have the same
>> usernames/passwords),
>> I would like to use the authentication system from the WP install on my
>> own
>> custom PHP stuff in the subdomain. And then be able to use normal WP
>> functions within my own app, like checking if they're logged in, getting
>> usernames etc.
>>
>> What do I need to do to allow my users to log into the main install, and
>> then be logged into the custom area?
>>
>> I know it'll be more than just including 'wp-blog-header.php', because of
>> cookies etc?
>>
>> Many thanks if anyone can help!
>>
>> -- Alex
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Sun Feb 15 21:18:08 2009
From: mikeschinkel at newclarity.net (mikeschinkel@newclarity.net)
Date: Sun Feb 15 21:18:32 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
	<4998559D.50700@gaarai.com>
	<5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1EFI94f3e8e9f704e0619c11475,
	mikeschinkel@newclarity.net, E3616ECA-3CF6-4E9B-9114>

admin.php includes wp-load.php and assumes it's relative directory.  
Either define ABSPATH to your WordPress root or explicitly require()  
wp-load.php using the correct directory before requiring admin.php and  
that should solve it.

-Mike

Sent from my iPhone

On Feb 15, 2009, at 2:11 PM, Alex Hempton-Smith <hempsworth@googlemail.com 
 > wrote:

> I'm having real trouble with this... I get errors when I try to  
> include the
> following code:
> require_once('../wp/wp-admin/admin.php');
>
> Saying:
> Warning: require_once(../wp-load.php) [function.require-once]: failed
> to open stream: No such file or directory in...
>
> Does anybody have any experience of using WP in this way?
>
> -- Alex
>
>
> On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com> wrote:
>
>> I'm about to head out, but I wanted to give you a tip to get you  
>> started.
>>
>> I recommend checking out the wp-admin/index.php file. This should  
>> serve as
>> a template for your custom app.
>>
>> You'll also need to look at the $_REQUEST['redirect_to'] query arg  
>> so that
>> you can properly redirect your user once they've logged in. You can  
>> find
>> more about it by looking in the wp-login.php file.
>>
>> Chris Jean
>> http://gaarai.com/
>> http://wp-roadmap.com/
>>
>>
>>
>> Alex Hempton-Smith wrote:
>>
>>> Hi all,
>>> I'm building a set of custom apps/scripts for our charity and I  
>>> would like
>>> to make these available at "staff.example.com". I have a regular  
>>> install
>>> of
>>> WP in "example.com/wp/". The staff subdomain's content is actually  
>>> in
>>> /home/
>>> example.com/staff/.
>>>
>>> Instead of re-invent the wheel I (and to have the same
>>> usernames/passwords),
>>> I would like to use the authentication system from the WP install  
>>> on my
>>> own
>>> custom PHP stuff in the subdomain. And then be able to use normal WP
>>> functions within my own app, like checking if they're logged in,  
>>> getting
>>> usernames etc.
>>>
>>> What do I need to do to allow my users to log into the main  
>>> install, and
>>> then be logged into the custom area?
>>>
>>> I know it'll be more than just including 'wp-blog-header.php',  
>>> because of
>>> cookies etc?
>>>
>>> Many thanks if anyone can help!
>>>
>>> -- Alex
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From hempsworth at googlemail.com  Sun Feb 15 21:32:30 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 15 21:32:44 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <-6765708292069001638@unknownmsgid>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
	<4998559D.50700@gaarai.com>
	<5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>
	<-6765708292069001638@unknownmsgid>
Message-ID: <5a1dad880902151332i4895ff7qeecd0020ed2580f9@mail.gmail.com>

Thanks Mike, I've defined ABSPATH and when I visit the page I get sent to
the WP login page. I log in, it redirects me to the Dashboard. When I go
back to the subdomain it just shows me the login page again.
Why's it doing this you think?

-- Alex


On Sun, Feb 15, 2009 at 9:18 PM, <mikeschinkel@newclarity.net> wrote:

> admin.php includes wp-load.php and assumes it's relative directory. Either
> define ABSPATH to your WordPress root or explicitly require() wp-load.php
> using the correct directory before requiring admin.php and that should solve
> it.
>
> -Mike
>
> Sent from my iPhone
>
>
> On Feb 15, 2009, at 2:11 PM, Alex Hempton-Smith <hempsworth@googlemail.com>
> wrote:
>
>  I'm having real trouble with this... I get errors when I try to include
>> the
>> following code:
>> require_once('../wp/wp-admin/admin.php');
>>
>> Saying:
>> Warning: require_once(../wp-load.php) [function.require-once]: failed
>> to open stream: No such file or directory in...
>>
>> Does anybody have any experience of using WP in this way?
>>
>> -- Alex
>>
>>
>> On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com> wrote:
>>
>>  I'm about to head out, but I wanted to give you a tip to get you started.
>>>
>>> I recommend checking out the wp-admin/index.php file. This should serve
>>> as
>>> a template for your custom app.
>>>
>>> You'll also need to look at the $_REQUEST['redirect_to'] query arg so
>>> that
>>> you can properly redirect your user once they've logged in. You can find
>>> more about it by looking in the wp-login.php file.
>>>
>>> Chris Jean
>>> http://gaarai.com/
>>> http://wp-roadmap.com/
>>>
>>>
>>>
>>> Alex Hempton-Smith wrote:
>>>
>>>  Hi all,
>>>> I'm building a set of custom apps/scripts for our charity and I would
>>>> like
>>>> to make these available at "staff.example.com". I have a regular
>>>> install
>>>> of
>>>> WP in "example.com/wp/". The staff subdomain's content is actually in
>>>> /home/
>>>> example.com/staff/.
>>>>
>>>> Instead of re-invent the wheel I (and to have the same
>>>> usernames/passwords),
>>>> I would like to use the authentication system from the WP install on my
>>>> own
>>>> custom PHP stuff in the subdomain. And then be able to use normal WP
>>>> functions within my own app, like checking if they're logged in, getting
>>>> usernames etc.
>>>>
>>>> What do I need to do to allow my users to log into the main install, and
>>>> then be logged into the custom area?
>>>>
>>>> I know it'll be more than just including 'wp-blog-header.php', because
>>>> of
>>>> cookies etc?
>>>>
>>>> Many thanks if anyone can help!
>>>>
>>>> -- Alex
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>>
>>>>  _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>  _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From gaarai at gaarai.com  Sun Feb 15 21:34:58 2009
From: gaarai at gaarai.com (Gaarai)
Date: Sun Feb 15 21:35:41 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <5a1dad880902151332i4895ff7qeecd0020ed2580f9@mail.gmail.com>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>	<4998559D.50700@gaarai.com>	<5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>	<-6765708292069001638@unknownmsgid>
	<5a1dad880902151332i4895ff7qeecd0020ed2580f9@mail.gmail.com>
Message-ID: <49988A82.1040605@gaarai.com>

The cookie is most likely being set just for the domain that your 
WordPress resides on. The subdomain is treated as a different domain.

So, you might look at modifying the cookie to be set for a domain of 
".domain.com". Note the dot (.) in front of the domain name. This should 
ensure that the cookie will work for all subdomains.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/



Alex Hempton-Smith wrote:
> Thanks Mike, I've defined ABSPATH and when I visit the page I get sent to
> the WP login page. I log in, it redirects me to the Dashboard. When I go
> back to the subdomain it just shows me the login page again.
> Why's it doing this you think?
>
> -- Alex
>
>
> On Sun, Feb 15, 2009 at 9:18 PM, <mikeschinkel@newclarity.net> wrote:
>
>   
>> admin.php includes wp-load.php and assumes it's relative directory. Either
>> define ABSPATH to your WordPress root or explicitly require() wp-load.php
>> using the correct directory before requiring admin.php and that should solve
>> it.
>>
>> -Mike
>>
>> Sent from my iPhone
>>
>>
>> On Feb 15, 2009, at 2:11 PM, Alex Hempton-Smith <hempsworth@googlemail.com>
>> wrote:
>>
>>  I'm having real trouble with this... I get errors when I try to include
>>     
>>> the
>>> following code:
>>> require_once('../wp/wp-admin/admin.php');
>>>
>>> Saying:
>>> Warning: require_once(../wp-load.php) [function.require-once]: failed
>>> to open stream: No such file or directory in...
>>>
>>> Does anybody have any experience of using WP in this way?
>>>
>>> -- Alex
>>>
>>>
>>> On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com> wrote:
>>>
>>>  I'm about to head out, but I wanted to give you a tip to get you started.
>>>       
>>>> I recommend checking out the wp-admin/index.php file. This should serve
>>>> as
>>>> a template for your custom app.
>>>>
>>>> You'll also need to look at the $_REQUEST['redirect_to'] query arg so
>>>> that
>>>> you can properly redirect your user once they've logged in. You can find
>>>> more about it by looking in the wp-login.php file.
>>>>
>>>> Chris Jean
>>>> http://gaarai.com/
>>>> http://wp-roadmap.com/
>>>>
>>>>
>>>>
>>>> Alex Hempton-Smith wrote:
>>>>
>>>>  Hi all,
>>>>         
>>>>> I'm building a set of custom apps/scripts for our charity and I would
>>>>> like
>>>>> to make these available at "staff.example.com". I have a regular
>>>>> install
>>>>> of
>>>>> WP in "example.com/wp/". The staff subdomain's content is actually in
>>>>> /home/
>>>>> example.com/staff/.
>>>>>
>>>>> Instead of re-invent the wheel I (and to have the same
>>>>> usernames/passwords),
>>>>> I would like to use the authentication system from the WP install on my
>>>>> own
>>>>> custom PHP stuff in the subdomain. And then be able to use normal WP
>>>>> functions within my own app, like checking if they're logged in, getting
>>>>> usernames etc.
>>>>>
>>>>> What do I need to do to allow my users to log into the main install, and
>>>>> then be logged into the custom area?
>>>>>
>>>>> I know it'll be more than just including 'wp-blog-header.php', because
>>>>> of
>>>>> cookies etc?
>>>>>
>>>>> Many thanks if anyone can help!
>>>>>
>>>>> -- Alex
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>>>
>>>>>  _______________________________________________
>>>>>           
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>  _______________________________________________
>>>>         
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>       
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From hempsworth at googlemail.com  Sun Feb 15 22:24:06 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 15 22:24:20 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <49988A82.1040605@gaarai.com>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
	<4998559D.50700@gaarai.com>
	<5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>
	<-6765708292069001638@unknownmsgid>
	<5a1dad880902151332i4895ff7qeecd0020ed2580f9@mail.gmail.com>
	<49988A82.1040605@gaarai.com>
Message-ID: <5a1dad880902151424j261cd355i9b4f1900f906c2cd@mail.gmail.com>

Brilliant, so I changed the cookie path from "/wp/wp-admin" to "/", and
changed the host from "www.example.com" to ".example.com".
How would I force WP to save the cookies like this?

-- Alex


On Sun, Feb 15, 2009 at 9:34 PM, Gaarai <gaarai@gaarai.com> wrote:

> The cookie is most likely being set just for the domain that your WordPress
> resides on. The subdomain is treated as a different domain.
>
> So, you might look at modifying the cookie to be set for a domain of ".
> domain.com". Note the dot (.) in front of the domain name. This should
> ensure that the cookie will work for all subdomains.
>
>
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
>
>
>
> Alex Hempton-Smith wrote:
>
>> Thanks Mike, I've defined ABSPATH and when I visit the page I get sent to
>> the WP login page. I log in, it redirects me to the Dashboard. When I go
>> back to the subdomain it just shows me the login page again.
>> Why's it doing this you think?
>>
>> -- Alex
>>
>>
>> On Sun, Feb 15, 2009 at 9:18 PM, <mikeschinkel@newclarity.net> wrote:
>>
>>
>>
>>> admin.php includes wp-load.php and assumes it's relative directory.
>>> Either
>>> define ABSPATH to your WordPress root or explicitly require() wp-load.php
>>> using the correct directory before requiring admin.php and that should
>>> solve
>>> it.
>>>
>>> -Mike
>>>
>>> Sent from my iPhone
>>>
>>>
>>> On Feb 15, 2009, at 2:11 PM, Alex Hempton-Smith <
>>> hempsworth@googlemail.com>
>>> wrote:
>>>
>>>  I'm having real trouble with this... I get errors when I try to include
>>>
>>>
>>>> the
>>>> following code:
>>>> require_once('../wp/wp-admin/admin.php');
>>>>
>>>> Saying:
>>>> Warning: require_once(../wp-load.php) [function.require-once]: failed
>>>> to open stream: No such file or directory in...
>>>>
>>>> Does anybody have any experience of using WP in this way?
>>>>
>>>> -- Alex
>>>>
>>>>
>>>> On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com> wrote:
>>>>
>>>>  I'm about to head out, but I wanted to give you a tip to get you
>>>> started.
>>>>
>>>>
>>>>> I recommend checking out the wp-admin/index.php file. This should serve
>>>>> as
>>>>> a template for your custom app.
>>>>>
>>>>> You'll also need to look at the $_REQUEST['redirect_to'] query arg so
>>>>> that
>>>>> you can properly redirect your user once they've logged in. You can
>>>>> find
>>>>> more about it by looking in the wp-login.php file.
>>>>>
>>>>> Chris Jean
>>>>> http://gaarai.com/
>>>>> http://wp-roadmap.com/
>>>>>
>>>>>
>>>>>
>>>>> Alex Hempton-Smith wrote:
>>>>>
>>>>>  Hi all,
>>>>>
>>>>>
>>>>>> I'm building a set of custom apps/scripts for our charity and I would
>>>>>> like
>>>>>> to make these available at "staff.example.com". I have a regular
>>>>>> install
>>>>>> of
>>>>>> WP in "example.com/wp/". The staff subdomain's content is actually in
>>>>>> /home/
>>>>>> example.com/staff/.
>>>>>>
>>>>>> Instead of re-invent the wheel I (and to have the same
>>>>>> usernames/passwords),
>>>>>> I would like to use the authentication system from the WP install on
>>>>>> my
>>>>>> own
>>>>>> custom PHP stuff in the subdomain. And then be able to use normal WP
>>>>>> functions within my own app, like checking if they're logged in,
>>>>>> getting
>>>>>> usernames etc.
>>>>>>
>>>>>> What do I need to do to allow my users to log into the main install,
>>>>>> and
>>>>>> then be logged into the custom area?
>>>>>>
>>>>>> I know it'll be more than just including 'wp-blog-header.php', because
>>>>>> of
>>>>>> cookies etc?
>>>>>>
>>>>>> Many thanks if anyone can help!
>>>>>>
>>>>>> -- Alex
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers@lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>
>>>>>>
>>>>>>  _______________________________________________
>>>>>>
>>>>>>
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>  _______________________________________________
>>>>>
>>>>>
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From hempsworth at googlemail.com  Sun Feb 15 22:33:50 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 15 22:34:02 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <5a1dad880902151424j261cd355i9b4f1900f906c2cd@mail.gmail.com>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
	<4998559D.50700@gaarai.com>
	<5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>
	<-6765708292069001638@unknownmsgid>
	<5a1dad880902151332i4895ff7qeecd0020ed2580f9@mail.gmail.com>
	<49988A82.1040605@gaarai.com>
	<5a1dad880902151424j261cd355i9b4f1900f906c2cd@mail.gmail.com>
Message-ID: <5a1dad880902151433y1891b947oe739b385942b0149@mail.gmail.com>

By the way, I changed the cookie attributes in the
Firefox developer toolbar, and the authentication is now working.
I just need to stop WP saving the cookies with the original settings.

-- Alex


On Sun, Feb 15, 2009 at 10:24 PM, Alex Hempton-Smith <
hempsworth@googlemail.com> wrote:

> Brilliant, so I changed the cookie path from "/wp/wp-admin" to "/", and
> changed the host from "www.example.com" to ".example.com".
> How would I force WP to save the cookies like this?
>
> -- Alex
>
>
>
> On Sun, Feb 15, 2009 at 9:34 PM, Gaarai <gaarai@gaarai.com> wrote:
>
>> The cookie is most likely being set just for the domain that your
>> WordPress resides on. The subdomain is treated as a different domain.
>>
>> So, you might look at modifying the cookie to be set for a domain of ".
>> domain.com". Note the dot (.) in front of the domain name. This should
>> ensure that the cookie will work for all subdomains.
>>
>>
>> Chris Jean
>> http://gaarai.com/
>> http://wp-roadmap.com/
>>
>>
>>
>> Alex Hempton-Smith wrote:
>>
>>> Thanks Mike, I've defined ABSPATH and when I visit the page I get sent to
>>> the WP login page. I log in, it redirects me to the Dashboard. When I go
>>> back to the subdomain it just shows me the login page again.
>>> Why's it doing this you think?
>>>
>>> -- Alex
>>>
>>>
>>> On Sun, Feb 15, 2009 at 9:18 PM, <mikeschinkel@newclarity.net> wrote:
>>>
>>>
>>>
>>>> admin.php includes wp-load.php and assumes it's relative directory.
>>>> Either
>>>> define ABSPATH to your WordPress root or explicitly require()
>>>> wp-load.php
>>>> using the correct directory before requiring admin.php and that should
>>>> solve
>>>> it.
>>>>
>>>> -Mike
>>>>
>>>> Sent from my iPhone
>>>>
>>>>
>>>> On Feb 15, 2009, at 2:11 PM, Alex Hempton-Smith <
>>>> hempsworth@googlemail.com>
>>>> wrote:
>>>>
>>>>  I'm having real trouble with this... I get errors when I try to include
>>>>
>>>>
>>>>> the
>>>>> following code:
>>>>> require_once('../wp/wp-admin/admin.php');
>>>>>
>>>>> Saying:
>>>>> Warning: require_once(../wp-load.php) [function.require-once]: failed
>>>>> to open stream: No such file or directory in...
>>>>>
>>>>> Does anybody have any experience of using WP in this way?
>>>>>
>>>>> -- Alex
>>>>>
>>>>>
>>>>> On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com> wrote:
>>>>>
>>>>>  I'm about to head out, but I wanted to give you a tip to get you
>>>>> started.
>>>>>
>>>>>
>>>>>> I recommend checking out the wp-admin/index.php file. This should
>>>>>> serve
>>>>>> as
>>>>>> a template for your custom app.
>>>>>>
>>>>>> You'll also need to look at the $_REQUEST['redirect_to'] query arg so
>>>>>> that
>>>>>> you can properly redirect your user once they've logged in. You can
>>>>>> find
>>>>>> more about it by looking in the wp-login.php file.
>>>>>>
>>>>>> Chris Jean
>>>>>> http://gaarai.com/
>>>>>> http://wp-roadmap.com/
>>>>>>
>>>>>>
>>>>>>
>>>>>> Alex Hempton-Smith wrote:
>>>>>>
>>>>>>  Hi all,
>>>>>>
>>>>>>
>>>>>>> I'm building a set of custom apps/scripts for our charity and I would
>>>>>>> like
>>>>>>> to make these available at "staff.example.com". I have a regular
>>>>>>> install
>>>>>>> of
>>>>>>> WP in "example.com/wp/". The staff subdomain's content is actually
>>>>>>> in
>>>>>>> /home/
>>>>>>> example.com/staff/.
>>>>>>>
>>>>>>> Instead of re-invent the wheel I (and to have the same
>>>>>>> usernames/passwords),
>>>>>>> I would like to use the authentication system from the WP install on
>>>>>>> my
>>>>>>> own
>>>>>>> custom PHP stuff in the subdomain. And then be able to use normal WP
>>>>>>> functions within my own app, like checking if they're logged in,
>>>>>>> getting
>>>>>>> usernames etc.
>>>>>>>
>>>>>>> What do I need to do to allow my users to log into the main install,
>>>>>>> and
>>>>>>> then be logged into the custom area?
>>>>>>>
>>>>>>> I know it'll be more than just including 'wp-blog-header.php',
>>>>>>> because
>>>>>>> of
>>>>>>> cookies etc?
>>>>>>>
>>>>>>> Many thanks if anyone can help!
>>>>>>>
>>>>>>> -- Alex
>>>>>>> _______________________________________________
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers@lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>  _______________________________________________
>>>>>>>
>>>>>>>
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers@lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>  _______________________________________________
>>>>>>
>>>>>>
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
From gaarai at gaarai.com  Sun Feb 15 22:50:27 2009
From: gaarai at gaarai.com (Gaarai)
Date: Sun Feb 15 22:51:32 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <5a1dad880902151433y1891b947oe739b385942b0149@mail.gmail.com>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>	<4998559D.50700@gaarai.com>	<5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>	<-6765708292069001638@unknownmsgid>	<5a1dad880902151332i4895ff7qeecd0020ed2580f9@mail.gmail.com>	<49988A82.1040605@gaarai.com>	<5a1dad880902151424j261cd355i9b4f1900f906c2cd@mail.gmail.com>
	<5a1dad880902151433y1891b947oe739b385942b0149@mail.gmail.com>
Message-ID: <49989C33.705@gaarai.com>

It looks like there are two defines that can control this: COOKIE_DOMAIN 
and ADMIN_COOKIE_PATH. You should set these to what you want in the 
wp-config.php file.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/



Alex Hempton-Smith wrote:
> By the way, I changed the cookie attributes in the
> Firefox developer toolbar, and the authentication is now working.
> I just need to stop WP saving the cookies with the original settings.
>
> -- Alex
>
>
> On Sun, Feb 15, 2009 at 10:24 PM, Alex Hempton-Smith <
> hempsworth@googlemail.com> wrote:
>
>   
>> Brilliant, so I changed the cookie path from "/wp/wp-admin" to "/", and
>> changed the host from "www.example.com" to ".example.com".
>> How would I force WP to save the cookies like this?
>>
>> -- Alex
>>
>>
>>
>> On Sun, Feb 15, 2009 at 9:34 PM, Gaarai <gaarai@gaarai.com> wrote:
>>
>>     
>>> The cookie is most likely being set just for the domain that your
>>> WordPress resides on. The subdomain is treated as a different domain.
>>>
>>> So, you might look at modifying the cookie to be set for a domain of ".
>>> domain.com". Note the dot (.) in front of the domain name. This should
>>> ensure that the cookie will work for all subdomains.
>>>
>>>
>>> Chris Jean
>>> http://gaarai.com/
>>> http://wp-roadmap.com/
>>>
>>>
>>>
>>> Alex Hempton-Smith wrote:
>>>
>>>       
>>>> Thanks Mike, I've defined ABSPATH and when I visit the page I get sent to
>>>> the WP login page. I log in, it redirects me to the Dashboard. When I go
>>>> back to the subdomain it just shows me the login page again.
>>>> Why's it doing this you think?
>>>>
>>>> -- Alex
>>>>
>>>>
>>>> On Sun, Feb 15, 2009 at 9:18 PM, <mikeschinkel@newclarity.net> wrote:
>>>>
>>>>
>>>>
>>>>         
>>>>> admin.php includes wp-load.php and assumes it's relative directory.
>>>>> Either
>>>>> define ABSPATH to your WordPress root or explicitly require()
>>>>> wp-load.php
>>>>> using the correct directory before requiring admin.php and that should
>>>>> solve
>>>>> it.
>>>>>
>>>>> -Mike
>>>>>
>>>>> Sent from my iPhone
>>>>>
>>>>>
>>>>> On Feb 15, 2009, at 2:11 PM, Alex Hempton-Smith <
>>>>> hempsworth@googlemail.com>
>>>>> wrote:
>>>>>
>>>>>  I'm having real trouble with this... I get errors when I try to include
>>>>>
>>>>>
>>>>>           
>>>>>> the
>>>>>> following code:
>>>>>> require_once('../wp/wp-admin/admin.php');
>>>>>>
>>>>>> Saying:
>>>>>> Warning: require_once(../wp-load.php) [function.require-once]: failed
>>>>>> to open stream: No such file or directory in...
>>>>>>
>>>>>> Does anybody have any experience of using WP in this way?
>>>>>>
>>>>>> -- Alex
>>>>>>
>>>>>>
>>>>>> On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com> wrote:
>>>>>>
>>>>>>  I'm about to head out, but I wanted to give you a tip to get you
>>>>>> started.
>>>>>>
>>>>>>
>>>>>>             
>>>>>>> I recommend checking out the wp-admin/index.php file. This should
>>>>>>> serve
>>>>>>> as
>>>>>>> a template for your custom app.
>>>>>>>
>>>>>>> You'll also need to look at the $_REQUEST['redirect_to'] query arg so
>>>>>>> that
>>>>>>> you can properly redirect your user once they've logged in. You can
>>>>>>> find
>>>>>>> more about it by looking in the wp-login.php file.
>>>>>>>
>>>>>>> Chris Jean
>>>>>>> http://gaarai.com/
>>>>>>> http://wp-roadmap.com/
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Alex Hempton-Smith wrote:
>>>>>>>
>>>>>>>  Hi all,
>>>>>>>
>>>>>>>
>>>>>>>               
>>>>>>>> I'm building a set of custom apps/scripts for our charity and I would
>>>>>>>> like
>>>>>>>> to make these available at "staff.example.com". I have a regular
>>>>>>>> install
>>>>>>>> of
>>>>>>>> WP in "example.com/wp/". The staff subdomain's content is actually
>>>>>>>> in
>>>>>>>> /home/
>>>>>>>> example.com/staff/.
>>>>>>>>
>>>>>>>> Instead of re-invent the wheel I (and to have the same
>>>>>>>> usernames/passwords),
>>>>>>>> I would like to use the authentication system from the WP install on
>>>>>>>> my
>>>>>>>> own
>>>>>>>> custom PHP stuff in the subdomain. And then be able to use normal WP
>>>>>>>> functions within my own app, like checking if they're logged in,
>>>>>>>> getting
>>>>>>>> usernames etc.
>>>>>>>>
>>>>>>>> What do I need to do to allow my users to log into the main install,
>>>>>>>> and
>>>>>>>> then be logged into the custom area?
>>>>>>>>
>>>>>>>> I know it'll be more than just including 'wp-blog-header.php',
>>>>>>>> because
>>>>>>>> of
>>>>>>>> cookies etc?
>>>>>>>>
>>>>>>>> Many thanks if anyone can help!
>>>>>>>>
>>>>>>>> -- Alex
>>>>>>>> _______________________________________________
>>>>>>>> wp-hackers mailing list
>>>>>>>> wp-hackers@lists.automattic.com
>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>  _______________________________________________
>>>>>>>>
>>>>>>>>
>>>>>>>>                 
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers@lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>
>>>>>>>  _______________________________________________
>>>>>>>
>>>>>>>
>>>>>>>               
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers@lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>
>>>>>>
>>>>>>             
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>>>
>>>>>           
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>>
>>>>         
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>       
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From wp at xentek.net  Sun Feb 15 23:33:54 2009
From: wp at xentek.net (Eric Marden)
Date: Sun Feb 15 23:34:02 2009
Subject: [wp-hackers] 302 redirect - why?
In-Reply-To: <360919220902130533w4da7e92en1748ad0bc543e6ff@mail.gmail.com>
References: <360919220902130529n5f4f2cebie84a94ba08994822@mail.gmail.com>
	<360919220902130533w4da7e92en1748ad0bc543e6ff@mail.gmail.com>
Message-ID: <3495E638-EBFC-4FBE-AB89-55FCCCC7B0D7@xentek.net>

> We're currently still researching
> things but it looks like a bit that this can couse google to penalize
> a wordpress blog.

302 is a temporary redirect.
301 is permanent.

If you move a resource to another URL you want to use 301s to tell  
clients, including google, where they can find the new resource and to  
update their links to use this new URL. Google won't penalize you for  
redirects, unless you are trying to something fishy like have a page  
indexed highly for one topic, but then redirect the page after its  
been indexed to another page with a different topic. In other words,  
302 redirects are not 'bad' and in this case are used because using  
any other response code would not semantically make sense.

-e
From mikeschinkel at newclarity.net  Mon Feb 16 01:28:33 2009
From: mikeschinkel at newclarity.net (mikeschinkel@newclarity.net)
Date: Mon Feb 16 01:28:53 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <5a1dad880902151433y1891b947oe739b385942b0149@mail.gmail.com>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
	<4998559D.50700@gaarai.com>
	<5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>
	<-6765708292069001638@unknownmsgid>
	<5a1dad880902151332i4895ff7qeecd0020ed2580f9@mail.gmail.com>
	<49988A82.1040605@gaarai.com>
	<5a1dad880902151424j261cd355i9b4f1900f906c2cd@mail.gmail.com>
	<5a1dad880902151433y1891b947oe739b385942b0149@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1EJSYe4fcd5ee836f5aae799922,
	mikeschinkel@newclarity.net, 3CA292AF-2666-476F-BDDE>

Alex,

When you get it all working any chance you could document how you did  
it on a blog or somewhere? I think it would be a very valuable  
technique in general and could help a lot of people.

-Mike

Sent from my iPhone

On Feb 15, 2009, at 5:34 PM, Alex Hempton-Smith <hempsworth@googlemail.com 
 > wrote:

> By the way, I changed the cookie attributes in the
> Firefox developer toolbar, and the authentication is now working.
> I just need to stop WP saving the cookies with the original settings.
>
> -- Alex
>
>
> On Sun, Feb 15, 2009 at 10:24 PM, Alex Hempton-Smith <
> hempsworth@googlemail.com> wrote:
>
>> Brilliant, so I changed the cookie path from "/wp/wp-admin" to "/",  
>> and
>> changed the host from "www.example.com" to ".example.com".
>> How would I force WP to save the cookies like this?
>>
>> -- Alex
>>
>>
>>
>> On Sun, Feb 15, 2009 at 9:34 PM, Gaarai <gaarai@gaarai.com> wrote:
>>
>>> The cookie is most likely being set just for the domain that your
>>> WordPress resides on. The subdomain is treated as a different  
>>> domain.
>>>
>>> So, you might look at modifying the cookie to be set for a domain  
>>> of ".
>>> domain.com". Note the dot (.) in front of the domain name. This  
>>> should
>>> ensure that the cookie will work for all subdomains.
>>>
>>>
>>> Chris Jean
>>> http://gaarai.com/
>>> http://wp-roadmap.com/
>>>
>>>
>>>
>>> Alex Hempton-Smith wrote:
>>>
>>>> Thanks Mike, I've defined ABSPATH and when I visit the page I get  
>>>> sent to
>>>> the WP login page. I log in, it redirects me to the Dashboard.  
>>>> When I go
>>>> back to the subdomain it just shows me the login page again.
>>>> Why's it doing this you think?
>>>>
>>>> -- Alex
>>>>
>>>>
>>>> On Sun, Feb 15, 2009 at 9:18 PM, <mikeschinkel@newclarity.net>  
>>>> wrote:
>>>>
>>>>
>>>>
>>>>> admin.php includes wp-load.php and assumes it's relative  
>>>>> directory.
>>>>> Either
>>>>> define ABSPATH to your WordPress root or explicitly require()
>>>>> wp-load.php
>>>>> using the correct directory before requiring admin.php and that  
>>>>> should
>>>>> solve
>>>>> it.
>>>>>
>>>>> -Mike
>>>>>
>>>>> Sent from my iPhone
>>>>>
>>>>>
>>>>> On Feb 15, 2009, at 2:11 PM, Alex Hempton-Smith <
>>>>> hempsworth@googlemail.com>
>>>>> wrote:
>>>>>
>>>>> I'm having real trouble with this... I get errors when I try to  
>>>>> include
>>>>>
>>>>>
>>>>>> the
>>>>>> following code:
>>>>>> require_once('../wp/wp-admin/admin.php');
>>>>>>
>>>>>> Saying:
>>>>>> Warning: require_once(../wp-load.php) [function.require-once]:  
>>>>>> failed
>>>>>> to open stream: No such file or directory in...
>>>>>>
>>>>>> Does anybody have any experience of using WP in this way?
>>>>>>
>>>>>> -- Alex
>>>>>>
>>>>>>
>>>>>> On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com>  
>>>>>> wrote:
>>>>>>
>>>>>> I'm about to head out, but I wanted to give you a tip to get you
>>>>>> started.
>>>>>>
>>>>>>
>>>>>>> I recommend checking out the wp-admin/index.php file. This  
>>>>>>> should
>>>>>>> serve
>>>>>>> as
>>>>>>> a template for your custom app.
>>>>>>>
>>>>>>> You'll also need to look at the $_REQUEST['redirect_to'] query  
>>>>>>> arg so
>>>>>>> that
>>>>>>> you can properly redirect your user once they've logged in.  
>>>>>>> You can
>>>>>>> find
>>>>>>> more about it by looking in the wp-login.php file.
>>>>>>>
>>>>>>> Chris Jean
>>>>>>> http://gaarai.com/
>>>>>>> http://wp-roadmap.com/
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Alex Hempton-Smith wrote:
>>>>>>>
>>>>>>> Hi all,
>>>>>>>
>>>>>>>
>>>>>>>> I'm building a set of custom apps/scripts for our charity and  
>>>>>>>> I would
>>>>>>>> like
>>>>>>>> to make these available at "staff.example.com". I have a  
>>>>>>>> regular
>>>>>>>> install
>>>>>>>> of
>>>>>>>> WP in "example.com/wp/". The staff subdomain's content is  
>>>>>>>> actually
>>>>>>>> in
>>>>>>>> /home/
>>>>>>>> example.com/staff/.
>>>>>>>>
>>>>>>>> Instead of re-invent the wheel I (and to have the same
>>>>>>>> usernames/passwords),
>>>>>>>> I would like to use the authentication system from the WP  
>>>>>>>> install on
>>>>>>>> my
>>>>>>>> own
>>>>>>>> custom PHP stuff in the subdomain. And then be able to use  
>>>>>>>> normal WP
>>>>>>>> functions within my own app, like checking if they're logged  
>>>>>>>> in,
>>>>>>>> getting
>>>>>>>> usernames etc.
>>>>>>>>
>>>>>>>> What do I need to do to allow my users to log into the main  
>>>>>>>> install,
>>>>>>>> and
>>>>>>>> then be logged into the custom area?
>>>>>>>>
>>>>>>>> I know it'll be more than just including 'wp-blog-header.php',
>>>>>>>> because
>>>>>>>> of
>>>>>>>> cookies etc?
>>>>>>>>
>>>>>>>> Many thanks if anyone can help!
>>>>>>>>
>>>>>>>> -- Alex
>>>>>>>> _______________________________________________
>>>>>>>> wp-hackers mailing list
>>>>>>>> wp-hackers@lists.automattic.com
>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>>
>>>>>>>>
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers@lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>>
>>>>>>>
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers@lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>
>>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From hempsworth at googlemail.com  Mon Feb 16 01:44:33 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Mon Feb 16 01:44:46 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <4306661140425898553@unknownmsgid>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
	<4998559D.50700@gaarai.com>
	<5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>
	<-6765708292069001638@unknownmsgid>
	<5a1dad880902151332i4895ff7qeecd0020ed2580f9@mail.gmail.com>
	<49988A82.1040605@gaarai.com>
	<5a1dad880902151424j261cd355i9b4f1900f906c2cd@mail.gmail.com>
	<5a1dad880902151433y1891b947oe739b385942b0149@mail.gmail.com>
	<4306661140425898553@unknownmsgid>
Message-ID: <5a1dad880902151744i58ff8764we682ddd502bb2698@mail.gmail.com>

Sure thing Mike, I've got it pretty much working but I just need to change
where the sign-in form redirects to, so things run completely smoothly.
I have a really stripped down sign-in form like this:

<form name="loginform" id="loginform" action="<?php bloginfo('wpurl');
?>/wp-login.php" method="post">
<input type="text" name="log" id="user_login" class="input" value="<?php
echo attribute_escape(stripslashes($user_login)); ?>" />
<input type="password" name="pwd" id="user_pass" class="input" value=""
size="20" />
<input type="submit" name="wp-submit" id="wp-submit" value="Log In" />
<input type="hidden" name="redirect_to" value="http://staff.example.com" />
</form>

But when it's used in the subdomain, it logs me in but redirects me to the
admin panel - completely ignoring the redirect_to!
Also, with log-out links I'm adding "&redirect_to=http://staff.example.com"
to the URL but it's not working either.

Am I missing something?

-- Alex


On Mon, Feb 16, 2009 at 1:28 AM, <mikeschinkel@newclarity.net> wrote:

> Alex,
>
> When you get it all working any chance you could document how you did it on
> a blog or somewhere? I think it would be a very valuable technique in
> general and could help a lot of people.
>
> -Mike
>
> Sent from my iPhone
>
> On Feb 15, 2009, at 5:34 PM, Alex Hempton-Smith <hempsworth@googlemail.com>
> wrote:
>
>  By the way, I changed the cookie attributes in the
>> Firefox developer toolbar, and the authentication is now working.
>> I just need to stop WP saving the cookies with the original settings.
>>
>> -- Alex
>>
>>
>> On Sun, Feb 15, 2009 at 10:24 PM, Alex Hempton-Smith <
>> hempsworth@googlemail.com> wrote:
>>
>>  Brilliant, so I changed the cookie path from "/wp/wp-admin" to "/", and
>>> changed the host from "www.example.com" to ".example.com".
>>> How would I force WP to save the cookies like this?
>>>
>>> -- Alex
>>>
>>>
>>>
>>> On Sun, Feb 15, 2009 at 9:34 PM, Gaarai <gaarai@gaarai.com> wrote:
>>>
>>>  The cookie is most likely being set just for the domain that your
>>>> WordPress resides on. The subdomain is treated as a different domain.
>>>>
>>>> So, you might look at modifying the cookie to be set for a domain of ".
>>>> domain.com". Note the dot (.) in front of the domain name. This should
>>>> ensure that the cookie will work for all subdomains.
>>>>
>>>>
>>>> Chris Jean
>>>> http://gaarai.com/
>>>> http://wp-roadmap.com/
>>>>
>>>>
>>>>
>>>> Alex Hempton-Smith wrote:
>>>>
>>>>  Thanks Mike, I've defined ABSPATH and when I visit the page I get sent
>>>>> to
>>>>> the WP login page. I log in, it redirects me to the Dashboard. When I
>>>>> go
>>>>> back to the subdomain it just shows me the login page again.
>>>>> Why's it doing this you think?
>>>>>
>>>>> -- Alex
>>>>>
>>>>>
>>>>> On Sun, Feb 15, 2009 at 9:18 PM, <mikeschinkel@newclarity.net> wrote:
>>>>>
>>>>>
>>>>>
>>>>>  admin.php includes wp-load.php and assumes it's relative directory.
>>>>>> Either
>>>>>> define ABSPATH to your WordPress root or explicitly require()
>>>>>> wp-load.php
>>>>>> using the correct directory before requiring admin.php and that should
>>>>>> solve
>>>>>> it.
>>>>>>
>>>>>> -Mike
>>>>>>
>>>>>> Sent from my iPhone
>>>>>>
>>>>>>
>>>>>> On Feb 15, 2009, at 2:11 PM, Alex Hempton-Smith <
>>>>>> hempsworth@googlemail.com>
>>>>>> wrote:
>>>>>>
>>>>>> I'm having real trouble with this... I get errors when I try to
>>>>>> include
>>>>>>
>>>>>>
>>>>>>  the
>>>>>>> following code:
>>>>>>> require_once('../wp/wp-admin/admin.php');
>>>>>>>
>>>>>>> Saying:
>>>>>>> Warning: require_once(../wp-load.php) [function.require-once]: failed
>>>>>>> to open stream: No such file or directory in...
>>>>>>>
>>>>>>> Does anybody have any experience of using WP in this way?
>>>>>>>
>>>>>>> -- Alex
>>>>>>>
>>>>>>>
>>>>>>> On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com> wrote:
>>>>>>>
>>>>>>> I'm about to head out, but I wanted to give you a tip to get you
>>>>>>> started.
>>>>>>>
>>>>>>>
>>>>>>>  I recommend checking out the wp-admin/index.php file. This should
>>>>>>>> serve
>>>>>>>> as
>>>>>>>> a template for your custom app.
>>>>>>>>
>>>>>>>> You'll also need to look at the $_REQUEST['redirect_to'] query arg
>>>>>>>> so
>>>>>>>> that
>>>>>>>> you can properly redirect your user once they've logged in. You can
>>>>>>>> find
>>>>>>>> more about it by looking in the wp-login.php file.
>>>>>>>>
>>>>>>>> Chris Jean
>>>>>>>> http://gaarai.com/
>>>>>>>> http://wp-roadmap.com/
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> Alex Hempton-Smith wrote:
>>>>>>>>
>>>>>>>> Hi all,
>>>>>>>>
>>>>>>>>
>>>>>>>>  I'm building a set of custom apps/scripts for our charity and I
>>>>>>>>> would
>>>>>>>>> like
>>>>>>>>> to make these available at "staff.example.com". I have a regular
>>>>>>>>> install
>>>>>>>>> of
>>>>>>>>> WP in "example.com/wp/". The staff subdomain's content is actually
>>>>>>>>> in
>>>>>>>>> /home/
>>>>>>>>> example.com/staff/.
>>>>>>>>>
>>>>>>>>> Instead of re-invent the wheel I (and to have the same
>>>>>>>>> usernames/passwords),
>>>>>>>>> I would like to use the authentication system from the WP install
>>>>>>>>> on
>>>>>>>>> my
>>>>>>>>> own
>>>>>>>>> custom PHP stuff in the subdomain. And then be able to use normal
>>>>>>>>> WP
>>>>>>>>> functions within my own app, like checking if they're logged in,
>>>>>>>>> getting
>>>>>>>>> usernames etc.
>>>>>>>>>
>>>>>>>>> What do I need to do to allow my users to log into the main
>>>>>>>>> install,
>>>>>>>>> and
>>>>>>>>> then be logged into the custom area?
>>>>>>>>>
>>>>>>>>> I know it'll be more than just including 'wp-blog-header.php',
>>>>>>>>> because
>>>>>>>>> of
>>>>>>>>> cookies etc?
>>>>>>>>>
>>>>>>>>> Many thanks if anyone can help!
>>>>>>>>>
>>>>>>>>> -- Alex
>>>>>>>>> _______________________________________________
>>>>>>>>> wp-hackers mailing list
>>>>>>>>> wp-hackers@lists.automattic.com
>>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>  wp-hackers mailing list
>>>>>>>> wp-hackers@lists.automattic.com
>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>>
>>>>>>>>
>>>>>>>>  wp-hackers mailing list
>>>>>>> wp-hackers@lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>  _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers@lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>
>>>>>>
>>>>>>  _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>>>
>>>>>  _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>
>>>  _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From james at om4.com.au  Mon Feb 16 05:11:44 2009
From: james at om4.com.au (James Collins)
Date: Mon Feb 16 05:11:58 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <5a1dad880902151744i58ff8764we682ddd502bb2698@mail.gmail.com>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
	<4998559D.50700@gaarai.com>
	<5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>
	<-6765708292069001638@unknownmsgid>
	<5a1dad880902151332i4895ff7qeecd0020ed2580f9@mail.gmail.com>
	<49988A82.1040605@gaarai.com>
	<5a1dad880902151424j261cd355i9b4f1900f906c2cd@mail.gmail.com>
	<5a1dad880902151433y1891b947oe739b385942b0149@mail.gmail.com>
	<4306661140425898553@unknownmsgid>
	<5a1dad880902151744i58ff8764we682ddd502bb2698@mail.gmail.com>
Message-ID: <bcf8d3150902152111s1ca27e22q2a0afa7261462608@mail.gmail.com>

Hi Alex,
It looks like the wp_safe_redirect() function is called on the redirect_to
parameter before redirecting. This helps ensure that the redirect URL is a
safe one.

I'm guessing you'll have to hook into the allowed_redirect_hosts filter (see
the wp_safe_redirect() function in wp-includes/pluggable.php in order to
allow the user to be redirected to your staff.example.com subdomain.

Regards,

James Collins




2009/2/16 Alex Hempton-Smith <hempsworth@googlemail.com>

> Sure thing Mike, I've got it pretty much working but I just need to change
> where the sign-in form redirects to, so things run completely smoothly.
> I have a really stripped down sign-in form like this:
>
> <form name="loginform" id="loginform" action="<?php bloginfo('wpurl');
> ?>/wp-login.php" method="post">
> <input type="text" name="log" id="user_login" class="input" value="<?php
> echo attribute_escape(stripslashes($user_login)); ?>" />
> <input type="password" name="pwd" id="user_pass" class="input" value=""
> size="20" />
> <input type="submit" name="wp-submit" id="wp-submit" value="Log In" />
> <input type="hidden" name="redirect_to" value="http://staff.example.com"
> />
> </form>
>
> But when it's used in the subdomain, it logs me in but redirects me to the
> admin panel - completely ignoring the redirect_to!
> Also, with log-out links I'm adding "&redirect_to=http://staff.example.com
> "
> to the URL but it's not working either.
>
> Am I missing something?
>
> -- Alex
>
>
> On Mon, Feb 16, 2009 at 1:28 AM, <mikeschinkel@newclarity.net> wrote:
>
> > Alex,
> >
> > When you get it all working any chance you could document how you did it
> on
> > a blog or somewhere? I think it would be a very valuable technique in
> > general and could help a lot of people.
> >
> > -Mike
> >
> > Sent from my iPhone
> >
> > On Feb 15, 2009, at 5:34 PM, Alex Hempton-Smith <
> hempsworth@googlemail.com>
> > wrote:
> >
> >  By the way, I changed the cookie attributes in the
> >> Firefox developer toolbar, and the authentication is now working.
> >> I just need to stop WP saving the cookies with the original settings.
> >>
> >> -- Alex
> >>
> >>
> >> On Sun, Feb 15, 2009 at 10:24 PM, Alex Hempton-Smith <
> >> hempsworth@googlemail.com> wrote:
> >>
> >>  Brilliant, so I changed the cookie path from "/wp/wp-admin" to "/", and
> >>> changed the host from "www.example.com" to ".example.com".
> >>> How would I force WP to save the cookies like this?
> >>>
> >>> -- Alex
> >>>
> >>>
> >>>
> >>> On Sun, Feb 15, 2009 at 9:34 PM, Gaarai <gaarai@gaarai.com> wrote:
> >>>
> >>>  The cookie is most likely being set just for the domain that your
> >>>> WordPress resides on. The subdomain is treated as a different domain.
> >>>>
> >>>> So, you might look at modifying the cookie to be set for a domain of
> ".
> >>>> domain.com". Note the dot (.) in front of the domain name. This
> should
> >>>> ensure that the cookie will work for all subdomains.
> >>>>
> >>>>
> >>>> Chris Jean
> >>>> http://gaarai.com/
> >>>> http://wp-roadmap.com/
> >>>>
> >>>>
> >>>>
> >>>> Alex Hempton-Smith wrote:
> >>>>
> >>>>  Thanks Mike, I've defined ABSPATH and when I visit the page I get
> sent
> >>>>> to
> >>>>> the WP login page. I log in, it redirects me to the Dashboard. When I
> >>>>> go
> >>>>> back to the subdomain it just shows me the login page again.
> >>>>> Why's it doing this you think?
> >>>>>
> >>>>> -- Alex
> >>>>>
> >>>>>
> >>>>> On Sun, Feb 15, 2009 at 9:18 PM, <mikeschinkel@newclarity.net>
> wrote:
> >>>>>
> >>>>>
> >>>>>
> >>>>>  admin.php includes wp-load.php and assumes it's relative directory.
> >>>>>> Either
> >>>>>> define ABSPATH to your WordPress root or explicitly require()
> >>>>>> wp-load.php
> >>>>>> using the correct directory before requiring admin.php and that
> should
> >>>>>> solve
> >>>>>> it.
> >>>>>>
> >>>>>> -Mike
> >>>>>>
> >>>>>> Sent from my iPhone
> >>>>>>
> >>>>>>
> >>>>>> On Feb 15, 2009, at 2:11 PM, Alex Hempton-Smith <
> >>>>>> hempsworth@googlemail.com>
> >>>>>> wrote:
> >>>>>>
> >>>>>> I'm having real trouble with this... I get errors when I try to
> >>>>>> include
> >>>>>>
> >>>>>>
> >>>>>>  the
> >>>>>>> following code:
> >>>>>>> require_once('../wp/wp-admin/admin.php');
> >>>>>>>
> >>>>>>> Saying:
> >>>>>>> Warning: require_once(../wp-load.php) [function.require-once]:
> failed
> >>>>>>> to open stream: No such file or directory in...
> >>>>>>>
> >>>>>>> Does anybody have any experience of using WP in this way?
> >>>>>>>
> >>>>>>> -- Alex
> >>>>>>>
> >>>>>>>
> >>>>>>> On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com> wrote:
> >>>>>>>
> >>>>>>> I'm about to head out, but I wanted to give you a tip to get you
> >>>>>>> started.
> >>>>>>>
> >>>>>>>
> >>>>>>>  I recommend checking out the wp-admin/index.php file. This should
> >>>>>>>> serve
> >>>>>>>> as
> >>>>>>>> a template for your custom app.
> >>>>>>>>
> >>>>>>>> You'll also need to look at the $_REQUEST['redirect_to'] query arg
> >>>>>>>> so
> >>>>>>>> that
> >>>>>>>> you can properly redirect your user once they've logged in. You
> can
> >>>>>>>> find
> >>>>>>>> more about it by looking in the wp-login.php file.
> >>>>>>>>
> >>>>>>>> Chris Jean
> >>>>>>>> http://gaarai.com/
> >>>>>>>> http://wp-roadmap.com/
> >>>>>>>>
> >>>>>>>>
> >>>>>>>>
> >>>>>>>> Alex Hempton-Smith wrote:
> >>>>>>>>
> >>>>>>>> Hi all,
> >>>>>>>>
> >>>>>>>>
> >>>>>>>>  I'm building a set of custom apps/scripts for our charity and I
> >>>>>>>>> would
> >>>>>>>>> like
> >>>>>>>>> to make these available at "staff.example.com". I have a regular
> >>>>>>>>> install
> >>>>>>>>> of
> >>>>>>>>> WP in "example.com/wp/". The staff subdomain's content is
> actually
> >>>>>>>>> in
> >>>>>>>>> /home/
> >>>>>>>>> example.com/staff/.
> >>>>>>>>>
> >>>>>>>>> Instead of re-invent the wheel I (and to have the same
> >>>>>>>>> usernames/passwords),
> >>>>>>>>> I would like to use the authentication system from the WP install
> >>>>>>>>> on
> >>>>>>>>> my
> >>>>>>>>> own
> >>>>>>>>> custom PHP stuff in the subdomain. And then be able to use normal
> >>>>>>>>> WP
> >>>>>>>>> functions within my own app, like checking if they're logged in,
> >>>>>>>>> getting
> >>>>>>>>> usernames etc.
> >>>>>>>>>
> >>>>>>>>> What do I need to do to allow my users to log into the main
> >>>>>>>>> install,
> >>>>>>>>> and
> >>>>>>>>> then be logged into the custom area?
> >>>>>>>>>
> >>>>>>>>> I know it'll be more than just including 'wp-blog-header.php',
> >>>>>>>>> because
> >>>>>>>>> of
> >>>>>>>>> cookies etc?
> >>>>>>>>>
> >>>>>>>>> Many thanks if anyone can help!
> >>>>>>>>>
> >>>>>>>>> -- Alex
> >>>>>>>>> _______________________________________________
> >>>>>>>>> wp-hackers mailing list
> >>>>>>>>> wp-hackers@lists.automattic.com
> >>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>>>
> >>>>>>>>>
> >>>>>>>>>
> >>>>>>>>> _______________________________________________
> >>>>>>>>>
> >>>>>>>>>
> >>>>>>>>>  wp-hackers mailing list
> >>>>>>>> wp-hackers@lists.automattic.com
> >>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>>
> >>>>>>>> _______________________________________________
> >>>>>>>>
> >>>>>>>>
> >>>>>>>>  wp-hackers mailing list
> >>>>>>> wp-hackers@lists.automattic.com
> >>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>  _______________________________________________
> >>>>>> wp-hackers mailing list
> >>>>>> wp-hackers@lists.automattic.com
> >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>  _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers@lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>
> >>>>>
> >>>>>
> >>>>>  _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers@lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>>
> >>>
> >>>  _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From chris at clwill.com  Mon Feb 16 06:03:45 2009
From: chris at clwill.com (Chris Williams)
Date: Mon Feb 16 06:04:00 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <C5BB635E.42366%chris@clwill.com>
Message-ID: <C5BE41C1.424AF%chris@clwill.com>

So I have a small fix for get_admin_page_title that fixes this issue.  I'm
not connected into the trac/dev/svn system.  Would someone more connected
like to take a peek?


> From: Chris Williams <chris@clwill.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Fri, 13 Feb 2009 17:50:22 -0800
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Page Title for Admin Menu
> 
>> I may play around with core some more to see exactly what it takes to
>> get_admin_page_title to return the page title of the top-level menu
>> item.
> 
> Right, this is the spot, I started walking through it the other day, and
> then I just had to get my plugin out, so I stopped poking through it.  I
> think I have some time, so I'll resume.
> 
> Thanks for your input,
> Chris
> 
>> From: Chris Jean <gaarai@gaarai.com>
>> Reply-To: <wp-hackers@lists.automattic.com>
>> Date: Fri, 13 Feb 2009 17:27:04 -0600
>> To: <wp-hackers@lists.automattic.com>
>> Subject: Re: [wp-hackers] Page Title for Admin Menu
>> 
>> It's true that Comments is like Dashboard. In fact, it is set up exactly
>> the same way. If you look at the code, it doesn't have a page title
>> declared for it either. Just like all the other top-level menu items of
>> core, that entry is just an empty string.
>> 
>> Just like Dashboard, if you look in the wp-admin/comment.php file,
>> you'll find it manually assigning the title to the $title variable.
>> 
>> If you are looking at the wp-admin/menu.php file and see where the array
>> has the first entry defined, that's not the page title; its the menu
>> title. If you look at the add_menu_page code, you see that the page
>> title is put in the fourth array location while the menu title is put in
>> the first array location.
>> 
>> I would agree with you on the idea of this being a bug if there is
>> inconsistent code and things don't work properly. However, things do
>> work properly and each instance of a stand-alone top-level menu item in
>> core is coded the same way. This means that this odd situation is either
>> a) a bad side-effect of trying to stay as backwards-compatible as
>> possible or b) some very sloppy coding that was patched up quickly and
>> never cleaned up.
>> 
>> Since I don't have access to all the code revisions between 1.2.2 and
>> 1.5, I can only make assumptions. However, the fact that the parameter
>> exists, the manual entries into the $menu array all have a blank string
>> in that array position, and the existence of the $title variable all
>> suggest that this is due to supporting legacy code.
>> 
>> I may play around with core some more to see exactly what it takes to
>> get_admin_page_title to return the page title of the top-level menu
>> item. Maybe I can find a solution that is cleaner than the one that I've
>> already provided. Who knows, I may even find a way to clean up core so
>> that the page title of the top-level item is used in the event that it
>> doesn't have any sub-menu items and $title isn't set. Of course, I'll
>> have to do this without breaking anything.
>> 
>> Happy 0123456789 Day everyone.
>> 
>> Chris Jean
>> http://gaarai.com/
>> http://wp-roadmap.com/
>> http://dnsyogi.com/
>> 
>> 
>> 
>> Chris Williams wrote:
>>> Thank you for this comprehensive detective job, an excellent write-up, and a
>>> way around it.
>>> 
>>> However, I'm even more convinced that this is a bug, not a feature.  There
>>> is another top menu item in core that has no submenus, and also has a proper
>>> page title, and that's Comments.  From what I can tell, it gets away with it
>>> because it manually loads the menu[] array, as other core items do.
>>> 
>>> More to the point, however, I think it should be possible to create a
>>> plug-in that has only a top-menu item, and still benefits from a page title.
>>> Your ingenious solution below will be a temporary fix, but I think a real
>>> one is also in order.
>>> 
>>> Thanks again for your detective work, perhaps you missed your calling -- the
>>> CIA could use help finding Bin Laden :)
>>> 
>>> Chris
>>> 
>>> 
>>>   
>>>> From: Chris Jean <gaarai@gaarai.com>
>>>> Reply-To: <wp-hackers@lists.automattic.com>
>>>> Date: Fri, 13 Feb 2009 15:36:43 -0600
>>>> To: <wp-hackers@lists.automattic.com>
>>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
>>>> 
>>>> I don't believe that it's a bug; rather, I think that this is just a
>>>> complex issue. Let me explain.
>>>> 
>>>> I dug through 1.5 - 2.7.1 and found that all of those versions have the
>>>> page title parameter for top-level menu items. I also found that none of
>>>> those versions actually define the page title for any of the menus built
>>>> into core (they just use a blank string: '').
>>>> 
>>>> However, I have found that all of the versions actually do refer to the
>>>> page title in the $menu data structure. You can find references to page
>>>> title by searching for "$menu_array[3]" in the
>>>> wp-admin/includes/plugin.php file (wp-admin/admin-functions.php file in
>>>> versions before 2.3).
>>>> 
>>>> I traced the logic and found that its possible use comes down to the
>>>> code found in the get_admin_page_title and get_admin_page_parent
>>>> functions. Basically, if a parent can't be found (returned from
>>>> get_admin_page_parent), there is the possibility that
>>>> get_admin_page_title will use the top-level menu item's page title.
>>>> However, when I looked through get_admin_page_parent, I can't think of
>>>> any possible scenario where a parent wouldn't be found.
>>>> 
>>>> Looking farther back to version 1.2.2 (the only publicly available
>>>> version I could find pre-1.5), I see that there is a single-level menu
>>>> that doesn't support page titles. This combined with the fact that 1.5
>>>> has two-level menus and more-or-less unused top-level menu page titles,
>>>> I believe that I know why they are there.
>>>> 
>>>> I believe somewhere in 1.3 or 1.4 development, page titles were added to
>>>> the menus. Then sometime before 1.5, second level menus were added which
>>>> had their own page titles. These new page titles superseded the old page
>>>> titles, but the top-level-menu page titles remained for backwards
>>>> compatibility.
>>>> 
>>>> Here's where the story gets weird.
>>>> 
>>>>  From all the code I've looked through, the presence of a page title
>>>> parameter for a top-level menu is nothing more than vestigial. Even in
>>>> the earliest publicly available builds of WP where the parameter exists,
>>>> the core doesn't make any use of the parameter and simply shuffles past
>>>> its existence by filling in the field with empty strings.
>>>> 
>>>> Based on this, I would assume that there aren't any top-level menus that
>>>> are devoid of sub-menu items and that the top-level menu items serve as
>>>> nothing more than simple containers for the sub-menu items. And I would
>>>> be wrong.
>>>> 
>>>> Just look at a new install of WordPress, and you will see a standalone
>>>> top-level menu: Dashboard. In a standard install, Dashboard doesn't have
>>>> any sub-menu items. When I realized this, I looked at the code and found
>>>> that there weren't any entries in $submenu to create the Dashboard
>>>> sub-menu entry that appears if plugins, such as Akismet, adds a sub-menu
>>>> to the Dashboard top-level menu.
>>>> 
>>>> This confused me at first, but I looked at the add_submenu_page code and
>>>> found that it generates the first $submenu entry automatically when a
>>>> sub-menu page is added to a menu entry that doesn't have any sub-menu
>>>> pages.
>>>> 
>>>> Even though the Dashboard menu entry doesn't have any sub-menu entries
>>>> by default, it still does not make use of the page title parameter.
>>>> Instead, it does something hackish (IMHO), it has to manually set the
>>>> $title variable before get_admin_page_title is called. The
>>>> get_admin_page_title will immediately return the value of the $title
>>>> variable if it is not empty.
>>>> 
>>>> After seeing this, I cooked up the following quick plugin:
>>>> 
>>>>     <?php
>>>> 
>>>>     /*
>>>>     Plugin Name: Menu Test
>>>>     */
>>>> 
>>>>     add_action( 'admin_menu', menu_test_add_pages );
>>>> 
>>>>     function menu_test_add_pages() {
>>>>         $page_ref = add_menu_page( '', 'Menu Test', 10, 'menu-test',
>>>>     'menu_test_index' );
>>>>        
>>>>         add_action( 'load-' . $page_ref, 'menu_test_set_title' );
>>>>     }
>>>> 
>>>>     function menu_test_index() {
>>>>         echo "<h3>Menu Test</h3>";
>>>>     }
>>>> 
>>>>     function menu_test_set_title() {
>>>>         global $title;
>>>>         $title = 'Menu Test';
>>>>     }
>>>> 
>>>>     ?>
>>>> 
>>>> All this plugin does is register a menu entry that doesn't have any
>>>> sub-menu entries and give the resulting page a title. This is more or
>>>> less the same way that Dashboard has set the title since 1.5.
>>>> 
>>>> Sorry for the long reply. It was fun digging into this. I hope that my
>>>> reply helps you out.
>>>> 
>>>> Chris Jean
>>>> http://gaarai.com/
>>>> http://wp-roadmap.com/
>>>> http://dnsyogi.com/
>>>> 
>>>> 
>>>> 
>>>> Chris Williams wrote:
>>>>     
>>>>> Exactly, so is that a bug?  Is it impossible/illegal to have a plug-in
>>>>> with
>>>>> only a top level menu?
>>>>> 
>>>>> 
>>>>>   
>>>>>       
>>>>>> From: Gaarai <gaarai@gaarai.com>
>>>>>> Reply-To: <wp-hackers@lists.automattic.com>
>>>>>> Date: Thu, 12 Feb 2009 21:21:02 -0600
>>>>>> To: <wp-hackers@lists.automattic.com>
>>>>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
>>>>>> 
>>>>>> In my experience, it isn't the top-level menu that sets the title;
>>>>>> rather, the first sub-menu under it does.
>>>>>> 
>>>>>> Chris Jean
>>>>>> http://gaarai.com/
>>>>>> http://wp-roadmap.com/
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> Chris Williams wrote:
>>>>>>     
>>>>>>         
>>>>>>> Despite my overabundant use of the word "really" (which I "really"
>>>>>>> regret
>>>>>>> now :) ), does anybody have any input on this issue?
>>>>>>> 
>>>>>>> 
>>>>>>>   
>>>>>>>       
>>>>>>>           
>>>>>>>> From: Chris Williams <chris@clwill.com>
>>>>>>>> Reply-To: <wp-hackers@lists.automattic.com>
>>>>>>>> Date: Wed, 11 Feb 2009 13:27:16 -0800
>>>>>>>> To: <wp-hackers@lists.automattic.com>
>>>>>>>> Subject: [wp-hackers] Page Title for Admin Menu
>>>>>>>> 
>>>>>>>> I am writing a plugin that adds an admin menu page (not submenu).  It
>>>>>>>> does
>>>>>>>> this because it?s really quite a separate thing < a calendar of racing
>>>>>>>> events, nothing to do with the WP functions, it?s really a separate
>>>>>>>> data
>>>>>>>> table and everything.  So, it doesn?t really belong down in ?settings?,
>>>>>>>> or
>>>>>>>> ?tools?.
>>>>>>>> 
>>>>>>>> This is all good, I have it working with add_menu_page and all is fine.
>>>>>>>> It
>>>>>>>> really only needs one page (like the ?Links? or ?Comments? menu items),
>>>>>>>> it?s
>>>>>>>> just an ?edit events? page.  There is one small problem, and that?s
>>>>>>>> that
>>>>>>>> the
>>>>>>>> HTML page title is null.  It says simply ?[blogname] > -- Wordpress?.
>>>>>>>> Nothing I put in the $page_title parameter on add_menu_page works.
>>>>>>>> 
>>>>>>>> If I have a submenu page, it works, but not with just a plain
>>>>>>>> add_menu_page.
>>>>>>>> I believe the issue is in get_admin_page_title in
>>>>>>>> wp-admin/includes/plugin.php, but I haven?t debugged it completely.
>>>>>>>> 
>>>>>>>> My questions are: 1) am I doing something incorrectly that is causing
>>>>>>>> this,
>>>>>>>> 2) is this a known issue and I should just chill, or 3) should I figure
>>>>>>>> it
>>>>>>>> out and propose a patch?
>>>>>>>> 
>>>>>>>> Thanks,
>>>>>>>> Chris
>>>>>>>> _______________________________________________
>>>>>>>> wp-hackers mailing list
>>>>>>>> wp-hackers@lists.automattic.com
>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>     
>>>>>>>>         
>>>>>>>>           
>>>>>>> _______________________________________________
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers@lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>> 
>>>>>>>   
>>>>>>>       
>>>>>>>           
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers@lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>     
>>>>>>         
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>> 
>>>>>   
>>>>>       
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>     
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> 
>>>   
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Mon Feb 16 06:10:03 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb 16 06:10:32 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <349fe48b0902150608h537a4d57sb4b2ead47d42f745@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1F0A4a51b735e1c513d056347f3,
	mikeschinkel@newclarity.net, 17414094.2601234764607775.J>

+1 
It should be possible to disable all filters IMO. 

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "scribu" <scribu@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Sunday, February 15, 2009 9:08:12 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] allow opting out of WordPress SmartQuotes

On Sun, Feb 15, 2009 at 3:57 PM, Thomas Scholz <info@toscho.de> wrote:

> WordPress inserts legal quotes for english text only. In non-english texts
> WordPress' ?smart quotes? are anything but smart. They're just plain wrong.
>
> Additionally WordPress has german, swiss and french ?quotes?  hard coded as
> *arrows*. This is extremly annoying, because it requires anyone who cares
> about typography to buffer and clean up the complete output.
> Using ? and ? as arrows violates aestethic, orthographic and unicode rules.
>
> Typography should never be hard coded in a software that is used in
> different languages. Get it out of the core or add at least an option to
> switch it completely off.
>
> Thomas
>

Now that's a solid argument. +1

-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mdmartz at sivel.net  Mon Feb 16 11:40:36 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Mon Feb 16 11:40:50 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <7950334025158616046@unknownmsgid>
References: <349fe48b0902150608h537a4d57sb4b2ead47d42f745@mail.gmail.com>
	<7950334025158616046@unknownmsgid>
Message-ID: <518fa9630902160340w1911729bs899fb8ba5e6243f7@mail.gmail.com>

On Mon, Feb 16, 2009 at 1:10 AM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> +1
> It should be possible to disable all filters IMO.
>
> -Mike Schinkel
> http://mikeschinkel.com/

-1

That would be one hell of a scary admin page.

-- 
Matt Martz
matt@sivel.net
From scribu at gmail.com  Mon Feb 16 11:41:51 2009
From: scribu at gmail.com (scribu)
Date: Mon Feb 16 11:42:06 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <C5BE41C1.424AF%chris@clwill.com>
References: <C5BB635E.42366%chris@clwill.com> <C5BE41C1.424AF%chris@clwill.com>
Message-ID: <349fe48b0902160341q129c3fe0m9c1f26307927e4ba@mail.gmail.com>

You can post a ticket with a patch on trac
<http://core.trac.wordpress.org>(all you need is a WP.org account,
which anyone can have).

On Mon, Feb 16, 2009 at 8:03 AM, Chris Williams <chris@clwill.com> wrote:

> So I have a small fix for get_admin_page_title that fixes this issue.  I'm
> not connected into the trac/dev/svn system.  Would someone more connected
> like to take a peek?
>
>
> > From: Chris Williams <chris@clwill.com>
> > Reply-To: <wp-hackers@lists.automattic.com>
> > Date: Fri, 13 Feb 2009 17:50:22 -0800
> > To: <wp-hackers@lists.automattic.com>
> > Subject: Re: [wp-hackers] Page Title for Admin Menu
> >
> >> I may play around with core some more to see exactly what it takes to
> >> get_admin_page_title to return the page title of the top-level menu
> >> item.
> >
> > Right, this is the spot, I started walking through it the other day, and
> > then I just had to get my plugin out, so I stopped poking through it.  I
> > think I have some time, so I'll resume.
> >
> > Thanks for your input,
> > Chris
> >
> >> From: Chris Jean <gaarai@gaarai.com>
> >> Reply-To: <wp-hackers@lists.automattic.com>
> >> Date: Fri, 13 Feb 2009 17:27:04 -0600
> >> To: <wp-hackers@lists.automattic.com>
> >> Subject: Re: [wp-hackers] Page Title for Admin Menu
> >>
> >> It's true that Comments is like Dashboard. In fact, it is set up exactly
> >> the same way. If you look at the code, it doesn't have a page title
> >> declared for it either. Just like all the other top-level menu items of
> >> core, that entry is just an empty string.
> >>
> >> Just like Dashboard, if you look in the wp-admin/comment.php file,
> >> you'll find it manually assigning the title to the $title variable.
> >>
> >> If you are looking at the wp-admin/menu.php file and see where the array
> >> has the first entry defined, that's not the page title; its the menu
> >> title. If you look at the add_menu_page code, you see that the page
> >> title is put in the fourth array location while the menu title is put in
> >> the first array location.
> >>
> >> I would agree with you on the idea of this being a bug if there is
> >> inconsistent code and things don't work properly. However, things do
> >> work properly and each instance of a stand-alone top-level menu item in
> >> core is coded the same way. This means that this odd situation is either
> >> a) a bad side-effect of trying to stay as backwards-compatible as
> >> possible or b) some very sloppy coding that was patched up quickly and
> >> never cleaned up.
> >>
> >> Since I don't have access to all the code revisions between 1.2.2 and
> >> 1.5, I can only make assumptions. However, the fact that the parameter
> >> exists, the manual entries into the $menu array all have a blank string
> >> in that array position, and the existence of the $title variable all
> >> suggest that this is due to supporting legacy code.
> >>
> >> I may play around with core some more to see exactly what it takes to
> >> get_admin_page_title to return the page title of the top-level menu
> >> item. Maybe I can find a solution that is cleaner than the one that I've
> >> already provided. Who knows, I may even find a way to clean up core so
> >> that the page title of the top-level item is used in the event that it
> >> doesn't have any sub-menu items and $title isn't set. Of course, I'll
> >> have to do this without breaking anything.
> >>
> >> Happy 0123456789 Day everyone.
> >>
> >> Chris Jean
> >> http://gaarai.com/
> >> http://wp-roadmap.com/
> >> http://dnsyogi.com/
> >>
> >>
> >>
> >> Chris Williams wrote:
> >>> Thank you for this comprehensive detective job, an excellent write-up,
> and a
> >>> way around it.
> >>>
> >>> However, I'm even more convinced that this is a bug, not a feature.
>  There
> >>> is another top menu item in core that has no submenus, and also has a
> proper
> >>> page title, and that's Comments.  From what I can tell, it gets away
> with it
> >>> because it manually loads the menu[] array, as other core items do.
> >>>
> >>> More to the point, however, I think it should be possible to create a
> >>> plug-in that has only a top-menu item, and still benefits from a page
> title.
> >>> Your ingenious solution below will be a temporary fix, but I think a
> real
> >>> one is also in order.
> >>>
> >>> Thanks again for your detective work, perhaps you missed your calling
> -- the
> >>> CIA could use help finding Bin Laden :)
> >>>
> >>> Chris
> >>>
> >>>
> >>>
> >>>> From: Chris Jean <gaarai@gaarai.com>
> >>>> Reply-To: <wp-hackers@lists.automattic.com>
> >>>> Date: Fri, 13 Feb 2009 15:36:43 -0600
> >>>> To: <wp-hackers@lists.automattic.com>
> >>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
> >>>>
> >>>> I don't believe that it's a bug; rather, I think that this is just a
> >>>> complex issue. Let me explain.
> >>>>
> >>>> I dug through 1.5 - 2.7.1 and found that all of those versions have
> the
> >>>> page title parameter for top-level menu items. I also found that none
> of
> >>>> those versions actually define the page title for any of the menus
> built
> >>>> into core (they just use a blank string: '').
> >>>>
> >>>> However, I have found that all of the versions actually do refer to
> the
> >>>> page title in the $menu data structure. You can find references to
> page
> >>>> title by searching for "$menu_array[3]" in the
> >>>> wp-admin/includes/plugin.php file (wp-admin/admin-functions.php file
> in
> >>>> versions before 2.3).
> >>>>
> >>>> I traced the logic and found that its possible use comes down to the
> >>>> code found in the get_admin_page_title and get_admin_page_parent
> >>>> functions. Basically, if a parent can't be found (returned from
> >>>> get_admin_page_parent), there is the possibility that
> >>>> get_admin_page_title will use the top-level menu item's page title.
> >>>> However, when I looked through get_admin_page_parent, I can't think of
> >>>> any possible scenario where a parent wouldn't be found.
> >>>>
> >>>> Looking farther back to version 1.2.2 (the only publicly available
> >>>> version I could find pre-1.5), I see that there is a single-level menu
> >>>> that doesn't support page titles. This combined with the fact that 1.5
> >>>> has two-level menus and more-or-less unused top-level menu page
> titles,
> >>>> I believe that I know why they are there.
> >>>>
> >>>> I believe somewhere in 1.3 or 1.4 development, page titles were added
> to
> >>>> the menus. Then sometime before 1.5, second level menus were added
> which
> >>>> had their own page titles. These new page titles superseded the old
> page
> >>>> titles, but the top-level-menu page titles remained for backwards
> >>>> compatibility.
> >>>>
> >>>> Here's where the story gets weird.
> >>>>
> >>>>  From all the code I've looked through, the presence of a page title
> >>>> parameter for a top-level menu is nothing more than vestigial. Even in
> >>>> the earliest publicly available builds of WP where the parameter
> exists,
> >>>> the core doesn't make any use of the parameter and simply shuffles
> past
> >>>> its existence by filling in the field with empty strings.
> >>>>
> >>>> Based on this, I would assume that there aren't any top-level menus
> that
> >>>> are devoid of sub-menu items and that the top-level menu items serve
> as
> >>>> nothing more than simple containers for the sub-menu items. And I
> would
> >>>> be wrong.
> >>>>
> >>>> Just look at a new install of WordPress, and you will see a standalone
> >>>> top-level menu: Dashboard. In a standard install, Dashboard doesn't
> have
> >>>> any sub-menu items. When I realized this, I looked at the code and
> found
> >>>> that there weren't any entries in $submenu to create the Dashboard
> >>>> sub-menu entry that appears if plugins, such as Akismet, adds a
> sub-menu
> >>>> to the Dashboard top-level menu.
> >>>>
> >>>> This confused me at first, but I looked at the add_submenu_page code
> and
> >>>> found that it generates the first $submenu entry automatically when a
> >>>> sub-menu page is added to a menu entry that doesn't have any sub-menu
> >>>> pages.
> >>>>
> >>>> Even though the Dashboard menu entry doesn't have any sub-menu entries
> >>>> by default, it still does not make use of the page title parameter.
> >>>> Instead, it does something hackish (IMHO), it has to manually set the
> >>>> $title variable before get_admin_page_title is called. The
> >>>> get_admin_page_title will immediately return the value of the $title
> >>>> variable if it is not empty.
> >>>>
> >>>> After seeing this, I cooked up the following quick plugin:
> >>>>
> >>>>     <?php
> >>>>
> >>>>     /*
> >>>>     Plugin Name: Menu Test
> >>>>     */
> >>>>
> >>>>     add_action( 'admin_menu', menu_test_add_pages );
> >>>>
> >>>>     function menu_test_add_pages() {
> >>>>         $page_ref = add_menu_page( '', 'Menu Test', 10, 'menu-test',
> >>>>     'menu_test_index' );
> >>>>
> >>>>         add_action( 'load-' . $page_ref, 'menu_test_set_title' );
> >>>>     }
> >>>>
> >>>>     function menu_test_index() {
> >>>>         echo "<h3>Menu Test</h3>";
> >>>>     }
> >>>>
> >>>>     function menu_test_set_title() {
> >>>>         global $title;
> >>>>         $title = 'Menu Test';
> >>>>     }
> >>>>
> >>>>     ?>
> >>>>
> >>>> All this plugin does is register a menu entry that doesn't have any
> >>>> sub-menu entries and give the resulting page a title. This is more or
> >>>> less the same way that Dashboard has set the title since 1.5.
> >>>>
> >>>> Sorry for the long reply. It was fun digging into this. I hope that my
> >>>> reply helps you out.
> >>>>
> >>>> Chris Jean
> >>>> http://gaarai.com/
> >>>> http://wp-roadmap.com/
> >>>> http://dnsyogi.com/
> >>>>
> >>>>
> >>>>
> >>>> Chris Williams wrote:
> >>>>
> >>>>> Exactly, so is that a bug?  Is it impossible/illegal to have a
> plug-in
> >>>>> with
> >>>>> only a top level menu?
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>> From: Gaarai <gaarai@gaarai.com>
> >>>>>> Reply-To: <wp-hackers@lists.automattic.com>
> >>>>>> Date: Thu, 12 Feb 2009 21:21:02 -0600
> >>>>>> To: <wp-hackers@lists.automattic.com>
> >>>>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
> >>>>>>
> >>>>>> In my experience, it isn't the top-level menu that sets the title;
> >>>>>> rather, the first sub-menu under it does.
> >>>>>>
> >>>>>> Chris Jean
> >>>>>> http://gaarai.com/
> >>>>>> http://wp-roadmap.com/
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>> Chris Williams wrote:
> >>>>>>
> >>>>>>
> >>>>>>> Despite my overabundant use of the word "really" (which I "really"
> >>>>>>> regret
> >>>>>>> now :) ), does anybody have any input on this issue?
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>> From: Chris Williams <chris@clwill.com>
> >>>>>>>> Reply-To: <wp-hackers@lists.automattic.com>
> >>>>>>>> Date: Wed, 11 Feb 2009 13:27:16 -0800
> >>>>>>>> To: <wp-hackers@lists.automattic.com>
> >>>>>>>> Subject: [wp-hackers] Page Title for Admin Menu
> >>>>>>>>
> >>>>>>>> I am writing a plugin that adds an admin menu page (not submenu).
>  It
> >>>>>>>> does
> >>>>>>>> this because it?s really quite a separate thing < a calendar of
> racing
> >>>>>>>> events, nothing to do with the WP functions, it?s really a
> separate
> >>>>>>>> data
> >>>>>>>> table and everything.  So, it doesn?t really belong down in
> ?settings?,
> >>>>>>>> or
> >>>>>>>> ?tools?.
> >>>>>>>>
> >>>>>>>> This is all good, I have it working with add_menu_page and all is
> fine.
> >>>>>>>> It
> >>>>>>>> really only needs one page (like the ?Links? or ?Comments? menu
> items),
> >>>>>>>> it?s
> >>>>>>>> just an ?edit events? page.  There is one small problem, and
> that?s
> >>>>>>>> that
> >>>>>>>> the
> >>>>>>>> HTML page title is null.  It says simply ?[blogname] > --
> Wordpress?.
> >>>>>>>> Nothing I put in the $page_title parameter on add_menu_page works.
> >>>>>>>>
> >>>>>>>> If I have a submenu page, it works, but not with just a plain
> >>>>>>>> add_menu_page.
> >>>>>>>> I believe the issue is in get_admin_page_title in
> >>>>>>>> wp-admin/includes/plugin.php, but I haven?t debugged it
> completely.
> >>>>>>>>
> >>>>>>>> My questions are: 1) am I doing something incorrectly that is
> causing
> >>>>>>>> this,
> >>>>>>>> 2) is this a known issue and I should just chill, or 3) should I
> figure
> >>>>>>>> it
> >>>>>>>> out and propose a patch?
> >>>>>>>>
> >>>>>>>> Thanks,
> >>>>>>>> Chris
> >>>>>>>> _______________________________________________
> >>>>>>>> wp-hackers mailing list
> >>>>>>>> wp-hackers@lists.automattic.com
> >>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>>
> >>>>>>>>
> >>>>>>>>
> >>>>>>> _______________________________________________
> >>>>>>> wp-hackers mailing list
> >>>>>>> wp-hackers@lists.automattic.com
> >>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>> _______________________________________________
> >>>>>> wp-hackers mailing list
> >>>>>> wp-hackers@lists.automattic.com
> >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>
> >>>>>>
> >>>>> _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers@lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>
> >>>>>
> >>>>>
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers@lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers@lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From gamito at gmail.com  Mon Feb 16 12:39:31 2009
From: gamito at gmail.com (=?ISO-8859-1?Q?M=E1rio_Gamito?=)
Date: Mon Feb 16 12:40:13 2009
Subject: [wp-hackers] Plugin Ajax Edit Comments not working for anonymous
Message-ID: <49995E83.2000403@gmail.com>

Hi,

You know the "Ajax  Edit Comments" plugin ?
The one that allow people to edit their comments after a certain period
of time ?

This one:
http://www.raproject.com/ajax-edit-comments-20/

It works in my blogue, but only for me and if I'm logged in at the
backend as administrator.

For the anonymous users, it don't. It just simple don't show up.

I think that it might be because I have moderation on the comments.
That's my best guess, since the plugin's site don't say much about it
(not to tell anything at all).
Also, in blogs that require registration for comments or don't have
moderation, it works well for anonymous users.

Does anyone around here has some info on how to work this around ?
Or is it jus not doable ?

PS. I have "Allow Anyone to Edit Their Own Comments?" option set to
"Yes", of course.

Any help would be appreciated.

Warm regards,
-- 
:wq! M?rio Gamito
Key Fingerprint: 0x5CEFF763
From viper at viper007bond.com  Mon Feb 16 14:13:12 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Mon Feb 16 14:13:24 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <518fa9630902160340w1911729bs899fb8ba5e6243f7@mail.gmail.com>
References: <349fe48b0902150608h537a4d57sb4b2ead47d42f745@mail.gmail.com>
	<7950334025158616046@unknownmsgid>
	<518fa9630902160340w1911729bs899fb8ba5e6243f7@mail.gmail.com>
Message-ID: <8f93a7390902160613iaea3f02r4c46a46ddfdd93bb@mail.gmail.com>

-1 as well. Plugins exist for a reason. WordPress looks to cater to the
majority IMO, not the minority. It of course allows the minority to do as
they please via the API, but more options is NOT a good thing.

On Mon, Feb 16, 2009 at 3:40 AM, Matt Martz <mdmartz@sivel.net> wrote:

> On Mon, Feb 16, 2009 at 1:10 AM, Mike Schinkel
> <mikeschinkel@newclarity.net> wrote:
> > +1
> > It should be possible to disable all filters IMO.
> >
> > -Mike Schinkel
> > http://mikeschinkel.com/
>
> -1
>
> That would be one hell of a scary admin page.
>
> --
> Matt Martz
> matt@sivel.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From viper at viper007bond.com  Mon Feb 16 14:14:33 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Mon Feb 16 14:14:46 2009
Subject: [wp-hackers] Plugin Ajax Edit Comments not working for anonymous
In-Reply-To: <49995E83.2000403@gmail.com>
References: <49995E83.2000403@gmail.com>
Message-ID: <8f93a7390902160614v7495d003w9046e7229d34d638@mail.gmail.com>

This mailing list is not a support mailing list, especially for a plugin.

I'd advise you contact the author of the plugin and/or post a thread at
http://wordpress.org/support/

Thanks.

On Mon, Feb 16, 2009 at 4:39 AM, M?rio Gamito <gamito@gmail.com> wrote:

> Hi,
>
> You know the "Ajax  Edit Comments" plugin ?
> The one that allow people to edit their comments after a certain period
> of time ?
>
> This one:
> http://www.raproject.com/ajax-edit-comments-20/
>
> It works in my blogue, but only for me and if I'm logged in at the
> backend as administrator.
>
> For the anonymous users, it don't. It just simple don't show up.
>
> I think that it might be because I have moderation on the comments.
> That's my best guess, since the plugin's site don't say much about it
> (not to tell anything at all).
> Also, in blogs that require registration for comments or don't have
> moderation, it works well for anonymous users.
>
> Does anyone around here has some info on how to work this around ?
> Or is it jus not doable ?
>
> PS. I have "Allow Anyone to Edit Their Own Comments?" option set to
> "Yes", of course.
>
> Any help would be appreciated.
>
> Warm regards,
> --
> :wq! M?rio Gamito
> Key Fingerprint: 0x5CEFF763
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From ionfish at gmail.com  Mon Feb 16 14:49:25 2009
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Mon Feb 16 14:49:33 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <8f93a7390902160613iaea3f02r4c46a46ddfdd93bb@mail.gmail.com>
References: <349fe48b0902150608h537a4d57sb4b2ead47d42f745@mail.gmail.com>
	<7950334025158616046@unknownmsgid>
	<518fa9630902160340w1911729bs899fb8ba5e6243f7@mail.gmail.com>
	<8f93a7390902160613iaea3f02r4c46a46ddfdd93bb@mail.gmail.com>
Message-ID: <fd3b80510902160649r7651180q26906ead377f6a2c@mail.gmail.com>

-1

Use a plugin. This is just bikeshedding.
From wp-hackers at striderweb.com  Mon Feb 16 15:16:21 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon Feb 16 15:16:53 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <fd3b80510902160649r7651180q26906ead377f6a2c@mail.gmail.com>
References: <349fe48b0902150608h537a4d57sb4b2ead47d42f745@mail.gmail.com>
	<7950334025158616046@unknownmsgid>
	<518fa9630902160340w1911729bs899fb8ba5e6243f7@mail.gmail.com>
	<8f93a7390902160613iaea3f02r4c46a46ddfdd93bb@mail.gmail.com>
	<fd3b80510902160649r7651180q26906ead377f6a2c@mail.gmail.com>
Message-ID: <C2EE082E-D797-4644-AAB4-9A5AFD95AEDB@striderweb.com>

First off, there seem to be two slightly different discussions going  
on, so I'm going to be specific.

Discussion 1: Someone wants an option to turn off automatic smart  
quotes.

Discussion 2: Hard coding things such as the type of quotes used, and  
using foreign language quotes as faux-arrows, is a disservice to non- 
English speaking users.

On Feb 16, 2009, at 8:49 AM, Benedict Eastaugh wrote:

> -1
>
> Use a plugin. This is just bikeshedding.

For discussion 1, I agree that this is a non-starter.  A plugin can  
easily do what is requested, and it is not a common need.

For discussion 2, I think this is *far* from a "bikeshed" discussion.   
This is basically a l18n issue of sorts: not a case of translating the  
interface, but a poor assumption by the software that the user is an  
English speaker.

I don't speak anything other than English (and a smattering of French)  
but I think that this type of thing should be considered.

On Feb 15, 2009, at 7:57 AM, Thomas Scholz wrote:

> WordPress inserts legal quotes for english text only. In non-english  
> texts WordPress? ?smart quotes? are anything but smart. They?re just  
> plain wrong.
>
> Additionally WordPress has german, swiss and french ?quotes?  hard  
> coded as *arrows*.[...]
> Using ? and ? as arrows violates aestethic, orthographic and unicode  
> rules.
>
> Typography should never be hard coded in a software that is used in  
> different languages. Get it out of the core or add at least an  
> option to switch it completely off.

Stephen

-- 
Stephen Rider
http://striderweb.com/




From mikeschinkel at newclarity.net  Mon Feb 16 16:37:40 2009
From: mikeschinkel at newclarity.net (mikeschinkel@newclarity.net)
Date: Mon Feb 16 16:38:24 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <8f93a7390902160613iaea3f02r4c46a46ddfdd93bb@mail.gmail.com>
References: <349fe48b0902150608h537a4d57sb4b2ead47d42f745@mail.gmail.com>
	<7950334025158616046@unknownmsgid>
	<518fa9630902160340w1911729bs899fb8ba5e6243f7@mail.gmail.com>
	<8f93a7390902160613iaea3f02r4c46a46ddfdd93bb@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1FAbe44b847b3226b247ce406a9,
	mikeschinkel@newclarity.net, 696BD3C4-92E8-4B46-9816>

I misunderstood the discussion. What I read was that it was not  
reasonably possible to do this with the API. My comment focused on it  
being possible and reasonably easy to do with the API. If it is  
possible and easy with the API then I have no strong opinion on the  
topic.

-Mike

Sent from my iPhone

On Feb 16, 2009, at 9:14 AM, Viper007Bond <viper@viper007bond.com>  
wrote:

> -1 as well. Plugins exist for a reason. WordPress looks to cater to  
> the
> majority IMO, not the minority. It of course allows the minority to  
> do as
> they please via the API, but more options is NOT a good thing.
>
> On Mon, Feb 16, 2009 at 3:40 AM, Matt Martz <mdmartz@sivel.net> wrote:
>
>> On Mon, Feb 16, 2009 at 1:10 AM, Mike Schinkel
>> <mikeschinkel@newclarity.net> wrote:
>>> +1
>>> It should be possible to disable all filters IMO.
>>>
>>> -Mike Schinkel
>>> http://mikeschinkel.com/
>>
>> -1
>>
>> That would be one hell of a scary admin page.
>>
>> --
>> Matt Martz
>> matt@sivel.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> -- 
> Viper007Bond | http://www.viper007bond.com/ | http:// 
> www.finalgear.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From chris at clwill.com  Mon Feb 16 18:48:45 2009
From: chris at clwill.com (Chris Williams)
Date: Mon Feb 16 18:49:44 2009
Subject: [wp-hackers] Page Title for Admin Menu
In-Reply-To: <349fe48b0902160341q129c3fe0m9c1f26307927e4ba@mail.gmail.com>
Message-ID: <C5BEF50D.2A583%chris@clwill.com>

OK, then. :)

https://core.trac.wordpress.org/ticket/9146

Bug report and fix diff.

Thanks,
Chris



From: scribu <scribu@gmail.com>
Reply-To: <wp-hackers@lists.automattic.com>
Date: Mon, 16 Feb 2009 06:41:51 -0500
To: <wp-hackers@lists.automattic.com>
Subject: Re: [wp-hackers] Page Title for Admin Menu

You can post a ticket with a patch on trac
<http://core.trac.wordpress.org>(all you need is a WP.org account,
which anyone can have).

On Mon, Feb 16, 2009 at 8:03 AM, Chris Williams <chris@clwill.com> wrote:

> So I have a small fix for get_admin_page_title that fixes this issue.  I'm
> not connected into the trac/dev/svn system.  Would someone more connected
> like to take a peek?
>
>
> > From: Chris Williams <chris@clwill.com>
> > Reply-To: <wp-hackers@lists.automattic.com>
> > Date: Fri, 13 Feb 2009 17:50:22 -0800
> > To: <wp-hackers@lists.automattic.com>
> > Subject: Re: [wp-hackers] Page Title for Admin Menu
> >
> >> I may play around with core some more to see exactly what it takes to
> >> get_admin_page_title to return the page title of the top-level menu
> >> item.
> >
> > Right, this is the spot, I started walking through it the other day, and
> > then I just had to get my plugin out, so I stopped poking through it.  I
> > think I have some time, so I'll resume.
> >
> > Thanks for your input,
> > Chris
> >
> >> From: Chris Jean <gaarai@gaarai.com>
> >> Reply-To: <wp-hackers@lists.automattic.com>
> >> Date: Fri, 13 Feb 2009 17:27:04 -0600
> >> To: <wp-hackers@lists.automattic.com>
> >> Subject: Re: [wp-hackers] Page Title for Admin Menu
> >>
> >> It's true that Comments is like Dashboard. In fact, it is set up exactly
> >> the same way. If you look at the code, it doesn't have a page title
> >> declared for it either. Just like all the other top-level menu items of
> >> core, that entry is just an empty string.
> >>
> >> Just like Dashboard, if you look in the wp-admin/comment.php file,
> >> you'll find it manually assigning the title to the $title variable.
> >>
> >> If you are looking at the wp-admin/menu.php file and see where the array
> >> has the first entry defined, that's not the page title; its the menu
> >> title. If you look at the add_menu_page code, you see that the page
> >> title is put in the fourth array location while the menu title is put in
> >> the first array location.
> >>
> >> I would agree with you on the idea of this being a bug if there is
> >> inconsistent code and things don't work properly. However, things do
> >> work properly and each instance of a stand-alone top-level menu item in
> >> core is coded the same way. This means that this odd situation is either
> >> a) a bad side-effect of trying to stay as backwards-compatible as
> >> possible or b) some very sloppy coding that was patched up quickly and
> >> never cleaned up.
> >>
> >> Since I don't have access to all the code revisions between 1.2.2 and
> >> 1.5, I can only make assumptions. However, the fact that the parameter
> >> exists, the manual entries into the $menu array all have a blank string
> >> in that array position, and the existence of the $title variable all
> >> suggest that this is due to supporting legacy code.
> >>
> >> I may play around with core some more to see exactly what it takes to
> >> get_admin_page_title to return the page title of the top-level menu
> >> item. Maybe I can find a solution that is cleaner than the one that I've
> >> already provided. Who knows, I may even find a way to clean up core so
> >> that the page title of the top-level item is used in the event that it
> >> doesn't have any sub-menu items and $title isn't set. Of course, I'll
> >> have to do this without breaking anything.
> >>
> >> Happy 0123456789 Day everyone.
> >>
> >> Chris Jean
> >> http://gaarai.com/
> >> http://wp-roadmap.com/
> >> http://dnsyogi.com/
> >>
> >>
> >>
> >> Chris Williams wrote:
> >>> Thank you for this comprehensive detective job, an excellent write-up,
> and a
> >>> way around it.
> >>>
> >>> However, I'm even more convinced that this is a bug, not a feature.
>  There
> >>> is another top menu item in core that has no submenus, and also has a
> proper
> >>> page title, and that's Comments.  From what I can tell, it gets away
> with it
> >>> because it manually loads the menu[] array, as other core items do.
> >>>
> >>> More to the point, however, I think it should be possible to create a
> >>> plug-in that has only a top-menu item, and still benefits from a page
> title.
> >>> Your ingenious solution below will be a temporary fix, but I think a
> real
> >>> one is also in order.
> >>>
> >>> Thanks again for your detective work, perhaps you missed your calling
> -- the
> >>> CIA could use help finding Bin Laden :)
> >>>
> >>> Chris
> >>>
> >>>
> >>>
> >>>> From: Chris Jean <gaarai@gaarai.com>
> >>>> Reply-To: <wp-hackers@lists.automattic.com>
> >>>> Date: Fri, 13 Feb 2009 15:36:43 -0600
> >>>> To: <wp-hackers@lists.automattic.com>
> >>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
> >>>>
> >>>> I don't believe that it's a bug; rather, I think that this is just a
> >>>> complex issue. Let me explain.
> >>>>
> >>>> I dug through 1.5 - 2.7.1 and found that all of those versions have
> the
> >>>> page title parameter for top-level menu items. I also found that none
> of
> >>>> those versions actually define the page title for any of the menus
> built
> >>>> into core (they just use a blank string: '').
> >>>>
> >>>> However, I have found that all of the versions actually do refer to
> the
> >>>> page title in the $menu data structure. You can find references to
> page
> >>>> title by searching for "$menu_array[3]" in the
> >>>> wp-admin/includes/plugin.php file (wp-admin/admin-functions.php file
> in
> >>>> versions before 2.3).
> >>>>
> >>>> I traced the logic and found that its possible use comes down to the
> >>>> code found in the get_admin_page_title and get_admin_page_parent
> >>>> functions. Basically, if a parent can't be found (returned from
> >>>> get_admin_page_parent), there is the possibility that
> >>>> get_admin_page_title will use the top-level menu item's page title.
> >>>> However, when I looked through get_admin_page_parent, I can't think of
> >>>> any possible scenario where a parent wouldn't be found.
> >>>>
> >>>> Looking farther back to version 1.2.2 (the only publicly available
> >>>> version I could find pre-1.5), I see that there is a single-level menu
> >>>> that doesn't support page titles. This combined with the fact that 1.5
> >>>> has two-level menus and more-or-less unused top-level menu page
> titles,
> >>>> I believe that I know why they are there.
> >>>>
> >>>> I believe somewhere in 1.3 or 1.4 development, page titles were added
> to
> >>>> the menus. Then sometime before 1.5, second level menus were added
> which
> >>>> had their own page titles. These new page titles superseded the old
> page
> >>>> titles, but the top-level-menu page titles remained for backwards
> >>>> compatibility.
> >>>>
> >>>> Here's where the story gets weird.
> >>>>
> >>>>  From all the code I've looked through, the presence of a page title
> >>>> parameter for a top-level menu is nothing more than vestigial. Even in
> >>>> the earliest publicly available builds of WP where the parameter
> exists,
> >>>> the core doesn't make any use of the parameter and simply shuffles
> past
> >>>> its existence by filling in the field with empty strings.
> >>>>
> >>>> Based on this, I would assume that there aren't any top-level menus
> that
> >>>> are devoid of sub-menu items and that the top-level menu items serve
> as
> >>>> nothing more than simple containers for the sub-menu items. And I
> would
> >>>> be wrong.
> >>>>
> >>>> Just look at a new install of WordPress, and you will see a standalone
> >>>> top-level menu: Dashboard. In a standard install, Dashboard doesn't
> have
> >>>> any sub-menu items. When I realized this, I looked at the code and
> found
> >>>> that there weren't any entries in $submenu to create the Dashboard
> >>>> sub-menu entry that appears if plugins, such as Akismet, adds a
> sub-menu
> >>>> to the Dashboard top-level menu.
> >>>>
> >>>> This confused me at first, but I looked at the add_submenu_page code
> and
> >>>> found that it generates the first $submenu entry automatically when a
> >>>> sub-menu page is added to a menu entry that doesn't have any sub-menu
> >>>> pages.
> >>>>
> >>>> Even though the Dashboard menu entry doesn't have any sub-menu entries
> >>>> by default, it still does not make use of the page title parameter.
> >>>> Instead, it does something hackish (IMHO), it has to manually set the
> >>>> $title variable before get_admin_page_title is called. The
> >>>> get_admin_page_title will immediately return the value of the $title
> >>>> variable if it is not empty.
> >>>>
> >>>> After seeing this, I cooked up the following quick plugin:
> >>>>
> >>>>     <?php
> >>>>
> >>>>     /*
> >>>>     Plugin Name: Menu Test
> >>>>     */
> >>>>
> >>>>     add_action( 'admin_menu', menu_test_add_pages );
> >>>>
> >>>>     function menu_test_add_pages() {
> >>>>         $page_ref = add_menu_page( '', 'Menu Test', 10, 'menu-test',
> >>>>     'menu_test_index' );
> >>>>
> >>>>         add_action( 'load-' . $page_ref, 'menu_test_set_title' );
> >>>>     }
> >>>>
> >>>>     function menu_test_index() {
> >>>>         echo "<h3>Menu Test</h3>";
> >>>>     }
> >>>>
> >>>>     function menu_test_set_title() {
> >>>>         global $title;
> >>>>         $title = 'Menu Test';
> >>>>     }
> >>>>
> >>>>     ?>
> >>>>
> >>>> All this plugin does is register a menu entry that doesn't have any
> >>>> sub-menu entries and give the resulting page a title. This is more or
> >>>> less the same way that Dashboard has set the title since 1.5.
> >>>>
> >>>> Sorry for the long reply. It was fun digging into this. I hope that my
> >>>> reply helps you out.
> >>>>
> >>>> Chris Jean
> >>>> http://gaarai.com/
> >>>> http://wp-roadmap.com/
> >>>> http://dnsyogi.com/
> >>>>
> >>>>
> >>>>
> >>>> Chris Williams wrote:
> >>>>
> >>>>> Exactly, so is that a bug?  Is it impossible/illegal to have a
> plug-in
> >>>>> with
> >>>>> only a top level menu?
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>> From: Gaarai <gaarai@gaarai.com>
> >>>>>> Reply-To: <wp-hackers@lists.automattic.com>
> >>>>>> Date: Thu, 12 Feb 2009 21:21:02 -0600
> >>>>>> To: <wp-hackers@lists.automattic.com>
> >>>>>> Subject: Re: [wp-hackers] Page Title for Admin Menu
> >>>>>>
> >>>>>> In my experience, it isn't the top-level menu that sets the title;
> >>>>>> rather, the first sub-menu under it does.
> >>>>>>
> >>>>>> Chris Jean
> >>>>>> http://gaarai.com/
> >>>>>> http://wp-roadmap.com/
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>> Chris Williams wrote:
> >>>>>>
> >>>>>>
> >>>>>>> Despite my overabundant use of the word "really" (which I "really"
> >>>>>>> regret
> >>>>>>> now :) ), does anybody have any input on this issue?
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>> From: Chris Williams <chris@clwill.com>
> >>>>>>>> Reply-To: <wp-hackers@lists.automattic.com>
> >>>>>>>> Date: Wed, 11 Feb 2009 13:27:16 -0800
> >>>>>>>> To: <wp-hackers@lists.automattic.com>
> >>>>>>>> Subject: [wp-hackers] Page Title for Admin Menu
> >>>>>>>>
> >>>>>>>> I am writing a plugin that adds an admin menu page (not submenu).
>  It
> >>>>>>>> does
> >>>>>>>> this because it?s really quite a separate thing < a calendar of
> racing
> >>>>>>>> events, nothing to do with the WP functions, it?s really a
> separate
> >>>>>>>> data
> >>>>>>>> table and everything.  So, it doesn?t really belong down in
> ?settings?,
> >>>>>>>> or
> >>>>>>>> ?tools?.
> >>>>>>>>
> >>>>>>>> This is all good, I have it working with add_menu_page and all is
> fine.
> >>>>>>>> It
> >>>>>>>> really only needs one page (like the ?Links? or ?Comments? menu
> items),
> >>>>>>>> it?s
> >>>>>>>> just an ?edit events? page.  There is one small problem, and
> that?s
> >>>>>>>> that
> >>>>>>>> the
> >>>>>>>> HTML page title is null.  It says simply ?[blogname] > --
> Wordpress?.
> >>>>>>>> Nothing I put in the $page_title parameter on add_menu_page works.
> >>>>>>>>
> >>>>>>>> If I have a submenu page, it works, but not with just a plain
> >>>>>>>> add_menu_page.
> >>>>>>>> I believe the issue is in get_admin_page_title in
> >>>>>>>> wp-admin/includes/plugin.php, but I haven?t debugged it
> completely.
> >>>>>>>>
> >>>>>>>> My questions are: 1) am I doing something incorrectly that is
> causing
> >>>>>>>> this,
> >>>>>>>> 2) is this a known issue and I should just chill, or 3) should I
> figure
> >>>>>>>> it
> >>>>>>>> out and propose a patch?
> >>>>>>>>
> >>>>>>>> Thanks,
> >>>>>>>> Chris
> >>>>>>>> _______________________________________________
> >>>>>>>> wp-hackers mailing list
> >>>>>>>> wp-hackers@lists.automattic.com
> >>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>>
> >>>>>>>>
> >>>>>>>>
> >>>>>>> _______________________________________________
> >>>>>>> wp-hackers mailing list
> >>>>>>> wp-hackers@lists.automattic.com
> >>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>> _______________________________________________
> >>>>>> wp-hackers mailing list
> >>>>>> wp-hackers@lists.automattic.com
> >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>
> >>>>>>
> >>>>> _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers@lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>
> >>>>>
> >>>>>
> >>>> _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers@lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers@lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



--
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From info at toscho.de  Mon Feb 16 19:43:07 2009
From: info at toscho.de (Thomas Scholz)
Date: Mon Feb 16 19:43:19 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <C2EE082E-D797-4644-AAB4-9A5AFD95AEDB@striderweb.com>
References: <349fe48b0902150608h537a4d57sb4b2ead47d42f745@mail.gmail.com>
	<7950334025158616046@unknownmsgid>
	<518fa9630902160340w1911729bs899fb8ba5e6243f7@mail.gmail.com>
	<8f93a7390902160613iaea3f02r4c46a46ddfdd93bb@mail.gmail.com>
	<fd3b80510902160649r7651180q26906ead377f6a2c@mail.gmail.com>
	<C2EE082E-D797-4644-AAB4-9A5AFD95AEDB@striderweb.com>
Message-ID: <op.upgmd5wcr6yny2@perplexifikator.speedport_w_303v_typ_a>

Am 16.02.2009, 16:16 Uhr, schrieb Stephen Rider  
<wp-hackers@striderweb.com>:

> First off, there seem to be two slightly different discussions going on,  
> so I'm going to be specific.
>
> Discussion 1: Someone wants an option to turn off automatic smart quotes.
>
> Discussion 2: Hard coding things such as the type of quotes used, and  
> using foreign language quotes as faux-arrows, is a disservice to non- 
> English speaking users.

Thank you for clearing this out.

I reported a bug for the second case:
http://core.trac.wordpress.org/ticket/9150

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de
0160/1764727
From yahgrp at poplarware.com  Mon Feb 16 20:49:31 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Mon Feb 16 20:46:55 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <op.upgmd5wcr6yny2@perplexifikator.speedport_w_303v_typ_a>
References: <349fe48b0902150608h537a4d57sb4b2ead47d42f745@mail.gmail.com>	<7950334025158616046@unknownmsgid>	<518fa9630902160340w1911729bs899fb8ba5e6243f7@mail.gmail.com>	<8f93a7390902160613iaea3f02r4c46a46ddfdd93bb@mail.gmail.com>	<fd3b80510902160649r7651180q26906ead377f6a2c@mail.gmail.com>	<C2EE082E-D797-4644-AAB4-9A5AFD95AEDB@striderweb.com>
	<op.upgmd5wcr6yny2@perplexifikator.speedport_w_303v_typ_a>
Message-ID: <4999D15B.3040404@poplarware.com>


>> Discussion 2: Hard coding things such as the type of quotes used, and 
>> using foreign language quotes as faux-arrows, is a disservice to 
>> non-English speaking users.

> I reported a bug for the second case:
> http://core.trac.wordpress.org/ticket/9150

Probably if someone could point out (as a Trac comment on this bug) 
the specific places in the WP admin screens and/or the WP standard 
functions where faux-arrows are being used (and are hard-coded with no 
way to override the default besides hacking WP core), that would be a 
help to anyone looking to fix this bug.

    --Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From zamoose at gmail.com  Mon Feb 16 20:49:01 2009
From: zamoose at gmail.com (zamoose@gmail.com)
Date: Mon Feb 16 20:49:12 2009
Subject: [wp-hackers] Canonical integration into core
Message-ID: <000e0cd47e54026da204630f5102@google.com>

I know that Joost has already whipped up a plugin  
(http://yoast.com/canonical-url-links/) to account for the new Canonical  
search engine hinting HEAD tag (see here for details:  
http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html)  
but I honestly think this might be a big enough deal to integrate into  
WordPress' core.

Thoughts? Reactions? 2x4's upside my head?

-Doug
http://literalbarrage.org/blog/
From mwalters8 at gmail.com  Mon Feb 16 20:55:03 2009
From: mwalters8 at gmail.com (Matt Walters)
Date: Mon Feb 16 20:55:15 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <000e0cd47e54026da204630f5102@google.com>
References: <000e0cd47e54026da204630f5102@google.com>
Message-ID: <5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>

+1

On Mon, Feb 16, 2009 at 3:49 PM,  <zamoose@gmail.com> wrote:
> I know that Joost has already whipped up a plugin
> (http://yoast.com/canonical-url-links/) to account for the new Canonical
> search engine hinting HEAD tag (see here for details:
> http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html)
> but I honestly think this might be a big enough deal to integrate into
> WordPress' core.
>
> Thoughts? Reactions? 2x4's upside my head?
From dangayle at gmail.com  Mon Feb 16 21:00:28 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Mon Feb 16 21:00:41 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
Message-ID: <4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>

+1 for all of the SEO folks out there!

If you can put a link to the Windows Live Writer stuff into core, you  
can do this :)

On Feb 16, 2009, at 12:55 PM, Matt Walters wrote:

> +1
>
> On Mon, Feb 16, 2009 at 3:49 PM,  <zamoose@gmail.com> wrote:
>> I know that Joost has already whipped up a plugin
>> (http://yoast.com/canonical-url-links/) to account for the new  
>> Canonical
>> search engine hinting HEAD tag (see here for details:
>> http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html)
>> but I honestly think this might be a big enough deal to integrate  
>> into
>> WordPress' core.
>>
>> Thoughts? Reactions? 2x4's upside my head?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Mon Feb 16 21:04:59 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Mon Feb 16 21:05:45 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1FF5060995837e19b2682f41fcf,
	mikeschinkel@newclarity.net, 25410034.3311234818309695.J>

+1

I've been wondering for years why Google hasn't previously done this. Now that they finally have, +1 for integration into the core.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Dan Gayle" <dangayle@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 16, 2009 4:00:28 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Canonical integration into core

+1 for all of the SEO folks out there!

If you can put a link to the Windows Live Writer stuff into core, you  
can do this :)

On Feb 16, 2009, at 12:55 PM, Matt Walters wrote:

> +1
>
> On Mon, Feb 16, 2009 at 3:49 PM,  <zamoose@gmail.com> wrote:
>> I know that Joost has already whipped up a plugin
>> (http://yoast.com/canonical-url-links/) to account for the new  
>> Canonical
>> search engine hinting HEAD tag (see here for details:
>> http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html)
>> but I honestly think this might be a big enough deal to integrate  
>> into
>> WordPress' core.
>>
>> Thoughts? Reactions? 2x4's upside my head?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From malaiac at gmail.com  Mon Feb 16 21:06:36 2009
From: malaiac at gmail.com (Malaiac)
Date: Mon Feb 16 21:10:11 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
	<4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
Message-ID: <59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>

+1 in the core or in the AllinOneSEO plugin which is basically core+1
From ozh at planetozh.com  Mon Feb 16 21:12:08 2009
From: ozh at planetozh.com (Ozh)
Date: Mon Feb 16 21:12:22 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
	<4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
	<59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>
Message-ID: <ae81acd10902161312t21672f20u1c54b8c085ad12fc@mail.gmail.com>

On Mon, Feb 16, 2009 at 10:06 PM, Malaiac <malaiac@gmail.com> wrote:
> or in the AllinOneSEO plugin which is basically core+1

-30


-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From listswphackers at mist.org.uk  Mon Feb 16 21:13:31 2009
From: listswphackers at mist.org.uk (mrmist)
Date: Mon Feb 16 21:14:13 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <000e0cd47e54026da204630f5102@google.com>
References: <000e0cd47e54026da204630f5102@google.com>
Message-ID: <r7K6A5B7bdmJFwYz@dsl-217-155-35-239.zen.co.uk>

In message <000e0cd47e54026da204630f5102@google.com>, zamoose@gmail.com 
writes
>
>Thoughts? Reactions? 2x4's upside my head?
>

I couldn't get the plugin unzipped, so just popped a 3-line bit of code 
into the theme header.

<?php if (is_single()) {
  echo '<link rel="canonical" href="' . get_permalink() . '" />';
} ?>

It might be nice to have something similar in the proposed new default 
theme that was being talked about.

+1 for core anyway, I can't think of a particular reason NOT to have it.

-- 
mrmist
From ncrice at gmail.com  Mon Feb 16 21:22:34 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Mon Feb 16 21:22:46 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <r7K6A5B7bdmJFwYz@dsl-217-155-35-239.zen.co.uk>
References: <000e0cd47e54026da204630f5102@google.com>
	<r7K6A5B7bdmJFwYz@dsl-217-155-35-239.zen.co.uk>
Message-ID: <862d087f0902161322y78c64d6eif2eceabac1546c1c@mail.gmail.com>

Not to be the voice of dissent, but:
-1 from me ...

I don't see why this needs to be a core function.  Just like I don't think
the WP version should be generated BY DEFAULT in the wp_head action, I don't
think this should be core either.  How about just letting the user define
what they want in their theme source?

In reality, this is an SEO function, which should be up to the theme to
implement, not a plugin OR core functionality.  It's frivolous.

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Mon, Feb 16, 2009 at 4:13 PM, mrmist <listswphackers@mist.org.uk> wrote:

> In message <000e0cd47e54026da204630f5102@google.com>, zamoose@gmail.comwrites
>
>>
>> Thoughts? Reactions? 2x4's upside my head?
>>
>>
> I couldn't get the plugin unzipped, so just popped a 3-line bit of code
> into the theme header.
>
> <?php if (is_single()) {
>  echo '<link rel="canonical" href="' . get_permalink() . '" />';
> } ?>
>
> It might be nice to have something similar in the proposed new default
> theme that was being talked about.
>
> +1 for core anyway, I can't think of a particular reason NOT to have it.
>
> --
> mrmist
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ncrice at gmail.com  Mon Feb 16 21:25:20 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Mon Feb 16 21:25:38 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <r7K6A5B7bdmJFwYz@dsl-217-155-35-239.zen.co.uk>
References: <000e0cd47e54026da204630f5102@google.com>
	<r7K6A5B7bdmJFwYz@dsl-217-155-35-239.zen.co.uk>
Message-ID: <862d087f0902161325o2cc43059jd425ff4d6fa7dc99@mail.gmail.com>

On Mon, Feb 16, 2009 at 4:13 PM, mrmist <listswphackers@mist.org.uk> wrote:
>
>
> <?php if (is_single()) {
>  echo '<link rel="canonical" href="' . get_permalink() . '" />';
> } ?>
>
>
Actually, it would be better to use is_singular there.  It catches posts,
pages, and attachments.  While you're at it, go ahead and do this:

<?php if(is_archive()) {
echo '<meta name="robots" content="noindex">
} ?>

:-)
From listswphackers at mist.org.uk  Mon Feb 16 21:31:24 2009
From: listswphackers at mist.org.uk (mrmist)
Date: Mon Feb 16 21:32:18 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902161325o2cc43059jd425ff4d6fa7dc99@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<r7K6A5B7bdmJFwYz@dsl-217-155-35-239.zen.co.uk>
	<862d087f0902161325o2cc43059jd425ff4d6fa7dc99@mail.gmail.com>
Message-ID: <pLv6csCssdmJFw6t@dsl-217-155-35-239.zen.co.uk>

In message 
<862d087f0902161325o2cc43059jd425ff4d6fa7dc99@mail.gmail.com>, Nathan 
Rice <ncrice@gmail.com> writes
>Actually, it would be better to use is_singular there.  It catches posts,
>pages, and attachments.  While you're at it, go ahead and do this:
>

Good point. I pondered that whilst writing it and then forgot.

><?php if(is_archive()) {
>echo '<meta name="robots" content="noindex">
>} ?>

Not so sure about that one, though.

-- 
mrmist
From ionfish at gmail.com  Mon Feb 16 21:34:31 2009
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Mon Feb 16 21:38:27 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902161322y78c64d6eif2eceabac1546c1c@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<r7K6A5B7bdmJFwYz@dsl-217-155-35-239.zen.co.uk>
	<862d087f0902161322y78c64d6eif2eceabac1546c1c@mail.gmail.com>
Message-ID: <fd3b80510902161334w2bf65f90uc1a3a897a84eb550@mail.gmail.com>

> How about just letting the user define
> what they want in their theme source?
>
> In reality, this is an SEO function, which should be up to the theme to
> implement, not a plugin OR core functionality.  It's frivolous.

Putting things like RSS link generation into core makes life easier
for theme developers, who don't have to remember quite as many things
to add to all their themes--things which will be in common, more or
less, across all themes. I don't have a view on the rel="canonical"
links as such, but it's why the wp_head hook exists.
From malaiac at gmail.com  Mon Feb 16 21:40:49 2009
From: malaiac at gmail.com (Malaiac)
Date: Mon Feb 16 21:40:58 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <ae81acd10902161312t21672f20u1c54b8c085ad12fc@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
	<4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
	<59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>
	<ae81acd10902161312t21672f20u1c54b8c085ad12fc@mail.gmail.com>
Message-ID: <59e7f3130902161340y71773bc2y95bdfb4c0a97c353@mail.gmail.com>

2009/2/16 Ozh <ozh@planetozh.com>:
> On Mon, Feb 16, 2009 at 10:06 PM, Malaiac <malaiac@gmail.com> wrote:
>> or in the AllinOneSEO plugin which is basically core+1
>
> -30^
ok for your -30 but you have to go +30 on integrating SiteMap into core then :)
From peter.westwood at ftwr.co.uk  Mon Feb 16 21:51:42 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon Feb 16 21:52:48 2009
Subject: [wp-hackers] allow opting out of WordPress SmartQuotes
In-Reply-To: <op.upgmd5wcr6yny2@perplexifikator.speedport_w_303v_typ_a>
References: <349fe48b0902150608h537a4d57sb4b2ead47d42f745@mail.gmail.com>
	<7950334025158616046@unknownmsgid>
	<518fa9630902160340w1911729bs899fb8ba5e6243f7@mail.gmail.com>
	<8f93a7390902160613iaea3f02r4c46a46ddfdd93bb@mail.gmail.com>
	<fd3b80510902160649r7651180q26906ead377f6a2c@mail.gmail.com>
	<C2EE082E-D797-4644-AAB4-9A5AFD95AEDB@striderweb.com>
	<op.upgmd5wcr6yny2@perplexifikator.speedport_w_303v_typ_a>
Message-ID: <96FF3A95-A801-4977-866B-E88BA3AA5C7E@ftwr.co.uk>


On 16 Feb 2009, at 19:43, Thomas Scholz wrote:

> Am 16.02.2009, 16:16 Uhr, schrieb Stephen Rider <wp-hackers@striderweb.com 
> >:
>>
>> Discussion 2: Hard coding things such as the type of quotes used,  
>> and using foreign language quotes as faux-arrows, is a disservice  
>> to non-English speaking users.
>
> Thank you for clearing this out.
>
> I reported a bug for the second case:
> http://core.trac.wordpress.org/ticket/9150
>

The correct place to discuss this as well would be the wp-polyglots  
list so as to get input from the translations teams.

Whatever change we make for this needs to fit in with the translations.

And they will most likely know what the problem chars are.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From lynne.pope at gmail.com  Mon Feb 16 22:44:25 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Mon Feb 16 22:44:33 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <59e7f3130902161340y71773bc2y95bdfb4c0a97c353@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
	<4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
	<59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>
	<ae81acd10902161312t21672f20u1c54b8c085ad12fc@mail.gmail.com>
	<59e7f3130902161340y71773bc2y95bdfb4c0a97c353@mail.gmail.com>
Message-ID: <427667db0902161444h160b60c8j2954384bdff81039@mail.gmail.com>

2009/2/17 Malaiac <malaiac@gmail.com>

> 2009/2/16 Ozh <ozh@planetozh.com>:
> > On Mon, Feb 16, 2009 at 10:06 PM, Malaiac <malaiac@gmail.com> wrote:
> >> or in the AllinOneSEO plugin which is basically core+1
> >
> > -30^
> ok for your -30 but you have to go +30 on integrating SiteMap into core
> then :)



The AllinOneSEO plugin is not downloaded as much as WordPress is. Not
everyone uses it or even likes it.
Auto-generated RSS links in the header would simply force those who don't
use the WP feed links to have to write filters to get rid of it.
The sitemap plugin, while great, is not used by everyone and some sites use
their own code for this.

As to the canonical meta tag - anyone who has ever used Google's webmaster
tools has had the ability to specify the canonical URL for a long time. If
this became part of the core, again filters would have to be written where
the canonical URL is not the same as the permalink. Good URI's don't change
and for sites that have been around a long time or which have been imported
into WP from another app, the canonical URL can indeed be different to the
permalink WP generates.

Lynne
From malaiac at gmail.com  Mon Feb 16 23:19:41 2009
From: malaiac at gmail.com (Malaiac)
Date: Mon Feb 16 23:19:50 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <427667db0902161444h160b60c8j2954384bdff81039@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
	<4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
	<59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>
	<ae81acd10902161312t21672f20u1c54b8c085ad12fc@mail.gmail.com>
	<59e7f3130902161340y71773bc2y95bdfb4c0a97c353@mail.gmail.com>
	<427667db0902161444h160b60c8j2954384bdff81039@mail.gmail.com>
Message-ID: <59e7f3130902161519s150ec7e0jd9cb0fc5a70566a7@mail.gmail.com>

2009/2/16 Lynne Pope <lynne.pope@gmail.com>:
> As to the canonical meta tag - anyone who has ever used Google's webmaster
> tools has had the ability to specify the canonical URL for a long time.
You're confusing main url canonical form (www/non www) with canonical
urls for every single page on the website. This is radically new.
From regulatethis at gmail.com  Mon Feb 16 23:33:12 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Mon Feb 16 23:33:23 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <427667db0902161444h160b60c8j2954384bdff81039@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
	<4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
	<59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>
	<ae81acd10902161312t21672f20u1c54b8c085ad12fc@mail.gmail.com>
	<59e7f3130902161340y71773bc2y95bdfb4c0a97c353@mail.gmail.com>
	<427667db0902161444h160b60c8j2954384bdff81039@mail.gmail.com>
Message-ID: <39fdab560902161533x205e48d0pc8332e0c8706957f@mail.gmail.com>

> The AllinOneSEO plugin is not downloaded as much as WordPress is. Not
> everyone uses it or even likes it.
> Auto-generated RSS links in the header would simply force those who don't
> use the WP feed links to have to write filters to get rid of it.
> The sitemap plugin, while great, is not used by everyone and some sites use
> their own code for this.
>
> As to the canonical meta tag - anyone who has ever used Google's webmaster
> tools has had the ability to specify the canonical URL for a long time. If
> this became part of the core, again filters would have to be written where
> the canonical URL is not the same as the permalink. Good URI's don't change
> and for sites that have been around a long time or which have been imported
> into WP from another app, the canonical URL can indeed be different to the
> permalink WP generates.
>
> Lynne

Read http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html
so you know what we're talking about ;)  I've been using Google
Webmaster Tools for a long time and there's never been anything that
lets you publicly specify a canonical URL for any given page.

Anyway, what's the point (and yours specifically, Lynne)? I'm getting
so tired of these "omg put this/don't put this in core" arguments -
they'd be much more valid if the core was some sort of blessed,
pristine haven from anything not absolutely 100% essential to
"blogging" (or whatever WP's goal is now). But like someone said
earlier in this thread, if stuff like support for MS's Live Writer is
implemented in core, then anyone arguing based on "we can't cause
bloat/not enough people will use it" is basically blowing hot air (and
some people do that all the time regardless). I didn't even know there
was such a thing as Live Writer or whatever it's called until I read
an article on how to DISABLE support for it in WP. Not one single
person that I've ever asked about it has said that they use it or even
know what it is.

So, while I believe support for this new canonical URL tag SHOULD be
included in core, Joost has already done it in a plugin. Anyone who
knows what they're doing would find this functionality whether it was
in core or in a plugin, and for the vast majority of people it will
make no difference whatsoever.
From viper at viper007bond.com  Mon Feb 16 23:48:46 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Mon Feb 16 23:48:57 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <39fdab560902161533x205e48d0pc8332e0c8706957f@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
	<4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
	<59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>
	<ae81acd10902161312t21672f20u1c54b8c085ad12fc@mail.gmail.com>
	<59e7f3130902161340y71773bc2y95bdfb4c0a97c353@mail.gmail.com>
	<427667db0902161444h160b60c8j2954384bdff81039@mail.gmail.com>
	<39fdab560902161533x205e48d0pc8332e0c8706957f@mail.gmail.com>
Message-ID: <8f93a7390902161548kc8c7333lc4d863e87709ecf9@mail.gmail.com>

Glad to see Google supporting this, but I don't see the point -- WordPress
already enforces a single URL for posts, etc.

However, this would be incredibly useful for comment paging.

-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From mikeschinkel at newclarity.net  Tue Feb 17 00:01:04 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 00:02:20 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <427667db0902161444h160b60c8j2954384bdff81039@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1FI1513fdafea4d578a259a9c84,
	mikeschinkel@newclarity.net, 25085604.3331234828874545.J>

"Lynne Pope" <lynne.pope@gmail.com> wrote:
> and for sites that have been around a long time or which 
> have been imported into WP from another app, the canonical 
> URL can indeed be different to the permalink WP generates.

Hence why it would be very useful to have this supported in core.

-Mike Schinkel
http://mikeschinkel.com/
From ncrice at gmail.com  Tue Feb 17 00:04:04 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 00:04:13 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <8f93a7390902161548kc8c7333lc4d863e87709ecf9@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
	<4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
	<59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>
	<ae81acd10902161312t21672f20u1c54b8c085ad12fc@mail.gmail.com>
	<59e7f3130902161340y71773bc2y95bdfb4c0a97c353@mail.gmail.com>
	<427667db0902161444h160b60c8j2954384bdff81039@mail.gmail.com>
	<39fdab560902161533x205e48d0pc8332e0c8706957f@mail.gmail.com>
	<8f93a7390902161548kc8c7333lc4d863e87709ecf9@mail.gmail.com>
Message-ID: <862d087f0902161604x5537ee9ch3378152e6bbf9b15@mail.gmail.com>

On Mon, Feb 16, 2009 at 6:48 PM, Viper007Bond <viper@viper007bond.com>wrote:

> Glad to see Google supporting this, but I don't see the point -- WordPress
> already enforces a single URL for posts, etc.
>
> However, this would be incredibly useful for comment paging.
>
>
That is my point EXACTLY. I see no reason whatsoever for using this new tag
when WP already redirects to the REAL permalink.

Comment paging is another issue, true.  But if that's the case, then we
should also discuss fixing the fact that date-based archives contain TONS of
duplicate content.  Why not fix that while we're at it?

For what it's worth, I'll give my reasoning for NOT fixing either of these
things.  BECAUSE IT'S NOT WordPress's JOB TO SEO YOUR SITE.

I've made my point. I do not see the point of letting core take on the role
of a theme.  Like I said in an earlier email, if we're going to do this,
then why don't we just let core generate the entire <head> section for us?
From otto at ottodestruct.com  Tue Feb 17 00:24:47 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 00:24:59 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902161604x5537ee9ch3378152e6bbf9b15@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
	<4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
	<59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>
	<ae81acd10902161312t21672f20u1c54b8c085ad12fc@mail.gmail.com>
	<59e7f3130902161340y71773bc2y95bdfb4c0a97c353@mail.gmail.com>
	<427667db0902161444h160b60c8j2954384bdff81039@mail.gmail.com>
	<39fdab560902161533x205e48d0pc8332e0c8706957f@mail.gmail.com>
	<8f93a7390902161548kc8c7333lc4d863e87709ecf9@mail.gmail.com>
	<862d087f0902161604x5537ee9ch3378152e6bbf9b15@mail.gmail.com>
Message-ID: <161617690902161624j44b26b57pc83de3a10adb3070@mail.gmail.com>

On Mon, Feb 16, 2009 at 6:04 PM, Nathan Rice <ncrice@gmail.com> wrote:
> For what it's worth, I'll give my reasoning for NOT fixing either of these
> things.  BECAUSE IT'S NOT WordPress's JOB TO SEO YOUR SITE.

True, but at the same time, by putting small, unobtrusive, and
relatively minor things like this into the core, you standardize it
across a wide range of sites, thus leading to a greater benefit as a
whole. It is to WP's advantage to have sites based on it show up
higher in search results.

Or are you suggesting that WordPress should not try to rule the tubes? ;)

> I've made my point. I do not see the point of letting core take on the role
> of a theme.  Like I said in an earlier email, if we're going to do this,
> then why don't we just let core generate the entire <head> section for us?

"Being a theme" and "providing standardized functionality that themes
can take advantage of" are two different things. Whether you have it
on by default or not (by hooking the action to wp_head), is beside the
point.

+1 to this.

-Otto
From mikeschinkel at newclarity.net  Tue Feb 17 00:24:28 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 00:25:00 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1FIOYc74c1b8b093ad8881791c3,
	mikeschinkel@newclarity.net, 1757991.3411234830281844.J>

"Nathan Rice" <ncrice@gmail.com> wrote:
> In reality, this is an SEO function, which should be up to the 
> theme to implement, not a plugin OR core functionality.  It's 
> frivolous.

It's not frivolous nor is it just for SEO. It is a useful component of website architecture and having it in core means you can depend on it being there rather than just on the 3% of sites where the author decides to install the plugin.  One example of a type of site that could make good use of this would be Delicious. Basically anything that collects and stores links can use this, not just search engines.

> How about just letting the user define what they want in their 
> theme source?

The user?  Or the themer?  Or the plugin developer?  Most users wouldn't know the benefit of it so will never consider it. 

I understand that there may be edge cases where a themer might not want to not have it included but the solution is to explicitly include it in the default theme(s) using a "the_canonical_url()" template tag that the themer can remove, and some infrastructure to support the template tag; basically filters that would let a plugin change it from the default if there was a need for that.

So this isn't *just* a theming or SEO issue; this is a content management issue because the user might want to specify it themselves via the CMS although I'd agree that would be something a plugin could offer.

"Daniel Torreblanca" <regulatethis@gmail.com> wrote:
> I'm getting so tired of these "omg put this/don't put 
> this in core" arguments ... then anyone arguing based 
>  on "we can't cause bloat/not enough people will use 
> it" is basically blowing hot air. 

+1

> Not one single person that I've ever asked about it 
> has said that they use it or even know what it is.

You didn't ask me, but FWIW I use Windows Live Writer and thinks it is the best thing since sliced bread. Seriously. :-)

> So, while I believe support for this new canonical 
> URL tag SHOULD be included in core, Joost has already 
> done it in a plugin. Anyone who knows what they're 
> doing would find this functionality whether it was
> in core or in a plugin, and for the vast majority 
> of people it will make no difference whatsoever.

This argument I disagree with. One of the benefits of canonical URLs is that it cleans up one of the messy parts of the web at large. With all the affiliate links and ad sourcing links et.al. you have all these duplicate links and it was hard to get an automated handle on the web at large.  The more sites that specify canonical links, the less this is a problem. Because of it's massive footprint WordPress could make a real positive difference by simply including canonical links in core.

So I'll ask from another perspective; what's the harm in doing something good for the web when what is requires would be so small and simple to add? Does anyone really feel like this will bloat the core? Srsly?  And for those saying they will have to filter it out, what's you have now is no better so what have you lost?

-Mike Schinkel
http://mikeschinkel.com/
From viper at viper007bond.com  Tue Feb 17 00:25:11 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Tue Feb 17 00:25:30 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902161604x5537ee9ch3378152e6bbf9b15@mail.gmail.com>
References: <000e0cd47e54026da204630f5102@google.com>
	<5dbff0c70902161255wf4fbf5fh27edc93dcb805d3a@mail.gmail.com>
	<4AD32FE7-113B-4CAA-9125-014F2D075E02@gmail.com>
	<59e7f3130902161306q71055792o74fa14d305314ee6@mail.gmail.com>
	<ae81acd10902161312t21672f20u1c54b8c085ad12fc@mail.gmail.com>
	<59e7f3130902161340y71773bc2y95bdfb4c0a97c353@mail.gmail.com>
	<427667db0902161444h160b60c8j2954384bdff81039@mail.gmail.com>
	<39fdab560902161533x205e48d0pc8332e0c8706957f@mail.gmail.com>
	<8f93a7390902161548kc8c7333lc4d863e87709ecf9@mail.gmail.com>
	<862d087f0902161604x5537ee9ch3378152e6bbf9b15@mail.gmail.com>
Message-ID: <8f93a7390902161625x1448a428i630bfb2adf604cb0@mail.gmail.com>

Then should WordPress not redirect site.com/?p=1 to the real URL? My opinion
is that WordPress should do basic SEO'ing, but not go crazy (i.e. things
like meta keywords and meta descriptions). Those are better left to plugins.

On Mon, Feb 16, 2009 at 4:04 PM, Nathan Rice <ncrice@gmail.com> wrote:

> On Mon, Feb 16, 2009 at 6:48 PM, Viper007Bond <viper@viper007bond.com
> >wrote:
>
> > Glad to see Google supporting this, but I don't see the point --
> WordPress
> > already enforces a single URL for posts, etc.
> >
> > However, this would be incredibly useful for comment paging.
> >
> >
> That is my point EXACTLY. I see no reason whatsoever for using this new tag
> when WP already redirects to the REAL permalink.
>
> Comment paging is another issue, true.  But if that's the case, then we
> should also discuss fixing the fact that date-based archives contain TONS
> of
> duplicate content.  Why not fix that while we're at it?
>
> For what it's worth, I'll give my reasoning for NOT fixing either of these
> things.  BECAUSE IT'S NOT WordPress's JOB TO SEO YOUR SITE.
>
> I've made my point. I do not see the point of letting core take on the role
> of a theme.  Like I said in an earlier email, if we're going to do this,
> then why don't we just let core generate the entire <head> section for us?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From ncrice at gmail.com  Tue Feb 17 01:12:39 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 01:12:51 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <6055133559852561502@unknownmsgid>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<6055133559852561502@unknownmsgid>
Message-ID: <862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>

I've obviously been out voted. ;-)

The only way I would support it is if it was either:
1. Off by default or
2. Made a function that theme authors could use.

I would support functionality that let me, the theme author, put it in my
<head> section myself.  Any automatic insertion of the tag via an action
that is on by default gets the big -1 from me.

It's not that I don't think this is a good thing.  It's that I don't think
it should be on by default. If a theme author wants to use it, they will use
it.  If not, don't make them have to manually turn it off.

Nathan

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Mon, Feb 16, 2009 at 7:24 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> "Nathan Rice" <ncrice@gmail.com> wrote:
> > In reality, this is an SEO function, which should be up to the
> > theme to implement, not a plugin OR core functionality.  It's
> > frivolous.
>
> It's not frivolous nor is it just for SEO. It is a useful component of
> website architecture and having it in core means you can depend on it being
> there rather than just on the 3% of sites where the author decides to
> install the plugin.  One example of a type of site that could make good use
> of this would be Delicious. Basically anything that collects and stores
> links can use this, not just search engines.
>
> > How about just letting the user define what they want in their
> > theme source?
>
> The user?  Or the themer?  Or the plugin developer?  Most users wouldn't
> know the benefit of it so will never consider it.
>
> I understand that there may be edge cases where a themer might not want to
> not have it included but the solution is to explicitly include it in the
> default theme(s) using a "the_canonical_url()" template tag that the themer
> can remove, and some infrastructure to support the template tag; basically
> filters that would let a plugin change it from the default if there was a
> need for that.
>
> So this isn't *just* a theming or SEO issue; this is a content management
> issue because the user might want to specify it themselves via the CMS
> although I'd agree that would be something a plugin could offer.
>
> "Daniel Torreblanca" <regulatethis@gmail.com> wrote:
> > I'm getting so tired of these "omg put this/don't put
> > this in core" arguments ... then anyone arguing based
> >  on "we can't cause bloat/not enough people will use
> > it" is basically blowing hot air.
>
> +1
>
> > Not one single person that I've ever asked about it
> > has said that they use it or even know what it is.
>
> You didn't ask me, but FWIW I use Windows Live Writer and thinks it is the
> best thing since sliced bread. Seriously. :-)
>
> > So, while I believe support for this new canonical
> > URL tag SHOULD be included in core, Joost has already
> > done it in a plugin. Anyone who knows what they're
> > doing would find this functionality whether it was
> > in core or in a plugin, and for the vast majority
> > of people it will make no difference whatsoever.
>
> This argument I disagree with. One of the benefits of canonical URLs is
> that it cleans up one of the messy parts of the web at large. With all the
> affiliate links and ad sourcing links et.al. you have all these duplicate
> links and it was hard to get an automated handle on the web at large.  The
> more sites that specify canonical links, the less this is a problem. Because
> of it's massive footprint WordPress could make a real positive difference by
> simply including canonical links in core.
>
> So I'll ask from another perspective; what's the harm in doing something
> good for the web when what is requires would be so small and simple to add?
> Does anyone really feel like this will bloat the core? Srsly?  And for those
> saying they will have to filter it out, what's you have now is no better so
> what have you lost?
>
> -Mike Schinkel
> http://mikeschinkel.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mikeschinkel at newclarity.net  Tue Feb 17 02:17:45 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 02:18:05 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <5659122.3491234836710747.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1FKHk5f272bcd0b04ca4a43f6cf,
	mikeschinkel@newclarity.net, 6796390.3511234837078973.J>

Nathan:

So would you support what I proposed: adding to the core a "the_canonical_url()" function for use as a template tag that does essentially the following and then calling that function in header.php of the themes included in core?:

   function the_canonical_url() {
     echo '<link rel="canonical" href="' . get_the_canonical_url() . '" />';
   }	
	
   function get_the_canonical_url() {
     return apply_filters('the_canonical_url',get_permalink());
   }	

-Mike Schinkel
http://mikeschinkel.com/

P.S. Please forgive me if these aren't ready for inclusion in core as exactly written; I hacked them together in about 30 seconds...

----- Original Message -----
From: "Nathan Rice" <ncrice@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 16, 2009 8:12:39 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Canonical integration into core

I've obviously been out voted. ;-)

The only way I would support it is if it was either:
1. Off by default or
2. Made a function that theme authors could use.

I would support functionality that let me, the theme author, put it in my
<head> section myself.  Any automatic insertion of the tag via an action
that is on by default gets the big -1 from me.

It's not that I don't think this is a good thing.  It's that I don't think
it should be on by default. If a theme author wants to use it, they will use
it.  If not, don't make them have to manually turn it off.

Nathan

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Mon, Feb 16, 2009 at 7:24 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> "Nathan Rice" <ncrice@gmail.com> wrote:
> > In reality, this is an SEO function, which should be up to the
> > theme to implement, not a plugin OR core functionality.  It's
> > frivolous.
>
> It's not frivolous nor is it just for SEO. It is a useful component of
> website architecture and having it in core means you can depend on it being
> there rather than just on the 3% of sites where the author decides to
> install the plugin.  One example of a type of site that could make good use
> of this would be Delicious. Basically anything that collects and stores
> links can use this, not just search engines.
>
> > How about just letting the user define what they want in their
> > theme source?
>
> The user?  Or the themer?  Or the plugin developer?  Most users wouldn't
> know the benefit of it so will never consider it.
>
> I understand that there may be edge cases where a themer might not want to
> not have it included but the solution is to explicitly include it in the
> default theme(s) using a "the_canonical_url()" template tag that the themer
> can remove, and some infrastructure to support the template tag; basically
> filters that would let a plugin change it from the default if there was a
> need for that.
>
> So this isn't *just* a theming or SEO issue; this is a content management
> issue because the user might want to specify it themselves via the CMS
> although I'd agree that would be something a plugin could offer.
>
> "Daniel Torreblanca" <regulatethis@gmail.com> wrote:
> > I'm getting so tired of these "omg put this/don't put
> > this in core" arguments ... then anyone arguing based
> >  on "we can't cause bloat/not enough people will use
> > it" is basically blowing hot air.
>
> +1
>
> > Not one single person that I've ever asked about it
> > has said that they use it or even know what it is.
>
> You didn't ask me, but FWIW I use Windows Live Writer and thinks it is the
> best thing since sliced bread. Seriously. :-)
>
> > So, while I believe support for this new canonical
> > URL tag SHOULD be included in core, Joost has already
> > done it in a plugin. Anyone who knows what they're
> > doing would find this functionality whether it was
> > in core or in a plugin, and for the vast majority
> > of people it will make no difference whatsoever.
>
> This argument I disagree with. One of the benefits of canonical URLs is
> that it cleans up one of the messy parts of the web at large. With all the
> affiliate links and ad sourcing links et.al. you have all these duplicate
> links and it was hard to get an automated handle on the web at large.  The
> more sites that specify canonical links, the less this is a problem. Because
> of it's massive footprint WordPress could make a real positive difference by
> simply including canonical links in core.
>
> So I'll ask from another perspective; what's the harm in doing something
> good for the web when what is requires would be so small and simple to add?
> Does anyone really feel like this will bloat the core? Srsly?  And for those
> saying they will have to filter it out, what's you have now is no better so
> what have you lost?
>
> -Mike Schinkel
> http://mikeschinkel.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From ncrice at gmail.com  Tue Feb 17 02:36:33 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 02:36:41 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <-7152537551711593303@unknownmsgid>
References: <5659122.3491234836710747.JavaMail.DELL-1405$@Dell-1405>
	<-7152537551711593303@unknownmsgid>
Message-ID: <862d087f0902161836k305265dw89665ae610bb092f@mail.gmail.com>

On Mon, Feb 16, 2009 at 9:17 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> Nathan:
>
> So would you support what I proposed: adding to the core a
> "the_canonical_url()" function for use as a template tag


Yes, absolutely.
From lynne.pope at gmail.com  Tue Feb 17 02:51:52 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Tue Feb 17 02:51:59 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<6055133559852561502@unknownmsgid>
	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
Message-ID: <427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>

I find it amazing that those so adamant that canonical links should be added
to the core now had never raised any issues with permalinks in the past.

Amazing too that the reaction to opposition to the proposal should be
comments that I don't know what I am talking about.

The inclusion of the canonical URL link in the core will cause problems for
a number of users. For example, where I have ported content from other apps
I have retained the URL through the HTTP/1.1 standard for content location.
I know of a number of other sites who also use this specification - which
will conflict with the Google canonical URL implementation.

The new Google tag is designed for duplicate content. WordPress already
provides many ways of ensuring duplicate content is not indexed.

The tag is NOT designed to be in the header of every page. It is not a
replacement for server-side www vs no-www settings, or for specifying the
URI for the page you are on.

Sure, go ahead and add it if you like. As long as actions and filters can be
removed I don't much care what goes in. However, if it is implemented as
simply the permalink with the canonical tag in the header this has potential
to really harm a sites SEO.

Lynne
From mikeschinkel at newclarity.net  Tue Feb 17 03:19:55 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 03:20:23 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1FLJy244c8ca1fe078360b41437,
	mikeschinkel@newclarity.net, 21545036.3571234840804415.J>

"Lynne Pope" <lynne.pope@gmail.com> wrote:
> Sure, go ahead and add it if you like. As long as actions and 
> filters can be removed I don't much care what goes in. However, 
> if it is implemented as simply the permalink with the canonical 
> tag in the header this has potential to really harm a sites SEO.

Agreed, if it is just the permalink it won't be a good thing.  But it would seem having a standard way for plugins to hook in and support the canonical URL using filters would have benefits so that multiple plugins don't do things with canonical URLs incompatibly. For example I could see a plugin that allows the admin to manage the links their site has and another cleans up the comments page problem. It would be nice if those two could be compatible.

Could you comment on the approach suggested earlier regarding having a "the_canonical_url()" template tag with an associated filter?


-Mike Schinkel
http://mikeschinkel.com/
From duanestorey at gmail.com  Tue Feb 17 04:33:02 2009
From: duanestorey at gmail.com (Duane Storey)
Date: Tue Feb 17 04:33:10 2009
Subject: [wp-hackers] Auto Update Plugins
Message-ID: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>

The current WordPress implementation of the auto plugin updater does the
following:

1) Downloads a zip file of the new plugin
2) Unzips it into a new directory
3) Deletes the old directoy
4) Copies the new directory to the old directory
5) Deletes the new directory

A side effect of this is that all user-generated content that's part of the
plugin gets deleted (for example, you can add custom styles to CFORMS, or
custom icons to WPtouch).  Anyone know the motivation behind doing it this
way?  The auto upgrade for WordPress obviously works differently since your
themes and plugins aren't deleted during an auto upgrade.   I'd be happy to
submit a patch to simply unzip into the current plugin directory (which
would maintain user generated content in that plugin folder), but I was just
curious about the motivation for doing it the current way.

Thanks,
Duane
From mikeschinkel at newclarity.net  Tue Feb 17 05:00:05 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 05:01:37 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <5302200.3631234846775083.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1FN06badd904d7f04dd1de5eb29,
	mikeschinkel@newclarity.net, 24050986.3651234846814400.J>

I agree with Duane that #3 also creates problems. I previously mentioned that it caused problems when the entire project used subversion although it doesn't delete the directories, it just causes the upgrade to fail.  A better approach is surely needed.


-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Duane Storey" <duanestorey@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Monday, February 16, 2009 11:33:02 PM GMT -05:00 US/Canada Eastern
Subject: [wp-hackers] Auto Update Plugins

The current WordPress implementation of the auto plugin updater does the
following:

1) Downloads a zip file of the new plugin
2) Unzips it into a new directory
3) Deletes the old directoy
4) Copies the new directory to the old directory
5) Deletes the new directory

A side effect of this is that all user-generated content that's part of the
plugin gets deleted (for example, you can add custom styles to CFORMS, or
custom icons to WPtouch).  Anyone know the motivation behind doing it this
way?  The auto upgrade for WordPress obviously works differently since your
themes and plugins aren't deleted during an auto upgrade.   I'd be happy to
submit a patch to simply unzip into the current plugin directory (which
would maintain user generated content in that plugin folder), but I was just
curious about the motivation for doing it the current way.

Thanks,
Duane
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Tue Feb 17 05:14:15 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 05:14:38 2009
Subject: [wp-hackers] Thumbnails for Locally Hosted Videos?
In-Reply-To: <22723124.3671234847486112.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1FNEGea45d24e12b9fe03ea17ee,
	mikeschinkel@newclarity.net, 1634968.3691234847665046.J>

Hi all: 

I'm building a plugin for video management for locally hosted videos and am running into a bit of a quandry. I need thumbnails for each video and am wondering if any best practices have been identified for associating thumbnails with videos. I assume there is no easy way to extract a thumbnail from an arbitrary video file so I'm going to assume that it will require a thumbnail to be created by the person uploading the video. 

The real question is how best to provide an admin UI for this and how best to associate on in the database? Has anyone (attempted to) tackle this problem before? Or maybe there's something obvious I'm missing? 

Thanks in advance. 

-Mike Schinkel 
http://mikeschinkel.com/ 
From regulatethis at gmail.com  Tue Feb 17 05:58:08 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Feb 17 05:58:23 2009
Subject: [wp-hackers] Thumbnails for Locally Hosted Videos?
In-Reply-To: <-8029494842676052113@unknownmsgid>
References: <22723124.3671234847486112.JavaMail.DELL-1405$@Dell-1405>
	<-8029494842676052113@unknownmsgid>
Message-ID: <39fdab560902162158x31b4e5qcce97af23a4e17cb@mail.gmail.com>

On Tue, Feb 17, 2009 at 12:14 AM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Hi all:
>
> I'm building a plugin for video management for locally hosted videos and am running into a bit of a quandry. I need thumbnails for each video and am wondering if any best practices have been identified for associating thumbnails with videos. I assume there is no easy way to extract a thumbnail from an arbitrary video file so I'm going to assume that it will require a thumbnail to be created by the person uploading the video.
>
> The real question is how best to provide an admin UI for this and how best to associate on in the database? Has anyone (attempted to) tackle this problem before? Or maybe there's something obvious I'm missing?
>
> Thanks in advance.
>
> -Mike Schinkel
> http://mikeschinkel.com/

If ffmpeg is installed the on the server, it'd pretty simple to
extract a frame is a jpg from any video file that ffmpeg can read.

Daniel
From chris at clwill.com  Tue Feb 17 05:58:40 2009
From: chris at clwill.com (Chris Williams)
Date: Tue Feb 17 05:59:36 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
Message-ID: <C5BF9210.425EA%chris@clwill.com>

While I generally concur, one problem that comes to mind is files that need
to go away during the the upgrade.  That is why the manual instructions for
upgrading WP core tell you to delete the admin and include directories (but
not the content directory).

> From: Duane Storey <duanestorey@gmail.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Mon, 16 Feb 2009 20:33:02 -0800
> To: <wp-hackers@lists.automattic.com>
> Subject: [wp-hackers] Auto Update Plugins
> 
> The current WordPress implementation of the auto plugin updater does the
> following:
> 
> 1) Downloads a zip file of the new plugin
> 2) Unzips it into a new directory
> 3) Deletes the old directoy
> 4) Copies the new directory to the old directory
> 5) Deletes the new directory
> 
> A side effect of this is that all user-generated content that's part of the
> plugin gets deleted (for example, you can add custom styles to CFORMS, or
> custom icons to WPtouch).  Anyone know the motivation behind doing it this
> way?  The auto upgrade for WordPress obviously works differently since your
> themes and plugins aren't deleted during an auto upgrade.   I'd be happy to
> submit a patch to simply unzip into the current plugin directory (which
> would maintain user generated content in that plugin folder), but I was just
> curious about the motivation for doing it the current way.
> 
> Thanks,
> Duane
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Tue Feb 17 06:02:28 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 06:02:59 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <C5BF9210.425EA%chris@clwill.com>
Message-ID: <EMEWEMEW2_DELIMl1G02Y7a53957b0f8918b8272eba,
	mikeschinkel@newclarity.net, 12636626.3951234850560565.J>

Just tossing out a thought: what about creating a manifest of files upon install and then deleting only those files on upgrade?  It's not foolproof and would need a workaround in case the manifest is missing, but it might be one way to resolve the problem. 

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Chris Williams" <chris@clwill.com>
To: wp-hackers@lists.automattic.com
Sent: Tuesday, February 17, 2009 12:58:40 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Auto Update Plugins

While I generally concur, one problem that comes to mind is files that need
to go away during the the upgrade.  That is why the manual instructions for
upgrading WP core tell you to delete the admin and include directories (but
not the content directory).

> From: Duane Storey <duanestorey@gmail.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Mon, 16 Feb 2009 20:33:02 -0800
> To: <wp-hackers@lists.automattic.com>
> Subject: [wp-hackers] Auto Update Plugins
> 
> The current WordPress implementation of the auto plugin updater does the
> following:
> 
> 1) Downloads a zip file of the new plugin
> 2) Unzips it into a new directory
> 3) Deletes the old directoy
> 4) Copies the new directory to the old directory
> 5) Deletes the new directory
> 
> A side effect of this is that all user-generated content that's part of the
> plugin gets deleted (for example, you can add custom styles to CFORMS, or
> custom icons to WPtouch).  Anyone know the motivation behind doing it this
> way?  The auto upgrade for WordPress obviously works differently since your
> themes and plugins aren't deleted during an auto upgrade.   I'd be happy to
> submit a patch to simply unzip into the current plugin directory (which
> would maintain user generated content in that plugin folder), but I was just
> curious about the motivation for doing it the current way.
> 
> Thanks,
> Duane
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Tue Feb 17 06:06:24 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 06:09:40 2009
Subject: [wp-hackers] Thumbnails for Locally Hosted Videos?
In-Reply-To: <39fdab560902162158x31b4e5qcce97af23a4e17cb@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1G06O7c3d100ebda430072d0898,
	mikeschinkel@newclarity.net, 21345631.3971234850800266.J>

"Daniel Torreblanca" <regulatethis@gmail.com> wrote:
> If ffmpeg is installed the on the server, it'd pretty simple 
> to extract a frame is a jpg from any video file that ffmpeg 
> can read.

Thanks for the reply.  I guess ffmpeg could be an option but I understand ffmpeg is fairly complex to set up?  If so, it wouldn't be one to depend on.

That said, what then to do with the generated image?  Import it into the media library and use wp_postmeta to associate the two files?  If yes, what there?  Store a using a "video_thumbnail" meta_key? 

-Mike Schinkel
http://mikeschinkel.com/
From regulatethis at gmail.com  Tue Feb 17 06:15:42 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Feb 17 06:15:53 2009
Subject: [wp-hackers] Thumbnails for Locally Hosted Videos?
In-Reply-To: <-5981362113915332813@unknownmsgid>
References: <39fdab560902162158x31b4e5qcce97af23a4e17cb@mail.gmail.com>
	<-5981362113915332813@unknownmsgid>
Message-ID: <39fdab560902162215ked115eet81a0d04d5b70a147@mail.gmail.com>

>
> Thanks for the reply.  I guess ffmpeg could be an option but I understand ffmpeg is fairly complex to set up?  If so, it wouldn't be one to depend on.
>
> That said, what then to do with the generated image?  Import it into the media library and use wp_postmeta to associate the two files?  If yes, what there?  Store a using a "video_thumbnail" meta_key?
>
> -Mike Schinkel
> http://mikeschinkel.com/

If you're on a debian-based system or anything with a decent package
manager: "apt-get install ffmpeg" is all it takes ;)

Not too sure on what to do with it after though...
From otto at ottodestruct.com  Tue Feb 17 06:35:54 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 06:36:02 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
Message-ID: <161617690902162235ifcaf107u5a5d6ffb6f7f76f5@mail.gmail.com>

On Mon, Feb 16, 2009 at 10:33 PM, Duane Storey <duanestorey@gmail.com> wrote:
> The current WordPress implementation of the auto plugin updater does the
> following:
>
> 1) Downloads a zip file of the new plugin
> 2) Unzips it into a new directory
> 3) Deletes the old directoy
> 4) Copies the new directory to the old directory
> 5) Deletes the new directory
>
> A side effect of this is that all user-generated content that's part of the
> plugin gets deleted (for example, you can add custom styles to CFORMS, or
> custom icons to WPtouch).  Anyone know the motivation behind doing it this
> way?  The auto upgrade for WordPress obviously works differently since your
> themes and plugins aren't deleted during an auto upgrade.   I'd be happy to
> submit a patch to simply unzip into the current plugin directory (which
> would maintain user generated content in that plugin folder), but I was just
> curious about the motivation for doing it the current way.

It would be better to simply make your plugin store the user generated
content somewhere safe. Like in a custom subdirectory of the uploads
directory.
From otto at ottodestruct.com  Tue Feb 17 06:44:18 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 06:45:10 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<6055133559852561502@unknownmsgid>
	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
Message-ID: <161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>

On Mon, Feb 16, 2009 at 8:51 PM, Lynne Pope <lynne.pope@gmail.com> wrote:
> Amazing too that the reaction to opposition to the proposal should be
> comments that I don't know what I am talking about.

Well, until you actually explain what you're talking about, you seem
to be spouting gibberish.

I do want give you the benefit of the doubt, but you really need to
explain things like this further:

> The inclusion of the canonical URL link in the core will cause problems for
> a number of users. For example, where I have ported content from other apps
> I have retained the URL through the HTTP/1.1 standard for content location.
> I know of a number of other sites who also use this specification - which
> will conflict with the Google canonical URL implementation.

That needs a better explanation. Really. Because it doesn't make any sense.

What, exactly, will having a link rel=canonical do to your site that
will harm SEO? What will it do to a normal WordPress site? Please
explain to us what the heck you're talking about, so that we can
understand what you're getting at.

I submit that every WordPress based site, which has not been heavily
customized, can benefit from this tag. Mainly, the new comments paging
creates duplicate content pages in the singular post/page sections
which were not there before.

> The new Google tag is designed for duplicate content. WordPress already
> provides many ways of ensuring duplicate content is not indexed.

No. The canonical tag is indeed designed for duplicate content, but it
is not designed to prevent duplicate content from being indexed. It's
to keep it indexed under a single URL.

> The tag is NOT designed to be in the header of every page.

Yes, in point of fact, it is. It is designed exactly for that. Or, at
least, to be in the header of pages that can have multiple URLs which
contain the same content. And with 2.7 and paged comments, that's
every single post page.
From mikeschinkel at newclarity.net  Tue Feb 17 06:45:25 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 06:47:15 2009
Subject: [wp-hackers] Thumbnails for Locally Hosted Videos?
In-Reply-To: <39fdab560902162215ked115eet81a0d04d5b70a147@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1G0jP8dcf162ec68bcb534ee008,
	mikeschinkel@newclarity.net, 32009933.3991234853139167.J>

"Daniel Torreblanca" <regulatethis@gmail.com> wrote:
> If you're on a debian-based system or anything with a 
> decent package manager: "apt-get install ffmpeg" is 
>  all it takes ;)

And when the site is hosted on Windows...? ;-)  

(Seriously, I've got a client who decided to host using Apache on Windows!)

-Mike Schinkel
http://mikeschinkel.com/

P.S. That was a rhetorical question.
From otto at ottodestruct.com  Tue Feb 17 06:51:16 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 06:51:27 2009
Subject: [wp-hackers] Thumbnails for Locally Hosted Videos?
In-Reply-To: <-1145215588559997886@unknownmsgid>
References: <39fdab560902162215ked115eet81a0d04d5b70a147@mail.gmail.com>
	<-1145215588559997886@unknownmsgid>
Message-ID: <161617690902162251m6b350772q94d3a38ed9787bbb@mail.gmail.com>

n Tue, Feb 17, 2009 at 12:45 AM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> "Daniel Torreblanca" <regulatethis@gmail.com> wrote:
>> If you're on a debian-based system or anything with a
>> decent package manager: "apt-get install ffmpeg" is
>>  all it takes ;)
>
> And when the site is hosted on Windows...? ;-)
>
> (Seriously, I've got a client who decided to host using Apache on Windows!)

a) You get the guy into a good psychiatrist program.
b) Failing that: http://www.videohelp.com/tools/ffmpeg


The WordPress Video Solution Framework (what they use for the video
stuff on wp.com) uses shell calls to the ffmpeg program to get
thumbnails. See here:
http://plugins.trac.wordpress.org/browser/wordpresscom-video-server/trunk/server/plugin/video/video-transcoder.php#L315
From mikeschinkel at newclarity.net  Tue Feb 17 06:58:32 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 06:59:05 2009
Subject: [wp-hackers] Thumbnails for Locally Hosted Videos?
In-Reply-To: <161617690902162251m6b350772q94d3a38ed9787bbb@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1G0wWc6223456683d05123c2f7e,
	mikeschinkel@newclarity.net, 9439475.4051234853925785.J>

"Otto" <otto@ottodestruct.com> wrote:

>> a) You get the guy into a good psychiatrist program.

LOL! I'd suggest that, but he in indirect the one that cuts my check so I think I'll wait until I'm paid with no more work on the horizon! (to his credit, he did say "I don't know what I was thinking when I ordered that server" but that admission it doesn't make things any easier. :)

>> b) Failing that: http://www.videohelp.com/tools/ffmpeg

Interesting. Thanks for that pointer.  I think it's out of scope for what I'm trying to do short term but might make good longer term addition.

-Mike Schinkel
http://mikeschinkel.com/
From listswphackers at mist.org.uk  Tue Feb 17 08:11:41 2009
From: listswphackers at mist.org.uk (mrmist)
Date: Tue Feb 17 08:11:56 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <EMEWEMEW2_DELIMl1FKHk5f272bcd0b04ca4a43f6cf@?>
References: <5659122.3491234836710747.JavaMail.DELL-1405$@Dell-1405>
	<EMEWEMEW2_DELIMl1FKHk5f272bcd0b04ca4a43f6cf@?>
Message-ID: <ChbQWhC9EnmJFwci@dsl-217-155-35-239.zen.co.uk>

In message <EMEWEMEW2_DELIMl1FKHk5f272bcd0b04ca4a43f6cf@?>, Mike 
Schinkel <mikeschinkel@newclarity.net> writes
>Nathan:
>
>So would you support what I proposed: adding to the core a 
>"the_canonical_url()" function for use as a template tag that does 
>essentially the following and then calling that function in header.php 
>of the themes included in core?:
>
>   function the_canonical_url() {
>     echo '<link rel="canonical" href="' . get_the_canonical_url() . '" />';
>   }
>
>   function get_the_canonical_url() {
>     return apply_filters('the_canonical_url',get_permalink());
>   }
>

FWIW this is the sort of thing that I was +1-ing into core.  (With the 
additional possibility of it being placed into the default theme.)

That's why I said in my earlier post "I can't see a reason not to do 
it", because at the end of the day it could help out the average user, 
and any power users who didn't want it would find it trivial to 
override.

To address a comment that was made earlier in this conversation, as to 
why this has not been brought up as an issue before.  The answer to 
that, for me, is that we never had stuff like this before -

url/to/my/article/
url/to/my/article/comment-page-1/

Pushing duplicate content and titles by default.

This simple little tag helps out with that in an unobtrusive fashion, 
and actually saves what could otherwise be a chunk of core or theme 
coding to patch around it.

-- 
mrmist
From frank at bueltge.de  Tue Feb 17 08:22:05 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Tue Feb 17 08:22:14 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902162235ifcaf107u5a5d6ffb6f7f76f5@mail.gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<161617690902162235ifcaf107u5a5d6ffb6f7f76f5@mail.gmail.com>
Message-ID: <db047a770902170022x293ccec7v7ee0e08d4d73dc60@mail.gmail.com>

"custom subdirectory of the uploads"
I use this possibility and i think this is nice and correctly for my
understanding of rights and coding-standard in applications.
I like a other idea for the update of the functions for auto core updater.
Please use a filter and donwload not the screenshots and other files, she
not importantly for the function of the plugin. Maybe it is possible to use
a folder for all not importantly files, read this for wp.org and not
download in the install of WordPress.

Best wishes and thanks for read my bad english.
From lynne.pope at gmail.com  Tue Feb 17 10:12:28 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Tue Feb 17 10:12:37 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<6055133559852561502@unknownmsgid>
	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
Message-ID: <427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>

2009/2/17 Otto <otto@ottodestruct.com>

> On Mon, Feb 16, 2009 at 8:51 PM, Lynne Pope <lynne.pope@gmail.com> wrote:
> > Amazing too that the reaction to opposition to the proposal should be
> > comments that I don't know what I am talking about.
>
> Well, until you actually explain what you're talking about, you seem
> to be spouting gibberish.
>
> I do want give you the benefit of the doubt, but you really need to
> explain things like this further:
>
> > The inclusion of the canonical URL link in the core will cause problems
> for
> > a number of users. For example, where I have ported content from other
> apps
> > I have retained the URL through the HTTP/1.1 standard for content
> location.
> > I know of a number of other sites who also use this specification - which
> > will conflict with the Google canonical URL implementation.
>
> That needs a better explanation. Really. Because it doesn't make any sense.


Sorry if you don't understand.  But there's a wealth of information already
out there about content-location and how to keep a URI that does not change
regardless of the underlying software platform.



> What, exactly, will having a link rel=canonical do to your site that
> will harm SEO? What will it do to a normal WordPress site? Please
> explain to us what the heck you're talking about, so that we can
> understand what you're getting at.


It will do nothing to my site if it can be removed through an action or
filter ;)
It will also do little or nothing to negatively impact on a new site either.
However, older sites need to maintain control over what gets presented as a
canonical URL or they will run into issues with indexing. An automated link
in the header will not give sites the control they need to direct page rank
and link juice the way they want.

For example, one site I developed was using categories as a key part of the
site structure. Posts were accessed by category and were not listed in an
index or home page. A standard blog would normally have category -> post as
duplicates to index -> post but, in this case, all posts were accessed only
through a category listing.

A generic header tag that assumes sites are blogs that present either full
posts or excerpts on a frontpage is going to be unusable in situations like
this. As more sites trend towards using WP as a CMS we will see more sites
deviating from the norm.



> I submit that every WordPress based site, which has not been heavily
> customized, can benefit from this tag. Mainly, the new comments paging
> creates duplicate content pages in the singular post/page sections
> which were not there before.


I submit that this is a problem then with the new comments paging, which
should be fixed if possible. Not every search engine or indexing service
supports the canonical tag and relying on the tag alone to mitigate
duplicate content issues caused by code is probably not the best way to
handle it.


 > The new Google tag is designed for duplicate content. WordPress already
> > provides many ways of ensuring duplicate content is not indexed.
>
> No. The canonical tag is indeed designed for duplicate content, but it
> is not designed to prevent duplicate content from being indexed. It's
> to keep it indexed under a single URL.


Google have, themselves, stated that the duplicate content which directs the
robot to a canonical URL will be removed from the results.

> The tag is NOT designed to be in the header of every page.
>
> Yes, in point of fact, it is. It is designed exactly for that. Or, at
> least, to be in the header of pages that can have multiple URLs which
> contain the same content. And with 2.7 and paged comments, that's
> every single post page.


Please check your facts. I don't want to find myself under personal attack
for simply restating what Google and Yahoo! have already said. They have
made it clear that the tag is designed to go into the headers of the
duplicate content, to point the search engines to the canonical content.

While Matt Cutts has stated that he believes there should be no problem if
the canonical page has a link pointing to itself, he has also warned that
people should be very careful. Yahoo, on the other hand, is advising that
the link should go only into pages that are duplicates.

Remember that so far they have only done tests and the mass roll-out is only
just happening. Because of the removal of duplicate content from search
results I stand by my assertion that introducing it into the core - as a
default - has the potential to hurt a sites SEO.

I simply do not see how WP code (or any code really) can discern which
content is duplicate and subordinate to other content. (With the exception
of paged comments, where clearly the comment pages are subordinate to the
parent comments page). Search engines do a fairly good job but are not
fool-proof.

However, as I said, I have no problem with it going into the core as long as
it is able to be easily disabled. After all, I don't get any flack if sites
lose a bunch of content from search engine results ;)

Lynne
From alex.cologne at googlemail.com  Tue Feb 17 11:10:58 2009
From: alex.cologne at googlemail.com (Alex Rabe)
Date: Tue Feb 17 11:11:10 2009
Subject: [wp-hackers] Re: Auto Update Plugins
In-Reply-To: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
Message-ID: <585cd02a-31f9-49eb-b7c7-1b29f6a20c9d@h5g2000yqh.googlegroups.com>

This is discussed in ticket #7487 : http://core.trac.wordpress.org/ticket/7487

On 17 Feb., 05:33, Duane Storey <duanesto...@gmail.com> wrote:
> The current WordPress implementation of the auto plugin updater does the
> following:
>
> 1) Downloads a zip file of the new plugin
> 2) Unzips it into a new directory
> 3) Deletes the old directoy
> 4) Copies the new directory to the old directory
> 5) Deletes the new directory
>
> A side effect of this is that all user-generated content that's part of the
> plugin gets deleted (for example, you can add custom styles to CFORMS, or
> custom icons to WPtouch). ?Anyone know the motivation behind doing it this
> way? ?The auto upgrade for WordPress obviously works differently since your
> themes and plugins aren't deleted during an auto upgrade. ? I'd be happy to
> submit a patch to simply unzip into the current plugin directory (which
> would maintain user generated content in that plugin folder), but I was just
> curious about the motivation for doing it the current way.
>
> Thanks,
> Duane
> _______________________________________________
> wp-hackers mailing list
> wp-hack...@lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
From wp at xentek.net  Tue Feb 17 15:01:36 2009
From: wp at xentek.net (Eric Marden)
Date: Tue Feb 17 15:02:26 2009
Subject: [wp-hackers] Thumbnails for Locally Hosted Videos?
In-Reply-To: <EMEWEMEW2_DELIMl1G06O7c3d100ebda430072d0898,
	mikeschinkel@newclarity.net, 21345631.3971234850800266.J>
References: <EMEWEMEW2_DELIMl1G06O7c3d100ebda430072d0898,
	mikeschinkel@newclarity.net, 21345631.3971234850800266.J>
Message-ID: <5380D19F-8904-475A-B0E5-3998436B7465@xentek.net>

> but I understand ffmpeg is fairly complex to set up

ffmpeg is not very difficult at all to set up. Also many distros have  
it in the respository so it may just be an apt-get / yum install away.

-e

From dangayle at gmail.com  Tue Feb 17 15:37:45 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Tue Feb 17 15:39:23 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<6055133559852561502@unknownmsgid>
	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
Message-ID: <20681CCB-8A2E-4F27-873E-FCE6513BD26F@gmail.com>

The canonical idea is that every page is associated with only one (1)  
URL, which never was a problem with static pages. Dynamic pages,  
particularly WordPress posts or pages, can have multiple different URL  
schemes that all point to the same content. But the content itself  
doesn't change. Being able to designate as a rule, "THIS is the best/ 
most accurate/preferred URL for any given content" is an idea well  
past due.

This doesn't mean, however, that the OTHER ways of accessing the  
content cease to exist. It simply means that Google will wrap every  
page that has the same canonical URL under that single banner.

I don't see anywhere in the Google information that the canonical URL  
can't be whatever you want it to be. That being said, if someone is  
using old URL structures and would like the benefits associated with  
canonical URLs, there should be a way to choose or over-ride what YOU  
want to be the canonical, aside from what would be the default  
Wordpress Permalink.

Many of my company's websites use categories as their primary  
navigation, and I don't see how this would not benefit them at all,  
because regardless of how you get to it, there is only one (1) page  
and that one page can have one (1) canonical url. In fact, that is  
quite the point, because you CAN get to a single page in many  
different ways in a CMS.


On Feb 17, 2009, at 2:12 AM, Lynne Pope wrote:

> It will also do little or nothing to negatively impact on a new site  
> either.
> However, older sites need to maintain control over what gets  
> presented as a
> canonical URL or they will run into issues with indexing. An  
> automated link
> in the header will not give sites the control they need to direct  
> page rank
> and link juice the way they want.
>
> For example, one site I developed was using categories as a key part  
> of the
> site structure. Posts were accessed by category and were not listed  
> in an
> index or home page. A standard blog would normally have category ->  
> post as
> duplicates to index -> post but, in this case, all posts were  
> accessed only
> through a category listing.
>
> A generic header tag that assumes sites are blogs that present  
> either full
> posts or excerpts on a frontpage is going to be unusable in  
> situations like
> this. As more sites trend towards using WP as a CMS we will see more  
> sites
> deviating from the norm.

From joost at yoast.com  Tue Feb 17 15:44:09 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb 17 15:44:27 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <EMEWEMEW2_DELIMl1FKHk5f272bcd0b04ca4a43f6cf,
	mikeschinkel@newclarity.net, 6796390.3511234837078973.J>
References: <EMEWEMEW2_DELIMl1FKHk5f272bcd0b04ca4a43f6cf,
	mikeschinkel@newclarity.net, 6796390.3511234837078973.J>
Message-ID: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>

Maybe it's about time I weigh in on the subject, as I wrote the first  
plugin that handles this thing, sorry for not being there until now :)

The code below isn't enough, although it solves the annoying comment  
paging url duplication. On most blogs, you can get to a category by  
going to example.com/catname/ and example.com/cat/catname/, etc. etc.  
etc. The tag SHOULD be on every page, and those who say it shouldn't  
be, should re-read the spec.

Regarding the "BECAUSE IT'S NOT WordPress's JOB TO SEO YOUR SITE.": I  
disagree slightly. One of the reasons that WordPress is becoming more  
and more popular is that it's so search engine friendly, out of the  
box. I agree that meta descriptions and keywords are plugin territory,  
but the canonical link asks something that I think is very valid to  
ask of ANY content management system: what is the preferred place  
within your site to get this content?

It helps not only with things like comment paging, but also with  
preventing duplicate content issues due to campaign tagging etc. Many  
of the bigger WordPress users will, for instance, send out mailings,  
and want to tag the links in those mailings. This canonical tag makes  
sure that if someone, by accident, links to that mailing list URL,  
those aren't showing up in the search result pages. It's this kind of  
"automatically doing the right thing" that users enjoy so much.

So, my vote is to include it in core, of course allowing people to  
disable it.

Best regards,
Joost

On Feb 17, 2009, at 3:17 AM, Mike Schinkel wrote:

> Nathan:
>
> So would you support what I proposed: adding to the core a  
> "the_canonical_url()" function for use as a template tag that does  
> essentially the following and then calling that function in  
> header.php of the themes included in core?:
>
>   function the_canonical_url() {
>     echo '<link rel="canonical" href="' . get_the_canonical_url() .  
> '" />';
>   }	
> 	
>   function get_the_canonical_url() {
>     return apply_filters('the_canonical_url',get_permalink());
>   }	
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> P.S. Please forgive me if these aren't ready for inclusion in core  
> as exactly written; I hacked them together in about 30 seconds...
>
> ----- Original Message -----
> From: "Nathan Rice" <ncrice@gmail.com>
> To: wp-hackers@lists.automattic.com
> Sent: Monday, February 16, 2009 8:12:39 PM GMT -05:00 US/Canada  
> Eastern
> Subject: Re: [wp-hackers] Canonical integration into core
>
> I've obviously been out voted. ;-)
>
> The only way I would support it is if it was either:
> 1. Off by default or
> 2. Made a function that theme authors could use.
>
> I would support functionality that let me, the theme author, put it  
> in my
> <head> section myself.  Any automatic insertion of the tag via an  
> action
> that is on by default gets the big -1 from me.
>
> It's not that I don't think this is a good thing.  It's that I don't  
> think
> it should be on by default. If a theme author wants to use it, they  
> will use
> it.  If not, don't make them have to manually turn it off.
>
> Nathan
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Mon, Feb 16, 2009 at 7:24 PM, Mike Schinkel
> <mikeschinkel@newclarity.net>wrote:
>
>> "Nathan Rice" <ncrice@gmail.com> wrote:
>>> In reality, this is an SEO function, which should be up to the
>>> theme to implement, not a plugin OR core functionality.  It's
>>> frivolous.
>>
>> It's not frivolous nor is it just for SEO. It is a useful component  
>> of
>> website architecture and having it in core means you can depend on  
>> it being
>> there rather than just on the 3% of sites where the author decides to
>> install the plugin.  One example of a type of site that could make  
>> good use
>> of this would be Delicious. Basically anything that collects and  
>> stores
>> links can use this, not just search engines.
>>
>>> How about just letting the user define what they want in their
>>> theme source?
>>
>> The user?  Or the themer?  Or the plugin developer?  Most users  
>> wouldn't
>> know the benefit of it so will never consider it.
>>
>> I understand that there may be edge cases where a themer might not  
>> want to
>> not have it included but the solution is to explicitly include it  
>> in the
>> default theme(s) using a "the_canonical_url()" template tag that  
>> the themer
>> can remove, and some infrastructure to support the template tag;  
>> basically
>> filters that would let a plugin change it from the default if there  
>> was a
>> need for that.
>>
>> So this isn't *just* a theming or SEO issue; this is a content  
>> management
>> issue because the user might want to specify it themselves via the  
>> CMS
>> although I'd agree that would be something a plugin could offer.
>>
>> "Daniel Torreblanca" <regulatethis@gmail.com> wrote:
>>> I'm getting so tired of these "omg put this/don't put
>>> this in core" arguments ... then anyone arguing based
>>> on "we can't cause bloat/not enough people will use
>>> it" is basically blowing hot air.
>>
>> +1
>>
>>> Not one single person that I've ever asked about it
>>> has said that they use it or even know what it is.
>>
>> You didn't ask me, but FWIW I use Windows Live Writer and thinks it  
>> is the
>> best thing since sliced bread. Seriously. :-)
>>
>>> So, while I believe support for this new canonical
>>> URL tag SHOULD be included in core, Joost has already
>>> done it in a plugin. Anyone who knows what they're
>>> doing would find this functionality whether it was
>>> in core or in a plugin, and for the vast majority
>>> of people it will make no difference whatsoever.
>>
>> This argument I disagree with. One of the benefits of canonical  
>> URLs is
>> that it cleans up one of the messy parts of the web at large. With  
>> all the
>> affiliate links and ad sourcing links et.al. you have all these  
>> duplicate
>> links and it was hard to get an automated handle on the web at  
>> large.  The
>> more sites that specify canonical links, the less this is a  
>> problem. Because
>> of it's massive footprint WordPress could make a real positive  
>> difference by
>> simply including canonical links in core.
>>
>> So I'll ask from another perspective; what's the harm in doing  
>> something
>> good for the web when what is requires would be so small and simple  
>> to add?
>> Does anyone really feel like this will bloat the core? Srsly?  And  
>> for those
>> saying they will have to filter it out, what's you have now is no  
>> better so
>> what have you lost?
>>
>> -Mike Schinkel
>> http://mikeschinkel.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ncrice at gmail.com  Tue Feb 17 15:49:08 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 15:49:19 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
Message-ID: <862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>

On Tue, Feb 17, 2009 at 10:44 AM, Joost de Valk <joost@yoast.com> wrote:
>
>
> So, my vote is to include it in core, of course allowing people to disable
> it.
>
>
I still vote to have it disabled by default, and allowing people to *enable*
it using a template tag.

Nathan
From joost at yoast.com  Tue Feb 17 15:50:57 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb 17 15:51:11 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
Message-ID: <7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>

On Feb 17, 2009, at 4:49 PM, Nathan Rice wrote:

> On Tue, Feb 17, 2009 at 10:44 AM, Joost de Valk <joost@yoast.com>  
> wrote:
>>
>>
>> So, my vote is to include it in core, of course allowing people to  
>> disable
>> it.
>>
>>
> I still vote to have it disabled by default, and allowing people to  
> *enable*
> it using a template tag.
>
> Nathan

Doesn't make sense to me. We've enabled nofollow by default because  
that was in the best interest of 90% of our users, why not do the same  
for canonical?

Joost
From otto at ottodestruct.com  Tue Feb 17 15:57:50 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 15:57:59 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<6055133559852561502@unknownmsgid>
	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
Message-ID: <161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>

On Tue, Feb 17, 2009 at 4:12 AM, Lynne Pope <lynne.pope@gmail.com> wrote:
> Sorry if you don't understand.  But there's a wealth of information already
> out there about content-location and how to keep a URI that does not change
> regardless of the underlying software platform.

I understand what content-location is and does. I don't understand WTF
you're talking about with regards to it and this canonical thing. They
seem entirely unrelated to me, so referencing one from the other
doesn't make any sense.

> For example, one site I developed was using categories as a key part of the
> site structure. Posts were accessed by category and were not listed in an
> index or home page. A standard blog would normally have category -> post as
> duplicates to index -> post but, in this case, all posts were accessed only
> through a category listing.
>
> A generic header tag that assumes sites are blogs that present either full
> posts or excerpts on a frontpage is going to be unusable in situations like
> this. As more sites trend towards using WP as a CMS we will see more sites
> deviating from the norm.

This doesn't make any sense. If you use a particular permalink
structure, then the canonical URL for your posts would reflect that.

Also, the fact that you have no index and use only categories doesn't
affect this either. Canonical URLs would only make sense on single
posts/pages/attachments, they wouldn't be on an index or an archive.
From joost at yoast.com  Tue Feb 17 16:12:49 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb 17 16:13:03 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<6055133559852561502@unknownmsgid>
	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>
Message-ID: <9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>

Sound bite from Matt Cutts, in reply to me telling him about this  
discussion:

"that's great! Canonical tags should be added to WP core cautiously  
and with thoughtful deliberation, but I support it."

Best,
Joost
From ncrice at gmail.com  Tue Feb 17 16:14:11 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 16:14:22 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
Message-ID: <862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>

In fairness, I would have been against that too ;-)  Since I am primarily a
theme developer, I generally don't like it when core forces things on a
theme.  I feel like a small group of devs are getting together and making
this decision for the whole of the WP community, whereas a template tag
would decentralize that decision so that theme developers could decide what
gets generated in the <head> of their themes.
And don't say "they can turn it off", because I know a LOT of theme
developers that still don't know how to turn the WP version tag off, or even
that it's there in the first place.

</rant>

Nathan


On Tue, Feb 17, 2009 at 10:50 AM, Joost de Valk <joost@yoast.com> wrote:
>
>
> Doesn't make sense to me. We've enabled nofollow by default because that
> was in the best interest of 90% of our users, why not do the same for
> canonical?
>
> Joost
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ncrice at gmail.com  Tue Feb 17 16:24:26 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 16:24:37 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<6055133559852561502@unknownmsgid>
	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>
	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
Message-ID: <862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>

Joost,
This is one of my main concerns with it being "on by default".  I cringe
when I think about utter saturation of a new "SEO technique".  It makes the
technique useless. Think meta keywords, description, and keyword stuffing in
<title>.

FWIW, the nofollow was to fight spam, primarily, was it not?

But generally, I agree with Cutts ... it should be a core option.  But make
it a friggin' template tag.

Just say NO to saturation! ;-)

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Tue, Feb 17, 2009 at 11:12 AM, Joost de Valk <joost@yoast.com> wrote:

> Sound bite from Matt Cutts, in reply to me telling him about this
> discussion:
>
> "that's great! Canonical tags should be added to WP core cautiously and
> with thoughtful deliberation, but I support it."
>
> Best,
> Joost
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From joost at yoast.com  Tue Feb 17 16:46:22 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb 17 16:46:49 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<6055133559852561502@unknownmsgid>
	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>
	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
Message-ID: <D662A12B-09D7-44CD-AADB-14218F2111D9@yoast.com>

I don't want to doubt your skills, but I sorta do... :-) You simply  
can't overuse the canonical tag, if anything wide spread use would  
make se's use it more, not less.

On 17 feb 2009, at 17:24, Nathan Rice <ncrice@gmail.com> wrote:

> Joost,
> This is one of my main concerns with it being "on by default".  I  
> cringe
> when I think about utter saturation of a new "SEO technique".  It  
> makes the
> technique useless. Think meta keywords, description, and keyword  
> stuffing in
> <title>.
>
> FWIW, the nofollow was to fight spam, primarily, was it not?
>
> But generally, I agree with Cutts ... it should be a core option.   
> But make
> it a friggin' template tag.
>
> Just say NO to saturation! ;-)
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Tue, Feb 17, 2009 at 11:12 AM, Joost de Valk <joost@yoast.com>  
> wrote:
>
>> Sound bite from Matt Cutts, in reply to me telling him about this
>> discussion:
>>
>> "that's great! Canonical tags should be added to WP core cautiously  
>> and
>> with thoughtful deliberation, but I support it."
>>
>> Best,
>> Joost
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From gaarai at gaarai.com  Tue Feb 17 16:50:23 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Tue Feb 17 16:50:45 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>	<6055133559852561502@unknownmsgid>	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
Message-ID: <499AEACF.8010803@gaarai.com>

I understand where you are coming from Nathan, but I think that this 
canonical tag is a different sort of beast and shouldn't be treated as 
an SEO fad.

People spammed their duplicate content all over a site to try to improve 
their keyword rankings. Search engines protected their search results by 
lowering value of duplicate content. Today's dynamic URL structures 
present a problem of providing what is technically the same exact 
content by different names, not to try to improve rankings but to offer 
other benefits such as tracking or to be easily read. This resulted in 
sites getting hit with the duplicate content penalty. In order to 
correct this for legitimate content producers that aren't trying to game 
the system, the search engine devs have said, "here is a way that you 
good guys can stop being penalized".

So, this is different than keywords, descriptions, title, etc in that 
this field doesn't try to enhance your keyword ranking and can't be used 
to game the system. Rather, it's just a safety measure to ensure that 
your site isn't inadvertently punished due to search engines' actions to 
stem the tide of spam content.

It's true that the redirects that WordPress uses take care of most of 
this issue, but there are many areas that have already been covered that 
aren't adequately protected. I'd rather have the WP devs spend their 
time finding and addressing every possible avenue where duplicate 
content could be shown than rely on every individual theme developer to 
do that independently.

To me, the only reason to not have something in core and on by default 
is if there is a rational reason to not want it. Since this is 1) not an 
SEO enhancement to artificially improve ranking, 2) is blessed by the 
big players, and 3) doesn't do anything to affect valid markup, I can 
see no reason why anyone would not want this on their WordPress site.

Adding a template tag is great and all, but I'd rather theme developers 
focus on creating great looking themes with advanced features rather 
than reading the latest buzz about meta tag standards and practices.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Nathan Rice wrote:
> Joost,
> This is one of my main concerns with it being "on by default".  I cringe
> when I think about utter saturation of a new "SEO technique".  It makes the
> technique useless. Think meta keywords, description, and keyword stuffing in
> <title>.
>
> FWIW, the nofollow was to fight spam, primarily, was it not?
>
> But generally, I agree with Cutts ... it should be a core option.  But make
> it a friggin' template tag.
>
> Just say NO to saturation! ;-)
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Tue, Feb 17, 2009 at 11:12 AM, Joost de Valk <joost@yoast.com> wrote:
>
>   
>> Sound bite from Matt Cutts, in reply to me telling him about this
>> discussion:
>>
>> "that's great! Canonical tags should be added to WP core cautiously and
>> with thoughtful deliberation, but I support it."
>>
>> Best,
>> Joost
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From joost at yoast.com  Tue Feb 17 16:53:27 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb 17 16:53:54 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <499AEACF.8010803@gaarai.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>	<6055133559852561502@unknownmsgid>	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
	<499AEACF.8010803@gaarai.com>
Message-ID: <FC271FF5-71BE-44CB-8FDF-304F5FA14E31@yoast.com>

Amen! Well spoken!

On 17 feb 2009, at 17:50, Chris Jean <gaarai@gaarai.com> wrote:

> I understand where you are coming from Nathan, but I think that this  
> canonical tag is a different sort of beast and shouldn't be treated  
> as an SEO fad.
>
> People spammed their duplicate content all over a site to try to  
> improve their keyword rankings. Search engines protected their  
> search results by lowering value of duplicate content. Today's  
> dynamic URL structures present a problem of providing what is  
> technically the same exact content by different names, not to try to  
> improve rankings but to offer other benefits such as tracking or to  
> be easily read. This resulted in sites getting hit with the  
> duplicate content penalty. In order to correct this for legitimate  
> content producers that aren't trying to game the system, the search  
> engine devs have said, "here is a way that you good guys can stop  
> being penalized".
>
> So, this is different than keywords, descriptions, title, etc in  
> that this field doesn't try to enhance your keyword ranking and  
> can't be used to game the system. Rather, it's just a safety measure  
> to ensure that your site isn't inadvertently punished due to search  
> engines' actions to stem the tide of spam content.
>
> It's true that the redirects that WordPress uses take care of most  
> of this issue, but there are many areas that have already been  
> covered that aren't adequately protected. I'd rather have the WP  
> devs spend their time finding and addressing every possible avenue  
> where duplicate content could be shown than rely on every individual  
> theme developer to do that independently.
>
> To me, the only reason to not have something in core and on by  
> default is if there is a rational reason to not want it. Since this  
> is 1) not an SEO enhancement to artificially improve ranking, 2) is  
> blessed by the big players, and 3) doesn't do anything to affect  
> valid markup, I can see no reason why anyone would not want this on  
> their WordPress site.
>
> Adding a template tag is great and all, but I'd rather theme  
> developers focus on creating great looking themes with advanced  
> features rather than reading the latest buzz about meta tag  
> standards and practices.
>
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> http://dnsyogi.com/
>
>
>
> Nathan Rice wrote:
>> Joost,
>> This is one of my main concerns with it being "on by default".  I  
>> cringe
>> when I think about utter saturation of a new "SEO technique".  It  
>> makes the
>> technique useless. Think meta keywords, description, and keyword  
>> stuffing in
>> <title>.
>>
>> FWIW, the nofollow was to fight spam, primarily, was it not?
>>
>> But generally, I agree with Cutts ... it should be a core option.   
>> But make
>> it a friggin' template tag.
>>
>> Just say NO to saturation! ;-)
>>
>> My Website
>> http://www.nathanrice.net/
>>
>> My Twitter
>> http://twitter.com/nathanrice
>>
>>
>> On Tue, Feb 17, 2009 at 11:12 AM, Joost de Valk <joost@yoast.com>  
>> wrote:
>>
>>
>>> Sound bite from Matt Cutts, in reply to me telling him about this
>>> discussion:
>>>
>>> "that's great! Canonical tags should be added to WP core  
>>> cautiously and
>>> with thoughtful deliberation, but I support it."
>>>
>>> Best,
>>> Joost
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From ncrice at gmail.com  Tue Feb 17 16:56:11 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 16:56:24 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <FC271FF5-71BE-44CB-8FDF-304F5FA14E31@yoast.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>
	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
	<499AEACF.8010803@gaarai.com>
	<FC271FF5-71BE-44CB-8FDF-304F5FA14E31@yoast.com>
Message-ID: <862d087f0902170856r66bd9c5mf0317754a0108c57@mail.gmail.com>

And Chris goes and stabs his co-worker in the back! ;-)

OK, I won't concede making it a template tag, but you guys are obviously in
the majority here. Put the damn thing in core. :-)

Nathan

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Tue, Feb 17, 2009 at 11:53 AM, Joost de Valk <joost@yoast.com> wrote:

> Amen! Well spoken!
>
>
> On 17 feb 2009, at 17:50, Chris Jean <gaarai@gaarai.com> wrote:
>
>  I understand where you are coming from Nathan, but I think that this
>> canonical tag is a different sort of beast and shouldn't be treated as an
>> SEO fad.
>>
>> People spammed their duplicate content all over a site to try to improve
>> their keyword rankings. Search engines protected their search results by
>> lowering value of duplicate content. Today's dynamic URL structures present
>> a problem of providing what is technically the same exact content by
>> different names, not to try to improve rankings but to offer other benefits
>> such as tracking or to be easily read. This resulted in sites getting hit
>> with the duplicate content penalty. In order to correct this for legitimate
>> content producers that aren't trying to game the system, the search engine
>> devs have said, "here is a way that you good guys can stop being penalized".
>>
>> So, this is different than keywords, descriptions, title, etc in that this
>> field doesn't try to enhance your keyword ranking and can't be used to game
>> the system. Rather, it's just a safety measure to ensure that your site
>> isn't inadvertently punished due to search engines' actions to stem the tide
>> of spam content.
>>
>> It's true that the redirects that WordPress uses take care of most of this
>> issue, but there are many areas that have already been covered that aren't
>> adequately protected. I'd rather have the WP devs spend their time finding
>> and addressing every possible avenue where duplicate content could be shown
>> than rely on every individual theme developer to do that independently.
>>
>> To me, the only reason to not have something in core and on by default is
>> if there is a rational reason to not want it. Since this is 1) not an SEO
>> enhancement to artificially improve ranking, 2) is blessed by the big
>> players, and 3) doesn't do anything to affect valid markup, I can see no
>> reason why anyone would not want this on their WordPress site.
>>
>> Adding a template tag is great and all, but I'd rather theme developers
>> focus on creating great looking themes with advanced features rather than
>> reading the latest buzz about meta tag standards and practices.
>>
>> Chris Jean
>> http://gaarai.com/
>> http://wp-roadmap.com/
>> http://dnsyogi.com/
>>
>>
>>
>> Nathan Rice wrote:
>>
>>> Joost,
>>> This is one of my main concerns with it being "on by default".  I cringe
>>> when I think about utter saturation of a new "SEO technique".  It makes
>>> the
>>> technique useless. Think meta keywords, description, and keyword stuffing
>>> in
>>> <title>.
>>>
>>> FWIW, the nofollow was to fight spam, primarily, was it not?
>>>
>>> But generally, I agree with Cutts ... it should be a core option.  But
>>> make
>>> it a friggin' template tag.
>>>
>>> Just say NO to saturation! ;-)
>>>
>>> My Website
>>> http://www.nathanrice.net/
>>>
>>> My Twitter
>>> http://twitter.com/nathanrice
>>>
>>>
>>> On Tue, Feb 17, 2009 at 11:12 AM, Joost de Valk <joost@yoast.com> wrote:
>>>
>>>
>>>  Sound bite from Matt Cutts, in reply to me telling him about this
>>>> discussion:
>>>>
>>>> "that's great! Canonical tags should be added to WP core cautiously and
>>>> with thoughtful deliberation, but I support it."
>>>>
>>>> Best,
>>>> Joost
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>>  _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>>  _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From gaarai at gaarai.com  Tue Feb 17 17:01:40 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Tue Feb 17 17:02:01 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902170856r66bd9c5mf0317754a0108c57@mail.gmail.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>	<499AEACF.8010803@gaarai.com>	<FC271FF5-71BE-44CB-8FDF-304F5FA14E31@yoast.com>
	<862d087f0902170856r66bd9c5mf0317754a0108c57@mail.gmail.com>
Message-ID: <499AED74.8040008@gaarai.com>

Hey... We're all free to share our opinion here.

You're a savvy dev, and I trust that you'll know ways to modify its 
behavior if you find issues with it. However, I don't trust those that 
don't know all the ins-and-outs of these things to add it for me.

So, I guess that this is a trust thing. I trust you do what is right and 
reasonable, but I don't trust that all of the other theme producers out 
there to know about all of these discussions and topics nor do I trust 
them to properly add the necessary changes to their themes.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Nathan Rice wrote:
> And Chris goes and stabs his co-worker in the back! ;-)
>
> OK, I won't concede making it a template tag, but you guys are obviously in
> the majority here. Put the damn thing in core. :-)
>
> Nathan
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Tue, Feb 17, 2009 at 11:53 AM, Joost de Valk <joost@yoast.com> wrote:
>
>   
>> Amen! Well spoken!
>>
>>
>> On 17 feb 2009, at 17:50, Chris Jean <gaarai@gaarai.com> wrote:
>>
>>  I understand where you are coming from Nathan, but I think that this
>>     
>>> canonical tag is a different sort of beast and shouldn't be treated as an
>>> SEO fad.
>>>
>>> People spammed their duplicate content all over a site to try to improve
>>> their keyword rankings. Search engines protected their search results by
>>> lowering value of duplicate content. Today's dynamic URL structures present
>>> a problem of providing what is technically the same exact content by
>>> different names, not to try to improve rankings but to offer other benefits
>>> such as tracking or to be easily read. This resulted in sites getting hit
>>> with the duplicate content penalty. In order to correct this for legitimate
>>> content producers that aren't trying to game the system, the search engine
>>> devs have said, "here is a way that you good guys can stop being penalized".
>>>
>>> So, this is different than keywords, descriptions, title, etc in that this
>>> field doesn't try to enhance your keyword ranking and can't be used to game
>>> the system. Rather, it's just a safety measure to ensure that your site
>>> isn't inadvertently punished due to search engines' actions to stem the tide
>>> of spam content.
>>>
>>> It's true that the redirects that WordPress uses take care of most of this
>>> issue, but there are many areas that have already been covered that aren't
>>> adequately protected. I'd rather have the WP devs spend their time finding
>>> and addressing every possible avenue where duplicate content could be shown
>>> than rely on every individual theme developer to do that independently.
>>>
>>> To me, the only reason to not have something in core and on by default is
>>> if there is a rational reason to not want it. Since this is 1) not an SEO
>>> enhancement to artificially improve ranking, 2) is blessed by the big
>>> players, and 3) doesn't do anything to affect valid markup, I can see no
>>> reason why anyone would not want this on their WordPress site.
>>>
>>> Adding a template tag is great and all, but I'd rather theme developers
>>> focus on creating great looking themes with advanced features rather than
>>> reading the latest buzz about meta tag standards and practices.
>>>
>>> Chris Jean
>>> http://gaarai.com/
>>> http://wp-roadmap.com/
>>> http://dnsyogi.com/
>>>
>>>
>>>
>>> Nathan Rice wrote:
>>>
>>>       
>>>> Joost,
>>>> This is one of my main concerns with it being "on by default".  I cringe
>>>> when I think about utter saturation of a new "SEO technique".  It makes
>>>> the
>>>> technique useless. Think meta keywords, description, and keyword stuffing
>>>> in
>>>> <title>.
>>>>
>>>> FWIW, the nofollow was to fight spam, primarily, was it not?
>>>>
>>>> But generally, I agree with Cutts ... it should be a core option.  But
>>>> make
>>>> it a friggin' template tag.
>>>>
>>>> Just say NO to saturation! ;-)
>>>>
>>>> My Website
>>>> http://www.nathanrice.net/
>>>>
>>>> My Twitter
>>>> http://twitter.com/nathanrice
>>>>
>>>>
>>>> On Tue, Feb 17, 2009 at 11:12 AM, Joost de Valk <joost@yoast.com> wrote:
>>>>
>>>>
>>>>  Sound bite from Matt Cutts, in reply to me telling him about this
>>>>         
>>>>> discussion:
>>>>>
>>>>> "that's great! Canonical tags should be added to WP core cautiously and
>>>>> with thoughtful deliberation, but I support it."
>>>>>
>>>>> Best,
>>>>> Joost
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>>>  _______________________________________________
>>>>>           
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>>  _______________________________________________
>>>>         
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>       
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
From ncrice at gmail.com  Tue Feb 17 17:07:08 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 17:07:19 2009
Subject: [wp-hackers] Useless Filter
Message-ID: <862d087f0902170907h2c230899p12785d570fc523dd@mail.gmail.com>

So last night I was trying to build a plugin when I ran across this code in
http://svn.automattic.com/wordpress/trunk/wp-includes/classes.php

$output .= $indent . '<li class="' . $css_class . '"><a href="' .
get_page_link($page->ID) . '" title="' .
attribute_escape(apply_filters('the_title', $page->post_title)) . '">' .
$link_before . apply_filters('the_title', $page->post_title) . $link_after .
'</a>';
As you can see, the title is generated using the $page->post_title object.
 But since the the_title filter doesn't have any way of passing the
$page->post_title into a filter, this filter ends up being useless.  At
best, you can use a function to output something, but since it doesn't have
a way to pass a variable into the filter function, the result is EXACTLY the
same no matter where the the_title filter is used (which is pretty much
everywhere a post/page title is called).

Ideally, I could pass $title and $id into my filter function.  But better
yet, use a separate function (like the get_page_link function).  Like so:

$title = $page->post_title;
$id = $page->ID;
$use = 'Walker_Page';
$output .= $indent . '<li class="' . $css_class . '"><a href="' .
get_page_link($page->ID) . '" title="' .
attribute_escape(apply_filters('the_title', $title, $id, $use)) . '">' .
$link_before . apply_filters('the_title', $title, $id, $use) . $link_after .
'</a>';

The plugin I was trying to create would allow you to set a custom field in a
page that let you specify a different title for a page when it's outputted
by wp_list_pages.

Am I missing something, or am I right in thinking that the use of this
filter here is completely non-existent?

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice
From if.website at gmail.com  Tue Feb 17 17:20:46 2009
From: if.website at gmail.com (Austin Matzko)
Date: Tue Feb 17 17:20:54 2009
Subject: [wp-hackers] Useless Filter
In-Reply-To: <862d087f0902170907h2c230899p12785d570fc523dd@mail.gmail.com>
References: <862d087f0902170907h2c230899p12785d570fc523dd@mail.gmail.com>
Message-ID: <674b4a3b0902170920s2afcfa51t6611a26596d490ae@mail.gmail.com>

On Tue, Feb 17, 2009 at 11:07 AM, Nathan Rice <ncrice@gmail.com> wrote:
> $output .= $indent . '<li class="' . $css_class . '"><a href="' .
> get_page_link($page->ID) . '" title="' .
> attribute_escape(apply_filters('the_title', $page->post_title)) . '">' .
> $link_before . apply_filters('the_title', $page->post_title) . $link_after .
> '</a>';
> As you can see, the title is generated using the $page->post_title object.
>  But since the the_title filter doesn't have any way of passing the
> $page->post_title into a filter, this filter ends up being useless.  At
> best, you can use a function to output something, but since it doesn't have
> a way to pass a variable into the filter function, the result is EXACTLY the
> same no matter where the the_title filter is used (which is pretty much
> everywhere a post/page title is called).

$page->post_title is passed to whatever are the callbacks for
"the_title"; for default WordPress, that includes wptexturize(),
trim(), and convert_chars().  So the result is not exactly the same as
not using the filter, for those strings that will be modified by one
of those functions.

However, I think you're right that passing the ID of the page as a
second argument would be a helpful enhancement.
From mikeschinkel at newclarity.net  Tue Feb 17 17:21:37 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue Feb 17 17:22:22 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <4584501.4151234890967930.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1GBLc70e12fe370c3801f8cac91,
	mikeschinkel@newclarity.net, 23677548.4171234891312856.J>

Hi all: 


Now that it seems that rel="canonical" will make it into core, I've a question about how to best handle posts with paged comments. One option is to set the canonical URL to be the main post page that would include just the first set of comments but clearly the comments themselves are content and frequently we would like to see them indexed too. So what would be the best approach for this? As I ponder the options I can't come up with a good one, especially since Google doesn't like cloaked pages (i.e. one's that redirect for most people but not for Google's spiders.) 

Ideally if someone leaves a comment on page 2 with terms unique to other comments and also on in the post content that URL should show up somewhere in Google's index for those terms. 

Basically I'm just sending this email to hopefully trigger the discussion and/or to get a pointer to where it has already been discussed. 

-Mike Schinkel 
http://mikeschinkel.com/ 

P.S. It would seem what is also needed is for Google to recognize a <div rel="noindex"> so that for comment pages 2 thru "N" we could wrap the post content with that tag, no? 

From yahgrp at poplarware.com  Tue Feb 17 17:29:09 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Tue Feb 17 17:26:29 2009
Subject: [wp-hackers] Useless Filter
In-Reply-To: <862d087f0902170907h2c230899p12785d570fc523dd@mail.gmail.com>
References: <862d087f0902170907h2c230899p12785d570fc523dd@mail.gmail.com>
Message-ID: <499AF3E5.2090102@poplarware.com>

In answer to your question at the end of your post: You are missing 
something. There are some plugins that need to filter titles in a way 
that only depends on the text.

If you are interested, one example is multi-lingual plugins. When you 
edit a post, you type something like this in for the post title:
   [lang_en]Title in English[/lang_en][lang_es]Titulo en Espa?ol[/lang_es]
But when the blog is being viewed, you only display either English or 
Spanish, depending on URL, cookies, etc. That is done with a 
'the_title' filter, which decides on the language and spits out just 
one part of that text. Independent of post ID, where it is being used, 
etc.

I'm not saying you shouldn't advocate adding some more information to 
'the_title', but the current usage is NOT useless.

    --Jennifer


Nathan Rice wrote:
> So last night I was trying to build a plugin when I ran across this code in
> http://svn.automattic.com/wordpress/trunk/wp-includes/classes.php
> 
> $output .= $indent . '<li class="' . $css_class . '"><a href="' .
> get_page_link($page->ID) . '" title="' .
> attribute_escape(apply_filters('the_title', $page->post_title)) . '">' .
> $link_before . apply_filters('the_title', $page->post_title) . $link_after .
> '</a>';
[...]
> Am I missing something, or am I right in thinking that the use of this
> filter here is completely non-existent?

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From hempsworth at googlemail.com  Tue Feb 17 16:52:54 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Tue Feb 17 17:28:43 2009
Subject: [wp-hackers] Use WP as an authentication system
In-Reply-To: <bcf8d3150902152111s1ca27e22q2a0afa7261462608@mail.gmail.com>
References: <5a1dad880902150942y2f2efe3ehf8236e0194133008@mail.gmail.com>
	<5a1dad880902151110q68d46b9ex3ac344b4323eaedd@mail.gmail.com>
	<-6765708292069001638@unknownmsgid>
	<5a1dad880902151332i4895ff7qeecd0020ed2580f9@mail.gmail.com>
	<49988A82.1040605@gaarai.com>
	<5a1dad880902151424j261cd355i9b4f1900f906c2cd@mail.gmail.com>
	<5a1dad880902151433y1891b947oe739b385942b0149@mail.gmail.com>
	<4306661140425898553@unknownmsgid>
	<5a1dad880902151744i58ff8764we682ddd502bb2698@mail.gmail.com>
	<bcf8d3150902152111s1ca27e22q2a0afa7261462608@mail.gmail.com>
Message-ID: <5a1dad880902170852r21b32369qb530eaf488d5480@mail.gmail.com>

I'm still having trouble with this... being a bit of a PHP newbie doesn't
help!
The following plugin allows the redirection of specific user roles:
<http://svn.wp-plugins.org/peters-login-redirect/trunk/wplogin_redirect.php>
http://svn.wp-plugins.org/peters-login-redirect/trunk/wplogin_redirect.php

Could I use some of that code to fix my problem? If so, what bits do I need?

Learning through doing I guess.. :P

-- Alex


On Mon, Feb 16, 2009 at 5:11 AM, James Collins <james@om4.com.au> wrote:

> Hi Alex,
> It looks like the wp_safe_redirect() function is called on the redirect_to
> parameter before redirecting. This helps ensure that the redirect URL is a
> safe one.
>
> I'm guessing you'll have to hook into the allowed_redirect_hosts filter
> (see
> the wp_safe_redirect() function in wp-includes/pluggable.php in order to
> allow the user to be redirected to your staff.example.com subdomain.
>
> Regards,
>
> James Collins
>
>
>
>
> 2009/2/16 Alex Hempton-Smith <hempsworth@googlemail.com>
>
> > Sure thing Mike, I've got it pretty much working but I just need to
> change
> > where the sign-in form redirects to, so things run completely smoothly.
> > I have a really stripped down sign-in form like this:
> >
> > <form name="loginform" id="loginform" action="<?php bloginfo('wpurl');
> > ?>/wp-login.php" method="post">
> > <input type="text" name="log" id="user_login" class="input" value="<?php
> > echo attribute_escape(stripslashes($user_login)); ?>" />
> > <input type="password" name="pwd" id="user_pass" class="input" value=""
> > size="20" />
> > <input type="submit" name="wp-submit" id="wp-submit" value="Log In" />
> > <input type="hidden" name="redirect_to" value="http://staff.example.com"
> > />
> > </form>
> >
> > But when it's used in the subdomain, it logs me in but redirects me to
> the
> > admin panel - completely ignoring the redirect_to!
> > Also, with log-out links I'm adding "&redirect_to=
> http://staff.example.com
> > "
> > to the URL but it's not working either.
> >
> > Am I missing something?
> >
> > -- Alex
> >
> >
> > On Mon, Feb 16, 2009 at 1:28 AM, <mikeschinkel@newclarity.net> wrote:
> >
> > > Alex,
> > >
> > > When you get it all working any chance you could document how you did
> it
> > on
> > > a blog or somewhere? I think it would be a very valuable technique in
> > > general and could help a lot of people.
> > >
> > > -Mike
> > >
> > > Sent from my iPhone
> > >
> > > On Feb 15, 2009, at 5:34 PM, Alex Hempton-Smith <
> > hempsworth@googlemail.com>
> > > wrote:
> > >
> > >  By the way, I changed the cookie attributes in the
> > >> Firefox developer toolbar, and the authentication is now working.
> > >> I just need to stop WP saving the cookies with the original settings.
> > >>
> > >> -- Alex
> > >>
> > >>
> > >> On Sun, Feb 15, 2009 at 10:24 PM, Alex Hempton-Smith <
> > >> hempsworth@googlemail.com> wrote:
> > >>
> > >>  Brilliant, so I changed the cookie path from "/wp/wp-admin" to "/",
> and
> > >>> changed the host from "www.example.com" to ".example.com".
> > >>> How would I force WP to save the cookies like this?
> > >>>
> > >>> -- Alex
> > >>>
> > >>>
> > >>>
> > >>> On Sun, Feb 15, 2009 at 9:34 PM, Gaarai <gaarai@gaarai.com> wrote:
> > >>>
> > >>>  The cookie is most likely being set just for the domain that your
> > >>>> WordPress resides on. The subdomain is treated as a different
> domain.
> > >>>>
> > >>>> So, you might look at modifying the cookie to be set for a domain of
> > ".
> > >>>> domain.com". Note the dot (.) in front of the domain name. This
> > should
> > >>>> ensure that the cookie will work for all subdomains.
> > >>>>
> > >>>>
> > >>>> Chris Jean
> > >>>> http://gaarai.com/
> > >>>> http://wp-roadmap.com/
> > >>>>
> > >>>>
> > >>>>
> > >>>> Alex Hempton-Smith wrote:
> > >>>>
> > >>>>  Thanks Mike, I've defined ABSPATH and when I visit the page I get
> > sent
> > >>>>> to
> > >>>>> the WP login page. I log in, it redirects me to the Dashboard. When
> I
> > >>>>> go
> > >>>>> back to the subdomain it just shows me the login page again.
> > >>>>> Why's it doing this you think?
> > >>>>>
> > >>>>> -- Alex
> > >>>>>
> > >>>>>
> > >>>>> On Sun, Feb 15, 2009 at 9:18 PM, <mikeschinkel@newclarity.net>
> > wrote:
> > >>>>>
> > >>>>>
> > >>>>>
> > >>>>>  admin.php includes wp-load.php and assumes it's relative
> directory.
> > >>>>>> Either
> > >>>>>> define ABSPATH to your WordPress root or explicitly require()
> > >>>>>> wp-load.php
> > >>>>>> using the correct directory before requiring admin.php and that
> > should
> > >>>>>> solve
> > >>>>>> it.
> > >>>>>>
> > >>>>>> -Mike
> > >>>>>>
> > >>>>>> Sent from my iPhone
> > >>>>>>
> > >>>>>>
> > >>>>>> On Feb 15, 2009, at 2:11 PM, Alex Hempton-Smith <
> > >>>>>> hempsworth@googlemail.com>
> > >>>>>> wrote:
> > >>>>>>
> > >>>>>> I'm having real trouble with this... I get errors when I try to
> > >>>>>> include
> > >>>>>>
> > >>>>>>
> > >>>>>>  the
> > >>>>>>> following code:
> > >>>>>>> require_once('../wp/wp-admin/admin.php');
> > >>>>>>>
> > >>>>>>> Saying:
> > >>>>>>> Warning: require_once(../wp-load.php) [function.require-once]:
> > failed
> > >>>>>>> to open stream: No such file or directory in...
> > >>>>>>>
> > >>>>>>> Does anybody have any experience of using WP in this way?
> > >>>>>>>
> > >>>>>>> -- Alex
> > >>>>>>>
> > >>>>>>>
> > >>>>>>> On Sun, Feb 15, 2009 at 5:49 PM, Gaarai <gaarai@gaarai.com>
> wrote:
> > >>>>>>>
> > >>>>>>> I'm about to head out, but I wanted to give you a tip to get you
> > >>>>>>> started.
> > >>>>>>>
> > >>>>>>>
> > >>>>>>>  I recommend checking out the wp-admin/index.php file. This
> should
> > >>>>>>>> serve
> > >>>>>>>> as
> > >>>>>>>> a template for your custom app.
> > >>>>>>>>
> > >>>>>>>> You'll also need to look at the $_REQUEST['redirect_to'] query
> arg
> > >>>>>>>> so
> > >>>>>>>> that
> > >>>>>>>> you can properly redirect your user once they've logged in. You
> > can
> > >>>>>>>> find
> > >>>>>>>> more about it by looking in the wp-login.php file.
> > >>>>>>>>
> > >>>>>>>> Chris Jean
> > >>>>>>>> http://gaarai.com/
> > >>>>>>>> http://wp-roadmap.com/
> > >>>>>>>>
> > >>>>>>>>
> > >>>>>>>>
> > >>>>>>>> Alex Hempton-Smith wrote:
> > >>>>>>>>
> > >>>>>>>> Hi all,
> > >>>>>>>>
> > >>>>>>>>
> > >>>>>>>>  I'm building a set of custom apps/scripts for our charity and I
> > >>>>>>>>> would
> > >>>>>>>>> like
> > >>>>>>>>> to make these available at "staff.example.com". I have a
> regular
> > >>>>>>>>> install
> > >>>>>>>>> of
> > >>>>>>>>> WP in "example.com/wp/". The staff subdomain's content is
> > actually
> > >>>>>>>>> in
> > >>>>>>>>> /home/
> > >>>>>>>>> example.com/staff/.
> > >>>>>>>>>
> > >>>>>>>>> Instead of re-invent the wheel I (and to have the same
> > >>>>>>>>> usernames/passwords),
> > >>>>>>>>> I would like to use the authentication system from the WP
> install
> > >>>>>>>>> on
> > >>>>>>>>> my
> > >>>>>>>>> own
> > >>>>>>>>> custom PHP stuff in the subdomain. And then be able to use
> normal
> > >>>>>>>>> WP
> > >>>>>>>>> functions within my own app, like checking if they're logged
> in,
> > >>>>>>>>> getting
> > >>>>>>>>> usernames etc.
> > >>>>>>>>>
> > >>>>>>>>> What do I need to do to allow my users to log into the main
> > >>>>>>>>> install,
> > >>>>>>>>> and
> > >>>>>>>>> then be logged into the custom area?
> > >>>>>>>>>
> > >>>>>>>>> I know it'll be more than just including 'wp-blog-header.php',
> > >>>>>>>>> because
> > >>>>>>>>> of
> > >>>>>>>>> cookies etc?
> > >>>>>>>>>
> > >>>>>>>>> Many thanks if anyone can help!
> > >>>>>>>>>
> > >>>>>>>>> -- Alex
> > >>>>>>>>> _______________________________________________
> > >>>>>>>>> wp-hackers mailing list
> > >>>>>>>>> wp-hackers@lists.automattic.com
> > >>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>>>>>>
> > >>>>>>>>>
> > >>>>>>>>>
> > >>>>>>>>> _______________________________________________
> > >>>>>>>>>
> > >>>>>>>>>
> > >>>>>>>>>  wp-hackers mailing list
> > >>>>>>>> wp-hackers@lists.automattic.com
> > >>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>>>>>
> > >>>>>>>> _______________________________________________
> > >>>>>>>>
> > >>>>>>>>
> > >>>>>>>>  wp-hackers mailing list
> > >>>>>>> wp-hackers@lists.automattic.com
> > >>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>>>>
> > >>>>>>>
> > >>>>>>>
> > >>>>>>>  _______________________________________________
> > >>>>>> wp-hackers mailing list
> > >>>>>> wp-hackers@lists.automattic.com
> > >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>>>
> > >>>>>>
> > >>>>>>
> > >>>>>>  _______________________________________________
> > >>>>> wp-hackers mailing list
> > >>>>> wp-hackers@lists.automattic.com
> > >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>>
> > >>>>>
> > >>>>>
> > >>>>>  _______________________________________________
> > >>>> wp-hackers mailing list
> > >>>> wp-hackers@lists.automattic.com
> > >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>>>
> > >>>>
> > >>>
> > >>>  _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers@lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ncrice at gmail.com  Tue Feb 17 17:35:03 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 17:35:15 2009
Subject: [wp-hackers] Useless Filter
In-Reply-To: <499AF3E5.2090102@poplarware.com>
References: <862d087f0902170907h2c230899p12785d570fc523dd@mail.gmail.com>
	<499AF3E5.2090102@poplarware.com>
Message-ID: <862d087f0902170935k1996bbc0offf4f34fb73442de@mail.gmail.com>

My mistake guys and gals. The filter isn't useless.

So I'm not missing anything there, though, right?  There is no current way
of passing variables into a filter function for that particular instance of
the_title?

Nathan

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Tue, Feb 17, 2009 at 12:29 PM, Jennifer Hodgdon <yahgrp@poplarware.com>wrote:

> In answer to your question at the end of your post: You are missing
> something. There are some plugins that need to filter titles in a way that
> only depends on the text.
>
> If you are interested, one example is multi-lingual plugins. When you edit
> a post, you type something like this in for the post title:
>  [lang_en]Title in English[/lang_en][lang_es]Titulo en Espa?ol[/lang_es]
> But when the blog is being viewed, you only display either English or
> Spanish, depending on URL, cookies, etc. That is done with a 'the_title'
> filter, which decides on the language and spits out just one part of that
> text. Independent of post ID, where it is being used, etc.
>
> I'm not saying you shouldn't advocate adding some more information to
> 'the_title', but the current usage is NOT useless.
>
>   --Jennifer
>
>
> Nathan Rice wrote:
>
>> So last night I was trying to build a plugin when I ran across this code
>> in
>> http://svn.automattic.com/wordpress/trunk/wp-includes/classes.php
>>
>> $output .= $indent . '<li class="' . $css_class . '"><a href="' .
>> get_page_link($page->ID) . '" title="' .
>> attribute_escape(apply_filters('the_title', $page->post_title)) . '">' .
>> $link_before . apply_filters('the_title', $page->post_title) . $link_after
>> .
>> '</a>';
>>
> [...]
>
>> Am I missing something, or am I right in thinking that the use of this
>> filter here is completely non-existent?
>>
>
> --
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
>
> Drupal/WordPress Sites, Themes, Modules/Plugins
> Custom Web Programming, Web Databases
> PHP, Perl, MySQL, JavaScript, XML, AJAX
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wp-hackers at striderweb.com  Tue Feb 17 17:53:15 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Feb 17 17:53:27 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
Message-ID: <59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>

I've actually brought this up a few times on this list.  Almost this  
exact discussion was had recently on the Spam Karma dev list.

My response there applies here.  I said...

***quote***
This is actually an issue with a couple other plugins of mine.  I was
thinking that it might behoove us to create a standard location for
such files, such as /plugins/plugin data/.  Thus, SK could look for
"third party" [Spam Karma] plugins in /plugins/plugin data/spamkarma/

Other plugins could use that same folder for their files -- e.g.
otherplugin could use /plugins/plugin data/otherplugin/.  Yes it's a
question of getting other plugin authors to use the same standard, but
I think that a good idea spreads if someone just starts doing it --
and SK is a pretty prominent plugin.  :)
***end quote***

I actually like this because we could start doing it *right now*.  It  
requires no WP core changes at all -- just a decision to start  
encouraging plugin authors to start doing it this way.  I think it's a  
good standard to have a folder called "plugin data" that lives inside  
the "plugins" folder.  Any time a plugin can take add-on files, they  
go in there, and the plugin is coded to look there.

(And yes, each plugin should have a subfolder for it's own files --  
don't just mass dump files into the "plugin data" folder!)

Anyway, that's my two bits, and that's probably the way I'm going to  
start doing my plugins until something significantly better comes along.

Stephen


On Feb 16, 2009, at 10:33 PM, Duane Storey wrote:

> The current WordPress implementation of the auto plugin updater does  
> the
> following:
>
> 1) Downloads a zip file of the new plugin
> 2) Unzips it into a new directory
> 3) Deletes the old directoy
> 4) Copies the new directory to the old directory
> 5) Deletes the new directory
>
> A side effect of this is that all user-generated content that's part  
> of the
> plugin gets deleted (for example, you can add custom styles to  
> CFORMS, or
> custom icons to WPtouch).  Anyone know the motivation behind doing  
> it this
> way?  The auto upgrade for WordPress obviously works differently  
> since your
> themes and plugins aren't deleted during an auto upgrade.   I'd be  
> happy to
> submit a patch to simply unzip into the current plugin directory  
> (which
> would maintain user generated content in that plugin folder), but I  
> was just
> curious about the motivation for doing it the current way.

From msafi at msafi.com  Tue Feb 17 18:02:39 2009
From: msafi at msafi.com (Mohammed K. al-Safi)
Date: Tue Feb 17 18:02:51 2009
Subject: [wp-hackers] Storing Tabular Content in the Database
Message-ID: <d8b84dd60902171002p5854186au231418d280d6060d@mail.gmail.com>

My question is about allowing WordPress users to easily display tabular
content on their blog; providing them with tools to easily do so.

I'm creating a plugin that will ask the user to select a CSV file from their
HDD and then store the content of this CSV file, *some how*, and display it
as HTML on a page or a post. I know, there already is a plugin by Alex Rabe
called wp-Table. However, I believe there is plenty of room in this area for
another plugin.

At any rate, I need your help on how I should store the tabular content that
the user uploads via this plugin.

My first thought was to take a CSV file and create a new MySQL table that
mirrors the CSV file. So, for every CSV file the user wants to display on
the blog, I'd end up with a corresponding MySQL table in WP's database. I
would also create a table to keep track of these CSV tables.

I explained the aforementioned implementation to some people on irc://
irc.freenode.net/mysql and they said that this is definitely not the way to
do it. They were talking about database schemas, data normalization and some
stuff that, honestly, I don't think is practicable or applicable for this
plugin. But the people in the IRC channel didn't really understand the
situation as well as you would, so I want your opinion and help.

As an alternative solution, I thought that maybe I will generate the HTML
for the table, and just store that. Kind of like how WordPress would store a
post or something...

Which implementation should I follow?

Thanks,
From wp-hackers at striderweb.com  Tue Feb 17 18:04:01 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Feb 17 18:04:14 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <499AEACF.8010803@gaarai.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>	<6055133559852561502@unknownmsgid>	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
	<499AEACF.8010803@gaarai.com>
Message-ID: <EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>

On Feb 17, 2009, at 10:50 AM, Chris Jean wrote:

> So, this is different than keywords, descriptions, title, etc in  
> that this field[...] can't be used to game the system.


That's the type of presumptive attitude that spammers just love.

Putting it another way, I bet there are a number of savvy spammers who  
would beg to differ with you on that statement.

Personally, I think the comment paging problem is a completely  
separete issue and should be treated as such.  Something like  
example.com/blog/2009/02/post-title/?comment-page=2 works just fine  
and doesn't (to my knowledge) hurt SEO or search engines.

Stephen

-- 
Stephen Rider
http://striderweb.com/




From jess at funroe.net  Tue Feb 17 18:05:17 2009
From: jess at funroe.net (Jess Planck)
Date: Tue Feb 17 18:05:27 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
Message-ID: <4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>

I thought something like wp-content/plugin_data/ was more appropriate.

Doesn't WordPress comb wp-content/plugins/ for sub-folder plugins?  
Wouldn't wp-content/plugins_data/plugins_data.php file be seen as as  
potential plugin and possible hazard?

Jess

On Feb 17, 2009, at 11:53 AM, Stephen Rider wrote:

> Anyway, that's my two bits, and that's probably the way I'm going to  
> start doing my plugins until something significantly better comes  
> along.

From tonyscott100 at yahoo.co.uk  Tue Feb 17 18:08:33 2009
From: tonyscott100 at yahoo.co.uk (Tony Scott)
Date: Tue Feb 17 18:08:48 2009
Subject: [wp-hackers] WordCamp UK 2009 accomodation and Upcoming
References: <d8b84dd60902171002p5854186au231418d280d6060d@mail.gmail.com>
Message-ID: <197966.82938.qm@web25906.mail.ukl.yahoo.com>


Attention all those planning to attend WordCamp UK 2009 http://wiki.wordcampuk.tonyscott.org.uk/

If you want accomodation in Cardiff please add your name to this page:

http://wiki.wordcampuk.tonyscott.org.uk/2009_hotel_accommodation

Register your interest on Upcoming:

http://upcoming.yahoo.com/event/1700318/

Cheers

Tony


----
Tony Scott
http://tonyscott.org.uk
http://twitter.com/tonys
http://twestival.com
http://uk.wordcamp.org


      
From joost at yoast.com  Tue Feb 17 18:09:47 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb 17 18:10:10 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>	<6055133559852561502@unknownmsgid>	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
	<499AEACF.8010803@gaarai.com>
	<EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
Message-ID: <B93F834F-0D66-417F-86F2-3D30E5FB9DFD@yoast.com>

On 17 feb 2009, at 19:04, Stephen Rider <wp-hackers@striderweb.com>  
wrote:

> On Feb 17, 2009, at 10:50 AM, Chris Jean wrote:
>
>> So, this is different than keywords, descriptions, title, etc in  
>> that this field[...] can't be used to game the system.
>
>
> That's the type of presumptive attitude that spammers just love.
>
> Putting it another way, I bet there are a number of savvy spammers  
> who would beg to differ with you on that statement.
>
> Personally, I think the comment paging problem is a completely  
> separete issue and should be treated as such.  Something like  
> example.com/blog/2009/02/post-title/?comment-page=2 works just fine  
> and doesn't (to my knowledge) hurt SEO or search engines.
>
It does, so your knowledge needs updating :-)

Best,
Joost
From scribu at gmail.com  Tue Feb 17 18:50:41 2009
From: scribu at gmail.com (scribu)
Date: Tue Feb 17 18:50:52 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
Message-ID: <349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>

A php file isn't detected as a plugin unless it has a plugin header with /*
Plugin Name etc. */ so there shouldn't be any problem.

You could even create a child plugin header to be parsed by the parent
plugin:

/*
Child Plugin Name: Spam Karma Extenden
Child Plugin Parent: Spam Karma
*/

I think the best name would be /wp-content/plugin-data/ because dashes are
used everywhere instead of spaces or underscores.

On Tue, Feb 17, 2009 at 8:05 PM, Jess Planck <jess@funroe.net> wrote:

> I thought something like wp-content/plugin_data/ was more appropriate.
>
> Doesn't WordPress comb wp-content/plugins/ for sub-folder plugins? Wouldn't
> wp-content/plugins_data/plugins_data.php file be seen as as potential plugin
> and possible hazard?
>
> Jess
>
> On Feb 17, 2009, at 11:53 AM, Stephen Rider wrote:
>
>  Anyway, that's my two bits, and that's probably the way I'm going to start
>> doing my plugins until something significantly better comes along.
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From gaarai at gaarai.com  Tue Feb 17 18:51:24 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Tue Feb 17 18:51:47 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>	<6055133559852561502@unknownmsgid>	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>	<499AEACF.8010803@gaarai.com>
	<EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
Message-ID: <499B072C.7070402@gaarai.com>

You're right Stephen. I am underestimating the creativity of spammers; 
however, I still don't think that having non-spammer websites adopt this 
new practice could somehow feed the spammers.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Stephen Rider wrote:
> On Feb 17, 2009, at 10:50 AM, Chris Jean wrote:
>
>> So, this is different than keywords, descriptions, title, etc in that 
>> this field[...] can't be used to game the system.
>
>
> That's the type of presumptive attitude that spammers just love.
>
> Putting it another way, I bet there are a number of savvy spammers who 
> would beg to differ with you on that statement.
>
> Personally, I think the comment paging problem is a completely 
> separete issue and should be treated as such.  Something like 
> example.com/blog/2009/02/post-title/?comment-page=2 works just fine 
> and doesn't (to my knowledge) hurt SEO or search engines.
>
> Stephen
>
From scribu at gmail.com  Tue Feb 17 18:54:20 2009
From: scribu at gmail.com (scribu)
Date: Tue Feb 17 18:54:35 2009
Subject: [wp-hackers] Storing Tabular Content in the Database
In-Reply-To: <d8b84dd60902171002p5854186au231418d280d6060d@mail.gmail.com>
References: <d8b84dd60902171002p5854186au231418d280d6060d@mail.gmail.com>
Message-ID: <349fe48b0902171054n1cbc13dfrfadb2b33bb816559@mail.gmail.com>

You could create a table that stores each file in a single row, with a
column for a name and a column for the data, defined as BLOB (this would
work for reasonably sized files).

As for the HTML rendering, I don't know if you should store the CVS in raw
form, or already rendered.

On Tue, Feb 17, 2009 at 8:02 PM, Mohammed K. al-Safi <msafi@msafi.com>wrote:

> My question is about allowing WordPress users to easily display tabular
> content on their blog; providing them with tools to easily do so.
>
> I'm creating a plugin that will ask the user to select a CSV file from
> their
> HDD and then store the content of this CSV file, *some how*, and display it
> as HTML on a page or a post. I know, there already is a plugin by Alex Rabe
> called wp-Table. However, I believe there is plenty of room in this area
> for
> another plugin.
>
> At any rate, I need your help on how I should store the tabular content
> that
> the user uploads via this plugin.
>
> My first thought was to take a CSV file and create a new MySQL table that
> mirrors the CSV file. So, for every CSV file the user wants to display on
> the blog, I'd end up with a corresponding MySQL table in WP's database. I
> would also create a table to keep track of these CSV tables.
>
> I explained the aforementioned implementation to some people on irc://
> irc.freenode.net/mysql and they said that this is definitely not the way
> to
> do it. They were talking about database schemas, data normalization and
> some
> stuff that, honestly, I don't think is practicable or applicable for this
> plugin. But the people in the IRC channel didn't really understand the
> situation as well as you would, so I want your opinion and help.
>
> As an alternative solution, I thought that maybe I will generate the HTML
> for the table, and just store that. Kind of like how WordPress would store
> a
> post or something...
>
> Which implementation should I follow?
>
> Thanks,
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From scribu at gmail.com  Tue Feb 17 18:58:48 2009
From: scribu at gmail.com (scribu)
Date: Tue Feb 17 18:59:02 2009
Subject: [wp-hackers] Useless Filter
In-Reply-To: <862d087f0902170935k1996bbc0offf4f34fb73442de@mail.gmail.com>
References: <862d087f0902170907h2c230899p12785d570fc523dd@mail.gmail.com>
	<499AF3E5.2090102@poplarware.com>
	<862d087f0902170935k1996bbc0offf4f34fb73442de@mail.gmail.com>
Message-ID: <349fe48b0902171058w54d8e20bofc6c3a3d8875d3e2@mail.gmail.com>

No, you can't do add_filter($name, $callback, $priority, $number_of_args,
$CUSTOM_ARGS) right? Or that's not what you're asking...

On Tue, Feb 17, 2009 at 7:35 PM, Nathan Rice <ncrice@gmail.com> wrote:

> My mistake guys and gals. The filter isn't useless.
>
> So I'm not missing anything there, though, right?  There is no current way
> of passing variables into a filter function for that particular instance of
> the_title?
>
> Nathan
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Tue, Feb 17, 2009 at 12:29 PM, Jennifer Hodgdon <yahgrp@poplarware.com
> >wrote:
>
> > In answer to your question at the end of your post: You are missing
> > something. There are some plugins that need to filter titles in a way
> that
> > only depends on the text.
> >
> > If you are interested, one example is multi-lingual plugins. When you
> edit
> > a post, you type something like this in for the post title:
> >  [lang_en]Title in English[/lang_en][lang_es]Titulo en Espa?ol[/lang_es]
> > But when the blog is being viewed, you only display either English or
> > Spanish, depending on URL, cookies, etc. That is done with a 'the_title'
> > filter, which decides on the language and spits out just one part of that
> > text. Independent of post ID, where it is being used, etc.
> >
> > I'm not saying you shouldn't advocate adding some more information to
> > 'the_title', but the current usage is NOT useless.
> >
> >   --Jennifer
> >
> >
> > Nathan Rice wrote:
> >
> >> So last night I was trying to build a plugin when I ran across this code
> >> in
> >> http://svn.automattic.com/wordpress/trunk/wp-includes/classes.php
> >>
> >> $output .= $indent . '<li class="' . $css_class . '"><a href="' .
> >> get_page_link($page->ID) . '" title="' .
> >> attribute_escape(apply_filters('the_title', $page->post_title)) . '">' .
> >> $link_before . apply_filters('the_title', $page->post_title) .
> $link_after
> >> .
> >> '</a>';
> >>
> > [...]
> >
> >> Am I missing something, or am I right in thinking that the use of this
> >> filter here is completely non-existent?
> >>
> >
> > --
> > Jennifer Hodgdon * Poplar ProductivityWare
> > www.poplarware.com
> >
> > Drupal/WordPress Sites, Themes, Modules/Plugins
> > Custom Web Programming, Web Databases
> > PHP, Perl, MySQL, JavaScript, XML, AJAX
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From ncrice at gmail.com  Tue Feb 17 19:03:07 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 19:03:19 2009
Subject: [wp-hackers] Useless Filter
In-Reply-To: <349fe48b0902171058w54d8e20bofc6c3a3d8875d3e2@mail.gmail.com>
References: <862d087f0902170907h2c230899p12785d570fc523dd@mail.gmail.com>
	<499AF3E5.2090102@poplarware.com>
	<862d087f0902170935k1996bbc0offf4f34fb73442de@mail.gmail.com>
	<349fe48b0902171058w54d8e20bofc6c3a3d8875d3e2@mail.gmail.com>
Message-ID: <862d087f0902171103w41fbf99ahca0ffe9d77b7ba3@mail.gmail.com>

Well, I was just wondering if I overlooked any way of getting some sort of
argument (ideally the $page object variable) into my filter function.

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Tue, Feb 17, 2009 at 1:58 PM, scribu <scribu@gmail.com> wrote:

> No, you can't do add_filter($name, $callback, $priority, $number_of_args,
> $CUSTOM_ARGS) right? Or that's not what you're asking...
>
> On Tue, Feb 17, 2009 at 7:35 PM, Nathan Rice <ncrice@gmail.com> wrote:
>
> > My mistake guys and gals. The filter isn't useless.
> >
> > So I'm not missing anything there, though, right?  There is no current
> way
> > of passing variables into a filter function for that particular instance
> of
> > the_title?
> >
> > Nathan
> >
> > My Website
> > http://www.nathanrice.net/
> >
> > My Twitter
> > http://twitter.com/nathanrice
> >
> >
> > On Tue, Feb 17, 2009 at 12:29 PM, Jennifer Hodgdon <
> yahgrp@poplarware.com
> > >wrote:
> >
> > > In answer to your question at the end of your post: You are missing
> > > something. There are some plugins that need to filter titles in a way
> > that
> > > only depends on the text.
> > >
> > > If you are interested, one example is multi-lingual plugins. When you
> > edit
> > > a post, you type something like this in for the post title:
> > >  [lang_en]Title in English[/lang_en][lang_es]Titulo en
> Espa?ol[/lang_es]
> > > But when the blog is being viewed, you only display either English or
> > > Spanish, depending on URL, cookies, etc. That is done with a
> 'the_title'
> > > filter, which decides on the language and spits out just one part of
> that
> > > text. Independent of post ID, where it is being used, etc.
> > >
> > > I'm not saying you shouldn't advocate adding some more information to
> > > 'the_title', but the current usage is NOT useless.
> > >
> > >   --Jennifer
> > >
> > >
> > > Nathan Rice wrote:
> > >
> > >> So last night I was trying to build a plugin when I ran across this
> code
> > >> in
> > >> http://svn.automattic.com/wordpress/trunk/wp-includes/classes.php
> > >>
> > >> $output .= $indent . '<li class="' . $css_class . '"><a href="' .
> > >> get_page_link($page->ID) . '" title="' .
> > >> attribute_escape(apply_filters('the_title', $page->post_title)) . '">'
> .
> > >> $link_before . apply_filters('the_title', $page->post_title) .
> > $link_after
> > >> .
> > >> '</a>';
> > >>
> > > [...]
> > >
> > >> Am I missing something, or am I right in thinking that the use of this
> > >> filter here is completely non-existent?
> > >>
> > >
> > > --
> > > Jennifer Hodgdon * Poplar ProductivityWare
> > > www.poplarware.com
> > >
> > > Drupal/WordPress Sites, Themes, Modules/Plugins
> > > Custom Web Programming, Web Databases
> > > PHP, Perl, MySQL, JavaScript, XML, AJAX
> > >
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From scribu at gmail.com  Tue Feb 17 19:04:06 2009
From: scribu at gmail.com (scribu)
Date: Tue Feb 17 19:04:18 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <-3479349770000582452@unknownmsgid>
References: <4584501.4151234890967930.JavaMail.DELL-1405$@Dell-1405>
	<-3479349770000582452@unknownmsgid>
Message-ID: <349fe48b0902171104k26d33349wc9e2e74f83193f65@mail.gmail.com>

On Tue, Feb 17, 2009 at 7:21 PM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> Ideally if someone leaves a comment on page 2 with terms unique to other
> comments and also on in the post content that URL should show up somewhere
> in Google's index for those terms.


Well, that would be the whole point of rel="canonical", IMHO. Otherwise, you
could just add a <meta name="robots" content="noindex"> in the page header
and be done with it.

P.S. It would seem what is also needed is for Google to recognize a <div
> rel="noindex"> so that for comment pages 2 thru "N" we could wrap the post
> content with that tag, no?
>

Yes, that would come in extra handy.


-- 
http://scribu.net
From casey.bisson at gmail.com  Tue Feb 17 19:03:23 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Tue Feb 17 19:07:00 2009
Subject: [wp-hackers] Storing Tabular Content in the Database
In-Reply-To: <d8b84dd60902171002p5854186au231418d280d6060d@mail.gmail.com>
References: <d8b84dd60902171002p5854186au231418d280d6060d@mail.gmail.com>
Message-ID: <41AB36EC-C2C5-42A5-8374-81F1553A9D41@gmail.com>


How you might save the data depends on how you'd like to use it. If  
all you need to do is display the table (and, perhaps, use the jQuery  
table sorter on it, etc.), then you've got a few easy options. On the  
other hand, if you need to be able to do more complex operations on  
the data, such as search it or join it with other tables, then you'd  
probably need a more sophisticated storage scheme (such as the  
individual tables you had first suggested).

Starting with the first case, you could create a php array or object  
based on the table and save that as post meta. Your plugin could then  
read the entry from post meta and generate the table html. You could  
also simply save the table html as a string, but that affords you  
somewhat less flexibility in the future.

You could also save the tabular data as an attachment in the posts  
table (which then makes the strings in it more searchable) and parse  
it on display.

How you might handle something more complex is, well, more complex,  
but I can point to my library catalog implemented in WordPress, which  
turns each book into a post and stores the metadata in the taxonomy  
tables. Example: http://library.plymouth.edu/browse More info: http://wordpress.org/extend/plugins/scriblio/

--Casey

http://maisonbisson.com
http://about.scriblio.net

On Feb 17, 2009, at 1:02 PM, Mohammed K. al-Safi wrote:

> My question is about allowing WordPress users to easily display  
> tabular
> content on their blog; providing them with tools to easily do so.
>
> I'm creating a plugin that will ask the user to select a CSV file  
> from their
> HDD and then store the content of this CSV file, *some how*, and  
> display it
> as HTML on a page or a post. I know, there already is a plugin by  
> Alex Rabe
> called wp-Table. However, I believe there is plenty of room in this  
> area for
> another plugin.
>
> At any rate, I need your help on how I should store the tabular  
> content that
> the user uploads via this plugin.
>
> My first thought was to take a CSV file and create a new MySQL table  
> that
> mirrors the CSV file. So, for every CSV file the user wants to  
> display on
> the blog, I'd end up with a corresponding MySQL table in WP's  
> database. I
> would also create a table to keep track of these CSV tables.
>
> I explained the aforementioned implementation to some people on irc://
> irc.freenode.net/mysql and they said that this is definitely not the  
> way to
> do it. They were talking about database schemas, data normalization  
> and some
> stuff that, honestly, I don't think is practicable or applicable for  
> this
> plugin. But the people in the IRC channel didn't really understand the
> situation as well as you would, so I want your opinion and help.
>
> As an alternative solution, I thought that maybe I will generate the  
> HTML
> for the table, and just store that. Kind of like how WordPress would  
> store a
> post or something...
>
> Which implementation should I follow?
>
> Thanks,
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jess at funroe.net  Tue Feb 17 19:58:04 2009
From: jess at funroe.net (Jess Planck)
Date: Tue Feb 17 19:58:19 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
Message-ID: <1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>

Good to know. File storage and server file manipulation from plugins  
is rare but I do appreciate authors who use a location that is easy to  
recognize and well documented.

It helps when I write shell scripts for svn and rsync merges. I can  
write exclusion files easier. Not to mention in some cases I follow up  
with permissions changes on some systems... to avoid the phone calls  
by administrators ( that shouldn't be administrators..) that starts  
with: "I edited my theme / plugin file and..."

In my case ( not a typical user ) anything in wp-content is fair game.  
Except I may restrict plugins/ and themes/. If it's an upload, please  
use wp-content/uploads. If it's some wp-content/plugin-data directory,  
that's cool too.

I have had to deny using at least one plugin that did strange and  
unnecessary things inside it's own plugin directory.

Jess

On Feb 17, 2009, at 12:50 PM, scribu wrote:

> A php file isn't detected as a plugin unless it has a plugin header  
> with /*
> Plugin Name etc. */ so there shouldn't be any problem.
>
> You could even create a child plugin header to be parsed by the parent
> plugin:
>
> /*
> Child Plugin Name: Spam Karma Extenden
> Child Plugin Parent: Spam Karma
> */
>
> I think the best name would be /wp-content/plugin-data/ because  
> dashes are
> used everywhere instead of spaces or underscores.
>
> On Tue, Feb 17, 2009 at 8:05 PM, Jess Planck <jess@funroe.net> wrote:
>
>> I thought something like wp-content/plugin_data/ was more  
>> appropriate.
>>
>> Doesn't WordPress comb wp-content/plugins/ for sub-folder plugins?  
>> Wouldn't
>> wp-content/plugins_data/plugins_data.php file be seen as as  
>> potential plugin
>> and possible hazard?
>>
>> Jess
>>
>> On Feb 17, 2009, at 11:53 AM, Stephen Rider wrote:
>>
>> Anyway, that's my two bits, and that's probably the way I'm going  
>> to start
>>> doing my plugins until something significantly better comes along.
>>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Tue Feb 17 20:02:44 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 20:02:55 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>
	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>
	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
	<499AEACF.8010803@gaarai.com>
	<EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
Message-ID: <161617690902171202h27ffca8eq29ff31ce1c4d55cb@mail.gmail.com>

On Tue, Feb 17, 2009 at 12:04 PM, Stephen Rider
<wp-hackers@striderweb.com> wrote:
> Personally, I think the comment paging problem is a completely separete
> issue and should be treated as such.  Something like
> example.com/blog/2009/02/post-title/?comment-page=2 works just fine and
> doesn't (to my knowledge) hurt SEO or search engines.

Google's own post on this canonical topic uses an extremely similar
set of URLs to demonstrate that this is exactly what it should be used
for:

http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html
From otto at ottodestruct.com  Tue Feb 17 20:14:26 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 20:14:40 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
	<1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
Message-ID: <161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>

Ugh. No. Don't make a wp-content/plugins/ structure. Please, keep user
submitted content (over the web) in the wp-content/uploads directory,
or a subdirectory off it.

Why? Permissions. People have enough trouble setting permissions as
is, keeping those custom "anybody can write" permissions restricted to
one directory makes it easier to manage.

-Otto
From otto at ottodestruct.com  Tue Feb 17 20:15:18 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 20:15:32 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
	<1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
	<161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
Message-ID: <161617690902171215n1fdf0171y917a7881d713f3c1@mail.gmail.com>

Sorry, I meant /plugin-data structure. Typo.

On Tue, Feb 17, 2009 at 2:14 PM, Otto <otto@ottodestruct.com> wrote:
> Ugh. No. Don't make a wp-content/plugins/ structure. Please, keep user
> submitted content (over the web) in the wp-content/uploads directory,
> or a subdirectory off it.
>
> Why? Permissions. People have enough trouble setting permissions as
> is, keeping those custom "anybody can write" permissions restricted to
> one directory makes it easier to manage.
>
> -Otto
>



-- 
-
Sent from: Memphis Tennessee United States.
From otto at ottodestruct.com  Tue Feb 17 20:09:36 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 20:32:01 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <-3479349770000582452@unknownmsgid>
References: <4584501.4151234890967930.JavaMail.DELL-1405$@Dell-1405>
	<-3479349770000582452@unknownmsgid>
Message-ID: <161617690902171209y5ca322d6r98b0e6ace88a2b2c@mail.gmail.com>

On Tue, Feb 17, 2009 at 11:21 AM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Hi all:
>
>
> Now that it seems that rel="canonical" will make it into core, I've a question about how to best handle posts with paged comments. One option is to set the canonical URL to be the main post page that would include just the first set of comments but clearly the comments themselves are content and frequently we would like to see them indexed too. So what would be the best approach for this? As I ponder the options I can't come up with a good one, especially since Google doesn't like cloaked pages (i.e. one's that redirect for most people but not for Google's spiders.)
>
> Ideally if someone leaves a comment on page 2 with terms unique to other comments and also on in the post content that URL should show up somewhere in Google's index for those terms.
>
> Basically I'm just sending this email to hopefully trigger the discussion and/or to get a pointer to where it has already been discussed.

I think a lot of people are misunderstanding the idea behind the
rel=canonical and what it actually does and/or is used for. Having a
canonical link in your header does not stop Google from indexing the
page. It controls the URL that Google displays for search results.

>From this post on the topic:
http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html

"we now support a format that allows you to publicly specify your
preferred version of a URL. If your site has identical or vastly
similar content that's accessible through multiple URLs, this format
provides you with more control over the URL returned in search
results. It also helps to make sure that properties such as link
popularity are consolidated to your preferred version."

If you were to use canonical on paged comments, then you'd probably
give the main permalink url to the post on all the comment pages. So,
Google would index all the pages, but any search hits for those pages
would give their result as the main post page, even if the match
occurred on one of the comments on a different comments page.

So your comments would still be indexed. It's just that the link in
the search results would now point to the main location for that post,
not to one of the comments pages for that post. All the pagerank for
all the comments pages would be consolidated to the main post page.
The duplicate content on all those comments pages (namely the post
itself) would get more or less ignored as being duplicate content,
since it's the same content on the same page.

All you're really doing is specifying that the URLs specifying comment
pages really are the same URL as the main post page, just sorta like
subpages of it.

-Otto
From duanestorey at gmail.com  Tue Feb 17 20:48:12 2009
From: duanestorey at gmail.com (Duane Storey)
Date: Tue Feb 17 20:48:26 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
	<1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
	<161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
Message-ID: <53d535500902171248o6aa23ccfo4e3bdb8c858d6e99@mail.gmail.com>

Well, it's not an upload technically, and most of the changes in these
plugins aren't managed by the WordPress file manager.  So I'm not sure they
should be in the upload folder.   My vote is for
wp-content/plugins-data/plugin-name .. I think that's straightforward, and
doesn't get confused with any of the user's actual uploads.

On 2/17/09, Otto <otto@ottodestruct.com> wrote:
>
> Ugh. No. Don't make a wp-content/plugins/ structure. Please, keep user
> submitted content (over the web) in the wp-content/uploads directory,
> or a subdirectory off it.
>
> Why? Permissions. People have enough trouble setting permissions as
> is, keeping those custom "anybody can write" permissions restricted to
> one directory makes it easier to manage.
>
>
> -Otto
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ncrice at gmail.com  Tue Feb 17 20:53:43 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 20:53:56 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <53d535500902171248o6aa23ccfo4e3bdb8c858d6e99@mail.gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
	<1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
	<161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
	<53d535500902171248o6aa23ccfo4e3bdb8c858d6e99@mail.gmail.com>
Message-ID: <862d087f0902171253k68645ad4u904205575bcf2a74@mail.gmail.com>

Why not wp-content/uploads/plugin-data/plugin-name ???

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Tue, Feb 17, 2009 at 3:48 PM, Duane Storey <duanestorey@gmail.com> wrote:

> Well, it's not an upload technically, and most of the changes in these
> plugins aren't managed by the WordPress file manager.  So I'm not sure they
> should be in the upload folder.   My vote is for
> wp-content/plugins-data/plugin-name .. I think that's straightforward, and
> doesn't get confused with any of the user's actual uploads.
>
> On 2/17/09, Otto <otto@ottodestruct.com> wrote:
> >
> > Ugh. No. Don't make a wp-content/plugins/ structure. Please, keep user
> > submitted content (over the web) in the wp-content/uploads directory,
> > or a subdirectory off it.
> >
> > Why? Permissions. People have enough trouble setting permissions as
> > is, keeping those custom "anybody can write" permissions restricted to
> > one directory makes it easier to manage.
> >
> >
> > -Otto
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From dangayle at gmail.com  Tue Feb 17 20:58:49 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Tue Feb 17 20:59:01 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <862d087f0902171253k68645ad4u904205575bcf2a74@mail.gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
	<1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
	<161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
	<53d535500902171248o6aa23ccfo4e3bdb8c858d6e99@mail.gmail.com>
	<862d087f0902171253k68645ad4u904205575bcf2a74@mail.gmail.com>
Message-ID: <7849B559-E727-4D7D-8529-4850232FD3A5@gmail.com>

IMHO, because you can specify where the uploads folder goes. I have  
mine in the root directory because I use it for multiple applications.  
Uploads is for content, actual page content. Plugin data? That's not  
the same. It's not necessarily something that I will be displaying to  
the world.

On Feb 17, 2009, at 12:53 PM, Nathan Rice wrote:

> Why not wp-content/uploads/plugin-data/plugin-name ???
From ncrice at gmail.com  Tue Feb 17 21:01:51 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 21:02:03 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <7849B559-E727-4D7D-8529-4850232FD3A5@gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
	<1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
	<161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
	<53d535500902171248o6aa23ccfo4e3bdb8c858d6e99@mail.gmail.com>
	<862d087f0902171253k68645ad4u904205575bcf2a74@mail.gmail.com>
	<7849B559-E727-4D7D-8529-4850232FD3A5@gmail.com>
Message-ID: <862d087f0902171301y28abd4b2kd11eb2b607fde902@mail.gmail.com>

My point was, like Otto's, that there is a permissions issue.  Most people
know to set their permissions on the uploads folder. Adding a new root
director to /wp-content/ is just one more thing for them to think about,
whereas uploads is most likely already set up to be writable by the server
user.

Nathan

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Tue, Feb 17, 2009 at 3:58 PM, Dan Gayle <dangayle@gmail.com> wrote:

> IMHO, because you can specify where the uploads folder goes. I have mine in
> the root directory because I use it for multiple applications. Uploads is
> for content, actual page content. Plugin data? That's not the same. It's not
> necessarily something that I will be displaying to the world.
>
> On Feb 17, 2009, at 12:53 PM, Nathan Rice wrote:
>
>  Why not wp-content/uploads/plugin-data/plugin-name ???
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From alan at verselogic.net  Tue Feb 17 21:07:53 2009
From: alan at verselogic.net (Alan J Castonguay)
Date: Tue Feb 17 21:08:17 2009
Subject: [wp-hackers] Useless Filter
In-Reply-To: <862d087f0902171103w41fbf99ahca0ffe9d77b7ba3@mail.gmail.com>
References: <862d087f0902170907h2c230899p12785d570fc523dd@mail.gmail.com>
	<499AF3E5.2090102@poplarware.com>
	<862d087f0902170935k1996bbc0offf4f34fb73442de@mail.gmail.com>
	<349fe48b0902171058w54d8e20bofc6c3a3d8875d3e2@mail.gmail.com>
	<862d087f0902171103w41fbf99ahca0ffe9d77b7ba3@mail.gmail.com>
Message-ID: <FEE7F1C1-C65A-4F07-A26B-B2D702E5C6F8@verselogic.net>

You could store the $page somewhere before the filter is called (it  
might already be in the global space, this is in the Loop?), and  
reference it from within the filter function.

-Alan

On 17-Feb-09, at 2:03 PM, Nathan Rice wrote:

> Well, I was just wondering if I overlooked any way of getting some  
> sort of
> argument (ideally the $page object variable) into my filter function.
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Tue, Feb 17, 2009 at 1:58 PM, scribu <scribu@gmail.com> wrote:
>
>> No, you can't do add_filter($name, $callback, $priority,  
>> $number_of_args,
>> $CUSTOM_ARGS) right? Or that's not what you're asking...
>>
>> On Tue, Feb 17, 2009 at 7:35 PM, Nathan Rice <ncrice@gmail.com>  
>> wrote:
>>
>>> My mistake guys and gals. The filter isn't useless.
>>>
>>> So I'm not missing anything there, though, right?  There is no  
>>> current
>> way
>>> of passing variables into a filter function for that particular  
>>> instance
>> of
>>> the_title?
>>>
>>> Nathan
>>>
>>> My Website
>>> http://www.nathanrice.net/
>>>
>>> My Twitter
>>> http://twitter.com/nathanrice
>>>
>>>
>>> On Tue, Feb 17, 2009 at 12:29 PM, Jennifer Hodgdon <
>> yahgrp@poplarware.com
>>>> wrote:
>>>
>>>> In answer to your question at the end of your post: You are missing
>>>> something. There are some plugins that need to filter titles in  
>>>> a way
>>> that
>>>> only depends on the text.
>>>>
>>>> If you are interested, one example is multi-lingual plugins.  
>>>> When you
>>> edit
>>>> a post, you type something like this in for the post title:
>>>>  [lang_en]Title in English[/lang_en][lang_es]Titulo en
>> Espa?ol[/lang_es]
>>>> But when the blog is being viewed, you only display either  
>>>> English or
>>>> Spanish, depending on URL, cookies, etc. That is done with a
>> 'the_title'
>>>> filter, which decides on the language and spits out just one  
>>>> part of
>> that
>>>> text. Independent of post ID, where it is being used, etc.
>>>>
>>>> I'm not saying you shouldn't advocate adding some more  
>>>> information to
>>>> 'the_title', but the current usage is NOT useless.
>>>>
>>>>   --Jennifer
>>>>
>>>>
>>>> Nathan Rice wrote:
>>>>
>>>>> So last night I was trying to build a plugin when I ran across  
>>>>> this
>> code
>>>>> in
>>>>> http://svn.automattic.com/wordpress/trunk/wp-includes/classes.php
>>>>>
>>>>> $output .= $indent . '<li class="' . $css_class . '"><a href="' .
>>>>> get_page_link($page->ID) . '" title="' .
>>>>> attribute_escape(apply_filters('the_title', $page- 
>>>>> >post_title)) . '">'
>> .
>>>>> $link_before . apply_filters('the_title', $page->post_title) .
>>> $link_after
>>>>> .
>>>>> '</a>';
>>>>>
>>>> [...]
>>>>
>>>>> Am I missing something, or am I right in thinking that the use  
>>>>> of this
>>>>> filter here is completely non-existent?
>>>>>
>>>>
>>>> --
>>>> Jennifer Hodgdon * Poplar ProductivityWare
>>>> www.poplarware.com
>>>>
>>>> Drupal/WordPress Sites, Themes, Modules/Plugins
>>>> Custom Web Programming, Web Databases
>>>> PHP, Perl, MySQL, JavaScript, XML, AJAX
>>>>
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ncrice at gmail.com  Tue Feb 17 21:14:22 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 21:14:34 2009
Subject: [wp-hackers] Useless Filter
In-Reply-To: <FEE7F1C1-C65A-4F07-A26B-B2D702E5C6F8@verselogic.net>
References: <862d087f0902170907h2c230899p12785d570fc523dd@mail.gmail.com>
	<499AF3E5.2090102@poplarware.com>
	<862d087f0902170935k1996bbc0offf4f34fb73442de@mail.gmail.com>
	<349fe48b0902171058w54d8e20bofc6c3a3d8875d3e2@mail.gmail.com>
	<862d087f0902171103w41fbf99ahca0ffe9d77b7ba3@mail.gmail.com>
	<FEE7F1C1-C65A-4F07-A26B-B2D702E5C6F8@verselogic.net>
Message-ID: <862d087f0902171314x7e1f0e2l8d86b5200c478d24@mail.gmail.com>

This is outside the loop.  It's in the walker function that generates the
list items for wp_list_pages(); Unfortunately, a global $page var wouldn't
help me.

Nathan

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Tue, Feb 17, 2009 at 4:07 PM, Alan J Castonguay <alan@verselogic.net>wrote:

> You could store the $page somewhere before the filter is called (it might
> already be in the global space, this is in the Loop?), and reference it from
> within the filter function.
>
> -Alan
>
>
> On 17-Feb-09, at 2:03 PM, Nathan Rice wrote:
>
>  Well, I was just wondering if I overlooked any way of getting some sort of
>> argument (ideally the $page object variable) into my filter function.
>>
>> My Website
>> http://www.nathanrice.net/
>>
>> My Twitter
>> http://twitter.com/nathanrice
>>
>>
>> On Tue, Feb 17, 2009 at 1:58 PM, scribu <scribu@gmail.com> wrote:
>>
>>  No, you can't do add_filter($name, $callback, $priority, $number_of_args,
>>> $CUSTOM_ARGS) right? Or that's not what you're asking...
>>>
>>> On Tue, Feb 17, 2009 at 7:35 PM, Nathan Rice <ncrice@gmail.com> wrote:
>>>
>>>  My mistake guys and gals. The filter isn't useless.
>>>>
>>>> So I'm not missing anything there, though, right?  There is no current
>>>>
>>> way
>>>
>>>> of passing variables into a filter function for that particular instance
>>>>
>>> of
>>>
>>>> the_title?
>>>>
>>>> Nathan
>>>>
>>>> My Website
>>>> http://www.nathanrice.net/
>>>>
>>>> My Twitter
>>>> http://twitter.com/nathanrice
>>>>
>>>>
>>>> On Tue, Feb 17, 2009 at 12:29 PM, Jennifer Hodgdon <
>>>>
>>> yahgrp@poplarware.com
>>>
>>>> wrote:
>>>>>
>>>>
>>>>  In answer to your question at the end of your post: You are missing
>>>>> something. There are some plugins that need to filter titles in a way
>>>>>
>>>> that
>>>>
>>>>> only depends on the text.
>>>>>
>>>>> If you are interested, one example is multi-lingual plugins. When you
>>>>>
>>>> edit
>>>>
>>>>> a post, you type something like this in for the post title:
>>>>>  [lang_en]Title in English[/lang_en][lang_es]Titulo en
>>>>>
>>>> Espa?ol[/lang_es]
>>>
>>>> But when the blog is being viewed, you only display either English or
>>>>> Spanish, depending on URL, cookies, etc. That is done with a
>>>>>
>>>> 'the_title'
>>>
>>>> filter, which decides on the language and spits out just one part of
>>>>>
>>>> that
>>>
>>>> text. Independent of post ID, where it is being used, etc.
>>>>>
>>>>> I'm not saying you shouldn't advocate adding some more information to
>>>>> 'the_title', but the current usage is NOT useless.
>>>>>
>>>>>  --Jennifer
>>>>>
>>>>>
>>>>> Nathan Rice wrote:
>>>>>
>>>>>  So last night I was trying to build a plugin when I ran across this
>>>>>>
>>>>> code
>>>
>>>> in
>>>>>> http://svn.automattic.com/wordpress/trunk/wp-includes/classes.php
>>>>>>
>>>>>> $output .= $indent . '<li class="' . $css_class . '"><a href="' .
>>>>>> get_page_link($page->ID) . '" title="' .
>>>>>> attribute_escape(apply_filters('the_title', $page->post_title)) . '">'
>>>>>>
>>>>> .
>>>
>>>> $link_before . apply_filters('the_title', $page->post_title) .
>>>>>>
>>>>> $link_after
>>>>
>>>>> .
>>>>>> '</a>';
>>>>>>
>>>>>>  [...]
>>>>>
>>>>>  Am I missing something, or am I right in thinking that the use of this
>>>>>> filter here is completely non-existent?
>>>>>>
>>>>>>
>>>>> --
>>>>> Jennifer Hodgdon * Poplar ProductivityWare
>>>>> www.poplarware.com
>>>>>
>>>>> Drupal/WordPress Sites, Themes, Modules/Plugins
>>>>> Custom Web Programming, Web Databases
>>>>> PHP, Perl, MySQL, JavaScript, XML, AJAX
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers@lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>  _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>
>>>
>>> --
>>> http://scribu.net
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>  _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From scribu at gmail.com  Tue Feb 17 21:23:26 2009
From: scribu at gmail.com (scribu)
Date: Tue Feb 17 21:23:37 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <161617690902171209y5ca322d6r98b0e6ace88a2b2c@mail.gmail.com>
References: <4584501.4151234890967930.JavaMail.DELL-1405$@Dell-1405>
	<-3479349770000582452@unknownmsgid>
	<161617690902171209y5ca322d6r98b0e6ace88a2b2c@mail.gmail.com>
Message-ID: <349fe48b0902171323g15af55c9te40de4dba8f3968f@mail.gmail.com>

>
> So your comments would still be indexed. It's just that the link in
> the search results would now point to the main location for that post,
> not to one of the comments pages for that post. All the pagerank for
> all the comments pages would be consolidated to the main post page.
> The duplicate content on all those comments pages (namely the post
> itself) would get more or less ignored as being duplicate content,
> since it's the same content on the same page.
>
> All you're really doing is specifying that the URLs specifying comment
> pages really are the same URL as the main post page, just sorta like
> subpages of it.
>
> -Otto
>

Ok, so if a user looks for *foobar*, which apears on
/post-permalink/comment-page-3 and you have a canonical link to the main
post, the user will be sent to the main post. Then he would have to search
through all comment pages for the one that contains a reference to *foobar*.

I'm not sure that's such a good ideea in terms of usability. (In terms of
SEO it probably is)

-- 
http://scribu.net
From alan at verselogic.net  Tue Feb 17 21:24:49 2009
From: alan at verselogic.net (Alan J Castonguay)
Date: Tue Feb 17 21:25:12 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <B93F834F-0D66-417F-86F2-3D30E5FB9DFD@yoast.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>	<6055133559852561502@unknownmsgid>	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
	<499AEACF.8010803@gaarai.com>
	<EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
	<B93F834F-0D66-417F-86F2-3D30E5FB9DFD@yoast.com>
Message-ID: <FE88DB29-B30D-47EB-953B-F201E82E6CA3@verselogic.net>

Keep in mind that the question mark (?) in the path is not meaningful  
for HTTP. It could just as easily be a capital Z. The semantics are  
provided by the browser's handling of HTML forms and the HTTPD/CGI  
script parsing them. Each different url, regardless of ? or Z, is a  
different resource, and can be referenced and/or cached as a  
standalone entity. Using query parameters (?foo=bar or Zfoo=bar) for  
things like sorting or paging duplicates the same data on multiple  
pages, for two goals: To permit bookmarking/referencing a particular  
view/sort/subset, or to ask the server to generate a rendering of  
that particular view/sort/subset for a dumb client.

The former (eg, comment paging) can be addressed using Fragment  
identifiers (#comment-page-2) and javascript (to fetch/display/sort  
that result set).

If there is a need to preserve the latter use case, shouldn't the  
server only provide server-side paging for clients known to require/ 
request it, and instead yield a single large page (eg, of comments)  
for search engines and printers, along a javascript/css manipulation  
for the smart clients?

-Alan

On 17-Feb-09, at 1:09 PM, Joost de Valk wrote:

> On 17 feb 2009, at 19:04, Stephen Rider <wp-hackers@striderweb.com>  
> wrote:
>
>> On Feb 17, 2009, at 10:50 AM, Chris Jean wrote:
>>
>>> So, this is different than keywords, descriptions, title, etc in  
>>> that this field[...] can't be used to game the system.
>>
>>
>> That's the type of presumptive attitude that spammers just love.
>>
>> Putting it another way, I bet there are a number of savvy spammers  
>> who would beg to differ with you on that statement.
>>
>> Personally, I think the comment paging problem is a completely  
>> separete issue and should be treated as such.  Something like  
>> example.com/blog/2009/02/post-title/?comment-page=2 works just  
>> fine and doesn't (to my knowledge) hurt SEO or search engines.
>>
> It does, so your knowledge needs updating :-)
>
> Best,
> Joost
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From regulatethis at gmail.com  Tue Feb 17 21:47:07 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Feb 17 21:47:20 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <862d087f0902171301y28abd4b2kd11eb2b607fde902@mail.gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
	<1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
	<161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
	<53d535500902171248o6aa23ccfo4e3bdb8c858d6e99@mail.gmail.com>
	<862d087f0902171253k68645ad4u904205575bcf2a74@mail.gmail.com>
	<7849B559-E727-4D7D-8529-4850232FD3A5@gmail.com>
	<862d087f0902171301y28abd4b2kd11eb2b607fde902@mail.gmail.com>
Message-ID: <39fdab560902171347l7807e8cekc252f731567fd441@mail.gmail.com>

I'd have to agree with Dan on this one, the uploads folder being used
strictly for content makes a lot of sense, especially when you start
getting into content distribution and such - who says my uploads
directory is even on the same server/filesystem? Needing to tweak
permissions for one more directory isn't that big of a deal, any
decent install script for a web app should go through those items
individually and say "hey, run <command> to set permissions properly
on this directory, or set them to X using your favorite FTP
program/cPanel" or something to that effect anyway.

I'd hate to be limited in how I manage my content because of a
misguided effort to help those who don't know how to set permissions
(yet).

On Tue, Feb 17, 2009 at 4:01 PM, Nathan Rice <ncrice@gmail.com> wrote:
> My point was, like Otto's, that there is a permissions issue.  Most people
> know to set their permissions on the uploads folder. Adding a new root
> director to /wp-content/ is just one more thing for them to think about,
> whereas uploads is most likely already set up to be writable by the server
> user.
>
> Nathan
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Tue, Feb 17, 2009 at 3:58 PM, Dan Gayle <dangayle@gmail.com> wrote:
>
>> IMHO, because you can specify where the uploads folder goes. I have mine in
>> the root directory because I use it for multiple applications. Uploads is
>> for content, actual page content. Plugin data? That's not the same. It's not
>> necessarily something that I will be displaying to the world.
>>
>> On Feb 17, 2009, at 12:53 PM, Nathan Rice wrote:
>>
>>  Why not wp-content/uploads/plugin-data/plugin-name ???
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wp-hackers at striderweb.com  Tue Feb 17 22:01:28 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Feb 17 22:01:41 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <7849B559-E727-4D7D-8529-4850232FD3A5@gmail.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
	<1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
	<161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
	<53d535500902171248o6aa23ccfo4e3bdb8c858d6e99@mail.gmail.com>
	<862d087f0902171253k68645ad4u904205575bcf2a74@mail.gmail.com>
	<7849B559-E727-4D7D-8529-4850232FD3A5@gmail.com>
Message-ID: <F2F2FB7B-9BB0-4B51-8B81-29F804A08F4C@striderweb.com>


On Feb 17, 2009, at 2:58 PM, Dan Gayle wrote:

> IMHO, because you can specify where the uploads folder goes. I have  
> mine in the root directory because I use it for multiple  
> applications. Uploads is for content, actual page content. Plugin  
> data? That's not the same. It's not necessarily something that I  
> will be displaying to the world.
>
> On Feb 17, 2009, at 12:53 PM, Nathan Rice wrote:
>
>> Why not wp-content/uploads/plugin-data/plugin-name ???


+1  I definitely think of /uploads/ as being for actual blog data, not  
backend stuff.

Having suggested /plugins/plugin-data/ [1], I'm okay with the  
suggestions of /wp-content/plugin-data/.  I prefer /plugins/plugin- 
data/ though because the plugin folder can move, and /plugins/plugin- 
data/ would move with it.  That's not a huge issue though, as there  
are variable calls for both the wp-content folder and the plugins  
folder.

To be honest, I wasn't thinking in terms of stuff uploaded or edited  
via the backend, (though that could certainly be done...), so the  
permissions thing hadn't occurred to me.  In the example I gave,  
upload Spam Karma, and upload any third-party Spam Karma plugins to  
the *whatever*/plugin-data/spam-karma/plugins/ folder.

Stephen

[1] Okay technically I suggested /plugins/plugin data/ (space instead  
of dash).  It was a typo.  ;-)

-- 
Stephen Rider
http://striderweb.com/

From wp-hackers at striderweb.com  Tue Feb 17 22:05:35 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Feb 17 22:08:56 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <B93F834F-0D66-417F-86F2-3D30E5FB9DFD@yoast.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>	<6055133559852561502@unknownmsgid>	<862d087f0902161712h3c8e0b53i47f9c622d143a543@mail.gmail.com>	<427667db0902161851v6de2fde3hac0cc6c598dfdc84@mail.gmail.com>	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
	<499AEACF.8010803@gaarai.com>
	<EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
	<B93F834F-0D66-417F-86F2-3D30E5FB9DFD@yoast.com>
Message-ID: <7E3E8CEC-C45D-4FB4-8220-39E89BFE1803@striderweb.com>


On Feb 17, 2009, at 12:09 PM, Joost de Valk wrote:

> On 17 feb 2009, at 19:04, Stephen Rider <wp-hackers@striderweb.com>  
> wrote:
>
>> Something like example.com/blog/2009/02/post-title/?comment-page=2  
>> works just fine and doesn't (to my knowledge) hurt SEO or search  
>> engines.
>>
> It does, so your knowledge needs updating :-)


Heh.

So... In terms of SEO, is example.com/blog/2009/02/post-title/?comment- 
page=2 functionally the same as example.com/blog/2009/02/post-title/ 
comment-page-2/ ?

Stephen

-- 
Stephen Rider
http://striderweb.com/
From wp-hackers at striderweb.com  Tue Feb 17 22:09:57 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Feb 17 22:10:11 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <349fe48b0902171323g15af55c9te40de4dba8f3968f@mail.gmail.com>
References: <4584501.4151234890967930.JavaMail.DELL-1405$@Dell-1405>
	<-3479349770000582452@unknownmsgid>
	<161617690902171209y5ca322d6r98b0e6ace88a2b2c@mail.gmail.com>
	<349fe48b0902171323g15af55c9te40de4dba8f3968f@mail.gmail.com>
Message-ID: <604E1295-6B75-44CA-9C06-0C9FF50029DD@striderweb.com>


On Feb 17, 2009, at 3:23 PM, scribu wrote:

>> Ok, so if a user looks for *foobar*, which apears on
> /post-permalink/comment-page-3 and you have a canonical link to the  
> main
> post, the user will be sent to the main post. Then he would have to  
> search
> through all comment pages for the one that contains a reference to  
> *foobar*.
>
> I'm not sure that's such a good ideea in terms of usability. (In  
> terms of
> SEO it probably is)

Well, that's where the "Show all 4000 comments" button comes in. ;-)

Based on Otto's description, I support the inclusion of the canonical  
URL tag.

Stephen

-- 
Stephen Rider
http://striderweb.com/

From jess at funroe.net  Tue Feb 17 22:20:36 2009
From: jess at funroe.net (Jess Planck)
Date: Tue Feb 17 22:20:47 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <F2F2FB7B-9BB0-4B51-8B81-29F804A08F4C@striderweb.com>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
	<1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
	<161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
	<53d535500902171248o6aa23ccfo4e3bdb8c858d6e99@mail.gmail.com>
	<862d087f0902171253k68645ad4u904205575bcf2a74@mail.gmail.com>
	<7849B559-E727-4D7D-8529-4850232FD3A5@gmail.com>
	<F2F2FB7B-9BB0-4B51-8B81-29F804A08F4C@striderweb.com>
Message-ID: <2438C9E1-A52C-446E-A401-A16BDFCD5919@funroe.net>

HA that's what threw me.

Now it's confirmed as a "plugin extension" and not a user upload. Then  
a proper location like even wp-content/spam-karma would be appropriate  
as well. Buddypress uses wp-content/member-themes and of course WPMU  
uses wp-content/mu-plugins.

I thought the entire purpose of /wp-content was "site centric", but if  
a consensus appears with plugin extensions and extra non-user data  
then I wouldn't mind.

As mentioned originally, auto-updating plugins can destroy plugin  
extensions if they reside in the /wp-content/plugins/plugin-name/  
directory.

Jess

On Feb 17, 2009, at 4:01 PM, Stephen Rider wrote:

> [1] Okay technically I suggested /plugins/plugin data/ (space  
> instead of dash).  It was a typo.  ;-)

From doug at smithsrus.com  Tue Feb 17 21:59:31 2009
From: doug at smithsrus.com (Doug Smith)
Date: Tue Feb 17 22:28:42 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <20090217214720.E59206F5C@comox.textdrive.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
Message-ID: <4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>

That may be a mute point because permissions would likely need to be  
set for a plugin data folder anyway. The uploads folder contains  
pictures and such that, by design, are to be shared with the world.  
However, plugin data being viewable by the world could have security  
implications. I certainly wouldn't want that folder readable through  
the Web server like the upload folder needs to be.

On Tue, Feb 17, 2009 at 4:01 PM, Nathan Rice <ncrice@gmail.com> wrote:
> My point was, like Otto's, that there is a permissions issue.  Most  
> people
> know to set their permissions on the uploads folder. Adding a new root
> director to /wp-content/ is just one more thing for them to think  
> about,
> whereas uploads is most likely already set up to be writable by the  
> server
> user.

--
Doug Smith <doug@smithsrus.com>
<http://smithsrus.com>

From ncrice at gmail.com  Tue Feb 17 22:33:28 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Tue Feb 17 22:33:40 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
Message-ID: <862d087f0902171433x344ccc20v562d68b340c41169@mail.gmail.com>

Yeah, I'm no opposed to storing plugin-specific stuff in
/wp-content/plugins/plugin-data at all.  It's a good idea, if you asked me.

Nathan

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Tue, Feb 17, 2009 at 4:59 PM, Doug Smith <doug@smithsrus.com> wrote:

> That may be a mute point because permissions would likely need to be set
> for a plugin data folder anyway. The uploads folder contains pictures and
> such that, by design, are to be shared with the world. However, plugin data
> being viewable by the world could have security implications. I certainly
> wouldn't want that folder readable through the Web server like the upload
> folder needs to be.
>
> On Tue, Feb 17, 2009 at 4:01 PM, Nathan Rice <ncrice@gmail.com> wrote:
>
>> My point was, like Otto's, that there is a permissions issue.  Most people
>> know to set their permissions on the uploads folder. Adding a new root
>> director to /wp-content/ is just one more thing for them to think about,
>> whereas uploads is most likely already set up to be writable by the server
>> user.
>>
>
> --
> Doug Smith <doug@smithsrus.com>
> <http://smithsrus.com>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wp-hackers at striderweb.com  Tue Feb 17 22:36:41 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Feb 17 22:36:55 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <2438C9E1-A52C-446E-A401-A16BDFCD5919@funroe.net>
References: <53d535500902162033n336bf878w539ad354622c5c56@mail.gmail.com>
	<59E1A6C7-3446-48FE-AA66-9E3E7EF8C95F@striderweb.com>
	<4E52DD51-CC39-4FF6-B2D0-40A00A64C460@funroe.net>
	<349fe48b0902171050t55e2ac6bh47931adadf8d2fd5@mail.gmail.com>
	<1E7B704D-63DE-4141-9C9A-7B6769C835A9@funroe.net>
	<161617690902171214u4fd1bd64gbda206d908104127@mail.gmail.com>
	<53d535500902171248o6aa23ccfo4e3bdb8c858d6e99@mail.gmail.com>
	<862d087f0902171253k68645ad4u904205575bcf2a74@mail.gmail.com>
	<7849B559-E727-4D7D-8529-4850232FD3A5@gmail.com>
	<F2F2FB7B-9BB0-4B51-8B81-29F804A08F4C@striderweb.com>
	<2438C9E1-A52C-446E-A401-A16BDFCD5919@funroe.net>
Message-ID: <118FE273-2EAA-4729-A586-A32982CAA3BB@striderweb.com>


On Feb 17, 2009, at 4:20 PM, Jess Planck wrote:

> Now it's confirmed as a "plugin extension" and not a user upload.  
> Then a proper location like even wp-content/spam-karma would be  
> appropriate as well. Buddypress uses wp-content/member-themes and of  
> course WPMU uses wp-content/mu-plugins.
>
> I thought the entire purpose of /wp-content was "site centric", but  
> if a consensus appears with plugin extensions and extra non-user  
> data then I wouldn't mind.
>
> As mentioned originally, auto-updating plugins can destroy plugin  
> extensions if they reside in the /wp-content/plugins/plugin-name/  
> directory.

Actually, you've just made a point that pushes me more strongly toward  
my original suggestion of /plugins/plugin-data/<plugin-name> rather  
than /wp-content/plugin-data/...

Different blogs may share /plugin/ directories, but are probably less  
likely to share an entire /wp-content/ directory.  Thus files that  
directly relate to plugins are best located in the plugins directory,  
IMO.

FYI -- a few examples of plugins that could use this structure:

Spam Karma -- for SK plugins
JavaScript Pull-Quotes -- (one of mine) for custom pull-quote styles
Core Control -- (Dion's I think...) will eventually accept plugins.

Basically any plugin that has a modular structure.

Note again, ***none of this*** requires changes to WP core.  It's more  
about just setting a standard to which plugin authors can write their  
plugins.  Of course right now any plugin author who chooses to can set  
their plugin to use /wp-content/myplugin/ or /plugins/myplugin-data/  
or what have you.  The point here is to simply encourage them to be  
tidy and place such things in the "official" location.

Down the road, we might be able to work in a plugin hierarchy system  
by which users can activate/deactivate such items via an Ajax-enhanced  
Manage Plugins screen.  That is, imagine the Manage Plugins screen but  
some plugins have a small "open" icon that opens up a submenu of that  
plugin's sub-plugins.

But that last is for down the road, I think.  (focus, Steve-o, focus!)

Stephen

-- 
Stephen Rider
http://striderweb.com/
From otto at ottodestruct.com  Tue Feb 17 22:44:56 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 22:45:04 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
Message-ID: <161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>

On Tue, Feb 17, 2009 at 3:59 PM, Doug Smith <doug@smithsrus.com> wrote:
> That may be a mute point because permissions would likely need to be set for
> a plugin data folder anyway. The uploads folder contains pictures and such
> that, by design, are to be shared with the world. However, plugin data being
> viewable by the world could have security implications. I certainly wouldn't
> want that folder readable through the Web server like the upload folder
> needs to be.

Perhaps we need to better define what this plugins-data is, exactly,
because I cannot think of a legitimate case where you'd:
a) have a plugin that needs to store files somewhere such that the
user can upload them or otherwise modify them, and
b) those files should not be world-readable over the webserver.

Can we come up with some specific use cases here before deciding how
to implement it? What is this "plugin-data"? The main case I was
thinking of was plugins that have customizable CSS files or IMG files
which affect the output of the plugin.

-Otto
From lynne.pope at gmail.com  Tue Feb 17 22:54:01 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Tue Feb 17 22:54:11 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <FE88DB29-B30D-47EB-953B-F201E82E6CA3@verselogic.net>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>
	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
	<499AEACF.8010803@gaarai.com>
	<EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
	<B93F834F-0D66-417F-86F2-3D30E5FB9DFD@yoast.com>
	<FE88DB29-B30D-47EB-953B-F201E82E6CA3@verselogic.net>
Message-ID: <427667db0902171454g5a24c208s3fa9a6ad3b743e44@mail.gmail.com>

2009/2/18 Alan J Castonguay <alan@verselogic.net>

> Keep in mind that the question mark (?) in the path is not meaningful for
> HTTP. It could just as easily be a capital Z. The semantics are provided by
> the browser's handling of HTML forms and the HTTPD/CGI script parsing them.
> Each different url, regardless of ? or Z, is a different resource, and can
> be referenced and/or cached as a standalone entity. Using query parameters
> (?foo=bar or Zfoo=bar) for things like sorting or paging duplicates the same
> data on multiple pages, for two goals: To permit bookmarking/referencing a
> particular view/sort/subset, or to ask the server to generate a rendering of
> that particular view/sort/subset for a dumb client.
>
> The former (eg, comment paging) can be addressed using Fragment identifiers
> (#comment-page-2) and javascript (to fetch/display/sort that result set).
>
> If there is a need to preserve the latter use case, shouldn't the server
> only provide server-side paging for clients known to require/request it, and
> instead yield a single large page (eg, of comments) for search engines and
> printers, along a javascript/css manipulation for the smart clients?
> -


That makes sense and would also improve accessibility. It would also make
sense to provide the content on the first (post) page and not on the
subsequent pages of commentshould a JavaScript solution not be used.

I still feel strongly that the paged comments issue should be treated
separately to the canonical link. Preventing duplicate content at the core,
without relying on search engines to do it seems a more robust solution to
me.

Matt Cutt's support for this in the core also contains a warning. But, as
for me, I will wait to see how you implement this and reserve my opinion. I
do feel that WP is straying too far into SEO - the nofollow is an example of
this (it is, after all, simply a tag for optimising page rank by reducing
leakage to other sites). And I fail to see how software can determine which
content is the content that is definitive on any given site.

So, I will shut up now :)

Lynne
From scribu at gmail.com  Tue Feb 17 22:57:21 2009
From: scribu at gmail.com (scribu)
Date: Tue Feb 17 22:57:32 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
Message-ID: <349fe48b0902171457x584dda4w25fff74c385e0fd5@mail.gmail.com>

On Wed, Feb 18, 2009 at 12:44 AM, Otto <otto@ottodestruct.com> wrote:

> Can we come up with some specific use cases here before deciding how
> to implement it? What is this "plugin-data"? The main case I was
> thinking of was plugins that have customizable CSS files or IMG files
> which affect the output of the plugin.
>

I have a plugin that generates a skinable carousel. The user's CSS file
could be stored in wp-content/plugins-data/my-plugin/ but it would actualy
make more sense in the current theme directory, since the ideea would be to
make it blend with the rest of the site.

-- 
http://scribu.net
From wp-hackers at striderweb.com  Tue Feb 17 23:02:26 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Tue Feb 17 23:02:41 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
Message-ID: <AB3CAA4F-74AB-4A80-975C-6EEE73EDA16A@striderweb.com>


On Feb 17, 2009, at 4:44 PM, Otto wrote:

> Perhaps we need to better define what this plugins-data is, exactly,
> because I cannot think of a legitimate case where you'd:
> a) have a plugin that needs to store files somewhere such that the
> user can upload them or otherwise modify them, and
> b) those files should not be world-readable over the webserver.
>
> Can we come up with some specific use cases here before deciding how
> to implement it? What is this "plugin-data"? The main case I was
> thinking of was plugins that have customizable CSS files or IMG files
> which affect the output of the plugin.

I can think of both cases:

JavaScript Pull-Quotes -- would store third-party "styles" consisting  
of a CSS file and possibly graphics.  Definitely world-readable.
http://striderweb.com/nerdaphernalia/features/wp-javascript-pull-quotes/

Spam Karma -- would store Spam Karma plugins/modules -- PHP files used  
internally by Spam Karma.  NOT world-readable.
http://code.google.com/p/spam-karma/

Stephen

-- 
Stephen Rider
http://striderweb.com/




From chris at clwill.com  Tue Feb 17 23:06:45 2009
From: chris at clwill.com (Chris Williams)
Date: Tue Feb 17 23:08:03 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <349fe48b0902171457x584dda4w25fff74c385e0fd5@mail.gmail.com>
Message-ID: <C5C08305.2A723%chris@clwill.com>

But the last thing I would want is a plugin (or anything for that matter)
dropping unexpected things into my theme directory...

To get back up to the original question, the point was to have a way to
insure that a plugin update wouldn't trash customized content.  This example
(below) seems like a great one.  And it seems like the /plugin-data
(wherever its root turns out to be) is a pretty good idea.  Analogous to the
wp-content tree, "don't trash me on an update".


> From: scribu <scribu@gmail.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Wed, 18 Feb 2009 00:57:21 +0200
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Auto Update Plugins
> 
> On Wed, Feb 18, 2009 at 12:44 AM, Otto <otto@ottodestruct.com> wrote:
> 
>> Can we come up with some specific use cases here before deciding how
>> to implement it? What is this "plugin-data"? The main case I was
>> thinking of was plugins that have customizable CSS files or IMG files
>> which affect the output of the plugin.
>> 
> 
> I have a plugin that generates a skinable carousel. The user's CSS file
> could be stored in wp-content/plugins-data/my-plugin/ but it would actualy
> make more sense in the current theme directory, since the ideea would be to
> make it blend with the rest of the site.
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From heiko.rabe at code-styling.de  Tue Feb 17 23:15:03 2009
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Tue Feb 17 23:15:13 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
Message-ID: <499B44F7.5090609@code-styling.de>

Otto schrieb:
> On Tue, Feb 17, 2009 at 3:59 PM, Doug Smith <doug@smithsrus.com> wrote:
>   
>> That may be a mute point because permissions would likely need to be set for
>> a plugin data folder anyway. The uploads folder contains pictures and such
>> that, by design, are to be shared with the world. However, plugin data being
>> viewable by the world could have security implications. I certainly wouldn't
>> want that folder readable through the Web server like the upload folder
>> needs to be.
>>     
>
> Perhaps we need to better define what this plugins-data is, exactly,
> because I cannot think of a legitimate case where you'd:
> a) have a plugin that needs to store files somewhere such that the
> user can upload them or otherwise modify them, and
> b) those files should not be world-readable over the webserver.
>
> Can we come up with some specific use cases here before deciding how
> to implement it? What is this "plugin-data"? The main case I was
> thinking of was plugins that have customizable CSS files or IMG files
> which affect the output of the plugin.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>   
I think, this problem is much more general as discussed for now.
Let me give you an example not named yet: language files (*.mo / *.po)
If a plugin hosts them, they get lost or overwritten, if the plugin 
replaces the complete folder content.
Furthermore i would loose the special customization of terms inside done 
for customers as example.
 From language file prospective there are 3 ways avoid it:
1.) keep the current language file(s) as is during update of plugin and 
ask afterwards by GUI for replacement
2.) store all plugin language file(s) at the wp-content/languages folder 
too (forces the function load_plugin_textdomain to become obsolete)
3.) create subfolders at wp-content/languages for plugins and themes to 
store there the files (requires also named language files for themes and 
not only locale, function load_theme_domain becomes obsolete too).

The points discussed until now still remain too, a more sophisticated 
solution for all those files will be needed.

From otto at ottodestruct.com  Tue Feb 17 23:15:53 2009
From: otto at ottodestruct.com (Otto)
Date: Tue Feb 17 23:16:01 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <AB3CAA4F-74AB-4A80-975C-6EEE73EDA16A@striderweb.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
	<AB3CAA4F-74AB-4A80-975C-6EEE73EDA16A@striderweb.com>
Message-ID: <161617690902171515s7284b082gbc00a0ac486edf4f@mail.gmail.com>

On Tue, Feb 17, 2009 at 5:02 PM, Stephen Rider
<wp-hackers@striderweb.com> wrote:
> Spam Karma -- would store Spam Karma plugins/modules -- PHP files used
> internally by Spam Karma.  NOT world-readable.
> http://code.google.com/p/spam-karma/

Yeah, this has always bugged me. A plugin should not really attempt to
do plugins of its own. This is duplication of work and frankly
bug-prone, at best.

Instead, those sub-plugins (as it were) should be fully fledged
WordPress plugins that utilize actions/filters in the main plugin. A
plugin can easily create its own actions (merely by doing
do_action('plugin-action-name'); ), so it should do so and then let
other WP plugins fill in the bits that way.

Then even these sub-plugins get the full benefits of being... well...
plugins. Automatic update checking, etc.

-Otto
From peter.westwood at ftwr.co.uk  Tue Feb 17 23:27:59 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue Feb 17 23:29:04 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902171515s7284b082gbc00a0ac486edf4f@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
	<AB3CAA4F-74AB-4A80-975C-6EEE73EDA16A@striderweb.com>
	<161617690902171515s7284b082gbc00a0ac486edf4f@mail.gmail.com>
Message-ID: <A11686A1-D753-474B-82E5-6B316FF5BE2A@ftwr.co.uk>


On 17 Feb 2009, at 23:15, Otto wrote:

> On Tue, Feb 17, 2009 at 5:02 PM, Stephen Rider
> <wp-hackers@striderweb.com> wrote:
>> Spam Karma -- would store Spam Karma plugins/modules -- PHP files  
>> used
>> internally by Spam Karma.  NOT world-readable.
>> http://code.google.com/p/spam-karma/
>
> Yeah, this has always bugged me. A plugin should not really attempt to
> do plugins of its own. This is duplication of work and frankly
> bug-prone, at best.
>
> Instead, those sub-plugins (as it were) should be fully fledged
> WordPress plugins that utilize actions/filters in the main plugin. A
> plugin can easily create its own actions (merely by doing
> do_action('plugin-action-name'); ), so it should do so and then let
> other WP plugins fill in the bits that way.
>
> Then even these sub-plugins get the full benefits of being... well...
> plugins. Automatic update checking, etc.
>

+100

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From heiko.rabe at code-styling.de  Tue Feb 17 23:43:22 2009
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Tue Feb 17 23:43:57 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902171515s7284b082gbc00a0ac486edf4f@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>	<AB3CAA4F-74AB-4A80-975C-6EEE73EDA16A@striderweb.com>
	<161617690902171515s7284b082gbc00a0ac486edf4f@mail.gmail.com>
Message-ID: <499B4B9A.4050802@code-styling.de>

Otto schrieb:
> On Tue, Feb 17, 2009 at 5:02 PM, Stephen Rider
> <wp-hackers@striderweb.com> wrote:
>   
>> Spam Karma -- would store Spam Karma plugins/modules -- PHP files used
>> internally by Spam Karma.  NOT world-readable.
>> http://code.google.com/p/spam-karma/
>>     
>
> Yeah, this has always bugged me. A plugin should not really attempt to
> do plugins of its own. This is duplication of work and frankly
> bug-prone, at best.
>
> Instead, those sub-plugins (as it were) should be fully fledged
> WordPress plugins that utilize actions/filters in the main plugin. A
> plugin can easily create its own actions (merely by doing
> do_action('plugin-action-name'); ), so it should do so and then let
> other WP plugins fill in the bits that way.
>
> Then even these sub-plugins get the full benefits of being... well...
> plugins. Automatic update checking, etc.
>   
+50 and -50  -> 0

pro:
- maintainance of plugins is much easier and follows current concept 
automatic plugin update
- other autors can provide their own (sub)plugin extension if an 
documented interface exists

contra:
- the main plugin can't not longer make the decision *not* to 
load/activate a sub-plugin while processing an ajax call doesn't require 
it (safe runtime and memory) !
- plugin / blog crashes can be forces by different authors using not 
qualified the provided hooks and filters and dramatically increase the 
support effort for main autor !
- their may raise translation conflicts over a wide range of sub plugins 
or duplication of not nessessary text phrases!

so in total this is 0, for my personal taste more negative points !

Heiko
From jensimmons at gmail.com  Tue Feb 17 23:55:03 2009
From: jensimmons at gmail.com (Jen Simmons)
Date: Tue Feb 17 23:55:21 2009
Subject: [wp-hackers] Thumbnails for Locally Hosted Videos?
In-Reply-To: <EMEWEMEW2_DELIMl1FNEGea45d24e12b9fe03ea17ee,
	mikeschinkel@newclarity.net, 1634968.3691234847665046.J>
References: <EMEWEMEW2_DELIMl1FNEGea45d24e12b9fe03ea17ee,
	mikeschinkel@newclarity.net, 1634968.3691234847665046.J>
Message-ID: <A26C7184-B0E3-4446-9A33-6FB9D53386B8@gmail.com>

Check out Show in a Box.

vPIP (by Enric Teller) let's you associate a thumbnail and a poster  
image with each video. You can host the videos locally, or somewhere  
else. vPIP does not have a uploader tool, it expects you are uploading  
everything via FTP if it's on your own server. Or you can use blip.tv  
and grab the URLS there for vPIP.

There are three other plugins (releated videos, recent videos, and  
video archive) that then use the thumbnail.
http://showinabox.tv/plugins/

Screencast tutorial on vPIP at:
http://showinabox.tv/2008/02/19/how-to-install-and-use-vpip/

This is all an open source project, so anyone who is interested is  
welcome to jump in and help take these plugins to the next level!

Check out the forums and about us for more.


Jen Simmons
Milkweed Media Design
http://milkweedmediadesign.com

On Feb 17, 2009, at 12:14 AM, Mike Schinkel wrote:

> Hi all:
>
> I'm building a plugin for video management for locally hosted videos  
> and am running into a bit of a quandry. I need thumbnails for each  
> video and am wondering if any best practices have been identified  
> for associating thumbnails with videos. I assume there is no easy  
> way to extract a thumbnail from an arbitrary video file so I'm going  
> to assume that it will require a thumbnail to be created by the  
> person uploading the video.
>
> The real question is how best to provide an admin UI for this and  
> how best to associate on in the database? Has anyone (attempted to)  
> tackle this problem before? Or maybe there's something obvious I'm  
> missing?
>
> Thanks in advance.
>
> -Mike Schinkel
> http://mikeschinkel.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Tue Feb 17 22:40:33 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Feb 18 00:08:39 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <FE88DB29-B30D-47EB-953B-F201E82E6CA3@verselogic.net>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>
	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
	<499AEACF.8010803@gaarai.com>
	<EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
	<B93F834F-0D66-417F-86F2-3D30E5FB9DFD@yoast.com>
	<FE88DB29-B30D-47EB-953B-F201E82E6CA3@verselogic.net>
Message-ID: <161617690902171440h4c31806fnf8308973594c89dd@mail.gmail.com>

On Tue, Feb 17, 2009 at 3:24 PM, Alan J Castonguay <alan@verselogic.net> wrote:
> The former (eg, comment paging) can be addressed using Fragment identifiers
> (#comment-page-2) and javascript (to fetch/display/sort that result set).

Argh. That makes my brain hurt. :(

> If there is a need to preserve the latter use case, shouldn't the server
> only provide server-side paging for clients known to require/request it, and
> instead yield a single large page (eg, of comments) for search engines and
> printers, along a javascript/css manipulation for the smart clients?

In general, search engines (notably Google) get very unhappy when you
serve them different content than you serve everybody else, despite
your best intentions and such.

-Otto
From jidanni at jidanni.org  Wed Feb 18 01:34:27 2009
From: jidanni at jidanni.org (jidanni@jidanni.org)
Date: Wed Feb 18 01:34:39 2009
Subject: [wp-hackers] stop HTTP requests made behind one's back
Message-ID: <878wo4il3w.fsf@jidanni.org>

HOW ODD, I said to myself, WordPress seems to make a lot of outbound
HTTP requests, from the minute you first install it.

Why can't there at least be a checkbox provided to make WordPress act
like MediaWiki: just respond to incoming HTTP requests.

An RSS reader bundled right into the Dashboard? How kind, but I have
my own. OK, I disabled it along with pings, etc.

cron update_core, update_plugins, update_themes? Again how thoughtful,
however there should be a way to not trust, and turn off such "beacons".

How is one to install WordPress on a military or intranet where making
HTTP requests to the Internet is not allowed?

Just rip up wp-includes/http.php? That won't stop other parts of the
code from then futilely hammering it even more.
From wp-hackers at striderweb.com  Wed Feb 18 01:47:17 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Feb 18 01:47:45 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <C5C08305.2A723%chris@clwill.com>
References: <C5C08305.2A723%chris@clwill.com>
Message-ID: <BB07AB12-D77E-4757-995A-8F6317FBB2D0@striderweb.com>


From: scribu <scribu@gmail.com>

> I have a plugin that generates a skinable carousel. The user's CSS  
> file
> could be stored in wp-content/plugins-data/my-plugin/ but it would  
> actualy
> make more sense in the current theme directory, since the idea would  
> be to
> make it blend with the rest of the site.

My aforementioned JavaScript Pull-Quotes has a solution to that one.   
You can set a Style in Settings, but if a theme has a file in it  
called jspullquotes.css, that (optionally) overrides what is selected  
in Settings.  You could certainly do the same with your plugin.

On Feb 17, 2009, at 5:15 PM, Otto wrote:

[RE Spam Karma sub-plugins]
> Instead, those sub-plugins (as it were) should be fully fledged
> WordPress plugins that utilize actions/filters in the main plugin. A
> plugin can easily create its own actions (merely by doing
> do_action('plugin-action-name'); ), so it should do so and then let
> other WP plugins fill in the bits that way.

Two reasons why this is a bad idea:

1) In the case of Spam Karma, you're talking 10 extra plugins, just by  
default.  Just how long and cluttered do you want your Manage Plugins  
page to be?

2) Spam Karma can run on many CMS/blog platforms, and as such cannot  
strongly tie itself into WordPress specific hooks and such.  Thus its  
own system for loading sub-plugins.

3) In the case of the Pull-Quotes plugin (or scribu's plugin), I think  
it would be kind of crazy to have (again) an entirely separate plugin  
for every Style that it can use.  Basically we're talking a plugin  
just to load a style-sheet into a menu in another plugin's Settings  
screen.  That system might work for some uses, but for many uses it  
just gets silly.


I'm not entirely sure what all the fuss is about.  This is *zero* code  
into WP core.  All I'm asking is that we decide on a standard location  
for such things, so that IF a plugin author wants to locate files  
externally, there is a standard to go by.

Stephen
From jess at funroe.net  Wed Feb 18 02:35:22 2009
From: jess at funroe.net (Jess Planck)
Date: Wed Feb 18 02:35:35 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <BB07AB12-D77E-4757-995A-8F6317FBB2D0@striderweb.com>
References: <C5C08305.2A723%chris@clwill.com>
	<BB07AB12-D77E-4757-995A-8F6317FBB2D0@striderweb.com>
Message-ID: <BCAF9DB0-6A7B-4E2B-BCB9-8E8DC09629CE@funroe.net>

Yes, this definitely a good discussion of best practices.

I know WP Super Edit is a silly sloppy bunch of code, but I can use it  
to whip up a custom TinyMCE package rather quickly. Right now I have  
to add that package to a subfolder in the WP Super Edit plugin  
directory. I could probably use both methods described but having a  
widely supported area outside of the plugin directory would be useful  
and allow customizations. Splitting into separate WordPress plugins  
would also be a waste of space for the WordPress plugin management  
screen.

Until WordPress core has built in TinyMCE plugin and toolbar button  
management :P

It is true that if more plugins enqueued scripts and css properly it  
would be much easier to customize them. There are so many plugins that  
do custom CSS that I've needed to modify. It sucks that I have to save  
a CSS patch that I have to reapply when a plugin gets updated.

Jess

On Feb 17, 2009, at 7:47 PM, Stephen Rider wrote:

>
> From: scribu <scribu@gmail.com>
>
>> I have a plugin that generates a skinable carousel. The user's CSS  
>> file
>> could be stored in wp-content/plugins-data/my-plugin/ but it would  
>> actualy
>> make more sense in the current theme directory, since the idea  
>> would be to
>> make it blend with the rest of the site.
>
> My aforementioned JavaScript Pull-Quotes has a solution to that  
> one.  You can set a Style in Settings, but if a theme has a file in  
> it called jspullquotes.css, that (optionally) overrides what is  
> selected in Settings.  You could certainly do the same with your  
> plugin.
>
> On Feb 17, 2009, at 5:15 PM, Otto wrote:
>
> [RE Spam Karma sub-plugins]
>> Instead, those sub-plugins (as it were) should be fully fledged
>> WordPress plugins that utilize actions/filters in the main plugin. A
>> plugin can easily create its own actions (merely by doing
>> do_action('plugin-action-name'); ), so it should do so and then let
>> other WP plugins fill in the bits that way.
>
> Two reasons why this is a bad idea:
>
> 1) In the case of Spam Karma, you're talking 10 extra plugins, just  
> by default.  Just how long and cluttered do you want your Manage  
> Plugins page to be?
>
> 2) Spam Karma can run on many CMS/blog platforms, and as such cannot  
> strongly tie itself into WordPress specific hooks and such.  Thus  
> its own system for loading sub-plugins.
>
> 3) In the case of the Pull-Quotes plugin (or scribu's plugin), I  
> think it would be kind of crazy to have (again) an entirely separate  
> plugin for every Style that it can use.  Basically we're talking a  
> plugin just to load a style-sheet into a menu in another plugin's  
> Settings screen.  That system might work for some uses, but for many  
> uses it just gets silly.
>
>
> I'm not entirely sure what all the fuss is about.  This is *zero*  
> code into WP core.  All I'm asking is that we decide on a standard  
> location for such things, so that IF a plugin author wants to locate  
> files externally, there is a standard to go by.
>
> Stephen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From zamoose at gmail.com  Wed Feb 18 03:31:19 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Wed Feb 18 03:31:27 2009
Subject: [wp-hackers] stop HTTP requests made behind one's back
In-Reply-To: <878wo4il3w.fsf@jidanni.org>
References: <878wo4il3w.fsf@jidanni.org>
Message-ID: <71ddd7490902171931y3bbdf8a7v69c4d66cea217567@mail.gmail.com>

On Tue, Feb 17, 2009 at 8:34 PM, <jidanni@jidanni.org> wrote:

> HOW ODD, I said to myself, WordPress seems to make a lot of outbound
> HTTP requests, from the minute you first install it.
>
> Why can't there at least be a checkbox provided to make WordPress act
> like MediaWiki: just respond to incoming HTTP requests.
>
> An RSS reader bundled right into the Dashboard? How kind, but I have
> my own. OK, I disabled it along with pings, etc.
>
> cron update_core, update_plugins, update_themes? Again how thoughtful,
> however there should be a way to not trust, and turn off such "beacons".
>
> How is one to install WordPress on a military or intranet where making
> HTTP requests to the Internet is not allowed?
>
> Just rip up wp-includes/http.php? That won't stop other parts of the
> code from then futilely hammering it even more.
>
>

How serendipitous.  I've been working on a BTF (Behind the Firewall) plugin
for my clients for exactly the same reason -- the admin panel is SLOOOOOOOOW
for both WP and WPMU when a firewall/proxy sits between it and the Internet.

This opens this topic to the whole wp-hackers list though, and I'd love an
answer:

How can we get wp-includes/http.php to respect a proxy?  Used to be able to
do it by editing the Snoopy files,  but since the new http interface came
in, it's nigh-impossible.


>

-- 
-Doug
From wordpress at santosj.name  Wed Feb 18 04:41:16 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Wed Feb 18 04:41:24 2009
Subject: [wp-hackers] stop HTTP requests made behind one's back
In-Reply-To: <71ddd7490902171931y3bbdf8a7v69c4d66cea217567@mail.gmail.com>
References: <878wo4il3w.fsf@jidanni.org>
	<71ddd7490902171931y3bbdf8a7v69c4d66cea217567@mail.gmail.com>
Message-ID: <499B916C.4010005@santosj.name>

Yeah, you know, I could have spent another week or two implementing 
proxy support, but I'm just like, "You know, those people probably 
amount to only a small fraction of the users, so why should I waste my 
time?" That and the fact that I don't tend to cut myself, unless I've 
done something socially awkward. From the complaining of other 
developers about the pain and suffering of implementing proxy support, 
I'll keep away from it.

That said, there is nothing preventing you (either of you or anyone else 
with ability to do so) from creating a patch that adds proper proxy 
support. If you do it well enough, I might send you a gift (disclaimer: 
I'm not going to send you a gift) and you'll have my gratitude (that is 
free and has not monetary redeemable value).

It serves no purpose for me, which is the most important reason why I 
didn't implement it nor will I implement it in the future. I do not host 
WordPress behind a proxy, therefore well, it would be impossible for me 
to develop a solution anyway, because I would fail to be able to test 
whether or not it works (for that proxy and version).

So I mean, those fraction of users whose host has screwed them will 
appreciate it. There there are you two.

Jacob Santos

Doug Stewart wrote:
> On Tue, Feb 17, 2009 at 8:34 PM, <jidanni@jidanni.org> wrote:
>
>   
>> HOW ODD, I said to myself, WordPress seems to make a lot of outbound
>> HTTP requests, from the minute you first install it.
>>
>> Why can't there at least be a checkbox provided to make WordPress act
>> like MediaWiki: just respond to incoming HTTP requests.
>>
>> An RSS reader bundled right into the Dashboard? How kind, but I have
>> my own. OK, I disabled it along with pings, etc.
>>
>> cron update_core, update_plugins, update_themes? Again how thoughtful,
>> however there should be a way to not trust, and turn off such "beacons".
>>
>> How is one to install WordPress on a military or intranet where making
>> HTTP requests to the Internet is not allowed?
>>
>> Just rip up wp-includes/http.php? That won't stop other parts of the
>> code from then futilely hammering it even more.
>>
>>
>>     
>
> How serendipitous.  I've been working on a BTF (Behind the Firewall) plugin
> for my clients for exactly the same reason -- the admin panel is SLOOOOOOOOW
> for both WP and WPMU when a firewall/proxy sits between it and the Internet.
>
> This opens this topic to the whole wp-hackers list though, and I'd love an
> answer:
>
> How can we get wp-includes/http.php to respect a proxy?  Used to be able to
> do it by editing the Snoopy files,  but since the new http interface came
> in, it's nigh-impossible.
>
>
>   
>
>   

From zamoose at gmail.com  Wed Feb 18 04:50:54 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Wed Feb 18 04:51:02 2009
Subject: [wp-hackers] stop HTTP requests made behind one's back
In-Reply-To: <499B916C.4010005@santosj.name>
References: <878wo4il3w.fsf@jidanni.org>
	<71ddd7490902171931y3bbdf8a7v69c4d66cea217567@mail.gmail.com>
	<499B916C.4010005@santosj.name>
Message-ID: <71ddd7490902172050n201294a3h40a2b975a65399ab@mail.gmail.com>

On Tue, Feb 17, 2009 at 11:41 PM, Jacob Santos <wordpress@santosj.name>wrote:

> Yeah, you know, I could have spent another week or two implementing proxy
> support, but I'm just like, "You know, those people probably amount to only
> a small fraction of the users, so why should I waste my time?" That and the
> fact that I don't tend to cut myself, unless I've done something socially
> awkward. From the complaining of other developers about the pain and
> suffering of implementing proxy support, I'll keep away from it.
>
> That said, there is nothing preventing you (either of you or anyone else
> with ability to do so) from creating a patch that adds proper proxy support.
> If you do it well enough, I might send you a gift (disclaimer: I'm not going
> to send you a gift) and you'll have my gratitude (that is free and has not
> monetary redeemable value).
>
> It serves no purpose for me, which is the most important reason why I
> didn't implement it nor will I implement it in the future. I do not host
> WordPress behind a proxy, therefore well, it would be impossible for me to
> develop a solution anyway, because I would fail to be able to test whether
> or not it works (for that proxy and version).
>
> So I mean, those fraction of users whose host has screwed them will
> appreciate it. There there are you two.
>
> Jacob Santos
>
>
Jacob:
Whoah.  Wasn't trying to dump on your hard work in the slightest -- you've
done a yeoman's share, as far as I'm concerned, in getting the HTTP
transports thing going.  Definitely goes a long way towards making WordPress
dead-simple to admin and keep up to date.

What I'm trying to do, though, is keep that simplicity in place for my
corporate client who unfortunately doesn't have the option of running a
transparent proxy.  I want to leverage your hard work and, well, make it
work so that the marcomm folks tasked with adminning the site don't have to
hit me up for plugin updates every time.

I can do all sorts of add_filters to disable the different transports (what
I'm having to resort to now) but I'd far rather just have cURL, fopen, etc.
respect a proxy.  I'll take a look at the code in the next couple of days
and see if I can't make it work BTF.  And if anyone else on the list has
ideas as to how best to make that happen, I'm all ears.

-- 
-Doug
From wordpress at santosj.name  Wed Feb 18 05:05:29 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Wed Feb 18 05:05:39 2009
Subject: [wp-hackers] stop HTTP requests made behind one's back
In-Reply-To: <71ddd7490902172050n201294a3h40a2b975a65399ab@mail.gmail.com>
References: <878wo4il3w.fsf@jidanni.org>	<71ddd7490902171931y3bbdf8a7v69c4d66cea217567@mail.gmail.com>	<499B916C.4010005@santosj.name>
	<71ddd7490902172050n201294a3h40a2b975a65399ab@mail.gmail.com>
Message-ID: <499B9719.7090007@santosj.name>

If you require any hooks to implement the plugin, then I think the core 
committers won't mind adding them (disclaimer: I do not speak for those 
with commit access, so they may or may not agree to adding hooks). 
Actual proxy support, I believe would be ideal (the cheap hack with 
adding a filter for cURL didn't work out as well as I thought, 
whats-his-face knows, actually I do know his name, but he is on my shit 
list, so I'm not going to speak of him).

The goal is to implement features as much as possible in every 
transport. I've found, from the work of others, when the SSL support was 
added that it isn't always the case. The fopen transport (not the 
streams) does not support sending headers, so is therefore limited in 
what it can do as well.

Well, I meant to say, good luck.

PS: It isn't so much my code as it is WordPress code, because so many 
people have meshed their code and hands in it. I just have a vested 
interest in it, because it is my precious.

Jacob Santos

Doug Stewart wrote:
> On Tue, Feb 17, 2009 at 11:41 PM, Jacob Santos <wordpress@santosj.name>wrote:
>
>   
>> Yeah, you know, I could have spent another week or two implementing proxy
>> support, but I'm just like, "You know, those people probably amount to only
>> a small fraction of the users, so why should I waste my time?" That and the
>> fact that I don't tend to cut myself, unless I've done something socially
>> awkward. From the complaining of other developers about the pain and
>> suffering of implementing proxy support, I'll keep away from it.
>>
>> That said, there is nothing preventing you (either of you or anyone else
>> with ability to do so) from creating a patch that adds proper proxy support.
>> If you do it well enough, I might send you a gift (disclaimer: I'm not going
>> to send you a gift) and you'll have my gratitude (that is free and has not
>> monetary redeemable value).
>>
>> It serves no purpose for me, which is the most important reason why I
>> didn't implement it nor will I implement it in the future. I do not host
>> WordPress behind a proxy, therefore well, it would be impossible for me to
>> develop a solution anyway, because I would fail to be able to test whether
>> or not it works (for that proxy and version).
>>
>> So I mean, those fraction of users whose host has screwed them will
>> appreciate it. There there are you two.
>>
>> Jacob Santos
>>
>>
>>     
> Jacob:
> Whoah.  Wasn't trying to dump on your hard work in the slightest -- you've
> done a yeoman's share, as far as I'm concerned, in getting the HTTP
> transports thing going.  Definitely goes a long way towards making WordPress
> dead-simple to admin and keep up to date.
>
> What I'm trying to do, though, is keep that simplicity in place for my
> corporate client who unfortunately doesn't have the option of running a
> transparent proxy.  I want to leverage your hard work and, well, make it
> work so that the marcomm folks tasked with adminning the site don't have to
> hit me up for plugin updates every time.
>
> I can do all sorts of add_filters to disable the different transports (what
> I'm having to resort to now) but I'd far rather just have cURL, fopen, etc.
> respect a proxy.  I'll take a look at the code in the next couple of days
> and see if I can't make it work BTF.  And if anyone else on the list has
> ideas as to how best to make that happen, I'm all ears.
>
>   

From wp at xentek.net  Wed Feb 18 05:22:40 2009
From: wp at xentek.net (Eric Marden)
Date: Wed Feb 18 05:22:51 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
Message-ID: <7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>

> And don't say "they can turn it off", because I know a LOT of theme
> developers that still don't know how to turn the WP version tag off,  
> or even
> that it's there in the first place

And whose fault is that? The theme developers'.

-e

From jason at intraffic.net  Wed Feb 18 05:25:37 2009
From: jason at intraffic.net (Jason Webster)
Date: Wed Feb 18 05:25:43 2009
Subject: [wp-hackers] stop HTTP requests made behind one's back
In-Reply-To: <499B916C.4010005@santosj.name>
References: <878wo4il3w.fsf@jidanni.org>	<71ddd7490902171931y3bbdf8a7v69c4d66cea217567@mail.gmail.com>
	<499B916C.4010005@santosj.name>
Message-ID: <499B9BD1.7020801@intraffic.net>

Curl has some fairly painless proxy support, but it is, sadly, php 5+ only.
What are the requirements for the curl HTTP adapter, as of right now?

But, Doug, if PHP5 is feasible for your client/project, it would be possible to adapt the current 
implementation to use a proxy.


On 17/02/2009 8:41 PM, Jacob Santos wrote:
> Yeah, you know, I could have spent another week or two implementing
> proxy support, but I'm just like, "You know, those people probably
> amount to only a small fraction of the users, so why should I waste my
> time?" That and the fact that I don't tend to cut myself, unless I've
> done something socially awkward. From the complaining of other
> developers about the pain and suffering of implementing proxy support,
> I'll keep away from it.
>
> That said, there is nothing preventing you (either of you or anyone else
> with ability to do so) from creating a patch that adds proper proxy
> support. If you do it well enough, I might send you a gift (disclaimer:
> I'm not going to send you a gift) and you'll have my gratitude (that is
> free and has not monetary redeemable value).
>
> It serves no purpose for me, which is the most important reason why I
> didn't implement it nor will I implement it in the future. I do not host
> WordPress behind a proxy, therefore well, it would be impossible for me
> to develop a solution anyway, because I would fail to be able to test
> whether or not it works (for that proxy and version).
>
> So I mean, those fraction of users whose host has screwed them will
> appreciate it. There there are you two.
>
> Jacob Santos
>
From mikeschinkel at newclarity.net  Wed Feb 18 05:29:04 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb 18 05:29:23 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <161617690902171209y5ca322d6r98b0e6ace88a2b2c@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1GNY4820175f6b10d062fd3da7d,
	mikeschinkel@newclarity.net, 20609926.101234934953674.J>

"Otto" <otto@ottodestruct.com> wrote:
> I think a lot of people are misunderstanding the idea behind 
> the rel=canonical and what it actually does and/or is used for. 
> Having a canonical link in your header does not stop Google from 
> indexing the page. It controls the URL that Google displays for 
> search results.

Since you made that statement when quoting my email I'll just state that I completely know what rel="canonical" is used for; I studied that and related issues for 6 months back in 2006/07 (see: http://blog.welldesignedurls.org)  

What I don't quite get yet it how to solve the duplicate content problem with paged comment assuming WP's comments are not significantly re-architected.

> So your comments would still be indexed. 

I think you may be wrong on this. I think that it is likely that google will request the canonical URL and index that one.  If not, then I can see how rel="canonical" could become a haven for spammers.  Imagine someone specifying that their root is the canonical for thousands of pages...

-Mike Schinkel
http://mikeschinkel.com/

From jason at intraffic.net  Wed Feb 18 05:33:28 2009
From: jason at intraffic.net (Jason Webster)
Date: Wed Feb 18 05:33:32 2009
Subject: [wp-hackers] Storing Tabular Content in the Database
In-Reply-To: <d8b84dd60902171002p5854186au231418d280d6060d@mail.gmail.com>
References: <d8b84dd60902171002p5854186au231418d280d6060d@mail.gmail.com>
Message-ID: <499B9DA8.3030109@intraffic.net>

One option would be simply storing the CSV file as a CSV file.
PHP has limited support for the CSV format natively <http://ca.php.net/fgetcsv> and there are many 
more advanced libraries available in the wild.

On 17/02/2009 10:02 AM, Mohammed K. al-Safi wrote:
> My question is about allowing WordPress users to easily display tabular
> content on their blog; providing them with tools to easily do so.
>
> I'm creating a plugin that will ask the user to select a CSV file from their
> HDD and then store the content of this CSV file, *some how*, and display it
> as HTML on a page or a post. I know, there already is a plugin by Alex Rabe
> called wp-Table. However, I believe there is plenty of room in this area for
> another plugin.
>
> At any rate, I need your help on how I should store the tabular content that
> the user uploads via this plugin.
>
> My first thought was to take a CSV file and create a new MySQL table that
> mirrors the CSV file. So, for every CSV file the user wants to display on
> the blog, I'd end up with a corresponding MySQL table in WP's database. I
> would also create a table to keep track of these CSV tables.
>
> I explained the aforementioned implementation to some people on irc://
> irc.freenode.net/mysql and they said that this is definitely not the way to
> do it. They were talking about database schemas, data normalization and some
> stuff that, honestly, I don't think is practicable or applicable for this
> plugin. But the people in the IRC channel didn't really understand the
> situation as well as you would, so I want your opinion and help.
>
> As an alternative solution, I thought that maybe I will generate the HTML
> for the table, and just store that. Kind of like how WordPress would store a
> post or something...
>
> Which implementation should I follow?
>
> Thanks,
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ncrice at gmail.com  Wed Feb 18 05:49:34 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Wed Feb 18 05:49:44 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
Message-ID: <862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>

On Wed, Feb 18, 2009 at 12:22 AM, Eric Marden <wp@xentek.net> wrote:

> And don't say "they can turn it off", because I know a LOT of theme
>> developers that still don't know how to turn the WP version tag off, or
>> even
>> that it's there in the first place
>>
>
> And whose fault is that? The theme developers'.
>
>
Honestly, that answer is part of the reason I don't like this back room crap
going on. Do what you want, theme developer's be damned.
From mikeschinkel at newclarity.net  Wed Feb 18 06:03:41 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed Feb 18 06:04:00 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1H03fe49b4b154981d34ea7109b,
	mikeschinkel@newclarity.net, 18210779.441234937034090.J>

Back room crap?  It's a public mailing list.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Nathan Rice" <ncrice@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Wednesday, February 18, 2009 12:49:34 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Canonical integration into core

On Wed, Feb 18, 2009 at 12:22 AM, Eric Marden <wp@xentek.net> wrote:

> And don't say "they can turn it off", because I know a LOT of theme
>> developers that still don't know how to turn the WP version tag off, or
>> even
>> that it's there in the first place
>>
>
> And whose fault is that? The theme developers'.
>
>
Honestly, that answer is part of the reason I don't like this back room crap
going on. Do what you want, theme developer's be damned.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From ncrice at gmail.com  Wed Feb 18 06:11:09 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Wed Feb 18 06:11:18 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <6109809709644837786@unknownmsgid>
References: <862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<6109809709644837786@unknownmsgid>
Message-ID: <862d087f0902172211p29a15dd4s85f4bbbd5b9a8e34@mail.gmail.com>

That most theme developers don't subscribe to.  I'm just saying that when
you blame theme developers for not knowing about "stuff" when the "stuff" is
inserted automatically without them specifically calling for it, you're
going to get some serious blowback.
I'd venture to guess that the majority of people on this list don't make
themes very much. And I'd probably be right.

On Wed, Feb 18, 2009 at 1:03 AM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> Back room crap?  It's a public mailing list.
>
>
From duanestorey at gmail.com  Wed Feb 18 06:25:08 2009
From: duanestorey at gmail.com (Duane Storey)
Date: Wed Feb 18 06:25:27 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
Message-ID: <53d535500902172225m760ebfecwee1265a277bfcb23@mail.gmail.com>

Otto - we have a plugin where the user can drop in (via FTP or whatever)
custom icons that the plugin will use while displaying information on the
blog.  Another example is CFORMS, where you can drop in a custom CSS style
for your forms.   Right now when the plugin auto upgrades, all the icons
they dropped in get deleted.  We need a place where they can put them so
they know a) they belong to this plugin b) they won't get overwritten during
an upgrade.

On Tue, Feb 17, 2009 at 2:44 PM, Otto <otto@ottodestruct.com> wrote:

> On Tue, Feb 17, 2009 at 3:59 PM, Doug Smith <doug@smithsrus.com> wrote:
> > That may be a mute point because permissions would likely need to be set
> for
> > a plugin data folder anyway. The uploads folder contains pictures and
> such
> > that, by design, are to be shared with the world. However, plugin data
> being
> > viewable by the world could have security implications. I certainly
> wouldn't
> > want that folder readable through the Web server like the upload folder
> > needs to be.
>
> Perhaps we need to better define what this plugins-data is, exactly,
> because I cannot think of a legitimate case where you'd:
> a) have a plugin that needs to store files somewhere such that the
> user can upload them or otherwise modify them, and
> b) those files should not be world-readable over the webserver.
>
> Can we come up with some specific use cases here before deciding how
> to implement it? What is this "plugin-data"? The main case I was
> thinking of was plugins that have customizable CSS files or IMG files
> which affect the output of the plugin.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From nb at nikolay.bg  Wed Feb 18 06:34:25 2009
From: nb at nikolay.bg (Nikolay Bachiyski)
Date: Wed Feb 18 06:34:37 2009
Subject: [wp-hackers] plugin .pot creation/editing
In-Reply-To: <1144E3C7-6601-4123-A63E-908260C0A798@striderweb.com>
References: <1144E3C7-6601-4123-A63E-908260C0A798@striderweb.com>
Message-ID: <87e663fa0902172234h1550b1a0ydc83deea0bbc7677@mail.gmail.com>

On Thu, Feb 12, 2009 at 18:18, Stephen Rider <wp-hackers@striderweb.com> wrote:
> Does anyone have a decent workflow for creating and updating .pot files for
> plugins?  I'm on Mac OS X as I said, but I'm okay with Terminal commands if
> a decent GUI app isn't available.
>

If you use one of the methods below you'll make sure you have all the
right keywords. As a bonus, your POT file will include the metadata
for your plugin, too -- Title, Description, etc. Just include Text
Domain: your-text-domain in your plugin headers.

Here are the methods. Either:

1. Use the GUI in your plugin page at Extend.

or

2. Checkout i18n tools [0] and call:

php makepot.php wp-plugin <directory-of-your-plugin>

You will find the generated POT file in the current directory.
For this to work you'll need the gettext utilities (xgettext), which
poEdit installs. You may have to add
/Applications/Poedit.app/Contents/MacOS to your path.

[0] http://svn.automattic.com/wordpress-i18n/tools/trunk/

Happy hacking,
Nikolay.
From wp at xentek.net  Wed Feb 18 06:57:43 2009
From: wp at xentek.net (Eric Marden)
Date: Wed Feb 18 06:57:54 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
Message-ID: <A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>

On Feb 18, 2009, at 12:49 AM, Nathan Rice wrote:

> On Wed, Feb 18, 2009 at 12:22 AM, Eric Marden <wp@xentek.net> wrote:
>
>> And don't say "they can turn it off", because I know a LOT of theme
>>> developers that still don't know how to turn the WP version tag  
>>> off, or
>>> even
>>> that it's there in the first place
>>>
>>
>> And whose fault is that? The theme developers'.
>>
>>
> Honestly, that answer is part of the reason I don't like this back  
> room crap
> going on. Do what you want, theme developer's be damned.


My point is that if you don't apply yourself to discover the depths of  
any system, you can't possibly shift the blame for not knowing onto  
the system, its developers, and the other interested parties (i.e.  
this list). Especially if its something that bugs you, and that you  
want to figure out how to overcome. No one helps the lazy, and with  
good reason... there is no reward.

-e
From hendry.lee at gmail.com  Wed Feb 18 07:08:06 2009
From: hendry.lee at gmail.com (Hendry Lee)
Date: Wed Feb 18 07:08:23 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <161617690902171209y5ca322d6r98b0e6ace88a2b2c@mail.gmail.com>
References: <4584501.4151234890967930.JavaMail.DELL-1405$@Dell-1405>	<-3479349770000582452@unknownmsgid>
	<161617690902171209y5ca322d6r98b0e6ace88a2b2c@mail.gmail.com>
Message-ID: <499bb3d6.1d078e0a.2a86.ffff911e@mx.google.com>

> "we now support a format that allows you to publicly specify your
> preferred version of a URL. If your site has identical or vastly
> similar content that's accessible through multiple URLs, this format
> provides you with more control over the URL returned in search
> results. It also helps to make sure that properties such as link
> popularity are consolidated to your preferred version."

Also the same page

http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.ht
ml

mentions that Google allow slight differences. What constitutes slight
differences? This requires a clear answer. Otherwise, as Mike said, it could
become a haven for spammers.

"Imagine someone specifying that their root is the canonical for thousands
of pages..."

Consolidating PageRank and other related signals may be abused unless Google
(and others) have clear definition about duplicate content.

With that, canonical doesn't solve every SEO problem.

A] When bloggers worry about PR distribution, they use nofollow attribute to
control the flow. But that doesn't prevent an external web site to link to
the page.

Problems:

1. Page indexed by Google by following external link(s)
2. No consolidation of PR

B] Meta robots (noindex) seems to solve the indexing problem. Bloggers may
prevent search engine crawlers even there's external links.

Problem:

There's still nothing that prevents the flow of PageRank to the wrong pages.
Because the page will not be indexed, the PR will go into oblivion.

Canonical transfer PageRank value and other things (Yay!). As I see it,
Google prefer this method in fighting duplicate content, instead of having
bloggers and web publishers "filter" them out.

But still PageRank flow is not optimized without nofollow.

Why would WordPress solve duplicate content problem but not optimal PR flow?
Is it because more search engines will support it?

I'm curious.

-- 
Hendry


From speedboxer at gmail.com  Wed Feb 18 07:37:03 2009
From: speedboxer at gmail.com (Matt)
Date: Wed Feb 18 07:37:15 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
Message-ID: <b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>

With the exception of paged comments, when does WordPress ever present
two pages with the same content on them where this tag could actually
be used? Yes, a theme may show duplicate content on category, archive,
etc pages, but this tag cannot be used there. Feel free to prove me
wrong on this by providing some example URLs of where there's
duplicate pages (that this tag can be used on), besides
/comment-page-x.

-1 on this by default. But +1 for adding it when paged comments are
enabled (otherwise it would be useless, because there wouldn't be any
duplicate pages).


-- 
Matt Freedman
Blog: http://mattsblog.ca/
Twitter: http://twitter.com/mattfreedman
From joost at yoast.com  Wed Feb 18 09:07:19 2009
From: joost at yoast.com (Joost de Valk)
Date: Wed Feb 18 09:07:32 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <862d087f0902172211p29a15dd4s85f4bbbd5b9a8e34@mail.gmail.com>
References: <862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<6109809709644837786@unknownmsgid>
	<862d087f0902172211p29a15dd4s85f4bbbd5b9a8e34@mail.gmail.com>
Message-ID: <B047E3A6-9C45-42D9-A4BA-A262C3D54C76@yoast.com>

On Feb 18, 2009, at 7:11 AM, Nathan Rice wrote:

> That most theme developers don't subscribe to.  I'm just saying that  
> when
> you blame theme developers for not knowing about "stuff" when the  
> "stuff" is
> inserted automatically without them specifically calling for it,  
> you're
> going to get some serious blowback.
> I'd venture to guess that the majority of people on this list don't  
> make
> themes very much. And I'd probably be right.

I do, all the time. And I code plugins too. And I try to fix things in  
core if I come across them. You know what? I guess that goes for at  
least half the people on this list :)
From joost at yoast.com  Wed Feb 18 09:10:16 2009
From: joost at yoast.com (Joost de Valk)
Date: Wed Feb 18 09:10:32 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
Message-ID: <ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>

On Feb 18, 2009, at 8:37 AM, Matt wrote:

> With the exception of paged comments, when does WordPress ever present
> two pages with the same content on them where this tag could actually
> be used? Yes, a theme may show duplicate content on category, archive,
> etc pages, but this tag cannot be used there. Feel free to prove me
> wrong on this by providing some example URLs of where there's
> duplicate pages (that this tag can be used on), besides
> /comment-page-x.
>
> -1 on this by default. But +1 for adding it when paged comments are
> enabled (otherwise it would be useless, because there wouldn't be any
> duplicate pages).

It's not just about what WordPress does. For example:

http://example.com/about/

and

http://example.com/about/?from=email

will serve up the same pages in most WordPress installs. If you add  
the rel="canonical" link to the <head>, the latter will have all links  
pointing to it counted toward the first one. That's, for me, one of  
the main uses of the tag.

Best,
Joost
From jeremy.visser at gmail.com  Wed Feb 18 09:20:07 2009
From: jeremy.visser at gmail.com (Jeremy Visser)
Date: Wed Feb 18 09:20:24 2009
Subject: [wp-hackers] stop HTTP requests made behind one's back
In-Reply-To: <878wo4il3w.fsf@jidanni.org>
References: <878wo4il3w.fsf@jidanni.org>
Message-ID: <200902182020.09602.jeremy.visser@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On Wednesday 18 February 2009 12:34:27 jidanni@jidanni.org wrote:
> HOW ODD, I said to myself, WordPress seems to make a lot of outbound
> HTTP requests, from the minute you first install it.
>
> Why can't there at least be a checkbox provided to make WordPress act
> like MediaWiki: just respond to incoming HTTP requests.

Last I checked, this was WordPress, not KDE.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.9 (GNU/Linux)

iEYEARECAAYFAkmb0skACgkQvs6Qqs8TxBpo5wCg0Gbb9VTrHoh3NrEKTsAb7ZqF
ZiQAmwWZyUog55Y+HqArHyr9EnbJnzGE
=BCCF
-----END PGP SIGNATURE-----
From scribu at gmail.com  Wed Feb 18 09:46:15 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb 18 09:46:29 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
Message-ID: <349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>

On Wed, Feb 18, 2009 at 11:10 AM, Joost de Valk <joost@yoast.com> wrote:

> It's not just about what WordPress does. For example:
>
> http://example.com/about/
>
> and
>
> http://example.com/about/?from=email
>
> will serve up the same pages in most WordPress installs. If you add the
> rel="canonical" link to the <head>, the latter will have all links pointing
> to it counted toward the first one. That's, for me, one of the main uses of
> the tag.
>
> Best,
> Joost


Yes, but the second URL is not native to WordPress, so the canonical tag is
effectively plugin territory, except for paged comments.

-- 
http://scribu.net
From ryanmccue at cubegames.net  Wed Feb 18 10:41:38 2009
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Wed Feb 18 10:42:57 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
	<349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
Message-ID: <499BE5E2.6040002@cubegames.net>

scribu wrote:
> Yes, but the second URL is not native to WordPress, so the canonical tag is
> effectively plugin territory, except for paged comments.
>   

+1

Additionally, it would be best handled by a 301 redirect, IMHO.

-- 
Ryan McCue
<http://cubegames.net/>

From ckunte at gmail.com  Wed Feb 18 11:01:15 2009
From: ckunte at gmail.com (Chetan Kunte)
Date: Wed Feb 18 11:01:24 2009
Subject: [wp-hackers] Feature or bug: Page password protection does not
	cascade to sub-pages
Message-ID: <74b84aa30902180301w78d3713bw93c1761268a506a4@mail.gmail.com>

Hi -

I am not clear on why the parent page password protection is not
automatically inherited and cascaded down to child-pages listed under
the protected parent page. Is this a feature, or is it a bug?

Ideally, when I protect a parent page, all child-pages under the
parent page should also be protected, and should inherit the password
specified to protect the parent page. (If a user lands on a
child-page, and knows the password to the parent page, then he should
be able to read the child-page.)
--
Chetan
From viper at viper007bond.com  Wed Feb 18 11:04:53 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Wed Feb 18 11:05:04 2009
Subject: [wp-hackers] Feature or bug: Page password protection does not 
	cascade to sub-pages
In-Reply-To: <74b84aa30902180301w78d3713bw93c1761268a506a4@mail.gmail.com>
References: <74b84aa30902180301w78d3713bw93c1761268a506a4@mail.gmail.com>
Message-ID: <8f93a7390902180304i5e9f543eq251f5971ac7c517d@mail.gmail.com>

It isn't a bug, it's intended behavior. The behavior you're looking for
though would be easily accomplished by a plugin though.

On Wed, Feb 18, 2009 at 3:01 AM, Chetan Kunte <ckunte@gmail.com> wrote:

> Hi -
>
> I am not clear on why the parent page password protection is not
> automatically inherited and cascaded down to child-pages listed under
> the protected parent page. Is this a feature, or is it a bug?
>
> Ideally, when I protect a parent page, all child-pages under the
> parent page should also be protected, and should inherit the password
> specified to protect the parent page. (If a user lands on a
> child-page, and knows the password to the parent page, then he should
> be able to read the child-page.)
> --
> Chetan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From talkout at gmail.com  Wed Feb 18 11:12:22 2009
From: talkout at gmail.com (The TalkOut Trojans!)
Date: Wed Feb 18 11:12:33 2009
Subject: [wp-hackers] Feature or bug: Page password protection does not 
	cascade to sub-pages
In-Reply-To: <74b84aa30902180301w78d3713bw93c1761268a506a4@mail.gmail.com>
References: <74b84aa30902180301w78d3713bw93c1761268a506a4@mail.gmail.com>
Message-ID: <7559d6930902180312s4549c32r2a4c7ef4a2f61e0d@mail.gmail.com>

I believe it the way WordPress works (and not a bug though...)
But if you have such a requirement there might be a plug-in to do that, but
I'm aware of none.

On Wed, Feb 18, 2009 at 4:31 PM, Chetan Kunte <ckunte@gmail.com> wrote:

> Hi -
>
> I am not clear on why the parent page password protection is not
> automatically inherited and cascaded down to child-pages listed under
> the protected parent page. Is this a feature, or is it a bug?
>
> Ideally, when I protect a parent page, all child-pages under the
> parent page should also be protected, and should inherit the password
> specified to protect the parent page. (If a user lands on a
> child-page, and knows the password to the parent page, then he should
> be able to read the child-page.)
> --
> Chetan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

--
TalkOut
From scribu at gmail.com  Wed Feb 18 12:21:50 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb 18 12:22:02 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <499BE5E2.6040002@cubegames.net>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
	<349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
	<499BE5E2.6040002@cubegames.net>
Message-ID: <349fe48b0902180421r5496b67ep884da4744fb1b685@mail.gmail.com>

Wait...there's also /post-permalink?replytocom=123 which is triggered when
there's no Javascript enabled (a.k.a. bots) that could also use
rel="canonical".

On Wed, Feb 18, 2009 at 12:41 PM, Ryan McCue <ryanmccue@cubegames.net>wrote:

> scribu wrote:
> > Yes, but the second URL is not native to WordPress, so the canonical tag
> is
> > effectively plugin territory, except for paged comments.
> >
>
> +1
>
> Additionally, it would be best handled by a 301 redirect, IMHO.
>
> --
> Ryan McCue
> <http://cubegames.net/>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From lynne.pope at gmail.com  Wed Feb 18 13:07:28 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Wed Feb 18 13:07:39 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <349fe48b0902180421r5496b67ep884da4744fb1b685@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
	<349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
	<499BE5E2.6040002@cubegames.net>
	<349fe48b0902180421r5496b67ep884da4744fb1b685@mail.gmail.com>
Message-ID: <427667db0902180507t69aadfdahc02fe18575aa24c8@mail.gmail.com>

There is no need to add meta data tags to handle this situation.
Search engines that respect robots.txt all honour this, and have done for
years. I use pretty permalinks and none of my /permalink?anything is
indexed. This also prevents indexing of search pages (which strangely enough
do get linked to). Depending on how the site uses these non-standard URL's
though there can be a loss of link juice by blocking them at robots level.

Disallow: /*?*
Disallow: /*?

Lynne

2009/2/19 scribu <scribu@gmail.com>

> Wait...there's also /post-permalink?replytocom=123 which is triggered when
> there's no Javascript enabled (a.k.a. bots) that could also use
> rel="canonical".
>
> On Wed, Feb 18, 2009 at 12:41 PM, Ryan McCue <ryanmccue@cubegames.net
> >wrote:
>
> > scribu wrote:
> > > Yes, but the second URL is not native to WordPress, so the canonical
> tag
> > is
> > > effectively plugin territory, except for paged comments.
> > >
> >
> > +1
> >
> > Additionally, it would be best handled by a 301 redirect, IMHO.
> >
> > --
> > Ryan McCue
> > <http://cubegames.net/>
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From joost at yoast.com  Wed Feb 18 13:22:20 2009
From: joost at yoast.com (Joost de Valk)
Date: Wed Feb 18 13:22:34 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <427667db0902180507t69aadfdahc02fe18575aa24c8@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
	<349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
	<499BE5E2.6040002@cubegames.net>
	<349fe48b0902180421r5496b67ep884da4744fb1b685@mail.gmail.com>
	<427667db0902180507t69aadfdahc02fe18575aa24c8@mail.gmail.com>
Message-ID: <CBB12E13-0856-46B7-ACB6-79C34F1DE8AE@yoast.com>

On Feb 18, 2009, at 2:07 PM, Lynne Pope wrote:

> There is no need to add meta data tags to handle this situation.
> Search engines that respect robots.txt all honour this, and have  
> done for
> years. I use pretty permalinks and none of my /permalink?anything is
> indexed. This also prevents indexing of search pages (which  
> strangely enough
> do get linked to). Depending on how the site uses these non-standard  
> URL's
> though there can be a loss of link juice by blocking them at robots  
> level.
>
> Disallow: /*?*
> Disallow: /*?
>

Lynne,

you don't get it, I'm afraid. When you're blocking those pages from  
being indexed, you're also blocking the search engines from allowing  
those links to help your rankings. If you use the rel=canonical, you  
allow them to index it, and they use the links toward that "faulty"  
URL to improve the rankings of the page you set as canonical (provided  
they have (almost) the same content).

Best,
Joost
From scribu at gmail.com  Wed Feb 18 13:30:25 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb 18 13:30:37 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <CBB12E13-0856-46B7-ACB6-79C34F1DE8AE@yoast.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
	<349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
	<499BE5E2.6040002@cubegames.net>
	<349fe48b0902180421r5496b67ep884da4744fb1b685@mail.gmail.com>
	<427667db0902180507t69aadfdahc02fe18575aa24c8@mail.gmail.com>
	<CBB12E13-0856-46B7-ACB6-79C34F1DE8AE@yoast.com>
Message-ID: <349fe48b0902180530k3e37d8dbob72b49131f197a14@mail.gmail.com>

On Wed, Feb 18, 2009 at 3:22 PM, Joost de Valk <joost@yoast.com> wrote:

> On Feb 18, 2009, at 2:07 PM, Lynne Pope wrote:
>
>  There is no need to add meta data tags to handle this situation.
>> Search engines that respect robots.txt all honour this, and have done for
>> years. I use pretty permalinks and none of my /permalink?anything is
>> indexed. This also prevents indexing of search pages (which strangely
>> enough
>> do get linked to). Depending on how the site uses these non-standard URL's
>> though there can be a loss of link juice by blocking them at robots level.
>>
>> Disallow: /*?*
>> Disallow: /*?
>>
>>
> Lynne,


Yes, I use that too. You can't use rel="canonical" on search pages, or any
other page with more than one post in WordPress.

you don't get it, I'm afraid. When you're blocking those pages from being
> indexed, you're also blocking the search engines from allowing those links
> to help your rankings. If you use the rel=canonical, you allow them to index
> it, and they use the links toward that "faulty" URL to improve the rankings
> of the page you set as canonical (provided they have (almost) the same
> content).
>
> Best,
> Joost


On the other hand, who would ever link to
*/post-permalink?replytocom=123*?? So, rel="canonical" is still plugin
territory except maybe for paged
comments.



-- 
http://scribu.net
From lynne.pope at gmail.com  Wed Feb 18 13:32:43 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Wed Feb 18 13:32:53 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <CBB12E13-0856-46B7-ACB6-79C34F1DE8AE@yoast.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
	<349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
	<499BE5E2.6040002@cubegames.net>
	<349fe48b0902180421r5496b67ep884da4744fb1b685@mail.gmail.com>
	<427667db0902180507t69aadfdahc02fe18575aa24c8@mail.gmail.com>
	<CBB12E13-0856-46B7-ACB6-79C34F1DE8AE@yoast.com>
Message-ID: <427667db0902180532r113f18fcjb498c29fb576d5f6@mail.gmail.com>

2009/2/19 Joost de Valk <joost@yoast.com>

> On Feb 18, 2009, at 2:07 PM, Lynne Pope wrote:
>
>  There is no need to add meta data tags to handle this situation.
>> Search engines that respect robots.txt all honour this, and have done for
>> years. I use pretty permalinks and none of my /permalink?anything is
>> indexed. This also prevents indexing of search pages (which strangely
>> enough
>> do get linked to). Depending on how the site uses these non-standard URL's
>> though there can be a loss of link juice by blocking them at robots level.
>>
>> Disallow: /*?*
>> Disallow: /*?
>>
>>
> Lynne,
>
> you don't get it, I'm afraid. When you're blocking those pages from being
> indexed, you're also blocking the search engines from allowing those links
> to help your rankings. If you use the rel=canonical, you allow them to index
> it, and they use the links toward that "faulty" URL to improve the rankings
> of the page you set as canonical (provided they have (almost) the same
> content).
>
> Best,
> Joost
>

Joost, with respect, did I not say that depending on how the site uses these
non-standard URL's there can be a loss of link juice with using the robots
method?

I was simply pointing out that there is more than one way to skin a cat. The
same can be achieved by using PHP to set locations in HTTP headers, or to
serve the correct page to search bots or...

Sorry, but not all sites use non-WP-generated URL's and not all require link
juice from them. I am not trying to argue against inclusion of the canonical
URL tag (gave up on that ages ago) but was simply pointing out that its not
necessary for all sites.

Lynne
From mark.cunningham at gmail.com  Wed Feb 18 13:42:08 2009
From: mark.cunningham at gmail.com (Mark Cunningham)
Date: Wed Feb 18 13:42:19 2009
Subject: [wp-hackers] stop HTTP requests made behind one's back
In-Reply-To: <71ddd7490902171931y3bbdf8a7v69c4d66cea217567@mail.gmail.com>
References: <878wo4il3w.fsf@jidanni.org>
	<71ddd7490902171931y3bbdf8a7v69c4d66cea217567@mail.gmail.com>
Message-ID: <ee3949160902180542m6a3f70c0i5a6452b2d2bd59f2@mail.gmail.com>

2009/2/18 Doug Stewart <zamoose@gmail.com>:
> This opens this topic to the whole wp-hackers list though, and I'd love an
> answer:
>
> How can we get wp-includes/http.php to respect a proxy?  Used to be able to
> do it by editing the Snoopy files,  but since the new http interface came
> in, it's nigh-impossible.

I gave up trying to modify WP to work behind a firewall. I used to
have a patch that proxy support, but every upgrade I'd have to do the
work again, so since 2.5 I just don't bother. It's a pain in the bum.

There is a trac for it:
http://core.trac.wordpress.org/ticket/4011


-- 
http://thedeadone.net
http://lostheroesrpg.com
http://irishgamingwiki.com
From joost at yoast.com  Wed Feb 18 13:45:56 2009
From: joost at yoast.com (Joost de Valk)
Date: Wed Feb 18 13:46:09 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <427667db0902180532r113f18fcjb498c29fb576d5f6@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
	<349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
	<499BE5E2.6040002@cubegames.net>
	<349fe48b0902180421r5496b67ep884da4744fb1b685@mail.gmail.com>
	<427667db0902180507t69aadfdahc02fe18575aa24c8@mail.gmail.com>
	<CBB12E13-0856-46B7-ACB6-79C34F1DE8AE@yoast.com>
	<427667db0902180532r113f18fcjb498c29fb576d5f6@mail.gmail.com>
Message-ID: <E6BCCB7B-B97E-458A-9B6B-0DE103A01D7B@yoast.com>

On Feb 18, 2009, at 2:32 PM, Lynne Pope wrote:

> 2009/2/19 Joost de Valk <joost@yoast.com>
>
>> On Feb 18, 2009, at 2:07 PM, Lynne Pope wrote:
>>
>> There is no need to add meta data tags to handle this situation.
>>> Search engines that respect robots.txt all honour this, and have  
>>> done for
>>> years. I use pretty permalinks and none of my /permalink?anything is
>>> indexed. This also prevents indexing of search pages (which  
>>> strangely
>>> enough
>>> do get linked to). Depending on how the site uses these non- 
>>> standard URL's
>>> though there can be a loss of link juice by blocking them at  
>>> robots level.
>>>
>>> Disallow: /*?*
>>> Disallow: /*?
>>>
>>>
>> Lynne,
>>
>> you don't get it, I'm afraid. When you're blocking those pages from  
>> being
>> indexed, you're also blocking the search engines from allowing  
>> those links
>> to help your rankings. If you use the rel=canonical, you allow them  
>> to index
>> it, and they use the links toward that "faulty" URL to improve the  
>> rankings
>> of the page you set as canonical (provided they have (almost) the  
>> same
>> content).
>>
>> Best,
>> Joost
>>
>
> Joost, with respect, did I not say that depending on how the site  
> uses these
> non-standard URL's there can be a loss of link juice with using the  
> robots
> method?
>
> I was simply pointing out that there is more than one way to skin a  
> cat. The
> same can be achieved by using PHP to set locations in HTTP headers,  
> or to
> serve the correct page to search bots or...
>
> Sorry, but not all sites use non-WP-generated URL's and not all  
> require link
> juice from them. I am not trying to argue against inclusion of the  
> canonical
> URL tag (gave up on that ages ago) but was simply pointing out that  
> its not
> necessary for all sites.

Well it's not my call either, though I'd sure like them in there. :)

From listswphackers at mist.org.uk  Wed Feb 18 13:45:55 2009
From: listswphackers at mist.org.uk (mrmist)
Date: Wed Feb 18 13:47:35 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <427667db0902180532r113f18fcjb498c29fb576d5f6@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
	<349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
	<499BE5E2.6040002@cubegames.net>
	<349fe48b0902180421r5496b67ep884da4744fb1b685@mail.gmail.com>
	<427667db0902180507t69aadfdahc02fe18575aa24c8@mail.gmail.com>
	<CBB12E13-0856-46B7-ACB6-79C34F1DE8AE@yoast.com>
	<427667db0902180532r113f18fcjb498c29fb576d5f6@mail.gmail.com>
Message-ID: <Imxi3LGTEBnJFw0N@dsl-217-155-35-239.zen.co.uk>

In message 
<427667db0902180532r113f18fcjb498c29fb576d5f6@mail.gmail.com>, Lynne 
Pope <lynne.pope@gmail.com> writes
> I am not trying to argue against inclusion of the canonical
>URL tag (gave up on that ages ago) but was simply pointing out that its not
>necessary for all sites.
>

Of course, but then a lot of things aren't necessary for all sites.  I 
mean, the entire remote posting API is probably unused by a large 
percentage of users, yet gets no end of dev time devoted to it, probably 
because an influential group of people make use of it.

Heck, you'll never please everybody.
-- 
mrmist
From wp-hackers at striderweb.com  Wed Feb 18 14:31:21 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Feb 18 14:31:48 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <EMEWEMEW2_DELIMl1GNY4820175f6b10d062fd3da7d,
	mikeschinkel@newclarity.net, 20609926.101234934953674.J>
References: <EMEWEMEW2_DELIMl1GNY4820175f6b10d062fd3da7d,
	mikeschinkel@newclarity.net, 20609926.101234934953674.J>
Message-ID: <FC10CCB0-BD59-4530-BDCF-18ABA1A52B49@striderweb.com>


On Feb 17, 2009, at 11:29 PM, Mike Schinkel wrote:

>> So your comments would still be indexed.
>
> I think you may be wrong on this. I think that it is likely that  
> google will request the canonical URL and index that one.  If not,  
> then I can see how rel="canonical" could become a haven for  
> spammers.  Imagine someone specifying that their root is the  
> canonical for thousands of pages...

"indexed" != "counted toward pagerank"
From wp-hackers at striderweb.com  Wed Feb 18 14:45:15 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed Feb 18 14:45:56 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
Message-ID: <2C2D91E0-5801-4C51-952F-2DDBD186A3D4@striderweb.com>


On Feb 18, 2009, at 1:37 AM, Matt wrote:

> With the exception of paged comments, when does WordPress ever present
> two pages with the same content on them where this tag could actually
> be used?

/blog/2009/02/mypost/

/blog/?p=426
From joost at yoast.com  Wed Feb 18 14:49:05 2009
From: joost at yoast.com (Joost de Valk)
Date: Wed Feb 18 14:49:21 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <2C2D91E0-5801-4C51-952F-2DDBD186A3D4@striderweb.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<2C2D91E0-5801-4C51-952F-2DDBD186A3D4@striderweb.com>
Message-ID: <7AD1A5B2-C4B5-4BBB-9777-3AC11B724275@yoast.com>

On Feb 18, 2009, at 3:45 PM, Stephen Rider wrote:

>
> On Feb 18, 2009, at 1:37 AM, Matt wrote:
>
>> With the exception of paged comments, when does WordPress ever  
>> present
>> two pages with the same content on them where this tag could actually
>> be used?
>
> /blog/2009/02/mypost/
>
> /blog/?p=426

The latter redirects to the first if permalinks are enabled. I'm  
starting to think the plugin side people might be right, and all we  
have to do is fix that INCREDIBLY annoying comment page thing.
From yahgrp at poplarware.com  Wed Feb 18 16:23:15 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Wed Feb 18 16:20:34 2009
Subject: [wp-hackers] stop HTTP requests made behind one's back
In-Reply-To: <878wo4il3w.fsf@jidanni.org>
References: <878wo4il3w.fsf@jidanni.org>
Message-ID: <499C35F3.2040901@poplarware.com>

I took a look at the code, to see if this would be easy/possible. I 
looked at the 2.8-bleeding code; not sure about 2.7.x.

Anyway, it looks to me as though there are a bunch of filters like 
'use_http_curl_transport', etc., in http.php. If you create a plugin 
that returns FALSE for all of these, you would probably make all 
outgoing HTTP/HTTPS requests fail without trying to go out and get 
data. So you don't have to "rip up" http.php, just disable all its 
mechanisms for escaping. [See wp-includes/http.php, functions 
WP_Http->_getTransport() and _postTransport()]

That's assuming that all HTTP/HTTPS requests are going through the 
code in http.php. I'm not sure whether this is the case or not... ???

It also looks like it would be easy to patch core to do something like

    $working_transport = apply_filter( 'working_transport', 
$working_transport);

(and similar for blocking transport), after it tries all the 
transports it knows about, to allow plugins to define their own 
"transport" mechanisms (such as using proxies). Maybe those who care 
about such things should work this out and suggest it?

    --Jennifer

jidanni@jidanni.org wrote:
> HOW ODD, I said to myself, WordPress seems to make a lot of outbound
> HTTP requests, from the minute you first install it.
[...]
> How is one to install WordPress on a military or intranet where making
> HTTP requests to the Internet is not allowed?
> 
> Just rip up wp-includes/http.php? That won't stop other parts of the
> code from then futilely hammering it even more.

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From mikeschinkel at newclarity.net  Wed Feb 18 16:37:16 2009
From: mikeschinkel at newclarity.net (mikeschinkel@newclarity.net)
Date: Wed Feb 18 16:38:22 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <FC10CCB0-BD59-4530-BDCF-18ABA1A52B49@striderweb.com>
References: <EMEWEMEW2_DELIMl1GNY4820175f6b10d062fd3da7d,
	mikeschinkel@newclarity.net, 20609926.101234934953674.J>
	<FC10CCB0-BD59-4530-BDCF-18ABA1A52B49@striderweb.com>
Message-ID: <EMEWEMEW2_DELIMl1HAbG69dcc6ee8b39ace55aad42,
	mikeschinkel@newclarity.net, A83B6584-A70E-42A6-8159>

Of course, but are you sure that is the case here?

-Mike

Sent from my iPhone

On Feb 18, 2009, at 9:33 AM, Stephen Rider <wp-hackers@striderweb.com>  
wrote:

>
> On Feb 17, 2009, at 11:29 PM, Mike Schinkel wrote:
>
>>> So your comments would still be indexed.
>>
>> I think you may be wrong on this. I think that it is likely that  
>> google will request the canonical URL and index that one.  If not,  
>> then I can see how rel="canonical" could become a haven for  
>> spammers.  Imagine someone specifying that their root is the  
>> canonical for thousands of pages...
>
> "indexed" != "counted toward pagerank"
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Wed Feb 18 17:03:04 2009
From: mikeschinkel at newclarity.net (mikeschinkel@newclarity.net)
Date: Wed Feb 18 17:04:17 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
	<349fe48b0902180146xb8f8843ld7472e5547021db6@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1HB34a9b704d3d9be2a7ab2d7ff,
	mikeschinkel@newclarity.net, C5DB8A44-60DB-4D5B-B312>

It may not be "native" to WordPress but it is a very common sourcing  
technique people use. This allows them to track sources using their  
ISP's log reports. There are many reasons why people tag params to  
URLs and this disussion is ignoring that.

And nobody besides me seems to want to address how it might be used  
outside of search engines, like at Digg, Delicious, etc.

Not being "native" to WordPress seems to be a rather myopic  
justification. HTTP isn't native to WordPress but we still need to  
utilize best practices regarding HTTP.

NOT including rel="canonical" means competing and certainly  
incompatible plugin implementations. At least there needs to me a  
standard filter for generating it.

-Mike

Sent from my iPhone

On Feb 18, 2009, at 4:47 AM, scribu <scribu@gmail.com> wrote:

> On Wed, Feb 18, 2009 at 11:10 AM, Joost de Valk <joost@yoast.com>  
> wrote:
>
>> It's not just about what WordPress does. For example:
>>
>> http://example.com/about/
>>
>> and
>>
>> http://example.com/about/?from=email
>>
>> will serve up the same pages in most WordPress installs. If you add  
>> the
>> rel="canonical" link to the <head>, the latter will have all links  
>> pointing
>> to it counted toward the first one. That's, for me, one of the main  
>> uses of
>> the tag.
>>
>> Best,
>> Joost
>
>
> Yes, but the second URL is not native to WordPress, so the canonical  
> tag is
> effectively plugin territory, except for paged comments.
>
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From otto at ottodestruct.com  Wed Feb 18 17:40:22 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Feb 18 18:11:57 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <53d535500902172225m760ebfecwee1265a277bfcb23@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
	<53d535500902172225m760ebfecwee1265a277bfcb23@mail.gmail.com>
Message-ID: <161617690902180940x27b3fce3i20c6d59e3ded64c@mail.gmail.com>

On Wed, Feb 18, 2009 at 12:25 AM, Duane Storey <duanestorey@gmail.com> wrote:
> Otto - we have a plugin where the user can drop in (via FTP or whatever)
> custom icons that the plugin will use while displaying information on the
> blog.  Another example is CFORMS, where you can drop in a custom CSS style
> for your forms.   Right now when the plugin auto upgrades, all the icons
> they dropped in get deleted.  We need a place where they can put them so
> they know a) they belong to this plugin b) they won't get overwritten during
> an upgrade.

And that's fine. I'm just arguing that those files should be put into
the uploads folder, or a subfolder off of it.
From scribu at gmail.com  Wed Feb 18 19:04:45 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb 18 19:04:56 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902180940x27b3fce3i20c6d59e3ded64c@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
	<53d535500902172225m760ebfecwee1265a277bfcb23@mail.gmail.com>
	<161617690902180940x27b3fce3i20c6d59e3ded64c@mail.gmail.com>
Message-ID: <349fe48b0902181104i6e1eaa7ct70cf111d823f3f0@mail.gmail.com>

On Wed, Feb 18, 2009 at 7:40 PM, Otto <otto@ottodestruct.com> wrote:

> And that's fine. I'm just arguing that those files should be put into
> the uploads folder, or a subfolder off of it.
>

Why (especially if those files are to be put there by the user, using FTP) ?

BTW, when core-upgrade is called, isn't the entire wp-content folder
preserved? Or just the themes, plugins and uploads folders?


-- 
http://scribu.net
From elflop at googlemail.com  Wed Feb 18 19:40:01 2009
From: elflop at googlemail.com (Rich Pedley)
Date: Wed Feb 18 19:40:23 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <349fe48b0902181104i6e1eaa7ct70cf111d823f3f0@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
	<53d535500902172225m760ebfecwee1265a277bfcb23@mail.gmail.com>
	<161617690902180940x27b3fce3i20c6d59e3ded64c@mail.gmail.com>
	<349fe48b0902181104i6e1eaa7ct70cf111d823f3f0@mail.gmail.com>
Message-ID: <c6c45a350902181140s374c8f1kfae0059e963ead3a@mail.gmail.com>

2009/2/18 scribu <scribu@gmail.com>:
> On Wed, Feb 18, 2009 at 7:40 PM, Otto <otto@ottodestruct.com> wrote:
>
>> And that's fine. I'm just arguing that those files should be put into
>> the uploads folder, or a subfolder off of it.
>>
>
> Why (especially if those files are to be put there by the user, using FTP) ?

Because a plugin can automatically create the directory and transfer
files to it. (in most cases)

Rich
-- 
my mind is on a permanent tangent
http://elfden.co.uk/
From dangayle at gmail.com  Wed Feb 18 19:48:53 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Wed Feb 18 19:49:09 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <c6c45a350902181140s374c8f1kfae0059e963ead3a@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
	<53d535500902172225m760ebfecwee1265a277bfcb23@mail.gmail.com>
	<161617690902180940x27b3fce3i20c6d59e3ded64c@mail.gmail.com>
	<349fe48b0902181104i6e1eaa7ct70cf111d823f3f0@mail.gmail.com>
	<c6c45a350902181140s374c8f1kfae0059e963ead3a@mail.gmail.com>
Message-ID: <E5125332-3360-4E45-8909-6300886D8700@gmail.com>

It seems to me that the big issue here is purely semantic:

You need a writable directory
You have a writable directory -> Uploads

That's where the semantics come in:
Some don't want to have Uploads be the name of the writable directory  
that plugins use
Some don't care what the directory name is, as long as it is writable.

Perhaps the answer is that we redefine or rename "Uploads" or else  
create a separate directory.

On Feb 18, 2009, at 11:40 AM, Rich Pedley wrote:

> 2009/2/18 scribu <scribu@gmail.com>:
>> On Wed, Feb 18, 2009 at 7:40 PM, Otto <otto@ottodestruct.com> wrote:
>>
>>> And that's fine. I'm just arguing that those files should be put  
>>> into
>>> the uploads folder, or a subfolder off of it.
>>>
>>
>> Why (especially if those files are to be put there by the user,  
>> using FTP) ?
>
> Because a plugin can automatically create the directory and transfer
> files to it. (in most cases)
>
> Rich
> -- 
> my mind is on a permanent tangent
> http://elfden.co.uk/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From ozh at planetozh.com  Wed Feb 18 19:53:49 2009
From: ozh at planetozh.com (Ozh)
Date: Wed Feb 18 19:55:23 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <E5125332-3360-4E45-8909-6300886D8700@gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
	<53d535500902172225m760ebfecwee1265a277bfcb23@mail.gmail.com>
	<161617690902180940x27b3fce3i20c6d59e3ded64c@mail.gmail.com>
	<349fe48b0902181104i6e1eaa7ct70cf111d823f3f0@mail.gmail.com>
	<c6c45a350902181140s374c8f1kfae0059e963ead3a@mail.gmail.com>
	<E5125332-3360-4E45-8909-6300886D8700@gmail.com>
Message-ID: <ae81acd10902181153y2e31b786xf718994705d4df0f@mail.gmail.com>

On Wed, Feb 18, 2009 at 8:48 PM, Dan Gayle <dangayle@gmail.com> wrote:
> Perhaps the answer is that we redefine or rename "Uploads" or else create a
> separate directory.

Or that we focus on important things.

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From kparsell-wp at kpdesign.net  Wed Feb 18 19:32:25 2009
From: kparsell-wp at kpdesign.net (Kim Parsell)
Date: Wed Feb 18 20:08:47 2009
Subject: [wp-hackers] Problem with custom title tags
Message-ID: <499C6249.6090303@kpdesign.net>

I am trying to set up custom title tags using conditional tags, and have 
run into a problem with a couple of them. Here is the code that I am 
using in header.php of the theme:

--------------------------------------------------
<title><?php if (is_front_page()) { ?><?php bloginfo('name'); ?> - <?php 
echo bloginfo ('description'); } ?>
<?php if (is_page()) { ?> <?php bloginfo('name'); ?> <?php wp_title(' | 
', true, 'left'); } ?>
<?php if (is_home()) { ?><?php bloginfo('name'); ?> | Blog Posts<?php } ?>
<?php if (is_404()) { ?><?php bloginfo('name'); ?> | Error 404 - Not 
Found<?php } ?>
<?php if (is_category()) { ?><?php bloginfo('name'); ?> | <?php 
single_cat_title(); } ?>
<?php if (is_single()) { ?><?php bloginfo('name'); ?> | <?php 
single_cat_title(); ?>: <?php the_title(); } ?>
<?php if (is_day()) { ?><?php bloginfo('name'); ?> | Archives for <?php 
the_time('F j, Y'); } ?>
<?php if (is_month()) { ?><?php bloginfo('name'); ?> | Archives for 
<?php the_time('F Y'); } ?>
<?php if (is_year()) { ?><?php bloginfo('name'); ?> | Archives for <?php 
the_time('Y'); } ?>
<?php if (is_search()) { ?><?php bloginfo('name'); ?> | Search Results 
for <?php the_search_query(); } ?></title>
-------------------------------------------------

The first one that I am having problems with is:

<?php if (is_front_page()) { ?><?php bloginfo('name'); ?> - <?php echo 
bloginfo ('description'); } ?>

This returns <title>Blog Name - Service, Support, Solutions Blog Name 
</title>. The blog name is being repeated after the description (is this 
a bug or intended behavior?).

The other one I am having problems with is:

<?php if (is_single()) { ?><?php bloginfo('name'); ?> | <?php 
single_cat_title(); ?>: <?php the_title(); } ?>

This code returns <title>Blog Name | : Who We Are</title> - note that 
the Category title (single_cat_title) is missing.

<?php if (is_category()) { ?><?php bloginfo('name'); ?> | <?php 
single_cat_title(); } ?> returns <title>Blog Name | Company 
News</title>, so single_cat_title() works properly there, but not in the 
above code for is_single().

All the rest of them are returning the correct page title results.

I usually use the SEO Title Tag plugin to set all of the page titles, 
but the client is hosted on GoDaddy and the server is already slow, so I 
wanted to do this without using a plugin (trying to keep those to a 
minimum).

These issues are occurring with a fresh 2.7.1 install.

I've been through both the Codex and search results on Google, and am 
not finding the answers.

Thanks in advance - any help would be most appreciated!

Kim

From yahgrp at poplarware.com  Wed Feb 18 20:26:51 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Wed Feb 18 20:24:13 2009
Subject: [wp-hackers] Problem with custom title tags
In-Reply-To: <499C6249.6090303@kpdesign.net>
References: <499C6249.6090303@kpdesign.net>
Message-ID: <499C6F0B.9080804@poplarware.com>

I think your first problem may be(?)  because you are using a bunch of 
if() statements rather than if/elseif/elseif/etc. It's possible that 
more than one of those if statements is true, and theat is where the 
second name is coming from. Maybe?

The problem in your second one is that single_cat_title() only 
generates the right title for category archives, not for single pages 
(check the PHP doc on this function; not sure what the codex says but 
if it says something different it is wrong). That function is deciding 
which category to display based on the URL, such as (whatever)?cat=3 
(or your permalink equivalent). You will need to use a different 
function (or group thereof) to retrieve one of the categories assigned 
to the post and display it in the title.

    --Jennifer

Kim Parsell wrote:
> I am trying to set up custom title tags using conditional tags, and have 
> run into a problem with a couple of them. Here is the code that I am 
> using in header.php of the theme:
> 
> --------------------------------------------------
> <title><?php if (is_front_page()) { ?><?php bloginfo('name'); ?> - <?php 
> echo bloginfo ('description'); } ?>
> <?php if (is_page()) { ?> <?php bloginfo('name'); ?> <?php wp_title(' | 
> ', true, 'left'); } ?>
> <?php if (is_home()) { ?><?php bloginfo('name'); ?> | Blog Posts<?php } ?>
> <?php if (is_404()) { ?><?php bloginfo('name'); ?> | Error 404 - Not 
> Found<?php } ?>
> <?php if (is_category()) { ?><?php bloginfo('name'); ?> | <?php 
> single_cat_title(); } ?>
> <?php if (is_single()) { ?><?php bloginfo('name'); ?> | <?php 
> single_cat_title(); ?>: <?php the_title(); } ?>
> <?php if (is_day()) { ?><?php bloginfo('name'); ?> | Archives for <?php 
> the_time('F j, Y'); } ?>
> <?php if (is_month()) { ?><?php bloginfo('name'); ?> | Archives for 
> <?php the_time('F Y'); } ?>
> <?php if (is_year()) { ?><?php bloginfo('name'); ?> | Archives for <?php 
> the_time('Y'); } ?>
> <?php if (is_search()) { ?><?php bloginfo('name'); ?> | Search Results 
> for <?php the_search_query(); } ?></title>
> -------------------------------------------------
> 
> The first one that I am having problems with is:
> 
> <?php if (is_front_page()) { ?><?php bloginfo('name'); ?> - <?php echo 
> bloginfo ('description'); } ?>
> 
> This returns <title>Blog Name - Service, Support, Solutions Blog Name 
> </title>. The blog name is being repeated after the description (is this 
> a bug or intended behavior?).
> 
> The other one I am having problems with is:
> 
> <?php if (is_single()) { ?><?php bloginfo('name'); ?> | <?php 
> single_cat_title(); ?>: <?php the_title(); } ?>
> 
> This code returns <title>Blog Name | : Who We Are</title> - note that 
> the Category title (single_cat_title) is missing.
> 
> <?php if (is_category()) { ?><?php bloginfo('name'); ?> | <?php 
> single_cat_title(); } ?> returns <title>Blog Name | Company 
> News</title>, so single_cat_title() works properly there, but not in the 
> above code for is_single().



-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com

Drupal/WordPress Sites, Themes, Modules/Plugins
Custom Web Programming, Web Databases
PHP, Perl, MySQL, JavaScript, XML, AJAX

From if.website at gmail.com  Wed Feb 18 20:27:55 2009
From: if.website at gmail.com (Austin Matzko)
Date: Wed Feb 18 20:28:08 2009
Subject: [wp-hackers] Problem with custom title tags
In-Reply-To: <499C6249.6090303@kpdesign.net>
References: <499C6249.6090303@kpdesign.net>
Message-ID: <674b4a3b0902181227y6a73a9b1nfae500dcde4e4c90@mail.gmail.com>

On Wed, Feb 18, 2009 at 1:32 PM, Kim Parsell <kparsell-wp@kpdesign.net> wrote:
> The first one that I am having problems with is:
>
> <?php if (is_front_page()) { ?><?php bloginfo('name'); ?> - <?php echo
> bloginfo ('description'); } ?>
>
> This returns <title>Blog Name - Service, Support, Solutions Blog Name
> </title>. The blog name is being repeated after the description (is this a
> bug or intended behavior?).

The problem is that you're using a series of if statements instead of
if...else.  So is_front_page() is true, and then is_page() is true,
printing the name again.

> The other one I am having problems with is:
>
> <?php if (is_single()) { ?><?php bloginfo('name'); ?> | <?php
> single_cat_title(); ?>: <?php the_title(); } ?>
>
> This code returns <title>Blog Name | : Who We Are</title> - note that the
> Category title (single_cat_title) is missing.

This won't work because single_cat_title() only works when it's a
category that's being queried.  If is_single() is true, then it's a
single post being queried.

Try wp_get_post_categories(get_the_ID()) to get an array of post IDs.

For future reference, a great place for support requests is the
WordPress support forum:  http://wordpress.org/support/
The wp-hackers list is supposed to be mainly for development issues,
more or less.
From ncrice at gmail.com  Wed Feb 18 20:28:56 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Wed Feb 18 20:29:09 2009
Subject: [wp-hackers] Problem with custom title tags
In-Reply-To: <499C6249.6090303@kpdesign.net>
References: <499C6249.6090303@kpdesign.net>
Message-ID: <862d087f0902181228l3095b79bu2a5c4f380fa63081@mail.gmail.com>

Some of this is just a guess, but I'll take a stab at it below


On Wed, Feb 18, 2009 at 2:32 PM, Kim Parsell <kparsell-wp@kpdesign.net>wrote:
>
>
> <?php if (is_front_page()) { ?><?php bloginfo('name'); ?> - <?php echo
> bloginfo ('description'); } ?>
> This returns <title>Blog Name - Service, Support, Solutions Blog Name
> </title>. The blog name is being repeated after the description (is this a
> bug or intended behavior?).


I'm not sure if this is correct, but if you have a page defined as your
"front page" it's possible that both is_front_page and is_page are both
returning true.


>
>
> The other one I am having problems with is:
>
> <?php if (is_single()) { ?><?php bloginfo('name'); ?> | <?php
> single_cat_title(); ?>: <?php the_title(); } ?>
>
> This code returns <title>Blog Name | : Who We Are</title> - note that the
> Category title (single_cat_title) is missing.
>
>
Like Jennifer said, single_cat_title only returns a value if you are viewing
a category archive (IOW, if the "cat" query var is set).

While you're doing this work, take a look at the wp_title function in the
trunk source code.  You'll find that it does much of this stuff for you
already, and what it doesn't do, you can actually filter it to make it do
what you want it to.
http://svn.automattic.com/wordpress/trunk/wp-includes/general-template.php

Nathan
From if.website at gmail.com  Wed Feb 18 20:30:48 2009
From: if.website at gmail.com (Austin Matzko)
Date: Wed Feb 18 20:30:55 2009
Subject: [wp-hackers] Problem with custom title tags
In-Reply-To: <674b4a3b0902181227y6a73a9b1nfae500dcde4e4c90@mail.gmail.com>
References: <499C6249.6090303@kpdesign.net>
	<674b4a3b0902181227y6a73a9b1nfae500dcde4e4c90@mail.gmail.com>
Message-ID: <674b4a3b0902181230n342ee69ex296023d24969f70c@mail.gmail.com>

On Wed, Feb 18, 2009 at 2:27 PM, Austin Matzko <if.website@gmail.com> wrote:
> Try wp_get_post_categories(get_the_ID()) to get an array of post IDs.

I meant to say "to get an array of category IDs", something like the following:

if ( is_single() && have_posts() ) : the_post(); $cats =
wp_get_post_categories(get_the_ID()); etc.
From otto at ottodestruct.com  Wed Feb 18 20:35:29 2009
From: otto at ottodestruct.com (Otto)
Date: Wed Feb 18 20:35:38 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <349fe48b0902181104i6e1eaa7ct70cf111d823f3f0@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
	<53d535500902172225m760ebfecwee1265a277bfcb23@mail.gmail.com>
	<161617690902180940x27b3fce3i20c6d59e3ded64c@mail.gmail.com>
	<349fe48b0902181104i6e1eaa7ct70cf111d823f3f0@mail.gmail.com>
Message-ID: <161617690902181235i43b93bddp8f0ba88c80d42638@mail.gmail.com>

On Wed, Feb 18, 2009 at 1:04 PM, scribu <scribu@gmail.com> wrote:
> BTW, when core-upgrade is called, isn't the entire wp-content folder
> preserved? Or just the themes, plugins and uploads folders?

A core upgrade basically copies all the new files from the
distribution over the old ones. Then it goes through a list of "old
files" (defined in wp-admin/includes/update-core.php" and deletes any
files on that list. So any files not on the list and not in the
distribution are preserved.

-Otto
From dbisset at dimensionmedia.com  Wed Feb 18 20:34:43 2009
From: dbisset at dimensionmedia.com (David J. Bisset)
Date: Wed Feb 18 20:40:11 2009
Subject: [wp-hackers] how to cache w/ php in WP templates
Message-ID: <20090218153443.3cyit2ysgkokowsw@www.dimensionmedia.com>

I use wp-super-cache and love it, but it really isn't effective on  
site where i have php code in the header and other templates.

I can't have some particular php functions "cached" because (for  
example) one php function checks a client-side cookie and outputs html  
based on the value. Cache that, and the same html will be output  
regardless.

Once upon a time, wp-cache had functions you could surround php  
functions to NOT cache them. I get the impression that is no longer  
possible. Can anyone here confirm and if it's true provide an  
alternate solution (with or without wp-super-cache)?

Oh, and if anyone is going to Wordcamp Miami this Sunday hit me up on  
Twitter! :)

Thanks in advance.

-- 
David Bisset
Director of Web Development
Dimension Media, Inc.
www.dimensionmedia.com
http://www.linkedin.com/in/davidbisset
http://www.twitter.com/dimensionmedia

From gaarai at gaarai.com  Wed Feb 18 20:45:21 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Wed Feb 18 20:45:39 2009
Subject: [wp-hackers] how to cache w/ php in WP templates
In-Reply-To: <20090218153443.3cyit2ysgkokowsw@www.dimensionmedia.com>
References: <20090218153443.3cyit2ysgkokowsw@www.dimensionmedia.com>
Message-ID: <499C7361.8060509@gaarai.com>

I haven't had a large amount of experience with Super Cache, but I do 
have a bit.

To my knowledge, you can't have any server-side processing occur with 
Super Cache since it merely provides static files. Since these are 
static files, the entire WordPress code stack is bypassed and no code at 
all is executed.

The way to introduce dynamic elements with Super Cache is with 
client-side scripting. To quote the FAQ:

    "Other dynamic elements on a page may not update unless they are
    written in Javascript, Flash, Java or another client side browser
    language. The plugin really produces static html pages. No PHP is
    executed when those pages are served."

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



David J. Bisset wrote:
> I use wp-super-cache and love it, but it really isn't effective on 
> site where i have php code in the header and other templates.
>
> I can't have some particular php functions "cached" because (for 
> example) one php function checks a client-side cookie and outputs html 
> based on the value. Cache that, and the same html will be output 
> regardless.
>
> Once upon a time, wp-cache had functions you could surround php 
> functions to NOT cache them. I get the impression that is no longer 
> possible. Can anyone here confirm and if it's true provide an 
> alternate solution (with or without wp-super-cache)?
>
> Oh, and if anyone is going to Wordcamp Miami this Sunday hit me up on 
> Twitter! :)
>
> Thanks in advance.
>
From ckunte at gmail.com  Wed Feb 18 21:45:53 2009
From: ckunte at gmail.com (Chetan Kunte)
Date: Wed Feb 18 21:46:05 2009
Subject: [wp-hackers] Feature or bug: Page password protection does not 
	cascade to sub-pages
In-Reply-To: <7559d6930902180312s4549c32r2a4c7ef4a2f61e0d@mail.gmail.com>
References: <74b84aa30902180301w78d3713bw93c1761268a506a4@mail.gmail.com>
	<7559d6930902180312s4549c32r2a4c7ef4a2f61e0d@mail.gmail.com>
Message-ID: <74b84aa30902181345p2fff45c3s95b3d30a41dbce7c@mail.gmail.com>

Thanks for the clarification.

I still think it should lock child pages too, or else, I would simply
not list pages as child pages. I would make the unlocked pages as
parent pages. (It is like when you lock a folder, you lock all
subfolders under too on any OS, for example.)

On 2/18/09, The TalkOut Trojans! <talkout@gmail.com> wrote:
> I believe it the way WordPress works (and not a bug though...)
> But if you have such a requirement there might be a plug-in to do that, but
> I'm aware of none.
>
> On Wed, Feb 18, 2009 at 4:31 PM, Chetan Kunte <ckunte@gmail.com> wrote:
>
>> Hi -
>>
>> I am not clear on why the parent page password protection is not
>> automatically inherited and cascaded down to child-pages listed under
>> the protected parent page. Is this a feature, or is it a bug?
>>
>> Ideally, when I protect a parent page, all child-pages under the
>> parent page should also be protected, and should inherit the password
>> specified to protect the parent page. (If a user lands on a
>> child-page, and knows the password to the parent page, then he should
>> be able to read the child-page.)
>> --
>> Chetan
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> --
> TalkOut
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
--
Chetan, ckunte.com
From hempsworth at googlemail.com  Wed Feb 18 22:13:06 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Wed Feb 18 22:38:40 2009
Subject: [wp-hackers] Feature or bug: Page password protection does not 
	cascade to sub-pages
In-Reply-To: <74b84aa30902181345p2fff45c3s95b3d30a41dbce7c@mail.gmail.com>
References: <74b84aa30902180301w78d3713bw93c1761268a506a4@mail.gmail.com>
	<7559d6930902180312s4549c32r2a4c7ef4a2f61e0d@mail.gmail.com>
	<74b84aa30902181345p2fff45c3s95b3d30a41dbce7c@mail.gmail.com>
Message-ID: <5a1dad880902181413rb27c08avfe8386bcfb363c8b@mail.gmail.com>

Might be an idea to have two checkboxes,
[x] Lock this page
[x] Lock all sub-pages

Meaning you could unlock this on a per-page basis if you needed. I'm not
aware of a trac ticket to implement this in core, however I would be
extremely happy if it was added.

Possibly create a trac ticket and/or suggest this on /extend/ideas.

But +1 for core from me :)

-- Alex


On Wed, Feb 18, 2009 at 9:45 PM, Chetan Kunte <ckunte@gmail.com> wrote:

> Thanks for the clarification.
>
> I still think it should lock child pages too, or else, I would simply
> not list pages as child pages. I would make the unlocked pages as
> parent pages. (It is like when you lock a folder, you lock all
> subfolders under too on any OS, for example.)
>
> On 2/18/09, The TalkOut Trojans! <talkout@gmail.com> wrote:
> > I believe it the way WordPress works (and not a bug though...)
> > But if you have such a requirement there might be a plug-in to do that,
> but
> > I'm aware of none.
> >
> > On Wed, Feb 18, 2009 at 4:31 PM, Chetan Kunte <ckunte@gmail.com> wrote:
> >
> >> Hi -
> >>
> >> I am not clear on why the parent page password protection is not
> >> automatically inherited and cascaded down to child-pages listed under
> >> the protected parent page. Is this a feature, or is it a bug?
> >>
> >> Ideally, when I protect a parent page, all child-pages under the
> >> parent page should also be protected, and should inherit the password
> >> specified to protect the parent page. (If a user lands on a
> >> child-page, and knows the password to the parent page, then he should
> >> be able to read the child-page.)
> >> --
> >> Chetan
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> >
> > --
> > TalkOut
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
> --
> --
> Chetan, ckunte.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ionfish at gmail.com  Wed Feb 18 22:42:45 2009
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Wed Feb 18 22:42:54 2009
Subject: [wp-hackers] Feature or bug: Page password protection does not 
	cascade to sub-pages
In-Reply-To: <74b84aa30902181345p2fff45c3s95b3d30a41dbce7c@mail.gmail.com>
References: <74b84aa30902180301w78d3713bw93c1761268a506a4@mail.gmail.com>
	<7559d6930902180312s4549c32r2a4c7ef4a2f61e0d@mail.gmail.com>
	<74b84aa30902181345p2fff45c3s95b3d30a41dbce7c@mail.gmail.com>
Message-ID: <fd3b80510902181442t3fcf3d20lf616500467ee39e1@mail.gmail.com>

1) Pages aren't directories.
2) Directory contents can have different permissions than their
parents. chmod and chown aren't recursive by default.

This is plugin territory in my view (actually, the whole idea of
passworded pages really should be a plugin; few people need it, and
while a permissions system is definitely worth having in core, stuff
built on top of it can generally just be plugins).
From alan at verselogic.net  Thu Feb 19 00:17:34 2009
From: alan at verselogic.net (Alan Castonguay)
Date: Thu Feb 19 00:17:43 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <161617690902171440h4c31806fnf8308973594c89dd@mail.gmail.com>
References: <29417176.3391234829973279.JavaMail.DELL-1405$@Dell-1405>
	<161617690902162244j66f32aabq6dad0504972bbffd@mail.gmail.com>
	<427667db0902170212q788ae370p7b9a30eaebf32322@mail.gmail.com>
	<161617690902170757o1446a4b1w2c33b5caa514a27@mail.gmail.com>
	<9A2BB8BE-B640-4198-B23A-9E2A29A36FF8@yoast.com>
	<862d087f0902170824rc3863dekf480ebbeec4e080f@mail.gmail.com>
	<499AEACF.8010803@gaarai.com>
	<EE9D1BB2-D89E-4618-98C9-415E4A0A19F6@striderweb.com>
	<B93F834F-0D66-417F-86F2-3D30E5FB9DFD@yoast.com>
	<FE88DB29-B30D-47EB-953B-F201E82E6CA3@verselogic.net>
	<161617690902171440h4c31806fnf8308973594c89dd@mail.gmail.com>
Message-ID: <7EA8FD7B-7149-456F-9495-7FB91E34D62A@verselogic.net>

I was suggesting serving IE5, Navigator, and Lynx different content  
than everybody else. =)

> In general, search engines (notably Google) get very unhappy when you
> serve them different content than you serve everybody else, despite
> your best intentions and such.

From chris at clwill.com  Thu Feb 19 00:11:15 2009
From: chris at clwill.com (Chris Williams)
Date: Thu Feb 19 00:46:34 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902181235i43b93bddp8f0ba88c80d42638@mail.gmail.com>
Message-ID: <C5C1E3A3.42879%chris@clwill.com>

Which seems to me to be exactly how plugin upgrades should work, then this
entire discussion is obviated :)


> From: Otto <otto@ottodestruct.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Wed, 18 Feb 2009 14:35:29 -0600
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Auto Update Plugins
> 
> On Wed, Feb 18, 2009 at 1:04 PM, scribu <scribu@gmail.com> wrote:
>> BTW, when core-upgrade is called, isn't the entire wp-content folder
>> preserved? Or just the themes, plugins and uploads folders?
> 
> A core upgrade basically copies all the new files from the
> distribution over the old ones. Then it goes through a list of "old
> files" (defined in wp-admin/includes/update-core.php" and deletes any
> files on that list. So any files not on the list and not in the
> distribution are preserved.
> 
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wp-hackers at striderweb.com  Thu Feb 19 03:01:50 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Feb 19 03:02:31 2009
Subject: [wp-hackers] stop HTTP requests made behind one's back
In-Reply-To: <499C35F3.2040901@poplarware.com>
References: <878wo4il3w.fsf@jidanni.org> <499C35F3.2040901@poplarware.com>
Message-ID: <6EA84453-DA58-4F9E-B839-02471D3B84D5@striderweb.com>

Y'all should ask Dion Hulse about the "Core Control" plugin he's  
working on.  Among other things, it can enable/disable HTTP

Stephen

On Feb 18, 2009, at 10:23 AM, Jennifer Hodgdon wrote:

> I took a look at the code, to see if this would be easy/possible. I  
> looked at the 2.8-bleeding code; not sure about 2.7.x.
>
> Anyway, it looks to me as though there are a bunch of filters like  
> 'use_http_curl_transport', etc., in http.php. If you create a plugin  
> that returns FALSE for all of these, you would probably make all  
> outgoing HTTP/HTTPS requests fail without trying to go out and get  
> data. So you don't have to "rip up" http.php, just disable all its  
> mechanisms for escaping. [See wp-includes/http.php, functions  
> WP_Http->_getTransport() and _postTransport()]
>
> That's assuming that all HTTP/HTTPS requests are going through the  
> code in http.php. I'm not sure whether this is the case or not... ???
>
> It also looks like it would be easy to patch core to do something like
>
>   $working_transport = apply_filter( 'working_transport',  
> $working_transport);
>
> (and similar for blocking transport), after it tries all the  
> transports it knows about, to allow plugins to define their own  
> "transport" mechanisms (such as using proxies). Maybe those who care  
> about such things should work this out and suggest it?
>
>   --Jennifer
>
> jidanni@jidanni.org wrote:
>> HOW ODD, I said to myself, WordPress seems to make a lot of outbound
>> HTTP requests, from the minute you first install it.
> [...]
>> How is one to install WordPress on a military or intranet where  
>> making
>> HTTP requests to the Internet is not allowed?
>> Just rip up wp-includes/http.php? That won't stop other parts of the
>> code from then futilely hammering it even more.
>
> -- 
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
>
> Drupal/WordPress Sites, Themes, Modules/Plugins
> Custom Web Programming, Web Databases
> PHP, Perl, MySQL, JavaScript, XML, AJAX
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Thu Feb 19 03:04:18 2009
From: mikeschinkel at newclarity.net (mikeschinkel@newclarity.net)
Date: Thu Feb 19 03:04:49 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <C5C1E3A3.42879%chris@clwill.com>
References: <C5C1E3A3.42879%chris@clwill.com>
Message-ID: <EMEWEMEW2_DELIMl1HL4J871a9b7fb6cc0885e43aef,
	mikeschinkel@newclarity.net, 05464BD2-DC04-4F0F-AD67>

On Feb 18, 2009, at 7:46 PM, Chris Williams <chris@clwill.com> wrote:

> Which seems to me to be exactly how plugin upgrades should work,  
> then this
> entire discussion is obviated :)

+1

-Mike

>>
>>
>>
>>
From wp-hackers at striderweb.com  Thu Feb 19 03:04:56 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Feb 19 03:05:36 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <EMEWEMEW2_DELIMl1HAbG69dcc6ee8b39ace55aad42,
	mikeschinkel@newclarity.net, A83B6584-A70E-42A6-8159>
References: <EMEWEMEW2_DELIMl1GNY4820175f6b10d062fd3da7d,
	mikeschinkel@newclarity.net, 20609926.101234934953674.J>
	<FC10CCB0-BD59-4530-BDCF-18ABA1A52B49@striderweb.com>
	<EMEWEMEW2_DELIMl1HAbG69dcc6ee8b39ace55aad42,
	mikeschinkel@newclarity.net, A83B6584-A70E-42A6-8159>
Message-ID: <9F4F68D7-4C3B-46B0-9157-9153F097FA84@striderweb.com>


> On Feb 18, 2009, at 9:33 AM, Stephen Rider <wp- 
> hackers@striderweb.com> wrote:
>
>> On Feb 17, 2009, at 11:29 PM, Mike Schinkel wrote:
>>
>>>> So your comments would still be indexed.
>>>
>>> I think you may be wrong on this. I think that it is likely that  
>>> google will request the canonical URL and index that one.  If not,  
>>> then I can see how rel="canonical" could become a haven for  
>>> spammers.  Imagine someone specifying that their root is the  
>>> canonical for thousands of pages...
>>
>> "indexed" != "counted toward pagerank"

On Feb 18, 2009, at 10:37 AM, mikeschinkel@newclarity.net wrote:

> Of course, but are you sure that is the case here?

No, but unless someone on this list a) works for Google, and b) is  
giving away corporate secrets, nobody else does either.

It just seemed that some people were conflating the two.

Stephen


-- 
Stephen Rider
http://striderweb.com/




From wp-hackers at striderweb.com  Thu Feb 19 03:19:37 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Feb 19 03:20:07 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <C5C1E3A3.42879%chris@clwill.com>
References: <C5C1E3A3.42879%chris@clwill.com>
Message-ID: <3057C4D1-62BC-4A44-B349-61412D386626@striderweb.com>

On Feb 18, 2009, at 6:11 PM, Chris Williams wrote:

> Which seems to me to be exactly how plugin upgrades should work,  
> then this
> entire discussion is obviated :)
>
>> From: Otto <otto@ottodestruct.com>
>>
>> On Wed, Feb 18, 2009 at 1:04 PM, scribu <scribu@gmail.com> wrote:
>>> BTW, when core-upgrade is called, isn't the entire wp-content folder
>>> preserved? Or just the themes, plugins and uploads folders?
>>
>> A core upgrade basically copies all the new files from the
>> distribution over the old ones. Then it goes through a list of "old
>> files" (defined in wp-admin/includes/update-core.php" and deletes any
>> files on that list. So any files not on the list and not in the
>> distribution are preserved.


No it isn't.  A lot of plugins use add-on files that a user can simply  
upload.  Requiring the plugin to register them somehow requires a lot  
of coding for plugins to ID and register files that are uploaded.   
Code that is completely unnecessary.  It's a folder, folks.  Again, it  
isn't anything a plugin author can't do already, it's just a question  
of creating some sort of standard to follow so such files aren't  
scattered all over the place.

Adding some registration scheme to WP core is a lot of coding that  
isn't needed, and qould require extra code from plugin authors.

Just putting it all in /uploads/ dumps a lot of different types of  
files -- different as in *use*.  Think about your desktop computer --  
this is essentially the difference between Application Support files  
and Documents.  They both are used by the apps, but they are different  
things.

On Mac OS X, application support files should go in /Library/ 
Application Support/.  There's nothing particularly special about that  
folder, except that it's the standard place that Apple said should be  
the home for such files -- but it does prevent a lot of such files  
being scattered all over the hard drive, and makes the folder  
structure a LOT cleaner than some other major OSes I could name.   
That's basically what I'm asking for here.

Stephen


-- 
Stephen Rider
http://striderweb.com/




From chris at clwill.com  Thu Feb 19 03:36:58 2009
From: chris at clwill.com (Chris Williams)
Date: Thu Feb 19 03:37:37 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <3057C4D1-62BC-4A44-B349-61412D386626@striderweb.com>
Message-ID: <C5C213DA.428B6%chris@clwill.com>

You're making this too complicated.

Plugin is in a zip, with whatever file structure it wants.  The zip gets
blasted out there, overwriting old files, creating new ones.  If the zip
includes a file called "deprecated.fil" (or something) in the root directory
of the plugin, the updater goes through it and deletes any files named in
there.  Then the updater deletes "deprecated.fil".  Period.

Accomplishes:
- Old files overwritten/updated.
- New files added.
- Deprecated files removed.
- All other files (regardless of how they got there) retained.
- Old plugins w/o a "deprecated.fil" file behave as today.

Easy-squeezy.

> From: Stephen Rider <wp-hackers@striderweb.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Wed, 18 Feb 2009 21:19:37 -0600
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Auto Update Plugins
> 
> On Feb 18, 2009, at 6:11 PM, Chris Williams wrote:
> 
>> Which seems to me to be exactly how plugin upgrades should work,
>> then this
>> entire discussion is obviated :)
>> 
>>> From: Otto <otto@ottodestruct.com>
>>> 
>>> On Wed, Feb 18, 2009 at 1:04 PM, scribu <scribu@gmail.com> wrote:
>>>> BTW, when core-upgrade is called, isn't the entire wp-content folder
>>>> preserved? Or just the themes, plugins and uploads folders?
>>> 
>>> A core upgrade basically copies all the new files from the
>>> distribution over the old ones. Then it goes through a list of "old
>>> files" (defined in wp-admin/includes/update-core.php" and deletes any
>>> files on that list. So any files not on the list and not in the
>>> distribution are preserved.
> 
> 
> No it isn't.  A lot of plugins use add-on files that a user can simply
> upload.  Requiring the plugin to register them somehow requires a lot
> of coding for plugins to ID and register files that are uploaded.
> Code that is completely unnecessary.  It's a folder, folks.  Again, it
> isn't anything a plugin author can't do already, it's just a question
> of creating some sort of standard to follow so such files aren't
> scattered all over the place.
> 
> Adding some registration scheme to WP core is a lot of coding that
> isn't needed, and qould require extra code from plugin authors.
> 
> Just putting it all in /uploads/ dumps a lot of different types of
> files -- different as in *use*.  Think about your desktop computer --
> this is essentially the difference between Application Support files
> and Documents.  They both are used by the apps, but they are different
> things.
> 
> On Mac OS X, application support files should go in /Library/
> Application Support/.  There's nothing particularly special about that
> folder, except that it's the standard place that Apple said should be
> the home for such files -- but it does prevent a lot of such files
> being scattered all over the hard drive, and makes the folder
> structure a LOT cleaner than some other major OSes I could name.
> That's basically what I'm asking for here.
> 
> Stephen
> 
> 
> -- 
> Stephen Rider
> http://striderweb.com/
> 
> 
> 
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chris at clwill.com  Thu Feb 19 03:39:47 2009
From: chris at clwill.com (Chris Williams)
Date: Thu Feb 19 03:40:36 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <C5C213DA.428B6%chris@clwill.com>
Message-ID: <C5C21483.428BA%chris@clwill.com>

And one more advantage.  If I want to delete a plugin, I remove the
directory. That's it.  No turds left scattered all over the place, in
"bucket" directories that gather all kinds of turds of unknown origin.  All
plugin files live in the plugin's directory or its children.

What could be simpler?


> From: Chris Williams <chris@clwill.com>
> Date: Wed, 18 Feb 2009 19:36:58 -0800
> To: <wp-hackers@lists.automattic.com>
> Conversation: [wp-hackers] Auto Update Plugins
> Subject: Re: [wp-hackers] Auto Update Plugins
> 
> You're making this too complicated.
> 
> Plugin is in a zip, with whatever file structure it wants.  The zip gets
> blasted out there, overwriting old files, creating new ones.  If the zip
> includes a file called "deprecated.fil" (or something) in the root directory
> of the plugin, the updater goes through it and deletes any files named in
> there.  Then the updater deletes "deprecated.fil".  Period.
> 
> Accomplishes:
> - Old files overwritten/updated.
> - New files added.
> - Deprecated files removed.
> - All other files (regardless of how they got there) retained.
> - Old plugins w/o a "deprecated.fil" file behave as today.
> 
> Easy-squeezy.
> 
>> From: Stephen Rider <wp-hackers@striderweb.com>
>> Reply-To: <wp-hackers@lists.automattic.com>
>> Date: Wed, 18 Feb 2009 21:19:37 -0600
>> To: <wp-hackers@lists.automattic.com>
>> Subject: Re: [wp-hackers] Auto Update Plugins
>> 
>> On Feb 18, 2009, at 6:11 PM, Chris Williams wrote:
>> 
>>> Which seems to me to be exactly how plugin upgrades should work,
>>> then this
>>> entire discussion is obviated :)
>>> 
>>>> From: Otto <otto@ottodestruct.com>
>>>> 
>>>> On Wed, Feb 18, 2009 at 1:04 PM, scribu <scribu@gmail.com> wrote:
>>>>> BTW, when core-upgrade is called, isn't the entire wp-content folder
>>>>> preserved? Or just the themes, plugins and uploads folders?
>>>> 
>>>> A core upgrade basically copies all the new files from the
>>>> distribution over the old ones. Then it goes through a list of "old
>>>> files" (defined in wp-admin/includes/update-core.php" and deletes any
>>>> files on that list. So any files not on the list and not in the
>>>> distribution are preserved.
>> 
>> 
>> No it isn't.  A lot of plugins use add-on files that a user can simply
>> upload.  Requiring the plugin to register them somehow requires a lot
>> of coding for plugins to ID and register files that are uploaded.
>> Code that is completely unnecessary.  It's a folder, folks.  Again, it
>> isn't anything a plugin author can't do already, it's just a question
>> of creating some sort of standard to follow so such files aren't
>> scattered all over the place.
>> 
>> Adding some registration scheme to WP core is a lot of coding that
>> isn't needed, and qould require extra code from plugin authors.
>> 
>> Just putting it all in /uploads/ dumps a lot of different types of
>> files -- different as in *use*.  Think about your desktop computer --
>> this is essentially the difference between Application Support files
>> and Documents.  They both are used by the apps, but they are different
>> things.
>> 
>> On Mac OS X, application support files should go in /Library/
>> Application Support/.  There's nothing particularly special about that
>> folder, except that it's the standard place that Apple said should be
>> the home for such files -- but it does prevent a lot of such files
>> being scattered all over the hard drive, and makes the folder
>> structure a LOT cleaner than some other major OSes I could name.
>> That's basically what I'm asking for here.
>> 
>> Stephen
>> 
>> 
>> -- 
>> Stephen Rider
>> http://striderweb.com/
>> 
>> 
>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mikeschinkel at newclarity.net  Thu Feb 19 03:54:22 2009
From: mikeschinkel at newclarity.net (mikeschinkel@newclarity.net)
Date: Thu Feb 19 03:54:49 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <9F4F68D7-4C3B-46B0-9157-9153F097FA84@striderweb.com>
References: <EMEWEMEW2_DELIMl1GNY4820175f6b10d062fd3da7d,
	mikeschinkel@newclarity.net, 20609926.101234934953674.J>
	<FC10CCB0-BD59-4530-BDCF-18ABA1A52B49@striderweb.com>
	<EMEWEMEW2_DELIMl1HAbG69dcc6ee8b39ace55aad42,
	mikeschinkel@newclarity.net, A83B6584-A70E-42A6-8159>
	<9F4F68D7-4C3B-46B0-9157-9153F097FA84@striderweb.com>
Message-ID: <EMEWEMEW2_DELIMl1HLsM2b8f8e9a00e7175d61b938,
	mikeschinkel@newclarity.net, D9E47D8C-9C2D-43D2-8871>

Joost may be able to find out from Matt Cutts?

-Mike

Sent from my iPhone

On Feb 18, 2009, at 10:05 PM, Stephen Rider <wp- 
hackers@striderweb.com> wrote:

>
>> On Feb 18, 2009, at 9:33 AM, Stephen Rider <wp- 
>> hackers@striderweb.com> wrote:
>>
>>> On Feb 17, 2009, at 11:29 PM, Mike Schinkel wrote:
>>>
>>>>> So your comments would still be indexed.
>>>>
>>>> I think you may be wrong on this. I think that it is likely that  
>>>> google will request the canonical URL and index that one.  If  
>>>> not, then I can see how rel="canonical" could become a haven for  
>>>> spammers.  Imagine someone specifying that their root is the  
>>>> canonical for thousands of pages...
>>>
>>> "indexed" != "counted toward pagerank"
>
> On Feb 18, 2009, at 10:37 AM, mikeschinkel@newclarity.net wrote:
>
>> Of course, but are you sure that is the case here?
>
> No, but unless someone on this list a) works for Google, and b) is  
> giving away corporate secrets, nobody else does either.
>
> It just seemed that some people were conflating the two.
>
> Stephen
>
>
> -- 
> Stephen Rider
> http://striderweb.com/
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From mikeschinkel at newclarity.net  Thu Feb 19 04:05:36 2009
From: mikeschinkel at newclarity.net (mikeschinkel@newclarity.net)
Date: Thu Feb 19 04:06:01 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <C5C21483.428BA%chris@clwill.com>
References: <C5C21483.428BA%chris@clwill.com>
Message-ID: <EMEWEMEW2_DELIMl1HM5bbcf8a8d63014852fc5b8cc,
	mikeschinkel@newclarity.net, 75F1B22F-CBCA-40A8-AE2F>

Once again +1 to this.

Chris' suggestion would solve the problem I had where using Subversion  
on the entire install (plugins and all) breaks the plugin updater (it  
currently deletes the existing plugin version but won't install the  
new version when a read-only .svn directory exists in the plugin  
directory.)

-Mike

Sent from my iPhone

On Feb 18, 2009, at 10:40 PM, Chris Williams <chris@clwill.com> wrote:

> And one more advantage.  If I want to delete a plugin, I remove the
> directory. That's it.  No turds left scattered all over the place, in
> "bucket" directories that gather all kinds of turds of unknown  
> origin.  All
> plugin files live in the plugin's directory or its children.
>
> What could be simpler?
>
>
>> From: Chris Williams <chris@clwill.com>
>> Date: Wed, 18 Feb 2009 19:36:58 -0800
>> To: <wp-hackers@lists.automattic.com>
>> Conversation: [wp-hackers] Auto Update Plugins
>> Subject: Re: [wp-hackers] Auto Update Plugins
>>
>> You're making this too complicated.
>>
>> Plugin is in a zip, with whatever file structure it wants.  The zip  
>> gets
>> blasted out there, overwriting old files, creating new ones.  If  
>> the zip
>> includes a file called "deprecated.fil" (or something) in the root  
>> directory
>> of the plugin, the updater goes through it and deletes any files  
>> named in
>> there.  Then the updater deletes "deprecated.fil".  Period.
>>
>> Accomplishes:
>> - Old files overwritten/updated.
>> - New files added.
>> - Deprecated files removed.
>> - All other files (regardless of how they got there) retained.
>> - Old plugins w/o a "deprecated.fil" file behave as today.
>>
>> Easy-squeezy.
>>
>>> From: Stephen Rider <wp-hackers@striderweb.com>
>>> Reply-To: <wp-hackers@lists.automattic.com>
>>> Date: Wed, 18 Feb 2009 21:19:37 -0600
>>> To: <wp-hackers@lists.automattic.com>
>>> Subject: Re: [wp-hackers] Auto Update Plugins
>>>
>>> On Feb 18, 2009, at 6:11 PM, Chris Williams wrote:
>>>
>>>> Which seems to me to be exactly how plugin upgrades should work,
>>>> then this
>>>> entire discussion is obviated :)
>>>>
>>>>> From: Otto <otto@ottodestruct.com>
>>>>>
>>>>> On Wed, Feb 18, 2009 at 1:04 PM, scribu <scribu@gmail.com> wrote:
>>>>>> BTW, when core-upgrade is called, isn't the entire wp-content  
>>>>>> folder
>>>>>> preserved? Or just the themes, plugins and uploads folders?
>>>>>
>>>>> A core upgrade basically copies all the new files from the
>>>>> distribution over the old ones. Then it goes through a list of  
>>>>> "old
>>>>> files" (defined in wp-admin/includes/update-core.php" and  
>>>>> deletes any
>>>>> files on that list. So any files not on the list and not in the
>>>>> distribution are preserved.
>>>
>>>
>>> No it isn't.  A lot of plugins use add-on files that a user can  
>>> simply
>>> upload.  Requiring the plugin to register them somehow requires a  
>>> lot
>>> of coding for plugins to ID and register files that are uploaded.
>>> Code that is completely unnecessary.  It's a folder, folks.   
>>> Again, it
>>> isn't anything a plugin author can't do already, it's just a  
>>> question
>>> of creating some sort of standard to follow so such files aren't
>>> scattered all over the place.
>>>
>>> Adding some registration scheme to WP core is a lot of coding that
>>> isn't needed, and qould require extra code from plugin authors.
>>>
>>> Just putting it all in /uploads/ dumps a lot of different types of
>>> files -- different as in *use*.  Think about your desktop computer  
>>> --
>>> this is essentially the difference between Application Support files
>>> and Documents.  They both are used by the apps, but they are  
>>> different
>>> things.
>>>
>>> On Mac OS X, application support files should go in /Library/
>>> Application Support/.  There's nothing particularly special about  
>>> that
>>> folder, except that it's the standard place that Apple said should  
>>> be
>>> the home for such files -- but it does prevent a lot of such files
>>> being scattered all over the hard drive, and makes the folder
>>> structure a LOT cleaner than some other major OSes I could name.
>>> That's basically what I'm asking for here.
>>>
>>> Stephen
>>>
>>>
>>> -- 
>>> Stephen Rider
>>> http://striderweb.com/
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From hendry.lee at gmail.com  Thu Feb 19 04:35:51 2009
From: hendry.lee at gmail.com (Hendry Lee)
Date: Thu Feb 19 04:36:14 2009
Subject: [wp-hackers] Canonical & Best Practices for Paged Comment
In-Reply-To: <9F4F68D7-4C3B-46B0-9157-9153F097FA84@striderweb.com>
References: <EMEWEMEW2_DELIMl1GNY4820175f6b10d062fd3da7d,
	mikeschinkel@newclarity.net,
	20609926.101234934953674.J>	<FC10CCB0-BD59-4530-BDCF-18ABA1A52B49@striderweb.com>	<EMEWEMEW2_DELIMl1HAbG69dcc6ee8b39ace55aad42,
	mikeschinkel@newclarity.net, A83B6584-A70E-42A6-8159>
	<9F4F68D7-4C3B-46B0-9157-9153F097FA84@striderweb.com>
Message-ID: <499ce1b0.18038e0a.5556.ffff9e5b@mx.google.com>

> On Feb 18, 2009, at 9:33 AM, Stephen Rider <wp- 
> hackers@striderweb.com> wrote:
>
>> On Feb 17, 2009, at 11:29 PM, Mike Schinkel wrote:
>>
>>>> So your comments would still be indexed.
>>>
>>> I think you may be wrong on this. I think that it is likely that  
>>> google will request the canonical URL and index that one.  If not,  
>>> then I can see how rel="canonical" could become a haven for  
>>> spammers.  Imagine someone specifying that their root is the  
>>> canonical for thousands of pages...
>>
>> "indexed" != "counted toward pagerank"

On Feb 18, 2009, at 10:37 AM, mikeschinkel@newclarity.net wrote:

> Of course, but are you sure that is the case here?

> No, but unless someone on this list a) works for Google, and b) is  
> giving away corporate secrets, nobody else does either.
> 
> It just seemed that some people were conflating the two.

Correct me if I'm wrong, but I still find this can be a haven for spammers.

Pages are still indexed as usual, but Google offers the one tagged as
canonical in the search result.

What if a spammer refer to the home page as the canonical version, for
thousands of pages?

As quoted in this document:

http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.ht
ml

"Additional URL properties, like PageRank and related signals, are
transferred as well."

Will the canonical attribute sends PR of thousands of pages to the homepage?

I'm sure Google has come up with a filter to determine what constitutes
unique content. And if there's a penalty to this, a two-paragraph post with
multiple pages of comments will cause problems because there are more unique
content than duplicates.

Someone brought this up earlier, will search users be able to find the
content in the comments or get lost because they are always offered the
first page?

As I said earlier, this is just one SEO problem that WP may or may not want
to solve in the core. And if there is a reason to fix this one, there should
be really good reason to do so.

-Hendry


From speedboxer at gmail.com  Thu Feb 19 04:36:27 2009
From: speedboxer at gmail.com (Matt Freedman)
Date: Thu Feb 19 04:36:41 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
References: <4E7A77D4-8329-4649-B399-FA5B7D01EB88@yoast.com>
	<862d087f0902170749s28112f0exde1a2a376476c937@mail.gmail.com>
	<7AAA5DE7-23F5-420F-86A0-A3FC8C3606E0@yoast.com>
	<862d087f0902170814y7c606222v431df61b07ce7ab0@mail.gmail.com>
	<7EC26ECE-304F-4828-A5F4-7F2B965A7BAD@xentek.net>
	<862d087f0902172149u5b14e93bx58b8d9cb747a238e@mail.gmail.com>
	<A044145B-AAB8-44E2-A6FD-97BF79C932DF@xentek.net>
	<b88434820902172337x47c3ff5bq8c15ca84e03f018f@mail.gmail.com>
	<ECFDE75B-4339-478B-8F4A-F19D1BF651DC@yoast.com>
Message-ID: <b88434820902182036t6874223fu394546cc2df53284@mail.gmail.com>

On Wed, Feb 18, 2009 at 1:10 AM, Joost de Valk <joost@yoast.com> wrote:
> It's not just about what WordPress does. For example:
>
> http://example.com/about/
>
> and
>
> http://example.com/about/?from=email
>
> will serve up the same pages in most WordPress installs. If you add the
> rel="canonical" link to the <head>, the latter will have all links pointing
> to it counted toward the first one. That's, for me, one of the main uses of
> the tag.


Fixing a problem that WordPress doesn't create is not something that
should be in core, it's something for a plugin to fix.


On Wed, Feb 18, 2009 at 4:21 AM, scribu <scribu@gmail.com> wrote:
> Wait...there's also /post-permalink?replytocom=123 which is triggered when
> there's no Javascript enabled (a.k.a. bots) that could also use
> rel="canonical".


That link is nofollowed, so it shouldn't be an issue.


On Wed, Feb 18, 2009 at 9:03 AM,  <mikeschinkel@newclarity.net> wrote:
> Not being "native" to WordPress seems to be a rather myopic justification.
> HTTP isn't native to WordPress but we still need to utilize best practices
> regarding HTTP.


The canonical link tag and HTTP are completely different things, and
can't be used for comparison. HTTP is a protocol very necessary to the
Internet, the canonical tag is not necessary for a stock WP install
with paged comments turned off.

There is no reason for this tag to be useful for any case that
WordPress creates (again, with the exception of paged comments), so
this tag should not be enabled by default.


-- 
Matt Freedman
Blog: http://mattsblog.ca/
Twitter: http://twitter.com/mattfreedman
From peter.westwood at ftwr.co.uk  Thu Feb 19 07:48:13 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu Feb 19 07:49:20 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <C5C213DA.428B6%chris@clwill.com>
References: <C5C213DA.428B6%chris@clwill.com>
Message-ID: <19B55F92-1DF7-4B95-A35E-CE295577144A@ftwr.co.uk>

So when a security issue is fixed in a plugin which doesn't support  
you mechanism and the fix involved deleting a file - the update leaves  
the security hole behind.

Plugins shouldn't be expecting to store user confit in the plugin  
directory.

It is seperate info - if you want to make it easy for people to style  
you plugin output in the front end then you should be making it easy  
for a theme to do that not encouraging users to store that styling in  
the plugin dir.

Westi
--
Peter Westwood
http://peter.Westwood.name

On 19 Feb 2009, at 03:36, Chris Williams <chris@clwill.com> wrote:

> You're making this too complicated.
>
> Plugin is in a zip, with whatever file structure it wants.  The zip  
> gets
> blasted out there, overwriting old files, creating new ones.  If the  
> zip
> includes a file called "deprecated.fil" (or something) in the root  
> directory
> of the plugin, the updater goes through it and deletes any files  
> named in
> there.  Then the updater deletes "deprecated.fil".  Period.
>
> Accomplishes:
> - Old files overwritten/updated.
> - New files added.
> - Deprecated files removed.
> - All other files (regardless of how they got there) retained.
> - Old plugins w/o a "deprecated.fil" file behave as today.
>
> Easy-squeezy.
>
>> From: Stephen Rider <wp-hackers@striderweb.com>
>> Reply-To: <wp-hackers@lists.automattic.com>
>> Date: Wed, 18 Feb 2009 21:19:37 -0600
>> To: <wp-hackers@lists.automattic.com>
>> Subject: Re: [wp-hackers] Auto Update Plugins
>>
>> On Feb 18, 2009, at 6:11 PM, Chris Williams wrote:
>>
>>> Which seems to me to be exactly how plugin upgrades should work,
>>> then this
>>> entire discussion is obviated :)
>>>
>>>> From: Otto <otto@ottodestruct.com>
>>>>
>>>> On Wed, Feb 18, 2009 at 1:04 PM, scribu <scribu@gmail.com> wrote:
>>>>> BTW, when core-upgrade is called, isn't the entire wp-content  
>>>>> folder
>>>>> preserved? Or just the themes, plugins and uploads folders?
>>>>
>>>> A core upgrade basically copies all the new files from the
>>>> distribution over the old ones. Then it goes through a list of "old
>>>> files" (defined in wp-admin/includes/update-core.php" and deletes  
>>>> any
>>>> files on that list. So any files not on the list and not in the
>>>> distribution are preserved.
>>
>>
>> No it isn't.  A lot of plugins use add-on files that a user can  
>> simply
>> upload.  Requiring the plugin to register them somehow requires a lot
>> of coding for plugins to ID and register files that are uploaded.
>> Code that is completely unnecessary.  It's a folder, folks.  Again,  
>> it
>> isn't anything a plugin author can't do already, it's just a question
>> of creating some sort of standard to follow so such files aren't
>> scattered all over the place.
>>
>> Adding some registration scheme to WP core is a lot of coding that
>> isn't needed, and qould require extra code from plugin authors.
>>
>> Just putting it all in /uploads/ dumps a lot of different types of
>> files -- different as in *use*.  Think about your desktop computer --
>> this is essentially the difference between Application Support files
>> and Documents.  They both are used by the apps, but they are  
>> different
>> things.
>>
>> On Mac OS X, application support files should go in /Library/
>> Application Support/.  There's nothing particularly special about  
>> that
>> folder, except that it's the standard place that Apple said should be
>> the home for such files -- but it does prevent a lot of such files
>> being scattered all over the hard drive, and makes the folder
>> structure a LOT cleaner than some other major OSes I could name.
>> That's basically what I'm asking for here.
>>
>> Stephen
>>
>>
>> -- 
>> Stephen Rider
>> http://striderweb.com/
>>
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From joost at yoast.com  Thu Feb 19 11:17:34 2009
From: joost at yoast.com (Joost de Valk)
Date: Thu Feb 19 11:17:47 2009
Subject: [wp-hackers] Sphinx
Message-ID: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>

Hey,

I see the new plugin search is live (it rocks, thx a lot for that),  
now does anyone have any idea how hard it would be to integrate Sphinx  
in to WP itself? Any plugin authors who've tried that, perhaps?

Best,
Joost
From jeffro at jeffro2pt0.com  Thu Feb 19 12:15:36 2009
From: jeffro at jeffro2pt0.com (Jeff Chandler)
Date: Thu Feb 19 12:15:48 2009
Subject: [wp-hackers] Sphinx
Message-ID: <499D4D68.9080901@jeffro2pt0.com>

Speaking of search inside of WordPress, I think it's high time that a 
few filters are added as search options. For example, allow users to 
click an Advanced search button where they can search the blog by tag, 
category, date, etc. Or, will adding Sphinx technology to the WordPress 
built in search be good enough to not need those filters?

From frank at bueltge.de  Thu Feb 19 12:16:46 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Thu Feb 19 12:16:59 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
Message-ID: <db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>

+100
I love this idea. I wait so long for a better search in WP.
From gigalinux at gmail.com  Thu Feb 19 12:29:37 2009
From: gigalinux at gmail.com (Dennis Morhardt)
Date: Thu Feb 19 12:29:45 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
	<db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
Message-ID: <5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>

+100 (gummi points)
From philip at hetjens.eu  Thu Feb 19 14:45:24 2009
From: philip at hetjens.eu (Philip Hetjens)
Date: Thu Feb 19 14:45:34 2009
Subject: [wp-hackers] Blocking WP_Http_Streams while requesting wp-cron.php
Message-ID: <e594c9a50902190645q6fde1cafy5e47a2d282e1ca7c@mail.gmail.com>

Hi everybody,

publishing articles takes round about 100 sec on our Servers. I figured out
why. It seems that the server has problems to open a request to wp-cron.php
after publishing an arcle.

wp tries to open a non-blocking, short-timeouted connection to it self. The
problem is, that the function calls for non-blocking and for timeout are
called after the fopen-command in the class WP_Http_Streams (function
"request"), and so the fopen-command takes a lot of time.

There is a possibility to set the default timeout for fopen. I would suggest
that this is done, look here:

    $old = ini_set('default_socket_timeout', $r['timeout']);
        if ( ! defined('WP_DEBUG') || ( defined('WP_DEBUG') && false ===
WP_DEBUG ) )
            $handle = @fopen($url, 'r', false, $context);
        else
            $handle = fopen($url, 'r', false, $context);
    ini_set('default_socket_timeout', $old);

in this solution is the problem that the ini-parameter
default_socket_timeout requires an int, but $r['timeout'] is 0.01. I don't
know, if there are other calls with this short timeout (btw.
socket_set_timeout is also looking for an int parameter).

I have no clue how to proceed. So, it would be nice, if anybody could do the
changes.

Thanks,
Philip
From if.website at gmail.com  Thu Feb 19 14:55:20 2009
From: if.website at gmail.com (Austin Matzko)
Date: Thu Feb 19 14:55:34 2009
Subject: [wp-hackers] Blocking WP_Http_Streams while requesting 
	wp-cron.php
In-Reply-To: <e594c9a50902190645q6fde1cafy5e47a2d282e1ca7c@mail.gmail.com>
References: <e594c9a50902190645q6fde1cafy5e47a2d282e1ca7c@mail.gmail.com>
Message-ID: <674b4a3b0902190655y27f0940ag4cee0c13a65c1a7c@mail.gmail.com>

On Thu, Feb 19, 2009 at 8:45 AM, Philip Hetjens <philip@hetjens.eu> wrote:
> I have no clue how to proceed.

WordPress's cron is being improved for version 2.8 specifically to
address issues like this.  See ticket #9005 [1] to follow the latest
cron changes and ticket #8923 [2] for a discussion about the timeout
issue.

[1] http://core.trac.wordpress.org/ticket/9005
[2] http://core.trac.wordpress.org/ticket/8923
From lynne.pope at gmail.com  Thu Feb 19 15:03:02 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Thu Feb 19 15:03:13 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
	<db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
	<5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>
Message-ID: <427667db0902190703t5a3672b5m7277da57636c30cd@mail.gmail.com>

Another +100.
But, I haven't tried integrating Sphinx myself (hadn't even considered it
actually but its a brilliant idea!)

Lynne
From wordpress at tekartist.org  Thu Feb 19 15:37:39 2009
From: wordpress at tekartist.org (Stephane Daury)
Date: Thu Feb 19 15:37:53 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <427667db0902190703t5a3672b5m7277da57636c30cd@mail.gmail.com>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
	<db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
	<5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>
	<427667db0902190703t5a3672b5m7277da57636c30cd@mail.gmail.com>
Message-ID: <B6C61278-EEF8-4C33-93D4-819B4565758E@tekartist.org>


No commitment on timeline, but I need to integrate sphinx in an  
upcoming WPMU+Buddypress project.

Maybe I'll write it as a wp+wpmu plugin and just release it.

We use sphinx at praized.com, so it's a "good friend of mine". ;)

Stephane




On Feb 19, 2009, at 10:03, Lynne Pope wrote:

> Another +100.
> But, I haven't tried integrating Sphinx myself (hadn't even  
> considered it
> actually but its a brilliant idea!)
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chris at clwill.com  Thu Feb 19 15:48:03 2009
From: chris at clwill.com (Chris Williams)
Date: Thu Feb 19 15:48:23 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <19B55F92-1DF7-4B95-A35E-CE295577144A@ftwr.co.uk>
Message-ID: <C5C2BF33.4292B%chris@clwill.com>

Embedded responses:

> From: Peter Westwood <peter.westwood@ftwr.co.uk>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Thu, 19 Feb 2009 07:48:13 +0000
> To: "wp-hackers@lists.automattic.com" <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Auto Update Plugins
> 
> So when a security issue is fixed in a plugin which doesn't support
> you mechanism and the fix involved deleting a file - the update leaves
> the security hole behind.

If I'm a plugin writer, and I'm fixing security issues, am I not likely to
be up to speed on the latest plugin technology?  What percentage of plugins
does this really effect?  How many bug fixes involve removing files?

> Plugins shouldn't be expecting to store user confit in the plugin
> directory.

It's just not clear to me why?  Why shouldn't all things related to a plugin
be in one place?  Doesn't the problem of plugins scattering stuff hither and
yon bother anyone but me?

> It is seperate info - if you want to make it easy for people to style
> you plugin output in the front end then you should be making it easy
> for a theme to do that not encouraging users to store that styling in
> the plugin dir.

So make the whole plugin system more complex and confusing for the small
number of plugins that can't/don't store their info in the database either
as an option or in their own tables, _and_ that feel they need to write
files somewhere other than in the plugin directory.  Ugh.

> 
> Westi
> --
> Peter Westwood
> http://peter.Westwood.name
> 
> On 19 Feb 2009, at 03:36, Chris Williams <chris@clwill.com> wrote:
> 
>> You're making this too complicated.
>> 
>> Plugin is in a zip, with whatever file structure it wants.  The zip
>> gets
>> blasted out there, overwriting old files, creating new ones.  If the
>> zip
>> includes a file called "deprecated.fil" (or something) in the root
>> directory
>> of the plugin, the updater goes through it and deletes any files
>> named in
>> there.  Then the updater deletes "deprecated.fil".  Period.
>> 
>> Accomplishes:
>> - Old files overwritten/updated.
>> - New files added.
>> - Deprecated files removed.
>> - All other files (regardless of how they got there) retained.
>> - Old plugins w/o a "deprecated.fil" file behave as today.
>> 
>> Easy-squeezy.
>> 
>>> From: Stephen Rider <wp-hackers@striderweb.com>
>>> Reply-To: <wp-hackers@lists.automattic.com>
>>> Date: Wed, 18 Feb 2009 21:19:37 -0600
>>> To: <wp-hackers@lists.automattic.com>
>>> Subject: Re: [wp-hackers] Auto Update Plugins
>>> 
>>> On Feb 18, 2009, at 6:11 PM, Chris Williams wrote:
>>> 
>>>> Which seems to me to be exactly how plugin upgrades should work,
>>>> then this
>>>> entire discussion is obviated :)
>>>> 
>>>>> From: Otto <otto@ottodestruct.com>
>>>>> 
>>>>> On Wed, Feb 18, 2009 at 1:04 PM, scribu <scribu@gmail.com> wrote:
>>>>>> BTW, when core-upgrade is called, isn't the entire wp-content
>>>>>> folder
>>>>>> preserved? Or just the themes, plugins and uploads folders?
>>>>> 
>>>>> A core upgrade basically copies all the new files from the
>>>>> distribution over the old ones. Then it goes through a list of "old
>>>>> files" (defined in wp-admin/includes/update-core.php" and deletes
>>>>> any
>>>>> files on that list. So any files not on the list and not in the
>>>>> distribution are preserved.
>>> 
>>> 
>>> No it isn't.  A lot of plugins use add-on files that a user can
>>> simply
>>> upload.  Requiring the plugin to register them somehow requires a lot
>>> of coding for plugins to ID and register files that are uploaded.
>>> Code that is completely unnecessary.  It's a folder, folks.  Again,
>>> it
>>> isn't anything a plugin author can't do already, it's just a question
>>> of creating some sort of standard to follow so such files aren't
>>> scattered all over the place.
>>> 
>>> Adding some registration scheme to WP core is a lot of coding that
>>> isn't needed, and qould require extra code from plugin authors.
>>> 
>>> Just putting it all in /uploads/ dumps a lot of different types of
>>> files -- different as in *use*.  Think about your desktop computer --
>>> this is essentially the difference between Application Support files
>>> and Documents.  They both are used by the apps, but they are
>>> different
>>> things.
>>> 
>>> On Mac OS X, application support files should go in /Library/
>>> Application Support/.  There's nothing particularly special about
>>> that
>>> folder, except that it's the standard place that Apple said should be
>>> the home for such files -- but it does prevent a lot of such files
>>> being scattered all over the hard drive, and makes the folder
>>> structure a LOT cleaner than some other major OSes I could name.
>>> That's basically what I'm asking for here.
>>> 
>>> Stephen
>>> 
>>> 
>>> -- 
>>> Stephen Rider
>>> http://striderweb.com/
>>> 
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From niladam at gmail.com  Thu Feb 19 16:06:44 2009
From: niladam at gmail.com (madalin)
Date: Thu Feb 19 16:06:59 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <B6C61278-EEF8-4C33-93D4-819B4565758E@tekartist.org>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
	<db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
	<5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>
	<427667db0902190703t5a3672b5m7277da57636c30cd@mail.gmail.com>
	<B6C61278-EEF8-4C33-93D4-819B4565758E@tekartist.org>
Message-ID: <df809b110902190806q693eb934qd0e0342f5cc3150d@mail.gmail.com>

Uhm, sorry to ask this but...what's Sphinx? I tried googling and i
endup on a search engine's website. Is this the Sphinx you are talking
about ?

On Thu, Feb 19, 2009 at 5:37 PM, Stephane Daury <wordpress@tekartist.org> wrote:
>
> No commitment on timeline, but I need to integrate sphinx in an upcoming
> WPMU+Buddypress project.
>
> Maybe I'll write it as a wp+wpmu plugin and just release it.
>
> We use sphinx at praized.com, so it's a "good friend of mine". ;)
>
> Stephane
>
>
>
>
> On Feb 19, 2009, at 10:03, Lynne Pope wrote:
>
>> Another +100.
>> But, I haven't tried integrating Sphinx myself (hadn't even considered it
>> actually but its a brilliant idea!)
>>
>> Lynne
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Cu drag,
madalin
http://madalin.eu
From wordpress at tekartist.org  Thu Feb 19 16:08:56 2009
From: wordpress at tekartist.org (Stephane Daury)
Date: Thu Feb 19 16:09:11 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <df809b110902190806q693eb934qd0e0342f5cc3150d@mail.gmail.com>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
	<db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
	<5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>
	<427667db0902190703t5a3672b5m7277da57636c30cd@mail.gmail.com>
	<B6C61278-EEF8-4C33-93D4-819B4565758E@tekartist.org>
	<df809b110902190806q693eb934qd0e0342f5cc3150d@mail.gmail.com>
Message-ID: <D74C48B9-77A1-4C93-A619-5DCDC04768EF@tekartist.org>


http://www.sphinxsearch.com/

s

On Feb 19, 2009, at 11:06, madalin wrote:

> Uhm, sorry to ask this but...what's Sphinx? I tried googling and i
> endup on a search engine's website. Is this the Sphinx you are talking
> about ?
>
> On Thu, Feb 19, 2009 at 5:37 PM, Stephane Daury <wordpress@tekartist.org 
> > wrote:
>>
>> No commitment on timeline, but I need to integrate sphinx in an  
>> upcoming
>> WPMU+Buddypress project.
>>
>> Maybe I'll write it as a wp+wpmu plugin and just release it.
>>
>> We use sphinx at praized.com, so it's a "good friend of mine". ;)
>>
>> Stephane
>>
>>
>>
>>
>> On Feb 19, 2009, at 10:03, Lynne Pope wrote:
>>
>>> Another +100.
>>> But, I haven't tried integrating Sphinx myself (hadn't even  
>>> considered it
>>> actually but its a brilliant idea!)
>>>
>>> Lynne
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> -- 
> Cu drag,
> madalin
> http://madalin.eu
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From supporto at pixline.net  Thu Feb 19 16:11:58 2009
From: supporto at pixline.net (=?WINDOWS-1252?Q?Pixline_=9B_Paolo_Tresso?=)
Date: Thu Feb 19 16:12:13 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <C5C2BF33.4292B%chris@clwill.com>
References: <C5C2BF33.4292B%chris@clwill.com>
Message-ID: <F4B0137E-ED22-4E18-9C21-86183055B676@pixline.net>


Il giorno 19/feb/09, alle ore 16:48, Chris Williams ha scritto:

> Why shouldn't all things related to a plugin be in one place?

The problem is: where's that (safe) place.

If plugins could have their own folder into the upload one, via API,  
probably it could solve many issues like that.
I don't know if this approach would be appreciated (or even  
considered) by the core masters, though.

Paolo / Pixline


From donncha at linux.ie  Thu Feb 19 16:21:20 2009
From: donncha at linux.ie (Donncha O Caoimh)
Date: Thu Feb 19 16:21:49 2009
Subject: [wp-hackers] how to cache w/ php in WP templates
In-Reply-To: <20090218153443.3cyit2ysgkokowsw@www.dimensionmedia.com>
References: <20090218153443.3cyit2ysgkokowsw@www.dimensionmedia.com>
Message-ID: <499D8700.80109@linux.ie>

That old mfunc code is still there but I haven't documented it's use. 
You'd have to switch to half-on mode, and disable compression for it to 
work. Probably. I haven't tried it though. Look in wp-cache-phase2.php 
for "mfunc".

If the dynamic output is based on a cookie then you might as well use 
Javascript to fill in the details. That's what I would do and you'd have 
all the advantages of the static html cache file.

Donncha

David J. Bisset wrote:
> I use wp-super-cache and love it, but it really isn't effective on site 
> where i have php code in the header and other templates.
> 
> I can't have some particular php functions "cached" because (for 
> example) one php function checks a client-side cookie and outputs html 
> based on the value. Cache that, and the same html will be output 
> regardless.
> 
> Once upon a time, wp-cache had functions you could surround php 
> functions to NOT cache them. I get the impression that is no longer 
> possible. Can anyone here confirm and if it's true provide an alternate 
> solution (with or without wp-super-cache)?
> 
> Oh, and if anyone is going to Wordcamp Miami this Sunday hit me up on 
> Twitter! :)
> 
> Thanks in advance.
> 

-- 
Donncha O Caoimh
http://ocaoimh.ie / http://inphotos.org / http://wordpress.com

From scribu at gmail.com  Thu Feb 19 16:36:05 2009
From: scribu at gmail.com (scribu)
Date: Thu Feb 19 16:36:17 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <F4B0137E-ED22-4E18-9C21-86183055B676@pixline.net>
References: <C5C2BF33.4292B%chris@clwill.com>
	<F4B0137E-ED22-4E18-9C21-86183055B676@pixline.net>
Message-ID: <349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>

Having a folder inside each plugin dir that will not get overridden after an
upgrade would clearly be the most elegant solution. This discussion was
focusing on a solution without relying on core changes.

So, any chance we might see this improvement in the plugin update process in
2.8 ?

-- 
http://scribu.net
From mdmartz at sivel.net  Thu Feb 19 17:01:34 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Thu Feb 19 17:01:46 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>
References: <C5C2BF33.4292B%chris@clwill.com>
	<F4B0137E-ED22-4E18-9C21-86183055B676@pixline.net>
	<349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>
Message-ID: <518fa9630902190901l2879192aq55c98b7b940b5172@mail.gmail.com>

On Thu, Feb 19, 2009 at 11:36 AM, scribu <scribu@gmail.com> wrote:
> Having a folder inside each plugin dir that will not get overridden after an
> upgrade would clearly be the most elegant solution. This discussion was
> focusing on a solution without relying on core changes.
>
> So, any chance we might see this improvement in the plugin update process in
> 2.8 ?
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

I have a plugin (shadowbox-js) that will allow users to have custom
skins.  I have recently updated the plugin so that the url to the skin
has a filter applied to it so that a user can put the skin directory
where ever they want and then do an add_filter on the skin url.

I prefer this type of solution over having a directory that will not
get overridden.  But that is, of course, my personal preference.

So I say -1

--
Matt Martz
matt@sivel.net
From mikeschinkel at newclarity.net  Thu Feb 19 17:03:15 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Feb 19 17:04:21 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1IB3Ga7d91b40dd66814c4fc77b,
	mikeschinkel@newclarity.net, 22883960.691235063006665.J>

Can this also address failing plugin upgrade because of read-only .svn directories?

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "scribu" <scribu@gmail.com>
To: wp-hackers@lists.automattic.com
Sent: Thursday, February 19, 2009 11:36:05 AM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Auto Update Plugins

Having a folder inside each plugin dir that will not get overridden after an
upgrade would clearly be the most elegant solution. This discussion was
focusing on a solution without relying on core changes.

So, any chance we might see this improvement in the plugin update process in
2.8 ?

-- 
http://scribu.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mdmartz at sivel.net  Thu Feb 19 17:08:29 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Thu Feb 19 17:08:41 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <-1703196895641838923@unknownmsgid>
References: <349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>
	<-1703196895641838923@unknownmsgid>
Message-ID: <518fa9630902190908v5996e284oc8e017a545b45e35@mail.gmail.com>

On Thu, Feb 19, 2009 at 12:03 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Can this also address failing plugin upgrade because of read-only .svn directories?
>
> -Mike Schinkel
> http://mikeschinkel.com/

I'll way in with my opinion again.

My feeling is that if you have a plugin that was installed with
subversion then you should not use the plugin updater to update but
should use subversion.  Or you should remove the .svn directories
after retrieving the plugin with subversion and before using the
plugin updater.

I just don't think this is a shortcoming of the plugin updater but in
your poor use of subversion to retrieve plugins.

-1

-- 
Matt Martz
matt@sivel.net
From otto at ottodestruct.com  Thu Feb 19 17:25:53 2009
From: otto at ottodestruct.com (Otto)
Date: Thu Feb 19 17:26:02 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>
References: <C5C2BF33.4292B%chris@clwill.com>
	<F4B0137E-ED22-4E18-9C21-86183055B676@pixline.net>
	<349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>
Message-ID: <161617690902190925r6de0c97dj22db2005224e939a@mail.gmail.com>

On Thu, Feb 19, 2009 at 10:36 AM, scribu <scribu@gmail.com> wrote:
> Having a folder inside each plugin dir that will not get overridden after an
> upgrade would clearly be the most elegant solution. This discussion was
> focusing on a solution without relying on core changes.

I don't think that that solution is elegant at all, actually. What
appears to me to be the most elegant is keeping your plugin separate
from your user-created content. This way, the plugin upgrade is simply
a matter of replacing the directory. That strikes me as an elegant
solution.

I'm not thinking of this from a difficulty of coding standpoint, mind
you, I'm thinking of it from a separation of code from content
perspective. Why would you want "content" in the plugin directory?
Makes no sense to me.

-- 
-
Sent from: Memphis Tennessee United States.
From wp-hackers at striderweb.com  Thu Feb 19 17:28:52 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Feb 19 17:29:06 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>
References: <C5C2BF33.4292B%chris@clwill.com>
	<F4B0137E-ED22-4E18-9C21-86183055B676@pixline.net>
	<349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>
Message-ID: <ED4B61BE-DB71-4B95-AFD5-829AE2BA4E17@striderweb.com>

That would require core changes, but is indeed a solid solution. ;-)

In the shorter term, I'm going to start teaching some of my plugins to  
look for /plugins/plugin-data/<pluginname>, and use that if it  
exists.  If scribu's suggestion is ever added to core, I will switch  
to using that.

Regards All,

Stephen

On Feb 19, 2009, at 10:36 AM, scribu wrote:

> Having a folder inside each plugin dir that will not get overridden  
> after an
> upgrade would clearly be the most elegant solution. This discussion  
> was
> focusing on a solution without relying on core changes.
>
> So, any chance we might see this improvement in the plugin update  
> process in
> 2.8 ?


-- 
Stephen Rider
http://striderweb.com/




From mikeschinkel at newclarity.net  Thu Feb 19 17:28:32 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Feb 19 17:32:36 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <518fa9630902190908v5996e284oc8e017a545b45e35@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1IBSW2fdd8ab6da5725ece1e7b8,
	mikeschinkel@newclarity.net, 21207853.731235064526020.J>

It's really sad to me that you discredit other use-cases besides your own.

However, let's assume your view is the ideal view and mine is just wrong. Here's where there is a REAL problem with the current situation: IF someone "stupidly" decides to attempt a plugin upgrade on a directory using Subversion as the plugin admin section so constantly urges them to do THEN it deletes the existing plugin but DOES NOT upgrade or even restore the old plugin, the plugin installer simply won't restore anything, and the site is broken.

Please understand that not everyone who uses a site is the one who built it and thus not everyone using uses a site will know not to upgrade a site that is using Subversion.

THIS SITUATION IS A BUG, not a feature and needs to be fixed somehow.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Matt Martz" <mdmartz@sivel.net>
To: wp-hackers@lists.automattic.com
Sent: Thursday, February 19, 2009 12:08:29 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Auto Update Plugins

On Thu, Feb 19, 2009 at 12:03 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Can this also address failing plugin upgrade because of read-only .svn directories?
>
> -Mike Schinkel
> http://mikeschinkel.com/

I'll way in with my opinion again.

My feeling is that if you have a plugin that was installed with
subversion then you should not use the plugin updater to update but
should use subversion.  Or you should remove the .svn directories
after retrieving the plugin with subversion and before using the
plugin updater.

I just don't think this is a shortcoming of the plugin updater but in
your poor use of subversion to retrieve plugins.

-1

-- 
Matt Martz
matt@sivel.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From wp-hackers at striderweb.com  Thu Feb 19 17:34:55 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Feb 19 17:35:40 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902190925r6de0c97dj22db2005224e939a@mail.gmail.com>
References: <C5C2BF33.4292B%chris@clwill.com>
	<F4B0137E-ED22-4E18-9C21-86183055B676@pixline.net>
	<349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>
	<161617690902190925r6de0c97dj22db2005224e939a@mail.gmail.com>
Message-ID: <ADC77FA9-538E-4F27-A022-38349604417C@striderweb.com>


On Feb 19, 2009, at 11:25 AM, Otto wrote:

> On Thu, Feb 19, 2009 at 10:36 AM, scribu <scribu@gmail.com> wrote:
>> Having a folder inside each plugin dir that will not get overridden  
>> after an
>> upgrade would clearly be the most elegant solution. This discussion  
>> was
>> focusing on a solution without relying on core changes.
>
> I don't think that that solution is elegant at all, actually. What
> appears to me to be the most elegant is keeping your plugin separate
> from your user-created content. This way, the plugin upgrade is simply
> a matter of replacing the directory. That strikes me as an elegant
> solution.

*Sigh* Good point as well.

Well, I'm going to go ahead with my own plugins using /plugins/plugin- 
data/* as needed.  If others choose to follow my lead, cool.  If not,  
it's no skin off my nose.  Sometimes making a simple decision is like  
herding cats....  :-\

Stephen

-- 
Stephen Rider
http://striderweb.com/
From wp-hackers at striderweb.com  Thu Feb 19 17:37:24 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu Feb 19 17:37:54 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <EMEWEMEW2_DELIMl1IBSW2fdd8ab6da5725ece1e7b8,
	mikeschinkel@newclarity.net, 21207853.731235064526020.J>
References: <EMEWEMEW2_DELIMl1IBSW2fdd8ab6da5725ece1e7b8,
	mikeschinkel@newclarity.net, 21207853.731235064526020.J>
Message-ID: <24452D83-2295-4349-90A6-9EC571BF1B73@striderweb.com>

A new topic basically, but this seems like it might be a pretty easy  
fix.

Perhaps the plugin autp-upgrade script should simply check the  
directory for an .svn directory, and if it's there, don't upgrade?   
(With requisite notice of course!)

Stephen

On Feb 19, 2009, at 11:28 AM, Mike Schinkel wrote:

> It's really sad to me that you discredit other use-cases besides  
> your own.
>
> However, let's assume your view is the ideal view and mine is just  
> wrong. Here's where there is a REAL problem with the current  
> situation: IF someone "stupidly" decides to attempt a plugin upgrade  
> on a directory using Subversion as the plugin admin section so  
> constantly urges them to do THEN it deletes the existing plugin but  
> DOES NOT upgrade or even restore the old plugin, the plugin  
> installer simply won't restore anything, and the site is broken.
>
> Please understand that not everyone who uses a site is the one who  
> built it and thus not everyone using uses a site will know not to  
> upgrade a site that is using Subversion.
>
> THIS SITUATION IS A BUG, not a feature and needs to be fixed somehow.

From mikeschinkel at newclarity.net  Thu Feb 19 17:58:17 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu Feb 19 18:00:18 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <24452D83-2295-4349-90A6-9EC571BF1B73@striderweb.com>
Message-ID: <EMEWEMEW2_DELIMl1IBwId5d13ba47c574a35844889,
	mikeschinkel@newclarity.net, 32822736.771235066311163.J>

That would not be ideal (in my view) but it would fix the current bug that exists that blows away the existing plugin.

Maybe a better approach along those lines would be to look in the directory to see if there are any read-only files or directories and if so give a notice to that effect.  It's not Subversion per-se that is the problem but the fact that Subversion sets files & directories to read-only.

-Mike Schinkel
http://mikeschinkel.com/


----- Original Message -----
From: "Stephen Rider" <wp-hackers@striderweb.com>
To: wp-hackers@lists.automattic.com
Sent: Thursday, February 19, 2009 12:37:24 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Auto Update Plugins

A new topic basically, but this seems like it might be a pretty easy  
fix.

Perhaps the plugin autp-upgrade script should simply check the  
directory for an .svn directory, and if it's there, don't upgrade?   
(With requisite notice of course!)

Stephen

On Feb 19, 2009, at 11:28 AM, Mike Schinkel wrote:

> It's really sad to me that you discredit other use-cases besides  
> your own.
>
> However, let's assume your view is the ideal view and mine is just  
> wrong. Here's where there is a REAL problem with the current  
> situation: IF someone "stupidly" decides to attempt a plugin upgrade  
> on a directory using Subversion as the plugin admin section so  
> constantly urges them to do THEN it deletes the existing plugin but  
> DOES NOT upgrade or even restore the old plugin, the plugin  
> installer simply won't restore anything, and the site is broken.
>
> Please understand that not everyone who uses a site is the one who  
> built it and thus not everyone using uses a site will know not to  
> upgrade a site that is using Subversion.
>)
> THIS SITUATION IS A BUG, not a feature and needs to be fixed somehow.

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From peter at avirtualhome.com  Thu Feb 19 18:04:52 2009
From: peter at avirtualhome.com (Peter van der Does)
Date: Thu Feb 19 18:05:09 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <24452D83-2295-4349-90A6-9EC571BF1B73@striderweb.com>
References: <EMEWEMEW2_DELIMl1IBSW2fdd8ab6da5725ece1e7b8,
	mikeschinkel@newclarity.net, 21207853.731235064526020.J>
	<24452D83-2295-4349-90A6-9EC571BF1B73@striderweb.com>
Message-ID: <20090219130452.2705c447@montecarlo.grandprix.int>

On Thu, 19 Feb 2009 11:37:24 -0600
Stephen Rider <wp-hackers@striderweb.com> wrote:

> A new topic basically, but this seems like it might be a pretty easy
> fix.
> 
> Perhaps the plugin autp-upgrade script should simply check the
> directory for an .svn directory, and if it's there, don't upgrade?
> (With requisite notice of course!)
> 
> Stephen

And for .git (Git), .bzr (Bazaar), Mercurial, CVS, and about 63 other
revision control software (Thanks to wikipedia).

-- 
Peter van der Does

GPG key: E77E8E98

WordPress Plugin Developer
http://blog.avirtualhome.com

GetDeb Package Builder/GetDeb Site Coder
http://www.getdeb.net - Software you want for Ubuntu
From elflop at googlemail.com  Thu Feb 19 19:15:46 2009
From: elflop at googlemail.com (Rich Pedley)
Date: Thu Feb 19 19:15:59 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <161617690902190925r6de0c97dj22db2005224e939a@mail.gmail.com>
References: <C5C2BF33.4292B%chris@clwill.com>
	<F4B0137E-ED22-4E18-9C21-86183055B676@pixline.net>
	<349fe48b0902190836t45a96a19yeeb2c4ffa9f9b08d@mail.gmail.com>
	<161617690902190925r6de0c97dj22db2005224e939a@mail.gmail.com>
Message-ID: <c6c45a350902191115v57658702jd3a17804a84b6794@mail.gmail.com>

2009/2/19 Otto <otto@ottodestruct.com>:
>
> I don't think that that solution is elegant at all, actually. What
> appears to me to be the most elegant is keeping your plugin separate
> from your user-created content. This way, the plugin upgrade is simply
> a matter of replacing the directory. That strikes me as an elegant
> solution.
>
> I'm not thinking of this from a difficulty of coding standpoint, mind
> you, I'm thinking of it from a separation of code from content
> perspective. Why would you want "content" in the plugin directory?
> Makes no sense to me.

Agreed 100% - well I would I changed my plugin sometime ago to store
data in a separate place.

Currently you shouldn't have user editable content stored within the
plugin directory. Why? Well an easy example of why is any WordPress MU
installation. Remember they use one plugin for a multitude of blogs.
So creating a new directory for any user changeable content is the
only way that this can be achieved.

Although I still need to work on my directory creation script (when it
fails it does so badly - but 98% of the time it works with no problem)
coding it wasn't that difficult. I'll admit to having help for the MU
portion as at the time I wasn't able to install it anywhere.

Rich

-- 
my mind is on a permanent tangent
http://cms.elfden.co.uk/
From johan.eenfeldt at gmail.com  Thu Feb 19 20:47:29 2009
From: johan.eenfeldt at gmail.com (Johan Eenfeldt)
Date: Thu Feb 19 20:47:40 2009
Subject: [wp-hackers] Fix that translated WordPress takes 86% longer to start
Message-ID: <7547287e0902191247p143265fcsed89a2a744f8053c@mail.gmail.com>

Hi,

I've been looking at the startup time of WordPress.

The translation startup cost (gettext_reader->load_tables()) is
really, really expensive.

Average loadtime of clean 1 post 2.7.1 startpage: 0.102s
Average loadtime with translation: 0.190s (+86%)

Hmm. :)

Solution 1: split .mo file in two by separating admin stuff from the rest
Solution 2: cache i10n object (in this case using APC)

Average loadtime solution 1: 0,127s (+25%)
Average loadtime solution 2: 0,126s (+24%)
Average loadtime solution 1+2: 0,122s (+20%)

"Solution" 3: translate all strings directly in the php files Lots of
trouble (with updates and so on) to get to those last 20ms. Not for
general consumption.

2 is possible to implement with a plugin by adding a filter to
load_textdomain(). If noone tells me its a bad idea :) I'll add a trac
item and see what happens.

Splitting the mo file and handling the result can be done with a
plugin already. I don't however really see a reason why it isn't the
standard setup:
- it takes back much of the cost of translation
- it makes the i10n object ~300k smaller (for each thread/process)
- the split can easily be scripted

One could argue that the default themes and the akismet plugin
translations should be split out too.

What are the reasons not to do it? Has this been discussed before?

/ Johan
From wp at xentek.net  Thu Feb 19 21:04:14 2009
From: wp at xentek.net (Eric Marden)
Date: Thu Feb 19 21:04:26 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <19B55F92-1DF7-4B95-A35E-CE295577144A@ftwr.co.uk>
References: <C5C213DA.428B6%chris@clwill.com>
	<19B55F92-1DF7-4B95-A35E-CE295577144A@ftwr.co.uk>
Message-ID: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>

For me, fixing the issue with having source control folders (.svn,  
etc) get trashed during plugin upgrade is a nice to have but not a  
priority, since I usally just do a quick remote delete and re-add the  
new plugin. Annoying but livable.

I also agree with some others that if a plugin is accepting file  
uploads it should use the same mechanisms as the media library and  
store it in wp-content/uploads (or where ever the user sets this too).  
This has the added ability of being registered in the Media Library  
(if done correctly, though docs on this are scant) and being able to  
be used outside the plugin.

Of course the other option is not use the auto-update and do it  
manually avoiding both issues all together, but it wouldn't be wp- 
hackers if we thought in terms of what we can do now, and what we want  
to beg core devs to do for us. :)

-e
From heiko.rabe at code-styling.de  Thu Feb 19 21:11:14 2009
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Thu Feb 19 21:11:16 2009
Subject: [wp-hackers] Fix that translated WordPress takes 86% longer to
	start
In-Reply-To: <7547287e0902191247p143265fcsed89a2a744f8053c@mail.gmail.com>
References: <7547287e0902191247p143265fcsed89a2a744f8053c@mail.gmail.com>
Message-ID: <499DCAF2.5090005@code-styling.de>

I think, that solution 2 and 3 are not possible, because:

2.) Most provider doesn't allow mod_php and only provide CGI based php 
processing.
In this case you have no chance to cache it as you think.

3.) very bad in multi-lingual environments. Some of my friends and i too 
are running backends with at least 3 languages simultanously.
The languages can be switched or defined by the current user (author or 
admins) at any time. Also multi-lingual frontend blogs need
the ability to switch easy the language. This won't be possible by hard 
replacement at php files!

Remaining is only your first option: split the file. But this may only 
suitable for plugins or themes, where you could separate the backend 
part (huge) from the frontend part (small).
The WordPress language file itself will be used 99.9% in backend only, i 
don't find any advantage to split it.

If you think a plus of 90 msec is huge, please look at the timings of 
database requests of some so called premium or magazin themes, that run 
upto 400 queries to produce a page.
They are the time killer, also all of the plugins filtering the whole 
content again and again. Queries and cascaded content filter (using 
expensive regexp) will consume much more time.
The only time aspect of loading language files is doing ajax. In case of 
ajax calls, that don't require any translation, all tranlation file load 
could be dropped.
For this only case i would delay loading (only store file names and 
textdomains but not load them) in case of DOING_AJAX and introduce a 
function   
    require_ajax_translations()  
that load by calling in Ajax case the translation. This would safe 
indeed time processing ajax calls, all other cases are in my opinion no 
subject of change.

Heiko Rabe
> Hi,
>
> I've been looking at the startup time of WordPress.
>
> The translation startup cost (gettext_reader->load_tables()) is
> really, really expensive.
>
> Average loadtime of clean 1 post 2.7.1 startpage: 0.102s
> Average loadtime with translation: 0.190s (+86%)
>
> Hmm. :)
>
> Solution 1: split .mo file in two by separating admin stuff from the rest
> Solution 2: cache i10n object (in this case using APC)
>
> Average loadtime solution 1: 0,127s (+25%)
> Average loadtime solution 2: 0,126s (+24%)
> Average loadtime solution 1+2: 0,122s (+20%)
>
> "Solution" 3: translate all strings directly in the php files Lots of
> trouble (with updates and so on) to get to those last 20ms. Not for
> general consumption.
>
> 2 is possible to implement with a plugin by adding a filter to
> load_textdomain(). If noone tells me its a bad idea :) I'll add a trac
> item and see what happens.
>
> Splitting the mo file and handling the result can be done with a
> plugin already. I don't however really see a reason why it isn't the
> standard setup:
> - it takes back much of the cost of translation
> - it makes the i10n object ~300k smaller (for each thread/process)
> - the split can easily be scripted
>
> One could argue that the default themes and the akismet plugin
> translations should be split out too.
>
> What are the reasons not to do it? Has this been discussed before?
>
> / Johan
> _______________________________________________
>
>   

From frank at bueltge.de  Thu Feb 19 21:27:30 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Thu Feb 19 21:27:42 2009
Subject: [wp-hackers] Fix that translated WordPress takes 86% longer to 
	start
In-Reply-To: <499DCAF2.5090005@code-styling.de>
References: <7547287e0902191247p143265fcsed89a2a744f8053c@mail.gmail.com>
	<499DCAF2.5090005@code-styling.de>
Message-ID: <db047a770902191327p2537510ave84265adb4158a84@mail.gmail.com>

Thanks Heiko,
i had also write an answer with my bad englsih and now i can delete my
answer.
Im full your opinion and i wish, WordPress give more attention on the
multilingual users and other languges as english.


On Thu, Feb 19, 2009 at 10:11 PM, Heiko Rabe <heiko.rabe@code-styling.de>wrote:

> I think, that solution 2 and 3 are not possible, because:
>
> 2.) Most provider doesn't allow mod_php and only provide CGI based php
> processing.
> In this case you have no chance to cache it as you think.
>
> 3.) very bad in multi-lingual environments. Some of my friends and i too
> are running backends with at least 3 languages simultanously.
> The languages can be switched or defined by the current user (author or
> admins) at any time. Also multi-lingual frontend blogs need
> the ability to switch easy the language. This won't be possible by hard
> replacement at php files!
>
> Remaining is only your first option: split the file. But this may only
> suitable for plugins or themes, where you could separate the backend part
> (huge) from the frontend part (small).
> The WordPress language file itself will be used 99.9% in backend only, i
> don't find any advantage to split it.
>
> If you think a plus of 90 msec is huge, please look at the timings of
> database requests of some so called premium or magazin themes, that run upto
> 400 queries to produce a page.
> They are the time killer, also all of the plugins filtering the whole
> content again and again. Queries and cascaded content filter (using
> expensive regexp) will consume much more time.
> The only time aspect of loading language files is doing ajax. In case of
> ajax calls, that don't require any translation, all tranlation file load
> could be dropped.
> For this only case i would delay loading (only store file names and
> textdomains but not load them) in case of DOING_AJAX and introduce a
> function     require_ajax_translations()  that load by calling in Ajax case
> the translation. This would safe indeed time processing ajax calls, all
> other cases are in my opinion no subject of change.
>
> Heiko Rabe
>
>> Hi,
>>
>> I've been looking at the startup time of WordPress.
>>
>> The translation startup cost (gettext_reader->load_tables()) is
>> really, really expensive.
>>
>> Average loadtime of clean 1 post 2.7.1 startpage: 0.102s
>> Average loadtime with translation: 0.190s (+86%)
>>
>> Hmm. :)
>>
>> Solution 1: split .mo file in two by separating admin stuff from the rest
>> Solution 2: cache i10n object (in this case using APC)
>>
>> Average loadtime solution 1: 0,127s (+25%)
>> Average loadtime solution 2: 0,126s (+24%)
>> Average loadtime solution 1+2: 0,122s (+20%)
>>
>> "Solution" 3: translate all strings directly in the php files Lots of
>> trouble (with updates and so on) to get to those last 20ms. Not for
>> general consumption.
>>
>> 2 is possible to implement with a plugin by adding a filter to
>> load_textdomain(). If noone tells me its a bad idea :) I'll add a trac
>> item and see what happens.
>>
>> Splitting the mo file and handling the result can be done with a
>> plugin already. I don't however really see a reason why it isn't the
>> standard setup:
>> - it takes back much of the cost of translation
>> - it makes the i10n object ~300k smaller (for each thread/process)
>> - the split can easily be scripted
>>
>> One could argue that the default themes and the akismet plugin
>> translations should be split out too.
>>
>> What are the reasons not to do it? Has this been discussed before?
>>
>> / Johan
>> _______________________________________________
>>
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From johan.eenfeldt at gmail.com  Thu Feb 19 21:59:50 2009
From: johan.eenfeldt at gmail.com (Johan Eenfeldt)
Date: Thu Feb 19 22:00:01 2009
Subject: [wp-hackers] Fix that translated WordPress takes 86% longer to 
	start
In-Reply-To: <499DCAF2.5090005@code-styling.de>
References: <7547287e0902191247p143265fcsed89a2a744f8053c@mail.gmail.com>
	<499DCAF2.5090005@code-styling.de>
Message-ID: <7547287e0902191359j45b08ad3y7ad2e19300fc0662@mail.gmail.com>

Hi Heiko,

Thank you for commenting!

On Thu, Feb 19, 2009 at 10:11 PM, Heiko Rabe <heiko.rabe@code-styling.de> wrote:
> I think, that solution 2 and 3 are not possible, because:
>
> 2.) Most provider doesn't allow mod_php and only provide CGI based php
> processing.

Wow, really?

> In this case you have no chance to cache it as you think.

Well, I have it as a plugin (for my own usage if nothing else). As
long as you have mod_php there is some kind of shared memory available
I think.

I agree that it might not be usable for everyone. I'll only be
suggesting a filter in there so I can plug in the thing.

> 3.) very bad in multi-lingual environments. Some of my friends and i too are
> running backends with at least 3 languages simultanously.
> The languages can be switched or defined by the current user (author or
> admins) at any time. Also multi-lingual frontend blogs need
> the ability to switch easy the language. This won't be possible by hard
> replacement at php files!

I agree. I mentioned it only for completeness.

> Remaining is only your first option: split the file. But this may only
> suitable for plugins or themes, where you could separate the backend part
> (huge) from the frontend part (small).
> The WordPress language file itself will be used 99.9% in backend only, i
> don't find any advantage to split it.

The translation for wp-admin/* as well as some other stuff is not
needed for 99+% of all visits.

It is almost 2/3 of the translation strings, it is expensive, and they
can be included dynamically when needed.

That was the example I used with the numbers listed.

> If you think a plus of 90 msec is huge, please look at the timings of
> database requests of some so called premium or magazin themes, that run upto
> 400 queries to produce a page.

They should fix that! :) (or cache it or something)

Our frontpage (the most common page by far) when created takes ~0.15s
with all plugins and stuff. The translation is quite noticable in that
context.

> They are the time killer, also all of the plugins filtering the whole
> content again and again. Queries and cascaded content filter (using
> expensive regexp) will consume much more time.

Sure. "the_content" for example is extremely expensive by default.

I sent some mails about that to this list a month or so ago. The most
expensive one was actually the smilies processing (performance much
improved for 2.8 though -- plugin version for earlier versions at
http://wordpress.org/extend/plugins/faster-smilies).

But most of those can be turned of or pre-processed.

> The only time aspect of loading language files is doing ajax. In case of
> ajax calls, that don't require any translation, all tranlation file load
> could be dropped.
> For this only case i would delay loading (only store file names and
> textdomains but not load them) in case of DOING_AJAX and introduce a
> function     require_ajax_translations()  that load by calling in Ajax case
> the translation. This would safe indeed time processing ajax calls

Interesting idea, though it would require modification to any plugin
doing ajax calls that needs translation.

> all other cases are in my opinion no subject of change.

Sure there are other ways to make a site slow down. I just find it
unnecessary to add more if you do not have to.

Thank you,
Johan
From hempsworth at googlemail.com  Thu Feb 19 22:01:53 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Thu Feb 19 22:02:06 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <B6C61278-EEF8-4C33-93D4-819B4565758E@tekartist.org>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
	<db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
	<5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>
	<427667db0902190703t5a3672b5m7277da57636c30cd@mail.gmail.com>
	<B6C61278-EEF8-4C33-93D4-819B4565758E@tekartist.org>
Message-ID: <5a1dad880902191401o243ed97cgab8876dbdedd9df0@mail.gmail.com>

Stephane,
That would be great if you could write a plugin for WPMU as I'd love
to use it in my upcoming BuddyPress based site!Do
you have a website I could grab the feed from and keep an eye on the status
of your plugin?... (if you decide to make it that is!)

Cheers,
-- Alex


On Thu, Feb 19, 2009 at 3:37 PM, Stephane Daury <wordpress@tekartist.org
> wrote:
>
> No commitment on timeline, but I need to integrate sphinx in an upcoming WPMU+Buddypress project.
>
> Maybe I'll write it as a wp+wpmu plugin and just release it.
>
> We use sphinx at praized.com, so it's a "good friend of mine". ;)
>
> Stephane
>
>
>
>
> On Feb 19, 2009, at 10:03, Lynne Pope wrote:
>
>> Another +100.
>> But, I haven't tried integrating Sphinx myself (hadn't even considered it
>> actually but its a brilliant idea!)
>>
>> Lynne
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
From joost at yoast.com  Thu Feb 19 22:04:34 2009
From: joost at yoast.com (Joost de Valk)
Date: Thu Feb 19 22:05:11 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <5a1dad880902191401o243ed97cgab8876dbdedd9df0@mail.gmail.com>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
	<db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
	<5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>
	<427667db0902190703t5a3672b5m7277da57636c30cd@mail.gmail.com>
	<B6C61278-EEF8-4C33-93D4-819B4565758E@tekartist.org>
	<5a1dad880902191401o243ed97cgab8876dbdedd9df0@mail.gmail.com>
Message-ID: <922FC936-A728-47E9-87D6-9E5DD605E731@yoast.com>

Any of you willing to share the config file for the projects they've  
already done? I'd love to dive into it myself.

On Feb 19, 2009, at 11:01 PM, Alex Hempton-Smith wrote:

> Stephane,
> That would be great if you could write a plugin for WPMU as I'd love
> to use it in my upcoming BuddyPress based site!Do
> you have a website I could grab the feed from and keep an eye on the  
> status
> of your plugin?... (if you decide to make it that is!)
>
> Cheers,
> -- Alex
>
>
> On Thu, Feb 19, 2009 at 3:37 PM, Stephane Daury <wordpress@tekartist.org
>> wrote:
>>
>> No commitment on timeline, but I need to integrate sphinx in an  
>> upcoming WPMU+Buddypress project.
>>
>> Maybe I'll write it as a wp+wpmu plugin and just release it.
>>
>> We use sphinx at praized.com, so it's a "good friend of mine". ;)
>>
>> Stephane
>>
>>
>>
>>
>> On Feb 19, 2009, at 10:03, Lynne Pope wrote:
>>
>>> Another +100.
>>> But, I haven't tried integrating Sphinx myself (hadn't even  
>>> considered it
>>> actually but its a brilliant idea!)
>>>
>>> Lynne
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From scribu at gmail.com  Fri Feb 20 01:59:51 2009
From: scribu at gmail.com (scribu)
Date: Fri Feb 20 02:00:03 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <922FC936-A728-47E9-87D6-9E5DD605E731@yoast.com>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
	<db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
	<5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>
	<427667db0902190703t5a3672b5m7277da57636c30cd@mail.gmail.com>
	<B6C61278-EEF8-4C33-93D4-819B4565758E@tekartist.org>
	<5a1dad880902191401o243ed97cgab8876dbdedd9df0@mail.gmail.com>
	<922FC936-A728-47E9-87D6-9E5DD605E731@yoast.com>
Message-ID: <349fe48b0902191759s6967b548p332e0a8081666b1c@mail.gmail.com>

By the way, are there any plans on integrating Sphinx into the post search
in 2.8?

-- 
http://scribu.net
From mikeschinkel at newclarity.net  Fri Feb 20 03:44:32 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb 20 03:45:02 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
Message-ID: <EMEWEMEW2_DELIMl1ILiW5ca9dfcaad616c07f7b485,
	mikeschinkel@newclarity.net, 24843333.931235101480116.J>

I need to restate that a good part of the problem with .svn folders is a *bug*, not a personal preference.

The plugin upgrader SHOULD NEVER FAIL after deleting the existing plugin and leaving the directory in a state that the plugin installer will not install any version of the plugin.  This is a BUG. 


-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Eric Marden" <wp@xentek.net>
To: wp-hackers@lists.automattic.com
Sent: Thursday, February 19, 2009 4:04:14 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] Auto Update Plugins

For me, fixing the issue with having source control folders (.svn,  
etc) get trashed during plugin upgrade is a nice to have but not a  
priority, since I usally just do a quick remote delete and re-add the  
new plugin. Annoying but livable.

I also agree with some others that if a plugin is accepting file  
uploads it should use the same mechanisms as the media library and  
store it in wp-content/uploads (or where ever the user sets this too).  
This has the added ability of being registered in the Media Library  
(if done correctly, though docs on this are scant) and being able to  
be used outside the plugin.

Of course the other option is not use the auto-update and do it  
manually avoiding both issues all together, but it wouldn't be wp- 
hackers if we thought in terms of what we can do now, and what we want  
to beg core devs to do for us. :)

-e
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From wordpress at dd32.id.au  Fri Feb 20 04:03:22 2009
From: wordpress at dd32.id.au (DD32)
Date: Fri Feb 20 04:03:34 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <4738209155171822289@unknownmsgid>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<4738209155171822289@unknownmsgid>
Message-ID: <45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>

2009/2/20 Mike Schinkel <mikeschinkel@newclarity.net>:
> I need to restate that a good part of the problem with .svn folders is a *bug*, not a personal preference.
>
> The plugin upgrader SHOULD NEVER FAIL after deleting the existing plugin and leaving the directory in a state that the plugin installer will not install any version of the plugin.  This is a BUG.

You are completely right, Its a bug that WordPress cannot delete a
folder which is does not have write access to.

You are right, WordPress should not fail to install the new plugin if
its not correctly cleaned out the old files.

You are right, Leaving old plugin files around is the way things
should happen, Afterall, You dont want the upgrade to fail!

You are right, As always, And everything has to be the way it is in
your mind, WordPress is NOT Drupal, It is NOT your perfect
application, it is NOT a perfect application in anyones minds, But it
is indeed a great piece of Software which fufils many peoples
requirements.

I'm tired of these long threads on here going nowhere, And too often i
see you starting it, or kicking up dust, I've been on these mailing
lists for awhile now, I'm definately not the longest person on here,
Infact, I'm starting to realise why theres never any decent developer
conversations on this mailing list anymore, Let alone in the IRC dev
channel anymore, Whilst it isnt completely your fault, Its the final
straw for me, I've chosen to blanket ignore most posts on here.. but
after getting up in the morning to ~150+ messages and then ignoring
the majority because they're absolutely full of useless ranting, Its
too much.

Bye wp-hackers, Hopefully a lot of you will one day put as much effort
into creating patches for WordPress on Trac as you do talking about
how much you wish something worked your way.
From mikeschinkel at newclarity.net  Fri Feb 20 04:15:22 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb 20 04:16:12 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <b88434820902182036t6874223fu394546cc2df53284@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1IMFN13d4c3abdfe2b10f8db91f,
	mikeschinkel@newclarity.net, 30943957.1011235103333000.J>

"Matt Freedman" <speedboxer@gmail.com> wrote:
> Fixing a problem that WordPress doesn't create is not 
> something that should be in core, it's something for a 
> plugin to fix.

That's a very loaded statement as there are many things added to WordPress that fixed a problem WordPress "didn't create."

I'd actually really like to hear your justification for why this is a valid criteria?

> That link is nofollowed, so it shouldn't be an issue.

There are many other uses for links and consolidation of links than just search engine. Links are the currency of the web and being able to definitively determine that two URLs are equivalent is increasing in important with social media.  One example is services like Tinyurl and the Tweetback plugins that use them; they'd certainly like to know which URLs are equivalent.

rel="canonical" is emerging Internet infrastructure and *should* be included in every CMS app core; WordPress, Drupal, Joomla, et.al. The more sites that use it the more opportunities are enabled that require the ability to equate different URLs. WordPress should, IMO, be in the category of making postive things happen on the web whenever it's not too hard and doesn't create any significant downside for users. This is one of those cases.

> The canonical link tag and HTTP are completely different 
>  things, and can't be used for comparison. HTTP is a protocol 
> very necessary to the Internet, the canonical tag is not 
> necessary for a stock WP install with paged comments turned 
> off.

HTTP and rel="canonical" are both part of the very complex environment in which WordPress operates, the Internet. It is complete valid to use HTTP as a comparison. Your assertion is like saying you can't compare the red paint job between a car and a truck because one is a car and the other is a truck. 

> There is no reason for this tag to be useful for any case 
> that WordPress creates (again, with the exception of paged 
> comments), so this tag should not be enabled by default.

Sorry, you can't prove a negative.  Besides, there are numerous reasons that I've already mentioned (Digg, Delicious, TinyURL, my own hypothetical link collection app) where there are good reasons for this tag. 

That said, rather than continuously debate this subject can those of us currently recognize the benefit get together to discuss how to best apply this to WordPress core?  I think if we do that the others will also start to recognize those benefits we already see.

-Mike Schinkel
http://mikeschinkel.com/
From mikeschinkel at newclarity.net  Fri Feb 20 04:32:59 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb 20 04:33:18 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <18215481.1031235104086983.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1IMX055ffa6a63a73f808781841,
	mikeschinkel@newclarity.net, 9124487.1051235104389570.J>

"DD32" <wordpress@dd32.id.au> wrote:
> And too often i see you starting it, or kicking up dust, 

I didn't actually expect to be personally attacked on this list by, of all people, you.

> Bye wp-hackers, Hopefully a lot of you will one day put 
> as much effort into creating patches for WordPress on 
>  Trac as you do talking about how much you wish something 
> worked your way.

My understanding was that unless the core members agree then it's a moot point. I'm happy to create patches but won't waste my time writing code that won't be used.

-Mike Schinkel
http://mikeschinkel.com/
From wordpress at tekartist.org  Fri Feb 20 05:40:42 2009
From: wordpress at tekartist.org (Stephane Daury)
Date: Fri Feb 20 05:40:58 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <5a1dad880902191401o243ed97cgab8876dbdedd9df0@mail.gmail.com>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
	<db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
	<5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>
	<427667db0902190703t5a3672b5m7277da57636c30cd@mail.gmail.com>
	<B6C61278-EEF8-4C33-93D4-819B4565758E@tekartist.org>
	<5a1dad880902191401o243ed97cgab8876dbdedd9df0@mail.gmail.com>
Message-ID: <0CEA421E-5A14-4C9C-BACF-F20774F1C62A@tekartist.org>


Not as of yet but I'll post here if I do.

Stephane



On Feb 19, 2009, at 17:01, Alex Hempton-Smith wrote:

> Stephane,
> That would be great if you could write a plugin for WPMU as I'd love
> to use it in my upcoming BuddyPress based site!Do
> you have a website I could grab the feed from and keep an eye on the  
> status
> of your plugin?... (if you decide to make it that is!)
>
> Cheers,
> -- Alex
>
>
> On Thu, Feb 19, 2009 at 3:37 PM, Stephane Daury <wordpress@tekartist.org
>> wrote:
>>
>> No commitment on timeline, but I need to integrate sphinx in an  
>> upcoming WPMU+Buddypress project.
>>
>> Maybe I'll write it as a wp+wpmu plugin and just release it.
>>
>> We use sphinx at praized.com, so it's a "good friend of mine". ;)
>>
>> Stephane
>>
>>
>>
>>
>> On Feb 19, 2009, at 10:03, Lynne Pope wrote:
>>
>>> Another +100.
>>> But, I haven't tried integrating Sphinx myself (hadn't even  
>>> considered it
>>> actually but its a brilliant idea!)
>>>
>>> Lynne
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From viper at viper007bond.com  Fri Feb 20 08:19:46 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Fri Feb 20 08:19:58 2009
Subject: [wp-hackers] Sphinx
In-Reply-To: <349fe48b0902191759s6967b548p332e0a8081666b1c@mail.gmail.com>
References: <10986C60-3B29-4530-BD59-64BE4ABC1B6C@yoast.com>
	<db047a770902190416p3e1b85cdx3123493550ac0851@mail.gmail.com>
	<5d70d5290902190429k576c8ea2u83fed95e35aec1d@mail.gmail.com>
	<427667db0902190703t5a3672b5m7277da57636c30cd@mail.gmail.com>
	<B6C61278-EEF8-4C33-93D4-819B4565758E@tekartist.org>
	<5a1dad880902191401o243ed97cgab8876dbdedd9df0@mail.gmail.com>
	<922FC936-A728-47E9-87D6-9E5DD605E731@yoast.com>
	<349fe48b0902191759s6967b548p332e0a8081666b1c@mail.gmail.com>
Message-ID: <8f93a7390902200019q4350e1dem9a65d9c124b4cf96@mail.gmail.com>

My guess, if it were to be added, is that it'd be something for 2.9 rather
than 2.8 as that would be a rather large feature and wouldn't leave much
time for testing before release.

On Thu, Feb 19, 2009 at 5:59 PM, scribu <scribu@gmail.com> wrote:

> By the way, are there any plans on integrating Sphinx into the post search
> in 2.8?
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From viper at viper007bond.com  Fri Feb 20 12:40:21 2009
From: viper at viper007bond.com (Viper007Bond)
Date: Fri Feb 20 12:40:34 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<4738209155171822289@unknownmsgid>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
Message-ID: <8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>

I'd just like to say well said. You summed up my thoughts pretty well and
I'm going to follow suit. Tired of all this useless discussion that goes
nowhere productive/in circles and just clutters up my inbox. Cya wp-hackers.

On Thu, Feb 19, 2009 at 8:03 PM, DD32 <wordpress@dd32.id.au> wrote:

> 2009/2/20 Mike Schinkel <mikeschinkel@newclarity.net>:
> > I need to restate that a good part of the problem with .svn folders is a
> *bug*, not a personal preference.
> >
> > The plugin upgrader SHOULD NEVER FAIL after deleting the existing plugin
> and leaving the directory in a state that the plugin installer will not
> install any version of the plugin.  This is a BUG.
>
> You are completely right, Its a bug that WordPress cannot delete a
> folder which is does not have write access to.
>
> You are right, WordPress should not fail to install the new plugin if
> its not correctly cleaned out the old files.
>
> You are right, Leaving old plugin files around is the way things
> should happen, Afterall, You dont want the upgrade to fail!
>
> You are right, As always, And everything has to be the way it is in
> your mind, WordPress is NOT Drupal, It is NOT your perfect
> application, it is NOT a perfect application in anyones minds, But it
> is indeed a great piece of Software which fufils many peoples
> requirements.
>
> I'm tired of these long threads on here going nowhere, And too often i
> see you starting it, or kicking up dust, I've been on these mailing
> lists for awhile now, I'm definately not the longest person on here,
> Infact, I'm starting to realise why theres never any decent developer
> conversations on this mailing list anymore, Let alone in the IRC dev
> channel anymore, Whilst it isnt completely your fault, Its the final
> straw for me, I've chosen to blanket ignore most posts on here.. but
> after getting up in the morning to ~150+ messages and then ignoring
> the majority because they're absolutely full of useless ranting, Its
> too much.
>
> Bye wp-hackers, Hopefully a lot of you will one day put as much effort
> into creating patches for WordPress on Trac as you do talking about
> how much you wish something worked your way.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
From ionfish at gmail.com  Fri Feb 20 13:54:06 2009
From: ionfish at gmail.com (Benedict Eastaugh)
Date: Fri Feb 20 13:54:19 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<4738209155171822289@unknownmsgid>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
Message-ID: <fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>

It's unsubscribe time. See you on Trac.

2009/2/20 Viper007Bond <viper@viper007bond.com>:
> I'd just like to say well said. You summed up my thoughts pretty well and
> I'm going to follow suit. Tired of all this useless discussion that goes
> nowhere productive/in circles and just clutters up my inbox. Cya wp-hackers.
>
> On Thu, Feb 19, 2009 at 8:03 PM, DD32 <wordpress@dd32.id.au> wrote:
>
>> 2009/2/20 Mike Schinkel <mikeschinkel@newclarity.net>:
>> > I need to restate that a good part of the problem with .svn folders is a
>> *bug*, not a personal preference.
>> >
>> > The plugin upgrader SHOULD NEVER FAIL after deleting the existing plugin
>> and leaving the directory in a state that the plugin installer will not
>> install any version of the plugin.  This is a BUG.
>>
>> You are completely right, Its a bug that WordPress cannot delete a
>> folder which is does not have write access to.
>>
>> You are right, WordPress should not fail to install the new plugin if
>> its not correctly cleaned out the old files.
>>
>> You are right, Leaving old plugin files around is the way things
>> should happen, Afterall, You dont want the upgrade to fail!
>>
>> You are right, As always, And everything has to be the way it is in
>> your mind, WordPress is NOT Drupal, It is NOT your perfect
>> application, it is NOT a perfect application in anyones minds, But it
>> is indeed a great piece of Software which fufils many peoples
>> requirements.
>>
>> I'm tired of these long threads on here going nowhere, And too often i
>> see you starting it, or kicking up dust, I've been on these mailing
>> lists for awhile now, I'm definately not the longest person on here,
>> Infact, I'm starting to realise why theres never any decent developer
>> conversations on this mailing list anymore, Let alone in the IRC dev
>> channel anymore, Whilst it isnt completely your fault, Its the final
>> straw for me, I've chosen to blanket ignore most posts on here.. but
>> after getting up in the morning to ~150+ messages and then ignoring
>> the majority because they're absolutely full of useless ranting, Its
>> too much.
>>
>> Bye wp-hackers, Hopefully a lot of you will one day put as much effort
>> into creating patches for WordPress on Trac as you do talking about
>> how much you wish something worked your way.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Viper007Bond | http://www.viper007bond.com/ | http://www.finalgear.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ozh at planetozh.com  Fri Feb 20 14:31:16 2009
From: ozh at planetozh.com (Ozh)
Date: Fri Feb 20 14:31:28 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<4738209155171822289@unknownmsgid>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
Message-ID: <ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>

I've been thinking about unsubscribing a number of times over the last
couple of weeks, but I'm particularly sad that 2 of the most brilliant
and needed contributors here are eventually doing it.

<15 mn hesitation goes here>
After all no I'm not going to point my finger at anyone that would
just start *yet another* wasteful and pointless thread.

This really sucks.

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From mdmartz at sivel.net  Fri Feb 20 14:54:10 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Fri Feb 20 14:54:23 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<4738209155171822289@unknownmsgid>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
Message-ID: <518fa9630902200654h44d8d84ana767e9a5a4c7ae66@mail.gmail.com>

On Fri, Feb 20, 2009 at 9:31 AM, Ozh <ozh@planetozh.com> wrote:
> I've been thinking about unsubscribing a number of times over the last
> couple of weeks, but I'm particularly sad that 2 of the most brilliant
> and needed contributors here are eventually doing it.
>
> <15 mn hesitation goes here>
> After all no I'm not going to point my finger at anyone that would
> just start *yet another* wasteful and pointless thread.
>
> This really sucks.
>
> --
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

I agree.  I think everyone knows who the person(s) who are/is getting
fingers pointed at anyway.

-- 
Matt Martz
matt@sivel.net
From kparsell-wp at kpdesign.net  Fri Feb 20 15:00:05 2009
From: kparsell-wp at kpdesign.net (Kim Parsell)
Date: Fri Feb 20 15:00:23 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>	<4738209155171822289@unknownmsgid>	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
Message-ID: <499EC575.8010703@kpdesign.net>

+100. I'm also sad to see them leave this list.

I subscribed to this list, in part, to learn more about WordPress than 
what is available via the Codex. There are a lot of great people on this 
list who contribute a wealth of knowledge for free that help folks like 
me without even knowing it.

I'm not a major contributor here. In fact, I've very rarely participated 
in a discussion, but I appreciate having the opportunity to learn from 
some of best and brightest in the WordPress community.

My only hope is that this list can get back (somehow) to being what it 
was when I joined.

Just my 3 cents worth...

Kim

---------------------------

Ozh wrote:
> I've been thinking about unsubscribing a number of times over the last
> couple of weeks, but I'm particularly sad that 2 of the most brilliant
> and needed contributors here are eventually doing it.
>
> <15 mn hesitation goes here>
> After all no I'm not going to point my finger at anyone that would
> just start *yet another* wasteful and pointless thread.
>
> This really sucks.
>   
From scribu at gmail.com  Fri Feb 20 16:15:03 2009
From: scribu at gmail.com (scribu)
Date: Fri Feb 20 16:15:15 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <499EC575.8010703@kpdesign.net>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<4738209155171822289@unknownmsgid>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
Message-ID: <349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>

How about if we ban all discussion that go like "We should add this to
core"?

There is the Ideas section on WP.org for that.

On Fri, Feb 20, 2009 at 5:00 PM, Kim Parsell <kparsell-wp@kpdesign.net>wrote:

> +100. I'm also sad to see them leave this list.
>
> I subscribed to this list, in part, to learn more about WordPress than what
> is available via the Codex. There are a lot of great people on this list who
> contribute a wealth of knowledge for free that help folks like me without
> even knowing it.
>
> I'm not a major contributor here. In fact, I've very rarely participated in
> a discussion, but I appreciate having the opportunity to learn from some of
> best and brightest in the WordPress community.
>
> My only hope is that this list can get back (somehow) to being what it was
> when I joined.
>
> Just my 3 cents worth...
>
> Kim
>
> ---------------------------
>
> Ozh wrote:
>
>> I've been thinking about unsubscribing a number of times over the last
>> couple of weeks, but I'm particularly sad that 2 of the most brilliant
>> and needed contributors here are eventually doing it.
>>
>> <15 mn hesitation goes here>
>> After all no I'm not going to point my finger at anyone that would
>> just start *yet another* wasteful and pointless thread.
>>
>> This really sucks.
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From wp-hackers at itsananderson.com  Fri Feb 20 16:20:01 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Fri Feb 20 16:20:11 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<4738209155171822289@unknownmsgid>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
Message-ID: <6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>

Maybe it would help if someone changed the wp-hackers description in the
Codex <http://codex.wordpress.org/Mailing_Lists> as well.The description
actually does seem to indicate that discussions about what should be added
to core belong in wp-hackers.
Maybe it just needs to be worded differently.

On Fri, Feb 20, 2009 at 11:15 AM, scribu <scribu@gmail.com> wrote:

> How about if we ban all discussion that go like "We should add this to
> core"?
>
> There is the Ideas section on WP.org for that.
>
> On Fri, Feb 20, 2009 at 5:00 PM, Kim Parsell <kparsell-wp@kpdesign.net
> >wrote:
>
> > +100. I'm also sad to see them leave this list.
> >
> > I subscribed to this list, in part, to learn more about WordPress than
> what
> > is available via the Codex. There are a lot of great people on this list
> who
> > contribute a wealth of knowledge for free that help folks like me without
> > even knowing it.
> >
> > I'm not a major contributor here. In fact, I've very rarely participated
> in
> > a discussion, but I appreciate having the opportunity to learn from some
> of
> > best and brightest in the WordPress community.
> >
> > My only hope is that this list can get back (somehow) to being what it
> was
> > when I joined.
> >
> > Just my 3 cents worth...
> >
> > Kim
> >
> > ---------------------------
> >
> > Ozh wrote:
> >
> >> I've been thinking about unsubscribing a number of times over the last
> >> couple of weeks, but I'm particularly sad that 2 of the most brilliant
> >> and needed contributors here are eventually doing it.
> >>
> >> <15 mn hesitation goes here>
> >> After all no I'm not going to point my finger at anyone that would
> >> just start *yet another* wasteful and pointless thread.
> >>
> >> This really sucks.
> >>
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Will Anderson
http://www.itsananderson.com/
From hempsworth at googlemail.com  Fri Feb 20 16:37:40 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Fri Feb 20 16:37:55 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<4738209155171822289@unknownmsgid>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
Message-ID: <5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>

>From a personal stand-point I completely agree that 'this should be added to
core' discussions should be kept out of wp-hackers. However, I'm also guilty
of using this list as a way of communicating my thoughts on core additions.
This is for a few reasons:
1) I rather the mailing list format over forums or the Ideas area
2) In my limited time in the ideas section I never saw such skilful and
thoughtful debate over feature additions and their implications as I have
experienced here.
3) Core devs seem to appear on this list far more than on Ideas or the
forums.

On the whole discussion on wp-hackers is far, far better and more thought
out that in other mediums.

I would like to propose we have a mailing list set up for those kind of
discussions. I'm sure many members of wp-hackers are happy to talk about
core additions, and it would be nice to think core devs read those threads
to see what is really wanted/needed 'straight from the horses mouth' as it
were.

And those not interested in core additions etc don't have to subscribe.
Because it would be really sad to lose the great input we get from some of
these guys who are talking about leaving.

-- Alex


On Fri, Feb 20, 2009 at 4:20 PM, Will Anderson <wp-hackers@itsananderson.com
> wrote:

> Maybe it would help if someone changed the wp-hackers description in the
> Codex <http://codex.wordpress.org/Mailing_Lists> as well.The description
> actually does seem to indicate that discussions about what should be added
> to core belong in wp-hackers.
> Maybe it just needs to be worded differently.
>
> On Fri, Feb 20, 2009 at 11:15 AM, scribu <scribu@gmail.com> wrote:
>
> > How about if we ban all discussion that go like "We should add this to
> > core"?
> >
> > There is the Ideas section on WP.org for that.
> >
> > On Fri, Feb 20, 2009 at 5:00 PM, Kim Parsell <kparsell-wp@kpdesign.net
> > >wrote:
> >
> > > +100. I'm also sad to see them leave this list.
> > >
> > > I subscribed to this list, in part, to learn more about WordPress than
> > what
> > > is available via the Codex. There are a lot of great people on this
> list
> > who
> > > contribute a wealth of knowledge for free that help folks like me
> without
> > > even knowing it.
> > >
> > > I'm not a major contributor here. In fact, I've very rarely
> participated
> > in
> > > a discussion, but I appreciate having the opportunity to learn from
> some
> > of
> > > best and brightest in the WordPress community.
> > >
> > > My only hope is that this list can get back (somehow) to being what it
> > was
> > > when I joined.
> > >
> > > Just my 3 cents worth...
> > >
> > > Kim
> > >
> > > ---------------------------
> > >
> > > Ozh wrote:
> > >
> > >> I've been thinking about unsubscribing a number of times over the last
> > >> couple of weeks, but I'm particularly sad that 2 of the most brilliant
> > >> and needed contributors here are eventually doing it.
> > >>
> > >> <15 mn hesitation goes here>
> > >> After all no I'm not going to point my finger at anyone that would
> > >> just start *yet another* wasteful and pointless thread.
> > >>
> > >> This really sucks.
> > >>
> > >>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers@lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> >
> >
> >
> > --
> > http://scribu.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Will Anderson
> http://www.itsananderson.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ozh at planetozh.com  Fri Feb 20 16:54:46 2009
From: ozh at planetozh.com (Ozh)
Date: Fri Feb 20 16:54:59 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<4738209155171822289@unknownmsgid>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
Message-ID: <ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>

On Fri, Feb 20, 2009 at 5:37 PM, Alex Hempton-Smith
<hempsworth@googlemail.com> wrote:
> I would like to propose we have a mailing list set up for those kind of
> discussions. I'm sure many members of wp-hackers are happy to talk about
> core additions, and it would be nice to think core devs read those threads
> to see what is really wanted/needed 'straight from the horses mouth' as it
> were.

For what it's worth, I don't think we need another list (more
accurately: I think we do not need another list). We just need that
people stop tossing more or less unrealistic ideas but never do
something productive about it.

"This should be in core" belongs to extend/ideas
"This should be in core and here's a code idea/patch/snippet about it"
might belong to here, but I've rarely seen any.

My 2 cents.

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From regulatethis at gmail.com  Fri Feb 20 17:13:49 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Fri Feb 20 17:14:02 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
Message-ID: <39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>

My 2 cents worth as someone who contributes very lightly... I've
contributed several bug patches (that did make it in) and a couple of
other patches that I did work hard on but were decided against
unfortunately.

I've always found this list very strange, because it seems like
there's VERY little input from committers, or people who do any sort
of steering for the project. I always assumed that people who actually
make the decisions have some other secret discussion area, because 95%
of what gets discussed here makes no difference and I rarely see any
concrete decisions being made. I find it it frustrating because on the
one hand I want to to contribute, but on the other hand I don't want
to continue doing work that will be ignored. So in that respect I can
see why people want to secure some sort of "approval" on an idea
before starting to do all the work, especially for the bigger jobs.

Having said that, if a feature is important enough for you, then
there's really nothing stopping you from going ahead and doing it, and
it would make discussions on this list much more interesting. It's
harder to apply that when the change is something that would benefit
the community at large rather than just one person's blog, but I guess
you just need to dive into it anyway.

The bottom line for me though is that I've always thought discussion
on this list was lacking, and that there is a major disconnect between
the core team and the MANY people who contribute time and effort to
the Wordpress project and that can't be good for anyone. Maybe I just
subscribed to the wrong list though?

Daniel

On Fri, Feb 20, 2009 at 11:54 AM, Ozh <ozh@planetozh.com> wrote:
> On Fri, Feb 20, 2009 at 5:37 PM, Alex Hempton-Smith
> <hempsworth@googlemail.com> wrote:
>> I would like to propose we have a mailing list set up for those kind of
>> discussions. I'm sure many members of wp-hackers are happy to talk about
>> core additions, and it would be nice to think core devs read those threads
>> to see what is really wanted/needed 'straight from the horses mouth' as it
>> were.
>
> For what it's worth, I don't think we need another list (more
> accurately: I think we do not need another list). We just need that
> people stop tossing more or less unrealistic ideas but never do
> something productive about it.
>
> "This should be in core" belongs to extend/ideas
> "This should be in core and here's a code idea/patch/snippet about it"
> might belong to here, but I've rarely seen any.
>
> My 2 cents.
>
> --
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From justmichaelh at gmail.com  Fri Feb 20 18:16:49 2009
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Fri Feb 20 18:16:59 2009
Subject: [wp-hackers] Auto Update Plugins
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net><4738209155171822289@unknownmsgid><45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com><8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com><fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com><ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com><499EC575.8010703@kpdesign.net><349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com><6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com><5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
Message-ID: <511d01c99387$67b82840$6701a8c0@dell8600>

From: "Ozh"
> For what it's worth, I don't think we need another list

Agreed--and the same problems would be seen on another list.

Since this mailing list has no moderator, and I'm not suggesting such 
either, maybe trolls and noise-generators need to be contacted off-list to 
ask them to tone it down.  If done in a responsible manner that might get 
some results.

If you've followed this list over the years, there's been a number of 
personalities exit because of signal-to-noise ratio.  I've mourned the loss 
of good participants in the past, but understand their frustration.

Many devs, including most committer capable devs, follow this list, and 
participate.  Since this list is somewhat of a barometer of the plugin 
community, I would like to think ANY dev involved with WordPress would at 
least follow this list, even if they don't participate.

Just now, Daniel Torreblanca, in another post to this thread, wondered if he 
joined the wrong list.  I don't think he has joined the wrong list!  This is 
the only wordpress.ORG supported list that delves into a broad range of the 
technical details of WordPress.  Let's not ruin it now.

So without blathering endlessly, let me thank dd32 and Viper for their 
contributions to this list.  You've been amazing!  To the other great 
contributors, thank you.  You do the community proud, and no price can be 
put on the value of what you provide the rest of us.

MichaelH 

From mwalters8 at gmail.com  Fri Feb 20 18:22:37 2009
From: mwalters8 at gmail.com (Matt Walters)
Date: Fri Feb 20 18:22:47 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <511d01c99387$67b82840$6701a8c0@dell8600>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
	<511d01c99387$67b82840$6701a8c0@dell8600>
Message-ID: <5dbff0c70902201022q4c268ee6k7d2c42205c313795@mail.gmail.com>

On Fri, Feb 20, 2009 at 1:16 PM, Michael E. Hancock
<justmichaelh@gmail.com> wrote:
> maybe trolls and noise-generators need to be contacted off-list to
> ask them to tone it down.  If done in a responsible manner that might get
> some results.

Don't know that it would happen, but if someone is actually causing a
problem or upsetting you (not you specifically Michael) in some way,
just ignore them would be my suggestion.  If they're trolling and you
don't give them attention, they'll eventually move on.
From steagl4ml at gmail.com  Fri Feb 20 18:41:12 2009
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Fri Feb 20 18:41:26 2009
Subject: [wp-hackers] Auto Update Plugins
References: <fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com><ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com><499EC575.8010703@kpdesign.net><349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com><6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com><5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
	<511d01c99387$67b82840$6701a8c0@dell8600>
Message-ID: <65utp49ll2tb773h9scohco5etokh57u1t@4ax.com>

On Fri, 20 Feb 2009 13:16:49 -0500, "Michael E. Hancock"
<justmichaelh@gmail.com> wrote:

>So without blathering endlessly, let me thank dd32 and Viper for their 
>contributions to this list.  You've been amazing!  To the other great 
>contributors, thank you.  You do the community proud, and no price can be 
>put on the value of what you provide the rest of us.

+100... i thnak that guys too they were really supportivre and they
post were always helping when there were seriously tech question.

I Invite all people of the list to help not make this list die, how?
Just ignoring and not arguing too much with people that arrive here
with idea that are for Ideas section in wp.org. Keeping the noise low
will make unusefull thread to selfdie and annoying people leave early.

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it (personal blog)
       http://www.wordpress-it.it (WordPress Italia)
From chris at clwill.com  Fri Feb 20 20:22:43 2009
From: chris at clwill.com (Chris Williams)
Date: Fri Feb 20 20:23:09 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <65utp49ll2tb773h9scohco5etokh57u1t@4ax.com>
Message-ID: <C5C45113.42AF8%chris@clwill.com>

I'm sorry if I caused some of the problem.  I was simply trying to offer a
relatively simple solution to a problem that I see with my plugins.

I certainly would hate to see this list atrophy and/or die.  I have been
largely a lurker but read it consistently and it has been an invaluable
resource for me in developing plugins, themes and sites using WP.

If I said/did something that caused this exodus, I'm deeply sorry.
Chris


> From: Stefano Aglietti <steagl4ml@gmail.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Fri, 20 Feb 2009 19:41:12 +0100
> To: <wp-hackers@lists.automattic.com>
> Subject: Re: [wp-hackers] Auto Update Plugins
> 
> On Fri, 20 Feb 2009 13:16:49 -0500, "Michael E. Hancock"
> <justmichaelh@gmail.com> wrote:
> 
>> So without blathering endlessly, let me thank dd32 and Viper for their
>> contributions to this list.  You've been amazing!  To the other great
>> contributors, thank you.  You do the community proud, and no price can be
>> put on the value of what you provide the rest of us.
> 
> +100... i thnak that guys too they were really supportivre and they
> post were always helping when there were seriously tech question.
> 
> I Invite all people of the list to help not make this list die, how?
> Just ignoring and not arguing too much with people that arrive here
> with idea that are for Ideas section in wp.org. Keeping the noise low
> will make unusefull thread to selfdie and annoying people leave early.
> 
> -- 
> 
> Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
> Email: steve@40annibuttati.it steagl@people.it
> Sites: http://www.40annibuttati.it (personal blog)
>        http://www.wordpress-it.it (WordPress Italia)
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From duanestorey at gmail.com  Fri Feb 20 20:46:37 2009
From: duanestorey at gmail.com (Duane Storey)
Date: Fri Feb 20 20:47:01 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <C5C45113.42AF8%chris@clwill.com>
References: <65utp49ll2tb773h9scohco5etokh57u1t@4ax.com>
	<C5C45113.42AF8%chris@clwill.com>
Message-ID: <53d535500902201246h2614050em610b1f1c82f1bc0d@mail.gmail.com>

Well, I started this thread, and obviously don't want to see this list go
away.  But it's clear from all these answers (and thanks to everyone who
presented ideas -- all of which will probably solve the problem) that this
discussion just ended up going in circles.  I agree with what someone else
said -- unless someone from WordPress or someone authoritative chimes in and
helps, most of these discussions will ultimately rat hole I think.

On 2/20/09, Chris Williams <chris@clwill.com> wrote:
>
> I'm sorry if I caused some of the problem.  I was simply trying to offer a
> relatively simple solution to a problem that I see with my plugins.
>
> I certainly would hate to see this list atrophy and/or die.  I have been
> largely a lurker but read it consistently and it has been an invaluable
> resource for me in developing plugins, themes and sites using WP.
>
> If I said/did something that caused this exodus, I'm deeply sorry.
> Chris
>
>
> > From: Stefano Aglietti <steagl4ml@gmail.com>
> > Reply-To: <wp-hackers@lists.automattic.com>
> > Date: Fri, 20 Feb 2009 19:41:12 +0100
> > To: <wp-hackers@lists.automattic.com>
>
> > Subject: Re: [wp-hackers] Auto Update Plugins
> >
>
> > On Fri, 20 Feb 2009 13:16:49 -0500, "Michael E. Hancock"
> > <justmichaelh@gmail.com> wrote:
> >
> >> So without blathering endlessly, let me thank dd32 and Viper for their
> >> contributions to this list.  You've been amazing!  To the other great
> >> contributors, thank you.  You do the community proud, and no price can
> be
> >> put on the value of what you provide the rest of us.
> >
> > +100... i thnak that guys too they were really supportivre and they
> > post were always helping when there were seriously tech question.
> >
> > I Invite all people of the list to help not make this list die, how?
> > Just ignoring and not arguing too much with people that arrive here
> > with idea that are for Ideas section in wp.org. Keeping the noise low
> > will make unusefull thread to selfdie and annoying people leave early.
> >
> > --
> >
> > Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
> > Email: steve@40annibuttati.it steagl@people.it
> > Sites: http://www.40annibuttati.it (personal blog)
> >        http://www.wordpress-it.it (WordPress Italia)
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From dave at stilldesigning.com  Fri Feb 20 21:47:25 2009
From: dave at stilldesigning.com (David Still)
Date: Fri Feb 20 21:47:36 2009
Subject: [wp-hackers] New themed login patch available -- 2.7.1 compatible
Message-ID: <9a0bada00902201347n6056dcf1p91d6bc835487038d@mail.gmail.com>

About a year ago, I wrote a patch to address the TRAC issue 4478
(http://core.trac.wordpress.org/ticket/4478).  It was compatible with
2.5.1 (and apparently 2.6, although I didn't try this myself).  I
recently updated my WordPress installations to 2.7.1, and found myself
needing to update the patch.  The updated patch can found attached to
the TRAC issue linked above, and you can read all about it on my blog
at http://stilldesigning.com/2009/02/19/wordpress-custom-themed-login-gets-an-update/
.

Previous feedback on the plugin was that a more extensive patch was
desired, but given my personal time constraints and a desire for
simplicity, I went in a different direction and created a simpler
patch.  The current wp-login.php page builds a login / registration
page in two parts: Header + Form.  The Form calls the login_header()
function, passing any error messages and page titles to the function.
The Form also adds the closing page tags (</body></html>).

This patch breaks up the Header function into two parts,
login_header() and login_error(), and adds a new function,
login_footer().  This changes the basic structure of the login page
from this:

--------------------
|      Header      |
|      (error)     |
--------------------
|       Form       |
|     (footer)     |
--------------------

To this:

--------------------
|      Header      |
--------------------
|      (error)     |
|       Form       |
--------------------
|      Footer      |
--------------------

I then added a function to the top of wp-login.php to check for the
existence of a login.php in the current Theme.  If present, it loads
login.php, which should contain custom login_header and login_footer
functions, with login_header calling login_header_error to display any
error messaging.  If login.php is not present, the default functions
are used.  The result is a login / registration page that is entirely
customizable without losing any of the form functionality.  It is
compatible with all existing themes, as a login.php template is not
required.

As always, feedback is welcome.

- Dave
From wp-hackers at striderweb.com  Fri Feb 20 22:20:59 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri Feb 20 22:21:29 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
	<39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>
Message-ID: <41A13C1B-4890-4918-B72F-203918617759@striderweb.com>

On Feb 20, 2009, at 11:13 AM, Daniel Torreblanca wrote:

> My 2 cents worth as someone who contributes very lightly... I've
> contributed several bug patches (that did make it in) and a couple of
> other patches that I did work hard on but were decided against
> unfortunately.
>
> [...] I find it it frustrating because on the
> one hand I want to to contribute, but on the other hand I don't want
> to continue doing work that will be ignored. So in that respect I can
> see why people want to secure some sort of "approval" on an idea
> before starting to do all the work, especially for the bigger jobs.

I think this hits the nail on the head.

There is very little "voice of authority" on this list, and sometimes  
that's what is needed.  I entirely sympathize with people wanting  
"approval" of an idea before they submit a patch for it -- who wants  
to spend hours honing code to fix some hairy problem, just to have the  
"silent authority" ignore it?

Telling people that submitting a patch on Trac is the way to **raise  
the issue** is putting the cart before the horse.  My mechanic doesn't  
put new tires on my car and then as me if I want them.

I've submitted some patches in my time.  One of them was literally  
committed within an hour or so, having been essentially pre-approved  
(I brought it up on this list, and was told "good idea -- do a  
patch").  The others have been largely ignored.  Well of course I want  
to come here first and get some sign that someone with the authority  
to approve such things likes the idea -- otherwise I'm just spinning  
my wheels.

I'm sorry to see Dion and Viper go.  If I was a part of that decision,  
I'm all the more sorry.  Perhaps I misunderstand the point of this  
list -- I thought it was a place to discuss code, a place to bring up  
problems and discuss possible solutions, and a place that, in part,  
determines the future course of WordPress core.

I spend a lot of my free time working on various plugins and patches,  
and making sure that they're as good as I can possibly make them --  
and I have very little to show for all that beyond a (now fleeting)  
sense that what I'm doing is appreciated.  Am I the one who should be  
leaving?

Sincerely,

-- 
Stephen Rider
http://striderweb.com/
From peter.westwood at ftwr.co.uk  Fri Feb 20 22:31:35 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri Feb 20 22:32:41 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <41A13C1B-4890-4918-B72F-203918617759@striderweb.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
	<39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>
	<41A13C1B-4890-4918-B72F-203918617759@striderweb.com>
Message-ID: <DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>

Hi All,

I wanted to change the subject of this thread to better reflect the  
current discussion.

I think what this mailing list needs to do is to try and follow the  
follow list of ideals (intentionally not complete):

  * Focus on the technical aspects in the discussion.
  * Think about the users - not just what you think is right - It is  
very hard for a developer to understand the end-users viewpoint.
  * Address real world problems
  * Provide examples - if there is something you think you can't do  
shows us what you have tried to do, shows the plugin/core code you  
have written that you can't get to work.
  * Try to avoid arriving with a just a solution.  You need to be able  
to express the end-user issue as well as the reasoning as to why the  
solution you propose matches it best.
  * Work with the project philosophy not against it
  * Release early, release often - If you have an idea that you think  
is core worthy raise a trac ticket write a simple patch which  
demonstrates the solution
  * Avoid bikesheding

You friendly core committer, patches always welcome.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From mikeschinkel at newclarity.net  Sat Feb 21 00:47:29 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Feb 21 00:47:54 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <607116.1791235176974985.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1JIlYd7ae7bbbea789329c883ec,
	mikeschinkel@newclarity.net, 27502408.1811235177261747.J>

Peter:

Your list is very helpful but can I please ask for clarification on this point?

  * Work with the project philosophy not against it

What is this project's philosophy and are there recent examples of going against it?  I ask merely so I can understand and avoid...

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Peter Westwood" <peter.westwood@ftwr.co.uk>
To: wp-hackers@lists.automattic.com
Sent: Friday, February 20, 2009 5:31:35 PM GMT -05:00 US/Canada Eastern
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)

Hi All,

I wanted to change the subject of this thread to better reflect the  
current discussion.

I think what this mailing list needs to do is to try and follow the  
follow list of ideals (intentionally not complete):

  * Focus on the technical aspects in the discussion.
  * Think about the users - not just what you think is right - It is  
very hard for a developer to understand the end-users viewpoint.
  * Address real world problems
  * Provide examples - if there is something you think you can't do  
shows us what you have tried to do, shows the plugin/core code you  
have written that you can't get to work.
  * Try to avoid arriving with a just a solution.  You need to be able  
to express the end-user issue as well as the reasoning as to why the  
solution you propose matches it best.
  * Work with the project philosophy not against it
  * Release early, release often - If you have an idea that you think  
is core worthy raise a trac ticket write a simple patch which  
demonstrates the solution
  * Avoid bikesheding

You friendly core committer, patches always welcome.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From speedboxer at gmail.com  Sat Feb 21 01:44:05 2009
From: speedboxer at gmail.com (Matt Freedman)
Date: Sat Feb 21 01:44:17 2009
Subject: [wp-hackers] Canonical integration into core
In-Reply-To: <2210358351826731848@unknownmsgid>
References: <b88434820902182036t6874223fu394546cc2df53284@mail.gmail.com>
	<2210358351826731848@unknownmsgid>
Message-ID: <b88434820902201744k6cbd4158m3f6320863e2365c8@mail.gmail.com>

On Thu, Feb 19, 2009 at 8:15 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> rel="canonical" is emerging Internet infrastructure and *should* be included in every CMS app core; WordPress, Drupal, Joomla, et.al. The more sites that use it the more opportunities are enabled that require the ability to equate different URLs. WordPress should, IMO, be in the category of making postive things happen on the web whenever it's not too hard and doesn't create any significant downside for users. This is one of those cases.

Because you want something to go mainstream (for purposes that this
tag was not created for, no less) is not a reason why this should be
placed on every WordPress site. Besides, the majority of the time and
the way this tag is being suggested on being implemented, this tag is
going to be pointing to the current URL, which isn't helpful at all.
There should at least be a check to see if the requested URL is
already the correct one, before adding this tag.


-- 
Matt Freedman
Blog: http://mattsblog.ca/
Twitter: http://twitter.com/mattfreedman
From mikeschinkel at newclarity.net  Sat Feb 21 06:41:06 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Feb 21 06:41:23 2009
Subject: [wp-hackers] Recommended Themes & Plugins for a Workshop?
In-Reply-To: <5167755.2191235196646438.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1K0f6c5cb1dc61e1c2b3859532e,
	mikeschinkel@newclarity.net, 9249819.141235198478476.J>


Hi all: 


As one of my efforts to contribute to the WordPress community I will on Monday be delivering a 3.5 hour WordPress Workshop[1] for 40 local entrepreneurs for the February meeting of a Meetup group[1] I organize. I will also thankfully be joined by almost 20 other local people with various skills to help out and ensure the workshop is a success. 

Tomorrow (Saturday) I will be spending the day preparing the workshop guide/handouts with the help of some of those 20 people. My plan is to give the attendees a selection of ~5 available themes to choose from, and have them install and configure ~10 plugins. Though I have some ideas for which themes and plugins to choose from I was wondering if any of you have suggestions regarding great starter themes and/or your top 10 plugins for new users of installed WordPress. 

Thanks in advance if you can help. I'm assuming this is an appropriate question for this list however if it is not I apologize in advance 

-Mike Schinkel 
http://mikeschinkel.com/ 

P.S. If anyone is a/knows of any commercial theme or plugin vendors who would be interested in allowing us to offer their themes during the workshop with the caveat that any workshop participant that selects one of them will agree on the honor system to buy it after the workshop I'd be happy to present your/their themes during the workshop. 

[1] http://www.meetup.com/atlantawebentrepreneurs/calendar/9711037/ 
[2] http://www.meetup.com/atlantawebentrepreneurs/ 


From talkout at gmail.com  Sat Feb 21 06:57:57 2009
From: talkout at gmail.com (The TalkOut Trojans!)
Date: Sat Feb 21 06:58:09 2009
Subject: [wp-hackers] Recommended Themes & Plugins for a Workshop?
In-Reply-To: <-811310664439904998@unknownmsgid>
References: <5167755.2191235196646438.JavaMail.DELL-1405$@Dell-1405>
	<-811310664439904998@unknownmsgid>
Message-ID: <7559d6930902202257h29ab753fod220aee32fd5f640@mail.gmail.com>

Hi Mike,

I'm not much into themes, but I use the following plugins in most of my
blogs. This is my personal list, hope some of these can be useful for your
purpose also.

   1. Akismet - Spam blocking with Akismet web service.
   2. HeadSpace2 - Search Engine Optimization.
   3. WordPress.com Stats - Stats by plugging into WordPress.com's stat
   system.
   4. Google XML Sitemaps -Create a Google sitemaps compliant XML-Sitemap.
   5. Google Analyticator - Adds the necessary JavaScript code to enable
   Google Analytics.
   6. Add to Any Share/Save/Bookmark Button.
   7. NextGEN Gallery - Image Gallery.
   8. Event Calendar 3 - Manage future events as an online calendar.
   9. Maintenance Mode - Adds a splash page to blog when down for
   maintenance.
   10. WP-PageNavi - Adds a more advanced paging navigation.

--
TalkOut

On Sat, Feb 21, 2009 at 12:11 PM, Mike Schinkel <mikeschinkel@newclarity.net
> wrote:

>
> Hi all:
>
>
> As one of my efforts to contribute to the WordPress community I will on
> Monday be delivering a 3.5 hour WordPress Workshop[1] for 40 local
> entrepreneurs for the February meeting of a Meetup group[1] I organize. I
> will also thankfully be joined by almost 20 other local people with various
> skills to help out and ensure the workshop is a success.
>
> Tomorrow (Saturday) I will be spending the day preparing the workshop
> guide/handouts with the help of some of those 20 people. My plan is to give
> the attendees a selection of ~5 available themes to choose from, and have
> them install and configure ~10 plugins. Though I have some ideas for which
> themes and plugins to choose from I was wondering if any of you have
> suggestions regarding great starter themes and/or your top 10 plugins for
> new users of installed WordPress.
>
> Thanks in advance if you can help. I'm assuming this is an appropriate
> question for this list however if it is not I apologize in advance
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> P.S. If anyone is a/knows of any commercial theme or plugin vendors who
> would be interested in allowing us to offer their themes during the workshop
> with the caveat that any workshop participant that selects one of them will
> agree on the honor system to buy it after the workshop I'd be happy to
> present your/their themes during the workshop.
>
> [1] http://www.meetup.com/atlantawebentrepreneurs/calendar/9711037/
> [2] http://www.meetup.com/atlantawebentrepreneurs/
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ryanmccue at cubegames.net  Sat Feb 21 08:43:31 2009
From: ryanmccue at cubegames.net (Ryan McCue)
Date: Sat Feb 21 08:45:07 2009
Subject: [wp-hackers] Recommended Themes & Plugins for a Workshop?
In-Reply-To: <EMEWEMEW2_DELIMl1K0f6c5cb1dc61e1c2b3859532e,
	mikeschinkel@newclarity.net, 9249819.141235198478476.J>
References: <EMEWEMEW2_DELIMl1K0f6c5cb1dc61e1c2b3859532e,
	mikeschinkel@newclarity.net, 9249819.141235198478476.J>
Message-ID: <499FBEB3.6090205@cubegames.net>

Mike Schinkel wrote:
> Thanks in advance if you can help. I'm assuming this is an appropriate question for this list however if it is not I apologize in advance 
>   

Considering the previous discussion, I'd say it's not, personally.

-- 
Ryan McCue
<http://cubegames.net/>

From ozh at planetozh.com  Sat Feb 21 10:13:34 2009
From: ozh at planetozh.com (Ozh)
Date: Sat Feb 21 10:13:47 2009
Subject: [wp-hackers] Recommended Themes & Plugins for a Workshop?
In-Reply-To: <499FBEB3.6090205@cubegames.net>
References: <499FBEB3.6090205@cubegames.net>
Message-ID: <ae81acd10902210213s4b37835dlc6a3c5c6accce5a@mail.gmail.com>

I'd personally say it is appropriate because even if it's not about
hacking it's about doing stuff for the community. I guess we can't
have 0% noise on this list, since one's signal can be another's noise,
or something like this. But again this is just my pov, feel free to
yell "INAPPROPRIATE!!!1" at me :)

Anyway, as for Mike's question, I would show one plugin per topic that
would show users how extensible WP can be, such as:
- SEO (don't like them, pick one, probably All In Pack or whatever its name is)
- Stats (WordPress.com Stats)
- Images / Gallery integration
- Anti spam (Akismet)
- Contact Form
- Social stuff (Share this or alikes)
- Admin area extensions (I'd toot my own Admin Drop Down Menu of
course, or anything that brings a cosmetic change)
- Performance (a caching plugin)
- Tags management
- Feeds (my own Better Feed, or Feedsmith, anything that could lead to
a "what's feed and what for" discussion)

Cheers

Ozh

On Sat, Feb 21, 2009 at 9:43 AM, Ryan McCue <ryanmccue@cubegames.net> wrote:
> Mike Schinkel wrote:
>> Thanks in advance if you can help. I'm assuming this is an appropriate question for this list however if it is not I apologize in advance
>>
>
> Considering the previous discussion, I'd say it's not, personally.
>
> --
> Ryan McCue
> <http://cubegames.net/>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From zamoose at gmail.com  Sat Feb 21 12:56:11 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Sat Feb 21 12:56:18 2009
Subject: [wp-hackers] Recommended Themes & Plugins for a Workshop?
In-Reply-To: <ae81acd10902210213s4b37835dlc6a3c5c6accce5a@mail.gmail.com>
References: <499FBEB3.6090205@cubegames.net>
	<ae81acd10902210213s4b37835dlc6a3c5c6accce5a@mail.gmail.com>
Message-ID: <71ddd7490902210456ja103786l485f02b9a97cb2db@mail.gmail.com>

Thematic is a great theme for demonstrating 1) a framework 2) flexiblity 3)
configuratbility.  Carrington is also
-- 
-Doug
From zamoose at gmail.com  Sat Feb 21 13:00:08 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Sat Feb 21 13:00:25 2009
Subject: [wp-hackers] Recommended Themes & Plugins for a Workshop?
In-Reply-To: <71ddd7490902210456ja103786l485f02b9a97cb2db@mail.gmail.com>
References: <499FBEB3.6090205@cubegames.net>
	<ae81acd10902210213s4b37835dlc6a3c5c6accce5a@mail.gmail.com>
	<71ddd7490902210456ja103786l485f02b9a97cb2db@mail.gmail.com>
Message-ID: <71ddd7490902210500s67e590c6u1d4d9bcee0b7addc@mail.gmail.com>

On Sat, Feb 21, 2009 at 7:56 AM, Doug Stewart <zamoose@gmail.com> wrote:

> Thematic is a great theme for demonstrating 1) a framework 2) flexiblity 3)
> configuratbility.  Carrington is also
> --
> -Doug
>
>
>
Crud, GMail sent before I was done typing for some reason.  I was saying
Carrington is also quite good for a framework.

I might show them the functions.php behind them and talk about what
advantages it offers to theme developers and users.  And, you could always
crib from my (now-slightly-outdated-and-in-need-of-a-new-version) quick
tutorial for theme developers:
http://literalbarrage.org/blog/archives/2007/05/03/a-theme-tip-for-wordpress-theme-authors/

(They've gone very far beyond what I offered, but I know that Adii, now of
WooThemes fame, used my framework [which used The Undersigned to start with]
as the basis for some of his earlier themes' options pages/functions.php and
some of which has carried forward into their current slate of offerings.)


-- 
-Doug
From newsletter at scytheman.net  Sat Feb 21 13:25:01 2009
From: newsletter at scytheman.net (Sebastian Herp)
Date: Sat Feb 21 13:25:21 2009
Subject: [wp-hackers] Reporting WordPress exploits?
In-Reply-To: <003a01c987b2$1276e500$3764af00$@com>
References: <003a01c987b2$1276e500$3764af00$@com>
Message-ID: <49A000AD.7000108@scytheman.net>

Hello Damian, hello list,

I also had hidden spam links in my wordpress 2.7 installation. Did your
exploit create a new admin user (check in the database, it is hidden in
den profile viewer, because wordpress apparently allows javascript in
user nicknames and this new user has some code in there that hides the
display of said user)? And is there a key
"rss_f541b3abd05e7962fcab37737f40fad8" in your wp_options table? And
another key "internal_links_cache" which is a base64-encoded string of
your spam links?

If so, we likely are victims of the same exploit, though all references
I can find online point to versions <= 2.5. which are vulnerable, not 2.7.

But it might be that an older wordpress installation (or other script)
on the same server was compromised and just infected other wordpresses
in other directories directly. Nothing wordpress can do against these
kind of attacks, right? Other than maybe not allowing javascript or any
kind of html in the users first name or any other field  :/

And to display a big big warning sign if a plugin in the active_plugins
option has a path like "../../../../../../../../tmp/dslkasl" or
"../upload/plugin.php" or would not be display in the plugin overview,
which in my case it didn't. The exploit loads a fake plugin which in
turn loads the contents of rss_f541b3abd05e7962fcab37737f40fad8 which
includes code for some shell a hacker can use if certain cookie
variables are set, which then loads internal_links_cache and creates a
function that uses the footer-hook to display it's spamlinks. Crazy ;-)

Greetings,
Sebastian

Mindshare Studios schrieb:
> Hi,
>
>  
>
> I was just wondering if there was a recommended procedure for reporting
> WordPress security vulnerabilities. I have a site running 2.7 that has had
> some hidden spam links injected into it, but this may have occurred before I
> upgraded to the latest version. I'm going to completely wipe the server and
> do a fresh install to be sure to get rid of the problems but I thought I'd
> ask the list to see if anyone is interested in looking at the malicious code
> (I've isolated at least three files containing bad code) or if this is worth
> reporting.
>
>  
>
> Thanks,
>
> Damian
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>   

From wp-hackers at striderweb.com  Sat Feb 21 14:50:02 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat Feb 21 14:50:33 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
	<39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>
	<41A13C1B-4890-4918-B72F-203918617759@striderweb.com>
	<DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>
Message-ID: <ED8795E5-8FBC-4EBF-AB60-7468EBEE9E31@striderweb.com>

Peter --

Reading the wp-hackers list description in the Codex:

"The wp-hackers list is meant for people interested in extending  
WordPress either through plugins or improvements to the core code.  
Serious discussion that determines the future direction of the  
WordPress codebase takes place here."

Sounds like the stated purpose of this list is to discuss, among other  
things, what should and shouldn't go into core.  Certainly discussion  
regarding making plugins is part of that description.

It seems to me that different people have different ideas as to the  
purpose of this list -- but even if the original purpose of the list  
was something different, you can hardly blame people for reading the  
above and thinking that discussing plugins or "improvements to core  
code" was somehow inappropriate.

Responding to your list...

On Feb 20, 2009, at 4:31 PM, Peter Westwood wrote:

> I think what this mailing list needs to do is to try and follow the  
> follow list of ideals (intentionally not complete):
>
> * Focus on the technical aspects in the discussion.

Yes, but you also need to pay attention to "the technical aspects of  
*what*?"  You have to decide what you're doing, in addition to the  
details of how.

> * Think about the users - not just what you think is right - It is  
> very hard for a developer to understand the end-users viewpoint.

This seems to contradict the first somewhat.  Are we talking about end- 
user experience or the under-the-hood technical details?  Answer to me  
is: both are appropriate.

> * Address real world problems

Entirely agreed.

The "auto update plugins" discussion that incited the exodus was a  
legitimate discussion, I think, but went on WAY too long.  However, I  
think the biggest problem was the attitude that "nobody needs to do  
that" -- obviously somebody does, or it wouldn't have come up.  The  
question was what the best way would be, and it somehow turned into an  
ego contest.

> * Provide examples - if there is something you think you can't do  
> shows us what you have tried to do, shows the plugin/core code you  
> have written that you can't get to work.

That sentence needs a rewrite.  Do you mean if we try and fail to  
write a working patch, show the failed path and maybe the list can get  
it working?

> * Try to avoid arriving with a just a solution.  You need to be able  
> to express the end-user issue as well as the reasoning as to why the  
> solution you propose matches it best.

...keeping in mind that sometimes "end users" are plugin authors or  
fellow core coders.

> * Work with the project philosophy not against it

Meaningless without defining it.  Obviously many different people have  
very different ideas as to what the "project philosophy" is.

> * Release early, release often - If you have an idea that you think  
> is core worthy raise a trac ticket write a simple patch which  
> demonstrates the solution

Sometimes "solution" patches aren't so simple.  That is *exactly* why  
people often want to come here first to see if the work they put into  
a patch will go anywhere.  Perhaps as a committer you lose sight of  
that a bit.  You have "God's ear", the rest of us don't.

> * Avoid bikesheding

I think that's spelled "bikeshedding".  (*ahem* sorry... ;-) )

> You friendly core committer, patches always welcome.

Who are the other core committers?

Stephen

-- 
Stephen Rider
http://striderweb.com/
From wp-hackers at striderweb.com  Sat Feb 21 15:04:33 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat Feb 21 15:04:56 2009
Subject: [wp-hackers] Recommended Themes & Plugins for a Workshop?
In-Reply-To: <EMEWEMEW2_DELIMl1K0f6c5cb1dc61e1c2b3859532e,
	mikeschinkel@newclarity.net, 9249819.141235198478476.J>
References: <EMEWEMEW2_DELIMl1K0f6c5cb1dc61e1c2b3859532e,
	mikeschinkel@newclarity.net, 9249819.141235198478476.J>
Message-ID: <6507E269-7D7D-4EE4-ABEC-C949A087E753@striderweb.com>


On Feb 21, 2009, at 12:41 AM, Mike Schinkel wrote:

> Tomorrow (Saturday) I will be spending the day preparing the  
> workshop guide/handouts with the help of some of those 20 people. My  
> plan is to give the attendees a selection of ~5 available themes to  
> choose from, and have them install and configure ~10 plugins. Though  
> I have some ideas for which themes and plugins to choose from I was  
> wondering if any of you have suggestions regarding great starter  
> themes and/or your top 10 plugins for new users of installed  
> WordPress.

1) Some plugin that deals with Feeds -- as an intro to discussion what  
feeds are (Ozh's "Better Feed" is excellent).

2) Anti-spam.  Akismet is good, but requires an account.  I would  
suggest Spam Karma, but it badly needs an update (which it's getting,  
but not today!)

3) Some sort of good Contact Form plugin

Specific plugins I like:

4) AddQuicktag -- lets you add buttons to the post editor.
http://bueltge.de/wp-addquicktags-de-plugin/120/

5) Automatic Timezone.  'nuff said.
http://ottodestruct.com/blog/wordpress-plugins/automatic-timezone/

6) Tooting my own horn, JavaScript Pull-Quotes is a nice bit of visual  
polish. :)
http://striderweb.com/nerdaphernalia/features/wp-javascript-pull-quotes/

7) Subscribe to Comments is an absolute must-have if they want  
community discussion on posts.
http://txfx.net/code/wordpress/subscribe-to-comments/

Stephen

-- 
Stephen Rider
http://striderweb.com/
From justmichaelh at gmail.com  Sat Feb 21 15:36:25 2009
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Sat Feb 21 15:36:31 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net><45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com><8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com><fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com><ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com><499EC575.8010703@kpdesign.net><349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com><6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com><5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com><ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com><39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com><41A13C1B-4890-4918-B72F-203918617759@striderweb.com><DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>
	<ED8795E5-8FBC-4EBF-AB60-7468EBEE9E31@striderweb.com>
Message-ID: <555501c9943a$293cbc30$6701a8c0@dell8600>


----- Original Message ----- 
From: "Stephen Rider" <wp-hackers@striderweb.com>
> Who are the other core committers?

Matt, Ryan, Peter, and Andrew, that I know of.


Michael

From zamoose at gmail.com  Sat Feb 21 16:39:44 2009
From: zamoose at gmail.com (zamoose@gmail.com)
Date: Sat Feb 21 16:39:57 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update 
	Plugins)
In-Reply-To: <555501c9943a$293cbc30$6701a8c0@dell8600>
Message-ID: <00163630f1d5b03b420463706afe@google.com>

On Feb 21, 2009 10:36am, "Michael E. Hancock" <justmichaelh@gmail.com>  
wrote:


> ----- Original Message ----- From: "Stephen Rider"  
> wp-hackers@striderweb.com>


> Who are the other core committers?




> Matt, Ryan, Peter, and Andrew, that I know of.

You forgot Mark Jaquith.

`svn log | awk '/^r[0-9]/{ print $3 }' | less` from inside your SVN co'd WP  
install will show you all committers' usernames in reverse chronological  
order of last checked in.

Recent trails are of the ryan/westi/markjaquith/azaozz vintage, with a few  
matt's thrown in for good measure and if you look far enough back,  
mikelittle, donncha, rob1n, dougal, and alex_t_king even make appearances.

(Taking input for `sort` is fabulously slow if you're using STDOUT output,  
so do the following to find all unique committers:

$ svn log | awk '/^r[0-9]/{ print $3 }' > /tmp/wpcommitters.txt
$ cat /tmp/wpcommitters.txt | sort | uniq

And, if you want stats, do the following:

$ for i in `cat /tmp/wpcommitters.txt | sort | uniq`
> do
> echo "${i} `grep $i /tmp/wpcommitters.txt | wc -l`"
> done

[snipped one garbage entry]
alex_t_king 83
azaozz 437
donncha 31
dougal 1
emc3 110
jverber 23
markjaquith 609
matt 1904
michelvaldrighi 214
mikelittle 237
rboren 465
rob1n 255
ryan 4422
saxmatt 1200
uid26904 1
westi 412

Boom. Number of commits per commit user in /branches/2.7. /trunk shows the  
following stats:

alex_t_king 83
azaozz 536
donncha 31
dougal 1
emc3 110
jverber 23
markjaquith 610
matt 1905
michelvaldrighi 214
mikelittle 237
rboren 465
rob1n 255
ryan 4504
saxmatt 1200
uid26904 1
westi 436


Ryan still has a commanding lead, regardless.

-Doug
http://literalbarrage.org/blog/
From peter.westwood at ftwr.co.uk  Sat Feb 21 16:54:16 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat Feb 21 16:55:23 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <EMEWEMEW2_DELIMl1JIlYd7ae7bbbea789329c883ec,
	mikeschinkel@newclarity.net, 27502408.1811235177261747.J>
References: <EMEWEMEW2_DELIMl1JIlYd7ae7bbbea789329c883ec,
	mikeschinkel@newclarity.net, 27502408.1811235177261747.J>
Message-ID: <8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>


On 21 Feb 2009, at 00:47, Mike Schinkel wrote:

> Your list is very helpful but can I please ask for clarification on  
> this point?
>
>  * Work with the project philosophy not against it
>

Ok. It is hard to describe in a succinct way but there are a few  
things in general.

  * "Code is Poetry"
  * WordPress is a platform
  * "Options are bad" - User Interface should be simple, obvious and  
easy to use for everyone (including your cat ;-))
  * Standard compliance

"Options are bad" is the one that people often come up against and  
have the most trouble with.  The basic idea behind this (for me) is  
that the software needs to be configurable but you should only present  
the user with the options they really need to care about - the rest of  
the time you make a decision about what is the best behaviour and you  
just implement that.  This implementation should be done in such a way  
that hooks (actions/filters) are available so that a different  
implementation can be provided by a plugin.

I'm sure I've missed a lot here.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From peter.westwood at ftwr.co.uk  Sat Feb 21 16:55:39 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat Feb 21 16:56:48 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <00163630f1d5b03b420463706afe@google.com>
References: <00163630f1d5b03b420463706afe@google.com>
Message-ID: <E4C1565D-2C0C-40F0-90C6-35E5D4FBFA6F@ftwr.co.uk>


On 21 Feb 2009, at 16:39, zamoose@gmail.com wrote:

> On Feb 21, 2009 10:36am, "Michael E. Hancock"  
> <justmichaelh@gmail.com> wrote:
>
>
>> ----- Original Message ----- From: "Stephen Rider" wp-hackers@striderweb.com 
>> >
>
>
>> Who are the other core committers?
>
>
>
>
>> Matt, Ryan, Peter, and Andrew, that I know of.
>
> You forgot Mark Jaquith.
>
> `svn log | awk '/^r[0-9]/{ print $3 }' | less` from inside your SVN  
> co'd WP install will show you all committers' usernames in reverse  
> chronological order of last checked in.
>
> Recent trails are of the ryan/westi/markjaquith/azaozz vintage, with  
> a few matt's thrown in for good measure and if you look far enough  
> back, mikelittle, donncha, rob1n, dougal, and alex_t_king even make  
> appearances.
>

Much better stats are available here - https://www.ohloh.net/p/wordpress/contributors

And you won't load the svn server up either ;-)

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From peter.westwood at ftwr.co.uk  Sat Feb 21 17:07:22 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat Feb 21 17:08:35 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <ED8795E5-8FBC-4EBF-AB60-7468EBEE9E31@striderweb.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
	<39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>
	<41A13C1B-4890-4918-B72F-203918617759@striderweb.com>
	<DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>
	<ED8795E5-8FBC-4EBF-AB60-7468EBEE9E31@striderweb.com>
Message-ID: <45833E4F-4752-49CC-BBF7-C57E0B135E85@ftwr.co.uk>


On 21 Feb 2009, at 14:50, Stephen Rider wrote:

> Peter --
>
> Reading the wp-hackers list description in the Codex:
>
> "The wp-hackers list is meant for people interested in extending  
> WordPress either through plugins or improvements to the core code.  
> Serious discussion that determines the future direction of the  
> WordPress codebase takes place here."
>
> Sounds like the stated purpose of this list is to discuss, among  
> other things, what should and shouldn't go into core.  Certainly  
> discussion regarding making plugins is part of that description.
>
> It seems to me that different people have different ideas as to the  
> purpose of this list -- but even if the original purpose of the list  
> was something different, you can hardly blame people for reading the  
> above and thinking that discussing plugins or "improvements to core  
> code" was somehow inappropriate.
>

I still think that description is appropriate.  I was trying to focus  
on the way in which discussion occurred more than the subjects of  
discussion.

> Responding to your list...
>
> On Feb 20, 2009, at 4:31 PM, Peter Westwood wrote:
>
>> I think what this mailing list needs to do is to try and follow the  
>> follow list of ideals (intentionally not complete):
>>
>> * Focus on the technical aspects in the discussion.
>
> Yes, but you also need to pay attention to "the technical aspects of  
> *what*?"  You have to decide what you're doing, in addition to the  
> details of how.

What I mean here is that we should focus on the technical reasons why  
one implementation method is better than another - for example easy of  
implementation, easy of use etc.

>> * Think about the users - not just what you think is right - It is  
>> very hard for a developer to understand the end-users viewpoint.
>
> This seems to contradict the first somewhat.  Are we talking about  
> end-user experience or the under-the-hood technical details?  Answer  
> to me is: both are appropriate.
>

Both.  But also simplicity, safety and obviousness in terms of UI/ 
Behaviour

>> * Address real world problems
>
> Entirely agreed.
>
> The "auto update plugins" discussion that incited the exodus was a  
> legitimate discussion, I think, but went on WAY too long.  However,  
> I think the biggest problem was the attitude that "nobody needs to  
> do that" -- obviously somebody does, or it wouldn't have come up.   
> The question was what the best way would be, and it somehow turned  
> into an ego contest.
>

For me the biggest issue in a thread like that is when the discussion  
moves away from being technical and moves on to egos and bikeshedding

>> * Provide examples - if there is something you think you can't do  
>> shows us what you have tried to do, shows the plugin/core code you  
>> have written that you can't get to work.
>
> That sentence needs a rewrite.  Do you mean if we try and fail to  
> write a working patch, show the failed path and maybe the list can  
> get it working?
>

Yes.  I find it intensely frustrating when someone raises a ticket on  
trac, or sends an email to this list of the following flavour - "The  
<blah> filter/action doesn't work.", "RSS feeds are broken" but  
doesn't provide any detail on the issue like the code that doesn't  
work.  Especially when looking at the code it is possible for me to  
write something using the action/filter which does work.

>> * Try to avoid arriving with a just a solution.  You need to be  
>> able to express the end-user issue as well as the reasoning as to  
>> why the solution you propose matches it best.
>
> ...keeping in mind that sometimes "end users" are plugin authors or  
> fellow core coders.

Yes.  The important thing is bring me the problem not just the  
solution.  I need context to understand severity and why the proposed  
solution is the best way to do it.

>
>
>> * Work with the project philosophy not against it
>
> Meaningless without defining it.  Obviously many different people  
> have very different ideas as to what the "project philosophy" is.
>

See my other replies.

>> * Release early, release often - If you have an idea that you think  
>> is core worthy raise a trac ticket write a simple patch which  
>> demonstrates the solution
>
> Sometimes "solution" patches aren't so simple.  That is *exactly*  
> why people often want to come here first to see if the work they put  
> into a patch will go anywhere.  Perhaps as a committer you lose  
> sight of that a bit.  You have "God's ear", the rest of us don't.
>

I know solution patches are not always simple.  And I also understand  
the frustration of writing a patch to see it languish in trac and not  
get committed - it was not that long ago that I was in the same  
position.

If you want to help get your patch committed you need to make sure  
that it is obvious what it fixes so that I can test the fix, and join  
us in #wordpress-dev and promote your patch if it languishes (or CC my  
user id on the patch in trac to get my attention)

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5

From jess at funroe.net  Sat Feb 21 17:26:57 2009
From: jess at funroe.net (Jess Planck)
Date: Sat Feb 21 17:27:07 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <45833E4F-4752-49CC-BBF7-C57E0B135E85@ftwr.co.uk>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
	<39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>
	<41A13C1B-4890-4918-B72F-203918617759@striderweb.com>
	<DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>
	<ED8795E5-8FBC-4EBF-AB60-7468EBEE9E31@striderweb.com>
	<45833E4F-4752-49CC-BBF7-C57E0B135E85@ftwr.co.uk>
Message-ID: <6402C41D-6272-4006-BA85-6DDAFABA70D8@funroe.net>

Yea, trac can be useful. Examining tickets... even closed tickets can  
yield solutions to common problems.

Oh and remember to close your ticket out if somebody solves your  
problem in another way. I know I've seen one or two of my issues  
solved, but not through my ticket. Duplication sucks, but sometimes  
it's purely accidental by a different point of view.

And not to mention that support forms exist on wordpress.org for a  
highly visible public reason.

Jess

On Feb 21, 2009, at 11:07 AM, Peter Westwood wrote:

> I know solution patches are not always simple.  And I also  
> understand the frustration of writing a patch to see it languish in  
> trac and not get committed - it was not that long ago that I was in  
> the same position.
>
> If you want to help get your patch committed you need to make sure  
> that it is obvious what it fixes so that I can test the fix, and  
> join us in #wordpress-dev and promote your patch if it languishes  
> (or CC my user id on the patch in trac to get my attention)

From ozh at planetozh.com  Sat Feb 21 19:51:21 2009
From: ozh at planetozh.com (Ozh)
Date: Sat Feb 21 19:51:32 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update 
	Plugins)
In-Reply-To: <6402C41D-6272-4006-BA85-6DDAFABA70D8@funroe.net>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
	<39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>
	<41A13C1B-4890-4918-B72F-203918617759@striderweb.com>
	<DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>
	<ED8795E5-8FBC-4EBF-AB60-7468EBEE9E31@striderweb.com>
	<45833E4F-4752-49CC-BBF7-C57E0B135E85@ftwr.co.uk>
	<6402C41D-6272-4006-BA85-6DDAFABA70D8@funroe.net>
Message-ID: <ae81acd10902211151h1d9612e8ic541dbf373ba9e0@mail.gmail.com>

"what's to be in wp-hackers" seems like an interesting talk for a next
wordcamp :)

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From wordpress at santosj.name  Sat Feb 21 20:52:36 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Sat Feb 21 20:52:44 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>
References: <EMEWEMEW2_DELIMl1JIlYd7ae7bbbea789329c883ec,
	mikeschinkel@newclarity.net, 27502408.1811235177261747.J>
	<8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>
Message-ID: <49A06994.8050006@santosj.name>

The "Code is Poetry" mantra is a farce and should die as the religion 
behind it is no more (Not to say WordPress as a religion or Hinduism is 
dead, but the nonexistant religion used to slam the slogan is). A code 
review of some of the older bits has shown in the past that if you are 
talking about core code, you will see gems worthy of TDWTF.com. There 
are some beautifully written parts of code, some date back to 2.0 and 
even a few date back as far as 1.5 (plugin API, new, not the old).

That said, the instance I'm talking about was in the widget API and that 
wasn't created until I believe 2.0 and wasn't included until 2.2. There 
have been other parts, but I don't actively care or review code for 
smelling (not that I can fix add_post() anyway, it probably has good 
reason for it's extremely high C.R.A.P)

I think the problem with it, is that it takes from Behavior Driven 
Development and the philosophy that function calls should be words that 
people (developers and end users) can understand, as well as the code 
should be self-documentable.

To use the discussion from a co-worker:

"Why do they say, 'Code is Poetry'?"

"I don't know, that is just something they say."

"The code doesn't rhyme."

If the slogan is supposed to be that the code shouldn't "Stink" then it 
should say so, but "Code is Poetry" means nothing, unless it is applied 
to some worthless to something of worth from Apple, whose shit doesn't 
stink and is gold colored (some say that is because it actually is gold, 
but I don't tend to believe crazy talk).

That said, there are many part of the WordPress code that does Smell and 
smells quite awful sometimes. If you apply the metrics for coding to 
WordPress, most of the functions will be off the wall, passed what they 
are normally and what they should be. Now, I do know that metrics aren't 
everything and being able to break them is part of developing a project, 
yet it stands that the majority of important parts of the code exists of 
functions with around or over 20 lines, with fantastic level of C.R.A.P.

So I mean, "Code is Poetry" should not be applied to WordPress, unless 
you want someone to go through the worthless task of creating functions 
of names that actually do rhyme when you call them in HTML. "Code 
Doesn't Smell" should be the slogan of WordPress, as they can go to 
Wikipedia to get the meaning and learn all about the techniques about it.

I would rather plugins, themes and patches not smell, than contain 
"poetry." Code smelling (Blob class anti-pattern, lack of inline 
documentation, lack of test cases, lack of code reuse, etc) is quite 
frankly a bigger problem and something I'm more concern with than code 
being some half-baked philosophy from what it would appear to be some 
hippie or "drug specialist." (Specialist of the Weed (not the kind you 
pull up from the garden)).

I'll rather people not associate me with a drug user or a hippie thank 
you. My code doesn't (hopefully, and by damn, I will fix it if it does) 
stink.

Jacob Santos

PS: Although the use of fallacies of argument are used throughout the 
reply, I don't think it takes away from the overall message that "Code 
is Poetry" is worthless, because it doesn't mean anything except to Matt 
Mullenweg and if he uses it, then it will be another argument from 
fallacy. People may think they know (I have no clue, except what I've 
read of "good" code that doesn't "smell"), but they don't, because it 
hasn't been defined by the person who stated it. If we are going to have 
the philosophy that function names should reference the action they are 
going to take and describe the purpose of the function, then that is 
okay. There is a name for that and it isn't "Poetry" and I implore 
people to find it.


Peter Westwood wrote:
>
> On 21 Feb 2009, at 00:47, Mike Schinkel wrote:
>
>> Your list is very helpful but can I please ask for clarification on 
>> this point?
>>
>>  * Work with the project philosophy not against it
>>
>
> Ok. It is hard to describe in a succinct way but there are a few 
> things in general.
>
>  * "Code is Poetry"
>  * WordPress is a platform
>  * "Options are bad" - User Interface should be simple, obvious and 
> easy to use for everyone (including your cat ;-))
>  * Standard compliance
>
> "Options are bad" is the one that people often come up against and 
> have the most trouble with.  The basic idea behind this (for me) is 
> that the software needs to be configurable but you should only present 
> the user with the options they really need to care about - the rest of 
> the time you make a decision about what is the best behaviour and you 
> just implement that.  This implementation should be done in such a way 
> that hooks (actions/filters) are available so that a different 
> implementation can be provided by a plugin.
>
> I'm sure I've missed a lot here.
>
> westi

From ozh at planetozh.com  Sat Feb 21 22:56:32 2009
From: ozh at planetozh.com (Ozh)
Date: Sat Feb 21 22:56:44 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update 
	Plugins)
In-Reply-To: <49A06994.8050006@santosj.name>
References: <8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>
	<49A06994.8050006@santosj.name>
Message-ID: <ae81acd10902211456h5422bf65nc6e3d667c0053ad4@mail.gmail.com>

Well,

It's just that "Code is Poetry" sounds better than "Code shall not
Stink". It's just a motto, a slogan, a guideline. As catchy or fun or
witty a slogan may be, it's just a slogan. It's for marketing. I think
in the end it means more or less the same thing.


-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From wordpress at santosj.name  Sat Feb 21 23:25:49 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Sat Feb 21 23:25:55 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <ae81acd10902211456h5422bf65nc6e3d667c0053ad4@mail.gmail.com>
References: <8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>	<49A06994.8050006@santosj.name>
	<ae81acd10902211456h5422bf65nc6e3d667c0053ad4@mail.gmail.com>
Message-ID: <49A08D7D.3020208@santosj.name>

I forgot to mention that I hate marketers (as well as telemarketers, but 
for different reasons). The issue that once something logical goes to 
marketing, they make it illogical in most cases. It is one of the 
reasons I'll never call a function a template tag, when it has to do 
with templates. I'll always say, "Just use this function the_ID() to 
display the post ID." If they come back and counter, "That is a template 
tag." I'll say, "NO! It is a function." If it is a matter of semantics, 
then the semantics are crappy and needs redefinition.

I prefer "Beautiful Code" as the slogan, but then people tell me I need 
to get a girlfriend. Although, I'll probably start using, "You're as 
beautiful as code." (which can mean both, "You're as ugly as sin." or 
"You have no equal in beauty on this Earth or beyond it." Which probably 
won't translate well, if the female isn't a programmer and doesn't 
realize it is the latter and not the former. Confusion also works, then 
knock the woman out with a large blunt object and drag her away to your 
lair.

If I have offended any female on this list, then I don't apologize, or 
at least not unless it is over a candlelit dinner with some guy playing 
some guitar type thing.

Jacob Santos

Ozh wrote:
> Well,
>
> It's just that "Code is Poetry" sounds better than "Code shall not
> Stink". It's just a motto, a slogan, a guideline. As catchy or fun or
> witty a slogan may be, it's just a slogan. It's for marketing. I think
> in the end it means more or less the same thing.
>
>
>   

From wp at xentek.net  Sun Feb 22 00:56:10 2009
From: wp at xentek.net (Eric Marden)
Date: Sun Feb 22 00:56:31 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<45055a190902192003g461baf88y60fde302374eb0f@mail.gmail.com>
	<8f93a7390902200440l23aade28k8aead1279b861215@mail.gmail.com>
	<fd3b80510902200554j2b84421fn50fc94820c372390@mail.gmail.com>
	<ae81acd10902200631p294a05d7je9d4add7f128307c@mail.gmail.com>
	<499EC575.8010703@kpdesign.net>
	<349fe48b0902200815m91d5694l36a6b96053b5e6a6@mail.gmail.com>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
	<39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>
	<41A13C1B-4890-4918-B72F-203918617759@striderweb.com>
	<DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>
Message-ID: <0F6FFB05-A06B-4EDC-859A-72DAA0E933C9@xentek.net>

Additional Thoughts...

> * Focus on the technical aspects in the discussion.

And be prepared to be disagreed with. With some many technical folks  
its very easy to fall into the 'smartest kid in the room' syndrome.  
Know that there are folks with more experience, with WordPress and in  
Web Development in general.

> * Think about the users - not just what you think is right - It is  
> very hard for a developer to understand the end-users viewpoint.

Devs and Power users want to tinker. Most users do not.

> * Address real world problems

No edge cases.

> * Provide examples - if there is something you think you can't do  
> shows us what you have tried to do, shows the plugin/core code you  
> have written that you can't get to work.

I know I don't do enough of this, and don't see it often enough on  
this list either.



> * Try to avoid arriving with a just a solution.  You need to be able  
> to express the end-user issue as well as the reasoning as to why the  
> solution you propose matches it best.

User stories go a long way into focusing your thinking. Elegance =  
simplest thing that could possibly work and still solves the problem.


> * Work with the project philosophy not against it

http://codex.wordpress.org/Release_Philosophy

>
> * Release early, release often - If you have an idea that you think  
> is core worthy raise a trac ticket write a simple patch which  
> demonstrates the solution

Every line of code written isn't sacred. Solutions accompanied by code  
hold more weight than ideas spit out in 15 minute emails.


> * Avoid bikesheding


Amen.

-e
From wp at xentek.net  Sun Feb 22 02:12:36 2009
From: wp at xentek.net (Eric Marden)
Date: Sun Feb 22 02:12:52 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <ae81acd10902211151h1d9612e8ic541dbf373ba9e0@mail.gmail.com>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>
	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>
	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>
	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>
	<39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>
	<41A13C1B-4890-4918-B72F-203918617759@striderweb.com>
	<DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>
	<ED8795E5-8FBC-4EBF-AB60-7468EBEE9E31@striderweb.com>
	<45833E4F-4752-49CC-BBF7-C57E0B135E85@ftwr.co.uk>
	<6402C41D-6272-4006-BA85-6DDAFABA70D8@funroe.net>
	<ae81acd10902211151h1d9612e8ic541dbf373ba9e0@mail.gmail.com>
Message-ID: <B278F826-46E9-4DBC-B963-48E5CAAC9DC5@xentek.net>

>
> "what's to be in wp-hackers" seems like an interesting talk for a next
> wordcamp :)

I'm going to be at WordCamp Miami tomorrow. Maybe I'll throw my plugin  
development talk out and bring this up instead... hmmm.

-e
From dan at dancoulter.com  Sun Feb 22 02:35:16 2009
From: dan at dancoulter.com (Dan Coulter)
Date: Sun Feb 22 02:35:28 2009
Subject: [wp-hackers] AJAX in plugins and public pages
Message-ID: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>

Am I right in thinking that there's no equivalent of admin-ajax.php for use
in public pages?  I know some people don't like to make the plugins folder
world viewable, but I can't protect against that on public pages like on
admin pages.  If there's a reason this, that's fine, but if no one knows a
particular reason it's missing, I could put together a quick patch based on
the existing file.

-- 
Dan Coulter
http://dancoulter.com/
http://phpflickr.com/
http://blogsforbands.com/

Hey, I got nothing to do today but smile
-Simon and Garfunkel
From heiko.rabe at code-styling.de  Sun Feb 22 02:52:34 2009
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Sun Feb 22 02:52:34 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>
References: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>
Message-ID: <49A0BDF2.9050400@code-styling.de>

Yes, there is a lack of supporting ajax calls out of frontend pages 
without calling plugin folder hosted files.
But i think, it should not be done by patching admin-ajax.php !
In my opinion this should be handled like comments are, provide a file 
wp-ajax-post.php that handles such public ajax requests.
This would also required new actions to be designed the plugin writers 
can hook onto.
In summary this is a reasonable idea and should definitely be introduced 
to avoid tons of plugins having their own php pages therefor.
With a standard way processing frontend ajax calls based on an action 
related interface this would improve also safety of WordPress a bit.

regards

Heiko Rabe
(www.code-styling.de)


> Am I right in thinking that there's no equivalent of admin-ajax.php for use
> in public pages?  I know some people don't like to make the plugins folder
> world viewable, but I can't protect against that on public pages like on
> admin pages.  If there's a reason this, that's fine, but if no one knows a
> particular reason it's missing, I could put together a quick patch based on
> the existing file.
>
>   

From scribu at gmail.com  Sun Feb 22 03:07:18 2009
From: scribu at gmail.com (scribu)
Date: Sun Feb 22 03:07:32 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <49A0BDF2.9050400@code-styling.de>
References: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>
	<49A0BDF2.9050400@code-styling.de>
Message-ID: <349fe48b0902211907j316ed91dve11a5eb46620d6fa@mail.gmail.com>

On Sun, Feb 22, 2009 at 4:52 AM, Heiko Rabe <heiko.rabe@code-styling.de>wrote:

> Yes, there is a lack of supporting ajax calls out of frontend pages without
> calling plugin folder hosted files.
> But i think, it should not be done by patching admin-ajax.php !
> In my opinion this should be handled like comments are, provide a file
> wp-ajax-post.php that handles such public ajax requests.
> This would also required new actions to be designed the plugin writers can
> hook onto.
> In summary this is a reasonable idea and should definitely be introduced to
> avoid tons of plugins having their own php pages therefor.
> With a standard way processing frontend ajax calls based on an action
> related interface this would improve also safety of WordPress a bit.
>
> regards
>

+1 on that. A lot of themes could also benefit from this.

-- 
http://scribu.net
From wordpress at santosj.name  Sun Feb 22 03:28:47 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Feb 22 03:29:01 2009
Subject: [wp-hackers] WordCamp Miami (Was: Improving the mailing list. (Was
 Auto Update Plugins))
In-Reply-To: <B278F826-46E9-4DBC-B963-48E5CAAC9DC5@xentek.net>
References: <DE767B67-130F-4F4E-B0D5-1B5C9F39FA20@xentek.net>	<6dbcd2670902200820x7dae499ar2818546deeb63d4@mail.gmail.com>	<5a1dad880902200837u4e933174m5bcf075641d6b806@mail.gmail.com>	<ae81acd10902200854n76c5041bjfc9ef278266375e0@mail.gmail.com>	<39fdab560902200913r5e0e84b7h5f275d643b2bb233@mail.gmail.com>	<41A13C1B-4890-4918-B72F-203918617759@striderweb.com>	<DC4EDC55-FE01-445D-9D5A-0ED2961853FD@ftwr.co.uk>	<ED8795E5-8FBC-4EBF-AB60-7468EBEE9E31@striderweb.com>	<45833E4F-4752-49CC-BBF7-C57E0B135E85@ftwr.co.uk>	<6402C41D-6272-4006-BA85-6DDAFABA70D8@funroe.net>	<ae81acd10902211151h1d9612e8ic541dbf373ba9e0@mail.gmail.com>
	<B278F826-46E9-4DBC-B963-48E5CAAC9DC5@xentek.net>
Message-ID: <49A0C66F.8070308@santosj.name>

Well, I should warn you, if you create a widget plugin that has 
functions inside of functions, I look forward to the months of training, 
so I can properly kick your ass next WordCamp Miami (unless you have a 
gun or have many more months than my many months of training, then I'm 
just playing).

Also, will there be video? Please say yes.

Jacob Santos


Eric Marden wrote:
>>
>> "what's to be in wp-hackers" seems like an interesting talk for a next
>> wordcamp :)
>
> I'm going to be at WordCamp Miami tomorrow. Maybe I'll throw my plugin 
> development talk out and bring this up instead... hmmm.
>
> -e
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From casey.bisson at gmail.com  Sun Feb 22 04:14:19 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Sun Feb 22 04:14:37 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>
References: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>
Message-ID: <FE7C7C82-EC6C-421B-B3B5-F406F8879FC5@gmail.com>


Why not just hook into the init action? The following will give you a  
simple ajax response

function my_function(){
	@header('Content-Type: text/html; charset=' .  
get_option('blog_charset'));

	$s = sanitize_title( $_GET['my_variable'] );
	echo $s;

	die; // be sure to die when done
}

if ( isset( $_GET['my_variable'] ) )
	add_action( 'init', 'my_function' );


--Casey

http://maisonbisson.com/
http://about.scriblio.net/

On Feb 21, 2009, at 9:35 PM, Dan Coulter wrote:

> Am I right in thinking that there's no equivalent of admin-ajax.php  
> for use
> in public pages?  I know some people don't like to make the plugins  
> folder
> world viewable, but I can't protect against that on public pages  
> like on
> admin pages.  If there's a reason this, that's fine, but if no one  
> knows a
> particular reason it's missing, I could put together a quick patch  
> based on
> the existing file.
>
> -- 
> Dan Coulter
> http://dancoulter.com/
> http://phpflickr.com/
> http://blogsforbands.com/
>
> Hey, I got nothing to do today but smile
> -Simon and Garfunkel
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From scribu at gmail.com  Sun Feb 22 05:35:03 2009
From: scribu at gmail.com (scribu)
Date: Sun Feb 22 05:35:16 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <FE7C7C82-EC6C-421B-B3B5-F406F8879FC5@gmail.com>
References: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>
	<FE7C7C82-EC6C-421B-B3B5-F406F8879FC5@gmail.com>
Message-ID: <349fe48b0902212135w1f1c460lb4e8457920f5baad@mail.gmail.com>

On Sun, Feb 22, 2009 at 6:14 AM, Casey Bisson <casey.bisson@gmail.com>wrote:

>
> Why not just hook into the init action? The following will give you a
> simple ajax response
>
> function my_function(){
>        @header('Content-Type: text/html; charset=' .
> get_option('blog_charset'));
>
>        $s = sanitize_title( $_GET['my_variable'] );
>        echo $s;
>
>        die; // be sure to die when done
> }
>
> if ( isset( $_GET['my_variable'] ) )
>        add_action( 'init', 'my_function' );
>
>
> --Casey
>
> http://maisonbisson.com/
> http://about.scriblio.net/


I didn't realize it could be so simple. Thanks.

--
http://scribu.net
From elflop at googlemail.com  Sun Feb 22 09:47:31 2009
From: elflop at googlemail.com (Rich Pedley)
Date: Sun Feb 22 09:47:46 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update 
	Plugins)
In-Reply-To: <49A08D7D.3020208@santosj.name>
References: <8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>
	<49A06994.8050006@santosj.name>
	<ae81acd10902211456h5422bf65nc6e3d667c0053ad4@mail.gmail.com>
	<49A08D7D.3020208@santosj.name>
Message-ID: <c6c45a350902220147w67c04b57u15676283843ce967@mail.gmail.com>

2009/2/21 Jacob Santos <wordpress@santosj.name>:

> I prefer "Beautiful Code" as the slogan, but then people tell me I need to
> get a girlfriend. Although, I'll probably start using, "You're as beautiful
> as code." (which can mean both, "You're as ugly as sin." or "You have no
> equal in beauty on this Earth or beyond it." Which probably won't translate
> well, if the female isn't a programmer and doesn't realize it is the latter
> and not the former. Confusion also works, then knock the woman out with a
> large blunt object and drag her away to your lair.

[off topic - sorry]

Indentations in all the right places.

[just couldn't resist]

-- 
my mind is on a permanent tangent
http://cms.elfden.co.uk/
From wordpress at santosj.name  Sun Feb 22 11:11:49 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Feb 22 11:12:04 2009
Subject: [wp-hackers] Experimental Proxy Support in WordPress
Message-ID: <49A132F5.7010908@santosj.name>

There was some complaining about the lack of proxy support[1], but a 
patch has been added [2]. If you check the documentation that is in the 
patch, you can find the code needed to enable the proxy support 
(requires modifying wp-config.php).

Here are some things that needs testing.

Current issue with the fsockopen is that nothing appears to be returned 
with no errors and warning as to the cause.

Current issue with streams is that it throws some error.

Current issue with cURL is that there is some obscure bug in it that may 
return some Headers mixed in with the body (no known fix at this time, 
nor probably will there be one if no one else has a problem).

Current issue with HTTP extension transport is that it hasn't been tested.

Well, good luck. It will be easier if you use subversion and apply the 
patch. Also, I'm cross posting to wp-hackers to get those people who 
were interested in WordPress having support for it.


[1] http://core.trac.wordpress.org/ticket/4011
[2] http://core.trac.wordpress.org/attachment/ticket/4011/4011.3.diff

Jacob Santos
From heiko.rabe at code-styling.de  Sun Feb 22 14:32:48 2009
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Sun Feb 22 14:32:49 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <FE7C7C82-EC6C-421B-B3B5-F406F8879FC5@gmail.com>
References: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>
	<FE7C7C82-EC6C-421B-B3B5-F406F8879FC5@gmail.com>
Message-ID: <49A16210.8000207@code-styling.de>

I don't agree with this easy going solution.
First of all, this is a HTTP GET call but in most cases you will need 
HTTP POST calls to transfer a lot more data as possible by params of GET 
url.
Second, there may be a need to remove the hook of an other plugin to 
pre-filter the ajax call. So i would remove the other plugins hook, 
replace it with my own
and during my pre-processing a call the original plugin hook to allow 
this plugin go forward as intented.
Your solution doesn't allow pre-processing other hooks.
The next point is, that it would be possible to limit public ajax calls 
to logged in user if this will be handled in a standard way.
The backend could be extended with new option to configure how public 
ajax calls are permitted.

It's much easier to implement it in this way, if core would support it:

add_action('wp_public_post_ajax-myfunction', 
'my_public_post_ajax_function');
add_action('wp_public_get_ajax-myfunction', 'my_public_post_ajax_function');

This would increase readability and can ensure that core files can empty 
not needed GET or POST values prior to call the hook.
It would also allow to bypass at core file level several not needed file 
loads and indicates, that this is a real ajax call instead of spam bot 
initiated index.php flood.
As can be detected during processing admin ajax by testing DOING_AJAX 
constant, this would also allow other plugins to skip loading a lot of 
files, because things
like backend pages are not required if ajax calls are being processed.

This will increase the speed of processing public ajax calls a lot, if 
it will be handled in a standard specified way.

regards

Heiko Rabe
(www.code-styling.de)

>
> Why not just hook into the init action? The following will give you a 
> simple ajax response
>
> function my_function(){
>     @header('Content-Type: text/html; charset=' . 
> get_option('blog_charset'));
>
>     $s = sanitize_title( $_GET['my_variable'] );
>     echo $s;
>
>     die; // be sure to die when done
> }
>
> if ( isset( $_GET['my_variable'] ) )
>     add_action( 'init', 'my_function' );
>
>
> --Casey
>
> http://maisonbisson.com/
> http://about.scriblio.net/
>
> On Feb 21, 2009, at 9:35 PM, Dan Coulter wrote:
>
>> Am I right in thinking that there's no equivalent of admin-ajax.php 
>> for use
>> in public pages?  I know some people don't like to make the plugins 
>> folder
>> world viewable, but I can't protect against that on public pages like on
>> admin pages.  If there's a reason this, that's fine, but if no one 
>> knows a
>> particular reason it's missing, I could put together a quick patch 
>> based on
>> the existing file.
>>
>> -- 
>> Dan Coulter
>> http://dancoulter.com/
>> http://phpflickr.com/
>> http://blogsforbands.com/
>>
>> Hey, I got nothing to do today but smile
>> -Simon and Garfunkel
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dragonfly at dragonflyeye.net  Sun Feb 22 14:38:32 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Sun Feb 22 14:38:40 2009
Subject: [wp-hackers] Deleting WordPress Tags
Message-ID: <77b239a00902220638g2cde3aa4if79fa39693341b2e@mail.gmail.com>

I am in the process of writing a simple little plugin that finds and allows
you to delete orphaned tags.  I figured I'd just use a WP function that
deletes tags gracefully, but I was surprised to find that as far as I can
tell, no such function exists.

Am I wrong about this?  It seems like the kind of thing that WP aught to
have, since it's not just a question of deleting the tags, but also the
association between the deleted tag and the posts it's been assigned to.

Assuming there is no such function, is it necessary to delete the
associations as well?  Are there other considerations beyond simply deleting
the term from the terms table in the dB?

Thanks!
From scribu at gmail.com  Sun Feb 22 14:41:54 2009
From: scribu at gmail.com (scribu)
Date: Sun Feb 22 14:42:05 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <49A16210.8000207@code-styling.de>
References: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>
	<FE7C7C82-EC6C-421B-B3B5-F406F8879FC5@gmail.com>
	<49A16210.8000207@code-styling.de>
Message-ID: <349fe48b0902220641y7406296dk115e909e6ef35d1b@mail.gmail.com>

On Sun, Feb 22, 2009 at 4:32 PM, Heiko Rabe <heiko.rabe@code-styling.de>wrote:

> It's much easier to implement it in this way, if core would support it:
>
> add_action('wp_public_post_ajax-myfunction',
> 'my_public_post_ajax_function');
> add_action('wp_public_get_ajax-myfunction',
> 'my_public_post_ajax_function');
>

If it get's implemented, shouldn't there be a single hook that handles both
GET and POST request like in admin_ajax.php?

-- 
http://scribu.net
From heiko.rabe at code-styling.de  Sun Feb 22 15:02:03 2009
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Sun Feb 22 15:02:06 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <349fe48b0902220641y7406296dk115e909e6ef35d1b@mail.gmail.com>
References: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>	<FE7C7C82-EC6C-421B-B3B5-F406F8879FC5@gmail.com>	<49A16210.8000207@code-styling.de>
	<349fe48b0902220641y7406296dk115e909e6ef35d1b@mail.gmail.com>
Message-ID: <49A168EB.7020305@code-styling.de>

The admin-ajax.php *only*! processes POST ajax calls, you can't request 
admin ajax content by using GET.
I would prefere to permit public ajax requests additional to be called 
by GET requests but the standard usage should be POST as done in admin ajax.

regards

Heiko Rabe
(www.code-styling.de)
> On Sun, Feb 22, 2009 at 4:32 PM, Heiko Rabe <heiko.rabe@code-styling.de>wrote:
>
>   
>> It's much easier to implement it in this way, if core would support it:
>>
>> add_action('wp_public_post_ajax-myfunction',
>> 'my_public_post_ajax_function');
>> add_action('wp_public_get_ajax-myfunction',
>> 'my_public_post_ajax_function');
>>
>>     
>
> If it get's implemented, shouldn't there be a single hook that handles both
> GET and POST request like in admin_ajax.php?
>
>   

From if.website at gmail.com  Sun Feb 22 15:03:36 2009
From: if.website at gmail.com (Austin Matzko)
Date: Sun Feb 22 15:03:45 2009
Subject: [wp-hackers] Deleting WordPress Tags
In-Reply-To: <77b239a00902220638g2cde3aa4if79fa39693341b2e@mail.gmail.com>
References: <77b239a00902220638g2cde3aa4if79fa39693341b2e@mail.gmail.com>
Message-ID: <674b4a3b0902220703s38be8f7bn2963cafb5ed7bd0e@mail.gmail.com>

On Sun, Feb 22, 2009 at 8:38 AM, Thomas Belknap
<dragonfly@dragonflyeye.net> wrote:
> I am in the process of writing a simple little plugin that finds and allows
> you to delete orphaned tags.  I figured I'd just use a WP function that
> deletes tags gracefully, but I was surprised to find that as far as I can
> tell, no such function exists.

You want wp_delete_term( 123, 'post_tag'), where 123 is the ID number
of the tag.
From casey.bisson at gmail.com  Sun Feb 22 15:06:46 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Sun Feb 22 15:07:01 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <49A168EB.7020305@code-styling.de>
References: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>	<FE7C7C82-EC6C-421B-B3B5-F406F8879FC5@gmail.com>	<49A16210.8000207@code-styling.de>
	<349fe48b0902220641y7406296dk115e909e6ef35d1b@mail.gmail.com>
	<49A168EB.7020305@code-styling.de>
Message-ID: <DA489DFD-BF68-4950-81C4-2D322B57BA17@gmail.com>


http://core.trac.wordpress.org/browser/tags/2.7/wp-admin/admin-ajax.php#L60

On Feb 22, 2009, at 10:02 AM, Heiko Rabe wrote:

> The admin-ajax.php *only*! processes POST ajax calls, you can't  
> request admin ajax content by using GET.
> I would prefere to permit public ajax requests additional to be  
> called by GET requests but the standard usage should be POST as done  
> in admin ajax.
>
> regards
>
> Heiko Rabe
> (www.code-styling.de)
>> On Sun, Feb 22, 2009 at 4:32 PM, Heiko Rabe <heiko.rabe@code-styling.de 
>> >wrote:
>>
>>
>>> It's much easier to implement it in this way, if core would  
>>> support it:
>>>
>>> add_action('wp_public_post_ajax-myfunction',
>>> 'my_public_post_ajax_function');
>>> add_action('wp_public_get_ajax-myfunction',
>>> 'my_public_post_ajax_function');
>>>
>>>
>>
>> If it get's implemented, shouldn't there be a single hook that  
>> handles both
>> GET and POST request like in admin_ajax.php?
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From heiko.rabe at code-styling.de  Sun Feb 22 15:28:10 2009
From: heiko.rabe at code-styling.de (Heiko Rabe)
Date: Sun Feb 22 15:28:09 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <DA489DFD-BF68-4950-81C4-2D322B57BA17@gmail.com>
References: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>	<FE7C7C82-EC6C-421B-B3B5-F406F8879FC5@gmail.com>	<49A16210.8000207@code-styling.de>	<349fe48b0902220641y7406296dk115e909e6ef35d1b@mail.gmail.com>	<49A168EB.7020305@code-styling.de>
	<DA489DFD-BF68-4950-81C4-2D322B57BA17@gmail.com>
Message-ID: <49A16F0A.1010602@code-styling.de>

May be, but the only way getting admin ajax calls running at a WP 2.6 
based installation is POST, you would loose your backward compatibility!
Here the only processed $_GET inside WP the 2.6 file:

<?php
define('DOING_AJAX', true);

require_once('../wp-load.php');
require_once('includes/admin.php');

if ( !is_user_logged_in() )
    die('-1');

if ( isset($_GET['action']) && 'ajax-tag-search' == $_GET['action'] ) {
    if ( !current_user_can( 'manage_categories' ) )
        die('-1');

    $s = $_GET['q']; // is this slashed already?

    if ( strstr( $s, ',' ) ) {
        $s = explode( ',', $s );
        $s = $s[count( $s ) - 1];
    }
    $s = trim( $s );
    if ( strlen( $s ) < 2 )
     die; // require 2 chars for matching
    $results = $wpdb->get_col( "SELECT name FROM $wpdb->terms WHERE name 
LIKE ('%". $s . "%')" );
    echo join( $results, "\n" );
    die;
}

So you will be not able to get your plugin running related to admin ajax 
calls, if you do GET calls. This will limit your implemantation to 
WordPress 2.7 and above.
If you prefere to combine POST and GET into one public ajax call hook, 
this could also be done.
But it would be a good idea to be able to disable GET based public ajax 
calls because is much more easy to flood the server with ordinary 
clickable links forcing ajax processing
instead of a form or application required to generate the POST call.

regards

Heiko Rabe
(www.code-styling.de)
>
> http://core.trac.wordpress.org/browser/tags/2.7/wp-admin/admin-ajax.php#L60 
>
>
> On Feb 22, 2009, at 10:02 AM, Heiko Rabe wrote:
>
>> The admin-ajax.php *only*! processes POST ajax calls, you can't 
>> request admin ajax content by using GET.
>> I would prefere to permit public ajax requests additional to be 
>> called by GET requests but the standard usage should be POST as done 
>> in admin ajax.
>>
>> regards
>>
>> Heiko Rabe
>> (www.code-styling.de)
>>> On Sun, Feb 22, 2009 at 4:32 PM, Heiko Rabe 
>>> <heiko.rabe@code-styling.de>wrote:
>>>
>>>
>>>> It's much easier to implement it in this way, if core would support 
>>>> it:
>>>>
>>>> add_action('wp_public_post_ajax-myfunction',
>>>> 'my_public_post_ajax_function');
>>>> add_action('wp_public_get_ajax-myfunction',
>>>> 'my_public_post_ajax_function');
>>>>
>>>>
>>>
>>> If it get's implemented, shouldn't there be a single hook that 
>>> handles both
>>> GET and POST request like in admin_ajax.php?
>>>
>>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Sun Feb 22 16:27:46 2009
From: otto at ottodestruct.com (Otto)
Date: Sun Feb 22 16:27:55 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update 
	Plugins)
In-Reply-To: <49A06994.8050006@santosj.name>
References: <8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>
	<49A06994.8050006@santosj.name>
Message-ID: <161617690902220827m1dfd25an93d7e37a94d23fb7@mail.gmail.com>

On Sat, Feb 21, 2009 at 2:52 PM, Jacob Santos <wordpress@santosj.name> wrote:
> "Why do they say, 'Code is Poetry'?"
>
> "I don't know, that is just something they say."
>
> "The code doesn't rhyme."

Most poetry doesn't rhyme either.

-Otto
From wp-hackers at striderweb.com  Sun Feb 22 19:22:30 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sun Feb 22 19:22:55 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <49A06994.8050006@santosj.name>
References: <EMEWEMEW2_DELIMl1JIlYd7ae7bbbea789329c883ec,
	mikeschinkel@newclarity.net, 27502408.1811235177261747.J>
	<8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>
	<49A06994.8050006@santosj.name>
Message-ID: <6F618861-D096-4251-BA1E-B4CBE1CF6AD8@striderweb.com>


On Feb 21, 2009, at 11:07 AM, Peter Westwood wrote:

> If you want to help get your patch committed you need to make sure  
> that it is obvious what it fixes so that I can test the fix, and  
> join us in #wordpress-dev and promote your patch if it languishes  
> (or CC my user id on the patch in trac to get my attention)

Careful Peter -- I think you just invited coders to cc you on every  
patch!  ;-)

When is a good time to find people on IRC?  Still Wednesdays at 2-ish?


Getting back briefly to the semi-original topic on this thread (where  
to put "support" files for plugins) -- as much as it did turn into an  
ego contest of sorts, in the end I did find the discussion useful.   
I'm going to pick a method and use it for my plugins, but the  
different arguments for why one location was better or worse than  
another were a good dose of perspective.

If I had the chops for it, I would put in a system for in-admin  
uploading of Styles for my Pull-Quotes plugin.  As it is I wouldn't  
trust myself *not* to either introduce security issues OR to make a  
system that will break down on half the platforms that aren't just  
like mine.  Minor plugins don't get the security vetting that core  
does -- all the more reason sometimes to introduce certain types of  
things to core.

On Feb 21, 2009, at 2:52 PM, Jacob Santos wrote:

> The "Code is Poetry" mantra is a farce and should die as the  
> religion behind it is no more
<snippety-snip-snip>

I'm sorry, but you appear to be getting off the topic of what topics  
are off-topic.

We just veered from "keep it technical" and "no bikeshedding" straight  
to "code isn't poetry unless it rhymes" and "code is like a woman"....?

Stephen

From justmichaelh at gmail.com  Sun Feb 22 19:24:55 2009
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Sun Feb 22 19:25:04 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
References: <8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>	<49A06994.8050006@santosj.name><ae81acd10902211456h5422bf65nc6e3d667c0053ad4@mail.gmail.com>
	<49A08D7D.3020208@santosj.name>
Message-ID: <57d001c99523$3fc3a470$6701a8c0@dell8600>

> I don't think it takes away from the overall message that "Code is Poetry" 
> is worthless, because it doesn't mean anything except to Matt Mullenweg 
> and if he uses it, then it will be another argument from fallacy

>I forgot to mention that I hate marketers (as well as telemarketers, but 
>for different reasons). The issue that once something logical goes to 
>marketing, they make it illogical in most cases.


Probably two good examples of why devs tire of this list.  Personal attacks 
and unrelated noise has got to wear...


MichaelH



From justmichaelh at gmail.com  Sun Feb 22 19:25:53 2009
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Sun Feb 22 19:26:16 2009
Subject: [wp-hackers] Deleting WordPress Tags
References: <77b239a00902220638g2cde3aa4if79fa39693341b2e@mail.gmail.com>
	<674b4a3b0902220703s38be8f7bn2963cafb5ed7bd0e@mail.gmail.com>
Message-ID: <57d101c99523$620860c0$6701a8c0@dell8600>


From: "Austin Matzko" <if.website@gmail.com>


> On Sun, Feb 22, 2009 at 8:38 AM, Thomas Belknap
>> I am in the process of writing a simple little plugin that finds and 
>> allows
>> you to delete orphaned tags.  I figured I'd just use a WP function that
>> deletes tags gracefully, but I was surprised to find that as far as I can
>> tell, no such function exists.
>
> You want wp_delete_term( 123, 'post_tag'), where 123 is the ID number
> of the tag.

Here's link to the same question in the forums
http://wordpress.org/support/topic/246360


MichaelH

From dragonfly at dragonflyeye.net  Sun Feb 22 19:27:23 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Sun Feb 22 19:27:48 2009
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 49, Issue 110
In-Reply-To: <20090222192257.AFA8E6590@comox.textdrive.com>
References: <20090222192257.AFA8E6590@comox.textdrive.com>
Message-ID: <77b239a00902221127k56d6aa23m6e7645a99c5cf15b@mail.gmail.com>

Thanks, Austin!




>
> Message: 5
> Date: Sun, 22 Feb 2009 09:03:36 -0600
> From: Austin Matzko <if.website@gmail.com>
> Subject: Re: [wp-hackers] Deleting WordPress Tags
> To: wp-hackers@lists.automattic.com
> Message-ID:
>        <674b4a3b0902220703s38be8f7bn2963cafb5ed7bd0e@mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Sun, Feb 22, 2009 at 8:38 AM, Thomas Belknap
> <dragonfly@dragonflyeye.net> wrote:
> > I am in the process of writing a simple little plugin that finds and
> allows
> > you to delete orphaned tags.  I figured I'd just use a WP function that
> > deletes tags gracefully, but I was surprised to find that as far as I can
> > tell, no such function exists.
>
> You want wp_delete_term( 123, 'post_tag'), where 123 is the ID number
> of the tag.
>
>
> ------------------------------
>
> Message: 6
> Date: Sun, 22 Feb 2009 10:06:46 -0500
> From: Casey Bisson <casey.bisson@gmail.com>
> Subject: Re: [wp-hackers] AJAX in plugins and public pages
> To: wp-hackers@lists.automattic.com
> Message-ID: <DA489DFD-BF68-4950-81C4-2D322B57BA17@gmail.com>
> Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
>
>
> http://core.trac.wordpress.org/browser/tags/2.7/wp-admin/admin-ajax.php#L60
>
> On Feb 22, 2009, at 10:02 AM, Heiko Rabe wrote:
>
> > The admin-ajax.php *only*! processes POST ajax calls, you can't
> > request admin ajax content by using GET.
> > I would prefere to permit public ajax requests additional to be
> > called by GET requests but the standard usage should be POST as done
> > in admin ajax.
> >
> > regards
> >
> > Heiko Rabe
> > (www.code-styling.de)
> >> On Sun, Feb 22, 2009 at 4:32 PM, Heiko Rabe <heiko.rabe@code-styling.de
> >> >wrote:
> >>
> >>
> >>> It's much easier to implement it in this way, if core would
> >>> support it:
> >>>
> >>> add_action('wp_public_post_ajax-myfunction',
> >>> 'my_public_post_ajax_function');
> >>> add_action('wp_public_get_ajax-myfunction',
> >>> 'my_public_post_ajax_function');
> >>>
> >>>
> >>
> >> If it get's implemented, shouldn't there be a single hook that
> >> handles both
> >> GET and POST request like in admin_ajax.php?
> >>
> >>
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> ------------------------------
>
> Message: 7
> Date: Sun, 22 Feb 2009 16:28:10 +0100
> From: Heiko Rabe <heiko.rabe@code-styling.de>
> Subject: Re: [wp-hackers] AJAX in plugins and public pages
> To: wp-hackers@lists.automattic.com
> Message-ID: <49A16F0A.1010602@code-styling.de>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> May be, but the only way getting admin ajax calls running at a WP 2.6
> based installation is POST, you would loose your backward compatibility!
> Here the only processed $_GET inside WP the 2.6 file:
>
> <?php
> define('DOING_AJAX', true);
>
> require_once('../wp-load.php');
> require_once('includes/admin.php');
>
> if ( !is_user_logged_in() )
>    die('-1');
>
> if ( isset($_GET['action']) && 'ajax-tag-search' == $_GET['action'] ) {
>    if ( !current_user_can( 'manage_categories' ) )
>        die('-1');
>
>    $s = $_GET['q']; // is this slashed already?
>
>    if ( strstr( $s, ',' ) ) {
>        $s = explode( ',', $s );
>        $s = $s[count( $s ) - 1];
>    }
>    $s = trim( $s );
>    if ( strlen( $s ) < 2 )
>     die; // require 2 chars for matching
>    $results = $wpdb->get_col( "SELECT name FROM $wpdb->terms WHERE name
> LIKE ('%". $s . "%')" );
>    echo join( $results, "\n" );
>    die;
> }
>
> So you will be not able to get your plugin running related to admin ajax
> calls, if you do GET calls. This will limit your implemantation to
> WordPress 2.7 and above.
> If you prefere to combine POST and GET into one public ajax call hook,
> this could also be done.
> But it would be a good idea to be able to disable GET based public ajax
> calls because is much more easy to flood the server with ordinary
> clickable links forcing ajax processing
> instead of a form or application required to generate the POST call.
>
> regards
>
> Heiko Rabe
> (www.code-styling.de)
> >
> >
> http://core.trac.wordpress.org/browser/tags/2.7/wp-admin/admin-ajax.php#L60
> >
> >
> > On Feb 22, 2009, at 10:02 AM, Heiko Rabe wrote:
> >
> >> The admin-ajax.php *only*! processes POST ajax calls, you can't
> >> request admin ajax content by using GET.
> >> I would prefere to permit public ajax requests additional to be
> >> called by GET requests but the standard usage should be POST as done
> >> in admin ajax.
> >>
> >> regards
> >>
> >> Heiko Rabe
> >> (www.code-styling.de)
> >>> On Sun, Feb 22, 2009 at 4:32 PM, Heiko Rabe
> >>> <heiko.rabe@code-styling.de>wrote:
> >>>
> >>>
> >>>> It's much easier to implement it in this way, if core would support
> >>>> it:
> >>>>
> >>>> add_action('wp_public_post_ajax-myfunction',
> >>>> 'my_public_post_ajax_function');
> >>>> add_action('wp_public_get_ajax-myfunction',
> >>>> 'my_public_post_ajax_function');
> >>>>
> >>>>
> >>>
> >>> If it get's implemented, shouldn't there be a single hook that
> >>> handles both
> >>> GET and POST request like in admin_ajax.php?
> >>>
> >>>
> >>
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers@lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> ------------------------------
>
> Message: 8
> Date: Sun, 22 Feb 2009 10:27:46 -0600
> From: Otto <otto@ottodestruct.com>
> Subject: Re: [wp-hackers] Improving the mailing list. (Was Auto Update
>        Plugins)
> To: wp-hackers@lists.automattic.com
> Message-ID:
>        <161617690902220827m1dfd25an93d7e37a94d23fb7@mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On Sat, Feb 21, 2009 at 2:52 PM, Jacob Santos <wordpress@santosj.name>
> wrote:
> > "Why do they say, 'Code is Poetry'?"
> >
> > "I don't know, that is just something they say."
> >
> > "The code doesn't rhyme."
>
> Most poetry doesn't rhyme either.
>
> -Otto
>
>
> ------------------------------
>
> Message: 9
> Date: Sun, 22 Feb 2009 13:22:30 -0600
> From: Stephen Rider <wp-hackers@striderweb.com>
> Subject: Re: [wp-hackers] Improving the mailing list. (Was Auto Update
>        Plugins)
> To: wp-hackers@lists.automattic.com
> Message-ID: <6F618861-D096-4251-BA1E-B4CBE1CF6AD8@striderweb.com>
> Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
>
>
> On Feb 21, 2009, at 11:07 AM, Peter Westwood wrote:
>
> > If you want to help get your patch committed you need to make sure
> > that it is obvious what it fixes so that I can test the fix, and
> > join us in #wordpress-dev and promote your patch if it languishes
> > (or CC my user id on the patch in trac to get my attention)
>
> Careful Peter -- I think you just invited coders to cc you on every
> patch!  ;-)
>
> When is a good time to find people on IRC?  Still Wednesdays at 2-ish?
>
>
> Getting back briefly to the semi-original topic on this thread (where
> to put "support" files for plugins) -- as much as it did turn into an
> ego contest of sorts, in the end I did find the discussion useful.
> I'm going to pick a method and use it for my plugins, but the
> different arguments for why one location was better or worse than
> another were a good dose of perspective.
>
> If I had the chops for it, I would put in a system for in-admin
> uploading of Styles for my Pull-Quotes plugin.  As it is I wouldn't
> trust myself *not* to either introduce security issues OR to make a
> system that will break down on half the platforms that aren't just
> like mine.  Minor plugins don't get the security vetting that core
> does -- all the more reason sometimes to introduce certain types of
> things to core.
>
> On Feb 21, 2009, at 2:52 PM, Jacob Santos wrote:
>
> > The "Code is Poetry" mantra is a farce and should die as the
> > religion behind it is no more
> <snippety-snip-snip>
>
> I'm sorry, but you appear to be getting off the topic of what topics
> are off-topic.
>
> We just veered from "keep it technical" and "no bikeshedding" straight
> to "code isn't poetry unless it rhymes" and "code is like a woman"....?
>
> Stephen
>
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 49, Issue 110
> *******************************************
>
From ozh at planetozh.com  Sun Feb 22 19:45:25 2009
From: ozh at planetozh.com (Ozh)
Date: Sun Feb 22 19:45:39 2009
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 49, Issue 110
In-Reply-To: <77b239a00902221127k56d6aa23m6e7645a99c5cf15b@mail.gmail.com>
References: <20090222192257.AFA8E6590@comox.textdrive.com>
	<77b239a00902221127k56d6aa23m6e7645a99c5cf15b@mail.gmail.com>
Message-ID: <ae81acd10902221145l4229f94aw4a7c674ff9b1706@mail.gmail.com>

Would be cool if the list would silently delete all mails containing
"/wp-hackers Digest, Vol \d+, Issue \d+/" ...

Ozh
-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News
From zamoose at gmail.com  Sun Feb 22 19:47:50 2009
From: zamoose at gmail.com (Doug Stewart)
Date: Sun Feb 22 19:47:58 2009
Subject: [wp-hackers] Re: [wp-testers] Experimental Proxy Support in
	WordPress
In-Reply-To: <49A132F5.7010908@santosj.name>
References: <49A132F5.7010908@santosj.name>
Message-ID: <71ddd7490902221147p1dafdf1an2012279a17dd4452@mail.gmail.com>

On Sun, Feb 22, 2009 at 6:11 AM, Jacob Santos <wordpress@santosj.name>wrote:

> There was some complaining about the lack of proxy support[1], but a patch
> has been added [2]. If you check the documentation that is in the patch, you
> can find the code needed to enable the proxy support (requires modifying
> wp-config.php).
>
> Here are some things that needs testing.
>
> Current issue with the fsockopen is that nothing appears to be returned
> with no errors and warning as to the cause.
>
> Current issue with streams is that it throws some error.
>
> Current issue with cURL is that there is some obscure bug in it that may
> return some Headers mixed in with the body (no known fix at this time, nor
> probably will there be one if no one else has a problem).
>
> Current issue with HTTP extension transport is that it hasn't been tested.
>
> Well, good luck. It will be easier if you use subversion and apply the
> patch. Also, I'm cross posting to wp-hackers to get those people who were
> interested in WordPress having support for it.
>


Excellent.  I'll test on Monday.


-- 
-Doug
From wordpress at santosj.name  Sun Feb 22 21:16:12 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Feb 22 21:16:26 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <6F618861-D096-4251-BA1E-B4CBE1CF6AD8@striderweb.com>
References: <EMEWEMEW2_DELIMl1JIlYd7ae7bbbea789329c883ec,
	mikeschinkel@newclarity.net,
	27502408.1811235177261747.J>	<8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>	<49A06994.8050006@santosj.name>
	<6F618861-D096-4251-BA1E-B4CBE1CF6AD8@striderweb.com>
Message-ID: <49A1C09C.8080109@santosj.name>

Yes, I have been writing satire lately. Perhaps, it is because the 
discussions have ventured off into worthless topics. I'm just going with 
the flow. I like to have fun. Also, you are factually incorrect. I did 
give technical details, I apologize if you didn't read past the first 
sentence. So you're probably not going to read this whole reply either, 
so I put this up here to let you know that.

You have an long discussion about where to put data based on that every 
file in the directory is deleted when it is upgraded. WordPress does not 
put many restrictions based on plugins, nor does it have many standards. 
Based on this assumption, having a discussion about where to put 
something that you can put anywhere, except where limited by permissions 
is worthless. You have people complaining about plugin directory being 
deleted and you have people complaining about plugins being deleted when 
it is uninstalled (yeah! That is the whole point, genius! The plugin 
doesn't want it, so everything must go, including the data you created, 
everything!)

Take this other thread, with all due respect to Peter Westwood (because 
I really do respect him, he is my favorite core committer), but it has 
been a slap in the face every time I read "Code is Poetry" when 
associated with WordPress.

Technical Details:

1. WordPress used to have issues with its own coding standards, it 
wasn't until 2.5 and 2.6 where a collective effort was unleashed to 
clean it up.
2. WordPress given nature with different patches and developers, it is 
understandable that there would be an instance where a while loop was 
used when a for loop should have been.
3. Inconsistency in API function names (now of course PHP has this 
problem, it is funny, because it is the same reason WordPress has this 
problem).
4. The code doesn't rhyme (yeah, not all poetry rhymes, sure, "the art 
of rhythmical composition, written or spoken, for exciting pleasure by 
beautiful, imaginative, or elevated thoughts." [1] )
5. Doing a google search for "Code is Poetry" turns up very poor results 
for anything, now I remember Matt talking about a site or post he read 
that turned him to the motto, but it no longer exists where Google can 
find it (most likely on a later page). A search on Matt's site, only 
turns up results from people in the comments. Therefore, I mean there 
are no direct definitions or explanation of what the motto means to 
WordPress.
6. Poetry is generally abstract, and programmers create solutions which 
are concrete.
7. Poetry isn't a coding standard, actual guidelines are, which are 
concrete directions and instructions on how code should be written. 
Poetry is not absolute enough to be part of that standard.

So the point of "Code is Poetry" is that code should be beautiful, which 
is what I stated in my reply. I can infer that from different sources 
I've read about how code should be written, so that other programmers 
can look at it and use it. "Code should be self-documenting," "Code 
shouldn't 'Smell'," coding standards, coding metrics, C.R.A.P, go 
towards this notion of "Poetry" but serves nothing to define it. I mean, 
this is what it means to me from what I've read about well written code. 
Imagine what it means to you or some novice who has no idea what OOP 
means, what the Blob anti-pattern is, principles of coding standards, 
and writing code that is needs minimal documentation, that is 
understandable with minimal knowledge.

The problem is that as a developer, I create solutions for problems. 
Poetry is beautiful as an expression and time waster, but does not pave 
any way towards creating solutions. As a guideline, WordPress has been a 
long way coming to reaching the goal of "Code is Poetry," so if they 
were coming out now for the motto, then yeah, I would be all for it, but 
they've been on it since day one, when WordPress was no where near where 
it needed to be for "Code is Poetry."

Everyone thinks their code doesn't "smell" [2] so it is understandable 
that developers of WordPress would lock on to the motto, because hey, 
they wrote it and can understand it. Back to the concept of developing 
solutions, poetry is nice, when you have time and don't have to worry 
about backwards compatibility, and users, and other developers.

So maybe it is bikeshedding over the what the motto should be called, 
however, my contention is that it is without definition, so it is up for 
interpretation. So what Peter thinks is Poetry, might be different from 
what Ryan thinks is Poetry, and might be different from what Matt thinks 
is Poetry. However, they generally all talk together, so they may have a 
better idea of what Matt thinks is Poetry, but no one else contributing 
is going to.

WTF? I don't know, I don't care. If it means code should be beautiful, 
based on the above guidelines, then say so. However, even that is still 
without definition. I'm asking for some concrete not something abstract 
like poetry.

Jacob Santos


[1] http://dictionary.reference.com/browse/poetry #1.
[2] I can neither confirm nor deny that my code does or does not smell 
with any affirmative or denial.


Stephen Rider wrote:
> I'm sorry, but you appear to be getting off the topic of what topics 
> are off-topic.
>
> We just veered from "keep it technical" and "no bikeshedding" straight 
> to "code isn't poetry unless it rhymes" and "code is like a woman"....?
>
> Stephen
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at santosj.name  Sun Feb 22 21:32:32 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Feb 22 21:32:44 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <57d001c99523$3fc3a470$6701a8c0@dell8600>
References: <8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>	<49A06994.8050006@santosj.name><ae81acd10902211456h5422bf65nc6e3d667c0053ad4@mail.gmail.com>	<49A08D7D.3020208@santosj.name>
	<57d001c99523$3fc3a470$6701a8c0@dell8600>
Message-ID: <49A1C470.9080606@santosj.name>

I should clarify, if Matt Mullenweg uses the argument, "I don't like 
that because it isn't poetry." then the argument is fallacy, because it 
lacks facts, explanation, or definition for which others can understand 
the meaning. It takes away from the argument without explaining anything 
and moving it away with something that makes no sense.

If he came out and said, "That isn't going to happen, because I said 
so." Then that is okay, because he is the project leader, and well, you 
know, at the end of the day, what the project leader says is the law. 
That said, the project leader shouldn't try to use politics. Matt hasn't 
done this, because well, he hasn't really replied to any topic in a 
long, long time and even then it wasn't this. I apologize, if you didn't 
recognize a hypothetical situation benefiting an example. When you take 
things out of context, things can appear, however you want to make them.

I remember having a class that was half business and half technical for 
CIT program in college. The problem for me was that they called 
something that I knew something completely different, so it confused me. 
Here I am going along thinking, this word or phrase means this and then 
for some reason known only to marketing, they change it, which threw me 
off. Perhaps I was being irrational and I apologize.

Jacob Santos

Michael E. Hancock wrote:
>> I don't think it takes away from the overall message that "Code is 
>> Poetry" is worthless, because it doesn't mean anything except to Matt 
>> Mullenweg and if he uses it, then it will be another argument from 
>> fallacy
>
>> I forgot to mention that I hate marketers (as well as telemarketers, 
>> but for different reasons). The issue that once something logical 
>> goes to marketing, they make it illogical in most cases.
>
>
> Probably two good examples of why devs tire of this list.  Personal 
> attacks and unrelated noise has got to wear...
>
>
> MichaelH
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at santosj.name  Sun Feb 22 21:44:36 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Sun Feb 22 21:44:45 2009
Subject: Change the subject line when replying to digest (Re: [wp-hackers]
	Re: wp-hackers Digest, Vol 49, Issue 110)
In-Reply-To: <ae81acd10902221145l4229f94aw4a7c674ff9b1706@mail.gmail.com>
References: <20090222192257.AFA8E6590@comox.textdrive.com>	<77b239a00902221127k56d6aa23m6e7645a99c5cf15b@mail.gmail.com>
	<ae81acd10902221145l4229f94aw4a7c674ff9b1706@mail.gmail.com>
Message-ID: <49A1C744.6020009@santosj.name>

I was once on a list that would ban you if you didn't change the subject 
line when replying a digest. As well as delete emails from it that 
weren't part of the reply.

Jacob Santos

Ozh wrote:
> Would be cool if the list would silently delete all mails containing
> "/wp-hackers Digest, Vol \d+, Issue \d+/" ...
>
> Ozh
>   

From dragonfly at dragonflyeye.net  Sun Feb 22 21:47:47 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Sun Feb 22 21:48:03 2009
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 49, Issue 111
In-Reply-To: <20090222211629.012056F14@comox.textdrive.com>
References: <20090222211629.012056F14@comox.textdrive.com>
Message-ID: <77b239a00902221347m1d84d415uf57cf958791e82ef@mail.gmail.com>

Would be cool if the list would silently delete all mails containing
"/wp-hackers Digest, Vol \d+, Issue \d+/" ...

I'd be inclined to agree.  But gMail's not big on allowing you to rewrite
the title of an email.  It is what it is.
From harish.mlists at gmail.com  Sun Feb 22 21:53:40 2009
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Sun Feb 22 21:53:53 2009
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 49, Issue 110
In-Reply-To: <ae81acd10902221145l4229f94aw4a7c674ff9b1706@mail.gmail.com>
References: <20090222192257.AFA8E6590@comox.textdrive.com>	<77b239a00902221127k56d6aa23m6e7645a99c5cf15b@mail.gmail.com>
	<ae81acd10902221145l4229f94aw4a7c674ff9b1706@mail.gmail.com>
Message-ID: <49A1C964.20508@gmail.com>

Ozh wrote:
> Would be cool if the list would silently delete all mails containing
> "/wp-hackers Digest, Vol \d+, Issue \d+/" ...

And on a related note, also nuke any e-mail originating from a silly
e-mail client (Zimbra?) that breaks threading for others.

Harish
From listswphackers at mist.org.uk  Sun Feb 22 22:04:43 2009
From: listswphackers at mist.org.uk (mrmist)
Date: Sun Feb 22 22:05:03 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <49A1C09C.8080109@santosj.name>
References: <8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>
	<49A06994.8050006@santosj.name>
	<6F618861-D096-4251-BA1E-B4CBE1CF6AD8@striderweb.com>
	<49A1C09C.8080109@santosj.name>
Message-ID: <O5UTg+M7vcoJFw8+@dsl-217-155-35-239.zen.co.uk>

In message <49A1C09C.8080109@santosj.name>, Jacob Santos 
<wordpress@santosj.name> writes
>
>WTF? I don't know, I don't care. If it means code should be beautiful, 
>based on the above guidelines, then say so. However, even that is still 
>without definition. I'm asking for some concrete not something abstract 
>like poetry.
>

Your posts are great man.  I am always entertained.

Lots of big corporations have "mission statements" and things these 
days, I think it's pretty "cool" to have one.  But generally what's 
happened to create them is that some big bosses have gotten together in 
a smoke-filled room [1], chatted about nonsense and then created some 
terms that they think sound really great.

The problem is though that these get sent out to the staff in a mail, 
and they don't mean anything.  It'll be something dynamic sounding like 
"Always think pro-active".  It's meant to inspire everyone but all it 
does is make people think "huh?".

That's kind of what you have here with the poetry stuff.  Probably 
sounds great and is a nice buzzline, but means absolutely nothing except 
maybe to he who said it.  Even then it'd lose something in the 
translation.  And it's not even from a large company.


[1] Probably not smoke filled these days as it'd be illegal.

-- 
mrmist
From cclarkson at htcomp.net  Sun Feb 22 22:28:32 2009
From: cclarkson at htcomp.net (Charles K. Clarkson)
Date: Sun Feb 22 22:29:17 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <49A16F0A.1010602@code-styling.de>
References: <5dc2163e0902211835u301492a9t709fb184ffe5ab3@mail.gmail.com>	<FE7C7C82-EC6C-421B-B3B5-F406F8879FC5@gmail.com>	<49A16210.8000207@code-styling.de>	<349fe48b0902220641y7406296dk115e909e6ef35d1b@mail.gmail.com>	<49A168EB.7020305@code-styling.de>	<DA489DFD-BF68-4950-81C4-2D322B57BA17@gmail.com>
	<49A16F0A.1010602@code-styling.de>
Message-ID: <49A1D190.3010806@htcomp.net>

Heiko Rabe wrote:

> May be, but the only way getting admin ajax calls running at a WP 2.6 
> based installation is POST, you would loose your backward compatibility!
> Here the only processed $_GET inside WP the 2.6 file:
[snipped code]

There's probably some good reason so feel free to use a strong 2 X 4 to
answer this, but ...:

Why use $_GET and $_POST over $_REQUEST? $_REQUEST is backward 
compatible to 4.1.1 (I think?).


HTH,

Charles Clarkson
-- 
Mobile Home Investor
Free Market Advocate
Programmer

Stephenville, TX
http://www.clarksonenergyhomes.com/wordpress/about/
http://twitter.com/CharlesClarkson
+1 (254) 968-8328
From mikeschinkel at newclarity.net  Sun Feb 22 22:36:53 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun Feb 22 22:37:12 2009
Subject: [wp-hackers] AJAX in plugins and public pages
In-Reply-To: <1101268.81235342139174.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1LGar36c086bba5cdb7c98f314a,
	mikeschinkel@newclarity.net, 16905259.101235342222703.J>

"Charles K. Clarkson" <cclarkson@htcomp.net> wrote:

> Why use $_GET and $_POST over $_REQUEST?

Proper use of HTTP and RESTful web services both explicitly differentiate between GET & POST:

Background & supporting info:

-- http://www.cs.tut.fi/~jkorpela/forms/methods.html
-- http://insecureweb.com/web-security/http-methods-get-vs-post/
-- http://www.xml.com/pub/a/2004/12/01/restful-web.html

-Mike Schinkel
http://mikeschinkel.com/
From jason at intraffic.net  Sun Feb 22 22:44:01 2009
From: jason at intraffic.net (Jason Webster)
Date: Sun Feb 22 22:45:20 2009
Subject: [wp-hackers] Re: wp-hackers Digest, Vol 49, Issue 111
In-Reply-To: <77b239a00902221347m1d84d415uf57cf958791e82ef@mail.gmail.com>
References: <20090222211629.012056F14@comox.textdrive.com>
	<77b239a00902221347m1d84d415uf57cf958791e82ef@mail.gmail.com>
Message-ID: <49A1D531.1070306@intraffic.net>

On 22/02/2009 1:47 PM, Thomas Belknap wrote:
> Would be cool if the list would silently delete all mails containing
> "/wp-hackers Digest, Vol \d+, Issue \d+/" ...
>
> I'd be inclined to agree.  But gMail's not big on allowing you to rewrite
> the title of an email.  It is what it is.

There's a "Edit Subject" button just below the To: field on replies. It is what it is.
From hempsworth at googlemail.com  Sun Feb 22 23:28:14 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sun Feb 22 23:28:26 2009
Subject: [wp-hackers] OT: Contacting Gravatar, OpenID integration
Message-ID: <5a1dad880902221528g3e13033ex9758bd1c6fc23018@mail.gmail.com>

Hi all,
I know this won't be the right place to contact Automattic regarding the
Gravatar, but I'm not sure where to turn. I'd like to contact them regarding
OpenID integration [1], but there's no contact page on the Gravatar
website. Should I use the contact form on the Automattic site?

Seeing as there's lots of Automattic employees here, I thought somebody
could push me in the right direction!

Many thanks,
Alex

[1] Namely, the possibility of having a system implemented that allowed
users to assign an OpenID URL to their account, exactly the same as email
addresses currently are, and then being able to reference that in a Gravatar
URL using an MD5'd OpenID URL instead of an email address. Many, many people
have been crying out for this on the Get Satisfaction forums, so I said I
would contact Automattic about it.
From wordpress at santosj.name  Mon Feb 23 01:48:44 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Mon Feb 23 01:48:56 2009
Subject: [wp-hackers] Improving the mailing list. (Was Auto Update Plugins)
In-Reply-To: <O5UTg+M7vcoJFw8+@dsl-217-155-35-239.zen.co.uk>
References: <8DAD4A7F-1922-4BAD-8F06-A8D022C5E432@ftwr.co.uk>	<49A06994.8050006@santosj.name>	<6F618861-D096-4251-BA1E-B4CBE1CF6AD8@striderweb.com>	<49A1C09C.8080109@santosj.name>
	<O5UTg+M7vcoJFw8+@dsl-217-155-35-239.zen.co.uk>
Message-ID: <49A2007C.9080806@santosj.name>

Oh yeah, I forgot my point in my last reply [1]. As seen from past 
threads and experience, discussions on standards for this mailing list 
and wp-testers has gone no where [2]. There is no moderator [3], which 
would be a requirement for any restrictions or rules [4]. The arguments 
for and against having one has already been discussed with no results. I 
can't believe this topic happened again [5].

So generally, improving the mailing list thread is again, another 
pointless thread, because no one is going to change and the mailing list 
isn't going to change [7]. I'm an asshole, I'm fine with that, so I'm 
going to continue replying to pointless threads with pointless emails 
[6]. Even if I don't kill the thread, it is somewhat fun for me.

I look forward to replying in kind when this thread topic resurfaces in 
6 to 12 months [8]. See you then. Just expect me to be kicking kittens 
[9] and burn bridges [10] when it does. Oh yeah, for the record, I think 
it was about 12 to 14 months when this last topic came up [11].

In conclusion, the real work is done on Trac. If you want patches 
committed, you go and whine or complain or if the core team didn't 
realize, inform them on IRC. I have, historically, seen very little 
actual work come out of discussions on wp-hackers. I do not expect that 
to change. It is still very interesting to see everyone bicker thinking 
that something will be done, or in the rare instance that someone steps 
forward and makes a difference, it will most likely be done on Trac.

Jacob Santos

[1] I usually get caught up in the journey that I forget the destination.

[2] It is easier to do nothing and discuss doing something than stepping 
forward and saying, "This is what I've done, what do you think?" Sadly, 
this is what Peter was getting at and the guidelines may work for a 
short, if at all, but new people won't know and the same discussion will 
be had over again. However, most discussions, "This is what I've done," 
are on Trac and critique there and approved there (or IRC).

[3] Not many read past discussions, there is just too much and it would 
take far to long. I've often thought of creating a summary, but after 
attempting it, 1) I realized it was a full time job, 2) that I sucked at 
writing, 3) Putting discussions in my own words, when I don't care or 
know what people are talking about or why is extremely difficult. Even 
then, reading the PHP Internal Summaries is still very time consuming 
process.

[4] From what I can remember, Matt didn't want to hinder creativity on 
the list and move to a dicatorship. Basically, with a moderator, in some 
instances, those with Karma have a higher standing with said moderator 
than some new guy who might have great new ideas, but gets shot down by 
those with Karma and backed up by the moderator. Even without a 
moderator, those with Karma do have a greater standing with arguments 
than those who are new or unknown. People shouldn't think that since 
they don't contribute, they don't have a voice about issues. People who 
do contribute shouldn't consider themselves better or their opinions 
better than those who don't. If it appears that I do that, then it is 
only because I'm an asshole and not that I think your opinion is any less.

[5] It seems that the hot topics resurface from time to time. There was 
a discussion on adding inline documentation to WordPress at least 5 
times before something was actually done to fit it. So I'm not saying 
that nothing ever comes out of these discussions, because there are 
productive threads where action is taken. However, at some point, people 
have to stop talking and actually do shit. I do seem to contradict 
myself, the point is to either put forth an issue and call for action 
and step back, if you don't have the ability to take action or don't 
have the time (people have lives and a ton of over stuff on their plate, 
someone might be willing to take action, but not have the time, so I 
guess reminding them is okay). "+1" replies is okay, you agree, but 
please do so silently. If I see a thread with 20 to 30 replies, then I 
consider that thread taken care of without any need for me to get to 
involved. I'll be more likely to take action, if I see something that I 
worked with or am interested in or a thread isn't getting enough 
replies. It doesn't help when a thread gets 50 replies that's saying the 
same thing from different people. If someone like me or God forbid, DD32 
(for the umpteenth time) jumped in and explained the situation, it 
probably would have quickly turned into an argument. You can reference 
the 3+ tickets of people who disagree with DD32, even after he explained 
why and gave solutions.

[6] I think I'll stop with the pointless sarcasm, because it isn't 
helping and just extends the pointless threads. Well, I can't I'll 
continue this. I tend to forget and it is my nature to enhance 
conflicts. Well, it also depends on how much time I have outside of work 
and current projects.

[7] At least not without a full time moderator, which I can hear the 
screams now, both at the initial employment and after people realize it 
was a bad idea.

[8] Seems to be about when the memory lapses of the past thread or some 
new person comes in with the issue. The exact time is difficult to 
predict, because it is based on a problem existing. Matt created a FAQ 
on common questions, and yet questions are still asked from time to time 
that are details on that list.

[9] I would never actually harm the little, cute, warm, soft, lovable 
little baskets full of joy.

[10] There are probably many places where they'll laugh me out the door, 
if I ever attempted to apply at their company. Automattic, is only one 
of them (actually, they didn't laugh).

[11] Might have been September - November 2007. I think it was a 
misunderstanding over PHP5. For the record, I didn't want WordPress to 
switch PHP5.
From nb at nikolay.bg  Mon Feb 23 11:36:49 2009
From: nb at nikolay.bg (Nikolay Bachiyski)
Date: Mon Feb 23 11:37:00 2009
Subject: [wp-hackers] Fix that translated WordPress takes 86% longer to 
	start
In-Reply-To: <7547287e0902191247p143265fcsed89a2a744f8053c@mail.gmail.com>
References: <7547287e0902191247p143265fcsed89a2a744f8053c@mail.gmail.com>
Message-ID: <87e663fa0902230336lcbd3a99l1486d88a9697a9ab@mail.gmail.com>

On Thu, Feb 19, 2009 at 22:47, Johan Eenfeldt <johan.eenfeldt@gmail.com> wrote:
> Solution 2: cache i10n object (in this case using APC)
>

Caching it locally sounds like the best approach, because it is used
in virtually every request and the files are big.

We have tried caching it remotely in memcached on WordPress.com, but
it wasn't any faster than reading the MO files locally.

> 2 is possible to implement with a plugin by adding a filter to
> load_textdomain(). If noone tells me its a bad idea :) I'll add a trac
> item and see what happens.

Allowing you re write your own load_textdomain is reasonable.

> Splitting the mo file and handling the result can be done with a
> plugin already. I don't however really see a reason why it isn't the
> standard setup:
> - it takes back much of the cost of translation
> - it makes the i10n object ~300k smaller (for each thread/process)
> - the split can easily be scripted

Effective splitting is not that easy. Although all strings defined in
wp-admin are used only there, there are many strings in wp-includes,
which are also used only in admin context. Gettext doesn't support
string tagging out of the box.

Happy hacking,
Nikolay.
From autremonde75 at gmail.com  Mon Feb 23 19:06:28 2009
From: autremonde75 at gmail.com (L'Autre Monde)
Date: Mon Feb 23 19:06:34 2009
Subject: [wp-hackers] Ajax calls and cookie within the admin
Message-ID: <B886E64B4E72430F9C7E425DAD0DB7A0@pluton>

Hello,

I am trying to secure a plugin. I am wondering how to handle the cookie on the server side.

On the client side, I am performing this call :
jQuery.post("<?php echo $site_url; ?>/wp-admin/admin-ajax.php", {action:"my_ajax_call", 'cookie': encodeURIComponent(document.cookie), ajax_call_param:ajaxcall_param},
      function(res)
      {
        ...
      }

One way to secure the call is to use the check_ajax_referer with nonce which work pretty fine. Now I would like to understand how to handle the cookie sent out to the server through Ajax. I have made some researches but I cannot find out any details on the cookie handling for ajax calls.

Cheers,

Olivier
From daiv at daivmowbray.com  Mon Feb 23 20:05:56 2009
From: daiv at daivmowbray.com (Daiv Mowbray)
Date: Mon Feb 23 20:06:09 2009
Subject: [wp-hackers] Auto Update Plugins
In-Reply-To: <349fe48b0902171457x584dda4w25fff74c385e0fd5@mail.gmail.com>
References: <20090217214720.E59206F5C@comox.textdrive.com>
	<4F582C1F-4FDF-4D9E-B0E1-F108235D4D5E@smithsrus.com>
	<161617690902171444ge2b43e6gb826ba9c65ea92ea@mail.gmail.com>
	<349fe48b0902171457x584dda4w25fff74c385e0fd5@mail.gmail.com>
Message-ID: <AA6991F5-386C-4E10-A21E-5706D1829DF7@daivmowbray.com>


On Feb 17, 2009, at 11:57 PM, scribu wrote:

> I have a plugin that generates a skinable carousel. The user's CSS  
> file
> could be stored in wp-content/plugins-data/my-plugin/ but it would  
> actualy
> make more sense in the current theme directory, since the ideea  
> would be to
> make it blend with the rest of the site

I had thought that as well, but
what happens when I change themes.

Also I am using:
  wp-content/plugins-data/my-plugin-suite/my-plugin-z/theme-A

  wp-content/plugins-data/my-plugin-suite/my-plugin-z/theme-B

  wp-content/plugins-data/my-plugin-suite/my-plugin-z/theme-C

  wp-content/plugins-data/my-plugin-suite/my-plugin-z/theme-D

  wp-content/plugins-data/my-plugin-suite/my-plugin-x/theme-A

  wp-content/plugins-data/my-plugin-suite/my-plugin-x/theme-B

  wp-content/plugins-data/my-plugin-suite/my-plugin-x/theme-C

  wp-content/plugins-data/my-plugin-suite/my-plugin-x/theme-D

This way, under my suite the user may have one or more plugins, and  
for each use a different theme.

----------
Daiv Mowbray
daiv@daivmowbray.com
----------


From if.website at gmail.com  Mon Feb 23 20:32:18 2009
From: if.website at gmail.com (Austin Matzko)
Date: Mon Feb 23 20:32:28 2009
Subject: [wp-hackers] Ajax calls and cookie within the admin
In-Reply-To: <B886E64B4E72430F9C7E425DAD0DB7A0@pluton>
References: <B886E64B4E72430F9C7E425DAD0DB7A0@pluton>
Message-ID: <674b4a3b0902231232gacab16bg67cbd3dab1f534c0@mail.gmail.com>

On Mon, Feb 23, 2009 at 1:06 PM, L'Autre Monde <autremonde75@gmail.com> wrote:
> One way to secure the call is to use the check_ajax_referer with nonce which work pretty fine. Now I would like to understand how to handle the cookie sent out to the server through Ajax. I have made some researches but I cannot find out any details on the cookie handling for ajax calls.

If the cookies are set in the browser (which they should be, since
this is "within the admin", so the user must be logged in), then your
browser sends the cookie data in the header of the Ajax request:
there's no need for you to encode the cookie data directly as you do
in your example.
From autremonde75 at gmail.com  Mon Feb 23 20:36:26 2009
From: autremonde75 at gmail.com (L'Autre Monde)
Date: Mon Feb 23 20:36:36 2009
Subject: [wp-hackers] Ajax calls and cookie within the admin
References: <B886E64B4E72430F9C7E425DAD0DB7A0@pluton>
	<674b4a3b0902231232gacab16bg67cbd3dab1f534c0@mail.gmail.com>
Message-ID: <D3D29FAB881E41A7B93EAB2B0A03C4AC@pluton>

Ok but then, what do I need to perform to secure my ajax handler on the 
server side? Is there a method to check the cookie validity? Is the nonce 
verification enough?

----- Original Message ----- 
From: "Austin Matzko" <if.website@gmail.com>
To: <wp-hackers@lists.automattic.com>
Sent: Monday, February 23, 2009 9:32 PM
Subject: Re: [wp-hackers] Ajax calls and cookie within the admin


On Mon, Feb 23, 2009 at 1:06 PM, L'Autre Monde <autremonde75@gmail.com> 
wrote:
> One way to secure the call is to use the check_ajax_referer with nonce 
> which work pretty fine. Now I would like to understand how to handle the 
> cookie sent out to the server through Ajax. I have made some researches 
> but I cannot find out any details on the cookie handling for ajax calls.

If the cookies are set in the browser (which they should be, since
this is "within the admin", so the user must be logged in), then your
browser sends the cookie data in the header of the Ajax request:
there's no need for you to encode the cookie data directly as you do
in your example.
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers 

From if.website at gmail.com  Mon Feb 23 20:57:48 2009
From: if.website at gmail.com (Austin Matzko)
Date: Mon Feb 23 20:57:59 2009
Subject: [wp-hackers] Ajax calls and cookie within the admin
In-Reply-To: <D3D29FAB881E41A7B93EAB2B0A03C4AC@pluton>
References: <B886E64B4E72430F9C7E425DAD0DB7A0@pluton>
	<674b4a3b0902231232gacab16bg67cbd3dab1f534c0@mail.gmail.com>
	<D3D29FAB881E41A7B93EAB2B0A03C4AC@pluton>
Message-ID: <674b4a3b0902231257v6959c7ffu1adc1ee249bae004@mail.gmail.com>

On Mon, Feb 23, 2009 at 2:36 PM, L'Autre Monde <autremonde75@gmail.com> wrote:
> Ok but then, what do I need to perform to secure my ajax handler on the
> server side? Is there a method to check the cookie validity? Is the nonce
> verification enough?

No, nonces are meant mainly to prevent XSS attacks[1].  You need also
to check the capabilities of the user making the Ajax request.  What
you check depends on what the person is doing.  For example, if it has
to do with changing post data, you might check whether that user can
edit posts in general:

if ( current_user_can('edit_posts') ) {
}

or a particular post, in this case one with the ID of 123:

if ( current_user_can('edit_post', 123) ) {

}

[1] http://en.wikipedia.org/wiki/Cross-site_scripting
From casey.bisson at gmail.com  Mon Feb 23 21:05:24 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Mon Feb 23 21:09:22 2009
Subject: [wp-hackers] Ajax calls and cookie within the admin
In-Reply-To: <674b4a3b0902231257v6959c7ffu1adc1ee249bae004@mail.gmail.com>
References: <B886E64B4E72430F9C7E425DAD0DB7A0@pluton>
	<674b4a3b0902231232gacab16bg67cbd3dab1f534c0@mail.gmail.com>
	<D3D29FAB881E41A7B93EAB2B0A03C4AC@pluton>
	<674b4a3b0902231257v6959c7ffu1adc1ee249bae004@mail.gmail.com>
Message-ID: <5929418A-23D1-4E8D-A2D9-C2681379C68C@gmail.com>


You might want to take a look at admin-ajax.php, both to see how  
things get secured in there and how you can plug into it with your  
project.

http://core.trac.wordpress.org/browser/tags/2.7.1/wp-admin/admin-ajax.php

--Casey

http://maisonbisson.com
http://about.scriblio.net

On Mon, Feb 23, 2009 at 2:36 PM, L'Autre Monde  
<autremonde75@gmail.com> wrote:

> Ok but then, what do I need to perform to secure my ajax handler on  
> the
> server side? Is there a method to check the cookie validity? Is the  
> nonce
> verification enough?
From autremonde75 at gmail.com  Mon Feb 23 21:25:43 2009
From: autremonde75 at gmail.com (L'Autre Monde)
Date: Mon Feb 23 21:25:56 2009
Subject: [wp-hackers] Ajax calls and cookie within the admin
References: <B886E64B4E72430F9C7E425DAD0DB7A0@pluton><674b4a3b0902231232gacab16bg67cbd3dab1f534c0@mail.gmail.com><D3D29FAB881E41A7B93EAB2B0A03C4AC@pluton><674b4a3b0902231257v6959c7ffu1adc1ee249bae004@mail.gmail.com>
	<5929418A-23D1-4E8D-A2D9-C2681379C68C@gmail.com>
Message-ID: <AC64C470B001443991046CA3C0EB52CC@pluton>

Casey, Austin,

Thanks for the clarification. I know understand that the cookie thing is 
handled separatly and my duty is just to ensure that the current_user has 
the rights to do what he tries to do...

Cheers,

Olivier


----- Original Message ----- 
From: "Casey Bisson" <casey.bisson@gmail.com>
To: <wp-hackers@lists.automattic.com>
Sent: Monday, February 23, 2009 10:05 PM
Subject: Re: [wp-hackers] Ajax calls and cookie within the admin


>
> You might want to take a look at admin-ajax.php, both to see how  things 
> get secured in there and how you can plug into it with your  project.
>
> http://core.trac.wordpress.org/browser/tags/2.7.1/wp-admin/admin-ajax.php
>
> --Casey
>
> http://maisonbisson.com
> http://about.scriblio.net
>
> On Mon, Feb 23, 2009 at 2:36 PM, L'Autre Monde  <autremonde75@gmail.com> 
> wrote:
>
>> Ok but then, what do I need to perform to secure my ajax handler on  the
>> server side? Is there a method to check the cookie validity? Is the 
>> nonce
>> verification enough?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 

From moucine24 at yahoo.com  Tue Feb 24 10:52:31 2009
From: moucine24 at yahoo.com (Natasha Oconnor)
Date: Tue Feb 24 10:52:43 2009
Subject: [wp-hackers] (no subject)
Message-ID: <43926.56138.qm@web59316.mail.re1.yahoo.com>


STOP




      
From joost at yoast.com  Tue Feb 24 11:02:39 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb 24 11:02:55 2009
Subject: [wp-hackers] post revisiniong API
Message-ID: <12FD1768-52A3-4C73-AAEB-6B5EF8C8D9A4@yoast.com>

Hey,

Has anybody ever tried to create a post revision from within a plugin?  
I like the idea of the SEO Smart Links plugin, but don't want it to do  
the filtering on each page load, I'd way rather have it go through  
each post once, create an "original" revision and a new revision with  
its own output...

Best,
Joost
From joost at yoast.com  Tue Feb 24 11:16:01 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb 24 11:16:18 2009
Subject: [wp-hackers] (no subject)
In-Reply-To: <43926.56138.qm@web59316.mail.re1.yahoo.com>
References: <43926.56138.qm@web59316.mail.re1.yahoo.com>
Message-ID: <22E46302-36FB-486E-B5E1-D3189F2A0532@yoast.com>

http://uploads.yoast.com/9b504130ff0f0b67bee3ec476654fd75.png

I tend to agree with my mailing app. Log in to the link below and sign  
off yourself.

On Feb 24, 2009, at 11:52 AM, Natasha Oconnor wrote:

>
> STOP
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From vprelovac at gmail.com  Tue Feb 24 12:18:51 2009
From: vprelovac at gmail.com (Vladimir Prelovac)
Date: Tue Feb 24 12:18:57 2009
Subject: [wp-hackers] Re: post revisiniong API
In-Reply-To: <20090224120026.D02F264C1@comox.textdrive.com>
References: <20090224120026.D02F264C1@comox.textdrive.com>
Message-ID: <49A3E5AB.3070707@gmail.com>

That's an interesting idea Joost if you figure it out I'll be happy to 
include the changes in SEO Smart Links.

Cheers
Vlad
>
> Has anybody ever tried to create a post revision from within a plugin?  
> I like the idea of the SEO Smart Links plugin, but don't want it to do  
> the filtering on each page load, I'd way rather have it go through  
> each post once, create an "original" revision and a new revision with  
> its own output...
>   

From joost at yoast.com  Tue Feb 24 12:20:04 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb 24 12:20:24 2009
Subject: [wp-hackers] Re: post revisiniong API
In-Reply-To: <49A3E5AB.3070707@gmail.com>
References: <20090224120026.D02F264C1@comox.textdrive.com>
	<49A3E5AB.3070707@gmail.com>
Message-ID: <9D13488A-C399-49C8-B941-D6305FE24192@yoast.com>

I will let you know! As it is, SEO Smart Links is way too heavy on a  
couple of sites I'm running.

On Feb 24, 2009, at 1:18 PM, Vladimir Prelovac wrote:

> That's an interesting idea Joost if you figure it out I'll be happy  
> to include the changes in SEO Smart Links.
>
> Cheers
> Vlad
>>
>> Has anybody ever tried to create a post revision from within a  
>> plugin?  I like the idea of the SEO Smart Links plugin, but don't  
>> want it to do  the filtering on each page load, I'd way rather have  
>> it go through  each post once, create an "original" revision and a  
>> new revision with  its own output...
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mike at zed1.com  Tue Feb 24 12:59:01 2009
From: mike at zed1.com (Mike Little)
Date: Tue Feb 24 12:59:13 2009
Subject: [wp-hackers] Re: post revisiniong API
In-Reply-To: <9D13488A-C399-49C8-B941-D6305FE24192@yoast.com>
References: <20090224120026.D02F264C1@comox.textdrive.com>
	<49A3E5AB.3070707@gmail.com>
	<9D13488A-C399-49C8-B941-D6305FE24192@yoast.com>
Message-ID: <7235ce780902240459w2c965d2apc9c6ea8dc5611955@mail.gmail.com>

2009/2/24 Joost de Valk <joost@yoast.com>:
>>>
>>> Has anybody ever tried to create a post revision from within a plugin? ?I
>>> like the idea of the SEO Smart Links plugin, but don't want it to do ?the
>>> filtering on each page load, I'd way rather have it go through ?each post
>>> once, create an "original" revision and a new revision with ?its own
>>> output...
>>>
>>

I'm pretty sure that if you just call wp_update_post(), a new revision
will be created. I wrote a custom importer a while ago that supported
multiple runs with updated content, I ran it a few times and I recall
it was creating revisions.

Mike
-- 
Mike Little
http://zed1.com/
From joost at yoast.com  Tue Feb 24 13:03:06 2009
From: joost at yoast.com (Joost de Valk)
Date: Tue Feb 24 13:03:20 2009
Subject: [wp-hackers] Re: post revisiniong API
In-Reply-To: <7235ce780902240459w2c965d2apc9c6ea8dc5611955@mail.gmail.com>
References: <20090224120026.D02F264C1@comox.textdrive.com>
	<49A3E5AB.3070707@gmail.com>
	<9D13488A-C399-49C8-B941-D6305FE24192@yoast.com>
	<7235ce780902240459w2c965d2apc9c6ea8dc5611955@mail.gmail.com>
Message-ID: <EF0B675E-F2E8-42F3-866D-848BF329CF08@yoast.com>

On Feb 24, 2009, at 1:59 PM, Mike Little wrote:

> 2009/2/24 Joost de Valk <joost@yoast.com>:
>>>>
>>>> Has anybody ever tried to create a post revision from within a  
>>>> plugin?  I
>>>> like the idea of the SEO Smart Links plugin, but don't want it to  
>>>> do  the
>>>> filtering on each page load, I'd way rather have it go through   
>>>> each post
>>>> once, create an "original" revision and a new revision with  its  
>>>> own
>>>> output...
>>>>
>>>
>
> I'm pretty sure that if you just call wp_update_post(), a new revision
> will be created. I wrote a custom importer a while ago that supported
> multiple runs with updated content, I ran it a few times and I recall
> it was creating revisions.

Hm cool, that sounds like something I could make a cronjob of :)
From dangayle at gmail.com  Tue Feb 24 16:08:12 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Tue Feb 24 16:08:26 2009
Subject: [wp-hackers] post revisiniong API
In-Reply-To: <12FD1768-52A3-4C73-AAEB-6B5EF8C8D9A4@yoast.com>
References: <12FD1768-52A3-4C73-AAEB-6B5EF8C8D9A4@yoast.com>
Message-ID: <7902A014-963E-4B0E-8A51-B48194B4C314@gmail.com>

+1

We have re-written and modified that plugin a bunch of times for our  
own needs. If it did what you were saying, it would help out a lot!

On Feb 24, 2009, at 3:02 AM, Joost de Valk wrote:

> Hey,
>
> Has anybody ever tried to create a post revision from within a  
> plugin? I like the idea of the SEO Smart Links plugin, but don't  
> want it to do the filtering on each page load, I'd way rather have  
> it go through each post once, create an "original" revision and a  
> new revision with its own output...
>
> Best,
> Joost
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From regulatethis at gmail.com  Tue Feb 24 18:59:18 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Tue Feb 24 18:59:26 2009
Subject: [wp-hackers] (no subject)
In-Reply-To: <43926.56138.qm@web59316.mail.re1.yahoo.com>
References: <43926.56138.qm@web59316.mail.re1.yahoo.com>
Message-ID: <39fdab560902241059n101a2d90rfb081b84b5743f72@mail.gmail.com>

On Tue, Feb 24, 2009 at 5:52 AM, Natasha Oconnor <moucine24@yahoo.com> wrote:
>
> STOP
>

collaborate and listen
Ice is back with my brand new invention
Something grabs a hold of me tightly
Flow like a harpoon daily and nightly
Will it ever stop yo I don't know
Turn off the lights and I'll glow
To the extreme I rock a mic like a vandal
Light up a stage and wax a chump like a candle

:p
From zamoose at gmail.com  Tue Feb 24 20:53:35 2009
From: zamoose at gmail.com (zamoose@gmail.com)
Date: Tue Feb 24 20:53:45 2009
Subject: [wp-hackers] (no subject)
In-Reply-To: <0015175cb07e9f2dc50463afdad4@google.com>
Message-ID: <0015175ccfa20b03c10463b050fc@google.com>

On Feb 24, 2009 3:20pm, zamoose@gmail.com wrote:
> On Feb 24, 2009 1:59pm, Daniel Torreblanca regulatethis@gmail.com> wrote:
> > On Tue, Feb 24, 2009 at 5:52 AM, Natasha Oconnor moucine24@yahoo.com>  
> wrote:
> >
> > >
> >
> > > STOP
> >
> > >
> >
> >
> >
> > collaborate and listen
> >
> > Ice is back with my brand new invention
> >
> > Something grabs a hold of me tightly
> >
> > Flow like a harpoon daily and nightly
> >
> > Will it ever stop yo I don't know
> >
> > Turn off the lights and I'll glow
> >
> > To the extreme I rock a mic like a vandal
> >
> > Light up a stage and wax a chump like a candle
> >
> >
> >
> > :p


I believe the more canonical response would simply be "Hammer Time".

(Oder, fuer meine deutschsprachigen Freunde:  
http://www.zilefile.com/files/231_v3nqc/halt%20-%20hammerzeit.png)

*grin*

-Doug
http://literalbarrage.org/blog/
From hempsworth at googlemail.com  Tue Feb 24 22:47:18 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Tue Feb 24 22:47:31 2009
Subject: [wp-hackers] WPMU + MediaWiki
Message-ID: <5a1dad880902241447w426651ccg272e0310b7d33073@mail.gmail.com>

Hey all,
I've done lots of searching for this around the net and only find requests
for such an integration, and some very outdated methods which meant hacking
the core so here goes...

I'd like to have WordPress MU, BuddPress, bbPress and MediaWiki all
integrated with single sign-on. WPMU, BP and bbPress are obviously working
great together, but I don't know how to get MediaWiki integrated.

I basically need to map the users and passwords from the WPMU install to the
MediaWiki one, so that MediaWiki checks to see if the main WPMU cookie
exists. Also, I need all users to be regular registered users, except WPMU
Site Admins which should be mapped as admins on the MediaWiki install.

Does anybody have experience in this area?

Cheers,
Alex
From scribu at gmail.com  Wed Feb 25 16:37:34 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb 25 16:37:48 2009
Subject: [wp-hackers] Custom Admin messages
Message-ID: <349fe48b0902250837o39e94f9bl467aa72cdc6cc7f9@mail.gmail.com>

I was trying to add a custom error message on the post editing screen, but
then I found out that there is no hook for that and all messages are
hardcoded in edit-form-advanced.php so the only way I could do this is using
jQuery.

I think a filter on $messages would come in really handy in such cases. Any
objections?

-- 
http://scribu.net
From if.website at gmail.com  Wed Feb 25 16:43:00 2009
From: if.website at gmail.com (Austin Matzko)
Date: Wed Feb 25 16:43:08 2009
Subject: [wp-hackers] Custom Admin messages
In-Reply-To: <349fe48b0902250837o39e94f9bl467aa72cdc6cc7f9@mail.gmail.com>
References: <349fe48b0902250837o39e94f9bl467aa72cdc6cc7f9@mail.gmail.com>
Message-ID: <674b4a3b0902250843t5b9398belbbb5e72d56774764@mail.gmail.com>

On Wed, Feb 25, 2009 at 10:37 AM, scribu <scribu@gmail.com> wrote:
> I was trying to add a custom error message on the post editing screen, but
> then I found out that there is no hook for that and all messages are
> hardcoded in edit-form-advanced.php so the only way I could do this is using
> jQuery.
>
> I think a filter on $messages would come in really handy in such cases. Any
> objections?

Why can't you add a callback for the 'admin_notices' action hook?  It
fires off for every admin page header.
From scribu at gmail.com  Wed Feb 25 16:50:40 2009
From: scribu at gmail.com (scribu)
Date: Wed Feb 25 16:50:51 2009
Subject: [wp-hackers] Custom Admin messages
In-Reply-To: <674b4a3b0902250843t5b9398belbbb5e72d56774764@mail.gmail.com>
References: <349fe48b0902250837o39e94f9bl467aa72cdc6cc7f9@mail.gmail.com>
	<674b4a3b0902250843t5b9398belbbb5e72d56774764@mail.gmail.com>
Message-ID: <349fe48b0902250850u2beaadc2m99de130729a61731@mail.gmail.com>

Forgot about that. Thanks.

On Wed, Feb 25, 2009 at 6:43 PM, Austin Matzko <if.website@gmail.com> wrote:

> On Wed, Feb 25, 2009 at 10:37 AM, scribu <scribu@gmail.com> wrote:
> > I was trying to add a custom error message on the post editing screen,
> but
> > then I found out that there is no hook for that and all messages are
> > hardcoded in edit-form-advanced.php so the only way I could do this is
> using
> > jQuery.
> >
> > I think a filter on $messages would come in really handy in such cases.
> Any
> > objections?
>
> Why can't you add a callback for the 'admin_notices' action hook?  It
> fires off for every admin page header.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From will at willnorris.com  Wed Feb 25 23:37:13 2009
From: will at willnorris.com (Will Norris)
Date: Wed Feb 25 23:37:28 2009
Subject: [wp-hackers] OT: Contacting Gravatar, OpenID integration
In-Reply-To: <5a1dad880902221528g3e13033ex9758bd1c6fc23018@mail.gmail.com>
References: <5a1dad880902221528g3e13033ex9758bd1c6fc23018@mail.gmail.com>
Message-ID: <3A69E340-9AAC-496E-ABCF-B08E4F71E79F@willnorris.com>

this is definitely on their radar.  I don't know if it's actively  
under development or not, but I've talked with Automattic employees in  
the past about it.  It seems like something they are certainly open to  
investigating, I just don't know where it ranks on the priority list.

-will
(author of WordPress OpenID plugin)


On Feb 22, 2009, at 3:28 PM, Alex Hempton-Smith wrote:

> Hi all,
> I know this won't be the right place to contact Automattic regarding  
> the
> Gravatar, but I'm not sure where to turn. I'd like to contact them  
> regarding
> OpenID integration [1], but there's no contact page on the Gravatar
> website. Should I use the contact form on the Automattic site?
>
> Seeing as there's lots of Automattic employees here, I thought  
> somebody
> could push me in the right direction!
>
> Many thanks,
> Alex
>
> [1] Namely, the possibility of having a system implemented that  
> allowed
> users to assign an OpenID URL to their account, exactly the same as  
> email
> addresses currently are, and then being able to reference that in a  
> Gravatar
> URL using an MD5'd OpenID URL instead of an email address. Many,  
> many people
> have been crying out for this on the Get Satisfaction forums, so I  
> said I
> would contact Automattic about it.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ryan at boren.nu  Wed Feb 25 23:58:03 2009
From: ryan at boren.nu (Ryan Boren)
Date: Wed Feb 25 23:58:11 2009
Subject: [wp-hackers] OT: Contacting Gravatar, OpenID integration
In-Reply-To: <3A69E340-9AAC-496E-ABCF-B08E4F71E79F@willnorris.com>
References: <5a1dad880902221528g3e13033ex9758bd1c6fc23018@mail.gmail.com>
	<3A69E340-9AAC-496E-ABCF-B08E4F71E79F@willnorris.com>
Message-ID: <c8f37c930902251558g3b366e3fo6790273fe618353f@mail.gmail.com>

On Wed, Feb 25, 2009 at 3:37 PM, Will Norris <will@willnorris.com> wrote:
> this is definitely on their radar. ?I don't know if it's actively under
> development or not, but I've talked with Automattic employees in the past
> about it. ?It seems like something they are certainly open to investigating,
> I just don't know where it ranks on the priority list.

Yeah, on the radar but not omgbbq priority.
From hempsworth at googlemail.com  Thu Feb 26 00:01:05 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Thu Feb 26 00:01:20 2009
Subject: [wp-hackers] OT: Contacting Gravatar, OpenID integration
In-Reply-To: <c8f37c930902251558g3b366e3fo6790273fe618353f@mail.gmail.com>
References: <5a1dad880902221528g3e13033ex9758bd1c6fc23018@mail.gmail.com>
	<3A69E340-9AAC-496E-ABCF-B08E4F71E79F@willnorris.com>
	<c8f37c930902251558g3b366e3fo6790273fe618353f@mail.gmail.com>
Message-ID: <5a1dad880902251601w8efbe81p2c0451d1fe7c1401@mail.gmail.com>

Thanks guys, good to know :)

-- Alex


On Wed, Feb 25, 2009 at 11:58 PM, Ryan Boren <ryan@boren.nu> wrote:

> On Wed, Feb 25, 2009 at 3:37 PM, Will Norris <will@willnorris.com> wrote:
> > this is definitely on their radar.  I don't know if it's actively under
> > development or not, but I've talked with Automattic employees in the past
> > about it.  It seems like something they are certainly open to
> investigating,
> > I just don't know where it ranks on the priority list.
>
> Yeah, on the radar but not omgbbq priority.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mark.cunningham at gmail.com  Thu Feb 26 10:19:53 2009
From: mark.cunningham at gmail.com (Mark Cunningham)
Date: Thu Feb 26 10:20:05 2009
Subject: [wp-hackers] post revisiniong API
In-Reply-To: <12FD1768-52A3-4C73-AAEB-6B5EF8C8D9A4@yoast.com>
References: <12FD1768-52A3-4C73-AAEB-6B5EF8C8D9A4@yoast.com>
Message-ID: <ee3949160902260219g56cc33bahedd65e55fd9ee8dc@mail.gmail.com>

2009/2/24 Joost de Valk <joost@yoast.com>:
> Hey,
>
> Has anybody ever tried to create a post revision from within a plugin? I
> like the idea of the SEO Smart Links plugin, but don't want it to do the
> filtering on each page load, I'd way rather have it go through each post
> once, create an "original" revision and a new revision with its own
> output...

Yes I have created and managed revisions from within one of my
plugins. My plugin creates posts and it also edits posts, so I wanted
to make sure that it didn't create multiple unnecessary revisions and
also use revisions, if avaliable, in a useful way.

I don't know how useful it'll be but this what I did (so far - it's a
work in progress). So on the create post code, at the end I put this
(pretty much ripped from the internals of the revision API anyway):

// Delete all versions but actual
if( WP_POST_REVISIONS ) {
   $revisions = wp_get_post_revisions( $post_ID, array( 'order' => 'ASC' ) );
   foreach($revisions as $rev) {
      wp_delete_post_revision( $rev->ID );
   }
}

Then on the edit post, I wanted the edits and updates to go on the
custom revision and if they are good, the user can promote them to the
real post.

// if versioning enabled, use a revision
$revision_id = wp_save_post_revision($post_id);
if($revision_id == NULL) {
   // revision is good, now just used $revision_id instead of $post_id
to do any update (including add_post_meta)
}

If the edits are good, then do this:

_wp_put_post_revision($revision_id);

If you want to drop the edits for ever:

wp_delete_revision($revision_id);

I haven't fully tested it as this feature is a work in progress, but
so far my initial tests show that it works. The only annoying thing is
that the Custom Fields you add on the revision id, don't show up if
you do a diff in the Wordpress UI but do seem to get copy over if you
do a _wp_put_post_revision. I can't seem to find a hook/filter to
allow me to add Custom Fields to the diff.

Hope you find it useful,

Mark
-- 
http://wordpress.org/extend/plugins/tdo-mini-forms/
http://thedeadone.net
http://lostheroesrpg.com
From scribu at gmail.com  Thu Feb 26 12:11:49 2009
From: scribu at gmail.com (scribu)
Date: Thu Feb 26 12:35:19 2009
Subject: [wp-hackers] Duplicate key=value pairs in wp_postmeta
Message-ID: <349fe48b0902260411j31ccad97t325fb780a9468cff@mail.gmail.com>

I was trying to delete duplicate custom fields from postmeta. A duplica
custom field means that for the same post you have:

key = value
key = value

I think a unique(post_id, meta_key,meta_value) constraint would a good way
to avoid this problem in the future, as I can't see any practical use for
having the same custom field and value more than once for the same post.

-- 
http://scribu.net
From wp-hackers at itsananderson.com  Thu Feb 26 14:27:21 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Thu Feb 26 14:27:46 2009
Subject: [wp-hackers] Duplicate key=value pairs in wp_postmeta
In-Reply-To: <349fe48b0902260411j31ccad97t325fb780a9468cff@mail.gmail.com>
References: <349fe48b0902260411j31ccad97t325fb780a9468cff@mail.gmail.com>
Message-ID: <6dbcd2670902260627g111143f4if74805d6f9874ed5@mail.gmail.com>

When you store multiple key/value pairs for a post, that key is turned into
an array.

I think it's pretty obvious from the function signature (with the $single
argument) that this is intentional.

One way I've used multiple values for one key before was for a portfolio. I
used a key called "featured" to indicate which clients I wanted in my
featured clients list. The value of that meta field indicated what service
they were featured for. Having duplicate key/value pairs allowed me to
indicate that a client was to be featured in multiple service categories.

Now I know this sounds like something that should be done with tags, but I
was already tagging ALL client posts with the services they had used, so I
needed a way to differentiate the featured clients. I also couldn't use
Cagetories for this because I was using the category name in the permalink
structure and placing a post in the "Portfolio" and the "Featured" category
would cause problems.

Another way to use multiple values for a key is to support pseudo categories
for pages (which can then be used in page lists).

So anyway, that was a long winded way of saying that allowing multiple
values for one key is important. It doesn't break the "unique list"
relational algebra paradigms used by the database manager because WordPress
assigns each {postid, key, value} a unique metaid.

On Thu, Feb 26, 2009 at 7:11 AM, scribu <scribu@gmail.com> wrote:

> I was trying to delete duplicate custom fields from postmeta. A duplica
> custom field means that for the same post you have:
>
> key = value
> key = value
>
> I think a unique(post_id, meta_key,meta_value) constraint would a good way
> to avoid this problem in the future, as I can't see any practical use for
> having the same custom field and value more than once for the same post.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Will Anderson
http://www.itsananderson.com/
From scribu at gmail.com  Thu Feb 26 15:15:07 2009
From: scribu at gmail.com (scribu)
Date: Thu Feb 26 15:15:21 2009
Subject: [wp-hackers] Duplicate key=value pairs in wp_postmeta
In-Reply-To: <6dbcd2670902260627g111143f4if74805d6f9874ed5@mail.gmail.com>
References: <349fe48b0902260411j31ccad97t325fb780a9468cff@mail.gmail.com>
	<6dbcd2670902260627g111143f4if74805d6f9874ed5@mail.gmail.com>
Message-ID: <349fe48b0902260715l5e4fc2b7qb7585823057e9c81@mail.gmail.com>

I'm not talking about multiple values for the same key on the same post, i'm
talking about something like this:

*meta_id*  *post_id*  *meta_key * *meta_value*
 001          001         foo             bar
 002          001         foo             bar

On Thu, Feb 26, 2009 at 4:27 PM, Will Anderson <wp-hackers@itsananderson.com
> wrote:

> When you store multiple key/value pairs for a post, that key is turned into
> an array.
>
> I think it's pretty obvious from the function signature (with the $single
> argument) that this is intentional.
>
> One way I've used multiple values for one key before was for a portfolio. I
> used a key called "featured" to indicate which clients I wanted in my
> featured clients list. The value of that meta field indicated what service
> they were featured for. Having duplicate key/value pairs allowed me to
> indicate that a client was to be featured in multiple service categories.
>
> Now I know this sounds like something that should be done with tags, but I
> was already tagging ALL client posts with the services they had used, so I
> needed a way to differentiate the featured clients. I also couldn't use
> Cagetories for this because I was using the category name in the permalink
> structure and placing a post in the "Portfolio" and the "Featured" category
> would cause problems.
>
> Another way to use multiple values for a key is to support pseudo
> categories
> for pages (which can then be used in page lists).
>
> So anyway, that was a long winded way of saying that allowing multiple
> values for one key is important. It doesn't break the "unique list"
> relational algebra paradigms used by the database manager because WordPress
> assigns each {postid, key, value} a unique metaid.
>
> On Thu, Feb 26, 2009 at 7:11 AM, scribu <scribu@gmail.com> wrote:
>
> > I was trying to delete duplicate custom fields from postmeta. A duplica
> > custom field means that for the same post you have:
> >
> > key = value
> > key = value
> >
> > I think a unique(post_id, meta_key,meta_value) constraint would a good
> way
> > to avoid this problem in the future, as I can't see any practical use for
> > having the same custom field and value more than once for the same post.
> >
> > --
> > http://scribu.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Will Anderson
> http://www.itsananderson.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From aesqe at skyphe.org  Thu Feb 26 15:27:40 2009
From: aesqe at skyphe.org (aesqe)
Date: Thu Feb 26 15:28:08 2009
Subject: [wp-hackers] Duplicate key=value pairs in wp_postmeta
In-Reply-To: <349fe48b0902260715l5e4fc2b7qb7585823057e9c81@mail.gmail.com>
References: <349fe48b0902260411j31ccad97t325fb780a9468cff@mail.gmail.com>	<6dbcd2670902260627g111143f4if74805d6f9874ed5@mail.gmail.com>
	<349fe48b0902260715l5e4fc2b7qb7585823057e9c81@mail.gmail.com>
Message-ID: <49A6B4EC.1000402@skyphe.org>

i think this is the right behavior - how else would a plugin like 
flutter have grouped custom fields?

i don't know how many of you are familiar with flutter, but here's an 
example:

let's say you have a group called reviews, and that group can be duplicated.

let's say that it has three fields:

* reviewer_name
* reviewer_magazine
* review_text

and if two journalists from the same magazine write a review about that 
particular post (which is actually a book, or a movie, etc)

then too, you'd have the same situation:

*meta_id*  *post_id*  *meta_key *		*meta_value*
   001          001     reviewer_magazine	    bar
   002          001     reviewer_magazine	    bar

and flutter has its own table in which it stores relations between 
custom fields and groups, so this works jus fine.

On 26.2.2009 16:15, scribu wrote:
> I'm not talking about multiple values for the same key on the same post, i'm
> talking about something like this:
>
> *meta_id*  *post_id*  *meta_key * *meta_value*
>   001          001         foo             bar
>   002          001         foo             bar
>
> On Thu, Feb 26, 2009 at 4:27 PM, Will Anderson<wp-hackers@itsananderson.com
>> wrote:
>
>> When you store multiple key/value pairs for a post, that key is turned into
>> an array.
>>
>> I think it's pretty obvious from the function signature (with the $single
>> argument) that this is intentional.
>>

-- 
-._______________KAWAII!_______________.-
Skyphe.org : It'll all make sense one day
http://skyphe.org .:. http://breedart.org
From scribu at gmail.com  Thu Feb 26 16:13:47 2009
From: scribu at gmail.com (scribu)
Date: Thu Feb 26 16:14:03 2009
Subject: [wp-hackers] Duplicate key=value pairs in wp_postmeta
In-Reply-To: <49A6B4EC.1000402@skyphe.org>
References: <349fe48b0902260411j31ccad97t325fb780a9468cff@mail.gmail.com>
	<6dbcd2670902260627g111143f4if74805d6f9874ed5@mail.gmail.com>
	<349fe48b0902260715l5e4fc2b7qb7585823057e9c81@mail.gmail.com>
	<49A6B4EC.1000402@skyphe.org>
Message-ID: <349fe48b0902260813s551fa364icf6918e5f40bdebe@mail.gmail.com>

Ok, I suppose it wouldn't be a good idea. Nevermind.

On 2/26/09, aesqe <aesqe@skyphe.org> wrote:
> i think this is the right behavior - how else would a plugin like
> flutter have grouped custom fields?
>
> i don't know how many of you are familiar with flutter, but here's an
> example:
>
> let's say you have a group called reviews, and that group can be duplicated.
>
> let's say that it has three fields:
>
> * reviewer_name
> * reviewer_magazine
> * review_text
>
> and if two journalists from the same magazine write a review about that
> particular post (which is actually a book, or a movie, etc)
>
> then too, you'd have the same situation:
>
> *meta_id*  *post_id*  *meta_key *		*meta_value*
>    001          001     reviewer_magazine	    bar
>    002          001     reviewer_magazine	    bar
>
> and flutter has its own table in which it stores relations between
> custom fields and groups, so this works jus fine.
>
> On 26.2.2009 16:15, scribu wrote:
>> I'm not talking about multiple values for the same key on the same post,
>> i'm
>> talking about something like this:
>>
>> *meta_id*  *post_id*  *meta_key * *meta_value*
>>   001          001         foo             bar
>>   002          001         foo             bar
>>
>> On Thu, Feb 26, 2009 at 4:27 PM, Will
>> Anderson<wp-hackers@itsananderson.com
>>> wrote:
>>
>>> When you store multiple key/value pairs for a post, that key is turned
>>> into
>>> an array.
>>>
>>> I think it's pretty obvious from the function signature (with the $single
>>> argument) that this is intentional.
>>>
>
> --
> -._______________KAWAII!_______________.-
> Skyphe.org : It'll all make sense one day
> http://skyphe.org .:. http://breedart.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
http://scribu.net
From dan at dancoulter.com  Thu Feb 26 17:57:18 2009
From: dan at dancoulter.com (Dan Coulter)
Date: Thu Feb 26 17:57:29 2009
Subject: [wp-hackers] **Somewhat OT** Forum options
Message-ID: <5dc2163e0902260957h3edf65b2j819054d8f2fcdc00@mail.gmail.com>

I know this is kind of off topic, but I know some of you have probably dealt
with this before and I couldn't easily find anything in the list archives.
Feel free to reply to me directly.

A client of mine is currently using WordPress with Vanilla Forums.  He feels
like Vanilla isn't really cutting it for integration and ease of
management.  His forums are very active, but he hardly ever visits it
anymore.  His wish list is basically a robust, permanent forum solution
(vague enough for you?), integrated logins between it and WordPress, and
hopefully a migration path (but not a requirement, and I can always help him
with that).

So I'm curious what other people have done.  I'm definitely going to look
into using bbPress, but if that isn't the best solution, he and I are
definitely flexible.  Any input would be greatly appreciated.

-- 
Dan Coulter
http://dancoulter.com/
http://phpflickr.com/
http://blogsforbands.com/

Hey, I got nothing to do today but smile
-Simon and Garfunkel
From wp at xentek.net  Thu Feb 26 18:04:32 2009
From: wp at xentek.net (Eric Marden)
Date: Thu Feb 26 18:04:52 2009
Subject: [wp-hackers] **Somewhat OT** Forum options
In-Reply-To: <5dc2163e0902260957h3edf65b2j819054d8f2fcdc00@mail.gmail.com>
References: <5dc2163e0902260957h3edf65b2j819054d8f2fcdc00@mail.gmail.com>
Message-ID: <6D3CE616-0599-47E8-ACB4-5B1A73DB398F@xentek.net>

On Feb 26, 2009, at 12:57 PM, Dan Coulter wrote:
> So I'm curious what other people have done.  I'm definitely going to  
> look
> into using bbPress, but if that isn't the best solution, he and I are
> definitely flexible.  Any input would be greatly appreciated.

bbPress and/or SimplePress are probably the two best options in this  
arena.

-e




From chris at clwill.com  Thu Feb 26 18:30:22 2009
From: chris at clwill.com (Chris Williams)
Date: Thu Feb 26 18:30:53 2009
Subject: [wp-hackers] **Somewhat OT** Forum options
In-Reply-To: <5dc2163e0902260957h3edf65b2j819054d8f2fcdc00@mail.gmail.com>
Message-ID: <C5CC1FBE.430CF%chris@clwill.com>

I have integrated Phorum (http://phorum.org) into a WP site recently, and it
was easy to get it smoothly done.  Under a day.  It doesn't have integrated
login, as we don't need it, but that doesn't seem it would be that
difficult.  The Phorum extension and integration tools aren't that hard to
work with.  The site is http://pnsca.com if you want to take a look...

Chris


> From: Dan Coulter <dan@dancoulter.com>
> Reply-To: <wp-hackers@lists.automattic.com>
> Date: Thu, 26 Feb 2009 11:57:18 -0600
> To: <wp-hackers@lists.automattic.com>
> Subject: [wp-hackers] **Somewhat OT** Forum options
> 
> I know this is kind of off topic, but I know some of you have probably dealt
> with this before and I couldn't easily find anything in the list archives.
> Feel free to reply to me directly.
> 
> A client of mine is currently using WordPress with Vanilla Forums.  He feels
> like Vanilla isn't really cutting it for integration and ease of
> management.  His forums are very active, but he hardly ever visits it
> anymore.  His wish list is basically a robust, permanent forum solution
> (vague enough for you?), integrated logins between it and WordPress, and
> hopefully a migration path (but not a requirement, and I can always help him
> with that).
> 
> So I'm curious what other people have done.  I'm definitely going to look
> into using bbPress, but if that isn't the best solution, he and I are
> definitely flexible.  Any input would be greatly appreciated.
> 
> -- 
> Dan Coulter
> http://dancoulter.com/
> http://phpflickr.com/
> http://blogsforbands.com/
> 
> Hey, I got nothing to do today but smile
> -Simon and Garfunkel
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From elflop at googlemail.com  Thu Feb 26 18:46:20 2009
From: elflop at googlemail.com (Rich Pedley)
Date: Thu Feb 26 18:46:35 2009
Subject: [wp-hackers] **Somewhat OT** Forum options
In-Reply-To: <C5CC1FBE.430CF%chris@clwill.com>
References: <5dc2163e0902260957h3edf65b2j819054d8f2fcdc00@mail.gmail.com>
	<C5CC1FBE.430CF%chris@clwill.com>
Message-ID: <c6c45a350902261046n71c135b5rdab4fe27cfbadb4a@mail.gmail.com>

I know a few people have integrated PunBB, and perhaps less so FluxBB
with WordPress sites.

I hesitate when suggesting bbpress these days - I feel that the
current implementations to be less than user friendy - missing
standard forum components. But it does depend on what use the forum is
being put to.

Don't forget (bringing this vaguely back on topic) threaded comments -
these can be used in place of some forums quite easily. I'm beginning
to wonder whether I should move some of my 'support' forums over to
them as some are rarely utilised.

-- 
my mind is on a permanent tangent
http://cms.elfden.co.uk/
From bretm at redhat.com  Thu Feb 26 20:41:48 2009
From: bretm at redhat.com (Bret McMillan)
Date: Thu Feb 26 20:41:58 2009
Subject: [wp-hackers] WPMU + MediaWiki
In-Reply-To: <5a1dad880902241447w426651ccg272e0310b7d33073@mail.gmail.com>
References: <5a1dad880902241447w426651ccg272e0310b7d33073@mail.gmail.com>
Message-ID: <49A6FE8C.6050202@redhat.com>

Alex Hempton-Smith wrote:
> Hey all,
> I've done lots of searching for this around the net and only find requests
> for such an integration, and some very outdated methods which meant hacking
> the core so here goes...
> 
> I'd like to have WordPress MU, BuddPress, bbPress and MediaWiki all
> integrated with single sign-on. WPMU, BP and bbPress are obviously working
> great together, but I don't know how to get MediaWiki integrated.
> 
> I basically need to map the users and passwords from the WPMU install to the
> MediaWiki one, so that MediaWiki checks to see if the main WPMU cookie
> exists. Also, I need all users to be regular registered users, except WPMU
> Site Admins which should be mapped as admins on the MediaWiki install.
> 
> Does anybody have experience in this area?

Contact me off-list, I might be able to help.

--Bret
From kikizas at gmail.com  Fri Feb 27 04:49:21 2009
From: kikizas at gmail.com (Demetris)
Date: Fri Feb 27 04:51:15 2009
Subject: [wp-hackers] Idea: Rename the Excerpt to something accurate
Message-ID: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>

I recently wrote an article about excerpts:

The hand-written Excerpt in WordPress: What, why, how, tips and plugins
http://op111.net/67

The reason I chose this subject was my suspicion that more people
would use the excerpt if more people knew what it did.

The first reactions to the article seem to confirm that, which, I
imagine, would be no surprise to anyone who knows what the excerpt
does and how easy it is to use.

I think the main reasons why the excerpt is neglected are three:

1.  The themes in the default distribution don?t make good use of it.
2.  Its box was located under Advanced for a long time.
3.  Its name is a misnomer.

Since WP 2.7, no. 2 is not an issue anymore.

But no. 3 remains.

So, I propose this idea for discussion:

To rename the Excerpt to something accurate, a name like: Description,
 Summary, Synopsis, Brief, etc.

I?m talking about full-range renaming, down to function names.

What do you think?

Thanks for reading,
-dk

PS.  If people here agree that this idea is worthy of discussion, I
can open a Trac ticket.
PS2.  Interesting detail:  The ?manual Excerpt? was among the
highlighted features in the announcement of the first public release
of WordPress, in May 2003.
From regulatethis at gmail.com  Fri Feb 27 05:12:23 2009
From: regulatethis at gmail.com (Daniel Torreblanca)
Date: Fri Feb 27 05:12:37 2009
Subject: [wp-hackers] Idea: Rename the Excerpt to something accurate
In-Reply-To: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>
References: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>
Message-ID: <39fdab560902262112m2ecdcac6xd68822fe2dfb16be@mail.gmail.com>

You may want to explain why you think its name as a misnomer - I don't
really see a problem there. It's definitely not a "synopsis" or
"description" of the post.

On Thu, Feb 26, 2009 at 11:49 PM, Demetris <kikizas@gmail.com> wrote:
> I recently wrote an article about excerpts:
>
> The hand-written Excerpt in WordPress: What, why, how, tips and plugins
> http://op111.net/67
>
> The reason I chose this subject was my suspicion that more people
> would use the excerpt if more people knew what it did.
>
> The first reactions to the article seem to confirm that, which, I
> imagine, would be no surprise to anyone who knows what the excerpt
> does and how easy it is to use.
>
> I think the main reasons why the excerpt is neglected are three:
>
> 1. ?The themes in the default distribution don?t make good use of it.
> 2. ?Its box was located under Advanced for a long time.
> 3. ?Its name is a misnomer.
>
> Since WP 2.7, no. 2 is not an issue anymore.
>
> But no. 3 remains.
>
> So, I propose this idea for discussion:
>
> To rename the Excerpt to something accurate, a name like: Description,
> ?Summary, Synopsis, Brief, etc.
>
> I?m talking about full-range renaming, down to function names.
>
> What do you think?
>
> Thanks for reading,
> -dk
>
> PS. ?If people here agree that this idea is worthy of discussion, I
> can open a Trac ticket.
> PS2. ?Interesting detail: ?The ?manual Excerpt? was among the
> highlighted features in the announcement of the first public release
> of WordPress, in May 2003.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From kikizas at gmail.com  Fri Feb 27 05:41:39 2009
From: kikizas at gmail.com (Demetris)
Date: Fri Feb 27 05:41:51 2009
Subject: [wp-hackers] Idea: Rename the Excerpt to something accurate
In-Reply-To: <39fdab560902262112m2ecdcac6xd68822fe2dfb16be@mail.gmail.com>
References: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>
	<39fdab560902262112m2ecdcac6xd68822fe2dfb16be@mail.gmail.com>
Message-ID: <9f34a3610902262141x642a944du7a2f20247fd6649e@mail.gmail.com>

On Fri, Feb 27, 2009 at 7:12 AM, Daniel Torreblanca
<regulatethis@gmail.com> wrote:
> You may want to explain why you think its name as a misnomer - I don't
> really see a problem there. It's definitely not a "synopsis" or
> "description" of the post.
>
> On Thu, Feb 26, 2009 at 11:49 PM, Demetris <kikizas@gmail.com> wrote:
>> [SNIP]
>>
>> 3. ?Its name is a misnomer.
>>
>> [SNIP]
>>
Daniel, I?m talking about what is stored in the field post_excerpt,
not what WP generates automatically when that field is empty.

On the Excerpt box, the content of post_excerpt is described in this way:

?Excerpts are optional hand-crafted summaries of your content.?

I think this is not what is commonly understood by the word ?excerpt?.
 E.g., see how ?excerpt? is defined in Merriam-Webster:

http://www.merriam-webster.com/dictionary/excerpt[2]

?a passage (as from a book or musical composition) selected,
performed, or copied?

Cheers,
-dk
From lynne.pope at gmail.com  Fri Feb 27 08:01:16 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri Feb 27 08:01:29 2009
Subject: [wp-hackers] Idea: Rename the Excerpt to something accurate
In-Reply-To: <9f34a3610902262141x642a944du7a2f20247fd6649e@mail.gmail.com>
References: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>
	<39fdab560902262112m2ecdcac6xd68822fe2dfb16be@mail.gmail.com>
	<9f34a3610902262141x642a944du7a2f20247fd6649e@mail.gmail.com>
Message-ID: <427667db0902270001k2f96a58fs9e6950414db578b6@mail.gmail.com>

The excerpt has been with us for a very long time and I doubt a name change
will do anything except cause confusion.

While "excerpt" can certainly mean ?a passage (as from a book or musical
composition) selected,
performed, or copied? it also means, "abridge by choosing representative
sections" and is, IMO, appropriate for "optional hand-crafted summaries of
your content".

The automatic excerpt is very clearly an extract taken from the whole
content, so the term is the most appropriate. A manual excerpt may be a
synopsis, abstract, description, or introduction to the content but that is
the beauty of WordPress - it allows for great flexibility.

I don't think we should get too hung up on dictionary definitions though.
Those that understand the_excerpt are used to the name, those that don't
will either learn or not bother too much with it. The work involved in
changing the name and function, rewriting the codex, and making sure
everyone is aware of it being changed kinda outweighs any advantage that
could, perhaps, be gained by choosing a different term. And then we would
eventually get back to someone suggesting the new name is inappropriate, or
doesn't translate well, or is not well-known enough ;)

Lynne
From scribu at gmail.com  Fri Feb 27 08:45:45 2009
From: scribu at gmail.com (scribu)
Date: Fri Feb 27 08:45:57 2009
Subject: [wp-hackers] Idea: Rename the Excerpt to something accurate
In-Reply-To: <427667db0902270001k2f96a58fs9e6950414db578b6@mail.gmail.com>
References: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>
	<39fdab560902262112m2ecdcac6xd68822fe2dfb16be@mail.gmail.com>
	<9f34a3610902262141x642a944du7a2f20247fd6649e@mail.gmail.com>
	<427667db0902270001k2f96a58fs9e6950414db578b6@mail.gmail.com>
Message-ID: <349fe48b0902270045r71248ec7hdd9b85c2c1112608@mail.gmail.com>

Demetris,

I've read your article and I think it's by far the most useful thing one can
do about the matter. Doing a large scale renaming isn't going to help nearly
as much.

Regarding themes, I think that's a non issue too: most themes do use
the_excerpt() which will output the manual excerpt if it exists. So it's
mainly up to the users to find the time to write them.

-- 
http://scribu.net
From lynne.pope at gmail.com  Fri Feb 27 10:25:32 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri Feb 27 10:25:44 2009
Subject: [wp-hackers] Idea: Rename the Excerpt to something accurate
In-Reply-To: <349fe48b0902270045r71248ec7hdd9b85c2c1112608@mail.gmail.com>
References: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>
	<39fdab560902262112m2ecdcac6xd68822fe2dfb16be@mail.gmail.com>
	<9f34a3610902262141x642a944du7a2f20247fd6649e@mail.gmail.com>
	<427667db0902270001k2f96a58fs9e6950414db578b6@mail.gmail.com>
	<349fe48b0902270045r71248ec7hdd9b85c2c1112608@mail.gmail.com>
Message-ID: <427667db0902270225vcba2b81u9ce5d45d19f2f00d@mail.gmail.com>

2009/2/27 scribu <scribu@gmail.com>

> Demetris,
>
> I've read your article and I think it's by far the most useful thing one
> can
> do about the matter. Doing a large scale renaming isn't going to help
> nearly
> as much.
>
> Regarding themes, I think that's a non issue too: most themes do use
> the_excerpt() which will output the manual excerpt if it exists. So it's
> mainly up to the users to find the time to write them.


 +1 to what scribu said :)

I also read your article Demetris and completely agree with scribu. Its also
worth adding as a link on the codex for users who want more information I
think.

Lynne
From jane at automattic.com  Fri Feb 27 13:36:53 2009
From: jane at automattic.com (Jane Wells)
Date: Fri Feb 27 13:37:10 2009
Subject: [wp-hackers] Re: Idea: Rename the Excerpt to something accurate
In-Reply-To: <20090227102546.A02EC6D0B@comox.textdrive.com>
References: <20090227102546.A02EC6D0B@comox.textdrive.com>
Message-ID: <49A7EC75.2030903@automattic.com>


  Re: 3. Idea: Rename the Excerpt to something accurate (Demetris)


I think Demetris brings up a good point, and have thought about that 
myself before, how the auto-excerpt and a manual summary being called 
the same thing can be confusing. On the other hand, I also agree with 
the points of the others who've already responded about people being 
used to the label Excerpt and it not being a huge deal.

Of all the things that are still clunky or need some love and finesse in 
upcoming versions, I think this is probably a lowish priority, but 
something that I think might be a cool solution would be if once the 
post was Saved/Published, the Excerpt box was populated with the 
auto-excerpt text. The user wouldhave the option of overwriting it with 
a manual summary or whatever. We could then include a UI element to 
allow them to default it back to auto-excerpt, and show an indication of 
whether the text in the box was the auto-excerpt or hand-crafted. I make 
this suggestion without having taken my usual first step of asking Ryan 
or Andrew 'is this possible' so if I'm suggesting something that would 
be technically problematic, I apologize in advance. It would be a way to 
  make it very clear to users what the Excerpt is/does/can do without 
getting into the issue of users wondering the difference between Excerpt 
and Summary (if we were to rename one).

Thoughts?

jane



-- 
Jane Wells
http://jane.wordpress.com | http://automattic.com
From wp-hackers at itsananderson.com  Fri Feb 27 13:48:39 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Fri Feb 27 13:49:05 2009
Subject: [wp-hackers] Re: Idea: Rename the Excerpt to something accurate
In-Reply-To: <49A7EC75.2030903@automattic.com>
References: <20090227102546.A02EC6D0B@comox.textdrive.com>
	<49A7EC75.2030903@automattic.com>
Message-ID: <6dbcd2670902270548j3bacd424scbe689383ab37e1e@mail.gmail.com>

The problem with auto filling the excerpt is that if the user then changes
something in the post, the excerpt will maintain the old content, so if the
theme uses the_excerpt, it won't have the updated information.Better to only
have content in the Excerpt if the user puts it there. That way they know
they need to update it.
Doing this doesn't really provide any extra functionality since WordPress
automatically pulls the post summary if the real excerpt is empty. I'm
afraid the only thing it would do would be to confuse users.

(This is just my perspective of course. Maybe this could be implemented to
avoid these problems).

On Fri, Feb 27, 2009 at 8:36 AM, Jane Wells <jane@automattic.com> wrote:

>
>  Re: 3. Idea: Rename the Excerpt to something accurate (Demetris)
>
>
> I think Demetris brings up a good point, and have thought about that myself
> before, how the auto-excerpt and a manual summary being called the same
> thing can be confusing. On the other hand, I also agree with the points of
> the others who've already responded about people being used to the label
> Excerpt and it not being a huge deal.
>
> Of all the things that are still clunky or need some love and finesse in
> upcoming versions, I think this is probably a lowish priority, but something
> that I think might be a cool solution would be if once the post was
> Saved/Published, the Excerpt box was populated with the auto-excerpt text.
> The user wouldhave the option of overwriting it with a manual summary or
> whatever. We could then include a UI element to allow them to default it
> back to auto-excerpt, and show an indication of whether the text in the box
> was the auto-excerpt or hand-crafted. I make this suggestion without having
> taken my usual first step of asking Ryan or Andrew 'is this possible' so if
> I'm suggesting something that would be technically problematic, I apologize
> in advance. It would be a way to  make it very clear to users what the
> Excerpt is/does/can do without getting into the issue of users wondering the
> difference between Excerpt and Summary (if we were to rename one).
>
> Thoughts?
>
> jane
>
>
>
> --
> Jane Wells
> http://jane.wordpress.com | http://automattic.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Will Anderson
http://www.itsananderson.com/
From wp at xentek.net  Fri Feb 27 16:34:15 2009
From: wp at xentek.net (Eric Marden)
Date: Fri Feb 27 16:34:50 2009
Subject: [wp-hackers] Re: Idea: Rename the Excerpt to something accurate
In-Reply-To: <6dbcd2670902270548j3bacd424scbe689383ab37e1e@mail.gmail.com>
References: <20090227102546.A02EC6D0B@comox.textdrive.com>
	<49A7EC75.2030903@automattic.com>
	<6dbcd2670902270548j3bacd424scbe689383ab37e1e@mail.gmail.com>
Message-ID: <824FABD7-3816-47D2-BC9A-4C982B4C9B5B@xentek.net>

> Better to only have content in the Excerpt if the user puts it  
> there. That way they know they need to update it.


Except the auto-excerpt is required if you turn on summaries only for  
feeds, etc and don't provide one. I tend to just use the more tag, and  
write a good leading paragraph so that the excerpt is geared towards  
drawing people into the full post.

> The problem with auto filling the excerpt is that if the user then  
> changes something in the post, the excerpt will maintain the old  
> content, so if the theme uses the_excerpt, it won't have the updated  
> information.

This is unfortunate. Have you confirmed its a bug? I don't know if  
I've noticed this, but again, I'm controlling my excerpt with the more  
tag.

- Eric Marden
From scribu at gmail.com  Fri Feb 27 17:06:38 2009
From: scribu at gmail.com (scribu)
Date: Fri Feb 27 17:06:52 2009
Subject: [wp-hackers] Re: Idea: Rename the Excerpt to something accurate
In-Reply-To: <824FABD7-3816-47D2-BC9A-4C982B4C9B5B@xentek.net>
References: <20090227102546.A02EC6D0B@comox.textdrive.com>
	<49A7EC75.2030903@automattic.com>
	<6dbcd2670902270548j3bacd424scbe689383ab37e1e@mail.gmail.com>
	<824FABD7-3816-47D2-BC9A-4C982B4C9B5B@xentek.net>
Message-ID: <349fe48b0902270906v4496d3efyb9b318fc96104fbd@mail.gmail.com>

On Fri, Feb 27, 2009 at 6:34 PM, Eric Marden <wp@xentek.net> wrote:
>
>  The problem with auto filling the excerpt is that if the user then changes
>> something in the post, the excerpt will maintain the old content, so if the
>> theme uses the_excerpt, it won't have the updated information.
>>
>
> This is unfortunate. Have you confirmed its a bug? I don't know if I've
> noticed this, but again, I'm controlling my excerpt with the more tag.


I think he was referring to a hipotetical implementation. I don't think that
would be the case necesarrily, but I don't think it would be a good ideea to
auto-fill the excerpt anyway. At most, a plugin that does this could be
installed (it would be named something like Excerpt Preview).

-- 
http://scribu.net
From speedboxer at gmail.com  Fri Feb 27 17:13:00 2009
From: speedboxer at gmail.com (Matt Freedman)
Date: Fri Feb 27 17:13:13 2009
Subject: [wp-hackers] Re: Idea: Rename the Excerpt to something accurate
In-Reply-To: <6dbcd2670902270548j3bacd424scbe689383ab37e1e@mail.gmail.com>
References: <20090227102546.A02EC6D0B@comox.textdrive.com>
	<49A7EC75.2030903@automattic.com>
	<6dbcd2670902270548j3bacd424scbe689383ab37e1e@mail.gmail.com>
Message-ID: <b88434820902270913h1cc99ab1w969e67b72ad4bb3@mail.gmail.com>

On 2/27/09, Will Anderson <wp-hackers@itsananderson.com> wrote:
> The problem with auto filling the excerpt is that if the user then changes
> something in the post, the excerpt will maintain the old content, so if the
> theme uses the_excerpt, it won't have the updated information.


Not necessarily, we could have a field in the database for storing if
the excerpt has been edited or not, if it has, display that, if not do
an auto-excerpt.


-- 
Matt Freedman
Blog: http://mattsblog.ca/
Twitter: http://twitter.com/mattfreedman
From scribu at gmail.com  Fri Feb 27 17:18:29 2009
From: scribu at gmail.com (scribu)
Date: Fri Feb 27 17:18:40 2009
Subject: [wp-hackers] Re: Idea: Rename the Excerpt to something accurate
In-Reply-To: <b88434820902270913h1cc99ab1w969e67b72ad4bb3@mail.gmail.com>
References: <20090227102546.A02EC6D0B@comox.textdrive.com>
	<49A7EC75.2030903@automattic.com>
	<6dbcd2670902270548j3bacd424scbe689383ab37e1e@mail.gmail.com>
	<b88434820902270913h1cc99ab1w969e67b72ad4bb3@mail.gmail.com>
Message-ID: <349fe48b0902270918s3ced8205j3412a1ccb4da5ef1@mail.gmail.com>

Ok, if anyone else besides Demetris is interested in this, I'll write a
plugin in less than a week.

On Fri, Feb 27, 2009 at 7:13 PM, Matt Freedman <speedboxer@gmail.com> wrote:

> On 2/27/09, Will Anderson <wp-hackers@itsananderson.com> wrote:
> > The problem with auto filling the excerpt is that if the user then
> changes
> > something in the post, the excerpt will maintain the old content, so if
> the
> > theme uses the_excerpt, it won't have the updated information.
>
>
> Not necessarily, we could have a field in the database for storing if
> the excerpt has been edited or not, if it has, display that, if not do
> an auto-excerpt.
>
>
> --
> Matt Freedman
> Blog: http://mattsblog.ca/
> Twitter: http://twitter.com/mattfreedman
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From wp-hackers at itsananderson.com  Fri Feb 27 17:20:28 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Fri Feb 27 17:20:40 2009
Subject: [wp-hackers] Re: Idea: Rename the Excerpt to something accurate
In-Reply-To: <349fe48b0902270918s3ced8205j3412a1ccb4da5ef1@mail.gmail.com>
References: <20090227102546.A02EC6D0B@comox.textdrive.com>
	<49A7EC75.2030903@automattic.com>
	<6dbcd2670902270548j3bacd424scbe689383ab37e1e@mail.gmail.com>
	<b88434820902270913h1cc99ab1w969e67b72ad4bb3@mail.gmail.com>
	<349fe48b0902270918s3ced8205j3412a1ccb4da5ef1@mail.gmail.com>
Message-ID: <6dbcd2670902270920m1236c03agecb139cc2de950@mail.gmail.com>

I'm not really interested in using this, but if writing a plugin will make
people not ask for it to go in core, go ahead :)

I suspect that most people who actually use excerpts will uninstall it
within a week.

-- 
Will Anderson
http://www.itsananderson.com/

On Fri, Feb 27, 2009 at 12:18 PM, scribu <scribu@gmail.com> wrote:

> Ok, if anyone else besides Demetris is interested in this, I'll write a
> plugin in less than a week.
>
> On Fri, Feb 27, 2009 at 7:13 PM, Matt Freedman <speedboxer@gmail.com>
> wrote:
>
> > On 2/27/09, Will Anderson <wp-hackers@itsananderson.com> wrote:
> > > The problem with auto filling the excerpt is that if the user then
> > changes
> > > something in the post, the excerpt will maintain the old content, so if
> > the
> > > theme uses the_excerpt, it won't have the updated information.
> >
> >
> > Not necessarily, we could have a field in the database for storing if
> > the excerpt has been edited or not, if it has, display that, if not do
> > an auto-excerpt.
> >
> >
> > --
> > Matt Freedman
> > Blog: http://mattsblog.ca/
> > Twitter: http://twitter.com/mattfreedman
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Will Anderson
http://www.itsananderson.com/
From jensimmons at gmail.com  Fri Feb 27 17:28:03 2009
From: jensimmons at gmail.com (Jen Simmons)
Date: Fri Feb 27 17:28:22 2009
Subject: [wp-hackers] page + 2 loops of posts?
Message-ID: <0BD919EE-0FE2-46ED-8D0D-64C3F24B48ED@gmail.com>

Hey all,
I want to create a home page on a site with a main bit of text  
(something the client can edit as a page) with 2 loops of posts after  
it (in 2 columns).

I know how to create the loops... but I don't know how to write a php  
call in home.php to pull the content from a specific page-id. (In the  
past I just put a introduction like this in the html, and re-hack it  
to change it, but I'd like the client to be able to edit the content  
without going into home.php.

I could just make one post in a fake category... and then put three  
loops of posts on the home page. But I'd rather have the intro set up  
as a page.

Is there a <php> phrase I can use to pull the content from a page?  
What is it??

thanks
Jen


Jen Simmons
Milkweed Media Design
http://milkweedmediadesign.com

From ncrice at gmail.com  Fri Feb 27 17:31:29 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Fri Feb 27 17:31:43 2009
Subject: [wp-hackers] page + 2 loops of posts?
In-Reply-To: <0BD919EE-0FE2-46ED-8D0D-64C3F24B48ED@gmail.com>
References: <0BD919EE-0FE2-46ED-8D0D-64C3F24B48ED@gmail.com>
Message-ID: <862d087f0902270931j7cf8f0e9n9e72c53a34c51ebc@mail.gmail.com>

Jen,
This is probably the kind of question that's perfect for the
wordpress.org/support site. But this might help:
http://weblogtoolscollection.com/archives/2008/04/13/define-your-own-wordpress-loop-using-wp_query/

My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Fri, Feb 27, 2009 at 12:28 PM, Jen Simmons <jensimmons@gmail.com> wrote:

> Hey all,
> I want to create a home page on a site with a main bit of text (something
> the client can edit as a page) with 2 loops of posts after it (in 2
> columns).
>
> I know how to create the loops... but I don't know how to write a php call
> in home.php to pull the content from a specific page-id. (In the past I just
> put a introduction like this in the html, and re-hack it to change it, but
> I'd like the client to be able to edit the content without going into
> home.php.
>
> I could just make one post in a fake category... and then put three loops
> of posts on the home page. But I'd rather have the intro set up as a page.
>
> Is there a <php> phrase I can use to pull the content from a page? What is
> it??
>
> thanks
> Jen
>
>
> Jen Simmons
> Milkweed Media Design
> http://milkweedmediadesign.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From joelfisher at gmail.com  Fri Feb 27 17:31:54 2009
From: joelfisher at gmail.com (Joel Fisher)
Date: Fri Feb 27 17:32:15 2009
Subject: [wp-hackers] page + 2 loops of posts?
In-Reply-To: <0BD919EE-0FE2-46ED-8D0D-64C3F24B48ED@gmail.com>
References: <0BD919EE-0FE2-46ED-8D0D-64C3F24B48ED@gmail.com>
Message-ID: <d238bd620902270931k2f00bd74r16ba7c1a99c15b7@mail.gmail.com>

http://codex.wordpress.org/Template_Tags/query_posts

Specifically:

- page_id=7 - query for just Page ID 7
- pagename=about - note that this is not the page's title, but the page's path


Hope that helps.


joel.fisher
http://www.linkedin.com/in/jfisher
www.twitter.com/joelmoney




On Fri, Feb 27, 2009 at 12:28 PM, Jen Simmons <jensimmons@gmail.com> wrote:
> Hey all,
> I want to create a home page on a site with a main bit of text (something
> the client can edit as a page) with 2 loops of posts after it (in 2
> columns).
>
> I know how to create the loops... but I don't know how to write a php call
> in home.php to pull the content from a specific page-id. (In the past I just
> put a introduction like this in the html, and re-hack it to change it, but
> I'd like the client to be able to edit the content without going into
> home.php.
>
> I could just make one post in a fake category... and then put three loops of
> posts on the home page. But I'd rather have the intro set up as a page.
>
> Is there a <php> phrase I can use to pull the content from a page? What is
> it??
>
> thanks
> Jen
>
>
> Jen Simmons
> Milkweed Media Design
> http://milkweedmediadesign.com
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From wp-hackers at itsananderson.com  Fri Feb 27 17:53:39 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Fri Feb 27 18:18:49 2009
Subject: [wp-hackers] page + 2 loops of posts?
In-Reply-To: <d238bd620902270931k2f00bd74r16ba7c1a99c15b7@mail.gmail.com>
References: <0BD919EE-0FE2-46ED-8D0D-64C3F24B48ED@gmail.com>
	<d238bd620902270931k2f00bd74r16ba7c1a99c15b7@mail.gmail.com>
Message-ID: <6dbcd2670902270953l677ec089t56cc8886ca1a1116@mail.gmail.com>

If you do this, whatever page you want to show up on the front will always
have to have the same name or id. This might not be the best solution
because if your user wants to change the page that goes on the front,
they'll have to edit your template.
The way I usually go about this is to create something like homepage.php (so
that it's not confused with the functionality of home.php) and put the
"template name" comment at the top so I can specify it as a template for
pages.

Then whatever page I want to show up at the front, I set as the "home" page
in the settings (show a static page rather than latest posts), and I specify
my homepage.php template as the template to use for that page.

When the template loads, whatever page it's supposed to display has already
been queried.

You could almost do this without the template thing by using home.php but
home.php is only used on the front page if you have your settings show
latest posts.

On Fri, Feb 27, 2009 at 12:31 PM, Joel Fisher <joelfisher@gmail.com> wrote:

> http://codex.wordpress.org/Template_Tags/query_posts
>
> Specifically:
>
> - page_id=7 - query for just Page ID 7
> - pagename=about - note that this is not the page's title, but the page's
> path
>
>
> Hope that helps.
>
>
> joel.fisher
> http://www.linkedin.com/in/jfisher
> www.twitter.com/joelmoney
>
>
>
>
> On Fri, Feb 27, 2009 at 12:28 PM, Jen Simmons <jensimmons@gmail.com>
> wrote:
> > Hey all,
> > I want to create a home page on a site with a main bit of text (something
> > the client can edit as a page) with 2 loops of posts after it (in 2
> > columns).
> >
> > I know how to create the loops... but I don't know how to write a php
> call
> > in home.php to pull the content from a specific page-id. (In the past I
> just
> > put a introduction like this in the html, and re-hack it to change it,
> but
> > I'd like the client to be able to edit the content without going into
> > home.php.
> >
> > I could just make one post in a fake category... and then put three loops
> of
> > posts on the home page. But I'd rather have the intro set up as a page.
> >
> > Is there a <php> phrase I can use to pull the content from a page? What
> is
> > it??
> >
> > thanks
> > Jen
> >
> >
> > Jen Simmons
> > Milkweed Media Design
> > http://milkweedmediadesign.com
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers@lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Will Anderson
http://www.itsananderson.com/
From mikeschinkel at newclarity.net  Fri Feb 27 18:36:30 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb 27 18:38:23 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <24012447.381235759681909.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1QCaUf6b8b8e27dfaf5527f88eb,
	mikeschinkel@newclarity.net, 24917264.401235759788367.J>

Hi all: 


I'm running into a quandry and am wondering if you have suggestions. 

I have a PHP file that accepts URL parameters to generate different Javascript depending on which page is calling it and I need to make sure that for each of the different generated JS there is a unique URL for reasons of HTTP caching. 

To start my PHP file sets the HTTP content type using: 


header('Content-Type:text/javascript'); 


In(directly with)in my functions.php file in my theme I'm using wp_enqueue_script() something like this: 


wp_enqueue_script('my-custom-js',"$template_url/ js/ my-custom-js .js.php?p1=A&p2=B&p3=C",array('jquery'),'1.0'); 


The problem is that WordPress sends the first URL that follows to the browser instead of the second URL which is what I need: 


http://example.com/wp-content/themes/my-theme/js/my-custom-js.js.php?p1=A&#038;p2=B&#038;p3=C 

http://example.com/wp-content/themes/my-theme/js/my-custom-js.js.php?p1=A&p2=B&p3=C 


My question is: "Is this really by design, or an oversight in the design?" 

I've tried to figure out how to solve this via a hook but the code is very complex and nested and I can't figure out how to hook it easily enough given my deadline today. 

I'm to the point of just moving that javascript reference into header.php and ignoring wp_enqueue_script() for this custom JS file (and that might be the best practice anyway), but it seems there is still a problem if and when a plugin needed to use a URL with multiple parameters and specify it using wp_enqueue_script(). 

So in summary my questions are: 


1.) Is this encoding of the ampersand in the URL from "&" to "#038;" by design, or is it a bug we can fix in core? 
2.) No matter the answer to #1, is there a hook that would allow a plugin to bypass this encoding? 


Thanks in advance. 

-Mike Schinkel 
http://mikeschinkel.com/ 
From kikizas at gmail.com  Fri Feb 27 18:52:34 2009
From: kikizas at gmail.com (Demetris)
Date: Fri Feb 27 18:52:46 2009
Subject: [wp-hackers] Idea: Rename the Excerpt to something accurate
In-Reply-To: <427667db0902270001k2f96a58fs9e6950414db578b6@mail.gmail.com>
References: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>
	<39fdab560902262112m2ecdcac6xd68822fe2dfb16be@mail.gmail.com>
	<9f34a3610902262141x642a944du7a2f20247fd6649e@mail.gmail.com>
	<427667db0902270001k2f96a58fs9e6950414db578b6@mail.gmail.com>
Message-ID: <9f34a3610902271052v266389a3v3f4bafcdc0962787@mail.gmail.com>

Thanks to all for replying!

On Fri, Feb 27, 2009 at 10:01 AM, Lynne Pope <lynne.pope@gmail.com> wrote:
> The excerpt has been with us for a very long time and I doubt a name change
> will do anything except cause confusion.
>
> While "excerpt" can certainly mean ?a passage (as from a book or musical
> composition) selected,
> performed, or copied? it also means, "abridge by choosing representative
> sections" and is, IMO, appropriate for "optional hand-crafted summaries of
> your content".
>
> The automatic excerpt is very clearly an extract taken from the whole
> content, so the term is the most appropriate. A manual excerpt may be a
> synopsis, abstract, description, or introduction to the content but that is
> the beauty of WordPress - it allows for great flexibility.
>
In your logic, anything that summarizes can be said to be an excerpt,
since it picks out or plucks (what the verb means in Latin) essential
parts from a larger whole.  But if you treat language like that,
anything can mean anything in the end. :-D

Also, I don?t agree that we should not get ?too hung up on dictionary
definitions?.

Clear and precise naming is important in software (in the interface as
well as in the code).  It makes functionality as transparent as
possible and reduces the need for documentation. ? But misname
something as simple in its basic functionality as
the-excerpt-that-is-not-an-excerpt, and then you need 3,500 words to
explain what it is and what it is not. :-p

ON CONFUSING USERS

If full-range renaming were to be implemented (along with splittig
functions, deprecating functions and everything else this would
probably require), confusing users (and developers) would be my least
concern:

The manual excerpt is there since May 2003.  It was among the
highlighted features in the release notes of WP 0.70.  Six years later
people don?t understand what it is and what it does.  Can it get more
confusing that this?

ON AUTOFILLING THE EXCERPT BOX

I don?t see any benefit in this.  Quite the contrary:  in my opinion,
the less the autogenerated excerpt is associated with the manual
excerpt, the better.

A MORE MODEST PROPOSAL

In the spirit of scribu?s realistic approach (the best thing that can
be done now is good documentation), let me propose another idea, much
easier to implement, for discussion:

Now the explanation on the Excerpt box links to a Codex page that is
for developers.  We could make a new Codex page for end users, with a
quick explanation of what this thing is, and link to that from the
excerpt box.  That new page could then link to other useful locations,
like the the_excerpt() page or
http://wordpress.org/extend/plugins/tags/excerpt

Cheers,
-dk
From glenn at glennansley.com  Fri Feb 27 19:03:18 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri Feb 27 19:03:32 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <5222376463012644281@unknownmsgid>
References: <24012447.381235759681909.JavaMail.DELL-1405$@Dell-1405>
	<5222376463012644281@unknownmsgid>
Message-ID: <3283f0830902271103s60bc8753y4094138bbb0d12c0@mail.gmail.com>

Hi Mike,
I've done this before, but I don't have the code anymore because the
project was scratched (i'm an idiot for deleting code)

Maybe I can point you in the right direction though...
* There is a function in wp-includes/formatting.php called clean_url
* To make a long story short, wp_enqueue_script runs your src through
that before spitting it out.
* Luckily, there is a filter on the return and the original url is
preserved at the top of the clean_url() function.
* First, you will have to hook into that filter (remember to ask for
more than the 1 default accepted arg: <?php add_filter($tag,
$function_to_add,  $priority = 10,  $accepted_args = 1); ?>)
* Second, you will have to determine if it's filtering you're src (do
strpos() or something)
* If you get a match, return the original rather than the clean url.

Something like that... let me know if you have trouble.

Glenn Ansley
WordPress Plugin Development
http://fullthrottledevelopment.com

On Fri, Feb 27, 2009 at 1:36 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Hi all:
>
>
> I'm running into a quandry and am wondering if you have suggestions.
>
> I have a PHP file that accepts URL parameters to generate different Javascript depending on which page is calling it and I need to make sure that for each of the different generated JS there is a unique URL for reasons of HTTP caching.
>
> To start my PHP file sets the HTTP content type using:
>
>
> header('Content-Type:text/javascript');
>
>
> In(directly with)in my functions.php file in my theme I'm using wp_enqueue_script() something like this:
>
>
> wp_enqueue_script('my-custom-js',"$template_url/ js/ my-custom-js .js.php?p1=A&p2=B&p3=C",array('jquery'),'1.0');
>
>
> The problem is that WordPress sends the first URL that follows to the browser instead of the second URL which is what I need:
>
>
> http://example.com/wp-content/themes/my-theme/js/my-custom-js.js.php?p1=A&#038;p2=B&#038;p3=C
>
> http://example.com/wp-content/themes/my-theme/js/my-custom-js.js.php?p1=A&p2=B&p3=C
>
>
> My question is: "Is this really by design, or an oversight in the design?"
>
> I've tried to figure out how to solve this via a hook but the code is very complex and nested and I can't figure out how to hook it easily enough given my deadline today.
>
> I'm to the point of just moving that javascript reference into header.php and ignoring wp_enqueue_script() for this custom JS file (and that might be the best practice anyway), but it seems there is still a problem if and when a plugin needed to use a URL with multiple parameters and specify it using wp_enqueue_script().
>
> So in summary my questions are:
>
>
> 1.) Is this encoding of the ampersand in the URL from "&" to "#038;" by design, or is it a bug we can fix in core?
> 2.) No matter the answer to #1, is there a hook that would allow a plugin to bypass this encoding?
>
>
> Thanks in advance.
>
> -Mike Schinkel
> http://mikeschinkel.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From if.website at gmail.com  Fri Feb 27 19:04:23 2009
From: if.website at gmail.com (Austin Matzko)
Date: Fri Feb 27 19:04:35 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <5222376463012644281@unknownmsgid>
References: <24012447.381235759681909.JavaMail.DELL-1405$@Dell-1405>
	<5222376463012644281@unknownmsgid>
Message-ID: <674b4a3b0902271104o7c496785y4b77a148f7956ab2@mail.gmail.com>

On Fri, Feb 27, 2009 at 12:36 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> The problem is that WordPress sends the first URL that follows to the browser instead of the second URL which is what I need:
>
>
> http://example.com/wp-content/themes/my-theme/js/my-custom-js.js.php?p1=A&#038;p2=B&#038;p3=C
>
> http://example.com/wp-content/themes/my-theme/js/my-custom-js.js.php?p1=A&p2=B&p3=C

I've created a ticket here: https://core.trac.wordpress.org/ticket/9243
From mikeschinkel at newclarity.net  Fri Feb 27 19:26:50 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb 27 19:28:40 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <15111929.461235762696288.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1QDQo07f285435050a4e5783008,
	mikeschinkel@newclarity.net, 5058680.481235762804643.J>

"Glenn Ansley" <glenn@glennansley.com>
> I've done this before, but I don't have the code anymore 
> because the project was scratched (i'm an idiot for 
> deleting code) ...

Been there. :)

Thanks for the response.  I got most of the way you mentioned when I got stuck. Honestly by the time I wrote the email I was so blearly-eyed trying to figure it out I had kinda given up for the day.

So is the filter to use 'clean_url', or something else? 

"Austin Matzko" <if.website@gmail.com> wrote
> I've created a ticket here: https://core.trac.wordpress.org/ticket/9243

Thank you!

-Mike Schinkel
http://mikeschinkel.com/

From if.website at gmail.com  Fri Feb 27 19:30:46 2009
From: if.website at gmail.com (Austin Matzko)
Date: Fri Feb 27 19:30:54 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <8752038243144983989@unknownmsgid>
References: <15111929.461235762696288.JavaMail.DELL-1405$@Dell-1405>
	<8752038243144983989@unknownmsgid>
Message-ID: <674b4a3b0902271130r546d7e22g35da36aa887fde63@mail.gmail.com>

On Fri, Feb 27, 2009 at 1:26 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> So is the filter to use 'clean_url', or something else?

To fix this in current WordPress, filter 'script_loader_src'
From glenn at glennansley.com  Fri Feb 27 19:30:44 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri Feb 27 19:30:57 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <8752038243144983989@unknownmsgid>
References: <15111929.461235762696288.JavaMail.DELL-1405$@Dell-1405>
	<8752038243144983989@unknownmsgid>
Message-ID: <3283f0830902271130n2eaa436dx42ab0c76fcb9893f@mail.gmail.com>

No problem and yes

1858 in /wp-includes/formatting.php
return apply_filters('clean_url', $url, $original_url, $context);

On Fri, Feb 27, 2009 at 2:26 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> "Glenn Ansley" <glenn@glennansley.com>
>> I've done this before, but I don't have the code anymore
>> because the project was scratched (i'm an idiot for
>> deleting code) ...
>
> Been there. :)
>
> Thanks for the response. ?I got most of the way you mentioned when I got stuck. Honestly by the time I wrote the email I was so blearly-eyed trying to figure it out I had kinda given up for the day.
>
> So is the filter to use 'clean_url', or something else?
>
> "Austin Matzko" <if.website@gmail.com> wrote
>> I've created a ticket here: https://core.trac.wordpress.org/ticket/9243
>
> Thank you!
>
> -Mike Schinkel
> http://mikeschinkel.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From ncrice at gmail.com  Fri Feb 27 19:34:30 2009
From: ncrice at gmail.com (Nathan Rice)
Date: Fri Feb 27 19:34:41 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <674b4a3b0902271130r546d7e22g35da36aa887fde63@mail.gmail.com>
References: <15111929.461235762696288.JavaMail.DELL-1405$@Dell-1405>
	<8752038243144983989@unknownmsgid>
	<674b4a3b0902271130r546d7e22g35da36aa887fde63@mail.gmail.com>
Message-ID: <862d087f0902271134h59cecc0ana66ae2bd79724077@mail.gmail.com>

This is kinda unrelated, but I've always wondered about this ...

Why is it that, in order to use wp_enqueue_script in a theme, you have to
hook it to wp_head?  If I create my own action, and try to hook it to that,
it won't work (at least, it won't work if you call that action before
wp_head in your header.php file).

I've always wondered about that.

Nathan


My Website
http://www.nathanrice.net/

My Twitter
http://twitter.com/nathanrice


On Fri, Feb 27, 2009 at 2:30 PM, Austin Matzko <if.website@gmail.com> wrote:

> On Fri, Feb 27, 2009 at 1:26 PM, Mike Schinkel
> <mikeschinkel@newclarity.net> wrote:
> > So is the filter to use 'clean_url', or something else?
>
> To fix this in current WordPress, filter 'script_loader_src'
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From glenn at glennansley.com  Fri Feb 27 19:41:59 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri Feb 27 19:42:32 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <862d087f0902271134h59cecc0ana66ae2bd79724077@mail.gmail.com>
References: <15111929.461235762696288.JavaMail.DELL-1405$@Dell-1405>
	<8752038243144983989@unknownmsgid>
	<674b4a3b0902271130r546d7e22g35da36aa887fde63@mail.gmail.com>
	<862d087f0902271134h59cecc0ana66ae2bd79724077@mail.gmail.com>
Message-ID: <3283f0830902271141r67d328dfhc015d9bfcb78708f@mail.gmail.com>

>To fix this in current WordPress, filter 'script_loader_src'
I believe this is too early. Whatever you output from
script_loader_src will still be cleaned by clean_url(). Correct? (i'm
not testing as i respond)

>Why is it that, in order to use wp_enqueue_script in a theme, you have to hook it to wp_head?
I hook into init because it needs to be included before scripts are
printed (wp_print_scripts)

Glenn Ansley
WordPress Pluign Development
http://fullthrottledevelopment.com

On Fri, Feb 27, 2009 at 2:34 PM, Nathan Rice <ncrice@gmail.com> wrote:
> This is kinda unrelated, but I've always wondered about this ...
>
> Why is it that, in order to use wp_enqueue_script in a theme, you have to
> hook it to wp_head? ?If I create my own action, and try to hook it to that,
> it won't work (at least, it won't work if you call that action before
> wp_head in your header.php file).
>
> I've always wondered about that.
>
> Nathan
>
>
> My Website
> http://www.nathanrice.net/
>
> My Twitter
> http://twitter.com/nathanrice
>
>
> On Fri, Feb 27, 2009 at 2:30 PM, Austin Matzko <if.website@gmail.com> wrote:
>
>> On Fri, Feb 27, 2009 at 1:26 PM, Mike Schinkel
>> <mikeschinkel@newclarity.net> wrote:
>> > So is the filter to use 'clean_url', or something else?
>>
>> To fix this in current WordPress, filter 'script_loader_src'
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From if.website at gmail.com  Fri Feb 27 19:44:42 2009
From: if.website at gmail.com (Austin Matzko)
Date: Fri Feb 27 19:44:49 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <3283f0830902271141r67d328dfhc015d9bfcb78708f@mail.gmail.com>
References: <15111929.461235762696288.JavaMail.DELL-1405$@Dell-1405>
	<8752038243144983989@unknownmsgid>
	<674b4a3b0902271130r546d7e22g35da36aa887fde63@mail.gmail.com>
	<862d087f0902271134h59cecc0ana66ae2bd79724077@mail.gmail.com>
	<3283f0830902271141r67d328dfhc015d9bfcb78708f@mail.gmail.com>
Message-ID: <674b4a3b0902271144p594916c1pa7b244ed881f5264@mail.gmail.com>

On Fri, Feb 27, 2009 at 1:41 PM, Glenn Ansley <glenn@glennansley.com> wrote:
>>To fix this in current WordPress, filter 'script_loader_src'
> I believe this is too early. Whatever you output from
> script_loader_src will still be cleaned by clean_url(). Correct? (i'm
> not testing as i respond)

You are correct.  My mistake.
From mikeschinkel at newclarity.net  Fri Feb 27 19:46:57 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb 27 19:48:50 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <10325416.501235763954649.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1QDkv125f48071ca78e90a487e4,
	mikeschinkel@newclarity.net, 9360628.521235763999591.J>

"Glenn Ansley" <glenn@glennansley.com> wrote:
> 1858 in /wp-includes/formatting.php
> return apply_filters('clean_url', $url, $original_url, $context);
From glenn at glennansley.com  Fri Feb 27 19:50:11 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri Feb 27 19:50:24 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <674b4a3b0902271144p594916c1pa7b244ed881f5264@mail.gmail.com>
References: <15111929.461235762696288.JavaMail.DELL-1405$@Dell-1405>
	<8752038243144983989@unknownmsgid>
	<674b4a3b0902271130r546d7e22g35da36aa887fde63@mail.gmail.com>
	<862d087f0902271134h59cecc0ana66ae2bd79724077@mail.gmail.com>
	<3283f0830902271141r67d328dfhc015d9bfcb78708f@mail.gmail.com>
	<674b4a3b0902271144p594916c1pa7b244ed881f5264@mail.gmail.com>
Message-ID: <3283f0830902271150rae0d396k9593c4267bf2b248@mail.gmail.com>

>wp_enqueue_script('my-custom-js',"$template_url/ js/ my-custom-js .js.php?p1=A&p2=B&p3=C",array('jquery'),'1.0');

Oh yeah... depending on where these query vars are coming from, it
might be wise to add some form of cleaning back to them in your filter
since you're now bypassing clean_url()

Glenn Ansley
WordPress Pluign Development
http://fullthrottledevelopment.com

On Fri, Feb 27, 2009 at 2:44 PM, Austin Matzko <if.website@gmail.com> wrote:
> On Fri, Feb 27, 2009 at 1:41 PM, Glenn Ansley <glenn@glennansley.com> wrote:
>>>To fix this in current WordPress, filter 'script_loader_src'
>> I believe this is too early. Whatever you output from
>> script_loader_src will still be cleaned by clean_url(). Correct? (i'm
>> not testing as i respond)
>
> You are correct. ?My mistake.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mdmartz at sivel.net  Fri Feb 27 20:01:34 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Fri Feb 27 20:01:45 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <3283f0830902271150rae0d396k9593c4267bf2b248@mail.gmail.com>
References: <15111929.461235762696288.JavaMail.DELL-1405$@Dell-1405>
	<8752038243144983989@unknownmsgid>
	<674b4a3b0902271130r546d7e22g35da36aa887fde63@mail.gmail.com>
	<862d087f0902271134h59cecc0ana66ae2bd79724077@mail.gmail.com>
	<3283f0830902271141r67d328dfhc015d9bfcb78708f@mail.gmail.com>
	<674b4a3b0902271144p594916c1pa7b244ed881f5264@mail.gmail.com>
	<3283f0830902271150rae0d396k9593c4267bf2b248@mail.gmail.com>
Message-ID: <518fa9630902271201n234f9621hbf5d492f4dd98a6e@mail.gmail.com>

On Fri, Feb 27, 2009 at 2:50 PM, Glenn Ansley <glenn@glennansley.com> wrote:
>>wp_enqueue_script('my-custom-js',"$template_url/ js/ my-custom-js .js.php?p1=A&p2=B&p3=C",array('jquery'),'1.0');
>
> Oh yeah... depending on where these query vars are coming from, it
> might be wise to add some form of cleaning back to them in your filter
> since you're now bypassing clean_url()
>
> Glenn Ansley
> WordPress Pluign Development
> http://fullthrottledevelopment.com
>
> On Fri, Feb 27, 2009 at 2:44 PM, Austin Matzko <if.website@gmail.com> wrote:
>> On Fri, Feb 27, 2009 at 1:41 PM, Glenn Ansley <glenn@glennansley.com> wrote:
>>>>To fix this in current WordPress, filter 'script_loader_src'
>>> I believe this is too early. Whatever you output from
>>> script_loader_src will still be cleaned by clean_url(). Correct? (i'm
>>> not testing as i respond)
>>
>> You are correct. ?My mistake.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

So I'm not sure I understand what the problem with having the &
replaced with &#038; is.

The reason it is done is because & signs on their own do not validate
as XHTML.  I don't see any reason why having &#038; wouldn't work.
Generally & signs are replaced with &amp; but &#038; is the same
thing.

-- 
Matt Martz
matt@sivel.net
From mikeschinkel at newclarity.net  Fri Feb 27 20:05:49 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb 27 20:06:18 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <15132092.621235764984975.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1QE5n78ebc4f492bd0845a1f9d9,
	mikeschinkel@newclarity.net, 11829635.641235765143494.J>

"Nathan Rice" <ncrice@gmail.com> wrote:
> Why is it that, in order to use wp_enqueue_script in a theme, 
> you have to hook it to wp_head?  If I create my own action, and 
> try to hook it to that, it won't work (at least, it won't work 
> if you call that action before wp_head in your header.php file).

I've actually been thinking about this alot too, especially related to page templates.  The obvious answer is that the header has already been generated by the time the code gets to the template.

However, I do think it would be incredibly helpful if it could be rethought, possibly with a plugin, that would allow the calls to wp_enqueue_script() and similar to be stored in the same file as page template that uses it, or at least a similarly named file.  My current project needs this on tens of pages; for example I have a script that is specific to the video gallery page and is doen't need to be and probably shouldn't be included elsewhere.

What would be nice is, for example, if we could create a function in a page template called (something like) "init_template()" and have that function called during init() for a page template.

There are lots of issues with this approach, I realize, but they could be overcome in a plugin. One small thing that would be less-than-idal is that doing this would duplicate some significant logic in core such as the logic found in template-loader.php.  It would be nice if the code in lines 17-59 were refactored into a function that returned the template file name so that logic could be used elsewhere. Would this be the type of thing appropriate to add a ticket into track for?

-Mike Schinkel
http://mikeschinkel.com/
From glenn at glennansley.com  Fri Feb 27 20:10:03 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri Feb 27 20:10:15 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <518fa9630902271201n234f9621hbf5d492f4dd98a6e@mail.gmail.com>
References: <15111929.461235762696288.JavaMail.DELL-1405$@Dell-1405>
	<8752038243144983989@unknownmsgid>
	<674b4a3b0902271130r546d7e22g35da36aa887fde63@mail.gmail.com>
	<862d087f0902271134h59cecc0ana66ae2bd79724077@mail.gmail.com>
	<3283f0830902271141r67d328dfhc015d9bfcb78708f@mail.gmail.com>
	<674b4a3b0902271144p594916c1pa7b244ed881f5264@mail.gmail.com>
	<3283f0830902271150rae0d396k9593c4267bf2b248@mail.gmail.com>
	<518fa9630902271201n234f9621hbf5d492f4dd98a6e@mail.gmail.com>
Message-ID: <3283f0830902271210y6cf54ef1y735d7be82aa020d0@mail.gmail.com>

>> So I'm not sure I understand what the problem with having the & replaced with &#038; is.

I think this is a fairly limited use and may not be necessary for
core. The reason its necessary here is because the JS script being
called is a .php script and he's going to want to use $_GET to do
something with the query string vars... I'm guessing that's why he
needs the & intact. That's why I did.

Glenn Ansley
WordPress Pluign Development
http://fullthrottledevelopment.com


On Fri, Feb 27, 2009 at 3:01 PM, Matt Martz <mdmartz@sivel.net> wrote:
> On Fri, Feb 27, 2009 at 2:50 PM, Glenn Ansley <glenn@glennansley.com> wrote:
>>>wp_enqueue_script('my-custom-js',"$template_url/ js/ my-custom-js .js.php?p1=A&p2=B&p3=C",array('jquery'),'1.0');
>>
>> Oh yeah... depending on where these query vars are coming from, it
>> might be wise to add some form of cleaning back to them in your filter
>> since you're now bypassing clean_url()
>>
>> Glenn Ansley
>> WordPress Pluign Development
>> http://fullthrottledevelopment.com
>>
>> On Fri, Feb 27, 2009 at 2:44 PM, Austin Matzko <if.website@gmail.com> wrote:
>>> On Fri, Feb 27, 2009 at 1:41 PM, Glenn Ansley <glenn@glennansley.com> wrote:
>>>>>To fix this in current WordPress, filter 'script_loader_src'
>>>> I believe this is too early. Whatever you output from
>>>> script_loader_src will still be cleaned by clean_url(). Correct? (i'm
>>>> not testing as i respond)
>>>
>>> You are correct. ?My mistake.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> So I'm not sure I understand what the problem with having the &
> replaced with &#038; is.
>
> The reason it is done is because & signs on their own do not validate
> as XHTML. ?I don't see any reason why having &#038; wouldn't work.
> Generally & signs are replaced with &amp; but &#038; is the same
> thing.
>
> --
> Matt Martz
> matt@sivel.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From dangayle at gmail.com  Fri Feb 27 20:19:36 2009
From: dangayle at gmail.com (Dan Gayle)
Date: Fri Feb 27 20:19:49 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <EMEWEMEW2_DELIMl1QE5n78ebc4f492bd0845a1f9d9,
	mikeschinkel@newclarity.net, 11829635.641235765143494.J>
References: <EMEWEMEW2_DELIMl1QE5n78ebc4f492bd0845a1f9d9,
	mikeschinkel@newclarity.net, 11829635.641235765143494.J>
Message-ID: <C8BCD212-8688-47B4-A16F-78996FE5F14C@gmail.com>

+1
Often there is a large hunk of template specific javascript that I add  
within conditional tags and not into wp_enqueue_script() because I  
only want it to load on one specific page. For instance, we have a  
large application form with complex javascript validation that we  
don't want to load elsewhere.

This would certainly be handy.


On Feb 27, 2009, at 12:05 PM, Mike Schinkel wrote:
> However, I do think it would be incredibly helpful if it could be  
> rethought, possibly with a plugin, that would allow the calls to  
> wp_enqueue_script() and similar to be stored in the same file as  
> page template that uses it, or at least a similarly named file.  My  
> current project needs this on tens of pages; for example I have a  
> script that is specific to the video gallery page and is doen't need  
> to be and probably shouldn't be included elsewhere.
>
> What would be nice is, for example, if we could create a function in  
> a page template called (something like) "init_template()" and have  
> that function called during init() for a page template.
From glenn at glennansley.com  Fri Feb 27 20:20:01 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri Feb 27 20:20:14 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <6470516312090823136@unknownmsgid>
References: <15132092.621235764984975.JavaMail.DELL-1405$@Dell-1405>
	<6470516312090823136@unknownmsgid>
Message-ID: <3283f0830902271220x78f05cf1ue89630ef266058a5@mail.gmail.com>

>> My current project needs this on tens of pages; for example I have a script that is specific to the video gallery page and is doen't need to be and probably shouldn't be included elsewhere.

function testers(){
	global $wp_query;
	if ( 4 == $wp_query->query_vars['page_id'] ) :
		echo "Ta da!";
	endif;
}
add_action('template_redirect','testers');

// assuming 4 is the page you're looking for... or you could do
in_array() for mulitple pages, or use the p variable, etc

Glenn Ansley
WordPress Pluign Development
http://fullthrottledevelopment.com
On Fri, Feb 27, 2009 at 3:05 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> "Nathan Rice" <ncrice@gmail.com> wrote:
>> Why is it that, in order to use wp_enqueue_script in a theme,
>> you have to hook it to wp_head? ?If I create my own action, and
>> try to hook it to that, it won't work (at least, it won't work
>> if you call that action before wp_head in your header.php file).
>
> I've actually been thinking about this alot too, especially related to page templates. ?The obvious answer is that the header has already been generated by the time the code gets to the template.
>
> However, I do think it would be incredibly helpful if it could be rethought, possibly with a plugin, that would allow the calls to wp_enqueue_script() and similar to be stored in the same file as page template that uses it, or at least a similarly named file. ?My current project needs this on tens of pages; for example I have a script that is specific to the video gallery page and is doen't need to be and probably shouldn't be included elsewhere.
>
> What would be nice is, for example, if we could create a function in a page template called (something like) "init_template()" and have that function called during init() for a page template.
>
> There are lots of issues with this approach, I realize, but they could be overcome in a plugin. One small thing that would be less-than-idal is that doing this would duplicate some significant logic in core such as the logic found in template-loader.php. ?It would be nice if the code in lines 17-59 were refactored into a function that returned the template file name so that logic could be used elsewhere. Would this be the type of thing appropriate to add a ticket into track for?
>
> -Mike Schinkel
> http://mikeschinkel.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From glenn at glennansley.com  Fri Feb 27 20:21:19 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Fri Feb 27 20:21:31 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <3283f0830902271220x78f05cf1ue89630ef266058a5@mail.gmail.com>
References: <15132092.621235764984975.JavaMail.DELL-1405$@Dell-1405>
	<6470516312090823136@unknownmsgid>
	<3283f0830902271220x78f05cf1ue89630ef266058a5@mail.gmail.com>
Message-ID: <3283f0830902271221u4fcd7a4cxf90372147412c8bb@mail.gmail.com>

... and echo "ta da" could easily be replaced with wp_enqueue_script()

On Fri, Feb 27, 2009 at 3:20 PM, Glenn Ansley <glenn@glennansley.com> wrote:
>>> My current project needs this on tens of pages; for example I have a script that is specific to the video gallery page and is doen't need to be and probably shouldn't be included elsewhere.
>
> function testers(){
> ? ? ? ?global $wp_query;
> ? ? ? ?if ( 4 == $wp_query->query_vars['page_id'] ) :
> ? ? ? ? ? ? ? ?echo "Ta da!";
> ? ? ? ?endif;
> }
> add_action('template_redirect','testers');
>
> // assuming 4 is the page you're looking for... or you could do
> in_array() for mulitple pages, or use the p variable, etc
>
> Glenn Ansley
> WordPress Pluign Development
> http://fullthrottledevelopment.com
> On Fri, Feb 27, 2009 at 3:05 PM, Mike Schinkel
> <mikeschinkel@newclarity.net> wrote:
>> "Nathan Rice" <ncrice@gmail.com> wrote:
>>> Why is it that, in order to use wp_enqueue_script in a theme,
>>> you have to hook it to wp_head? ?If I create my own action, and
>>> try to hook it to that, it won't work (at least, it won't work
>>> if you call that action before wp_head in your header.php file).
>>
>> I've actually been thinking about this alot too, especially related to page templates. ?The obvious answer is that the header has already been generated by the time the code gets to the template.
>>
>> However, I do think it would be incredibly helpful if it could be rethought, possibly with a plugin, that would allow the calls to wp_enqueue_script() and similar to be stored in the same file as page template that uses it, or at least a similarly named file. ?My current project needs this on tens of pages; for example I have a script that is specific to the video gallery page and is doen't need to be and probably shouldn't be included elsewhere.
>>
>> What would be nice is, for example, if we could create a function in a page template called (something like) "init_template()" and have that function called during init() for a page template.
>>
>> There are lots of issues with this approach, I realize, but they could be overcome in a plugin. One small thing that would be less-than-idal is that doing this would duplicate some significant logic in core such as the logic found in template-loader.php. ?It would be nice if the code in lines 17-59 were refactored into a function that returned the template file name so that logic could be used elsewhere. Would this be the type of thing appropriate to add a ticket into track for?
>>
>> -Mike Schinkel
>> http://mikeschinkel.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
From mdmartz at sivel.net  Fri Feb 27 20:22:10 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Fri Feb 27 20:22:22 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <3283f0830902271210y6cf54ef1y735d7be82aa020d0@mail.gmail.com>
References: <15111929.461235762696288.JavaMail.DELL-1405$@Dell-1405>
	<8752038243144983989@unknownmsgid>
	<674b4a3b0902271130r546d7e22g35da36aa887fde63@mail.gmail.com>
	<862d087f0902271134h59cecc0ana66ae2bd79724077@mail.gmail.com>
	<3283f0830902271141r67d328dfhc015d9bfcb78708f@mail.gmail.com>
	<674b4a3b0902271144p594916c1pa7b244ed881f5264@mail.gmail.com>
	<3283f0830902271150rae0d396k9593c4267bf2b248@mail.gmail.com>
	<518fa9630902271201n234f9621hbf5d492f4dd98a6e@mail.gmail.com>
	<3283f0830902271210y6cf54ef1y735d7be82aa020d0@mail.gmail.com>
Message-ID: <518fa9630902271222r4df5cfb4jc43abf5b3fa939ed@mail.gmail.com>

On Fri, Feb 27, 2009 at 3:10 PM, Glenn Ansley <glenn@glennansley.com> wrote:
>>> So I'm not sure I understand what the problem with having the & replaced with &#038; is.
>
> I think this is a fairly limited use and may not be necessary for
> core. The reason its necessary here is because the JS script being
> called is a .php script and he's going to want to use $_GET to do
> something with the query string vars... I'm guessing that's why he
> needs the & intact. That's why I did.
>
> Glenn Ansley
> WordPress Pluign Development
> http://fullthrottledevelopment.com
>
>
> On Fri, Feb 27, 2009 at 3:01 PM, Matt Martz <mdmartz@sivel.net> wrote:
>> On Fri, Feb 27, 2009 at 2:50 PM, Glenn Ansley <glenn@glennansley.com> wrote:
>>>>wp_enqueue_script('my-custom-js',"$template_url/ js/ my-custom-js .js.php?p1=A&p2=B&p3=C",array('jquery'),'1.0');
>>>
>>> Oh yeah... depending on where these query vars are coming from, it
>>> might be wise to add some form of cleaning back to them in your filter
>>> since you're now bypassing clean_url()
>>>
>>> Glenn Ansley
>>> WordPress Pluign Development
>>> http://fullthrottledevelopment.com
>>>
>>> On Fri, Feb 27, 2009 at 2:44 PM, Austin Matzko <if.website@gmail.com> wrote:
>>>> On Fri, Feb 27, 2009 at 1:41 PM, Glenn Ansley <glenn@glennansley.com> wrote:
>>>>>>To fix this in current WordPress, filter 'script_loader_src'
>>>>> I believe this is too early. Whatever you output from
>>>>> script_loader_src will still be cleaned by clean_url(). Correct? (i'm
>>>>> not testing as i respond)
>>>>
>>>> You are correct. ?My mistake.
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers@lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers@lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>> So I'm not sure I understand what the problem with having the &
>> replaced with &#038; is.
>>
>> The reason it is done is because & signs on their own do not validate
>> as XHTML. ?I don't see any reason why having &#038; wouldn't work.
>> Generally & signs are replaced with &amp; but &#038; is the same
>> thing.
>>
>> --
>> Matt Martz
>> matt@sivel.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers@lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

When the client browser makes the call it will convert the entity to
the correct character before making the request.

You can test by creating an php script with the following code:

<a href="?id=9&#038;app=this">Link</a>
<?php echo "<br />\nID: {$_GET['id']}<br />\nAPP: {$_GET['app']}"; ?>

When you click the you will see the following:

Link
ID: 9
APP: this

There is nothing technically wrong with using the html entitiy in
place of & in a url.

-- 
Matt Martz
matt@sivel.net
From mikeschinkel at newclarity.net  Fri Feb 27 20:39:23 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb 27 20:42:26 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <26151629.661235766497001.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <EMEWEMEW2_DELIMl1QEdNe99aedbe3aac8742c98371,
	mikeschinkel@newclarity.net, 31436324.681235767160237.J>

"Matt Martz" <mdmartz@sivel.net> wrote:
> So I'm not sure I understand what the problem with having 
> the & replaced with &#038; is.

The problem is that &#038; is not a valid parameter separator for a URL, in PHP or the RFC that defines URLs.  Here is a test file that demonstrates:

<?php
   header('Content-Type:text/plain');
   echo "\nFoo=" . $_GET['foo'];
   echo "\nBar=" . $_GET['bar'];
?>

You can test it to see the results currently here:

   http://mikeschinkel.com/url-encoding-issue.php?foo=1&#038;bar=2
   http://mikeschinkel.com/url-encoding-issue.php?foo=1&bar=2

The following example provides two files (one HTML, one PHP that returns Javascript) illustrates the problem more closely for my use-case:

   http://mikeschinkel.pastebin.com/f24b7cc23

"Glenn Ansley" <glenn@glennansley.com> wrote:
> I think this is a fairly limited use and may not be necessary 
> for core. 

While I've learned that discussions of something being in core are somewhat, ahem,  volatile I would argue once that this is a problem even if an uncommon case because it doesn't allow valid URLs and this goes against the RFC standard for URLs. But that's all I'll say on this subject that lest I be accused of causing trouble on the list again.

-Mike Schinkel
http://mikeschinkel.com/

From mikeschinkel at newclarity.net  Fri Feb 27 21:04:32 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb 27 21:05:59 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <EMEWEMEW2_DELIMl1QEdNe99aedbe3aac8742c98371,
	mikeschinkel@newclarity.net, 31436324.681235767160237.J>
Message-ID: <EMEWEMEW2_DELIMl1QF4W2ca016a0e6a0e85245abee,
	mikeschinkel@newclarity.net, 815855.721235768669038.J>

Interestingly I just clicked on the link in my email client for this and it worked:

   http://mikeschinkel.com/url-encoding-issue.php?foo=1&#038;bar=2

If that happens to you acut & paste the exact URL into your browser to see how "bar" doesn't get a value.

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Mike Schinkel" <mikeschinkel@newclarity.net>
To: wp-hackers@lists.automattic.com
Sent: Friday, February 27, 2009 3:39:23 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters

"Matt Martz" <mdmartz@sivel.net> wrote:
> So I'm not sure I understand what the problem with having 
> the & replaced with &#038; is.

The problem is that &#038; is not a valid parameter separator for a URL, in PHP or the RFC that defines URLs.  Here is a test file that demonstrates:

<?php
   header('Content-Type:text/plain');
   echo "\nFoo=" . $_GET['foo'];
   echo "\nBar=" . $_GET['bar'];
?>

You can test it to see the results currently here:

   http://mikeschinkel.com/url-encoding-issue.php?foo=1&#038;bar=2
   http://mikeschinkel.com/url-encoding-issue.php?foo=1&bar=2

The following example provides two files (one HTML, one PHP that returns Javascript) illustrates the problem more closely for my use-case:

   http://mikeschinkel.pastebin.com/f24b7cc23

"Glenn Ansley" <glenn@glennansley.com> wrote:
> I think this is a fairly limited use and may not be necessary 
> for core. 

While I've learned that discussions of something being in core are somewhat, ahem,  volatile I would argue once that this is a problem even if an uncommon case because it doesn't allow valid URLs and this goes against the RFC standard for URLs. But that's all I'll say on this subject that lest I be accused of causing trouble on the list again.

-Mike Schinkel
http://mikeschinkel.com/

_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From mdmartz at sivel.net  Fri Feb 27 21:11:21 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Fri Feb 27 21:11:32 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <-2094970527917968876@unknownmsgid>
References: <-2094970527917968876@unknownmsgid>
Message-ID: <518fa9630902271311m76e19aces55cdd70483fcafb7@mail.gmail.com>

On Fri, Feb 27, 2009 at 4:04 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> Interestingly I just clicked on the link in my email client for this and it worked:
>
> ? http://mikeschinkel.com/url-encoding-issue.php?foo=1&#038;bar=2
>
> If that happens to you acut & paste the exact URL into your browser to see how "bar" doesn't get a value.
>
> -Mike Schinkel
> http://mikeschinkel.com/
>

Exactly what I mentioned earlier.  The browser will convert the entity
to the actual character before making the call.  Whether it be
clicking a link or calling a js or css file.

If you copy and paste the url with the entity into the address bar it
will however not work.

-- 
Matt Martz
matt@sivel.net
From otto at ottodestruct.com  Fri Feb 27 21:34:16 2009
From: otto at ottodestruct.com (Otto)
Date: Fri Feb 27 21:34:32 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <518fa9630902271311m76e19aces55cdd70483fcafb7@mail.gmail.com>
References: <-2094970527917968876@unknownmsgid>
	<518fa9630902271311m76e19aces55cdd70483fcafb7@mail.gmail.com>
Message-ID: <161617690902271334v4396cfadu907823e7cdf0f06a@mail.gmail.com>

On Fri, Feb 27, 2009 at 3:11 PM, Matt Martz <mdmartz@sivel.net> wrote:
> On Fri, Feb 27, 2009 at 4:04 PM, Mike Schinkel
> <mikeschinkel@newclarity.net> wrote:
>> Interestingly I just clicked on the link in my email client for this and it worked:
>>
>> ? http://mikeschinkel.com/url-encoding-issue.php?foo=1&#038;bar=2
>>
>> If that happens to you acut & paste the exact URL into your browser to see how "bar" doesn't get a value.
>
> Exactly what I mentioned earlier. ?The browser will convert the entity
> to the actual character before making the call. ?Whether it be
> clicking a link or calling a js or css file.
>
> If you copy and paste the url with the entity into the address bar it
> will however not work.

It doesn't convert it for me. Firefox 3 and GMail.

-Otto
From mikeschinkel at newclarity.net  Fri Feb 27 22:05:13 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri Feb 27 22:06:57 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <518fa9630902271311m76e19aces55cdd70483fcafb7@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1QG5D6298e01482d3c7e4d7a769,
	mikeschinkel@newclarity.net, 15955619.941235772306821.J>

"Matt Martz" <mdmartz@sivel.net> wrote:
> Exactly what I mentioned earlier.  The browser will convert the 
> entity to the actual character before making the call.  Whether 
> it be clicking a link or calling a js or css file.

Not true, it was my *mail client* that did the conversion of the information in an email, not my browser.  

> If you copy and paste the url with the entity into the address 
>  bar it will however not work.

And therein lies the problem. The same happens when a URL is request via the browser from a <script> tag.

-Mike Schinkel
http://mikeschinkel.com/
From mdmartz at sivel.net  Sat Feb 28 00:26:49 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Sat Feb 28 00:27:00 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <5144683170683758523@unknownmsgid>
References: <518fa9630902271311m76e19aces55cdd70483fcafb7@mail.gmail.com>
	<5144683170683758523@unknownmsgid>
Message-ID: <518fa9630902271626h42089f12y9e1ef2fbe424a523@mail.gmail.com>

On Fri, Feb 27, 2009 at 5:05 PM, Mike Schinkel
<mikeschinkel@newclarity.net> wrote:
> "Matt Martz" <mdmartz@sivel.net> wrote:
>> Exactly what I mentioned earlier. ?The browser will convert the
>> entity to the actual character before making the call. ?Whether
>> it be clicking a link or calling a js or css file.
>
> Not true, it was my *mail client* that did the conversion of the information in an email, not my browser.
>
>> If you copy and paste the url with the entity into the address
>> ?bar it will however not work.
>
> And therein lies the problem. The same happens when a URL is request via the browser from a <script> tag.
>
> -Mike Schinkel
> http://mikeschinkel.com/

Okay, I put together a quick plugin to prove to myself that either the
use of &#038; does work or does not work.  In short I found that it
*does* work.

I'll even provide my plugin code so that anyone else who wants can test it.

The code can be found at http://gist.github.com/71796.txt

Save this as a .php file and place in your plugins directory.  Once
activated navigate to your blog and you should see a javascript alert
that either says 'IT WORKED!' or 'IT DIDN'T WORK!" followed by some
extra data.  It won't do the alert in the admin as I figured it might
be annoying to try to deal with the alert while activating and
deactivating.

-- 
Matt Martz
matt@sivel.net
From glenn at glennansley.com  Sat Feb 28 00:34:30 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Sat Feb 28 00:34:41 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <518fa9630902271626h42089f12y9e1ef2fbe424a523@mail.gmail.com>
References: <518fa9630902271311m76e19aces55cdd70483fcafb7@mail.gmail.com>
	<5144683170683758523@unknownmsgid>
	<518fa9630902271626h42089f12y9e1ef2fbe424a523@mail.gmail.com>
Message-ID: <3283f0830902271634p639280c6s9a25bd451e09f222@mail.gmail.com>

But would it work if you set the header to text/javascipt? Just curious?

On Fri, Feb 27, 2009 at 7:26 PM, Matt Martz <mdmartz@sivel.net> wrote:
> On Fri, Feb 27, 2009 at 5:05 PM, Mike Schinkel
> <mikeschinkel@newclarity.net> wrote:
>> "Matt Martz" <mdmartz@sivel.net> wrote:
>>> Exactly what I mentioned earlier. ?The browser will convert the
>>> entity to the actual character before making the call. ?Whether
>>> it be clicking a link or calling a js or css file.
>>
>> Not true, it was my *mail client* that did the conversion of the information in an email, not my browser.
>>
>>> If you copy and paste the url with the entity into the address
>>> ?bar it will however not work.
>>
>> And therein lies the problem. The same happens when a URL is request via the browser from a <script> tag.
>>
>> -Mike Schinkel
>> http://mikeschinkel.com/
>
> Okay, I put together a quick plugin to prove to myself that either the
> use of &#038; does work or does not work. ?In short I found that it
> *does* work.
>
> I'll even provide my plugin code so that anyone else who wants can test it.
>
> The code can be found at http://gist.github.com/71796.txt
>
> Save this as a .php file and place in your plugins directory. ?Once
> activated navigate to your blog and you should see a javascript alert
> that either says 'IT WORKED!' or 'IT DIDN'T WORK!" followed by some
> extra data. ?It won't do the alert in the admin as I figured it might
> be annoying to try to deal with the alert while activating and
> deactivating.
>
> --
> Matt Martz
> matt@sivel.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
From mdmartz at sivel.net  Sat Feb 28 00:36:44 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Sat Feb 28 00:36:52 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <3283f0830902271634p639280c6s9a25bd451e09f222@mail.gmail.com>
References: <518fa9630902271311m76e19aces55cdd70483fcafb7@mail.gmail.com>
	<5144683170683758523@unknownmsgid>
	<518fa9630902271626h42089f12y9e1ef2fbe424a523@mail.gmail.com>
	<3283f0830902271634p639280c6s9a25bd451e09f222@mail.gmail.com>
Message-ID: <518fa9630902271636o7220fbe3jacedb4d3539de141@mail.gmail.com>

On Fri, Feb 27, 2009 at 7:34 PM, Glenn Ansley <glenn@glennansley.com> wrote:
> But would it work if you set the header to text/javascipt? Just curious?

It does...but doing header('Content-Type: text/javascript'); doesn't
change php's ability to parse the query_string.

-- 
Matt Martz
matt@sivel.net
From andre.renaut at gmail.com  Sat Feb 28 00:53:10 2009
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Sat Feb 28 00:53:57 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+
Message-ID: <8810a71a0902271653o41d8238enf04e2caf0d60338@mail.gmail.com>

Hi, was just looking at your problem,

In analyzing the code of WP i found some restrictions between
wp_register_script and the WP_Scripts class (extending WP_Dependencies)

In fact, wp_register script

function wp_register_script
<http://127.0.0.1/xref27/_functions/wp_register_script.html>( $handle
<http://127.0.0.1/xref27/_variables/handle.html>, $src
<http://127.0.0.1/xref27/_variables/src.html>, $deps
<http://127.0.0.1/xref27/_variables/deps.html> = array(), $ver
<http://127.0.0.1/xref27/_variables/ver.html> = false )

is using the add function af WP_Dependencies


function add <http://127.0.0.1/xref27/_functions/add.html>( $handle
<http://127.0.0.1/xref27/_variables/handle.html>, $src
<http://127.0.0.1/xref27/_variables/src.html>, $deps
<http://127.0.0.1/xref27/_variables/deps.html> = array(), $ver
<http://127.0.0.1/xref27/_variables/ver.html> = false, $args
<http://127.0.0.1/xref27/_variables/args.html> = null )

The difference between the two is that wp_register_script do not use
the $args argument

to bypass this do as follow :

global $wp_scripts;
if ( !is_a($wp_scripts, 'WP_Scripts') )
    $wp_scripts = new WP_Scripts();

$wp_scripts->add( $handle, $src, $deps, $ver, $args);

$args should be something like 'A=xxxx&amp;B=yyy&amp;C=zzz...'
From andre.renaut at gmail.com  Sat Feb 28 01:01:27 2009
From: andre.renaut at gmail.com (=?UTF-8?Q?andr=C3=A9_renaut?=)
Date: Sat Feb 28 01:01:37 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+
In-Reply-To: <8810a71a0902271653o41d8238enf04e2caf0d60338@mail.gmail.com>
References: <8810a71a0902271653o41d8238enf04e2caf0d60338@mail.gmail.com>
Message-ID: <8810a71a0902271701h647a121bydeeae658818ccfe@mail.gmail.com>

Message resend because first version was unreadable ...


Hi, was just looking at your problem,

In analyzing the code of WP i found some restrictions between
wp_register_script and the WP_Scripts class (extending WP_Dependencies)

In fact, wp_register script

function wp_register_script( $handle, $src, $deps = array(), $ver = false )


is using the add function af WP_Dependencies


function add( $handle, $src, $deps = array(), $ver = false, $args = null )


The difference between the two is that wp_register_script do not use
the $args argument


to bypass this do as follow :

global $wp_scripts;
if ( !is_a($wp_scripts, 'WP_Scripts') )

    $wp_scripts = new WP_Scripts();


$wp_scripts->add( $handle, $src, $deps, $ver, $args);

$args should be something like 'A=xxxx&amp;B=yyy&amp;C=zzz...'
From mikeschinkel at newclarity.net  Sat Feb 28 03:30:57 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sat Feb 28 03:31:14 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <518fa9630902271636o7220fbe3jacedb4d3539de141@mail.gmail.com>
Message-ID: <EMEWEMEW2_DELIMl1QLUw8d6ead45a76452c07a2f27,
	mikeschinkel@newclarity.net, 12144016.961235791852630.J>

Matt:

Thanks for clarifying this. I could have sworn that it didn't work, but I just finished building a standalone test just like you did (before seeing yours) and sure enough it did work. At this point I'm not sure what was causing me the trouble because at the time it seems the params were the problem but obviously I was wrong. Sorry I bothered the list with this.  

OTOH, the other topic that sprang up still have merit I believe; being able to associate the enqueue for the JS and CSS files with the page template that needs them.  One of many things I hope to have time to work on in the near future. 

-Mike Schinkel
http://mikeschinkel.com/

----- Original Message -----
From: "Matt Martz" <mdmartz@sivel.net>
To: wp-hackers@lists.automattic.com
Sent: Friday, February 27, 2009 7:36:44 PM GMT -05:00 US/Canada Eastern
Subject: Re: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters

On Fri, Feb 27, 2009 at 7:34 PM, Glenn Ansley <glenn@glennansley.com> wrote:
> But would it work if you set the header to text/javascipt? Just curious?

It does...but doing header('Content-Type: text/javascript'); doesn't
change php's ability to parse the query_string.

-- 
Matt Martz
matt@sivel.net
_______________________________________________
wp-hackers mailing list
wp-hackers@lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers
From scribu at gmail.com  Sat Feb 28 13:28:49 2009
From: scribu at gmail.com (scribu)
Date: Sat Feb 28 14:04:01 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <2426652503274423313@unknownmsgid>
References: <518fa9630902271636o7220fbe3jacedb4d3539de141@mail.gmail.com>
	<2426652503274423313@unknownmsgid>
Message-ID: <349fe48b0902280528n5950cca2oec333579e589457b@mail.gmail.com>

On Sat, Feb 28, 2009 at 5:30 AM, Mike Schinkel
<mikeschinkel@newclarity.net>wrote:

> OTOH, the other topic that sprang up still have merit I believe; being able
> to associate the enqueue for the JS and CSS files with the page template
> that needs them.  One of many things I hope to have time to work on in the
> near future.
>

In WP 2.8 you will be able to wp_enqueue_script() in the footer, therefore
being able to call it from the page template itself.

-- 
http://scribu.net
From mdmartz at sivel.net  Sat Feb 28 14:23:16 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Sat Feb 28 14:23:25 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <349fe48b0902280528n5950cca2oec333579e589457b@mail.gmail.com>
References: <518fa9630902271636o7220fbe3jacedb4d3539de141@mail.gmail.com>
	<2426652503274423313@unknownmsgid>
	<349fe48b0902280528n5950cca2oec333579e589457b@mail.gmail.com>
Message-ID: <518fa9630902280623r5e6d98bey454c4f73d2c0134b@mail.gmail.com>

> In WP 2.8 you will be able to wp_enqueue_script() in the footer, therefore
> being able to call it from the page template itself.

Would anyone mind outlining how to enqueue a script by hooking the
footer?  I wasn't sure that this was possible.  I believe you still
have to hook wp_head or wp_print_scripts to enqueue a script for the
footer.

If it isn't actually possible perhaps we can patch that up?

-- 
Matt Martz
matt@sivel.net
From scribu at gmail.com  Sat Feb 28 14:24:53 2009
From: scribu at gmail.com (scribu)
Date: Sat Feb 28 14:25:04 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <518fa9630902280623r5e6d98bey454c4f73d2c0134b@mail.gmail.com>
References: <518fa9630902271636o7220fbe3jacedb4d3539de141@mail.gmail.com>
	<2426652503274423313@unknownmsgid>
	<349fe48b0902280528n5950cca2oec333579e589457b@mail.gmail.com>
	<518fa9630902280623r5e6d98bey454c4f73d2c0134b@mail.gmail.com>
Message-ID: <349fe48b0902280624h3bee7292m29979569e109d179@mail.gmail.com>

On Sat, Feb 28, 2009 at 4:23 PM, Matt Martz <mdmartz@sivel.net> wrote:

> > In WP 2.8 you will be able to wp_enqueue_script() in the footer,
> therefore
> > being able to call it from the page template itself.
>
> Would anyone mind outlining how to enqueue a script by hooking the
> footer?  I wasn't sure that this was possible.  I believe you still
> have to hook wp_head or wp_print_scripts to enqueue a script for the
> footer.
>
> If it isn't actually possible perhaps we can patch that up?


This is where I got the heads up from:
http://wpdevel.wordpress.com/2009/02/06/script-loader-updates/


-- 
http://scribu.net
From mdmartz at sivel.net  Sat Feb 28 15:13:29 2009
From: mdmartz at sivel.net (Matt Martz)
Date: Sat Feb 28 15:13:40 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <349fe48b0902280624h3bee7292m29979569e109d179@mail.gmail.com>
References: <518fa9630902271636o7220fbe3jacedb4d3539de141@mail.gmail.com>
	<2426652503274423313@unknownmsgid>
	<349fe48b0902280528n5950cca2oec333579e589457b@mail.gmail.com>
	<518fa9630902280623r5e6d98bey454c4f73d2c0134b@mail.gmail.com>
	<349fe48b0902280624h3bee7292m29979569e109d179@mail.gmail.com>
Message-ID: <518fa9630902280713u37feff54yb5cac4a6826fa884@mail.gmail.com>

> This is where I got the heads up from:
> http://wpdevel.wordpress.com/2009/02/06/script-loader-updates/

I am aware of the capability to enqueue them to the footer, but from
my testing and understanding you still have to hook into an action
that is run very early on, wp_head, wp_enqueue_scripts,
wp_print_scripts.  Hooking into wp_footer or wp_print_footer_scripts
doesn't seem to work.

Ozh, am I correct in my statement?  If so is it possible to get
functionality added so that we can enqueue by hooking into wp_footer,
wp_print_footer_scripts or similar?

-- 
Matt Martz
matt@sivel.net
From scribu at gmail.com  Sat Feb 28 15:22:06 2009
From: scribu at gmail.com (scribu)
Date: Sat Feb 28 15:22:16 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <518fa9630902280713u37feff54yb5cac4a6826fa884@mail.gmail.com>
References: <518fa9630902271636o7220fbe3jacedb4d3539de141@mail.gmail.com>
	<2426652503274423313@unknownmsgid>
	<349fe48b0902280528n5950cca2oec333579e589457b@mail.gmail.com>
	<518fa9630902280623r5e6d98bey454c4f73d2c0134b@mail.gmail.com>
	<349fe48b0902280624h3bee7292m29979569e109d179@mail.gmail.com>
	<518fa9630902280713u37feff54yb5cac4a6826fa884@mail.gmail.com>
Message-ID: <349fe48b0902280722s4606fe5eid7840efab046128c@mail.gmail.com>

In 2.7, I added wp_enqueue_script('jquery') just before get_header() in a
custom page template.

On Sat, Feb 28, 2009 at 5:13 PM, Matt Martz <mdmartz@sivel.net> wrote:

> > This is where I got the heads up from:
> > http://wpdevel.wordpress.com/2009/02/06/script-loader-updates/
>
> I am aware of the capability to enqueue them to the footer, but from
> my testing and understanding you still have to hook into an action
> that is run very early on, wp_head, wp_enqueue_scripts,
> wp_print_scripts.  Hooking into wp_footer or wp_print_footer_scripts
> doesn't seem to work.
>
> Ozh, am I correct in my statement?  If so is it possible to get
> functionality added so that we can enqueue by hooking into wp_footer,
> wp_print_footer_scripts or similar?
>
> --
> Matt Martz
> matt@sivel.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net
From scribu at gmail.com  Sat Feb 28 15:23:17 2009
From: scribu at gmail.com (scribu)
Date: Sat Feb 28 15:23:29 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
In-Reply-To: <349fe48b0902280722s4606fe5eid7840efab046128c@mail.gmail.com>
References: <518fa9630902271636o7220fbe3jacedb4d3539de141@mail.gmail.com>
	<2426652503274423313@unknownmsgid>
	<349fe48b0902280528n5950cca2oec333579e589457b@mail.gmail.com>
	<518fa9630902280623r5e6d98bey454c4f73d2c0134b@mail.gmail.com>
	<349fe48b0902280624h3bee7292m29979569e109d179@mail.gmail.com>
	<518fa9630902280713u37feff54yb5cac4a6826fa884@mail.gmail.com>
	<349fe48b0902280722s4606fe5eid7840efab046128c@mail.gmail.com>
Message-ID: <349fe48b0902280723j10cd8cb3jd5aac80af9cfb9f6@mail.gmail.com>

On Sat, Feb 28, 2009 at 5:22 PM, scribu <scribu@gmail.com> wrote:

> In 2.7, I added wp_enqueue_script('jquery') just before get_header() in a
> custom page template.
>

...and it worked.

-- 
http://scribu.net
From justmichaelh at gmail.com  Sat Feb 28 16:43:58 2009
From: justmichaelh at gmail.com (Michael E. Hancock)
Date: Sat Feb 28 16:44:09 2009
Subject: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters
References: <518fa9630902271636o7220fbe3jacedb4d3539de141@mail.gmail.com><2426652503274423313@unknownmsgid><349fe48b0902280528n5950cca2oec333579e589457b@mail.gmail.com><518fa9630902280623r5e6d98bey454c4f73d2c0134b@mail.gmail.com><349fe48b0902280624h3bee7292m29979569e109d179@mail.gmail.com><518fa9630902280713u37feff54yb5cac4a6826fa884@mail.gmail.com><349fe48b0902280722s4606fe5eid7840efab046128c@mail.gmail.com>
	<349fe48b0902280723j10cd8cb3jd5aac80af9cfb9f6@mail.gmail.com>
Message-ID: <04d801c999c3$c1154980$6701a8c0@dell8600>

If you don't see parking, 1/2  block to the right of the restaurant is a 
driveway into a county parking garage.


----- Original Message ----- 
From: "scribu" <scribu@gmail.com>
To: <wp-hackers@lists.automattic.com>
Sent: Saturday, February 28, 2009 10:23 AM
Subject: Re: [wp-hackers] wp_enqueue_script() and URLs with 2+ parameters


> On Sat, Feb 28, 2009 at 5:22 PM, scribu <scribu@gmail.com> wrote:
>
>> In 2.7, I added wp_enqueue_script('jquery') just before get_header() in a
>> custom page template.
>>
>
> ...and it worked.
>
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers@lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 

From steagl4ml at gmail.com  Sat Feb 28 17:29:37 2009
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Sat Feb 28 17:29:52 2009
Subject: [wp-hackers] Messin with queries...
Message-ID: <tcpiq4lej6in9vtvpdj71r5ahrpf9fqsjt@4ax.com>

I can't get a query to get the tags used in last XX days except some i
will pass to the query to exclude, I have to do this on WP 2.3 but i
can't sort out a uniqe query to get the tags.

Thanks for the answers

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it (personal blog)
       http://www.wordpress-it.it (WordPress Italia)
From jer at simianuprising.com  Sat Feb 28 17:35:01 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Sat Feb 28 17:35:12 2009
Subject: [wp-hackers] Idea: Rename the Excerpt to something accurate
In-Reply-To: <9f34a3610902271052v266389a3v3f4bafcdc0962787@mail.gmail.com>
References: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>
	<39fdab560902262112m2ecdcac6xd68822fe2dfb16be@mail.gmail.com>
	<9f34a3610902262141x642a944du7a2f20247fd6649e@mail.gmail.com>
	<427667db0902270001k2f96a58fs9e6950414db578b6@mail.gmail.com>
	<9f34a3610902271052v266389a3v3f4bafcdc0962787@mail.gmail.com>
Message-ID: <e1202cb10902280935k57b8667cx6dbabb644adf158c@mail.gmail.com>

Lots of good stuff has already been said. -1 for auto-filling the
excerpt box for the stated reasons.

I think the #1 argument in favor of changing the function/UI name (#2
is the fact that Summary WOULD be a better description, only
auto-excerpts are better referred to as excerpts) is the plain fact
that the_excerpt() is a shame unto WordPress. From what I can tell its
the same function from the original announcement years ago except
there is one useless deprecated argument blocking anyone from
improving its use.

IMHO whatever function is used to show these lead-ins needs to accept
a wp_parse_args() set of arguments that allow for things like
length=50, before=$before_text and skip-auto=1. As it is the function
is basically useless compared to the rest of WP and just isn't up to
par/standards/expectations.

Everyone always says "so write a patch" but its hard when the existing
function is held back by its history. the_summary() could be a way
around that, though I'd be happy to just let loose whoever still has
that second parameter and move on with our excerpting lives.
Controlling excerpts with arguments isn't plugin territory, it should
definitely be in core. There should also be a filter on them and THAT
is plugin territory.


-- 
Jeremy Clarke | http://simianuprising.com
Code and Design | http://globalvoicesonline.org
From tbiscan at gmail.com  Sat Feb 28 17:39:45 2009
From: tbiscan at gmail.com (=?ISO-8859-2?Q?Tomislav_Bi=B9=E6an?=)
Date: Sat Feb 28 17:39:59 2009
Subject: [wp-hackers] EXIF geo data
Message-ID: <12e658a90902280939y68f07878v39fda5701bbb0944@mail.gmail.com>

Hi to all.

When someone in WP try to upload an image it's executed
wp_read_image_metadata function (wp-admin/includes/image.php).
There is added info from exif if available.
For my project I needed to fetch GPS longitude and latitude.
So i made a change in that file so longitude and latitude are also added if
available.

Changed file is here:
http://www.b-scan.net/image.phps

I think that will be good to add in some new WP version.
What do you think?
Can someone examine/diff and then commit file if good?

Thanks,
B-Scan
From if.website at gmail.com  Sat Feb 28 19:16:08 2009
From: if.website at gmail.com (Austin Matzko)
Date: Sat Feb 28 19:16:19 2009
Subject: [wp-hackers] Messin with queries...
In-Reply-To: <tcpiq4lej6in9vtvpdj71r5ahrpf9fqsjt@4ax.com>
References: <tcpiq4lej6in9vtvpdj71r5ahrpf9fqsjt@4ax.com>
Message-ID: <674b4a3b0902281116mdc80788u3630851e25939466@mail.gmail.com>

On Sat, Feb 28, 2009 at 11:29 AM, Stefano Aglietti <steagl4ml@gmail.com> wrote:
> I can't get a query to get the tags used in last XX days except some i
> will pass to the query to exclude, I have to do this on WP 2.3 but i
> can't sort out a uniqe query to get the tags.

If you want to query for a tag with ID of 3 in the last 5 days, do the
following (this does work in WordPress 2.3):

function filter_where($w = '') {
        $w .= " AND post_date > '" . date('Y-m-d', strtotime('-5 days')) . "'";
        return $w;
}
add_filter('posts_where', 'filter_where');

query_posts(array(
        'tag__in' => array(3),
));


For future reference, the WordPress support forum is a better place
for support questions: http://wordpress.org/support/

WP-Hackers is meant for development discussions.  Thanks!
From scribu at gmail.com  Sat Feb 28 19:20:54 2009
From: scribu at gmail.com (scribu)
Date: Sat Feb 28 19:21:05 2009
Subject: [wp-hackers] Idea: Rename the Excerpt to something accurate
In-Reply-To: <e1202cb10902280935k57b8667cx6dbabb644adf158c@mail.gmail.com>
References: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>
	<39fdab560902262112m2ecdcac6xd68822fe2dfb16be@mail.gmail.com>
	<9f34a3610902262141x642a944du7a2f20247fd6649e@mail.gmail.com>
	<427667db0902270001k2f96a58fs9e6950414db578b6@mail.gmail.com>
	<9f34a3610902271052v266389a3v3f4bafcdc0962787@mail.gmail.com>
	<e1202cb10902280935k57b8667cx6dbabb644adf158c@mail.gmail.com>
Message-ID: <349fe48b0902281120p24dd1aa7pe5bf7d8124021f44@mail.gmail.com>

On Sat, Feb 28, 2009 at 7:35 PM, Jeremy Clarke <jer@simianuprising.com>wrote:

> IMHO whatever function is used to show these lead-ins needs to accept
> a wp_parse_args() set of arguments that allow for things like
> length=50, before=$before_text and skip-auto=1. As it is the function
> is basically useless compared to the rest of WP and just isn't up to
> par/standards/expectations.
>
> Everyone always says "so write a patch" but its hard when the existing
> function is held back by its history. the_summary() could be a way
> around that, though I'd be happy to just let loose whoever still has
> that second parameter and move on with our excerpting lives.
> Controlling excerpts with arguments isn't plugin territory, it should
> definitely be in core. There should also be a filter on them and THAT
> is plugin territory.


+1. There should definetly be a more powerfull template tag for showing
excerpts / summaries / blurbs. the_summary() would be a good name for it.

-- 
http://scribu.net
From steagl4ml at gmail.com  Sat Feb 28 19:59:10 2009
From: steagl4ml at gmail.com (Stefano Aglietti)
Date: Sat Feb 28 20:00:14 2009
Subject: [wp-hackers] Messin with queries...
References: <tcpiq4lej6in9vtvpdj71r5ahrpf9fqsjt@4ax.com>
	<674b4a3b0902281116mdc80788u3630851e25939466@mail.gmail.com>
Message-ID: <tn5jq4t54a0821v3malqedl42st5dg6gun@4ax.com>

On Sat, 28 Feb 2009 13:16:08 -0600, Austin Matzko
<if.website@gmail.com> wrote:

>On Sat, Feb 28, 2009 at 11:29 AM, Stefano Aglietti <steagl4ml@gmail.com> wrote:
>> I can't get a query to get the tags used in last XX days except some i
>> will pass to the query to exclude, I have to do this on WP 2.3 but i
>> can't sort out a uniqe query to get the tags.
>
>If you want to query for a tag with ID of 3 in the last 5 days, do the
>following (this does work in WordPress 2.3):
>
>function filter_where($w = '') {
>        $w .= " AND post_date > '" . date('Y-m-d', strtotime('-5 days')) . "'";
>        return $w;
>}
>add_filter('posts_where', 'filter_where');
>
>query_posts(array(
>        'tag__in' => array(3),
>));

Nice one... :) But i need to get all the tags used in last XX days
with the count of time is used to create a atg cloud that idifferently
the one you can generate using the tag clod WP template tag refer only
to a limited period of time  "most used tags in the laast XX days" tag
cloud

-- 

Stefano Aglietti - StallonIt on IRCnet - ICQ#: 2078431
Email: steve@40annibuttati.it steagl@people.it
Sites: http://www.40annibuttati.it (personal blog)
       http://www.wordpress-it.it (WordPress Italia)
From lynne.pope at gmail.com  Sat Feb 28 23:42:09 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Sat Feb 28 23:42:16 2009
Subject: [wp-hackers] Idea: Rename the Excerpt to something accurate
In-Reply-To: <349fe48b0902281120p24dd1aa7pe5bf7d8124021f44@mail.gmail.com>
References: <9f34a3610902262049w38ee320area03a2262e862827@mail.gmail.com>
	<39fdab560902262112m2ecdcac6xd68822fe2dfb16be@mail.gmail.com>
	<9f34a3610902262141x642a944du7a2f20247fd6649e@mail.gmail.com>
	<427667db0902270001k2f96a58fs9e6950414db578b6@mail.gmail.com>
	<9f34a3610902271052v266389a3v3f4bafcdc0962787@mail.gmail.com>
	<e1202cb10902280935k57b8667cx6dbabb644adf158c@mail.gmail.com>
	<349fe48b0902281120p24dd1aa7pe5bf7d8124021f44@mail.gmail.com>
Message-ID: <427667db0902281542s6e6c94c1t1e8ae5806744950@mail.gmail.com>

I'm all for improved functionality.

Over the years the key things my clients have wanted from the_excerpt are:
1. control over length (both characters and words);
2. HTML formatting (achievable only if formatting filters are removed now);
3. control over the "more" - few like the [...] but not everyone knows how
to write a function to change this.
4. ability to select whether to include the_excerpt above the post content
or not, by use of a radio button.

Still not convinced about changing the name though. the_summary would be
just as misleading as the_excerpt (keeping an open mind about that though as
I am interested in how many people actually think of it as a summary).

Lynne
