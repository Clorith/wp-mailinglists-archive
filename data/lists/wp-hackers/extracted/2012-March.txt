From dianakac at gmail.com  Thu Mar  1 04:28:33 2012
From: dianakac at gmail.com (Diana K. Cury)
Date: Thu, 1 Mar 2012 01:28:33 -0300
Subject: [wp-hackers] Changing the TwentyTen menu into a horizontal one :(
Message-ID: <001901ccf763$c6a84040$0100a8c0@corpfe1f3cd943>

Sorry if in wrong place, I'm trying to change the TwentyTen menu into a horizontal menu (child theme).

I came up with this (change #access to #nav if traying):
http://pastebin.com/0XKAqh0C

We set colors classes such pink, green or blue in top menu itens and works like the pics below. The current subcats stay in the screen when browsing their posts, almost ok, but doesn't works if no colors classes is set.
(A picture is worth a thousand misspeled words):

How is:
http://img826.imageshack.us/img826/367/68194553.jpg

How should be:
http://img196.imageshack.us/img196/5192/23472248.jpg 



Thanks for any help!

From georgemamadashvili at gmail.com  Thu Mar  1 08:15:56 2012
From: georgemamadashvili at gmail.com (George Mamadashvili)
Date: Thu, 1 Mar 2012 12:15:56 +0400
Subject: [wp-hackers] Changing the TwentyTen menu into a horizontal one
	:(
In-Reply-To: <001901ccf763$c6a84040$0100a8c0@corpfe1f3cd943>
References: <001901ccf763$c6a84040$0100a8c0@corpfe1f3cd943>
Message-ID: <CA+9xn1W-kb5a4w63vHeojPQqLZ6RM0XLUQ7o4G3LBvotZ5bCtQ@mail.gmail.com>

This question is for WordPress support forums.

http://wordpress.org/support/forum/themes-and-templates

On Thu, Mar 1, 2012 at 8:28 AM, Diana K. Cury <dianakac at gmail.com> wrote:

> Sorry if in wrong place, I'm trying to change the TwentyTen menu into a
> horizontal menu (child theme).
>
> I came up with this (change #access to #nav if traying):
> http://pastebin.com/0XKAqh0C
>
> We set colors classes such pink, green or blue in top menu itens and works
> like the pics below. The current subcats stay in the screen when browsing
> their posts, almost ok, but doesn't works if no colors classes is set.
> (A picture is worth a thousand misspeled words):
>
> How is:
> http://img826.imageshack.us/img826/367/68194553.jpg
>
> How should be:
> http://img196.imageshack.us/img196/5192/23472248.jpg
>
>
>
> Thanks for any help!
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From phillip.lord at newcastle.ac.uk  Thu Mar  1 11:51:14 2012
From: phillip.lord at newcastle.ac.uk (Phillip Lord)
Date: Thu, 01 Mar 2012 11:51:14 +0000
Subject: [wp-hackers] Taking over URL space
In-Reply-To: <CB739CAE.1C69B%chris@clwill.com> (Chris Williams's message of
	"Wed, 29 Feb 2012 12:14:00 -0500")
References: <CB739CAE.1C69B%chris@clwill.com>
Message-ID: <87obsgedzh.fsf@newcastle.ac.uk>



I thought this was what the flush_rules section achieved? I'd want this
to happen programatically, though. Asking users to do this after
installing the plugin does not seem good to me. 

Regardless, I have tried this and I still don't get the rewrite as I had
expected. I think something is happening as /test returns 200, but a
zero length file. 

Phil

Chris Williams <chris at clwill.com> writes:

> You need to go into the permalinks setting page, save the changes (even
> without changing anything) and then your rewrite rules get invoked and
> written.
>
> On 2/29/12 5:07 AM, "Phillip Lord" <phillip.lord at newcastle.ac.uk> wrote:
>
>>
>>
>>Thanks all for the comments. I have been trying these out, and with info
>>from the WPrewrite documentation but can't get them to work.
>>
>>
>>My plugin (complete with debug printouts!) looks like below. I have the
>>template_redirect section working fine. I have a rule flusher on
>>wp_loaded. The codex mentions this not as a long term solution because
>>it's compute intensive.
>>
>>Then I have a generate_rewrite_rules filter. As far as I can tell it's
>>never been called.
>>
>>I would like to try the add_rewrite_rule/add_rewrite_tag method, but I
>>don't understand this. What are these two methods doing?
>>
>>Phil
>>
>>
>>
>>add_action( 'wp_loaded','my_flush_rules' );
>>
>>// flush_rules() if our rules are not yet included
>>function my_flush_rules(){
>>    print( time() + "\n" );
>>    print( "4: my flush rules\n" );
>>	$rules = get_option( 'rewrite_rules' );
>>
>>	if ( ! isset( $rules['test'] ) ) {
>>        print( "2: isset\n" );
>>		global $wp_rewrite;
>>	   	$wp_rewrite->flush_rules();
>>	}
>>}
>>
>>
>>add_filter( 'generate_rewrite_rules','test_phil_insert_rewrite_rules' );
>>
>>// Adding a new rule --- never called
>>function test_phil_insert_rewrite_rules( $wp_review )
>>{
>>    print( "insert rewrite rules\n" );
>>	$newrules = array
>>        (
>>         "test" => 'index.php?test-plugin=1&hello-world=1',
>>         );
>>	
>>	return $newrules + $rules;
>>}
>>
>>
>>
>>// this bit is working
>>add_filter( 'query_vars', 'test_query_vars' );
>>
>>function test_query_vars( $query_vars ){
>>    print( "test_query_vars\n" );
>>    $query_vars[] = "test-plugin";
>>    $query_vars[] = "hello-world";
>>
>>    return $query_vars;
>>}
>>
>>
>>// this bit handles the request and it is working
>>// as http://localhost/?test-plugin=1&hello-world=1 returns hello world
>>function test_plugin_hello(){
>>    print( "test_plugin_hello" );
>>    $test_plugin = (boolean) get_query_var( 'test-plugin' );
>>    $hello_world = (boolean) get_query_var( 'hello-world' );
>>    if( !$test_plugin ) return;
>>
>>    print( "Hello World" );
>>    exit();
>>    
>>}
>>add_action( 'template_redirect', 'test_plugin_hello' );
>>
>>
>>
>>Braydon <ronin at braydon.com> writes:
>>
>>> Here is another way to have new rules without using add_rewrite_rule:
>>>
>>> add_action( 'generate_rewrite_rules', 'my_rewrite_rules' );
>>>
>>> function my_rewrite_rules(){
>>>     global $wp_rewrite;
>>>     $rules = array(
>>>         'myplugin/?$' => 'index.php?myplugin=1'
>>>     )
>>>     $wp_rewrite->rules =array_merge($rules,$wp_rewrite->rules);
>>> }
>>>
>>> For using extensions on p, something like this could work:
>>>
>>> add_action('parse_request','my_parse_request' );
>>>
>>> function my_parse_request( &$request ) {
>>>     $post_id = $request->query_vars['p'];
>>>     // check if the post id has an extension
>>>     // also check the "Accept:" header
>>>     // add a new query_var for the extension, and change "p" variable
>>>back to
>>> an id
>>> }
>>>
>>> However adding a new query_var for extension would be needed either way.
>>>
>>> add_filter( 'query_vars, 'my_query_vars' );
>>>
>>> function my_query_vars( $query_vars ){
>>>     $query_vars[] = 'myplugin';
>>>     $query_vars[] = 'ext';
>>>     return $query_vars;
>>> }
>>>
>>> And then at the template redirect check for both the myplugin and ext
>>> query_vars and then have your plugin handle those.
>>>
>>> On 02/21/2012 01:58 AM, Phillip Lord wrote:
>>>> I was wondering whether someone could give me pointers in the right
>>>> direction. I'm not after a complete solution! I was just hoping that
>>>> someone with more knowledge of wordpress could tell me if I am heading
>>>> in the right way.
>>>>
>>>> I wanted to write a new plugin which returns metadata about posts in a
>>>> variety of different ways. To do this, I need to use various parts of
>>>> the URL space, but I don't know how best to do this.
>>>>
>>>>
>>>> Essentially, I want to do three things.
>>>>
>>>> 1) I would like to be able to use bits of the URL space from top level.
>>>>     So, for a wordpress at
>>>>
>>>> http://mydomain.org.uk
>>>>
>>>> I would like to be able to serve all requests to..
>>>>
>>>> http://mydomain.org.uk/myplugin
>>>>
>>>> My initial idea was to achieve all this with rewrite rules, but
>>>> requiring users to modify .htaccess com. wp-rewrite seems the next
>>>> option -- I can just rewrite requests to this and underlying rewrite
>>>> plugin php?
>>>>
>>>>
>>>> 2) I want to add support for file extension based access. So for a
>>>> URL such as
>>>>
>>>> http://mydomain.org.uk/?p=46
>>>>
>>>> I'd like requests to
>>>>
>>>> http://mydomain.org.uk/?p=46.bib
>>>>
>>>> to be handled by my plugin, probably by sending the browser straight to
>>>> a URL of the http://mydomain.org.uk/myplugin. I am not sure how well
>>>> this would interact with pretty permalinks -- something of the form
>>>>
>>>> http://mydomain.org.uk/2012/02/02/mypost/
>>>>
>>>> looks daft with an extension
>>>> http://mydomain.org.uk/2012/02/02/mypost/.bib
>>>>
>>>> However, as far as I can see this is a similar problem to the last.
>>>>
>>>> 3)
>>>>
>>>> And, finally, I'd like to provide a content negotiated solution. So
>>>> requests to:
>>>>
>>>> http://mydomain.org.uk/?p=46
>>>>
>>>> will return different results depending on the content type in the
>>>> Accept: header of the request; again, this will probably be implemented
>>>> by forwarding the browser.
>>>>
>>>> This one seems to be the most taxing -- I can't do this with rewrite
>>>> rules because it is the same in all cases.
>>>>
>>>> Any pointers gratefully received!
>>>>
>>>> Phil
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>> !DSPAM:4f436acf300322900114539!
>>>>
>>
>>-- 
>>Phillip Lord,                           Phone: +44 (0) 191 222 7827
>>Lecturer in Bioinformatics,             Email:
>>phillip.lord at newcastle.ac.uk
>>School of Computing Science,
>>http://homepages.cs.ncl.ac.uk/phillip.lord
>>Room 914 Claremont Tower,               skype: russet_apples
>>Newcastle University,                   msn: msn at russet.org.uk
>>NE1 7RU                                 twitter: phillord
>>_______________________________________________
>>wp-hackers mailing list
>>wp-hackers at lists.automattic.com
>>http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

-- 
Phillip Lord,                           Phone: +44 (0) 191 222 7827
Lecturer in Bioinformatics,             Email: phillip.lord at newcastle.ac.uk
School of Computing Science,            http://homepages.cs.ncl.ac.uk/phillip.lord
Room 914 Claremont Tower,               skype: russet_apples
Newcastle University,                   msn: msn at russet.org.uk
NE1 7RU                                 twitter: phillord

From wordpress at dd32.id.au  Thu Mar  1 11:56:04 2012
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 1 Mar 2012 22:56:04 +1100
Subject: [wp-hackers] Taking over URL space
In-Reply-To: <87obsgedzh.fsf@newcastle.ac.uk>
References: <CB739CAE.1C69B%chris@clwill.com> <87obsgedzh.fsf@newcastle.ac.uk>
Message-ID: <CAL4EHfnXX=eEjimg79FTEG2D+NMXZ3JxpGbDxQ4seThH8pAtMA@mail.gmail.com>

It looks like your generate_rewrite_rules callback is completely
wrong. $wp_review?  $rules?

Using these filters is really old-school btw, using something like
add_rewrite_rule() is probably the best method.

But i'll leave this old example here for you:
http://dd32.id.au/files/wordpress/test-rewrite.php  (ooh, it's over 2
years old.. )



On 1 March 2012 22:51, Phillip Lord <phillip.lord at newcastle.ac.uk> wrote:
>
>
> I thought this was what the flush_rules section achieved? I'd want this
> to happen programatically, though. Asking users to do this after
> installing the plugin does not seem good to me.
>
> Regardless, I have tried this and I still don't get the rewrite as I had
> expected. I think something is happening as /test returns 200, but a
> zero length file.
>
> Phil
>
> Chris Williams <chris at clwill.com> writes:
>
>> You need to go into the permalinks setting page, save the changes (even
>> without changing anything) and then your rewrite rules get invoked and
>> written.
>>
>> On 2/29/12 5:07 AM, "Phillip Lord" <phillip.lord at newcastle.ac.uk> wrote:
>>
>>>
>>>
>>>Thanks all for the comments. I have been trying these out, and with info
>>>from the WPrewrite documentation but can't get them to work.
>>>
>>>
>>>My plugin (complete with debug printouts!) looks like below. I have the
>>>template_redirect section working fine. I have a rule flusher on
>>>wp_loaded. The codex mentions this not as a long term solution because
>>>it's compute intensive.
>>>
>>>Then I have a generate_rewrite_rules filter. As far as I can tell it's
>>>never been called.
>>>
>>>I would like to try the add_rewrite_rule/add_rewrite_tag method, but I
>>>don't understand this. What are these two methods doing?
>>>
>>>Phil
>>>
>>>
>>>
>>>add_action( 'wp_loaded','my_flush_rules' );
>>>
>>>// flush_rules() if our rules are not yet included
>>>function my_flush_rules(){
>>> ? ?print( time() + "\n" );
>>> ? ?print( "4: my flush rules\n" );
>>> ? ? ?$rules = get_option( 'rewrite_rules' );
>>>
>>> ? ? ?if ( ! isset( $rules['test'] ) ) {
>>> ? ? ? ?print( "2: isset\n" );
>>> ? ? ? ? ? ? ?global $wp_rewrite;
>>> ? ? ? ? ? ? ?$wp_rewrite->flush_rules();
>>> ? ? ?}
>>>}
>>>
>>>
>>>add_filter( 'generate_rewrite_rules','test_phil_insert_rewrite_rules' );
>>>
>>>// Adding a new rule --- never called
>>>function test_phil_insert_rewrite_rules( $wp_review )
>>>{
>>> ? ?print( "insert rewrite rules\n" );
>>> ? ? ?$newrules = array
>>> ? ? ? ?(
>>> ? ? ? ? "test" => 'index.php?test-plugin=1&hello-world=1',
>>> ? ? ? ? );
>>>
>>> ? ? ?return $newrules + $rules;
>>>}
>>>
>>>
>>>
>>>// this bit is working
>>>add_filter( 'query_vars', 'test_query_vars' );
>>>
>>>function test_query_vars( $query_vars ){
>>> ? ?print( "test_query_vars\n" );
>>> ? ?$query_vars[] = "test-plugin";
>>> ? ?$query_vars[] = "hello-world";
>>>
>>> ? ?return $query_vars;
>>>}
>>>
>>>
>>>// this bit handles the request and it is working
>>>// as http://localhost/?test-plugin=1&hello-world=1 returns hello world
>>>function test_plugin_hello(){
>>> ? ?print( "test_plugin_hello" );
>>> ? ?$test_plugin = (boolean) get_query_var( 'test-plugin' );
>>> ? ?$hello_world = (boolean) get_query_var( 'hello-world' );
>>> ? ?if( !$test_plugin ) return;
>>>
>>> ? ?print( "Hello World" );
>>> ? ?exit();
>>>
>>>}
>>>add_action( 'template_redirect', 'test_plugin_hello' );
>>>
>>>
>>>
>>>Braydon <ronin at braydon.com> writes:
>>>
>>>> Here is another way to have new rules without using add_rewrite_rule:
>>>>
>>>> add_action( 'generate_rewrite_rules', 'my_rewrite_rules' );
>>>>
>>>> function my_rewrite_rules(){
>>>> ? ? global $wp_rewrite;
>>>> ? ? $rules = array(
>>>> ? ? ? ? 'myplugin/?$' => 'index.php?myplugin=1'
>>>> ? ? )
>>>> ? ? $wp_rewrite->rules =array_merge($rules,$wp_rewrite->rules);
>>>> }
>>>>
>>>> For using extensions on p, something like this could work:
>>>>
>>>> add_action('parse_request','my_parse_request' );
>>>>
>>>> function my_parse_request( &$request ) {
>>>> ? ? $post_id = $request->query_vars['p'];
>>>> ? ? // check if the post id has an extension
>>>> ? ? // also check the "Accept:" header
>>>> ? ? // add a new query_var for the extension, and change "p" variable
>>>>back to
>>>> an id
>>>> }
>>>>
>>>> However adding a new query_var for extension would be needed either way.
>>>>
>>>> add_filter( 'query_vars, 'my_query_vars' );
>>>>
>>>> function my_query_vars( $query_vars ){
>>>> ? ? $query_vars[] = 'myplugin';
>>>> ? ? $query_vars[] = 'ext';
>>>> ? ? return $query_vars;
>>>> }
>>>>
>>>> And then at the template redirect check for both the myplugin and ext
>>>> query_vars and then have your plugin handle those.
>>>>
>>>> On 02/21/2012 01:58 AM, Phillip Lord wrote:
>>>>> I was wondering whether someone could give me pointers in the right
>>>>> direction. I'm not after a complete solution! I was just hoping that
>>>>> someone with more knowledge of wordpress could tell me if I am heading
>>>>> in the right way.
>>>>>
>>>>> I wanted to write a new plugin which returns metadata about posts in a
>>>>> variety of different ways. To do this, I need to use various parts of
>>>>> the URL space, but I don't know how best to do this.
>>>>>
>>>>>
>>>>> Essentially, I want to do three things.
>>>>>
>>>>> 1) I would like to be able to use bits of the URL space from top level.
>>>>> ? ? So, for a wordpress at
>>>>>
>>>>> http://mydomain.org.uk
>>>>>
>>>>> I would like to be able to serve all requests to..
>>>>>
>>>>> http://mydomain.org.uk/myplugin
>>>>>
>>>>> My initial idea was to achieve all this with rewrite rules, but
>>>>> requiring users to modify .htaccess com. wp-rewrite seems the next
>>>>> option -- I can just rewrite requests to this and underlying rewrite
>>>>> plugin php?
>>>>>
>>>>>
>>>>> 2) I want to add support for file extension based access. So for a
>>>>> URL such as
>>>>>
>>>>> http://mydomain.org.uk/?p=46
>>>>>
>>>>> I'd like requests to
>>>>>
>>>>> http://mydomain.org.uk/?p=46.bib
>>>>>
>>>>> to be handled by my plugin, probably by sending the browser straight to
>>>>> a URL of the http://mydomain.org.uk/myplugin. I am not sure how well
>>>>> this would interact with pretty permalinks -- something of the form
>>>>>
>>>>> http://mydomain.org.uk/2012/02/02/mypost/
>>>>>
>>>>> looks daft with an extension
>>>>> http://mydomain.org.uk/2012/02/02/mypost/.bib
>>>>>
>>>>> However, as far as I can see this is a similar problem to the last.
>>>>>
>>>>> 3)
>>>>>
>>>>> And, finally, I'd like to provide a content negotiated solution. So
>>>>> requests to:
>>>>>
>>>>> http://mydomain.org.uk/?p=46
>>>>>
>>>>> will return different results depending on the content type in the
>>>>> Accept: header of the request; again, this will probably be implemented
>>>>> by forwarding the browser.
>>>>>
>>>>> This one seems to be the most taxing -- I can't do this with rewrite
>>>>> rules because it is the same in all cases.
>>>>>
>>>>> Any pointers gratefully received!
>>>>>
>>>>> Phil
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>> !DSPAM:4f436acf300322900114539!
>>>>>
>>>
>>>--
>>>Phillip Lord, ? ? ? ? ? ? ? ? ? ? ? ? ? Phone: +44 (0) 191 222 7827
>>>Lecturer in Bioinformatics, ? ? ? ? ? ? Email:
>>>phillip.lord at newcastle.ac.uk
>>>School of Computing Science,
>>>http://homepages.cs.ncl.ac.uk/phillip.lord
>>>Room 914 Claremont Tower, ? ? ? ? ? ? ? skype: russet_apples
>>>Newcastle University, ? ? ? ? ? ? ? ? ? msn: msn at russet.org.uk
>>>NE1 7RU ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? twitter: phillord
>>>_______________________________________________
>>>wp-hackers mailing list
>>>wp-hackers at lists.automattic.com
>>>http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> --
> Phillip Lord, ? ? ? ? ? ? ? ? ? ? ? ? ? Phone: +44 (0) 191 222 7827
> Lecturer in Bioinformatics, ? ? ? ? ? ? Email: phillip.lord at newcastle.ac.uk
> School of Computing Science, ? ? ? ? ? ?http://homepages.cs.ncl.ac.uk/phillip.lord
> Room 914 Claremont Tower, ? ? ? ? ? ? ? skype: russet_apples
> Newcastle University, ? ? ? ? ? ? ? ? ? msn: msn at russet.org.uk
> NE1 7RU ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? twitter: phillord
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From phillip.lord at newcastle.ac.uk  Thu Mar  1 16:13:59 2012
From: phillip.lord at newcastle.ac.uk (Phillip Lord)
Date: Thu, 01 Mar 2012 16:13:59 +0000
Subject: [wp-hackers] Taking over URL space
In-Reply-To: <CAL4EHfnXX=eEjimg79FTEG2D+NMXZ3JxpGbDxQ4seThH8pAtMA@mail.gmail.com>
	(Dion Hulse's message of "Thu, 1 Mar 2012 22:56:04 +1100")
References: <CB739CAE.1C69B%chris@clwill.com> <87obsgedzh.fsf@newcastle.ac.uk>
	<CAL4EHfnXX=eEjimg79FTEG2D+NMXZ3JxpGbDxQ4seThH8pAtMA@mail.gmail.com>
Message-ID: <87ehtccn94.fsf@newcastle.ac.uk>

"Dion Hulse (dd32)" <wordpress at dd32.id.au> writes:
> It looks like your generate_rewrite_rules callback is completely
> wrong. $wp_review?  $rules?

Oh dear. Chopped and changed stuff around too much. Still, doesn't seem
to change the fundamental issue that the method is never called. This is
why it didn't crash!

>
> Using these filters is really old-school btw, using something like
> add_rewrite_rule() is probably the best method.

I am happy to use anything, so long as it works. I'll investigate
add_rewrite_rule again. 


>
> But i'll leave this old example here for you:
> http://dd32.id.au/files/wordpress/test-rewrite.php  (ooh, it's over 2
> years old.. )
>

Thanks! This is a big help. 

Phil

From dmitry at getmoxied.net  Thu Mar  1 21:28:10 2012
From: dmitry at getmoxied.net (Dmitry Tokmakov)
Date: Thu, 1 Mar 2012 16:28:10 -0500
Subject: [wp-hackers] using different templates with in one wordpress
	installation.
Message-ID: <1F8EDE73-ED8C-4F66-AF2E-E1F2CDE304F4@getmoxied.net>

Hi everyone, 

I have live wordpress installation for public view, 
and development server wortdpress installation. I keep two different databases.
I need a solution for using two different templates within the same worpdress installation, 
Does anybody know how implement that ? 

Tnaks,
Dmitry

From johnbillion+wp at gmail.com  Thu Mar  1 22:08:36 2012
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 1 Mar 2012 22:08:36 +0000
Subject: [wp-hackers] using different templates with in one wordpress
	installation.
In-Reply-To: <1F8EDE73-ED8C-4F66-AF2E-E1F2CDE304F4@getmoxied.net>
References: <1F8EDE73-ED8C-4F66-AF2E-E1F2CDE304F4@getmoxied.net>
Message-ID: <CAOqAKWAFLF4i1u3jsav5S_1EVPdGd8kD3bcaMjZ9=erpj0VbQA@mail.gmail.com>

On 1 March 2012 21:28, Dmitry Tokmakov <dmitry at getmoxied.net> wrote:
> Hi everyone,
>
> I have live wordpress installation for public view,
> and development server wortdpress installation. I keep two different databases.
> I need a solution for using two different templates within the same worpdress installation,
> Does anybody know how implement that ?

You can control the template and the stylesheet using the 'template'
and 'stylesheet' filters respectively. Example:
http://pastebin.com/zrcdV0Px . If you don't use child themes then you
can use the same callback function for both filters.

From dmitry at getmoxied.net  Fri Mar  2 00:12:14 2012
From: dmitry at getmoxied.net (Dmitry Tokmakov)
Date: Thu, 1 Mar 2012 19:12:14 -0500
Subject: [wp-hackers] Using Live Database with Development environment
Message-ID: <1C735A83-EA40-4C28-A25C-014B1EE1B318@getmoxied.net>

Hello!

I have the following situation which I am trying to resolve and am looking for some assistance with a strategy to do so.

I have:

1. A production WordPress site that is being edited very frequently.

2. A development WordPress site that needs to make use of the production sites database.

I would like to setup the development server to make use of the same db so when edits are made to the prod or dev enviroment all data is in sync.

Does anyone have any other experience with this type of situation or maybe can recommend a strategy to go about doing this?

Thank you in advance,

Dmitry Tokmakov
Digital Spin


From daniel at webpresencepartners.com  Fri Mar  2 00:20:21 2012
From: daniel at webpresencepartners.com (Daniel Grundel)
Date: Thu, 1 Mar 2012 19:20:21 -0500
Subject: [wp-hackers] Using Live Database with Development environment
In-Reply-To: <1C735A83-EA40-4C28-A25C-014B1EE1B318@getmoxied.net>
References: <1C735A83-EA40-4C28-A25C-014B1EE1B318@getmoxied.net>
Message-ID: <CABs8xe5nzK6OTOD_aEbZRTWXciaJQ7YZjR_EYVSQvadUaQ+VJw@mail.gmail.com>

Connecting a development site to my production database would make me a
little nervous. I'd be concerned that a plugin or something else on my dev
site would bork up my production database.

Have you considered setting up one way replication from your production db
to a second development db? That would keep the dev site up to date without
possibly compromising your production data.

Daniel J. Grundel
Web Presence Partners
webpresencepartners.com
772 678 0697
On Mar 1, 2012 7:12 PM, "Dmitry Tokmakov" <dmitry at getmoxied.net> wrote:

> Hello!
>
> I have the following situation which I am trying to resolve and am looking
> for some assistance with a strategy to do so.
>
> I have:
>
> 1. A production WordPress site that is being edited very frequently.
>
> 2. A development WordPress site that needs to make use of the production
> sites database.
>
> I would like to setup the development server to make use of the same db so
> when edits are made to the prod or dev enviroment all data is in sync.
>
> Does anyone have any other experience with this type of situation or maybe
> can recommend a strategy to go about doing this?
>
> Thank you in advance,
>
> Dmitry Tokmakov
> Digital Spin
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mickyhulse.lists at gmail.com  Fri Mar  2 01:09:43 2012
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Thu, 1 Mar 2012 17:09:43 -0800
Subject: [wp-hackers] Using Live Database with Development environment
In-Reply-To: <1C735A83-EA40-4C28-A25C-014B1EE1B318@getmoxied.net>
References: <1C735A83-EA40-4C28-A25C-014B1EE1B318@getmoxied.net>
Message-ID: <CALri7MkT4nJN05qHde_QkVw4hG5EdhYSwFiaruMjiy-qGSOa1A@mail.gmail.com>

Hello,

On Thu, Mar 1, 2012 at 4:12 PM, Dmitry Tokmakov <dmitry at getmoxied.net> wrote:
> Does anyone have any other experience with this type of situation or maybe can recommend a strategy to go about doing this?

This is how we do it at my work for Django projects:

<https://gist.github.com/1954422>

OFC, you'll have to adapt the DB settings to work with WP, but I don't
see why it would not work the same.

Hopefully that helps.

Cheers,
Micky

From chris at clwill.com  Fri Mar  2 01:31:55 2012
From: chris at clwill.com (Chris Williams)
Date: Thu, 1 Mar 2012 20:31:55 -0500
Subject: [wp-hackers] Using Live Database with Development environment
In-Reply-To: <CABs8xe5nzK6OTOD_aEbZRTWXciaJQ7YZjR_EYVSQvadUaQ+VJw@mail.gmail.com>
Message-ID: <CB7562CD.11D4C%chris@clwill.com>

I have a similar problem and was thinking of this exact solution.  Can you
provide any details on how to do that?  I'm not familiar with how to do
that in MySQL.

Thanks!

On 3/1/12 4:20 PM, "Daniel Grundel" <daniel at webpresencepartners.com> wrote:

>Connecting a development site to my production database would make me a
>little nervous. I'd be concerned that a plugin or something else on my dev
>site would bork up my production database.
>
>Have you considered setting up one way replication from your production db
>to a second development db? That would keep the dev site up to date
>without
>possibly compromising your production data.
>
>Daniel J. Grundel
>Web Presence Partners
>webpresencepartners.com
>772 678 0697
>On Mar 1, 2012 7:12 PM, "Dmitry Tokmakov" <dmitry at getmoxied.net> wrote:
>
>> Hello!
>>
>> I have the following situation which I am trying to resolve and am
>>looking
>> for some assistance with a strategy to do so.
>>
>> I have:
>>
>> 1. A production WordPress site that is being edited very frequently.
>>
>> 2. A development WordPress site that needs to make use of the production
>> sites database.
>>
>> I would like to setup the development server to make use of the same db
>>so
>> when edits are made to the prod or dev enviroment all data is in sync.
>>
>> Does anyone have any other experience with this type of situation or
>>maybe
>> can recommend a strategy to go about doing this?
>>
>> Thank you in advance,
>>
>> Dmitry Tokmakov
>> Digital Spin
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers


From danielx386 at gmail.com  Fri Mar  2 01:37:38 2012
From: danielx386 at gmail.com (Daniel Fenn)
Date: Fri, 2 Mar 2012 12:37:38 +1100
Subject: [wp-hackers] Using Live Database with Development environment
In-Reply-To: <CB7562CD.11D4C%chris@clwill.com>
References: <CABs8xe5nzK6OTOD_aEbZRTWXciaJQ7YZjR_EYVSQvadUaQ+VJw@mail.gmail.com>
	<CB7562CD.11D4C%chris@clwill.com>
Message-ID: <CAJ5Hi2hQuKn5c4tXnC6ZsuLXxPOnvaX7D=yn5yKOmUdPm1FYPQ@mail.gmail.com>

That question is a little off topic but I can give some direction to
help you out (note that I have not done this myself) In the mysql
userguide (5.5 I'm talking about) There a whole chapter on setting up
replication.


The best idea is to just make a backup of the wordpress database, do
your testing on your test server then just make the changes on the
live server.

Regards,
Daniel Fenn







On Fri, Mar 2, 2012 at 12:31 PM, Chris Williams <chris at clwill.com> wrote:
> I have a similar problem and was thinking of this exact solution. ?Can you
> provide any details on how to do that? ?I'm not familiar with how to do
> that in MySQL.
>
> Thanks!
>
> On 3/1/12 4:20 PM, "Daniel Grundel" <daniel at webpresencepartners.com> wrote:
>
>>Connecting a development site to my production database would make me a
>>little nervous. I'd be concerned that a plugin or something else on my dev
>>site would bork up my production database.
>>
>>Have you considered setting up one way replication from your production db
>>to a second development db? That would keep the dev site up to date
>>without
>>possibly compromising your production data.
>>
>>Daniel J. Grundel
>>Web Presence Partners
>>webpresencepartners.com
>>772 678 0697
>>On Mar 1, 2012 7:12 PM, "Dmitry Tokmakov" <dmitry at getmoxied.net> wrote:
>>
>>> Hello!
>>>
>>> I have the following situation which I am trying to resolve and am
>>>looking
>>> for some assistance with a strategy to do so.
>>>
>>> I have:
>>>
>>> 1. A production WordPress site that is being edited very frequently.
>>>
>>> 2. A development WordPress site that needs to make use of the production
>>> sites database.
>>>
>>> I would like to setup the development server to make use of the same db
>>>so
>>> when edits are made to the prod or dev enviroment all data is in sync.
>>>
>>> Does anyone have any other experience with this type of situation or
>>>maybe
>>> can recommend a strategy to go about doing this?
>>>
>>> Thank you in advance,
>>>
>>> Dmitry Tokmakov
>>> Digital Spin
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>_______________________________________________
>>wp-hackers mailing list
>>wp-hackers at lists.automattic.com
>>http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From lists at rotorised.com  Fri Mar  2 04:59:12 2012
From: lists at rotorised.com (Ryan McCue)
Date: Fri, 02 Mar 2012 14:59:12 +1000
Subject: [wp-hackers] using different templates with in one wordpress
 installation.
In-Reply-To: <CAOqAKWAFLF4i1u3jsav5S_1EVPdGd8kD3bcaMjZ9=erpj0VbQA@mail.gmail.com>
References: <1F8EDE73-ED8C-4F66-AF2E-E1F2CDE304F4@getmoxied.net>
	<CAOqAKWAFLF4i1u3jsav5S_1EVPdGd8kD3bcaMjZ9=erpj0VbQA@mail.gmail.com>
Message-ID: <4F5053A0.50600@rotorised.com>

John Blackbourn wrote:
> You can control the template and the stylesheet using the 'template'
> and 'stylesheet' filters respectively. Example:
> http://pastebin.com/zrcdV0Px . If you don't use child themes then you
> can use the same callback function for both filters.

Important note: this will still load the stored template/stylesheet's 
functions.php, as that uses TEMPLATEPATH/STYLESHEETPATH.

That's being tracked as #18298: http://core.trac.wordpress.org/ticket/18298

-- 
Ryan McCue
<http://ryanmccue.info/>

From banago at gmail.com  Fri Mar  2 09:44:54 2012
From: banago at gmail.com (Baki Goxhaj)
Date: Fri, 2 Mar 2012 10:44:54 +0100
Subject: [wp-hackers] Using Live Database with Development environment
In-Reply-To: <CAJ5Hi2hQuKn5c4tXnC6ZsuLXxPOnvaX7D=yn5yKOmUdPm1FYPQ@mail.gmail.com>
References: <CABs8xe5nzK6OTOD_aEbZRTWXciaJQ7YZjR_EYVSQvadUaQ+VJw@mail.gmail.com>
	<CB7562CD.11D4C%chris@clwill.com>
	<CAJ5Hi2hQuKn5c4tXnC6ZsuLXxPOnvaX7D=yn5yKOmUdPm1FYPQ@mail.gmail.com>
Message-ID: <CAM_fM0qCFD=k2t9gg_WPjoE4uf0KjbSZTRpy=jrVva03R4Vkeg@mail.gmail.com>

This is a situation that many WP developers are coming across more and more
due to the fact that version control systems are being used very much, as
they should - they are a blessing. Now, when you need to test with the
actual site, just making a local copy of the live database won't always
work, especially on fast-chaining sites.

That bash script seemed promising  - looking into it more in-depth.

However, if somebody else has a personal approach to this, that would be
great if they share it with us.

Kindly,

Baki Goxhaj
www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>


On Fri, Mar 2, 2012 at 2:37 AM, Daniel Fenn <danielx386 at gmail.com> wrote:

> That question is a little off topic but I can give some direction to
> help you out (note that I have not done this myself) In the mysql
> userguide (5.5 I'm talking about) There a whole chapter on setting up
> replication.
>
>
> The best idea is to just make a backup of the wordpress database, do
> your testing on your test server then just make the changes on the
> live server.
>
> Regards,
> Daniel Fenn
>
>
>
>
>
>
>
> On Fri, Mar 2, 2012 at 12:31 PM, Chris Williams <chris at clwill.com> wrote:
> > I have a similar problem and was thinking of this exact solution.  Can
> you
> > provide any details on how to do that?  I'm not familiar with how to do
> > that in MySQL.
> >
> > Thanks!
> >
> > On 3/1/12 4:20 PM, "Daniel Grundel" <daniel at webpresencepartners.com>
> wrote:
> >
> >>Connecting a development site to my production database would make me a
> >>little nervous. I'd be concerned that a plugin or something else on my
> dev
> >>site would bork up my production database.
> >>
> >>Have you considered setting up one way replication from your production
> db
> >>to a second development db? That would keep the dev site up to date
> >>without
> >>possibly compromising your production data.
> >>
> >>Daniel J. Grundel
> >>Web Presence Partners
> >>webpresencepartners.com
> >>772 678 0697
> >>On Mar 1, 2012 7:12 PM, "Dmitry Tokmakov" <dmitry at getmoxied.net> wrote:
> >>
> >>> Hello!
> >>>
> >>> I have the following situation which I am trying to resolve and am
> >>>looking
> >>> for some assistance with a strategy to do so.
> >>>
> >>> I have:
> >>>
> >>> 1. A production WordPress site that is being edited very frequently.
> >>>
> >>> 2. A development WordPress site that needs to make use of the
> production
> >>> sites database.
> >>>
> >>> I would like to setup the development server to make use of the same db
> >>>so
> >>> when edits are made to the prod or dev enviroment all data is in sync.
> >>>
> >>> Does anyone have any other experience with this type of situation or
> >>>maybe
> >>> can recommend a strategy to go about doing this?
> >>>
> >>> Thank you in advance,
> >>>
> >>> Dmitry Tokmakov
> >>> Digital Spin
> >>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>_______________________________________________
> >>wp-hackers mailing list
> >>wp-hackers at lists.automattic.com
> >>http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From aspratley at gmail.com  Fri Mar  2 10:18:29 2012
From: aspratley at gmail.com (Andrew Spratley)
Date: Fri, 2 Mar 2012 12:18:29 +0200
Subject: [wp-hackers] Using Live Database with Development environment
In-Reply-To: <CAM_fM0qCFD=k2t9gg_WPjoE4uf0KjbSZTRpy=jrVva03R4Vkeg@mail.gmail.com>
References: <CABs8xe5nzK6OTOD_aEbZRTWXciaJQ7YZjR_EYVSQvadUaQ+VJw@mail.gmail.com>
	<CB7562CD.11D4C%chris@clwill.com>
	<CAJ5Hi2hQuKn5c4tXnC6ZsuLXxPOnvaX7D=yn5yKOmUdPm1FYPQ@mail.gmail.com>
	<CAM_fM0qCFD=k2t9gg_WPjoE4uf0KjbSZTRpy=jrVva03R4Vkeg@mail.gmail.com>
Message-ID: <CAKNYAgDZ+nB7iGR8+OfMXdnBOzHdi5Xw3jM6rABR2CvoZw87UA@mail.gmail.com>

Personally I wouldn't feel comfortable running dev code against a live
DB directly.

The way I'm thinking of automating it, is to take my nightly backups
and then restore them to a dev/staging database and run a variation of
http://interconnectit.com/124/search-and-replace-for-wordpress-databases/
to handle the domain renames for the dev URL.

I use a switch statement around the DB config settings to pick the
correct DB depending on the HTTP_HOST variable.

The simple flow would be:
DUMP (backup) live DB
DROP existing dev DB
RESTORE backup DB to dev DB
search and replace domain name on dev DB

For most of my purposes a nightly view of the DB is more than enough
for development.



On Fri, Mar 2, 2012 at 11:44 AM, Baki Goxhaj <banago at gmail.com> wrote:
> This is a situation that many WP developers are coming across more and more
> due to the fact that version control systems are being used very much, as
> they should - they are a blessing. Now, when you need to test with the
> actual site, just making a local copy of the live database won't always
> work, especially on fast-chaining sites.
>
> That bash script seemed promising ?- looking into it more in-depth.
>
> However, if somebody else has a personal approach to this, that would be
> great if they share it with us.
>
> Kindly,
>
> Baki Goxhaj
> www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>
>
>
> On Fri, Mar 2, 2012 at 2:37 AM, Daniel Fenn <danielx386 at gmail.com> wrote:
>
>> That question is a little off topic but I can give some direction to
>> help you out (note that I have not done this myself) In the mysql
>> userguide (5.5 I'm talking about) There a whole chapter on setting up
>> replication.
>>
>>
>> The best idea is to just make a backup of the wordpress database, do
>> your testing on your test server then just make the changes on the
>> live server.
>>
>> Regards,
>> Daniel Fenn
>>
>>
>>
>>
>>
>>
>>
>> On Fri, Mar 2, 2012 at 12:31 PM, Chris Williams <chris at clwill.com> wrote:
>> > I have a similar problem and was thinking of this exact solution. ?Can
>> you
>> > provide any details on how to do that? ?I'm not familiar with how to do
>> > that in MySQL.
>> >
>> > Thanks!
>> >
>> > On 3/1/12 4:20 PM, "Daniel Grundel" <daniel at webpresencepartners.com>
>> wrote:
>> >
>> >>Connecting a development site to my production database would make me a
>> >>little nervous. I'd be concerned that a plugin or something else on my
>> dev
>> >>site would bork up my production database.
>> >>
>> >>Have you considered setting up one way replication from your production
>> db
>> >>to a second development db? That would keep the dev site up to date
>> >>without
>> >>possibly compromising your production data.
>> >>
>> >>Daniel J. Grundel
>> >>Web Presence Partners
>> >>webpresencepartners.com
>> >>772 678 0697
>> >>On Mar 1, 2012 7:12 PM, "Dmitry Tokmakov" <dmitry at getmoxied.net> wrote:
>> >>
>> >>> Hello!
>> >>>
>> >>> I have the following situation which I am trying to resolve and am
>> >>>looking
>> >>> for some assistance with a strategy to do so.
>> >>>
>> >>> I have:
>> >>>
>> >>> 1. A production WordPress site that is being edited very frequently.
>> >>>
>> >>> 2. A development WordPress site that needs to make use of the
>> production
>> >>> sites database.
>> >>>
>> >>> I would like to setup the development server to make use of the same db
>> >>>so
>> >>> when edits are made to the prod or dev enviroment all data is in sync.
>> >>>
>> >>> Does anyone have any other experience with this type of situation or
>> >>>maybe
>> >>> can recommend a strategy to go about doing this?
>> >>>
>> >>> Thank you in advance,
>> >>>
>> >>> Dmitry Tokmakov
>> >>> Digital Spin
>> >>>
>> >>> _______________________________________________
>> >>> wp-hackers mailing list
>> >>> wp-hackers at lists.automattic.com
>> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >>>
>> >>_______________________________________________
>> >>wp-hackers mailing list
>> >>wp-hackers at lists.automattic.com
>> >>http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From banago at gmail.com  Fri Mar  2 10:55:28 2012
From: banago at gmail.com (Baki Goxhaj)
Date: Fri, 2 Mar 2012 11:55:28 +0100
Subject: [wp-hackers] Using Live Database with Development environment
In-Reply-To: <CAKNYAgDZ+nB7iGR8+OfMXdnBOzHdi5Xw3jM6rABR2CvoZw87UA@mail.gmail.com>
References: <CABs8xe5nzK6OTOD_aEbZRTWXciaJQ7YZjR_EYVSQvadUaQ+VJw@mail.gmail.com>
	<CB7562CD.11D4C%chris@clwill.com>
	<CAJ5Hi2hQuKn5c4tXnC6ZsuLXxPOnvaX7D=yn5yKOmUdPm1FYPQ@mail.gmail.com>
	<CAM_fM0qCFD=k2t9gg_WPjoE4uf0KjbSZTRpy=jrVva03R4Vkeg@mail.gmail.com>
	<CAKNYAgDZ+nB7iGR8+OfMXdnBOzHdi5Xw3jM6rABR2CvoZw87UA@mail.gmail.com>
Message-ID: <CAM_fM0okTy7b0fCxOMaKb-yc6kdkJgPHLEppHttSfBkTyS53+Q@mail.gmail.com>

Andrew, do you do all the DROP/RESTOR/search/replacing manually? If no,
we'd love it if you could share the code with us.

Kindly,

Baki Goxhaj
www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>


On Fri, Mar 2, 2012 at 11:18 AM, Andrew Spratley <aspratley at gmail.com>wrote:

> Personally I wouldn't feel comfortable running dev code against a live
> DB directly.
>
> The way I'm thinking of automating it, is to take my nightly backups
> and then restore them to a dev/staging database and run a variation of
> http://interconnectit.com/124/search-and-replace-for-wordpress-databases/
> to handle the domain renames for the dev URL.
>
> I use a switch statement around the DB config settings to pick the
> correct DB depending on the HTTP_HOST variable.
>
> The simple flow would be:
> DUMP (backup) live DB
> DROP existing dev DB
> RESTORE backup DB to dev DB
> search and replace domain name on dev DB
>
> For most of my purposes a nightly view of the DB is more than enough
> for development.
>
>
>
> On Fri, Mar 2, 2012 at 11:44 AM, Baki Goxhaj <banago at gmail.com> wrote:
> > This is a situation that many WP developers are coming across more and
> more
> > due to the fact that version control systems are being used very much, as
> > they should - they are a blessing. Now, when you need to test with the
> > actual site, just making a local copy of the live database won't always
> > work, especially on fast-chaining sites.
> >
> > That bash script seemed promising  - looking into it more in-depth.
> >
> > However, if somebody else has a personal approach to this, that would be
> > great if they share it with us.
> >
> > Kindly,
> >
> > Baki Goxhaj
> > www.wplancer.com | proverbhunter.com | www.banago.info<
> http://proverbhunter.com>
> >
> >
> > On Fri, Mar 2, 2012 at 2:37 AM, Daniel Fenn <danielx386 at gmail.com>
> wrote:
> >
> >> That question is a little off topic but I can give some direction to
> >> help you out (note that I have not done this myself) In the mysql
> >> userguide (5.5 I'm talking about) There a whole chapter on setting up
> >> replication.
> >>
> >>
> >> The best idea is to just make a backup of the wordpress database, do
> >> your testing on your test server then just make the changes on the
> >> live server.
> >>
> >> Regards,
> >> Daniel Fenn
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >> On Fri, Mar 2, 2012 at 12:31 PM, Chris Williams <chris at clwill.com>
> wrote:
> >> > I have a similar problem and was thinking of this exact solution.  Can
> >> you
> >> > provide any details on how to do that?  I'm not familiar with how to
> do
> >> > that in MySQL.
> >> >
> >> > Thanks!
> >> >
> >> > On 3/1/12 4:20 PM, "Daniel Grundel" <daniel at webpresencepartners.com>
> >> wrote:
> >> >
> >> >>Connecting a development site to my production database would make me
> a
> >> >>little nervous. I'd be concerned that a plugin or something else on my
> >> dev
> >> >>site would bork up my production database.
> >> >>
> >> >>Have you considered setting up one way replication from your
> production
> >> db
> >> >>to a second development db? That would keep the dev site up to date
> >> >>without
> >> >>possibly compromising your production data.
> >> >>
> >> >>Daniel J. Grundel
> >> >>Web Presence Partners
> >> >>webpresencepartners.com
> >> >>772 678 0697
> >> >>On Mar 1, 2012 7:12 PM, "Dmitry Tokmakov" <dmitry at getmoxied.net>
> wrote:
> >> >>
> >> >>> Hello!
> >> >>>
> >> >>> I have the following situation which I am trying to resolve and am
> >> >>>looking
> >> >>> for some assistance with a strategy to do so.
> >> >>>
> >> >>> I have:
> >> >>>
> >> >>> 1. A production WordPress site that is being edited very frequently.
> >> >>>
> >> >>> 2. A development WordPress site that needs to make use of the
> >> production
> >> >>> sites database.
> >> >>>
> >> >>> I would like to setup the development server to make use of the
> same db
> >> >>>so
> >> >>> when edits are made to the prod or dev enviroment all data is in
> sync.
> >> >>>
> >> >>> Does anyone have any other experience with this type of situation or
> >> >>>maybe
> >> >>> can recommend a strategy to go about doing this?
> >> >>>
> >> >>> Thank you in advance,
> >> >>>
> >> >>> Dmitry Tokmakov
> >> >>> Digital Spin
> >> >>>
> >> >>> _______________________________________________
> >> >>> wp-hackers mailing list
> >> >>> wp-hackers at lists.automattic.com
> >> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >>>
> >> >>_______________________________________________
> >> >>wp-hackers mailing list
> >> >>wp-hackers at lists.automattic.com
> >> >>http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kokarn at gmail.com  Fri Mar  2 11:04:03 2012
From: kokarn at gmail.com (Kokarn)
Date: Fri, 2 Mar 2012 12:04:03 +0100
Subject: [wp-hackers] Using Live Database with Development environment
In-Reply-To: <CAM_fM0okTy7b0fCxOMaKb-yc6kdkJgPHLEppHttSfBkTyS53+Q@mail.gmail.com>
References: <CABs8xe5nzK6OTOD_aEbZRTWXciaJQ7YZjR_EYVSQvadUaQ+VJw@mail.gmail.com>
	<CB7562CD.11D4C%chris@clwill.com>
	<CAJ5Hi2hQuKn5c4tXnC6ZsuLXxPOnvaX7D=yn5yKOmUdPm1FYPQ@mail.gmail.com>
	<CAM_fM0qCFD=k2t9gg_WPjoE4uf0KjbSZTRpy=jrVva03R4Vkeg@mail.gmail.com>
	<CAKNYAgDZ+nB7iGR8+OfMXdnBOzHdi5Xw3jM6rABR2CvoZw87UA@mail.gmail.com>
	<CAM_fM0okTy7b0fCxOMaKb-yc6kdkJgPHLEppHttSfBkTyS53+Q@mail.gmail.com>
Message-ID: <CAPbD_NNXaV0Fz4EAfTU=zc2SumxzLzkFtxG1ZuzpRVS9CDwjfw@mail.gmail.com>

We're working on this as well.
Trying to build a development environment based on git that works with
multiple wordpress installations.

The problems we are facing right now is that some things we do in the
database data and some we do in the structure.
When we then try to push the changes we need to figure out a good way to
prioritize what changes to be made and stuff like that.

It's a challenge, to be sure :)

On 2 March 2012 11:55, Baki Goxhaj <banago at gmail.com> wrote:

> Andrew, do you do all the DROP/RESTOR/search/replacing manually? If no,
> we'd love it if you could share the code with us.
>
> Kindly,
>
> Baki Goxhaj
> www.wplancer.com | proverbhunter.com | www.banago.info<
> http://proverbhunter.com>
>
>
> On Fri, Mar 2, 2012 at 11:18 AM, Andrew Spratley <aspratley at gmail.com
> >wrote:
>
> > Personally I wouldn't feel comfortable running dev code against a live
> > DB directly.
> >
> > The way I'm thinking of automating it, is to take my nightly backups
> > and then restore them to a dev/staging database and run a variation of
> >
> http://interconnectit.com/124/search-and-replace-for-wordpress-databases/
> > to handle the domain renames for the dev URL.
> >
> > I use a switch statement around the DB config settings to pick the
> > correct DB depending on the HTTP_HOST variable.
> >
> > The simple flow would be:
> > DUMP (backup) live DB
> > DROP existing dev DB
> > RESTORE backup DB to dev DB
> > search and replace domain name on dev DB
> >
> > For most of my purposes a nightly view of the DB is more than enough
> > for development.
> >
> >
> >
> > On Fri, Mar 2, 2012 at 11:44 AM, Baki Goxhaj <banago at gmail.com> wrote:
> > > This is a situation that many WP developers are coming across more and
> > more
> > > due to the fact that version control systems are being used very much,
> as
> > > they should - they are a blessing. Now, when you need to test with the
> > > actual site, just making a local copy of the live database won't always
> > > work, especially on fast-chaining sites.
> > >
> > > That bash script seemed promising  - looking into it more in-depth.
> > >
> > > However, if somebody else has a personal approach to this, that would
> be
> > > great if they share it with us.
> > >
> > > Kindly,
> > >
> > > Baki Goxhaj
> > > www.wplancer.com | proverbhunter.com | www.banago.info<
> > http://proverbhunter.com>
> > >
> > >
> > > On Fri, Mar 2, 2012 at 2:37 AM, Daniel Fenn <danielx386 at gmail.com>
> > wrote:
> > >
> > >> That question is a little off topic but I can give some direction to
> > >> help you out (note that I have not done this myself) In the mysql
> > >> userguide (5.5 I'm talking about) There a whole chapter on setting up
> > >> replication.
> > >>
> > >>
> > >> The best idea is to just make a backup of the wordpress database, do
> > >> your testing on your test server then just make the changes on the
> > >> live server.
> > >>
> > >> Regards,
> > >> Daniel Fenn
> > >>
> > >>
> > >>
> > >>
> > >>
> > >>
> > >>
> > >> On Fri, Mar 2, 2012 at 12:31 PM, Chris Williams <chris at clwill.com>
> > wrote:
> > >> > I have a similar problem and was thinking of this exact solution.
>  Can
> > >> you
> > >> > provide any details on how to do that?  I'm not familiar with how to
> > do
> > >> > that in MySQL.
> > >> >
> > >> > Thanks!
> > >> >
> > >> > On 3/1/12 4:20 PM, "Daniel Grundel" <daniel at webpresencepartners.com
> >
> > >> wrote:
> > >> >
> > >> >>Connecting a development site to my production database would make
> me
> > a
> > >> >>little nervous. I'd be concerned that a plugin or something else on
> my
> > >> dev
> > >> >>site would bork up my production database.
> > >> >>
> > >> >>Have you considered setting up one way replication from your
> > production
> > >> db
> > >> >>to a second development db? That would keep the dev site up to date
> > >> >>without
> > >> >>possibly compromising your production data.
> > >> >>
> > >> >>Daniel J. Grundel
> > >> >>Web Presence Partners
> > >> >>webpresencepartners.com
> > >> >>772 678 0697
> > >> >>On Mar 1, 2012 7:12 PM, "Dmitry Tokmakov" <dmitry at getmoxied.net>
> > wrote:
> > >> >>
> > >> >>> Hello!
> > >> >>>
> > >> >>> I have the following situation which I am trying to resolve and am
> > >> >>>looking
> > >> >>> for some assistance with a strategy to do so.
> > >> >>>
> > >> >>> I have:
> > >> >>>
> > >> >>> 1. A production WordPress site that is being edited very
> frequently.
> > >> >>>
> > >> >>> 2. A development WordPress site that needs to make use of the
> > >> production
> > >> >>> sites database.
> > >> >>>
> > >> >>> I would like to setup the development server to make use of the
> > same db
> > >> >>>so
> > >> >>> when edits are made to the prod or dev enviroment all data is in
> > sync.
> > >> >>>
> > >> >>> Does anyone have any other experience with this type of situation
> or
> > >> >>>maybe
> > >> >>> can recommend a strategy to go about doing this?
> > >> >>>
> > >> >>> Thank you in advance,
> > >> >>>
> > >> >>> Dmitry Tokmakov
> > >> >>> Digital Spin
> > >> >>>
> > >> >>> _______________________________________________
> > >> >>> wp-hackers mailing list
> > >> >>> wp-hackers at lists.automattic.com
> > >> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >> >>>
> > >> >>_______________________________________________
> > >> >>wp-hackers mailing list
> > >> >>wp-hackers at lists.automattic.com
> > >> >>http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >> >
> > >> > _______________________________________________
> > >> > wp-hackers mailing list
> > >> > wp-hackers at lists.automattic.com
> > >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >> _______________________________________________
> > >> wp-hackers mailing list
> > >> wp-hackers at lists.automattic.com
> > >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >>
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From simon at wpsites.co.uk  Fri Mar  2 11:32:19 2012
From: simon at wpsites.co.uk (Simon Dunton)
Date: Fri, 2 Mar 2012 11:32:19 +0000
Subject: [wp-hackers] Using Live Database with Development environment
Message-ID: <CAOvgttuKJ12vOR7ipEb4NAk8DPxm7kAL5iz5Ko3xbv97BZ=R2g@mail.gmail.com>

I'm working on a project that I'm hoping eventually will integrate
with git but it's not in the code base yet, just a planned feature.

Your project sounds interesting is it on github or anything online?

My project is https://github.com/WPsites/WPide/tree/v2dev - that's the
dev branch that I hope to have completed soon and pushed to the
WordPress repo. Contributions welcome.

As for "Using Live Database with Development environment" I've been
trying a new approach recent. Our web server stack is Nginx -> Apache
so at the Nginx level we can route the dynamic requests (WordPress) to
the live server or duplicated the codebase and put it on another
server and route the requests to a dev install that may or may not use
the same database as your live site. It's totally transparent from the
frontend whether you're on the dev site or live, it's all happening
behind Nginx. The key here is the domain is the same on dev and live
so the dev code and even database could be applied directly to the new
site when you're ready to push the changes.

Ordineraly Nginx routes all requests to the live site. Then you add
some extra stuff to the Nginx config to route requests to the dev
server that either come from a certain users IP or what I'm doing is
routing requests to the dev site based on logged in cookies. So if my
WP logged in cookie is detected then I see the dev site, everyone else
carries on as usual with the live site.

Since dev and live will look identical from the frontend it's good
practice to put some banner code in the dev site so that you get a
good indication of which site you're looking at.

Simon

Message: 4
Date: Fri, 2 Mar 2012 12:04:03 +0100
From: Kokarn <kokarn at gmail.com>
Subject: Re: [wp-hackers] Using Live Database with Development
       environment
To: wp-hackers at lists.automattic.com
Message-ID:
       <CAPbD_NNXaV0Fz4EAfTU=zc2SumxzLzkFtxG1ZuzpRVS9CDwjfw at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

We're working on this as well.
Trying to build a development environment based on git that works with
multiple wordpress installations.

The problems we are facing right now is that some things we do in the
database data and some we do in the structure.
When we then try to push the changes we need to figure out a good way to
prioritize what changes to be made and stuff like that.

It's a challenge, to be sure :)

From mpw at taquiri.de  Fri Mar  2 11:56:28 2012
From: mpw at taquiri.de (=?ISO-8859-1?Q?=22Matthias_P=2E_W=FCrfl=22?=)
Date: Fri, 02 Mar 2012 12:56:28 +0100
Subject: [wp-hackers] Using Live Database with Development environment
In-Reply-To: <CAPbD_NNXaV0Fz4EAfTU=zc2SumxzLzkFtxG1ZuzpRVS9CDwjfw@mail.gmail.com>
References: <CABs8xe5nzK6OTOD_aEbZRTWXciaJQ7YZjR_EYVSQvadUaQ+VJw@mail.gmail.com>
	<CB7562CD.11D4C%chris@clwill.com>
	<CAJ5Hi2hQuKn5c4tXnC6ZsuLXxPOnvaX7D=yn5yKOmUdPm1FYPQ@mail.gmail.com>
	<CAM_fM0qCFD=k2t9gg_WPjoE4uf0KjbSZTRpy=jrVva03R4Vkeg@mail.gmail.com>
	<CAKNYAgDZ+nB7iGR8+OfMXdnBOzHdi5Xw3jM6rABR2CvoZw87UA@mail.gmail.com>
	<CAM_fM0okTy7b0fCxOMaKb-yc6kdkJgPHLEppHttSfBkTyS53+Q@mail.gmail.com>
	<CAPbD_NNXaV0Fz4EAfTU=zc2SumxzLzkFtxG1ZuzpRVS9CDwjfw@mail.gmail.com>
Message-ID: <4F50B56C.1070604@taquiri.de>

Am 02.03.2012 12:04, schrieb Kokarn:
> Trying to build a development environment based on git that works with
> multiple wordpress installations.
>
> The problems we are facing right now is that some things we do in the
> database data and some we do in the structure.
> When we then try to push the changes we need to figure out a good way to
> prioritize what changes to be made and stuff like that.

We use svn and figured out how to cope with the file changes. The 
solution is to handle [A] 3rd-party code (Wordpress), [B] own code and 
site-configuration (Theme), [C] Data and [D] host-dependent 
configuration different. This can be done, because these four 
"file-classes" can live in seperate directories.

Because with the database changes it isn't as simple as with the files 
we store the most relevant parts of the configuration in files (i.e. 
Database conn, Base URLs and directory names). Every host knows the 
configuration of each other host and replaces URLs pointing to other 
hosts on the fly with own URLs with an output_buffer. The Hosts knows 
which files to use by comparing their names with HTTP_Host.

Our remaining problem is changes to the host-independent Configuration 
(i.e. theme options) in db. We can't just copy the DB from live to dev, 
check it and copy it back because we would lose changes made to live in 
the meantime. We can't use the live-DB on the dev machines beacause the 
whole purpose of dev and staging is that changes are checked before the 
go live.

Gr??e, Matthias

From fris at fris.net  Fri Mar  2 15:48:43 2012
From: fris at fris.net (fris)
Date: Fri, 2 Mar 2012 10:48:43 -0500
Subject: [wp-hackers] anyway around wp hanging on install?
Message-ID: <000001ccf88b$f2846fd0$d78d4f70$@fris.net>

I came across an issue recently, if you don't have sendmail, exim, qmail, or
any smtp server installed, it hangs on the  2nd step where its trying to
send out the welcome email.

Anyway around this if the user/server doesn't have mail installed?

The install itself gets installed, it just hangs for about 5 mins while
trying to send the email, so if you wait long enough it will goto the last
step where it says to login.

Any ideas?




From CaptainN at unFocus.com  Fri Mar  2 15:57:10 2012
From: CaptainN at unFocus.com (Kevin Newman)
Date: Fri, 02 Mar 2012 10:57:10 -0500
Subject: [wp-hackers] canonical not enforced
Message-ID: <4F50EDD6.4090808@unFocus.com>

Hi,

I recently added a url redirect to my site (unfoc.us for www.unfocus.com).

www.unfocus.com is the canonical - and if I put vanilla unfocus.com the 
normal cononical enforcement works. For some reason unfoc.us does not 
get properly redirected to to the canonical url - not even if I use a 
shortlink (I have permalinks enabled).

So this works correctly:
http://unfocus.com/?p=4116

But this does not:
http://unfoc.us/?p=4116

Is this a bug in core? Or have I just set something up incorrectly?

Kevin N.


From goldenapplesdesign at gmail.com  Fri Mar  2 16:24:14 2012
From: goldenapplesdesign at gmail.com (Nathaniel Taintor)
Date: Fri, 2 Mar 2012 11:24:14 -0500
Subject: [wp-hackers] canonical not enforced
In-Reply-To: <4F50EDD6.4090808@unFocus.com>
References: <4F50EDD6.4090808@unFocus.com>
Message-ID: <CAH+NfoBonFN5=rRPhUcoUXO1Usc-UqOrzUmwsPre56j_JoywFA@mail.gmail.com>

"Canonical" links are a different thing from url redirection, and they're
not meant to be used for that. The purpose of the canonical links is to
inform search engine who find the page http://unfoc.us/?p=4116 that it
should be indexed as http://unfocus.com/?p=4116 , and that the two URLs
refer to the same content.

WordPress's permalinks are based off of the "Site URL" option which is set
in "Settings > General", and since you have that option set to
http://unfocus.com/, <http://unfocus.com/?p=4116> you can see that even if
you browse to the site through the unfoc.us domain, any of the links on the
site will resolve to unfocus.com links.

If you want visitors reaching the site through unfoc.us to automatically be
redirected to the corresponding url under unfocus.com, you will have to add
this as a rule in your .htaccess - its not something WordPress handles by
default.

Hope this helps,
Nathaniel Taintor


On Fri, Mar 2, 2012 at 10:57 AM, Kevin Newman <CaptainN at unfocus.com> wrote:

> Hi,
>
> I recently added a url redirect to my site (unfoc.us for www.unfocus.com).
>
> www.unfocus.com is the canonical - and if I put vanilla unfocus.com the
> normal cononical enforcement works. For some reason unfoc.us does not get
> properly redirected to to the canonical url - not even if I use a shortlink
> (I have permalinks enabled).
>
> So this works correctly:
> http://unfocus.com/?p=4116
>
> But this does not:
> http://unfoc.us/?p=4116
>
> Is this a bug in core? Or have I just set something up incorrectly?
>
> Kevin N.
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From CaptainN at unFocus.com  Fri Mar  2 16:42:14 2012
From: CaptainN at unFocus.com (Kevin Newman)
Date: Fri, 02 Mar 2012 11:42:14 -0500
Subject: [wp-hackers] canonical not enforced
In-Reply-To: <CAH+NfoBonFN5=rRPhUcoUXO1Usc-UqOrzUmwsPre56j_JoywFA@mail.gmail.com>
References: <4F50EDD6.4090808@unFocus.com>
	<CAH+NfoBonFN5=rRPhUcoUXO1Usc-UqOrzUmwsPre56j_JoywFA@mail.gmail.com>
Message-ID: <4F50F866.1070107@unFocus.com>

But the strange thing is that it does handle that for another situation.

http://unfocus.com/?p=4116 does redirect to the permalink (and to 
www.unfocus.com, which is the canonical).

Even the not shortened url will redirect if the domain is not canonical:
http://unfocus.com/2011/12/05/fast-as3-signals-with-signalslite/

It just doesn't redirect from unfoc.us based urls.

Anyway, we'll probably hack it somewhere to do the redirect.

Thanks,

Kevin



On 3/2/12 11:24 AM, Nathaniel Taintor wrote:
> "Canonical" links are a different thing from url redirection, and they're
> not meant to be used for that. The purpose of the canonical links is to
> inform search engine who find the pagehttp://unfoc.us/?p=4116  that it
> should be indexed ashttp://unfocus.com/?p=4116  , and that the two URLs
> refer to the same content.
>
> WordPress's permalinks are based off of the "Site URL" option which is set
> in "Settings>  General", and since you have that option set to
> http://unfocus.com/,<http://unfocus.com/?p=4116>  you can see that even if
> you browse to the site through the unfoc.us domain, any of the links on the
> site will resolve to unfocus.com links.
>
> If you want visitors reaching the site through unfoc.us to automatically be
> redirected to the corresponding url under unfocus.com, you will have to add
> this as a rule in your .htaccess - its not something WordPress handles by
> default.
>
> Hope this helps,
> Nathaniel Taintor


From wp-hackers at google-adsense-templates.co.uk  Fri Mar  2 17:38:22 2012
From: wp-hackers at google-adsense-templates.co.uk (David Law)
Date: Fri, 02 Mar 2012 17:38:22 +0000
Subject: [wp-hackers] wp_dropdown_categories and multiple selections
Message-ID: <mt02l71bnnq8l4kbe3cmmoshtrrohn1oad@4ax.com>


Building an awesome widget :-) which includes wp_dropdown_categories
for one of the options and wanted to add the option to select multiple
categories and looking at
http://codex.wordpress.org/Function_Reference/wp_dropdown_categories
doesn't appear to be possible.

Trying to build a widget that shows posts with thumbnail and excerpt
that are either most popular, recent, modified, by ID, random or
alphabetical (by title) with the ability to show on all categories or
a subset of categories. Basically a widget for popular, recent, random
posts with thumbnail and excerpt (not seen a widget that covers them
all in one widget).

Have it working how I want except the selection of categories.

Currently can include a single category or exclude a single category
with a selection options using wp_dropdown_categories, but not include
or exclude a set of categories using a drop down selection box. I
don't want to have a widget the user has to find the category IDs and
add them like 3,7,9 as not user friendly. Want a selection box the
user holds down CTRL and ticks the categories they want to
include/exclude.

the code is

<?php wp_dropdown_categories('hierarchical=1&selected='
.$instance['only']. '&orderby=name&show_count=1&name=' .
$this->get_field_name('only') . '&hide_empty=0'); ?><br />
	<label for="<?php echo $this->get_field_name('only');
?>"><?php _e('Only show posts in this category.',
'stallion-wseo-widget'); ?></label>


$instance['only'] is the Category ID

The above gives a drop down select box that one category ID can be
selected from, looking to select more than one.

I'm using

new
WP_Query('cat='.$only.'&orderby='.$poprand.'&order='.$ascdes.'&posts_per_page='
. $num);

For selecting the posts and was trying to use wp_dropdown_categories
to generate the list of categories to include or exclude.

Maybe a better question would have been how to generate a comma
seperated list of categories for the $only variable without the user
typing them out as 3,8,123 since wp_dropdown_categories doesn't have
that as a feature :-)

Any ideas?

David
-- 
http://www.stallion-theme.com/ Stallion WordPress SEO Theme
http://www.stallion-theme.com/stallion-wordpress-seo-plugin Stallion
WordPress SEO Plugin

From warnaudayanga at gmail.com  Fri Mar  2 17:54:49 2012
From: warnaudayanga at gmail.com (Warna Rathnasekara)
Date: Fri, 2 Mar 2012 23:24:49 +0530
Subject: [wp-hackers] GSOC 2012
Message-ID: <CAMsjkgS+_PHLZjUJP2hNXQCcrroh7T1EOfE4aPS+9PW-_RO-og@mail.gmail.com>

Hi folks,

I'm a student from University of Peradeniya, Sri Lanka. I'm hoping to apply
for GSOC project in 2012. When I look some projects which you have
proposed, there were some interesting ideas. I hope that your organization
will proposed new projects in this year too. I have done some Android
projects during past few years and hope to choose an android project from
your organization in this year. Give me some idea about how I should
proceed with your organization and novel projects ideas which are going to
be proposed in this year.



Thanking you.



Warna Udayanga,

Undergraduate,

Department of Computer Engineering,

Faculty of Engineering,
University of Peradeniya,

Sri Lanka.

+(94) 71 564 8889



It?s better to give than to receive
[image: Facebook] <http://www.facebook.com/warna.rathnasekara> [image:
Twitter] <https://twitter.com/#%21/WarnaRathnaseka> [image:
LinkedIn]<http://www.linkedin.com/profile/view?id=76248649&trk=tab_pro>

From wordpress at dd32.id.au  Sat Mar  3 00:31:15 2012
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 3 Mar 2012 11:31:15 +1100
Subject: [wp-hackers] anyway around wp hanging on install?
In-Reply-To: <000001ccf88b$f2846fd0$d78d4f70$@fris.net>
References: <000001ccf88b$f2846fd0$d78d4f70$@fris.net>
Message-ID: <CAL4EHfk98uM-Bf1GJa-LJEicgGp48p46dwYWVyLhPXbEgoeQCw@mail.gmail.com>

Sounds like PHP needs to be configured correctly to handle the fact it
can't send emails.. WordPress is going to call the php mail()
function, and i'd assume that's where it's hanging. Take a close look
at your php mail config..

On 3 March 2012 02:48, fris <fris at fris.net> wrote:
> I came across an issue recently, if you don't have sendmail, exim, qmail, or
> any smtp server installed, it hangs on the ?2nd step where its trying to
> send out the welcome email.
>
> Anyway around this if the user/server doesn't have mail installed?
>
> The install itself gets installed, it just hangs for about 5 mins while
> trying to send the email, so if you wait long enough it will goto the last
> step where it says to login.
>
> Any ideas?
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Sat Mar  3 00:33:19 2012
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 3 Mar 2012 11:33:19 +1100
Subject: [wp-hackers] canonical not enforced
In-Reply-To: <4F50F866.1070107@unFocus.com>
References: <4F50EDD6.4090808@unFocus.com>
	<CAH+NfoBonFN5=rRPhUcoUXO1Usc-UqOrzUmwsPre56j_JoywFA@mail.gmail.com>
	<4F50F866.1070107@unFocus.com>
Message-ID: <CAL4EHfm2KrmCAPh3hPsj7+Z_XeO5TUyH9gQYuGWV7F+sqg2Kzg@mail.gmail.com>

The Canonical redirects don't kick in if it's just the homepage, this
has been done to prevent infinite loops with some configs which are
set to make the homepage with/without the www., and WordPress
attempting to redirect to the other form..

There are plugins i'm sure to redirect the home page, I have run a
custom plugin in the past to achieve it as well.

On 3 March 2012 03:42, Kevin Newman <CaptainN at unfocus.com> wrote:
> But the strange thing is that it does handle that for another situation.
>
> http://unfocus.com/?p=4116 does redirect to the permalink (and to
> www.unfocus.com, which is the canonical).
>
> Even the not shortened url will redirect if the domain is not canonical:
> http://unfocus.com/2011/12/05/fast-as3-signals-with-signalslite/
>
> It just doesn't redirect from unfoc.us based urls.
>
> Anyway, we'll probably hack it somewhere to do the redirect.
>
> Thanks,
>
> Kevin
>
>
>
>
> On 3/2/12 11:24 AM, Nathaniel Taintor wrote:
>>
>> "Canonical" links are a different thing from url redirection, and they're
>> not meant to be used for that. The purpose of the canonical links is to
>> inform search engine who find the pagehttp://unfoc.us/?p=4116 ?that it
>> should be indexed ashttp://unfocus.com/?p=4116 ?, and that the two URLs
>>
>> refer to the same content.
>>
>> WordPress's permalinks are based off of the "Site URL" option which is set
>> in "Settings> ?General", and since you have that option set to
>> http://unfocus.com/,<http://unfocus.com/?p=4116> ?you can see that even if
>> you browse to the site through the unfoc.us domain, any of the links on
>> the
>> site will resolve to unfocus.com links.
>>
>> If you want visitors reaching the site through unfoc.us to automatically
>> be
>> redirected to the corresponding url under unfocus.com, you will have to
>> add
>> this as a rule in your .htaccess - its not something WordPress handles by
>> default.
>>
>> Hope this helps,
>> Nathaniel Taintor
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From fris at fris.net  Sat Mar  3 13:58:51 2012
From: fris at fris.net (fris)
Date: Sat, 3 Mar 2012 08:58:51 -0500
Subject: [wp-hackers] anyway around wp hanging on install?
In-Reply-To: <CAL4EHfk98uM-Bf1GJa-LJEicgGp48p46dwYWVyLhPXbEgoeQCw@mail.gmail.com>
References: <000001ccf88b$f2846fd0$d78d4f70$@fris.net>
	<CAL4EHfk98uM-Bf1GJa-LJEicgGp48p46dwYWVyLhPXbEgoeQCw@mail.gmail.com>
Message-ID: <000001ccf945$c41a0140$4c4e03c0$@fris.net>

Yes I realize that, but what If Im installing WP on a large number of
workstations, and each php config is different, how can I avoid it hanging,
like of smtp is all together disabled or any type of internal mail system.



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Dion Hulse
(dd32)
Sent: Friday, March 02, 2012 7:31 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] anyway around wp hanging on install?

Sounds like PHP needs to be configured correctly to handle the fact it can't
send emails.. WordPress is going to call the php mail() function, and i'd
assume that's where it's hanging. Take a close look at your php mail
config..

On 3 March 2012 02:48, fris <fris at fris.net> wrote:
> I came across an issue recently, if you don't have sendmail, exim, 
> qmail, or any smtp server installed, it hangs on the ?2nd step where 
> its trying to send out the welcome email.
>
> Anyway around this if the user/server doesn't have mail installed?
>
> The install itself gets installed, it just hangs for about 5 mins 
> while trying to send the email, so if you wait long enough it will 
> goto the last step where it says to login.
>
> Any ideas?
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From xoodrew at gmail.com  Sat Mar  3 18:48:13 2012
From: xoodrew at gmail.com (Drew)
Date: Sat, 3 Mar 2012 11:48:13 -0700
Subject: [wp-hackers] wp_dropdown_categories and multiple selections
Message-ID: <CAEJabWhfPK20pkFMDcSouHHUvy_JFrE0JGuUXoKfL82EFdt2OQ@mail.gmail.com>

>
>
> Building an awesome widget :-) which includes wp_dropdown_categories
> for one of the options and wanted to add the option to select multiple
> categories and looking at
> http://codex.wordpress.org/Function_Reference/wp_dropdown_categories
> doesn't appear to be possible.
>
> Trying to build a widget that shows posts with thumbnail and excerpt
> that are either most popular, recent, modified, by ID, random or
> alphabetical (by title) with the ability to show on all categories or
> a subset of categories. Basically a widget for popular, recent, random
> posts with thumbnail and excerpt (not seen a widget that covers them
> all in one widget).
>
> Have it working how I want except the selection of categories.
>
> Currently can include a single category or exclude a single category
> with a selection options using wp_dropdown_categories, but not include
> or exclude a set of categories using a drop down selection box. I
> don't want to have a widget the user has to find the category IDs and
> add them like 3,7,9 as not user friendly. Want a selection box the
> user holds down CTRL and ticks the categories they want to
> include/exclude.
>
> the code is
>
> <?php wp_dropdown_categories('hierarchical=1&selected='
> .$instance['only']. '&orderby=name&show_count=1&name=' .
> $this->get_field_name('only') . '&hide_empty=0'); ?><br />
>        <label for="<?php echo $this->get_field_name('only');
> ?>"><?php _e('Only show posts in this category.',
> 'stallion-wseo-widget'); ?></label>
>
>
> $instance['only'] is the Category ID
>
> The above gives a drop down select box that one category ID can be
> selected from, looking to select more than one.
>
> I'm using
>
> new
>
> WP_Query('cat='.$only.'&orderby='.$poprand.'&order='.$ascdes.'&posts_per_page='
> . $num);
>
> For selecting the posts and was trying to use wp_dropdown_categories
> to generate the list of categories to include or exclude.
>
> Maybe a better question would have been how to generate a comma
> seperated list of categories for the $only variable without the user
> typing them out as 3,8,123 since wp_dropdown_categories doesn't have
> that as a feature :-)
>
> Any ideas?
>
> David
> --
> http://www.stallion-theme.com/ Stallion WordPress SEO Theme
> http://www.stallion-theme.com/stallion-wordpress-seo-plugin Stallion
> WordPress SEO Plugin
>

David,

There's a ticket on the track discussing this very topic:
http://core.trac.wordpress.org/ticket/20156

In your case, I'd echo scribu's sentiment and ask why not just provide a
list of checkboxes as is done with the Categories metabox? UX for a
multiple-select dropdown is awful.

Drew

From banago at gmail.com  Sat Mar  3 22:54:49 2012
From: banago at gmail.com (Baki Goxhaj)
Date: Sat, 3 Mar 2012 23:54:49 +0100
Subject: [wp-hackers] HyperDB - worth the trouble?
Message-ID: <CAM_fM0pjG=FTmeMPLsME8sPYKFBNdgBTjxUpjvVUCc-tV-YrSA@mail.gmail.com>

Hi fellow hackers,

I'm moving host and I'm bringing 20+ website under one install using
Multisite. I've been thinking all the time of using HyperDB plugin to give
each site a database. I'm don't want to point all the hits in one
databases, even though none of the site has massive traffic. I don't think
I will ever pass 50 sites. With this number, do you think it's worth using
HyperDB?

What would you guys suggest?

Kindly,

Baki Goxhaj
www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>

From wp-hackers at google-adsense-templates.co.uk  Sun Mar  4 01:50:16 2012
From: wp-hackers at google-adsense-templates.co.uk (David Law)
Date: Sun, 04 Mar 2012 01:50:16 +0000
Subject: [wp-hackers] wp_dropdown_categories and multiple selections
In-Reply-To: <CAEJabWhfPK20pkFMDcSouHHUvy_JFrE0JGuUXoKfL82EFdt2OQ@mail.gmail.com>
References: <CAEJabWhfPK20pkFMDcSouHHUvy_JFrE0JGuUXoKfL82EFdt2OQ@mail.gmail.com>
Message-ID: <iug5l7lr68v55lskd527mmheuonidds814@4ax.com>

On Sat, 3 Mar 2012 11:48:13 -0700, you wrote:

>> Maybe a better question would have been how to generate a comma
>> seperated list of categories for the $only variable without the user
>> typing them out as 3,8,123 since wp_dropdown_categories doesn't have
>> that as a feature :-)
>>
>> Any ideas?
>>
>> David
>>
>
>David,
>
>There's a ticket on the track discussing this very topic:
>http://core.trac.wordpress.org/ticket/20156
>
>In your case, I'd echo scribu's sentiment and ask why not just provide a
>list of checkboxes as is done with the Categories metabox? UX for a
>multiple-select dropdown is awful.
>

Hey Drew,

Just figured it out, used code from this plugin
http://wordpress.org/extend/plugins/widgets-reloaded/ which includes a
multiple selection categories form within the widget-categories.php
file.

I'm not a programmer (really struggle with PHP) and considered
multiple checkboxes, but sites with a lot of categories would be a
mess to fit in a widget. The solution I used I've limited the box to 6
items with a scroller so it's a simple hold CTRL and click the
categories I want to select.

I looked at around a dozen popular, recent and similar widget plugins
for ideas to solve this problem before finding Widgets Reloaded and
they ALL lack the ability to select exactly which cateogries to use,
the better ones tend to have the ability to use only one category or
exclude only one cateogry.

Seems a lack of a useful feature not to have a WordPress function like
wp_dropdown_categories that would allow for easy multiple selections,
seems a lot of widgets could benefit from this functionality. I agree
adding multiple selection to an actual dropdown form would be awful,
they are designed for single selection.

David
-- 
http://www.stallion-theme.com/ Stallion WordPress SEO Theme
http://www.stallion-theme.com/stallion-wordpress-seo-plugin Stallion
WordPress SEO Plugin

>Drew
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers

From zamoose at gmail.com  Sun Mar  4 02:02:36 2012
From: zamoose at gmail.com (Doug Stewart)
Date: Sat, 3 Mar 2012 21:02:36 -0500
Subject: [wp-hackers] wp_dropdown_categories and multiple selections
In-Reply-To: <iug5l7lr68v55lskd527mmheuonidds814@4ax.com>
References: <CAEJabWhfPK20pkFMDcSouHHUvy_JFrE0JGuUXoKfL82EFdt2OQ@mail.gmail.com>
	<iug5l7lr68v55lskd527mmheuonidds814@4ax.com>
Message-ID: <CANFh3d4TxoW_pFFc0nPQpXHraQmB6nzLxPmhdqaBUt5jd0M2TA@mail.gmail.com>

Have you tried out Display Widgets? I've had good success with that.

http://wordpress.org/extend/plugins/display-widgets/

On Sat, Mar 3, 2012 at 8:50 PM, David Law
<wp-hackers at google-adsense-templates.co.uk> wrote:
> On Sat, 3 Mar 2012 11:48:13 -0700, you wrote:
>
>>> Maybe a better question would have been how to generate a comma
>>> seperated list of categories for the $only variable without the user
>>> typing them out as 3,8,123 since wp_dropdown_categories doesn't have
>>> that as a feature :-)
>>>
>>> Any ideas?
>>>
>>> David
>>>
>>
>>David,
>>
>>There's a ticket on the track discussing this very topic:
>>http://core.trac.wordpress.org/ticket/20156
>>
>>In your case, I'd echo scribu's sentiment and ask why not just provide a
>>list of checkboxes as is done with the Categories metabox? UX for a
>>multiple-select dropdown is awful.
>>
>
> Hey Drew,
>
> Just figured it out, used code from this plugin
> http://wordpress.org/extend/plugins/widgets-reloaded/ which includes a
> multiple selection categories form within the widget-categories.php
> file.
>
> I'm not a programmer (really struggle with PHP) and considered
> multiple checkboxes, but sites with a lot of categories would be a
> mess to fit in a widget. The solution I used I've limited the box to 6
> items with a scroller so it's a simple hold CTRL and click the
> categories I want to select.
>
> I looked at around a dozen popular, recent and similar widget plugins
> for ideas to solve this problem before finding Widgets Reloaded and
> they ALL lack the ability to select exactly which cateogries to use,
> the better ones tend to have the ability to use only one category or
> exclude only one cateogry.
>
> Seems a lack of a useful feature not to have a WordPress function like
> wp_dropdown_categories that would allow for easy multiple selections,
> seems a lot of widgets could benefit from this functionality. I agree
> adding multiple selection to an actual dropdown form would be awful,
> they are designed for single selection.
>
> David
> --
> http://www.stallion-theme.com/ Stallion WordPress SEO Theme
> http://www.stallion-theme.com/stallion-wordpress-seo-plugin Stallion
> WordPress SEO Plugin
>
>>Drew
>>_______________________________________________
>>wp-hackers mailing list
>>wp-hackers at lists.automattic.com
>>http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



-- 
-Doug

From hannit at codeart.co.il  Sun Mar  4 10:03:52 2012
From: hannit at codeart.co.il (Hannit Cohen)
Date: Sun, 4 Mar 2012 12:03:52 +0200
Subject: [wp-hackers] sending mail wnen post author changes
Message-ID: <CAHG1zgiCEE6U4HKGL=k46gvHH_UCe0TBELvR3L=mPPSR=H-uGQ@mail.gmail.com>

Hi,
I need to send a notification email whenever the post author changes.

One way I thought of is saving the current author in a custom field on
pre_post_update and then checking for change on post_save.
I was wondering if there is a better more elegant way.

I know that pre_post_update is fired in the right time for me to check, but
as far as I see, it gets the post_id but not the new post data.

Any Idea ?

Thanks,
Hannit

From scribu at gmail.com  Sun Mar  4 21:51:06 2012
From: scribu at gmail.com (scribu)
Date: Sun, 4 Mar 2012 23:51:06 +0200
Subject: [wp-hackers] HyperDB - worth the trouble?
In-Reply-To: <CAM_fM0pjG=FTmeMPLsME8sPYKFBNdgBTjxUpjvVUCc-tV-YrSA@mail.gmail.com>
References: <CAM_fM0pjG=FTmeMPLsME8sPYKFBNdgBTjxUpjvVUCc-tV-YrSA@mail.gmail.com>
Message-ID: <CABzSYNOO3eioWCO6vkasryd7p5d9i_k2ps5SofH_i=P230yd_Q@mail.gmail.com>

HyperDB makes sense when you have more several servers available and
you want to replicate the data between them. Putting sites in distinct
databases on the same server won't help performance.

-- 
http://scribu.net

From drecodeam at gmail.com  Mon Mar  5 11:25:39 2012
From: drecodeam at gmail.com (drecodeam)
Date: Mon, 5 Mar 2012 16:55:39 +0530
Subject: [wp-hackers] Idea- Rethinking Wordpress theme editor
In-Reply-To: <BD627C078DB14BFBAD249ED6A19FDA85@gmail.com>
References: <BD627C078DB14BFBAD249ED6A19FDA85@gmail.com>
Message-ID: <18DB65FC255745D683020A5339E5EF1B@gmail.com>

This is regarding the idea discussed earlier about the wordpress theme editor. I have made some changes and added new functionality to my previous version. The editor is now able to save the changes made back to the server. Also i have resolved a lot of issues with the CSS rules. You can read the updates in detail in this blog post: http://ankuranand.in/blog/2012/03/update-2-added-save-functionality/.
Link to my demo: http://ankuranand.in/gsoc/wordpress/
Notes of the project: http://ankuranand.in/blog/gsoc-project/

I would love to hear feedback from the community over the idea and what else can be done with it. 

Thanks. 



-- 
drecodeam


On Friday 24 February 2012 at 11:30 PM, drecodeam wrote:

> I am Ankur Anand, a student from India.. While working on the theme for my blog, i thought of an idea to provide a 'Design in the Browser' approach to designing or customizing a Wordpress theme. 
> 
> The idea is to use a Firebug (http://getfirebug.com/)/Firefox Inspect (http://blog.mozilla.com/blog/2012/01/31/firefox-adds-powerful-new-developer-tools/) interface to make changes to the CSS of the elements loaded, and then upload the changes back to the server. The main idea is to provide a tool which lets us edit the CSS Live in the browser and then save the changes. 
> Here is the overview of the idea : http://ankuranand.in/blog/2012/02/rethinking-wordpress-theme-editor/.
> Also, i have added mockups and detailed explanation of the idea and the features. http://ankuranand.in/blog/2012/02/rethinking-wordpress-theme-editor-part-2/. 
> 
> I have already started working on the project, and needed suggestions from the community members over the design, features and implementation of the idea.I wanted to do this as a Google Summer of Code project. 
> 
> 
> -- 
> drecodeam
> http://ankuranand.in
> 


From rc404mekt at gmail.com  Mon Mar  5 11:41:08 2012
From: rc404mekt at gmail.com (kavith Thiranga)
Date: Mon, 5 Mar 2012 17:11:08 +0530
Subject: [wp-hackers] Idea- Rethinking Wordpress theme editor
In-Reply-To: <18DB65FC255745D683020A5339E5EF1B@gmail.com>
References: <BD627C078DB14BFBAD249ED6A19FDA85@gmail.com>
	<18DB65FC255745D683020A5339E5EF1B@gmail.com>
Message-ID: <CAKu4Hn1=kZ9Cta0bixFC5dobRD8TDeQ+EkHX54XBLvgTX6B1hw@mail.gmail.com>

Hi drecodeam,

It' a nice idea that you are working on. Keep it up.

Kavith.

On Mon, Mar 5, 2012 at 4:55 PM, drecodeam <drecodeam at gmail.com> wrote:

> This is regarding the idea discussed earlier about the wordpress theme
> editor. I have made some changes and added new functionality to my previous
> version. The editor is now able to save the changes made back to the
> server. Also i have resolved a lot of issues with the CSS rules. You can
> read the updates in detail in this blog post:
> http://ankuranand.in/blog/2012/03/update-2-added-save-functionality/.
> Link to my demo: http://ankuranand.in/gsoc/wordpress/
> Notes of the project: http://ankuranand.in/blog/gsoc-project/
>
> I would love to hear feedback from the community over the idea and what
> else can be done with it.
>
> Thanks.
>
>
>
> --
> drecodeam
>
>
> On Friday 24 February 2012 at 11:30 PM, drecodeam wrote:
>
> > I am Ankur Anand, a student from India.. While working on the theme for
> my blog, i thought of an idea to provide a 'Design in the Browser' approach
> to designing or customizing a Wordpress theme.
> >
> > The idea is to use a Firebug (http://getfirebug.com/)/Firefox Inspect (
> http://blog.mozilla.com/blog/2012/01/31/firefox-adds-powerful-new-developer-tools/)
> interface to make changes to the CSS of the elements loaded, and then
> upload the changes back to the server. The main idea is to provide a tool
> which lets us edit the CSS Live in the browser and then save the changes.
> > Here is the overview of the idea :
> http://ankuranand.in/blog/2012/02/rethinking-wordpress-theme-editor/.
> > Also, i have added mockups and detailed explanation of the idea and the
> features.
> http://ankuranand.in/blog/2012/02/rethinking-wordpress-theme-editor-part-2/
> .
> >
> > I have already started working on the project, and needed suggestions
> from the community members over the design, features and implementation of
> the idea.I wanted to do this as a Google Summer of Code project.
> >
> >
> > --
> > drecodeam
> > http://ankuranand.in
> >
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From alexbaron50 at gmail.com  Mon Mar  5 15:19:57 2012
From: alexbaron50 at gmail.com (Alexander Baron)
Date: Mon, 05 Mar 2012 10:19:57 -0500
Subject: [wp-hackers] Idea- Rethinking Wordpress theme editor
Message-ID: <pbns34r2dnbypu1baevhvjw6.1330960797217@email.android.com>


Alexander Baron

drecodeam <drecodeam at gmail.com> escribi?:

>This is regarding the idea discussed earlier about the wordpress theme editor. I have made some changes and added new functionality to my previous version. The editor is now able to save the changes made back to the server. Also i have resolved a lot of issues with the CSS rules. You can read the updates in detail in this blog post: http://ankuranand.in/blog/2012/03/update-2-added-save-functionality/.
>Link to my demo: http://ankuranand.in/gsoc/wordpress/
>Notes of the project: http://ankuranand.in/blog/gsoc-project/
>
>I would love to hear feedback from the community over the idea and what else can be done with it. 
>
>Thanks. 
>
>
>
>-- 
>drecodeam
>
>
>On Friday 24 February 2012 at 11:30 PM, drecodeam wrote:
>
>> I am Ankur Anand, a student from India.. While working on the theme for my blog, i thought of an idea to provide a 'Design in the Browser' approach to designing or customizing a Wordpress theme. 
>> 
>> The idea is to use a Firebug (http://getfirebug.com/)/Firefox Inspect (http://blog.mozilla.com/blog/2012/01/31/firefox-adds-powerful-new-developer-tools/) interface to make changes to the CSS of the elements loaded, and then upload the changes back to the server. The main idea is to provide a tool which lets us edit the CSS Live in the browser and then save the changes. 
>> Here is the overview of the idea : http://ankuranand.in/blog/2012/02/rethinking-wordpress-theme-editor/.
>> Also, i have added mockups and detailed explanation of the idea and the features. http://ankuranand.in/blog/2012/02/rethinking-wordpress-theme-editor-part-2/. 
>> 
>> I have already started working on the project, and needed suggestions from the community members over the design, features and implementation of the idea.I wanted to do this as a Google Summer of Code project. 
>> 
>> 
>> -- 
>> drecodeam
>> http://ankuranand.in
>> 
>
>_______________________________________________
>wp-hackers mailing list
>wp-hackers at lists.automattic.com
>http://lists.automattic.com/mailman/listinfo/wp-hackers

From jer at simianuprising.com  Mon Mar  5 21:20:46 2012
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 5 Mar 2012 16:20:46 -0500
Subject: [wp-hackers] HyperDB - worth the trouble?
In-Reply-To: <CABzSYNOO3eioWCO6vkasryd7p5d9i_k2ps5SofH_i=P230yd_Q@mail.gmail.com>
References: <CAM_fM0pjG=FTmeMPLsME8sPYKFBNdgBTjxUpjvVUCc-tV-YrSA@mail.gmail.com>
	<CABzSYNOO3eioWCO6vkasryd7p5d9i_k2ps5SofH_i=P230yd_Q@mail.gmail.com>
Message-ID: <CAAHgzDPtkPZqtWnh-BGjLWj2x5-614cyNHjReoprThV-2E4Qbw@mail.gmail.com>

Looked at another way, HyperDB helps when you have a MySQL server that is
overloaded and can't handle the traffic. It replicates the whole server
over several machines and handles the connections so it all works out (at
least that's my understanding, I haven't needed to move beyond a
two-server, apache+mysql setup yet).

The number of sites you have isn't important, it's primarily the amount of
traffic you receive and to a lesser degree the size and complexity of the
sites you are serving that will cause MySQL to perform badly. If you have a
dedicated server for MySQL it should be able to host a LOT of small WP
sites without problems.

Also if you already have a dedicated MySQL server there are a ton of
optimizations you can do to make it more performant before you need to get
involved with the complications of replication. Often you can quadruple
performance just by tuning the MySQL config vars (esp. the MySQL Cache
related ones, see the MySQL docs for details). One optimization that I've
found really effective was switching to the XtraDB version of InnoDB (found
in MariaDB or Percona Server versions of MySQL), at least it's something
worth researching before buying another server.

If your farm of sites and their traffic get big enough you might need
multiple servers, at which point HyperDB is the best choice for WP, but
most of the time it's cheaper and easier to follow the many guides to
optimizing generic MySQL first.

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org

From jain.avi17 at gmail.com  Tue Mar  6 06:11:14 2012
From: jain.avi17 at gmail.com (Avinash Jain)
Date: Tue, 6 Mar 2012 11:41:14 +0530
Subject: [wp-hackers] Gsoc 2012
Message-ID: <CAMxMTx23yZK_qD5aiTtE_E0O_0LJ_zQKrQWPM6vU9rpag8oKDw@mail.gmail.com>

Hello all, Myself Avinash Jain pursuing B.Tech in CSE from IIIT-Hyderbad. I
am very much interested in android development. I have built many
application on android. Can any buddy please tell me how to start
communicating with wordpress mentors


-- 
Regards,
avinash
(+91) 9502681447

From jane at automattic.com  Tue Mar  6 17:10:48 2012
From: jane at automattic.com (Jane Wells)
Date: Tue, 06 Mar 2012 12:10:48 -0500
Subject: [wp-hackers] SXSW party
Message-ID: <4F564518.8020105@automattic.com>

If you'll be at SXSW this year, RSVP to come to the WordPress party on 
the 12th! Snacks, booze, WordPress people, what more could you ask for? 
No SXSW required, just an RSVP.

Also, if anyone wants to volunteer at the booth to help people with 
their sites/answer questions, get in touch with Rose 
(rose at automattic.com), who is coordinating the booth.

RSVP link: http://wordpress.org/news/sxsw2012/

Hope to see some of you there!
Jane

From lox.dev at knc.nc  Wed Mar  7 02:41:54 2012
From: lox.dev at knc.nc (Lox)
Date: Wed, 7 Mar 2012 13:41:54 +1100
Subject: [wp-hackers] Changing term IDs
In-Reply-To: <CAP29PvjgVgU15iDnXWSfEkvmCvBnZrusxzBgytjOB7LvE70y2Q@mail.gmail.com>
References: <CAJmHdUK_CQfQ-OfGOVAzqPzAuhM5QwCyV+Hb=SnvhedjNM_4fQ@mail.gmail.com>
	<CAP29PvjgVgU15iDnXWSfEkvmCvBnZrusxzBgytjOB7LvE70y2Q@mail.gmail.com>
Message-ID: <CA+sFoLpXe+dSoCLqyjmU7BqPPR6Zchrom-cLMjT=BXPazSLTDA@mail.gmail.com>

2012/2/9 Andrew Nacin <wp at andrewnacin.com>

> There is no requirement for slugs to be unique across all term IDs. You can
> have
>

Hello,

So why  doesn't the WP admin accept duplicated slugs ?

Regards.

-- 
Lox
lox.dev at knc.nc

From lox.dev at knc.nc  Wed Mar  7 02:47:50 2012
From: lox.dev at knc.nc (Lox)
Date: Wed, 7 Mar 2012 13:47:50 +1100
Subject: [wp-hackers] How to make a role inherit anther role's capabilities?
Message-ID: <CA+sFoLrmTx6Q7QDsgubO0pv2S_1w182Xx9MsFt3MED=uHvH__g@mail.gmail.com>

Hello,

When creating a role I would like it to inherit the capabilities of an
other role .
Is that possible?

Regards

-- 
Lox
lox.dev at knc.nc

From banago at gmail.com  Wed Mar  7 11:51:51 2012
From: banago at gmail.com (Baki Goxhaj)
Date: Wed, 7 Mar 2012 12:51:51 +0100
Subject: [wp-hackers] HyperDB - worth the trouble?
In-Reply-To: <CAAHgzDPtkPZqtWnh-BGjLWj2x5-614cyNHjReoprThV-2E4Qbw@mail.gmail.com>
References: <CAM_fM0pjG=FTmeMPLsME8sPYKFBNdgBTjxUpjvVUCc-tV-YrSA@mail.gmail.com>
	<CABzSYNOO3eioWCO6vkasryd7p5d9i_k2ps5SofH_i=P230yd_Q@mail.gmail.com>
	<CAAHgzDPtkPZqtWnh-BGjLWj2x5-614cyNHjReoprThV-2E4Qbw@mail.gmail.com>
Message-ID: <CAM_fM0rGmW2SkOKrNrpW-unuQfYvfp1bCaCv_0ZVc-kN65saaw@mail.gmail.com>

Your answers make perfect sense gentlemen - thanks very much.

I just had this idea that, a smaller database with fewer records will
perform better then a bigger one, so by splinting the content of each site
into it's on database, but the same MySQL server, would be better. But
seems I was wrong.

Kindly,

Baki Goxhaj
www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>


On Mon, Mar 5, 2012 at 10:20 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> Looked at another way, HyperDB helps when you have a MySQL server that is
> overloaded and can't handle the traffic. It replicates the whole server
> over several machines and handles the connections so it all works out (at
> least that's my understanding, I haven't needed to move beyond a
> two-server, apache+mysql setup yet).
>
> The number of sites you have isn't important, it's primarily the amount of
> traffic you receive and to a lesser degree the size and complexity of the
> sites you are serving that will cause MySQL to perform badly. If you have a
> dedicated server for MySQL it should be able to host a LOT of small WP
> sites without problems.
>
> Also if you already have a dedicated MySQL server there are a ton of
> optimizations you can do to make it more performant before you need to get
> involved with the complications of replication. Often you can quadruple
> performance just by tuning the MySQL config vars (esp. the MySQL Cache
> related ones, see the MySQL docs for details). One optimization that I've
> found really effective was switching to the XtraDB version of InnoDB (found
> in MariaDB or Percona Server versions of MySQL), at least it's something
> worth researching before buying another server.
>
> If your farm of sites and their traffic get big enough you might need
> multiple servers, at which point HyperDB is the best choice for WP, but
> most of the time it's cheaper and easier to follow the many guides to
> optimizing generic MySQL first.
>
> --
> Jeremy Clarke ? jeremyclarke.org
> Code and Design ? globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From aspratley at gmail.com  Wed Mar  7 12:17:00 2012
From: aspratley at gmail.com (Andrew Spratley)
Date: Wed, 7 Mar 2012 14:17:00 +0200
Subject: [wp-hackers] Using Live Database with Development environment
In-Reply-To: <4F50B56C.1070604@taquiri.de>
References: <CABs8xe5nzK6OTOD_aEbZRTWXciaJQ7YZjR_EYVSQvadUaQ+VJw@mail.gmail.com>
	<CB7562CD.11D4C%chris@clwill.com>
	<CAJ5Hi2hQuKn5c4tXnC6ZsuLXxPOnvaX7D=yn5yKOmUdPm1FYPQ@mail.gmail.com>
	<CAM_fM0qCFD=k2t9gg_WPjoE4uf0KjbSZTRpy=jrVva03R4Vkeg@mail.gmail.com>
	<CAKNYAgDZ+nB7iGR8+OfMXdnBOzHdi5Xw3jM6rABR2CvoZw87UA@mail.gmail.com>
	<CAM_fM0okTy7b0fCxOMaKb-yc6kdkJgPHLEppHttSfBkTyS53+Q@mail.gmail.com>
	<CAPbD_NNXaV0Fz4EAfTU=zc2SumxzLzkFtxG1ZuzpRVS9CDwjfw@mail.gmail.com>
	<4F50B56C.1070604@taquiri.de>
Message-ID: <CAKNYAgBa=bx_TGmPb9zROH8nM09a12=FeH3LEcKPYWho2sVJhQ@mail.gmail.com>

If anyone's interested I've knocked together a very simple script to
do a DB dump and restore and search and replace so it's relatively
easy to sync a live DB to a dev environment.

https://github.com/Ascerta/Wordpress-DB-clone

****N.B I haven't widely tested this and it's still very much a work
in progress, use at your own risk.

This is just for DB syncing, you will need to handle the file sync yourself.

2012/3/2 "Matthias P. W?rfl" <mpw at taquiri.de>:
> Am 02.03.2012 12:04, schrieb Kokarn:
>
>> Trying to build a development environment based on git that works with
>> multiple wordpress installations.
>>
>> The problems we are facing right now is that some things we do in the
>> database data and some we do in the structure.
>> When we then try to push the changes we need to figure out a good way to
>> prioritize what changes to be made and stuff like that.
>
>
> We use svn and figured out how to cope with the file changes. The solution
> is to handle [A] 3rd-party code (Wordpress), [B] own code and
> site-configuration (Theme), [C] Data and [D] host-dependent configuration
> different. This can be done, because these four "file-classes" can live in
> seperate directories.
>
> Because with the database changes it isn't as simple as with the files we
> store the most relevant parts of the configuration in files (i.e. Database
> conn, Base URLs and directory names). Every host knows the configuration of
> each other host and replaces URLs pointing to other hosts on the fly with
> own URLs with an output_buffer. The Hosts knows which files to use by
> comparing their names with HTTP_Host.
>
> Our remaining problem is changes to the host-independent Configuration (i.e.
> theme options) in db. We can't just copy the DB from live to dev, check it
> and copy it back because we would lose changes made to live in the meantime.
> We can't use the live-DB on the dev machines beacause the whole purpose of
> dev and staging is that changes are checked before the go live.
>
> Gr??e, Matthias
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chaumond at gmail.com  Wed Mar  7 13:44:16 2012
From: chaumond at gmail.com (Julien Chaumond)
Date: Wed, 7 Mar 2012 14:44:16 +0100
Subject: [wp-hackers] Programmatically add a Navigation menu and menu items
Message-ID: <CADm1bXtUQmYMsw61nD2T66wysRfT6EzEQ-wBGHuD4WwEtK=FXQ@mail.gmail.com>

Hi,

I need to, through API functions, define a new Navigation menu (
http://codex.wordpress.org/Navigation_Menus), select it in the current
theme, then insert a few Pages as menu items. This is to be done for
instance on a theme activation.

First of all, I've been unable to find much documentation about that: have
I overlooked something obvious?

Through a (moderately painful) process of reverse engineering the database
inserts and updates after manually setting up the aforementioned Navigation
menu and items, I've pieced together the following steps, where
'footer-nav' is the slug ID of the Navigation menu I'm creating:

if (!term_exists('footer-nav', 'nav_menu')) {

    $menu = wp_insert_term('Footer nav', 'nav_menu', array('slug' =>
'footer-nav'));

    // Select this menu in the current theme
    update_option('theme_mods_'.get_current_theme(),
array("nav_menu_locations" => array("primary" => $menu['term_id'])));

    // Insert new page
    $page = wp_insert_post(array('post_title' => 'Blog',
                                 'post_content' => '',
                                 'post_status' => 'publish',
                                 'post_type' => 'page'));

    // Insert new nav_menu_item
    $nav_item = wp_insert_post(array('post_title' => 'News',
                                     'post_content' => '',
                                     'post_status' => 'publish',
                                     'post_type' => 'nav_menu_item'));


    add_post_meta($nav_item, '_menu_item_type', 'post_type');
    add_post_meta($nav_item, '_menu_item_menu_item_parent', '0');
    add_post_meta($nav_item, '_menu_item_object_id', $page);
    add_post_meta($nav_item, '_menu_item_object', 'page');
    add_post_meta($nav_item, '_menu_item_target', '');
    add_post_meta($nav_item, '_menu_item_classes', 'a:1:{i:0;s:0:"";}');
    add_post_meta($nav_item, '_menu_item_xfn', '');
    add_post_meta($nav_item, '_menu_item_url', '');

    wp_set_object_terms($nav_item, 'footer-nav', 'nav_menu');

}


This seems to work, but I would love to check with you guys whether this is
a robust or elegant way of doing it, or if I'm missing something totally
obvious that would do all this in one line of code.

For the sake of legibility and content duplication, I've also posted this
code to wordpress.stackexchange:
http://wordpress.stackexchange.com/questions/44736/programmatically-add-a-navigation-menu-and-menu-items

Thanks!

Julien

From zamoose at gmail.com  Wed Mar  7 14:03:44 2012
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 7 Mar 2012 09:03:44 -0500
Subject: [wp-hackers] Programmatically add a Navigation menu and menu
	items
In-Reply-To: <CADm1bXtUQmYMsw61nD2T66wysRfT6EzEQ-wBGHuD4WwEtK=FXQ@mail.gmail.com>
References: <CADm1bXtUQmYMsw61nD2T66wysRfT6EzEQ-wBGHuD4WwEtK=FXQ@mail.gmail.com>
Message-ID: <CANFh3d6t=POe7Hm0UiRaeoe2TbQv89He7E_nnr0jcTXFs=wpdA@mail.gmail.com>

Julien:
Answered in-thread at WPSE.

On Wed, Mar 7, 2012 at 8:44 AM, Julien Chaumond <chaumond at gmail.com> wrote:
> Hi,
>
> I need to, through API functions, define a new Navigation menu (
> http://codex.wordpress.org/Navigation_Menus), select it in the current
> theme, then insert a few Pages as menu items. This is to be done for
> instance on a theme activation.
>
> First of all, I've been unable to find much documentation about that: have
> I overlooked something obvious?
>
> Through a (moderately painful) process of reverse engineering the database
> inserts and updates after manually setting up the aforementioned Navigation
> menu and items, I've pieced together the following steps, where
> 'footer-nav' is the slug ID of the Navigation menu I'm creating:
>
> if (!term_exists('footer-nav', 'nav_menu')) {
>
> ? ?$menu = wp_insert_term('Footer nav', 'nav_menu', array('slug' =>
> 'footer-nav'));
>
> ? ?// Select this menu in the current theme
> ? ?update_option('theme_mods_'.get_current_theme(),
> array("nav_menu_locations" => array("primary" => $menu['term_id'])));
>
> ? ?// Insert new page
> ? ?$page = wp_insert_post(array('post_title' => 'Blog',
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 'post_content' => '',
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 'post_status' => 'publish',
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 'post_type' => 'page'));
>
> ? ?// Insert new nav_menu_item
> ? ?$nav_item = wp_insert_post(array('post_title' => 'News',
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 'post_content' => '',
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 'post_status' => 'publish',
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 'post_type' => 'nav_menu_item'));
>
>
> ? ?add_post_meta($nav_item, '_menu_item_type', 'post_type');
> ? ?add_post_meta($nav_item, '_menu_item_menu_item_parent', '0');
> ? ?add_post_meta($nav_item, '_menu_item_object_id', $page);
> ? ?add_post_meta($nav_item, '_menu_item_object', 'page');
> ? ?add_post_meta($nav_item, '_menu_item_target', '');
> ? ?add_post_meta($nav_item, '_menu_item_classes', 'a:1:{i:0;s:0:"";}');
> ? ?add_post_meta($nav_item, '_menu_item_xfn', '');
> ? ?add_post_meta($nav_item, '_menu_item_url', '');
>
> ? ?wp_set_object_terms($nav_item, 'footer-nav', 'nav_menu');
>
> }
>
>
> This seems to work, but I would love to check with you guys whether this is
> a robust or elegant way of doing it, or if I'm missing something totally
> obvious that would do all this in one line of code.
>
> For the sake of legibility and content duplication, I've also posted this
> code to wordpress.stackexchange:
> http://wordpress.stackexchange.com/questions/44736/programmatically-add-a-navigation-menu-and-menu-items
>
> Thanks!
>
> Julien
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



-- 
-Doug

From lists at rotorised.com  Wed Mar  7 22:21:14 2012
From: lists at rotorised.com (Ryan McCue)
Date: Thu, 08 Mar 2012 08:21:14 +1000
Subject: [wp-hackers] GSoC Dates in the Southern Hemisphere
Message-ID: <4F57DF5A.7040405@rotorised.com>

Hey everyone,

This is aimed mainly at those who have been in GSoC in the past; 
specifically those who use the southern hemisphere semester dates.

I'm in Australia, and I'm wondering how hard it was to participate in 
GSoC when it starts overlapping the start of the next semester. As far 
as I can see, there'd be about a month overlap (semester starts in July, 
GSoC ends half way through August).

What was the workload like for you?

Thanks,
-- 
Ryan McCue
<http://ryanmccue.info/>

From stas at nerd.ro  Wed Mar  7 22:43:09 2012
From: stas at nerd.ro (=?utf-8?B?U3RhcyBTdciZY292?=)
Date: Thu, 08 Mar 2012 00:43:09 +0200
Subject: [wp-hackers] GSoC Dates in the Southern Hemisphere
In-Reply-To: <4F57DF5A.7040405@rotorised.com>
References: <4F57DF5A.7040405@rotorised.com>
Message-ID: <op.watn17q15x5v0b@rivalry>

?n data de Thu, 08 Mar 2012 00:21:14 +0200, Ryan McCue  
<lists at rotorised.com> a scris:

> Hey everyone,
>
> This is aimed mainly at those who have been in GSoC in the past;  
> specifically those who use the southern hemisphere semester dates.
>
> I'm in Australia, and I'm wondering how hard it was to participate in  
> GSoC when it starts overlapping the start of the next semester. As far  
> as I can see, there'd be about a month overlap (semester starts in July,  
> GSoC ends half way through August).
>
> What was the workload like for you?
>
> Thanks,

I'm an ex GSoCer from EU, but here are some points you might find useful.

You communication and relation with mentor(s) is crucial. And as soon as  
you start taking that seriously, a lot of questions get answered.

Your mentor is a human being, and if you are treating him accordingly, he  
will help you in most of the situations.

I know students (friends), that had delays with their exams, ending up  
with the school late june/early july, and it was never a problem if  
mentors were aware of such details.

In short, NOT explaining your situation or treating your mentor as an  
enemy is the only reason why your GSoC can fail.
I even heard of students that promised and kept their promise to finish  
their project later in August/Sept. and all this just by having a good  
communication with their mentors.

Google might be the one who offers the resources, but your mentor(s) is  
the real employer (and he can fire you anytime).

Hope you find this tips helpful, or maybe as answers to your question.

From ronin at braydon.com  Thu Mar  8 05:26:16 2012
From: ronin at braydon.com (Braydon)
Date: Wed, 07 Mar 2012 21:26:16 -0800
Subject: [wp-hackers] Taking over URL space
In-Reply-To: <87r4xdaiu6.fsf@newcastle.ac.uk>
References: <871upofqyj.fsf@newcastle.ac.uk> <4F441501.8060106@braydon.com>
	<87r4xdaiu6.fsf@newcastle.ac.uk>
Message-ID: <4F5842F8.8000705@braydon.com>

I don't think 'generate_rewrite_rules' is a filter and is an action, and 
isn't expecting a return. So modifying the global wp_rewrite variable is 
needed at that hook.

The problem with add_rewrite_rule is that it is always considered 
"second" and you need to flush the rules, which is something that you 
can't expect someone to figure out, and it appears to not be doing what 
it should be.

On 02/29/2012 05:07 AM, Phillip Lord wrote:
>
> Thanks all for the comments. I have been trying these out, and with info
> from the WPrewrite documentation but can't get them to work.
>
>
> My plugin (complete with debug printouts!) looks like below. I have the
> template_redirect section working fine. I have a rule flusher on
> wp_loaded. The codex mentions this not as a long term solution because
> it's compute intensive.
>
> Then I have a generate_rewrite_rules filter. As far as I can tell it's
> never been called.
>
> I would like to try the add_rewrite_rule/add_rewrite_tag method, but I
> don't understand this. What are these two methods doing?
>
> Phil
>
>
>
> add_action( 'wp_loaded','my_flush_rules' );
>
> // flush_rules() if our rules are not yet included
> function my_flush_rules(){
>      print( time() + "\n" );
>      print( "4: my flush rules\n" );
> 	$rules = get_option( 'rewrite_rules' );
>
> 	if ( ! isset( $rules['test'] ) ) {
>          print( "2: isset\n" );
> 		global $wp_rewrite;
> 	   	$wp_rewrite->flush_rules();
> 	}
> }
>
>
> add_filter( 'generate_rewrite_rules','test_phil_insert_rewrite_rules' );
>
> // Adding a new rule --- never called
> function test_phil_insert_rewrite_rules( $wp_review )
> {
>      print( "insert rewrite rules\n" );
> 	$newrules = array
>          (
>           "test" =>  'index.php?test-plugin=1&hello-world=1',
>           );
> 	
> 	return $newrules + $rules;
> }
>
>
>
> // this bit is working
> add_filter( 'query_vars', 'test_query_vars' );
>
> function test_query_vars( $query_vars ){
>      print( "test_query_vars\n" );
>      $query_vars[] = "test-plugin";
>      $query_vars[] = "hello-world";
>
>      return $query_vars;
> }
>
>
> // this bit handles the request and it is working
> // as http://localhost/?test-plugin=1&hello-world=1 returns hello world
> function test_plugin_hello(){
>      print( "test_plugin_hello" );
>      $test_plugin = (boolean) get_query_var( 'test-plugin' );
>      $hello_world = (boolean) get_query_var( 'hello-world' );
>      if( !$test_plugin ) return;
>
>      print( "Hello World" );
>      exit();
>
> }
> add_action( 'template_redirect', 'test_plugin_hello' );
>
>
>
> Braydon<ronin at braydon.com>  writes:
>
>> Here is another way to have new rules without using add_rewrite_rule:
>>
>> add_action( 'generate_rewrite_rules', 'my_rewrite_rules' );
>>
>> function my_rewrite_rules(){
>>      global $wp_rewrite;
>>      $rules = array(
>>          'myplugin/?$' =>  'index.php?myplugin=1'
>>      )
>>      $wp_rewrite->rules =array_merge($rules,$wp_rewrite->rules);
>> }
>>
>> For using extensions on p, something like this could work:
>>
>> add_action('parse_request','my_parse_request' );
>>
>> function my_parse_request(&$request ) {
>>      $post_id = $request->query_vars['p'];
>>      // check if the post id has an extension
>>      // also check the "Accept:" header
>>      // add a new query_var for the extension, and change "p" variable back to
>> an id
>> }
>>
>> However adding a new query_var for extension would be needed either way.
>>
>> add_filter( 'query_vars, 'my_query_vars' );
>>
>> function my_query_vars( $query_vars ){
>>      $query_vars[] = 'myplugin';
>>      $query_vars[] = 'ext';
>>      return $query_vars;
>> }
>>
>> And then at the template redirect check for both the myplugin and ext
>> query_vars and then have your plugin handle those.
>>
>> On 02/21/2012 01:58 AM, Phillip Lord wrote:
>>> I was wondering whether someone could give me pointers in the right
>>> direction. I'm not after a complete solution! I was just hoping that
>>> someone with more knowledge of wordpress could tell me if I am heading
>>> in the right way.
>>>
>>> I wanted to write a new plugin which returns metadata about posts in a
>>> variety of different ways. To do this, I need to use various parts of
>>> the URL space, but I don't know how best to do this.
>>>
>>>
>>> Essentially, I want to do three things.
>>>
>>> 1) I would like to be able to use bits of the URL space from top level.
>>>      So, for a wordpress at
>>>
>>> http://mydomain.org.uk
>>>
>>> I would like to be able to serve all requests to..
>>>
>>> http://mydomain.org.uk/myplugin
>>>
>>> My initial idea was to achieve all this with rewrite rules, but
>>> requiring users to modify .htaccess com. wp-rewrite seems the next
>>> option -- I can just rewrite requests to this and underlying rewrite
>>> plugin php?
>>>
>>>
>>> 2) I want to add support for file extension based access. So for a
>>> URL such as
>>>
>>> http://mydomain.org.uk/?p=46
>>>
>>> I'd like requests to
>>>
>>> http://mydomain.org.uk/?p=46.bib
>>>
>>> to be handled by my plugin, probably by sending the browser straight to
>>> a URL of the http://mydomain.org.uk/myplugin. I am not sure how well
>>> this would interact with pretty permalinks -- something of the form
>>>
>>> http://mydomain.org.uk/2012/02/02/mypost/
>>>
>>> looks daft with an extension
>>> http://mydomain.org.uk/2012/02/02/mypost/.bib
>>>
>>> However, as far as I can see this is a similar problem to the last.
>>>
>>> 3)
>>>
>>> And, finally, I'd like to provide a content negotiated solution. So
>>> requests to:
>>>
>>> http://mydomain.org.uk/?p=46
>>>
>>> will return different results depending on the content type in the
>>> Accept: header of the request; again, this will probably be implemented
>>> by forwarding the browser.
>>>
>>> This one seems to be the most taxing -- I can't do this with rewrite
>>> rules because it is the same in all cases.
>>>
>>> Any pointers gratefully received!
>>>
>>> Phil
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>>


-- 
Braydon Fuller
http://braydon.com/


From jer at simianuprising.com  Thu Mar  8 15:49:44 2012
From: jer at simianuprising.com (Jeremy Clarke)
Date: Thu, 8 Mar 2012 10:49:44 -0500
Subject: [wp-hackers] HyperDB - worth the trouble?
In-Reply-To: <CAM_fM0rGmW2SkOKrNrpW-unuQfYvfp1bCaCv_0ZVc-kN65saaw@mail.gmail.com>
References: <CAM_fM0pjG=FTmeMPLsME8sPYKFBNdgBTjxUpjvVUCc-tV-YrSA@mail.gmail.com>
	<CABzSYNOO3eioWCO6vkasryd7p5d9i_k2ps5SofH_i=P230yd_Q@mail.gmail.com>
	<CAAHgzDPtkPZqtWnh-BGjLWj2x5-614cyNHjReoprThV-2E4Qbw@mail.gmail.com>
	<CAM_fM0rGmW2SkOKrNrpW-unuQfYvfp1bCaCv_0ZVc-kN65saaw@mail.gmail.com>
Message-ID: <CAAHgzDPqfsx=ssKSnvEKPgXwVJy90dTLUrc_Byi4Tyf=AAEp7A@mail.gmail.com>

On Wed, Mar 7, 2012 at 6:51 AM, Baki Goxhaj <banago at gmail.com> wrote:

>
> I just had this idea that, a smaller database with fewer records will
> perform better then a bigger one, so by splinting the content of each site
> into it's on database, but the same MySQL server, would be better. But
> seems I was wrong.
>

Having the traffic hit different *tables* (wp_posts, wp_term_relationships)
makes an enormous difference, unlike having separate *databases*, which
performance-wise is the same as if they were in different tables of the
same DB. The good news is in almost all cases WP Multisite already splits
sites across tables, so the performance benefits are automatic.

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org

From banago at gmail.com  Thu Mar  8 19:26:43 2012
From: banago at gmail.com (Baki Goxhaj)
Date: Thu, 8 Mar 2012 20:26:43 +0100
Subject: [wp-hackers] HyperDB - worth the trouble?
In-Reply-To: <CAAHgzDPqfsx=ssKSnvEKPgXwVJy90dTLUrc_Byi4Tyf=AAEp7A@mail.gmail.com>
References: <CAM_fM0pjG=FTmeMPLsME8sPYKFBNdgBTjxUpjvVUCc-tV-YrSA@mail.gmail.com>
	<CABzSYNOO3eioWCO6vkasryd7p5d9i_k2ps5SofH_i=P230yd_Q@mail.gmail.com>
	<CAAHgzDPtkPZqtWnh-BGjLWj2x5-614cyNHjReoprThV-2E4Qbw@mail.gmail.com>
	<CAM_fM0rGmW2SkOKrNrpW-unuQfYvfp1bCaCv_0ZVc-kN65saaw@mail.gmail.com>
	<CAAHgzDPqfsx=ssKSnvEKPgXwVJy90dTLUrc_Byi4Tyf=AAEp7A@mail.gmail.com>
Message-ID: <CAM_fM0q0511_KS9Nf5qRf_bdqD1zz5mNMeincGh-s=Tn4aWbCQ@mail.gmail.com>

>
> The good news is in almost all cases WP Multisite already splits sites
> across tables
>

That would be cool then, but is this really the case? Otto? :)

Kindly,

Baki Goxhaj
www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>


On Thu, Mar 8, 2012 at 4:49 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> On Wed, Mar 7, 2012 at 6:51 AM, Baki Goxhaj <banago at gmail.com> wrote:
>
> >
> > I just had this idea that, a smaller database with fewer records will
> > perform better then a bigger one, so by splinting the content of each
> site
> > into it's on database, but the same MySQL server, would be better. But
> > seems I was wrong.
> >
>
> Having the traffic hit different *tables* (wp_posts, wp_term_relationships)
> makes an enormous difference, unlike having separate *databases*, which
> performance-wise is the same as if they were in different tables of the
> same DB. The good news is in almost all cases WP Multisite already splits
> sites across tables, so the performance benefits are automatic.
>
> --
> Jeremy Clarke ? jeremyclarke.org
> Code and Design ? globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at thecodecave.com  Thu Mar  8 20:48:24 2012
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Thu, 08 Mar 2012 15:48:24 -0500
Subject: [wp-hackers] HyperDB - worth the trouble?
In-Reply-To: <CAM_fM0q0511_KS9Nf5qRf_bdqD1zz5mNMeincGh-s=Tn4aWbCQ@mail.gmail.com>
References: <CAM_fM0pjG=FTmeMPLsME8sPYKFBNdgBTjxUpjvVUCc-tV-YrSA@mail.gmail.com>
	<CABzSYNOO3eioWCO6vkasryd7p5d9i_k2ps5SofH_i=P230yd_Q@mail.gmail.com>
	<CAAHgzDPtkPZqtWnh-BGjLWj2x5-614cyNHjReoprThV-2E4Qbw@mail.gmail.com>
	<CAM_fM0rGmW2SkOKrNrpW-unuQfYvfp1bCaCv_0ZVc-kN65saaw@mail.gmail.com>
	<CAAHgzDPqfsx=ssKSnvEKPgXwVJy90dTLUrc_Byi4Tyf=AAEp7A@mail.gmail.com>
	<CAM_fM0q0511_KS9Nf5qRf_bdqD1zz5mNMeincGh-s=Tn4aWbCQ@mail.gmail.com>
Message-ID: <4F591B18.7040608@thecodecave.com>


On 3/8/2012 2:26 PM, Baki Goxhaj wrote:
>> The good news is in almost all cases WP Multisite already splits sites
>> across tables
> That would be cool then, but is this really the case? Otto? :)
Sure! Every site gets their own set of tables by default.  Posts would 
stored in a table with the blog ID as part of the name.  So you'd have 
things like: wp_2_posts or maybe wp_23_posts

In my opinion, the long and short of it is that you should only move to 
a more complex configuration when you have outgrown your current 
configuration.  Don't anticipate.  Otherwise you are adding complexity 
(and possibly expense) when there is no need.

Only add HyperDB if you know you are being slowed down by the database 
and can't do anything more with caching.   Add extra read servers only 
when you see your current server configuration maxed out and basic 
upgrades to the machine is not going to be cost effective.  Only add 
sharding when adding more machines is no longer cost effective.  Jumping 
ahead of the game and say going straight to a hyperdb configuration 
sharded across regions, because you know your site is going to be 
popular, would add only complexity and distract you from the things you 
need to do to keep your site popular - and it could even slow your site 
down.

Start with memcache and a php accelerator like APC and something like 
w3tc.  Then when needed a separate DB server and then when needed 
hyperdb with a r/w master and a read slave. And read up about php-fpm 
and nginx along the way.

Brian Layman



From wp-hackers at thecodecave.com  Thu Mar  8 21:26:03 2012
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Thu, 08 Mar 2012 16:26:03 -0500
Subject: [wp-hackers] Percona Server and WordPress
Message-ID: <4F5923EB.9060500@thecodecave.com>

Has any one tried running Percona Server on their WP configs?
http://www.percona.com/software/percona-server/

It is a drop in replacement for MySQL and has impressive stats.  They 
brag about being some 40% faster than MySQL InnoDB
http://www.percona.com/software/percona-server/benchmarks/
(I do note that this stat comparison is from 2010 and MySQL 5.5.8 and 
MySQL 5.5 is on 20 now.  So maybe there isn't as much of a difference 
any more or they'd have updated that page?)

Percona Server appears to be free and available in deb and RPM repos:
http://www.percona.com/downloads/Percona-Server-5.5/Percona-Server-5.5.20-24.1/

I was just wondering if anyone has moved to this MySQL replacement as an 
optimization step. And if so, if they'd be willing to share their 
thoughts and impressions of the process.

-- 
Brian Layman


From jer at simianuprising.com  Fri Mar  9 15:29:08 2012
From: jer at simianuprising.com (Jeremy Clarke)
Date: Fri, 9 Mar 2012 10:29:08 -0500
Subject: [wp-hackers] Percona Server and WordPress
In-Reply-To: <4F5923EB.9060500@thecodecave.com>
References: <4F5923EB.9060500@thecodecave.com>
Message-ID: <CAAHgzDOGAGr1jiUo3VxmrA-fnSe2beEBvouHSYW-rVp_Jvk1Tw@mail.gmail.com>

We switched to http://mariadb.org/ rather than Percona Server, but the
underlying software is almost entirely the same, both are packages of all
the wonderful open-source patches that just don't make it into the core
MySQL. In either case, the really mind-blowing performance gains come from
XtraDB, which is the replacement for the core InnoDB engine of MySQL.

Preparing and implementing the switch was time consuming and there was some
brief downtime while me and an expert figured out the config changes to
make (there are a couple of config variables that needed changing to make
it work right) but otherwise the transition was smooth. No WP related
issues as far as I can tell, it's pretty much totally compatible in terms
of actual SQL.

The performance gains I got were tremendous. Load went from static around 6
to more like 2 and stopped spiking the way it did before. Our upgrade was
from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
upgrade could have also played a part, but the change was so drastic I
believe it was XtraDB making the difference (the same kind of improvements
are described for people just switching within a major MySQL branch).

IMHO this is the future of MySQL. I hope the hosts of the world start
switching :)

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org

From wp-hackers at thecodecave.com  Fri Mar  9 16:22:02 2012
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Fri, 09 Mar 2012 11:22:02 -0500
Subject: [wp-hackers] Percona Server and WordPress
In-Reply-To: <CAAHgzDOGAGr1jiUo3VxmrA-fnSe2beEBvouHSYW-rVp_Jvk1Tw@mail.gmail.com>
References: <4F5923EB.9060500@thecodecave.com>
	<CAAHgzDOGAGr1jiUo3VxmrA-fnSe2beEBvouHSYW-rVp_Jvk1Tw@mail.gmail.com>
Message-ID: <4F5A2E2A.10606@thecodecave.com>

Oh interesting....

I'd not heard of MariaDB before...
"MariaDB is primarily driven by developers at Monty Program, a company 
founded by Michael "Monty" Widenius, the original author of MySQL"

It's curious why these changes aren't added to the MySQL core if they 
make such a significant difference...

Brian Layman


On 3/9/2012 10:29 AM, Jeremy Clarke wrote:
> We switched to http://mariadb.org/ rather than Percona Server, but the
> underlying software is almost entirely the same, both are packages of all
> the wonderful open-source patches that just don't make it into the core
> MySQL. In either case, the really mind-blowing performance gains come from
> XtraDB, which is the replacement for the core InnoDB engine of MySQL.
>
> Preparing and implementing the switch was time consuming and there was some
> brief downtime while me and an expert figured out the config changes to
> make (there are a couple of config variables that needed changing to make
> it work right) but otherwise the transition was smooth. No WP related
> issues as far as I can tell, it's pretty much totally compatible in terms
> of actual SQL.
>
> The performance gains I got were tremendous. Load went from static around 6
> to more like 2 and stopped spiking the way it did before. Our upgrade was
> from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
> upgrade could have also played a part, but the change was so drastic I
> believe it was XtraDB making the difference (the same kind of improvements
> are described for people just switching within a major MySQL branch).
>
> IMHO this is the future of MySQL. I hope the hosts of the world start
> switching :)
>

From banago at gmail.com  Fri Mar  9 16:42:39 2012
From: banago at gmail.com (Baki Goxhaj)
Date: Fri, 9 Mar 2012 17:42:39 +0100
Subject: [wp-hackers] HyperDB - worth the trouble?
In-Reply-To: <4F591B18.7040608@thecodecave.com>
References: <CAM_fM0pjG=FTmeMPLsME8sPYKFBNdgBTjxUpjvVUCc-tV-YrSA@mail.gmail.com>
	<CABzSYNOO3eioWCO6vkasryd7p5d9i_k2ps5SofH_i=P230yd_Q@mail.gmail.com>
	<CAAHgzDPtkPZqtWnh-BGjLWj2x5-614cyNHjReoprThV-2E4Qbw@mail.gmail.com>
	<CAM_fM0rGmW2SkOKrNrpW-unuQfYvfp1bCaCv_0ZVc-kN65saaw@mail.gmail.com>
	<CAAHgzDPqfsx=ssKSnvEKPgXwVJy90dTLUrc_Byi4Tyf=AAEp7A@mail.gmail.com>
	<CAM_fM0q0511_KS9Nf5qRf_bdqD1zz5mNMeincGh-s=Tn4aWbCQ@mail.gmail.com>
	<4F591B18.7040608@thecodecave.com>
Message-ID: <CAM_fM0pBqBz3Te+acj8u6AAU0szsOiujX-bCi96hg=5FErayAQ@mail.gmail.com>

That cool! And a little embarrassing. I could just have check the tables
myself.

Thanks guys - my questions are answered.

Kindly,

Baki Goxhaj
www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>


On Thu, Mar 8, 2012 at 9:48 PM, Brian Layman <wp-hackers at thecodecave.com>wrote:

>
> On 3/8/2012 2:26 PM, Baki Goxhaj wrote:
>
>> The good news is in almost all cases WP Multisite already splits sites
>>> across tables
>>>
>> That would be cool then, but is this really the case? Otto? :)
>>
> Sure! Every site gets their own set of tables by default.  Posts would
> stored in a table with the blog ID as part of the name.  So you'd have
> things like: wp_2_posts or maybe wp_23_posts
>
> In my opinion, the long and short of it is that you should only move to a
> more complex configuration when you have outgrown your current
> configuration.  Don't anticipate.  Otherwise you are adding complexity (and
> possibly expense) when there is no need.
>
> Only add HyperDB if you know you are being slowed down by the database and
> can't do anything more with caching.   Add extra read servers only when you
> see your current server configuration maxed out and basic upgrades to the
> machine is not going to be cost effective.  Only add sharding when adding
> more machines is no longer cost effective.  Jumping ahead of the game and
> say going straight to a hyperdb configuration sharded across regions,
> because you know your site is going to be popular, would add only
> complexity and distract you from the things you need to do to keep your
> site popular - and it could even slow your site down.
>
> Start with memcache and a php accelerator like APC and something like
> w3tc.  Then when needed a separate DB server and then when needed hyperdb
> with a r/w master and a read slave. And read up about php-fpm and nginx
> along the way.
>
> Brian Layman
>
>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From kevinjohngallagher at hotmail.com  Fri Mar  9 17:22:39 2012
From: kevinjohngallagher at hotmail.com (Kevinjohn Gallagher)
Date: Fri, 9 Mar 2012 17:22:39 +0000
Subject: [wp-hackers] Percona Server and WordPress
In-Reply-To: <4F5A2E2A.10606@thecodecave.com>
References: <4F5923EB.9060500@thecodecave.com>,
	<CAAHgzDOGAGr1jiUo3VxmrA-fnSe2beEBvouHSYW-rVp_Jvk1Tw@mail.gmail.com>,
	<4F5A2E2A.10606@thecodecave.com>
Message-ID: <BLU150-W12CEC3C929AD200578908CC540@phx.gbl>



[people don't like it when i actually write things, so here's links with answer to your questions]

http://monty-says.blogspot.com/2009/02/time-to-move-on.html
http://www.theregister.co.uk/2009/12/29/save_mysql_campaign/
http://kb.askmonty.org/en/mariadb-versus-mysql
I also found this interesting:
http://www.odbms.org/blog/2011/09/mariadb-the-new-mysql-interview-with-michael-monty-widenius/



> Date: Fri, 9 Mar 2012 11:22:02 -0500
> From: wp-hackers at thecodecave.com
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Percona Server and WordPress
> 
> Oh interesting....
> 
> I'd not heard of MariaDB before...
> "MariaDB is primarily driven by developers at Monty Program, a company 
> founded by Michael "Monty" Widenius, the original author of MySQL"
> 
> It's curious why these changes aren't added to the MySQL core if they 
> make such a significant difference...
> 
> Brian Layman
> 
> 
> On 3/9/2012 10:29 AM, Jeremy Clarke wrote:
> > We switched to http://mariadb.org/ rather than Percona Server, but the
> > underlying software is almost entirely the same, both are packages of all
> > the wonderful open-source patches that just don't make it into the core
> > MySQL. In either case, the really mind-blowing performance gains come from
> > XtraDB, which is the replacement for the core InnoDB engine of MySQL.
> >
> > Preparing and implementing the switch was time consuming and there was some
> > brief downtime while me and an expert figured out the config changes to
> > make (there are a couple of config variables that needed changing to make
> > it work right) but otherwise the transition was smooth. No WP related
> > issues as far as I can tell, it's pretty much totally compatible in terms
> > of actual SQL.
> >
> > The performance gains I got were tremendous. Load went from static around 6
> > to more like 2 and stopped spiking the way it did before. Our upgrade was
> > from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
> > upgrade could have also played a part, but the change was so drastic I
> > believe it was XtraDB making the difference (the same kind of improvements
> > are described for people just switching within a major MySQL branch).
> >
> > IMHO this is the future of MySQL. I hope the hosts of the world start
> > switching :)
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From sharmapankaj1992 at gmail.com  Fri Mar  9 19:19:31 2012
From: sharmapankaj1992 at gmail.com (Pankaj Kumar Sharma)
Date: Sat, 10 Mar 2012 00:49:31 +0530
Subject: [wp-hackers] Posting google news as blog posts
Message-ID: <CADEuSkfjN3Gp5pwRSDjsmkB4ra=-3oazyEXGVPTr7P4jixGuVw@mail.gmail.com>

Hi
using google news search and wp apis I have made a plugin that allows
admins to post google news in their blogs without even logging inside the
admin panel.
The plugin is in initial stage. I welcome you all to test this and provide
me feedbacks.
Here it is: http://engineerinme.com/gnews-wordpress.zip
Regards,

-- 
Pankaj Kumar Sharma | ???? ????? ?????
 Jamia Millia Islamia

From pankaj at engineerinme.com  Fri Mar  9 19:21:35 2012
From: pankaj at engineerinme.com (Pankaj Kumar Sharma)
Date: Sat, 10 Mar 2012 00:51:35 +0530
Subject: [wp-hackers] Posting google news as blog posts
In-Reply-To: <CADEuSkfjN3Gp5pwRSDjsmkB4ra=-3oazyEXGVPTr7P4jixGuVw@mail.gmail.com>
References: <CADEuSkfjN3Gp5pwRSDjsmkB4ra=-3oazyEXGVPTr7P4jixGuVw@mail.gmail.com>
Message-ID: <CADEuSkcp2MscwOFJTf+b7WU2XLkjNkddLrXO3Nsv153RpDqc-Q@mail.gmail.com>

Hi
using google news search and wp apis I have made a plugin that allows
admins to post google news in their blogs without even logging inside the
admin panel.
The plugin is in initial stage. I welcome you all to test this and provide
me feedbacks.
Here it is: http://engineerinme.com/gnews-wordpress.zip
Regards,

-- 
Pankaj Kumar Sharma | ???? ????? ?????
 Jamia Millia Islamia




-- 
Pankaj Kumar Sharma | ???? ????? ?????
   Co-Founder engineerinme.com
-------------------------------------------------
Facebook <http://www.facebook.com/engineerinme> |
Twitter<http://twitter.com/#%21/engineerinmine>|
Linkedin <http://in.linkedin.com/pub/pankaj-sharma/31/270/365> |
Google+<https://plus.google.com/111168421079080711164/about>

From ronin at braydon.com  Fri Mar  9 19:37:03 2012
From: ronin at braydon.com (Braydon)
Date: Fri, 09 Mar 2012 11:37:03 -0800
Subject: [wp-hackers] Percona Server and WordPress
In-Reply-To: <CAAHgzDOGAGr1jiUo3VxmrA-fnSe2beEBvouHSYW-rVp_Jvk1Tw@mail.gmail.com>
References: <4F5923EB.9060500@thecodecave.com>
	<CAAHgzDOGAGr1jiUo3VxmrA-fnSe2beEBvouHSYW-rVp_Jvk1Tw@mail.gmail.com>
Message-ID: <4F5A5BDF.3020604@braydon.com>

There is also Drizzle, a MySQL fork for high concurrency: 
http://www.drizzle.org/

On 03/09/2012 07:29 AM, Jeremy Clarke wrote:
> We switched to http://mariadb.org/ rather than Percona Server, but the
> underlying software is almost entirely the same, both are packages of all
> the wonderful open-source patches that just don't make it into the core
> MySQL. In either case, the really mind-blowing performance gains come from
> XtraDB, which is the replacement for the core InnoDB engine of MySQL.
>
> Preparing and implementing the switch was time consuming and there was some
> brief downtime while me and an expert figured out the config changes to
> make (there are a couple of config variables that needed changing to make
> it work right) but otherwise the transition was smooth. No WP related
> issues as far as I can tell, it's pretty much totally compatible in terms
> of actual SQL.
>
> The performance gains I got were tremendous. Load went from static around 6
> to more like 2 and stopped spiking the way it did before. Our upgrade was
> from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
> upgrade could have also played a part, but the change was so drastic I
> believe it was XtraDB making the difference (the same kind of improvements
> are described for people just switching within a major MySQL branch).
>
> IMHO this is the future of MySQL. I hope the hosts of the world start
> switching :)
>


-- 
Braydon Fuller
http://braydon.com/


From srajbr at gmail.com  Fri Mar  9 19:41:50 2012
From: srajbr at gmail.com (Samiran Raj Boro)
Date: Sat, 10 Mar 2012 01:11:50 +0530
Subject: [wp-hackers] GSOC 2012
Message-ID: <CAEJCmggQ9HywGGU+_AAxWROquonmB49UKnNG2h45wzd--m-ANQ@mail.gmail.com>

Hi,
I am Samiran Raj Boro pursing BTech (CSE) in Gauhati University. I am
interested to submit proposal to WP this year in GSOC. I looked for this
year ideal page for GSOC, but could not find it. I can find the last year
idea list. Is the list yet to be published?

Any suggestions for me please.

Samiran

From wp-hackers at thecodecave.com  Fri Mar  9 20:53:54 2012
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Fri, 09 Mar 2012 15:53:54 -0500
Subject: [wp-hackers] Percona Server and WordPress
In-Reply-To: <4F5A5BDF.3020604@braydon.com>
References: <4F5923EB.9060500@thecodecave.com>
	<CAAHgzDOGAGr1jiUo3VxmrA-fnSe2beEBvouHSYW-rVp_Jvk1Tw@mail.gmail.com>
	<4F5A5BDF.3020604@braydon.com>
Message-ID: <4F5A6DE2.9010405@thecodecave.com>

"Drizzle is optimized for massively concurrent environments. If we have 
the choice of improving performance for 1024 simultaneous connections to 
the detriment of performance with only 64 connections, we will take that 
choice."

Interesting. Definitely not a drop in replacement and yet "forked from 
the (now defunct) MySQL 6.0 tree in 2008".

It's been interesting reading about MariaDB. I found this link 
http://vbtechsupport.com/657/ ( and http://vbtechsupport.com/606/ ) with 
performance comparisons for MySQL, MariaDB and Percona.


Also in the comments it stated:
"MariaDB 5.2.x?s Innodb storage engine uses Percona XtraDB?s version of 
InnoDB so MariaDB InnoDB = Percona XtraDB. Hence, the nice boost in 
performance for innodb storage engine for MariaDB 5.2.x"

Brian Layman


From photofantaisie at gmail.com  Fri Mar  9 21:53:28 2012
From: photofantaisie at gmail.com (Ade Walker)
Date: Fri, 9 Mar 2012 22:53:28 +0100
Subject: [wp-hackers] Fwd: Using wp_localize_script() more than once for
	same script
In-Reply-To: <CALS5Swd3ZHyZ879EDPVG59W+G++PSV6bHaXW9xWFwN6aqyTj1w@mail.gmail.com>
References: <CALS5Swd3ZHyZ879EDPVG59W+G++PSV6bHaXW9xWFwN6aqyTj1w@mail.gmail.com>
Message-ID: <CALS5SwcaW7vRJ+3rH-k7Tz-fVR=sGg-ZewP0W3Xynr7+C99nxg@mail.gmail.com>

Hi all,

A second attempt to see if anyone has some suggestions to my question below.

Thanks!

Ade.

---------- Forwarded message ----------
From: Ade Walker <photofantaisie at gmail.com>
Date: 2012/1/31
Subject: Using wp_localize_script() more than once for same script
To: wp-hackers at lists.automattic.com


Hi,

The title of this post may be a little misleading, so I'll explain what I'm
trying to do and hopefully the question I'm trying to ask will be clearer...

I've created a widget that displays a jquery carousel. The carousel's
scripts are being enqueued mid-page via add_action('wp_footer', array(
$this, 'enqueue_scripts') ) within the widget's widget() method. The
enqueue_scripts() method does the actual enqueueing using
wp_enqueue_script() with $footer arg set to true. Additionally, since there
are various parameters for the script managed via the widget's control
panel, I also use wp_localize_script() to send these PHP parameters to
javascript [see note 1 below]. All of this works perfectly.

However, I want to allow the widget to be used more than once on the same
page. The jQuery script itself can handle this OK, but I cannot assume that
the parameters used by the js will be identical for all instances of the
widget.Therefore, I need a way of using wp_localize_script() more than once
for the same script $handle, so that each widget instance can use
wp_localize_script() with its own set of parameters. From what I can see,
this isn't possible because wp_localize_script will only output one set of
parameters per file $handle.

What I'd like to have is this (or variation thereof) if two widget
instances are present on the same page:
https://gist.github.com/1710421whereas what is actually output is only
the parameters for the last
instance of the widget, not both instances.

Do I have an alternative other than to go back to the "bad old days" of
echoing out script tags via the wp_footer hook?

Hope my question makes sense. Thanks in advance for any insight!

Ade.

From mda at blogwaffe.com  Fri Mar  9 22:05:39 2012
From: mda at blogwaffe.com (Michael D Adams)
Date: Fri, 9 Mar 2012 14:05:39 -0800
Subject: [wp-hackers] Fwd: Using wp_localize_script() more than once for
 same script
In-Reply-To: <CALS5SwcaW7vRJ+3rH-k7Tz-fVR=sGg-ZewP0W3Xynr7+C99nxg@mail.gmail.com>
References: <CALS5Swd3ZHyZ879EDPVG59W+G++PSV6bHaXW9xWFwN6aqyTj1w@mail.gmail.com>
	<CALS5SwcaW7vRJ+3rH-k7Tz-fVR=sGg-ZewP0W3Xynr7+C99nxg@mail.gmail.com>
Message-ID: <CAH-8B6s2kKyQ569A0gK1Q1+=Gq-c3aBM7RP1_hetBgwn0mT6FA@mail.gmail.com>

I'm not sure what kind of parameters you need to pass (your gist
404s), but you could add the per-widget parameters as data attributes
in the widgets' markup:

http://dev.w3.org/html5/spec/Overview.html#embedding-custom-non-visible-data-with-the-data-attributes
http://api.jquery.com/data/#data-html5

On Fri, Mar 9, 2012 at 1:53 PM, Ade Walker <photofantaisie at gmail.com> wrote:
> Hi all,
>
> A second attempt to see if anyone has some suggestions to my question below.
>
> Thanks!
>
> Ade.
>
> ---------- Forwarded message ----------
> From: Ade Walker <photofantaisie at gmail.com>
> Date: 2012/1/31
> Subject: Using wp_localize_script() more than once for same script
> To: wp-hackers at lists.automattic.com
>
>
> Hi,
>
> The title of this post may be a little misleading, so I'll explain what I'm
> trying to do and hopefully the question I'm trying to ask will be clearer...
>
> I've created a widget that displays a jquery carousel. The carousel's
> scripts are being enqueued mid-page via add_action('wp_footer', array(
> $this, 'enqueue_scripts') ) within the widget's widget() method. The
> enqueue_scripts() method does the actual enqueueing using
> wp_enqueue_script() with $footer arg set to true. Additionally, since there
> are various parameters for the script managed via the widget's control
> panel, I also use wp_localize_script() to send these PHP parameters to
> javascript [see note 1 below]. All of this works perfectly.
>
> However, I want to allow the widget to be used more than once on the same
> page. The jQuery script itself can handle this OK, but I cannot assume that
> the parameters used by the js will be identical for all instances of the
> widget.Therefore, I need a way of using wp_localize_script() more than once
> for the same script $handle, so that each widget instance can use
> wp_localize_script() with its own set of parameters. From what I can see,
> this isn't possible because wp_localize_script will only output one set of
> parameters per file $handle.
>
> What I'd like to have is this (or variation thereof) if two widget
> instances are present on the same page:
> https://gist.github.com/1710421whereas what is actually output is only
> the parameters for the last
> instance of the widget, not both instances.
>
> Do I have an alternative other than to go back to the "bad old days" of
> echoing out script tags via the wp_footer hook?
>
> Hope my question makes sense. Thanks in advance for any insight!
>
> Ade.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mjsafoxy at gmail.com  Fri Mar  9 22:38:00 2012
From: mjsafoxy at gmail.com (Muhammad Ali)
Date: Fri, 9 Mar 2012 22:38:00 +0000
Subject: [wp-hackers] Posting google news as blog posts
In-Reply-To: <CADEuSkcp2MscwOFJTf+b7WU2XLkjNkddLrXO3Nsv153RpDqc-Q@mail.gmail.com>
References: <CADEuSkfjN3Gp5pwRSDjsmkB4ra=-3oazyEXGVPTr7P4jixGuVw@mail.gmail.com>
	<CADEuSkcp2MscwOFJTf+b7WU2XLkjNkddLrXO3Nsv153RpDqc-Q@mail.gmail.com>
Message-ID: <CAMGJ0ywAz_AxpvOBjtfvc9hgkjBV32cA8BWR4f=Z_xdyjAZD9g@mail.gmail.com>

On 9 March 2012 19:21, Pankaj Kumar Sharma <pankaj at engineerinme.com> wrote:
> Hi
> using google news search and wp apis I have made a plugin that allows
> admins to post google news in their blogs without even logging inside the
> admin panel.
> The plugin is in initial stage. I welcome you all to test this and provide
> me feedbacks.
> Here it is: http://engineerinme.com/gnews-wordpress.zip
> Regards,
>
> --
> Pankaj Kumar Sharma | ???? ????? ?????
> ?Jamia Millia Islamia
>
>
>
>
> --
> Pankaj Kumar Sharma | ???? ????? ?????
> ? Co-Founder engineerinme.com
> -------------------------------------------------
> Facebook <http://www.facebook.com/engineerinme> |
> Twitter<http://twitter.com/#%21/engineerinmine>|
> Linkedin <http://in.linkedin.com/pub/pankaj-sharma/31/270/365> |
> Google+<https://plus.google.com/111168421079080711164/about>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

You could grab the RSS feed and pass it though:
http://wordpress.org/extend/plugins/rss-2-post/

From mike.schroder at dreamhost.com  Fri Mar  9 23:14:53 2012
From: mike.schroder at dreamhost.com (Mike Schroder)
Date: Fri, 9 Mar 2012 15:14:53 -0800
Subject: [wp-hackers] GSOC 2012
In-Reply-To: <CAEJCmggQ9HywGGU+_AAxWROquonmB49UKnNG2h45wzd--m-ANQ@mail.gmail.com>
References: <CAEJCmggQ9HywGGU+_AAxWROquonmB49UKnNG2h45wzd--m-ANQ@mail.gmail.com>
Message-ID: <CAGcqhYUDCEs99quANayLkdYp-_Shi2PXJjXE5nyGON3yaLcB+Q@mail.gmail.com>

The decision on exactly what's going to be the plan for GSOC for this
year is still ongoing.

If I were you, I'd pay attention to wpdevel for further details as they occur:
http://wpdevel.wordpress.com/

On Fri, Mar 9, 2012 at 11:41 AM, Samiran Raj Boro <srajbr at gmail.com> wrote:
> Hi,
> I am Samiran Raj Boro pursing BTech (CSE) in Gauhati University. I am
> interested to submit proposal to WP this year in GSOC. I looked for this
> year ideal page for GSOC, but could not find it. I can find the last year
> idea list. Is the list yet to be published?
>
> Any suggestions for me please.
>
> Samiran
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



-- 
Mike Schroder (DH-Shredder)
WordPress Specialist, Developer
mike.schroder at dreamhost.com

From halukkaramete at gmail.com  Sat Mar 10 17:27:01 2012
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Sat, 10 Mar 2012 09:27:01 -0800
Subject: [wp-hackers] coding standards and practicality of use
Message-ID: <CAHERW=0WHATSDvvxZy=h=Tj47heiTMEk1Pa7p9+VVLRqWd8TBA@mail.gmail.com>

I am trying to build a new framework that would give me RAD power
easing my day to day operations, the way I like it to be. I'm new to
PHP ( coming from ASP background ) but I'm loving it though it is
tremendously different.

I am thinking that this library I'm working on, day in day out, may
prove useful at the end - not just for me bit also for some other
developers like me. So, i'm trying to do a good job at it, to make it
as professional as I can for a future release for all to enjoy as a
light weight alternative. And that's where the coding standards and
developer feedback come into play.

I expect the original library be around 200 functions. I'm around 50
now ( and I don't mind rewriting or improving them starting all over
). When the 1st version reaches a workable ( and deployable ) level
for me, I think it would be around 200 functions. But in the future,
it may grove even more. The library I'm working on is something that
could be inserted into a wordpress page or any other CMS without any
issues. ( be it drupal / joomla or for that matter any php project
that do not use any other tools ). And if you are using a known
framework, the framework I'm hoping to build will play nicely side by
side.

Out of these 200 functions, some 60 of them would be on string
functionality, another 30 or 40 on validations and another 20 on
sql/database stuff and so on.

I already named all these functions starting with blp_

At this point, they all are defined as functions.
I did not wrap this functionality into a class yet and that's one of
the questions I'm interested in your point of views.

Here, is a stripped down version of an example string function from my
library/framework.

function blp_leftof ( $str, $leftof_what ) {
	// this function's job is to return the left portion of what was requested
	//for example  blp_leftof ( "0123456789", "5" ) would return 6789
}

of course this function could have been written as

blp_leftof ( "8", "0123456789" ) where the needle is before the haystack.

There must be pro's and con's to these 180 degree different approaches...

It looks like mentioning the needle first is a better idea..  my
argument in choosing this approach is most of the time, the needle is
more important in the mind then the haystack itself. That's the point
of interest and that's where the focus is, and therefore, it should be
done and over with as soon as possible. Also, when reading and
interpreting the code, both the mind and eyes will have an easier
processing time when read in that order, it's more English like too,
when you compare the sentence "give me the left of 5 in 0123456789. "
as opposed to talking like "in the 0123456789, give me the left of.5
". Mentioning the needle is just more natural. But again, you may be
introducing a new dimension that I may be missing... and that's one of
the 2 questions I'm trying to get an insight out of this email.

So, would you want such string functions to mention the needle or the
haystack first and if you think $haystack should be mentioned first,
could you tell me why would you prefer it that way?

And in a case where there are two needles ( as in the example right
below), would that standard of your choice still be developer
friendly?

example:

blp_getinbetween ( "5", "8", "0123456789" ) returns 67
as opposed to
blp_getinbetween ( "0123456789" , "5" , "8" ) returns 67

which one reads/thinks/looks better?


My second question is on using classes or not...  should all these
200+ functions come as functions or class methods...

Which route would you take and why?

is it better that at the end of the day, when using this framework,

shoud be endup with

blp_leftof

or
blp->leftof ?

So to wrap up, question #1 is

the needle or the haystack first?

and the question #2 is

200 blp_ functions ( out in the open ) or 200 methods wrapped into a
blp object?

Thank you for your time...

P.S,
I could have asked this question in the PHP mailing list but due to
you guys, this list is my fav.

From photofantaisie at gmail.com  Sat Mar 10 17:29:26 2012
From: photofantaisie at gmail.com (Ade Walker)
Date: Sat, 10 Mar 2012 18:29:26 +0100
Subject: [wp-hackers] Fwd: Using wp_localize_script() more than once for
 same script
In-Reply-To: <CAH-8B6s2kKyQ569A0gK1Q1+=Gq-c3aBM7RP1_hetBgwn0mT6FA@mail.gmail.com>
References: <CALS5Swd3ZHyZ879EDPVG59W+G++PSV6bHaXW9xWFwN6aqyTj1w@mail.gmail.com>
	<CALS5SwcaW7vRJ+3rH-k7Tz-fVR=sGg-ZewP0W3Xynr7+C99nxg@mail.gmail.com>
	<CAH-8B6s2kKyQ569A0gK1Q1+=Gq-c3aBM7RP1_hetBgwn0mT6FA@mail.gmail.com>
Message-ID: <CALS5SwerXQYU5qOERdMdryZi1NjB7PPe5baMtY2FELL-kLPujQ@mail.gmail.com>

Thanks, Michael.

Oops! Here's the correct URL to that Gist: https://gist.github.com/1710421

From halukkaramete at gmail.com  Sat Mar 10 17:32:46 2012
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Sat, 10 Mar 2012 09:32:46 -0800
Subject: [wp-hackers] corrected > coding standards and practicality of use.
Message-ID: <CAHERW=2Qafs7MjnJRz5_YeUdFaszMcKczMofWkCaCu8Tjs9aBQ@mail.gmail.com>

(left/right correction applied.)


I am trying to build a new framework that would give me RAD power
easing my day to day operations, the way I like it to be. I'm new to
PHP ( coming from ASP background ) but I'm loving it though it is
tremendously different.

I am thinking that this library I'm working on, day in day out, may
prove useful at the end - not just for me bit also for some other
developers like me. So, i'm trying to do a good job at it, to make it
as professional as I can for a future release for all to enjoy as a
light weight alternative. And that's where the coding standards and
developer feedback come into play.

I expect the original library be around 200 functions. I'm around 50
now ( and I don't mind rewriting or improving them starting all over
). When the 1st version reaches a workable ( and deployable ) level
for me, I think it would be around 200 functions. But in the future,
it may grove even more. The library I'm working on is something that
could be inserted into a wordpress page or any other CMS without any
issues. ( be it drupal / joomla or for that matter any php project
that do not use any other tools ). And if you are using a known
framework, the framework I'm hoping to build will play nicely side by
side.

Out of these 200 functions, some 60 of them would be on string
functionality, another 30 or 40 on validations and another 20 on
sql/database stuff and so on.

I already named all these functions starting with blp_

At this point, they all are defined as functions.
I did not wrap this functionality into a class yet and that's one of
the questions I'm interested in your point of views.

Here, is a stripped down version of an example string function from my
library/framework.

function blp_rightof ( $str, $rightof_what ) {
       // this function's job is to return the right portion of what
was requested
       //for example  blp_rightof ( "0123456789", "5" ) would return 6789
}

of course this function could have been written as

blp_rightof ( "8", "0123456789" ) where the needle is before the haystack.

There must be pro's and con's to these 180 degree different approaches...

It looks like mentioning the needle first is a better idea..  my
argument in choosing this approach is most of the time, the needle is
more important in the mind then the haystack itself. That's the point
of interest and that's where the focus is, and therefore, it should be
done and over with as soon as possible. Also, when reading and
interpreting the code, both the mind and eyes will have an easier
processing time when read in that order, it's more English like too,
when you compare the sentence "give me the right of 5 in 0123456789. "
as opposed to talking like "in the 0123456789, give me the right of.5
". Mentioning the needle is just more natural. But again, you may be
introducing a new dimension that I may be missing... and that's one of
the 2 questions I'm trying to get an insight out of this email.

So, would you want such string functions to mention the needle or the
haystack first and if you think $haystack should be mentioned first,
could you tell me why would you prefer it that way?

And in a case where there are two needles ( as in the example right
below), would that standard of your choice still be developer
friendly?

example:

blp_getinbetween ( "5", "8", "0123456789" ) returns 67
as opposed to
blp_getinbetween ( "0123456789" , "5" , "8" ) returns 67

which one reads/thinks/looks better?


My second question is on using classes or not...  should all these
200+ functions come as functions or class methods...

Which route would you take and why?

is it better that at the end of the day, when using this framework,

shoud be endup with

blp_rightof

or
blp->rightof ?

So to wrap up, question #1 is

the needle or the haystack first?

and the question #2 is

200 blp_ functions ( out in the open ) or 200 methods wrapped into a
blp object?

Thank you for your time...

P.S,
I could have asked this question in the PHP mailing list but due to
you guys, this list is my fav.

From scribu at gmail.com  Sat Mar 10 17:57:15 2012
From: scribu at gmail.com (scribu)
Date: Sat, 10 Mar 2012 19:57:15 +0200
Subject: [wp-hackers] corrected > coding standards and practicality of
	use.
In-Reply-To: <CAHERW=2Qafs7MjnJRz5_YeUdFaszMcKczMofWkCaCu8Tjs9aBQ@mail.gmail.com>
References: <CAHERW=2Qafs7MjnJRz5_YeUdFaszMcKczMofWkCaCu8Tjs9aBQ@mail.gmail.com>
Message-ID: <CABzSYNPivZBy+bgVNCutq2fiyR_gDLk8wPeaSi9TTnTfTWixQw@mail.gmail.com>

blp_rightof() seems like a re-implementation of substr():
http://php.net/substr

So, I'm inclined to think that instead of taking the time to learn what PHP
(and WordPress) already offers, you're inventing your own wheel, which will
make _you_ more productive, but will place a burden on other developers who
are already familiar with PHP.

Disclosure: I'm a little bit guilty of this myself, in my own framework:
http://wordpress.org/extend/plugins/scb-framework/

-- 
http://scribu.net

From michal at srodek.info  Sat Mar 10 18:45:50 2012
From: michal at srodek.info (=?ISO-8859-2?Q?Micha=B3_=A6rodek?=)
Date: Sat, 10 Mar 2012 19:45:50 +0100
Subject: [wp-hackers] coding standards and practicality of use
In-Reply-To: <CAHERW=0WHATSDvvxZy=h=Tj47heiTMEk1Pa7p9+VVLRqWd8TBA@mail.gmail.com>
References: <CAHERW=0WHATSDvvxZy=h=Tj47heiTMEk1Pa7p9+VVLRqWd8TBA@mail.gmail.com>
Message-ID: <CALK=EkHfJSAaF1KM3XHRFD1Fei8VbSsR9K0XFdhfHUHk8Yifdw@mail.gmail.com>

Hey there,

I think that none of your options are "correct". I prefer:

$blp->getInBetween()
$blp->leftOf()
etc.

Read about PSR-0 and similar to name your files, classes and functions
"correctly".

Btw. it's not a proper group to ask things like that because WP
developers use their own convention, which is very old(I guess it's
because of PHP4). Try to find "PHP Standards Working Group" on Google
Groups or download Zend Framework and take a look at it.

Warm Regards
Micha? ?rodek

From halukkaramete at gmail.com  Sat Mar 10 18:57:17 2012
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Sat, 10 Mar 2012 10:57:17 -0800
Subject: [wp-hackers] corrected > coding standards and practicality of
	use.
In-Reply-To: <CABzSYNPivZBy+bgVNCutq2fiyR_gDLk8wPeaSi9TTnTfTWixQw@mail.gmail.com>
References: <CAHERW=2Qafs7MjnJRz5_YeUdFaszMcKczMofWkCaCu8Tjs9aBQ@mail.gmail.com>
	<CABzSYNPivZBy+bgVNCutq2fiyR_gDLk8wPeaSi9TTnTfTWixQw@mail.gmail.com>
Message-ID: <CAHERW=076_Na2bNQ_n4XGEe6OV0WHYfyaEHd9Vvy_y83_Mc0JQ@mail.gmail.com>

I appreciate your feedback Scribu.

As you pointed out, we are all guily of doing some reinventing the
wheel. and it turns out that *most* of the time, those efforts (
whatever the subject matter is ) end up with nothing but re-inventing
the wheel. And this practically causes us to waste a lot of time
leading us to think we just made a fool out of ourselves. I do see
that and we should be aware of that when we embark on new
ideas/implementations.

But sometimes, ( I grant you it's rare),  some very interesting
results and horizons may be achieved if you were to stick to that
original idea - whatever it was.  When you are on the something, that
original idea may lead you to keep on building on it and you may end
up not reinventing the wheel but introducing something different and
something that has appeal. The problem is you can never know if you
were on to something worthwhile unless you bring your idea at least to
a workable level and test it out in the open. It all depends on how
much passion you have towards that thing and how much you believe in
it.  The framework I have in mind is not just a bunch of
string/validation/etc functions that wraps some existing functionality
into more specialized versions. That's just the functions library
part. What excites me in getting into this is NOT those 200 functions,
but what I plan on doing with them in the framework I have in mind. -
which I did not want to get into in the original email.

_Your_ input is very valuable to me and I'm super curious to know what
your take is on the following issues;

would you implement the whole thing based on class/object/methods or
would you go for the good old functions route?

and as to "the needle or the haystack first", which argument order
makes more sense to you?

Thank you










On Sat, Mar 10, 2012 at 9:57 AM, scribu <scribu at gmail.com> wrote:
> blp_rightof() seems like a re-implementation of substr():
> http://php.net/substr
>
> So, I'm inclined to think that instead of taking the time to learn what PHP
> (and WordPress) already offers, you're inventing your own wheel, which will
> make _you_ more productive, but will place a burden on other developers who
> are already familiar with PHP.
>
> Disclosure: I'm a little bit guilty of this myself, in my own framework:
> http://wordpress.org/extend/plugins/scb-framework/
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From scribu at gmail.com  Sat Mar 10 20:07:57 2012
From: scribu at gmail.com (scribu)
Date: Sat, 10 Mar 2012 22:07:57 +0200
Subject: [wp-hackers] corrected > coding standards and practicality of
	use.
In-Reply-To: <CAHERW=076_Na2bNQ_n4XGEe6OV0WHYfyaEHd9Vvy_y83_Mc0JQ@mail.gmail.com>
References: <CAHERW=2Qafs7MjnJRz5_YeUdFaszMcKczMofWkCaCu8Tjs9aBQ@mail.gmail.com>
	<CABzSYNPivZBy+bgVNCutq2fiyR_gDLk8wPeaSi9TTnTfTWixQw@mail.gmail.com>
	<CAHERW=076_Na2bNQ_n4XGEe6OV0WHYfyaEHd9Vvy_y83_Mc0JQ@mail.gmail.com>
Message-ID: <CABzSYNOkhiNTgfanrmLscWAeVFbLiOuvZaB==fBMao1YwgmKkw@mail.gmail.com>

On Sat, Mar 10, 2012 at 8:57 PM, Haluk Karamete <halukkaramete at gmail.com>wrote:

> would you implement the whole thing based on class/object/methods or
> would you go for the good old functions route?
>

Unhelpfully, the answer is: it depends.

Take the taxonomy API, for instance: most functions take two parameters: a
term id and a taxonomy, so you end up passing the taxonomy repeatedly:

echo get_term_link( get_term_by( 'slug', 'some-term', 'some-taxonomy' ),
'some-taxonomy' );

It would be easier to use if there was a WP_Term class that contained a
get_link() method instead.

On the other hand, there are a lot of cases where a plain function will
work just fine.

>
> and as to "the needle or the haystack first", which argument order
> makes more sense to you?
>

It's arbitrary. I think the most important thing is to be consistent within
your library.

-- 
http://scribu.net

From lists at rotorised.com  Sun Mar 11 04:45:40 2012
From: lists at rotorised.com (Ryan McCue)
Date: Sun, 11 Mar 2012 14:45:40 +1000
Subject: [wp-hackers] corrected > coding standards and practicality of
 use.
In-Reply-To: <CAHERW=2Qafs7MjnJRz5_YeUdFaszMcKczMofWkCaCu8Tjs9aBQ@mail.gmail.com>
References: <CAHERW=2Qafs7MjnJRz5_YeUdFaszMcKczMofWkCaCu8Tjs9aBQ@mail.gmail.com>
Message-ID: <4F5C2DF4.2090704@rotorised.com>

Haluk Karamete wrote:
> So, would you want such string functions to mention the needle or the
> haystack first and if you think $haystack should be mentioned first,
> could you tell me why would you prefer it that way?

PHP is consistent with this, so you should probably aim to be as well. 
Array functions are needle, haystack, and string functions are haystack, 
needle.

> is it better that at the end of the day, when using this framework,
>
> shoud be endup with
>
> blp_rightof
>
> or
> blp->rightof ?

The latter requires creating an object, which is a bad idea for 
something that isn't actually an object. You should be using static 
methods, which would make it blp::rightof()

You should definitely not use prefixed functions, as those are a poor 
excuse for namespacing, and pollute the global namespace.

> 200 methods wrapped into ablp object?

This is also a bad idea. You should split it into subclasses as 
necessary, otherwise it's just going to be a pain in the ass for people 
using it.

As scribu noted though, you seem to be reinventing the wheel a bit here. 
For example, your blp_rightof($str, $char) could be written simply as 
substr($str, strpos($char)) - Similarly, a blp_leftof($str, $char) would 
be written as substr($str, 0, strpos($char))

Avoid creating wrappers when you don't need to, as it's just going to 
confuse everyone involved.

> P.S,
> I could have asked this question in the PHP mailing list but due to
> you guys, this list is my fav.

Regardless, this is still off-topic. You're better off asking on a 
general PHP mailing list/forum.
-- 
Ryan McCue
<http://ryanmccue.info/>

From wp-hackers at thecodecave.com  Sun Mar 11 06:16:18 2012
From: wp-hackers at thecodecave.com (Brian Layman)
Date: Sun, 11 Mar 2012 01:16:18 -0500
Subject: [wp-hackers] coding standards and practicality of use
In-Reply-To: <CAHERW=0WHATSDvvxZy=h=Tj47heiTMEk1Pa7p9+VVLRqWd8TBA@mail.gmail.com>
References: <CAHERW=0WHATSDvvxZy=h=Tj47heiTMEk1Pa7p9+VVLRqWd8TBA@mail.gmail.com>
Message-ID: <4F5C4332.7090909@thecodecave.com>

1. It's opposite of how I think and prefer things, but as you are 
working in PHP, I would stick with the standard set strpos of haystack 
then needle(s).  It always messes me up because the Delphi pos command 
has needle first.

2. I would think a class or actually several classes would be best for 
the defining the naming convention.

Brian Layman



From ian at powerfoundation.org  Sun Mar 11 09:24:01 2012
From: ian at powerfoundation.org (Ian Douglas)
Date: Sun, 11 Mar 2012 11:24:01 +0200
Subject: [wp-hackers] Idea- Rethinking Wordpress theme editor
In-Reply-To: <pbns34r2dnbypu1baevhvjw6.1330960797217@email.android.com>
References: <pbns34r2dnbypu1baevhvjw6.1330960797217@email.android.com>
Message-ID: <31C0F7BB-D473-4840-A975-2AE9A4E6E220@powerfoundation.org>

I wish Apple would weigh in on this.
When you see what Firebug can reveal, it's wierd that all theme development isn't live.
We should be developing themes like painting, or image manipulation in photoshop.


On 5 Mar 2012, at 17:19, Alexander Baron wrote:

> 
> Alexander Baron
> 
> drecodeam <drecodeam at gmail.com> escribi?:
> 
>> This is regarding the idea discussed earlier about the wordpress theme editor. I have made some changes and added new functionality to my previous version. The editor is now able to save the changes made back to the server. Also i have resolved a lot of issues with the CSS rules. You can read the updates in detail in this blog post: http://ankuranand.in/blog/2012/03/update-2-added-save-functionality/.
>> Link to my demo: http://ankuranand.in/gsoc/wordpress/
>> Notes of the project: http://ankuranand.in/blog/gsoc-project/
>> 
>> I would love to hear feedback from the community over the idea and what else can be done with it. 
>> 
>> Thanks. 
>> 
>> 
>> 
>> -- 
>> drecodeam
>> 
>> 
>> On Friday 24 February 2012 at 11:30 PM, drecodeam wrote:
>> 
>>> I am Ankur Anand, a student from India.. While working on the theme for my blog, i thought of an idea to provide a 'Design in the Browser' approach to designing or customizing a Wordpress theme. 
>>> 
>>> The idea is to use a Firebug (http://getfirebug.com/)/Firefox Inspect (http://blog.mozilla.com/blog/2012/01/31/firefox-adds-powerful-new-developer-tools/) interface to make changes to the CSS of the elements loaded, and then upload the changes back to the server. The main idea is to provide a tool which lets us edit the CSS Live in the browser and then save the changes. 
>>> Here is the overview of the idea : http://ankuranand.in/blog/2012/02/rethinking-wordpress-theme-editor/.
>>> Also, i have added mockups and detailed explanation of the idea and the features. http://ankuranand.in/blog/2012/02/rethinking-wordpress-theme-editor-part-2/. 
>>> 
>>> I have already started working on the project, and needed suggestions from the community members over the design, features and implementation of the idea.I wanted to do this as a Google Summer of Code project. 
>>> 
>>> 
>>> -- 
>>> drecodeam
>>> http://ankuranand.in
>>> 
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From lists.automattic.com--wp-hackers at hydrostarr.com  Sun Mar 11 16:19:54 2012
From: lists.automattic.com--wp-hackers at hydrostarr.com (Hydrostarr)
Date: Sun, 11 Mar 2012 11:19:54 -0500
Subject: [wp-hackers] Why hard-code the base URL (and directory)?
In-Reply-To: <mailman.0.1329796715.20495.wp-hackers@lists.automattic.com>
References: <mailman.0.1329796715.20495.wp-hackers@lists.automattic.com>
Message-ID: <4F5CD0AA.1010704@hydrostarr.com>

Why does WordPress hard-code the base URL and directory?  (Both are 
hard-coded in back-end database.)  Why not leave this up to Apache 
mappings in my Linux installs, making all references to paths (either in 
URL/web space or filesystem space) relative?  This seems to be how may 
other web apps in my server installs do it.

Makes it difficult to port/test/demo installs/sites modularly.  eg, when 
demo-ing multiple, independent revs of same site to client, like in:

Details: http://goo.gl/ldbkI

Thoughts?

From lists.automattic.com--wp-hackers at hydrostarr.com  Sun Mar 11 16:54:30 2012
From: lists.automattic.com--wp-hackers at hydrostarr.com (Hydrostarr)
Date: Sun, 11 Mar 2012 11:54:30 -0500
Subject: [wp-hackers] Multiple versions of same install independently
	running on same server
Message-ID: <4F5CD8C6.5090301@hydrostarr.com>

Need multiple versions of same install independently running on same 
server.  No sharing of install/files/databases.  Just want to git clone 
the same install (many different template/style.css customizations 
between independent site installs) into different install directories 
and map them independently (with with diff Apache virtual hosts or 
subdirs on the same host) to different URLs.

Nothing's worked thus far.  Every time attempted there's some 
interdependency between install dirs, databases, Apache config.  WP just 
doesn't "work relative to a root" like most all other web-server apps 
that's we've employed previously.

Every "multisite" blog/article we've read is for multiple "shared" 
sites--sharing the same WP base install and/or database or something.  
We don't want that.  We want our separate sites to know -nothing- about 
each other, nothing "shared."  And we'd prefer if we could reference the 
same site via different URLs for testing/modularity for 
Apache-web-caching engines, etc (say http://site1.my.com and 
http://my.com/site1 point to same WP install, and WP doesn't "break" 
when accessed from either one--currently impossible with the hard-coded, 
base-URL).  Alas, can live without this added luxury if we can solve the 
larger problem (of multiple, independent installs on single Linux server).

fwiw.  We change the base URL and such ( http://goo.gl/3TJq6 ) for each 
install.  We also change the hard-coded path in the mysql database from 
say '/var/www/...' to '/var/site2/...' and still no luck.

What might we be missing?  Maybe we need to use some WP plugin to 
realize this "magic" of independent installs?  Hard to imagine that.  
Suspect we're doing something "silly/dumb" and just trying to find out 
what it is.  Maybe we shouldn't rely on the stock Ubuntu WP install?  
(We -think- we've tried that with no success... but may try again.)

More details:
http://goo.gl/ldbkI
Ubuntu 11.04.
Stock WP install with 'apt-get install wordpress' (maybe the latter is 
a/the problem)?

From drecodeam at gmail.com  Sun Mar 11 16:57:20 2012
From: drecodeam at gmail.com (drecodeam)
Date: Sun, 11 Mar 2012 22:27:20 +0530
Subject: [wp-hackers] Idea- Rethinking Wordpress theme editor
In-Reply-To: <31C0F7BB-D473-4840-A975-2AE9A4E6E220@powerfoundation.org>
References: <pbns34r2dnbypu1baevhvjw6.1330960797217@email.android.com>
	<31C0F7BB-D473-4840-A975-2AE9A4E6E220@powerfoundation.org>
Message-ID: <7758B3DCFD60452884661E24DC5BF329@gmail.com>



--  
drecodeam
Sent with Sparrow (http://www.sparrowmailapp.com/?sig)


On Sunday 11 March 2012 at 2:54 PM, Ian Douglas wrote:

> I wish Apple would weigh in on this.
> When you see what Firebug can reveal, it's wierd that all theme development isn't live.
> We should be developing themes like painting, or image manipulation in photoshop.
>  
@Ian really, Firebug has really showed us how we can do development in the browser itself, and tackling the whole idea of designing in a better perspective.   

  
>  
> On 5 Mar 2012, at 17:19, Alexander Baron wrote:
>  
> >  
> > Alexander Baron
> >  
> > drecodeam <drecodeam at gmail.com (mailto:drecodeam at gmail.com)> escribi?:
> >  
> > > This is regarding the idea discussed earlier about the wordpress theme editor. I have made some changes and added new functionality to my previous version. The editor is now able to save the changes made back to the server. Also i have resolved a lot of issues with the CSS rules. You can read the updates in detail in this blog post: http://ankuranand.in/blog/2012/03/update-2-added-save-functionality/.
> > > Link to my demo: http://ankuranand.in/gsoc/wordpress/
> > > Notes of the project: http://ankuranand.in/blog/gsoc-project/
> > >  
> > > I would love to hear feedback from the community over the idea and what else can be done with it.  
> > >  
> > > Thanks.  
> > >  
> > >  
> > >  
> > > --  
> > > drecodeam
> > >  
> > >  
> > > On Friday 24 February 2012 at 11:30 PM, drecodeam wrote:
> > >  
> > > > I am Ankur Anand, a student from India.. While working on the theme for my blog, i thought of an idea to provide a 'Design in the Browser' approach to designing or customizing a Wordpress theme.  
> > > >  
> > > > The idea is to use a Firebug (http://getfirebug.com/)/Firefox Inspect (http://blog.mozilla.com/blog/2012/01/31/firefox-adds-powerful-new-developer-tools/) interface to make changes to the CSS of the elements loaded, and then upload the changes back to the server. The main idea is to provide a tool which lets us edit the CSS Live in the browser and then save the changes.  
> > > > Here is the overview of the idea : http://ankuranand.in/blog/2012/02/rethinking-wordpress-theme-editor/.
> > > > Also, i have added mockups and detailed explanation of the idea and the features. http://ankuranand.in/blog/2012/02/rethinking-wordpress-theme-editor-part-2/.  
> > > >  
> > > > I have already started working on the project, and needed suggestions from the community members over the design, features and implementation of the idea.I wanted to do this as a Google Summer of Code project.  
> > > >  
> > > >  
> > > > --  
> > > > drecodeam
> > > > http://ankuranand.in
> > > >  
> > >  
> > >  
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >  
> >  
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >  
>  
>  
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com (mailto:wp-hackers at lists.automattic.com)
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>  
>  



From wordpress at zed1.com  Sun Mar 11 19:06:20 2012
From: wordpress at zed1.com (Mike Little)
Date: Sun, 11 Mar 2012 19:06:20 +0000
Subject: [wp-hackers] Multiple versions of same install independently
 running on same server
In-Reply-To: <4F5CD8C6.5090301@hydrostarr.com>
References: <4F5CD8C6.5090301@hydrostarr.com>
Message-ID: <CAMb54M2ic1e03hAz2ZdYtGsUR6fTG+zvKUWrtuO42G2hKWgAxQ@mail.gmail.com>

On Sun, Mar 11, 2012 at 16:54, Hydrostarr <
lists.automattic.com--wp-hackers at hydrostarr.com> wrote:

>
> Nothing's worked thus far.  Every time attempted there's some
> interdependency between install dirs, databases, Apache config.  WP just
> doesn't "work relative to a root" like most all other web-server apps
> that's we've employed previously.
>
>
Please search for many long and often heated discussions about this subject
in the mailing list archives
http://lists.automattic.com/pipermail/wp-hackers/

Executive summary - agree or disagree, it isn't going to change anytime
soon.


> Ubuntu 11.04.
> Stock WP install with 'apt-get install wordpress' (maybe the latter is
> a/the problem)?
>

Don't do that! It looks like it will install WordPress 2.9.2 which is very,
very, old. Just download WordPress as normal (http://wordpress.org/download/)
and install it in as many vhost document roots as you like.

I have more than 200 WordPress install across my three servers (including
local dev server) all using Apache vhosts, most have separate installs and
databases, a few are multisite with from 3 to 50 subsites.



Mike
-- 
Mike Little
http://zed1.com/

From lists.automattic.com--wp-hackers at hydrostarr.com  Sun Mar 11 20:57:12 2012
From: lists.automattic.com--wp-hackers at hydrostarr.com (Hydrostarr)
Date: Sun, 11 Mar 2012 15:57:12 -0500
Subject: [wp-hackers] Multiple versions of same install independently
 running on same server
In-Reply-To: <4F5CD8C6.5090301@hydrostarr.com>
References: <4F5CD8C6.5090301@hydrostarr.com>
Message-ID: <4F5D11A8.8020907@hydrostarr.com>

Thanks Mike.  Good to know WP -can- support multiple, independent 
installs on same server.  Now just need to figure out how to do it.

Re: the "relative to root" debate:  interesting.  Good to know, and thx 
for the executive summary, saves significant research time.

Re: stock Ubuntu install:  fwiw, we don't use the actual /var/www code 
from 'apt-get install wordpress'.  We simply "re-clone" (via 'git clone' 
with some database changes as perviously mentioned) our working code set 
from various dev servers/platforms (including Windows) and are running 
WP 3.3.x.  We employ 'apt-get install wordpress' primarily to 
auto-install all the dependencies that WP uses (Apache, mysql, php, etc) 
easily.  Appropriate?


Mike Little writes:
 >On Sun, Mar 11, 2012 at 16:54, Hydrostarr <
 >lists.automattic.com--wp-hackers at hydrostarr.com> wrote:
 >
 >>WP just  doesn't "work relative to a root" like most all other 
web-server apps
 >> that's we've employed previously.
 >>
 >Please search for many long and often heated discussions about this 
subject
 >in the mailing list archives
 >http://lists.automattic.com/pipermail/wp-hackers/
 >Executive summary - agree or disagree, it isn't going to change anytime
 >soon.
 >
 >
 >> Ubuntu 11.04.
 >> Stock WP install with 'apt-get install wordpress' (maybe the latter is
 >> a/the problem)?
 >>
 >
 >Don't do that! It looks like it will install WordPress 2.9.2 which is 
very,
 >very, old. Just download WordPress as normal 
(http://wordpress.org/download/)
 >and install it in as many vhost document roots as you like.
 >
 >I have more than 200 WordPress install across my three servers (including
 >local dev server) all using Apache vhosts, most have separate installs and
 >databases, a few are multisite with from 3 to 50 subsites.


From lists.automattic.com--wp-hackers at hydrostarr.com  Mon Mar 12 09:11:06 2012
From: lists.automattic.com--wp-hackers at hydrostarr.com (Hydrostarr)
Date: Mon, 12 Mar 2012 04:11:06 -0500
Subject: [wp-hackers] Multiple versions of same install independently
 running on same server
In-Reply-To: <4F5D11A8.8020907@hydrostarr.com>
References: <4F5CD8C6.5090301@hydrostarr.com> <4F5D11A8.8020907@hydrostarr.com>
Message-ID: <4F5DBDAA.1060306@hydrostarr.com>

Update: am wondering if the following /etc/wordpress/wp-config.php file 
(which we just discovered) might be contributing to these probs. To 
note: looks like the Ubuntu wordpress debian pkg put its stuff in 
/usr/share/wordpress/*, while our single (working) WP server is mostly 
living in /var (like /var/www) areas... fwiw.

<code=start>

<?php
/***
* WordPress's Debianised default master config file
* Please do NOT edit and learn how the configuration works in
* /usr/share/doc/wordpress/README.Debian
***/

/* Look up a host-specific config file in
* /etc/wordpress/config-<host>.php or /etc/wordpress/config-<domain>.php
*/
$debian_server = preg_replace('/:.*/', "", $_SERVER['HTTP_HOST']);
$debian_server = preg_replace("/[^a-zA-Z0-9.\-]/", "", $debian_server);
$debian_file = '/etc/wordpress/config-'.strtolower($debian_server).'.php';
/* Main site in case of multisite with subdomains */
$debian_main_server = preg_replace("/^[^.]*\./", "", $debian_server);
$debian_main_file = 
'/etc/wordpress/config-'.strtolower($debian_main_server).'.php';

if (file_exists($debian_file)) {
require_once($debian_file);
define('DEBIAN_FILE', $debian_file);
} elseif (file_exists($debian_main_file)) {
require_once($debian_main_file);
define('DEBIAN_FILE', $debian_main_file);
} elseif (file_exists("/etc/wordpress/config-default.php")) {
require_once("/etc/wordpress/config-default.php");
define('DEBIAN_FILE', "/etc/wordpress/config-default.php");
} else {
header("HTTP/1.0 404 Not Found");
echo "Neither <b>$debian_file</b> nor <b>$debian_main_file</b> could be 
found. <br/> Ensure one of them exists, is readable by the webserver and 
contains the right password/username.";
exit(1);
}

/* Default value for some constants if they have not yet been set
by the host-specific config files */
define('ABSPATH', '/usr/share/wordpress/');
define('WP_CORE_UPDATE', false);
define('WP_ALLOW_MULTISITE', true);
define('DB_NAME', 'wordpress');
define('DB_USER', 'wordpress');
define('DB_HOST', 'localhost');

/* Default value for the table_prefix variable so that it doesn't need to
be put in every host-specific config file */
if (!isset($table_prefix)) {
$table_prefix = 'wp_';
}

require_once(ABSPATH . 'wp-settings.php');
?>

</code>


On 3/11/12 3:57 PM, Hydrostarr wrote:
> Thanks Mike. Good to know WP -can- support multiple, independent 
> installs on same server. Now just need to figure out how to do it.
>
> Re: the "relative to root" debate: interesting. Good to know, and thx 
> for the executive summary, saves significant research time.
>
> Re: stock Ubuntu install: fwiw, we don't use the actual /var/www code 
> from 'apt-get install wordpress'. We simply "re-clone" (via 'git 
> clone' with some database changes as perviously mentioned) our working 
> code set from various dev servers/platforms (including Windows) and 
> are running WP 3.3.x. We employ 'apt-get install wordpress' primarily 
> to auto-install all the dependencies that WP uses (Apache, mysql, php, 
> etc) easily. Appropriate?
>
>
> Mike Little writes:
> >On Sun, Mar 11, 2012 at 16:54, Hydrostarr <
> >lists.automattic.com--wp-hackers at hydrostarr.com> wrote:
> >
> >>WP just doesn't "work relative to a root" like most all other 
> web-server apps
> >> that's we've employed previously.
> >>
> >Please search for many long and often heated discussions about this 
> subject
> >in the mailing list archives
> >http://lists.automattic.com/pipermail/wp-hackers/
> >Executive summary - agree or disagree, it isn't going to change anytime
> >soon.
> >
> >
> >> Ubuntu 11.04.
> >> Stock WP install with 'apt-get install wordpress' (maybe the latter is
> >> a/the problem)?
> >>
> >
> >Don't do that! It looks like it will install WordPress 2.9.2 which is 
> very,
> >very, old. Just download WordPress as normal 
> (http://wordpress.org/download/)
> >and install it in as many vhost document roots as you like.
> >
> >I have more than 200 WordPress install across my three servers 
> (including
> >local dev server) all using Apache vhosts, most have separate 
> installs and
> >databases, a few are multisite with from 3 to 50 subsites.
>

From nanogwp at gmail.com  Mon Mar 12 09:35:21 2012
From: nanogwp at gmail.com (Robert Lusby)
Date: Mon, 12 Mar 2012 09:35:21 +0000
Subject: [wp-hackers] Why hard-code the base URL (and directory)?
In-Reply-To: <CD47955B7E065D48AB5CF226C2ED75C0466616@tbs-sbs01.TBS.local>
References: <CD47955B7E065D48AB5CF226C2ED75C0466616@tbs-sbs01.TBS.local>
Message-ID: <4F5DC359.1060901@gmail.com>

My advice - don't go there. You're about to open a can worms with which 
the core developers disagree with a large majority of the community.

Hey - it's there product, not ours I guess.

Rob.

>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Hydrostarr
> Sent: 11 March 2012 16:20
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Why hard-code the base URL (and directory)?
>
> Why does WordPress hard-code the base URL and directory?  (Both are
> hard-coded in back-end database.)  Why not leave this up to Apache
> mappings in my Linux installs, making all references to paths (either in
> URL/web space or filesystem space) relative?  This seems to be how may
> other web apps in my server installs do it.
>
> Makes it difficult to port/test/demo installs/sites modularly.  eg, when
> demo-ing multiple, independent revs of same site to client, like in:
>
> Details: http://goo.gl/ldbkI
>
> Thoughts?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From nanogwp at gmail.com  Mon Mar 12 09:36:56 2012
From: nanogwp at gmail.com (Robert Lusby)
Date: Mon, 12 Mar 2012 09:36:56 +0000
Subject: [wp-hackers] Why hard-code the base URL (and directory)?
In-Reply-To: <4F5DC359.1060901@gmail.com>
References: <CD47955B7E065D48AB5CF226C2ED75C0466616@tbs-sbs01.TBS.local>
	<4F5DC359.1060901@gmail.com>
Message-ID: <4F5DC3B8.10503@gmail.com>

On 12/03/2012 09:35, Robert Lusby wrote:
>
> Hey - it's there product, not ours I guess.
>

*their - apologies.


From immanence7 at gmail.com  Mon Mar 12 09:38:55 2012
From: immanence7 at gmail.com (John Black)
Date: Mon, 12 Mar 2012 11:38:55 +0200
Subject: [wp-hackers] newbie question on custom page templates
Message-ID: <AEE82C33-4301-43E9-9343-19F8E487FADB@gmail.com>

Hi,

So I have a news site, but I want it to look less like a blog than it does. I thought about trying to create a custom page template for each category, so it looks like the site has real sections. Only returns from a given category would show up, but there would be many ways of handing them (a slider, a carousel, posts with thumbnails, posts without, etc).

Two questions: I wonder how I'm going to be able to get category returns to show up but not be duplicated across different display elements (slider, carousel, etc).

Second, there's no way am I going to be able to learn the code below Wordpress, so are there premium templates out there for such a  purpose. I know my given theme will matter, but Wordpress is standard in a way, so I don't know why people don't develop custom templates for sale.

I'm probably barking up the wrong flagpole, so any thoughts / guidance much appreciated.

JB

From dragonfly at dragonflyeye.net  Mon Mar 12 09:49:25 2012
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Mon, 12 Mar 2012 05:49:25 -0400
Subject: [wp-hackers] Why hard-code the base URL (and directory)?
In-Reply-To: <4F5DC359.1060901@gmail.com>
References: <CD47955B7E065D48AB5CF226C2ED75C0466616@tbs-sbs01.TBS.local>
	<4F5DC359.1060901@gmail.com>
Message-ID: <CAEamYWTjfyMWBmLXcxxKs_jugrwSZoiRtY0yehagp+-_Gv24dQ@mail.gmail.com>

They aren't URLs: they're GUIDs. The URL form just happens to be a
convenient means of creating one.

From ronin at braydon.com  Mon Mar 12 10:00:32 2012
From: ronin at braydon.com (Braydon)
Date: Mon, 12 Mar 2012 03:00:32 -0700
Subject: [wp-hackers] Why hard-code the base URL (and directory)?
Message-ID: <4F5DC940.9030707@braydon.com>

Hydrostarr,

To migrate a site from one domain to another, the best way is to search 
and replace the domain and take care of it all at once, a script could 
easily automate this process:

mysqldump -u youruser -p yourdatabase > database-2012-3-12.sql

sed -i 's/olddomain\.com/newdomain\.com/g' database-2012-3-12.sql

mysql -u youruser -p yourdatabase < database-2012-3-12.sql

-Braydon

From damian.gostomski at googlemail.com  Mon Mar 12 10:05:03 2012
From: damian.gostomski at googlemail.com (Damian Jakusz-Gostomski)
Date: Mon, 12 Mar 2012 10:05:03 +0000
Subject: [wp-hackers] Why hard-code the base URL (and directory)?
In-Reply-To: <4F5DC940.9030707@braydon.com>
References: <4F5DC940.9030707@braydon.com>
Message-ID: <CAFWg_N2AMdR6Mmy58wTeXLg=APNnXt8MdAJnVEqsivwNjpLd-Q@mail.gmail.com>

In my experience, a simple search and replace will often break parts of the
site, when the URL is within serialized data, and the length of the URL
changes...

To get around this, I recommend the search and replace tool from
InterconnectIT
http://interconnectit.com/124/search-and-replace-for-wordpress-databases



On 12 March 2012 10:00, Braydon <ronin at braydon.com> wrote:

> Hydrostarr,
>
> To migrate a site from one domain to another, the best way is to search
> and replace the domain and take care of it all at once, a script could
> easily automate this process:
>
> mysqldump -u youruser -p yourdatabase > database-2012-3-12.sql
>
> sed -i 's/olddomain\.com/newdomain\.**com/g' database-2012-3-12.sql
>
> mysql -u youruser -p yourdatabase < database-2012-3-12.sql
>
> -Braydon
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From wordpress at zed1.com  Mon Mar 12 10:38:36 2012
From: wordpress at zed1.com (Mike Little)
Date: Mon, 12 Mar 2012 10:38:36 +0000
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <AEE82C33-4301-43E9-9343-19F8E487FADB@gmail.com>
References: <AEE82C33-4301-43E9-9343-19F8E487FADB@gmail.com>
Message-ID: <CAMb54M3tioUdVYQKe53vgyCvpFtYMpyajQEnzsuEed5xxBhtQg@mail.gmail.com>

On Mon, Mar 12, 2012 at 09:38, John Black <immanence7 at gmail.com> wrote:

> Hi,
>
> So I have a news site, but I want it to look less like a blog than it
> does. I thought about trying to create a custom page template for each
> category, so it looks like the site has real sections. Only returns from a
> given category would show up, but there would be many ways of handing them
> (a slider, a carousel, posts with thumbnails, posts without, etc).
>
>
John,
to get different pages or sections for different categories you can use
WordPress' built in functionality. I recently recorded a video for someone
to explain how. http://mikelittle.org/2012/03/adding-category-page/

There are a number of carousel plugins out there, but you are most likely
going to need a sophisticated theme (not necessarily a commercial one) to
do what you want.

This type of query is best asked on the WordPress support forums
http://wordpress.org/support
Perhaps ask agin there.


Mike
-- 
Mike Little
http://zed1.com/

From ian at powerfoundation.org  Mon Mar 12 11:26:30 2012
From: ian at powerfoundation.org (Ian Douglas)
Date: Mon, 12 Mar 2012 13:26:30 +0200
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <CAMb54M3tioUdVYQKe53vgyCvpFtYMpyajQEnzsuEed5xxBhtQg@mail.gmail.com>
References: <AEE82C33-4301-43E9-9343-19F8E487FADB@gmail.com>
	<CAMb54M3tioUdVYQKe53vgyCvpFtYMpyajQEnzsuEed5xxBhtQg@mail.gmail.com>
Message-ID: <539BEEDD-9A3E-4810-A169-1AE9E2B398D9@powerfoundation.org>

Thanks Mike.

The theme I'm using also serves category pages, but they're lame. Just lists of posts. Doesn't look professional or interesting at all. The tech people who made that theme suggested developing custom page templates.

Again, it surprises me that people don't see ready-made templates for custom pages.

On your other suggestion, am I alone in thinking that the support forums at wordpress.org are more or less dead? When I've posted there in the recent past I got virtually no replies.


Thanks again,
JB


On 12 Mar 2012, at 12:38, Mike Little wrote:

> On Mon, Mar 12, 2012 at 09:38, John Black <immanence7 at gmail.com> wrote:
> 
>> Hi,
>> 
>> So I have a news site, but I want it to look less like a blog than it
>> does. I thought about trying to create a custom page template for each
>> category, so it looks like the site has real sections. Only returns from a
>> given category would show up, but there would be many ways of handing them
>> (a slider, a carousel, posts with thumbnails, posts without, etc).
>> 
>> 
> John,
> to get different pages or sections for different categories you can use
> WordPress' built in functionality. I recently recorded a video for someone
> to explain how. http://mikelittle.org/2012/03/adding-category-page/
> 
> There are a number of carousel plugins out there, but you are most likely
> going to need a sophisticated theme (not necessarily a commercial one) to
> do what you want.
> 
> This type of query is best asked on the WordPress support forums
> http://wordpress.org/support
> Perhaps ask agin there.
> 
> 
> Mike
> -- 
> Mike Little
> http://zed1.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From chip at chipbennett.net  Mon Mar 12 12:24:50 2012
From: chip at chipbennett.net (Chip Bennett)
Date: Mon, 12 Mar 2012 07:24:50 -0500
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <539BEEDD-9A3E-4810-A169-1AE9E2B398D9@powerfoundation.org>
References: <AEE82C33-4301-43E9-9343-19F8E487FADB@gmail.com>
	<CAMb54M3tioUdVYQKe53vgyCvpFtYMpyajQEnzsuEed5xxBhtQg@mail.gmail.com>
	<539BEEDD-9A3E-4810-A169-1AE9E2B398D9@powerfoundation.org>
Message-ID: <CAPdLKqe68pX59ryjz4vuiovqcWd5x8+oi7c7HN-J9wC3MDfYAQ@mail.gmail.com>

The many WPORG support forum volunteers who spend countless hours answering
support questions are probably snickering right now.

As a general principle, the quality of responses to WPORG support forum
topics is usually directly correlated to the quality of the question being
asked.

On Mon, Mar 12, 2012 at 6:26 AM, Ian Douglas <ian at powerfoundation.org>wrote:
>
>
> On your other suggestion, am I alone in thinking that the support forums
> at wordpress.org are more or less dead? When I've posted there in the
> recent past I got virtually no replies.
>
>
> Thanks again,
> JB
>
>
> On 12 Mar 2012, at 12:38, Mike Little wrote:
>
> > On Mon, Mar 12, 2012 at 09:38, John Black <immanence7 at gmail.com> wrote:
> >
> >> Hi,
> >>
> >> So I have a news site, but I want it to look less like a blog than it
> >> does. I thought about trying to create a custom page template for each
> >> category, so it looks like the site has real sections. Only returns
> from a
> >> given category would show up, but there would be many ways of handing
> them
> >> (a slider, a carousel, posts with thumbnails, posts without, etc).
> >>
> >>
> > John,
> > to get different pages or sections for different categories you can use
> > WordPress' built in functionality. I recently recorded a video for
> someone
> > to explain how. http://mikelittle.org/2012/03/adding-category-page/
> >
> > There are a number of carousel plugins out there, but you are most likely
> > going to need a sophisticated theme (not necessarily a commercial one) to
> > do what you want.
> >
> > This type of query is best asked on the WordPress support forums
> > http://wordpress.org/support
> > Perhaps ask agin there.
> >
> >
> > Mike
> > --
> > Mike Little
> > http://zed1.com/
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From immanence7 at gmail.com  Mon Mar 12 13:15:43 2012
From: immanence7 at gmail.com (John Black)
Date: Mon, 12 Mar 2012 15:15:43 +0200
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <CAPdLKqe68pX59ryjz4vuiovqcWd5x8+oi7c7HN-J9wC3MDfYAQ@mail.gmail.com>
References: <AEE82C33-4301-43E9-9343-19F8E487FADB@gmail.com>
	<CAMb54M3tioUdVYQKe53vgyCvpFtYMpyajQEnzsuEed5xxBhtQg@mail.gmail.com>
	<539BEEDD-9A3E-4810-A169-1AE9E2B398D9@powerfoundation.org>
	<CAPdLKqe68pX59ryjz4vuiovqcWd5x8+oi7c7HN-J9wC3MDfYAQ@mail.gmail.com>
Message-ID: <EB7E8F8D-9E86-4A20-8E4B-F23CA8999A11@gmail.com>

Probably true!! LOL

On 12 Mar 2012, at 14:24, Chip Bennett wrote:

> The many WPORG support forum volunteers who spend countless hours answering
> support questions are probably snickering right now.
> 
> As a general principle, the quality of responses to WPORG support forum
> topics is usually directly correlated to the quality of the question being
> asked.
> 
> On Mon, Mar 12, 2012 at 6:26 AM, Ian Douglas <ian at powerfoundation.org>wrote:
>> 
>> 
>> On your other suggestion, am I alone in thinking that the support forums
>> at wordpress.org are more or less dead? When I've posted there in the
>> recent past I got virtually no replies.
>> 
>> 
>> Thanks again,
>> JB
>> 
>> 
>> On 12 Mar 2012, at 12:38, Mike Little wrote:
>> 
>>> On Mon, Mar 12, 2012 at 09:38, John Black <immanence7 at gmail.com> wrote:
>>> 
>>>> Hi,
>>>> 
>>>> So I have a news site, but I want it to look less like a blog than it
>>>> does. I thought about trying to create a custom page template for each
>>>> category, so it looks like the site has real sections. Only returns
>> from a
>>>> given category would show up, but there would be many ways of handing
>> them
>>>> (a slider, a carousel, posts with thumbnails, posts without, etc).
>>>> 
>>>> 
>>> John,
>>> to get different pages or sections for different categories you can use
>>> WordPress' built in functionality. I recently recorded a video for
>> someone
>>> to explain how. http://mikelittle.org/2012/03/adding-category-page/
>>> 
>>> There are a number of carousel plugins out there, but you are most likely
>>> going to need a sophisticated theme (not necessarily a commercial one) to
>>> do what you want.
>>> 
>>> This type of query is best asked on the WordPress support forums
>>> http://wordpress.org/support
>>> Perhaps ask agin there.
>>> 
>>> 
>>> Mike
>>> --
>>> Mike Little
>>> http://zed1.com/
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at zed1.com  Mon Mar 12 13:22:52 2012
From: wordpress at zed1.com (Mike Little)
Date: Mon, 12 Mar 2012 13:22:52 +0000
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <539BEEDD-9A3E-4810-A169-1AE9E2B398D9@powerfoundation.org>
References: <AEE82C33-4301-43E9-9343-19F8E487FADB@gmail.com>
	<CAMb54M3tioUdVYQKe53vgyCvpFtYMpyajQEnzsuEed5xxBhtQg@mail.gmail.com>
	<539BEEDD-9A3E-4810-A169-1AE9E2B398D9@powerfoundation.org>
Message-ID: <CAMb54M0-eisvLSbfRtgd31i42wg=VXTGM6=7UgzNgjeDm4777Q@mail.gmail.com>

On Mon, Mar 12, 2012 at 11:26, Ian Douglas <ian at powerfoundation.org> wrote:

> Thanks Mike.
>
> The theme I'm using also serves category pages, but they're lame. Just
> lists of posts. Doesn't look professional or interesting at all. The tech
> people who made that theme suggested developing custom page templates.
>
>
There are many themes that don't look lame. It sounds like you just need a
better theme. Many do not require you to build a custom page template just
to get your category archives looking good.


> Again, it surprises me that people don't see ready-made templates for
> custom pages.
>
>
I'm not quite sure what you mean by this. Many themes have mutiple page
templates you can select from, some have them for categories and archives
too.



> On your other suggestion, am I alone in thinking that the support forums
> at wordpress.org are more or less dead? When I've posted there in the
> recent past I got virtually no replies.
>
>
No, the support forums are not dead and are in fact a first class resource.

But you must understand that they are staffed entirely by volunteers.
Follow the guidelines for asking questions, post lots of information, with
your question clearly stated, and be patient, you probably won't get an
answer in a few minutes.


Mike
-- 
Mike Little
http://zed1.com/

From robin.niemeyer at gmx.net  Mon Mar 12 13:41:24 2012
From: robin.niemeyer at gmx.net (robin niemeyer)
Date: Mon, 12 Mar 2012 14:41:24 +0100
Subject: [wp-hackers] Multiple versions of same install independently
 running on same server
In-Reply-To: <4F5DBDAA.1060306@hydrostarr.com>
References: <4F5CD8C6.5090301@hydrostarr.com> <4F5D11A8.8020907@hydrostarr.com>
	<4F5DBDAA.1060306@hydrostarr.com>
Message-ID: <4F5DFD04.1000903@gmx.net>



Am 12.03.2012 10:11, schrieb Hydrostarr:
> Update: am wondering if the following /etc/wordpress/wp-config.php file
> (which we just discovered) might be contributing to these probs. 

Dunno, but I'm pretty sure it ain't that helpful.

As was said earlier (I think), it's best to follow the standard
installation procedure, with one config file per site sitting in the
site's root dir etc.

> mysqldump -u youruser -p yourdatabase > database-2012-3-12.sql
> 
> sed -i 's/olddomain\.com/newdomain\.com/g' database-2012-3-12.sql
> 
> mysql -u youruser -p yourdatabase < database-2012-3-12.sql

Same approach here, never have faced any problems in years.

-Robin

To
> note: looks like the Ubuntu wordpress debian pkg put its stuff in
> /usr/share/wordpress/*, while our single (working) WP server is mostly
> living in /var (like /var/www) areas... fwiw.
> 
> <code=start>
> 
> <?php
> /***
> * WordPress's Debianised default master config file
> * Please do NOT edit and learn how the configuration works in
> * /usr/share/doc/wordpress/README.Debian
> ***/
> 
> /* Look up a host-specific config file in
> * /etc/wordpress/config-<host>.php or /etc/wordpress/config-<domain>.php
> */
> $debian_server = preg_replace('/:.*/', "", $_SERVER['HTTP_HOST']);
> $debian_server = preg_replace("/[^a-zA-Z0-9.\-]/", "", $debian_server);
> $debian_file = '/etc/wordpress/config-'.strtolower($debian_server).'.php';
> /* Main site in case of multisite with subdomains */
> $debian_main_server = preg_replace("/^[^.]*\./", "", $debian_server);
> $debian_main_file =
> '/etc/wordpress/config-'.strtolower($debian_main_server).'.php';
> 
> if (file_exists($debian_file)) {
> require_once($debian_file);
> define('DEBIAN_FILE', $debian_file);
> } elseif (file_exists($debian_main_file)) {
> require_once($debian_main_file);
> define('DEBIAN_FILE', $debian_main_file);
> } elseif (file_exists("/etc/wordpress/config-default.php")) {
> require_once("/etc/wordpress/config-default.php");
> define('DEBIAN_FILE', "/etc/wordpress/config-default.php");
> } else {
> header("HTTP/1.0 404 Not Found");
> echo "Neither <b>$debian_file</b> nor <b>$debian_main_file</b> could be
> found. <br/> Ensure one of them exists, is readable by the webserver and
> contains the right password/username.";
> exit(1);
> }
> 
> /* Default value for some constants if they have not yet been set
> by the host-specific config files */
> define('ABSPATH', '/usr/share/wordpress/');
> define('WP_CORE_UPDATE', false);
> define('WP_ALLOW_MULTISITE', true);
> define('DB_NAME', 'wordpress');
> define('DB_USER', 'wordpress');
> define('DB_HOST', 'localhost');
> 
> /* Default value for the table_prefix variable so that it doesn't need to
> be put in every host-specific config file */
> if (!isset($table_prefix)) {
> $table_prefix = 'wp_';
> }
> 
> require_once(ABSPATH . 'wp-settings.php');
> ?>
> 
> </code>
> 
> 
> On 3/11/12 3:57 PM, Hydrostarr wrote:
>> Thanks Mike. Good to know WP -can- support multiple, independent
>> installs on same server. Now just need to figure out how to do it.
>>
>> Re: the "relative to root" debate: interesting. Good to know, and thx
>> for the executive summary, saves significant research time.
>>
>> Re: stock Ubuntu install: fwiw, we don't use the actual /var/www code
>> from 'apt-get install wordpress'. We simply "re-clone" (via 'git
>> clone' with some database changes as perviously mentioned) our working
>> code set from various dev servers/platforms (including Windows) and
>> are running WP 3.3.x. We employ 'apt-get install wordpress' primarily
>> to auto-install all the dependencies that WP uses (Apache, mysql, php,
>> etc) easily. Appropriate?
>>
>>
>> Mike Little writes:
>> >On Sun, Mar 11, 2012 at 16:54, Hydrostarr <
>> >lists.automattic.com--wp-hackers at hydrostarr.com> wrote:
>> >
>> >>WP just doesn't "work relative to a root" like most all other
>> web-server apps
>> >> that's we've employed previously.
>> >>
>> >Please search for many long and often heated discussions about this
>> subject
>> >in the mailing list archives
>> >http://lists.automattic.com/pipermail/wp-hackers/
>> >Executive summary - agree or disagree, it isn't going to change anytime
>> >soon.
>> >
>> >
>> >> Ubuntu 11.04.
>> >> Stock WP install with 'apt-get install wordpress' (maybe the latter is
>> >> a/the problem)?
>> >>
>> >
>> >Don't do that! It looks like it will install WordPress 2.9.2 which is
>> very,
>> >very, old. Just download WordPress as normal
>> (http://wordpress.org/download/)
>> >and install it in as many vhost document roots as you like.
>> >
>> >I have more than 200 WordPress install across my three servers
>> (including
>> >local dev server) all using Apache vhosts, most have separate
>> installs and
>> >databases, a few are multisite with from 3 to 50 subsites.
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From kokarn at gmail.com  Mon Mar 12 13:46:28 2012
From: kokarn at gmail.com (Kokarn)
Date: Mon, 12 Mar 2012 14:46:28 +0100
Subject: [wp-hackers] Multiple versions of same install independently
 running on same server
In-Reply-To: <4F5DFD04.1000903@gmx.net>
References: <4F5CD8C6.5090301@hydrostarr.com> <4F5D11A8.8020907@hydrostarr.com>
	<4F5DBDAA.1060306@hydrostarr.com> <4F5DFD04.1000903@gmx.net>
Message-ID: <CAPbD_NPDQ1dWu+QHtFXc336cr4iY+YtgsMHuuk_v-yjGgg2woQ@mail.gmail.com>

>Same approach here, never have faced any problems in years.

Even with serialized data?
Seems like most people are saying that it won't work out because of how wp
stores data but i'm not having any problems at all with that exact approach.

On 12 March 2012 14:41, robin niemeyer <robin.niemeyer at gmx.net> wrote:

>
>
> Am 12.03.2012 10:11, schrieb Hydrostarr:
> > Update: am wondering if the following /etc/wordpress/wp-config.php file
> > (which we just discovered) might be contributing to these probs.
>
> Dunno, but I'm pretty sure it ain't that helpful.
>
> As was said earlier (I think), it's best to follow the standard
> installation procedure, with one config file per site sitting in the
> site's root dir etc.
>
> > mysqldump -u youruser -p yourdatabase > database-2012-3-12.sql
> >
> > sed -i 's/olddomain\.com/newdomain\.com/g' database-2012-3-12.sql
> >
> > mysql -u youruser -p yourdatabase < database-2012-3-12.sql
>
> Same approach here, never have faced any problems in years.
>
> -Robin
>
> To
> > note: looks like the Ubuntu wordpress debian pkg put its stuff in
> > /usr/share/wordpress/*, while our single (working) WP server is mostly
> > living in /var (like /var/www) areas... fwiw.
> >
> > <code=start>
> >
> > <?php
> > /***
> > * WordPress's Debianised default master config file
> > * Please do NOT edit and learn how the configuration works in
> > * /usr/share/doc/wordpress/README.Debian
> > ***/
> >
> > /* Look up a host-specific config file in
> > * /etc/wordpress/config-<host>.php or /etc/wordpress/config-<domain>.php
> > */
> > $debian_server = preg_replace('/:.*/', "", $_SERVER['HTTP_HOST']);
> > $debian_server = preg_replace("/[^a-zA-Z0-9.\-]/", "", $debian_server);
> > $debian_file =
> '/etc/wordpress/config-'.strtolower($debian_server).'.php';
> > /* Main site in case of multisite with subdomains */
> > $debian_main_server = preg_replace("/^[^.]*\./", "", $debian_server);
> > $debian_main_file =
> > '/etc/wordpress/config-'.strtolower($debian_main_server).'.php';
> >
> > if (file_exists($debian_file)) {
> > require_once($debian_file);
> > define('DEBIAN_FILE', $debian_file);
> > } elseif (file_exists($debian_main_file)) {
> > require_once($debian_main_file);
> > define('DEBIAN_FILE', $debian_main_file);
> > } elseif (file_exists("/etc/wordpress/config-default.php")) {
> > require_once("/etc/wordpress/config-default.php");
> > define('DEBIAN_FILE', "/etc/wordpress/config-default.php");
> > } else {
> > header("HTTP/1.0 404 Not Found");
> > echo "Neither <b>$debian_file</b> nor <b>$debian_main_file</b> could be
> > found. <br/> Ensure one of them exists, is readable by the webserver and
> > contains the right password/username.";
> > exit(1);
> > }
> >
> > /* Default value for some constants if they have not yet been set
> > by the host-specific config files */
> > define('ABSPATH', '/usr/share/wordpress/');
> > define('WP_CORE_UPDATE', false);
> > define('WP_ALLOW_MULTISITE', true);
> > define('DB_NAME', 'wordpress');
> > define('DB_USER', 'wordpress');
> > define('DB_HOST', 'localhost');
> >
> > /* Default value for the table_prefix variable so that it doesn't need to
> > be put in every host-specific config file */
> > if (!isset($table_prefix)) {
> > $table_prefix = 'wp_';
> > }
> >
> > require_once(ABSPATH . 'wp-settings.php');
> > ?>
> >
> > </code>
> >
> >
> > On 3/11/12 3:57 PM, Hydrostarr wrote:
> >> Thanks Mike. Good to know WP -can- support multiple, independent
> >> installs on same server. Now just need to figure out how to do it.
> >>
> >> Re: the "relative to root" debate: interesting. Good to know, and thx
> >> for the executive summary, saves significant research time.
> >>
> >> Re: stock Ubuntu install: fwiw, we don't use the actual /var/www code
> >> from 'apt-get install wordpress'. We simply "re-clone" (via 'git
> >> clone' with some database changes as perviously mentioned) our working
> >> code set from various dev servers/platforms (including Windows) and
> >> are running WP 3.3.x. We employ 'apt-get install wordpress' primarily
> >> to auto-install all the dependencies that WP uses (Apache, mysql, php,
> >> etc) easily. Appropriate?
> >>
> >>
> >> Mike Little writes:
> >> >On Sun, Mar 11, 2012 at 16:54, Hydrostarr <
> >> >lists.automattic.com--wp-hackers at hydrostarr.com> wrote:
> >> >
> >> >>WP just doesn't "work relative to a root" like most all other
> >> web-server apps
> >> >> that's we've employed previously.
> >> >>
> >> >Please search for many long and often heated discussions about this
> >> subject
> >> >in the mailing list archives
> >> >http://lists.automattic.com/pipermail/wp-hackers/
> >> >Executive summary - agree or disagree, it isn't going to change anytime
> >> >soon.
> >> >
> >> >
> >> >> Ubuntu 11.04.
> >> >> Stock WP install with 'apt-get install wordpress' (maybe the latter
> is
> >> >> a/the problem)?
> >> >>
> >> >
> >> >Don't do that! It looks like it will install WordPress 2.9.2 which is
> >> very,
> >> >very, old. Just download WordPress as normal
> >> (http://wordpress.org/download/)
> >> >and install it in as many vhost document roots as you like.
> >> >
> >> >I have more than 200 WordPress install across my three servers
> >> (including
> >> >local dev server) all using Apache vhosts, most have separate
> >> installs and
> >> >databases, a few are multisite with from 3 to 50 subsites.
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From robin.niemeyer at gmx.net  Mon Mar 12 14:11:48 2012
From: robin.niemeyer at gmx.net (robin niemeyer)
Date: Mon, 12 Mar 2012 15:11:48 +0100
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <AEE82C33-4301-43E9-9343-19F8E487FADB@gmail.com>
References: <AEE82C33-4301-43E9-9343-19F8E487FADB@gmail.com>
Message-ID: <4F5E0424.7060206@gmx.net>

> so I don't know why people don't develop custom templates for sale

They do. Rumors say some actually make a living out of it...But: Every
site is different, different people, concepts, contents, approaches in
presenting them. If you want to do your very own thing, it's very likely
that a ready-made theme would only be a foundation to build upon. Plus,
though some themes are highly configurable, there won't be a backend
switch for all its possibilities.

> there's no way am I going to be able to learn the code below Wordpress
> so any thoughts / guidance much appreciated

Honestly, you either need to find/ask/hire someone, or learn the basics
yourself:
http://codex.wordpress.org/Stepping_Into_Templates

Sorry for the poor advice, but with this being the wp-*hackers* list...

-Robin


Am 12.03.2012 10:38, schrieb John Black:
> Hi,
> 
> So I have a news site, but I want it to look less like a blog than it does. I thought about trying to create a custom page template for each category, so it looks like the site has real sections. Only returns from a given category would show up, but there would be many ways of handing them (a slider, a carousel, posts with thumbnails, posts without, etc).
> 
> Two questions: I wonder how I'm going to be able to get category returns to show up but not be duplicated across different display elements (slider, carousel, etc).
> 
> Second, there's no way am I going to be able to learn the code below Wordpress, so are there premium templates out there for such a  purpose. I know my given theme will matter, but Wordpress is standard in a way, so I don't know why people don't develop custom templates for sale.
> 
> I'm probably barking up the wrong flagpole, so any thoughts / guidance much appreciated.
> 
> JB
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From robin.niemeyer at gmx.net  Mon Mar 12 14:18:38 2012
From: robin.niemeyer at gmx.net (robin niemeyer)
Date: Mon, 12 Mar 2012 15:18:38 +0100
Subject: [wp-hackers] Multiple versions of same install independently
 running on same server
In-Reply-To: <CAPbD_NPDQ1dWu+QHtFXc336cr4iY+YtgsMHuuk_v-yjGgg2woQ@mail.gmail.com>
References: <4F5CD8C6.5090301@hydrostarr.com> <4F5D11A8.8020907@hydrostarr.com>
	<4F5DBDAA.1060306@hydrostarr.com> <4F5DFD04.1000903@gmx.net>
	<CAPbD_NPDQ1dWu+QHtFXc336cr4iY+YtgsMHuuk_v-yjGgg2woQ@mail.gmail.com>
Message-ID: <4F5E05BE.7010505@gmx.net>

> Even with serialized data?
> Seems like most people are saying that it won't work out because of how wp
> stores data

I can't imagine a case why it shouldn't work, I guess. Maybe a lack of
imagination, but an array or object serialized into a string stays a
string, so there shouldn't be a problem a regex can't handle (if this
could be said about *life* to...)

-Robin

Am 12.03.2012 14:46, schrieb Kokarn:
>> Same approach here, never have faced any problems in years.
> 
> Even with serialized data?
> Seems like most people are saying that it won't work out because of how wp
> stores data but i'm not having any problems at all with that exact approach.
> 
> On 12 March 2012 14:41, robin niemeyer <robin.niemeyer at gmx.net> wrote:
> 
>>
>>
>> Am 12.03.2012 10:11, schrieb Hydrostarr:
>>> Update: am wondering if the following /etc/wordpress/wp-config.php file
>>> (which we just discovered) might be contributing to these probs.
>>
>> Dunno, but I'm pretty sure it ain't that helpful.
>>
>> As was said earlier (I think), it's best to follow the standard
>> installation procedure, with one config file per site sitting in the
>> site's root dir etc.
>>
>>> mysqldump -u youruser -p yourdatabase > database-2012-3-12.sql
>>>
>>> sed -i 's/olddomain\.com/newdomain\.com/g' database-2012-3-12.sql
>>>
>>> mysql -u youruser -p yourdatabase < database-2012-3-12.sql
>>
>> Same approach here, never have faced any problems in years.
>>
>> -Robin
>>
>> To
>>> note: looks like the Ubuntu wordpress debian pkg put its stuff in
>>> /usr/share/wordpress/*, while our single (working) WP server is mostly
>>> living in /var (like /var/www) areas... fwiw.
>>>
>>> <code=start>
>>>
>>> <?php
>>> /***
>>> * WordPress's Debianised default master config file
>>> * Please do NOT edit and learn how the configuration works in
>>> * /usr/share/doc/wordpress/README.Debian
>>> ***/
>>>
>>> /* Look up a host-specific config file in
>>> * /etc/wordpress/config-<host>.php or /etc/wordpress/config-<domain>.php
>>> */
>>> $debian_server = preg_replace('/:.*/', "", $_SERVER['HTTP_HOST']);
>>> $debian_server = preg_replace("/[^a-zA-Z0-9.\-]/", "", $debian_server);
>>> $debian_file =
>> '/etc/wordpress/config-'.strtolower($debian_server).'.php';
>>> /* Main site in case of multisite with subdomains */
>>> $debian_main_server = preg_replace("/^[^.]*\./", "", $debian_server);
>>> $debian_main_file =
>>> '/etc/wordpress/config-'.strtolower($debian_main_server).'.php';
>>>
>>> if (file_exists($debian_file)) {
>>> require_once($debian_file);
>>> define('DEBIAN_FILE', $debian_file);
>>> } elseif (file_exists($debian_main_file)) {
>>> require_once($debian_main_file);
>>> define('DEBIAN_FILE', $debian_main_file);
>>> } elseif (file_exists("/etc/wordpress/config-default.php")) {
>>> require_once("/etc/wordpress/config-default.php");
>>> define('DEBIAN_FILE', "/etc/wordpress/config-default.php");
>>> } else {
>>> header("HTTP/1.0 404 Not Found");
>>> echo "Neither <b>$debian_file</b> nor <b>$debian_main_file</b> could be
>>> found. <br/> Ensure one of them exists, is readable by the webserver and
>>> contains the right password/username.";
>>> exit(1);
>>> }
>>>
>>> /* Default value for some constants if they have not yet been set
>>> by the host-specific config files */
>>> define('ABSPATH', '/usr/share/wordpress/');
>>> define('WP_CORE_UPDATE', false);
>>> define('WP_ALLOW_MULTISITE', true);
>>> define('DB_NAME', 'wordpress');
>>> define('DB_USER', 'wordpress');
>>> define('DB_HOST', 'localhost');
>>>
>>> /* Default value for the table_prefix variable so that it doesn't need to
>>> be put in every host-specific config file */
>>> if (!isset($table_prefix)) {
>>> $table_prefix = 'wp_';
>>> }
>>>
>>> require_once(ABSPATH . 'wp-settings.php');
>>> ?>
>>>
>>> </code>
>>>
>>>
>>> On 3/11/12 3:57 PM, Hydrostarr wrote:
>>>> Thanks Mike. Good to know WP -can- support multiple, independent
>>>> installs on same server. Now just need to figure out how to do it.
>>>>
>>>> Re: the "relative to root" debate: interesting. Good to know, and thx
>>>> for the executive summary, saves significant research time.
>>>>
>>>> Re: stock Ubuntu install: fwiw, we don't use the actual /var/www code
>>>> from 'apt-get install wordpress'. We simply "re-clone" (via 'git
>>>> clone' with some database changes as perviously mentioned) our working
>>>> code set from various dev servers/platforms (including Windows) and
>>>> are running WP 3.3.x. We employ 'apt-get install wordpress' primarily
>>>> to auto-install all the dependencies that WP uses (Apache, mysql, php,
>>>> etc) easily. Appropriate?
>>>>
>>>>
>>>> Mike Little writes:
>>>>> On Sun, Mar 11, 2012 at 16:54, Hydrostarr <
>>>>> lists.automattic.com--wp-hackers at hydrostarr.com> wrote:
>>>>>
>>>>>> WP just doesn't "work relative to a root" like most all other
>>>> web-server apps
>>>>>> that's we've employed previously.
>>>>>>
>>>>> Please search for many long and often heated discussions about this
>>>> subject
>>>>> in the mailing list archives
>>>>> http://lists.automattic.com/pipermail/wp-hackers/
>>>>> Executive summary - agree or disagree, it isn't going to change anytime
>>>>> soon.
>>>>>
>>>>>
>>>>>> Ubuntu 11.04.
>>>>>> Stock WP install with 'apt-get install wordpress' (maybe the latter
>> is
>>>>>> a/the problem)?
>>>>>>
>>>>>
>>>>> Don't do that! It looks like it will install WordPress 2.9.2 which is
>>>> very,
>>>>> very, old. Just download WordPress as normal
>>>> (http://wordpress.org/download/)
>>>>> and install it in as many vhost document roots as you like.
>>>>>
>>>>> I have more than 200 WordPress install across my three servers
>>>> (including
>>>>> local dev server) all using Apache vhosts, most have separate
>>>> installs and
>>>>> databases, a few are multisite with from 3 to 50 subsites.
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 

From dennen at gmail.com  Mon Mar 12 14:27:12 2012
From: dennen at gmail.com (Bill Dennen)
Date: Mon, 12 Mar 2012 10:27:12 -0400
Subject: [wp-hackers] Multiple versions of same install independently
 running on same server
In-Reply-To: <4F5E05BE.7010505@gmx.net>
References: <4F5CD8C6.5090301@hydrostarr.com> <4F5D11A8.8020907@hydrostarr.com>
	<4F5DBDAA.1060306@hydrostarr.com> <4F5DFD04.1000903@gmx.net>
	<CAPbD_NPDQ1dWu+QHtFXc336cr4iY+YtgsMHuuk_v-yjGgg2woQ@mail.gmail.com>
	<4F5E05BE.7010505@gmx.net>
Message-ID: <CAAFBVjjozJ17v-W7rcYOJ=SL--ZPZ+_4Np0yStLeAWr0L6Fg9g@mail.gmail.com>

> I can't imagine a case why it shouldn't work, I guess. Maybe a lack of
> imagination, but an array or object serialized into a string stays a
> string, so there shouldn't be a problem a regex can't handle (if this
> could be said about *life* to...)

Regular search/replace on an export from mysql will break serialized
data. I've seen this mostly with widget settings. That is, you export
the site data in mysql, do a search replace, reimport the data into
mysql and? your widget settings are messed up.

Serialized data does store the info as a string, but if also indicates
the length of the various pieces of data. So, if your hostname changes
and, most importantly, if the length of the hostname changes, any
serialized data that incorporates the hostname would be corrupted with
a simple search and replace.

As mentioned in another thread, this tool works well, even with serialized data:

http://interconnectit.com/124/search-and-replace-for-wordpress-databases

From kokarn at gmail.com  Mon Mar 12 14:58:40 2012
From: kokarn at gmail.com (Kokarn)
Date: Mon, 12 Mar 2012 15:58:40 +0100
Subject: [wp-hackers] Multiple versions of same install independently
 running on same server
In-Reply-To: <CAAFBVjjozJ17v-W7rcYOJ=SL--ZPZ+_4Np0yStLeAWr0L6Fg9g@mail.gmail.com>
References: <4F5CD8C6.5090301@hydrostarr.com> <4F5D11A8.8020907@hydrostarr.com>
	<4F5DBDAA.1060306@hydrostarr.com> <4F5DFD04.1000903@gmx.net>
	<CAPbD_NPDQ1dWu+QHtFXc336cr4iY+YtgsMHuuk_v-yjGgg2woQ@mail.gmail.com>
	<4F5E05BE.7010505@gmx.net>
	<CAAFBVjjozJ17v-W7rcYOJ=SL--ZPZ+_4Np0yStLeAWr0L6Fg9g@mail.gmail.com>
Message-ID: <CAPbD_NOMXKJvHqxp5twgV=vZrRWR-_KZxNstxzXDNm658Ly6BQ@mail.gmail.com>

Thanks for the good and informative answers.

Have seen those threads as well and i've also seen the interconnect IT
thing ported to be used for moving the wp db's to/from staging/production
but the script should work the same for two production sites. (
https://github.com/Ascerta/Wordpress-DB-clone )

Is the widget settings the only place where settings are saved like that?
If yes, then why?
The rest of wp seems to work perfectly fine without that sort of storing so
that could be something one could look into fixing in core to make it more
portable.

On 12 March 2012 15:27, Bill Dennen <dennen at gmail.com> wrote:

> > I can't imagine a case why it shouldn't work, I guess. Maybe a lack of
> > imagination, but an array or object serialized into a string stays a
> > string, so there shouldn't be a problem a regex can't handle (if this
> > could be said about *life* to...)
>
> Regular search/replace on an export from mysql will break serialized
> data. I've seen this mostly with widget settings. That is, you export
> the site data in mysql, do a search replace, reimport the data into
> mysql and? your widget settings are messed up.
>
> Serialized data does store the info as a string, but if also indicates
> the length of the various pieces of data. So, if your hostname changes
> and, most importantly, if the length of the hostname changes, any
> serialized data that incorporates the hostname would be corrupted with
> a simple search and replace.
>
> As mentioned in another thread, this tool works well, even with serialized
> data:
>
> http://interconnectit.com/124/search-and-replace-for-wordpress-databases
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From andrew at graymerica.com  Mon Mar 12 15:09:26 2012
From: andrew at graymerica.com (Andrew Gray)
Date: Mon, 12 Mar 2012 11:09:26 -0400
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <mailman.19971.1331561512.1433.wp-hackers@lists.automattic.com>
References: <mailman.19971.1331561512.1433.wp-hackers@lists.automattic.com>
Message-ID: <26428986-A7F6-4513-8E42-74EBC8CAD434@graymerica.com>

My thoughts on purchasing pre-made themes.

They are like a manufactured home.  It is great if you want one that looks just like that, but to try and get it to change to much is an uphill battle.

If you need something custom, build it yourself, and if you can't figure it out, hire someone who can.  Start with a PSD mockup and cut it up into HTML, then add the wordpress code.

We just got done building a website for a national bank that had 40 different page/ category/ archive templates,  four different contact forms, and nine custom post types.

It was like building a custom home,  we had to plan, sketch and design every piece ourselves.  WP is a great platform, but it is not magic.  Theme designers are looking to sell as many copies of their theme, so they can not plan for you specific requirements.

Wordpress sites only have to look like a blog if you let them.


Andrew



> Thanks Mike.
> 
> The theme I'm using also serves category pages, but they're lame. Just
> lists of posts. Doesn't look professional or interesting at all. The tech
> people who made that theme suggested developing custom page templates.
> 
> 
There are many themes that don't look lame. It sounds like you just need a
better theme. Many do not require you to build a custom page template just
to get your category archives looking good.

From info at a5d.org  Mon Mar 12 15:14:40 2012
From: info at a5d.org (Lee Rickler)
Date: Mon, 12 Mar 2012 15:14:40 +0000
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <26428986-A7F6-4513-8E42-74EBC8CAD434@graymerica.com>
References: <mailman.19971.1331561512.1433.wp-hackers@lists.automattic.com>
	<26428986-A7F6-4513-8E42-74EBC8CAD434@graymerica.com>
Message-ID: <5BC4CE2C-85E4-43AB-BC2C-14250E896B6E@a5d.org>

Good analogy Andrew.

I treat WordPress as a tool - like a piece of clay to be moulded into any shape you desire.

The only barrier is your imagination (and your clients budget of course, but that's another thread).

Lee

On 12 Mar 2012, at 15:09, Andrew Gray wrote:

> Wordpress sites only have to look like a blog if you let them.
> 
> 
> Andrew
> 

From zamoose at gmail.com  Mon Mar 12 15:28:20 2012
From: zamoose at gmail.com (Doug Stewart)
Date: Mon, 12 Mar 2012 11:28:20 -0400
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <26428986-A7F6-4513-8E42-74EBC8CAD434@graymerica.com>
References: <mailman.19971.1331561512.1433.wp-hackers@lists.automattic.com>
	<26428986-A7F6-4513-8E42-74EBC8CAD434@graymerica.com>
Message-ID: <CANFh3d6Fjrp3s0UnT7gH9MTqkL6MnQFvnzggumFsU5pk0L+BqQ@mail.gmail.com>

On Mon, Mar 12, 2012 at 11:09 AM, Andrew Gray <andrew at graymerica.com> wrote:
> My thoughts on purchasing pre-made themes.
>
> They are like a manufactured home. ?It is great if you want one that looks just like that, but to try and get it to change to much is an uphill battle.
>
> If you need something custom, build it yourself, and if you can't figure it out, hire someone who can. ?Start with a PSD mockup and cut it up into HTML, then add the wordpress code.
>
> We just got done building a website for a national bank that had 40 different page/ category/ archive templates, ?four different contact forms, and nine custom post types.
>
> It was like building a custom home, ?we had to plan, sketch and design every piece ourselves. ?WP is a great platform, but it is not magic. ?Theme designers are looking to sell as many copies of their theme, so they can not plan for you specific requirements.
>
> Wordpress sites only have to look like a blog if you let them.
>

Yes and no. Basing your work on a preexisting framework/parent theme
can ultimately save you a ton of work. I know folks who specialize in
doing things with Twentyten and Twentyeleven that you'd be
hard-pressed to believe.

A "premium" theme is little more than another tool -- just as you need
to learn the ins-and-outs of WordPress flows and syntaxes, you'll need
to do the same for these themes/frameworks. Once you get them down,
though, they can save you ALOT of work.

Think of them as those pre-fab house elements: LEGO bricks for
building a theme. They do a lot of the heavy lifting, you just have to
have the imagination to make a dragon.

-- 
-Doug

From anca at anca.tv  Mon Mar 12 15:34:11 2012
From: anca at anca.tv (Anca Mosoiu)
Date: Mon, 12 Mar 2012 08:34:11 -0700
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <mailman.5.1331553602.13131.wp-hackers@lists.automattic.com>
References: <mailman.5.1331553602.13131.wp-hackers@lists.automattic.com>
Message-ID: <316405AB-3B70-4877-AA93-CECF31C6C2CE@anca.tv>

The bare list of posts that you see for category pages is what WordPress displays for a category when the theme doesn't do anything else.  You might want to start by looking at the WordPress Template Hierarchy page so that you can see how to create your custom category templates:

http://codex.wordpress.org/Template_Hierarchy

Many premium themes have carousels, portfolios, and other ways of displaying the category content.  However, that's something that's up to you - you get to decide what kind of information and layout should be on each category template.  

Anca.


On Mar 12, 2012, at 5:00 AM, wp-hackers-request at lists.automattic.com wrote:

> Date: Mon, 12 Mar 2012 13:26:30 +0200
> From: Ian Douglas <ian at powerfoundation.org>
> Subject: Re: [wp-hackers] newbie question on custom page templates
> To: wp-hackers at lists.automattic.com
> Message-ID: <539BEEDD-9A3E-4810-A169-1AE9E2B398D9 at powerfoundation.org>
> Content-Type: text/plain; charset=us-ascii
> 
> Thanks Mike.
> 
> The theme I'm using also serves category pages, but they're lame. Just lists of posts. Doesn't look professional or interesting at all. The tech people who made that theme suggested developing custom page templates.
> 
> Again, it surprises me that people don't see ready-made templates for custom pages.
> 
> On your other suggestion, am I alone in thinking that the support forums at wordpress.org are more or less dead? When I've posted there in the recent past I got virtually no replies.
> 
> 
> Thanks again,
> JB
> 


From aspratley at gmail.com  Mon Mar 12 16:55:22 2012
From: aspratley at gmail.com (Andrew Spratley)
Date: Mon, 12 Mar 2012 18:55:22 +0200
Subject: [wp-hackers] Multiple versions of same install independently
 running on same server
In-Reply-To: <CAPbD_NOMXKJvHqxp5twgV=vZrRWR-_KZxNstxzXDNm658Ly6BQ@mail.gmail.com>
References: <4F5CD8C6.5090301@hydrostarr.com> <4F5D11A8.8020907@hydrostarr.com>
	<4F5DBDAA.1060306@hydrostarr.com> <4F5DFD04.1000903@gmx.net>
	<CAPbD_NPDQ1dWu+QHtFXc336cr4iY+YtgsMHuuk_v-yjGgg2woQ@mail.gmail.com>
	<4F5E05BE.7010505@gmx.net>
	<CAAFBVjjozJ17v-W7rcYOJ=SL--ZPZ+_4Np0yStLeAWr0L6Fg9g@mail.gmail.com>
	<CAPbD_NOMXKJvHqxp5twgV=vZrRWR-_KZxNstxzXDNm658Ly6BQ@mail.gmail.com>
Message-ID: <CAKNYAgA1m5V+VuBhsfNrXq1aN_tM6igh4p9SNEq9bwVfoiO1ow@mail.gmail.com>

I believe plugins also store serialised arrays
http://wordpress.stackexchange.com/questions/24694/correct-way-to-serialize-the-data-of-options-table
when they store options, it makes it easy and generic to dump an array
and get it back in one piece. Plus you can never guarantee what and
how a plugin is storing data so always best to er on the side of
caution.

I didn't quite understand what the original question was asking.
Multiple WP sites can easily be run on the same server. You just need
to set them up as separate vhosts/sites under your webserver, create a
new directory for the WP files and user data and make a new database.

If you've installed apache et al via apt-get you'll probably need to
alter your apache config (/etc/apache2 ) to enable vhosts and point
them to the correct directory.



On Mon, Mar 12, 2012 at 4:58 PM, Kokarn <kokarn at gmail.com> wrote:
> Thanks for the good and informative answers.
>
> Have seen those threads as well and i've also seen the interconnect IT
> thing ported to be used for moving the wp db's to/from staging/production
> but the script should work the same for two production sites. (
> https://github.com/Ascerta/Wordpress-DB-clone )
>
> Is the widget settings the only place where settings are saved like that?
> If yes, then why?
> The rest of wp seems to work perfectly fine without that sort of storing so
> that could be something one could look into fixing in core to make it more
> portable.
>
> On 12 March 2012 15:27, Bill Dennen <dennen at gmail.com> wrote:
>
>> > I can't imagine a case why it shouldn't work, I guess. Maybe a lack of
>> > imagination, but an array or object serialized into a string stays a
>> > string, so there shouldn't be a problem a regex can't handle (if this
>> > could be said about *life* to...)
>>
>> Regular search/replace on an export from mysql will break serialized
>> data. I've seen this mostly with widget settings. That is, you export
>> the site data in mysql, do a search replace, reimport the data into
>> mysql and? your widget settings are messed up.
>>
>> Serialized data does store the info as a string, but if also indicates
>> the length of the various pieces of data. So, if your hostname changes
>> and, most importantly, if the length of the hostname changes, any
>> serialized data that incorporates the hostname would be corrupted with
>> a simple search and replace.
>>
>> As mentioned in another thread, this tool works well, even with serialized
>> data:
>>
>> http://interconnectit.com/124/search-and-replace-for-wordpress-databases
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From burobjorn at gmail.com  Mon Mar 12 17:01:50 2012
From: burobjorn at gmail.com (Bjorn Wijers)
Date: Mon, 12 Mar 2012 18:01:50 +0100
Subject: [wp-hackers] Who to contact in order to take over development of a
	plugin?
Message-ID: <4F5E2BFE.4010506@gmail.com>

Hi,

I've contacted the author of the File Icons plugin 
(http://wordpress.org/extend/plugins/file-icons/) and we agreed that I'm 
taking over development of this plugin (I can send our conversation). 
I'm already a contributor, but I'm  not sure who I need to contact to 
become the lead developer of this plugin? Can someone point me in the 
right direction?

ps: Maybe this question and the answer to it should become part of the 
Development FAQ (http://wordpress.org/extend/plugins/about/faq/)? AFAIK 
I cannot add this to the FAQ myself.

Thanks,

grtz
BjornW

From bill.erickson at gmail.com  Mon Mar 12 17:04:08 2012
From: bill.erickson at gmail.com (Bill Erickson)
Date: Mon, 12 Mar 2012 12:04:08 -0500
Subject: [wp-hackers] Who to contact in order to take over development
 of a plugin?
In-Reply-To: <4F5E2BFE.4010506@gmail.com>
References: <4F5E2BFE.4010506@gmail.com>
Message-ID: <CADvbF5okQXVq4uu6726JR2Z0TG9iXJZP-naZ2LZwRh83aDP+uA@mail.gmail.com>

I believe all that needs to be done is the current author adds you as a
Plugin Author in the readme, and (optional) removes himself.

That's what I've done in the past to take over ownership of a plugin.


---
Bill Erickson
WordPress Consultant
512-537-0315
http://www.billerickson.net

NOTE: To better serve my clients, partners, and most importantly my family,
I've begun checking email only three times per day.

For phone calls, please schedule here: http://tungle.me/billerickson . If
it's an emergency, please call now and leave a voicemail



On Mon, Mar 12, 2012 at 12:01 PM, Bjorn Wijers <burobjorn at gmail.com> wrote:

> Hi,
>
> I've contacted the author of the File Icons plugin (
> http://wordpress.org/extend/**plugins/file-icons/<http://wordpress.org/extend/plugins/file-icons/>)
> and we agreed that I'm taking over development of this plugin (I can send
> our conversation). I'm already a contributor, but I'm  not sure who I need
> to contact to become the lead developer of this plugin? Can someone point
> me in the right direction?
>
> ps: Maybe this question and the answer to it should become part of the
> Development FAQ (http://wordpress.org/extend/**plugins/about/faq/<http://wordpress.org/extend/plugins/about/faq/>)?
> AFAIK I cannot add this to the FAQ myself.
>
> Thanks,
>
> grtz
> BjornW
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From chip at chipbennett.net  Mon Mar 12 18:03:37 2012
From: chip at chipbennett.net (Chip Bennett)
Date: Mon, 12 Mar 2012 13:03:37 -0500
Subject: [wp-hackers] Who to contact in order to take over development
 of a plugin?
In-Reply-To: <CADvbF5okQXVq4uu6726JR2Z0TG9iXJZP-naZ2LZwRh83aDP+uA@mail.gmail.com>
References: <4F5E2BFE.4010506@gmail.com>
	<CADvbF5okQXVq4uu6726JR2Z0TG9iXJZP-naZ2LZwRh83aDP+uA@mail.gmail.com>
Message-ID: <CAPdLKqcCm9T6+RUn9eY6mqXF4TSk79E8Yy3m9cq+F6UoHL9SmQ@mail.gmail.com>

Actually, the current developer needs to go into the Plugin admin from the
Plugin's Extend listing page, and add the *new* developer as a *committer*.
After that (and sufficient time for the Extend servers to sync), the new
developer will have SVN-commit access to the Plugin.

Thanks,

Chip

On Mon, Mar 12, 2012 at 12:04 PM, Bill Erickson <bill.erickson at gmail.com>wrote:

> I believe all that needs to be done is the current author adds you as a
> Plugin Author in the readme, and (optional) removes himself.
>
> That's what I've done in the past to take over ownership of a plugin.
>
>
> ---
> Bill Erickson
> WordPress Consultant
> 512-537-0315
> http://www.billerickson.net
>
> NOTE: To better serve my clients, partners, and most importantly my family,
> I've begun checking email only three times per day.
>
> For phone calls, please schedule here: http://tungle.me/billerickson . If
> it's an emergency, please call now and leave a voicemail
>
>
>
> On Mon, Mar 12, 2012 at 12:01 PM, Bjorn Wijers <burobjorn at gmail.com>
> wrote:
>
> > Hi,
> >
> > I've contacted the author of the File Icons plugin (
> > http://wordpress.org/extend/**plugins/file-icons/<
> http://wordpress.org/extend/plugins/file-icons/>)
> > and we agreed that I'm taking over development of this plugin (I can send
> > our conversation). I'm already a contributor, but I'm  not sure who I
> need
> > to contact to become the lead developer of this plugin? Can someone point
> > me in the right direction?
> >
> > ps: Maybe this question and the answer to it should become part of the
> > Development FAQ (http://wordpress.org/extend/**plugins/about/faq/<
> http://wordpress.org/extend/plugins/about/faq/>)?
> > AFAIK I cannot add this to the FAQ myself.
> >
> > Thanks,
> >
> > grtz
> > BjornW
> > ______________________________**_________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> > http://lists.automattic.com/**mailman/listinfo/wp-hackers<
> http://lists.automattic.com/mailman/listinfo/wp-hackers>
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mattslocum at sharefaith.com  Mon Mar 12 18:39:41 2012
From: mattslocum at sharefaith.com (Matt Slocum)
Date: Mon, 12 Mar 2012 11:39:41 -0700
Subject: [wp-hackers] How to detect WP upgrade or installation
Message-ID: <CAC3yCwqgkOqOueA=A7vsFu7yK=u6aEb0cmaB67fpV=2ySfeLHw@mail.gmail.com>

Hi,

We have a bunch of customer websites, and occasionally one of them gets
messed up install during a core WP upgrade. I haven't been able to
pin-point what is going wrong. We've had a variety of problems from an
incomplete upgrade (in random locations) to an update where the
wp-config.php file gets cleared out (happened again today).

I've got a plugin installed that does some file moving/manipulation/copying
on a timed basis. I'm trying to rule out this plugin as a possible culprit.
I've got a line of code already that I thought would stop it from running
during a WP core update:

    if ( defined( 'WP_INSTALLING' ) )
        return false;

I've been looking at the source
code<http://phpxref.ftwr.co.uk/wordpress/nav.html?wp-admin/update-core.php.source.html>,
and this seems to be only defined during first-time WP installation and WP
database upgrades. Also, while looking at the source code I'm not seeing
how WP prevents multiple upgrade requests (ex. a user double clicks
upgrade).

I also added a line:

        if (strstr($_SERVER["SCRIPT_NAME"], 'update-core.php') === false)
return;

but I'm not sure it will catch it either.

Anyone have any insights on how to prevent things from happening during a
WP core update?

Thanks,
Matt

From jeff.lambert at jvhm.com  Mon Mar 12 18:52:36 2012
From: jeff.lambert at jvhm.com (Jeff Lambert)
Date: Mon, 12 Mar 2012 11:52:36 -0700
Subject: [wp-hackers] How to detect WP upgrade or installation
In-Reply-To: <CAC3yCwqgkOqOueA=A7vsFu7yK=u6aEb0cmaB67fpV=2ySfeLHw@mail.gmail.com>
Message-ID: <CB839404.2A032%jeff.lambert@jvhm.com>

Couldn't you check for the existence of the .maintenance file?

Jeff

On 3/12/12 11:39 AM, "Matt Slocum" <mattslocum at sharefaith.com> wrote:

> Hi,
> 
> We have a bunch of customer websites, and occasionally one of them gets
> messed up install during a core WP upgrade. I haven't been able to
> pin-point what is going wrong. We've had a variety of problems from an
> incomplete upgrade (in random locations) to an update where the
> wp-config.php file gets cleared out (happened again today).
> 
> I've got a plugin installed that does some file moving/manipulation/copying
> on a timed basis. I'm trying to rule out this plugin as a possible culprit.
> I've got a line of code already that I thought would stop it from running
> during a WP core update:
> 
>     if ( defined( 'WP_INSTALLING' ) )
>         return false;
> 
> I've been looking at the source
> code<http://phpxref.ftwr.co.uk/wordpress/nav.html?wp-admin/update-core.php.sou
> rce.html>,
> and this seems to be only defined during first-time WP installation and WP
> database upgrades. Also, while looking at the source code I'm not seeing
> how WP prevents multiple upgrade requests (ex. a user double clicks
> upgrade).
> 
> I also added a line:
> 
>         if (strstr($_SERVER["SCRIPT_NAME"], 'update-core.php') === false)
> return;
> 
> but I'm not sure it will catch it either.
> 
> Anyone have any insights on how to prevent things from happening during a
> WP core update?
> 
> Thanks,
> Matt
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



From mattslocum at sharefaith.com  Mon Mar 12 20:45:25 2012
From: mattslocum at sharefaith.com (Matt Slocum)
Date: Mon, 12 Mar 2012 13:45:25 -0700
Subject: [wp-hackers] How to detect WP upgrade or installation
In-Reply-To: <CB839404.2A032%jeff.lambert@jvhm.com>
References: <CAC3yCwqgkOqOueA=A7vsFu7yK=u6aEb0cmaB67fpV=2ySfeLHw@mail.gmail.com>
	<CB839404.2A032%jeff.lambert@jvhm.com>
Message-ID: <CAC3yCwppoe4D9Votf0UXx99-ZR63jaMorUhAFgpVfvOrnJCABQ@mail.gmail.com>

Awesome! Thanks Jeff!

Here's my code now if anyone is curious.

if ( file_exists( ABSPATH . '.maintenance' ) || defined( 'WP_INSTALLING' ) )
    return;


On Mon, Mar 12, 2012 at 11:52 AM, Jeff Lambert <jeff.lambert at jvhm.com>wrote:

> Couldn't you check for the existence of the .maintenance file?
>
> Jeff
>
> On 3/12/12 11:39 AM, "Matt Slocum" <mattslocum at sharefaith.com> wrote:
>
> > Hi,
> >
> > We have a bunch of customer websites, and occasionally one of them gets
> > messed up install during a core WP upgrade. I haven't been able to
> > pin-point what is going wrong. We've had a variety of problems from an
> > incomplete upgrade (in random locations) to an update where the
> > wp-config.php file gets cleared out (happened again today).
> >
> > I've got a plugin installed that does some file
> moving/manipulation/copying
> > on a timed basis. I'm trying to rule out this plugin as a possible
> culprit.
> > I've got a line of code already that I thought would stop it from running
> > during a WP core update:
> >
> >     if ( defined( 'WP_INSTALLING' ) )
> >         return false;
> >
> > I've been looking at the source
> > code<
> http://phpxref.ftwr.co.uk/wordpress/nav.html?wp-admin/update-core.php.sou
> > rce.html>,
> > and this seems to be only defined during first-time WP installation and
> WP
> > database upgrades. Also, while looking at the source code I'm not seeing
> > how WP prevents multiple upgrade requests (ex. a user double clicks
> > upgrade).
> >
> > I also added a line:
> >
> >         if (strstr($_SERVER["SCRIPT_NAME"], 'update-core.php') === false)
> > return;
> >
> > but I'm not sure it will catch it either.
> >
> > Anyone have any insights on how to prevent things from happening during a
> > WP core update?
> >
> > Thanks,
> > Matt
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lists at rotorised.com  Tue Mar 13 01:46:31 2012
From: lists at rotorised.com (Ryan McCue)
Date: Tue, 13 Mar 2012 11:46:31 +1000
Subject: [wp-hackers] Multiple versions of same install independently
 running on same server
In-Reply-To: <4F5DBDAA.1060306@hydrostarr.com>
References: <4F5CD8C6.5090301@hydrostarr.com> <4F5D11A8.8020907@hydrostarr.com>
	<4F5DBDAA.1060306@hydrostarr.com>
Message-ID: <4F5EA6F7.7090708@rotorised.com>

Hydrostarr wrote:
> Update: am wondering if the following /etc/wordpress/wp-config.php 
> file (which we just discovered) might be contributing to these probs. 
> To note: looks like the Ubuntu wordpress debian pkg put its stuff in 
> /usr/share/wordpress/*, while our single (working) WP server is mostly 
> living in /var (like /var/www) areas... fwiw.

Looks like they're adding a custom wp-config.php into the install 
directory to load from one of these. I personally think that's a 
horrible idea, and serves to show why you shouldn't use that package.

However, if you have your own copy of WordPress that isn't based on this 
(i.e. doesn't include their wp-config.php), you should be fine.


robin niemeyer wrote:
> I can't imagine a case why it shouldn't work, I guess. Maybe a lack of
> imagination, but an array or object serialized into a string stays a
> string, so there shouldn't be a problem a regex can't handle (if this
> could be said about*life*  to...)

Serialised strings include a length, so using a regex to change them 
will change the length of the string and cause it to become invalid. 
(This includes strings inside arrays or objects.)

If you want to apply a regex, your best bet is to unserialize the data, 
map your regex to each parameter and then reserialize and save. (Might 
require a recursive version of `array_map` if you want to make sure of it.)

It's a better idea to just apply it to the properties you actually want 
to change (mainly, the content). You shouldn't change the GUID field 
when simply moving to a new domain, as that's used for deduplication by 
feed readers, and changing it will indicate that it's new content. (As 
the developer of a feed reader, I hate when people do this. It's fine if 
you're duplicating the blog to a new site though.)

--
Ryan McCue
<http://ryanmccue.info/>

From lox.dev at knc.nc  Tue Mar 13 07:07:48 2012
From: lox.dev at knc.nc (Lox)
Date: Tue, 13 Mar 2012 18:07:48 +1100
Subject: [wp-hackers] How to make a role inherit anther role's
	capabilities?
In-Reply-To: <CA+sFoLrmTx6Q7QDsgubO0pv2S_1w182Xx9MsFt3MED=uHvH__g@mail.gmail.com>
References: <CA+sFoLrmTx6Q7QDsgubO0pv2S_1w182Xx9MsFt3MED=uHvH__g@mail.gmail.com>
Message-ID: <CA+sFoLqfTHwcDGNn6yQqvQQ8QyspwSL8c4k5KtAEwOob=w06nw@mail.gmail.com>

Bump.

2012/3/7 Lox <lox.dev at knc.nc>

> Hello,
>
> When creating a role I would like it to inherit the capabilities of an
> other role .
> Is that possible?
>
> Regards
>
> --
> Lox
> lox.dev at knc.nc
>



-- 
Lox
lox.dev at knc.nc

From pbaylies at semperfiwebdesign.com  Tue Mar 13 17:54:59 2012
From: pbaylies at semperfiwebdesign.com (peter baylies)
Date: Tue, 13 Mar 2012 13:54:59 -0400
Subject: [wp-hackers] How to make a role inherit anther role's
	capabilities?
In-Reply-To: <CA+sFoLrmTx6Q7QDsgubO0pv2S_1w182Xx9MsFt3MED=uHvH__g@mail.gmail.com>
References: <CA+sFoLrmTx6Q7QDsgubO0pv2S_1w182Xx9MsFt3MED=uHvH__g@mail.gmail.com>
Message-ID: <CAKkHmjW7Su6925VE8FcYF_E484f9KMAnTp+PR2-TG9nV1QJHGA@mail.gmail.com>

Lox,

If you just want to duplicate the current permissions of a role, you could
do something like this:

$role = get_role( 'editor' );
add_role( 'AnotherRole', 'AnotherRole', $role->capabilities );

Cheers,

 -- Peter Baylies
Semper Fi Web Design


On Tue, Mar 6, 2012 at 9:47 PM, Lox <lox.dev at knc.nc> wrote:

> Hello,
>
> When creating a role I would like it to inherit the capabilities of an
> other role .
> Is that possible?
>
> Regards
>
> --
> Lox
> lox.dev at knc.nc
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From leogermani at gmail.com  Tue Mar 13 22:08:17 2012
From: leogermani at gmail.com (Leo germani)
Date: Tue, 13 Mar 2012 19:08:17 -0300
Subject: [wp-hackers] congratulations on wp_localize_script
Message-ID: <CAB6WXM5D-=Sqb_tBL-a_1YLToVtMqseVdxYqEDTRwb2=eqHZFg@mail.gmail.com>

Hi,

I just wanted to congratulate whoever was responsible for the recent
changes on wp_localize_script function.

This is the kind of improvement few people talk about, and I bet many
people are wondering what the hell happened:

wp_localize_script used to send all variables as javascript strings. And if
you tried to send an array, you would get an string "array" on the
javascript side.

Now you can pass strings, integers, booleans, arrays, arrays with keys,
multi dimensional arrays, etc. and you will get just the same thing on your
javascript. This is beautiful.

I wanted to let you know I noticed it! And Im very happy with it!

Thank you very much

Leo,,

-- 
leogermani.com.br

From otto at ottodestruct.com  Tue Mar 13 23:24:54 2012
From: otto at ottodestruct.com (Otto)
Date: Tue, 13 Mar 2012 18:24:54 -0500
Subject: [wp-hackers] congratulations on wp_localize_script
In-Reply-To: <CAB6WXM5D-=Sqb_tBL-a_1YLToVtMqseVdxYqEDTRwb2=eqHZFg@mail.gmail.com>
References: <CAB6WXM5D-=Sqb_tBL-a_1YLToVtMqseVdxYqEDTRwb2=eqHZFg@mail.gmail.com>
Message-ID: <CAD-FghxobzjjaDJcm5v+TCeCr_drCZY1=3n7_0bR41tRjQRDqg@mail.gmail.com>

To the best of my knowledge, that hasn't actually been added yet.
There's some discussion on it though:
http://core.trac.wordpress.org/ticket/19825

-Otto



On Tue, Mar 13, 2012 at 5:08 PM, Leo germani <leogermani at gmail.com> wrote:
> Hi,
>
> I just wanted to congratulate whoever was responsible for the recent
> changes on wp_localize_script function.
>
> This is the kind of improvement few people talk about, and I bet many
> people are wondering what the hell happened:
>
> wp_localize_script used to send all variables as javascript strings. And if
> you tried to send an array, you would get an string "array" on the
> javascript side.
>
> Now you can pass strings, integers, booleans, arrays, arrays with keys,
> multi dimensional arrays, etc. and you will get just the same thing on your
> javascript. This is beautiful.
>
> I wanted to let you know I noticed it! And Im very happy with it!
>
> Thank you very much
>
> Leo,,
>
> --
> leogermani.com.br
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From otto at ottodestruct.com  Tue Mar 13 23:26:52 2012
From: otto at ottodestruct.com (Otto)
Date: Tue, 13 Mar 2012 18:26:52 -0500
Subject: [wp-hackers] congratulations on wp_localize_script
In-Reply-To: <CAD-FghxobzjjaDJcm5v+TCeCr_drCZY1=3n7_0bR41tRjQRDqg@mail.gmail.com>
References: <CAB6WXM5D-=Sqb_tBL-a_1YLToVtMqseVdxYqEDTRwb2=eqHZFg@mail.gmail.com>
	<CAD-FghxobzjjaDJcm5v+TCeCr_drCZY1=3n7_0bR41tRjQRDqg@mail.gmail.com>
Message-ID: <CAD-Fghzz1KtU6=tOfKno3AKNkWyNo75wbSHYEHQ4SM6kopnBZg@mail.gmail.com>

Oh, never mind. That's about supporting Objects as well, which it
currently doesn't do. Arrays should work fine, I think. Probably have
since the whole thing was switched to using json_encode about 3 months
ago.

-Otto



On Tue, Mar 13, 2012 at 6:24 PM, Otto <otto at ottodestruct.com> wrote:
> To the best of my knowledge, that hasn't actually been added yet.
> There's some discussion on it though:
> http://core.trac.wordpress.org/ticket/19825
>
> -Otto
>
>
>
> On Tue, Mar 13, 2012 at 5:08 PM, Leo germani <leogermani at gmail.com> wrote:
>> Hi,
>>
>> I just wanted to congratulate whoever was responsible for the recent
>> changes on wp_localize_script function.
>>
>> This is the kind of improvement few people talk about, and I bet many
>> people are wondering what the hell happened:
>>
>> wp_localize_script used to send all variables as javascript strings. And if
>> you tried to send an array, you would get an string "array" on the
>> javascript side.
>>
>> Now you can pass strings, integers, booleans, arrays, arrays with keys,
>> multi dimensional arrays, etc. and you will get just the same thing on your
>> javascript. This is beautiful.
>>
>> I wanted to let you know I noticed it! And Im very happy with it!
>>
>> Thank you very much
>>
>> Leo,,
>>
>> --
>> leogermani.com.br
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers

From immanence7 at gmail.com  Tue Mar 13 23:41:00 2012
From: immanence7 at gmail.com (John Black)
Date: Wed, 14 Mar 2012 01:41:00 +0200
Subject: [wp-hackers] newbie question on custom page templates
In-Reply-To: <CANFh3d6Fjrp3s0UnT7gH9MTqkL6MnQFvnzggumFsU5pk0L+BqQ@mail.gmail.com>
References: <mailman.19971.1331561512.1433.wp-hackers@lists.automattic.com>
	<26428986-A7F6-4513-8E42-74EBC8CAD434@graymerica.com>
	<CANFh3d6Fjrp3s0UnT7gH9MTqkL6MnQFvnzggumFsU5pk0L+BqQ@mail.gmail.com>
Message-ID: <80C24B67-D42E-4CAD-9751-F2BD99D12277@gmail.com>

Great analogy, Andrew!
I only wish: a) I had an unlimited budget; or b) I could do it myself (i.e., I could understand code)


On 12 Mar 2012, at 17:28, Doug Stewart wrote:

> On Mon, Mar 12, 2012 at 11:09 AM, Andrew Gray <andrew at graymerica.com> wrote:
>> My thoughts on purchasing pre-made themes.
>> 
>> They are like a manufactured home.  It is great if you want one that looks just like that, but to try and get it to change to much is an uphill battle.
>> 
>> If you need something custom, build it yourself, and if you can't figure it out, hire someone who can.  Start with a PSD mockup and cut it up into HTML, then add the wordpress code.
>> 
>> We just got done building a website for a national bank that had 40 different page/ category/ archive templates,  four different contact forms, and nine custom post types.
>> 
>> It was like building a custom home,  we had to plan, sketch and design every piece ourselves.  WP is a great platform, but it is not magic.  Theme designers are looking to sell as many copies of their theme, so they can not plan for you specific requirements.
>> 
>> Wordpress sites only have to look like a blog if you let them.
>> 
> 
> Yes and no. Basing your work on a preexisting framework/parent theme
> can ultimately save you a ton of work. I know folks who specialize in
> doing things with Twentyten and Twentyeleven that you'd be
> hard-pressed to believe.
> 
> A "premium" theme is little more than another tool -- just as you need
> to learn the ins-and-outs of WordPress flows and syntaxes, you'll need
> to do the same for these themes/frameworks. Once you get them down,
> though, they can save you ALOT of work.
> 
> Think of them as those pre-fab house elements: LEGO bricks for
> building a theme. They do a lot of the heavy lifting, you just have to
> have the imagination to make a dragon.
> 
> -- 
> -Doug
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From lox.dev at knc.nc  Wed Mar 14 03:49:46 2012
From: lox.dev at knc.nc (Lox)
Date: Wed, 14 Mar 2012 14:49:46 +1100
Subject: [wp-hackers] How to make a role inherit anther role's
	capabilities?
In-Reply-To: <CAKkHmjW7Su6925VE8FcYF_E484f9KMAnTp+PR2-TG9nV1QJHGA@mail.gmail.com>
References: <CA+sFoLrmTx6Q7QDsgubO0pv2S_1w182Xx9MsFt3MED=uHvH__g@mail.gmail.com>
	<CAKkHmjW7Su6925VE8FcYF_E484f9KMAnTp+PR2-TG9nV1QJHGA@mail.gmail.com>
Message-ID: <CA+sFoLpAXgxkz1wxF4rar5YgFaLw+ee6j6NPo588pi6niqXK9Q@mail.gmail.com>

2012/3/14 peter baylies <pbaylies at semperfiwebdesign.com>

> $role = get_role( 'editor' );
> add_role( 'AnotherRole', 'AnotherRole', $role->capabilities );
>

Thanks a lot.

-- 
Lox
lox.dev at knc.nc

From tcbarrett at gmail.com  Wed Mar 14 14:04:09 2012
From: tcbarrett at gmail.com (Tom Barrett)
Date: Wed, 14 Mar 2012 14:04:09 +0000
Subject: [wp-hackers] Adding query var to pages with rewrites
Message-ID: <CAEgmxabj0n9NHqaFr22w2O1mPH13DiT=-F+=tbCOr8meqOnt4w@mail.gmail.com>

I want to write a shortcode that grabs a custom query var. For example:
http://www.tcbarrett.com/contact-us/myvar/12
This loads the /contact-us/ page and adds myvar=12

I'm guessing this is much like the pagination (/contact-us/page/2), but I'm
stuck on how to do this.

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From tcbarrett at gmail.com  Wed Mar 14 15:36:41 2012
From: tcbarrett at gmail.com (Tom Barrett)
Date: Wed, 14 Mar 2012 15:36:41 +0000
Subject: [wp-hackers] Adding query var to pages with rewrites
In-Reply-To: <CAEgmxabj0n9NHqaFr22w2O1mPH13DiT=-F+=tbCOr8meqOnt4w@mail.gmail.com>
References: <CAEgmxabj0n9NHqaFr22w2O1mPH13DiT=-F+=tbCOr8meqOnt4w@mail.gmail.com>
Message-ID: <CAEgmxabuit1PwTGo=_mYFiP1BHw5Li5qKLihxyW4e184pRo=PQ@mail.gmail.com>

Hopefully I've figured it out:

add_action( 'init', 'tcb_add_rewrite_rules' );
function tcb_add_rewrite_rules(){
  add_rewrite_tag( '%tcb_item%', '([\d]+)' );
  add_rewrite_rule( '(.+?)/tcb_item/([0-9]+)/?',
'index.php?pagename=$matches[1]&tcb_item=$matches[2]', 'top' );
}


On 14 March 2012 14:04, Tom Barrett <tcbarrett at gmail.com> wrote:

> I want to write a shortcode that grabs a custom query var. For example:
> http://www.tcbarrett.com/contact-us/myvar/12
> This loads the /contact-us/ page and adds myvar=12
>
> I'm guessing this is much like the pagination (/contact-us/page/2), but
> I'm stuck on how to do this.
>
> --
> http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> http://twitter.com/tcbarrett
>



-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From nicholas at iotecnologia.com.br  Wed Mar 14 16:58:23 2012
From: nicholas at iotecnologia.com.br (=?ISO-8859-1?Q?N=EDcholas_Andr=E9?=)
Date: Wed, 14 Mar 2012 13:58:23 -0300
Subject: [wp-hackers] Bug with post__in in WP 3.3.1?
Message-ID: <CAKmGc2=5bxpyjYezgF34655omgD_vRxFO-HATXsJEFpiptGA+g@mail.gmail.com>

Hi guys, I trying to get the 'Sticky' Post, but i have an issue.

I have the code above:
           sticky = get_option('sticky_posts');
            $slidePosts = array_slice($sticky , 0,3);
            $featuredPosts = array_slice($sticky , 4, 3);
            $slide = new WP_Query(array('post__in' => $slidePosts));
            if( $slide->have_posts() ) : while($slide->have_posts() ) :
$slide->the_post()

But I get all fixed posts, not the only that is in the array. If I remove
the 'post__in' the result is the same, but the order of the elements is
diffent( ordered by id), when i put it, the firsts elements are the
elements in the array $slidePosts, but it still showing all posts that are
fixed.

If I put post__in => array(54) for example, all the fixed posts are
retrivied and the post in array are the first;

Is somenthing that i'm doing wrong or this is a bug?

Complete Code:
http://pastebin.com/VKn4nXzC

Sorry for any mistakes on my english, i'm don't speak english very well.
-- 
N?cholas Andr?

T?cnico em Inform?tica pelo IFRN

Graduando em Ci?ncia da Computa??o - UFERSA

Blog : www.iotecnologia.com.br

Linux user number #478230.

From chris at clwill.com  Wed Mar 14 19:37:29 2012
From: chris at clwill.com (Chris Williams)
Date: Wed, 14 Mar 2012 15:37:29 -0400
Subject: [wp-hackers] Reset Login Timer
Message-ID: <CB864188.122BF%chris@clwill.com>

I tried asking this in the wp.org forums, got no hits.  Was wondering if someone here could advise.

I'm writing a plugin that relies on the user being logged in to access a number of features. The login expires after a period of time (24 hrs, I believe?). I want to have it reset if/when there is any activity - can be just a page load doesn't have to be anything fancy (like typing on the page).  Was thinking of adding some code into my page header to reset the cookies.  Just looking through things and I see that it looks like wp_set_auth_cookie() is the thing I want. I see that in user.php, there is a case where it does:

wp_clear_auth_cookie();
wp_set_auth_cookie($ID);

Does this seem like a good approach? Anyone know any problems/issues here, am I missing something?

Thanks in advance,
Chris

From scribu at gmail.com  Wed Mar 14 21:07:02 2012
From: scribu at gmail.com (scribu)
Date: Wed, 14 Mar 2012 23:07:02 +0200
Subject: [wp-hackers] Reset Login Timer
In-Reply-To: <CB864188.122BF%chris@clwill.com>
References: <CB864188.122BF%chris@clwill.com>
Message-ID: <CABzSYNNHjBF_8PTHJcZd+1dcm+CUUZKj6-rHDPT9MM3OxieCtg@mail.gmail.com>

Yes, wp_clear_auth_cookie() is what you would use to forcefully log out a
user.

-- 
http://scribu.net

From chris at clwill.com  Wed Mar 14 22:02:16 2012
From: chris at clwill.com (Chris Williams)
Date: Wed, 14 Mar 2012 18:02:16 -0400
Subject: [wp-hackers] Reset Login Timer
In-Reply-To: <CABzSYNNHjBF_8PTHJcZd+1dcm+CUUZKj6-rHDPT9MM3OxieCtg@mail.gmail.com>
Message-ID: <CB866320.122C7%chris@clwill.com>

Thanks.  So do I need to do the "clear" first, or can I just "set"?

Saw that "user" did, but that was in the password changed case, and can't
tell if the clear was a necessary step for me.

Thanks again.

On 3/14/12 2:07 PM, "scribu" <scribu at gmail.com> wrote:

>Yes, wp_clear_auth_cookie() is what you would use to forcefully log out a
>user.


From ryannmicua at gmail.com  Thu Mar 15 00:39:03 2012
From: ryannmicua at gmail.com (Ryann Micua)
Date: Thu, 15 Mar 2012 08:39:03 +0800
Subject: [wp-hackers] newbie question on custom page templates
Message-ID: <4F613A27.7070701@gmail.com>


> >  Thanks Mike.
> >  
> >  The theme I'm using also serves category pages, but they're lame. Just lists of posts. Doesn't look professional or interesting at all. The tech people who made that theme suggested developing custom page templates.
> >  
> >  Again, it surprises me that people don't see ready-made templates for custom pages.
You can only do so much with the commercial theme's options editor. 
Can't really expect a ready-made theme to cover all possibilities i.e. 
your requirements. You may see a RTU (ready to use) theme that has parts 
that you like, and don't like, and see another theme that has the other 
parts that you like.

Again, that house analogy by Andrew is a good one. If you want your home 
to look different from your neighbors then you'll have to find an 
already built home that has "all" your requirements (unlikely) or find 
the closest looking one and customize from there. If you know how to do 
it yourself, then good for you. If not, then you'll just have to find 
someone who does.

> >  
> >  On your other suggestion, am I alone in thinking that the support forums at wordpress.org are more or less dead? When I've posted there in the recent past I got virtually no replies.
This is so unfair to the people who spend a good amount of time 
answering questions in the forums. FOR FREE. But no it's not dead. You 
just probably need to rephrase your question. Or maybe break it down.

But, if this is the question you asked on the forums, then you'll 
probably get the same answer as here. Build the custom functionality 
yourself or hire someone else to do it for you.

Like Andrews said, "WP is great.. But it's not magic" ;)
-- 
*Ryann Micua*
/Web Developer/
------------------------------------------------------------------------

Website: /www.pogidude.com/
Skype: /rmicua/
Mobile: /+639169273059/


From serafin.vazquez at gmail.com  Thu Mar 15 14:34:42 2012
From: serafin.vazquez at gmail.com (Serafin)
Date: Thu, 15 Mar 2012 14:34:42 +0000
Subject: [wp-hackers] wp-hackers Digest, Vol 86, Issue 24
Message-ID: <4f61fe04.4a0c440a.2ec9.ffff88ba@mx.google.com>



Sent from my Droid Charge on Verizon 4GLTE

From fris at fris.net  Thu Mar 15 15:24:21 2012
From: fris at fris.net (fris)
Date: Thu, 15 Mar 2012 11:24:21 -0400
Subject: [wp-hackers] mask mysql password on install
Message-ID: <001601cd02bf$b2a6fe30$17f4fa90$@fris.net>

Anyway to mask the mysql password on install instead of showing plain text?

Thanks.



From eric at eam.me  Thu Mar 15 15:31:09 2012
From: eric at eam.me (Eric Mann)
Date: Thu, 15 Mar 2012 08:31:09 -0700
Subject: [wp-hackers] mask mysql password on install
In-Reply-To: <001601cd02bf$b2a6fe30$17f4fa90$@fris.net>
References: <001601cd02bf$b2a6fe30$17f4fa90$@fris.net>
Message-ID: <CAEi=p53Faq5mdGANzMk3NoNZGwE+HajXCSYfcAjq99trxUPvgw@mail.gmail.com>

MySQL passwords can sometimes be confusing alphanumeric strings that are
difficult enough to type when you *do* have plain text.  I think masking
that particular password field would put far too many people at a
disadvantage.

And since it's a password you only have to enter once - opposed to one you
enter daily where prying eyes could grab it - I don't really see the value
in such a change.  I could be wrong, tho ...

On Thu, Mar 15, 2012 at 8:24 AM, fris <fris at fris.net> wrote:

> Anyway to mask the mysql password on install instead of showing plain text?
>
> Thanks.
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From raven at mecus.es  Thu Mar 15 15:55:34 2012
From: raven at mecus.es (Rafael Poveda - RaveN)
Date: Thu, 15 Mar 2012 16:55:34 +0100
Subject: [wp-hackers] mask mysql password on install
In-Reply-To: <CAEi=p53Faq5mdGANzMk3NoNZGwE+HajXCSYfcAjq99trxUPvgw@mail.gmail.com>
References: <001601cd02bf$b2a6fe30$17f4fa90$@fris.net>
	<CAEi=p53Faq5mdGANzMk3NoNZGwE+HajXCSYfcAjq99trxUPvgw@mail.gmail.com>
Message-ID: <CADz5xS93OLAG7HKu6W2P3FrW+hZ3vTFmhjLVYPBzHyv=GDnsTg@mail.gmail.com>

I have this in mind too. It's easily solved with a tick to show/hide
password and I see it useful too.

If you propose in trac, I can submit the code this night :)
El 15/03/2012 16:31, "Eric Mann" <eric at eam.me> escribi?:

> MySQL passwords can sometimes be confusing alphanumeric strings that are
> difficult enough to type when you *do* have plain text.  I think masking
> that particular password field would put far too many people at a
> disadvantage.
>
> And since it's a password you only have to enter once - opposed to one you
> enter daily where prying eyes could grab it - I don't really see the value
> in such a change.  I could be wrong, tho ...
>
> On Thu, Mar 15, 2012 at 8:24 AM, fris <fris at fris.net> wrote:
>
> > Anyway to mask the mysql password on install instead of showing plain
> text?
> >
> > Thanks.
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kpayne+wordpress+hackers at gmail.com  Thu Mar 15 17:30:25 2012
From: kpayne+wordpress+hackers at gmail.com (Kurt Payne)
Date: Thu, 15 Mar 2012 10:30:25 -0700
Subject: [wp-hackers] mask mysql password on install
In-Reply-To: <CADz5xS93OLAG7HKu6W2P3FrW+hZ3vTFmhjLVYPBzHyv=GDnsTg@mail.gmail.com>
References: <001601cd02bf$b2a6fe30$17f4fa90$@fris.net>
	<CAEi=p53Faq5mdGANzMk3NoNZGwE+HajXCSYfcAjq99trxUPvgw@mail.gmail.com>
	<CADz5xS93OLAG7HKu6W2P3FrW+hZ3vTFmhjLVYPBzHyv=GDnsTg@mail.gmail.com>
Message-ID: <CAMNmD-e_WnE21TJGEXT0oQX7UgvgsxusVhQjQA71WOzDnNE1nA@mail.gmail.com>

If the password is hidden, would you also need a "confirm password"
box and the logic to check this in the installer?

--Kurt

On Thu, Mar 15, 2012 at 8:55 AM, Rafael Poveda - RaveN <raven at mecus.es> wrote:
> I have this in mind too. It's easily solved with a tick to show/hide
> password and I see it useful too.
>
> If you propose in trac, I can submit the code this night :)
> El 15/03/2012 16:31, "Eric Mann" <eric at eam.me> escribi?:
>
>> MySQL passwords can sometimes be confusing alphanumeric strings that are
>> difficult enough to type when you *do* have plain text. ?I think masking
>> that particular password field would put far too many people at a
>> disadvantage.
>>
>> And since it's a password you only have to enter once - opposed to one you
>> enter daily where prying eyes could grab it - I don't really see the value
>> in such a change. ?I could be wrong, tho ...
>>
>> On Thu, Mar 15, 2012 at 8:24 AM, fris <fris at fris.net> wrote:
>>
>> > Anyway to mask the mysql password on install instead of showing plain
>> text?
>> >
>> > Thanks.
>> >
>> >
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From eric at eam.me  Thu Mar 15 18:15:40 2012
From: eric at eam.me (Eric Mann)
Date: Thu, 15 Mar 2012 11:15:40 -0700
Subject: [wp-hackers] mask mysql password on install
In-Reply-To: <CAMNmD-e_WnE21TJGEXT0oQX7UgvgsxusVhQjQA71WOzDnNE1nA@mail.gmail.com>
References: <001601cd02bf$b2a6fe30$17f4fa90$@fris.net>
	<CAEi=p53Faq5mdGANzMk3NoNZGwE+HajXCSYfcAjq99trxUPvgw@mail.gmail.com>
	<CADz5xS93OLAG7HKu6W2P3FrW+hZ3vTFmhjLVYPBzHyv=GDnsTg@mail.gmail.com>
	<CAMNmD-e_WnE21TJGEXT0oQX7UgvgsxusVhQjQA71WOzDnNE1nA@mail.gmail.com>
Message-ID: <CAEi=p51gLb+64dEehw0FgRQ5yyP5LLn=ghn0iCCMEM=vzJVDMg@mail.gmail.com>

You're not creating a password, you're entering one in that will be stored
in `wp-config.php` and used later to make DB connections.  Think of it as
just logging in to the database.

On Thu, Mar 15, 2012 at 10:30 AM, Kurt Payne <
kpayne+wordpress+hackers at gmail.com> wrote:

> If the password is hidden, would you also need a "confirm password"
> box and the logic to check this in the installer?
>
> --Kurt
>
> On Thu, Mar 15, 2012 at 8:55 AM, Rafael Poveda - RaveN <raven at mecus.es>
> wrote:
> > I have this in mind too. It's easily solved with a tick to show/hide
> > password and I see it useful too.
> >
> > If you propose in trac, I can submit the code this night :)
> > El 15/03/2012 16:31, "Eric Mann" <eric at eam.me> escribi?:
> >
> >> MySQL passwords can sometimes be confusing alphanumeric strings that are
> >> difficult enough to type when you *do* have plain text.  I think masking
> >> that particular password field would put far too many people at a
> >> disadvantage.
> >>
> >> And since it's a password you only have to enter once - opposed to one
> you
> >> enter daily where prying eyes could grab it - I don't really see the
> value
> >> in such a change.  I could be wrong, tho ...
> >>
> >> On Thu, Mar 15, 2012 at 8:24 AM, fris <fris at fris.net> wrote:
> >>
> >> > Anyway to mask the mysql password on install instead of showing plain
> >> text?
> >> >
> >> > Thanks.
> >> >
> >> >
> >> > _______________________________________________
> >> > wp-hackers mailing list
> >> > wp-hackers at lists.automattic.com
> >> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >> >
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From iyanugrace at yahoo.com  Thu Mar 15 18:23:30 2012
From: iyanugrace at yahoo.com (Iyanu Grace)
Date: Thu, 15 Mar 2012 11:23:30 -0700 (PDT)
Subject: [wp-hackers] wp-hackers Digest, Vol 86, Issue 13
In-Reply-To: <mailman.19810.1331322113.1433.wp-hackers@lists.automattic.com>
References: <mailman.19810.1331322113.1433.wp-hackers@lists.automattic.com>
Message-ID: <1331835810.44565.YahooMailNeo@web113803.mail.gq1.yahoo.com>

Hello.I have a offer for any hacker that has interest.I own a website where i sell cameras .I need someone that would be shopping on my mwebsite with cc and i will pay him 30% on each goods bought at the shop. shipping to the same billing address ..if any interest ,please write me through this email address or darin.cantrell at aol.com


________________________________
 From: "wp-hackers-request at lists.automattic.com" <wp-hackers-request at lists.automattic.com>
To: wp-hackers at lists.automattic.com 
Sent: Friday, March 9, 2012 10:41 PM
Subject: wp-hackers Digest, Vol 86, Issue 13
 
Send wp-hackers mailing list submissions to
??? wp-hackers at lists.automattic.com

To subscribe or unsubscribe via the World Wide Web, visit
??? http://lists.automattic.com/mailman/listinfo/wp-hackers
or, via email, send a message with subject or body 'help' to
??? wp-hackers-request at lists.automattic.com

You can reach the person managing the list at
??? wp-hackers-owner at lists.automattic.com

When replying, please edit your Subject line so it is more specific
than "Re: Contents of wp-hackers digest..."


Today's Topics:

?  1. Re: Percona Server and WordPress (Jeremy Clarke)
?  2. Re: Percona Server and WordPress (Brian Layman)
?  3. Re: HyperDB - worth the trouble? (Baki Goxhaj)
?  4. Re: Percona Server and WordPress (Kevinjohn Gallagher)
?  5. Posting google news as blog posts (Pankaj Kumar Sharma)
?  6. Posting google news as blog posts (Pankaj Kumar Sharma)
?  7. Re: Percona Server and WordPress (Braydon)
?  8. GSOC 2012 (Samiran Raj Boro)


----------------------------------------------------------------------

Message: 1
Date: Fri, 9 Mar 2012 10:29:08 -0500
From: Jeremy Clarke <jer at simianuprising.com>
Subject: Re: [wp-hackers] Percona Server and WordPress
To: wp-hackers at lists.automattic.com
Message-ID:
??? <CAAHgzDOGAGr1jiUo3VxmrA-fnSe2beEBvouHSYW-rVp_Jvk1Tw at mail.gmail.com>
Content-Type: text/plain; charset=windows-1252

We switched to http://mariadb.org/ rather than Percona Server, but the
underlying software is almost entirely the same, both are packages of all
the wonderful open-source patches that just don't make it into the core
MySQL. In either case, the really mind-blowing performance gains come from
XtraDB, which is the replacement for the core InnoDB engine of MySQL.

Preparing and implementing the switch was time consuming and there was some
brief downtime while me and an expert figured out the config changes to
make (there are a couple of config variables that needed changing to make
it work right) but otherwise the transition was smooth. No WP related
issues as far as I can tell, it's pretty much totally compatible in terms
of actual SQL.

The performance gains I got were tremendous. Load went from static around 6
to more like 2 and stopped spiking the way it did before. Our upgrade was
from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
upgrade could have also played a part, but the change was so drastic I
believe it was XtraDB making the difference (the same kind of improvements
are described for people just switching within a major MySQL branch).

IMHO this is the future of MySQL. I hope the hosts of the world start
switching :)

-- 
Jeremy Clarke ? jeremyclarke.org
Code and Design ? globalvoicesonline.org


------------------------------

Message: 2
Date: Fri, 09 Mar 2012 11:22:02 -0500
From: Brian Layman <wp-hackers at thecodecave.com>
Subject: Re: [wp-hackers] Percona Server and WordPress
To: wp-hackers at lists.automattic.com
Message-ID: <4F5A2E2A.10606 at thecodecave.com>
Content-Type: text/plain; charset=windows-1252; format=flowed

Oh interesting....

I'd not heard of MariaDB before...
"MariaDB is primarily driven by developers at Monty Program, a company 
founded by Michael "Monty" Widenius, the original author of MySQL"

It's curious why these changes aren't added to the MySQL core if they 
make such a significant difference...

Brian Layman


On 3/9/2012 10:29 AM, Jeremy Clarke wrote:
> We switched to http://mariadb.org/ rather than Percona Server, but the
> underlying software is almost entirely the same, both are packages of all
> the wonderful open-source patches that just don't make it into the core
> MySQL. In either case, the really mind-blowing performance gains come from
> XtraDB, which is the replacement for the core InnoDB engine of MySQL.
>
> Preparing and implementing the switch was time consuming and there was some
> brief downtime while me and an expert figured out the config changes to
> make (there are a couple of config variables that needed changing to make
> it work right) but otherwise the transition was smooth. No WP related
> issues as far as I can tell, it's pretty much totally compatible in terms
> of actual SQL.
>
> The performance gains I got were tremendous. Load went from static around 6
> to more like 2 and stopped spiking the way it did before. Our upgrade was
> from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
> upgrade could have also played a part, but the change was so drastic I
> believe it was XtraDB making the difference (the same kind of improvements
> are described for people just switching within a major MySQL branch).
>
> IMHO this is the future of MySQL. I hope the hosts of the world start
> switching :)
>


------------------------------

Message: 3
Date: Fri, 9 Mar 2012 17:42:39 +0100
From: Baki Goxhaj <banago at gmail.com>
Subject: Re: [wp-hackers] HyperDB - worth the trouble?
To: wp-hackers at lists.automattic.com
Message-ID:
??? <CAM_fM0pBqBz3Te+acj8u6AAU0szsOiujX-bCi96hg=5FErayAQ at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

That cool! And a little embarrassing. I could just have check the tables
myself.

Thanks guys - my questions are answered.

Kindly,

Baki Goxhaj
www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>


On Thu, Mar 8, 2012 at 9:48 PM, Brian Layman <wp-hackers at thecodecave.com>wrote:

>
> On 3/8/2012 2:26 PM, Baki Goxhaj wrote:
>
>> The good news is in almost all cases WP Multisite already splits sites
>>> across tables
>>>
>> That would be cool then, but is this really the case? Otto? :)
>>
> Sure! Every site gets their own set of tables by default.? Posts would
> stored in a table with the blog ID as part of the name.? So you'd have
> things like: wp_2_posts or maybe wp_23_posts
>
> In my opinion, the long and short of it is that you should only move to a
> more complex configuration when you have outgrown your current
> configuration.? Don't anticipate.? Otherwise you are adding complexity (and
> possibly expense) when there is no need.
>
> Only add HyperDB if you know you are being slowed down by the database and
> can't do anything more with caching.?  Add extra read servers only when you
> see your current server configuration maxed out and basic upgrades to the
> machine is not going to be cost effective.? Only add sharding when adding
> more machines is no longer cost effective.? Jumping ahead of the game and
> say going straight to a hyperdb configuration sharded across regions,
> because you know your site is going to be popular, would add only
> complexity and distract you from the things you need to do to keep your
> site popular - and it could even slow your site down.
>
> Start with memcache and a php accelerator like APC and something like
> w3tc.? Then when needed a separate DB server and then when needed hyperdb
> with a r/w master and a read slave. And read up about php-fpm and nginx
> along the way.
>
> Brian Layman
>
>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>


------------------------------

Message: 4
Date: Fri, 9 Mar 2012 17:22:39 +0000
From: Kevinjohn Gallagher <kevinjohngallagher at hotmail.com>
Subject: Re: [wp-hackers] Percona Server and WordPress
To: "wp-hackers at lists.automattic.com"
??? <wp-hackers at lists.automattic.com>
Message-ID: <BLU150-W12CEC3C929AD200578908CC540 at phx.gbl>
Content-Type: text/plain; charset="iso-8859-1"



[people don't like it when i actually write things, so here's links with answer to your questions]

http://monty-says.blogspot.com/2009/02/time-to-move-on.html
http://www.theregister.co.uk/2009/12/29/save_mysql_campaign/
http://kb.askmonty.org/en/mariadb-versus-mysql
I also found this interesting:
http://www.odbms.org/blog/2011/09/mariadb-the-new-mysql-interview-with-michael-monty-widenius/



> Date: Fri, 9 Mar 2012 11:22:02 -0500
> From: wp-hackers at thecodecave.com
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Percona Server and WordPress
> 
> Oh interesting....
> 
> I'd not heard of MariaDB before...
> "MariaDB is primarily driven by developers at Monty Program, a company 
> founded by Michael "Monty" Widenius, the original author of MySQL"
> 
> It's curious why these changes aren't added to the MySQL core if they 
> make such a significant difference...
> 
> Brian Layman
> 
> 
> On 3/9/2012 10:29 AM, Jeremy Clarke wrote:
> > We switched to http://mariadb.org/ rather than Percona Server, but the
> > underlying software is almost entirely the same, both are packages of all
> > the wonderful open-source patches that just don't make it into the core
> > MySQL. In either case, the really mind-blowing performance gains come from
> > XtraDB, which is the replacement for the core InnoDB engine of MySQL.
> >
> > Preparing and implementing the switch was time consuming and there was some
> > brief downtime while me and an expert figured out the config changes to
> > make (there are a couple of config variables that needed changing to make
> > it work right) but otherwise the transition was smooth. No WP related
> > issues as far as I can tell, it's pretty much totally compatible in terms
> > of actual SQL.
> >
> > The performance gains I got were tremendous. Load went from static around 6
> > to more like 2 and stopped spiking the way it did before. Our upgrade was
> > from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
> > upgrade could have also played a part, but the change was so drastic I
> > believe it was XtraDB making the difference (the same kind of improvements
> > are described for people just switching within a major MySQL branch).
> >
> > IMHO this is the future of MySQL. I hope the hosts of the world start
> > switching :)
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
??? ???  ??? ?  ??? ??? ? 

------------------------------

Message: 5
Date: Sat, 10 Mar 2012 00:49:31 +0530
From: Pankaj Kumar Sharma <sharmapankaj1992 at gmail.com>
Subject: [wp-hackers] Posting google news as blog posts
To: wp-hackers at lists.automattic.com
Message-ID:
??? <CADEuSkfjN3Gp5pwRSDjsmkB4ra=-3oazyEXGVPTr7P4jixGuVw at mail.gmail.com>
Content-Type: text/plain; charset=UTF-8

Hi
using google news search and wp apis I have made a plugin that allows
admins to post google news in their blogs without even logging inside the
admin panel.
The plugin is in initial stage. I welcome you all to test this and provide
me feedbacks.
Here it is: http://engineerinme.com/gnews-wordpress.zip
Regards,

-- 
Pankaj Kumar Sharma | ???? ????? ?????
Jamia Millia Islamia


------------------------------

Message: 6
Date: Sat, 10 Mar 2012 00:51:35 +0530
From: Pankaj Kumar Sharma <pankaj at engineerinme.com>
Subject: [wp-hackers] Posting google news as blog posts
To: wp-hackers at lists.automattic.com
Message-ID:
??? <CADEuSkcp2MscwOFJTf+b7WU2XLkjNkddLrXO3Nsv153RpDqc-Q at mail.gmail.com>
Content-Type: text/plain; charset=UTF-8

Hi
using google news search and wp apis I have made a plugin that allows
admins to post google news in their blogs without even logging inside the
admin panel.
The plugin is in initial stage. I welcome you all to test this and provide
me feedbacks.
Here it is: http://engineerinme.com/gnews-wordpress.zip
Regards,

-- 
Pankaj Kumar Sharma | ???? ????? ?????
Jamia Millia Islamia




-- 
Pankaj Kumar Sharma | ???? ????? ?????
?  Co-Founder engineerinme.com
-------------------------------------------------
Facebook <http://www.facebook.com/engineerinme> |
Twitter<http://twitter.com/#%21/engineerinmine>|
Linkedin <http://in.linkedin.com/pub/pankaj-sharma/31/270/365> |
Google+<https://plus.google.com/111168421079080711164/about>


------------------------------

Message: 7
Date: Fri, 09 Mar 2012 11:37:03 -0800
From: Braydon <ronin at braydon.com>
Subject: Re: [wp-hackers] Percona Server and WordPress
To: wp-hackers at lists.automattic.com
Message-ID: <4F5A5BDF.3020604 at braydon.com>
Content-Type: text/plain; charset=windows-1252; format=flowed

There is also Drizzle, a MySQL fork for high concurrency: 
http://www.drizzle.org/

On 03/09/2012 07:29 AM, Jeremy Clarke wrote:
> We switched to http://mariadb.org/ rather than Percona Server, but the
> underlying software is almost entirely the same, both are packages of all
> the wonderful open-source patches that just don't make it into the core
> MySQL. In either case, the really mind-blowing performance gains come from
> XtraDB, which is the replacement for the core InnoDB engine of MySQL.
>
> Preparing and implementing the switch was time consuming and there was some
> brief downtime while me and an expert figured out the config changes to
> make (there are a couple of config variables that needed changing to make
> it work right) but otherwise the transition was smooth. No WP related
> issues as far as I can tell, it's pretty much totally compatible in terms
> of actual SQL.
>
> The performance gains I got were tremendous. Load went from static around 6
> to more like 2 and stopped spiking the way it did before. Our upgrade was
> from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
> upgrade could have also played a part, but the change was so drastic I
> believe it was XtraDB making the difference (the same kind of improvements
> are described for people just switching within a major MySQL branch).
>
> IMHO this is the future of MySQL. I hope the hosts of the world start
> switching :)
>


-- 
Braydon Fuller
http://braydon.com/



------------------------------

Message: 8
Date: Sat, 10 Mar 2012 01:11:50 +0530
From: Samiran Raj Boro <srajbr at gmail.com>
Subject: [wp-hackers] GSOC 2012
To: wp-hackers at lists.automattic.com
Message-ID:
??? <CAEJCmggQ9HywGGU+_AAxWROquonmB49UKnNG2h45wzd--m-ANQ at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

Hi,
I am Samiran Raj Boro pursing BTech (CSE) in Gauhati University. I am
interested to submit proposal to WP this year in GSOC. I looked for this
year ideal page for GSOC, but could not find it. I can find the last year
idea list. Is the list yet to be published?

Any suggestions for me please.

Samiran


------------------------------

_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


End of wp-hackers Digest, Vol 86, Issue 13
******************************************

From ipstenu at ipstenu.org  Thu Mar 15 18:25:27 2012
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Thu, 15 Mar 2012 13:25:27 -0500
Subject: [wp-hackers] wp-hackers Digest, Vol 86, Issue 13
In-Reply-To: <1331835810.44565.YahooMailNeo@web113803.mail.gq1.yahoo.com>
References: <mailman.19810.1331322113.1433.wp-hackers@lists.automattic.com>
	<1331835810.44565.YahooMailNeo@web113803.mail.gq1.yahoo.com>
Message-ID: <310A238B-15C2-4934-94EB-C68AE39F8977@ipstenu.org>

Please post that on http://jobs.wordpress.net or contact people on http://codepoet.com

----
Mika A Epstein (aka Ipstenu)
http://ipstenu.org

On 15 Mar 2012, at 1:23:30PM, Iyanu Grace wrote:

> Hello.I have a offer for any hacker that has interest.I own a website where i sell cameras .I need someone that would be shopping on my mwebsite with cc and i will pay him 30% on each goods bought at the shop. shipping to the same billing address ..if any interest ,please write me through this email address or darin.cantrell at aol.com
> 
> 
> ________________________________
> From: "wp-hackers-request at lists.automattic.com" <wp-hackers-request at lists.automattic.com>
> To: wp-hackers at lists.automattic.com 
> Sent: Friday, March 9, 2012 10:41 PM
> Subject: wp-hackers Digest, Vol 86, Issue 13
> 
> Send wp-hackers mailing list submissions to
>     wp-hackers at lists.automattic.com
> 
> To subscribe or unsubscribe via the World Wide Web, visit
>     http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>     wp-hackers-request at lists.automattic.com
> 
> You can reach the person managing the list at
>     wp-hackers-owner at lists.automattic.com
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
> 
> 
> Today's Topics:
> 
>    1. Re: Percona Server and WordPress (Jeremy Clarke)
>    2. Re: Percona Server and WordPress (Brian Layman)
>    3. Re: HyperDB - worth the trouble? (Baki Goxhaj)
>    4. Re: Percona Server and WordPress (Kevinjohn Gallagher)
>    5. Posting google news as blog posts (Pankaj Kumar Sharma)
>    6. Posting google news as blog posts (Pankaj Kumar Sharma)
>    7. Re: Percona Server and WordPress (Braydon)
>    8. GSOC 2012 (Samiran Raj Boro)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Fri, 9 Mar 2012 10:29:08 -0500
> From: Jeremy Clarke <jer at simianuprising.com>
> Subject: Re: [wp-hackers] Percona Server and WordPress
> To: wp-hackers at lists.automattic.com
> Message-ID:
>     <CAAHgzDOGAGr1jiUo3VxmrA-fnSe2beEBvouHSYW-rVp_Jvk1Tw at mail.gmail.com>
> Content-Type: text/plain; charset=windows-1252
> 
> We switched to http://mariadb.org/ rather than Percona Server, but the
> underlying software is almost entirely the same, both are packages of all
> the wonderful open-source patches that just don't make it into the core
> MySQL. In either case, the really mind-blowing performance gains come from
> XtraDB, which is the replacement for the core InnoDB engine of MySQL.
> 
> Preparing and implementing the switch was time consuming and there was some
> brief downtime while me and an expert figured out the config changes to
> make (there are a couple of config variables that needed changing to make
> it work right) but otherwise the transition was smooth. No WP related
> issues as far as I can tell, it's pretty much totally compatible in terms
> of actual SQL.
> 
> The performance gains I got were tremendous. Load went from static around 6
> to more like 2 and stopped spiking the way it did before. Our upgrade was
> from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
> upgrade could have also played a part, but the change was so drastic I
> believe it was XtraDB making the difference (the same kind of improvements
> are described for people just switching within a major MySQL branch).
> 
> IMHO this is the future of MySQL. I hope the hosts of the world start
> switching :)
> 
> -- 
> Jeremy Clarke ? jeremyclarke.org
> Code and Design ? globalvoicesonline.org
> 
> 
> ------------------------------
> 
> Message: 2
> Date: Fri, 09 Mar 2012 11:22:02 -0500
> From: Brian Layman <wp-hackers at thecodecave.com>
> Subject: Re: [wp-hackers] Percona Server and WordPress
> To: wp-hackers at lists.automattic.com
> Message-ID: <4F5A2E2A.10606 at thecodecave.com>
> Content-Type: text/plain; charset=windows-1252; format=flowed
> 
> Oh interesting....
> 
> I'd not heard of MariaDB before...
> "MariaDB is primarily driven by developers at Monty Program, a company 
> founded by Michael "Monty" Widenius, the original author of MySQL"
> 
> It's curious why these changes aren't added to the MySQL core if they 
> make such a significant difference...
> 
> Brian Layman
> 
> 
> On 3/9/2012 10:29 AM, Jeremy Clarke wrote:
>> We switched to http://mariadb.org/ rather than Percona Server, but the
>> underlying software is almost entirely the same, both are packages of all
>> the wonderful open-source patches that just don't make it into the core
>> MySQL. In either case, the really mind-blowing performance gains come from
>> XtraDB, which is the replacement for the core InnoDB engine of MySQL.
>> 
>> Preparing and implementing the switch was time consuming and there was some
>> brief downtime while me and an expert figured out the config changes to
>> make (there are a couple of config variables that needed changing to make
>> it work right) but otherwise the transition was smooth. No WP related
>> issues as far as I can tell, it's pretty much totally compatible in terms
>> of actual SQL.
>> 
>> The performance gains I got were tremendous. Load went from static around 6
>> to more like 2 and stopped spiking the way it did before. Our upgrade was
>> from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
>> upgrade could have also played a part, but the change was so drastic I
>> believe it was XtraDB making the difference (the same kind of improvements
>> are described for people just switching within a major MySQL branch).
>> 
>> IMHO this is the future of MySQL. I hope the hosts of the world start
>> switching :)
>> 
> 
> 
> ------------------------------
> 
> Message: 3
> Date: Fri, 9 Mar 2012 17:42:39 +0100
> From: Baki Goxhaj <banago at gmail.com>
> Subject: Re: [wp-hackers] HyperDB - worth the trouble?
> To: wp-hackers at lists.automattic.com
> Message-ID:
>     <CAM_fM0pBqBz3Te+acj8u6AAU0szsOiujX-bCi96hg=5FErayAQ at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> That cool! And a little embarrassing. I could just have check the tables
> myself.
> 
> Thanks guys - my questions are answered.
> 
> Kindly,
> 
> Baki Goxhaj
> www.wplancer.com | proverbhunter.com | www.banago.info<http://proverbhunter.com>
> 
> 
> On Thu, Mar 8, 2012 at 9:48 PM, Brian Layman <wp-hackers at thecodecave.com>wrote:
> 
>> 
>> On 3/8/2012 2:26 PM, Baki Goxhaj wrote:
>> 
>>> The good news is in almost all cases WP Multisite already splits sites
>>>> across tables
>>>> 
>>> That would be cool then, but is this really the case? Otto? :)
>>> 
>> Sure! Every site gets their own set of tables by default.  Posts would
>> stored in a table with the blog ID as part of the name.  So you'd have
>> things like: wp_2_posts or maybe wp_23_posts
>> 
>> In my opinion, the long and short of it is that you should only move to a
>> more complex configuration when you have outgrown your current
>> configuration.  Don't anticipate.  Otherwise you are adding complexity (and
>> possibly expense) when there is no need.
>> 
>> Only add HyperDB if you know you are being slowed down by the database and
>> can't do anything more with caching.   Add extra read servers only when you
>> see your current server configuration maxed out and basic upgrades to the
>> machine is not going to be cost effective.  Only add sharding when adding
>> more machines is no longer cost effective.  Jumping ahead of the game and
>> say going straight to a hyperdb configuration sharded across regions,
>> because you know your site is going to be popular, would add only
>> complexity and distract you from the things you need to do to keep your
>> site popular - and it could even slow your site down.
>> 
>> Start with memcache and a php accelerator like APC and something like
>> w3tc.  Then when needed a separate DB server and then when needed hyperdb
>> with a r/w master and a read slave. And read up about php-fpm and nginx
>> along the way.
>> 
>> Brian Layman
>> 
>> 
>> 
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>> 
> 
> 
> ------------------------------
> 
> Message: 4
> Date: Fri, 9 Mar 2012 17:22:39 +0000
> From: Kevinjohn Gallagher <kevinjohngallagher at hotmail.com>
> Subject: Re: [wp-hackers] Percona Server and WordPress
> To: "wp-hackers at lists.automattic.com"
>     <wp-hackers at lists.automattic.com>
> Message-ID: <BLU150-W12CEC3C929AD200578908CC540 at phx.gbl>
> Content-Type: text/plain; charset="iso-8859-1"
> 
> 
> 
> [people don't like it when i actually write things, so here's links with answer to your questions]
> 
> http://monty-says.blogspot.com/2009/02/time-to-move-on.html
> http://www.theregister.co.uk/2009/12/29/save_mysql_campaign/
> http://kb.askmonty.org/en/mariadb-versus-mysql
> I also found this interesting:
> http://www.odbms.org/blog/2011/09/mariadb-the-new-mysql-interview-with-michael-monty-widenius/
> 
> 
> 
>> Date: Fri, 9 Mar 2012 11:22:02 -0500
>> From: wp-hackers at thecodecave.com
>> To: wp-hackers at lists.automattic.com
>> Subject: Re: [wp-hackers] Percona Server and WordPress
>> 
>> Oh interesting....
>> 
>> I'd not heard of MariaDB before...
>> "MariaDB is primarily driven by developers at Monty Program, a company 
>> founded by Michael "Monty" Widenius, the original author of MySQL"
>> 
>> It's curious why these changes aren't added to the MySQL core if they 
>> make such a significant difference...
>> 
>> Brian Layman
>> 
>> 
>> On 3/9/2012 10:29 AM, Jeremy Clarke wrote:
>>> We switched to http://mariadb.org/ rather than Percona Server, but the
>>> underlying software is almost entirely the same, both are packages of all
>>> the wonderful open-source patches that just don't make it into the core
>>> MySQL. In either case, the really mind-blowing performance gains come from
>>> XtraDB, which is the replacement for the core InnoDB engine of MySQL.
>>> 
>>> Preparing and implementing the switch was time consuming and there was some
>>> brief downtime while me and an expert figured out the config changes to
>>> make (there are a couple of config variables that needed changing to make
>>> it work right) but otherwise the transition was smooth. No WP related
>>> issues as far as I can tell, it's pretty much totally compatible in terms
>>> of actual SQL.
>>> 
>>> The performance gains I got were tremendous. Load went from static around 6
>>> to more like 2 and stopped spiking the way it did before. Our upgrade was
>>> from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
>>> upgrade could have also played a part, but the change was so drastic I
>>> believe it was XtraDB making the difference (the same kind of improvements
>>> are described for people just switching within a major MySQL branch).
>>> 
>>> IMHO this is the future of MySQL. I hope the hosts of the world start
>>> switching :)
>>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>                           
> 
> ------------------------------
> 
> Message: 5
> Date: Sat, 10 Mar 2012 00:49:31 +0530
> From: Pankaj Kumar Sharma <sharmapankaj1992 at gmail.com>
> Subject: [wp-hackers] Posting google news as blog posts
> To: wp-hackers at lists.automattic.com
> Message-ID:
>     <CADEuSkfjN3Gp5pwRSDjsmkB4ra=-3oazyEXGVPTr7P4jixGuVw at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> Hi
> using google news search and wp apis I have made a plugin that allows
> admins to post google news in their blogs without even logging inside the
> admin panel.
> The plugin is in initial stage. I welcome you all to test this and provide
> me feedbacks.
> Here it is: http://engineerinme.com/gnews-wordpress.zip
> Regards,
> 
> -- 
> Pankaj Kumar Sharma | ???? ????? ?????
> Jamia Millia Islamia
> 
> 
> ------------------------------
> 
> Message: 6
> Date: Sat, 10 Mar 2012 00:51:35 +0530
> From: Pankaj Kumar Sharma <pankaj at engineerinme.com>
> Subject: [wp-hackers] Posting google news as blog posts
> To: wp-hackers at lists.automattic.com
> Message-ID:
>     <CADEuSkcp2MscwOFJTf+b7WU2XLkjNkddLrXO3Nsv153RpDqc-Q at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
> 
> Hi
> using google news search and wp apis I have made a plugin that allows
> admins to post google news in their blogs without even logging inside the
> admin panel.
> The plugin is in initial stage. I welcome you all to test this and provide
> me feedbacks.
> Here it is: http://engineerinme.com/gnews-wordpress.zip
> Regards,
> 
> -- 
> Pankaj Kumar Sharma | ???? ????? ?????
> Jamia Millia Islamia
> 
> 
> 
> 
> -- 
> Pankaj Kumar Sharma | ???? ????? ?????
>    Co-Founder engineerinme.com
> -------------------------------------------------
> Facebook <http://www.facebook.com/engineerinme> |
> Twitter<http://twitter.com/#%21/engineerinmine>|
> Linkedin <http://in.linkedin.com/pub/pankaj-sharma/31/270/365> |
> Google+<https://plus.google.com/111168421079080711164/about>
> 
> 
> ------------------------------
> 
> Message: 7
> Date: Fri, 09 Mar 2012 11:37:03 -0800
> From: Braydon <ronin at braydon.com>
> Subject: Re: [wp-hackers] Percona Server and WordPress
> To: wp-hackers at lists.automattic.com
> Message-ID: <4F5A5BDF.3020604 at braydon.com>
> Content-Type: text/plain; charset=windows-1252; format=flowed
> 
> There is also Drizzle, a MySQL fork for high concurrency: 
> http://www.drizzle.org/
> 
> On 03/09/2012 07:29 AM, Jeremy Clarke wrote:
>> We switched to http://mariadb.org/ rather than Percona Server, but the
>> underlying software is almost entirely the same, both are packages of all
>> the wonderful open-source patches that just don't make it into the core
>> MySQL. In either case, the really mind-blowing performance gains come from
>> XtraDB, which is the replacement for the core InnoDB engine of MySQL.
>> 
>> Preparing and implementing the switch was time consuming and there was some
>> brief downtime while me and an expert figured out the config changes to
>> make (there are a couple of config variables that needed changing to make
>> it work right) but otherwise the transition was smooth. No WP related
>> issues as far as I can tell, it's pretty much totally compatible in terms
>> of actual SQL.
>> 
>> The performance gains I got were tremendous. Load went from static around 6
>> to more like 2 and stopped spiking the way it did before. Our upgrade was
>> from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
>> upgrade could have also played a part, but the change was so drastic I
>> believe it was XtraDB making the difference (the same kind of improvements
>> are described for people just switching within a major MySQL branch).
>> 
>> IMHO this is the future of MySQL. I hope the hosts of the world start
>> switching :)
>> 
> 
> 
> -- 
> Braydon Fuller
> http://braydon.com/
> 
> 
> 
> ------------------------------
> 
> Message: 8
> Date: Sat, 10 Mar 2012 01:11:50 +0530
> From: Samiran Raj Boro <srajbr at gmail.com>
> Subject: [wp-hackers] GSOC 2012
> To: wp-hackers at lists.automattic.com
> Message-ID:
>     <CAEJCmggQ9HywGGU+_AAxWROquonmB49UKnNG2h45wzd--m-ANQ at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> Hi,
> I am Samiran Raj Boro pursing BTech (CSE) in Gauhati University. I am
> interested to submit proposal to WP this year in GSOC. I looked for this
> year ideal page for GSOC, but could not find it. I can find the last year
> idea list. Is the list yet to be published?
> 
> Any suggestions for me please.
> 
> Samiran
> 
> 
> ------------------------------
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> End of wp-hackers Digest, Vol 86, Issue 13
> ******************************************
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From nick at thoughtrefinery.com  Thu Mar 15 19:03:14 2012
From: nick at thoughtrefinery.com (Nicholas Ciske)
Date: Thu, 15 Mar 2012 14:03:14 -0500
Subject: [wp-hackers] Percona Server and WordPress
In-Reply-To: <mailman.20249.1331835812.1433.wp-hackers@lists.automattic.com>
References: <mailman.20249.1331835812.1433.wp-hackers@lists.automattic.com>
Message-ID: <3903CCF3-3DE3-42AE-81B0-AC37A0F15306@thoughtrefinery.com>

Jeremy,

Have you written up the config changes & process of getting MariaDB set-up anywhere? I didn't see anything on your blog, but I'd love to know what it would take to implement MariaDB on my server.

_________________________
Nick Ciske
Minneapolis WordPress Development

http://thoughtrefinery.com/
nick at thoughtrefinery.com
@nciske

On Mar 15, 2012, at 1:23 PM, wp-hackers-request at lists.automattic.com wrote:

> Message: 1
> Date: Fri, 9 Mar 2012 10:29:08 -0500
> From: Jeremy Clarke <jer at simianuprising.com>
> Subject: Re: [wp-hackers] Percona Server and WordPress
> To: wp-hackers at lists.automattic.com
> Message-ID:
> ??? <CAAHgzDOGAGr1jiUo3VxmrA-fnSe2beEBvouHSYW-rVp_Jvk1Tw at mail.gmail.com>
> Content-Type: text/plain; charset=windows-1252
> 
> We switched to http://mariadb.org/ rather than Percona Server, but the
> underlying software is almost entirely the same, both are packages of all
> the wonderful open-source patches that just don't make it into the core
> MySQL. In either case, the really mind-blowing performance gains come from
> XtraDB, which is the replacement for the core InnoDB engine of MySQL.
> 
> Preparing and implementing the switch was time consuming and there was some
> brief downtime while me and an expert figured out the config changes to
> make (there are a couple of config variables that needed changing to make
> it work right) but otherwise the transition was smooth. No WP related
> issues as far as I can tell, it's pretty much totally compatible in terms
> of actual SQL.
> 
> The performance gains I got were tremendous. Load went from static around 6
> to more like 2 and stopped spiking the way it did before. Our upgrade was
> from MySQL 5.0.x. to the 5.1.x branch of MariaDB, so the actual MySQL
> upgrade could have also played a part, but the change was so drastic I
> believe it was XtraDB making the difference (the same kind of improvements
> are described for people just switching within a major MySQL branch).
> 
> IMHO this is the future of MySQL. I hope the hosts of the world start
> switching :)
> 
> -- 
> Jeremy Clarke ? jeremyclarke.org
> Code and Design ? globalvoicesonline.org


From brad at touesnard.com  Sun Mar 18 00:39:57 2012
From: brad at touesnard.com (Brad Touesnard)
Date: Sat, 17 Mar 2012 21:39:57 -0300
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
Message-ID: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>

It seems there's two competing views on whether a set of functions or a
class should be used in core. For example, the relatively recent transients
API is a set of functions, but could have just as easily been a class. Is
there some reasoning behind the decision to use a set of functions instead
of a class? Or is it coders choice?

To be clear, I'm not for or against using a set of functions instead of a
class. And the transients API is great the way it is. If there's no
difference in performance, I personally don't care either way. However, I
am for consistency and don't see a reason why we should use both techniques.

And what about static class variables rather than global variables? WP
stopped supporting PHP4 last year, so is there any reason not to use static
class variables for new development?

Maybe there's a wiki article I'm missing about this stuff? I did look at
the WordPress Coding Standards wiki page (
http://codex.wordpress.org/WordPress_Coding_Standards), but no luck.

Cheers,
Brad
http://bradt.ca/

From ronin at braydon.com  Sun Mar 18 01:14:32 2012
From: ronin at braydon.com (Braydon)
Date: Sat, 17 Mar 2012 18:14:32 -0700
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
Message-ID: <4F6536F8.8040904@braydon.com>

When 5.3 is the minimum requirement, using namespaces would give a solution.

So "set_transient()" would could become "WordPress::set_transient()" and 
within plugin and theme development we could be in the WordPress 
namespace, and still use the shorter "set_transient()". The benefit here 
is more cohesion between separate PHP projects.

It's more or less the same anyways.

On 03/17/2012 05:39 PM, Brad Touesnard wrote:
> It seems there's two competing views on whether a set of functions or a
> class should be used in core. For example, the relatively recent transients
> API is a set of functions, but could have just as easily been a class. Is
> there some reasoning behind the decision to use a set of functions instead
> of a class? Or is it coders choice?
>
> To be clear, I'm not for or against using a set of functions instead of a
> class. And the transients API is great the way it is. If there's no
> difference in performance, I personally don't care either way. However, I
> am for consistency and don't see a reason why we should use both techniques.
>
> And what about static class variables rather than global variables? WP
> stopped supporting PHP4 last year, so is there any reason not to use static
> class variables for new development?
>
> Maybe there's a wiki article I'm missing about this stuff? I did look at
> the WordPress Coding Standards wiki page (
> http://codex.wordpress.org/WordPress_Coding_Standards), but no luck.
>
> Cheers,
> Brad
> http://bradt.ca/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> !DSPAM:4f652ef8140311418750826!
>


-- 
Braydon Fuller
http://braydon.com/


From scribu at gmail.com  Sun Mar 18 01:20:35 2012
From: scribu at gmail.com (scribu)
Date: Sun, 18 Mar 2012 03:20:35 +0200
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
Message-ID: <CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>

>
> Is there some reasoning behind the decision to use a set of functions
> instead
> of a class? Or is it coders choice?
>

The reasoning goes something like this:

1. Use functions.

2. Are there several pieces of data that needs to be constantly passed
around between those functions? Use a class.

And what about static class variables rather than global variables? WP
> stopped supporting PHP4 last year, so is there any reason not to use static
> class variables for new development?
>

I don't think new globals were introduced since we dropped PHP4, but I
haven't see static class variables used yet either.

-- 
http://scribu.net

From michal at srodek.info  Sun Mar 18 07:53:46 2012
From: michal at srodek.info (=?ISO-8859-2?Q?Micha=B3_=A6rodek?=)
Date: Sun, 18 Mar 2012 08:53:46 +0100
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
Message-ID: <CALK=EkEAY8H=vzpXcLT-bka_r053xjCNCVBW5Rv2TX8fJuYOAg@mail.gmail.com>

I prefer full objective style of coding (take a look at Zend Framework
- http://framework.zend.com/ ) but unfortunately it could be much
harder to understand for newbie php programmers(it could be advantage
either. objective code = less poor quality plugins).

>When 5.3 is the minimum requirement, using namespaces would give a solution.

Well namespaces can be used with class too. I think that namespaces
are the solution for "wp_" prefix. That's all.

>2. Are there several pieces of data that needs to be constantly passed around between those functions? Use a class.

It's not so simple. There is also something called a visibility. Some
functions should be visible outside the class, some not. Take a look
at e.g. wp-includes/shortcodes.php file. I guess, the do_shortcode()
function should be public, shortcode_parse_atts() not. It's unclear
for me which functions are getters/setters and which could be removed
or changed in the future.

Micha?

2012/3/18 scribu <scribu at gmail.com>:
>>
>> Is there some reasoning behind the decision to use a set of functions
>> instead
>> of a class? Or is it coders choice?
>>
>
> The reasoning goes something like this:
>
> 1. Use functions.
>
> 2. Are there several pieces of data that needs to be constantly passed
> around between those functions? Use a class.
>
> And what about static class variables rather than global variables? WP
>> stopped supporting PHP4 last year, so is there any reason not to use static
>> class variables for new development?
>>
>
> I don't think new globals were introduced since we dropped PHP4, but I
> haven't see static class variables used yet either.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From scribu at gmail.com  Sun Mar 18 10:40:19 2012
From: scribu at gmail.com (scribu)
Date: Sun, 18 Mar 2012 12:40:19 +0200
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CALK=EkEAY8H=vzpXcLT-bka_r053xjCNCVBW5Rv2TX8fJuYOAg@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CALK=EkEAY8H=vzpXcLT-bka_r053xjCNCVBW5Rv2TX8fJuYOAg@mail.gmail.com>
Message-ID: <CABzSYNPfthWVesR5a35x5dUhUu-aj6y+h01mh+6eC+qsWtimtw@mail.gmail.com>

2012/3/18 Micha? ?rodek <michal at srodek.info>

> I prefer full objective style of coding (take a look at Zend Framework
> - http://framework.zend.com/ )
>

I think Zend Framework is trying too hard to mimic Java, in an effort to
make PHP look more enterprisey:
http://steve-yegge.blogspot.com/2006/03/execution-in-kingdom-of-nouns.html



> It's not so simple. There is also something called a visibility. Some
> functions should be visible outside the class, some not.


In WordPress, private function names begin with an underscore and have
*@visibility
private* in their docblock.

-- 
http://scribu.net

From brad at touesnard.com  Sun Mar 18 18:27:42 2012
From: brad at touesnard.com (Brad Touesnard)
Date: Sun, 18 Mar 2012 15:27:42 -0300
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
Message-ID: <CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>

>
> 2. Are there several pieces of data that needs to be constantly passed
> around between those functions? Use a class.
>

But shouldn't register_post_type() and it's related functions be contained
in a class as they pass around the global $wp_post_types? Those functions
were written relatively recently.


I don't think new globals were introduced since we dropped PHP4, but I
> haven't see static class variables used yet either.
>

Should be interesting to see if globals are abandoned for static class
variables going forward.

I think most of this stuff would make a good wiki article so everyone is on
the same page. Should we start one?

-bt

From scribu at gmail.com  Sun Mar 18 18:39:17 2012
From: scribu at gmail.com (scribu)
Date: Sun, 18 Mar 2012 20:39:17 +0200
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
Message-ID: <CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>

On Sun, Mar 18, 2012 at 8:27 PM, Brad Touesnard <brad at touesnard.com> wrote:

> But shouldn't register_post_type() and it's related functions be contained
> in a class as they pass around the global $wp_post_types? Those functions
> were written relatively recently.
>

They were introduced in WP 3.0. PHP4 was dropped in 3.2. Besides that, it's
a single list of objects, so it's pretty self-contained.



> Should be interesting to see if globals are abandoned for static class
> variables going forward.
>

I've been thinking about that lately. One advantage of using globals is
that you don't have to repeat the scope each time you access it. Compare:

function register_post_type( $args ) {
global $wp_post_types;

...

if ( !isset( $wp_post_types[ $post_type ] ) )
  $wp_post_types[ $post_type ] = ...

...
}

versus static class variables:

class Post_Type {

public function register( $args ) {
 ...

if ( !isset( self::$wp_post_types[ $post_type ] ) )
  self::$wp_post_types[ $post_type ] = ...

...
 }
}

function register_post_type( $args ) {
return Post_Type::register( $args );
}

Notice the additional boilerplate that this requires. The only advantage of
a static class variable would be that you can make it private.



> I think most of this stuff would make a good wiki article so everyone is on
> the same page. Should we start one?
>

There is no consensus yet, so adding stuff to the Codex is premature.

-- 
http://scribu.net

From andrey.mavrin13 at gmail.com  Sun Mar 18 18:56:32 2012
From: andrey.mavrin13 at gmail.com (Andrey Mavrin)
Date: Sun, 18 Mar 2012 20:56:32 +0200
Subject: [wp-hackers] GSoC
In-Reply-To: <CAJKsJcptF-3YgN_Gm1+dAwspCuVMvHQYGuif0o1pSio6seOPhA@mail.gmail.com>
References: <CAJKsJcptF-3YgN_Gm1+dAwspCuVMvHQYGuif0o1pSio6seOPhA@mail.gmail.com>
Message-ID: <CAJKsJcrfnUKg1Sfpsgxv16HKrFBJh3WuJ39HxSWVz3ZbAXZAxQ@mail.gmail.com>

Hello, my name is Andrey. II wrote a variety of themes and plugins on
wordpress.
I really liked your ideas:

Media
File Uploader
Move WordPress
Template Versioning

I think that the idea of ??"Media" is particularly relevant and I would
like to work on this

From brad at touesnard.com  Sun Mar 18 19:24:00 2012
From: brad at touesnard.com (Brad Touesnard)
Date: Sun, 18 Mar 2012 16:24:00 -0300
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
	<CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
Message-ID: <CADx8q8g_xWUy6gFZ+GZ-f+Q3zpykKkSqmXaVbzrxazD_1Tb6-A@mail.gmail.com>

>
> Notice the additional boilerplate that this requires. The only advantage of
>
a static class variable would be trhat you can make it private.
>

I agree. It does seem unnecessarily verbose. I think it makes sense that
global variables and functions continue to be used for situations similar
to post types and transients for new development over static class
variables.

So would classes be used strictly to define object instances like queries
and users then?

-bt

From ronin at braydon.com  Sun Mar 18 19:32:56 2012
From: ronin at braydon.com (Braydon)
Date: Sun, 18 Mar 2012 12:32:56 -0700
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
	<CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
Message-ID: <4F663868.5000307@braydon.com>

On 03/18/2012 11:39 AM, scribu wrote:
> (...)
>
> Notice the additional boilerplate that this requires. The only advantage of
> a static class variable would be that you can make it private.
Post as a class has more advantages, especially if it were to include 
all template tags for posts. It could be $post->excerpt() instead of 
the_excert() and you know it can only be the except of that post and not 
from the global state of $post. Would be one less point of confusion to 
not stumble on, especially if you're new and haven't yet figured out 
that the global $post is super important.

From jane at automattic.com  Sun Mar 18 20:08:26 2012
From: jane at automattic.com (Jane Wells)
Date: Sun, 18 Mar 2012 16:08:26 -0400
Subject: [wp-hackers] GSoC
In-Reply-To: <CAJKsJcrfnUKg1Sfpsgxv16HKrFBJh3WuJ39HxSWVz3ZbAXZAxQ@mail.gmail.com>
References: <CAJKsJcptF-3YgN_Gm1+dAwspCuVMvHQYGuif0o1pSio6seOPhA@mail.gmail.com>
	<CAJKsJcrfnUKg1Sfpsgxv16HKrFBJh3WuJ39HxSWVz3ZbAXZAxQ@mail.gmail.com>
Message-ID: <4F6640BA.1010202@automattic.com>

On 3/18/12 2:56 PM, Andrey Mavrin wrote:
> Hello, my name is Andrey.
> I think that the idea of ??"Media" is particularly relevant and I would
> like to work on this
I'm sorry, but WordPress was not accepted as a mentoring organization by 
GSoC this year.

From scribu at gmail.com  Sun Mar 18 20:39:51 2012
From: scribu at gmail.com (scribu)
Date: Sun, 18 Mar 2012 22:39:51 +0200
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <4F663868.5000307@braydon.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
	<CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
	<4F663868.5000307@braydon.com>
Message-ID: <CABzSYNOnx9b5E4ebexWn-Os2h7g-Z25d6wRN9=prJkKD7SAQ9A@mail.gmail.com>

On Sun, Mar 18, 2012 at 9:32 PM, Braydon <ronin at braydon.com> wrote:

> Post as a class has more advantages, especially if it were to include all
> template tags for posts.


Agreed, but we were talking about static class variables.

Example ticket where a WP_Post class would be useful:
http://core.trac.wordpress.org/ticket/16574

-- 
http://scribu.net

From wp at andrewnacin.com  Sun Mar 18 20:44:26 2012
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 18 Mar 2012 16:44:26 -0400
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <4F663868.5000307@braydon.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
	<CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
	<4F663868.5000307@braydon.com>
Message-ID: <CAP29Pvi_fb86ZP+RAw4QnVUQ13xhx=4VfDX5vE2T2VbEy1-5cw@mail.gmail.com>

On Sun, Mar 18, 2012 at 3:32 PM, Braydon <ronin at braydon.com> wrote:
>
> Post as a class has more advantages, especially if it were to include all
> template tags for posts. It could be $post->excerpt() instead of
> the_excert() and you know it can only be the except of that post and not
> from the global state of $post. Would be one less point of confusion to not
> stumble on, especially if you're new and haven't yet figured out that the
> global $post is super important.


Don't be surprised if WP_Post happens in 3.5 or 3.6.

We've been experimenting with classes for a few versions now:

 - In 3.1, we introduced list tables, which taught us a lot about how we
should (and should not) approach OO development. Also WP_Tax_Query,
WP_User_Query, WP_Meta_Query (and nearly WP_Object_Query to be an
abstraction of those three plus WP_Query).
 - Also in 3.1, the admin bar code was brought in from WordPress.com. It
was architected as a class originally, and stayed that way.
 - In 3.2, we looked at magic getters to solve some issues with wpdb.
(Didn't pan out.)
 - In 3.3, the admin bar code was largely rewritten, with many pieces now
protected.
 - Also in 3.3, we added methods to the $current_screen object, and
WP_Screen was born.
 - Also in 3.3, WP_User ended up with lazy-loaded properties and some new
internal methods.
 - In 3.4, get_themes() has evolved into WP_Theme (#20103).

Those are a good number of solid examples, and while we started at the
fringe, we're getting closer to major WordPress APIs and old areas of the
codebase. Core is around 175,000 lines of code. Many of those lines are
four, five or more years old. I think the current state of our code churn
is very healthy and at a very good place.

The bump to PHP 5.2 happened with WP 3.2. Even then, we were mainly focused
on removing dead code, rather than focusing on introducing new magic bits.
(Slow and steady wins the race.) Someone mentioned PHP 5.3 namespaces, and
that makes me laugh. In two years, PHP 5.3 adoption (in terms of WordPress
sites) has gone from 4% to 10%. Not holding my breath. [1]

[1]
http://mozillamemes.tumblr.com/post/19415247873/surely-chrome-will-drop-h-264-lets-just-wait

And so, we have the opportunity to use classes to serve a few main purposes:

 - Namespacing. In lieu of formal namespaces, you can use a class to wrap a
bunch of functions, often as a singleton. This is often a plugin pattern.
We've also exhausted much of the good function names (and the bad ones too)
for things like our taxonomy API ? it would be nice to use classes if
nothing else than to start fresh and wipe what we have under the rug.

 - Encapsulation and forwards compatibility. We've never quite gotten to
the point where we've found our feet in cement due to backwards
compatibility concerns, but it is very nice to be able to finalize a class
and wrap select pieces in private properties in methods.

 - Backwards compatibility. ArrayAccess, for example, can allow us to
bypass a number of issues when moving from an array to an object, as can
iterators and the full ArrayObject. Magic methods help a lot. We already
pass around lots of stdClass objects (get_post(), get_current_screen(),
get_term()) and moving those to proper objects can be nice.

Of course, this doesn't mean we're going to rewrite the entire codebase
overnight. Rewriting code for the sake of rewriting code is not a good use
of our time. It only makes sense to rewrite code when we bring new
functionality to an area, especially if that new functionality is complex
and would benefit more from a rewrite, than from shoehorning it in.

That also does not mean we're going to use classes everywhere. There are
plenty of situations where procedural code is going to be better. One good
example is to allow for easier barriers to entry (like template tags and
conditional tags). I like classes and objects, but I don't drink the
Kool-Aid.

While it may be "coder's choice" for sets of functions versus classes, just
understand we don't take those decisions lightly, and yes, there is a
careful method to our madness. register_post_type() was 2.9, hence why it
is a simple function that stores everything in a global. I have a feeling
things would be different if it were coded today ? but that is *not* a
reason to jump up and go rewrite it.

I am at the point where I will fight hard to prevent any more globals be
added to core; we've been rather good about this for at least a year now.
That said, static class variables (as suggested) aren't exactly any better.
They're not. Don't let anyone who tells you otherwise stand uncorrected.
The benefit is that they let you hide data. The cost is that you are then
hiding data *from yourself*. Global state (a global variable, a static
method, a static property, what have you) is not testable. [2,3,4,5,6] So
there better be a really good benefit for using classes in this case.

[2] http://misko.hevery.com/2008/08/17/singletons-are-pathological-liars/
[3] http://misko.hevery.com/2008/08/25/root-cause-of-singletons/
[4] http://misko.hevery.com/2008/08/21/where-have-all-the-singletons-gone/
[5]
http://googletesting.blogspot.com/2008/11/clean-code-talks-global-state-and.html
[6]
http://googletesting.blogspot.com/2008/12/static-methods-are-death-to-testability.html

The health and future direction of the WordPress codebase is an exciting
challenge. The end result is I'm constantly thinking about rewriting (and
not rewriting) code, new architecture, design patterns, unit testing, and
plugin interfaces. We all are.

Nacin

From wp at andrewnacin.com  Sun Mar 18 21:55:01 2012
From: wp at andrewnacin.com (Andrew Nacin)
Date: Sun, 18 Mar 2012 17:55:01 -0400
Subject: [wp-hackers] Bug with post__in in WP 3.3.1?
In-Reply-To: <CAKmGc2=5bxpyjYezgF34655omgD_vRxFO-HATXsJEFpiptGA+g@mail.gmail.com>
References: <CAKmGc2=5bxpyjYezgF34655omgD_vRxFO-HATXsJEFpiptGA+g@mail.gmail.com>
Message-ID: <CAP29Pvj80ZwMa=Yzs8nt+K=j4Qm41vxN8GSy0niJSFdSs9sd5Q@mail.gmail.com>

You need to pass ignore_sticky_posts => true.
On Mar 14, 2012 12:58 PM, "N?cholas Andr?" <nicholas at iotecnologia.com.br>
wrote:

> Hi guys, I trying to get the 'Sticky' Post, but i have an issue.
>
> I have the code above:
>           sticky = get_option('sticky_posts');
>            $slidePosts = array_slice($sticky , 0,3);
>            $featuredPosts = array_slice($sticky , 4, 3);
>            $slide = new WP_Query(array('post__in' => $slidePosts));
>            if( $slide->have_posts() ) : while($slide->have_posts() ) :
> $slide->the_post()
>
> But I get all fixed posts, not the only that is in the array. If I remove
> the 'post__in' the result is the same, but the order of the elements is
> diffent( ordered by id), when i put it, the firsts elements are the
> elements in the array $slidePosts, but it still showing all posts that are
> fixed.
>
> If I put post__in => array(54) for example, all the fixed posts are
> retrivied and the post in array are the first;
>
> Is somenthing that i'm doing wrong or this is a bug?
>
> Complete Code:
> http://pastebin.com/VKn4nXzC
>
> Sorry for any mistakes on my english, i'm don't speak english very well.
> --
> N?cholas Andr?
>
> T?cnico em Inform?tica pelo IFRN
>
> Graduando em Ci?ncia da Computa??o - UFERSA
>
> Blog : www.iotecnologia.com.br
>
> Linux user number #478230.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From brad at touesnard.com  Mon Mar 19 00:49:30 2012
From: brad at touesnard.com (Brad Touesnard)
Date: Sun, 18 Mar 2012 21:49:30 -0300
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CAP29Pvi_fb86ZP+RAw4QnVUQ13xhx=4VfDX5vE2T2VbEy1-5cw@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
	<CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
	<4F663868.5000307@braydon.com>
	<CAP29Pvi_fb86ZP+RAw4QnVUQ13xhx=4VfDX5vE2T2VbEy1-5cw@mail.gmail.com>
Message-ID: <CADx8q8g4SE5b_Woh7ffpDdvGmTkd8-5yqc3xz7s=Nrh9UkxO1A@mail.gmail.com>

>
> That also does not mean we're going to use classes everywhere. There are
> plenty of situations where procedural code is going to be better. One good
> example is to allow for easier barriers to entry (like template tags and
> conditional tags). I like classes and objects, but I don't drink the
> Kool-Aid.
>

Yes, functions will definitely be easier for the APIs. But shouldn't they
mostly be synonyms of object methods? Shouldn't the business logic live in
classes? Kind of like query_posts and WP_Query.


While it may be "coder's choice" for sets of functions versus classes, just
> understand we don't take those decisions lightly, and yes, there is a
> careful method to our madness. register_post_type() was 2.9, hence why it
> is a simple function that stores everything in a global. I have a feeling
> things would be different if it were coded today ? but that is *not* a
> reason to jump up and go rewrite it.
>

Agreed, rewriting is not worth it unless you're looking to learn something (
http://www.codinghorror.com/blog/2009/02/dont-reinvent-the-wheel-unless-you-plan-on-learning-more-about-wheels.html
).


[2] http://misko.hevery.com/2008/08/17/singletons-are-pathological-liars/
> [3] http://misko.hevery.com/2008/08/25/root-cause-of-singletons/
> [4] http://misko.hevery.com/2008/08/21/where-have-all-the-singletons-gone/
> [5]
>
> http://googletesting.blogspot.com/2008/11/clean-code-talks-global-state-and.html
> [6]
>
> http://googletesting.blogspot.com/2008/12/static-methods-are-death-to-testability.html
>

Thanks for these. The WP core had me convinced that global scope wasn't
that bad, but after reading Mi?ko's articles, the issues with global scope
and Singletons are clear and certainly worth avoiding. However, I'm having
trouble imagining how new core development would get away from the global
scope and begin to use a factory pattern to produce proper dependency
graphs. It seems to me that it would be difficult to manage the factory
pattern while the global scope is still being used. Is that something that
the core team is still figuring out?


I am at the point where I will fight hard to prevent any more globals be
> added to core; we've been rather good about this for at least a year now.


That's interesting. I'd bet not many WP developers know this. Then again,
it could just be me. :)


The health and future direction of the WordPress codebase is an exciting
> challenge. The end result is I'm constantly thinking about rewriting (and
> not rewriting) code, new architecture, design patterns, unit testing, and
> plugin interfaces. We all are.
>

Great to hear. I'm guessing most of the discussions and decisions on this
stuff happens in Trac tickets?

From mikeschinkel at newclarity.net  Mon Mar 19 01:43:52 2012
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Sun, 18 Mar 2012 21:43:52 -0400
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CAP29Pvi_fb86ZP+RAw4QnVUQ13xhx=4VfDX5vE2T2VbEy1-5cw@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
	<CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
	<4F663868.5000307@braydon.com>
	<CAP29Pvi_fb86ZP+RAw4QnVUQ13xhx=4VfDX5vE2T2VbEy1-5cw@mail.gmail.com>
Message-ID: <28B16FD4-8DED-4263-8CD1-BA84D660EFC3@newclarity.net>

On Mar 18, 2012, at 4:44 PM, Andrew Nacin wrote:
> Don't be surprised if WP_Post happens in 3.5 or 3.6.

I've thought about this in concept many time in the past given our own work, and it seems that it would be practically impossible to make this fully backward compatible.  

Am I wrong on this, or are you thinking of some sort of migration strategy for a WP_Post?

-Mike


From scribu at gmail.com  Mon Mar 19 01:49:25 2012
From: scribu at gmail.com (scribu)
Date: Mon, 19 Mar 2012 03:49:25 +0200
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <28B16FD4-8DED-4263-8CD1-BA84D660EFC3@newclarity.net>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
	<CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
	<4F663868.5000307@braydon.com>
	<CAP29Pvi_fb86ZP+RAw4QnVUQ13xhx=4VfDX5vE2T2VbEy1-5cw@mail.gmail.com>
	<28B16FD4-8DED-4263-8CD1-BA84D660EFC3@newclarity.net>
Message-ID: <CABzSYNPTk-5Qkuk0SHPuK=fz0FGjpeqd_3JJJBEBqAHOhswQJg@mail.gmail.com>

I think I got pretty close:
http://core.trac.wordpress.org/attachment/ticket/16574/16574.8.diff

If you've found other edge cases, do let us know.

-- 
http://scribu.net

From lists at rotorised.com  Mon Mar 19 07:17:40 2012
From: lists at rotorised.com (Ryan McCue)
Date: Mon, 19 Mar 2012 17:17:40 +1000
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <CAP29Pvi_fb86ZP+RAw4QnVUQ13xhx=4VfDX5vE2T2VbEy1-5cw@mail.gmail.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
	<CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
	<4F663868.5000307@braydon.com>
	<CAP29Pvi_fb86ZP+RAw4QnVUQ13xhx=4VfDX5vE2T2VbEy1-5cw@mail.gmail.com>
Message-ID: <4F66DD94.70308@rotorised.com>

Andrew Nacin wrote:
> Don't be surprised if WP_Post happens in 3.5 or 3.6.

\o/

Is there a ticket tracking this? I'm very much interested in such an effort.


> The bump to PHP 5.2 happened with WP 3.2. Even then, we were mainly focused
> on removing dead code, rather than focusing on introducing new magic bits.
> (Slow and steady wins the race.) Someone mentioned PHP 5.3 namespaces, and
> that makes me laugh. In two years, PHP 5.3 adoption (in terms of WordPress
> sites) has gone from 4% to 10%. Not holding my breath. [1]

I'd say it'll still grow, but I think 5.2 is going to be dominant for a 
lot longer than we'd like. 5.4 and later might change that, but I don't 
see that the newer features are going to be enough to entice upgrading.

(It's a pet hate of mine that hosts are so slow at upgrading, and I'm 
sure there's something we could do about that ala GoPHP5, but I've got 
no idea how to actually do that.)

>   - Encapsulation and forwards compatibility. We've never quite gotten to
> the point where we've found our feet in cement due to backwards
> compatibility concerns, but it is very nice to be able to finalize a class
> and wrap select pieces in private properties in methods.

I'm sure there are people who will misinterpret this, so: `private` 
properties should be used for implementation details only. Anything you 
can forsee a subclass using should be `protected` instead. People who 
don't understand this make it so much harder for users. (This is mainly 
a plugin issue, not really core.)


> That also does not mean we're going to use classes everywhere. There are
> plenty of situations where procedural code is going to be better. One good
> example is to allow for easier barriers to entry (like template tags and
> conditional tags). I like classes and objects, but I don't drink the
> Kool-Aid.

I have to agree. While I still think WP_Error is a horrible imitation of 
exceptions (and westi will fight me to the death on that one ;) ), it's 
not worth the effort to rewrite everything around it now, and will 
probably confuse everyone who is just getting adjusted to WP_Error.

> That said, static class variables (as suggested) aren't exactly any better.
> They're not. Don't let anyone who tells you otherwise stand uncorrected.
> The benefit is that they let you hide data. The cost is that you are then
> hiding data *from yourself*. Global state (a global variable, a static
> method, a static property, what have you) is not testable. [2,3,4,5,6] So
> there better be a really good benefit for using classes in this case.

+1 on global state (although worth noting that all your links are by 
Misko, so it's not a wide range of sources there).

I disagree that static class variables aren't better than globals, for 
two reasons: namespacing, and association. If I see the $post global, I 
have no idea where that comes from, and I have to trace it. On the other 
hand, something like WP_Query::$post makes it obvious that the stuff in 
WP_Query is responsible for handling it.

Again though, changing everything around just for the sake of it isn't 
going to be a good idea. If we can do that cleanly and we have a reason 
for it though, I'm heavily in favour of it.

-- 
Ryan McCue
<http://ryanmccue.info/>

From ronin at braydon.com  Mon Mar 19 09:26:46 2012
From: ronin at braydon.com (Braydon)
Date: Mon, 19 Mar 2012 02:26:46 -0700
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <4F66DD94.70308@rotorised.com>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
	<CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
	<4F663868.5000307@braydon.com>
	<CAP29Pvi_fb86ZP+RAw4QnVUQ13xhx=4VfDX5vE2T2VbEy1-5cw@mail.gmail.com>
	<4F66DD94.70308@rotorised.com>
Message-ID: <4F66FBD6.3030407@braydon.com>

On 03/19/2012 12:17 AM, Ryan McCue wrote:
> Andrew Nacin wrote:
>> Don't be surprised if WP_Post happens in 3.5 or 3.6.
>
> \o/
>
> Is there a ticket tracking this? I'm very much interested in such an 
> effort.

So far this is the list of related tickets:

http://core.trac.wordpress.org/ticket/12267 ( Upgrade loop objects to 
provide identical presentational interfaces )

http://core.trac.wordpress.org/ticket/16574 ( Lazy load ancestors )

http://core.trac.wordpress.org/ticket/20259 ( WP_Post )

From jer at simianuprising.com  Mon Mar 19 15:57:53 2012
From: jer at simianuprising.com (Jeremy Clarke)
Date: Mon, 19 Mar 2012 11:57:53 -0400
Subject: [wp-hackers] Percona Server and WordPress
In-Reply-To: <3903CCF3-3DE3-42AE-81B0-AC37A0F15306@thoughtrefinery.com>
References: <mailman.20249.1331835812.1433.wp-hackers@lists.automattic.com>
	<3903CCF3-3DE3-42AE-81B0-AC37A0F15306@thoughtrefinery.com>
Message-ID: <CAAHgzDObSWbCyMrVSDYEWxMNsLfmk0m19TRF_MESsQSFeTM9yg@mail.gmail.com>

On Thu, Mar 15, 2012 at 3:03 PM, Nicholas Ciske <nick at thoughtrefinery.com>wrote:

> Jeremy,
>
> Have you written up the config changes & process of getting MariaDB set-up
> anywhere? I didn't see anything on your blog, but I'd love to know what it
> would take to implement MariaDB on my server.
>
>
No sorry, I was actually working with the http://openquery.com/ consultants
at the time and they helped. Ultimately any documentation you can find
about MariaDB and your Linux distro would be applicable, as none of the
setup was WP-specific.

Jeremy Clarke

From wp at andrewnacin.com  Mon Mar 19 23:29:30 2012
From: wp at andrewnacin.com (Andrew Nacin)
Date: Mon, 19 Mar 2012 19:29:30 -0400
Subject: [wp-hackers] Coding Standards: Functions vs. Classes
In-Reply-To: <28B16FD4-8DED-4263-8CD1-BA84D660EFC3@newclarity.net>
References: <CADx8q8h=7HAn7dxWr8iNJch1rShyQ4LymC6n+WuV_+-Fy5UpMA@mail.gmail.com>
	<CABzSYNN+biNyuFgOcbSafO8e9+HHsg8iaj3rcujMnHj-CGh6WA@mail.gmail.com>
	<CADx8q8g3+tdPa=ijmh9Dy9RWuJQxYtSY2u9+vJYKBZnr3EO3mg@mail.gmail.com>
	<CABzSYNN3ZjpS+vugCgJ9z39DrH9=N6AcUcrs1xZcb6bBtS=YTg@mail.gmail.com>
	<4F663868.5000307@braydon.com>
	<CAP29Pvi_fb86ZP+RAw4QnVUQ13xhx=4VfDX5vE2T2VbEy1-5cw@mail.gmail.com>
	<28B16FD4-8DED-4263-8CD1-BA84D660EFC3@newclarity.net>
Message-ID: <CAP29Pvh0MKzJESH+rExQUJYEZrqCYXjhfMAEQuXh+H7GiUx-Lw@mail.gmail.com>

On Mar 18, 2012 9:43 PM, "Mike Schinkel" <mikeschinkel at newclarity.net>
wrote:
>
> On Mar 18, 2012, at 4:44 PM, Andrew Nacin wrote:
> > Don't be surprised if WP_Post happens in 3.5 or 3.6.
>
> I've thought about this in concept many time in the past given our own
work, and it seems that it would be practically impossible to make this
fully backward compatible.
>
> Am I wrong on this, or are you thinking of some sort of migration
strategy for a WP_Post?

"Practically impossible" is quite the motivator to a developer.

scribu's first pass at a real post object hit all the right places. One of
the most difficult challenges we face in core deal with backwards
compatibility. Because of this, we've gotten *very* good at writing
forward-thinking code in a backwards compatible way, to the point where the
results are practically works of art. (Code is poetry.)

From emeraldcityseed at gmail.com  Tue Mar 20 03:50:14 2012
From: emeraldcityseed at gmail.com (Jakob Moody)
Date: Mon, 19 Mar 2012 20:50:14 -0700
Subject: [wp-hackers] Dashboard???
Message-ID: <CA+sq3-7bvQ_4k2qSjs5WfaSwoGkTCAo1X1W8=D=bNmYqbi+M9w@mail.gmail.com>

I am a total noob, In fact I don't even own a computer and never have...

So if the dashboard on a site won't let me edit or delete my post. Is that
a bug do to the new edition of WordPress or something else?

I am not the only user with this issue. So, it can't be because I only have
a phone for access to the WordPress sites.

Thanks for your time,
Noob

From ipstenu at ipstenu.org  Tue Mar 20 03:54:52 2012
From: ipstenu at ipstenu.org (Mika A Epstein)
Date: Mon, 19 Mar 2012 22:54:52 -0500
Subject: [wp-hackers] Dashboard???
In-Reply-To: <CA+sq3-7bvQ_4k2qSjs5WfaSwoGkTCAo1X1W8=D=bNmYqbi+M9w@mail.gmail.com>
References: <CA+sq3-7bvQ_4k2qSjs5WfaSwoGkTCAo1X1W8=D=bNmYqbi+M9w@mail.gmail.com>
Message-ID: <3BD3E64D-8F7B-4BEB-AC50-A6DCEAE4F293@ipstenu.org>

If you don't have a computer, who installed WP for you? You should get a hold of them for help, or post in the forums: http://Wordpress.org/support


On Mar 19, 2012, at 10:50 PM, Jakob Moody <emeraldcityseed at gmail.com> wrote:

> I am a total noob, In fact I don't even own a computer and never have...
> 
> So if the dashboard on a site won't let me edit or delete my post. Is that
> a bug do to the new edition of WordPress or something else?
> 
> I am not the only user with this issue. So, it can't be because I only have
> a phone for access to the WordPress sites.
> 
> Thanks for your time,
> Noob
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From daniel at webpresencepartners.com  Tue Mar 20 04:19:20 2012
From: daniel at webpresencepartners.com (Daniel Grundel)
Date: Tue, 20 Mar 2012 00:19:20 -0400
Subject: [wp-hackers] Dashboard???
In-Reply-To: <3BD3E64D-8F7B-4BEB-AC50-A6DCEAE4F293@ipstenu.org>
References: <CA+sq3-7bvQ_4k2qSjs5WfaSwoGkTCAo1X1W8=D=bNmYqbi+M9w@mail.gmail.com>
	<3BD3E64D-8F7B-4BEB-AC50-A6DCEAE4F293@ipstenu.org>
Message-ID: <CABs8xe4--6toTFFBbu5VD2F-8TA+S8teDNiB4CvP9B17hrQxPQ@mail.gmail.com>

Agree.

Also, I know this is a workaround and all, but as they say on TV, "there's
an app for that." If you're posting to your WP site from your phone, you
should consider installing the WP app for your mobile OS of choice.

Daniel J. Grundel
Web Presence Partners
webpresencepartners.com
daniel at webpresencepartners.com
772 678 0697



On Mon, Mar 19, 2012 at 11:54 PM, Mika A Epstein <ipstenu at ipstenu.org>wrote:

> If you don't have a computer, who installed WP for you? You should get a
> hold of them for help, or post in the forums: http://Wordpress.org/support
>
>
> On Mar 19, 2012, at 10:50 PM, Jakob Moody <emeraldcityseed at gmail.com>
> wrote:
>
> > I am a total noob, In fact I don't even own a computer and never have...
> >
> > So if the dashboard on a site won't let me edit or delete my post. Is
> that
> > a bug do to the new edition of WordPress or something else?
> >
> > I am not the only user with this issue. So, it can't be because I only
> have
> > a phone for access to the WordPress sites.
> >
> > Thanks for your time,
> > Noob
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mickyhulse.lists at gmail.com  Tue Mar 20 17:39:53 2012
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Tue, 20 Mar 2012 10:39:53 -0700
Subject: [wp-hackers] last_updated blogs?
Message-ID: <CALri7MmuRhUN_iV7X-UO5pBnwo+Q+98MDUVm6fdw0RDbb6H7QA@mail.gmail.com>

Hello,

Just curious...

Does the "last_updated" column of a blog on the blogs table
(multisite) == the last time an entry was published to that blog (OR)
the last time anything was updated (i.e. setting changed, page added,
other...)?

Thanks!
Micky

From zupolgec at gmail.com  Tue Mar 20 17:57:35 2012
From: zupolgec at gmail.com (Mattia)
Date: Tue, 20 Mar 2012 18:57:35 +0100
Subject: [wp-hackers] last_updated blogs?
In-Reply-To: <CALri7MmuRhUN_iV7X-UO5pBnwo+Q+98MDUVm6fdw0RDbb6H7QA@mail.gmail.com>
References: <CALri7MmuRhUN_iV7X-UO5pBnwo+Q+98MDUVm6fdw0RDbb6H7QA@mail.gmail.com>
Message-ID: <CAGjNHk9McNPUuV+SXCVArO+49QLktpQJ2vJTZzi3BT06JCNvnA@mail.gmail.com>

Looking in the source code of WP I found that last_updated field for blogs
is updated on
blog details change
post publish
post change
post delete

On Tue, Mar 20, 2012 at 6:39 PM, Micky Hulse <mickyhulse.lists at gmail.com>wrote:

> Hello,
>
> Just curious...
>
> Does the "last_updated" column of a blog on the blogs table
> (multisite) == the last time an entry was published to that blog (OR)
> the last time anything was updated (i.e. setting changed, page added,
> other...)?
>
> Thanks!
> Micky
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mickyhulse.lists at gmail.com  Tue Mar 20 19:38:32 2012
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Tue, 20 Mar 2012 12:38:32 -0700
Subject: [wp-hackers] last_updated blogs?
In-Reply-To: <CAGjNHk9McNPUuV+SXCVArO+49QLktpQJ2vJTZzi3BT06JCNvnA@mail.gmail.com>
References: <CALri7MmuRhUN_iV7X-UO5pBnwo+Q+98MDUVm6fdw0RDbb6H7QA@mail.gmail.com>
	<CAGjNHk9McNPUuV+SXCVArO+49QLktpQJ2vJTZzi3BT06JCNvnA@mail.gmail.com>
Message-ID: <CALri7M=JfoZNv0zuMZybbj59ePVF0feUSFSj+vXEoyCTJzwOdw@mail.gmail.com>

On Tue, Mar 20, 2012 at 10:57 AM, Mattia <zupolgec at gmail.com> wrote:
> Looking in the source code of WP I found that last_updated field for blogs
> is updated on
> blog details change
> post publish
> post change
> post delete

Thanks you Mattia! I really appreciate your help.

I hate to admit it, but I did not even think to look at the source
code. Sorry about that. :(

Question: What steps did you take to learn that last_updated field
changed for "blog details change", "post publish", "post change" and
"post delete"?

Looking at the source code, I found "wpmu_update_blogs_date()" here:

<http://core.trac.wordpress.org/browser/trunk/wp-includes/ms-blogs.php>

I see that it's used in "_update_blog_date_on_post_publish()" and I
have yet to find other functions.

Is this where you started?

Sorry if silly question, I am just trying to learn how the power users
search the WP source code. :)

[rant]

Whenever I try to search the source code (using the provided search
box) I don't get "code" results:

<http://core.trac.wordpress.org/search?q=wpmu_update_blogs_date>

Is there an online tool that will search just the source code?

Do most people just grep the WP source on their servers?

[/rant]

Thanks again Mattia, I really appreciate the pro help! :)

Have an awesome day.

Cheers,
Micky

From helen.y.hou at gmail.com  Tue Mar 20 19:54:14 2012
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Tue, 20 Mar 2012 14:54:14 -0500
Subject: [wp-hackers] last_updated blogs?
In-Reply-To: <CALri7M=JfoZNv0zuMZybbj59ePVF0feUSFSj+vXEoyCTJzwOdw@mail.gmail.com>
References: <CALri7MmuRhUN_iV7X-UO5pBnwo+Q+98MDUVm6fdw0RDbb6H7QA@mail.gmail.com>
	<CAGjNHk9McNPUuV+SXCVArO+49QLktpQJ2vJTZzi3BT06JCNvnA@mail.gmail.com>
	<CALri7M=JfoZNv0zuMZybbj59ePVF0feUSFSj+vXEoyCTJzwOdw@mail.gmail.com>
Message-ID: <CAA0DF=9=At6zMzpTx21K6udDNv1E3-pz=6wKJOnvxaF2mksNKg@mail.gmail.com>

> [rant]
>
> Whenever I try to search the source code (using the provided search
> box) I don't get "code" results:
>
> <http://core.trac.wordpress.org/search?q=wpmu_update_blogs_date>
>
> Is there an online tool that will search just the source code?
>
> Do most people just grep the WP source on their servers?
>
> [/rant]
>
>
That's not searching the source code, that's searching tickets on Trac. I
can't speak for other people, but I always have local copies/SVN checkouts
that can be searched quickly using grep/ack/Dreamweaver Find All if that
floats your boat. There's also PHPXref, for which you'll find a few
publicly hosted ones for WordPress Core.

From mickyhulse.lists at gmail.com  Tue Mar 20 21:04:15 2012
From: mickyhulse.lists at gmail.com (Micky Hulse)
Date: Tue, 20 Mar 2012 14:04:15 -0700
Subject: [wp-hackers] last_updated blogs?
In-Reply-To: <CAA0DF=9=At6zMzpTx21K6udDNv1E3-pz=6wKJOnvxaF2mksNKg@mail.gmail.com>
References: <CALri7MmuRhUN_iV7X-UO5pBnwo+Q+98MDUVm6fdw0RDbb6H7QA@mail.gmail.com>
	<CAGjNHk9McNPUuV+SXCVArO+49QLktpQJ2vJTZzi3BT06JCNvnA@mail.gmail.com>
	<CALri7M=JfoZNv0zuMZybbj59ePVF0feUSFSj+vXEoyCTJzwOdw@mail.gmail.com>
	<CAA0DF=9=At6zMzpTx21K6udDNv1E3-pz=6wKJOnvxaF2mksNKg@mail.gmail.com>
Message-ID: <CALri7MkeLdjNZDcPv=QfcRgWo60iYbrD1SU4EmLCrezcuz=61A@mail.gmail.com>

On Tue, Mar 20, 2012 at 12:54 PM, Helen Hou-Sandi <helen.y.hou at gmail.com> wrote:
> That's not searching the source code, that's searching tickets on Trac. I
> can't speak for other people, but I always have local copies/SVN checkouts
> that can be searched quickly using grep/ack/Dreamweaver Find All if that
> floats your boat. There's also PHPXref, for which you'll find a few
> publicly hosted ones for WordPress Core.

Great tips! Thanks so much Helen, I really appreciate it! :)

Good idea on finding a WP PHPXref. Looks like the docs have a few links here:

<http://codex.wordpress.org/Developer_Documentation#WordPress_Source_Code>

Hehe, thanks for the kick in the pants and have a great day!

Cheers,
Micky

From jeremy at digitalbrands.com  Tue Mar 20 21:23:21 2012
From: jeremy at digitalbrands.com (Jeremy Hough)
Date: Tue, 20 Mar 2012 17:23:21 -0400
Subject: [wp-hackers] Hooking into WP theme/plugin update downloading
Message-ID: <4F68F549.7080205@digitalbrands.com>

I have a working (and extended) setup of Jeremy Clark's Self-Hosted 
Plugin Update API 
(https://github.com/jeremyclark13/automatic-theme-plugin-update). I am 
setting up my update server to force/require https connections to 
encrypt transmissions. I am wanting to use oAuth for authentication (and 
provide access to restricted content).

Is there any type of hook in wordpress I can use so that when an update 
is instantiated, the download behavior can be redefined so that the 
provided update zip url will be downloaded using an oAuth-signed request?

Thanks for any insight,

Jeremy Hough

From otto at ottodestruct.com  Tue Mar 20 22:13:03 2012
From: otto at ottodestruct.com (Otto)
Date: Tue, 20 Mar 2012 17:13:03 -0500
Subject: [wp-hackers] Hooking into WP theme/plugin update downloading
In-Reply-To: <4F68F549.7080205@digitalbrands.com>
References: <4F68F549.7080205@digitalbrands.com>
Message-ID: <CAD-FghxYUcavXW3PeatnU0232m3p1JHzXTHNuON_66-dvAGiGg@mail.gmail.com>

The upgrade code always uses wp_remote_get to get the ZIP file, and
offers no hooks to change that or modify the parameters to it.

However, this doesn't stop you from returning a different URL for the
ZIP file to any given requester based on your own criteria. For oauth,
you could conceivably pass the token in the GET request. Such as
https://example.com/plugin.zip?auth=abc123 and so on. Then if the auth
token isn't valid, return a 401 Unauthorized Error to fail the
download process.

-Otto



On Tue, Mar 20, 2012 at 4:23 PM, Jeremy Hough <jeremy at digitalbrands.com> wrote:
> I have a working (and extended) setup of Jeremy Clark's Self-Hosted Plugin
> Update API (https://github.com/jeremyclark13/automatic-theme-plugin-update).
> I am setting up my update server to force/require https connections to
> encrypt transmissions. I am wanting to use oAuth for authentication (and
> provide access to restricted content).
>
> Is there any type of hook in wordpress I can use so that when an update is
> instantiated, the download behavior can be redefined so that the provided
> update zip url will be downloaded using an oAuth-signed request?
>
> Thanks for any insight,
>
> Jeremy Hough
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Tue Mar 20 23:57:08 2012
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Wed, 21 Mar 2012 10:57:08 +1100
Subject: [wp-hackers] Hooking into WP theme/plugin update downloading
In-Reply-To: <CAD-FghxYUcavXW3PeatnU0232m3p1JHzXTHNuON_66-dvAGiGg@mail.gmail.com>
References: <4F68F549.7080205@digitalbrands.com>
	<CAD-FghxYUcavXW3PeatnU0232m3p1JHzXTHNuON_66-dvAGiGg@mail.gmail.com>
Message-ID: <CAL4EHfm6zEvdJT49zV53u-At5pd8O5XSjc7two6tj=3uBYr3Zg@mail.gmail.com>

You've got 2 options: As otto says: Authenticate the install, and on
the transient save hooks, insert url's with a token (Only needs to be
valid for ~12hours).

If that's not good enough, You can hook inside WP_HTTP on
pre_http_request
(http://core.trac.wordpress.org/browser/trunk/wp-includes/class-http.php#L115)
match a specific URL destination, and perform any type of request (You
can even redirect the request to a different server, define https
handling, add oauth headers, whatever, just make sure you respect the
'stream' arguement that's passed to the filter).

basically, add_filter( 'pre_http_request', function() { return
wp_remote_get('http://google.com/'); } ); to redirect ALL outgoing
requests to google..

On 21 March 2012 09:13, Otto <otto at ottodestruct.com> wrote:
> The upgrade code always uses wp_remote_get to get the ZIP file, and
> offers no hooks to change that or modify the parameters to it.
>
> However, this doesn't stop you from returning a different URL for the
> ZIP file to any given requester based on your own criteria. For oauth,
> you could conceivably pass the token in the GET request. Such as
> https://example.com/plugin.zip?auth=abc123 and so on. Then if the auth
> token isn't valid, return a 401 Unauthorized Error to fail the
> download process.
>
> -Otto
>
>
>
> On Tue, Mar 20, 2012 at 4:23 PM, Jeremy Hough <jeremy at digitalbrands.com> wrote:
>> I have a working (and extended) setup of Jeremy Clark's Self-Hosted Plugin
>> Update API (https://github.com/jeremyclark13/automatic-theme-plugin-update).
>> I am setting up my update server to force/require https connections to
>> encrypt transmissions. I am wanting to use oAuth for authentication (and
>> provide access to restricted content).
>>
>> Is there any type of hook in wordpress I can use so that when an update is
>> instantiated, the download behavior can be redefined so that the provided
>> update zip url will be downloaded using an oAuth-signed request?
>>
>> Thanks for any insight,
>>
>> Jeremy Hough
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From tcbarrett at gmail.com  Wed Mar 21 15:14:29 2012
From: tcbarrett at gmail.com (Tom Barrett)
Date: Wed, 21 Mar 2012 15:14:29 +0000
Subject: [wp-hackers] Running out of memory using $wpdb
Message-ID: <CAEgmxaa1mtz0VSaFzi77J2ReaOSFHx7rkQCQ6+P5J=Lhx45Mtw@mail.gmail.com>

Hi

I have a custom table with 25k rows (and another joined on it with 300k
rows, but I haven't got to that yet).
The data is sitting on a box with a regular ~250M memory free. I'm trying
to parse the data for reporting, but cannot grab more than ~6k rows without
running out of memory (sometimes dying silently).

I tried grabbing the data in pieces (grabbing 1k rows at a time), but it
still fails after 6k rows.

Is there a way I can squeeze the information out using $wpdb as it comes?

This is a snippet of what I was trying to do:
$total = $wpdb->get_var( "SELECT COUNT(*) FROM $table WHERE status='LIVE'"
);
$count = 0;
while( $count < $total ) :
  $wpdb->flush;
  $start  = $count;
  $count += 1000;
  $result = $wpdb->get_results( "SELECT * FROM $table WHERE status='LIVE'
LIMIT $start, $count" );
  echo "$count / $total\n";
endwhile;
echo "Done\n";


-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From beau at dentedreality.com.au  Wed Mar 21 15:43:20 2012
From: beau at dentedreality.com.au (Beau Lebens)
Date: Wed, 21 Mar 2012 08:43:20 -0700
Subject: [wp-hackers] Running out of memory using $wpdb
In-Reply-To: <CAEgmxaa1mtz0VSaFzi77J2ReaOSFHx7rkQCQ6+P5J=Lhx45Mtw@mail.gmail.com>
References: <CAEgmxaa1mtz0VSaFzi77J2ReaOSFHx7rkQCQ6+P5J=Lhx45Mtw@mail.gmail.com>
Message-ID: <CAFuJWcebO0Qy8ic-kCHr5EAKmSpEyGG8o+MkR=oxDyLkd4H8Nw@mail.gmail.com>

I think this line was supposed to be a method call:

> ?$wpdb->flush;

Are you sure it's not running out of time?

set_time_limit( 0 );

Also try adding:

define( 'SAVEQUERIES', false );

If you still need more, you might also use:

	if ( !empty( $GLOBALS['wp_object_cache'] ) && is_object(
$GLOBALS['wp_object_cache'] ) && !is_wp_error(
$GLOBALS['wp_object_cache'] ) ) {
		if ( isset( $GLOBALS['wp_object_cache']->cache ) )
			$GLOBALS['wp_object_cache']->cache = array();
		if ( isset( $GLOBALS['wp_object_cache']->group_ops ) )
			$GLOBALS['wp_object_cache']->group_ops = array();
	}

If you're doing regular expression parsing of some sort on your data
then there are small, inherent internal caches that cannot be cleared,
so there's no way that I know of to regain the memory that bleeds out
through that, other than ending the request and doing another (AJAX,
auto-redirect, something along those lines).

You can also change your main loop to:

while ( $result = $wpdb->get_results( "SELECT * FROM $table WHERE
status='LIVE' LIMIT $start, $count" ) ) {

and then you don't need your first query (just make sure you adjust
your logic to get $start and $count).

HTH

Beau

On Wed, Mar 21, 2012 at 8:14 AM, Tom Barrett <tcbarrett at gmail.com> wrote:
> Hi
>
> I have a custom table with 25k rows (and another joined on it with 300k
> rows, but I haven't got to that yet).
> The data is sitting on a box with a regular ~250M memory free. I'm trying
> to parse the data for reporting, but cannot grab more than ~6k rows without
> running out of memory (sometimes dying silently).
>
> I tried grabbing the data in pieces (grabbing 1k rows at a time), but it
> still fails after 6k rows.
>
> Is there a way I can squeeze the information out using $wpdb as it comes?
>
> This is a snippet of what I was trying to do:
> $total = $wpdb->get_var( "SELECT COUNT(*) FROM $table WHERE status='LIVE'"
> );
> $count = 0;
> while( $count < $total ) :
> ?$wpdb->flush;
> ?$start ?= $count;
> ?$count += 1000;
> ?$result = $wpdb->get_results( "SELECT * FROM $table WHERE status='LIVE'
> LIMIT $start, $count" );
> ?echo "$count / $total\n";
> endwhile;
> echo "Done\n";
>
>
> --
> http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> http://twitter.com/tcbarrett
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jeremy at digitalbrands.com  Wed Mar 21 16:06:45 2012
From: jeremy at digitalbrands.com (Jeremy Hough)
Date: Wed, 21 Mar 2012 12:06:45 -0400
Subject: [wp-hackers] Hooking into WP theme/plugin update
Message-ID: <4F69FC95.900@digitalbrands.com>

Thanks Otto and Dion. I had looked through the source before asking and 
was considering using GET urlparams to do the job, but wasn't sure if 
there was any type of hooks that could perhaps handle it better.

In that light, pre_http_request might be the route to go should I need 
that complexity. Alternatively, I can always fall back on passing the 
token with the GET request.

Intercepting updates on this level I am sure would bring frightening 
code samples if people had hooks to (mis)use.

Thanks again,

Jeremy Hough


> Date: Wed, 21 Mar 2012 10:57:08 +1100
> From: "Dion Hulse (dd32)"<wordpress at dd32.id.au>
> Subject: Re: [wp-hackers] Hooking into WP theme/plugin update
> 	downloading
> To:wp-hackers at lists.automattic.com
> Message-ID:
> 	<CAL4EHfm6zEvdJT49zV53u-At5pd8O5XSjc7two6tj=3uBYr3Zg at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> You've got 2 options: As otto says: Authenticate the install, and on
> the transient save hooks, insert url's with a token (Only needs to be
> valid for ~12hours).
>
> If that's not good enough, You can hook inside WP_HTTP on
> pre_http_request
> (http://core.trac.wordpress.org/browser/trunk/wp-includes/class-http.php#L115)
> match a specific URL destination, and perform any type of request (You
> can even redirect the request to a different server, define https
> handling, add oauth headers, whatever, just make sure you respect the
> 'stream' arguement that's passed to the filter).
>
> basically, add_filter( 'pre_http_request', function() { return
> wp_remote_get('http://google.com/'); } ); to redirect ALL outgoing
> requests to google..
>
> On 21 March 2012 09:13, Otto<otto at ottodestruct.com>  wrote:
>> The upgrade code always uses wp_remote_get to get the ZIP file, and
>> offers no hooks to change that or modify the parameters to it.
>>
>> However, this doesn't stop you from returning a different URL for the
>> ZIP file to any given requester based on your own criteria. For oauth,
>> you could conceivably pass the token in the GET request. Such as
>> https://example.com/plugin.zip?auth=abc123  and so on. Then if the auth
>> token isn't valid, return a 401 Unauthorized Error to fail the
>> download process.
>>
>> -Otto
>>
>>
>>
>> On Tue, Mar 20, 2012 at 4:23 PM, Jeremy Hough<jeremy at digitalbrands.com>  wrote:
>>> I have a working (and extended) setup of Jeremy Clark's Self-Hosted Plugin
>>> Update API (https://github.com/jeremyclark13/automatic-theme-plugin-update).
>>> I am setting up my update server to force/require https connections to
>>> encrypt transmissions. I am wanting to use oAuth for authentication (and
>>> provide access to restricted content).
>>>
>>> Is there any type of hook in wordpress I can use so that when an update is
>>> instantiated, the download behavior can be redefined so that the provided
>>> update zip url will be downloaded using an oAuth-signed request?
>>>
>>> Thanks for any insight,
>>>
>>> Jeremy Hough
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers

From onlyunusedname at gmail.com  Wed Mar 21 19:04:38 2012
From: onlyunusedname at gmail.com (onlyunusedname)
Date: Wed, 21 Mar 2012 15:04:38 -0400
Subject: [wp-hackers] Force a new ABSPATH when moving WordPress?
Message-ID: <CABQWr5wPdz9=5frdTP92tgAyfKyQ-ManE2uYtDSk879Dh-9oJw@mail.gmail.com>

I have a quick question that may be more PHP than WordPress.

Whenever I move a small WordPress site database inclusive (and by move, I
mean change its path and URI), I usually just change all the references to
the domain in the database with a search and replace.

This seems to work for my needs, but the problem I run into every time is
that wp-config.php retains the old ABSPATH constant.  So the site won't
load at all at first.  My solution to this has always been to restart
Apache.  After I do that wp-config.php will re-define ABSPATH correctly and
everything works fine

Is there a way I can force this to occur without restarting my server?

From otto at ottodestruct.com  Wed Mar 21 19:54:21 2012
From: otto at ottodestruct.com (Otto)
Date: Wed, 21 Mar 2012 14:54:21 -0500
Subject: [wp-hackers] Force a new ABSPATH when moving WordPress?
In-Reply-To: <CABQWr5wPdz9=5frdTP92tgAyfKyQ-ManE2uYtDSk879Dh-9oJw@mail.gmail.com>
References: <CABQWr5wPdz9=5frdTP92tgAyfKyQ-ManE2uYtDSk879Dh-9oJw@mail.gmail.com>
Message-ID: <CAD-FghwdbizX3atdtPvPs9KDjgo-NHupDtaq9h1N6UF6V9zfQg@mail.gmail.com>

Most likely, you're running some sort of PHP accelerator, which keeps
the "compiled" PHP files in memory instead of re-reading them every
time. Thus, a change to the PHP files requires you to restart the
server to get the old versions out of RAM.

Look into what PHP accelerator you're running, and see if it has any
way to flush the cached data.

-Otto



On Wed, Mar 21, 2012 at 2:04 PM, onlyunusedname
<onlyunusedname at gmail.com> wrote:
> I have a quick question that may be more PHP than WordPress.
>
> Whenever I move a small WordPress site database inclusive (and by move, I
> mean change its path and URI), I usually just change all the references to
> the domain in the database with a search and replace.
>
> This seems to work for my needs, but the problem I run into every time is
> that wp-config.php retains the old ABSPATH constant. ?So the site won't
> load at all at first. ?My solution to this has always been to restart
> Apache. ?After I do that wp-config.php will re-define ABSPATH correctly and
> everything works fine
>
> Is there a way I can force this to occur without restarting my server?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From onlyunusedname at gmail.com  Wed Mar 21 20:19:47 2012
From: onlyunusedname at gmail.com (onlyunusedname)
Date: Wed, 21 Mar 2012 16:19:47 -0400
Subject: [wp-hackers] Force a new ABSPATH when moving WordPress?
In-Reply-To: <CAD-FghwdbizX3atdtPvPs9KDjgo-NHupDtaq9h1N6UF6V9zfQg@mail.gmail.com>
References: <CABQWr5wPdz9=5frdTP92tgAyfKyQ-ManE2uYtDSk879Dh-9oJw@mail.gmail.com>
	<CAD-FghwdbizX3atdtPvPs9KDjgo-NHupDtaq9h1N6UF6V9zfQg@mail.gmail.com>
Message-ID: <CABQWr5wBzFkZD2hLkLFS3awAiXQVQVrz4OJVKbxJ=QKyfBzD5Q@mail.gmail.com>

Excellent.  Thanks, Otto.  There is eAccelerator running on this server and
clearing its cache is just the trick.

Just out of curiosity:  If one wanted to write a script that did everything
in a more environment agnostic fashion, would that be possible?

In other words, this script would run once after a URI change and it would:

1) Change the relevant database entries from $old_url to $new_url.

2)  [Magically solve a cached ABSPATH problem in a reasonably environment
agnostic fashion]

3) Redirect to $new_url  (Site successfully moved.)


Is step 2 as preposterous as I am making it sound, or can you imagine a
feasable-ish answer?

Thanks in any event.  You helped me a ton.



On Wed, Mar 21, 2012 at 3:54 PM, Otto <otto at ottodestruct.com> wrote:

> Most likely, you're running some sort of PHP accelerator, which keeps
> the "compiled" PHP files in memory instead of re-reading them every
> time. Thus, a change to the PHP files requires you to restart the
> server to get the old versions out of RAM.
>
> Look into what PHP accelerator you're running, and see if it has any
> way to flush the cached data.
>
> -Otto
>
>
>
> On Wed, Mar 21, 2012 at 2:04 PM, onlyunusedname
> <onlyunusedname at gmail.com> wrote:
> > I have a quick question that may be more PHP than WordPress.
> >
> > Whenever I move a small WordPress site database inclusive (and by move, I
> > mean change its path and URI), I usually just change all the references
> to
> > the domain in the database with a search and replace.
> >
> > This seems to work for my needs, but the problem I run into every time is
> > that wp-config.php retains the old ABSPATH constant.  So the site won't
> > load at all at first.  My solution to this has always been to restart
> > Apache.  After I do that wp-config.php will re-define ABSPATH correctly
> and
> > everything works fine
> >
> > Is there a way I can force this to occur without restarting my server?
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kpayne+wordpress+hackers at gmail.com  Wed Mar 21 20:44:45 2012
From: kpayne+wordpress+hackers at gmail.com (Kurt Payne)
Date: Wed, 21 Mar 2012 13:44:45 -0700
Subject: [wp-hackers] Force a new ABSPATH when moving WordPress?
In-Reply-To: <CABQWr5wBzFkZD2hLkLFS3awAiXQVQVrz4OJVKbxJ=QKyfBzD5Q@mail.gmail.com>
References: <CABQWr5wPdz9=5frdTP92tgAyfKyQ-ManE2uYtDSk879Dh-9oJw@mail.gmail.com>
	<CAD-FghwdbizX3atdtPvPs9KDjgo-NHupDtaq9h1N6UF6V9zfQg@mail.gmail.com>
	<CABQWr5wBzFkZD2hLkLFS3awAiXQVQVrz4OJVKbxJ=QKyfBzD5Q@mail.gmail.com>
Message-ID: <CAMNmD-fmKBSeOhAKtBt-m7FWybc=S7KztTcBEYM1KQMJuZjy3g@mail.gmail.com>

Hi,

For #2, you can do something like this:

First, set eaccelerator.allowed_admin_path in php.ini (or .user.ini if
you're on php 5.3+) to include your the path to your migration script.

Second, in your migration script, call eaccelerator_clear().  The docs
for this function say:

"Remove all unused scripts and data from shared memory and disk cache,
this means all data that isn't used in the current requests"

That last part is important.  Make sure you're not using anything in
your migration script that you want cleared.

If you're really stuck, you can use a separate script to clear the
cache.  Use a script like this:

if ($_SERVER['PHP_AUTH_USER'] == 'login' && $_SERVER['PHP_AUTH_PW'] ==
'password') {
	eaccelerator_clear();
	die("Cleared cache");
}
die("Authentication failure");

Then have your migration script use curl to request your cache
clearing script.  It's not pretty, but I hope it gets you moving in
the right direction!

--Kurt


On Wed, Mar 21, 2012 at 1:19 PM, onlyunusedname
<onlyunusedname at gmail.com> wrote:
> Excellent. ?Thanks, Otto. ?There is eAccelerator running on this server and
> clearing its cache is just the trick.
>
> Just out of curiosity: ?If one wanted to write a script that did everything
> in a more environment agnostic fashion, would that be possible?
>
> In other words, this script would run once after a URI change and it would:
>
> 1) Change the relevant database entries from $old_url to $new_url.
>
> 2) ?[Magically solve a cached ABSPATH problem in a reasonably environment
> agnostic fashion]
>
> 3) Redirect to $new_url ?(Site successfully moved.)
>
>
> Is step 2 as preposterous as I am making it sound, or can you imagine a
> feasable-ish answer?
>
> Thanks in any event. ?You helped me a ton.
>
>
>
> On Wed, Mar 21, 2012 at 3:54 PM, Otto <otto at ottodestruct.com> wrote:
>
>> Most likely, you're running some sort of PHP accelerator, which keeps
>> the "compiled" PHP files in memory instead of re-reading them every
>> time. Thus, a change to the PHP files requires you to restart the
>> server to get the old versions out of RAM.
>>
>> Look into what PHP accelerator you're running, and see if it has any
>> way to flush the cached data.
>>
>> -Otto
>>
>>
>>
>> On Wed, Mar 21, 2012 at 2:04 PM, onlyunusedname
>> <onlyunusedname at gmail.com> wrote:
>> > I have a quick question that may be more PHP than WordPress.
>> >
>> > Whenever I move a small WordPress site database inclusive (and by move, I
>> > mean change its path and URI), I usually just change all the references
>> to
>> > the domain in the database with a search and replace.
>> >
>> > This seems to work for my needs, but the problem I run into every time is
>> > that wp-config.php retains the old ABSPATH constant. ?So the site won't
>> > load at all at first. ?My solution to this has always been to restart
>> > Apache. ?After I do that wp-config.php will re-define ABSPATH correctly
>> and
>> > everything works fine
>> >
>> > Is there a way I can force this to occur without restarting my server?
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From chris at clwill.com  Thu Mar 22 00:54:40 2012
From: chris at clwill.com (Chris Williams)
Date: Wed, 21 Mar 2012 20:54:40 -0400
Subject: [wp-hackers] Force a new ABSPATH when moving WordPress?
In-Reply-To: <CABQWr5wBzFkZD2hLkLFS3awAiXQVQVrz4OJVKbxJ=QKyfBzD5Q@mail.gmail.com>
Message-ID: <CB8FC53A.1D3AF%chris@clwill.com>

As has been discussed 100,000 times on this list, do not underestimate the
complexity of #1.  You can't just change a couple of database entries for
home and base URL.  There are many instances, including all the images and
other media in attachments.

But the most complicated part is in the serialized data in things like
user settings.  As someone recently pointed out, if you blindly do a
search/replace in the serialized data, you mess up the serialized format
(which includes string length).  The only safe way to do that is to spin
through all the data, unserialize things, search/replace the URLs, then
reserialize it and save it back.

In all, it's not for the faint of heart.

On 3/21/12 1:19 PM, "onlyunusedname" <onlyunusedname at gmail.com> wrote:

>Excellent.  Thanks, Otto.  There is eAccelerator running on this server
>and
>clearing its cache is just the trick.
>
>Just out of curiosity:  If one wanted to write a script that did
>everything
>in a more environment agnostic fashion, would that be possible?
>
>In other words, this script would run once after a URI change and it
>would:
>
>1) Change the relevant database entries from $old_url to $new_url.
>
>2)  [Magically solve a cached ABSPATH problem in a reasonably environment
>agnostic fashion]
>
>3) Redirect to $new_url  (Site successfully moved.)
>
>
>Is step 2 as preposterous as I am making it sound, or can you imagine a
>feasable-ish answer?
>
>Thanks in any event.  You helped me a ton.


From onlyunusedname at gmail.com  Thu Mar 22 02:14:23 2012
From: onlyunusedname at gmail.com (onlyunusedname)
Date: Wed, 21 Mar 2012 22:14:23 -0400
Subject: [wp-hackers] Force a new ABSPATH when moving WordPress?
In-Reply-To: <CB8FC53A.1D3AF%chris@clwill.com>
References: <CABQWr5wBzFkZD2hLkLFS3awAiXQVQVrz4OJVKbxJ=QKyfBzD5Q@mail.gmail.com>
	<CB8FC53A.1D3AF%chris@clwill.com>
Message-ID: <CABQWr5wwzkunaXq4VLuVMBxboX=QF4TFt181MhTnBWLcE+X=FA@mail.gmail.com>

Thanks for the kind warning.

I've actually already googled my way through the unserialize/serialze
morass.  I think I have a solution that is working for this particular set
of minimalist sites.  I would never put it forward as a universal solution.

Is there any sort of community-recognized best solution (commercial or non)
for moving a WordPress database in this fashion?  Or is it simply never to
be done (and/or case-by-case when it is absolutely unavoidable)?




On Wed, Mar 21, 2012 at 8:54 PM, Chris Williams <chris at clwill.com> wrote:

> As has been discussed 100,000 times on this list, do not underestimate the
> complexity of #1.  You can't just change a couple of database entries for
> home and base URL.  There are many instances, including all the images and
> other media in attachments.
>
> But the most complicated part is in the serialized data in things like
> user settings.  As someone recently pointed out, if you blindly do a
> search/replace in the serialized data, you mess up the serialized format
> (which includes string length).  The only safe way to do that is to spin
> through all the data, unserialize things, search/replace the URLs, then
> reserialize it and save it back.
>
> In all, it's not for the faint of heart.
>
> On 3/21/12 1:19 PM, "onlyunusedname" <onlyunusedname at gmail.com> wrote:
>
> >Excellent.  Thanks, Otto.  There is eAccelerator running on this server
> >and
> >clearing its cache is just the trick.
> >
> >Just out of curiosity:  If one wanted to write a script that did
> >everything
> >in a more environment agnostic fashion, would that be possible?
> >
> >In other words, this script would run once after a URI change and it
> >would:
> >
> >1) Change the relevant database entries from $old_url to $new_url.
> >
> >2)  [Magically solve a cached ABSPATH problem in a reasonably environment
> >agnostic fashion]
> >
> >3) Redirect to $new_url  (Site successfully moved.)
> >
> >
> >Is step 2 as preposterous as I am making it sound, or can you imagine a
> >feasable-ish answer?
> >
> >Thanks in any event.  You helped me a ton.
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kokarn at gmail.com  Thu Mar 22 08:41:33 2012
From: kokarn at gmail.com (Kokarn)
Date: Thu, 22 Mar 2012 09:41:33 +0100
Subject: [wp-hackers] Force a new ABSPATH when moving WordPress?
In-Reply-To: <CABQWr5wwzkunaXq4VLuVMBxboX=QF4TFt181MhTnBWLcE+X=FA@mail.gmail.com>
References: <CABQWr5wBzFkZD2hLkLFS3awAiXQVQVrz4OJVKbxJ=QKyfBzD5Q@mail.gmail.com>
	<CB8FC53A.1D3AF%chris@clwill.com>
	<CABQWr5wwzkunaXq4VLuVMBxboX=QF4TFt181MhTnBWLcE+X=FA@mail.gmail.com>
Message-ID: <CAPbD_NP9QKi_H=Nd7MRHZr928uzy_Mff0-vD1NZWN6Trxr6b3g@mail.gmail.com>

There is a great project on GitHub that have been working in that direction.

https://github.com/Ascerta/Wordpress-DB-clone

On 22 March 2012 03:14, onlyunusedname <onlyunusedname at gmail.com> wrote:

> Thanks for the kind warning.
>
> I've actually already googled my way through the unserialize/serialze
> morass.  I think I have a solution that is working for this particular set
> of minimalist sites.  I would never put it forward as a universal solution.
>
> Is there any sort of community-recognized best solution (commercial or non)
> for moving a WordPress database in this fashion?  Or is it simply never to
> be done (and/or case-by-case when it is absolutely unavoidable)?
>
>
>
>
> On Wed, Mar 21, 2012 at 8:54 PM, Chris Williams <chris at clwill.com> wrote:
>
> > As has been discussed 100,000 times on this list, do not underestimate
> the
> > complexity of #1.  You can't just change a couple of database entries for
> > home and base URL.  There are many instances, including all the images
> and
> > other media in attachments.
> >
> > But the most complicated part is in the serialized data in things like
> > user settings.  As someone recently pointed out, if you blindly do a
> > search/replace in the serialized data, you mess up the serialized format
> > (which includes string length).  The only safe way to do that is to spin
> > through all the data, unserialize things, search/replace the URLs, then
> > reserialize it and save it back.
> >
> > In all, it's not for the faint of heart.
> >
> > On 3/21/12 1:19 PM, "onlyunusedname" <onlyunusedname at gmail.com> wrote:
> >
> > >Excellent.  Thanks, Otto.  There is eAccelerator running on this server
> > >and
> > >clearing its cache is just the trick.
> > >
> > >Just out of curiosity:  If one wanted to write a script that did
> > >everything
> > >in a more environment agnostic fashion, would that be possible?
> > >
> > >In other words, this script would run once after a URI change and it
> > >would:
> > >
> > >1) Change the relevant database entries from $old_url to $new_url.
> > >
> > >2)  [Magically solve a cached ABSPATH problem in a reasonably
> environment
> > >agnostic fashion]
> > >
> > >3) Redirect to $new_url  (Site successfully moved.)
> > >
> > >
> > >Is step 2 as preposterous as I am making it sound, or can you imagine a
> > >feasable-ish answer?
> > >
> > >Thanks in any event.  You helped me a ton.
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kevinjohngallagher at hotmail.com  Thu Mar 22 11:06:29 2012
From: kevinjohngallagher at hotmail.com (Kevinjohn Gallagher)
Date: Thu, 22 Mar 2012 11:06:29 +0000
Subject: [wp-hackers] Running out of memory using $wpdb
In-Reply-To: <CAFuJWcebO0Qy8ic-kCHr5EAKmSpEyGG8o+MkR=oxDyLkd4H8Nw@mail.gmail.com>
References: <CAEgmxaa1mtz0VSaFzi77J2ReaOSFHx7rkQCQ6+P5J=Lhx45Mtw@mail.gmail.com>,
	<CAFuJWcebO0Qy8ic-kCHr5EAKmSpEyGG8o+MkR=oxDyLkd4H8Nw@mail.gmail.com>
Message-ID: <BLU150-W14CE1A3CB0E5B17719129BCC410@phx.gbl>



I'd also suggest doing this sort of thing OUTSIDE of WordPress.
Especially if it's for reporting, and not constant end user visibility.
Using $wpdb is grand, but you're also loading all of WordPress's functionality at the same time.For one of my more heavy sites with many custom tables (why CPTs didn't become CCOs with their own DB table I'll never know), I have a Cron Job (external to WP) that runs "reports" every 60secs and dumps the output into HTML.

Sometimes, we try to do to much internal to WordPress.
Kev

> From: beau at dentedreality.com.au
> Date: Wed, 21 Mar 2012 08:43:20 -0700
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] Running out of memory using $wpdb
> 
> I think this line was supposed to be a method call:
> 
> >  $wpdb->flush;
> 
> Are you sure it's not running out of time?
> 
> set_time_limit( 0 );
> 
> Also try adding:
> 
> define( 'SAVEQUERIES', false );
> 
> If you still need more, you might also use:
> 
> 	if ( !empty( $GLOBALS['wp_object_cache'] ) && is_object(
> $GLOBALS['wp_object_cache'] ) && !is_wp_error(
> $GLOBALS['wp_object_cache'] ) ) {
> 		if ( isset( $GLOBALS['wp_object_cache']->cache ) )
> 			$GLOBALS['wp_object_cache']->cache = array();
> 		if ( isset( $GLOBALS['wp_object_cache']->group_ops ) )
> 			$GLOBALS['wp_object_cache']->group_ops = array();
> 	}
> 
> If you're doing regular expression parsing of some sort on your data
> then there are small, inherent internal caches that cannot be cleared,
> so there's no way that I know of to regain the memory that bleeds out
> through that, other than ending the request and doing another (AJAX,
> auto-redirect, something along those lines).
> 
> You can also change your main loop to:
> 
> while ( $result = $wpdb->get_results( "SELECT * FROM $table WHERE
> status='LIVE' LIMIT $start, $count" ) ) {
> 
> and then you don't need your first query (just make sure you adjust
> your logic to get $start and $count).
> 
> HTH
> 
> Beau
> 
> On Wed, Mar 21, 2012 at 8:14 AM, Tom Barrett <tcbarrett at gmail.com> wrote:
> > Hi
> >
> > I have a custom table with 25k rows (and another joined on it with 300k
> > rows, but I haven't got to that yet).
> > The data is sitting on a box with a regular ~250M memory free. I'm trying
> > to parse the data for reporting, but cannot grab more than ~6k rows without
> > running out of memory (sometimes dying silently).
> >
> > I tried grabbing the data in pieces (grabbing 1k rows at a time), but it
> > still fails after 6k rows.
> >
> > Is there a way I can squeeze the information out using $wpdb as it comes?
> >
> > This is a snippet of what I was trying to do:
> > $total = $wpdb->get_var( "SELECT COUNT(*) FROM $table WHERE status='LIVE'"
> > );
> > $count = 0;
> > while( $count < $total ) :
> >  $wpdb->flush;
> >  $start  = $count;
> >  $count += 1000;
> >  $result = $wpdb->get_results( "SELECT * FROM $table WHERE status='LIVE'
> > LIMIT $start, $count" );
> >  echo "$count / $total\n";
> > endwhile;
> > echo "Done\n";
> >
> >
> > --
> > http://www.tcbarrett.com | http://gplus.to/tcbarrett |
> > http://twitter.com/tcbarrett
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
 		 	   		  

From onlyunusedname at gmail.com  Thu Mar 22 12:34:17 2012
From: onlyunusedname at gmail.com (onlyunusedname)
Date: Thu, 22 Mar 2012 08:34:17 -0400
Subject: [wp-hackers] Force a new ABSPATH when moving WordPress?
In-Reply-To: <CAPbD_NP9QKi_H=Nd7MRHZr928uzy_Mff0-vD1NZWN6Trxr6b3g@mail.gmail.com>
References: <CABQWr5wBzFkZD2hLkLFS3awAiXQVQVrz4OJVKbxJ=QKyfBzD5Q@mail.gmail.com>
	<CB8FC53A.1D3AF%chris@clwill.com>
	<CABQWr5wwzkunaXq4VLuVMBxboX=QF4TFt181MhTnBWLcE+X=FA@mail.gmail.com>
	<CAPbD_NP9QKi_H=Nd7MRHZr928uzy_Mff0-vD1NZWN6Trxr6b3g@mail.gmail.com>
Message-ID: <CABQWr5xHz3MxDNbniKYwxGfMhvuGPx2OZGabTuRT53p--pxmLQ@mail.gmail.com>

Thanks for the tip, Kokarn  I can't wait to look at this.

On Thu, Mar 22, 2012 at 4:41 AM, Kokarn <kokarn at gmail.com> wrote:

> There is a great project on GitHub that have been working in that
> direction.
>
> https://github.com/Ascerta/Wordpress-DB-clone
>
> On 22 March 2012 03:14, onlyunusedname <onlyunusedname at gmail.com> wrote:
>
> > Thanks for the kind warning.
> >
> > I've actually already googled my way through the unserialize/serialze
> > morass.  I think I have a solution that is working for this particular
> set
> > of minimalist sites.  I would never put it forward as a universal
> solution.
> >
> > Is there any sort of community-recognized best solution (commercial or
> non)
> > for moving a WordPress database in this fashion?  Or is it simply never
> to
> > be done (and/or case-by-case when it is absolutely unavoidable)?
> >
> >
> >
> >
> > On Wed, Mar 21, 2012 at 8:54 PM, Chris Williams <chris at clwill.com>
> wrote:
> >
> > > As has been discussed 100,000 times on this list, do not underestimate
> > the
> > > complexity of #1.  You can't just change a couple of database entries
> for
> > > home and base URL.  There are many instances, including all the images
> > and
> > > other media in attachments.
> > >
> > > But the most complicated part is in the serialized data in things like
> > > user settings.  As someone recently pointed out, if you blindly do a
> > > search/replace in the serialized data, you mess up the serialized
> format
> > > (which includes string length).  The only safe way to do that is to
> spin
> > > through all the data, unserialize things, search/replace the URLs, then
> > > reserialize it and save it back.
> > >
> > > In all, it's not for the faint of heart.
> > >
> > > On 3/21/12 1:19 PM, "onlyunusedname" <onlyunusedname at gmail.com> wrote:
> > >
> > > >Excellent.  Thanks, Otto.  There is eAccelerator running on this
> server
> > > >and
> > > >clearing its cache is just the trick.
> > > >
> > > >Just out of curiosity:  If one wanted to write a script that did
> > > >everything
> > > >in a more environment agnostic fashion, would that be possible?
> > > >
> > > >In other words, this script would run once after a URI change and it
> > > >would:
> > > >
> > > >1) Change the relevant database entries from $old_url to $new_url.
> > > >
> > > >2)  [Magically solve a cached ABSPATH problem in a reasonably
> > environment
> > > >agnostic fashion]
> > > >
> > > >3) Redirect to $new_url  (Site successfully moved.)
> > > >
> > > >
> > > >Is step 2 as preposterous as I am making it sound, or can you imagine
> a
> > > >feasable-ish answer?
> > > >
> > > >Thanks in any event.  You helped me a ton.
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mario at peshev.net  Thu Mar 22 21:02:47 2012
From: mario at peshev.net (Mario Peshev)
Date: Thu, 22 Mar 2012 23:02:47 +0200
Subject: [wp-hackers] Unit testing for WordPress
Message-ID: <CAN_8tK7-ZNtR5RbtJdOz4Q8EVs24g17qaXogYHR6meF3ZDPBSw@mail.gmail.com>

Hello everyone,

I've been reviewing the Automated Testing page in the Codex -
http://codex.wordpress.org/Automated_Testing - and downloaded the sample
tests out there. It is using a separate testing environment - a separate
install to run the tests on.

Since I would like to write my own tests, is there a pack I could add to my
existing install and write only read-only tests (I keep backups of my demo
site as well)? I tried copying only wp-test.php but it has several
dependencies and I was curious if there is a sample pack to be added to
every install of mine in order to test my plugins and/or install.

On the other hand, is there a better option other than PHPUnit such as
QUnit for unit testing in WordPress?

Mario Peshev
Training and Consulting Services @ DevriX
http://www.linkedin.com/in/mpeshev
http://devrix.com
http://peshev.net/blog

From mario at peshev.net  Thu Mar 22 21:12:48 2012
From: mario at peshev.net (Mario Peshev)
Date: Thu, 22 Mar 2012 23:12:48 +0200
Subject: [wp-hackers] Unit testing for WordPress
In-Reply-To: <CAN_8tK7-ZNtR5RbtJdOz4Q8EVs24g17qaXogYHR6meF3ZDPBSw@mail.gmail.com>
References: <CAN_8tK7-ZNtR5RbtJdOz4Q8EVs24g17qaXogYHR6meF3ZDPBSw@mail.gmail.com>
Message-ID: <CAN_8tK5jU1A474+F3jJ=qjeMS4YmORjWcBZA1602bof_yz6TKA@mail.gmail.com>

P.S. Just found out this one -  http://wordpress.org/extend/plugins/wp-unit/
- haven't tested it yet, but seems like a useful addition to my setup.

Mario Peshev
Training and Consulting Services @ DevriX
http://www.linkedin.com/in/mpeshev
http://devrix.com
http://peshev.net/blog



On Thu, Mar 22, 2012 at 11:02 PM, Mario Peshev <mario at peshev.net> wrote:

> Hello everyone,
>
> I've been reviewing the Automated Testing page in the Codex -
> http://codex.wordpress.org/Automated_Testing - and downloaded the sample
> tests out there. It is using a separate testing environment - a separate
> install to run the tests on.
>
> Since I would like to write my own tests, is there a pack I could add to
> my existing install and write only read-only tests (I keep backups of my
> demo site as well)? I tried copying only wp-test.php but it has several
> dependencies and I was curious if there is a sample pack to be added to
> every install of mine in order to test my plugins and/or install.
>
> On the other hand, is there a better option other than PHPUnit such as
> QUnit for unit testing in WordPress?
>
> Mario Peshev
> Training and Consulting Services @ DevriX
> http://www.linkedin.com/in/mpeshev
> http://devrix.com
> http://peshev.net/blog
>
>

From georgemamadashvili at gmail.com  Thu Mar 22 21:22:57 2012
From: georgemamadashvili at gmail.com (George Mamadashvili)
Date: Fri, 23 Mar 2012 01:22:57 +0400
Subject: [wp-hackers] Unit testing for WordPress
In-Reply-To: <CAN_8tK5jU1A474+F3jJ=qjeMS4YmORjWcBZA1602bof_yz6TKA@mail.gmail.com>
References: <CAN_8tK7-ZNtR5RbtJdOz4Q8EVs24g17qaXogYHR6meF3ZDPBSw@mail.gmail.com>
	<CAN_8tK5jU1A474+F3jJ=qjeMS4YmORjWcBZA1602bof_yz6TKA@mail.gmail.com>
Message-ID: <CA+9xn1XO9tVi4EncZAWM8bNY1f2wW=N0QoF+Tm5rN=utWCjVjw@mail.gmail.com>

You should check Nikolay Bachiyski's presentations from WordCamp SF -
http://wordpress.tv/2011/08/20/nikolay-bachiyski-unit-testing-will-change-your-life/

On Fri, Mar 23, 2012 at 1:12 AM, Mario Peshev <mario at peshev.net> wrote:

> P.S. Just found out this one -
> http://wordpress.org/extend/plugins/wp-unit/
> - haven't tested it yet, but seems like a useful addition to my setup.
>
> Mario Peshev
> Training and Consulting Services @ DevriX
> http://www.linkedin.com/in/mpeshev
> http://devrix.com
> http://peshev.net/blog
>
>
>
> On Thu, Mar 22, 2012 at 11:02 PM, Mario Peshev <mario at peshev.net> wrote:
>
> > Hello everyone,
> >
> > I've been reviewing the Automated Testing page in the Codex -
> > http://codex.wordpress.org/Automated_Testing - and downloaded the sample
> > tests out there. It is using a separate testing environment - a separate
> > install to run the tests on.
> >
> > Since I would like to write my own tests, is there a pack I could add to
> > my existing install and write only read-only tests (I keep backups of my
> > demo site as well)? I tried copying only wp-test.php but it has several
> > dependencies and I was curious if there is a sample pack to be added to
> > every install of mine in order to test my plugins and/or install.
> >
> > On the other hand, is there a better option other than PHPUnit such as
> > QUnit for unit testing in WordPress?
> >
> > Mario Peshev
> > Training and Consulting Services @ DevriX
> > http://www.linkedin.com/in/mpeshev
> > http://devrix.com
> > http://peshev.net/blog
> >
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mario at peshev.net  Thu Mar 22 21:27:09 2012
From: mario at peshev.net (Mario Peshev)
Date: Thu, 22 Mar 2012 23:27:09 +0200
Subject: [wp-hackers] Unit testing for WordPress
In-Reply-To: <CA+9xn1XO9tVi4EncZAWM8bNY1f2wW=N0QoF+Tm5rN=utWCjVjw@mail.gmail.com>
References: <CAN_8tK7-ZNtR5RbtJdOz4Q8EVs24g17qaXogYHR6meF3ZDPBSw@mail.gmail.com>
	<CAN_8tK5jU1A474+F3jJ=qjeMS4YmORjWcBZA1602bof_yz6TKA@mail.gmail.com>
	<CA+9xn1XO9tVi4EncZAWM8bNY1f2wW=N0QoF+Tm5rN=utWCjVjw@mail.gmail.com>
Message-ID: <CAN_8tK7CEEpR1ReknsM_20z8W+cQMjO2ZJTz_b9i-5+8yQj+Ug@mail.gmail.com>

I've watched the video, but I was wondering if anyone uses another approach
as I got provoked by the Smashing tutorial using QUnit.

Mario Peshev
Training and Consulting Services @ DevriX
http://www.linkedin.com/in/mpeshev
http://devrix.com
http://peshev.net/blog



On Thu, Mar 22, 2012 at 11:22 PM, George Mamadashvili <
georgemamadashvili at gmail.com> wrote:

> You should check Nikolay Bachiyski's presentations from WordCamp SF -
>
> http://wordpress.tv/2011/08/20/nikolay-bachiyski-unit-testing-will-change-your-life/
>
> On Fri, Mar 23, 2012 at 1:12 AM, Mario Peshev <mario at peshev.net> wrote:
>
> > P.S. Just found out this one -
> > http://wordpress.org/extend/plugins/wp-unit/
> > - haven't tested it yet, but seems like a useful addition to my setup.
> >
> > Mario Peshev
> > Training and Consulting Services @ DevriX
> > http://www.linkedin.com/in/mpeshev
> > http://devrix.com
> > http://peshev.net/blog
> >
> >
> >
> > On Thu, Mar 22, 2012 at 11:02 PM, Mario Peshev <mario at peshev.net> wrote:
> >
> > > Hello everyone,
> > >
> > > I've been reviewing the Automated Testing page in the Codex -
> > > http://codex.wordpress.org/Automated_Testing - and downloaded the
> sample
> > > tests out there. It is using a separate testing environment - a
> separate
> > > install to run the tests on.
> > >
> > > Since I would like to write my own tests, is there a pack I could add
> to
> > > my existing install and write only read-only tests (I keep backups of
> my
> > > demo site as well)? I tried copying only wp-test.php but it has several
> > > dependencies and I was curious if there is a sample pack to be added to
> > > every install of mine in order to test my plugins and/or install.
> > >
> > > On the other hand, is there a better option other than PHPUnit such as
> > > QUnit for unit testing in WordPress?
> > >
> > > Mario Peshev
> > > Training and Consulting Services @ DevriX
> > > http://www.linkedin.com/in/mpeshev
> > > http://devrix.com
> > > http://peshev.net/blog
> > >
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From georgemamadashvili at gmail.com  Thu Mar 22 21:29:53 2012
From: georgemamadashvili at gmail.com (George Mamadashvili)
Date: Fri, 23 Mar 2012 01:29:53 +0400
Subject: [wp-hackers] Unit testing for WordPress
In-Reply-To: <CAN_8tK7CEEpR1ReknsM_20z8W+cQMjO2ZJTz_b9i-5+8yQj+Ug@mail.gmail.com>
References: <CAN_8tK7-ZNtR5RbtJdOz4Q8EVs24g17qaXogYHR6meF3ZDPBSw@mail.gmail.com>
	<CAN_8tK5jU1A474+F3jJ=qjeMS4YmORjWcBZA1602bof_yz6TKA@mail.gmail.com>
	<CA+9xn1XO9tVi4EncZAWM8bNY1f2wW=N0QoF+Tm5rN=utWCjVjw@mail.gmail.com>
	<CAN_8tK7CEEpR1ReknsM_20z8W+cQMjO2ZJTz_b9i-5+8yQj+Ug@mail.gmail.com>
Message-ID: <CA+9xn1UZw3w+4bhg680Hs7cAsRDEcc0tKTwuZBSTM_83s97Nfw@mail.gmail.com>

Would love to hear opinions about Smashing Mag's tutorial, not sure how
good is testing PHP via JS testing tool.

On Fri, Mar 23, 2012 at 1:27 AM, Mario Peshev <mario at peshev.net> wrote:

> I've watched the video, but I was wondering if anyone uses another approach
> as I got provoked by the Smashing tutorial using QUnit.
>
> Mario Peshev
> Training and Consulting Services @ DevriX
> http://www.linkedin.com/in/mpeshev
> http://devrix.com
> http://peshev.net/blog
>
>
>
> On Thu, Mar 22, 2012 at 11:22 PM, George Mamadashvili <
> georgemamadashvili at gmail.com> wrote:
>
> > You should check Nikolay Bachiyski's presentations from WordCamp SF -
> >
> >
> http://wordpress.tv/2011/08/20/nikolay-bachiyski-unit-testing-will-change-your-life/
> >
> > On Fri, Mar 23, 2012 at 1:12 AM, Mario Peshev <mario at peshev.net> wrote:
> >
> > > P.S. Just found out this one -
> > > http://wordpress.org/extend/plugins/wp-unit/
> > > - haven't tested it yet, but seems like a useful addition to my setup.
> > >
> > > Mario Peshev
> > > Training and Consulting Services @ DevriX
> > > http://www.linkedin.com/in/mpeshev
> > > http://devrix.com
> > > http://peshev.net/blog
> > >
> > >
> > >
> > > On Thu, Mar 22, 2012 at 11:02 PM, Mario Peshev <mario at peshev.net>
> wrote:
> > >
> > > > Hello everyone,
> > > >
> > > > I've been reviewing the Automated Testing page in the Codex -
> > > > http://codex.wordpress.org/Automated_Testing - and downloaded the
> > sample
> > > > tests out there. It is using a separate testing environment - a
> > separate
> > > > install to run the tests on.
> > > >
> > > > Since I would like to write my own tests, is there a pack I could add
> > to
> > > > my existing install and write only read-only tests (I keep backups of
> > my
> > > > demo site as well)? I tried copying only wp-test.php but it has
> several
> > > > dependencies and I was curious if there is a sample pack to be added
> to
> > > > every install of mine in order to test my plugins and/or install.
> > > >
> > > > On the other hand, is there a better option other than PHPUnit such
> as
> > > > QUnit for unit testing in WordPress?
> > > >
> > > > Mario Peshev
> > > > Training and Consulting Services @ DevriX
> > > > http://www.linkedin.com/in/mpeshev
> > > > http://devrix.com
> > > > http://peshev.net/blog
> > > >
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From somani.mayur at gmail.com  Fri Mar 23 10:56:34 2012
From: somani.mayur at gmail.com (Mayur Somani)
Date: Fri, 23 Mar 2012 16:26:34 +0530
Subject: [wp-hackers] Regarding Premium Themes on WordPress.com
Message-ID: <CAAw7Gt1hEW6z2VoWVBF6y4QFwpsP+r+eg97ouGenVNJSL=waKQ@mail.gmail.com>

I am not sure if this is the right list to post in but can anyone
please tell me what is the procedure to include a WordPress
theme in the premium themes at WordPress.com?
http://en.support.wordpress.com/themes/premium-themes/

Thanks for your time.

From carlroett at gmail.com  Fri Mar 23 11:21:01 2012
From: carlroett at gmail.com (Carl Roett)
Date: Fri, 23 Mar 2012 05:21:01 -0600
Subject: [wp-hackers] Unit testing for WordPress
In-Reply-To: <CAN_8tK7CEEpR1ReknsM_20z8W+cQMjO2ZJTz_b9i-5+8yQj+Ug@mail.gmail.com>
References: <CAN_8tK7-ZNtR5RbtJdOz4Q8EVs24g17qaXogYHR6meF3ZDPBSw@mail.gmail.com>
	<CAN_8tK5jU1A474+F3jJ=qjeMS4YmORjWcBZA1602bof_yz6TKA@mail.gmail.com>
	<CA+9xn1XO9tVi4EncZAWM8bNY1f2wW=N0QoF+Tm5rN=utWCjVjw@mail.gmail.com>
	<CAN_8tK7CEEpR1ReknsM_20z8W+cQMjO2ZJTz_b9i-5+8yQj+Ug@mail.gmail.com>
Message-ID: <CAM0n84DRwmpzqkfZsJRwgqvHRkBgPcR7zqMY=n4ObFhm8ouDdw@mail.gmail.com>

You'd probably be interested in what my team is working on:

http://code.google.com/p/buddypress-media/wiki/DOCS_bpm_unit_test_top

^F^


On Thu, Mar 22, 2012 at 3:27 PM, Mario Peshev <mario at peshev.net> wrote:

> I've watched the video, but I was wondering if anyone uses another approach
> as I got provoked by the Smashing tutorial using QUnit.
>
> Mario Peshev
> Training and Consulting Services @ DevriX
> http://www.linkedin.com/in/mpeshev
> http://devrix.com
> http://peshev.net/blog
>
>
>
> On Thu, Mar 22, 2012 at 11:22 PM, George Mamadashvili <
> georgemamadashvili at gmail.com> wrote:
>
> > You should check Nikolay Bachiyski's presentations from WordCamp SF -
> >
> >
> http://wordpress.tv/2011/08/20/nikolay-bachiyski-unit-testing-will-change-your-life/
> >
> > On Fri, Mar 23, 2012 at 1:12 AM, Mario Peshev <mario at peshev.net> wrote:
> >
> > > P.S. Just found out this one -
> > > http://wordpress.org/extend/plugins/wp-unit/
> > > - haven't tested it yet, but seems like a useful addition to my setup.
> > >
> > > Mario Peshev
> > > Training and Consulting Services @ DevriX
> > > http://www.linkedin.com/in/mpeshev
> > > http://devrix.com
> > > http://peshev.net/blog
> > >
> > >
> > >
> > > On Thu, Mar 22, 2012 at 11:02 PM, Mario Peshev <mario at peshev.net>
> wrote:
> > >
> > > > Hello everyone,
> > > >
> > > > I've been reviewing the Automated Testing page in the Codex -
> > > > http://codex.wordpress.org/Automated_Testing - and downloaded the
> > sample
> > > > tests out there. It is using a separate testing environment - a
> > separate
> > > > install to run the tests on.
> > > >
> > > > Since I would like to write my own tests, is there a pack I could add
> > to
> > > > my existing install and write only read-only tests (I keep backups of
> > my
> > > > demo site as well)? I tried copying only wp-test.php but it has
> several
> > > > dependencies and I was curious if there is a sample pack to be added
> to
> > > > every install of mine in order to test my plugins and/or install.
> > > >
> > > > On the other hand, is there a better option other than PHPUnit such
> as
> > > > QUnit for unit testing in WordPress?
> > > >
> > > > Mario Peshev
> > > > Training and Consulting Services @ DevriX
> > > > http://www.linkedin.com/in/mpeshev
> > > > http://devrix.com
> > > > http://peshev.net/blog
> > > >
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mario at peshev.net  Fri Mar 23 16:54:44 2012
From: mario at peshev.net (Mario Peshev)
Date: Fri, 23 Mar 2012 18:54:44 +0200
Subject: [wp-hackers] Unit testing for WordPress
In-Reply-To: <CAM0n84DRwmpzqkfZsJRwgqvHRkBgPcR7zqMY=n4ObFhm8ouDdw@mail.gmail.com>
References: <CAN_8tK7-ZNtR5RbtJdOz4Q8EVs24g17qaXogYHR6meF3ZDPBSw@mail.gmail.com>
	<CAN_8tK5jU1A474+F3jJ=qjeMS4YmORjWcBZA1602bof_yz6TKA@mail.gmail.com>
	<CA+9xn1XO9tVi4EncZAWM8bNY1f2wW=N0QoF+Tm5rN=utWCjVjw@mail.gmail.com>
	<CAN_8tK7CEEpR1ReknsM_20z8W+cQMjO2ZJTz_b9i-5+8yQj+Ug@mail.gmail.com>
	<CAM0n84DRwmpzqkfZsJRwgqvHRkBgPcR7zqMY=n4ObFhm8ouDdw@mail.gmail.com>
Message-ID: <CAN_8tK5tm4O8PpwXT+hCORhXkbJQ9y9=1Ks+F4yvcnEyh_kKdA@mail.gmail.com>

Looks pretty interesting, but is it specifically related to BuddyPress
installs or works for plain WP as well?

Mario Peshev
Training and Consulting Services @ DevriX
http://www.linkedin.com/in/mpeshev
http://devrix.com
http://peshev.net/blog



On Fri, Mar 23, 2012 at 1:21 PM, Carl Roett <carlroett at gmail.com> wrote:

> You'd probably be interested in what my team is working on:
>
> http://code.google.com/p/buddypress-media/wiki/DOCS_bpm_unit_test_top
>
> ^F^
>
>
> On Thu, Mar 22, 2012 at 3:27 PM, Mario Peshev <mario at peshev.net> wrote:
>
> > I've watched the video, but I was wondering if anyone uses another
> approach
> > as I got provoked by the Smashing tutorial using QUnit.
> >
> > Mario Peshev
> > Training and Consulting Services @ DevriX
> > http://www.linkedin.com/in/mpeshev
> > http://devrix.com
> > http://peshev.net/blog
> >
> >
> >
> > On Thu, Mar 22, 2012 at 11:22 PM, George Mamadashvili <
> > georgemamadashvili at gmail.com> wrote:
> >
> > > You should check Nikolay Bachiyski's presentations from WordCamp SF -
> > >
> > >
> >
> http://wordpress.tv/2011/08/20/nikolay-bachiyski-unit-testing-will-change-your-life/
> > >
> > > On Fri, Mar 23, 2012 at 1:12 AM, Mario Peshev <mario at peshev.net>
> wrote:
> > >
> > > > P.S. Just found out this one -
> > > > http://wordpress.org/extend/plugins/wp-unit/
> > > > - haven't tested it yet, but seems like a useful addition to my
> setup.
> > > >
> > > > Mario Peshev
> > > > Training and Consulting Services @ DevriX
> > > > http://www.linkedin.com/in/mpeshev
> > > > http://devrix.com
> > > > http://peshev.net/blog
> > > >
> > > >
> > > >
> > > > On Thu, Mar 22, 2012 at 11:02 PM, Mario Peshev <mario at peshev.net>
> > wrote:
> > > >
> > > > > Hello everyone,
> > > > >
> > > > > I've been reviewing the Automated Testing page in the Codex -
> > > > > http://codex.wordpress.org/Automated_Testing - and downloaded the
> > > sample
> > > > > tests out there. It is using a separate testing environment - a
> > > separate
> > > > > install to run the tests on.
> > > > >
> > > > > Since I would like to write my own tests, is there a pack I could
> add
> > > to
> > > > > my existing install and write only read-only tests (I keep backups
> of
> > > my
> > > > > demo site as well)? I tried copying only wp-test.php but it has
> > several
> > > > > dependencies and I was curious if there is a sample pack to be
> added
> > to
> > > > > every install of mine in order to test my plugins and/or install.
> > > > >
> > > > > On the other hand, is there a better option other than PHPUnit such
> > as
> > > > > QUnit for unit testing in WordPress?
> > > > >
> > > > > Mario Peshev
> > > > > Training and Consulting Services @ DevriX
> > > > > http://www.linkedin.com/in/mpeshev
> > > > > http://devrix.com
> > > > > http://peshev.net/blog
> > > > >
> > > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From carlroett at gmail.com  Fri Mar 23 22:24:11 2012
From: carlroett at gmail.com (Carl Roett)
Date: Fri, 23 Mar 2012 16:24:11 -0600
Subject: [wp-hackers] Unit testing for WordPress
In-Reply-To: <CAN_8tK5tm4O8PpwXT+hCORhXkbJQ9y9=1Ks+F4yvcnEyh_kKdA@mail.gmail.com>
References: <CAN_8tK7-ZNtR5RbtJdOz4Q8EVs24g17qaXogYHR6meF3ZDPBSw@mail.gmail.com>
	<CAN_8tK5jU1A474+F3jJ=qjeMS4YmORjWcBZA1602bof_yz6TKA@mail.gmail.com>
	<CA+9xn1XO9tVi4EncZAWM8bNY1f2wW=N0QoF+Tm5rN=utWCjVjw@mail.gmail.com>
	<CAN_8tK7CEEpR1ReknsM_20z8W+cQMjO2ZJTz_b9i-5+8yQj+Ug@mail.gmail.com>
	<CAM0n84DRwmpzqkfZsJRwgqvHRkBgPcR7zqMY=n4ObFhm8ouDdw@mail.gmail.com>
	<CAN_8tK5tm4O8PpwXT+hCORhXkbJQ9y9=1Ks+F4yvcnEyh_kKdA@mail.gmail.com>
Message-ID: <CAM0n84CGeedzSjxjACuTGVL5onADF5FzqGMD1SuwHRp=-+eJ+A@mail.gmail.com>

It works for any plugin.

^F^

On Fri, Mar 23, 2012 at 10:54 AM, Mario Peshev <mario at peshev.net> wrote:

> Looks pretty interesting, but is it specifically related to BuddyPress
> installs or works for plain WP as well?
>
> Mario Peshev
> Training and Consulting Services @ DevriX
> http://www.linkedin.com/in/mpeshev
> http://devrix.com
> http://peshev.net/blog
>
>
>
> On Fri, Mar 23, 2012 at 1:21 PM, Carl Roett <carlroett at gmail.com> wrote:
>
> > You'd probably be interested in what my team is working on:
> >
> > http://code.google.com/p/buddypress-media/wiki/DOCS_bpm_unit_test_top
> >
> > ^F^
> >
> >
> > On Thu, Mar 22, 2012 at 3:27 PM, Mario Peshev <mario at peshev.net> wrote:
> >
> > > I've watched the video, but I was wondering if anyone uses another
> > approach
> > > as I got provoked by the Smashing tutorial using QUnit.
> > >
> > > Mario Peshev
> > > Training and Consulting Services @ DevriX
> > > http://www.linkedin.com/in/mpeshev
> > > http://devrix.com
> > > http://peshev.net/blog
> > >
> > >
> > >
> > > On Thu, Mar 22, 2012 at 11:22 PM, George Mamadashvili <
> > > georgemamadashvili at gmail.com> wrote:
> > >
> > > > You should check Nikolay Bachiyski's presentations from WordCamp SF -
> > > >
> > > >
> > >
> >
> http://wordpress.tv/2011/08/20/nikolay-bachiyski-unit-testing-will-change-your-life/
> > > >
> > > > On Fri, Mar 23, 2012 at 1:12 AM, Mario Peshev <mario at peshev.net>
> > wrote:
> > > >
> > > > > P.S. Just found out this one -
> > > > > http://wordpress.org/extend/plugins/wp-unit/
> > > > > - haven't tested it yet, but seems like a useful addition to my
> > setup.
> > > > >
> > > > > Mario Peshev
> > > > > Training and Consulting Services @ DevriX
> > > > > http://www.linkedin.com/in/mpeshev
> > > > > http://devrix.com
> > > > > http://peshev.net/blog
> > > > >
> > > > >
> > > > >
> > > > > On Thu, Mar 22, 2012 at 11:02 PM, Mario Peshev <mario at peshev.net>
> > > wrote:
> > > > >
> > > > > > Hello everyone,
> > > > > >
> > > > > > I've been reviewing the Automated Testing page in the Codex -
> > > > > > http://codex.wordpress.org/Automated_Testing - and downloaded
> the
> > > > sample
> > > > > > tests out there. It is using a separate testing environment - a
> > > > separate
> > > > > > install to run the tests on.
> > > > > >
> > > > > > Since I would like to write my own tests, is there a pack I could
> > add
> > > > to
> > > > > > my existing install and write only read-only tests (I keep
> backups
> > of
> > > > my
> > > > > > demo site as well)? I tried copying only wp-test.php but it has
> > > several
> > > > > > dependencies and I was curious if there is a sample pack to be
> > added
> > > to
> > > > > > every install of mine in order to test my plugins and/or install.
> > > > > >
> > > > > > On the other hand, is there a better option other than PHPUnit
> such
> > > as
> > > > > > QUnit for unit testing in WordPress?
> > > > > >
> > > > > > Mario Peshev
> > > > > > Training and Consulting Services @ DevriX
> > > > > > http://www.linkedin.com/in/mpeshev
> > > > > > http://devrix.com
> > > > > > http://peshev.net/blog
> > > > > >
> > > > > >
> > > > > _______________________________________________
> > > > > wp-hackers mailing list
> > > > > wp-hackers at lists.automattic.com
> > > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > > >
> > > > _______________________________________________
> > > > wp-hackers mailing list
> > > > wp-hackers at lists.automattic.com
> > > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From fris at fris.net  Sat Mar 24 15:43:15 2012
From: fris at fris.net (fris)
Date: Sat, 24 Mar 2012 11:43:15 -0400
Subject: [wp-hackers] best way to remove shortcode from post content
Message-ID: <000301cd09d4$d41253a0$7c36fae0$@fris.net>

I know I could create/modify a shortcode and just return null content, but I
was hoping for a better solution via mysql, or some other plugin.

Found this from

http://kovshenin.com/2011/regex-replace-in-mysql-or-lib_mysqludf_preg-in-ubu
ntu-linux/

what would be the best way to remove shortcodes with variables like
[shortcodename id="12"]text here[/shortcodename]

this?

/(.?)\[(shortcodename)\b(.*?)(?:(\/))?\](?:(.+?)\[\/\2\])?(.?)/


From halukkaramete at gmail.com  Sat Mar 24 22:48:48 2012
From: halukkaramete at gmail.com (Haluk Karamete)
Date: Sat, 24 Mar 2012 15:48:48 -0700
Subject: [wp-hackers] revamping an huge old site ( written in custom CMS )
 into a fresh install WP.
Message-ID: <CAHERW=1ADkiSoWkF-cBrFFpZR_UEee7X+esOemZjBi1idF4VMQ@mail.gmail.com>

We need to revamp 15 year old high traffic website with 10,000+
articles/videos/audios ( where things are stored in different tables ) and
in an asp/ms-sql implementation. And we chose WP for the implementation of
the new revamped site.

Obviously, we don't want to do that manually, that is one post at a time,
and since this is a home grown CMS, we do not have a utility to import the
current content into WP magically neither. We need to write that utility.

Our first goal is to get the 90% of the old data into a demo WP site and
iron out the details or worry about the look and feel stuff later.

For that, I thought of the following plan but I need to pick your brains
before I delve into it - You guys are a lot smarter than me and you can
tackle this kind of stuff way better than the plan outlined below.


1- get a premium magazine theme with the demo database/resources. ( I
contacted two known vendors and they accepted to give me the demo site
resource files and the actual db in the form of an xml )

2- get the demo run on my server and play with it to understand how the
demo is put together, the cats, the tags, the posts etc... how they manage
the featured posts, how things are laid out, the details etc... so just to
get familiar with it.

3- create a bunch of custom mysql tables ( that have nothing to do with the
wp tables/structures ) and populate these mysql tables with enough
category,tag, post data that the demo site contains

4- start a new instance of a wp with a fresh install on the same server

5- write a php script that taps into the custom mysql tables, read the
cat,tag,post data and start executing tons of  wp_insert_term,
wp_insert_category and wp_insert_posts one after the other into the fresh
install wp that I talked about in step 4.

6- keep fixing the php script until the script is able to create the
original demo site programmatically with the click of a button.

7- once step 6 is passed successfully, clear the custom mysql table's data
and write another script which taps into our old ms-sql to extract our
existing cat/tag/article/media file info to be inserted into the custom
mysql table

8- run the script ( of step 5 ). With this time, we should be able to get
the demo site back except with our content showing thru.

What do you say to this plan?

What's a better way to achieve our initial goal than the above approach? Do
we hit a road block somewhere along the way with the above approach?

From mickey at infamia.com  Sat Mar 24 22:49:18 2012
From: mickey at infamia.com (mickey panayiotakis)
Date: Sat, 24 Mar 2012 18:49:18 -0400
Subject: [wp-hackers] Force a new ABSPATH when moving WordPress?
Message-ID: <CAPZNwe27o0mPD57dmpcZ1gi7NWdwr8qyraJygqTi37u8U7KPXQ@mail.gmail.com>

>
>
>
> On Thu, Mar 22, 2012 at 4:41 AM, Kokarn <kokarn at gmail.com> wrote:
>
> > There is a great project on GitHub that have been working in that
> > direction.
> >
> > https://github.com/Ascerta/Wordpress-DB-clone
> >
>

This uses a slightly modified version of David Coveney's "search and
replace" script, which I use quite regularly and has never let me down. (
http://interconnectit.com/124/search-and-replace-for-wordpress-databases/).
 I also have  used development sites that match the character length
as
the live site (e.g. "dev.example.com" and "www.example.com") and doing a
straight search and replace.  Although this is not guarantee to not f*** up
serialized data, I have had a lot of success with it as well.

The Ascerta script seems pretty straightforward. (Except it seems to not be
doing much with $SOURCEHOST and $DESTINATIONHOST; you can add the -h option
to the mysql and mysqldump commandd if not using localhost.)


Y

-- 

Mickey Panayiotakis
Managing Partner
800.270.5170 x512
<http://www.infamia.com>

From mickey at infamia.com  Sun Mar 25 18:32:13 2012
From: mickey at infamia.com (mickey panayiotakis)
Date: Sun, 25 Mar 2012 14:32:13 -0400
Subject: [wp-hackers] best way to remove shortcode from post content
Message-ID: <CAPZNwe2Vu4839RuCsF0B=-2V1FYdB6Zy=rTouF61BuaEC2-YOg@mail.gmail.com>

>
> From: "fris" <fris at fris.net>
> Subject: [wp-hackers] best way to remove shortcode from post content
>
> I know I could create/modify a shortcode and just return null content, but
> I
> was hoping for a better solution via mysql, or some other plugin.
>
> Found this from
>
>
> http://kovshenin.com/2011/regex-replace-in-mysql-or-lib_mysqludf_preg-in-ubu
> ntu-linux/
>
> what would be the best way to remove shortcodes with variables like
> [shortcodename id="12"]text here[/shortcodename]
>
> this?
>
> /(.?)\[(shortcodename)\b(.*?)(?:(\/))?\](?:(.+?)\[\/\2\])?(.?)/
>
>
>
I'm a big fan of simplifying regex. I think a simpler regex would be

\[shortcodename id=\"12\"\](.*)\[\/shortcodename\]

If the id changes:
\[shortcodename id=\"[0-9]+\"\](.*)\[\/shortcodename\]
or
\[shortcodename id=\"[^"]+\"\](.*)\[\/shortcodename\]


How you use these is up to you.  My 2 cents: If this is a one-off, I'd
consider using mysqldump and vi or sed to modify the dbdump rather than
compiling and installing installing UDFs. Something like this:

mysqldump -flags your_database | sed s/\[shortcodename[
]?.*\](.*)\[\/shotcodename\]/\1/g  >new_sql

Here's a test with some escaped characters for sed and shell
:
mickey$ echo '[shortcodename id="foo"]bar[/shortcodename]' | sed
"s/\[shortcodename[ ]*[^]]*\]\([^[]*\)\[\/shortcodename\]/\1/g"
bar
mickey$

Egad I haven't seen a regex discussion in years.

mickey



-- 

Mickey Panayiotakis
Managing Partner
800.270.5170 x512
<http://www.infamia.com>

From fris at fris.net  Sun Mar 25 20:14:28 2012
From: fris at fris.net (fris)
Date: Sun, 25 Mar 2012 16:14:28 -0400
Subject: [wp-hackers] best way to remove shortcode from post content
In-Reply-To: <CAPZNwe2Vu4839RuCsF0B=-2V1FYdB6Zy=rTouF61BuaEC2-YOg@mail.gmail.com>
References: <CAPZNwe2Vu4839RuCsF0B=-2V1FYdB6Zy=rTouF61BuaEC2-YOg@mail.gmail.com>
Message-ID: <000001cd0ac3$e2748540$a75d8fc0$@fris.net>

Thanks for the reply, the sed you gave only removes the content inbetween
the shortcode so text here

I want to completely remove [shortcodename]content[/shortcodename] and also
parse for variables so [shortcodename] or [shortcodename id="12"] or
[shortcodename name="steve" color="black"]text[/shortcodename]



-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of mickey
panayiotakis
Sent: Sunday, March 25, 2012 2:32 PM
To: wp-hackers at lists.automattic.com
Subject: [wp-hackers] best way to remove shortcode from post content

>
> From: "fris" <fris at fris.net>
> Subject: [wp-hackers] best way to remove shortcode from post content
>
> I know I could create/modify a shortcode and just return null content, 
> but I was hoping for a better solution via mysql, or some other 
> plugin.
>
> Found this from
>
>
> http://kovshenin.com/2011/regex-replace-in-mysql-or-lib_mysqludf_preg-
> in-ubu
> ntu-linux/
>
> what would be the best way to remove shortcodes with variables like 
> [shortcodename id="12"]text here[/shortcodename]
>
> this?
>
> /(.?)\[(shortcodename)\b(.*?)(?:(\/))?\](?:(.+?)\[\/\2\])?(.?)/
>
>
>
I'm a big fan of simplifying regex. I think a simpler regex would be

\[shortcodename id=\"12\"\](.*)\[\/shortcodename\]

If the id changes:
\[shortcodename id=\"[0-9]+\"\](.*)\[\/shortcodename\]
or
\[shortcodename id=\"[^"]+\"\](.*)\[\/shortcodename\]


How you use these is up to you.  My 2 cents: If this is a one-off, I'd
consider using mysqldump and vi or sed to modify the dbdump rather than
compiling and installing installing UDFs. Something like this:

mysqldump -flags your_database | sed s/\[shortcodename[
]?.*\](.*)\[\/shotcodename\]/\1/g  >new_sql

Here's a test with some escaped characters for sed and shell
:
mickey$ echo '[shortcodename id="foo"]bar[/shortcodename]' | sed
"s/\[shortcodename[ ]*[^]]*\]\([^[]*\)\[\/shortcodename\]/\1/g"
bar
mickey$

Egad I haven't seen a regex discussion in years.

mickey



-- 

Mickey Panayiotakis
Managing Partner
800.270.5170 x512
<http://www.infamia.com>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From pross at pross.org.uk  Sun Mar 25 20:46:20 2012
From: pross at pross.org.uk (Simon Prosser)
Date: Sun, 25 Mar 2012 21:46:20 +0100
Subject: [wp-hackers] best way to remove shortcode from post content
In-Reply-To: <000001cd0ac3$e2748540$a75d8fc0$@fris.net>
References: <CAPZNwe2Vu4839RuCsF0B=-2V1FYdB6Zy=rTouF61BuaEC2-YOg@mail.gmail.com>
	<000001cd0ac3$e2748540$a75d8fc0$@fris.net>
Message-ID: <CAKwUDf3b7OJNo=Rh=eWKp=yjfZAUPEnHctLxajfKpMbr4CbAaQ@mail.gmail.com>

what about \[shortcodename[^\]]*].*[^\]*]]

On 25 March 2012 21:14, fris <fris at fris.net> wrote:
> Thanks for the reply, the sed you gave only removes the content inbetween
> the shortcode so text here
>
> I want to completely remove [shortcodename]content[/shortcodename] and also
> parse for variables so [shortcodename] or [shortcodename id="12"] or
> [shortcodename name="steve" color="black"]text[/shortcodename]
>
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of mickey
> panayiotakis
> Sent: Sunday, March 25, 2012 2:32 PM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] best way to remove shortcode from post content
>
>>
>> From: "fris" <fris at fris.net>
>> Subject: [wp-hackers] best way to remove shortcode from post content
>>
>> I know I could create/modify a shortcode and just return null content,
>> but I was hoping for a better solution via mysql, or some other
>> plugin.
>>
>> Found this from
>>
>>
>> http://kovshenin.com/2011/regex-replace-in-mysql-or-lib_mysqludf_preg-
>> in-ubu
>> ntu-linux/
>>
>> what would be the best way to remove shortcodes with variables like
>> [shortcodename id="12"]text here[/shortcodename]
>>
>> this?
>>
>> /(.?)\[(shortcodename)\b(.*?)(?:(\/))?\](?:(.+?)\[\/\2\])?(.?)/
>>
>>
>>
> I'm a big fan of simplifying regex. I think a simpler regex would be
>
> \[shortcodename id=\"12\"\](.*)\[\/shortcodename\]
>
> If the id changes:
> \[shortcodename id=\"[0-9]+\"\](.*)\[\/shortcodename\]
> or
> \[shortcodename id=\"[^"]+\"\](.*)\[\/shortcodename\]
>
>
> How you use these is up to you. ?My 2 cents: If this is a one-off, I'd
> consider using mysqldump and vi or sed to modify the dbdump rather than
> compiling and installing installing UDFs. Something like this:
>
> mysqldump -flags your_database | sed s/\[shortcodename[
> ]?.*\](.*)\[\/shotcodename\]/\1/g ?>new_sql
>
> Here's a test with some escaped characters for sed and shell
> :
> mickey$ echo '[shortcodename id="foo"]bar[/shortcodename]' | sed
> "s/\[shortcodename[ ]*[^]]*\]\([^[]*\)\[\/shortcodename\]/\1/g"
> bar
> mickey$
>
> Egad I haven't seen a regex discussion in years.
>
> mickey
>
>
>
> --
>
> Mickey Panayiotakis
> Managing Partner
> 800.270.5170 x512
> <http://www.infamia.com>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



-- 
My Blog: http://pross.org.uk/
Plugins : http://pross.org.uk/plugins/
Themes: http://wordpress.org/extend/themes/profile/pross

From fris at fris.net  Sun Mar 25 21:21:40 2012
From: fris at fris.net (fris)
Date: Sun, 25 Mar 2012 17:21:40 -0400
Subject: [wp-hackers] best way to remove shortcode from post content
In-Reply-To: <CAKwUDf3b7OJNo=Rh=eWKp=yjfZAUPEnHctLxajfKpMbr4CbAaQ@mail.gmail.com>
References: <CAPZNwe2Vu4839RuCsF0B=-2V1FYdB6Zy=rTouF61BuaEC2-YOg@mail.gmail.com>	<000001cd0ac3$e2748540$a75d8fc0$@fris.net>
	<CAKwUDf3b7OJNo=Rh=eWKp=yjfZAUPEnHctLxajfKpMbr4CbAaQ@mail.gmail.com>
Message-ID: <000001cd0acd$4572b050$d05810f0$@fris.net>

I actually did this and it seems to work

function remove_shortcode_from_db($shortcode = 'button') {

    global $wpdb;

    $posts = $wpdb->get_results("SELECT ID,post_title,post_content FROM
$wpdb->posts");
    $regex =
'/\[(\[?)('.$shortcode.')\b([^\]\/]*(?:\/(?!\])[^\]\/]*)*?)(?:(\/)\]|\](?:([
^\[]*+(?:\[(?!\/\2\])[^\[]*+)*+)\[\/\2\])?)(\]?)/s';

    foreach($posts as $post) {
        $final = preg_replace($regex,'',$post->post_content);
        $change = $wpdb->update( $wpdb->posts, array('post_content' =>
$final), array('ID' => $post->ID));
    }
}

Regex is taken from the shortcodes include file.

-----Original Message-----
From: wp-hackers-bounces at lists.automattic.com
[mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Simon Prosser
Sent: Sunday, March 25, 2012 4:46 PM
To: wp-hackers at lists.automattic.com
Subject: Re: [wp-hackers] best way to remove shortcode from post content

what about \[shortcodename[^\]]*].*[^\]*]]

On 25 March 2012 21:14, fris <fris at fris.net> wrote:
> Thanks for the reply, the sed you gave only removes the content 
> inbetween the shortcode so text here
>
> I want to completely remove [shortcodename]content[/shortcodename] and 
> also parse for variables so [shortcodename] or [shortcodename id="12"] 
> or [shortcodename name="steve" color="black"]text[/shortcodename]
>
>
>
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of mickey 
> panayiotakis
> Sent: Sunday, March 25, 2012 2:32 PM
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] best way to remove shortcode from post content
>
>>
>> From: "fris" <fris at fris.net>
>> Subject: [wp-hackers] best way to remove shortcode from post content
>>
>> I know I could create/modify a shortcode and just return null 
>> content, but I was hoping for a better solution via mysql, or some 
>> other plugin.
>>
>> Found this from
>>
>>
>> http://kovshenin.com/2011/regex-replace-in-mysql-or-lib_mysqludf_preg
>> -
>> in-ubu
>> ntu-linux/
>>
>> what would be the best way to remove shortcodes with variables like 
>> [shortcodename id="12"]text here[/shortcodename]
>>
>> this?
>>
>> /(.?)\[(shortcodename)\b(.*?)(?:(\/))?\](?:(.+?)\[\/\2\])?(.?)/
>>
>>
>>
> I'm a big fan of simplifying regex. I think a simpler regex would be
>
> \[shortcodename id=\"12\"\](.*)\[\/shortcodename\]
>
> If the id changes:
> \[shortcodename id=\"[0-9]+\"\](.*)\[\/shortcodename\]
> or
> \[shortcodename id=\"[^"]+\"\](.*)\[\/shortcodename\]
>
>
> How you use these is up to you. ?My 2 cents: If this is a one-off, I'd 
> consider using mysqldump and vi or sed to modify the dbdump rather 
> than compiling and installing installing UDFs. Something like this:
>
> mysqldump -flags your_database | sed s/\[shortcodename[ 
> ]?.*\](.*)\[\/shotcodename\]/\1/g ?>new_sql
>
> Here's a test with some escaped characters for sed and shell
> :
> mickey$ echo '[shortcodename id="foo"]bar[/shortcodename]' | sed 
> "s/\[shortcodename[ ]*[^]]*\]\([^[]*\)\[\/shortcodename\]/\1/g"
> bar
> mickey$
>
> Egad I haven't seen a regex discussion in years.
>
> mickey
>
>
>
> --
>
> Mickey Panayiotakis
> Managing Partner
> 800.270.5170 x512
> <http://www.infamia.com>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



--
My Blog: http://pross.org.uk/
Plugins : http://pross.org.uk/plugins/
Themes: http://wordpress.org/extend/themes/profile/pross
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers


From jnellmore at gmail.com  Sun Mar 25 23:49:46 2012
From: jnellmore at gmail.com (John Ellmore)
Date: Sun, 25 Mar 2012 18:49:46 -0500
Subject: [wp-hackers] Getting the name of the hook triggered
Message-ID: <CAK1PxnLjZti+NhzeX9f=SHuArbPoWsgzOstscRmGBfS7qTiakQ@mail.gmail.com>

Hi all,

I'm writing a plugin for WordPress that enables notifications to be sent to
a user upon on any given hook being triggered. The user will be able to
specify which hooks they'd like to be alerted to. An example would be
alerting a user when a post is published; the user would setup a
notification (through an admin panel) for the "publish_post" hook and would
receive a notification (via email, SMS, carrier pigeon, etc.) when that
hook was triggered.

In addition, each hook will be treated slightly differently; a "save_post"
notification, for example, might also include information about that post.
So the plugin will have code that is specific to each hook.

The way I'd like to do it is as follows:

<?php

$listen_for = get_hooks_list(); // get the hooks to listen from database or
option

foreach ($listen_for as $hook) {
        add_action($hook, 'my_plugin_handle_hook');
}

function my_plugin_handle_hook() {
        // figure out which hook was triggered, execute the appropriate code
        if ($hookname == 'save_post') do_something_here();
        else if ($hookname == 'publish_post') do_something_else();
}

?>

Unfortunately, as far as I can tell, there's no way to determine the name
of the hook that triggered an event. I'd really like to structure my plugin
in a way that's extensible and allows other plugins to add custom
functionality via hooks, but this issue is preventing me doing so.

So, my question is: Is there any way to figure out the name of the hook
that is triggering the callback? If not, any suggestions on how to
structure my plugin in an extensible manner?

Thanks!
John

From aaron at jorb.in  Sun Mar 25 23:56:08 2012
From: aaron at jorb.in (Aaron Jorbin)
Date: Sun, 25 Mar 2012 19:56:08 -0400
Subject: [wp-hackers] Getting the name of the hook triggered
In-Reply-To: <CAK1PxnLjZti+NhzeX9f=SHuArbPoWsgzOstscRmGBfS7qTiakQ@mail.gmail.com>
References: <CAK1PxnLjZti+NhzeX9f=SHuArbPoWsgzOstscRmGBfS7qTiakQ@mail.gmail.com>
Message-ID: <CAGeDw9_aeAkOgGcfEfU19cqohKeJr5OX63NWaXyje4fG=EeDyA@mail.gmail.com>

Check out the current_filter function -
http://phpxref.ftwr.co.uk/wordpress/wp-includes/plugin.php.source.html#l297


http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Sun, Mar 25, 2012 at 7:49 PM, John Ellmore <jnellmore at gmail.com> wrote:

> Hi all,
>
> I'm writing a plugin for WordPress that enables notifications to be sent to
> a user upon on any given hook being triggered. The user will be able to
> specify which hooks they'd like to be alerted to. An example would be
> alerting a user when a post is published; the user would setup a
> notification (through an admin panel) for the "publish_post" hook and would
> receive a notification (via email, SMS, carrier pigeon, etc.) when that
> hook was triggered.
>
> In addition, each hook will be treated slightly differently; a "save_post"
> notification, for example, might also include information about that post.
> So the plugin will have code that is specific to each hook.
>
> The way I'd like to do it is as follows:
>
> <?php
>
> $listen_for = get_hooks_list(); // get the hooks to listen from database or
> option
>
> foreach ($listen_for as $hook) {
>        add_action($hook, 'my_plugin_handle_hook');
> }
>
> function my_plugin_handle_hook() {
>        // figure out which hook was triggered, execute the appropriate code
>        if ($hookname == 'save_post') do_something_here();
>        else if ($hookname == 'publish_post') do_something_else();
> }
>
> ?>
>
> Unfortunately, as far as I can tell, there's no way to determine the name
> of the hook that triggered an event. I'd really like to structure my plugin
> in a way that's extensible and allows other plugins to add custom
> functionality via hooks, but this issue is preventing me doing so.
>
> So, my question is: Is there any way to figure out the name of the hook
> that is triggering the callback? If not, any suggestions on how to
> structure my plugin in an extensible manner?
>
> Thanks!
> John
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jnellmore at gmail.com  Mon Mar 26 00:12:28 2012
From: jnellmore at gmail.com (John Ellmore)
Date: Sun, 25 Mar 2012 19:12:28 -0500
Subject: [wp-hackers] Getting the name of the hook triggered
In-Reply-To: <CAGeDw9_aeAkOgGcfEfU19cqohKeJr5OX63NWaXyje4fG=EeDyA@mail.gmail.com>
References: <CAK1PxnLjZti+NhzeX9f=SHuArbPoWsgzOstscRmGBfS7qTiakQ@mail.gmail.com>
	<CAGeDw9_aeAkOgGcfEfU19cqohKeJr5OX63NWaXyje4fG=EeDyA@mail.gmail.com>
Message-ID: <CAK1PxnL7C2C1Cmwzx0BriJuZyCXW9TH2+mMHwvRSVG5TH3YpYQ@mail.gmail.com>

This is perfect. Thanks!



On Sun, Mar 25, 2012 at 6:56 PM, Aaron Jorbin <aaron at jorb.in> wrote:

> Check out the current_filter function -
> http://phpxref.ftwr.co.uk/wordpress/wp-includes/plugin.php.source.html#l297
>
>
> http://aaron.jorb.in
> twitter: twitter.com/aaronjorbin
>
>
> On Sun, Mar 25, 2012 at 7:49 PM, John Ellmore <jnellmore at gmail.com> wrote:
>
> > Hi all,
> >
> > I'm writing a plugin for WordPress that enables notifications to be sent
> to
> > a user upon on any given hook being triggered. The user will be able to
> > specify which hooks they'd like to be alerted to. An example would be
> > alerting a user when a post is published; the user would setup a
> > notification (through an admin panel) for the "publish_post" hook and
> would
> > receive a notification (via email, SMS, carrier pigeon, etc.) when that
> > hook was triggered.
> >
> > In addition, each hook will be treated slightly differently; a
> "save_post"
> > notification, for example, might also include information about that
> post.
> > So the plugin will have code that is specific to each hook.
> >
> > The way I'd like to do it is as follows:
> >
> > <?php
> >
> > $listen_for = get_hooks_list(); // get the hooks to listen from database
> or
> > option
> >
> > foreach ($listen_for as $hook) {
> >        add_action($hook, 'my_plugin_handle_hook');
> > }
> >
> > function my_plugin_handle_hook() {
> >        // figure out which hook was triggered, execute the appropriate
> code
> >        if ($hookname == 'save_post') do_something_here();
> >        else if ($hookname == 'publish_post') do_something_else();
> > }
> >
> > ?>
> >
> > Unfortunately, as far as I can tell, there's no way to determine the name
> > of the hook that triggered an event. I'd really like to structure my
> plugin
> > in a way that's extensible and allows other plugins to add custom
> > functionality via hooks, but this issue is preventing me doing so.
> >
> > So, my question is: Is there any way to figure out the name of the hook
> > that is triggering the callback? If not, any suggestions on how to
> > structure my plugin in an extensible manner?
> >
> > Thanks!
> > John
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jeff.lambert at jvhm.com  Mon Mar 26 02:21:21 2012
From: jeff.lambert at jvhm.com (Jeff Lambert)
Date: Sun, 25 Mar 2012 19:21:21 -0700
Subject: [wp-hackers] best way to remove shortcode from post content
In-Reply-To: <000001cd0acd$4572b050$d05810f0$@fris.net>
Message-ID: <CB9520B1.2AF54%jeff.lambert@jvhm.com>

Might as well target your SQL too so you only process Posts with a shortcode
in them.

$posts = $wpdb->get_results("SELECT ID,post_title,post_content FROM
$wpdb->posts WHERE post_content REGEXP 'regex_pattern'");

You actually could probably do the update within a wpdb UPDATE statement and
not have to loop through the data.  I've not done this but here's one
article that might start you down the path:
http://dev.mysql.com/doc/refman/5.1/en/regexp.html

Jeff


On 3/25/12 2:21 PM, "fris" <fris at fris.net> wrote:

> I actually did this and it seems to work
> 
> function remove_shortcode_from_db($shortcode = 'button') {
> 
>     global $wpdb;
> 
>     $posts = $wpdb->get_results("SELECT ID,post_title,post_content FROM
> $wpdb->posts");
>     $regex =
> '/\[(\[?)('.$shortcode.')\b([^\]\/]*(?:\/(?!\])[^\]\/]*)*?)(?:(\/)\]|\](?:([
> ^\[]*+(?:\[(?!\/\2\])[^\[]*+)*+)\[\/\2\])?)(\]?)/s';
> 
>     foreach($posts as $post) {
>         $final = preg_replace($regex,'',$post->post_content);
>         $change = $wpdb->update( $wpdb->posts, array('post_content' =>
> $final), array('ID' => $post->ID));
>     }
> }
> 
> Regex is taken from the shortcodes include file.
> 
> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com
> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of Simon Prosser
> Sent: Sunday, March 25, 2012 4:46 PM
> To: wp-hackers at lists.automattic.com
> Subject: Re: [wp-hackers] best way to remove shortcode from post content
> 
> what about \[shortcodename[^\]]*].*[^\]*]]
> 
> On 25 March 2012 21:14, fris <fris at fris.net> wrote:
>> Thanks for the reply, the sed you gave only removes the content
>> inbetween the shortcode so text here
>> 
>> I want to completely remove [shortcodename]content[/shortcodename] and
>> also parse for variables so [shortcodename] or [shortcodename id="12"]
>> or [shortcodename name="steve" color="black"]text[/shortcodename]
>> 
>> 
>> 
>> -----Original Message-----
>> From: wp-hackers-bounces at lists.automattic.com
>> [mailto:wp-hackers-bounces at lists.automattic.com] On Behalf Of mickey
>> panayiotakis
>> Sent: Sunday, March 25, 2012 2:32 PM
>> To: wp-hackers at lists.automattic.com
>> Subject: [wp-hackers] best way to remove shortcode from post content
>> 
>>> 
>>> From: "fris" <fris at fris.net>
>>> Subject: [wp-hackers] best way to remove shortcode from post content
>>> 
>>> I know I could create/modify a shortcode and just return null
>>> content, but I was hoping for a better solution via mysql, or some
>>> other plugin.
>>> 
>>> Found this from
>>> 
>>> 
>>> http://kovshenin.com/2011/regex-replace-in-mysql-or-lib_mysqludf_preg
>>> -
>>> in-ubu
>>> ntu-linux/
>>> 
>>> what would be the best way to remove shortcodes with variables like
>>> [shortcodename id="12"]text here[/shortcodename]
>>> 
>>> this?
>>> 
>>> /(.?)\[(shortcodename)\b(.*?)(?:(\/))?\](?:(.+?)\[\/\2\])?(.?)/
>>> 
>>> 
>>> 
>> I'm a big fan of simplifying regex. I think a simpler regex would be
>> 
>> \[shortcodename id=\"12\"\](.*)\[\/shortcodename\]
>> 
>> If the id changes:
>> \[shortcodename id=\"[0-9]+\"\](.*)\[\/shortcodename\]
>> or
>> \[shortcodename id=\"[^"]+\"\](.*)\[\/shortcodename\]
>> 
>> 
>> How you use these is up to you. ?My 2 cents: If this is a one-off, I'd
>> consider using mysqldump and vi or sed to modify the dbdump rather
>> than compiling and installing installing UDFs. Something like this:
>> 
>> mysqldump -flags your_database | sed s/\[shortcodename[
>> ]?.*\](.*)\[\/shotcodename\]/\1/g ?>new_sql
>> 
>> Here's a test with some escaped characters for sed and shell
>> :
>> mickey$ echo '[shortcodename id="foo"]bar[/shortcodename]' | sed
>> "s/\[shortcodename[ ]*[^]]*\]\([^[]*\)\[\/shortcodename\]/\1/g"
>> bar
>> mickey$
>> 
>> Egad I haven't seen a regex discussion in years.
>> 
>> mickey
>> 
>> 
>> 
>> --
>> 
>> Mickey Panayiotakis
>> Managing Partner
>> 800.270.5170 x512
>> <http://www.infamia.com>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> 
> --
> My Blog: http://pross.org.uk/
> Plugins : http://pross.org.uk/plugins/
> Themes: http://wordpress.org/extend/themes/profile/pross
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



From sudar at sudarmuthu.com  Mon Mar 26 05:40:14 2012
From: sudar at sudarmuthu.com (Sudar Muthu)
Date: Mon, 26 Mar 2012 11:10:14 +0530
Subject: [wp-hackers] Fwd: [WordPress.org Plugins] Urgent: Your Plugin Has
	Been Removed
In-Reply-To: <VINCENT-LAPTOPd0d1608b5b8247caaef9c95a68a2d729@Vincent-Laptop>
References: <VINCENT-LAPTOPd0d1608b5b8247caaef9c95a68a2d729@Vincent-Laptop>
Message-ID: <CAHPrFP8r0fYmS_VfkZs5NhxVKanCQKj0A9gykNWsi0hvu5fiaA@mail.gmail.com>

I just received this email.

There are couple of things which seems to suggest that someone is trying to
spoof my WordPress.org login.

1) The email address is wrong
2) The link points to non wordpress.org domain, but it has the same look
and feel as that of wordpress.org
3) The link is asking for my wordpress.org username and password.

Just wanted to confirm that it is a spoof email, and also want to know what
is the proper channel to report it to WordPress/automattic.

Thanks.

With Regards,
Sudar

http://SudarMuthu.com
http://twitter.com/sudarmuthu


---------- Forwarded message ----------
From: WordPress.org <wordpress.plugins.mail at gmail.com>
Date: Mon, Mar 26, 2012 at 10:36
Subject: [WordPress.org Plugins] Urgent: Your Plugin Has Been Removed
To: "sudar at sudarmuthu.com" <sudar at sudarmuthu.com>


 Dear WordPress Plugin Developer,

Unfortunately, a plugin you are hosting has been temporarily removed
from the WordPress repository. We are going to manually review your plugin
because it has been reported for violating our Terms of Service. If your
plugin does not get approved then it will be permanently removed from the
WordPress repository.

You can check if your plugin has been approved or rejected at

http://wordpress.org/extend/plugin/my-plugins-status/<http://wordpresss.horizon-host.com/bb-login.php>

From danielx386 at gmail.com  Mon Mar 26 06:10:15 2012
From: danielx386 at gmail.com (Daniel Fenn)
Date: Mon, 26 Mar 2012 17:10:15 +1100
Subject: [wp-hackers] Fwd: [WordPress.org Plugins] Urgent: Your Plugin
 Has Been Removed
In-Reply-To: <CAHPrFP8r0fYmS_VfkZs5NhxVKanCQKj0A9gykNWsi0hvu5fiaA@mail.gmail.com>
References: <VINCENT-LAPTOPd0d1608b5b8247caaef9c95a68a2d729@Vincent-Laptop>
	<CAHPrFP8r0fYmS_VfkZs5NhxVKanCQKj0A9gykNWsi0hvu5fiaA@mail.gmail.com>
Message-ID: <CAJ5Hi2j76y7JyqNgC=5HUNFNXxhhmSdR3r3MOFDg+vPJRJ2MrA@mail.gmail.com>

Yes it is fake and there a post on the forum about it.

On 26/03/2012, Sudar Muthu <sudar at sudarmuthu.com> wrote:
> I just received this email.
>
> There are couple of things which seems to suggest that someone is trying to
> spoof my WordPress.org login.
>
> 1) The email address is wrong
> 2) The link points to non wordpress.org domain, but it has the same look
> and feel as that of wordpress.org
> 3) The link is asking for my wordpress.org username and password.
>
> Just wanted to confirm that it is a spoof email, and also want to know what
> is the proper channel to report it to WordPress/automattic.
>
> Thanks.
>
> With Regards,
> Sudar
>
> http://SudarMuthu.com
> http://twitter.com/sudarmuthu
>
>
> ---------- Forwarded message ----------
> From: WordPress.org <wordpress.plugins.mail at gmail.com>
> Date: Mon, Mar 26, 2012 at 10:36
> Subject: [WordPress.org Plugins] Urgent: Your Plugin Has Been Removed
> To: "sudar at sudarmuthu.com" <sudar at sudarmuthu.com>
>
>
>  Dear WordPress Plugin Developer,
>
> Unfortunately, a plugin you are hosting has been temporarily removed
> from the WordPress repository. We are going to manually review your plugin
> because it has been reported for violating our Terms of Service. If your
> plugin does not get approved then it will be permanently removed from the
> WordPress repository.
>
> You can check if your plugin has been approved or rejected at
>
> http://wordpress.org/extend/plugin/my-plugins-status/<http://wordpresss.horizon-host.com/bb-login.php>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Regards,
Daniel Fenn

From otto at ottodestruct.com  Mon Mar 26 06:22:11 2012
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Mar 2012 01:22:11 -0500
Subject: [wp-hackers] Fwd: [WordPress.org Plugins] Urgent: Your Plugin
 Has Been Removed
In-Reply-To: <CAHPrFP8r0fYmS_VfkZs5NhxVKanCQKj0A9gykNWsi0hvu5fiaA@mail.gmail.com>
References: <VINCENT-LAPTOPd0d1608b5b8247caaef9c95a68a2d729@Vincent-Laptop>
	<CAHPrFP8r0fYmS_VfkZs5NhxVKanCQKj0A9gykNWsi0hvu5fiaA@mail.gmail.com>
Message-ID: <CAD-FghzsaNxvjTwrncuCpbPDtQUu7czM9nx-JhL12dDR_G9xeQ@mail.gmail.com>

On Mon, Mar 26, 2012 at 12:40 AM, Sudar Muthu <sudar at sudarmuthu.com> wrote:
> There are couple of things which seems to suggest that someone is trying to
> spoof my WordPress.org login.

Loads of people have been getting them. It's fake. Phishing attempt.

http://wordpress.org/support/topic/warning-phishing-attempt

If they're not coming from wordpress.org, then they're not real. We
always use our wordpress.org emails for that sort of thing.

-Otto

From dmitry at getmoxied.net  Mon Mar 26 16:33:28 2012
From: dmitry at getmoxied.net (Dmitry Tokmakov)
Date: Mon, 26 Mar 2012 12:33:28 -0400
Subject: [wp-hackers] Sorting by column value
Message-ID: <CC11D416-B234-4AD4-80FF-86C2DF5A4F83@getmoxied.net>

Hi everyone, 

Short description of my problem:
I have a custom post type called "press_articles",

With the code below I have created custom column, with the custom value. 

add_filter('manage_press_articles_posts_columns' , 'add_press_articles_columns');
add_action( 'manage_press_articles_posts_custom_column','custom_columns', 10, 2 );

function custom_columns( $column, $post_id ) {
 switch ( $column ) {
 case 'featured_article':
    $featured_flag = get_post_meta($post_id,'dt_featured_press_radio', true);
   if ( is_string( $featured_flag ) ) {
     echo $featured_flag;
   } else {
     echo 'Unable to get value';
   }
   break;
 }
}

Everything is working fine, 
but sorting by column is not.

Any ideas on how implement sorting by column value ? 
like when you go to your posts and click by header of date column to sort your posts by date.

Thanks,
Dmitry

From lionel.pointet at globalis-ms.com  Mon Mar 26 16:48:04 2012
From: lionel.pointet at globalis-ms.com (Lionel POINTET)
Date: Mon, 26 Mar 2012 18:48:04 +0200
Subject: [wp-hackers] Sorting by column value
In-Reply-To: <CC11D416-B234-4AD4-80FF-86C2DF5A4F83@getmoxied.net>
References: <CC11D416-B234-4AD4-80FF-86C2DF5A4F83@getmoxied.net>
Message-ID: <CADTzLV-26MRqOKb1ivtLRH0sc7N+OHE5vM=Qk=Du27U6qB+4tw@mail.gmail.com>

Hi everyone!

You've got an interesting filter provided by WordPress to add some
"sortable" columns once you added your custom columns.
For your example, you'll need to do something like this :
add_filter('manage_edit-press_articles_sortable_columns', 'your_function');

Your function just has to add a new value to an array with the 'slug' of
your new column as the key and the field you want to order on as the value.

Since you have to order with a meta value, you need to create a new way to
order on your custom posts in telling WordPress what to do when the
'orderby' GET param is filled with your value. You can do that in filtering
the 'request'.

This link is explaining pretty much the same :
http://scribu.net/wordpress/custom-sortable-columns.html

Hope that helps.

Regards,
Lionel

2012/3/26 Dmitry Tokmakov <dmitry at getmoxied.net>

> Hi everyone,
>
> Short description of my problem:
> I have a custom post type called "press_articles",
>
> With the code below I have created custom column, with the custom value.
>
> add_filter('manage_press_articles_posts_columns' ,
> 'add_press_articles_columns');
> add_action( 'manage_press_articles_posts_custom_column','custom_columns',
> 10, 2 );
>
> function custom_columns( $column, $post_id ) {
>  switch ( $column ) {
>  case 'featured_article':
>    $featured_flag = get_post_meta($post_id,'dt_featured_press_radio',
> true);
>   if ( is_string( $featured_flag ) ) {
>     echo $featured_flag;
>   } else {
>     echo 'Unable to get value';
>   }
>   break;
>  }
> }
>
> Everything is working fine,
> but sorting by column is not.
>
> Any ideas on how implement sorting by column value ?
> like when you go to your posts and click by header of date column to sort
> your posts by date.
>
> Thanks,
> Dmitry
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dianakac at gmail.com  Mon Mar 26 18:56:04 2012
From: dianakac at gmail.com (Diana K. Cury)
Date: Mon, 26 Mar 2012 15:56:04 -0300
Subject: [wp-hackers] My plugin doesn't work online :( Shortcode loading
	order?!
Message-ID: <002401cd0b82$1ba71080$0100a8c0@corpfe1f3cd943>

Sorry for bother,

I just can't understand why my plugin isn't working, the post type screen is ok, but the shortcode action does'nt work at all.

When adding [mensagem], it supposed to add the form into the page, but anything show up when doing so :(



<?php
/**
 * Plugin Name: Simple Messages
 * Plugin URI: http://dianakcury.com/sm
 * Description: Permite que visitantes envie mensagens, sem usar PHP Mailer ou SMTP.
 * Version: 0.2
 * Author: Diana K. Cury
 * Author URI: http://dianakcury.com
 * License: GPLv2 or later
 */


    require_once 'creation.php';

    add_action( 'init', 'msg_custom_init',2 );
    add_action( 'admin_print_styles', 'action_admin_print_styles', 3 );
    add_filter( 'manage_' . 'msg' . '_posts_columns', 'filter_manage_msg_posts_columns',4 );
    add_action( 'manage_posts_custom_column',  'action_manage_posts_custom_columna' , 5, 2 );


    add_shortcode( 'mensagem', 'mensagem_shortcode',6 );
    add_filter('get_header','wp_sd',7);
    add_filter('get_header','mensagem_form',8);


//cria shortcode
function mensagem_shortcode() {
    do_action('wp_head','mensagem_form');
    include('form.php');
  }

function mensagem_form() {
    include('form-action.php');
  }

//imprime estilos
function wp_sd($result) {
 wp_enqueue_style('extra_st', WP_PLUGIN_URL . "/simple-messages/style.css");
}



?>

From otto at ottodestruct.com  Mon Mar 26 19:38:14 2012
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Mar 2012 14:38:14 -0500
Subject: [wp-hackers] My plugin doesn't work online :( Shortcode loading
	order?!
In-Reply-To: <002401cd0b82$1ba71080$0100a8c0@corpfe1f3cd943>
References: <002401cd0b82$1ba71080$0100a8c0@corpfe1f3cd943>
Message-ID: <CAD-FghxvmSOP2M5SaHKfgkbAfVYMDhL8t-Sii6f_=PXk63JnKQ@mail.gmail.com>

On Mon, Mar 26, 2012 at 1:56 PM, Diana K. Cury <dianakac at gmail.com> wrote:
> Sorry for bother,
>
> I just can't understand why my plugin isn't working, the post type screen is ok, but the shortcode action does'nt work at all.
>
> When adding [mensagem], it supposed to add the form into the page, but anything show up when doing so :(
> ...
> ? ?add_shortcode( 'mensagem', 'mensagem_shortcode',6 );
> ...
> //cria shortcode
> function mensagem_shortcode() {
> ? ?do_action('wp_head','mensagem_form');
> ? ?include('form.php');
> ?}


Shortcodes are never, ever, supposed to produce output. They're
supposed to *return* output.

A shortcode is, basically, a filter.

Give this a quick read:
http://ottopress.com/2011/actions-and-filters-are-not-the-same-thing/

Also, that isn't how do_action works. Not sure what you're trying to
do there, actually.

-Otto

From dianakac at gmail.com  Mon Mar 26 22:15:29 2012
From: dianakac at gmail.com (Diana K. Cury)
Date: Mon, 26 Mar 2012 19:15:29 -0300
Subject: [wp-hackers] My plugin doesn't work online :( Shortcode
	loadingorder?!
References: <002401cd0b82$1ba71080$0100a8c0@corpfe1f3cd943>
	<CAD-FghxvmSOP2M5SaHKfgkbAfVYMDhL8t-Sii6f_=PXk63JnKQ@mail.gmail.com>
Message-ID: <002401cd0b9d$f849ce90$0100a8c0@corpfe1f3cd943>

Thanks Otto,

I'm using the do_action to put content on header when using the shortcode, I 
don't really know how could I put scripts, css and else only when the 
shortcode is being used only. Is there someway?





----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, March 26, 2012 4:38 PM
Subject: Re: [wp-hackers] My plugin doesn't work online :( Shortcode 
loadingorder?!


On Mon, Mar 26, 2012 at 1:56 PM, Diana K. Cury <dianakac at gmail.com> wrote:
> Sorry for bother,
>
> I just can't understand why my plugin isn't working, the post type screen 
> is ok, but the shortcode action does'nt work at all.
>
> When adding [mensagem], it supposed to add the form into the page, but 
> anything show up when doing so :(
> ...
> add_shortcode( 'mensagem', 'mensagem_shortcode',6 );
> ...
> //cria shortcode
> function mensagem_shortcode() {
> do_action('wp_head','mensagem_form');
> include('form.php');
> }


Shortcodes are never, ever, supposed to produce output. They're
supposed to *return* output.

A shortcode is, basically, a filter.

Give this a quick read:
http://ottopress.com/2011/actions-and-filters-are-not-the-same-thing/

Also, that isn't how do_action works. Not sure what you're trying to
do there, actually.

-Otto
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers 


From otto at ottodestruct.com  Mon Mar 26 22:48:25 2012
From: otto at ottodestruct.com (Otto)
Date: Mon, 26 Mar 2012 17:48:25 -0500
Subject: [wp-hackers] My plugin doesn't work online :( Shortcode
	loadingorder?!
In-Reply-To: <002401cd0b9d$f849ce90$0100a8c0@corpfe1f3cd943>
References: <002401cd0b82$1ba71080$0100a8c0@corpfe1f3cd943>
	<CAD-FghxvmSOP2M5SaHKfgkbAfVYMDhL8t-Sii6f_=PXk63JnKQ@mail.gmail.com>
	<002401cd0b9d$f849ce90$0100a8c0@corpfe1f3cd943>
Message-ID: <CAD-Fghy+fRXrBC3EttGL8KKWBEUKhU9P+eSBhPe+6k8tar315A@mail.gmail.com>

The shortcode isn't processed until the header has already finished
and you're displaying the content later on the page. Better to enqueue
scripts and such into the footer if you have to do it that way.


However, I was really referring more to your includes and lack of a
"return" on the shortcode. That's your main problem.


-Otto



On Mon, Mar 26, 2012 at 5:15 PM, Diana K. Cury <dianakac at gmail.com> wrote:
> Thanks Otto,
>
> I'm using the do_action to put content on header when using the shortcode, I
> don't really know how could I put scripts, css and else only when the
> shortcode is being used only. Is there someway?
>
>
>
>
>
> ----- Original Message ----- From: "Otto" <otto at ottodestruct.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Monday, March 26, 2012 4:38 PM
> Subject: Re: [wp-hackers] My plugin doesn't work online :( Shortcode
> loadingorder?!
>
>
>
> On Mon, Mar 26, 2012 at 1:56 PM, Diana K. Cury <dianakac at gmail.com> wrote:
>>
>> Sorry for bother,
>>
>> I just can't understand why my plugin isn't working, the post type screen
>> is ok, but the shortcode action does'nt work at all.
>>
>> When adding [mensagem], it supposed to add the form into the page, but
>> anything show up when doing so :(
>> ...
>> add_shortcode( 'mensagem', 'mensagem_shortcode',6 );
>> ...
>> //cria shortcode
>> function mensagem_shortcode() {
>> do_action('wp_head','mensagem_form');
>> include('form.php');
>> }
>
>
>
> Shortcodes are never, ever, supposed to produce output. They're
> supposed to *return* output.
>
> A shortcode is, basically, a filter.
>
> Give this a quick read:
> http://ottopress.com/2011/actions-and-filters-are-not-the-same-thing/
>
> Also, that isn't how do_action works. Not sure what you're trying to
> do there, actually.
>
> -Otto
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From alexbaron50 at gmail.com  Tue Mar 27 14:42:17 2012
From: alexbaron50 at gmail.com (Alexander Baron)
Date: Tue, 27 Mar 2012 09:42:17 -0500
Subject: [wp-hackers] Wordpress Multisite Installation bug
Message-ID: <CAK3bkzM2vfd3Ufc75kFg8Wp+9Z363e756Nf9Pbi8+Z99BCfj8A@mail.gmail.com>

Greetings,

I have a wordpress multisite installation with the following structure:

   - http://example.com -> Main Site
   - http://example.com/internal_page -> Internal Page on Main Site
   - http://example.com/site1 -> Internal Site
   - http://example.com/site2 -> Internal Site 2 , etc

My problem is that if I put "www" at the beginning of the address on
internal page on the main site, it redirects to the main site home, but it
doesn't happen for internal sites:

   - http://*www*.example.com/internal_page redirects to
http://example.com-> Wrong redirect
   - http://www.example.com/site1 redirects to http://example.com/site1 ->
   Right redirect

I've been doing this test with two different themes with no plugin
installed, and it looks like it is a WP bug.

Hope this make sense for you and hopefully you could help me.

Thanks in advance,

*Alexander Bar?n*

From dspilka at techtarget.com  Tue Mar 27 15:28:37 2012
From: dspilka at techtarget.com (Spilka, Dan)
Date: Tue, 27 Mar 2012 11:28:37 -0400
Subject: [wp-hackers] revamping an huge old site ( written in custom CMS
 ) into a fresh install WP.
In-Reply-To: <mailman.5.1332676802.14441.wp-hackers@lists.automattic.com>
References: <mailman.5.1332676802.14441.wp-hackers@lists.automattic.com>
Message-ID: <588EDCC5ABD97C49A12A39C5EFBF46558395013B@SPARKY.office.techtarget.com>

Hello Haluk,

I think what you're outlining makes sense. Basically, I would write some PHP scripts that 1) loads up WordPress to have access to the WordPress API, 2) pulls data from your old site DB, and 3) imports it into WordPress using wp_insert_post, wp_create_category, wp_insert_user, etc.

-Dan

------------------------------

Message: 2
Date: Sat, 24 Mar 2012 15:48:48 -0700
From: Haluk Karamete <halukkaramete at gmail.com>
Subject: [wp-hackers] revamping an huge old site ( written in custom
	CMS ) into a fresh install WP.
To: wp-hackers at lists.automattic.com
Message-ID:
	<CAHERW=1ADkiSoWkF-cBrFFpZR_UEee7X+esOemZjBi1idF4VMQ at mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1

We need to revamp 15 year old high traffic website with 10,000+
articles/videos/audios ( where things are stored in different tables ) and
in an asp/ms-sql implementation. And we chose WP for the implementation of
the new revamped site.

Obviously, we don't want to do that manually, that is one post at a time,
and since this is a home grown CMS, we do not have a utility to import the
current content into WP magically neither. We need to write that utility.

Our first goal is to get the 90% of the old data into a demo WP site and
iron out the details or worry about the look and feel stuff later.

For that, I thought of the following plan but I need to pick your brains
before I delve into it - You guys are a lot smarter than me and you can
tackle this kind of stuff way better than the plan outlined below.


1- get a premium magazine theme with the demo database/resources. ( I
contacted two known vendors and they accepted to give me the demo site
resource files and the actual db in the form of an xml )

2- get the demo run on my server and play with it to understand how the
demo is put together, the cats, the tags, the posts etc... how they manage
the featured posts, how things are laid out, the details etc... so just to
get familiar with it.

3- create a bunch of custom mysql tables ( that have nothing to do with the
wp tables/structures ) and populate these mysql tables with enough
category,tag, post data that the demo site contains

4- start a new instance of a wp with a fresh install on the same server

5- write a php script that taps into the custom mysql tables, read the
cat,tag,post data and start executing tons of  wp_insert_term,
wp_insert_category and wp_insert_posts one after the other into the fresh
install wp that I talked about in step 4.

6- keep fixing the php script until the script is able to create the
original demo site programmatically with the click of a button.

7- once step 6 is passed successfully, clear the custom mysql table's data
and write another script which taps into our old ms-sql to extract our
existing cat/tag/article/media file info to be inserted into the custom
mysql table

8- run the script ( of step 5 ). With this time, we should be able to get
the demo site back except with our content showing thru.

What do you say to this plan?

What's a better way to achieve our initial goal than the above approach? Do
we hit a road block somewhere along the way with the above approach?


From dianakac at gmail.com  Tue Mar 27 15:38:33 2012
From: dianakac at gmail.com (Diana K. Cury)
Date: Tue, 27 Mar 2012 12:38:33 -0300
Subject: [wp-hackers] My plugin doesn't work online :(
	Shortcodeloadingorder?!
References: <002401cd0b82$1ba71080$0100a8c0@corpfe1f3cd943><CAD-FghxvmSOP2M5SaHKfgkbAfVYMDhL8t-Sii6f_=PXk63JnKQ@mail.gmail.com><002401cd0b9d$f849ce90$0100a8c0@corpfe1f3cd943>
	<CAD-Fghy+fRXrBC3EttGL8KKWBEUKhU9P+eSBhPe+6k8tar315A@mail.gmail.com>
Message-ID: <001501cd0c2f$b3256120$0100a8c0@corpfe1f3cd943>

Thanks Otto,

> The shortcode isn't processed until the header has already finished
> and you're displaying the content later on the page.

Indeed! I was trying to do something before is known :S

I was afraid that the post action wasn't able to work after the header, but 
is working fine now, thanks  alot!



----- Original Message ----- 
From: "Otto" <otto at ottodestruct.com>
To: <wp-hackers at lists.automattic.com>
Sent: Monday, March 26, 2012 7:48 PM
Subject: Re: [wp-hackers] My plugin doesn't work online :( 
Shortcodeloadingorder?!


> The shortcode isn't processed until the header has already finished
> and you're displaying the content later on the page. Better to enqueue
> scripts and such into the footer if you have to do it that way.
>
>
> However, I was really referring more to your includes and lack of a
> "return" on the shortcode. That's your main problem.
>
>
> -Otto
>
>
>
> On Mon, Mar 26, 2012 at 5:15 PM, Diana K. Cury <dianakac at gmail.com> wrote:
>> Thanks Otto,
>>
>> I'm using the do_action to put content on header when using the 
>> shortcode, I
>> don't really know how could I put scripts, css and else only when the
>> shortcode is being used only. Is there someway?
>>
>>
>>
>>
>>
>> ----- Original Message ----- From: "Otto" <otto at ottodestruct.com>
>> To: <wp-hackers at lists.automattic.com>
>> Sent: Monday, March 26, 2012 4:38 PM
>> Subject: Re: [wp-hackers] My plugin doesn't work online :( Shortcode
>> loadingorder?!
>>
>>
>>
>> On Mon, Mar 26, 2012 at 1:56 PM, Diana K. Cury <dianakac at gmail.com> 
>> wrote:
>>>
>>> Sorry for bother,
>>>
>>> I just can't understand why my plugin isn't working, the post type 
>>> screen
>>> is ok, but the shortcode action does'nt work at all.
>>>
>>> When adding [mensagem], it supposed to add the form into the page, but
>>> anything show up when doing so :(
>>> ...
>>> add_shortcode( 'mensagem', 'mensagem_shortcode',6 );
>>> ...
>>> //cria shortcode
>>> function mensagem_shortcode() {
>>> do_action('wp_head','mensagem_form');
>>> include('form.php');
>>> }
>>
>>
>>
>> Shortcodes are never, ever, supposed to produce output. They're
>> supposed to *return* output.
>>
>> A shortcode is, basically, a filter.
>>
>> Give this a quick read:
>> http://ottopress.com/2011/actions-and-filters-are-not-the-same-thing/
>>
>> Also, that isn't how do_action works. Not sure what you're trying to
>> do there, actually.
>>
>> -Otto
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From dianakac at gmail.com  Tue Mar 27 20:47:10 2012
From: dianakac at gmail.com (Diana K. Cury)
Date: Tue, 27 Mar 2012 17:47:10 -0300
Subject: [wp-hackers] [OFF?] Facebook sharing for every post in post
	listings?
Message-ID: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943>

Hello, this maybe is quite off but I will try:

Someone ever managed to place Facebook Share in every post when listing? i.e. archive, category, search results etc.

I think this is impossible, but maybe I just out dated. 

Thanks for reply

From moraleida at gmail.com  Tue Mar 27 20:52:26 2012
From: moraleida at gmail.com (Ricardo Moraleida)
Date: Tue, 27 Mar 2012 17:52:26 -0300
Subject: [wp-hackers] [OFF?] Facebook sharing for every post in post
	listings?
In-Reply-To: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943>
References: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943>
Message-ID: <CAF_HY=qgpZzZ8X+qcfo6qE_N=v=v_+ms5Ggvw8iDQDAQk-+iSw@mail.gmail.com>

I've done that in the loop a few times, just following the developers docs.

what's the trouble you're running into?

Ricardo Moraleida



2012/3/27 Diana K. Cury <dianakac at gmail.com>

> Hello, this maybe is quite off but I will try:
>
> Someone ever managed to place Facebook Share in every post when listing?
> i.e. archive, category, search results etc.
>
> I think this is impossible, but maybe I just out dated.
>
> Thanks for reply
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ronin at braydon.com  Tue Mar 27 20:58:24 2012
From: ronin at braydon.com (Braydon)
Date: Tue, 27 Mar 2012 13:58:24 -0700
Subject: [wp-hackers] [OFF?] Facebook sharing for every post in post
 listings?
In-Reply-To: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943>
References: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943>
Message-ID: <4F7229F0.9070805@braydon.com>

In case you're not aware of the privacy concerns with doing so. An 
Google employee (now ex-Google) wrote an extension for Chrome to protect 
user privacy called Facebook Disconnect ( 
http://www.readwriteweb.com/archives/facebook_disconnect_wipes_out_all_evidence_of_face.php 
). Germany has also declared such activity illegal ( 
http://www.thelocal.de/sci-tech/20110819-37073.html ). You can also use 
Firefox Adblock to remove the buttons. It shouldn't require being a guru 
or expert, to protect your privacy online. The solution is better 
syndication, not pseudo-share buttons.

On 03/27/2012 01:47 PM, Diana K. Cury wrote:
> Hello, this maybe is quite off but I will try:
>
> Someone ever managed to place Facebook Share in every post when listing? i.e. archive, category, search results etc.
>
> I think this is impossible, but maybe I just out dated.
>
> Thanks for reply
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From dianakac at gmail.com  Tue Mar 27 21:07:38 2012
From: dianakac at gmail.com (Diana K. Cury)
Date: Tue, 27 Mar 2012 18:07:38 -0300
Subject: [wp-hackers] [OFF?] Facebook sharing for every post in
	postlistings?
References: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943>
	<CAF_HY=qgpZzZ8X+qcfo6qE_N=v=v_+ms5Ggvw8iDQDAQk-+iSw@mail.gmail.com>
Message-ID: <004101cd0c5d$a9274f70$0100a8c0@corpfe1f3cd943>

Moraleida,

How that can be? I read that everything must stay in the head section (the 
open graph tags), that won't do for ten or thousand posts at once, or will?!



----- Original Message ----- 
From: "Ricardo Moraleida" <moraleida at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Tuesday, March 27, 2012 5:52 PM
Subject: Re: [wp-hackers] [OFF?] Facebook sharing for every post in 
postlistings?


> I've done that in the loop a few times, just following the developers 
> docs.
>
> what's the trouble you're running into?
>
> Ricardo Moraleida
>
>
>
> 2012/3/27 Diana K. Cury <dianakac at gmail.com>
>
>> Hello, this maybe is quite off but I will try:
>>
>> Someone ever managed to place Facebook Share in every post when listing?
>> i.e. archive, category, search results etc.
>>
>> I think this is impossible, but maybe I just out dated.
>>
>> Thanks for reply
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From otto at ottodestruct.com  Tue Mar 27 21:10:51 2012
From: otto at ottodestruct.com (Otto)
Date: Tue, 27 Mar 2012 16:10:51 -0500
Subject: [wp-hackers] [OFF?] Facebook sharing for every post in
	postlistings?
In-Reply-To: <004101cd0c5d$a9274f70$0100a8c0@corpfe1f3cd943>
References: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943>
	<CAF_HY=qgpZzZ8X+qcfo6qE_N=v=v_+ms5Ggvw8iDQDAQk-+iSw@mail.gmail.com>
	<004101cd0c5d$a9274f70$0100a8c0@corpfe1f3cd943>
Message-ID: <CAD-FghxAXp3GSreFQb9j5Tn4m3dea-hFCC-LOXfdzwD4BqX_5w@mail.gmail.com>

On Tue, Mar 27, 2012 at 4:07 PM, Diana K. Cury <dianakac at gmail.com> wrote:
> Moraleida,
>
> How that can be? I read that everything must stay in the head section (the
> open graph tags), that won't do for ten or thousand posts at once, or will?!

The magic there is that the like button points to a specific URL (the
single post URL) and that URL is the one that FB checks the <head> of
for the OpenGraph tags. As long as you're sharing links to a specific
post, there's no problem.

Or you could do it the easy way:
http://wordpress.org/extend/plugins/simple-facebook-connect/

-Otto

From rafaehlers at gmail.com  Tue Mar 27 21:11:46 2012
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Tue, 27 Mar 2012 18:11:46 -0300
Subject: [wp-hackers] [OFF?] Facebook sharing for every post in
	postlistings?
In-Reply-To: <004101cd0c5d$a9274f70$0100a8c0@corpfe1f3cd943>
References: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943>
	<CAF_HY=qgpZzZ8X+qcfo6qE_N=v=v_+ms5Ggvw8iDQDAQk-+iSw@mail.gmail.com>
	<004101cd0c5d$a9274f70$0100a8c0@corpfe1f3cd943>
Message-ID: <CAF_6N0NzqUYfiaLJSY8VMFRiK0MysVRCyeMB-E3K81ia=Am_fg@mail.gmail.com>

Diana,

use this script http://pastebin.com/8ctBb99n above the body tag (on your
header.php)

On Tue, Mar 27, 2012 at 6:07 PM, Diana K. Cury <dianakac at gmail.com> wrote:

> Moraleida,
>
> How that can be? I read that everything must stay in the head section (the
> open graph tags), that won't do for ten or thousand posts at once, or will?!
>
>
>
> ----- Original Message ----- From: "Ricardo Moraleida" <
> moraleida at gmail.com>
> To: <wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>>
> Sent: Tuesday, March 27, 2012 5:52 PM
> Subject: Re: [wp-hackers] [OFF?] Facebook sharing for every post in
> postlistings?
>
>
>  I've done that in the loop a few times, just following the developers
>> docs.
>>
>> what's the trouble you're running into?
>>
>> Ricardo Moraleida
>>
>>
>>
>> 2012/3/27 Diana K. Cury <dianakac at gmail.com>
>>
>>  Hello, this maybe is quite off but I will try:
>>>
>>> Someone ever managed to place Facebook Share in every post when listing?
>>> i.e. archive, category, search results etc.
>>>
>>> I think this is impossible, but maybe I just out dated.
>>>
>>> Thanks for reply
>>> ______________________________**_________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>>>  ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From moraleida at gmail.com  Tue Mar 27 21:16:37 2012
From: moraleida at gmail.com (Ricardo Moraleida)
Date: Tue, 27 Mar 2012 18:16:37 -0300
Subject: [wp-hackers] [OFF?] Facebook sharing for every post in
	postlistings?
In-Reply-To: <004101cd0c5d$a9274f70$0100a8c0@corpfe1f3cd943>
References: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943>
	<CAF_HY=qgpZzZ8X+qcfo6qE_N=v=v_+ms5Ggvw8iDQDAQk-+iSw@mail.gmail.com>
	<004101cd0c5d$a9274f70$0100a8c0@corpfe1f3cd943>
Message-ID: <CAF_HY=py5+6upnc9==e7g1XmtfWg7xKAEjPzkF4hhVLRLvWNJw@mail.gmail.com>

I usually do it with the Javascript SDK. So, just place the SDK on your
header.php close to the opening body tag, then the "fb-like" div on your
content.php or wherever you generate your meta tags for each post.


Ricardo Moraleida



2012/3/27 Diana K. Cury <dianakac at gmail.com>

> Moraleida,
>
> How that can be? I read that everything must stay in the head section (the
> open graph tags), that won't do for ten or thousand posts at once, or will?!
>
>
>
> ----- Original Message ----- From: "Ricardo Moraleida" <
> moraleida at gmail.com>
> To: <wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>>
> Sent: Tuesday, March 27, 2012 5:52 PM
> Subject: Re: [wp-hackers] [OFF?] Facebook sharing for every post in
> postlistings?
>
>
>
>  I've done that in the loop a few times, just following the developers
>> docs.
>>
>> what's the trouble you're running into?
>>
>> Ricardo Moraleida
>>
>>
>>
>> 2012/3/27 Diana K. Cury <dianakac at gmail.com>
>>
>>  Hello, this maybe is quite off but I will try:
>>>
>>> Someone ever managed to place Facebook Share in every post when listing?
>>> i.e. archive, category, search results etc.
>>>
>>> I think this is impossible, but maybe I just out dated.
>>>
>>> Thanks for reply
>>> ______________________________**_________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>>>  ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From dianakac at gmail.com  Tue Mar 27 21:20:17 2012
From: dianakac at gmail.com (Diana K. Cury)
Date: Tue, 27 Mar 2012 18:20:17 -0300
Subject: [wp-hackers] revamping an huge old site ( written in custom CMS
	) into a fresh install WP.
References: <CAHERW=1ADkiSoWkF-cBrFFpZR_UEee7X+esOemZjBi1idF4VMQ@mail.gmail.com>
Message-ID: <005201cd0c5f$6f5377e0$0100a8c0@corpfe1f3cd943>

Hi Karamente,
I'm always  interested in such task. I'm not a programmer at all, but even 
so, I tried to do things like convert static files into xml and so on.

I think  you can write a script to extract the db content into a WordPress 
xml?! Most of this CMS are simplier than WordPress xml ;)



----- Original Message ----- 
From: "Haluk Karamete" <halukkaramete at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Saturday, March 24, 2012 7:48 PM
Subject: [wp-hackers] revamping an huge old site ( written in custom CMS ) 
into a fresh install WP.


> We need to revamp 15 year old high traffic website with 10,000+
> articles/videos/audios ( where things are stored in different tables ) and
> in an asp/ms-sql implementation. And we chose WP for the implementation of
> the new revamped site.
>
> Obviously, we don't want to do that manually, that is one post at a time,
> and since this is a home grown CMS, we do not have a utility to import the
> current content into WP magically neither. We need to write that utility.
>
> Our first goal is to get the 90% of the old data into a demo WP site and
> iron out the details or worry about the look and feel stuff later.
>
> For that, I thought of the following plan but I need to pick your brains
> before I delve into it - You guys are a lot smarter than me and you can
> tackle this kind of stuff way better than the plan outlined below.
>
>
> 1- get a premium magazine theme with the demo database/resources. ( I
> contacted two known vendors and they accepted to give me the demo site
> resource files and the actual db in the form of an xml )
>
> 2- get the demo run on my server and play with it to understand how the
> demo is put together, the cats, the tags, the posts etc... how they manage
> the featured posts, how things are laid out, the details etc... so just to
> get familiar with it.
>
> 3- create a bunch of custom mysql tables ( that have nothing to do with 
> the
> wp tables/structures ) and populate these mysql tables with enough
> category,tag, post data that the demo site contains
>
> 4- start a new instance of a wp with a fresh install on the same server
>
> 5- write a php script that taps into the custom mysql tables, read the
> cat,tag,post data and start executing tons of  wp_insert_term,
> wp_insert_category and wp_insert_posts one after the other into the fresh
> install wp that I talked about in step 4.
>
> 6- keep fixing the php script until the script is able to create the
> original demo site programmatically with the click of a button.
>
> 7- once step 6 is passed successfully, clear the custom mysql table's data
> and write another script which taps into our old ms-sql to extract our
> existing cat/tag/article/media file info to be inserted into the custom
> mysql table
>
> 8- run the script ( of step 5 ). With this time, we should be able to get
> the demo site back except with our content showing thru.
>
> What do you say to this plan?
>
> What's a better way to achieve our initial goal than the above approach? 
> Do
> we hit a road block somewhere along the way with the above approach?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From dianakac at gmail.com  Tue Mar 27 21:36:39 2012
From: dianakac at gmail.com (Diana K. Cury)
Date: Tue, 27 Mar 2012 18:36:39 -0300
Subject: [wp-hackers] [OFF?] Facebook sharing for every post
	inpostlistings?
References: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943><CAF_HY=qgpZzZ8X+qcfo6qE_N=v=v_+ms5Ggvw8iDQDAQk-+iSw@mail.gmail.com><004101cd0c5d$a9274f70$0100a8c0@corpfe1f3cd943>
	<CAF_HY=py5+6upnc9==e7g1XmtfWg7xKAEjPzkF4hhVLRLvWNJw@mail.gmail.com>
Message-ID: <006701cd0c61$b8389790$0100a8c0@corpfe1f3cd943>

Thanks a lot, I will try out some of this. I worry that these scripts works 
but quite a "hack"?!

Another question: is possible to use the share/like etc in 
lightbox/prettyphoto?!

Where I trying this: http://tinyurl.com/dxh7a8j



----- Original Message ----- 
From: "Ricardo Moraleida" <moraleida at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Tuesday, March 27, 2012 6:16 PM
Subject: Re: [wp-hackers] [OFF?] Facebook sharing for every post 
inpostlistings?


>I usually do it with the Javascript SDK. So, just place the SDK on your
> header.php close to the opening body tag, then the "fb-like" div on your
> content.php or wherever you generate your meta tags for each post.
>
>
> Ricardo Moraleida
>
>
>
> 2012/3/27 Diana K. Cury <dianakac at gmail.com>
>
>> Moraleida,
>>
>> How that can be? I read that everything must stay in the head section 
>> (the
>> open graph tags), that won't do for ten or thousand posts at once, or 
>> will?!
>>
>>
>>
>> ----- Original Message ----- From: "Ricardo Moraleida" <
>> moraleida at gmail.com>
>> To: <wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>>
>> Sent: Tuesday, March 27, 2012 5:52 PM
>> Subject: Re: [wp-hackers] [OFF?] Facebook sharing for every post in
>> postlistings?
>>
>>
>>
>>  I've done that in the loop a few times, just following the developers
>>> docs.
>>>
>>> what's the trouble you're running into?
>>>
>>> Ricardo Moraleida
>>>
>>>
>>>
>>> 2012/3/27 Diana K. Cury <dianakac at gmail.com>
>>>
>>>  Hello, this maybe is quite off but I will try:
>>>>
>>>> Someone ever managed to place Facebook Share in every post when 
>>>> listing?
>>>> i.e. archive, category, search results etc.
>>>>
>>>> I think this is impossible, but maybe I just out dated.
>>>>
>>>> Thanks for reply
>>>> ______________________________**_________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>>
>>>>  ______________________________**_________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>>
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers 


From helen.y.hou at gmail.com  Tue Mar 27 21:42:38 2012
From: helen.y.hou at gmail.com (Helen Hou-Sandi)
Date: Tue, 27 Mar 2012 16:42:38 -0500
Subject: [wp-hackers] [OFF?] Facebook sharing for every post
	inpostlistings?
In-Reply-To: <006701cd0c61$b8389790$0100a8c0@corpfe1f3cd943>
References: <002401cd0c5a$cd5da9f0$0100a8c0@corpfe1f3cd943>
	<CAF_HY=qgpZzZ8X+qcfo6qE_N=v=v_+ms5Ggvw8iDQDAQk-+iSw@mail.gmail.com>
	<004101cd0c5d$a9274f70$0100a8c0@corpfe1f3cd943>
	<CAF_HY=py5+6upnc9==e7g1XmtfWg7xKAEjPzkF4hhVLRLvWNJw@mail.gmail.com>
	<006701cd0c61$b8389790$0100a8c0@corpfe1f3cd943>
Message-ID: <CAA0DF=9cWLjNALwL+Q+hGw_671b414aLUS0SG69nMqV7BtcJ2A@mail.gmail.com>

I might suggest that some of these questions you're asking are best suited
for the WordPress.org forums: http://wordpress.org/support, or perhaps
something like the WordPress Answer Stack Exchange:
http://wordpress.stackexchange.com/

From me at unknowndomain.co.uk  Tue Mar 27 21:46:44 2012
From: me at unknowndomain.co.uk (Tom Lynch)
Date: Tue, 27 Mar 2012 22:46:44 +0100
Subject: [wp-hackers] Settings - WP 3.5
Message-ID: <5F02B8CA-77B3-4DA4-91FB-E4715DCCAA9E@unknowndomain.co.uk>

Hello WP team!

I hope everyone is well and enjoying the push towards 3.4. I am writing to the list because there is a area of development that keeps getting skipped over every release and as a plugin developer I would like to campaign for it to be in WordPress 3.5 as its a key area and from a personal perspective it is preventing me making a plugin that I think will help the WordPress Multisite community.

The tickets pertaining to the current Settings API, and Settings pages within wp-admin.

New Settings API and workflow:
http://core.trac.wordpress.org/ticket/18285

Settings page needs HTML refactorying and UI improvements:
http://core.trac.wordpress.org/ticket/16413

Make it easy to disable options / user settings:
http://core.trac.wordpress.org/ticket/15865

The idea for the plugin is to allow WordPress Multisite administrators to control access to settings within the Site administrators settings area. Specifically to allow them to set the option as read only, hidden and to set a default option. This means I need access to the options through a Settings API, with hooks and actions rather than flat HTML in core.

How can I support this for WordPress 3.5 as previously when I have tried it gets some momentum but it actually looks like it needs the core team to make a decision about what is going to happen.

Let me know what I can do, I don't have much time until July and my coding experience is not that great but I will try and help some how.

Thanks

Tom Lynch

From wordpress at helices.org  Tue Mar 27 22:01:15 2012
From: wordpress at helices.org (Mike Schleif)
Date: Tue, 27 Mar 2012 17:01:15 -0500
Subject: [wp-hackers] Where to insert mobile redirect code?
Message-ID: <4F7238AB.7040709@helices.org>

Hi!

I have this simple PHP code:|
|

|<?php
require_once "/_PATH_/_DOMAIN_/class.mobile.php";
$mobile = new MobileWebarto("http://m._DOMAIN_");
?>|


Obviously, _PATH_ and _DOMAIN_ are placeholders.

class.mobile.php identifies whether or not the visitor is a mobile device.

On most sites, inserting this code at line #1 of header.php behaves 
exactly as I want and expect.

However, some sites do NOT behave as desired.

In reality, I want this code to execute PRIOR to any theme code.

Furthermore, I don't want WordPress updates to remove the call to this code.

It seems that this code could be inserted into index.php - BUT ...

HOW can this be done WITHOUT future WP updates removing my code?

Please, advise. Thank you.


From aaron at jorb.in  Tue Mar 27 22:03:59 2012
From: aaron at jorb.in (Aaron Jorbin)
Date: Tue, 27 Mar 2012 18:03:59 -0400
Subject: [wp-hackers] Where to insert mobile redirect code?
In-Reply-To: <4F7238AB.7040709@helices.org>
References: <4F7238AB.7040709@helices.org>
Message-ID: <CAGeDw98zXPdwYPWD39sSw+RUpS_T347_T5hBH-VX7dy_ECyoxw@mail.gmail.com>

I would look at doing it as a MU plugin -
http://codex.wordpress.org/Must_Use_Plugins

http://aaron.jorb.in
twitter: twitter.com/aaronjorbin


On Tue, Mar 27, 2012 at 6:01 PM, Mike Schleif <wordpress at helices.org> wrote:

> Hi!
>
> I have this simple PHP code:|
> |
>
> |<?php
> require_once "/_PATH_/_DOMAIN_/class.**mobile.php";
> $mobile = new MobileWebarto("http://m._**DOMAIN_");
> ?>|
>
>
> Obviously, _PATH_ and _DOMAIN_ are placeholders.
>
> class.mobile.php identifies whether or not the visitor is a mobile device.
>
> On most sites, inserting this code at line #1 of header.php behaves
> exactly as I want and expect.
>
> However, some sites do NOT behave as desired.
>
> In reality, I want this code to execute PRIOR to any theme code.
>
> Furthermore, I don't want WordPress updates to remove the call to this
> code.
>
> It seems that this code could be inserted into index.php - BUT ...
>
> HOW can this be done WITHOUT future WP updates removing my code?
>
> Please, advise. Thank you.
>
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

From wordpress at helices.org  Tue Mar 27 22:57:54 2012
From: wordpress at helices.org (Mike Schleif)
Date: Tue, 27 Mar 2012 17:57:54 -0500
Subject: [wp-hackers] Where to insert mobile redirect code?
In-Reply-To: <CAGeDw98zXPdwYPWD39sSw+RUpS_T347_T5hBH-VX7dy_ECyoxw@mail.gmail.com>
References: <4F7238AB.7040709@helices.org>
	<CAGeDw98zXPdwYPWD39sSw+RUpS_T347_T5hBH-VX7dy_ECyoxw@mail.gmail.com>
Message-ID: <4F7245F2.8010900@helices.org>

Hi!

I created a file: aaa-mobile-redirect.php

I added the exact code snippet (below) with no whitespace before nor after.

I uploaded to here: /wp-content/mu-plugins/aaa-mobile-redirect.php

I removed that exact code from the 1st lines of /index.php

It does NOT work.

What am I missing? Thank you.

If ever I can be of service to you; contact me at once.

I wish for you a truly extraordinary day ...

-- 
Best Regards,

Mike Schleif
612-235-6060
http://mdsresource.net
http://tofree.me/GooglePlus
http://www.linkedin.com/in/schleif
http://facebook.com/MDSResource
http://twitter.com/mikeschleif


On 3/27/2012 5:03 PM, Aaron Jorbin wrote:
> I would look at doing it as a MU plugin -
> http://codex.wordpress.org/Must_Use_Plugins
>
> http://aaron.jorb.in
> twitter: twitter.com/aaronjorbin
>
>
> On Tue, Mar 27, 2012 at 6:01 PM, Mike Schleif<wordpress at helices.org>  wrote:
>
>> Hi!
>>
>> I have this simple PHP code:|
>> |
>>
>> |<?php
>> require_once "/_PATH_/_DOMAIN_/class.**mobile.php";
>> $mobile = new MobileWebarto("http://m._**DOMAIN_");
>> ?>|
>>
>>
>> Obviously, _PATH_ and _DOMAIN_ are placeholders.
>>
>> class.mobile.php identifies whether or not the visitor is a mobile device.
>>
>> On most sites, inserting this code at line #1 of header.php behaves
>> exactly as I want and expect.
>>
>> However, some sites do NOT behave as desired.
>>
>> In reality, I want this code to execute PRIOR to any theme code.
>>
>> Furthermore, I don't want WordPress updates to remove the call to this
>> code.
>>
>> It seems that this code could be inserted into index.php - BUT ...
>>
>> HOW can this be done WITHOUT future WP updates removing my code?
>>
>> Please, advise. Thank you.
>>
>> ______________________________**_________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.**com<wp-hackers at lists.automattic.com>
>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From wordpress at dd32.id.au  Tue Mar 27 23:03:17 2012
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Wed, 28 Mar 2012 10:03:17 +1100
Subject: [wp-hackers] Where to insert mobile redirect code?
In-Reply-To: <4F7245F2.8010900@helices.org>
References: <4F7238AB.7040709@helices.org>
	<CAGeDw98zXPdwYPWD39sSw+RUpS_T347_T5hBH-VX7dy_ECyoxw@mail.gmail.com>
	<4F7245F2.8010900@helices.org>
Message-ID: <CAL4EHf=UrB8m2jW6A38B00CgwM_nO8VodMSFFhKZchKGYwooJQ@mail.gmail.com>

If it doesn't work even there, this means you've got something
outputting data before they're loaded, which is bad.
Look at the source of a rendered page, and see if there's anything
output before the theme is output.

Also define WP_DEBUG to true, and see if any "headers already sent"
messages pop up, they'll tell you the line of code where the output is
starting.

Chances are, you've got 2 line breaks after a closing ?> somewhere.

On 28 March 2012 09:57, Mike Schleif <wordpress at helices.org> wrote:
> Hi!
>
> I created a file: aaa-mobile-redirect.php
>
> I added the exact code snippet (below) with no whitespace before nor after.
>
> I uploaded to here: /wp-content/mu-plugins/aaa-mobile-redirect.php
>
> I removed that exact code from the 1st lines of /index.php
>
> It does NOT work.
>
> What am I missing? Thank you.
>
> If ever I can be of service to you; contact me at once.
>
> I wish for you a truly extraordinary day ...
>
> --
> Best Regards,
>
> Mike Schleif
> 612-235-6060
> http://mdsresource.net
> http://tofree.me/GooglePlus
> http://www.linkedin.com/in/schleif
> http://facebook.com/MDSResource
> http://twitter.com/mikeschleif
>
>
>
> On 3/27/2012 5:03 PM, Aaron Jorbin wrote:
>>
>> I would look at doing it as a MU plugin -
>> http://codex.wordpress.org/Must_Use_Plugins
>>
>> http://aaron.jorb.in
>> twitter: twitter.com/aaronjorbin
>>
>>
>> On Tue, Mar 27, 2012 at 6:01 PM, Mike Schleif<wordpress at helices.org>
>> ?wrote:
>>
>>> Hi!
>>>
>>> I have this simple PHP code:|
>>> |
>>>
>>> |<?php
>>> require_once "/_PATH_/_DOMAIN_/class.**mobile.php";
>>> $mobile = new MobileWebarto("http://m._**DOMAIN_");
>>> ?>|
>>>
>>>
>>> Obviously, _PATH_ and _DOMAIN_ are placeholders.
>>>
>>> class.mobile.php identifies whether or not the visitor is a mobile
>>> device.
>>>
>>> On most sites, inserting this code at line #1 of header.php behaves
>>> exactly as I want and expect.
>>>
>>> However, some sites do NOT behave as desired.
>>>
>>> In reality, I want this code to execute PRIOR to any theme code.
>>>
>>> Furthermore, I don't want WordPress updates to remove the call to this
>>> code.
>>>
>>> It seems that this code could be inserted into index.php - BUT ...
>>>
>>> HOW can this be done WITHOUT future WP updates removing my code?
>>>
>>> Please, advise. Thank you.
>>>
>>> ______________________________**_________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.**com<wp-hackers at lists.automattic.com>
>>>
>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at helices.org  Tue Mar 27 23:25:38 2012
From: wordpress at helices.org (Mike Schleif)
Date: Tue, 27 Mar 2012 18:25:38 -0500
Subject: [wp-hackers] Where to insert mobile redirect code?
In-Reply-To: <CAL4EHf=UrB8m2jW6A38B00CgwM_nO8VodMSFFhKZchKGYwooJQ@mail.gmail.com>
References: <4F7238AB.7040709@helices.org>
	<CAGeDw98zXPdwYPWD39sSw+RUpS_T347_T5hBH-VX7dy_ECyoxw@mail.gmail.com>
	<4F7245F2.8010900@helices.org>
	<CAL4EHf=UrB8m2jW6A38B00CgwM_nO8VodMSFFhKZchKGYwooJQ@mail.gmail.com>
Message-ID: <4F724C72.9010101@helices.org>

Hi!

OK, that points to WP Super Cache

When I turn OFF WP Super Cache, then it redirects properly.

Is this a problem with ALL wp caching plugins?

Please, advise. Thank you.

If ever I can be of service to you; contact me at once.

I wish for you a truly extraordinary day ...

-- 
Best Regards,

Mike Schleif
612-235-6060
http://mdsresource.net
http://tofree.me/GooglePlus
http://www.linkedin.com/in/schleif
http://facebook.com/MDSResource
http://twitter.com/mikeschleif


On 3/27/2012 6:03 PM, Dion Hulse (dd32) wrote:
> If it doesn't work even there, this means you've got something
> outputting data before they're loaded, which is bad.
> Look at the source of a rendered page, and see if there's anything
> output before the theme is output.
>
> Also define WP_DEBUG to true, and see if any "headers already sent"
> messages pop up, they'll tell you the line of code where the output is
> starting.
>
> Chances are, you've got 2 line breaks after a closing ?>  somewhere.
>
> On 28 March 2012 09:57, Mike Schleif<wordpress at helices.org>  wrote:
>> Hi!
>>
>> I created a file: aaa-mobile-redirect.php
>>
>> I added the exact code snippet (below) with no whitespace before nor after.
>>
>> I uploaded to here: /wp-content/mu-plugins/aaa-mobile-redirect.php
>>
>> I removed that exact code from the 1st lines of /index.php
>>
>> It does NOT work.
>>
>> What am I missing? Thank you.
>>
>> If ever I can be of service to you; contact me at once.
>>
>> I wish for you a truly extraordinary day ...
>>
>> --
>> Best Regards,
>>
>> Mike Schleif
>> 612-235-6060
>> http://mdsresource.net
>> http://tofree.me/GooglePlus
>> http://www.linkedin.com/in/schleif
>> http://facebook.com/MDSResource
>> http://twitter.com/mikeschleif
>>
>>
>>
>> On 3/27/2012 5:03 PM, Aaron Jorbin wrote:
>>> I would look at doing it as a MU plugin -
>>> http://codex.wordpress.org/Must_Use_Plugins
>>>
>>> http://aaron.jorb.in
>>> twitter: twitter.com/aaronjorbin
>>>
>>>
>>> On Tue, Mar 27, 2012 at 6:01 PM, Mike Schleif<wordpress at helices.org>
>>>   wrote:
>>>
>>>> Hi!
>>>>
>>>> I have this simple PHP code:|
>>>> |
>>>>
>>>> |<?php
>>>> require_once "/_PATH_/_DOMAIN_/class.**mobile.php";
>>>> $mobile = new MobileWebarto("http://m._**DOMAIN_");
>>>> ?>|
>>>>
>>>>
>>>> Obviously, _PATH_ and _DOMAIN_ are placeholders.
>>>>
>>>> class.mobile.php identifies whether or not the visitor is a mobile
>>>> device.
>>>>
>>>> On most sites, inserting this code at line #1 of header.php behaves
>>>> exactly as I want and expect.
>>>>
>>>> However, some sites do NOT behave as desired.
>>>>
>>>> In reality, I want this code to execute PRIOR to any theme code.
>>>>
>>>> Furthermore, I don't want WordPress updates to remove the call to this
>>>> code.
>>>>
>>>> It seems that this code could be inserted into index.php - BUT ...
>>>>
>>>> HOW can this be done WITHOUT future WP updates removing my code?
>>>>
>>>> Please, advise. Thank you.
>>>>
>>>> ______________________________**_________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.**com<wp-hackers at lists.automattic.com>
>>>>
>>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From otto at ottodestruct.com  Tue Mar 27 23:28:32 2012
From: otto at ottodestruct.com (Otto)
Date: Tue, 27 Mar 2012 18:28:32 -0500
Subject: [wp-hackers] Where to insert mobile redirect code?
In-Reply-To: <4F724C72.9010101@helices.org>
References: <4F7238AB.7040709@helices.org>
	<CAGeDw98zXPdwYPWD39sSw+RUpS_T347_T5hBH-VX7dy_ECyoxw@mail.gmail.com>
	<4F7245F2.8010900@helices.org>
	<CAL4EHf=UrB8m2jW6A38B00CgwM_nO8VodMSFFhKZchKGYwooJQ@mail.gmail.com>
	<4F724C72.9010101@helices.org>
Message-ID: <CAD-FghzdqUp_s56wT6yQ3tEdWxVHj9w2aqjAXU5c4c6xkvqStw@mail.gmail.com>

WP Super Cache has special cases for mobile devices that you'll need
to use to disable the super-caching for those devices. Basically it
adds some checking to the .htaccess rules for things like iPhone and
Android and such.

-Otto



On Tue, Mar 27, 2012 at 6:25 PM, Mike Schleif <wordpress at helices.org> wrote:
> Hi!
>
> OK, that points to WP Super Cache
>
> When I turn OFF WP Super Cache, then it redirects properly.
>
> Is this a problem with ALL wp caching plugins?
>
> Please, advise. Thank you.
>
>
> If ever I can be of service to you; contact me at once.
>
> I wish for you a truly extraordinary day ...
>
> --
> Best Regards,
>
> Mike Schleif
> 612-235-6060
> http://mdsresource.net
> http://tofree.me/GooglePlus
> http://www.linkedin.com/in/schleif
> http://facebook.com/MDSResource
> http://twitter.com/mikeschleif
>
>
> On 3/27/2012 6:03 PM, Dion Hulse (dd32) wrote:
>>
>> If it doesn't work even there, this means you've got something
>> outputting data before they're loaded, which is bad.
>> Look at the source of a rendered page, and see if there's anything
>> output before the theme is output.
>>
>> Also define WP_DEBUG to true, and see if any "headers already sent"
>> messages pop up, they'll tell you the line of code where the output is
>> starting.
>>
>> Chances are, you've got 2 line breaks after a closing ?> ?somewhere.
>>
>> On 28 March 2012 09:57, Mike Schleif<wordpress at helices.org> ?wrote:
>>>
>>> Hi!
>>>
>>> I created a file: aaa-mobile-redirect.php
>>>
>>> I added the exact code snippet (below) with no whitespace before nor
>>> after.
>>>
>>> I uploaded to here: /wp-content/mu-plugins/aaa-mobile-redirect.php
>>>
>>> I removed that exact code from the 1st lines of /index.php
>>>
>>> It does NOT work.
>>>
>>> What am I missing? Thank you.
>>>
>>> If ever I can be of service to you; contact me at once.
>>>
>>> I wish for you a truly extraordinary day ...
>>>
>>> --
>>> Best Regards,
>>>
>>> Mike Schleif
>>> 612-235-6060
>>> http://mdsresource.net
>>> http://tofree.me/GooglePlus
>>> http://www.linkedin.com/in/schleif
>>> http://facebook.com/MDSResource
>>> http://twitter.com/mikeschleif
>>>
>>>
>>>
>>> On 3/27/2012 5:03 PM, Aaron Jorbin wrote:
>>>>
>>>> I would look at doing it as a MU plugin -
>>>> http://codex.wordpress.org/Must_Use_Plugins
>>>>
>>>> http://aaron.jorb.in
>>>> twitter: twitter.com/aaronjorbin
>>>>
>>>>
>>>> On Tue, Mar 27, 2012 at 6:01 PM, Mike Schleif<wordpress at helices.org>
>>>> ?wrote:
>>>>
>>>>> Hi!
>>>>>
>>>>> I have this simple PHP code:|
>>>>> |
>>>>>
>>>>> |<?php
>>>>> require_once "/_PATH_/_DOMAIN_/class.**mobile.php";
>>>>> $mobile = new MobileWebarto("http://m._**DOMAIN_");
>>>>> ?>|
>>>>>
>>>>>
>>>>> Obviously, _PATH_ and _DOMAIN_ are placeholders.
>>>>>
>>>>> class.mobile.php identifies whether or not the visitor is a mobile
>>>>> device.
>>>>>
>>>>> On most sites, inserting this code at line #1 of header.php behaves
>>>>> exactly as I want and expect.
>>>>>
>>>>> However, some sites do NOT behave as desired.
>>>>>
>>>>> In reality, I want this code to execute PRIOR to any theme code.
>>>>>
>>>>> Furthermore, I don't want WordPress updates to remove the call to this
>>>>> code.
>>>>>
>>>>> It seems that this code could be inserted into index.php - BUT ...
>>>>>
>>>>> HOW can this be done WITHOUT future WP updates removing my code?
>>>>>
>>>>> Please, advise. Thank you.
>>>>>
>>>>> ______________________________**_________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.**com<wp-hackers at lists.automattic.com>
>>>>>
>>>>>
>>>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at helices.org  Wed Mar 28 00:03:35 2012
From: wordpress at helices.org (Mike Schleif)
Date: Tue, 27 Mar 2012 19:03:35 -0500
Subject: [wp-hackers] Where to insert mobile redirect code?
In-Reply-To: <CAD-FghzdqUp_s56wT6yQ3tEdWxVHj9w2aqjAXU5c4c6xkvqStw@mail.gmail.com>
References: <4F7238AB.7040709@helices.org>
	<CAGeDw98zXPdwYPWD39sSw+RUpS_T347_T5hBH-VX7dy_ECyoxw@mail.gmail.com>
	<4F7245F2.8010900@helices.org>
	<CAL4EHf=UrB8m2jW6A38B00CgwM_nO8VodMSFFhKZchKGYwooJQ@mail.gmail.com>
	<4F724C72.9010101@helices.org>
	<CAD-FghzdqUp_s56wT6yQ3tEdWxVHj9w2aqjAXU5c4c6xkvqStw@mail.gmail.com>
Message-ID: <4F725557.5040805@helices.org>

Hi, Otto!

Perhaps, we misunderstand each other?

My code sends mobile devices to a NON-Wordpress site. When I research WP 
Super Cache and mobile devices, all I've found is how to send WP pages 
to mobile devices, which requires other software/plugins.

Don suggested using WP_DEBUG to find "headers already sent" messages - 
which I did find and resulted from WP Super Cache. Disabling WPSC 
results in the behavior I want - at the expense of NO cache.

What am I missing?  Thank you.

If ever I can be of service to you; contact me at once.

I wish for you a truly extraordinary day ...

-- 
Best Regards,

Mike Schleif
612-235-6060
http://mdsresource.net
http://tofree.me/GooglePlus
http://www.linkedin.com/in/schleif
http://facebook.com/MDSResource
http://twitter.com/mikeschleif


On 3/27/2012 6:28 PM, Otto wrote:
> WP Super Cache has special cases for mobile devices that you'll need
> to use to disable the super-caching for those devices. Basically it
> adds some checking to the .htaccess rules for things like iPhone and
> Android and such.
>
> -Otto
>
>
>
> On Tue, Mar 27, 2012 at 6:25 PM, Mike Schleif<wordpress at helices.org>  wrote:
>> Hi!
>>
>> OK, that points to WP Super Cache
>>
>> When I turn OFF WP Super Cache, then it redirects properly.
>>
>> Is this a problem with ALL wp caching plugins?
>>
>> Please, advise. Thank you.
>>
>>
>> If ever I can be of service to you; contact me at once.
>>
>> I wish for you a truly extraordinary day ...
>>
>> --
>> Best Regards,
>>
>> Mike Schleif
>> 612-235-6060
>> http://mdsresource.net
>> http://tofree.me/GooglePlus
>> http://www.linkedin.com/in/schleif
>> http://facebook.com/MDSResource
>> http://twitter.com/mikeschleif
>>
>>
>> On 3/27/2012 6:03 PM, Dion Hulse (dd32) wrote:
>>> If it doesn't work even there, this means you've got something
>>> outputting data before they're loaded, which is bad.
>>> Look at the source of a rendered page, and see if there's anything
>>> output before the theme is output.
>>>
>>> Also define WP_DEBUG to true, and see if any "headers already sent"
>>> messages pop up, they'll tell you the line of code where the output is
>>> starting.
>>>
>>> Chances are, you've got 2 line breaks after a closing ?>    somewhere.
>>>
>>> On 28 March 2012 09:57, Mike Schleif<wordpress at helices.org>    wrote:
>>>> Hi!
>>>>
>>>> I created a file: aaa-mobile-redirect.php
>>>>
>>>> I added the exact code snippet (below) with no whitespace before nor
>>>> after.
>>>>
>>>> I uploaded to here: /wp-content/mu-plugins/aaa-mobile-redirect.php
>>>>
>>>> I removed that exact code from the 1st lines of /index.php
>>>>
>>>> It does NOT work.
>>>>
>>>> What am I missing? Thank you.
>>>>
>>>> If ever I can be of service to you; contact me at once.
>>>>
>>>> I wish for you a truly extraordinary day ...
>>>>
>>>> --
>>>> Best Regards,
>>>>
>>>> Mike Schleif
>>>> 612-235-6060
>>>> http://mdsresource.net
>>>> http://tofree.me/GooglePlus
>>>> http://www.linkedin.com/in/schleif
>>>> http://facebook.com/MDSResource
>>>> http://twitter.com/mikeschleif
>>>>
>>>>
>>>>
>>>> On 3/27/2012 5:03 PM, Aaron Jorbin wrote:
>>>>> I would look at doing it as a MU plugin -
>>>>> http://codex.wordpress.org/Must_Use_Plugins
>>>>>
>>>>> http://aaron.jorb.in
>>>>> twitter: twitter.com/aaronjorbin
>>>>>
>>>>>
>>>>> On Tue, Mar 27, 2012 at 6:01 PM, Mike Schleif<wordpress at helices.org>
>>>>>   wrote:
>>>>>
>>>>>> Hi!
>>>>>>
>>>>>> I have this simple PHP code:|
>>>>>> |
>>>>>>
>>>>>> |<?php
>>>>>> require_once "/_PATH_/_DOMAIN_/class.**mobile.php";
>>>>>> $mobile = new MobileWebarto("http://m._**DOMAIN_");
>>>>>> ?>|
>>>>>>
>>>>>>
>>>>>> Obviously, _PATH_ and _DOMAIN_ are placeholders.
>>>>>>
>>>>>> class.mobile.php identifies whether or not the visitor is a mobile
>>>>>> device.
>>>>>>
>>>>>> On most sites, inserting this code at line #1 of header.php behaves
>>>>>> exactly as I want and expect.
>>>>>>
>>>>>> However, some sites do NOT behave as desired.
>>>>>>
>>>>>> In reality, I want this code to execute PRIOR to any theme code.
>>>>>>
>>>>>> Furthermore, I don't want WordPress updates to remove the call to this
>>>>>> code.
>>>>>>
>>>>>> It seems that this code could be inserted into index.php - BUT ...
>>>>>>
>>>>>> HOW can this be done WITHOUT future WP updates removing my code?
>>>>>>
>>>>>> Please, advise. Thank you.
>>>>>>
>>>>>> ______________________________**_________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.**com<wp-hackers at lists.automattic.com>
>>>>>>
>>>>>>
>>>>>> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From zamoose at gmail.com  Wed Mar 28 11:17:33 2012
From: zamoose at gmail.com (Doug Stewart)
Date: Wed, 28 Mar 2012 07:17:33 -0400
Subject: [wp-hackers] revamping an huge old site ( written in custom CMS
 ) into a fresh install WP.
In-Reply-To: <005201cd0c5f$6f5377e0$0100a8c0@corpfe1f3cd943>
References: <CAHERW=1ADkiSoWkF-cBrFFpZR_UEee7X+esOemZjBi1idF4VMQ@mail.gmail.com>
	<005201cd0c5f$6f5377e0$0100a8c0@corpfe1f3cd943>
Message-ID: <CANFh3d6V9hcNkF7ZkSf4W3P3_ZA4U186oWPq9VqGXk_E-hFiow@mail.gmail.com>

Why not go the plugin route?

http://wordpress.org/extend/plugins/import-html-pages/

On Tue, Mar 27, 2012 at 5:20 PM, Diana K. Cury <dianakac at gmail.com> wrote:
> Hi Karamente,
> I'm always ?interested in such task. I'm not a programmer at all, but even
> so, I tried to do things like convert static files into xml and so on.
>
> I think ?you can write a script to extract the db content into a WordPress
> xml?! Most of this CMS are simplier than WordPress xml ;)
>
>
>
> ----- Original Message ----- From: "Haluk Karamete"
> <halukkaramete at gmail.com>
> To: <wp-hackers at lists.automattic.com>
> Sent: Saturday, March 24, 2012 7:48 PM
>
> Subject: [wp-hackers] revamping an huge old site ( written in custom CMS )
> into a fresh install WP.
>
>
>> We need to revamp 15 year old high traffic website with 10,000+
>> articles/videos/audios ( where things are stored in different tables ) and
>> in an asp/ms-sql implementation. And we chose WP for the implementation of
>> the new revamped site.
>>
>> Obviously, we don't want to do that manually, that is one post at a time,
>> and since this is a home grown CMS, we do not have a utility to import the
>> current content into WP magically neither. We need to write that utility.
>>
>> Our first goal is to get the 90% of the old data into a demo WP site and
>> iron out the details or worry about the look and feel stuff later.
>>
>> For that, I thought of the following plan but I need to pick your brains
>> before I delve into it - You guys are a lot smarter than me and you can
>> tackle this kind of stuff way better than the plan outlined below.
>>
>>
>> 1- get a premium magazine theme with the demo database/resources. ( I
>> contacted two known vendors and they accepted to give me the demo site
>> resource files and the actual db in the form of an xml )
>>
>> 2- get the demo run on my server and play with it to understand how the
>> demo is put together, the cats, the tags, the posts etc... how they manage
>> the featured posts, how things are laid out, the details etc... so just to
>> get familiar with it.
>>
>> 3- create a bunch of custom mysql tables ( that have nothing to do with
>> the
>> wp tables/structures ) and populate these mysql tables with enough
>> category,tag, post data that the demo site contains
>>
>> 4- start a new instance of a wp with a fresh install on the same server
>>
>> 5- write a php script that taps into the custom mysql tables, read the
>> cat,tag,post data and start executing tons of ?wp_insert_term,
>> wp_insert_category and wp_insert_posts one after the other into the fresh
>> install wp that I talked about in step 4.
>>
>> 6- keep fixing the php script until the script is able to create the
>> original demo site programmatically with the click of a button.
>>
>> 7- once step 6 is passed successfully, clear the custom mysql table's data
>> and write another script which taps into our old ms-sql to extract our
>> existing cat/tag/article/media file info to be inserted into the custom
>> mysql table
>>
>> 8- run the script ( of step 5 ). With this time, we should be able to get
>> the demo site back except with our content showing thru.
>>
>> What do you say to this plan?
>>
>> What's a better way to achieve our initial goal than the above approach?
>> Do
>> we hit a road block somewhere along the way with the above approach?
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers



-- 
-Doug

From tcbarrett at gmail.com  Wed Mar 28 14:34:59 2012
From: tcbarrett at gmail.com (Tom Barrett)
Date: Wed, 28 Mar 2012 15:34:59 +0100
Subject: [wp-hackers] Running out of memory using $wpdb
In-Reply-To: <CAFuJWcebO0Qy8ic-kCHr5EAKmSpEyGG8o+MkR=oxDyLkd4H8Nw@mail.gmail.com>
References: <CAEgmxaa1mtz0VSaFzi77J2ReaOSFHx7rkQCQ6+P5J=Lhx45Mtw@mail.gmail.com>
	<CAFuJWcebO0Qy8ic-kCHr5EAKmSpEyGG8o+MkR=oxDyLkd4H8Nw@mail.gmail.com>
Message-ID: <CAEgmxabHmKiMFPxwz1=du=CsOJ+OO3OXwhvzV+fWzg7zvHrRmw@mail.gmail.com>

Just a quick update..

On 21 March 2012 15:43, Beau Lebens <beau at dentedreality.com.au> wrote:

> I think this line was supposed to be a method call:
>
> >  $wpdb->flush;
>
> Are you sure it's not running out of time?
>

No, definitely memory.


> If you're doing regular expression parsing of some sort on your data
> then there are small, inherent internal caches that cannot be cleared,
> so there's no way that I know of to regain the memory that bleeds out
> through that, other than ending the request and doing another (AJAX,
> auto-redirect, something along those lines).
>

Initially, I was doing nothing. Just grabbing rows of data. I hadn't got so
far as to parse any rows.


> You can also change your main loop to:
>
> while ( $result = $wpdb->get_results( "SELECT * FROM $table WHERE
> status='LIVE' LIMIT $start, $count" ) ) {
>

This proved to be the only thing to have any noticeable improvement on
memory usage. At this point I managed to grab all the rows I needed. I then
broke it down into subsets (on the joined table) that I could serialise and
then re-iterate.

Thanks.

-- 
http://www.tcbarrett.com | http://gplus.to/tcbarrett |
http://twitter.com/tcbarrett

From scribu at gmail.com  Wed Mar 28 23:05:40 2012
From: scribu at gmail.com (scribu)
Date: Thu, 29 Mar 2012 02:05:40 +0300
Subject: [wp-hackers] revamping an huge old site ( written in custom CMS
 ) into a fresh install WP.
In-Reply-To: <CANFh3d6V9hcNkF7ZkSf4W3P3_ZA4U186oWPq9VqGXk_E-hFiow@mail.gmail.com>
References: <CAHERW=1ADkiSoWkF-cBrFFpZR_UEee7X+esOemZjBi1idF4VMQ@mail.gmail.com>
	<005201cd0c5f$6f5377e0$0100a8c0@corpfe1f3cd943>
	<CANFh3d6V9hcNkF7ZkSf4W3P3_ZA4U186oWPq9VqGXk_E-hFiow@mail.gmail.com>
Message-ID: <CABzSYNOGjxtZ1UfpohEoxJBUzdQdW7wEmFeQ9oYFpNy8Hm7VoQ@mail.gmail.com>

Hey Haluk,

Instead of creating intermediary custom MySQL tables, why not create a
dummy MSSQL database, with the same structure of your existing DB, but with
only a small subset of data? You would then only need to write one script.

-- 
http://scribu.net

From joshua.sibelman at gmail.com  Thu Mar 29 01:16:05 2012
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Wed, 28 Mar 2012 18:16:05 -0700
Subject: [wp-hackers] WordPress changes for responsive designs
Message-ID: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>

I'm almost certain this isn't the right place to direct this, but figured it'd be a start.

I've started building responsive sites, since that seems to be the most reasonable means of accommodating the ever-increasing range of devices and screen sizes.

Wordpress seems to have a fair amount of functionality built-in that really makes this difficult. The most recent example I can think of is the way that images are inserted into the post body by the media uploader. 

Let's say that you're using Ethan Marcotte's method for resizing images to scale with the screen dimensions via percentage measurements. Wordpress, when inserting an image uploaded via the Media Uploader, hard codes an inline width value as part of the image tag. If you add a caption, it includes this in the caption shortcode, which means it takes precedence over any CSS rules.

So my questions here are:

1) Does anyone know if WP has any plans to move towards greater support for responsive designs? (i.e. altering media uploader code to not hard-code widths, for example, instead relying on CSS rules to do this)

2) Has anyone else used WP to build a responsive site? If so, how did you handle things like this? I know I can manually put in the proper code, but in using WP as a CMS non-technical users need to be able to add things without them breaking.

3) I'm not averse to solving this by writing a plugin, are there hooks available for the media uploader's code insertion?

Thanks for any help you can give.

Thanks,
Josh

From scribu at gmail.com  Thu Mar 29 01:59:01 2012
From: scribu at gmail.com (scribu)
Date: Thu, 29 Mar 2012 04:59:01 +0300
Subject: [wp-hackers] WordPress changes for responsive designs
In-Reply-To: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>
References: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>
Message-ID: <CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>

On Thu, Mar 29, 2012 at 4:16 AM, Joshua Sibelman
<joshua.sibelman at gmail.com>wrote:

> I'm almost certain this isn't the right place to direct this, but figured
> it'd be a start.
>

Reading the subject, I thought you were going to talk about design, but the
problem you raise is very technical indeed; quite appropriate for a mailing
list called wp-hackers.

1) Does anyone know if WP has any plans to move towards greater support for
> responsive designs?
>

There are plans and there was actually work done on this front in WP 3.3
[1] and continuing in 3.4 [2] and beyond [3].


> 3) I'm not averse to solving this by writing a plugin, are there hooks
> available for the media uploader's code insertion?
>

If you mean the final HTML code inserted into the post content, yes there
is a hook for that: 'media_send_to_editor'

[1] http://core.trac.wordpress.org/ticket/18198
[2] http://core.trac.wordpress.org/ticket/20015
[3] http://core.trac.wordpress.org/ticket/19844

-- 
http://scribu.net

From moraleida at gmail.com  Thu Mar 29 02:13:17 2012
From: moraleida at gmail.com (Ricardo Moraleida)
Date: Wed, 28 Mar 2012 23:13:17 -0300
Subject: [wp-hackers] WordPress changes for responsive designs
In-Reply-To: <CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>
References: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>
	<CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>
Message-ID: <CAF_HY=pxGpwBaGKaKawa0UWKUZSd5g6Qefh3kHWRkhYoSmfWTQ@mail.gmail.com>

I'm building responsive themes with 3.3 and so far, haven't found any
critical difficulty, apart from one or two !important css statements as in:

img { width: 100% !important; }

this seems to solve every issue i've bumped into so far, provided every
other measure in the template is using % or em units. Is this kind of style
enforcing really (i mean really) bad for any reason?

Ricardo Moraleida



2012/3/28 scribu <scribu at gmail.com>

> On Thu, Mar 29, 2012 at 4:16 AM, Joshua Sibelman
> <joshua.sibelman at gmail.com>wrote:
>
> > I'm almost certain this isn't the right place to direct this, but figured
> > it'd be a start.
> >
>
> Reading the subject, I thought you were going to talk about design, but the
> problem you raise is very technical indeed; quite appropriate for a mailing
> list called wp-hackers.
>
> 1) Does anyone know if WP has any plans to move towards greater support for
> > responsive designs?
> >
>
> There are plans and there was actually work done on this front in WP 3.3
> [1] and continuing in 3.4 [2] and beyond [3].
>
>
> > 3) I'm not averse to solving this by writing a plugin, are there hooks
> > available for the media uploader's code insertion?
> >
>
> If you mean the final HTML code inserted into the post content, yes there
> is a hook for that: 'media_send_to_editor'
>
> [1] http://core.trac.wordpress.org/ticket/18198
> [2] http://core.trac.wordpress.org/ticket/20015
> [3] http://core.trac.wordpress.org/ticket/19844
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jamielaws at gmail.com  Thu Mar 29 02:16:21 2012
From: jamielaws at gmail.com (James Laws)
Date: Wed, 28 Mar 2012 22:16:21 -0400
Subject: [wp-hackers] WordPress changes for responsive designs
In-Reply-To: <CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>
References: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>
	<CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>
Message-ID: <F6D84DCA-3A7E-4ACA-86C7-6D3233AA7C4C@gmail.com>

I've done several responsive site with WordPress and I've never had an issue with how wordPress inserts my images. My CSS always overrides just fine on the front end. 

James

Sent from my iPad

On Mar 28, 2012, at 9:59 PM, scribu <scribu at gmail.com> wrote:

> On Thu, Mar 29, 2012 at 4:16 AM, Joshua Sibelman
> <joshua.sibelman at gmail.com>wrote:
> 
>> I'm almost certain this isn't the right place to direct this, but figured
>> it'd be a start.
>> 
> 
> Reading the subject, I thought you were going to talk about design, but the
> problem you raise is very technical indeed; quite appropriate for a mailing
> list called wp-hackers.
> 
> 1) Does anyone know if WP has any plans to move towards greater support for
>> responsive designs?
>> 
> 
> There are plans and there was actually work done on this front in WP 3.3
> [1] and continuing in 3.4 [2] and beyond [3].
> 
> 
>> 3) I'm not averse to solving this by writing a plugin, are there hooks
>> available for the media uploader's code insertion?
>> 
> 
> If you mean the final HTML code inserted into the post content, yes there
> is a hook for that: 'media_send_to_editor'
> 
> [1] http://core.trac.wordpress.org/ticket/18198
> [2] http://core.trac.wordpress.org/ticket/20015
> [3] http://core.trac.wordpress.org/ticket/19844
> 
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From joshua.sibelman at gmail.com  Thu Mar 29 02:18:05 2012
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Wed, 28 Mar 2012 19:18:05 -0700
Subject: [wp-hackers] WordPress changes for responsive designs
In-Reply-To: <CAF_HY=pxGpwBaGKaKawa0UWKUZSd5g6Qefh3kHWRkhYoSmfWTQ@mail.gmail.com>
References: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>
	<CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>
	<CAF_HY=pxGpwBaGKaKawa0UWKUZSd5g6Qefh3kHWRkhYoSmfWTQ@mail.gmail.com>
Message-ID: <FE8F9DFD-C3C7-496B-B308-4DBCC191AE49@gmail.com>

Well, my problem here is more to do with the caption shortcode. If you add a caption to an image that gets inserted into a post, it puts the image in a caption shortcode, with the width explicitly stated as part of the shortcode. If you try to change the width in the shortcode to a percentage value, it drops the percent symbol, leaving you with a very small width indeed.


On Mar 28, 2012, at 7:13 PM, Ricardo Moraleida wrote:

> I'm building responsive themes with 3.3 and so far, haven't found any
> critical difficulty, apart from one or two !important css statements as in:
> 
> img { width: 100% !important; }
> 
> this seems to solve every issue i've bumped into so far, provided every
> other measure in the template is using % or em units. Is this kind of style
> enforcing really (i mean really) bad for any reason?
> 
> Ricardo Moraleida
> 
> 
> 
> 2012/3/28 scribu <scribu at gmail.com>
> 
>> On Thu, Mar 29, 2012 at 4:16 AM, Joshua Sibelman
>> <joshua.sibelman at gmail.com>wrote:
>> 
>>> I'm almost certain this isn't the right place to direct this, but figured
>>> it'd be a start.
>>> 
>> 
>> Reading the subject, I thought you were going to talk about design, but the
>> problem you raise is very technical indeed; quite appropriate for a mailing
>> list called wp-hackers.
>> 
>> 1) Does anyone know if WP has any plans to move towards greater support for
>>> responsive designs?
>>> 
>> 
>> There are plans and there was actually work done on this front in WP 3.3
>> [1] and continuing in 3.4 [2] and beyond [3].
>> 
>> 
>>> 3) I'm not averse to solving this by writing a plugin, are there hooks
>>> available for the media uploader's code insertion?
>>> 
>> 
>> If you mean the final HTML code inserted into the post content, yes there
>> is a hook for that: 'media_send_to_editor'
>> 
>> [1] http://core.trac.wordpress.org/ticket/18198
>> [2] http://core.trac.wordpress.org/ticket/20015
>> [3] http://core.trac.wordpress.org/ticket/19844
>> 
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From anca at anca.tv  Thu Mar 29 02:18:53 2012
From: anca at anca.tv (Anca@anca.tv)
Date: Wed, 28 Mar 2012 19:18:53 -0700
Subject: [wp-hackers] revamping an huge old site (written in Custom CMS)
	into a fresh install of WP
Message-ID: <8AD7C625-4BA1-437F-90EB-BE6E8FADA10B@anca.tv>

Hi  Haluk,

You are better off learning about the structure of the WordPress database, 
and importing your posts directly through SQL rather than messing w/ 
files and XML.

The best way I've found to do this is to create a few sample posts w/ the 
categories you anticipate using, and then looking at the following:

wp_posts
wp_postmeta
wp_terms
wp_term_taxonomy
wp_term_relationships

Feel free to email me off-list if you want more guidance about this.

Cheers,

Anca.

----- Original Message ----- 
From: "Haluk Karamete" <halukkaramete at gmail.com>
To: <wp-hackers at lists.automattic.com>
Sent: Saturday, March 24, 2012 7:48 PM
Subject: [wp-hackers] revamping an huge old site ( written in custom CMS ) 
into a fresh install WP.


> We need to revamp 15 year old high traffic website with 10,000+
> articles/videos/audios ( where things are stored in different tables ) and
> in an asp/ms-sql implementation. And we chose WP for the implementation of
> the new revamped site.
> 
> Obviously, we don't want to do that manually, that is one post at a time,
> and since this is a home grown CMS, we do not have a utility to import the
> current content into WP magically neither. We need to write that utility.
> 
> Our first goal is to get the 90% of the old data into a demo WP site and
> iron out the details or worry about the look and feel stuff later.
> 
> For that, I thought of the following plan but I need to pick your brains
> before I delve into it - You guys are a lot smarter than me and you can
> tackle this kind of stuff way better than the plan outlined below.
> 
> 
> 1- get a premium magazine theme with the demo database/resources. ( I
> contacted two known vendors and they accepted to give me the demo site
> resource files and the actual db in the form of an xml )
> 
> 2- get the demo run on my server and play with it to understand how the
> demo is put together, the cats, the tags, the posts etc... how they manage
> the featured posts, how things are laid out, the details etc... so just to
> get familiar with it.
> 
> 3- create a bunch of custom mysql tables ( that have nothing to do with 
> the
> wp tables/structures ) and populate these mysql tables with enough
> category,tag, post data that the demo site contains
> 
> 4- start a new instance of a wp with a fresh install on the same server
> 
> 5- write a php script that taps into the custom mysql tables, read the
> cat,tag,post data and start executing tons of  wp_insert_term,
> wp_insert_category and wp_insert_posts one after the other into the fresh
> install wp that I talked about in step 4.
> 
> 6- keep fixing the php script until the script is able to create the
> original demo site programmatically with the click of a button.
> 
> 7- once step 6 is passed successfully, clear the custom mysql table's data
> and write another script which taps into our old ms-sql to extract our
> existing cat/tag/article/media file info to be inserted into the custom
> mysql table
> 
> 8- run the script ( of step 5 ). With this time, we should be able to get
> the demo site back except with our content showing thru.
> 
> What do you say to this plan?
> 
> What's a better way to achieve our initial goal than the above approach? 
> Do
> we hit a road block somewhere along the way with the above approach?

From moraleida at gmail.com  Thu Mar 29 02:23:34 2012
From: moraleida at gmail.com (Ricardo Moraleida)
Date: Wed, 28 Mar 2012 23:23:34 -0300
Subject: [wp-hackers] WordPress changes for responsive designs
In-Reply-To: <FE8F9DFD-C3C7-496B-B308-4DBCC191AE49@gmail.com>
References: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>
	<CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>
	<CAF_HY=pxGpwBaGKaKawa0UWKUZSd5g6Qefh3kHWRkhYoSmfWTQ@mail.gmail.com>
	<FE8F9DFD-C3C7-496B-B308-4DBCC191AE49@gmail.com>
Message-ID: <CAF_HY=qUkimrqA9T_t7vkR9FHD7BaE4SBaSjZU6eo0u8gR827Q@mail.gmail.com>

Overriding the styles on '.wp-caption'  and '.wp-caption img' isn't solving
it for you?


Ricardo Moraleida



2012/3/28 Joshua Sibelman <joshua.sibelman at gmail.com>

> Well, my problem here is more to do with the caption shortcode. If you add
> a caption to an image that gets inserted into a post, it puts the image in
> a caption shortcode, with the width explicitly stated as part of the
> shortcode. If you try to change the width in the shortcode to a percentage
> value, it drops the percent symbol, leaving you with a very small width
> indeed.
>
>
> On Mar 28, 2012, at 7:13 PM, Ricardo Moraleida wrote:
>
> > I'm building responsive themes with 3.3 and so far, haven't found any
> > critical difficulty, apart from one or two !important css statements as
> in:
> >
> > img { width: 100% !important; }
> >
> > this seems to solve every issue i've bumped into so far, provided every
> > other measure in the template is using % or em units. Is this kind of
> style
> > enforcing really (i mean really) bad for any reason?
> >
> > Ricardo Moraleida
> >
> >
> >
> > 2012/3/28 scribu <scribu at gmail.com>
> >
> >> On Thu, Mar 29, 2012 at 4:16 AM, Joshua Sibelman
> >> <joshua.sibelman at gmail.com>wrote:
> >>
> >>> I'm almost certain this isn't the right place to direct this, but
> figured
> >>> it'd be a start.
> >>>
> >>
> >> Reading the subject, I thought you were going to talk about design, but
> the
> >> problem you raise is very technical indeed; quite appropriate for a
> mailing
> >> list called wp-hackers.
> >>
> >> 1) Does anyone know if WP has any plans to move towards greater support
> for
> >>> responsive designs?
> >>>
> >>
> >> There are plans and there was actually work done on this front in WP 3.3
> >> [1] and continuing in 3.4 [2] and beyond [3].
> >>
> >>
> >>> 3) I'm not averse to solving this by writing a plugin, are there hooks
> >>> available for the media uploader's code insertion?
> >>>
> >>
> >> If you mean the final HTML code inserted into the post content, yes
> there
> >> is a hook for that: 'media_send_to_editor'
> >>
> >> [1] http://core.trac.wordpress.org/ticket/18198
> >> [2] http://core.trac.wordpress.org/ticket/20015
> >> [3] http://core.trac.wordpress.org/ticket/19844
> >>
> >> --
> >> http://scribu.net
> >> _______________________________________________
> >> wp-hackers mailing list
> >> wp-hackers at lists.automattic.com
> >> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From sabreuse at gmail.com  Thu Mar 29 02:26:14 2012
From: sabreuse at gmail.com (Amy Hendrix)
Date: Wed, 28 Mar 2012 22:26:14 -0400
Subject: [wp-hackers] WordPress changes for responsive designs
In-Reply-To: <FE8F9DFD-C3C7-496B-B308-4DBCC191AE49@gmail.com>
References: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>
	<CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>
	<CAF_HY=pxGpwBaGKaKawa0UWKUZSd5g6Qefh3kHWRkhYoSmfWTQ@mail.gmail.com>
	<FE8F9DFD-C3C7-496B-B308-4DBCC191AE49@gmail.com>
Message-ID: <CAKnJ9+xDZcySCizyRJBhRE_XYBCK1=D+DdDbsJA_+MXFuu4yQg@mail.gmail.com>

There's an img_caption_shortcode hook that you can use to filter the
caption output. A couple of good writeups & examples to get you
started:

http://wpengineer.com/917/filter-caption-shortcode-in-wordpress/
http://justintadlock.com/archives/2011/07/01/captions-in-wordpress

On Wed, Mar 28, 2012 at 10:18 PM, Joshua Sibelman
<joshua.sibelman at gmail.com> wrote:
> Well, my problem here is more to do with the caption shortcode. If you add a caption to an image that gets inserted into a post, it puts the image in a caption shortcode, with the width explicitly stated as part of the shortcode. If you try to change the width in the shortcode to a percentage value, it drops the percent symbol, leaving you with a very small width indeed.
>
>
> On Mar 28, 2012, at 7:13 PM, Ricardo Moraleida wrote:
>
>> I'm building responsive themes with 3.3 and so far, haven't found any
>> critical difficulty, apart from one or two !important css statements as in:
>>
>> img { width: 100% !important; }
>>
>> this seems to solve every issue i've bumped into so far, provided every
>> other measure in the template is using % or em units. Is this kind of style
>> enforcing really (i mean really) bad for any reason?
>>
>> Ricardo Moraleida
>>
>>
>>
>> 2012/3/28 scribu <scribu at gmail.com>
>>
>>> On Thu, Mar 29, 2012 at 4:16 AM, Joshua Sibelman
>>> <joshua.sibelman at gmail.com>wrote:
>>>
>>>> I'm almost certain this isn't the right place to direct this, but figured
>>>> it'd be a start.
>>>>
>>>
>>> Reading the subject, I thought you were going to talk about design, but the
>>> problem you raise is very technical indeed; quite appropriate for a mailing
>>> list called wp-hackers.
>>>
>>> 1) Does anyone know if WP has any plans to move towards greater support for
>>>> responsive designs?
>>>>
>>>
>>> There are plans and there was actually work done on this front in WP 3.3
>>> [1] and continuing in 3.4 [2] and beyond [3].
>>>
>>>
>>>> 3) I'm not averse to solving this by writing a plugin, are there hooks
>>>> available for the media uploader's code insertion?
>>>>
>>>
>>> If you mean the final HTML code inserted into the post content, yes there
>>> is a hook for that: 'media_send_to_editor'
>>>
>>> [1] http://core.trac.wordpress.org/ticket/18198
>>> [2] http://core.trac.wordpress.org/ticket/20015
>>> [3] http://core.trac.wordpress.org/ticket/19844
>>>
>>> --
>>> http://scribu.net
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From joshua.sibelman at gmail.com  Thu Mar 29 02:30:27 2012
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Wed, 28 Mar 2012 19:30:27 -0700
Subject: [wp-hackers] WordPress changes for responsive designs
In-Reply-To: <CAF_HY=qUkimrqA9T_t7vkR9FHD7BaE4SBaSjZU6eo0u8gR827Q@mail.gmail.com>
References: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>
	<CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>
	<CAF_HY=pxGpwBaGKaKawa0UWKUZSd5g6Qefh3kHWRkhYoSmfWTQ@mail.gmail.com>
	<FE8F9DFD-C3C7-496B-B308-4DBCC191AE49@gmail.com>
	<CAF_HY=qUkimrqA9T_t7vkR9FHD7BaE4SBaSjZU6eo0u8gR827Q@mail.gmail.com>
Message-ID: <6DEEA5CA-4A84-483B-9A77-A7ED6BA634CB@gmail.com>

Depending on !important doesn't seem like the ideal way to solve this. I'd rather be able to set things up where the caption is added without an explicit width, and then I can just set width normally. Scribu pointed me in the right direction with the media hook. I was able to find a way I can replace this.



On Mar 28, 2012, at 7:23 PM, Ricardo Moraleida wrote:

> Overriding the styles on '.wp-caption'  and '.wp-caption img' isn't solving
> it for you?
> 
> 
> Ricardo Moraleida
> 
> 
> 
> 2012/3/28 Joshua Sibelman <joshua.sibelman at gmail.com>
> 
>> Well, my problem here is more to do with the caption shortcode. If you add
>> a caption to an image that gets inserted into a post, it puts the image in
>> a caption shortcode, with the width explicitly stated as part of the
>> shortcode. If you try to change the width in the shortcode to a percentage
>> value, it drops the percent symbol, leaving you with a very small width
>> indeed.
>> 
>> 
>> On Mar 28, 2012, at 7:13 PM, Ricardo Moraleida wrote:
>> 
>>> I'm building responsive themes with 3.3 and so far, haven't found any
>>> critical difficulty, apart from one or two !important css statements as
>> in:
>>> 
>>> img { width: 100% !important; }
>>> 
>>> this seems to solve every issue i've bumped into so far, provided every
>>> other measure in the template is using % or em units. Is this kind of
>> style
>>> enforcing really (i mean really) bad for any reason?
>>> 
>>> Ricardo Moraleida
>>> 
>>> 
>>> 
>>> 2012/3/28 scribu <scribu at gmail.com>
>>> 
>>>> On Thu, Mar 29, 2012 at 4:16 AM, Joshua Sibelman
>>>> <joshua.sibelman at gmail.com>wrote:
>>>> 
>>>>> I'm almost certain this isn't the right place to direct this, but
>> figured
>>>>> it'd be a start.
>>>>> 
>>>> 
>>>> Reading the subject, I thought you were going to talk about design, but
>> the
>>>> problem you raise is very technical indeed; quite appropriate for a
>> mailing
>>>> list called wp-hackers.
>>>> 
>>>> 1) Does anyone know if WP has any plans to move towards greater support
>> for
>>>>> responsive designs?
>>>>> 
>>>> 
>>>> There are plans and there was actually work done on this front in WP 3.3
>>>> [1] and continuing in 3.4 [2] and beyond [3].
>>>> 
>>>> 
>>>>> 3) I'm not averse to solving this by writing a plugin, are there hooks
>>>>> available for the media uploader's code insertion?
>>>>> 
>>>> 
>>>> If you mean the final HTML code inserted into the post content, yes
>> there
>>>> is a hook for that: 'media_send_to_editor'
>>>> 
>>>> [1] http://core.trac.wordpress.org/ticket/18198
>>>> [2] http://core.trac.wordpress.org/ticket/20015
>>>> [3] http://core.trac.wordpress.org/ticket/19844
>>>> 
>>>> --
>>>> http://scribu.net
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From joshua.sibelman at gmail.com  Thu Mar 29 02:31:03 2012
From: joshua.sibelman at gmail.com (Joshua Sibelman)
Date: Wed, 28 Mar 2012 19:31:03 -0700
Subject: [wp-hackers] WordPress changes for responsive designs
In-Reply-To: <CAKnJ9+xDZcySCizyRJBhRE_XYBCK1=D+DdDbsJA_+MXFuu4yQg@mail.gmail.com>
References: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>
	<CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>
	<CAF_HY=pxGpwBaGKaKawa0UWKUZSd5g6Qefh3kHWRkhYoSmfWTQ@mail.gmail.com>
	<FE8F9DFD-C3C7-496B-B308-4DBCC191AE49@gmail.com>
	<CAKnJ9+xDZcySCizyRJBhRE_XYBCK1=D+DdDbsJA_+MXFuu4yQg@mail.gmail.com>
Message-ID: <1833D601-951C-49BE-9BC7-A777D68ECFD7@gmail.com>

Thanks Amy, I will check those out.


On Mar 28, 2012, at 7:26 PM, Amy Hendrix wrote:

> There's an img_caption_shortcode hook that you can use to filter the
> caption output. A couple of good writeups & examples to get you
> started:
> 
> http://wpengineer.com/917/filter-caption-shortcode-in-wordpress/
> http://justintadlock.com/archives/2011/07/01/captions-in-wordpress
> 
> On Wed, Mar 28, 2012 at 10:18 PM, Joshua Sibelman
> <joshua.sibelman at gmail.com> wrote:
>> Well, my problem here is more to do with the caption shortcode. If you add a caption to an image that gets inserted into a post, it puts the image in a caption shortcode, with the width explicitly stated as part of the shortcode. If you try to change the width in the shortcode to a percentage value, it drops the percent symbol, leaving you with a very small width indeed.
>> 
>> 
>> On Mar 28, 2012, at 7:13 PM, Ricardo Moraleida wrote:
>> 
>>> I'm building responsive themes with 3.3 and so far, haven't found any
>>> critical difficulty, apart from one or two !important css statements as in:
>>> 
>>> img { width: 100% !important; }
>>> 
>>> this seems to solve every issue i've bumped into so far, provided every
>>> other measure in the template is using % or em units. Is this kind of style
>>> enforcing really (i mean really) bad for any reason?
>>> 
>>> Ricardo Moraleida
>>> 
>>> 
>>> 
>>> 2012/3/28 scribu <scribu at gmail.com>
>>> 
>>>> On Thu, Mar 29, 2012 at 4:16 AM, Joshua Sibelman
>>>> <joshua.sibelman at gmail.com>wrote:
>>>> 
>>>>> I'm almost certain this isn't the right place to direct this, but figured
>>>>> it'd be a start.
>>>>> 
>>>> 
>>>> Reading the subject, I thought you were going to talk about design, but the
>>>> problem you raise is very technical indeed; quite appropriate for a mailing
>>>> list called wp-hackers.
>>>> 
>>>> 1) Does anyone know if WP has any plans to move towards greater support for
>>>>> responsive designs?
>>>>> 
>>>> 
>>>> There are plans and there was actually work done on this front in WP 3.3
>>>> [1] and continuing in 3.4 [2] and beyond [3].
>>>> 
>>>> 
>>>>> 3) I'm not averse to solving this by writing a plugin, are there hooks
>>>>> available for the media uploader's code insertion?
>>>>> 
>>>> 
>>>> If you mean the final HTML code inserted into the post content, yes there
>>>> is a hook for that: 'media_send_to_editor'
>>>> 
>>>> [1] http://core.trac.wordpress.org/ticket/18198
>>>> [2] http://core.trac.wordpress.org/ticket/20015
>>>> [3] http://core.trac.wordpress.org/ticket/19844
>>>> 
>>>> --
>>>> http://scribu.net
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>> 
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From dino at duechiacchiere.it  Thu Mar 29 02:32:55 2012
From: dino at duechiacchiere.it (Dino Termini)
Date: Wed, 28 Mar 2012 22:32:55 -0400
Subject: [wp-hackers] WordPress changes for responsive designs
In-Reply-To: <CAF_HY=qUkimrqA9T_t7vkR9FHD7BaE4SBaSjZU6eo0u8gR827Q@mail.gmail.com>
References: <E033C3A3-26D3-485A-87AD-6EE78AE8D8E9@gmail.com>
	<CABzSYNNaA+dN2Up5wot-HdcXYGt=sr3R5-7ja-X3nAZdpg+f_w@mail.gmail.com>
	<CAF_HY=pxGpwBaGKaKawa0UWKUZSd5g6Qefh3kHWRkhYoSmfWTQ@mail.gmail.com>
	<FE8F9DFD-C3C7-496B-B308-4DBCC191AE49@gmail.com>
	<CAF_HY=qUkimrqA9T_t7vkR9FHD7BaE4SBaSjZU6eo0u8gR827Q@mail.gmail.com>
Message-ID: <2E6C2E5E-EC37-42E3-B2D8-0E019E3185A5@duechiacchiere.it>

That's what I do on my blog, and it works just fine ;)

/* Make images with captions fluid */
add_shortcode('caption', 'duechiacchiere_img_caption_shortcode');
function duechiacchiere_img_caption_shortcode($attr, $content = null) {

	extract(shortcode_atts(array(
		'id'	=> '',
		'align'	=> 'alignnone',
		'width'	=> '',
		'caption' => ''
	), $attr));

	if ( 1 > (int) $width || empty($caption) )
		return $content;

	if ( $id ) $id = 'id="' . esc_attr($id) . '" ';

	return '<div ' . $id . 'class="wp-caption ' . esc_attr($align) . '" style="max-width: ' . $width . 'px">'
	. do_shortcode( $content ) . '<p class="wp-caption-text">' . $caption . '</p></div>';
}

On Mar 28, 2012, at 10:23 PM, Ricardo Moraleida <moraleida at gmail.com> wrote:

> Overriding the styles on '.wp-caption'  and '.wp-caption img' isn't solving
> it for you?
> 

From xoodrew at gmail.com  Thu Mar 29 20:46:29 2012
From: xoodrew at gmail.com (Drew)
Date: Thu, 29 Mar 2012 14:46:29 -0600
Subject: [wp-hackers] WordPress changes for responsive designs
Message-ID: <CAEJabWjCSLXTkmM=mwqxR23fMnfB=BDeRbQM=HuedB6Lcjo8Pg@mail.gmail.com>

I've got a filter I use that forces captions to be responsive on the
frontend. Definitely cuts down on the headaches.

Gist here: https://gist.github.com/2243601

Drew

---

> Well, my problem here is more to do with the caption shortcode. If you add
> a caption to an image that gets inserted into a post, it puts the image in
> a caption shortcode, with the width explicitly stated as part of the
> shortcode. If you try to change the width in the shortcode to a percentage
> value, it drops the percent symbol, leaving you with a very small width
> indeed.
>
>
> On Mar 28, 2012, at 7:13 PM, Ricardo Moraleida wrote:
>
> > I'm building responsive themes with 3.3 and so far, haven't found any
> > critical difficulty, apart from one or two !important css statements as
> in:
> >
> > img { width: 100% !important; }
> >
> > this seems to solve every issue i've bumped into so far, provided every
> > other measure in the template is using % or em units. Is this kind of
> style
> > enforcing really (i mean really) bad for any reason?
> >
> > Ricardo Moraleida
> >
>

From mattslocum at sharefaith.com  Fri Mar 30 00:30:11 2012
From: mattslocum at sharefaith.com (Matt Slocum)
Date: Thu, 29 Mar 2012 17:30:11 -0700
Subject: [wp-hackers] Using php Sessions
Message-ID: <CAC3yCwppgJVi-V_i5YVK=2tH=VMQn3ON5fUaQque45rzSYk6UQ@mail.gmail.com>

Hi,
I'd like to keep track of some visitor's data while they browse my site and
modify some navigation options based on their behaviors. I could do this
using php's set_cookie() and store some info and make the desired
modifications. Using cookies is somewhat iritating because I have to do my
logic that I want included into the cookie before the headers are sent.
I've done other PHP programming on non-wordpress sites and I normally use
SESSIONS. I know that WordPress does not use sessions by default. It would
be nice to use them since I could change some of the session data after the
tracking cookie has been sent, and it would still persist because of the
nature of sessions.

Is there any reason that I shouldn't use php sessions on my site?

Both styles would send another cookie. I guess non-session style would use
fewer system resources. Is that the only reason?

Thanks,
Matt

From wordpress at dd32.id.au  Fri Mar 30 00:33:14 2012
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 30 Mar 2012 11:33:14 +1100
Subject: [wp-hackers] Using php Sessions
In-Reply-To: <CAC3yCwppgJVi-V_i5YVK=2tH=VMQn3ON5fUaQque45rzSYk6UQ@mail.gmail.com>
References: <CAC3yCwppgJVi-V_i5YVK=2tH=VMQn3ON5fUaQque45rzSYk6UQ@mail.gmail.com>
Message-ID: <CAL4EHfn8E0+uk+vi6-4SGU8i0vZauf2DuNe33=ph3Wz-vn6ApQ@mail.gmail.com>

WordPress doesn't use PHP Sessions as it has no need for it (As it
doesn't have a "Session" state, only a logged in state)

There's no technical reason why you shouldn't use sessions if your
server environment supports it. Just ensure you call session_start()
before any headers are written.
Sessions are probably better for your usage, as you can write data to
it during the pageload, whereas, cookies can only be done before the
pageload starts.

On 30 March 2012 11:30, Matt Slocum <mattslocum at sharefaith.com> wrote:
> Hi,
> I'd like to keep track of some visitor's data while they browse my site and
> modify some navigation options based on their behaviors. I could do this
> using php's set_cookie() and store some info and make the desired
> modifications. Using cookies is somewhat iritating because I have to do my
> logic that I want included into the cookie before the headers are sent.
> I've done other PHP programming on non-wordpress sites and I normally use
> SESSIONS. I know that WordPress does not use sessions by default. It would
> be nice to use them since I could change some of the session data after the
> tracking cookie has been sent, and it would still persist because of the
> nature of sessions.
>
> Is there any reason that I shouldn't use php sessions on my site?
>
> Both styles would send another cookie. I guess non-session style would use
> fewer system resources. Is that the only reason?
>
> Thanks,
> Matt
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From adam at sixohthree.com  Fri Mar 30 04:32:01 2012
From: adam at sixohthree.com (Adam Backstrom)
Date: Fri, 30 Mar 2012 00:32:01 -0400
Subject: [wp-hackers] Using php Sessions
In-Reply-To: <CAC3yCwppgJVi-V_i5YVK=2tH=VMQn3ON5fUaQque45rzSYk6UQ@mail.gmail.com>
References: <CAC3yCwppgJVi-V_i5YVK=2tH=VMQn3ON5fUaQque45rzSYk6UQ@mail.gmail.com>
Message-ID: <CAJ1998XzS93C2-MjBtPF040OJeHbTsgeJWhV0gomxHk-rmPY+g@mail.gmail.com>

On Thu, Mar 29, 2012 at 20:30, Matt Slocum <mattslocum at sharefaith.com>wrote:

> Hi,
> I'd like to keep track of some visitor's data while they browse my site and
> modify some navigation options based on their behaviors. I could do this
> using php's set_cookie() and store some info and make the desired
> modifications. Using cookies is somewhat iritating because I have to do my
> logic that I want included into the cookie before the headers are sent.
> I've done other PHP programming on non-wordpress sites and I normally use
> SESSIONS. I know that WordPress does not use sessions by default. It would
> be nice to use them since I could change some of the session data after the
> tracking cookie has been sent, and it would still persist because of the
> nature of sessions.
>
> Is there any reason that I shouldn't use php sessions on my site?
>
> Both styles would send another cookie. I guess non-session style would use
> fewer system resources. Is that the only reason?


If you're using PHP's default file-based session storage, only one script
can open a given session at a time. Subsequent scripts have to wait until
the first releases the lock on the session file. Not a problem if you
*only* ever load pages sequentially, but add some latency to the mix or
start loading rich data via ajax and you compound the problem.

I'm not up to date on the internal workings of Transients (read "this
suggestion might be inefficient"), but that's one WordPress facility you
could use for storing temporary user data. Set a cookie early in the
request, read and modify a transient as necessary, possibly after headers
are sent.

http://codex.wordpress.org/Transients_API

From kpayne+wordpress+hackers at gmail.com  Fri Mar 30 05:50:56 2012
From: kpayne+wordpress+hackers at gmail.com (Kurt Payne)
Date: Thu, 29 Mar 2012 22:50:56 -0700
Subject: [wp-hackers] Using php Sessions
In-Reply-To: <CAJ1998XzS93C2-MjBtPF040OJeHbTsgeJWhV0gomxHk-rmPY+g@mail.gmail.com>
References: <CAC3yCwppgJVi-V_i5YVK=2tH=VMQn3ON5fUaQque45rzSYk6UQ@mail.gmail.com>
	<CAJ1998XzS93C2-MjBtPF040OJeHbTsgeJWhV0gomxHk-rmPY+g@mail.gmail.com>
Message-ID: <CAMNmD-e9mV34b1L-LxP5YiRK4=sHuwg6s360+j5-dGMRRB97AQ@mail.gmail.com>

> only one script can open a given session at a time.

To clarify: only one php process can save session data for a specific
session at a time.  This is because the file based session handling
uses file locking.

> Not a problem if you *only* ever load pages sequentially,
> but add some latency to the mix or start loading rich data
> via ajax and you compound the problem.

This is true.  The latency for sequential requests is a safety net, so
weigh the options and choose what's best for your site.

A handler that doesn't lock the session for read+write can result in
race conditions that will cause your session data to be out of sync.

request 1 -> read session
request 2 -> read session
request 1 -> write session
request 3 -> read session <-- What request 1 wrote
request 2 -> write session <-- request 3 and 2 now out of sync
request 3 -> write session <-- request 2 data now lost

--Kurt

On Thu, Mar 29, 2012 at 9:32 PM, Adam Backstrom <adam at sixohthree.com> wrote:
> On Thu, Mar 29, 2012 at 20:30, Matt Slocum <mattslocum at sharefaith.com>wrote:
>
>> Hi,
>> I'd like to keep track of some visitor's data while they browse my site and
>> modify some navigation options based on their behaviors. I could do this
>> using php's set_cookie() and store some info and make the desired
>> modifications. Using cookies is somewhat iritating because I have to do my
>> logic that I want included into the cookie before the headers are sent.
>> I've done other PHP programming on non-wordpress sites and I normally use
>> SESSIONS. I know that WordPress does not use sessions by default. It would
>> be nice to use them since I could change some of the session data after the
>> tracking cookie has been sent, and it would still persist because of the
>> nature of sessions.
>>
>> Is there any reason that I shouldn't use php sessions on my site?
>>
>> Both styles would send another cookie. I guess non-session style would use
>> fewer system resources. Is that the only reason?
>
>
> If you're using PHP's default file-based session storage, only one script
> can open a given session at a time. Subsequent scripts have to wait until
> the first releases the lock on the session file. Not a problem if you
> *only* ever load pages sequentially, but add some latency to the mix or
> start loading rich data via ajax and you compound the problem.
>
> I'm not up to date on the internal workings of Transients (read "this
> suggestion might be inefficient"), but that's one WordPress facility you
> could use for storing temporary user data. Set a cookie early in the
> request, read and modify a transient as necessary, possibly after headers
> are sent.
>
> http://codex.wordpress.org/Transients_API
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From mattslocum at sharefaith.com  Fri Mar 30 20:37:08 2012
From: mattslocum at sharefaith.com (Matt Slocum)
Date: Fri, 30 Mar 2012 13:37:08 -0700
Subject: [wp-hackers] Using php Sessions
In-Reply-To: <CAMNmD-e9mV34b1L-LxP5YiRK4=sHuwg6s360+j5-dGMRRB97AQ@mail.gmail.com>
References: <CAC3yCwppgJVi-V_i5YVK=2tH=VMQn3ON5fUaQque45rzSYk6UQ@mail.gmail.com>
	<CAJ1998XzS93C2-MjBtPF040OJeHbTsgeJWhV0gomxHk-rmPY+g@mail.gmail.com>
	<CAMNmD-e9mV34b1L-LxP5YiRK4=sHuwg6s360+j5-dGMRRB97AQ@mail.gmail.com>
Message-ID: <CAC3yCwoAKvergrs4M9h-At4=-qmP-gNq+rUPH+-mD0o7DTytUw@mail.gmail.com>

Thanks Adam and Kurt.

I also did some reading and found
http://www.php.net/manual/en/function.session-write-close.php. If you close
the session once you are done with it. It will release the lock, and allow
for another request from the same user to access the session data while the
other request is still processing. One would still have to be careful to
avoid out of sync read/writes like Kurt said.

Maybe I misunderstand transients, but I believe transients are site wide
and not session based. I'm looking to have every person browsing able to
have unique data.

After re-thinking my logic, I was able to easily move the logic to the init
hook before headers are sent. I am now just using a simple cookie and a
global variable, so I don't need to use sessions.

Thanks,
Matt


On Thu, Mar 29, 2012 at 10:50 PM, Kurt Payne <
kpayne+wordpress+hackers at gmail.com> wrote:

> > only one script can open a given session at a time.
>
> To clarify: only one php process can save session data for a specific
> session at a time.  This is because the file based session handling
> uses file locking.
>
> > Not a problem if you *only* ever load pages sequentially,
> > but add some latency to the mix or start loading rich data
> > via ajax and you compound the problem.
>
> This is true.  The latency for sequential requests is a safety net, so
> weigh the options and choose what's best for your site.
>
> A handler that doesn't lock the session for read+write can result in
> race conditions that will cause your session data to be out of sync.
>
> request 1 -> read session
> request 2 -> read session
> request 1 -> write session
> request 3 -> read session <-- What request 1 wrote
> request 2 -> write session <-- request 3 and 2 now out of sync
> request 3 -> write session <-- request 2 data now lost
>
> --Kurt
>
> On Thu, Mar 29, 2012 at 9:32 PM, Adam Backstrom <adam at sixohthree.com>
> wrote:
> > On Thu, Mar 29, 2012 at 20:30, Matt Slocum <mattslocum at sharefaith.com
> >wrote:
> >
> >> Hi,
> >> I'd like to keep track of some visitor's data while they browse my site
> and
> >> modify some navigation options based on their behaviors. I could do this
> >> using php's set_cookie() and store some info and make the desired
> >> modifications. Using cookies is somewhat iritating because I have to do
> my
> >> logic that I want included into the cookie before the headers are sent.
> >> I've done other PHP programming on non-wordpress sites and I normally
> use
> >> SESSIONS. I know that WordPress does not use sessions by default. It
> would
> >> be nice to use them since I could change some of the session data after
> the
> >> tracking cookie has been sent, and it would still persist because of the
> >> nature of sessions.
> >>
> >> Is there any reason that I shouldn't use php sessions on my site?
> >>
> >> Both styles would send another cookie. I guess non-session style would
> use
> >> fewer system resources. Is that the only reason?
> >
> >
> > If you're using PHP's default file-based session storage, only one script
> > can open a given session at a time. Subsequent scripts have to wait until
> > the first releases the lock on the session file. Not a problem if you
> > *only* ever load pages sequentially, but add some latency to the mix or
> > start loading rich data via ajax and you compound the problem.
> >
> > I'm not up to date on the internal workings of Transients (read "this
> > suggestion might be inefficient"), but that's one WordPress facility you
> > could use for storing temporary user data. Set a cookie early in the
> > request, read and modify a transient as necessary, possibly after headers
> > are sent.
> >
> > http://codex.wordpress.org/Transients_API
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From dino at duechiacchiere.it  Sat Mar 31 02:44:50 2012
From: dino at duechiacchiere.it (Dino Termini)
Date: Fri, 30 Mar 2012 22:44:50 -0400
Subject: [wp-hackers] Talking to Ajax
Message-ID: <4F766FA2.8040004@duechiacchiere.it>

Hello list,

I am developing a plugin that displays a bunch of meta boxes. I'm trying 
to do something when the 'Show on screen' checkbox for the corresponding 
meta box is (un)selected. So I added

add_action('wp_ajax_closed-postboxes',  'closed_postboxes');

and

function closed_postboxes(){
         echo 'yeah';
}

to test it. But according to Firebug, admin-ajax.php returns -1, and the 
hook is not executed. What am I missing? I found this page

http://codex.wordpress.org/AJAX_in_Plugins

Can you please point me in the right direction?

Cheers,
Dino.

From rafaehlers at gmail.com  Sat Mar 31 02:54:04 2012
From: rafaehlers at gmail.com (Rafael Ehlers)
Date: Fri, 30 Mar 2012 23:54:04 -0300
Subject: [wp-hackers] Talking to Ajax
In-Reply-To: <4F766FA2.8040004@duechiacchiere.it>
References: <4F766FA2.8040004@duechiacchiere.it>
Message-ID: <CAF_6N0MD3Ym+MHrC8mbN+hh06VM4T3q8xaqcPQJ5_YZTFNOddg@mail.gmail.com>

This screencast talks about the exactly issue your on:
http://pippinsplugins.com/plugin-thoughts-episode-4-learn-how-core-does-it/

,please watch!

On Fri, Mar 30, 2012 at 11:44 PM, Dino Termini <dino at duechiacchiere.it>wrote:

> Hello list,
>
> I am developing a plugin that displays a bunch of meta boxes. I'm trying
> to do something when the 'Show on screen' checkbox for the corresponding
> meta box is (un)selected. So I added
>
> add_action('wp_ajax_closed-**postboxes',  'closed_postboxes');
>
> and
>
> function closed_postboxes(){
>        echo 'yeah';
> }
>
> to test it. But according to Firebug, admin-ajax.php returns -1, and the
> hook is not executed. What am I missing? I found this page
>
> http://codex.wordpress.org/**AJAX_in_Plugins<http://codex.wordpress.org/AJAX_in_Plugins>
>
> Can you please point me in the right direction?
>
> Cheers,
> Dino.
> ______________________________**_________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.**com <wp-hackers at lists.automattic.com>
> http://lists.automattic.com/**mailman/listinfo/wp-hackers<http://lists.automattic.com/mailman/listinfo/wp-hackers>
>

