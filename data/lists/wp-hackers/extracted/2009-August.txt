From jeremy at visser.name  Sat Aug  1 02:07:34 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Sat, 01 Aug 2009 12:07:34 +1000
Subject: [wp-hackers] Hooks, Actions, Filters
In-Reply-To: <4A7340B6.7080905@santosj.name>
References: <4A7340B6.7080905@santosj.name>
Message-ID: <1249092454.4431.1.camel@rillian.narnia.sunriseroad.net>

On Fri, 2009-07-31 at 14:06 -0500, Jacob Santos wrote:
> I was waiting for someone to suggest just doing:
> 
> return '%s';

*headdesk*

_That_ is why I don't participate in technical discussions on this list
any more.


From r at schestowitz.com  Sat Aug  1 07:24:34 2009
From: r at schestowitz.com (Roy Schestowitz)
Date: Sat, 01 Aug 2009 07:24:34 +0000
Subject: [wp-hackers] WP-Hackers Stats for July 2009
Message-ID: <4A73EDB2.9040904@schestowitz.com>

  ?  Times are Greenwich Mean Time (GMT) +0:00

  ?  Statistics span a period of one month

  ?  Subject line formatted consistently "WP-Hackers Stats for <MONTH>
<YEAR>"

  ?  Killfile <subject contains "WP-Hackers Stats for "> if uninterested
____________________________________________________________

Stats for wp-hackers
~~~~~~~~~~~~~~~~~~~~
***** People who have written most messages:
+----+-----Author-----------------------------------+--Msg-+-Percent-+
|  1 | scribu gmail.com                             |   24 |  7.04 % |
|  2 | cpoteet siolon.com                           |   23 |  6.74 % |
|  3 | aaron xavisys.com                            |   23 |  6.74 % |
|  4 | heiko.rabe code-styling.de                   |   22 |  6.45 % |
|  5 | latz elektroelch.de                          |   20 |  5.87 % |
|  6 | simon sweetinteraction.com                   |   16 |  4.69 % |
|  7 | bryanharley gmail.com                        |   14 |  4.11 % |
|  8 | mikeschinkel newclarity.net                  |   13 |  3.81 % |
|  9 | daiv daivmowbray.com                         |   12 |  3.52 % |
| 10 | johnbillion+wp gmail.com                     |   12 |  3.52 % |
| 11 | john.ivar.myrstad gmail.com                  |   11 |  3.23 % |
| 12 | jer simianuprising.com                       |   11 |  3.23 % |
| 13 | jayarjo gmail.com                            |    9 |  2.64 % |
| 14 | alex dunae.ca                                |    8 |  2.35 % |
| 15 | otto ottodestruct.com                        |    8 |  2.35 % |
| 16 | sojweb indiana.edu                           |    7 |  2.05 % |
| 17 | adamjctaylor gmail.com                       |    7 |  2.05 % |
| 18 | wordpress santosj.name                       |    7 |  2.05 % |
| 19 | dan sproutventure.com                        |    6 |  1.76 % |
| 20 | jeremy visser.name                           |    6 |  1.76 % |
| 21 | awgandrews gmail.com                         |    5 |  1.47 % |
| 22 | wp xentek.net                                |    5 |  1.47 % |
| 23 | spellham gmail.com                           |    4 |  1.17 % |
| 24 | wp-hackers itsananderson.com                 |    4 |  1.17 % |
| 25 | mrbrog gmail.com                             |    3 |  0.88 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |   61 | 17.89 % |
+----+----------------------------------------------+------+---------+

***** Best authors, by total size of their messages (w/o quoting):
+----+-----Author-------------------------------------------+-KBytes-+
|  1 | heiko.rabe code-styling.de                           |   46.1 |
|  2 | aaron xavisys.com                                    |   21.2 |
|  3 | latz elektroelch.de                                  |   19.5 |
|  4 | scribu gmail.com                                     |   13.7 |
|  5 | jer simianuprising.com                               |   13.3 |
|  6 | mikeschinkel newclarity.net                          |   12.8 |
|  7 | simon sweetinteraction.com                           |   12.4 |
|  8 | daiv daivmowbray.com                                 |    9.9 |
|  9 | wordpress santosj.name                               |    8.9 |
| 10 | alex dunae.ca                                        |    6.9 |
| 11 | otto ottodestruct.com                                |    6.8 |
| 12 | cpoteet siolon.com                                   |    6.8 |
| 13 | wp-hackers itsananderson.com                         |    6.7 |
| 14 | jeremy visser.name                                   |    6.6 |
| 15 | johnbillion+wp gmail.com                             |    6.1 |
| 16 | john.ivar.myrstad gmail.com                          |    5.7 |
| 17 | bryanharley gmail.com                                |    5.4 |
| 18 | jayarjo gmail.com                                    |    5.3 |
| 19 | awgandrews gmail.com                                 |    4.6 |
| 20 | adamjctaylor gmail.com                               |    4.5 |
| 21 | sojweb indiana.edu                                   |    4.2 |
| 22 | dan sproutventure.com                                |    3.8 |
| 23 | smibrahim gmail.com                                  |    3.6 |
| 24 | wp xentek.net                                        |    3.5 |
| 25 | matt sivel.net                                       |    3.3 |
+----+------------------------------------------------------+--------+

***** Best authors, by average size of their message (w/o quoting):
+----+-----Author--------------------------------------------+-bytes-+
|  1 | Jesse.Silverstein xerox.com                           |  3107 |
|  2 | heiko.rabe code-styling.de                            |  2147 |
|  3 | glenn glennansley.com                                 |  1830 |
|  4 | smibrahim gmail.com                                   |  1821 |
|  5 | skeltoac gmail.com                                    |  1814 |
|  6 | wp-hackers itsananderson.com                          |  1714 |
|  7 | matt sivel.net                                        |  1670 |
|  8 | bruno.in.dk gmail.com                                 |  1576 |
|  9 | jess funroe.net                                       |  1560 |
| 10 | jaredbangs gmail.com                                  |  1467 |
| 11 | peaceable_whale hotmail.com                           |  1405 |
| 12 | beau dentedreality.com.au                             |  1391 |
| 13 | wordpress santosj.name                                |  1309 |
| 14 | wordpress tekartist.org                               |  1273 |
| 15 | jane automattic.com                                   |  1256 |
| 16 | wp-hackers google-adsense-templates.co.uk             |  1243 |
| 17 | jer simianuprising.com                                |  1240 |
| 18 | gwkgarchive gmail.com                                 |  1135 |
| 19 | peter.westwood ftwr.co.uk                             |  1126 |
| 20 | jeremy visser.name                                    |  1123 |
| 21 | mrbrog gmail.com                                      |  1100 |
| 22 | gaarai gaarai.com                                     |  1095 |
| 23 | barry automattic.com                                  |  1088 |
| 24 | shacker birdhouse.org                                 |  1072 |
| 25 | listswphackers mist.org.uk                            |  1061 |
+----+-------------------------------------------------------+-------+

***** Table showing the most successful subjects:
+----+----Subject-----------------------------------+--Msg-+-Percent-+
|  1 | [wp-hackers] readme.txt: "Requires PHP 5 tag |   40 | 11.73 % |
|  2 | [wp-hackers] Meta tables: Take 5             |   38 | 11.14 % |
|  3 | [wp-hackers] Reply By Email in Self Hosted B |   23 |  6.74 % |
|  4 | [wp-hackers] HTTP Request API edge case      |   19 |  5.57 % |
|  5 | [wp-hackers] register_activation_hook() prob |   14 |  4.11 % |
|  6 | [wp-hackers] Hooks, Actions, Filters         |   14 |  4.11 % |
|  7 | [wp-hackers] single quote in plugin options  |   12 |  3.52 % |
|  8 | [wp-hackers] mod_rewrite help                |   12 |  3.52 % |
|  9 | [wp-hackers] Post dates older than 1.1.1970  |   11 |  3.23 % |
| 10 | [wp-hackers] Load Balancing | Media Uploads  |   11 |  3.23 % |
| 11 | [wp-hackers] ajax and $wpdb                  |   10 |  2.93 % |
| 12 | [wp-hackers] can url auto-completing in word |    9 |  2.64 % |
| 13 | [wp-hackers] Inserting Google Analytics into |    9 |  2.64 % |
| 14 | [wp-hackers] Page ancestry and CSS           |    9 |  2.64 % |
| 15 | [wp-hackers] Working with $_registered_pages |    8 |  2.35 % |
| 16 | [wp-hackers] Rebuttal (re: Meta tables: Take |    8 |  2.35 % |
| 17 | [wp-hackers] Single sign-on SSL domain       |    8 |  2.35 % |
| 18 | [wp-hackers] wordpress.org *.pot file featur |    7 |  2.05 % |
| 19 | [wp-hackers] URL Query Strings being Preserv |    6 |  1.76 % |
| 20 | [wp-hackers] wordpress.org *.pot file featur |    6 |  1.76 % |
| 21 | [wp-hackers] PHP 5.3 stress tests with WordP |    6 |  1.76 % |
| 22 | [wp-hackers] My Plugin Breaks Posting        |    5 |  1.47 % |
| 23 | [wp-hackers] row output on wp-admin/users.ph |    5 |  1.47 % |
| 24 | [wp-hackers] White space and the_excerpt     |    4 |  1.17 % |
| 25 | [wp-hackers] wordpress.org *.pot file featur |    4 |  1.17 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |   43 | 12.61 % |
+----+----------------------------------------------+------+---------+

***** Most used email clients:
+----+----Mailer------------------------------------+--Msg-+-Percent-+
|  1 | Google Mail/Other                            |  161 | 47.21 % |
|  2 | Thunderbird 2.0.0.22 (Windows/20090605)      |   59 | 17.30 % |
|  3 | Apple Mail (2.935.3)                         |   33 |  9.68 % |
|  4 | G2/1.0                                       |   31 |  9.09 % |
|  5 | Apple Mail (2.930.3)                         |   12 |  3.52 % |
|  6 | Webmail                                      |    9 |  2.64 % |
|  7 | Zimbra 5.0.16_GA_2921.RHEL5_64               |    8 |  2.35 % |
|  8 | Postbox 1.0b13 (Macintosh/2009062916)        |    6 |  1.76 % |
|  9 | Evolution 2.26.1                             |    6 |  1.76 % |
| 10 | Sylpheed 2.6.0 (GTK+ 2.10.14; i686-pc-mingw3 |    5 |  1.47 % |
| 11 | YahooMailClassic/5.4.17 YahooMailWebService/ |    2 |  0.59 % |
| 12 | Thunderbird 2.0.0.22 (X11/20090608)          |    2 |  0.59 % |
| 13 | Thunderbird 2.0.0.12 (Windows/20080213)      |    2 |  0.59 % |
| 14 | Mozilla/5.x                                  |    1 |  0.29 % |
| 15 | Forte Agent 4.2x                             |    1 |  0.29 % |
| 16 | SquirrelMail/1.4.13                          |    1 |  0.29 % |
| 17 | Turnpike/6.07-M (<7OGGtb0zkI$XaEx99tGTX3Y36S |    1 |  0.29 % |
| 18 | Microsoft Windows Live Mail 14.0.8064.206    |    1 |  0.29 % |
+----+----------------------------------------------+------+---------+
|    | other                                        |    0 |  0.00 % |
+----+----------------------------------------------+------+---------+

***** Table of maximal quoting:
+----+-----Author------------------------------------------+-Percent-+
|  1 | charles cefm.ca                                     | 84.39 % |
|  2 | spellham gmail.com                                  | 71.30 % |
|  3 | tim silentgap.com                                   | 67.83 % |
|  4 | junsuijin gmail.com                                 | 67.48 % |
|  5 | mikeschinkel newclarity.net                         | 65.98 % |
|  6 | speedboxer gmail.com                                | 65.54 % |
|  7 | jordi jcanals.net                                   | 60.54 % |
|  8 | gwkgarchive gmail.com                               | 56.66 % |
|  9 | steve sltaylor.co.uk                                | 55.23 % |
| 10 | wordpress tekartist.org                             | 51.34 % |
| 11 | simon sweetinteraction.com                          | 49.97 % |
| 12 | aaron xavisys.com                                   | 47.73 % |
| 13 | scribu gmail.com                                    | 47.37 % |
| 14 | gaarai gaarai.com                                   | 46.69 % |
| 15 | adamjctaylor gmail.com                              | 46.54 % |
| 16 | wordpress santosj.name                              | 45.50 % |
| 17 | peter.westwood ftwr.co.uk                           | 44.93 % |
| 18 | yahgrp poplarware.com                               | 44.62 % |
| 19 | wp-hackers striderweb.com                           | 43.67 % |
| 20 | email dalegroup.net                                 | 43.23 % |
| 21 | if.website gmail.com                                | 38.61 % |
| 22 | jaredbangs gmail.com                                | 38.04 % |
| 23 | sojweb indiana.edu                                  | 36.13 % |
| 24 | glenn glennansley.com                               | 29.06 % |
| 25 | supporto pixline.net                                | 28.22 % |
+----+-----------------------------------------------------+---------+
|    | average                                             | 30.91 % |
+----+-----------------------------------------------------+---------+

***** Graph showing number of messages written during hours of day:

100% ---------------------#--------------------------- - 54
 90% ---------------------#--------------------------- msgs
 80% ---------------------#---------------------------
 70% ---------------------#---------------------------
 60% ---------------------#---------------------------
 50% ---------------#-----#-------#-----------#-------
 40% ---------------#-----#-------#---#-----#-#-------
 30% ---------------#-----#-#-----#-#-#-----#-#-----#-
 20% ---------------#---#-#-#-#---#-#-#-----#-#---#-#-
 10% -------#-------#-#-#-#-#-#-#-#-#-#-#-#-#-#---#-#-
      * * * * * * * * * * * * * * * * * * * * * * * *
hour  0         5           11          17          23


***** Graph showing number of messages written during days of month:

100% -----------------------------#--------------------------------- - 60
 90% -----------------------------#--------------------------------- msgs
 80% -----------------------------#---------------------------------
 70% ---------------------------#-#-----------------#---------------
 60% ---------------------------#-#-----------------#---------------
 50% ---------------------------#-#-----------------#---------------
 40% ---------------------------#-#-----------------#---------#-----
 30% -------------------------#-#-#-#---------------#---------#-----
 20% -------------------------#-#-#-#-------#-------#-----#-#-#-#---
 10% -----#-------------------#-#-#-#-----#-#-#---#-#---#-#-#-#-#-#-
      * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 day  1         6           12          18          24            31


***** Graph showing number of messages written during days of week:

100% ---------#------------------- - 89
 90% ---------#------------------- msgs
 80% ---------#-------------------
 70% -----#---#-------#-----------
 60% -----#---#-------#-----------
 50% -#---#---#-------#-----------
 40% -#---#---#---#---#-----------
 30% -#---#---#---#---#-----------
 20% -#---#---#---#---#-------#---
 10% -#---#---#---#---#-------#---
      *   *   *   *   *   *   *
     Mon Tue Wed Thu Fri Sat Sun


***** Maximal quoting:
      Author     : mikeschinkel newclarity.net
      Subject    : [wp-hackers] Meta tables: Take 5
      Date       : Mon, 27 Jul 2009 11:25:04 -0400
      Quote ratio: 94.93% / 8087 bytes

***** Longest message:
      Author     : mikeschinkel newclarity.net
      Subject    : [wp-hackers] Meta tables: Take 5
      Date       : Mon, 27 Jul 2009 11:25:04 -0400
      Size       : 8087 bytes

***** Most successful subject:
      Subject    : [wp-hackers] readme.txt: "Requires PHP 5 tag"
      No. of msgs: 40
      Total size : 57100 bytes

***** Final summary:
      Total number of messages:             341
      Total number of different authors:    66
      Total number of different subjects:   44
      Total size of messages (w/o headers): 442587 bytes
      Average size of a message:            1297 bytes

***** Generated by MailListStat v1.3, (C) 2001-2003 <marki (at) nexin.sk>
***** See http://freshmeat.net/projects/mls for details...

DISCLAIMER: Stats automatically produced. Remember that stats are often
meaningless and deceiving.

From eric at ericmmartin.com  Sat Aug  1 15:46:34 2009
From: eric at ericmmartin.com (Eric Martin)
Date: Sat, 1 Aug 2009 08:46:34 -0700
Subject: [wp-hackers] JavaScript,wp_enqueue_script and concatenation
Message-ID: <29b5b0d30908010846n3514603au1c971b62dae2a9a0@mail.gmail.com>

I use jQuery on my site and a handful of jquery plugins. I've been
doing quite a bit of thinking about ways to concatenate the scripts
together in order to reduce the number of requests made, while
maintaining the usefulness and features provided by wp_enqueue_script.

For example, I could just concatenate the files and the put it
directly into my template or use wp_enqueue_script to load it, but
then I lose all of the benefits of wp_enqueue_script for each of the
scripts contained in the concatenated version.

At first I was thinking of trying to do it automatically, but I'm not
sure that I want that overhead. You could "cache" the concatenated
script, but I think it could be easier.

Then, I was thinking that perhaps a check could be added to see if the
source and version are the same for scripts added through
wp_enqueue_script and only print out one script tag.

I couldn't find any easy filter or action to use to attempt to do this
myself, so I wanted to throw it out and see if there were any other
ideas out there.

Example:
wp_enqueue_script('jquery');
wp_enqueue_script('jquery-color');
wp_enqueue_script('jquery-fontavailable', get_bloginfo('template_url')
. '/scripts/jquery.fontavailable.js', array('jquery'), '1.1', true);
wp_enqueue_script('jquery-scrollto', get_bloginfo('template_url') .
'/scripts/jquery.scrollto.js', array('jquery'), '1.4.2', true);
wp_enqueue_script('jquery-localscroll', get_bloginfo('template_url') .
'/scripts/jquery.localscroll.js', array('jquery'), '1.2.7', true);
wp_enqueue_script('jquery-simplemodal', get_bloginfo('template_url') .
'/scripts/jquery.simplemodal.js', array('jquery'), '1.3', true);
wp_enqueue_script('easyretweet', get_bloginfo('template_url') .
'/scripts/easyretweet.js', array('jquery'), '1.0', true);
wp_enqueue_script('emm', get_bloginfo('template_url') .
'/scripts/emm.js', array('jquery'), '1.0', true);

Which I'd like to end up printing out 3 scripts tags, one for each
built-in script (jquery & jquery-color) and one more for the scripts
in my theme.

From wp-hackers at itsananderson.com  Sat Aug  1 17:25:08 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Sat, 1 Aug 2009 13:25:08 -0400
Subject: [wp-hackers] Hooks, Actions, Filters
In-Reply-To: <1249092454.4431.1.camel@rillian.narnia.sunriseroad.net>
References: <4A7340B6.7080905@santosj.name>
	<1249092454.4431.1.camel@rillian.narnia.sunriseroad.net>
Message-ID: <6dbcd2670908011025x2a5317edvb0afbd972958dae0@mail.gmail.com>

On Fri, Jul 31, 2009 at 10:07 PM, Jeremy Visser <jeremy at visser.name> wrote:

> On Fri, 2009-07-31 at 14:06 -0500, Jacob Santos wrote:
> > I was waiting for someone to suggest just doing:
> >
> > return '%s';
>
> *headdesk*
>
> _That_ is why I don't participate in technical discussions on this list
> any more.
>

I think I did suggest doing that in my first email on this thread. The
problem, which I mentioned, is that you'll potentially overwrite any changes
other filters might make to the format string before your filter is called.
In all likelihood, this is what you want to do anyway, but it's still a
potential issue that needs to be considered.

Will Anderson
http://www.itsananderson.com/

From joelfisher at gmail.com  Sat Aug  1 20:28:56 2009
From: joelfisher at gmail.com (Joel Fisher)
Date: Sat, 1 Aug 2009 16:28:56 -0400
Subject: [wp-hackers] Multi-level page nav
Message-ID: <d238bd620908011328x2bb7e2eau8b509c0d67d774b8@mail.gmail.com>

I am trying to do this in WP..


Parent 1   PARENT 2    Parent 3

Child 1
Child 2
CHILD 3
 Childlevel3 1
 Childlevel3 2
 Childlevel3 3
Child 4
Child 5


Seems pretty easy with a ..

<?php
 $children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0');
 if ($children) { ?>
  <ul>
  <?php echo $children; ?>
  </ul>
  <?php
 } else {
// your else stuff
 }
?>


However, the kicker here..Child 2 and Child 4 each have third level
childs, but I don't want them to show.

So, I thinking some sort of if else..

<?php
 $children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0');
<?php if (is_page('Child3') || $post->post_parent=="20") : ?>
  <ul>
  <?php echo $children; ?>
  </ul>
  <?php
 } else {
// your else stuff
 }
?>

But I can't seem to get the correct logic in place to ONLY show the
sub-childs of a particular section in-line with the child pages but
not show the other sub-pages third level childs...

Confusing, but an interesting problem. Any suggestions?



joel.fisher
www.flushinc.com

Linkedin: http://www.linkedin.com/in/jfisher
Follow: www.twitter.com/joelmoney

From wp-hackers at itsananderson.com  Sat Aug  1 20:41:45 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Sat, 1 Aug 2009 16:41:45 -0400
Subject: [wp-hackers] Multi-level page nav
In-Reply-To: <d238bd620908011328x2bb7e2eau8b509c0d67d774b8@mail.gmail.com>
References: <d238bd620908011328x2bb7e2eau8b509c0d67d774b8@mail.gmail.com>
Message-ID: <6dbcd2670908011341r44d7843btce3023e21c6475c9@mail.gmail.com>

On Sat, Aug 1, 2009 at 4:28 PM, Joel Fisher <joelfisher at gmail.com> wrote:

> I am trying to do this in WP..
>
>
> Parent 1   PARENT 2    Parent 3
>
> Child 1
> Child 2
> CHILD 3
>  Childlevel3 1
>  Childlevel3 2
>  Childlevel3 3
> Child 4
> Child 5
>
>
> Seems pretty easy with a ..
>
> <?php
>  $children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0');
>  if ($children) { ?>
>  <ul>
>  <?php echo $children; ?>
>  </ul>
>  <?php
>  } else {
> // your else stuff
>  }
> ?>
>
>
> However, the kicker here..Child 2 and Child 4 each have third level
> childs, but I don't want them to show.
>
> So, I thinking some sort of if else..
>
> <?php
>  $children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0');
> <?php if (is_page('Child3') || $post->post_parent=="20") : ?>
>  <ul>
>  <?php echo $children; ?>
>  </ul>
>  <?php
>  } else {
> // your else stuff
>  }
> ?>
>
> But I can't seem to get the correct logic in place to ONLY show the
> sub-childs of a particular section in-line with the child pages but
> not show the other sub-pages third level childs...
>
> Confusing, but an interesting problem. Any suggestions?
>
>
>
> joel.fisher
> www.flushinc.com
>
> Linkedin: http://www.linkedin.com/in/jfisher
> Follow: www.twitter.com/joelmoney
>


I could be missing something here, but wouldn't specifying a depth as an
argument solve your problem? If you look at the
Codex<http://codex.wordpress.org/Template_Tags/wp_list_pages> for
wp_list_pages, there's an argument you can specify which tells WordPress how
far down to recurse. I *think* this will do what you're looking for.
eg:

$children =
wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0&depth=1');

-- 
Will Anderson
http://www.itsananderson.com/

From joelfisher at gmail.com  Sat Aug  1 20:59:36 2009
From: joelfisher at gmail.com (Joel Fisher)
Date: Sat, 1 Aug 2009 16:59:36 -0400
Subject: [wp-hackers] Multi-level page nav
In-Reply-To: <6dbcd2670908011341r44d7843btce3023e21c6475c9@mail.gmail.com>
References: <d238bd620908011328x2bb7e2eau8b509c0d67d774b8@mail.gmail.com>
	<6dbcd2670908011341r44d7843btce3023e21c6475c9@mail.gmail.com>
Message-ID: <d238bd620908011359w684f5419gc267a4101d1226c3@mail.gmail.com>

Right but other on that level have childs as well and they are showing
since here I am starting with child and not parent.

I've tried every variation of what you send and it isn't working since
other items have depth=2 items.



joel.fisher
www.flushinc.com

Linkedin: http://www.linkedin.com/in/jfisher
Follow: www.twitter.com/joelmoney




On Sat, Aug 1, 2009 at 4:41 PM, Will
Anderson<wp-hackers at itsananderson.com> wrote:
> On Sat, Aug 1, 2009 at 4:28 PM, Joel Fisher <joelfisher at gmail.com> wrote:
>
>> I am trying to do this in WP..
>>
>>
>> Parent 1 ? PARENT 2 ? ?Parent 3
>>
>> Child 1
>> Child 2
>> CHILD 3
>> ?Childlevel3 1
>> ?Childlevel3 2
>> ?Childlevel3 3
>> Child 4
>> Child 5
>>
>>
>> Seems pretty easy with a ..
>>
>> <?php
>> ?$children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0');
>> ?if ($children) { ?>
>> ?<ul>
>> ?<?php echo $children; ?>
>> ?</ul>
>> ?<?php
>> ?} else {
>> // your else stuff
>> ?}
>> ?>
>>
>>
>> However, the kicker here..Child 2 and Child 4 each have third level
>> childs, but I don't want them to show.
>>
>> So, I thinking some sort of if else..
>>
>> <?php
>> ?$children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0');
>> <?php if (is_page('Child3') || $post->post_parent=="20") : ?>
>> ?<ul>
>> ?<?php echo $children; ?>
>> ?</ul>
>> ?<?php
>> ?} else {
>> // your else stuff
>> ?}
>> ?>
>>
>> But I can't seem to get the correct logic in place to ONLY show the
>> sub-childs of a particular section in-line with the child pages but
>> not show the other sub-pages third level childs...
>>
>> Confusing, but an interesting problem. Any suggestions?
>>
>>
>>
>> joel.fisher
>> www.flushinc.com
>>
>> Linkedin: http://www.linkedin.com/in/jfisher
>> Follow: www.twitter.com/joelmoney
>>
>
>
> I could be missing something here, but wouldn't specifying a depth as an
> argument solve your problem? If you look at the
> Codex<http://codex.wordpress.org/Template_Tags/wp_list_pages> for
> wp_list_pages, there's an argument you can specify which tells WordPress how
> far down to recurse. I *think* this will do what you're looking for.
> eg:
>
> $children =
> wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0&depth=1');
>
> --
> Will Anderson
> http://www.itsananderson.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From simon at sweetinteraction.com  Sun Aug  2 10:34:50 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Sun, 2 Aug 2009 11:34:50 +0100
Subject: [wp-hackers] Multi-level page nav
In-Reply-To: <d238bd620908011359w684f5419gc267a4101d1226c3@mail.gmail.com>
References: <d238bd620908011328x2bb7e2eau8b509c0d67d774b8@mail.gmail.com> 
	<6dbcd2670908011341r44d7843btce3023e21c6475c9@mail.gmail.com> 
	<d238bd620908011359w684f5419gc267a4101d1226c3@mail.gmail.com>
Message-ID: <77c8b7bf0908020334r57506845g7464ce8624d663ee@mail.gmail.com>

Could you cheat it with CSS? wp_list_pages puts loads of classes

Failing that, there is a filter hook 'get_pages' which may allow you
to do what you require.

S


On Sat, Aug 1, 2009 at 9:59 PM, Joel Fisher<joelfisher at gmail.com> wrote:
> Right but other on that level have childs as well and they are showing
> since here I am starting with child and not parent.
>
> I've tried every variation of what you send and it isn't working since
> other items have depth=2 items.
>
>
>
> joel.fisher
> www.flushinc.com
>
> Linkedin: http://www.linkedin.com/in/jfisher
> Follow: www.twitter.com/joelmoney
>
>
>
>
> On Sat, Aug 1, 2009 at 4:41 PM, Will
> Anderson<wp-hackers at itsananderson.com> wrote:
>> On Sat, Aug 1, 2009 at 4:28 PM, Joel Fisher <joelfisher at gmail.com> wrote:
>>
>>> I am trying to do this in WP..
>>>
>>>
>>> Parent 1 ? PARENT 2 ? ?Parent 3
>>>
>>> Child 1
>>> Child 2
>>> CHILD 3
>>> ?Childlevel3 1
>>> ?Childlevel3 2
>>> ?Childlevel3 3
>>> Child 4
>>> Child 5
>>>
>>>
>>> Seems pretty easy with a ..
>>>
>>> <?php
>>> ?$children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0');
>>> ?if ($children) { ?>
>>> ?<ul>
>>> ?<?php echo $children; ?>
>>> ?</ul>
>>> ?<?php
>>> ?} else {
>>> // your else stuff
>>> ?}
>>> ?>
>>>
>>>
>>> However, the kicker here..Child 2 and Child 4 each have third level
>>> childs, but I don't want them to show.
>>>
>>> So, I thinking some sort of if else..
>>>
>>> <?php
>>> ?$children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0');
>>> <?php if (is_page('Child3') || $post->post_parent=="20") : ?>
>>> ?<ul>
>>> ?<?php echo $children; ?>
>>> ?</ul>
>>> ?<?php
>>> ?} else {
>>> // your else stuff
>>> ?}
>>> ?>
>>>
>>> But I can't seem to get the correct logic in place to ONLY show the
>>> sub-childs of a particular section in-line with the child pages but
>>> not show the other sub-pages third level childs...
>>>
>>> Confusing, but an interesting problem. Any suggestions?
>>>
>>>
>>>
>>> joel.fisher
>>> www.flushinc.com
>>>
>>> Linkedin: http://www.linkedin.com/in/jfisher
>>> Follow: www.twitter.com/joelmoney
>>>
>>
>>
>> I could be missing something here, but wouldn't specifying a depth as an
>> argument solve your problem? If you look at the
>> Codex<http://codex.wordpress.org/Template_Tags/wp_list_pages> for
>> wp_list_pages, there's an argument you can specify which tells WordPress how
>> far down to recurse. I *think* this will do what you're looking for.
>> eg:
>>
>> $children =
>> wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0&depth=1');
>>
>> --
>> Will Anderson
>> http://www.itsananderson.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Simon Wheatley
Sweet Interaction Ltd
Web Interaction Design & Development
Tel: 07971 687295

Consulting for Stephen Fry: http://stephenfry.com/
Blog functionality for DfID - http://blogs.dfid.gov.uk/
House of Illustration site - http://houseofillustration.org.uk/
Blog for the Royal Navy - http://jackspeak.royalnavy.mod.uk/

---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT

From shane at bugssite.org  Sun Aug  2 13:41:52 2009
From: shane at bugssite.org (Shane A. Froebel)
Date: Sun, 02 Aug 2009 09:41:52 -0400
Subject: [wp-hackers] Multi-level page nav
In-Reply-To: <77c8b7bf0908020334r57506845g7464ce8624d663ee@mail.gmail.com>
References: <d238bd620908011328x2bb7e2eau8b509c0d67d774b8@mail.gmail.com>
	<6dbcd2670908011341r44d7843btce3023e21c6475c9@mail.gmail.com>
	<d238bd620908011359w684f5419gc267a4101d1226c3@mail.gmail.com>
	<77c8b7bf0908020334r57506845g7464ce8624d663ee@mail.gmail.com>
Message-ID: <4A7597A0.40204@bugssite.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I just thought I share what I have:

<?php

$children =
wp_list_pages("title_li=&child_of=".$post->ID."&echo=0&depth=1");	

if ($children) {
	
?>

<div class="module">
	<div class="module-head">
		<div align="center"><h3><?php _e('Sub Pages'); ?></h3></div>
	</div>
	<div class="wrap">
		<div class="content">
			<ul class="dash-strip">
				<?php echo $children; ?>
			</ul>
		</div>
	</div>
	<div class="module-footer">
		<div>&nbsp;</div>
	</div>
</div>

<?php } ?>

I have an "About" page that is the top level page. Under that I have
"'History of ?the rabbit hole?". Under "History of ?the rabbit hole?" my
"WordPress Plugins" page shows up under 'Sub Pages', but my "About" tab
(at the top of the site, finally goes 'Inactive css class' once I goto
the "WordPress plugins" page since the parent page "History of 'the
rabbit hole'" is now not listed.

But this seems to work for me. I really should be doing 'if
(!empty($childern)'. Might change that now..

Your Friend,
Shane


Simon Wheatley wrote:
> Could you cheat it with CSS? wp_list_pages puts loads of classes
> 
> Failing that, there is a filter hook 'get_pages' which may allow you
> to do what you require.
> 
> S
> 
> 
> On Sat, Aug 1, 2009 at 9:59 PM, Joel Fisher<joelfisher at gmail.com> wrote:
>> Right but other on that level have childs as well and they are showing
>> since here I am starting with child and not parent.
>>
>> I've tried every variation of what you send and it isn't working since
>> other items have depth=2 items.
>>
>>
>>
>> joel.fisher
>> www.flushinc.com
>>
>> Linkedin: http://www.linkedin.com/in/jfisher
>> Follow: www.twitter.com/joelmoney
>>
>>
>>
>>
>> On Sat, Aug 1, 2009 at 4:41 PM, Will
>> Anderson<wp-hackers at itsananderson.com> wrote:
>>> On Sat, Aug 1, 2009 at 4:28 PM, Joel Fisher <joelfisher at gmail.com> wrote:
>>>
>>>> I am trying to do this in WP..
>>>>
>>>>
>>>> Parent 1   PARENT 2    Parent 3
>>>>
>>>> Child 1
>>>> Child 2
>>>> CHILD 3
>>>>  Childlevel3 1
>>>>  Childlevel3 2
>>>>  Childlevel3 3
>>>> Child 4
>>>> Child 5
>>>>
>>>>
>>>> Seems pretty easy with a ..
>>>>
>>>> <?php
>>>>  $children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0');
>>>>  if ($children) { ?>
>>>>  <ul>
>>>>  <?php echo $children; ?>
>>>>  </ul>
>>>>  <?php
>>>>  } else {
>>>> // your else stuff
>>>>  }
>>>> ?>
>>>>
>>>>
>>>> However, the kicker here..Child 2 and Child 4 each have third level
>>>> childs, but I don't want them to show.
>>>>
>>>> So, I thinking some sort of if else..
>>>>
>>>> <?php
>>>>  $children = wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0');
>>>> <?php if (is_page('Child3') || $post->post_parent=="20") : ?>
>>>>  <ul>
>>>>  <?php echo $children; ?>
>>>>  </ul>
>>>>  <?php
>>>>  } else {
>>>> // your else stuff
>>>>  }
>>>> ?>
>>>>
>>>> But I can't seem to get the correct logic in place to ONLY show the
>>>> sub-childs of a particular section in-line with the child pages but
>>>> not show the other sub-pages third level childs...
>>>>
>>>> Confusing, but an interesting problem. Any suggestions?
>>>>
>>>>
>>>>
>>>> joel.fisher
>>>> www.flushinc.com
>>>>
>>>> Linkedin: http://www.linkedin.com/in/jfisher
>>>> Follow: www.twitter.com/joelmoney
>>>>
>>>
>>> I could be missing something here, but wouldn't specifying a depth as an
>>> argument solve your problem? If you look at the
>>> Codex<http://codex.wordpress.org/Template_Tags/wp_list_pages> for
>>> wp_list_pages, there's an argument you can specify which tells WordPress how
>>> far down to recurse. I *think* this will do what you're looking for.
>>> eg:
>>>
>>> $children =
>>> wp_list_pages('title_li=&child_of='.$post->ID.'&echo=0&depth=1');
>>>
>>> --
>>> Will Anderson
>>> http://www.itsananderson.com/
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> 
> 
> 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)

iQIcBAEBAgAGBQJKdZefAAoJEC7/vS6gbNwFzZAP/A5aasv8prNNHKvNlK0b0S9a
+RPNI0K90/JTHWXy3eJXeNMki7kgYbQsWjHt7froFpxn0m+T+mh01nq8EYNbo2zk
KZilu01KOPHCKIFIV8TNToEsIQrB5W1uzMDN9uqTAOxwG/HgxMq2j5AvrixTYWmH
rZ0Acre00jdIzXNj7SaNBSpDstN+O3ImCQmzqA+7HkR2V2aB+qBvd+RnMhkfyZYG
tqntw5uD5IAVO/m0svafdmpi+0fELRxl+dAKKIU5zKBYm3pj4GaTiggv9iXhMBZi
EnaZratZKI0KgQhu1CUVv/JJfwvqw8lbUI63qE9DDqWxJWu8M3Qp/KYJM+nIBq80
PI2oLoEvtjb59OQY4yHxLTnJfYOtmnTjCtC4XNbe/y+XKHm696cY+XDx6kDsfBPn
OeSqye1oo1zyRXUfhHCk1VPevB6ZvX8vC9TTThQgAnWWjdumhQ/91KwjZsjTyMtk
xqWnhzwfGRvInUXn1k1Q7k/tzx6B9z5NIlQyTjbjoCc0N3+7s+3ChSVsOedLCKRl
9OoyTc9SaT70NfV7nzGS2WVpvMpOZ8FzoXLTqVWg/YxKjkEmhqwA6JHAwMoRerQE
lF4Fma+aaTdTjYdCQ3kOloytU/9cvwobD99OWmvvtlOg94MZ4EUN0n1bTVVjLSc7
D/k9Dn+qeggKtKr7FSuo
=r3x2
-----END PGP SIGNATURE-----

From eddie at eringle.net  Sun Aug  2 17:41:45 2009
From: eddie at eringle.net (Eddie Ringle)
Date: Sun, 2 Aug 2009 13:41:45 -0400
Subject: [wp-hackers] Excluding page from wp_list_pages without knowing the
	ID
Message-ID: <e90b11270908021041idb7e09dr1be524da5f4fd8ae@mail.gmail.com>

I need to be able to find a page's ID I guess, maybe by title? Does anyone
know of a function that will assist me with this?
Eddie Ringle
eddie at eringle.net
http://eddieringle.com/

From aaron at xavisys.com  Sun Aug  2 17:48:46 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Sun, 02 Aug 2009 10:48:46 -0700
Subject: [wp-hackers] Excluding page from wp_list_pages without knowing
 the	ID
In-Reply-To: <e90b11270908021041idb7e09dr1be524da5f4fd8ae@mail.gmail.com>
References: <e90b11270908021041idb7e09dr1be524da5f4fd8ae@mail.gmail.com>
Message-ID: <4A75D17E.5010602@xavisys.com>

There's a function called get_page_by_title()

Eddie Ringle wrote:
> I need to be able to find a page's ID I guess, maybe by title? Does anyone
> know of a function that will assist me with this?
> Eddie Ringle

From eddie at eringle.net  Sun Aug  2 17:50:21 2009
From: eddie at eringle.net (Eddie Ringle)
Date: Sun, 2 Aug 2009 13:50:21 -0400
Subject: [wp-hackers] Excluding page from wp_list_pages without knowing
	the ID
In-Reply-To: <4A75D17E.5010602@xavisys.com>
References: <e90b11270908021041idb7e09dr1be524da5f4fd8ae@mail.gmail.com> 
	<4A75D17E.5010602@xavisys.com>
Message-ID: <e90b11270908021050ma46206dw12f37818e1d5800c@mail.gmail.com>

That'll work, thanks.
Eddie Ringle
eddie at eringle.net
http://eddieringle.com/


On Sun, Aug 2, 2009 at 1:48 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:

> There's a function called get_page_by_title()
>
> Eddie Ringle wrote:
>
>> I need to be able to find a page's ID I guess, maybe by title? Does anyone
>> know of a function that will assist me with this?
>> Eddie Ringle
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Mon Aug  3 13:11:27 2009
From: otto at ottodestruct.com (Otto)
Date: Mon, 3 Aug 2009 08:11:27 -0500
Subject: [wp-hackers] JavaScript,wp_enqueue_script and concatenation
In-Reply-To: <29b5b0d30908010846n3514603au1c971b62dae2a9a0@mail.gmail.com>
References: <29b5b0d30908010846n3514603au1c971b62dae2a9a0@mail.gmail.com>
Message-ID: <161617690908030611w6b58b7cbh2f9a7007b66ed263@mail.gmail.com>

On Sat, Aug 1, 2009 at 10:46 AM, Eric Martin<eric at ericmmartin.com> wrote:
> I use jQuery on my site and a handful of jquery plugins. I've been
> doing quite a bit of thinking about ways to concatenate the scripts
> together in order to reduce the number of requests made, while
> maintaining the usefulness and features provided by wp_enqueue_script.

I'm pretty sure that 2.8 already has this built in. All scripts get
concatenated into a single call to load-scripts.php, if everything
supports it properly.

-Otto

From otto at ottodestruct.com  Mon Aug  3 13:15:18 2009
From: otto at ottodestruct.com (Otto)
Date: Mon, 3 Aug 2009 08:15:18 -0500
Subject: [wp-hackers] Multi-level page nav
In-Reply-To: <4A7597A0.40204@bugssite.org>
References: <d238bd620908011328x2bb7e2eau8b509c0d67d774b8@mail.gmail.com> 
	<6dbcd2670908011341r44d7843btce3023e21c6475c9@mail.gmail.com> 
	<d238bd620908011359w684f5419gc267a4101d1226c3@mail.gmail.com> 
	<77c8b7bf0908020334r57506845g7464ce8624d663ee@mail.gmail.com> 
	<4A7597A0.40204@bugssite.org>
Message-ID: <161617690908030615o21f90e0dnd802c076626af4ac@mail.gmail.com>

Short of it is that there's no way to do what you want except to
simply exclude the page IDs that you don't want showing up in the
list.

Something like wp_list_pages('exclude=17,38'), plus your other
parameters, of course.

-Otto
Sent from Memphis, TN, United States

From simon at sweetinteraction.com  Mon Aug  3 15:00:28 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Mon, 3 Aug 2009 16:00:28 +0100
Subject: [wp-hackers] JavaScript,wp_enqueue_script and concatenation
In-Reply-To: <161617690908030611w6b58b7cbh2f9a7007b66ed263@mail.gmail.com>
References: <29b5b0d30908010846n3514603au1c971b62dae2a9a0@mail.gmail.com> 
	<161617690908030611w6b58b7cbh2f9a7007b66ed263@mail.gmail.com>
Message-ID: <77c8b7bf0908030800td56b98ai357f479598fae9e7@mail.gmail.com>

On Mon, Aug 3, 2009 at 2:11 PM, Otto<otto at ottodestruct.com> wrote:
> On Sat, Aug 1, 2009 at 10:46 AM, Eric Martin<eric at ericmmartin.com> wrote:
>> I use jQuery on my site and a handful of jquery plugins. I've been
>> doing quite a bit of thinking about ways to concatenate the scripts
>> together in order to reduce the number of requests made, while
>> maintaining the usefulness and features provided by wp_enqueue_script.
>
> I'm pretty sure that 2.8 already has this built in. All scripts get
> concatenated into a single call to load-scripts.php, if everything
> supports it properly.
>

Does this happen outside the admin area? I haven't noticed it myself,
but maybe my scripts calls aren't configured correctly.

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT

From junsuijin at gmail.com  Mon Aug  3 15:14:58 2009
From: junsuijin at gmail.com (Tynan Colin Beatty)
Date: Mon, 3 Aug 2009 10:14:58 -0500
Subject: [wp-hackers] JavaScript,wp_enqueue_script and concatenation
In-Reply-To: <77c8b7bf0908030800td56b98ai357f479598fae9e7@mail.gmail.com>
References: <29b5b0d30908010846n3514603au1c971b62dae2a9a0@mail.gmail.com>
	<161617690908030611w6b58b7cbh2f9a7007b66ed263@mail.gmail.com>
	<77c8b7bf0908030800td56b98ai357f479598fae9e7@mail.gmail.com>
Message-ID: <4f9525dc0908030814s1e2802eet6b43258bd0deae4c@mail.gmail.com>

It does not happen on its own. I chose to include a modified
load-scripts.php from wp-admin into my theme's files (modified to allow
concatenation of scripts from my theme as well as those in wp-includes/js
scripts), but haven't had time to determine an optimal method of also
including plugin scripts (there are other variables to consider when trying
to include them as well, since some of them need to load in header, whereas
I choose to load my concatenated script into the footer). The solution
speeds things up a fair amount even without including plugins in the
concatenated script (and if your theme doesn't have any js, would be even
easier to implement). I'm thinking a nice approach might be to have 1 call
to the concated script in head to take care of whatever has to be loaded
there, and then a 2nd call to the same load-scripts.php, concatenating all
the files that can wait for the footer.

On Mon, Aug 3, 2009 at 10:00 AM, Simon Wheatley
<simon at sweetinteraction.com>wrote:

> On Mon, Aug 3, 2009 at 2:11 PM, Otto<otto at ottodestruct.com> wrote:
> > On Sat, Aug 1, 2009 at 10:46 AM, Eric Martin<eric at ericmmartin.com>
> wrote:
> >> I use jQuery on my site and a handful of jquery plugins. I've been
> >> doing quite a bit of thinking about ways to concatenate the scripts
> >> together in order to reduce the number of requests made, while
> >> maintaining the usefulness and features provided by wp_enqueue_script.
> >
> > I'm pretty sure that 2.8 already has this built in. All scripts get
> > concatenated into a single call to load-scripts.php, if everything
> > supports it properly.
> >
>
> Does this happen outside the admin area? I haven't noticed it myself,
> but maybe my scripts calls aren't configured correctly.
>
> S
>
>
> ---
> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> Registered office: 7 Malton Av, Manchester, M21 8AT
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From repost_08 at yahoo.com  Mon Aug  3 18:40:02 2009
From: repost_08 at yahoo.com (RePost)
Date: Mon, 03 Aug 2009 13:40:02 -0500
Subject: [wp-hackers] Does a reliable "Popular Posts" plugin exist?
Message-ID: <4A772F02.7040805@yahoo.com>

I've tested every "popular posts" plugin I can find, but none are 
reliable, as they all record spam comments as legitimate hits. Since 
spam commenters hammer the same few posts, those posts dominate the 
"Most Popular" list.

Statcounter and Google Analytics ignore spam comment hits and I wonder 
why a "Most Popular" plugin can't do the same. Otherwise, you're just 
validating the work of spammers. I can already check their work by 
examining my Akismet stats.

Does a reliable "Popular Posts" plugin exist? Is anybody working on one? 
How complicated would it be to create one?

Thanks.



From photofantaisie at gmail.com  Mon Aug  3 19:20:00 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon, 3 Aug 2009 21:20:00 +0200
Subject: [wp-hackers] WP_Query and multiple pages
Message-ID: <9dd057850908031220r796f897ch4e4620d88490bc57@mail.gmail.com>

Hi all,

If this has been down to death before - apologies in advance. I've googled
for hours and haven't come up with anything definitive on this.

It seems that trying to query several page_id's when using
query_posts/WP_Query doesn't work.

query_posts('page_id=1,2,3,4') doesn't work, and neither does:

query_posts('post__in' => array(5,12,2,14,7)) where the ID's are actually
page_id's.

Is there any way to query a selection of specified Pages? In usual
situations (to display page content) I can see that there isn't much logic
in being able to do this, but I want to access Custom field keys/values for
a selection of Pages for a plugin.

Other than an SQL query (which I'm using temporarily), any ideas gratefully
received! :-)

Thanks.

Ade.

From admin at simply-basic.com  Mon Aug  3 19:32:53 2009
From: admin at simply-basic.com (John Kolbert)
Date: Mon, 3 Aug 2009 14:32:53 -0500
Subject: [wp-hackers] WP_Query and multiple pages
In-Reply-To: <9dd057850908031220r796f897ch4e4620d88490bc57@mail.gmail.com>
References: <9dd057850908031220r796f897ch4e4620d88490bc57@mail.gmail.com>
Message-ID: <60670475-10C4-4D1C-AF6D-5DDA14730A57@simply-basic.com>

Try this:

<?php query_posts(array("post__in" => array(21,2,3,4), 'post_type' =>  
'page')); ?>


On Aug 3, 2009, at 2:20 PM, Ade Walker wrote:

> Hi all,
>
> If this has been down to death before - apologies in advance. I've  
> googled
> for hours and haven't come up with anything definitive on this.
>
> It seems that trying to query several page_id's when using
> query_posts/WP_Query doesn't work.
>
> query_posts('page_id=1,2,3,4') doesn't work, and neither does:
>
> query_posts('post__in' => array(5,12,2,14,7)) where the ID's are  
> actually
> page_id's.
>
> Is there any way to query a selection of specified Pages? In usual
> situations (to display page content) I can see that there isn't much  
> logic
> in being able to do this, but I want to access Custom field keys/ 
> values for
> a selection of Pages for a plugin.
>
> Other than an SQL query (which I'm using temporarily), any ideas  
> gratefully
> received! :-)
>
> Thanks.
>
> Ade.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wp-hackers at itsananderson.com  Mon Aug  3 19:34:57 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Mon, 3 Aug 2009 15:34:57 -0400
Subject: [wp-hackers] WP_Query and multiple pages
In-Reply-To: <9dd057850908031220r796f897ch4e4620d88490bc57@mail.gmail.com>
References: <9dd057850908031220r796f897ch4e4620d88490bc57@mail.gmail.com>
Message-ID: <6dbcd2670908031234k480b8d84n4ffea0983e8b9226@mail.gmail.com>

On Mon, Aug 3, 2009 at 3:20 PM, Ade Walker <photofantaisie at gmail.com> wrote:

> Hi all,
>
> If this has been down to death before - apologies in advance. I've googled
> for hours and haven't come up with anything definitive on this.
>
> It seems that trying to query several page_id's when using
> query_posts/WP_Query doesn't work.
>
> query_posts('page_id=1,2,3,4') doesn't work, and neither does:
>
> query_posts('post__in' => array(5,12,2,14,7)) where the ID's are actually
> page_id's.
>
> Is there any way to query a selection of specified Pages? In usual
> situations (to display page content) I can see that there isn't much logic
> in being able to do this, but I want to access Custom field keys/values for
> a selection of Pages for a plugin.
>
> Other than an SQL query (which I'm using temporarily), any ideas gratefully
> received! :-)
>
> Thanks.
>
> Ade.
>

If you've already got a list of page ID's for which you'd like to get the
post meta, why not just loop through the ID's and call get_post_custom on
them. It will return a key/value associative array of the meta fields. This
should also have a lot less overhead than generating a post object for each
page.

-- 
Will Anderson
http://www.itsananderson.com/

From malaiac at gmail.com  Mon Aug  3 19:36:13 2009
From: malaiac at gmail.com (Malaiac)
Date: Mon, 3 Aug 2009 21:36:13 +0200
Subject: [wp-hackers] Does a reliable "Popular Posts" plugin exist?
In-Reply-To: <4A772F02.7040805@yahoo.com>
References: <4A772F02.7040805@yahoo.com>
Message-ID: <59e7f3130908031236p5d069f90v4b6f5ea76a2a9f1a@mail.gmail.com>

2009/8/3 RePost <repost_08 at yahoo.com>:
> Does a reliable "Popular Posts" plugin exist? Is anybody working on one? How
> complicated would it be to create one?

http://wordpress.org/extend/plugins/stats-reports/
Based on WordPress.com Stats API
(auto promo)

Malaiac

From wp-hackers at itsananderson.com  Mon Aug  3 19:40:19 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Mon, 3 Aug 2009 15:40:19 -0400
Subject: [wp-hackers] WP_Query and multiple pages
In-Reply-To: <6dbcd2670908031234k480b8d84n4ffea0983e8b9226@mail.gmail.com>
References: <9dd057850908031220r796f897ch4e4620d88490bc57@mail.gmail.com>
	<6dbcd2670908031234k480b8d84n4ffea0983e8b9226@mail.gmail.com>
Message-ID: <6dbcd2670908031240m2a9b77a2h483a98d8dac8873e@mail.gmail.com>

If you've already got a list of page ID's for which you'd like to get the
> post meta, why not just loop through the ID's and call get_post_custom on
> them. It will return a key/value associative array of the meta fields. This
> should also have a lot less overhead than generating a post object for each
> page.
>

I forgot to mention, the array that's returned is a little funky because
there can be multiple custom field values. Check out the Codex page for more
info.

http://codex.wordpress.org/Function_Reference/get_post_custom

It's basically going to be of the form:

Array(
'key1' => Array(
                      0 => 'value1',
                      1 => 'value2'
                      ),
'key2' => Array(
                      0 => 'value1'
                      )
)

-- 
Will Anderson
http://www.itsananderson.com/

From liste at srpski.biz  Mon Aug  3 19:48:28 2009
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Mon, 3 Aug 2009 21:48:28 +0200
Subject: [wp-hackers] Does a reliable "Popular Posts" plugin exist?
In-Reply-To: <59e7f3130908031236p5d069f90v4b6f5ea76a2a9f1a@mail.gmail.com>
References: <4A772F02.7040805@yahoo.com>
	<59e7f3130908031236p5d069f90v4b6f5ea76a2a9f1a@mail.gmail.com>
Message-ID: <9b6c20460908031248v647c63bbkde0695784370c08b@mail.gmail.com>

Hey Malaiac, I just wanted to write a comment on your blog about this, but
I'll write it here since it have something with description "reliable" :)

I tried your plugin on WP 2.7.1 and whatever code I use in template, I
didn't get anything on rendered page.

Any comments on this?


2009/8/3, Malaiac <malaiac at gmail.com>:
>
> 2009/8/3 RePost <repost_08 at yahoo.com>:
> > Does a reliable "Popular Posts" plugin exist? Is anybody working on one?
> How
> > complicated would it be to create one?
>
> http://wordpress.org/extend/plugins/stats-reports/
> Based on WordPress.com Stats API
> (auto promo)
>
> Malaiac
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From photofantaisie at gmail.com  Mon Aug  3 19:54:15 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon, 3 Aug 2009 21:54:15 +0200
Subject: [wp-hackers] WP_Query and multiple pages
In-Reply-To: <60670475-10C4-4D1C-AF6D-5DDA14730A57@simply-basic.com>
References: <9dd057850908031220r796f897ch4e4620d88490bc57@mail.gmail.com>
	<60670475-10C4-4D1C-AF6D-5DDA14730A57@simply-basic.com>
Message-ID: <9dd057850908031254l5dd8b601if3a7a08d142d8f9b@mail.gmail.com>

Thanks John, I'll try this out.

2009/8/3 John Kolbert <admin at simply-basic.com>

> Try this:
>
> <?php query_posts(array("post__in" => array(21,2,3,4), 'post_type' =>
> 'page')); ?>
>
>

From photofantaisie at gmail.com  Mon Aug  3 20:05:53 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Mon, 3 Aug 2009 22:05:53 +0200
Subject: [wp-hackers] WP_Query and multiple pages
In-Reply-To: <6dbcd2670908031240m2a9b77a2h483a98d8dac8873e@mail.gmail.com>
References: <9dd057850908031220r796f897ch4e4620d88490bc57@mail.gmail.com>
	<6dbcd2670908031234k480b8d84n4ffea0983e8b9226@mail.gmail.com>
	<6dbcd2670908031240m2a9b77a2h483a98d8dac8873e@mail.gmail.com>
Message-ID: <9dd057850908031305o6eeda162y1ec8889cd548e963@mail.gmail.com>

Will,

Thanks for the suggestion. Yes, I have the Page ID's available, and I
already thought of using get_post_custom. I think I'll dig a little deeper
into this and see if this will work for me. Apart from the post title, which
I can get with get_the_title(), I only need custom field data for these
Pages, therefore avoiding the overhead of a post object would be ideal.

2009/8/3 Will Anderson <wp-hackers at itsananderson.com>

> If you've already got a list of page ID's for which you'd like to get the
> > post meta, why not just loop through the ID's and call get_post_custom on
> > them. It will return a key/value associative array of the meta fields.
> This
> > should also have a lot less overhead than generating a post object for
> each
> > page.
> >
>
> I forgot to mention, the array that's returned is a little funky because
> there can be multiple custom field values. Check out the Codex page for
> more
> info.
>
> http://codex.wordpress.org/Function_Reference/get_post_custom
>
> It's basically going to be of the form:
>
> Array(
> 'key1' => Array(
>                      0 => 'value1',
>                      1 => 'value2'
>                      ),
> 'key2' => Array(
>                      0 => 'value1'
>                      )
> )
>
> --
> Will Anderson
> http://www.itsananderson.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From repost_08 at yahoo.com  Mon Aug  3 21:52:09 2009
From: repost_08 at yahoo.com (RePost)
Date: Mon, 03 Aug 2009 16:52:09 -0500
Subject: [wp-hackers] Does a reliable "Popular Posts" plugin exist?
In-Reply-To: <59e7f3130908031236p5d069f90v4b6f5ea76a2a9f1a@mail.gmail.com>
References: <4A772F02.7040805@yahoo.com>
	<59e7f3130908031236p5d069f90v4b6f5ea76a2a9f1a@mail.gmail.com>
Message-ID: <4A775C09.4020606@yahoo.com>

Malaiac wrote:
> 2009/8/3 RePost <repost_08 at yahoo.com>:
>   
>> Does a reliable "Popular Posts" plugin exist? Is anybody working on one? How
>> complicated would it be to create one?
>>     
>
> http://wordpress.org/extend/plugins/stats-reports/
> Based on WordPress.com Stats API
> (auto promo)
>
>   

Nice plugin, Malaiac, but documentation is light, to say the least.

The only parameter I can get to work is 'limit='. How do I remove the 
title; set the plugin so it does not show total views; and show posts 
only, and not pages? I tried 'show title=0', but again, this didn't work.

Here are the parameters as you show them in the docs. Can you provide 
further explanation? Also, what do you mean by "cache duration"?

--------------------------
Default parameters:
limit=5&echo=1&show_title=1&show_description=0&title_li=<depending on 
function 
called>&title_before=<h2>&title_after=</h2>&class=most_<table>&show_count=1
where <table> is one of [postviews,clicks,referrers,searchterms]
--------------------------

Thanks.


From steph at sillybean.net  Mon Aug  3 23:48:24 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Mon, 3 Aug 2009 18:48:24 -0500
Subject: [wp-hackers] widget select field problems?
Message-ID: <DA5C1C56-6B1E-4478-8469-A698B4B86D6C@sillybean.net>

Anyone else noticing problems with select boxes in widgets? After I  
save changes, my options are displayed as text rather than option  
fields, like so:
http://sillybean.net/downloads/widget-before-after.png

The values are stored correctly, but you can't make any further  
changes without reloading the widget admin page. Select boxes  
generated by WP functions (like wp_dropdown_categories or  
wp_dropdown_pages) don't seem to be affected, but hand-coded ones are  
-- although I can't see a difference in their HTML structures.

Observed in 2.8.2 and 2.8.3 in my plugins and others'... and I don't  
see a bug on it in Trac. Am I going nuts, or is this a bug?


Stephanie Leary
sillybean.net

From jordi at jcanals.net  Tue Aug  4 00:31:28 2009
From: jordi at jcanals.net (Jordi Canals)
Date: Tue, 4 Aug 2009 02:31:28 +0200
Subject: [wp-hackers] widget select field problems?
In-Reply-To: <DA5C1C56-6B1E-4478-8469-A698B4B86D6C@sillybean.net>
References: <DA5C1C56-6B1E-4478-8469-A698B4B86D6C@sillybean.net>
Message-ID: <eccf48430908031731x6c28bc31w59319d2e0e4b500e@mail.gmail.com>

The old widget functions to register/unregister widgets and the way widgets
are managed, have changed in 2.8. The old functions are now deprecated and
the recommended way to manage widgets is by using the new WP_Widget class. I
moved all my widgets to the new class, and it makes easiest to write new
widgets, make them multi-instance, and works really fine.

The only problem with the drop-downs, is that the field name and field id
are different in widget control and the drop-down functions make it the
same. I had to make my categories select by hand just because of that.

Regards,
---
Jordi Canals
http://alkivia.org

2009/8/4 Stephanie Leary <steph at sillybean.net>

> Anyone else noticing problems with select boxes in widgets? After I save
> changes, my options are displayed as text rather than option fields, like
> so:
> http://sillybean.net/downloads/widget-before-after.png
>
> The values are stored correctly, but you can't make any further changes
> without reloading the widget admin page. Select boxes generated by WP
> functions (like wp_dropdown_categories or wp_dropdown_pages) don't seem to
> be affected, but hand-coded ones are -- although I can't see a difference in
> their HTML structures.
>
> Observed in 2.8.2 and 2.8.3 in my plugins and others'... and I don't see a
> bug on it in Trac. Am I going nuts, or is this a bug?
>
>
> Stephanie Leary
> sillybean.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From steph at sillybean.net  Tue Aug  4 01:39:36 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Mon, 3 Aug 2009 20:39:36 -0500
Subject: [wp-hackers] widget select field problems?
In-Reply-To: <eccf48430908031731x6c28bc31w59319d2e0e4b500e@mail.gmail.com>
References: <DA5C1C56-6B1E-4478-8469-A698B4B86D6C@sillybean.net>
	<eccf48430908031731x6c28bc31w59319d2e0e4b500e@mail.gmail.com>
Message-ID: <916F133C-A30C-4E5E-BA2D-55DD6238DED2@sillybean.net>

On Aug 3, 2009, at 7:31 PM, Jordi Canals wrote:
> The only problem with the drop-downs, is that the field name and  
> field id
> are different in widget control and the drop-down functions make it  
> the
> same. I had to make my categories select by hand just because of that.

The dropdown functions allow you to specify the field name, so they  
work great under 2.8:
wp_dropdown_categories(array('name' => $this->get_field_name('cat'),  
'hierarchical'=>1, 'selected'=>$instance['cat']));

I think my problem has more to do with jQuery, since the hand-coded  
dropdowns display correctly when refreshing the page but not when  
saving the widget options.


Stephanie Leary
sillybean.net

From admin at laptoptips.ca  Tue Aug  4 02:05:24 2009
From: admin at laptoptips.ca (Andrew Ozz)
Date: Mon, 03 Aug 2009 19:05:24 -0700
Subject: [wp-hackers] widget select field problems?
In-Reply-To: <916F133C-A30C-4E5E-BA2D-55DD6238DED2@sillybean.net>
References: <DA5C1C56-6B1E-4478-8469-A698B4B86D6C@sillybean.net>	<eccf48430908031731x6c28bc31w59319d2e0e4b500e@mail.gmail.com>
	<916F133C-A30C-4E5E-BA2D-55DD6238DED2@sillybean.net>
Message-ID: <4A779764.3050702@laptoptips.ca>

Stephanie Leary wrote:
> I think my problem has more to do with jQuery, since the hand-coded 
> dropdowns display correctly when refreshing the page but not when saving 
> the widget options.

Each widget is reloaded after saving. If you look in the ajax return 
(easily done in Firebug), does the html look ok?

There's also a js function to remove the for=".." attribute from all 
labels that have nested form elements like these:
<label for="baz"><input id="baz" ... /></label> since they are not 
needed there and seem to trigger a bug in sortable.js where nothing in 
the widget can be selected. Don't think that interferes with the selects.

From steph at sillybean.net  Tue Aug  4 02:19:19 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Mon, 3 Aug 2009 21:19:19 -0500
Subject: [wp-hackers] widget select field problems?
In-Reply-To: <4A779764.3050702@laptoptips.ca>
References: <DA5C1C56-6B1E-4478-8469-A698B4B86D6C@sillybean.net>	<eccf48430908031731x6c28bc31w59319d2e0e4b500e@mail.gmail.com>
	<916F133C-A30C-4E5E-BA2D-55DD6238DED2@sillybean.net>
	<4A779764.3050702@laptoptips.ca>
Message-ID: <2EF0668B-8B65-40BA-90F6-7E6DA8555D65@sillybean.net>

On Aug 3, 2009, at 9:05 PM, Andrew Ozz wrote:
> Each widget is reloaded after saving. If you look in the ajax return  
> (easily done in Firebug), does the html look ok?

Yes. Here's the return:
<p><label for="widget-randompostsfromcategory-3-content">Display:</ 
label>
<select id="widget-randompostsfromcategory-3-content" name="widget- 
randompostsfromcategory[3][content]" />
    <option value="title" >Title Only</option>
    <option value="excerpt"  selected="selected" >Title and Excerpt</ 
option>
    <option value="content" >Title and Content</option>
</select></p>
Here's what actually shows up:

<p><label for="widget-randompostsfromcategory-3-content">Display:</ 
label>
			<select name="widget-randompostsfromcategory[3][content]"  
id="widget-randompostsfromcategory-3-content"/>
                 Title Only
                 Title and Excerpt
                 Title and Content
             </p>

(I hadn't noticed until just now that the </select> tag is missing as  
well as the <option>s. How bizarre!)

> There's also a js function to remove the for=".." attribute from all  
> labels that have nested form elements like these:
> <label for="baz"><input id="baz" ... /></label> since they are not  
> needed there and seem to trigger a bug in sortable.js where nothing  
> in the widget can be selected. Don't think that interferes with the  
> selects.

Interesting! Not an issue here, though.

Want me to file this as a bug?


Stephanie Leary
sillybean.net


From admin at laptoptips.ca  Tue Aug  4 03:13:05 2009
From: admin at laptoptips.ca (Andrew Ozz)
Date: Mon, 03 Aug 2009 20:13:05 -0700
Subject: [wp-hackers] widget select field problems?
In-Reply-To: <2EF0668B-8B65-40BA-90F6-7E6DA8555D65@sillybean.net>
References: <DA5C1C56-6B1E-4478-8469-A698B4B86D6C@sillybean.net>	<eccf48430908031731x6c28bc31w59319d2e0e4b500e@mail.gmail.com>	<916F133C-A30C-4E5E-BA2D-55DD6238DED2@sillybean.net>	<4A779764.3050702@laptoptips.ca>
	<2EF0668B-8B65-40BA-90F6-7E6DA8555D65@sillybean.net>
Message-ID: <4A77A741.1070305@laptoptips.ca>

Stephanie Leary wrote:
> (I hadn't noticed until just now that the </select> tag is missing as 
> well as the <option>s. How bizarre!)

Yes, looks like something is stripping all html tags after the <select 
.. >. Don't see any js in WordPress that would do this.

It still may be worth it disabling some of the js that runs after the 
ajax loading of the html for a saved widget, like addEvents() or 
fixLabels(), to see if it makes any difference. You can set 
`define('SCRIPT_DEBUG', true);` in wp-config to load the dev. versions 
of the default js.

From bruno.in.dk at gmail.com  Tue Aug  4 07:02:18 2009
From: bruno.in.dk at gmail.com (Bruno Alexandre)
Date: Tue, 4 Aug 2009 09:02:18 +0200
Subject: [wp-hackers] Hooks, Actions, Filters
In-Reply-To: <6dbcd2670907310636k6e30c5ax189926594af49aa@mail.gmail.com>
References: <aa12c8990907282338y168194far850e3c5b60c2a34c@mail.gmail.com>
	<1248915286.9476.0.camel@rillian.narnia.sunriseroad.net>
	<aa12c8990907292250h4db8aed5wb08511d26f8284c9@mail.gmail.com>
	<aa12c8990907292250v63b36feap3d032dc94604e56c@mail.gmail.com>
	<e1202cb10907300804q7740c949g84a318f30a4ed30c@mail.gmail.com>
	<6dbcd2670907300916p776a0ecat4230a19be45289cc@mail.gmail.com>
	<349fe48b0907310437q319ad18fld814a742bce1a8bd@mail.gmail.com>
	<1249046983.4710.2.camel@rillian.narnia.sunriseroad.net>
	<6dbcd2670907310636k6e30c5ax189926594af49aa@mail.gmail.com>
Message-ID: <aa12c8990908040002h1e4520cx19731a5787c19213@mail.gmail.com>

Thank you all guys,
Not that I could make this work but the best part is that I did understand
the worflow of it!

You're the best!

Bruno Alexandre
[web] www.balexandre.com
[twitter] http://twitter.com/balexandre


Mike Ditka <http://www.brainyquote.com/quotes/authors/m/mike_ditka.html>  -
"If God had wanted man to play soccer, he wouldn't have given us arms."

From thenbrent at gmail.com  Tue Aug  4 19:31:00 2009
From: thenbrent at gmail.com (Brent)
Date: Tue, 4 Aug 2009 21:31:00 +0200
Subject: [wp-hackers] WPMU VHOST constant
Message-ID: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>

Hello all,

For those familiar with WPMU, is using the VHOST constant the best way to
determine if a WPMU installation is using sub-domains for blog addresses?

For example:
if(constant("VHOST") == 'yes')
    //do something for when blog addresses use sub-domains
else
    //do something for when blog addresses use
sub-directories<http://codex.wordpress.org/WPMU%27s_VHOST_Constant>

I'm writing a plugin that needs to know if the installation is using
sub-domains or sub-folders. I couldn't find a function or database entry to
get this setting. Eventually, I copied the method used within core WPMU
files, which is to use VHOST.

Thanks in advance for any advice. :)

Brent

From wp-hackers at itsananderson.com  Tue Aug  4 19:50:39 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Tue, 4 Aug 2009 15:50:39 -0400
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>
Message-ID: <6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>

On Tue, Aug 4, 2009 at 3:31 PM, Brent <thenbrent at gmail.com> wrote:

> Hello all,
>
> For those familiar with WPMU, is using the VHOST constant the best way to
> determine if a WPMU installation is using sub-domains for blog addresses?
>
> For example:
> if(constant("VHOST") == 'yes')
>    //do something for when blog addresses use sub-domains
> else
>    //do something for when blog addresses use
> sub-directories<http://codex.wordpress.org/WPMU%27s_VHOST_Constant>
>
> I'm writing a plugin that needs to know if the installation is using
> sub-domains or sub-folders. I couldn't find a function or database entry to
> get this setting. Eventually, I copied the method used within core WPMU
> files, which is to use VHOST.
>
> Thanks in advance for any advice. :)
>
> Brent
>

Unfortunately I'm not terribly familiar with WPMU, but I can tell you from a
PHP perspective that the code you posted won't work. The constant should
already be defined in wp-config.php (from what I understand) so you
shouldn't try defining it again (which is what the "constant" function
does). Instead, do something like this...

if(defined('VHOST') && 'yes' == VHOST)
  // do something for when blog addresses use sub-domains
else
  //do something for when blog addresses use sub-directories

As with many of my code snippets that I post on here, this is untested, and
YMMV, but if I understand how the VHOST constant works in WordPress MU (my
knowledge is admittedly limited to 20 minutes of Google searching), this
should be what you need.

-- 
Will Anderson
http://www.itsananderson.com/

From beau at dentedreality.com.au  Tue Aug  4 19:54:14 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Tue, 4 Aug 2009 12:54:14 -0700
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>
	<6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>
Message-ID: <902424490908041254g7c1e38b1ha4882b5252da9a57@mail.gmail.com>

Taking into consideration Will's response (although I believe VHOST is
always defined in WPMU), yes, I believe that is the accepted way of
determining what installation configuration you're running on.

Beau

From otto at ottodestruct.com  Tue Aug  4 20:18:09 2009
From: otto at ottodestruct.com (Otto)
Date: Tue, 4 Aug 2009 15:18:09 -0500
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com> 
	<6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>
Message-ID: <161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>

On Tue, Aug 4, 2009 at 2:50 PM, Will
Anderson<wp-hackers at itsananderson.com> wrote:
> Unfortunately I'm not terribly familiar with WPMU, but I can tell you from a
> PHP perspective that the code you posted won't work. The constant should
> already be defined in wp-config.php (from what I understand) so you
> shouldn't try defining it again (which is what the "constant" function
> does). Instead, do something like this...

No, the constant function returns the value, so checking for
(constant("VHOST") == 'yes') is perfectly acceptable.

http://www.php.net/manual/en/function.constant.php

"constant ? Returns the value of a constant"

-Otto
Sent from Memphis, TN, United States

From wp-hackers at itsananderson.com  Tue Aug  4 20:39:54 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Tue, 4 Aug 2009 16:39:54 -0400
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>
	<6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>
	<161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>
Message-ID: <6dbcd2670908041339p6258fb49re6c453781c74c9ae@mail.gmail.com>

On Tue, Aug 4, 2009 at 4:18 PM, Otto <otto at ottodestruct.com> wrote:

> No, the constant function returns the value, so checking for
> (constant("VHOST") == 'yes') is perfectly acceptable.
>
> http://www.php.net/manual/en/function.constant.php
>
> "constant ? Returns the value of a constant"
>
> -Otto
> Sent from Memphis, TN, United States


Ahh, you're right. Had a momentary brain fart and was thinking of "define".
I'd still probably just reference the constant directly because it's most
likely a little more efficient, but the difference, if existent, is slim, so
I think either way's fine.

On the other hand, I really would argue that it's worth the extra bit of
code to check that VHOST is defined. A plugin that needs to worry about
sub-domains versus sub-directories probably won't run well on a
WordPress.org install, but all the same, it could help avoid a warning if
VHOST isn't defined (as would be the case in a WP.org site). It's also a
core PHP lookup, so it will create a negligible performance hit to run the
check.

-- 
Will Anderson
http://www.itsananderson.com/

From thenbrent at gmail.com  Tue Aug  4 20:35:22 2009
From: thenbrent at gmail.com (Brent)
Date: Tue, 4 Aug 2009 22:35:22 +0200
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>
	<6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>
	<161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>
Message-ID: <fcb68e7c0908041335p7a8ea8bfue5b434d268c615c9@mail.gmail.com>

Thanks for the quick responses.

Otto, I was a little confused about the constant function not being OK,
especially having read the php manual entry on it, so thanks for confirming
it's OK.

Will, thanks for reminding me I should be checking that VHOST is defined
before trying to get its value.

Beau, thanks for letting me know this is the acceptable method. :)


On Tue, Aug 4, 2009 at 10:18 PM, Otto
<otto at ottodestruct.com> wrote:

> On Tue, Aug 4, 2009 at 2:50 PM, Will
> Anderson<wp-hackers at itsananderson.com> wrote:
> > Unfortunately I'm not terribly familiar with WPMU, but I can tell you
> from a
> > PHP perspective that the code you posted won't work. The constant should
> > already be defined in wp-config.php (from what I understand) so you
> > shouldn't try defining it again (which is what the "constant" function
> > does). Instead, do something like this...
>
> No, the constant function returns the value, so checking for
> (constant("VHOST") == 'yes') is perfectly acceptable.
>
> http://www.php.net/manual/en/function.constant.php
>
> "constant ? Returns the value of a constant"
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Tue Aug  4 21:20:14 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Tue, 4 Aug 2009 22:20:14 +0100
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
Message-ID: <0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>


On 27 Jul 2009, at 17:47, Mike Schinkel wrote:

>> Why so large? I was thinking CHAR(20) at most.
>
> Take a look at wp_postmeta and wp_usermeta; meta_key is  
> VARCHAR(255).  I presumed the same for this.
>
> Even so, ENUM is still a lot more efficient and it provides nice  
> "documentation in code" for what types are valid.
>

Please don't use ENUM as it is a mysqlism

We switched away from it [1] to make our DB schema more portable and  
to make it easier for people to write alternative database classes.

[1] http://core.trac.wordpress.org/ticket/4778

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From mikeschinkel at newclarity.net  Tue Aug  4 22:06:26 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Tue, 4 Aug 2009 18:06:26 -0400
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
Message-ID: <13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>

On Aug 4, 2009, at 5:20 PM, Peter Westwood wrote:
> On 27 Jul 2009, at 17:47, Mike Schinkel wrote:
>>> Why so large? I was thinking CHAR(20) at most.
>> Take a look at wp_postmeta and wp_usermeta; meta_key is  
>> VARCHAR(255).  I presumed the same for this.
>> Even so, ENUM is still a lot more efficient and it provides nice  
>> "documentation in code" for what types are valid.
>
> Please don't use ENUM as it is a mysqlism
> We switched away from it [1] to make our DB schema more portable and  
> to make it easier for people to write alternative database classes.
> [1] http://core.trac.wordpress.org/ticket/4778

Note that Otto said it was a very bad idea, but was overruled by  
Matt.  Unfortunately VARCHAR is a poor choice for an index key on any  
SQL database.

I must ask, is database portability for WordPress ever a reasonable  
and realistic goal?  I think we may be kidding ourselves if we think  
so, and worse I think adding database portability would bloat  
WordPress core significantly and make it much harder to make  
conforming plugins.

Ideally I'd like to see us give up on the (false?) hope of database  
portability and return to ENUMs. Failing that, a portable alternate  
would be to move from VARCHAR(20) to SMALLINT(2) with a table that  
defines the keys. That would make a big difference in scalability as  
the number of rows increase and additional metadata is added.

I've added a ticket into track for discussion: http://core.trac.wordpress.org/ticket/10546

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/










From james at om4.com.au  Wed Aug  5 02:18:24 2009
From: james at om4.com.au (James Collins)
Date: Wed, 5 Aug 2009 12:18:24 +1000
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <fcb68e7c0908041335p7a8ea8bfue5b434d268c615c9@mail.gmail.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>
	<6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>
	<161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>
	<fcb68e7c0908041335p7a8ea8bfue5b434d268c615c9@mail.gmail.com>
Message-ID: <bcf8d3150908041918v2958a0d7h8467918c6b40bb36@mail.gmail.com>

Hi Brent,
I agree with Beau.

Your method is the correct way to do this. There's plenty of examples in
WPMU's codebase (eg
http://trac.mu.wordpress.org/browser/trunk/wpmu-settings.php#L68) where it
is done the exact same way.

I personally think there should be a simple function added to WPMU for this
(eg wpmu_is_vhost_install() which returns a boolean).  It would be simpler
and cleaner than referring to the VHOST constant all over the place.

Regards,

James Collins

OM4 - Website Design and Development
OM4.com.au | OM4Tourism.com



2009/8/5 Brent <thenbrent at gmail.com>

> Thanks for the quick responses.
>
> Otto, I was a little confused about the constant function not being OK,
> especially having read the php manual entry on it, so thanks for confirming
> it's OK.
>
> Will, thanks for reminding me I should be checking that VHOST is defined
> before trying to get its value.
>
> Beau, thanks for letting me know this is the acceptable method. :)
>
>
> On Tue, Aug 4, 2009 at 10:18 PM, Otto
> <otto at ottodestruct.com> wrote:
>
> > On Tue, Aug 4, 2009 at 2:50 PM, Will
> > Anderson<wp-hackers at itsananderson.com> wrote:
> > > Unfortunately I'm not terribly familiar with WPMU, but I can tell you
> > from a
> > > PHP perspective that the code you posted won't work. The constant
> should
> > > already be defined in wp-config.php (from what I understand) so you
> > > shouldn't try defining it again (which is what the "constant" function
> > > does). Instead, do something like this...
> >
> > No, the constant function returns the value, so checking for
> > (constant("VHOST") == 'yes') is perfectly acceptable.
> >
> > http://www.php.net/manual/en/function.constant.php
> >
> > "constant ? Returns the value of a constant"
> >
> > -Otto
> > Sent from Memphis, TN, United States
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From casey.bisson at gmail.com  Wed Aug  5 02:25:30 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Tue, 4 Aug 2009 22:25:30 -0400
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <bcf8d3150908041918v2958a0d7h8467918c6b40bb36@mail.gmail.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>
	<6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>
	<161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>
	<fcb68e7c0908041335p7a8ea8bfue5b434d268c615c9@mail.gmail.com>
	<bcf8d3150908041918v2958a0d7h8467918c6b40bb36@mail.gmail.com>
Message-ID: <6361632E-1767-4D64-8FF4-F50C6C5ADD62@gmail.com>


There are a few examples where WPMU uses a global var or constant  
while wordpress.org would have offered a function as you suggest.

As the WPMU and WP.org codebases and functionality get merged, I'd  
expect that things like that will get fixed up.*

* kicks self for not having yet offered any patches to help with that.


On Aug 4, 2009, at 10:18 PM, James Collins wrote:

> I personally think there should be a simple function added to WPMU  
> for this
> (eg wpmu_is_vhost_install() which returns a boolean).  It would be  
> simpler
> and cleaner than referring to the VHOST constant all over the place.


From ozh at planetozh.com  Wed Aug  5 08:38:14 2009
From: ozh at planetozh.com (Ozh)
Date: Wed, 5 Aug 2009 10:38:14 +0200
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
Message-ID: <ae81acd10908050138w6782c017wccdd4b5eeb290cbc@mail.gmail.com>

On Wed, Aug 5, 2009 at 12:06 AM, Mike
Schinkel<mikeschinkel at newclarity.net> wrote:
> Ideally I'd like to see us give up on the (false?) hope of database
> portability and return to ENUMs. Failing that, a portable alternate would be
> to move from VARCHAR(20) to SMALLINT(2) with a table that defines the keys.
> That would make a big difference in scalability as the number of rows
> increase and additional metadata is added.

To me the main & valid argument against ENUM is that, as stated in the
original ticket [1], it gives much more flexibility to plugins which
can create arbitrary values without modifying core table structure.
Like, I could make a plugin that would deal with new post status like
"ozh" without having to ALTER everything beforehand.

[1] <http://core.trac.wordpress.org/ticket/4778>

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From otto at ottodestruct.com  Wed Aug  5 13:16:06 2009
From: otto at ottodestruct.com (Otto)
Date: Wed, 5 Aug 2009 08:16:06 -0500
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405> 
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
Message-ID: <161617690908050616s1fab7dd8xa0089760ba42e623@mail.gmail.com>

On Tue, Aug 4, 2009 at 5:06 PM, Mike
Schinkel<mikeschinkel at newclarity.net> wrote:
> Note that Otto said it was a very bad idea, but was overruled by Matt.

Yeah. I was wrong. It's way more flexible, and I don't see scaling as
a major issue there.

-Otto

From cclarkson at htcomp.net  Wed Aug  5 15:18:00 2009
From: cclarkson at htcomp.net (Charles K. Clarkson)
Date: Wed, 05 Aug 2009 10:18:00 -0500
Subject: [wp-hackers] Reason for Replacement in the_content()
Message-ID: <4A79A2A8.2060802@htcomp.net>

Hi,

In the the_content() function there is a string replacement after the filter
for ']]>'. Anyone know what it is for? What case is it catching? The only
case I can think of is JavaScript tags, but why do that?

<script type="text/javascript"><!--//--><![CDATA[//><!--
...
//--><!]]></script>


function the_content($more_link_text = null, $stripteaser = 0, $more_file = '') {
     $content = get_the_content($more_link_text, $stripteaser, $more_file);
     $content = apply_filters('the_content', $content);
     $content = str_replace(']]>', ']]&gt;', $content);
     echo $content;
}

TIA,

Charles Clarkson
-- 
Mobile Home Investor
Free Market Advocate
Programmer

I'm not really a smart person. I just play one on the Internet.

Stephenville, TX
http://www.clarksonenergyhomes.com/wordpress/about/
http://twitter.com/CharlesClarkson
+1 (254) 968-8328

From skeltoac at gmail.com  Wed Aug  5 15:21:45 2009
From: skeltoac at gmail.com (Andy Skelton)
Date: Wed, 5 Aug 2009 10:21:45 -0500
Subject: [wp-hackers] Reason for Replacement in the_content()
In-Reply-To: <4A79A2A8.2060802@htcomp.net>
References: <4A79A2A8.2060802@htcomp.net>
Message-ID: <e6ec604d0908050821m73d6d96u607b595839ca6b3b@mail.gmail.com>

> ? ?$content = str_replace(']]>', ']]&gt;', $content);

This is necessary for feeds. CDATA wrappers do not nest. If this
string is in a post and you leave it intact the content's CDATA
wrapper is prematurely closed and the feed becomes invalid XML. You
shouldn't put CDATA wrappers in a post. But at least if you do, the
feed won't break.

Andy

From cclarkson at htcomp.net  Wed Aug  5 15:31:32 2009
From: cclarkson at htcomp.net (Charles K. Clarkson)
Date: Wed, 05 Aug 2009 10:31:32 -0500
Subject: [wp-hackers] Reason for Replacement in the_content()
In-Reply-To: <e6ec604d0908050821m73d6d96u607b595839ca6b3b@mail.gmail.com>
References: <4A79A2A8.2060802@htcomp.net>
	<e6ec604d0908050821m73d6d96u607b595839ca6b3b@mail.gmail.com>
Message-ID: <4A79A5D4.8040808@htcomp.net>

Andy Skelton wrote:
> This is necessary for feeds. CDATA wrappers do not nest. If this
> string is in a post and you leave it intact the content's CDATA
> wrapper is prematurely closed and the feed becomes invalid XML. You
> shouldn't put CDATA wrappers in a post. But at least if you do, the
> feed won't break.

Andy, I have been wondering about this for more than a month.
Searching the internet for ']]>' is less than fruitful :)


Thank you very much,

Charles Clarkson
-- 
Mobile Home Investor
Free Market Advocate
Programmer

I'm not really a smart person. I just play one on the Internet.

Stephenville, TX
http://www.clarksonenergyhomes.com/wordpress/about/
http://twitter.com/CharlesClarkson
+1 (254) 968-8328

From gaarai at gaarai.com  Wed Aug  5 16:11:16 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Wed, 05 Aug 2009 11:11:16 -0500
Subject: [wp-hackers] Reason for Replacement in the_content()
In-Reply-To: <4A79A5D4.8040808@htcomp.net>
References: <4A79A2A8.2060802@htcomp.net>	<e6ec604d0908050821m73d6d96u607b595839ca6b3b@mail.gmail.com>
	<4A79A5D4.8040808@htcomp.net>
Message-ID: <4A79AF24.6020909@gaarai.com>

Truer words are seldom said. I've always wondered why Google doesn't
support "coder search" mode allowing searches for literal strings
including non-alphanumeric characters.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Charles K. Clarkson wrote:
> Searching the internet for ']]>' is less than fruitful :)

From mikeschinkel at newclarity.net  Wed Aug  5 16:13:54 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 5 Aug 2009 12:13:54 -0400
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <ae81acd10908050138w6782c017wccdd4b5eeb290cbc@mail.gmail.com>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
	<ae81acd10908050138w6782c017wccdd4b5eeb290cbc@mail.gmail.com>
Message-ID: <D68D14DA-FD7A-4B8F-9FD9-C73B0E4E9F7C@newclarity.net>

On Aug 5, 2009, at 4:38 AM, Ozh wrote:
> To me the main & valid argument against ENUM is that, as stated in the
> original ticket [1], it gives much more flexibility to plugins which
> can create arbitrary values without modifying core table structure.

"Modifying core table structure" is not of itself an evil, at least  
not that I'm aware of.

> Like, I could make a plugin that would deal with new post status like
> "ozh" without having to ALTER everything beforehand.

If requiring plugin developers to know SQL is a concern it can of  
course be encapsulated into a register_meta() function.

If lockdown of databases is the concern, I understand that a bit  
although I would posit that not supporting table modification will  
become less realistic with the need for custom post types when  
functionality like Pods[1] becomes as common with WordPress  
installations as CCK is for Drupal installations.

And if it's simply a convenience to not need to register_meta('ozh')  
then I would ask if coding that only implies the existence of a new  
type of post status is really a best practice?

That said, the other option I proposed is to create a wp_meta table  
and ignore ENUMs. No comments on that?

On Aug 5, 2009, at 9:16 AM, Otto wrote:
> On Tue, Aug 4, 2009 at 5:06 PM, Mike
> Schinkel<mikeschinkel at newclarity.net> wrote:
>> Note that Otto said it was a very bad idea, but was overruled by  
>> Matt.
> Yeah. I was wrong. It's way more flexible, and I don't see scaling as
> a major issue there.

There has been a lot of pushback in the list related to combining all  
metadata into a single table for performance scalability reasons  
though I don't know if you were one of those doing the pushback on  
that issue or not.  Using ENUM or SMALLINT vs. VARCHAR(20) for keys  
would significantly reduce that concern if not eliminate it.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/

[1] http://pods.uproot.us/




From nb at nikolay.bg  Wed Aug  5 16:19:33 2009
From: nb at nikolay.bg (Nikolay Bachiyski)
Date: Wed, 5 Aug 2009 19:19:33 +0300
Subject: [wp-hackers] Reason for Replacement in the_content()
In-Reply-To: <4A79AF24.6020909@gaarai.com>
References: <4A79A2A8.2060802@htcomp.net>
	<e6ec604d0908050821m73d6d96u607b595839ca6b3b@mail.gmail.com> 
	<4A79A5D4.8040808@htcomp.net> <4A79AF24.6020909@gaarai.com>
Message-ID: <87e663fa0908050919y1b3d5783vaeef2bdf4bef224c@mail.gmail.com>

On Wed, Aug 5, 2009 at 19:11, Chris Jean<gaarai at gaarai.com> wrote:
> Truer words are seldom said. I've always wondered why Google doesn't
> support "coder search" mode allowing searches for literal strings
> including non-alphanumeric characters.
>

Google Code Search is your friend:

http://google.com/codesearch

http://google.com/codesearch?hl=en&sa=N&q=%5D%5D%3E++lang:php&ct=rr&cs_r=lang:php

Happy hacking,
Nikolay.

From gaarai at gaarai.com  Wed Aug  5 16:23:58 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Wed, 05 Aug 2009 11:23:58 -0500
Subject: [wp-hackers] Reason for Replacement in the_content()
In-Reply-To: <87e663fa0908050919y1b3d5783vaeef2bdf4bef224c@mail.gmail.com>
References: <4A79A2A8.2060802@htcomp.net>	<e6ec604d0908050821m73d6d96u607b595839ca6b3b@mail.gmail.com>
	<4A79A5D4.8040808@htcomp.net> <4A79AF24.6020909@gaarai.com>
	<87e663fa0908050919y1b3d5783vaeef2bdf4bef224c@mail.gmail.com>
Message-ID: <4A79B21E.9020708@gaarai.com>

Thanks Nikolay. I'm aware of that. The problem is I don't want to search
public code repositories. I want to search blog posts, security
bulletins, and other standard web documents for specific strings.

Google should just offer it as a standard search ability. Or they could
do it like so many languages and have double quotes for interpreted
strings and single quotes for literals. Now that would be slick.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Nikolay Bachiyski wrote:
> On Wed, Aug 5, 2009 at 19:11, Chris Jean<gaarai at gaarai.com> wrote:
>   
>> Truer words are seldom said. I've always wondered why Google doesn't
>> support "coder search" mode allowing searches for literal strings
>> including non-alphanumeric characters.
>>
>>     
>
> Google Code Search is your friend:
>
> http://google.com/codesearch
>
> http://google.com/codesearch?hl=en&sa=N&q=%5D%5D%3E++lang:php&ct=rr&cs_r=lang:php
>
> Happy hacking,
> Nikolay.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From yahgrp at poplarware.com  Wed Aug  5 16:34:43 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Wed, 05 Aug 2009 09:34:43 -0700
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <D68D14DA-FD7A-4B8F-9FD9-C73B0E4E9F7C@newclarity.net>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>	<ae81acd10908050138w6782c017wccdd4b5eeb290cbc@mail.gmail.com>
	<D68D14DA-FD7A-4B8F-9FD9-C73B0E4E9F7C@newclarity.net>
Message-ID: <4A79B4A3.20401@poplarware.com>

Mike Schinkel wrote:
> On Aug 5, 2009, at 4:38 AM, Ozh wrote:
>> To me the main & valid argument against ENUM is that, as stated in the
>> original ticket [1], it gives much more flexibility to plugins which
>> can create arbitrary values without modifying core table structure.
> 
> "Modifying core table structure" is not of itself an evil, at least not 
> that I'm aware of.

If a plugin alters core tables, it might make updating to a new 
version of WP problematic, because I think the update script will 
revert the DB structure to what WP wants by default.

    --Jennifer


-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming


From spellham at gmail.com  Wed Aug  5 17:29:19 2009
From: spellham at gmail.com (Steve Pellham)
Date: Wed, 5 Aug 2009 12:29:19 -0500
Subject: [wp-hackers] Load Balancing | Media Uploads to Multiple Servers
In-Reply-To: <0DCBD9AC-B83C-4F79-9F5A-19375DD2771E@xentek.net>
References: <b6a9375d0907290700j6a7d5b95v4146b8c3ca7844e9@mail.gmail.com>
	<0DCBD9AC-B83C-4F79-9F5A-19375DD2771E@xentek.net>
Message-ID: <b6a9375d0908051029m69181792o51dad9391c448735@mail.gmail.com>

Thanks for the input Eric...

So what happens when the 'central location' gets cutoff from the world:
massive communication failure, hardware failure, fire, [insert your own
disaster here]?

A central location for the site isn't acceptable if that 'central location'
(I'm guessing you mean some sort of NAS/Network Storage) gets cutoff from
the world.  I'm speaking in terms of separate www/db servers that are
geographically dispersed.  If the 'web heads' both pulled from a central
location (easier to maintain... but...) there is still a single point of
failure.  If our east coast servers go down, the west coast would have
access to all content that had been successfully sync'ed and/or replicated -
both in the respect of replicated mysql (separate servers) and two or more
web servers that are synced as applications are modified and/or content
uploaded.
I fail to see how not replicating data (mysql, application, content data)
across multiple servers prevents a single point of failure.

Thanks, Steve
On Wed, Jul 29, 2009 at 9:49 PM, Eric Marden <wp at xentek.net> wrote:

> On Jul 29, 2009, at 10:00 AM, Steve Pellham wrote:
>
>  Is anyone aware of an existing plugin for the post editor pages and/or
>> media
>> gallery that would push uploaded media (images, video, etc....) to
>> multiple
>> servers in cases where a WP installation is load balanced?
>>
>
> You shouldn't have two copies of your site out there. Pick a central
> location for the entire site and mount the directory from there to both your
> 'Web Heads', which would include your wp-content/uploads folder. I generally
> use the DB Server for this, instead of trying to replicate mysql across both
> full stack LAMP boxes, and have both instances talk to that DB on a private
> IP.
>
> YMMV,
>
> - Eric Marden
> __________________________________
> http://xentek.net/code/wordpress/
>
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From thenbrent at gmail.com  Wed Aug  5 17:56:35 2009
From: thenbrent at gmail.com (Brent)
Date: Wed, 5 Aug 2009 19:56:35 +0200
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <6361632E-1767-4D64-8FF4-F50C6C5ADD62@gmail.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>
	<6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>
	<161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>
	<fcb68e7c0908041335p7a8ea8bfue5b434d268c615c9@mail.gmail.com>
	<bcf8d3150908041918v2958a0d7h8467918c6b40bb36@mail.gmail.com>
	<6361632E-1767-4D64-8FF4-F50C6C5ADD62@gmail.com>
Message-ID: <fcb68e7c0908051056w3a5e79bq10e0725bcb1d0993@mail.gmail.com>

James thanks for also comfirming. I feel much more confident about using it
now. :-)

I did see it used all over the WPMU codebase. I was just surprised there
wasn't a simple function for it, like so much else in wp.org!

I've written up a codex page to describe using the VHOST constant here:
http://codex.wordpress.org/WPMU_VHOST_Constant

Hopefully that'll provide others with the required info to use it with
confidence. At least until the WPMU wp.org merge brings in a nice function.
 ;-)


On Wed, Aug 5, 2009 at 4:25 AM, Casey Bisson <casey.bisson at gmail.com> wrote:

>
> There are a few examples where WPMU uses a global var or constant while
> wordpress.org would have offered a function as you suggest.
>
> As the WPMU and WP.org codebases and functionality get merged, I'd expect
> that things like that will get fixed up.*
>
> * kicks self for not having yet offered any patches to help with that.
>
>
> On Aug 4, 2009, at 10:18 PM, James Collins wrote:
>
>  I personally think there should be a simple function added to WPMU for
>> this
>> (eg wpmu_is_vhost_install() which returns a boolean).  It would be simpler
>> and cleaner than referring to the VHOST constant all over the place.
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From supporto at pixline.net  Wed Aug  5 18:06:28 2009
From: supporto at pixline.net (=?WINDOWS-1252?Q?Pixline_=9B_Paolo_Tresso?=)
Date: Wed, 5 Aug 2009 20:06:28 +0200
Subject: [wp-hackers] Load Balancing | Media Uploads to Multiple Servers
In-Reply-To: <b6a9375d0908051029m69181792o51dad9391c448735@mail.gmail.com>
References: <b6a9375d0907290700j6a7d5b95v4146b8c3ca7844e9@mail.gmail.com>
	<0DCBD9AC-B83C-4F79-9F5A-19375DD2771E@xentek.net>
	<b6a9375d0908051029m69181792o51dad9391c448735@mail.gmail.com>
Message-ID: <4BA85A35-BE35-4277-8EB9-66E18FFB7AFF@pixline.net>

> I fail to see how not replicating data (mysql, application, content  
> data)
> across multiple servers prevents a single point of failure.

+ 1 definitely. you really trust your hardware if you think so.. :-)

For what it's worth, I've succesfully used this setup several times:

- main web server (fine tuned apache, or better lighttpd/nginx if you  
have enough experience)
- at least two servers for static files. you can balance them under a  
subdomain or have more subdomains and switch users according to  
location or whatever
- main db server (for writes) and 2+ replicated for reads. or if  
you're brave enough, consider mysql_proxy.
- backup server to store everything you can (backups are never  
enough). offsite, or with another provider. I've used often rsync.net  
services.

in some heavy traffic environment, we tend to use a pfsense.org box to  
deal with vpn's, load balancing and global firewalls. really powerful,  
and worth a look if it match your needs.

hope it helps
p.


From scribu at gmail.com  Wed Aug  5 18:11:39 2009
From: scribu at gmail.com (scribu)
Date: Wed, 5 Aug 2009 18:11:39 +0000
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <4A79B4A3.20401@poplarware.com>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
	<ae81acd10908050138w6782c017wccdd4b5eeb290cbc@mail.gmail.com>
	<D68D14DA-FD7A-4B8F-9FD9-C73B0E4E9F7C@newclarity.net>
	<4A79B4A3.20401@poplarware.com>
Message-ID: <349fe48b0908051111s49907fd7nb85bbc41251b800a@mail.gmail.com>

Jennifer, I have tested that case and it seems dbDelta is smart enough
to leave enums alone.

Anyway, the register_meta() is already included in my proposed patch
and it would be called on upgrades and plugin activations.

I don't think it would be so unconvenient to use it, given the
performance advantage.

On 8/5/09, Jennifer Hodgdon <yahgrp at poplarware.com> wrote:
> Mike Schinkel wrote:
>> On Aug 5, 2009, at 4:38 AM, Ozh wrote:
>>> To me the main & valid argument against ENUM is that, as stated in the
>>> original ticket [1], it gives much more flexibility to plugins which
>>> can create arbitrary values without modifying core table structure.
>>
>> "Modifying core table structure" is not of itself an evil, at least not
>> that I'm aware of.
>
> If a plugin alters core tables, it might make updating to a new
> version of WP problematic, because I think the update script will
> revert the DB structure to what WP wants by default.
>
>     --Jennifer
>
>
> --
> Jennifer Hodgdon * Poplar ProductivityWare
> www.poplarware.com
> Drupal, WordPress, and custom Web programming
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
http://scribu.net

From aaron at xavisys.com  Wed Aug  5 18:31:48 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Wed, 05 Aug 2009 11:31:48 -0700
Subject: [wp-hackers] Reason for Replacement in the_content()
In-Reply-To: <e6ec604d0908050821m73d6d96u607b595839ca6b3b@mail.gmail.com>
References: <4A79A2A8.2060802@htcomp.net>
	<e6ec604d0908050821m73d6d96u607b595839ca6b3b@mail.gmail.com>
Message-ID: <4A79D014.50705@xavisys.com>

Shouldn't we limit that to running only if is_feed() ?  That was the 
idea of the patch for http://core.trac.wordpress.org/ticket/3670

Whether you change it or not, it seems like the ticket should probably 
be set to "fixed" and noted with the changeset?

Andy Skelton wrote:
>>    $content = str_replace(']]>', ']]&gt;', $content);
>>     
>
> This is necessary for feeds. CDATA wrappers do not nest. If this
> string is in a post and you leave it intact the content's CDATA
> wrapper is prematurely closed and the feed becomes invalid XML. You
> shouldn't put CDATA wrappers in a post. But at least if you do, the
> feed won't break.
>
> Andy
>   


From spellham at gmail.com  Wed Aug  5 18:52:23 2009
From: spellham at gmail.com (Steve Pellham)
Date: Wed, 5 Aug 2009 13:52:23 -0500
Subject: [wp-hackers] Load Balancing | Media Uploads to Multiple Servers
In-Reply-To: <4BA85A35-BE35-4277-8EB9-66E18FFB7AFF@pixline.net>
References: <b6a9375d0907290700j6a7d5b95v4146b8c3ca7844e9@mail.gmail.com>
	<0DCBD9AC-B83C-4F79-9F5A-19375DD2771E@xentek.net>
	<b6a9375d0908051029m69181792o51dad9391c448735@mail.gmail.com>
	<4BA85A35-BE35-4277-8EB9-66E18FFB7AFF@pixline.net>
Message-ID: <b6a9375d0908051152u544f6f38o4357d5330177a7c@mail.gmail.com>

Very similar to what we are implementing... to be a bit more descriptive...
the remote DC can be used for LB (geo/weighted) and act as a complete
failover site in an extreme case where the main data center (comm circuit
redundancy unavailable in our small area) is completely cutoff from the
world (happened this past January!).

########## main datacenter ############
-main web server

-main db master
-- replicated slave0
-- replicated slave1
-- replicated slave2
...etc...


Adding this...
############ remote datacenter ##############
-remote web server (synced to main web server real-time via rsync, csync,
subversion for apps)

- remote master db (slave of  main db master)
-- remote slave0 (slave of remote master db)

Make sense?  Just remembered the Yoast post on using a CDN for content such
as images, etc...  I guess that could be what Eric suggested earlier... that
could be considered, but the same questions still apply: does the CDN being
used have a single?

I know there are no perfect solutions and no such thing as 100% uptime, but
I'm making a best effort.

great info -- SP

2009/8/5 Pixline ? Paolo Tresso <supporto at pixline.net>

> I fail to see how not replicating data (mysql, application, content data)
>> across multiple servers prevents a single point of failure.
>>
>
> + 1 definitely. you really trust your hardware if you think so.. :-)
>
> For what it's worth, I've succesfully used this setup several times:
>
> - main web server (fine tuned apache, or better lighttpd/nginx if you have
> enough experience)
> - at least two servers for static files. you can balance them under a
> subdomain or have more subdomains and switch users according to location or
> whatever
> - main db server (for writes) and 2+ replicated for reads. or if you're
> brave enough, consider mysql_proxy.
> - backup server to store everything you can (backups are never enough).
> offsite, or with another provider. I've used often rsync.net services.
>
> in some heavy traffic environment, we tend to use a pfsense.org box to
> deal with vpn's, load balancing and global firewalls. really powerful, and
> worth a look if it match your needs.
>
> hope it helps
> p.
>
>

From aaron at xavisys.com  Wed Aug  5 19:40:48 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Wed, 05 Aug 2009 12:40:48 -0700
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <6dbcd2670908041339p6258fb49re6c453781c74c9ae@mail.gmail.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>	<6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>	<161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>
	<6dbcd2670908041339p6258fb49re6c453781c74c9ae@mail.gmail.com>
Message-ID: <4A79E040.1030207@xavisys.com>

If you use constant(), you don't need really need to use defined() since 
it returns null if the constant if undefined.  Instead you can just 
suppress the warning, so either of these should work:
if ( @constant('VHOST') == 'yes' ) {}
if ( defined('VHOST') && VHOST == 'yes' ) {}

The only edge case where those would perform differently is if you were 
trying to tell if the constant was not defined vs being defined as null:
//MYCONST purposely not defined
if ( @constant('MYCONST') == null ) {
  //This runs
}
if ( defined('MYCONST') && MYCONST== null ) {
  //This does not run
}



Will Anderson wrote:
> On the other hand, I really would argue that it's worth the extra bit of
> code to check that VHOST is defined. A plugin that needs to worry about
> sub-domains versus sub-directories probably won't run well on a
> WordPress.org install, but all the same, it could help avoid a warning if
> VHOST isn't defined (as would be the case in a WP.org site). It's also a
> core PHP lookup, so it will create a negligible performance hit to run the
> check.
>   


From supporto at pixline.net  Wed Aug  5 19:51:33 2009
From: supporto at pixline.net (=?WINDOWS-1252?Q?Pixline_=9B_Paolo_Tresso?=)
Date: Wed, 5 Aug 2009 21:51:33 +0200
Subject: [wp-hackers] Load Balancing | Media Uploads to Multiple Servers
In-Reply-To: <b6a9375d0908051152u544f6f38o4357d5330177a7c@mail.gmail.com>
References: <b6a9375d0907290700j6a7d5b95v4146b8c3ca7844e9@mail.gmail.com>
	<0DCBD9AC-B83C-4F79-9F5A-19375DD2771E@xentek.net>
	<b6a9375d0908051029m69181792o51dad9391c448735@mail.gmail.com>
	<4BA85A35-BE35-4277-8EB9-66E18FFB7AFF@pixline.net>
	<b6a9375d0908051152u544f6f38o4357d5330177a7c@mail.gmail.com>
Message-ID: <E7B3C3A8-89BF-47C3-9938-7A9EA2C0F67F@pixline.net>


Il giorno 05/ago/09, alle ore 20:52, Steve Pellham ha scritto:

> I know there are no perfect solutions and no such thing as 100%  
> uptime, but
> I'm making a best effort.


btw, we had it, with just that setup, at least for one year :-)
p.

From aram.bv at gmail.com  Wed Aug  5 19:59:50 2009
From: aram.bv at gmail.com (Aram)
Date: Thu, 6 Aug 2009 00:59:50 +0500
Subject: [wp-hackers] need help in plugin writing
Message-ID: <631193760908051259i4b6eb4c5h2423deaf76a5b357@mail.gmail.com>

Hi there! ia have couple of questions..
1) how can i make a plug-in to add his additional optins in the WP's link
editor's advanced tab?
2) when i am adding a new blogroll link the link_updated field in wp_link
table in wordpress database is not updateing, means the date always remains
0000-00-00 00:00:00, what is the problem may it be left from the previous
versions of WP for plug-in compatablity and is unused now? i'm using WP
2.8.3 btw
 any kind of help is appreciated, thanks in advance :)

From wp-hackers at itsananderson.com  Wed Aug  5 20:00:50 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Wed, 5 Aug 2009 16:00:50 -0400
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <4A79E040.1030207@xavisys.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>
	<6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>
	<161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>
	<6dbcd2670908041339p6258fb49re6c453781c74c9ae@mail.gmail.com>
	<4A79E040.1030207@xavisys.com>
Message-ID: <6dbcd2670908051300t6e127f69ve5e6cc406dfa2ce8@mail.gmail.com>

On Wed, Aug 5, 2009 at 3:40 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:

> If you use constant(), you don't need really need to use defined() since it
> returns null if the constant if undefined.  Instead you can just suppress
> the warning, so either of these should work:
> if ( @constant('VHOST') == 'yes' ) {}
> if ( defined('VHOST') && VHOST == 'yes' ) {}
>
> The only edge case where those would perform differently is if you were
> trying to tell if the constant was not defined vs being defined as null:
> //MYCONST purposely not defined
> if ( @constant('MYCONST') == null ) {
>  //This runs
> }
> if ( defined('MYCONST') && MYCONST== null ) {
>  //This does not run
>
> }
>

Isn't error suppression less efficient though? Once again, I'm not sure it
makes a huge difference in code that will only run once per request, but
it's still probably worth considering.

-- 
Will Anderson
http://www.itsananderson.com/

From awgandrews at gmail.com  Wed Aug  5 20:04:49 2009
From: awgandrews at gmail.com (Alex Andrews)
Date: Wed, 5 Aug 2009 21:04:49 +0100
Subject: [wp-hackers] Numerous Notices since upgrade
Message-ID: <e9f3ce460908051304i7bae61f0q37ef71c4612d06f6@mail.gmail.com>

Dear all,

Has Wordpress increased the php error handling with 2.8.3? All of a
sudden I'm getting scores of
Notice: Undefined index: path in xxxxxx on line 479 messages on
multiple plugins. and
Notice: Undefined index: filter in xxxxxx on line 383

Where xxx is the path of the file.

Is there any way to suppress this? They are a bit of a security risk.

All the best

Alex

From matt at sivel.net  Wed Aug  5 20:17:25 2009
From: matt at sivel.net (Matt Martz)
Date: Wed, 5 Aug 2009 16:17:25 -0400
Subject: [wp-hackers] Numerous Notices since upgrade
In-Reply-To: <e9f3ce460908051304i7bae61f0q37ef71c4612d06f6@mail.gmail.com>
References: <e9f3ce460908051304i7bae61f0q37ef71c4612d06f6@mail.gmail.com>
Message-ID: <518fa9630908051317l4ef006bakcfc82955d7991e58@mail.gmail.com>

On Wed, Aug 5, 2009 at 4:04 PM, Alex Andrews<awgandrews at gmail.com> wrote:
> Dear all,
>
> Has Wordpress increased the php error handling with 2.8.3?

It has not changed.  Perhaps there has been a change to your hosting.

> Is there any way to suppress this? They are a bit of a security risk.

add:

ini_set('display_errors', 0);

to your wp-config.php

On "production" sites display_errors should never be on.

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From aaron at xavisys.com  Wed Aug  5 20:25:38 2009
From: aaron at xavisys.com (Aaron D. Campbell)
Date: Wed, 05 Aug 2009 13:25:38 -0700
Subject: [wp-hackers] WPMU VHOST constant
In-Reply-To: <6dbcd2670908051300t6e127f69ve5e6cc406dfa2ce8@mail.gmail.com>
References: <fcb68e7c0908041231n14fac814x6b391da0662b1763@mail.gmail.com>	<6dbcd2670908041250h25384470w6171e74c00e8dfee@mail.gmail.com>	<161617690908041318o2926ea8dq24d39f0aebacb2c9@mail.gmail.com>	<6dbcd2670908041339p6258fb49re6c453781c74c9ae@mail.gmail.com>	<4A79E040.1030207@xavisys.com>
	<6dbcd2670908051300t6e127f69ve5e6cc406dfa2ce8@mail.gmail.com>
Message-ID: <4A79EAC2.8020807@xavisys.com>

I'm not sure on the efficiency of warning/error suppression, and I agree 
that the difference in performance is inconsequential.  I was just 
trying to point out that you don't need constant() AND defined() except 
in the one edge case.  Either constant() with error suppression or 
defined() and use the constant directly.

One other edge case has just hit me though.  If your constant is also a 
reserved keyword such as NULL (define('NULL', 'test')) you can only 
retrieve the value using constant().  Directly using the constant name 
won't work ( if ( NULL == 'test') {/* Never executed*/}).

Anyway, it's really just optimization for the sake of optimization since 
it's such a small difference.

Will Anderson wrote:
> On Wed, Aug 5, 2009 at 3:40 PM, Aaron D. Campbell <aaron at xavisys.com> wrote:
>
>   
>> If you use constant(), you don't need really need to use defined() since it
>> returns null if the constant if undefined.  Instead you can just suppress
>> the warning, so either of these should work:
>> if ( @constant('VHOST') == 'yes' ) {}
>> if ( defined('VHOST') && VHOST == 'yes' ) {}
>>
>> The only edge case where those would perform differently is if you were
>> trying to tell if the constant was not defined vs being defined as null:
>> //MYCONST purposely not defined
>> if ( @constant('MYCONST') == null ) {
>>  //This runs
>> }
>> if ( defined('MYCONST') && MYCONST== null ) {
>>  //This does not run
>>
>> }
>>
>>     
>
> Isn't error suppression less efficient though? Once again, I'm not sure it
> makes a huge difference in code that will only run once per request, but
> it's still probably worth considering.

From matt at sivel.net  Wed Aug  5 20:25:24 2009
From: matt at sivel.net (Matt Martz)
Date: Wed, 5 Aug 2009 16:25:24 -0400
Subject: [wp-hackers] Load Balancing | Media Uploads to Multiple Servers
In-Reply-To: <E7B3C3A8-89BF-47C3-9938-7A9EA2C0F67F@pixline.net>
References: <b6a9375d0907290700j6a7d5b95v4146b8c3ca7844e9@mail.gmail.com> 
	<0DCBD9AC-B83C-4F79-9F5A-19375DD2771E@xentek.net>
	<b6a9375d0908051029m69181792o51dad9391c448735@mail.gmail.com> 
	<4BA85A35-BE35-4277-8EB9-66E18FFB7AFF@pixline.net>
	<b6a9375d0908051152u544f6f38o4357d5330177a7c@mail.gmail.com> 
	<E7B3C3A8-89BF-47C3-9938-7A9EA2C0F67F@pixline.net>
Message-ID: <518fa9630908051325m3f8f68b2i59a04eea1317c7c7@mail.gmail.com>

2009/8/5 Pixline ? Paolo Tresso <supporto at pixline.net>:
>
> Il giorno 05/ago/09, alle ore 20:52, Steve Pellham ha scritto:
>
>> I know there are no perfect solutions and no such thing as 100% uptime,
>> but
>> I'm making a best effort.
>
>
> btw, we had it, with just that setup, at least for one year :-)
> p.

In my opinion if you are setting up wordpress on a geographically
diverse set of servers the best thing to do would be to place
wp-content or even just uploads on a distributed file system, or on a
storage server or set of storage servers with a distributed
filesystem.  Whether the storage servers are NAS or SAN shouldn't
really matter.  I have had very good results with Suns Lustre File
System (http://www.lustre.org).

rsync/csync solutions all have their down falls such as multi
directional syncing.  In the event of timed syncs they can be too long
for certain tasks.  Relying on a inotify or dnotify event also means
that you are relying on a process that is not perfect.

I'll just keep my opinions related to file system and leave DB out of
it for the time being.

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From supporto at pixline.net  Wed Aug  5 21:19:27 2009
From: supporto at pixline.net (=?WINDOWS-1252?Q?Pixline_=9B_Paolo_Tresso?=)
Date: Wed, 5 Aug 2009 23:19:27 +0200
Subject: [wp-hackers] Load Balancing | Media Uploads to Multiple Servers
In-Reply-To: <518fa9630908051325m3f8f68b2i59a04eea1317c7c7@mail.gmail.com>
References: <b6a9375d0907290700j6a7d5b95v4146b8c3ca7844e9@mail.gmail.com>
	<0DCBD9AC-B83C-4F79-9F5A-19375DD2771E@xentek.net>
	<b6a9375d0908051029m69181792o51dad9391c448735@mail.gmail.com>
	<4BA85A35-BE35-4277-8EB9-66E18FFB7AFF@pixline.net>
	<b6a9375d0908051152u544f6f38o4357d5330177a7c@mail.gmail.com>
	<E7B3C3A8-89BF-47C3-9938-7A9EA2C0F67F@pixline.net>
	<518fa9630908051325m3f8f68b2i59a04eea1317c7c7@mail.gmail.com>
Message-ID: <35862703-7696-4872-AF44-CBCFF1C4CDC0@pixline.net>


Il giorno 05/ago/09, alle ore 22:25, Matt Martz ha scritto:

>  I have had very good results with Suns Lustre File
> System (http://www.lustre.org).

wow. never read of this, but smells fine! tnx for the link!
p.

From joseph at josephscott.org  Wed Aug  5 21:23:28 2009
From: joseph at josephscott.org (Joseph Scott)
Date: Wed, 5 Aug 2009 15:23:28 -0600
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
Message-ID: <497E6FC7-2C25-4C3F-8CBE-FEF6DABA372D@josephscott.org>


On Aug 4, 2009, at 3:20 PM, Peter Westwood wrote:

> Please don't use ENUM as it is a mysqlism
>
> We switched away from it [1] to make our DB schema more portable and  
> to make it easier for people to write alternative database classes.


Just wanted to second this.  Please don't use ENUM for this.  I think  
Otto (or Ozh) already pointed out that using ENUMs would reduce the  
flexibility of the meta table dramatically by requiring ALTER TABLE  
just to add a new meta type.

ALTER TABLE in MySQL on large tables will slow the DB server to a  
crawl because it will rebuild the entire table.  Seems there was talk  
of optimizing this case:

	http://forums.mysql.com/read.php?24,4775,4775

I think the flexibility factor is enough to avoid using ENUM.

--
Joseph Scott
joseph at josephscott.org
http://josephscott.org/





From wp-hackers at striderweb.com  Wed Aug  5 21:24:52 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Wed, 5 Aug 2009 16:24:52 -0500
Subject: [wp-hackers] hook init for specific admin page?
Message-ID: <710D4286-6CEF-4623-9CBD-1ECAD40B1213@striderweb.com>

Hi --

A patch I made was just committed (thanks westi). http://core.trac.wordpress.org/ticket/10464

It's park of the Manage Plugins screen, and I hook a function on  
admin_init.  Question:  isn't there an init hook for each specific  
admin page?  Something like admin_init_$page ?  Seems that might be a  
touch more efficient.

I see admin_head-$page_hook, but don't know what the page hook is for  
the plugins page.  Is it just "plugins.php"?

Stephen

From mikeschinkel at newclarity.net  Wed Aug  5 21:31:57 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 5 Aug 2009 17:31:57 -0400
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <497E6FC7-2C25-4C3F-8CBE-FEF6DABA372D@josephscott.org>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<497E6FC7-2C25-4C3F-8CBE-FEF6DABA372D@josephscott.org>
Message-ID: <C0827046-2E50-43DD-B8EC-4228F08E49A7@newclarity.net>

On Aug 5, 2009, at 5:23 PM, Joseph Scott wrote:
> On Aug 4, 2009, at 3:20 PM, Peter Westwood wrote:
>> Please don't use ENUM as it is a mysqlism
>>
>> We switched away from it [1] to make our DB schema more portable  
>> and to make it easier for people to write alternative database  
>> classes.
>
>
> Just wanted to second this.  Please don't use ENUM for this.  I  
> think Otto (or Ozh) already pointed out that using ENUMs would  
> reduce the flexibility of the meta table dramatically by requiring  
> ALTER TABLE just to add a new meta type.
> ALTER TABLE in MySQL on large tables will slow the DB server to a  
> crawl because it will rebuild the entire table.  Seems there was  
> talk of optimizing this case:
>
> 	http://forums.mysql.com/read.php?24,4775,4775
>
> I think the flexibility factor is enough to avoid using ENUM.

Sounds like something that is only needed during a configuration  
change which should be rare and thus not a big issue.  However, I give  
up on that point and won't fight it.

OTOH, I proposed a non ENUM option for those too allergic to ENUM to  
consider it and that is factoring out the string into a linking  
wp_meta table.  Moving forward let's please discuss option #2  
(wp_meta) instead of ignoring it and only talking about why we don't  
like ENUM.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/



From joseph at josephscott.org  Wed Aug  5 22:31:08 2009
From: joseph at josephscott.org (Joseph Scott)
Date: Wed, 5 Aug 2009 16:31:08 -0600
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <C0827046-2E50-43DD-B8EC-4228F08E49A7@newclarity.net>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<497E6FC7-2C25-4C3F-8CBE-FEF6DABA372D@josephscott.org>
	<C0827046-2E50-43DD-B8EC-4228F08E49A7@newclarity.net>
Message-ID: <9BE2FD66-5AFB-429D-9F56-9C4DFFB4E018@josephscott.org>


On Aug 5, 2009, at 3:31 PM, Mike Schinkel wrote:

> Sounds like something that is only needed during a configuration  
> change which should be rare and thus not a big issue.  However, I  
> give up on that point and won't fight it.


Yeah I'd rather not have plugins that register a new meta type force a  
rebuild of the entire meta table.  For large tables that could take  
several hours.


> OTOH, I proposed a non ENUM option for those too allergic to ENUM to  
> consider it and that is factoring out the string into a linking  
> wp_meta table.  Moving forward let's please discuss option #2  
> (wp_meta) instead of ignoring it and only talking about why we don't  
> like ENUM.



I like the idea of being able to get a list of the current meta types  
by querying a very small table.  I would be concerned about the  
potential of the JOIN to kill performance in some cases:

	http://www.mysqlperformanceblog.com/2008/01/24/enum-fields-vs-varchar-vs-int-joined-table-what-is-faster/

Having a good API could take care of this though, by keeping a  
dictionary table that listed all of the current meta types (and  
perhaps some data about them, like where they came from: WP, Plugin,  
Theme, etc.) and still storing the meta type in the meta table  
itself.  This would allow for meta queries without having to join  
against the dictionary table.

--
Joseph Scott
joseph at josephscott.org
http://josephscott.org/





From mikeschinkel at newclarity.net  Wed Aug  5 23:11:50 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Wed, 5 Aug 2009 19:11:50 -0400
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <9BE2FD66-5AFB-429D-9F56-9C4DFFB4E018@josephscott.org>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<497E6FC7-2C25-4C3F-8CBE-FEF6DABA372D@josephscott.org>
	<C0827046-2E50-43DD-B8EC-4228F08E49A7@newclarity.net>
	<9BE2FD66-5AFB-429D-9F56-9C4DFFB4E018@josephscott.org>
Message-ID: <5A6E2B54-1BEE-4808-85BD-E555A016243C@newclarity.net>

On Aug 5, 2009, at 6:31 PM, Joseph Scott wrote:
> I like the idea of being able to get a list of the current meta  
> types by querying a very small table.  I would be concerned about  
> the potential of the JOIN to kill performance in some cases:
>
> 	http://www.mysqlperformanceblog.com/2008/01/24/enum-fields-vs-varchar-vs-int-joined-table-what-is-faster/

 From everything I know about how indexes are created and used, his  
results seem completely counterintuitive.  His use of everything being  
in memory leads me to question real world validity.  But since I don't  
have time to build a valid benchmark and do my own research, I'll  
accept his results as stated.

> Having a good API could take care of this though, by keeping a  
> dictionary table that listed all of the current meta types (and  
> perhaps some data about them, like where they came from: WP, Plugin,  
> Theme, etc.) and still storing the meta type in the meta table  
> itself.  This would allow for meta queries without having to join  
> against the dictionary table.

True.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/




From gaarai at gaarai.com  Wed Aug  5 23:16:27 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Wed, 05 Aug 2009 18:16:27 -0500
Subject: [wp-hackers] hook init for specific admin page?
In-Reply-To: <710D4286-6CEF-4623-9CBD-1ECAD40B1213@striderweb.com>
References: <710D4286-6CEF-4623-9CBD-1ECAD40B1213@striderweb.com>
Message-ID: <4A7A12CB.6050207@gaarai.com>

When a core admin page is loaded, then an action load-filename is fired.
For example, the action load-import.php is fired when the Tools > Import
page (wp-admin/import.php) is loaded.

Things change when you are talking about menu entries added by plugins
are run. To detail out all the actions available and how to work with
them, I built a plugin.

http://new.gaarai.com/action-hook-test.zip

Unzip the file, upload it to wp-content/plugins, and activate the Plugin
Action Hook Test plugin.

On all admin pages, two lines of output will appear above the header
detailing the plugin's menu page ref. Additional output can be seen by
going to Tools > Tools, Tools > Import, or Tools > Action Hook Test.

I know that outputting visible text before and inside the header is
messy, but it makes seeing what is happening and when very easy.

Now that I think about it, I believe your question was much more simple
than I originally thought. If you simply want an action that runs on
plugins.php load, it would be load-plugins.php.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Stephen Rider wrote:
> Hi --
>
> A patch I made was just committed (thanks westi).
> http://core.trac.wordpress.org/ticket/10464
>
> It's park of the Manage Plugins screen, and I hook a function on
> admin_init.  Question:  isn't there an init hook for each specific
> admin page?  Something like admin_init_$page ?  Seems that might be a
> touch more efficient.
>
> I see admin_head-$page_hook, but don't know what the page hook is for
> the plugins page.  Is it just "plugins.php"?
>
> Stephen
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From johnbillion+wp at gmail.com  Thu Aug  6 01:55:06 2009
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Thu, 6 Aug 2009 02:55:06 +0100
Subject: [wp-hackers] OT: Decoding injected scripts
Message-ID: <1fa535a70908051855q488fef5arc1e521dab1d4fa45@mail.gmail.com>

In the last few days two of my clients' sites have been hacked or
somehow otherwise compromised and both have resulted in encoded
scripts being injected into pages on the sites.

Both the attacks were different. One has resulted in some encoded
Javascript wrapped in an eval() statement injected into HTML pages.
The other resulted in some very strange PHP being injected into a PHP
file which looks like it might be partially base encoded.

Does anyone have tips on how I might go about decoding these scripts
to see what they were attempting to do?

John.

From beau at dentedreality.com.au  Thu Aug  6 02:00:10 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Wed, 5 Aug 2009 19:00:10 -0700
Subject: [wp-hackers] OT: Decoding injected scripts
In-Reply-To: <1fa535a70908051855q488fef5arc1e521dab1d4fa45@mail.gmail.com>
References: <1fa535a70908051855q488fef5arc1e521dab1d4fa45@mail.gmail.com>
Message-ID: <902424490908051900i2c7a5785k5f493100cef5f9f0@mail.gmail.com>

The ones I've seen have usually just been base64 encoded (sometimes a
few times).

Usually all it takes is a quick base64_decode() in PHP to see what's in there.


On Wed, Aug 5, 2009 at 6:55 PM, John Blackbourn<johnbillion+wp at gmail.com> wrote:
> In the last few days two of my clients' sites have been hacked or
> somehow otherwise compromised and both have resulted in encoded
> scripts being injected into pages on the sites.
>
> Both the attacks were different. One has resulted in some encoded
> Javascript wrapped in an eval() statement injected into HTML pages.
> The other resulted in some very strange PHP being injected into a PHP
> file which looks like it might be partially base encoded.
>
> Does anyone have tips on how I might go about decoding these scripts
> to see what they were attempting to do?
>
> John.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From casey.bisson at gmail.com  Thu Aug  6 02:41:53 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Wed, 5 Aug 2009 22:41:53 -0400
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
Message-ID: <30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>


Contents[1]:
 > Overview of current arguments
 > The role of indexes
 > Actual use


 >_Overview of Current Arguments_
The argument for ENUMs is that they're (mostly) treated as INTs  
internally, so selects and joins should theoretically be faster.

The argument against ENUMs is that (a) the association between the  
string value that applications are using and the INT value that  
represents it internally is rarely consistent across databases and can  
lead to painful problems. Further, (b) it's a MYSQL only trick.

The argument for VARCHARs is that they're "fast enough for most  
people, most of the time" and the risk of string collisions is about  
the same as the risk of function name collisions (i.e.: safe enough  
for most people, most of the time).

The argument against is that lookups and joins are theoretically  
slower than for INTs or ENUMs.


 >_The Role of Indexes_
However, none of this discussion so far has considered how these  
different types behave when indexed.

Assuming you've got a good index, that you can keep the table open and  
indexes/keys cached, and that you're querying/joining against an  
indexed column, the column type doesn't much matter.

A table with a million rows and six distinct string values for the  
meta_type (or whatever) should have exactly six entries in the index  
for that column. Querying the by meta_type starts at the index, which  
lists all the matching row numbers. MySQL 5 eliminated the prior  
restriction of one index per query, so even complex queries are all  
done as booleans against the indexes.


 >_Actual Use_
And, this discussion hasn't considered that the current post_meta  
table isn't very useful as a tool for querying posts. That's what the  
taxonomy tables are for. It's very difficult (some might say foolish)  
to build a table that's optimized both for mass storage (such as the  
serialized content that often appears in post_meta) _and_ fast  
retrieval (such as identifying all the posts with a matching taxonomy  
value).

WordPress already has a good taxonomy system that's well optimized for  
search and retrieval. And it's extensible to all the data types WP now  
supports. What we don't have is a good place to store arbitrary data  
related to objects other than posts and users. Following that usage  
scenario, the only queries the proposed meta table should be optimized  
for is query by (int) object_id and object_type (where object type in  
post, comment, or user). By the time that the database engine is  
looking at the meta_type, it's already eliminated all but a couple/few  
rows, making arguments about ENUM vs. VARCHAR rather pointless.

[1]: Putting a table of contents in an email is a little ridiculous. I  
guess I'm feeling overly officious at this moment.

--Casey
http://maisonbisson.com/
http://about.scriblio.net/


On Aug 4, 2009, at 6:06 PM, Mike Schinkel wrote:

> On Aug 4, 2009, at 5:20 PM, Peter Westwood wrote:
>> On 27 Jul 2009, at 17:47, Mike Schinkel wrote:
>>>> Why so large? I was thinking CHAR(20) at most.
>>> Take a look at wp_postmeta and wp_usermeta; meta_key is  
>>> VARCHAR(255).  I presumed the same for this.
>>> Even so, ENUM is still a lot more efficient and it provides nice  
>>> "documentation in code" for what types are valid.
>>
>> Please don't use ENUM as it is a mysqlism
>> We switched away from it [1] to make our DB schema more portable  
>> and to make it easier for people to write alternative database  
>> classes.
>> [1] http://core.trac.wordpress.org/ticket/4778
>
> Note that Otto said it was a very bad idea, but was overruled by  
> Matt.  Unfortunately VARCHAR is a poor choice for an index key on  
> any SQL database.
>
> I must ask, is database portability for WordPress ever a reasonable  
> and realistic goal?  I think we may be kidding ourselves if we think  
> so, and worse I think adding database portability would bloat  
> WordPress core significantly and make it much harder to make  
> conforming plugins.
>
> Ideally I'd like to see us give up on the (false?) hope of database  
> portability and return to ENUMs. Failing that, a portable alternate  
> would be to move from VARCHAR(20) to SMALLINT(2) with a table that  
> defines the keys. That would make a big difference in scalability as  
> the number of rows increase and additional metadata is added.
>
> I've added a ticket into track for discussion: http://core.trac.wordpress.org/ticket/10546


From scribu at gmail.com  Thu Aug  6 04:23:37 2009
From: scribu at gmail.com (scribu)
Date: Thu, 6 Aug 2009 04:23:37 +0000
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
	<30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
Message-ID: <349fe48b0908052123p3bafdbc1vb55c809065b45472@mail.gmail.com>

I'll submit another patch that uses varchar instead of enum.

If that patch gets submitted, the next step would be to migrate
usermeta, which will be a little trickier.

Another proposal was moving several rarely used comment columns to wp_meta.

-- 
http://scribu.net

From mikeschinkel at newclarity.net  Thu Aug  6 05:12:11 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 6 Aug 2009 01:12:11 -0400
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
	<30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
Message-ID: <A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net>

On Aug 5, 2009, at 10:41 PM, Casey Bisson wrote:
> Assuming you've got a good index, that you can keep the table open  
> and indexes/keys cached, and that you're querying/joining against an  
> indexed column, the column type doesn't much matter.

Now there you go! I was all ready to let this die and you had to stir  
the pot! :-)

> A table with a million rows and six distinct string values for the  
> meta_type (or whatever) should have exactly six entries in the index  
> for that column. Querying the by meta_type starts at the index,  
> which lists all the matching row numbers.

I'm not 100% sure I'm following you here.  Are you saying that MySQL  
creates a hash for string values in an index when there is only a  
small number of values making string values more efficient than they  
would otherwise be?

If that's not what you meant, I'm curious to understand.  If it is  
what you meant, how do you know?  I see no evidence where (other than  
for in-memory tables): http://dev.mysql.com/doc/refman/5.0/en/create-index.html

And if MySQL does do that, when does it stop hashing distinct string  
values? Or does it ever stop?  Does it just create what is essentially  
a lookup table internally within the index (if it does, it's quite the  
optimization. And if it doesn't, I'm starting to wonder why not...)

> And, this discussion hasn't considered that the current post_meta  
> table isn't very useful as a tool for querying posts. That's what  
> the taxonomy tables are for. It's very difficult (some might say  
> foolish) to build a table that's optimized both for mass storage  
> (such as the serialized content that often appears in post_meta)  
> _and_ fast retrieval (such as identifying all the posts with a  
> matching taxonomy value). WordPress already has a good taxonomy  
> system that's well optimized for search and retrieval. And it's  
> extensible to all the data types WP now supports.

Are you saying that meta is not needed because of the taxonomy  
system?  If yes, that's ironic because some of what I'm doing lately  
really has me lamenting that limits of the taxonomy systems.

Meta is used for attributes and values. Name/value pairs in other  
words.  Taxonomy is used for classification.  But wait; what is  
classification? Is it not simply attributes with a value of "Yes",  
"No", or "Unknown?"

Of course it is.  Everything boils down to attributes as name/value  
pairs where the classification is also an attribute with potential  
values of Yes/No/Unknown.  I believe even Tim Bray now agrees[1].

So IMO the taxonomy system, while a good start, has a long way to go  
before it can fully usable to replace metadata.

> By the time that the database engine is looking at the meta_type,  
> it's already eliminated all but a couple/few rows, making arguments  
> about ENUM vs. VARCHAR rather pointless.

Back to this. Educate me please. Explain to me how the database engine  
has already eliminated all but a couple/few rows. Honestly, I hope to  
find out you have a point but I'm very skeptical.


-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/

[1] http://www.tbray.org/ongoing/When/200x/2009/01/29/Name-Value-Pairs





From scribu at gmail.com  Thu Aug  6 12:00:33 2009
From: scribu at gmail.com (scribu)
Date: Thu, 6 Aug 2009 15:00:33 +0300
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
	<30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
	<A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net>
Message-ID: <349fe48b0908060500i5e60803dj6457b8a3d0fb7ee@mail.gmail.com>

Here is some discussion on the irc channel between Matt, Mark Jaquith and
Denis de Bernardy:

https://irclogs.wordpress.org/chanlog.php?channel=wordpress-dev&day=2009-07-28#m14608

about meta tables of course.


-- 
http://scribu.net

From sudar at sudarmuthu.com  Thu Aug  6 12:10:18 2009
From: sudar at sudarmuthu.com (Sudar Muthu)
Date: Thu, 6 Aug 2009 17:40:18 +0530
Subject: [wp-hackers] Ability to compare arrays in checked() function
Message-ID: <485dd1460908060510r17e9ae90v3fa064b62be03043@mail.gmail.com>

Hi all,

The checked() function (present in wp-admin/includes/template.php) checks
whether two parameters passed to it are equal and then outputs
checked='checked', which can be used in forms having checkboxes or radio
buttons.

Sometimes (particularly for checkboxes), we might need to check for multiple
values. So I am proposing a change to the checked() function.

It can first check whether the default value is an array and if yes, it can
return checked='checked' if the current value is present in the default
array.

I have created a new ticket and have attached a patch with this change.<
http://core.trac.wordpress.org/ticket/10556>

Do let me know what you guys think about it.
 With Regards,
Sudar

http://SudarMuthu.com
http://twitter.com/sudarmuthu

From matt at sivel.net  Thu Aug  6 12:18:01 2009
From: matt at sivel.net (Matt Martz)
Date: Thu, 6 Aug 2009 08:18:01 -0400
Subject: [wp-hackers] Ability to compare arrays in checked() function
In-Reply-To: <485dd1460908060510r17e9ae90v3fa064b62be03043@mail.gmail.com>
References: <485dd1460908060510r17e9ae90v3fa064b62be03043@mail.gmail.com>
Message-ID: <518fa9630908060518i232ce495vb94a2bf46f253763@mail.gmail.com>

On Thu, Aug 6, 2009 at 8:10 AM, Sudar Muthu<sudar at sudarmuthu.com> wrote:
> Hi all,
>
> The checked() function (present in wp-admin/includes/template.php) checks
> whether two parameters passed to it are equal and then outputs
> checked='checked', which can be used in forms having checkboxes or radio
> buttons.
>
> Sometimes (particularly for checkboxes), we might need to check for multiple
> values. So I am proposing a change to the checked() function.
>
> It can first check whether the default value is an array and if yes, it can
> return checked='checked' if the current value is present in the default
> array.
>
> I have created a new ticket and have attached a patch with this change.<
> http://core.trac.wordpress.org/ticket/10556>
>
> Do let me know what you guys think about it.


I have always used:

<?php checked(true, in_array('needle', $options['haystack'])); ?>

Seems to work fine and is pretty easy.

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From sudar at sudarmuthu.com  Thu Aug  6 12:24:21 2009
From: sudar at sudarmuthu.com (Sudar Muthu)
Date: Thu, 6 Aug 2009 17:54:21 +0530
Subject: [wp-hackers] Ability to compare arrays in checked() function
In-Reply-To: <518fa9630908060518i232ce495vb94a2bf46f253763@mail.gmail.com>
References: <485dd1460908060510r17e9ae90v3fa064b62be03043@mail.gmail.com> 
	<518fa9630908060518i232ce495vb94a2bf46f253763@mail.gmail.com>
Message-ID: <485dd1460908060524w5b0f3cdbwc7c52b9c5f7ec479@mail.gmail.com>

Matt,

Your approach is good, it didn't strike me before. :)

But I also feel that if we add the condition to check for arrays into the
function, it might help us to save some keystokes while creating forms.

I am still not able to decide which approach will be better though.

With Regards,
Sudar

http://SudarMuthu.com
http://twitter.com/sudarmuthu


On Thu, Aug 6, 2009 at 17:48, Matt Martz <matt at sivel.net> wrote:

> On Thu, Aug 6, 2009 at 8:10 AM, Sudar Muthu<sudar at sudarmuthu.com> wrote:
> > Hi all,
> >
> > The checked() function (present in wp-admin/includes/template.php) checks
> > whether two parameters passed to it are equal and then outputs
> > checked='checked', which can be used in forms having checkboxes or radio
> > buttons.
> >
> > Sometimes (particularly for checkboxes), we might need to check for
> multiple
> > values. So I am proposing a change to the checked() function.
> >
> > It can first check whether the default value is an array and if yes, it
> can
> > return checked='checked' if the current value is present in the default
> > array.
> >
> > I have created a new ticket and have attached a patch with this change.<
> > http://core.trac.wordpress.org/ticket/10556>
> >
> > Do let me know what you guys think about it.
>
>
> I have always used:
>
> <?php checked(true, in_array('needle', $options['haystack'])); ?>
>
> Seems to work fine and is pretty easy.
>
> --
> Matt Martz
> matt at sivel.net
> http://sivel.net/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Thu Aug  6 13:00:54 2009
From: scribu at gmail.com (scribu)
Date: Thu, 6 Aug 2009 16:00:54 +0300
Subject: [wp-hackers] Ability to compare arrays in checked() function
In-Reply-To: <485dd1460908060524w5b0f3cdbwc7c52b9c5f7ec479@mail.gmail.com>
References: <485dd1460908060510r17e9ae90v3fa064b62be03043@mail.gmail.com>
	<518fa9630908060518i232ce495vb94a2bf46f253763@mail.gmail.com>
	<485dd1460908060524w5b0f3cdbwc7c52b9c5f7ec479@mail.gmail.com>
Message-ID: <349fe48b0908060600v689df286ma55aedd7613285dc@mail.gmail.com>

I didn't know there was a checked() function, but like you, I wanted to be
able to write forms more easily, so I made my own class: scbForms.


It handles all types of input, textareas and selects.

This is a sample of how a checkbox would be generated (checked, in this
case):

$options = array('foo'  => 'bar');

scbForms::input(array(
  'type' => 'checkbox',
  'name' => 'foo',
  'value' => 'bar'
), $options);


-- 
http://scribu.net

From scribu at gmail.com  Thu Aug  6 13:02:38 2009
From: scribu at gmail.com (scribu)
Date: Thu, 6 Aug 2009 16:02:38 +0300
Subject: [wp-hackers] Ability to compare arrays in checked() function
In-Reply-To: <349fe48b0908060600v689df286ma55aedd7613285dc@mail.gmail.com>
References: <485dd1460908060510r17e9ae90v3fa064b62be03043@mail.gmail.com>
	<518fa9630908060518i232ce495vb94a2bf46f253763@mail.gmail.com>
	<485dd1460908060524w5b0f3cdbwc7c52b9c5f7ec479@mail.gmail.com>
	<349fe48b0908060600v689df286ma55aedd7613285dc@mail.gmail.com>
Message-ID: <349fe48b0908060602h66eaafd4off3879a886448c38@mail.gmail.com>

Oh, here is the source code:

http://plugins.trac.wordpress.org/browser/scb-framework/trunk/classes/Forms.php

and here is the plugin that it's bundled with:

http://scribu.net/wordpress/scb-framework


</selfplug>


-- 
http://scribu.net

From harish.mlists at gmail.com  Thu Aug  6 16:52:35 2009
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Thu, 06 Aug 2009 18:52:35 +0200
Subject: [wp-hackers] Tiny pach for options-misc.php
Message-ID: <4A7B0A53.1080509@gmail.com>

I have attached a tiny patch for wp-admin/options-misc.php. This removes
an errant <tr> which breaks xhtml validation and prevents my browser
from rendering the miscellaneous options page.

Perhaps someone else who's run into this issue will find it helpful.

Harish
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: options-misc.php.patch
URL: <http://lists.automattic.com/pipermail/wp-hackers/attachments/20090806/fb14d75d/attachment.txt>

From bryanharley at gmail.com  Thu Aug  6 16:53:44 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Thu, 6 Aug 2009 09:53:44 -0700
Subject: [wp-hackers] Non-automated translation?
Message-ID: <58410e2e0908060953r45f7d697u9caa44b424ae6bcf@mail.gmail.com>

Does anyone know of a non-automated translation plugin?  I want to be
able to supply my own translation.  Not talking about localizing
themes or plugins, but strictly translation of the page and post
contents.

I'm thinking... a text box on the Add Post page where I can copy/paste
my translation, then you can go to...
www.mysite.com/my-cat/my-post/spanish/  to view the translation.  Does
this make sense?

From navjotjsingh at gmail.com  Thu Aug  6 16:54:50 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Thu, 6 Aug 2009 22:24:50 +0530
Subject: [wp-hackers] Tiny pach for options-misc.php
In-Reply-To: <4A7B0A53.1080509@gmail.com>
References: <4A7B0A53.1080509@gmail.com>
Message-ID: <7b9e108c0908060954n3f684864t29d7d161057b19fb@mail.gmail.com>

Please submit patches on trac.wordpress.org

Navjot Singh

On Thu, Aug 6, 2009 at 10:22 PM, Harish Narayanan
<harish.mlists at gmail.com>wrote:

> I have attached a tiny patch for wp-admin/options-misc.php. This removes
> an errant <tr> which breaks xhtml validation and prevents my browser
> from rendering the miscellaneous options page.
>
> Perhaps someone else who's run into this issue will find it helpful.
>
> Harish
>
> Index: options-misc.php
> ===================================================================
> --- options-misc.php    (revision 11779)
> +++ options-misc.php    (working copy)
> @@ -63,7 +63,6 @@
>  </label>
>  </th>
>  </tr>
> -<tr>
>
>  </table>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>

From wp at xentek.net  Thu Aug  6 16:56:15 2009
From: wp at xentek.net (Eric Marden)
Date: Thu, 6 Aug 2009 12:56:15 -0400
Subject: [wp-hackers] Load Balancing | Media Uploads to Multiple Servers
In-Reply-To: <b6a9375d0908051029m69181792o51dad9391c448735@mail.gmail.com>
References: <b6a9375d0907290700j6a7d5b95v4146b8c3ca7844e9@mail.gmail.com>
	<0DCBD9AC-B83C-4F79-9F5A-19375DD2771E@xentek.net>
	<b6a9375d0908051029m69181792o51dad9391c448735@mail.gmail.com>
Message-ID: <6F95BB39-BEC6-4B4C-A584-75BCE568DA5A@xentek.net>


On Aug 5, 2009, at 1:29 PM, Steve Pellham wrote:

> Thanks for the input Eric...
>
> So what happens when the 'central location' gets cutoff from the  
> world:
> massive communication failure, hardware failure, fire, [insert your  
> own
> disaster here]?

You can always set up IP Failover of that box to another hot spare for  
that data. But there is quite a bit of difference between rsyncing  
stuff you don't have to, and having a central mount where changes are  
reflected live for all systems that read that mount. I've also had a  
lot of success using Fuse to mount S3. Performance is great, and you  
can configure it with a local cache in the case of S3 outage. And  
there is something really cool about having 200 TB+ mount point on  
your server. ;)

http://xentek.net/articles/448/installing-fuse-s3fs-and-sshfs-on-ubuntu/


> A central location for the site isn't acceptable if that 'central  
> location'
> (I'm guessing you mean some sort of NAS/Network Storage) gets cutoff  
> from
> the world.  I'm speaking in terms of separate www/db servers that are
> geographically dispersed.  If the 'web heads' both pulled from a  
> central
> location (easier to maintain... but...) there is still a single  
> point of
> failure.

Don't confuse High Availability with High Capacity with Load  
Balancing. They are distinct, and have different approaches to solve.


However, if you are trying to eliminate all points of failure, then  
you're going to need a few servers, with every service/server having a  
hot spare and redundant backups of data to be able to bring it back up  
quickly and reliably. Adding in geographically aware edge serving will  
complicate things, but your static content, including wp-content/ 
uploads, should probably live on a true CDN anyway if this is one of  
your concerns.

> I fail to see how not replicating data (mysql, application, content  
> data)
> across multiple servers prevents a single point of failure.

It seems that the more advice that comes in the more requirements get  
revealed. What I described can and will serve you and can be used in  
HC configurations, and includes a quick DR (Data Recovery) plan,  
provided you have off site backups of uploads (s3 is good for this)  
and could stand up another box in its place (or keep a hot spare  
handy) with minimal effort/downtime. Its all a balance between budget  
and practicality. In the scenario I've suggested and implemented  
dozens of times, its generally the web heads that get swamped and go  
down, not the DB/File server (which generally has more memory than the  
leaner web heads). MySQL replication is not as great as it could be  
and has its own trade offs that I like to avoid unless maximum  
failover is the name of the game.



- Eric Marden
__________________________________
http://xentek.net/code/wordpress/
http://hostedbyxentek.net


From spellham at gmail.com  Thu Aug  6 17:23:42 2009
From: spellham at gmail.com (Steve Pellham)
Date: Thu, 6 Aug 2009 12:23:42 -0500
Subject: [wp-hackers] Load Balancing | Media Uploads to Multiple Servers
In-Reply-To: <6F95BB39-BEC6-4B4C-A584-75BCE568DA5A@xentek.net>
References: <b6a9375d0907290700j6a7d5b95v4146b8c3ca7844e9@mail.gmail.com>
	<0DCBD9AC-B83C-4F79-9F5A-19375DD2771E@xentek.net>
	<b6a9375d0908051029m69181792o51dad9391c448735@mail.gmail.com>
	<6F95BB39-BEC6-4B4C-A584-75BCE568DA5A@xentek.net>
Message-ID: <b6a9375d0908061023w383f9409q5eb844f3cef2a886@mail.gmail.com>

Great points Eric.  Thanks.
On Thu, Aug 6, 2009 at 11:56 AM, Eric Marden <wp at xentek.net> wrote:

>
> On Aug 5, 2009, at 1:29 PM, Steve Pellham wrote:
>
>  Thanks for the input Eric...
>>
>> So what happens when the 'central location' gets cutoff from the world:
>> massive communication failure, hardware failure, fire, [insert your own
>> disaster here]?
>>
>
> You can always set up IP Failover of that box to another hot spare for that
> data. But there is quite a bit of difference between rsyncing stuff you
> don't have to, and having a central mount where changes are reflected live
> for all systems that read that mount. I've also had a lot of success using
> Fuse to mount S3. Performance is great, and you can configure it with a
> local cache in the case of S3 outage. And there is something really cool
> about having 200 TB+ mount point on your server. ;)
>
> http://xentek.net/articles/448/installing-fuse-s3fs-and-sshfs-on-ubuntu/
>
>
>  A central location for the site isn't acceptable if that 'central
>> location'
>> (I'm guessing you mean some sort of NAS/Network Storage) gets cutoff from
>> the world.  I'm speaking in terms of separate www/db servers that are
>> geographically dispersed.  If the 'web heads' both pulled from a central
>> location (easier to maintain... but...) there is still a single point of
>> failure.
>>
>
> Don't confuse High Availability with High Capacity with Load Balancing.
> They are distinct, and have different approaches to solve.
>
>
> However, if you are trying to eliminate all points of failure, then you're
> going to need a few servers, with every service/server having a hot spare
> and redundant backups of data to be able to bring it back up quickly and
> reliably. Adding in geographically aware edge serving will complicate
> things, but your static content, including wp-content/uploads, should
> probably live on a true CDN anyway if this is one of your concerns.
>
>  I fail to see how not replicating data (mysql, application, content data)
>> across multiple servers prevents a single point of failure.
>>
>
> It seems that the more advice that comes in the more requirements get
> revealed. What I described can and will serve you and can be used in HC
> configurations, and includes a quick DR (Data Recovery) plan, provided you
> have off site backups of uploads (s3 is good for this) and could stand up
> another box in its place (or keep a hot spare handy) with minimal
> effort/downtime. Its all a balance between budget and practicality. In the
> scenario I've suggested and implemented dozens of times, its generally the
> web heads that get swamped and go down, not the DB/File server (which
> generally has more memory than the leaner web heads). MySQL replication is
> not as great as it could be and has its own trade offs that I like to avoid
> unless maximum failover is the name of the game.
>
>
>
> - Eric Marden
> __________________________________
> http://xentek.net/code/wordpress/
> http://hostedbyxentek.net
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From yahgrp at poplarware.com  Thu Aug  6 17:59:22 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Thu, 06 Aug 2009 10:59:22 -0700
Subject: [wp-hackers] Non-automated translation?
In-Reply-To: <58410e2e0908060953r45f7d697u9caa44b424ae6bcf@mail.gmail.com>
References: <58410e2e0908060953r45f7d697u9caa44b424ae6bcf@mail.gmail.com>
Message-ID: <4A7B19FA.9090604@poplarware.com>

Bryan Harley wrote:
> Does anyone know of a non-automated translation plugin?  I want to be
> able to supply my own translation.  Not talking about localizing
> themes or plugins, but strictly translation of the page and post
> contents.

This mailing list is not the right place to ask the question you are 
asking (you should have posted it in the support forums -- this list 
is to ask questions about plugin development, not to find plugins)... 
So I'll keep my answer brief: you are looking for a "multi-lingual" 
plugin.

Two I know of:
  - Language Switcher (mine): http://poplarware.com/languageplugin.html
  - Gengo - you'll have to search for it
  - Or try Google or wordpress.org/extend/plugins to search for more

Good luck!

Regards,
    Jennifer

-- 
Jennifer Hodgdon * Poplar ProductivityWare
www.poplarware.com
Drupal, WordPress, and custom Web programming


From peter.westwood at ftwr.co.uk  Thu Aug  6 17:59:58 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 6 Aug 2009 18:59:58 +0100
Subject: [wp-hackers] Request for new mailing list wp-accessibility
In-Reply-To: <427667db0905030102i653393e0k4a79d2b66700ce68@mail.gmail.com>
References: <427667db0905030102i653393e0k4a79d2b66700ce68@mail.gmail.com>
Message-ID: <267D461C-7D55-45BC-8E1D-F3F2D58D1F2C@ftwr.co.uk>


On 3 May 2009, at 09:02, Lynne Pope wrote:

> This is a request for a new mailing list please.
>
> To date, anyone raising accessibility issues and proposing fixes is  
> doing so
> either on wp-hackers, wp-testers, on the forums or in responses to  
> surveys.
> Accessibility is an aspect of WP development that would benefit from  
> an
> informal "working group" and having its own mailing list would  
> enable those
> of us who know ATAG, WCAG and the other accessibility guidelines  
> well, and
> how to implement them, to bring forward issues and reach agreement  
> on the
> most appropriate fixes.
>
> There are a number of people outside of wp-hackers who are  
> interested in
> seeing WordPress become accessible and having a mailing list may  
> encourage
> these people to contribute.
>
> Getting all accessibility issues into one place would be a great step
> forward on its own. Too much inaccurate advice is being given  
> elsewhere,
> including on the tracker, and this creates the risk that the core  
> team can
> end up wasting time on code that they think will aid accessibility,  
> but
> which does not - thereby compounding the problems.
>
> I hope you will view this request favourably and set up a new
> wp-accessibility mailing list.
> Apologies if this is not the right place to ask - I couldn't see  
> where else
> I should direct this request.
>

This is/was a really good idea.

And now we have working mailing list admin again we now have the list  
created.

So please come and join the party.

http://lists.automattic.com/mailman/listinfo/wp-accessibility
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From harish.mlists at gmail.com  Thu Aug  6 19:29:15 2009
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Thu, 06 Aug 2009 21:29:15 +0200
Subject: [wp-hackers] Tiny pach for options-misc.php
In-Reply-To: <7b9e108c0908060954n3f684864t29d7d161057b19fb@mail.gmail.com>
References: <4A7B0A53.1080509@gmail.com>
	<7b9e108c0908060954n3f684864t29d7d161057b19fb@mail.gmail.com>
Message-ID: <4A7B2F0B.5040507@gmail.com>

Navjot Singh wrote:
> Please submit patches on trac.wordpress.org

I have done so: https://core.trac.wordpress.org/ticket/10560

Harish

From peter.westwood at ftwr.co.uk  Thu Aug  6 19:45:02 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 6 Aug 2009 20:45:02 +0100
Subject: [wp-hackers] Tiny pach for options-misc.php
In-Reply-To: <4A7B2F0B.5040507@gmail.com>
References: <4A7B0A53.1080509@gmail.com>
	<7b9e108c0908060954n3f684864t29d7d161057b19fb@mail.gmail.com>
	<4A7B2F0B.5040507@gmail.com>
Message-ID: <4E13154F-4C08-4D50-9CF5-9C8BEDAEEC41@ftwr.co.uk>


On 6 Aug 2009, at 20:29, Harish Narayanan wrote:

> Navjot Singh wrote:
>> Please submit patches on trac.wordpress.org
>
> I have done so: https://core.trac.wordpress.org/ticket/10560
>

Thank you

https://core.trac.wordpress.org/changeset/11781

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From otto at ottodestruct.com  Thu Aug  6 19:54:57 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Aug 2009 14:54:57 -0500
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405> 
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net> 
	<30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
	<A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net>
Message-ID: <161617690908061254i7c628fc0vd21e7608a6689384@mail.gmail.com>

On Thu, Aug 6, 2009 at 12:12 AM, Mike
Schinkel<mikeschinkel at newclarity.net> wrote:
> I'm not 100% sure I'm following you here. ?Are you saying that MySQL creates
> a hash for string values in an index when there is only a small number of
> values making string values more efficient than they would otherwise be?

No, but if you only have a small number of values, then your b-tree
(or whatever structure it's using) never grows larger than that number
of values. This is irrelevant to the size of the index field (except
so far as you'd like all the values to fit into memory).

Fulltext indexes are different than normal indexes, mind you, but a
varchar does not have to be using a fulltext index.

> And if MySQL does do that, when does it stop hashing distinct string values?

It doesn't do any hashing, unless you explicitly specify for it to do
so (which can be done, I think, but I've never bothered). I don't see
why you'd have to do any hashing for the index to be small.

-Otto

From otto at ottodestruct.com  Thu Aug  6 19:59:00 2009
From: otto at ottodestruct.com (Otto)
Date: Thu, 6 Aug 2009 14:59:00 -0500
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <161617690908061254i7c628fc0vd21e7608a6689384@mail.gmail.com>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405> 
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net> 
	<30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
	<A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net> 
	<161617690908061254i7c628fc0vd21e7608a6689384@mail.gmail.com>
Message-ID: <161617690908061259v704bf7f3rd2371912aab8fd89@mail.gmail.com>

On Thu, Aug 6, 2009 at 2:54 PM, Otto<otto at ottodestruct.com> wrote:
> On Thu, Aug 6, 2009 at 12:12 AM, Mike
> Schinkel<mikeschinkel at newclarity.net> wrote:
>> I'm not 100% sure I'm following you here. ?Are you saying that MySQL creates
>> a hash for string values in an index when there is only a small number of
>> values making string values more efficient than they would otherwise be?
>
> No, but if you only have a small number of values, then your b-tree
> (or whatever structure it's using) never grows larger than that number
> of values. This is irrelevant to the size of the index field (except
> so far as you'd like all the values to fit into memory).
>
> Fulltext indexes are different than normal indexes, mind you, but a
> varchar does not have to be using a fulltext index.
>
>> And if MySQL does do that, when does it stop hashing distinct string values?
>
> It doesn't do any hashing, unless you explicitly specify for it to do
> so (which can be done, I think, but I've never bothered). I don't see
> why you'd have to do any hashing for the index to be small.
>
> -Otto
>

To put it another way, if you only have seven unique items, then your
b-tree is only 3 levels deep, no matter how many characters your
column contains. So finding the rows is easy, there's no long
searching or anything else.

-Otto
Sent from Memphis, TN, United States

From steph at sillybean.net  Thu Aug  6 20:03:56 2009
From: steph at sillybean.net (Stephanie Leary)
Date: Thu, 06 Aug 2009 20:03:56 +0000
Subject: [wp-hackers] =?utf-8?q?widget_select_field_problems=3F?=
In-Reply-To: <4A77A741.1070305@laptoptips.ca>
References: <DA5C1C56-6B1E-4478-8469-A698B4B86D6C@sillybean.net>	<eccf48430908031731x6c28bc31w59319d2e0e4b500e@mail.gmail.com>	<916F133C-A30C-4E5E-BA2D-55DD6238DED2@sillybean.net>	<4A779764.3050702@laptoptips.ca>
	<2EF0668B-8B65-40BA-90F6-7E6DA8555D65@sillybean.net>
	<4A77A741.1070305@laptoptips.ca>
Message-ID: <dae0e1e22ec23e8d700239449d898b07@laurel.joyent.us>


On Mon, 03 Aug 2009 20:13:05 -0700, Andrew Ozz <admin at laptoptips.ca> wrote:
> Stephanie Leary wrote:
>> (I hadn't noticed until just now that the </select> tag is missing as 
>> well as the <option>s. How bizarre!)
> 
> Yes, looks like something is stripping all html tags after the <select 
> .. >. Don't see any js in WordPress that would do this.
> 
> It still may be worth it disabling some of the js that runs after the 
> ajax loading of the html for a saved widget, like addEvents() or 
> fixLabels(), to see if it makes any difference. You can set 
> `define('SCRIPT_DEBUG', true);` in wp-config to load the dev. versions 
> of the default js.

Thanks for all the pointers. I'm sadly behind in learning ajax, so this has
been educational. I did find something that corrects the problem, but I'm
not entirely sure what this line was intended to do in the first place, so
I'm not sure what I just disabled. :/

In widgets.dev.js, line 196, I changed
$('.widget-content', widget).html(r);
to
$('.widget-content', widget).html;

... and my select boxes display correctly. But I'm having trouble
backtracking the origins of r... where did it come from, and what was it
supposed to do?


Stephanie Leary
sillybean.net



From ozh at planetozh.com  Thu Aug  6 20:10:49 2009
From: ozh at planetozh.com (Ozh)
Date: Thu, 6 Aug 2009 22:10:49 +0200
Subject: [wp-hackers] Tiny pach for options-misc.php
In-Reply-To: <4E13154F-4C08-4D50-9CF5-9C8BEDAEEC41@ftwr.co.uk>
References: <4A7B0A53.1080509@gmail.com>
	<7b9e108c0908060954n3f684864t29d7d161057b19fb@mail.gmail.com>
	<4A7B2F0B.5040507@gmail.com>
	<4E13154F-4C08-4D50-9CF5-9C8BEDAEEC41@ftwr.co.uk>
Message-ID: <ae81acd10908061310x41fcb5fdi45eb732139440db7@mail.gmail.com>

On Thu, Aug 6, 2009 at 9:45 PM, Peter Westwood<peter.westwood at ftwr.co.uk> wrote:
> Thank you
>
> https://core.trac.wordpress.org/changeset/11781

Firefox has recently been warning about untrusted connection when
using the https <http://i28.tinypic.com/ibjngm.gif>, or is it just me?



-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From peter.westwood at ftwr.co.uk  Thu Aug  6 20:13:10 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 6 Aug 2009 21:13:10 +0100
Subject: [wp-hackers] Tiny pach for options-misc.php
In-Reply-To: <ae81acd10908061310x41fcb5fdi45eb732139440db7@mail.gmail.com>
References: <4A7B0A53.1080509@gmail.com>
	<7b9e108c0908060954n3f684864t29d7d161057b19fb@mail.gmail.com>
	<4A7B2F0B.5040507@gmail.com>
	<4E13154F-4C08-4D50-9CF5-9C8BEDAEEC41@ftwr.co.uk>
	<ae81acd10908061310x41fcb5fdi45eb732139440db7@mail.gmail.com>
Message-ID: <079D97B1-3101-4C42-899C-F681A7387119@ftwr.co.uk>


On 6 Aug 2009, at 21:10, Ozh wrote:

> On Thu, Aug 6, 2009 at 9:45 PM, Peter Westwood<peter.westwood at ftwr.co.uk 
> > wrote:
>> Thank you
>>
>> https://core.trac.wordpress.org/changeset/11781
>
> Firefox has recently been warning about untrusted connection when
> using the https <http://i28.tinypic.com/ibjngm.gif>, or is it just me?

I've seen that too

It doesn't seem to match core.trac.wordpress.org with *.wordpress.org  
for some reason.

Maybe it doesn't expect more than one level of subdomain.

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From admin at laptoptips.ca  Thu Aug  6 20:50:36 2009
From: admin at laptoptips.ca (Andrew Ozz)
Date: Thu, 06 Aug 2009 13:50:36 -0700
Subject: [wp-hackers] widget select field problems?
In-Reply-To: <dae0e1e22ec23e8d700239449d898b07@laurel.joyent.us>
References: <DA5C1C56-6B1E-4478-8469-A698B4B86D6C@sillybean.net>	<eccf48430908031731x6c28bc31w59319d2e0e4b500e@mail.gmail.com>	<916F133C-A30C-4E5E-BA2D-55DD6238DED2@sillybean.net>	<4A779764.3050702@laptoptips.ca>	<2EF0668B-8B65-40BA-90F6-7E6DA8555D65@sillybean.net>	<4A77A741.1070305@laptoptips.ca>
	<dae0e1e22ec23e8d700239449d898b07@laurel.joyent.us>
Message-ID: <4A7B421C.1040804@laptoptips.ca>

Stephanie Leary wrote:
> ... I'm not sure what I just disabled. :/
> 
> In widgets.dev.js, line 196, I changed
> $('.widget-content', widget).html(r);
> to
> $('.widget-content', widget).html;
> 
> ... and my select boxes display correctly. But I'm having trouble
> backtracking the origins of r... where did it come from, and what was it
> supposed to do?

The "r" is the html returned from the ajax call, it comes from line 171. 
  Basically this line

$('.widget-content', widget).html(r);

says: find "widget-content" inside "widget" and replace all the html 
there with "r". Removing "r" triggers an error on this line (that is 
suppressed by jQuery) and doesn't replace the widget's inner html with 
the ajax return, so you see the initial widget not the updated one.

You can see what "r" is set to in Firebug's console with 
"console.log(r);" just above line 196. If this looks ok perhaps try 
disabling any custom js on the widgets page. If it doesn't, perhaps 
tweak the output from Your_Widget_Class::form() or the 
Your_Widget_Class::update() to see what triggers this.

From wp-hackers at striderweb.com  Thu Aug  6 23:53:08 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Thu, 6 Aug 2009 18:53:08 -0500
Subject: [wp-hackers] Tiny pach for options-misc.php
In-Reply-To: <ae81acd10908061310x41fcb5fdi45eb732139440db7@mail.gmail.com>
References: <4A7B0A53.1080509@gmail.com>
	<7b9e108c0908060954n3f684864t29d7d161057b19fb@mail.gmail.com>
	<4A7B2F0B.5040507@gmail.com>
	<4E13154F-4C08-4D50-9CF5-9C8BEDAEEC41@ftwr.co.uk>
	<ae81acd10908061310x41fcb5fdi45eb732139440db7@mail.gmail.com>
Message-ID: <6B97765C-9ECF-455F-B14E-F036A62FB61E@striderweb.com>


On Aug 6, 2009, at 3:10 PM, Ozh wrote:

> Firefox has recently been warning about untrusted connection when
> using the https <http://i28.tinypic.com/ibjngm.gif>, or is it just me?

I can confirm.  I had to add an exception.  Perhaps a bug report to  
Firefox is in order?

Stephen


-- 
Stephen Rider
http://striderweb.com/





From scompt at scompt.com  Fri Aug  7 00:00:36 2009
From: scompt at scompt.com (Edward Dale)
Date: Thu, 6 Aug 2009 20:00:36 -0400
Subject: [wp-hackers] Tiny pach for options-misc.php
In-Reply-To: <6B97765C-9ECF-455F-B14E-F036A62FB61E@striderweb.com>
References: <4A7B0A53.1080509@gmail.com>
	<7b9e108c0908060954n3f684864t29d7d161057b19fb@mail.gmail.com>
	<4A7B2F0B.5040507@gmail.com>
	<4E13154F-4C08-4D50-9CF5-9C8BEDAEEC41@ftwr.co.uk>
	<ae81acd10908061310x41fcb5fdi45eb732139440db7@mail.gmail.com>
	<6B97765C-9ECF-455F-B14E-F036A62FB61E@striderweb.com>
Message-ID: <1fe4fa230908061700s750180bey7bda44b9c334db4b@mail.gmail.com>

Somebody beat you to it: <http://www.powertrip.co.za/blog/archives/000617.html>

Edward

On Thu, Aug 6, 2009 at 7:53 PM, Stephen Rider<wp-hackers at striderweb.com> wrote:
>
> On Aug 6, 2009, at 3:10 PM, Ozh wrote:
>
>> Firefox has recently been warning about untrusted connection when
>> using the https <http://i28.tinypic.com/ibjngm.gif>, or is it just me?
>
> I can confirm. ?I had to add an exception. ?Perhaps a bug report to Firefox
> is in order?
>
> Stephen
>
>
> --
> Stephen Rider
> http://striderweb.com/
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From speedboxer at gmail.com  Fri Aug  7 00:02:43 2009
From: speedboxer at gmail.com (Matt Freedman)
Date: Thu, 6 Aug 2009 17:02:43 -0700
Subject: [wp-hackers] Tiny pach for options-misc.php
In-Reply-To: <6B97765C-9ECF-455F-B14E-F036A62FB61E@striderweb.com>
References: <4A7B0A53.1080509@gmail.com>
	<7b9e108c0908060954n3f684864t29d7d161057b19fb@mail.gmail.com> 
	<4A7B2F0B.5040507@gmail.com>
	<4E13154F-4C08-4D50-9CF5-9C8BEDAEEC41@ftwr.co.uk> 
	<ae81acd10908061310x41fcb5fdi45eb732139440db7@mail.gmail.com> 
	<6B97765C-9ECF-455F-B14E-F036A62FB61E@striderweb.com>
Message-ID: <b88434820908061702h3c351ad5va807e1c01dd93cf4@mail.gmail.com>

Happens in Safari and Chrome as well, probably not a bug.

On Thu, Aug 6, 2009 at 4:53 PM, Stephen Rider<wp-hackers at striderweb.com> wrote:
>
> On Aug 6, 2009, at 3:10 PM, Ozh wrote:
>
>> Firefox has recently been warning about untrusted connection when
>> using the https <http://i28.tinypic.com/ibjngm.gif>, or is it just me?
>
> I can confirm. ?I had to add an exception. ?Perhaps a bug report to Firefox
> is in order?
>
> Stephen
>
>
> --
> Stephen Rider
> http://striderweb.com/
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Matt Freedman
http://mattfreedman.ca/

From jordi at jcanals.net  Fri Aug  7 00:31:15 2009
From: jordi at jcanals.net (Jordi Canals)
Date: Fri, 7 Aug 2009 02:31:15 +0200
Subject: [wp-hackers] Tiny pach for options-misc.php
In-Reply-To: <b88434820908061702h3c351ad5va807e1c01dd93cf4@mail.gmail.com>
References: <4A7B0A53.1080509@gmail.com>
	<7b9e108c0908060954n3f684864t29d7d161057b19fb@mail.gmail.com>
	<4A7B2F0B.5040507@gmail.com>
	<4E13154F-4C08-4D50-9CF5-9C8BEDAEEC41@ftwr.co.uk>
	<ae81acd10908061310x41fcb5fdi45eb732139440db7@mail.gmail.com>
	<6B97765C-9ECF-455F-B14E-F036A62FB61E@striderweb.com>
	<b88434820908061702h3c351ad5va807e1c01dd93cf4@mail.gmail.com>
Message-ID: <eccf48430908061731r232baf69k66af4619dfe7b61@mail.gmail.com>

It's not a bug. That's just what standard says, the wilcard is only valid
for one level. A certificate for *.wordpress.org will match
trac.wordpress.org, but will not match core.track.wordpress.org. The bug is
in browsers matching the last one.

This is stated on the RFC 2818, look at page 4:

   Matching is performed using the matching rules specified by
   [RFC2459].  If more than one identity of a given type is present in
   the certificate (e.g., more than one dNSName name, a match in any one
   of the set is considered acceptable.) Names may contain the wildcard
   character * which is considered to match any single domain name
   component or component fragment. E.g., *.a.com matches foo.a.com but
   not bar.foo.a.com. f*.com matches foo.com but not bar.com.

--
Jordi Canals
http://alkivia.org

2009/8/7 Matt Freedman <speedboxer at gmail.com>

> Happens in Safari and Chrome as well, probably not a bug.
>
> On Thu, Aug 6, 2009 at 4:53 PM, Stephen Rider<wp-hackers at striderweb.com>
> wrote:
> >
> > On Aug 6, 2009, at 3:10 PM, Ozh wrote:
> >
> >> Firefox has recently been warning about untrusted connection when
> >> using the https <http://i28.tinypic.com/ibjngm.gif>, or is it just me?
> >
> > I can confirm.  I had to add an exception.  Perhaps a bug report to
> Firefox
> > is in order?
> >
> > Stephen
> >
> >
> > --
> > Stephen Rider
> > http://striderweb.com/
> >
> >
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
>
>
>
> --
> Matt Freedman
> http://mattfreedman.ca/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From lynne.pope at gmail.com  Fri Aug  7 00:57:20 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Fri, 7 Aug 2009 12:57:20 +1200
Subject: [wp-hackers] Request for new mailing list wp-accessibility
In-Reply-To: <267D461C-7D55-45BC-8E1D-F3F2D58D1F2C@ftwr.co.uk>
References: <427667db0905030102i653393e0k4a79d2b66700ce68@mail.gmail.com> 
	<267D461C-7D55-45BC-8E1D-F3F2D58D1F2C@ftwr.co.uk>
Message-ID: <427667db0908061757v3dc59d7ci3cb0f8ff70e7d571@mail.gmail.com>

2009/8/7 Peter Westwood <peter.westwood at ftwr.co.uk>

>
> On 3 May 2009, at 09:02, Lynne Pope wrote:
>
>  This is a request for a new mailing list please.
>>
>> To date, anyone raising accessibility issues and proposing fixes is doing
>> so
>> either on wp-hackers, wp-testers, on the forums or in responses to
>> surveys.
>> Accessibility is an aspect of WP development that would benefit from an
>> informal "working group" and having its own mailing list would enable
>> those
>> of us who know ATAG, WCAG and the other accessibility guidelines well, and
>> how to implement them, to bring forward issues and reach agreement on the
>> most appropriate fixes.
>>
>> There are a number of people outside of wp-hackers who are interested in
>> seeing WordPress become accessible and having a mailing list may encourage
>> these people to contribute.
>>
>> Getting all accessibility issues into one place would be a great step
>> forward on its own. Too much inaccurate advice is being given elsewhere,
>> including on the tracker, and this creates the risk that the core team can
>> end up wasting time on code that they think will aid accessibility, but
>> which does not - thereby compounding the problems.
>>
>> I hope you will view this request favourably and set up a new
>> wp-accessibility mailing list.
>> Apologies if this is not the right place to ask - I couldn't see where
>> else
>> I should direct this request.
>>
>>
> This is/was a really good idea.
>
> And now we have working mailing list admin again we now have the list
> created.
>
> So please come and join the party.
>
> http://lists.automattic.com/mailman/listinfo/wp-accessibility
>

Wonderful!

Signed up!

Lynne

From mikeschinkel at newclarity.net  Fri Aug  7 03:41:15 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Thu, 6 Aug 2009 23:41:15 -0400
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <161617690908061254i7c628fc0vd21e7608a6689384@mail.gmail.com>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
	<30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
	<A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net>
	<161617690908061254i7c628fc0vd21e7608a6689384@mail.gmail.com>
Message-ID: <6F3B0CE7-E821-47B2-AEDC-D0379340A08E@newclarity.net>

On Aug 6, 2009, at 3:54 PM, Otto wrote:
> On Thu, Aug 6, 2009 at 12:12 AM, Mike
> Schinkel<mikeschinkel at newclarity.net> wrote:
>> I'm not 100% sure I'm following you here.  Are you saying that  
>> MySQL creates
>> a hash for string values in an index when there is only a small  
>> number of
>> values making string values more efficient than they would  
>> otherwise be?
>
> No, but if you only have a small number of values, then your b-tree
> (or whatever structure it's using) never grows larger than that number
> of values. This is irrelevant to the size of the index field (except
> so far as you'd like all the values to fit into memory).
>

Forgive me, but I do not at all understand how what you are saying can  
be true unless we are talking apples & oranges.  Let me state an  
example to see if we are saying the same thing.

Assume we have a 1 million records table called wp_metadata.  It has  
fields meta_id, object_id, meta_type, meta_name and meta_value.   The  
field meta_type is VARCHAR(20) has one of four values: "post", "page",  
"comment" or "link" and you have a key based on meta_type+object_id.  
Everything I know about indexes (though am willing to learn otherwise)  
tells me that that you'll need to store 1 million values for meta_type 
+object_id in order to index those tables and not just 4. How is it  
you think you can have an index that can represent 1 million records  
in the index without their key values? What you are saying makes no  
sense to me (unless they are hashing the values internally.)

> To put it another way, if you only have seven unique items, then your
> b-tree is only 3 levels deep, no matter how many characters your
> column contains. So finding the rows is easy, there's no long
> searching or anything else.

How you can have a b-tree with only 3 levels deep with a 1 million  
records?  10 million records?  100 million records?  I don't see how  
it is possible (I hope I'm wrong, so please educate me.)

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/





From dragonfly at dragonflyeye.net  Fri Aug  7 11:54:40 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Fri, 7 Aug 2009 07:54:40 -0400
Subject: [wp-hackers] wp-hackers Freak-out
Message-ID: <77b239a00908070454r5ddc2e8dyb7f55de8fb940b9d@mail.gmail.com>

Awwwww Freak out!!
Le freak, se chic...

What's going on with the list server? I'm getting bombarded with emails all
of a sudden?

On Fri, Aug 7, 2009 at 7:27 AM, <wp-hackers-request at lists.automattic.com>wrote:

> Send wp-hackers mailing list submissions to
>        wp-hackers at lists.automattic.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
>        wp-hackers-request at lists.automattic.com
>
> You can reach the person managing the list at
>        wp-hackers-owner at lists.automattic.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
>
>
> Today's Topics:
>
>   1. Re: Calendar generating bad links to pages (Alan Castonguay)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Thu, 28 May 2009 21:56:36 -0400
> From: Alan Castonguay <alan at verselogic.net>
> Subject: Re: [wp-hackers] Calendar generating bad links to pages
> To: wp-hackers at lists.automattic.com
> Message-ID: <BB4C87B8-9DBD-4FCF-9B14-9D221DAA694B at verselogic.net>
> Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
>
> Yes. That plugin does -not- filter to only post_type='post', and
> displays calendar entries for days with anything in the posts table
> with a post_status of Published. By default that's posts & pages. You
> could ask Eric to fix that.
>
> Alan J Castonguay
>
>
> On May 27, 2009, at 10:03 PM, RePost wrote:
>
> > Alan Castonguay wrote:
> >> 2.7.1's calendar is generated in
> http://core.trac.wordpress.org/browser/tags/2.7.1/wp-includes/general-template.php
> >>  but as far as I see all the SQL is guarded with
> >>   AND post_type = 'post' AND post_status = 'publish'
> >>
> >> It might be caused by a plugin filtering the sql, or replacing the
> >> calendar wholesale. I don't see this behavior on 2.8-bleeding-edge
> >>
> >> Alan J Castonguay
> >>
> >>
> >>
> >> On May 27, 2009, at 8:18 PM, RePost wrote:
> >>
> >>> I've found through checking my Google Webmaster stats that the
> >>> WordPress (2.7.1) calendar is attempting to create links to pages
> >>> as well as blog entries, resulting in 404 errors.
> >>>
> >>> For example, WP shows that I generated my "About" page on 11-24-08
> >>> and my "Contact" pages on 11-26-08. The November calendar is
> >>> treating those pages like blog entries and attempting to link to
> >>> them.
> >>>
> >>> To test these links, see the calendar at the bottom of the middle
> >>> column:
> >>> http://bit.ly/n0en4
> >>>
> >
> > Alan, I am using the mw-calendar plugin, detailed here:
> > http://meyerweb.com/eric/tools/wordpress/mw_get_calendar.html
> >
> > The script is here:
> > http://meyerweb.com/eric/tools/wordpress/mw_get_calendar.phpf
> >
> > Does this provide any clues?
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 52, Issue 40
> ******************************************
>

From boyd.carter at mybabyboomers.com  Fri Aug  7 12:11:32 2009
From: boyd.carter at mybabyboomers.com (Boyd ata MBB)
Date: Fri, 7 Aug 2009 08:11:32 -0400
Subject: [wp-hackers] help
Message-ID: <01b501ca1758$434fbae0$c9ef30a0$@carter@mybabyboomers.com>

Please unsubscribe

 

 


From shacat_2 at hotmail.com  Fri Aug  7 12:35:21 2009
From: shacat_2 at hotmail.com (Shacat Shacat)
Date: Fri, 7 Aug 2009 14:35:21 +0200
Subject: [wp-hackers] wp-hackers Digest, Vol 53, Issue 48
In-Reply-To: <20090807114853.D8DAFA46B@comox.textdrive.com>
References: <20090807114853.D8DAFA46B@comox.textdrive.com>
Message-ID: <BAY102-W23D17B342476306046CA9CAE0B0@phx.gbl>


please dont send me messenges anymore
 
> From: wp-hackers-request at lists.automattic.com
> Subject: wp-hackers Digest, Vol 53, Issue 48
> To: wp-hackers at lists.automattic.com
> Date: Fri, 7 Aug 2009 11:48:53 +0000
> 
> Send wp-hackers mailing list submissions to
> wp-hackers at lists.automattic.com
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> or, via email, send a message with subject or body 'help' to
> wp-hackers-request at lists.automattic.com
> 
> You can reach the person managing the list at
> wp-hackers-owner at lists.automattic.com
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of wp-hackers digest..."
> 
> 
> Today's Topics:
> 
> 1. Re: Replacing class="alignright" etc Was: Re: [wp-hackers]
> Linking stylesheet to RSS feeds (Jeremy Clarke)
> 2. Re: Replacing class="alignright" etc Was: Re: [wp-hackers]
> Linking stylesheet to RSS feeds (Lynne Pope)
> 3. Re: How do you get jQuery tabs working in Wordpress 2.8?
> (Daiv Mowbray)
> 4. Re: How do you get jQuery tabs working in Wordpress 2.8?
> (Daiv Mowbray)
> 5. Re: How do you get jQuery tabs working in Wordpress 2.8?
> (Dylan Kuhn)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Thu, 18 Jun 2009 21:18:54 -0400
> From: Jeremy Clarke <jer at simianuprising.com>
> Subject: Re: Replacing class="alignright" etc Was: Re: [wp-hackers]
> Linking stylesheet to RSS feeds
> To: wp-hackers at lists.automattic.com
> Message-ID:
> <e1202cb10906181818r799c1b9nd6d533362847c153 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> On Thu, Jun 18, 2009 at 8:01 PM, Lynne Pope<lynne.pope at gmail.com> wrote:
> > And, for me, this has nothing to do with accessibility and everything to do
> > with usability - there are some really badly designed sites out there that
> > seem to put design above readability!
> 
> I doubt any of these problems are caused by aligning photos inside
> post text using float: I know the kind of issues you are talking
> about, but they are usually caused by bad text formatting choices. I'd
> NEVER try to impose my text formatting choices on someone reading an
> RSS feed (i hate even doing it with email), but that's a really
> different issue from alignment.
> 
> 
> >> I mean, in the context of
> >> a blog post .alignright is almost structural for the content. An image
> >> that's .alignright has a very specific semantic relationship with the
> >> paragraph that follows it (e.g. it might say 'the photo to the right'
> >> in the text).
> >
> > Those two classes aren't semantic. There is nothing about alignright that
> > says it must align to the right. It's not always aligned or floated to the
> > right even in WordPress core, which overrides it and flips it around for
> > sites that use RTL.
> 
> To be clear, I wasn't saying that .alignright is itself actually a
> semantic bit of markup. Rather I was saying that the use of
> .alignright inside of a post is more than just a style decision, its a
> structural content decision, and thus semantic in the *intent* of the
> person using it on a photo . The fact that WP swaps the actual float
> for RTL is a perfect example: it is working with the intended semantic
> meaning of the right alignment rather than a specific style one.
> You're right that there's nothing in class="alignright" that says it
> needs to float right, but its still an incredibly useful convention,
> and the way the WP post editor presents it is more about post
> structure and layout than about style.
> 
> On some level I'm just bemoaning the lack of an actual XHTML property
> that lets you control alignment, because I think alignment IS a
> structural issue within site content. Sure, <center> was a bad idea,
> but the fact is that when we are creating mixed-media content (photos,
> videos, pullquotes) we naturally want ways to control left and right
> alignment. Removing align="left" from html was a good idea because
> it's not how you should set up your site's sidebar, but its a shame
> because now our posts end up looking like 1995 when they're viewed
> using modern tools. I think it's pretty logically sound to say that
> right alignment of photos in a blog post is more than a 'style' issue,
> it's part of the content of the post. It just happens that CSS 'style'
> is the only means of achieving right alignment.
> 
> I think if nothing else floating of images deserves a spot as an
> exception to the rule against inline styles in posts. I also doubt you
> would even notice, let alone be upset or find usability problems with
> a feed that used basic floating and margins on images to make the
> layout nicer (unless you get upset on principal, which is valid but
> probably not productive ;)
> 
> 
> 
> -- 
> Jeremy Clarke
> Code and Design | globalvoicesonline.org
> 
> 
> ------------------------------
> 
> Message: 2
> Date: Fri, 19 Jun 2009 19:44:21 +1200
> From: Lynne Pope <lynne.pope at gmail.com>
> Subject: Re: Replacing class="alignright" etc Was: Re: [wp-hackers]
> Linking stylesheet to RSS feeds
> To: wp-hackers at lists.automattic.com
> Message-ID:
> <427667db0906190044p7da29450ia9ebccacc40db4cb at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> 2009/6/19 Jeremy Clarke <jer at simianuprising.com>
> 
> > On Thu, Jun 18, 2009 at 8:01 PM, Lynne Pope<lynne.pope at gmail.com> wrote:
> > > And, for me, this has nothing to do with accessibility and everything to
> > do
> > > with usability - there are some really badly designed sites out there
> > that
> > > seem to put design above readability!
> >
> > I doubt any of these problems are caused by aligning photos inside
> > post text using float: I know the kind of issues you are talking
> > about, but they are usually caused by bad text formatting choices. I'd
> > NEVER try to impose my text formatting choices on someone reading an
> > RSS feed (i hate even doing it with email), but that's a really
> > different issue from alignment.
> 
> 
> I agree that image alignment in feeds is an issue, but its a slippery slope.
> The person who wants to align their images also generally wants to format
> captions, apply fonts or colours, and generally take over the user
> experience ;)
> 
> 
> >> I mean, in the context of
> > >> a blog post .alignright is almost structural for the content. An image
> > >> that's .alignright has a very specific semantic relationship with the
> > >> paragraph that follows it (e.g. it might say 'the photo to the right'
> > >> in the text).
> > >
> >
> >
> > > Those two classes aren't semantic. There is nothing about alignright that
> > > says it must align to the right. It's not always aligned or floated to
> > the
> > > right even in WordPress core, which overrides it and flips it around for
> > > sites that use RTL.
> >
> > To be clear, I wasn't saying that .alignright is itself actually a
> > semantic bit of markup. Rather I was saying that the use of
> > .alignright inside of a post is more than just a style decision, its a
> > structural content decision, and thus semantic in the *intent* of the
> > person using it on a photo . The fact that WP swaps the actual float
> > for RTL is a perfect example: it is working with the intended semantic
> > meaning of the right alignment rather than a specific style one.
> 
> 
> I don't want to get into an argument over semantics, but classes that are
> purely for presentation/design can only be called semantic, at a stretch, if
> they add to the understanding of the content. I see where you are coming
> from, but since class="alignright" actually aligns to the left in RTL
> themes, and can in fact be made to align almost anywhere, there really isn't
> any meaning to it. You could call it
> class="completely-nonsemantic-presentational-element" and still use it the
> exact same way ;)
> I guess it could be argued that its "somewhat" semantic if it does align to
> the right. Not convinced though!
> 
> On some level I'm just bemoaning the lack of an actual XHTML property
> > that lets you control alignment, because I think alignment IS a
> > structural issue within site content. Sure, <center> was a bad idea,
> > but the fact is that when we are creating mixed-media content (photos,
> > videos, pullquotes) we naturally want ways to control left and right
> > alignment. Removing align="left" from html was a good idea because
> > it's not how you should set up your site's sidebar, but its a shame
> > because now our posts end up looking like 1995 when they're viewed
> > using modern tools. I think it's pretty logically sound to say that
> > right alignment of photos in a blog post is more than a 'style' issue,
> > it's part of the content of the post. It just happens that CSS 'style'
> > is the only means of achieving right alignment.
> 
> 
> Sorry, disagree - its purely presentational. CSS allows styling, and HTML
> itself never really controlled this, except by allowing inline styling.
> Again, this is styling, not document structure.
> 
> 
> > I think if nothing else floating of images deserves a spot as an
> > exception to the rule against inline styles in posts. I also doubt you
> > would even notice, let alone be upset or find usability problems with
> > a feed that used basic floating and margins on images to make the
> > layout nicer (unless you get upset on principal, which is valid but
> > probably not productive ;)
> 
> 
> Styles have specificity and cascade. A few years back, some feed readers
> were caught on the hop when people started applying styles to their feeds.
> The result of this was that styled feeds were suddenly imposing their
> styling on every subsequent feed in the cascade, when viewed in the reader.
> This is not a problem if the reader/aggregator is displaying only one feed
> item at a time. It's still a problem for people who display external feed
> content on their own sites.
> 
> Think about it - if you use "alignright" on your site for content placement
> when the site is viewed in a browser, and you import a feed to your site
> which also uses "alignright", the feeds styling will override your own CSS
> unless you have deliberately added specificity. .alignright may be styled
> to clear floats, adding padding or margins, to apply borders or whatever -
> you get no control over this styling if its embedded in inlne styles. If a
> site does not float images, and uses a feed that does, can you imagine the
> screaming that would ensue?
> 
> I send an icon/logo with feeds, and I like seeing these in feeds I subscribe
> to. However, RSS is XML for a reason - its pure data format for machines and
> its designed to be display agnostic. To me, it becomes less than useful if
> styling is applied to individual feeds - might was well go to the web page.
> At least then,users get the option to view content with CSS off or go to
> print view ;)
> 
> But that's just me. I've unsubscribed to feeds that have forced styling on
> me, and the minute a feed throws in an image that is not meaningful to
> content, they are deleted from my subscriptions. Your mileage may vary ;)
> 
> Lynne
> 
> 
> ------------------------------
> 
> Message: 3
> Date: Fri, 19 Jun 2009 10:44:24 +0200
> From: Daiv Mowbray <daiv at daivmowbray.com>
> Subject: Re: [wp-hackers] How do you get jQuery tabs working in
> Wordpress 2.8?
> To: wp-hackers at lists.automattic.com
> Message-ID: <4ED1CF39-5DCF-4DFD-A494-9089C25D287E at daivmowbray.com>
> Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
> 
> 
> Hi thanx for the feedback, and well, I'm perplexed.
> I've applied the jquery as such;
> 
> function create_ui_tabs() {
> 
> jQuery(function() {
> var selector = '#ssslider';
> if ( typeof jQuery.prototype.selector === 'undefined' ) {
> // We have jQuery 1.2.x, tabs work better on UL
> selector += ' > ul';
> }
> jQuery( selector ).tabs({ fxFade: true, fxSpeed: 'slow' });
> 
> });
> };
> 
> jQuery(document).ready(function(){
> create_ui_tabs();
> });
> ____________________________________
> 
> and my html is:
> 
> <div id="ssslider" class="ui-tabs">
> <ul id="ssnav" class="ui-tabs-nav">
> <li class="ui-tabs-selected"><a 
> href="#fragment-1"><span>Global Options</span></a></li>
> <li class="ui-state-default"><a 
> href="#fragment-2"><span>Plugins Appearance</span></a></li>
> <li class="ui-state-default" style="display: none;"><a 
> href="#fragment-9"><span>Comment Slider</span></a></li>
> </ul>
> <div id="fragment-1" class="ui-tabs-panel">
> ...
> 
> 
> 
> 
> On Jun 18, 2009, at 3:29 PM, Dylan Kuhn wrote:
> 
> > I found by experimenting that in jQuery 1.3.x I have to select the 
> > container
> > of the tab UL, whereas in 1.2.x I had been selecting the UL itself. My
> > attempt (not claiming best practice) at code to work in both is 
> > something
> > like:
> 
> 
> ----------
> Daiv Mowbray
> daiv at daivmowbray.com
> ----------
> 
> 
> 
> 
> ------------------------------
> 
> Message: 4
> Date: Fri, 19 Jun 2009 11:49:07 +0200
> From: Daiv Mowbray <daiv at daivmowbray.com>
> Subject: Re: [wp-hackers] How do you get jQuery tabs working in
> Wordpress 2.8?
> To: wp-hackers at lists.automattic.com
> Message-ID: <38983EE9-79C5-478F-8809-6D6BAF7013F6 at daivmowbray.com>
> Content-Type: text/plain; charset=US-ASCII; format=flowed
> 
> Correction to my last post:
> 
> It seems that I failed to update cache or something.
> This following does work for 2.7 and 2.8 :
> ______________________
> 
> <script type="text/javascript">
> // <![CDATA[
> 
> function create_ui_tabs() {
> jQuery(function() {
> var selector = '#ssslider';
> if ( typeof jQuery.prototype.selector === 'undefined' ) {
> // We have jQuery 1.2.x, tabs work better on UL
> selector += ' > ul';
> }
> jQuery( selector ).tabs({ fxFade: true, fxSpeed: 'slow' });
> 
> });
> }
> 
> jQuery(document).ready(function(){
> create_ui_tabs();
> });
> 
> // ]]>
> </script>
> __________________________
> 
> 
> 
> On Jun 19, 2009, at 10:44 AM, Daiv Mowbray wrote:
> 
> > Hi thanx for the feedback, and well, I'm perplexed.
> > I've applied the jquery as such;
> 
> 
> ----------
> Daiv Mowbray
> daiv at daivmowbray.com
> ----------
> 
> 
> 
> 
> ------------------------------
> 
> Message: 5
> Date: Fri, 19 Jun 2009 04:49:31 -0600
> From: Dylan Kuhn <dylankkuhn at gmail.com>
> Subject: Re: [wp-hackers] How do you get jQuery tabs working in
> Wordpress 2.8?
> To: wp-hackers at lists.automattic.com
> Message-ID:
> <e7471da80906190349y6cc1274dvdbaaa72a79adb4c4 at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
> 
> Good. Just for clarity, I think the only necessary code is the content of
> you create_ui_tabs function. jQuery( function() { } ) is a shortcut for
> jQuery(document).ready( function() { } ) - maybe a good example of how
> shortcuts can reduce readbility.
> 
> Secondly, I agree with Heiko that testing the UI version is probably more
> robust, since tabs() is UI code. I also agree with Ozh that not using tabs
> at all is much more robust :). I'll probably use a compromise myself for
> now.
> 
> -dylan-
> 
> On Fri, Jun 19, 2009 at 3:49 AM, Daiv Mowbray <daiv at daivmowbray.com> wrote:
> 
> > Correction to my last post:
> >
> > It seems that I failed to update cache or something.
> > This following does work for 2.7 and 2.8 :
> > ______________________
> >
> > <script type="text/javascript">
> > // <![CDATA[
> >
> > function create_ui_tabs() {
> > jQuery(function() {
> > var selector = '#ssslider';
> > if ( typeof jQuery.prototype.selector === 'undefined' ) {
> > // We have jQuery 1.2.x, tabs work better on UL
> > selector += ' > ul';
> > }
> > jQuery( selector ).tabs({ fxFade: true, fxSpeed: 'slow' });
> >
> > });
> > }
> >
> > jQuery(document).ready(function(){
> > create_ui_tabs();
> > });
> >
> > // ]]>
> > </script>
> > __________________________
> >
> >
> >
> > On Jun 19, 2009, at 10:44 AM, Daiv Mowbray wrote:
> >
> > Hi thanx for the feedback, and well, I'm perplexed.
> >> I've applied the jquery as such;
> >>
> >
> >
> > ----------
> > Daiv Mowbray
> > daiv at daivmowbray.com
> > ----------
> >
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> 
> 
> ------------------------------
> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
> 
> 
> End of wp-hackers Digest, Vol 53, Issue 48
> ******************************************

_________________________________________________________________
Show them the way! Add maps and directions to your party invites. 
http://www.microsoft.com/windows/windowslive/products/events.aspx

From otto at ottodestruct.com  Fri Aug  7 13:22:50 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 7 Aug 2009 08:22:50 -0500
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <6F3B0CE7-E821-47B2-AEDC-D0379340A08E@newclarity.net>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405> 
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net> 
	<30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
	<A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net> 
	<161617690908061254i7c628fc0vd21e7608a6689384@mail.gmail.com> 
	<6F3B0CE7-E821-47B2-AEDC-D0379340A08E@newclarity.net>
Message-ID: <161617690908070622u795877afl7ff34286eeb6980f@mail.gmail.com>

On Thu, Aug 6, 2009 at 10:41 PM, Mike
Schinkel<mikeschinkel at newclarity.net> wrote:
> Everything I know
> about indexes (though am willing to learn otherwise) tells me that that
> you'll need to store 1 million values for meta_type+object_id...

Why would you make the index meta_type + object_id? I was talking
about just an index on the type. I'd want an entirely separate index
on the object_id, since you're going to probably pull records by
object_id a lot.

> How you can have a b-tree with only 3 levels deep with a 1 million records?
> ?10 million records? ?100 million records? ?I don't see how it is possible
> (I hope I'm wrong, so please educate me.)

The number of records is irrelevant to the index depth (its size grows
as a function of number of records). The depth of the b-tree is
determined solely by the number of unique values that you're indexing on.

-Otto
Sent from Memphis, TN, United States

From casey.bisson at gmail.com  Fri Aug  7 13:56:44 2009
From: casey.bisson at gmail.com (Casey Bisson)
Date: Fri, 7 Aug 2009 09:56:44 -0400
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
	<30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
	<A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net>
Message-ID: <4E380F4A-A800-4AD8-BE02-AE152B6BAB5C@gmail.com>


On Aug 6, 2009, at 1:12 AM, Mike Schinkel wrote:

> Are you saying that meta is not needed because of the taxonomy  
> system?  If yes, that's ironic because some of what I'm doing lately  
> really has me lamenting that limits of the taxonomy systems.
>
> Meta is used for attributes and values. Name/value pairs in other  
> words.  Taxonomy is used for classification.  But wait; what is  
> classification? Is it not simply attributes with a value of "Yes",  
> "No", or "Unknown?"
>
> Of course it is.  Everything boils down to attributes as name/value  
> pairs where the classification is also an attribute with potential  
> values of Yes/No/Unknown.  I believe even Tim Bray now agrees[1].
>
> So IMO the taxonomy system, while a good start, has a long way to go  
> before it can fully usable to replace metadata.

I think you misread my previous email, and our understanding of the  
purpose and best uses of the taxonomy and post_meta tables is different.

The taxonomy system is well optimized as a mechanism to querying for  
objects that match various criteria. The meta tables are good places  
to store bulk data for objects. The point of my previous email was not  
to suggest the taxonomy tables could or should replace meta, but that  
it would be counterproductive to expect the meta tables to be  
optimized for the types of queries that are better suited to the  
taxonomy system.

For some applications, this may mean that we'll have to store data in  
both the taxonomy and meta systems. Some people will argue that this  
defies the ideals of normalization, but others will point out that we  
should never let ideals get in the way of performance. Structured data  
that you want to display within a post is a good use of postmeta  
(perhaps saved as a serialized array). But if you want to select posts  
based on that data, you'd do well to include it in the taxonomy tables.


> Educate me please. Explain to me how the database engine has already  
> eliminated all but a couple/few rows. Honestly, I hope to find out  
> you have a point but I'm very skeptical.

The following, from update_post_meta_cache() represents the most  
frequent query to postmeta:

SELECT post_id, meta_key, meta_value
FROM $wpdb->postmeta
WHERE post_id IN ($id_list)

If we modify that to work with the proposed general table, it might  
look like this:

SELECT object_id, object_type, meta_key, meta_value
FROM $wpdb->generalmeta
WHERE object_id IN ($id_list)
AND object_type IN ($type_list)

In addition to the primary key for meta_id, the current postmeta table  
has a indexes on both post_id and meta_key. For the general meta  
table, I would suggest using those indexes plus an index on object_type.

When MySQL ( > 4.something when it became possible to use multiple  
indexes for a single query) executes that query, the query parser is  
optimized to use indexes in such a way that it eliminates the most  
rows first. So for most queries it would likely execute the object_id  
portion first, leaving only a few rows remaining to be compared.

--Casey
http://maisonbisson.com/

From mikeschinkel at newclarity.net  Fri Aug  7 14:46:08 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 7 Aug 2009 10:46:08 -0400
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <161617690908070622u795877afl7ff34286eeb6980f@mail.gmail.com>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
	<30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
	<A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net>
	<161617690908061254i7c628fc0vd21e7608a6689384@mail.gmail.com>
	<6F3B0CE7-E821-47B2-AEDC-D0379340A08E@newclarity.net>
	<161617690908070622u795877afl7ff34286eeb6980f@mail.gmail.com>
Message-ID: <C7338146-92B2-439C-A63F-18B14AE63D7A@newclarity.net>

> On Thu, Aug 6, 2009 at 10:41 PM, Mike
> Schinkel<mikeschinkel at newclarity.net> wrote:
>> Everything I know
>> about indexes (though am willing to learn otherwise) tells me that  
>> that
>> you'll need to store 1 million values for meta_type+object_id...
>
> Why would you make the index meta_type + object_id? I was talking
> about just an index on the type. I'd want an entirely separate index
> on the object_id, since you're going to probably pull records by
> object_id a lot.

meta_type + object_id uniquely identifies a record because you can  
have an object_id=1 for a post and an object_id=1 for a page, etc.

Of course, I'm now seeing your point which is that if you only index  
on object_id and there are never more than a few records with a given  
object id then selection of record by meta_type can be more  
efficiently handled in memory vs. having an index on it.  Gotcha.  
Thanks.

>> How you can have a b-tree with only 3 levels deep with a 1 million  
>> records?
>>  10 million records?  100 million records?  I don't see how it is  
>> possible
>> (I hope I'm wrong, so please educate me.)
> The number of records is irrelevant to the index depth (its size grows
> as a function of number of records). The depth of the b-tree is
> determined solely by the number of unique values that you're  
> indexing on.

However that still does not sounds correct based on everything my  
computer science profs taught me about B-trees. OTOH, it's a moot  
point related to the topic of this discussion so feel free to drop this.

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/


From mikeschinkel at newclarity.net  Fri Aug  7 14:59:42 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 7 Aug 2009 10:59:42 -0400
Subject: [wp-hackers] Meta tables: Take 5
In-Reply-To: <4E380F4A-A800-4AD8-BE02-AE152B6BAB5C@gmail.com>
References: <30620760.3741248713267705.JavaMail.DELL-1405$@Dell-1405>
	<0111AE0E-E416-4D22-8540-79736A39E31F@ftwr.co.uk>
	<13B9EB88-C7FE-4D70-969D-CD9997D4F5BE@newclarity.net>
	<30C52A7F-4647-4242-ACAA-5A8A24583D4E@gmail.com>
	<A428AEA2-5F80-49AF-85A7-180DC67F5052@newclarity.net>
	<4E380F4A-A800-4AD8-BE02-AE152B6BAB5C@gmail.com>
Message-ID: <CEBF5CE3-48CA-4FE1-814E-8515CF428C1D@newclarity.net>

On Aug 7, 2009, at 9:56 AM, Casey Bisson wrote:
> On Aug 6, 2009, at 1:12 AM, Mike Schinkel wrote:
>> Are you saying that meta is not needed because of the taxonomy  
>> system?  If yes, that's ironic because some of what I'm doing  
>> lately really has me lamenting that limits of the taxonomy systems.
>>
>> Meta is used for attributes and values. Name/value pairs in other  
>> words.  Taxonomy is used for classification.  But wait; what is  
>> classification? Is it not simply attributes with a value of "Yes",  
>> "No", or "Unknown?"
>>
>> Of course it is.  Everything boils down to attributes as name/value  
>> pairs where the classification is also an attribute with potential  
>> values of Yes/No/Unknown.  I believe even Tim Bray now agrees[1].
>>
>> So IMO the taxonomy system, while a good start, has a long way to  
>> go before it can fully usable to replace metadata.
>
> I think you misread my previous email, and our understanding of the  
> purpose and best uses of the taxonomy and post_meta tables is  
> different.

Forgive me if I misunderstood your purpose, not my intent.

> The taxonomy system is well optimized as a mechanism to querying for  
> objects that match various criteria. The meta tables are good places  
> to store bulk data for objects. The point of my previous email was  
> not to suggest the taxonomy tables could or should replace meta, but  
> that it would be counterproductive to expect the meta tables to be  
> optimized for the types of queries that are better suited to the  
> taxonomy system.

OTOH I think you misunderstood my purpose which is to say that  
separation of taxonomy from attributes becomes arbitrary for any given  
use case and thus would be better if it were unified.  For example, I  
have a website for project management solutions and each solution is  
tagged with attributes like "open source", "has api" etc. However, it  
would be much better if those tags could carry details about why a  
solution is open-source such as what language it's programmed in or  
what type of API it has.

Basically, forcing a distinction between taxonomy and attributes is  
arbitrary and results in important lack of flexibility as a system  
evolves.  I've run into that problem time and again in other systems  
I've worked with including open-source CMS and custom developed CMS.  
What would I like to see in it's place?  Maybe to have taxonomy have  
option meta data.

> For some applications, this may mean that we'll have to store data  
> in both the taxonomy and meta systems. Some people will argue that  
> this defies the ideals of normalization, but others will point out  
> that we should never let ideals get in the way of performance.

I'll let others debate the purity vs. performance. My concern is  
functionality and maintainability.

> Structured data that you want to display within a post is a good use  
> of postmeta (perhaps saved as a serialized array). But if you want  
> to select posts based on that data, you'd do well to include it in  
> the taxonomy tables.

That's a perfect abstract example of where separating taxonomy from  
meta forces someone to choose between two incomplete options.

>> Educate me please. Explain to me how the database engine has  
>> already eliminated all but a couple/few rows. Honestly, I hope to  
>> find out you have a point but I'm very skeptical.
>
> The following, from update_post_meta_cache() represents the most  
> frequent query to postmeta:
>
> SELECT post_id, meta_key, meta_value
> FROM $wpdb->postmeta
> WHERE post_id IN ($id_list)
>
> If we modify that to work with the proposed general table, it might  
> look like this:
>
> SELECT object_id, object_type, meta_key, meta_value
> FROM $wpdb->generalmeta
> WHERE object_id IN ($id_list)
> AND object_type IN ($type_list)
>
> In addition to the primary key for meta_id, the current postmeta  
> table has a indexes on both post_id and meta_key. For the general  
> meta table, I would suggest using those indexes plus an index on  
> object_type.
>
> When MySQL ( > 4.something when it became possible to use multiple  
> indexes for a single query) executes that query, the query parser is  
> optimized to use indexes in such a way that it eliminates the most  
> rows first. So for most queries it would likely execute the  
> object_id portion first, leaving only a few rows remaining to be  
> compared.

Between you and Otto I know understand this, thanks.  BTW, wouldn't  
you want to drop the index on post_id/object_id+meta_key since it will  
be large and won't really be needed?

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/






From wp-hackers at striderweb.com  Fri Aug  7 15:20:34 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri, 7 Aug 2009 10:20:34 -0500
Subject: [wp-hackers] Fwd: confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
References: <mailman.0.1245189931.97381.wp-trac@lists.automattic.com>
Message-ID: <6F493A85-1239-4A48-9789-69C6D4D2895C@striderweb.com>

Just an FYI to the Powers What Is:

I received this email TODAY in response to a subscribe request from  
two months ago.  Weird.

(No the confirmation code doesn't work any more....)

Stephen

Begin forwarded message:

> From: wp-trac-request at lists.automattic.com
> Date: June 16, 2009 5:05:31 PM CDT
> To: wp-hackers at striderweb.com
> Subject: confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
> Reply-To: wp-trac-request at lists.automattic.com
>
> Mailing list subscription confirmation notice for mailing list wp-trac
>
> We have received a request from 207.135.184.38 for subscription of
> your email address, "wp-hackers at striderweb.com", to the
> wp-trac at lists.automattic.com mailing list.  To confirm that you want
> to be added to this mailing list, simply reply to this message,
> keeping the Subject: header intact.  Or visit this web page:
>
>    http://lists.automattic.com/mailman/confirm/wp-trac/279638a2b8b99d9bd3f559abd22d4042133cce69
>
>
> Or include the following line -- and only the following line -- in a
> message to wp-trac-request at lists.automattic.com:
>
>    confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
>
> Note that simply sending a `reply' to this message should work from
> most mail readers, since that usually leaves the Subject: line in the
> right form (additional "Re:" text in the Subject: is okay).
>
> If you do not wish to be subscribed to this list, please simply
> disregard this message.  If you think you are being maliciously
> subscribed to the list, or have any other questions, send them to
> wp-trac-owner at lists.automattic.com.


From somani.mayur at gmail.com  Fri Aug  7 15:23:15 2009
From: somani.mayur at gmail.com (Mayur Somani)
Date: Fri, 7 Aug 2009 20:53:15 +0530
Subject: [wp-hackers] Fwd: confirm
	279638a2b8b99d9bd3f559abd22d4042133cce69
In-Reply-To: <6F493A85-1239-4A48-9789-69C6D4D2895C@striderweb.com>
References: <mailman.0.1245189931.97381.wp-trac@lists.automattic.com> 
	<6F493A85-1239-4A48-9789-69C6D4D2895C@striderweb.com>
Message-ID: <a51040f00908070823p4f912dffo24f03cef854bcb8b@mail.gmail.com>

I sent that cause i received it today.

On Fri, Aug 7, 2009 at 8:50 PM, Stephen Rider <wp-hackers at striderweb.com>wrote:

> Just an FYI to the Powers What Is:
>
> I received this email TODAY in response to a subscribe request from two
> months ago.  Weird.
>
> (No the confirmation code doesn't work any more....)
>
> Stephen
>
> Begin forwarded message:
>
>  From: wp-trac-request at lists.automattic.com
>> Date: June 16, 2009 5:05:31 PM CDT
>> To: wp-hackers at striderweb.com
>> Subject: confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
>> Reply-To: wp-trac-request at lists.automattic.com
>>
>> Mailing list subscription confirmation notice for mailing list wp-trac
>>
>> We have received a request from 207.135.184.38 for subscription of
>> your email address, "wp-hackers at striderweb.com", to the
>> wp-trac at lists.automattic.com mailing list.  To confirm that you want
>> to be added to this mailing list, simply reply to this message,
>> keeping the Subject: header intact.  Or visit this web page:
>>
>>
>> http://lists.automattic.com/mailman/confirm/wp-trac/279638a2b8b99d9bd3f559abd22d4042133cce69
>>
>>
>> Or include the following line -- and only the following line -- in a
>> message to wp-trac-request at lists.automattic.com:
>>
>>   confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
>>
>> Note that simply sending a `reply' to this message should work from
>> most mail readers, since that usually leaves the Subject: line in the
>> right form (additional "Re:" text in the Subject: is okay).
>>
>> If you do not wish to be subscribed to this list, please simply
>> disregard this message.  If you think you are being maliciously
>> subscribed to the list, or have any other questions, send them to
>> wp-trac-owner at lists.automattic.com.
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From night815 at gmail.com  Fri Aug  7 15:30:10 2009
From: night815 at gmail.com (Samuel Bortle)
Date: Fri, 7 Aug 2009 11:30:10 -0400
Subject: [wp-hackers] Fwd: confirm
	279638a2b8b99d9bd3f559abd22d4042133cce69
In-Reply-To: <a51040f00908070823p4f912dffo24f03cef854bcb8b@mail.gmail.com>
References: <mailman.0.1245189931.97381.wp-trac@lists.automattic.com>
	<6F493A85-1239-4A48-9789-69C6D4D2895C@striderweb.com>
	<a51040f00908070823p4f912dffo24f03cef854bcb8b@mail.gmail.com>
Message-ID: <59e7c6350908070830n2f49a4f4n6db1b446318bd20f@mail.gmail.com>

I also got one of these from the wp-testers. which i subscribed to a few
months back. wp-hackers list also sent me my login info like 3 times today.
something has gone screwy.

On Fri, Aug 7, 2009 at 11:23 AM, Mayur Somani <somani.mayur at gmail.com>wrote:

> I sent that cause i received it today.
>
> On Fri, Aug 7, 2009 at 8:50 PM, Stephen Rider <wp-hackers at striderweb.com
> >wrote:
>
> > Just an FYI to the Powers What Is:
> >
> > I received this email TODAY in response to a subscribe request from two
> > months ago.  Weird.
> >
> > (No the confirmation code doesn't work any more....)
> >
> > Stephen
> >
> > Begin forwarded message:
> >
> >  From: wp-trac-request at lists.automattic.com
> >> Date: June 16, 2009 5:05:31 PM CDT
> >> To: wp-hackers at striderweb.com
> >> Subject: confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
> >> Reply-To: wp-trac-request at lists.automattic.com
> >>
> >> Mailing list subscription confirmation notice for mailing list wp-trac
> >>
> >> We have received a request from 207.135.184.38 for subscription of
> >> your email address, "wp-hackers at striderweb.com", to the
> >> wp-trac at lists.automattic.com mailing list.  To confirm that you want
> >> to be added to this mailing list, simply reply to this message,
> >> keeping the Subject: header intact.  Or visit this web page:
> >>
> >>
> >>
> http://lists.automattic.com/mailman/confirm/wp-trac/279638a2b8b99d9bd3f559abd22d4042133cce69
> >>
> >>
> >> Or include the following line -- and only the following line -- in a
> >> message to wp-trac-request at lists.automattic.com:
> >>
> >>   confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
> >>
> >> Note that simply sending a `reply' to this message should work from
> >> most mail readers, since that usually leaves the Subject: line in the
> >> right form (additional "Re:" text in the Subject: is okay).
> >>
> >> If you do not wish to be subscribed to this list, please simply
> >> disregard this message.  If you think you are being maliciously
> >> subscribed to the list, or have any other questions, send them to
> >> wp-trac-owner at lists.automattic.com.
> >>
> >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From somani.mayur at gmail.com  Fri Aug  7 15:31:23 2009
From: somani.mayur at gmail.com (Mayur Somani)
Date: Fri, 7 Aug 2009 21:01:23 +0530
Subject: [wp-hackers] Fwd: confirm
	279638a2b8b99d9bd3f559abd22d4042133cce69
In-Reply-To: <59e7c6350908070830n2f49a4f4n6db1b446318bd20f@mail.gmail.com>
References: <mailman.0.1245189931.97381.wp-trac@lists.automattic.com> 
	<6F493A85-1239-4A48-9789-69C6D4D2895C@striderweb.com>
	<a51040f00908070823p4f912dffo24f03cef854bcb8b@mail.gmail.com> 
	<59e7c6350908070830n2f49a4f4n6db1b446318bd20f@mail.gmail.com>
Message-ID: <a51040f00908070831h33eca1f3w9968ebc61dbea37c@mail.gmail.com>

Yes, I also received the confirmation three time.

On Fri, Aug 7, 2009 at 9:00 PM, Samuel Bortle <night815 at gmail.com> wrote:

> I also got one of these from the wp-testers. which i subscribed to a few
> months back. wp-hackers list also sent me my login info like 3 times today.
> something has gone screwy.
>
> On Fri, Aug 7, 2009 at 11:23 AM, Mayur Somani <somani.mayur at gmail.com
> >wrote:
>
> > I sent that cause i received it today.
> >
> > On Fri, Aug 7, 2009 at 8:50 PM, Stephen Rider <wp-hackers at striderweb.com
> > >wrote:
> >
> > > Just an FYI to the Powers What Is:
> > >
> > > I received this email TODAY in response to a subscribe request from two
> > > months ago.  Weird.
> > >
> > > (No the confirmation code doesn't work any more....)
> > >
> > > Stephen
> > >
> > > Begin forwarded message:
> > >
> > >  From: wp-trac-request at lists.automattic.com
> > >> Date: June 16, 2009 5:05:31 PM CDT
> > >> To: wp-hackers at striderweb.com
> > >> Subject: confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
> > >> Reply-To: wp-trac-request at lists.automattic.com
> > >>
> > >> Mailing list subscription confirmation notice for mailing list wp-trac
> > >>
> > >> We have received a request from 207.135.184.38 for subscription of
> > >> your email address, "wp-hackers at striderweb.com", to the
> > >> wp-trac at lists.automattic.com mailing list.  To confirm that you want
> > >> to be added to this mailing list, simply reply to this message,
> > >> keeping the Subject: header intact.  Or visit this web page:
> > >>
> > >>
> > >>
> >
> http://lists.automattic.com/mailman/confirm/wp-trac/279638a2b8b99d9bd3f559abd22d4042133cce69
> > >>
> > >>
> > >> Or include the following line -- and only the following line -- in a
> > >> message to wp-trac-request at lists.automattic.com:
> > >>
> > >>   confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
> > >>
> > >> Note that simply sending a `reply' to this message should work from
> > >> most mail readers, since that usually leaves the Subject: line in the
> > >> right form (additional "Re:" text in the Subject: is okay).
> > >>
> > >> If you do not wish to be subscribed to this list, please simply
> > >> disregard this message.  If you think you are being maliciously
> > >> subscribed to the list, or have any other questions, send them to
> > >> wp-trac-owner at lists.automattic.com.
> > >>
> > >
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From matt at sivel.net  Fri Aug  7 15:42:24 2009
From: matt at sivel.net (Matt Martz)
Date: Fri, 7 Aug 2009 11:42:24 -0400
Subject: [wp-hackers] Fwd: confirm
	279638a2b8b99d9bd3f559abd22d4042133cce69
In-Reply-To: <a51040f00908070831h33eca1f3w9968ebc61dbea37c@mail.gmail.com>
References: <mailman.0.1245189931.97381.wp-trac@lists.automattic.com> 
	<6F493A85-1239-4A48-9789-69C6D4D2895C@striderweb.com>
	<a51040f00908070823p4f912dffo24f03cef854bcb8b@mail.gmail.com> 
	<59e7c6350908070830n2f49a4f4n6db1b446318bd20f@mail.gmail.com> 
	<a51040f00908070831h33eca1f3w9968ebc61dbea37c@mail.gmail.com>
Message-ID: <518fa9630908070842m6b36104cu70151f4665cad4fd@mail.gmail.com>

On Fri, Aug 7, 2009 at 11:31 AM, Mayur Somani<somani.mayur at gmail.com> wrote:
> Yes, I also received the confirmation three time.
>
> On Fri, Aug 7, 2009 at 9:00 PM, Samuel Bortle <night815 at gmail.com> wrote:
>
>> I also got one of these from the wp-testers. which i subscribed to a few
>> months back. wp-hackers list also sent me my login info like 3 times today.
>> something has gone screwy.
>>
>> On Fri, Aug 7, 2009 at 11:23 AM, Mayur Somani <somani.mayur at gmail.com
>> >wrote:
>>
>> > I sent that cause i received it today.
>> >
>> > On Fri, Aug 7, 2009 at 8:50 PM, Stephen Rider <wp-hackers at striderweb.com
>> > >wrote:
>> >
>> > > Just an FYI to the Powers What Is:
>> > >
>> > > I received this email TODAY in response to a subscribe request from two
>> > > months ago. ?Weird.
>> > >
>> > > (No the confirmation code doesn't work any more....)
>> > >
>> > > Stephen
>> > >
>> > > Begin forwarded message:
>> > >
>> > > ?From: wp-trac-request at lists.automattic.com
>> > >> Date: June 16, 2009 5:05:31 PM CDT
>> > >> To: wp-hackers at striderweb.com
>> > >> Subject: confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
>> > >> Reply-To: wp-trac-request at lists.automattic.com
>> > >>
>> > >> Mailing list subscription confirmation notice for mailing list wp-trac
>> > >>
>> > >> We have received a request from 207.135.184.38 for subscription of
>> > >> your email address, "wp-hackers at striderweb.com", to the
>> > >> wp-trac at lists.automattic.com mailing list. ?To confirm that you want
>> > >> to be added to this mailing list, simply reply to this message,
>> > >> keeping the Subject: header intact. ?Or visit this web page:
>> > >>
>> > >>
>> > >>
>> >
>> http://lists.automattic.com/mailman/confirm/wp-trac/279638a2b8b99d9bd3f559abd22d4042133cce69
>> > >>
>> > >>
>> > >> Or include the following line -- and only the following line -- in a
>> > >> message to wp-trac-request at lists.automattic.com:
>> > >>
>> > >> ? confirm 279638a2b8b99d9bd3f559abd22d4042133cce69
>> > >>
>> > >> Note that simply sending a `reply' to this message should work from
>> > >> most mail readers, since that usually leaves the Subject: line in the
>> > >> right form (additional "Re:" text in the Subject: is okay).
>> > >>
>> > >> If you do not wish to be subscribed to this list, please simply
>> > >> disregard this message. ?If you think you are being maliciously
>> > >> subscribed to the list, or have any other questions, send them to
>> > >> wp-trac-owner at lists.automattic.com.
>> > >>
>> > >
>> > > _______________________________________________
>> > > wp-hackers mailing list
>> > > wp-hackers at lists.automattic.com
>> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> > >
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hackers at lists.automattic.com
>> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>> >
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

Just ignore these.  It would appear that the list server has finally
been fixed and queued registrations and digests are being sent out
now.  Since they were queued for longer than 3 days which is the
length of time that the links are valid none of the confirmation links
will work.

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From sbruner at slipfire.com  Fri Aug  7 19:58:12 2009
From: sbruner at slipfire.com (Steve Bruner [SlipFire])
Date: Fri, 7 Aug 2009 15:58:12 -0400
Subject: [wp-hackers] Looking for WordPress Hackers in New York
Message-ID: <f8f68a600908071258h70c2965fpd6c096f26bb5c6c9@mail.gmail.com>

WordCamp is coming to New York City on Nov 14 and 15, and we're looking for
WordPress Hackers who want to participate.  Whether you want to volunteer
your time to help organize, or want to present and run a workshop, there are
definitely opportunities.

Feel free to email me directly or leave a comment on the official
WordCampNYC site:
-sbruner at slipfire.com
-http://2009.newyork.wordcamp.org/

Steve

From wordpress at santosj.name  Fri Aug  7 20:50:22 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 07 Aug 2009 15:50:22 -0500
Subject: [wp-hackers] Plugin API: Unique ID explanation
Message-ID: <4A7C938E.4050700@santosj.name>

Hooks are meant to be a bridge between your code and WordPress. That is, 
if you have a bridge going through a building, then you are doing 
something wrong. When you have the hook code along with your object 
code, then that is exactly what you are attempting to do. It is no 
wonder it doesn't work.

I'm not attempting to offend anyone [1], but the question on how to get 
an unique ID [2] for objects is the wrong one. The question that should 
be asked in my humble opinion [3] WTF are you using the same object to 
create the filters and actions in the first place. It isn't a question, 
it is an insult. A lot of developers do it and a lot of them probably 
are better developers than I am. Why then do I assert it? I'll explain.

The original solution was devised, because it was "good enough" and 
worked "well enough." That is, it worked in 10% of the use cases and 
well enough to hide flaws in the plugin developers design [4]. The 
problem has always been that until spl_object_hash() came along, you can 
never be sure that you are working with the same object.

PHP4 is pretty screwed as it relies completely on the original 
developers competence and if they have the problem in the first place 
[5]. So, if they forget the '&' before $this or $object, then everyone 
is screwed. PHP5 has less of this problem, because objects are passed by 
reference by default.

Jacob Santos


[1] This is obviously a lie.

[2] http://core.trac.wordpress.org/ticket/10487

[3] The overall design flaw wasn't that the same object being referenced 
could no longer be referenced in the future because it would inevitably 
change, it was that the same object was being used in the first place. 
The fact that static methods and functions don't have this problem needs 
to be researched further.

[4] Well, it appears that the only reason it worked, was that the 
algorithm was flawed in such a way that it did was it was intended, but 
not correctly in such a way that it just hid the bug in a really clever way.

[5] Programmers have different levels of competence in different areas 
of programming. Some people can create solutions like you've never seen, 
but just really can't do shit about OOP (OOP isn't about putting 
functions wrapped in a container with global variables with different 
levels of visibility, well it is, but it is more than that and I hate 
arguing about that).

From scribu at gmail.com  Fri Aug  7 21:01:54 2009
From: scribu at gmail.com (scribu)
Date: Sat, 8 Aug 2009 00:01:54 +0300
Subject: [wp-hackers] Plugin API: Unique ID explanation
In-Reply-To: <4A7C938E.4050700@santosj.name>
References: <4A7C938E.4050700@santosj.name>
Message-ID: <349fe48b0908071401m44be3745wce7f06ddf1c74aa5@mail.gmail.com>

What does the proposed meta API  have to do with hook ids and
spl_object_hash()!?


-- 
http://scribu.net

From wp-hackers at striderweb.com  Fri Aug  7 21:40:02 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Fri, 7 Aug 2009 16:40:02 -0500
Subject: [wp-hackers] Plugin API: Unique ID explanation
In-Reply-To: <4A7C938E.4050700@santosj.name>
References: <4A7C938E.4050700@santosj.name>
Message-ID: <15B11DC9-01D5-4E51-8AEE-3CCF32086150@striderweb.com>


On Aug 7, 2009, at 3:50 PM, Jacob Santos wrote:

> (OOP isn't about putting functions wrapped in a container with  
> global variables with different levels of visibility, well it is,  
> but it is more than that and I hate arguing about that)

I'm somewhat familiar with how OOP is *supposed* to work, but as most  
of my code is for WordPress, I tend to use it as "poor man's  
namespaces" within plugins.  Probably common in WP.  ;-)

Stephen

From wordpress at santosj.name  Fri Aug  7 21:51:34 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 07 Aug 2009 16:51:34 -0500
Subject: [wp-hackers] Plugin API: Unique ID explanation
Message-ID: <4A7CA1E6.50205@santosj.name>

Scribu,

The Plugin API has nothing to do with the proposed Meta API. You misunderstood the topic, please reread and reply if you have any rebuttals to the recent proposed fixes to the plugin API and how it builds the unique ID for filters and actions based on objects with methods that are not static.

Off topic: I already voiced my only concern with the proposed meta API, as that is the only thing I wanted to do and did so, I have nothing further to add or take away from the meta API. I'm glad someone else is implementing it, because as someone who has attempted it I did not like mine.

Jacob Santos


From gaarai at gaarai.com  Fri Aug  7 22:02:38 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri, 07 Aug 2009 17:02:38 -0500
Subject: [wp-hackers] Plugin API: Unique ID explanation
In-Reply-To: <4A7CA1E6.50205@santosj.name>
References: <4A7CA1E6.50205@santosj.name>
Message-ID: <4A7CA47E.9090105@gaarai.com>

Maybe it's just me, but I have no idea what you are talking about Jacob.
The basic idea I'm getting suggests that I should be interested, but the
extremely convoluted way in which you present your argument makes me
completely confused about what it is you are presenting an argument about.

It seems to me that there is some discussion going on somewhere about
using objects (instances of PHP classes) in relation to WordPress
actions and filters. The reason for my confusion is that you linked to a
Trac ticket about the Meta API while also saying that you are not
talking about the Meta API.

If the Plugin API is being discussed and you are saying that object
methods should not be the target for actions and filters, then I
definitely want to participate in the discussion. Everything I code is
done in classes.

Please let me know if I'm misunderstanding something.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Jacob Santos wrote:
> Scribu,
>
> The Plugin API has nothing to do with the proposed Meta API. You
> misunderstood the topic, please reread and reply if you have any
> rebuttals to the recent proposed fixes to the plugin API and how it
> builds the unique ID for filters and actions based on objects with
> methods that are not static.
>
> Off topic: I already voiced my only concern with the proposed meta
> API, as that is the only thing I wanted to do and did so, I have
> nothing further to add or take away from the meta API. I'm glad
> someone else is implementing it, because as someone who has attempted
> it I did not like mine.
>
> Jacob Santos
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jordi at jcanals.net  Fri Aug  7 22:07:31 2009
From: jordi at jcanals.net (Jordi Canals)
Date: Sat, 8 Aug 2009 00:07:31 +0200
Subject: [wp-hackers] How to know if a user has never logged in?
Message-ID: <eccf48430908071507u4529c681r8ca593f99170ebca@mail.gmail.com>

Hi to all,

I'm writing a plugin for on site who want to prune all users that have never
logged in. It has be done one week after registration.
I have the registration date on the users table but  didn't find in the API
nor the database any field that tracks id the use has logged in after
registering.
What I've done is: to save a user metadata with the last login date. and use
this to know if them have ever logged to the blog.

Just want to know if WP provides a better way to know if a user has ever
logged into the blog.

Thanks in advance,

---
Jordi Canals
http://alkivia.org
http://jcanals.net

From scribu at gmail.com  Fri Aug  7 22:13:52 2009
From: scribu at gmail.com (scribu)
Date: Sat, 8 Aug 2009 01:13:52 +0300
Subject: [wp-hackers] Plugin API: Unique ID explanation
In-Reply-To: <15B11DC9-01D5-4E51-8AEE-3CCF32086150@striderweb.com>
References: <4A7C938E.4050700@santosj.name>
	<15B11DC9-01D5-4E51-8AEE-3CCF32086150@striderweb.com>
Message-ID: <349fe48b0908071513q1da82d8ci155f44e8f33c2ea9@mail.gmail.com>

Since we're [aparently] on the topic, here's a patch for allowing closures:

http://core.trac.wordpress.org/ticket/10493


-- 
http://scribu.net

From wordpress at santosj.name  Fri Aug  7 22:19:18 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 07 Aug 2009 17:19:18 -0500
Subject: [wp-hackers] Plugin API: Unique ID explanation
Message-ID: <4A7CA866.5060509@santosj.name>

http://core.trac.wordpress.org/ticket/10535 is the correct link, I 
apologize for the confusion. The point is that people are using:

add_action('whatever', array(&$this, 'method'));

and people are attempting to make it to where if you do,

remove_action('whatever', array(&$this, 'method'));

that it will in fact remove the method from 'whatever'.

Currently, there are many use cases where it still does not. An attempt 
was made in October of 2007 to make it to where it does, however, the 
algorithm was flawed and only worked with a few use cases. The attempt 
is being made now, to extend the use cases that it works.

My contention was that instead of working around design flaws used by 
plugin developers that plugin developers should understand that 
functions and static methods do not suffer from the above. Every use 
case will work correctly. Furthermore, the hope to get the code to work 
on PHP4 is a fantasy, a farce.

It is a fun problem with an interesting solution, which is what peaked 
my curiosity. However, these two examples are far better as they don't 
suffer from WTF?s.

add_action('whatever', 'some_function');

add_action('whatever', array( 'some_class', 'some_function' ));

These two examples work with both PHP4 and PHP5.

I'll explain further that as many times as the function is used, it is a 
really bad idea to use the the first example as the overhead is quite a 
bit (overall it is small, but when you start to use it around 3000 to 
4000 times, the total time just from that function starts to exceed 1 
second (which is really, really just terrible). Good news is that most 
people will never get around that amount (or so we hope).

Jacob Santos

From gaarai at gaarai.com  Fri Aug  7 22:53:33 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Fri, 07 Aug 2009 17:53:33 -0500
Subject: [wp-hackers] Plugin API: Unique ID explanation
In-Reply-To: <4A7CA866.5060509@santosj.name>
References: <4A7CA866.5060509@santosj.name>
Message-ID: <4A7CB06D.3040200@gaarai.com>

Then what you are discussing does directly interest me as I use the
"array(&$this, 'method')" construct often in basically all of my code. I
have my reasons:

   1. Bundling all the code into a class allows me to freely code
      without worrying about variable or function name collisions.
   2. I make use of OOP features such as inheritance that allows for
      rapid code production.
   3. Code that I write ships to people who don't give a flip about PHP
      4 or PHP 5. If my code fails because it's PHP 5-only, they don't
      blame their host, they blame me.
   4. In some of my more advanced projects, I have multiple instances of
      individual classes that communicate using actions and filters.

Getting back to the topic. You're saying that the way I code is a design
flaw. At no point did any documentation say or even hint that even
though latching actions and filters to objects worked, it really
shouldn't be used.

Seems to me that the design flaw is in the add/remove functions. By no
means am I criticizing those who built or worked on it, but if you are
going to claim design flaw, point the finger toward the actual design
that has the flaw rather than the code the exposes the flaw.

I understand how everything works just fine when using a standard
function or static method, but frankly, that type of solution will not
work for some of my code. Much of my code needs to be instantiated, it's
how things function. Furthermore, some of my code instantiates multiple
instances of a class, each of which needs to have its own unique
action/filter references.

When you mention the overhead, are you saying that the action/filter
calls themselves have overhead or are you saying that using &$this
methods have increased overhead?

The main thing I'd like to know Jacob, is what you are looking for. You
brought up the topic as some sort of call to action. What kind of action
are wanting?

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Jacob Santos wrote:
> http://core.trac.wordpress.org/ticket/10535 is the correct link, I
> apologize for the confusion. The point is that people are using:
>
> add_action('whatever', array(&$this, 'method'));
>
> and people are attempting to make it to where if you do,
>
> remove_action('whatever', array(&$this, 'method'));
>
> that it will in fact remove the method from 'whatever'.
>
> Currently, there are many use cases where it still does not. An
> attempt was made in October of 2007 to make it to where it does,
> however, the algorithm was flawed and only worked with a few use
> cases. The attempt is being made now, to extend the use cases that it
> works.
>
> My contention was that instead of working around design flaws used by
> plugin developers that plugin developers should understand that
> functions and static methods do not suffer from the above. Every use
> case will work correctly. Furthermore, the hope to get the code to
> work on PHP4 is a fantasy, a farce.
>
> It is a fun problem with an interesting solution, which is what peaked
> my curiosity. However, these two examples are far better as they don't
> suffer from WTF?s.
>
> add_action('whatever', 'some_function');
>
> add_action('whatever', array( 'some_class', 'some_function' ));
>
> These two examples work with both PHP4 and PHP5.
>
> I'll explain further that as many times as the function is used, it is
> a really bad idea to use the the first example as the overhead is
> quite a bit (overall it is small, but when you start to use it around
> 3000 to 4000 times, the total time just from that function starts to
> exceed 1 second (which is really, really just terrible). Good news is
> that most people will never get around that amount (or so we hope).
>
> Jacob Santos
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From jordi at jcanals.net  Sat Aug  8 00:57:58 2009
From: jordi at jcanals.net (Jordi Canals)
Date: Sat, 8 Aug 2009 02:57:58 +0200
Subject: [wp-hackers] Plugin API: Unique ID explanation
In-Reply-To: <4A7C938E.4050700@santosj.name>
References: <4A7C938E.4050700@santosj.name>
Message-ID: <eccf48430908071757h1e36cea3r708b8e0cb7b7b664@mail.gmail.com>

PHP5 has less of this problem, because objects are passed by reference by
default.

That's not exact. in PHP 5 objects are not passed by reference by default.
It copies the object accessors from original variable to a new one, so both
variables access the same object.
http://www.php.net/manual/en/language.oop5.references.php

And normally, in PHP 5 it is recommended not to pass objects by reference.
As call-time pass-by-reference is deprecated.

--
Jordi Canals
http://alkivia.org
http://jcanals.net


> Jacob Santos
>
>
> [1] This is obviously a lie.
>
> [2] http://core.trac.wordpress.org/ticket/10487
>
> [3] The overall design flaw wasn't that the same object being referenced
> could no longer be referenced in the future because it would inevitably
> change, it was that the same object was being used in the first place. The
> fact that static methods and functions don't have this problem needs to be
> researched further.
>
> [4] Well, it appears that the only reason it worked, was that the algorithm
> was flawed in such a way that it did was it was intended, but not correctly
> in such a way that it just hid the bug in a really clever way.
>
> [5] Programmers have different levels of competence in different areas of
> programming. Some people can create solutions like you've never seen, but
> just really can't do shit about OOP (OOP isn't about putting functions
> wrapped in a container with global variables with different levels of
> visibility, well it is, but it is more than that and I hate arguing about
> that).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at santosj.name  Sat Aug  8 02:58:50 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 7 Aug 2009 21:58:50 -0500
Subject: [wp-hackers] Plugin API: Unique ID explanation
In-Reply-To: <eccf48430908071757h1e36cea3r708b8e0cb7b7b664@mail.gmail.com>
References: <4A7C938E.4050700@santosj.name>
	<eccf48430908071757h1e36cea3r708b8e0cb7b7b664@mail.gmail.com>
Message-ID: <20090807215850.37d3f662.wordpress@santosj.name>

While true, the cases where it would not be the same is not used within WordPress.

Jacob Santos

On Sat, 8 Aug 2009 02:57:58 +0200
Jordi Canals <jordi at jcanals.net> wrote:

> PHP5 has less of this problem, because objects are passed by reference by
> default.
> 
> That's not exact. in PHP 5 objects are not passed by reference by default.
> It copies the object accessors from original variable to a new one, so both
> variables access the same object.
> http://www.php.net/manual/en/language.oop5.references.php
> 
> And normally, in PHP 5 it is recommended not to pass objects by reference.
> As call-time pass-by-reference is deprecated.
> 
> --
> Jordi Canals
> http://alkivia.org
> http://jcanals.net
> 
> 
> > Jacob Santos
> >
> >
> > [1] This is obviously a lie.
> >
> > [2] http://core.trac.wordpress.org/ticket/10487
> >
> > [3] The overall design flaw wasn't that the same object being referenced
> > could no longer be referenced in the future because it would inevitably
> > change, it was that the same object was being used in the first place. The
> > fact that static methods and functions don't have this problem needs to be
> > researched further.
> >
> > [4] Well, it appears that the only reason it worked, was that the algorithm
> > was flawed in such a way that it did was it was intended, but not correctly
> > in such a way that it just hid the bug in a really clever way.
> >
> > [5] Programmers have different levels of competence in different areas of
> > programming. Some people can create solutions like you've never seen, but
> > just really can't do shit about OOP (OOP isn't about putting functions
> > wrapped in a container with global variables with different levels of
> > visibility, well it is, but it is more than that and I hate arguing about
> > that).
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


-- 
Jacob Santos <wordpress at santosj.name>


From wordpress at santosj.name  Sat Aug  8 03:05:24 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Fri, 7 Aug 2009 22:05:24 -0500
Subject: [wp-hackers] Plugin API: Unique ID explanation
In-Reply-To: <4A7CB06D.3040200@gaarai.com>
References: <4A7CA866.5060509@santosj.name>
	<4A7CB06D.3040200@gaarai.com>
Message-ID: <20090807220524.478cc898.wordpress@santosj.name>

The discussion on PHP4 is only that the developer has to be extra careful that they include the reference to $this and not just $this, because while it may work on PHP5, it isn't going to on PHP4, so the unique ID is never going to be assigned. I do not want this to be a PHP5 vs PHP4 discussion as it is outside the scope.

I'll toss number 1 aside as it is irrelevant. I usually "namespace" my functions with dragonu_whatever(), plugin_name_whatever(). I do see many plugin developers use this logic. I can see how the "GSD" paradigm fits in with development. You aren't being paid, nor will you receive any payment. If doing it "correctly" adds another 3 hours or so to development, I can see where doing it poorly makes a bit of sense [1].

For number 2, I see many plugins which include all of the plugin code in one single class. I could not extend their class without being a clone of that class. The problem is reuse and the pattern which does not include creating multiple instances of a class should not be not be using array(&$this, 'method');. I will still say that the design would be better off not needing to use array(&$this, 'method').


I'm getting away from my original point, which is that the past code does the best job at attempting to set up an unique ID. The problem is that the language itself does not provide a very good way at doing it reliably, so while you would be correct, the limitations of the language means that it is a design flaw of the plugin developer to not consider that perhaps it would not be a good idea to do it in that way.


Jacob Santos

[1] I've been told and read elsewhere that when doing freelance work, the client doesn't give a flip about whether it is done correctly, they just want it done and as soon as possible. I do not yet subscribe to the GSD paradigm as while I have done it in the past, I've found that having to rewrite code completely or not being able to reuse previous code was worse and more time consuming than attempting to do it right the first time.



On Fri, 07 Aug 2009 17:53:33 -0500
Chris Jean <gaarai at gaarai.com> wrote:

> Then what you are discussing does directly interest me as I use the
> "array(&$this, 'method')" construct often in basically all of my code. I
> have my reasons:
> 
>    1. Bundling all the code into a class allows me to freely code
>       without worrying about variable or function name collisions.
>    2. I make use of OOP features such as inheritance that allows for
>       rapid code production.
>    3. Code that I write ships to people who don't give a flip about PHP
>       4 or PHP 5. If my code fails because it's PHP 5-only, they don't
>       blame their host, they blame me.
>    4. In some of my more advanced projects, I have multiple instances of
>       individual classes that communicate using actions and filters.
> 
> Getting back to the topic. You're saying that the way I code is a design
> flaw. At no point did any documentation say or even hint that even
> though latching actions and filters to objects worked, it really
> shouldn't be used.
> 
> Seems to me that the design flaw is in the add/remove functions. By no
> means am I criticizing those who built or worked on it, but if you are
> going to claim design flaw, point the finger toward the actual design
> that has the flaw rather than the code the exposes the flaw.
> 
> I understand how everything works just fine when using a standard
> function or static method, but frankly, that type of solution will not
> work for some of my code. Much of my code needs to be instantiated, it's
> how things function. Furthermore, some of my code instantiates multiple
> instances of a class, each of which needs to have its own unique
> action/filter references.
> 
> When you mention the overhead, are you saying that the action/filter
> calls themselves have overhead or are you saying that using &$this
> methods have increased overhead?
> 
> The main thing I'd like to know Jacob, is what you are looking for. You
> brought up the topic as some sort of call to action. What kind of action
> are wanting?
> 
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> http://dnsyogi.com/
> 
> 
> 
> Jacob Santos wrote:
> > http://core.trac.wordpress.org/ticket/10535 is the correct link, I
> > apologize for the confusion. The point is that people are using:
> >
> > add_action('whatever', array(&$this, 'method'));
> >
> > and people are attempting to make it to where if you do,
> >
> > remove_action('whatever', array(&$this, 'method'));
> >
> > that it will in fact remove the method from 'whatever'.
> >
> > Currently, there are many use cases where it still does not. An
> > attempt was made in October of 2007 to make it to where it does,
> > however, the algorithm was flawed and only worked with a few use
> > cases. The attempt is being made now, to extend the use cases that it
> > works.
> >
> > My contention was that instead of working around design flaws used by
> > plugin developers that plugin developers should understand that
> > functions and static methods do not suffer from the above. Every use
> > case will work correctly. Furthermore, the hope to get the code to
> > work on PHP4 is a fantasy, a farce.
> >
> > It is a fun problem with an interesting solution, which is what peaked
> > my curiosity. However, these two examples are far better as they don't
> > suffer from WTF?s.
> >
> > add_action('whatever', 'some_function');
> >
> > add_action('whatever', array( 'some_class', 'some_function' ));
> >
> > These two examples work with both PHP4 and PHP5.
> >
> > I'll explain further that as many times as the function is used, it is
> > a really bad idea to use the the first example as the overhead is
> > quite a bit (overall it is small, but when you start to use it around
> > 3000 to 4000 times, the total time just from that function starts to
> > exceed 1 second (which is really, really just terrible). Good news is
> > that most people will never get around that amount (or so we hope).
> >
> > Jacob Santos
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


-- 
Jacob Santos <wordpress at santosj.name>


From johnbillion+wp at gmail.com  Sat Aug  8 03:17:51 2009
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Sat, 8 Aug 2009 04:17:51 +0100
Subject: [wp-hackers] How to know if a user has never logged in?
In-Reply-To: <eccf48430908071507u4529c681r8ca593f99170ebca@mail.gmail.com>
References: <eccf48430908071507u4529c681r8ca593f99170ebca@mail.gmail.com>
Message-ID: <1fa535a70908072017v2309671cqf654702a2dbd15f2@mail.gmail.com>

The way that I do it is to check for the wp_capabilities usermeta
field. This value only gets set to something the first time a user
logs in. Not ideal, but saves adding an extra meta field.

if ( get_usermeta( $user_id, $wpdb->prefix . 'capabilities' ) )
    // user has logged in at least once
else
    // user has never logged in

Definitely the need for a proper API method though.

HTH, John.

2009/8/7 Jordi Canals <jordi at jcanals.net>:
> Hi to all,
>
> I'm writing a plugin for on site who want to prune all users that have never
> logged in. It has be done one week after registration.
> I have the registration date on the users table but ?didn't find in the API
> nor the database any field that tracks id the use has logged in after
> registering.
> What I've done is: to save a user metadata with the last login date. and use
> this to know if them have ever logged to the blog.
>
> Just want to know if WP provides a better way to know if a user has ever
> logged into the blog.
>
> Thanks in advance,
>
> ---
> Jordi Canals
> http://alkivia.org
> http://jcanals.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jordi at jcanals.net  Sat Aug  8 10:49:02 2009
From: jordi at jcanals.net (Jordi Canals)
Date: Sat, 8 Aug 2009 12:49:02 +0200
Subject: [wp-hackers] How to know if a user has never logged in?
In-Reply-To: <1fa535a70908072017v2309671cqf654702a2dbd15f2@mail.gmail.com>
References: <eccf48430908071507u4529c681r8ca593f99170ebca@mail.gmail.com>
	<1fa535a70908072017v2309671cqf654702a2dbd15f2@mail.gmail.com>
Message-ID: <eccf48430908080349u1b1cf2beq99dfb6628537dd72@mail.gmail.com>

I checked your suggestion, and registered a user on my test site. Seen
that the user capabilities are set as soon has the user registers on
the site.
Almost in my case as soon has the user registered, It has the default
site capability, so it won't work to see if user has logged in or not.

A proper setting for user_status could be used for this. I've been
doing a code search and looks like the user_status is never set to any
value, just the default value when creating the user. Also, I know
that user_status is used on bbPress, but have to investigate how
bbPress uses this field to make a patch proposal.

Regards,
--
Jordi Canals
http://alkivia.org
http://jcanals.net

2009/8/8 John Blackbourn <johnbillion+wp at gmail.com>
>
> The way that I do it is to check for the wp_capabilities usermeta
> field. This value only gets set to something the first time a user
> logs in. Not ideal, but saves adding an extra meta field.
>
> if ( get_usermeta( $user_id, $wpdb->prefix . 'capabilities' ) )
> ? ?// user has logged in at least once
> else
> ? ?// user has never logged in
>
> Definitely the need for a proper API method though.
>
> HTH, John.
>

From jeremy at visser.name  Sat Aug  8 12:35:29 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Sat, 08 Aug 2009 22:35:29 +1000
Subject: [wp-hackers] Another tiny patch
Message-ID: <1249734929.4390.2.camel@rillian.narnia.sunriseroad.net>

I corrected a bug in Kubrick, where it was calling "echo bloginfo", but
that's redundant, as bloginfo() calls echo anyway. Somebody feel like
committing it?

https://core.trac.wordpress.org/ticket/10335

Thanks...


From peter.westwood at ftwr.co.uk  Sat Aug  8 14:27:43 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 8 Aug 2009 15:27:43 +0100
Subject: [wp-hackers] Another tiny patch
In-Reply-To: <1249734929.4390.2.camel@rillian.narnia.sunriseroad.net>
References: <1249734929.4390.2.camel@rillian.narnia.sunriseroad.net>
Message-ID: <AE0DD941-C2FC-47DD-B133-9D9820A36EEC@ftwr.co.uk>


On 8 Aug 2009, at 13:35, Jeremy Visser wrote:

> I corrected a bug in Kubrick, where it was calling "echo bloginfo",  
> but
> that's redundant, as bloginfo() calls echo anyway. Somebody feel like
> committing it?
>
> https://core.trac.wordpress.org/ticket/10335

Committed - https://core.trac.wordpress.org/changeset/11791

Please feel free to assign these to me in the future so they make it  
into my priority list for a quick review.

Thanks

westi
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From jeremy at visser.name  Sun Aug  9 01:10:58 2009
From: jeremy at visser.name (Jeremy Visser)
Date: Sun, 09 Aug 2009 11:10:58 +1000
Subject: [wp-hackers] Another tiny patch
In-Reply-To: <AE0DD941-C2FC-47DD-B133-9D9820A36EEC@ftwr.co.uk>
References: <1249734929.4390.2.camel@rillian.narnia.sunriseroad.net>
	<AE0DD941-C2FC-47DD-B133-9D9820A36EEC@ftwr.co.uk>
Message-ID: <1249780258.4381.0.camel@rillian.narnia.sunriseroad.net>

On Sat, 2009-08-08 at 15:27 +0100, Peter Westwood wrote:
> Committed - https://core.trac.wordpress.org/changeset/11791
> 
> Please feel free to assign these to me in the future so they make it  
> into my priority list for a quick review.

Cheers.


From aram.bv at gmail.com  Mon Aug 10 09:34:33 2009
From: aram.bv at gmail.com (Aram)
Date: Mon, 10 Aug 2009 14:34:33 +0500
Subject: [wp-hackers] help
In-Reply-To: <-5424696139972196557@unknownmsgid>
References: <-5424696139972196557@unknownmsgid>
Message-ID: <631193760908100234p29086c3h6b11e71d7e855823@mail.gmail.com>

why?

2009/8/7 Boyd ata MBB <boyd.carter at mybabyboomers.com>

> Please unsubscribe
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From websweetweb at gmail.com  Mon Aug 10 12:26:25 2009
From: websweetweb at gmail.com (rajasekharan)
Date: Mon, 10 Aug 2009 17:56:25 +0530
Subject: [wp-hackers] help
In-Reply-To: <631193760908100234p29086c3h6b11e71d7e855823@mail.gmail.com>
References: <-5424696139972196557@unknownmsgid>
	<631193760908100234p29086c3h6b11e71d7e855823@mail.gmail.com>
Message-ID: <4A8011F1.8090507@gmail.com>

yeah, why? i prefer to stay. i like this list..:P

Aram wrote:
> why?
>
> 2009/8/7 Boyd ata MBB<boyd.carter at mybabyboomers.com>
>
>    
>> Please unsubscribe
>>
>>
>>
>>
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>      
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>    


From aram.bv at gmail.com  Mon Aug 10 13:20:40 2009
From: aram.bv at gmail.com (Aram)
Date: Mon, 10 Aug 2009 18:20:40 +0500
Subject: [wp-hackers] help
In-Reply-To: <4A8011F1.8090507@gmail.com>
References: <-5424696139972196557@unknownmsgid>
	<631193760908100234p29086c3h6b11e71d7e855823@mail.gmail.com>
	<4A8011F1.8090507@gmail.com>
Message-ID: <631193760908100620r2af6185u92e9f51c1a57f25d@mail.gmail.com>

this is a spam i guess

2009/8/10 rajasekharan <websweetweb at gmail.com>

> yeah, why? i prefer to stay. i like this list..:P
>
>
> Aram wrote:
>
>> why?
>>
>> 2009/8/7 Boyd ata MBB<boyd.carter at mybabyboomers.com>
>>
>>
>>
>>> Please unsubscribe
>>>
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From liste at srpski.biz  Mon Aug 10 15:43:59 2009
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Mon, 10 Aug 2009 17:43:59 +0200
Subject: [wp-hackers] Issues with register_setting/add_settings_field
Message-ID: <9b6c20460908100843i67854ca0l6e117b21963732d4@mail.gmail.com>

(cross-posted from support forum)

I'm working on some hack (plugin) that should place checkbox on Permalink
Settings page in administration. Problem is that I can't save value in
database, no matter if field is checked or not.

Everything else works correct, i.e. if I manually change value of option in
database then checkbox is changed too, but I can't save after clicking on
Permalink Settings page.

Here is code:

//function to add field on Permalink Settings page
//based on http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/
function add_ser_cyr_to_lat_slug_settings_field() {

	// The fields are:
	//the id the form field will use
	//name to display on the page
	//callback function
	//the name of the page
	//the section of the page to add the field to
	add_settings_field('ser_cyr_to_lat_slug' , '????????????? ????????' ,
			'ser_cyr_to_lat_slug_field_callback' , 'permalink' , 'optional');

	//register the setting to make sure it gets checked
	register_setting('permalink','ser_cyr_to_lat_slug',
'ser_cyr_to_lat_slug_validate');
}

//function for printing field on Permalink Settings page
//based on http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/
function ser_cyr_to_lat_slug_field_callback() {
	global $ser_cyr_to_lat_slug, $broj;
	//print checkox ?>
	<label for="ser_cyr_to_lat_slug"><input id="ser_cyr_to_lat_slug"
name="ser_cyr_to_lat_slug" type="checkbox" value="1"
	<?php checked('1', get_option('ser_cyr_to_lat_slug')); ?>
	/> ???????? ?????? ????????? ? ???????? ????????? ????? ?
??????????????</label>

<?php }

// Sanitize and validate input.
//based on http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/
function ser_cyr_to_lat_slug_validate($input) {
	// Our first value is either 0 or 1
	$input = ( $input == 1 ? 1 : 0 );
	return $input;
}

//add action so that functions could actually work
add_action('admin_init', 'add_ser_cyr_to_lat_slug_settings_field');

As you can see, this script is based on Ozh's tip. When I first time tried
this tip, I just copied his functions and that worked without problem. Later
when I renamed functions and variables, this didn't work.
Here is code that worked:

add_action('admin_init', 'add_my_settings_field');

function add_my_settings_field(){

// The fields are:
//the id the form field will use
//name to display on the page
//callback function
//the name of the page
//the section of the page to add the field to
add_settings_field('my_field_id' , 'My Field Caption' ,
			'my_field_callback' , 'writing' , 'default');

//register the setting to make sure it gets checked
register_setting('writing','my_field_id', 'ozh_sampleoptions_validate');
}

$my_field_id = get_option('my_field_id');
$broj = 1;
//if (!$my_field_id) {

function my_field_callback(){
 global $my_field_id, $broj;
//echo out the text field, drop down, or other type of field. ?>
<input id="my_field_id" name="my_field_id" type="checkbox" value="1"
<?php checked('1', get_option('my_field_id')); ?>
 />

<?php }

// Sanitize and validate input. Accepts an array, return a sanitized array.
function ozh_sampleoptions_validate($input) {
	// Our first value is either 0 or 1
	$input = ( $input == 1 ? 1 : 0 );

	return $input;

}


I can't see where I made mistake. I spent a lot of time trying to fix this
but without success.
If you could see what is problem, please write it.
Thanks in advance.

From if.website at gmail.com  Mon Aug 10 17:09:49 2009
From: if.website at gmail.com (Austin Matzko)
Date: Mon, 10 Aug 2009 12:09:49 -0500
Subject: [wp-hackers] Issues with register_setting/add_settings_field
In-Reply-To: <9b6c20460908100843i67854ca0l6e117b21963732d4@mail.gmail.com>
References: <9b6c20460908100843i67854ca0l6e117b21963732d4@mail.gmail.com>
Message-ID: <674b4a3b0908101009j4fc0e539ud6b11143c0b849f0@mail.gmail.com>

On Mon, Aug 10, 2009 at 10:43 AM, Milan Dini?<liste at srpski.biz> wrote:
> As you can see, this script is based on Ozh's tip. When I first time tried
> this tip, I just copied his functions and that worked without problem. Later
> when I renamed functions and variables, this didn't work.

The problem is that the permalink options page does not post its forms
to wp-admin/options.php, as do the other settings pages.  So while you
can add input fields to that page, register_setting() does nothing for
you.

See <https://core.trac.wordpress.org/ticket/9296>

From mnikhil at gmail.com  Mon Aug 10 17:19:57 2009
From: mnikhil at gmail.com (Nikhil)
Date: Mon, 10 Aug 2009 22:49:57 +0530
Subject: [wp-hackers] Need help in making Changes to edit.php
Message-ID: <1e7c46190908101019p25e518b4o9d5d96abec3ba173@mail.gmail.com>

Hi Group,

I have been looking at making changes to edit.php under wp-admin, such that
in the editor when I add or link to any http reference, I should be able to
have another customized http link besides the original http link . I have
been looking at the edit WYSIWYG editor and it seems that the making or
breaking of the http reference link is taken care by the javascript side of
things which I found the definition in wp-lang.php. But certainly what I do
not get is that which / where is the code where I need to make changes to
get the 'Insert/ edit link' small javascript/ajax window so that while it
builds the http reference link, it should add another customized http link
just beside.

Any thoughts or suggestions would be very much useful.
Thanks again for the help.

Nikhil

From david at davidsaccess.com  Mon Aug 10 19:41:19 2009
From: david at davidsaccess.com (David Clark)
Date: Mon, 10 Aug 2009 15:41:19 -0400
Subject: [wp-hackers] Request for new mailing list wp-accessibility
In-Reply-To: <427667db0908061757v3dc59d7ci3cb0f8ff70e7d571@mail.gmail.com>
References: <427667db0905030102i653393e0k4a79d2b66700ce68@mail.gmail.com>
	<267D461C-7D55-45BC-8E1D-F3F2D58D1F2C@ftwr.co.uk>
	<427667db0908061757v3dc59d7ci3cb0f8ff70e7d571@mail.gmail.com>
Message-ID: <586fd6590908101241k352a23ecu2385aa3f2912bcc@mail.gmail.com>

I , for one, would like to be on record as saying this is a HORRIBLE
idea - especially in 2009. As someone that has been involved in web
accessibility since 1996 (yes, before the formation of WAI) and
wordpress developer since pre-1.2, I feel strongly that accessibility
is nothing more stan standards based development. Separate is not
equal, and detracts from widespread awareness/adoption.

On Thu, Aug 6, 2009 at 8:57 PM, Lynne Pope<lynne.pope at gmail.com> wrote:
> 2009/8/7 Peter Westwood <peter.westwood at ftwr.co.uk>
>
>>
>> On 3 May 2009, at 09:02, Lynne Pope wrote:
>>
>> ?This is a request for a new mailing list please.
>>>
>>> To date, anyone raising accessibility issues and proposing fixes is doing
>>> so
>>> either on wp-hackers, wp-testers, on the forums or in responses to
>>> surveys.
>>> Accessibility is an aspect of WP development that would benefit from an
>>> informal "working group" and having its own mailing list would enable
>>> those
>>> of us who know ATAG, WCAG and the other accessibility guidelines well, and
>>> how to implement them, to bring forward issues and reach agreement on the
>>> most appropriate fixes.
>>>
>>> There are a number of people outside of wp-hackers who are interested in
>>> seeing WordPress become accessible and having a mailing list may encourage
>>> these people to contribute.
>>>
>>> Getting all accessibility issues into one place would be a great step
>>> forward on its own. Too much inaccurate advice is being given elsewhere,
>>> including on the tracker, and this creates the risk that the core team can
>>> end up wasting time on code that they think will aid accessibility, but
>>> which does not - thereby compounding the problems.
>>>
>>> I hope you will view this request favourably and set up a new
>>> wp-accessibility mailing list.
>>> Apologies if this is not the right place to ask - I couldn't see where
>>> else
>>> I should direct this request.
>>>
>>>
>> This is/was a really good idea.
>>
>> And now we have working mailing list admin again we now have the list
>> created.
>>
>> So please come and join the party.
>>
>> http://lists.automattic.com/mailman/listinfo/wp-accessibility
>>
>
> Wonderful!
>
> Signed up!
>
> Lynne
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
dc

David Clark
16 Harcourt St #2I
Boston, MA 02116
617/294-9859

From lynne.pope at gmail.com  Tue Aug 11 01:31:20 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Tue, 11 Aug 2009 13:31:20 +1200
Subject: [wp-hackers] Request for new mailing list wp-accessibility
In-Reply-To: <586fd6590908101241k352a23ecu2385aa3f2912bcc@mail.gmail.com>
References: <427667db0905030102i653393e0k4a79d2b66700ce68@mail.gmail.com> 
	<267D461C-7D55-45BC-8E1D-F3F2D58D1F2C@ftwr.co.uk>
	<427667db0908061757v3dc59d7ci3cb0f8ff70e7d571@mail.gmail.com> 
	<586fd6590908101241k352a23ecu2385aa3f2912bcc@mail.gmail.com>
Message-ID: <427667db0908101831p245091b0jf29fe04d25950237@mail.gmail.com>

2009/8/11 David Clark <david at davidsaccess.com>

> I , for one, would like to be on record as saying this is a HORRIBLE
> idea - especially in 2009. As someone that has been involved in web
> accessibility since 1996 (yes, before the formation of WAI) and
> wordpress developer since pre-1.2, I feel strongly that accessibility
> is nothing more stan standards based development. Separate is not
> equal, and detracts from widespread awareness/adoption.


This list is not for keeping accessibility separate - it simpy provides an
area where those with an interest and/or expertise in understanding web
accessibility can get together to discuss areas of concern within the
WordPress core code, and agree on patches to the code to address
accessibility issues.

These kinds of discussions have been held periodically on wp-hackers, with
the result of creating noise for those whose interest lies in other
directions. As a result of some of those discussions amongst programmers,
well-meaning but damaging changes were proposed (such as alt tags on
labels). Sure, that example is one where Standards are broken, but the end
result of wp-hackers discussions is that we saw a lot of well-intentioned
developers setting themselves up for a lot of unnecessary work that would
have left WordPress less accessible. IMO, there needed to be a place where
an informal workgroup could get together and address accessibility issues. I
made the request for this mailing list after first raising the idea on
wp-hackers, and getting support for it there and through external
discussions.

Users need to have a place to raise accessibility issues and those working
with ATAG, WAI, and WCAG may not necessarily be PHP coders or have any
interest in wading through all the wp-hacker discussions. There was no other
mailing list suitable. Raising awareness of accessibility is not the
intention but could well be the outcome if enough people get behind the
initiative to make WordPress accessible.

I am sorry that you feel the existance of this list is a horrible idea. It
was mooted (and discussed) for several months before it became reality and
until now, there has only been a positive response.

Lynne

From mnikhil at gmail.com  Tue Aug 11 04:05:07 2009
From: mnikhil at gmail.com (Nikhil)
Date: Tue, 11 Aug 2009 09:35:07 +0530
Subject: [wp-hackers] Need help in making Changes to edit.php
In-Reply-To: <1e7c46190908101019p25e518b4o9d5d96abec3ba173@mail.gmail.com>
References: <1e7c46190908101019p25e518b4o9d5d96abec3ba173@mail.gmail.com>
Message-ID: <1e7c46190908102105w352bbeb0u366cca980d10c75e@mail.gmail.com>

On Mon, Aug 10, 2009 at 10:49 PM, Nikhil <mnikhil at gmail.com> wrote:

> Hi Group,
>
> I have been looking at making changes to edit.php under wp-admin, such that
> in the editor when I add or link to any http reference, I should be able to
> have another customized http link besides the original http link . I have
> been looking at the edit WYSIWYG editor and it seems that the making or
> breaking of the http reference link is taken care by the javascript side of
> things which I found the definition in wp-lang.php. But certainly what I do
> not get is that which / where is the code where I need to make changes to
> get the 'Insert/ edit link' small javascript/ajax window so that while it
> builds the http reference link, it should add another customized http link
> just beside.
>
> Any thoughts or suggestions would be very much useful.
> Thanks again for the help.
>
> Nikhil
>


I wonder if this has got to do with the tinyMCE editor? If yes, I am still
finding it difficult to identify the piece of code to make necessary
changes.

From admin at laptoptips.ca  Tue Aug 11 08:26:57 2009
From: admin at laptoptips.ca (Andrew Ozz)
Date: Tue, 11 Aug 2009 01:26:57 -0700
Subject: [wp-hackers] Changeset 11804
Message-ID: <4A812B51.9000100@laptoptips.ca>

Hi,

Could we get some testing and more "eyes" on 
https://core.trac.wordpress.org/changeset/11804 (for the 2.8 branch) or 
[11801], [11802] and [11803] for trunk. They fix an annoyance in 
wp-login.php where the password could be reset without the user 
realizing it.

From liste at srpski.biz  Tue Aug 11 13:09:45 2009
From: liste at srpski.biz (=?UTF-8?B?TWlsYW4gRGluacSH?=)
Date: Tue, 11 Aug 2009 15:09:45 +0200
Subject: [wp-hackers] Issues with register_setting/add_settings_field
In-Reply-To: <674b4a3b0908101009j4fc0e539ud6b11143c0b849f0@mail.gmail.com>
References: <9b6c20460908100843i67854ca0l6e117b21963732d4@mail.gmail.com>
	<674b4a3b0908101009j4fc0e539ud6b11143c0b849f0@mail.gmail.com>
Message-ID: <9b6c20460908110609i621019j70b6495e418d4463@mail.gmail.com>

Yeah, that was it, thank you. It's stupid that this is still not solved and
people could spend a lot of time because they are not aware of a bug.

2009/8/10 Austin Matzko <if.website at gmail.com>

> On Mon, Aug 10, 2009 at 10:43 AM, Milan Dini?<liste at srpski.biz> wrote:
> > As you can see, this script is based on Ozh's tip. When I first time
> tried
> > this tip, I just copied his functions and that worked without problem.
> Later
> > when I renamed functions and variables, this didn't work.
>
> The problem is that the permalink options page does not post its forms
> to wp-admin/options.php, as do the other settings pages.  So while you
> can add input fields to that page, register_setting() does nothing for
> you.
>
> See <https://core.trac.wordpress.org/ticket/9296>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From info at toscho.de  Tue Aug 11 14:13:29 2009
From: info at toscho.de (Thomas Scholz)
Date: Tue, 11 Aug 2009 16:13:29 +0200
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <4A812B51.9000100@laptoptips.ca>
References: <4A812B51.9000100@laptoptips.ca>
Message-ID: <op.uyh4grzrr6yny2@toscho.de>

Andrew Ozz:

> Could we get some testing and more "eyes" on  
> https://core.trac.wordpress.org/changeset/11804 (for the 2.8 branch) or  
> [11801], [11802] and [11803] for trunk. They fix an annoyance in  
> wp-login.php where the password could be reset without the user  
> realizing it.

Where is the bug for this? I know  
<http://core.trac.wordpress.org/changeset/11798> and there are maybe more.  
But I couldn?t find the bug discussion.


I tried to fix this in my own installation:

- $key = preg_replace('/[^a-z0-9]/i', '', $key);
+ if ( !is_string($key) or (!preg_match('/[^a-z0-9]/i', $key) ) )
	{
		// This could be done much better ?
		die('Go away!');
	}

Changeset 11798 for example doesn?t look for U+00A0 (&nbsp;), U+0000 etc.

Could this be a problem?

Thomas

-- 
Redaktion, Druck- und Webdesign
http://toscho.de ? 0160/1764727
Twitter: @toscho

From jane at automattic.com  Tue Aug 11 14:51:05 2009
From: jane at automattic.com (Jane Wells)
Date: Tue, 11 Aug 2009 07:51:05 -0700
Subject: [wp-hackers] Request for new mailing list wp-accessibility
In-Reply-To: <mailman.1391.1249963509.16651.wp-hackers@lists.automattic.com>
References: <mailman.1391.1249963509.16651.wp-hackers@lists.automattic.com>
Message-ID: <64033369-1C4B-43D5-8E69-E82AF715EBFC@automattic.com>

Hi David. The fact is that while we want WordPress developers to all  
be cognizant of and dedicated to ensuring accessibility, not everyone  
is an expert. Fobbing it off as the equivalent of standards-compliant  
code is a copout, IMO, because I've seen chats between the four core  
developers when the accessibility-recommended technique was different  
than the standard accepted coding practice for something, and when you  
work in the hacks needed to support multiple platform/browser  
combinations, let's face it, nothing is simple.

The point of the list is not to further segment accessibility out of  
the main development discussion, but to help get errors fixed more  
promptly. With each release, there are a couple of volunteers who  
review trunk and give us recommendations on what was missed. The  
process for that is non-existent though, and generally involves me or  
a core dev asking someone to review trunk, run it through a couple of  
screen readers, etc. to find things for us to fix. Just as the wp- 
testers list harnesses the QA power of a wide group of people without  
asking each one individually to QA on a daily basis, so will the wp- 
accessibility list harness the abilities of a wider contributing group  
without placing undue burden on any.

By having a place for discussion, the accessibility-oriented minds  
among us can review the app on an ongoing basis and identify things to  
fix as they appear, rather than waiting until a release is almost  
finished. Different approaches to the fix itself can be discussed,  
leading to a better recommendation for implementation. I expect there  
will still be accessibility discussions on the wp-hackers list on  
occasion, but for focused accessibility problem solving, I think a  
separate list is appropriate so that people who are interested in  
accessibility but not so much in how to deal with database issues can  
avoid an overflowing inbox of hackers emails. Those who are passionate  
about both can just join both lists.
Jane


........................

On Aug 10, 2009, at 9:05 PM, David Clark wrote:

I , for one, would like to be on record as saying this is a HORRIBLE
idea - especially in 2009. As someone that has been involved in web
accessibility since 1996 (yes, before the formation of WAI) and
wordpress developer since pre-1.2, I feel strongly that accessibility
is nothing more stan standards based development. Separate is not
equal, and detracts from widespread awareness/adoption.


From jane at automattic.com  Tue Aug 11 14:51:30 2009
From: jane at automattic.com (Jane Wells)
Date: Tue, 11 Aug 2009 07:51:30 -0700
Subject: [wp-hackers] Request for new mailing list wp-accessibility
In-Reply-To: <mailman.1391.1249963509.16651.wp-hackers@lists.automattic.com>
References: <mailman.1391.1249963509.16651.wp-hackers@lists.automattic.com>
Message-ID: <DFB14D92-94C3-4406-87DA-92F9DF65A07B@automattic.com>

Hi David. The fact is that while we want WordPress developers to all  
be cognizant of and dedicated to ensuring accessibility, not everyone  
is an expert. Fobbing it off as the equivalent of standards-compliant  
code is a copout, IMO, because I've seen chats between the four core  
developers when the accessibility-recommended technique was different  
than the standard accepted coding practice for something, and when you  
work in the hacks needed to support multiple platform/browser  
combinations, let's face it, nothing is simple.

The point of the list is not to further segment accessibility out of  
the main development discussion, but to help get errors fixed more  
promptly. With each release, there are a couple of volunteers who  
review trunk and give us recommendations on what was missed. The  
process for that is non-existent though, and generally involves me or  
a core dev asking someone to review trunk, run it through a couple of  
screen readers, etc. to find things for us to fix. Just as the wp- 
testers list harnesses the QA power of a wide group of people without  
asking each one individually to QA on a daily basis, so will the wp- 
accessibility list harness the abilities of a wider contributing group  
without placing undue burden on any.

By having a place for discussion, the accessibility-oriented minds  
among us can review the app on an ongoing basis and identify things to  
fix as they appear, rather than waiting until a release is almost  
finished. Different approaches to the fix itself can be discussed,  
leading to a better recommendation for implementation. I expect there  
will still be accessibility discussions on the wp-hackers list on  
occasion, but for focused accessibility problem solving, I think a  
separate list is appropriate so that people who are interested in  
accessibility but not so much in how to deal with database issues can  
avoid an overflowing inbox of hackers emails. Those who are passionate  
about both can just join both lists.
Jane


........................

On Aug 10, 2009, at 9:05 PM, David Clark wrote:

I , for one, would like to be on record as saying this is a HORRIBLE
idea - especially in 2009. As someone that has been involved in web
accessibility since 1996 (yes, before the formation of WAI) and
wordpress developer since pre-1.2, I feel strongly that accessibility
is nothing more stan standards based development. Separate is not
equal, and detracts from widespread awareness/adoption.


From otto at ottodestruct.com  Tue Aug 11 18:51:44 2009
From: otto at ottodestruct.com (Otto)
Date: Tue, 11 Aug 2009 13:51:44 -0500
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <4A812B51.9000100@laptoptips.ca>
References: <4A812B51.9000100@laptoptips.ca>
Message-ID: <161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com>

Not sure what the point of this is, exactly.

It basically eliminates an issue where identical activation keys (luck
o' the draw) could cause somebody to reset the wrong users password.

But that seems pretty low probability to me, given the key randomness.


-Otto



On Tue, Aug 11, 2009 at 3:26 AM, Andrew Ozz<admin at laptoptips.ca> wrote:
> Hi,
>
> Could we get some testing and more "eyes" on
> https://core.trac.wordpress.org/changeset/11804 (for the 2.8 branch) or
> [11801], [11802] and [11803] for trunk. They fix an annoyance in
> wp-login.php where the password could be reset without the user realizing
> it.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gaarai at gaarai.com  Tue Aug 11 19:14:12 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Tue, 11 Aug 2009 14:14:12 -0500
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com>
References: <4A812B51.9000100@laptoptips.ca>
	<161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com>
Message-ID: <4A81C304.3090506@gaarai.com>

The problem is that the user_activation_key field is empty unless a
reset password request has already been sent for the user. If the link
in the reset password email is clicked, the key is returned to blank
when the new password is added.

The only way to have a non-blank key is to request a password reset and
not click on the password reset link in the email.

Thus, if you request http://domain/wp-login.php?action=rp&key[]=, then
the key validity check is bypassed, a non-user-specific query is
executed, and the first user that is pulled up by the query will have
the password reset.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Otto wrote:
> Not sure what the point of this is, exactly.
>
> It basically eliminates an issue where identical activation keys (luck
> o' the draw) could cause somebody to reset the wrong users password.
>
> But that seems pretty low probability to me, given the key randomness.
>
>
> -Otto
>
>
>
> On Tue, Aug 11, 2009 at 3:26 AM, Andrew Ozz<admin at laptoptips.ca> wrote:
>   
>> Hi,
>>
>> Could we get some testing and more "eyes" on
>> https://core.trac.wordpress.org/changeset/11804 (for the 2.8 branch) or
>> [11801], [11802] and [11803] for trunk. They fix an annoyance in
>> wp-login.php where the password could be reset without the user realizing
>> it.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>     
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From otto at ottodestruct.com  Tue Aug 11 19:22:36 2009
From: otto at ottodestruct.com (Otto)
Date: Tue, 11 Aug 2009 14:22:36 -0500
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <4A81C304.3090506@gaarai.com>
References: <4A812B51.9000100@laptoptips.ca>
	<161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com> 
	<4A81C304.3090506@gaarai.com>
Message-ID: <161617690908111222j2ff9aed7s4767642c87952378@mail.gmail.com>

Ahhh. Well, in that case it makes more sense to simply disallow blank
activation keys to be passed into the function then. Validate your
inputs.

if empty($key) die "don't hack me you bastard"; // or similar ;)

Yes, you can force user confirmation as well, but that's not really
solving the problem at hand, just adding another uniqueness test to
find the correct user to reset the password for.


-Otto
Sent from Memphis, TN, United States


On Tue, Aug 11, 2009 at 2:14 PM, Chris Jean<gaarai at gaarai.com> wrote:
> The problem is that the user_activation_key field is empty unless a
> reset password request has already been sent for the user. If the link
> in the reset password email is clicked, the key is returned to blank
> when the new password is added.
>
> The only way to have a non-blank key is to request a password reset and
> not click on the password reset link in the email.
>
> Thus, if you request http://domain/wp-login.php?action=rp&key[]=, then
> the key validity check is bypassed, a non-user-specific query is
> executed, and the first user that is pulled up by the query will have
> the password reset.
>
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> http://dnsyogi.com/
>
>
>
> Otto wrote:
>> Not sure what the point of this is, exactly.
>>
>> It basically eliminates an issue where identical activation keys (luck
>> o' the draw) could cause somebody to reset the wrong users password.
>>
>> But that seems pretty low probability to me, given the key randomness.
>>
>>
>> -Otto
>>
>>
>>
>> On Tue, Aug 11, 2009 at 3:26 AM, Andrew Ozz<admin at laptoptips.ca> wrote:
>>
>>> Hi,
>>>
>>> Could we get some testing and more "eyes" on
>>> https://core.trac.wordpress.org/changeset/11804 (for the 2.8 branch) or
>>> [11801], [11802] and [11803] for trunk. They fix an annoyance in
>>> wp-login.php where the password could be reset without the user realizing
>>> it.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From gaarai at gaarai.com  Tue Aug 11 19:32:33 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Tue, 11 Aug 2009 14:32:33 -0500
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <161617690908111222j2ff9aed7s4767642c87952378@mail.gmail.com>
References: <4A812B51.9000100@laptoptips.ca>	<161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com>
	<4A81C304.3090506@gaarai.com>
	<161617690908111222j2ff9aed7s4767642c87952378@mail.gmail.com>
Message-ID: <4A81C751.5070003@gaarai.com>

The code actually has that exact test in it. wp-login.php line 190-191:

    if ( empty( $key ) )
        return new WP_Error('invalid_key', __('Invalid key'));

What it's not doing is a check for an array, which is why this works. So
not only do you have to validate, you have to type check.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Otto wrote:
> Ahhh. Well, in that case it makes more sense to simply disallow blank
> activation keys to be passed into the function then. Validate your
> inputs.
>
> if empty($key) die "don't hack me you bastard"; // or similar ;)
>
> Yes, you can force user confirmation as well, but that's not really
> solving the problem at hand, just adding another uniqueness test to
> find the correct user to reset the password for.
>
>
> -Otto
> Sent from Memphis, TN, United States

From wp-hackers at itsananderson.com  Tue Aug 11 19:42:15 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Tue, 11 Aug 2009 15:42:15 -0400
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <4A81C751.5070003@gaarai.com>
References: <4A812B51.9000100@laptoptips.ca>
	<161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com>
	<4A81C304.3090506@gaarai.com>
	<161617690908111222j2ff9aed7s4767642c87952378@mail.gmail.com>
	<4A81C751.5070003@gaarai.com>
Message-ID: <6dbcd2670908111242p65d26ea9h96c5245c6924b86d@mail.gmail.com>

On Tue, Aug 11, 2009 at 3:32 PM, Chris Jean <gaarai at gaarai.com> wrote:

> The code actually has that exact test in it. wp-login.php line 190-191:
>
>    if ( empty( $key ) )
>        return new WP_Error('invalid_key', __('Invalid key'));
>
> What it's not doing is a check for an array, which is why this works. So
> not only do you have to validate, you have to type check.
>
> Chris Jean
> http://gaarai.com/
> http://wp-roadmap.com/
> http://dnsyogi.com/
>

There's actually a type check in Trunk (now)
http://core.trac.wordpress.org/browser/trunk/wp-login.php?rev=11803#L190

-- 
Will Anderson
http://www.itsananderson.com/

From otto at ottodestruct.com  Tue Aug 11 20:17:11 2009
From: otto at ottodestruct.com (Otto)
Date: Tue, 11 Aug 2009 15:17:11 -0500
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <4A81C751.5070003@gaarai.com>
References: <4A812B51.9000100@laptoptips.ca>
	<161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com> 
	<4A81C304.3090506@gaarai.com>
	<161617690908111222j2ff9aed7s4767642c87952378@mail.gmail.com> 
	<4A81C751.5070003@gaarai.com>
Message-ID: <161617690908111317m6ac4afccn694aecffeedb58ad@mail.gmail.com>

On Tue, Aug 11, 2009 at 2:32 PM, Chris Jean<gaarai at gaarai.com> wrote:
> The code actually has that exact test in it. wp-login.php line 190-191:
>
> ? ?if ( empty( $key ) )
> ? ? ? ?return new WP_Error('invalid_key', __('Invalid key'));
>
> What it's not doing is a check for an array, which is why this works. So
> not only do you have to validate, you have to type check.

I don't follow that. An empty array is still empty.

http://php.net/manual/en/function.empty.php

 The following things are considered to be empty:

    * "" (an empty string)
    * 0 (0 as an integer)
    * "0" (0 as a string)
    * NULL
    * FALSE
    * array() (an empty array)
    * var $var; (a variable declared, but without a value in a class)


-Otto
Sent from Memphis, TN, United States

From wp-hackers at itsananderson.com  Tue Aug 11 20:20:10 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Tue, 11 Aug 2009 16:20:10 -0400
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <161617690908111317m6ac4afccn694aecffeedb58ad@mail.gmail.com>
References: <4A812B51.9000100@laptoptips.ca>
	<161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com>
	<4A81C304.3090506@gaarai.com>
	<161617690908111222j2ff9aed7s4767642c87952378@mail.gmail.com>
	<4A81C751.5070003@gaarai.com>
	<161617690908111317m6ac4afccn694aecffeedb58ad@mail.gmail.com>
Message-ID: <6dbcd2670908111320g7a2fb11er4b2f1f43df0babd6@mail.gmail.com>

On Tue, Aug 11, 2009 at 4:17 PM, Otto <otto at ottodestruct.com> wrote:

> On Tue, Aug 11, 2009 at 2:32 PM, Chris Jean<gaarai at gaarai.com> wrote:
> > The code actually has that exact test in it. wp-login.php line 190-191:
> >
> >    if ( empty( $key ) )
> >        return new WP_Error('invalid_key', __('Invalid key'));
> >
> > What it's not doing is a check for an array, which is why this works. So
> > not only do you have to validate, you have to type check.
>
> I don't follow that. An empty array is still empty.
>
> http://php.net/manual/en/function.empty.php
>
>  The following things are considered to be empty:
>
>    * "" (an empty string)
>    * 0 (0 as an integer)
>    * "0" (0 as a string)
>    * NULL
>    * FALSE
>    * array() (an empty array)
>    * var $var; (a variable declared, but without a value in a class)
>
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

But I'm pretty sure the array isn't empty. I think a print_r would output
something like...

Array(
    [0] => ''
)

Will Anderson
http://www.itsananderson.com/

From gaarai at gaarai.com  Tue Aug 11 20:21:09 2009
From: gaarai at gaarai.com (Chris Jean)
Date: Tue, 11 Aug 2009 15:21:09 -0500
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <161617690908111317m6ac4afccn694aecffeedb58ad@mail.gmail.com>
References: <4A812B51.9000100@laptoptips.ca>	<161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com>
	<4A81C304.3090506@gaarai.com>	<161617690908111222j2ff9aed7s4767642c87952378@mail.gmail.com>
	<4A81C751.5070003@gaarai.com>
	<161617690908111317m6ac4afccn694aecffeedb58ad@mail.gmail.com>
Message-ID: <4A81D2B5.9010402@gaarai.com>

But it's not an empty array. Passing arr[]= as an argument does not pass
in an empty array. It passes in an array with a single empty element,
which is not an empty array.

So, array('') passes the empty check since it's not empty. Then when it
is forced to a string, it becomes an empty string.

This is why it is extremely-critical to do type checking.

Chris Jean
http://gaarai.com/
http://wp-roadmap.com/
http://dnsyogi.com/



Otto wrote:
> On Tue, Aug 11, 2009 at 2:32 PM, Chris Jean<gaarai at gaarai.com> wrote:
>   
>> The code actually has that exact test in it. wp-login.php line 190-191:
>>
>>    if ( empty( $key ) )
>>        return new WP_Error('invalid_key', __('Invalid key'));
>>
>> What it's not doing is a check for an array, which is why this works. So
>> not only do you have to validate, you have to type check.
>>     
>
> I don't follow that. An empty array is still empty.
>
> http://php.net/manual/en/function.empty.php
>
>  The following things are considered to be empty:
>
>     * "" (an empty string)
>     * 0 (0 as an integer)
>     * "0" (0 as a string)
>     * NULL
>     * FALSE
>     * array() (an empty array)
>     * var $var; (a variable declared, but without a value in a class)
>
>
> -Otto
> Sent from Memphis, TN, United States
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>   

From emartin24 at gmail.com  Tue Aug 11 20:31:46 2009
From: emartin24 at gmail.com (Eric Martin)
Date: Tue, 11 Aug 2009 13:31:46 -0700 (PDT)
Subject: [wp-hackers] JavaScript,wp_enqueue_script and concatenation
In-Reply-To: <4f9525dc0908030814s1e2802eet6b43258bd0deae4c@mail.gmail.com>
References: <29b5b0d30908010846n3514603au1c971b62dae2a9a0@mail.gmail.com> 
	<161617690908030611w6b58b7cbh2f9a7007b66ed263@mail.gmail.com> 
	<77c8b7bf0908030800td56b98ai357f479598fae9e7@mail.gmail.com> 
	<4f9525dc0908030814s1e2802eet6b43258bd0deae4c@mail.gmail.com>
Message-ID: <db822f1b-2dc4-462f-8376-2a406e835ac2@i8g2000pro.googlegroups.com>

As far as I can tell, the script concatenation only works in the admin
section.

So, I'm just trying to figure out how to use wp_enqueue_script for
multiple scripts, but then force WP to print out one script tag for a
certain set of them. Any suggestions?

Thanks!

On Aug 3, 8:14?am, Tynan Colin Beatty <junsui... at gmail.com> wrote:
> It does not happen on its own. I chose to include a modified
> load-scripts.php from wp-admin into my theme's files (modified to allow
> concatenation of scripts from my theme as well as those in wp-includes/js
> scripts), but haven't had time to determine an optimal method of also
> including plugin scripts (there are other variables to consider when trying
> to include them as well, since some of them need to load in header, whereas
> I choose to load my concatenated script into the footer). The solution
> speeds things up a fair amount even without including plugins in the
> concatenated script (and if your theme doesn't have any js, would be even
> easier to implement). I'm thinking a nice approach might be to have 1 call
> to the concated script in head to take care of whatever has to be loaded
> there, and then a 2nd call to the same load-scripts.php, concatenating all
> the files that can wait for the footer.
>
> On Mon, Aug 3, 2009 at 10:00 AM, Simon Wheatley
> <si... at sweetinteraction.com>wrote:
>
>
>
> > On Mon, Aug 3, 2009 at 2:11 PM, Otto<o... at ottodestruct.com> wrote:
> > > On Sat, Aug 1, 2009 at 10:46 AM, Eric Martin<e... at ericmmartin.com>
> > wrote:
> > >> I use jQuery on my site and a handful of jquery plugins. I've been
> > >> doing quite a bit of thinking about ways to concatenate the scripts
> > >> together in order to reduce the number of requests made, while
> > >> maintaining the usefulness and features provided by wp_enqueue_script.
>
> > > I'm pretty sure that 2.8 already has this built in. All scripts get
> > > concatenated into a single call to load-scripts.php, if everything
> > > supports it properly.
>
> > Does this happen outside the admin area? I haven't noticed it myself,
> > but maybe my scripts calls aren't configured correctly.
>
> > S
>
> > ---
> > Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> > Registered office: 7 Malton Av, Manchester, M21 8AT
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hack... at lists.automattic.com
> >http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers

From scribu at gmail.com  Tue Aug 11 21:09:59 2009
From: scribu at gmail.com (scribu)
Date: Wed, 12 Aug 2009 00:09:59 +0300
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <4A81D2B5.9010402@gaarai.com>
References: <4A812B51.9000100@laptoptips.ca>
	<161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com>
	<4A81C304.3090506@gaarai.com>
	<161617690908111222j2ff9aed7s4767642c87952378@mail.gmail.com>
	<4A81C751.5070003@gaarai.com>
	<161617690908111317m6ac4afccn694aecffeedb58ad@mail.gmail.com>
	<4A81D2B5.9010402@gaarai.com>
Message-ID: <349fe48b0908111409t18413b67k220757ac12b01e59@mail.gmail.com>

I was running 2.9-rare and just updated the nightly release earlier today
and now I got a password reset without asking for it.

What gives?


-- 
http://scribu.net

From matt at sivel.net  Tue Aug 11 21:35:49 2009
From: matt at sivel.net (Matt Martz)
Date: Tue, 11 Aug 2009 17:35:49 -0400
Subject: [wp-hackers] Changeset 11804
In-Reply-To: <349fe48b0908111409t18413b67k220757ac12b01e59@mail.gmail.com>
References: <4A812B51.9000100@laptoptips.ca>
	<161617690908111151k3041d3fbuc887cfc0b2e4f324@mail.gmail.com> 
	<4A81C304.3090506@gaarai.com>
	<161617690908111222j2ff9aed7s4767642c87952378@mail.gmail.com> 
	<4A81C751.5070003@gaarai.com>
	<161617690908111317m6ac4afccn694aecffeedb58ad@mail.gmail.com> 
	<4A81D2B5.9010402@gaarai.com>
	<349fe48b0908111409t18413b67k220757ac12b01e59@mail.gmail.com>
Message-ID: <518fa9630908111435t142697ecued037f12681e5b8f@mail.gmail.com>

On Tue, Aug 11, 2009 at 5:09 PM, scribu<scribu at gmail.com> wrote:
> I was running 2.9-rare and just updated the nightly release earlier today
> and now I got a password reset without asking for it.
>
> What gives?
>
>
> --
> http://scribu.net

I do not believe the nightly release will yet contain the fix.

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From sojweb at indiana.edu  Wed Aug 12 15:56:37 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Wed, 12 Aug 2009 11:56:37 -0400
Subject: [wp-hackers] Quck edit author problem
Message-ID: <AD42418A-ED24-41F5-89A3-814095C2B311@indiana.edu>

I'm having a problem with the Quick Edit function as described here:

http://core.trac.wordpress.org/ticket/9403

Essentially, if you have a post by a certain author, then change the  
role of that author to subscriber, and then use the quick edit feature  
to edit the post (to say, change the title), the author is set to  
whoever made the edit. According to the ticket this is fixed, but it's  
still doing it for me in 2.8.4

There is a simple fix for it that I attached to the ticket as a patch,  
but I wanted to run it by the list to see if maybe I'm missing  
something. This isn't the way it's supposed to work, is it?


-Jeff Johnson


From mnikhil at gmail.com  Thu Aug 13 05:33:24 2009
From: mnikhil at gmail.com (Nikhil)
Date: Thu, 13 Aug 2009 11:03:24 +0530
Subject: [wp-hackers] Need help in making Changes to edit.php
In-Reply-To: <1e7c46190908102105w352bbeb0u366cca980d10c75e@mail.gmail.com>
References: <1e7c46190908101019p25e518b4o9d5d96abec3ba173@mail.gmail.com>
	<1e7c46190908102105w352bbeb0u366cca980d10c75e@mail.gmail.com>
Message-ID: <1e7c46190908122233h18d30619k2315f3613dbe7f14@mail.gmail.com>

On Tue, Aug 11, 2009 at 9:35 AM, Nikhil <mnikhil at gmail.com> wrote:

>
>
> On Mon, Aug 10, 2009 at 10:49 PM, Nikhil <mnikhil at gmail.com> wrote:
>
>> Hi Group,
>>
>> I have been looking at making changes to edit.php under wp-admin, such
>> that in the editor when I add or link to any http reference, I should be
>> able to have another customized http link besides the original http link . I
>> have been looking at the edit WYSIWYG editor and it seems that the making or
>> breaking of the http reference link is taken care by the javascript side of
>> things which I found the definition in wp-lang.php. But certainly what I do
>> not get is that which / where is the code where I need to make changes to
>> get the 'Insert/ edit link' small javascript/ajax window so that while it
>> builds the http reference link, it should add another customized http link
>> just beside.
>>
>> Any thoughts or suggestions would be very much useful.
>> Thanks again for the help.
>>
>> Nikhil
>>
>
>
> I wonder if this has got to do with the tinyMCE editor? If yes, I am still
> finding it difficult to identify the piece of code to make necessary
> changes.
>
>

Hi group,

I have been trying my luck for long now, but my limited knowledge on
javascript still haunts me to get to no right finding of the solution. Can
anyone more knowledged with internals of wp-admin of wordpress software
please help me here?
I am happy to let know more details of what I am trying to do .

From aruniihtmeerut at gmail.com  Thu Aug 13 11:18:18 2009
From: aruniihtmeerut at gmail.com (arun kumar)
Date: Thu, 13 Aug 2009 16:48:18 +0530
Subject: [wp-hackers] Need help in making Changes to edit.php
In-Reply-To: <1e7c46190908122233h18d30619k2315f3613dbe7f14@mail.gmail.com>
References: <1e7c46190908101019p25e518b4o9d5d96abec3ba173@mail.gmail.com>
	<1e7c46190908102105w352bbeb0u366cca980d10c75e@mail.gmail.com>
	<1e7c46190908122233h18d30619k2315f3613dbe7f14@mail.gmail.com>
Message-ID: <b692ba4b0908130418u2dae6552m98d415fc76ed431e@mail.gmail.com>

hello Mr. Nikhil
I m Arun Chaudhary from UP
I m intreting in Hacking can u plz help me n can send some tricks n tips
plzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz


On 8/13/09, Nikhil <mnikhil at gmail.com> wrote:
>
> On Tue, Aug 11, 2009 at 9:35 AM, Nikhil <mnikhil at gmail.com> wrote:
>
> >
> >
> > On Mon, Aug 10, 2009 at 10:49 PM, Nikhil <mnikhil at gmail.com> wrote:
> >
> >> Hi Group,
> >>
> >> I have been looking at making changes to edit.php under wp-admin, such
> >> that in the editor when I add or link to any http reference, I should be
> >> able to have another customized http link besides the original http link
> . I
> >> have been looking at the edit WYSIWYG editor and it seems that the
> making or
> >> breaking of the http reference link is taken care by the javascript side
> of
> >> things which I found the definition in wp-lang.php. But certainly what I
> do
> >> not get is that which / where is the code where I need to make changes
> to
> >> get the 'Insert/ edit link' small javascript/ajax window so that while
> it
> >> builds the http reference link, it should add another customized http
> link
> >> just beside.
> >>
> >> Any thoughts or suggestions would be very much useful.
> >> Thanks again for the help.
> >>
> >> Nikhil
> >>
> >
> >
> > I wonder if this has got to do with the tinyMCE editor? If yes, I am
> still
> > finding it difficult to identify the piece of code to make necessary
> > changes.
> >
> >
>
> Hi group,
>
> I have been trying my luck for long now, but my limited knowledge on
> javascript still haunts me to get to no right finding of the solution. Can
> anyone more knowledged with internals of wp-admin of wordpress software
> please help me here?
> I am happy to let know more details of what I am trying to do .
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Arun Chuadhary
HCL-CDC
Moradabad
09997116239

From alan at verselogic.net  Thu Aug 13 17:25:13 2009
From: alan at verselogic.net (Alan Castonguay)
Date: Thu, 13 Aug 2009 13:25:13 -0400
Subject: [wp-hackers] Need help in making Changes to edit.php
In-Reply-To: <b692ba4b0908130418u2dae6552m98d415fc76ed431e@mail.gmail.com>
References: <1e7c46190908101019p25e518b4o9d5d96abec3ba173@mail.gmail.com>
	<1e7c46190908102105w352bbeb0u366cca980d10c75e@mail.gmail.com>
	<1e7c46190908122233h18d30619k2315f3613dbe7f14@mail.gmail.com>
	<b692ba4b0908130418u2dae6552m98d415fc76ed431e@mail.gmail.com>
Message-ID: <E779BFCA-6160-44F9-A74D-05785AF055C7@verselogic.net>

Take a look at the code in svn and the tickets in trac, find a bug  
that interests you and doesn't have a patch. Try to write a patch for  
the issue, and post in the trac ticket.

Alan J Castonguay

Sent from my iPhone

On Aug 13, 2009, at 7:18 AM, arun kumar <aruniihtmeerut at gmail.com>  
wrote:

> hello Mr. Nikhil
> I m Arun Chaudhary from UP
> I m intreting in Hacking can u plz help me n can send some tricks n  
> tips
> plzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
>
>
> On 8/13/09, Nikhil <mnikhil at gmail.com> wrote:
>>
>> On Tue, Aug 11, 2009 at 9:35 AM, Nikhil <mnikhil at gmail.com> wrote:
>>
>>>
>>>
>>> On Mon, Aug 10, 2009 at 10:49 PM, Nikhil <mnikhil at gmail.com> wrote:
>>>
>>>> Hi Group,
>>>>
>>>> I have been looking at making changes to edit.php under wp-admin,  
>>>> such
>>>> that in the editor when I add or link to any http reference, I  
>>>> should be
>>>> able to have another customized http link besides the original  
>>>> http link
>> . I
>>>> have been looking at the edit WYSIWYG editor and it seems that the
>> making or
>>>> breaking of the http reference link is taken care by the  
>>>> javascript side
>> of
>>>> things which I found the definition in wp-lang.php. But certainly  
>>>> what I
>> do
>>>> not get is that which / where is the code where I need to make  
>>>> changes
>> to
>>>> get the 'Insert/ edit link' small javascript/ajax window so that  
>>>> while
>> it
>>>> builds the http reference link, it should add another customized  
>>>> http
>> link
>>>> just beside.
>>>>
>>>> Any thoughts or suggestions would be very much useful.
>>>> Thanks again for the help.
>>>>
>>>> Nikhil
>>>>
>>>
>>>
>>> I wonder if this has got to do with the tinyMCE editor? If yes, I am
>> still
>>> finding it difficult to identify the piece of code to make necessary
>>> changes.
>>>
>>>
>>
>> Hi group,
>>
>> I have been trying my luck for long now, but my limited knowledge on
>> javascript still haunts me to get to no right finding of the  
>> solution. Can
>> anyone more knowledged with internals of wp-admin of wordpress  
>> software
>> please help me here?
>> I am happy to let know more details of what I am trying to do .
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> -- 
> Arun Chuadhary
> HCL-CDC
> Moradabad
> 09997116239
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From photofantaisie at gmail.com  Thu Aug 13 18:39:28 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Thu, 13 Aug 2009 20:39:28 +0200
Subject: [wp-hackers] Testing for existence of WP_Query results
Message-ID: <9dd057850908131139l5f484c66l458c44035a486647@mail.gmail.com>

Hi all,

This probably exposes my lack of PHP knowledge, and understanding of the
WP_Query object, but I came across the following situation with a plugin of
mine recently.

In order to test that a WP_Query had actually found posts, I used this
conditional check

$recent = new WP_Query(args);
if($recent) :
while($recent->have_posts()) : $recent->the_post();
// rest of loop etc

else :
// do something else

But I found that if($recent) nevers returns false, even if no posts are
found.

Is there a different way to test (before the while loop runs) that any posts
were found by the query?

I'm probably overlooking something blindingly obvious - but I just can't see
it... :-/

Thanks!

Ade.

From cjscott69 at gmail.com  Thu Aug 13 18:50:08 2009
From: cjscott69 at gmail.com (Chris Scott)
Date: Thu, 13 Aug 2009 14:50:08 -0400
Subject: [wp-hackers] Testing for existence of WP_Query results
In-Reply-To: <9dd057850908131139l5f484c66l458c44035a486647@mail.gmail.com>
References: <9dd057850908131139l5f484c66l458c44035a486647@mail.gmail.com>
Message-ID: <469fb3cc0908131150t1aed585evf0091a60db0d8ada@mail.gmail.com>

On Thu, Aug 13, 2009 at 2:39 PM, Ade Walker<photofantaisie at gmail.com> wrote:
> Hi all,
>
> This probably exposes my lack of PHP knowledge, and understanding of the
> WP_Query object, but I came across the following situation with a plugin of
> mine recently.
>
> In order to test that a WP_Query had actually found posts, I used this
> conditional check
>
> $recent = new WP_Query(args);
> if($recent) :
> while($recent->have_posts()) : $recent->the_post();
> // rest of loop etc
>
> else :
> // do something else
>
> But I found that if($recent) nevers returns false, even if no posts are
> found.
>
> Is there a different way to test (before the while loop runs) that any posts
> were found by the query?

Try:

$recent = new WP_Query(args);
if($recent->have_posts()) :
while($recent->have_posts()) : $recent->the_post();
...

if($recent) will always be true in your case because it is an object.

--
Chris Scott
http://iamzed.com/
http://hailtheale.com/



>
> I'm probably overlooking something blindingly obvious - but I just can't see
> it... :-/
>
> Thanks!
>
> Ade.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ashok.padda at gmail.com  Thu Aug 13 19:13:16 2009
From: ashok.padda at gmail.com (Ashok Padda)
Date: Fri, 14 Aug 2009 00:43:16 +0530
Subject: [wp-hackers] Testing for existence of WP_Query results
In-Reply-To: <469fb3cc0908131150t1aed585evf0091a60db0d8ada@mail.gmail.com>
References: <9dd057850908131139l5f484c66l458c44035a486647@mail.gmail.com>
	<469fb3cc0908131150t1aed585evf0091a60db0d8ada@mail.gmail.com>
Message-ID: <10d02b250908131213u283323fcm1c8313a9d3f5d36@mail.gmail.com>

Hi Ade,

Please try using if($recent->have_posts()) instead of if($recent)

Following code worked for me
------------------------------x------------------------------
$recent = new WP_Query('category_name=special_category');
  if ($recent->have_posts()) :
    while($recent->have_posts()) : $recent->the_post();
      the_content();
    endwhile;
  else :
    echo 'No posts are posted in the category';
  endif;
------------------------------x------------------------------

+Ashok

On Fri, Aug 14, 2009 at 12:20 AM, Chris Scott <cjscott69 at gmail.com> wrote:

> On Thu, Aug 13, 2009 at 2:39 PM, Ade Walker<photofantaisie at gmail.com>
> wrote:
> > Hi all,
> >
> > This probably exposes my lack of PHP knowledge, and understanding of the
> > WP_Query object, but I came across the following situation with a plugin
> of
> > mine recently.
> >
> > In order to test that a WP_Query had actually found posts, I used this
> > conditional check
> >
> > $recent = new WP_Query(args);
> > if($recent) :
> > while($recent->have_posts()) : $recent->the_post();
> > // rest of loop etc
> >
> > else :
> > // do something else
> >
> > But I found that if($recent) nevers returns false, even if no posts are
> > found.
> >
> > Is there a different way to test (before the while loop runs) that any
> posts
> > were found by the query?
>
> Try:
>
> $recent = new WP_Query(args);
> if($recent->have_posts()) :
> while($recent->have_posts()) : $recent->the_post();
> ...
>
> if($recent) will always be true in your case because it is an object.
>
> --
> Chris Scott
> http://iamzed.com/
> http://hailtheale.com/
>
>
>
> >
> > I'm probably overlooking something blindingly obvious - but I just can't
> see
> > it... :-/
> >
> > Thanks!
> >
> > Ade.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From photofantaisie at gmail.com  Thu Aug 13 19:17:40 2009
From: photofantaisie at gmail.com (Ade Walker)
Date: Thu, 13 Aug 2009 21:17:40 +0200
Subject: [wp-hackers] Testing for existence of WP_Query results
In-Reply-To: <10d02b250908131213u283323fcm1c8313a9d3f5d36@mail.gmail.com>
References: <9dd057850908131139l5f484c66l458c44035a486647@mail.gmail.com>
	<469fb3cc0908131150t1aed585evf0091a60db0d8ada@mail.gmail.com>
	<10d02b250908131213u283323fcm1c8313a9d3f5d36@mail.gmail.com>
Message-ID: <9dd057850908131217m779c5813n1f1b55e6fc0725f6@mail.gmail.com>

@ Chis,

Thanks! That's what I thought re objects, but I hadn't thought of the
obvious if($recent->have_posts().

@ Ashok,

Thanks for the reply,

Ade.

2009/8/13 Ashok Padda <ashok.padda at gmail.com>

> Hi Ade,
>
> Please try using if($recent->have_posts()) instead of if($recent)
>
> Following code worked for me
> ------------------------------x------------------------------
> $recent = new WP_Query('category_name=special_category');
>   if ($recent->have_posts()) :
>    while($recent->have_posts()) : $recent->the_post();
>       the_content();
>    endwhile;
>  else :
>    echo 'No posts are posted in the category';
>  endif;
> ------------------------------x------------------------------
>
> +Ashok
>
> On Fri, Aug 14, 2009 at 12:20 AM, Chris Scott <cjscott69 at gmail.com> wrote:
>
> > On Thu, Aug 13, 2009 at 2:39 PM, Ade Walker<photofantaisie at gmail.com>
> > wrote:
> > > Hi all,
> > >
> > > This probably exposes my lack of PHP knowledge, and understanding of
> the
> > > WP_Query object, but I came across the following situation with a
> plugin
> > of
> > > mine recently.
> > >
> > > In order to test that a WP_Query had actually found posts, I used this
> > > conditional check
> > >
> > > $recent = new WP_Query(args);
> > > if($recent) :
> > > while($recent->have_posts()) : $recent->the_post();
> > > // rest of loop etc
> > >
> > > else :
> > > // do something else
> > >
> > > But I found that if($recent) nevers returns false, even if no posts are
> > > found.
> > >
> > > Is there a different way to test (before the while loop runs) that any
> > posts
> > > were found by the query?
> >
> > Try:
> >
> > $recent = new WP_Query(args);
> > if($recent->have_posts()) :
> > while($recent->have_posts()) : $recent->the_post();
> > ...
> >
> > if($recent) will always be true in your case because it is an object.
> >
> > --
> > Chris Scott
> > http://iamzed.com/
> > http://hailtheale.com/
> >
> >
> >
> > >
> > > I'm probably overlooking something blindingly obvious - but I just
> can't
> > see
> > > it... :-/
> > >
> > > Thanks!
> > >
> > > Ade.
> > > _______________________________________________
> > > wp-hackers mailing list
> > > wp-hackers at lists.automattic.com
> > > http://lists.automattic.com/mailman/listinfo/wp-hackers
> > >
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From tim at silentgap.com  Thu Aug 13 23:40:06 2009
From: tim at silentgap.com (Tim Schoffelman)
Date: Thu, 13 Aug 2009 18:40:06 -0500
Subject: [wp-hackers] WPMU Category Table
Message-ID: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>

Quick question, and this may have been asked before, but is there a specific
reason why there's a shared wp_sitecategories table, instead of a table
broken out into wp_2_categories or something like that. The reason I ask is
that when trying to develop a theme and creating a category-[CATID].php
file, such as category-6.php and then implement that theme on a different
blog, the category ID changes. Now I know I can just rename the file, but
this issue spans into many different scenarios when creating a theme. Any
thoughts?

From scribu at gmail.com  Fri Aug 14 00:20:30 2009
From: scribu at gmail.com (scribu)
Date: Fri, 14 Aug 2009 03:20:30 +0300
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
Message-ID: <349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>

The ID changes because it's an autoincremented value in a column, not
because it's stored in a common table.

You might want to try using the Carrington framework, which has
category-{slug}.php and other nifty features.


On Fri, Aug 14, 2009 at 2:40 AM, Tim Schoffelman <tim at silentgap.com> wrote:

> Quick question, and this may have been asked before, but is there a
> specific
> reason why there's a shared wp_sitecategories table, instead of a table
> broken out into wp_2_categories or something like that. The reason I ask is
> that when trying to develop a theme and creating a category-[CATID].php
> file, such as category-6.php and then implement that theme on a different
> blog, the category ID changes. Now I know I can just rename the file, but
> this issue spans into many different scenarios when creating a theme. Any
> thoughts?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From jer at simianuprising.com  Fri Aug 14 00:27:27 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Thu, 13 Aug 2009 20:27:27 -0400
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
	<349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>
Message-ID: <e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com>

If you dont' want to go all the way with Carrington I think the slug
idea is still a step in the right direction. Something like


global $cat;
if ($cat == get_term_by('slug', $yourcatslug, 'category') :
  special_category_stuff();
endif;

Obviously you'd need to code some logic in yourself, but IMHO that's
only marginally more complex than having multiple files you need to
update.


-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | globalvoicesonline.org

From tim at silentgap.com  Fri Aug 14 06:56:09 2009
From: tim at silentgap.com (Tim Schoffelman)
Date: Fri, 14 Aug 2009 01:56:09 -0500
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
	<349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>
	<e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com>
Message-ID: <5b1aecc0908132356s16c52868uf48d7f28b6a188bf@mail.gmail.com>

Thanks Jeremy - not a bad solution.
Also, here's a little more detail into my explanation / question. The
company I work for develops WP themes on a consistent basis, many on the
WPMU platform. We have our development box, our clients beta install and our
clients production install (all wpmu installs) - with all themes, plugins
and sys-files stored in SVN.

The problem we run into is when developing on our development box, the
database is quite a bit different than the beta and esp the production
database. Many times, in our themes we sort out our navigation based off of
category id's. Now, we've obviously had to work around this with MU and
instead do things like in_category / is_category and throw into the function
the name of the category (or something like that) w/ a little bit of logic
behind those functions to get the navigation right (details that vary from
theme to theme, just depending on what's going on for that specific theme) -
but it would be nice if, along with the (for example) wp_2_posts table,
there would be an equivalent wp_2_categories table, separating categories
out into a per blog basis. Has there been any mention of moving the DB
structure over to something like this?

If not, we'll continue just to use the category.php file and throw some
logic in to separate out the user experience, but thought I'd ask to find
out if we're missing something, as we've only been developing in WPMU for
the last few months (regular WP since the 2.3 days)

Any thoughts would be appreciated - thanks!



On Thu, Aug 13, 2009 at 7:27 PM, Jeremy Clarke <jer at simianuprising.com>wrote:

> If you dont' want to go all the way with Carrington I think the slug
> idea is still a step in the right direction. Something like
>
>
> global $cat;
> if ($cat == get_term_by('slug', $yourcatslug, 'category') :
>  special_category_stuff();
> endif;
>
> Obviously you'd need to code some logic in yourself, but IMHO that's
> only marginally more complex than having multiple files you need to
> update.
>
>
> --
> Jeremy Clarke | http://jeremyclarke.org
> Code and Design | globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Fri Aug 14 10:03:14 2009
From: scribu at gmail.com (scribu)
Date: Fri, 14 Aug 2009 13:03:14 +0300
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <5b1aecc0908132356s16c52868uf48d7f28b6a188bf@mail.gmail.com>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
	<349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>
	<e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com>
	<5b1aecc0908132356s16c52868uf48d7f28b6a188bf@mail.gmail.com>
Message-ID: <349fe48b0908140303h41df16c2m551dd9a0e2582854@mail.gmail.com>

On Fri, Aug 14, 2009 at 9:56 AM, Tim Schoffelman <tim at silentgap.com> wrote:

> but it would be nice if, along with the (for example) wp_2_posts table,
> there would be an equivalent wp_2_categories table, separating categories
> out into a per blog basis. Has there been any mention of moving the DB
> structure over to something like this?
>

Having wp_2_categories is 2 steps backwards from the current taxonomy
system, which handles categories, tags and custom taxonomies.

What is really needed is moving away from category-{id}.php to
category-{slug}.php. Maybe this is something that will make it in WP 2.9.


-- 
http://scribu.net

From scribu at gmail.com  Fri Aug 14 13:40:01 2009
From: scribu at gmail.com (scribu)
Date: Fri, 14 Aug 2009 16:40:01 +0300
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <349fe48b0908140303h41df16c2m551dd9a0e2582854@mail.gmail.com>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
	<349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>
	<e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com>
	<5b1aecc0908132356s16c52868uf48d7f28b6a188bf@mail.gmail.com>
	<349fe48b0908140303h41df16c2m551dd9a0e2582854@mail.gmail.com>
Message-ID: <349fe48b0908140640o7fec49c3ub899eff07dfaaabb@mail.gmail.com>

I've opened a ticket, with a patch coming soon:

http://core.trac.wordpress.org/ticket/10614

-- 
http://scribu.net

From scribu at gmail.com  Fri Aug 14 17:35:11 2009
From: scribu at gmail.com (scribu)
Date: Fri, 14 Aug 2009 20:35:11 +0300
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <349fe48b0908140640o7fec49c3ub899eff07dfaaabb@mail.gmail.com>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
	<349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>
	<e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com>
	<5b1aecc0908132356s16c52868uf48d7f28b6a188bf@mail.gmail.com>
	<349fe48b0908140303h41df16c2m551dd9a0e2582854@mail.gmail.com>
	<349fe48b0908140640o7fec49c3ub899eff07dfaaabb@mail.gmail.com>
Message-ID: <349fe48b0908141035t35b73859ha1bedf4b0bcdb111@mail.gmail.com>

And whad'ya know, it has already been committed:
http://core.trac.wordpress.org/changeset/11814

Thanks westi.


-- 
http://scribu.net

From peter.westwood at ftwr.co.uk  Fri Aug 14 18:12:46 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 14 Aug 2009 19:12:46 +0100
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <349fe48b0908141035t35b73859ha1bedf4b0bcdb111@mail.gmail.com>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
	<349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>
	<e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com>
	<5b1aecc0908132356s16c52868uf48d7f28b6a188bf@mail.gmail.com>
	<349fe48b0908140303h41df16c2m551dd9a0e2582854@mail.gmail.com>
	<349fe48b0908140640o7fec49c3ub899eff07dfaaabb@mail.gmail.com>
	<349fe48b0908141035t35b73859ha1bedf4b0bcdb111@mail.gmail.com>
Message-ID: <0B61C7F7-5455-468A-9E20-742D58EFCE83@ftwr.co.uk>

No problem.

Also if you want to use this feature now on an earlier version of  
WordPress you should be able to take that code and add it to a  
function in your themes functions.php which run on the filter called  
in that function

--
Peter Westwood
http://peter.westwood.name

On 14 Aug 2009, at 18:35, scribu <scribu at gmail.com> wrote:

> And whad'ya know, it has already been committed:
> http://core.trac.wordpress.org/changeset/11814
>
> Thanks westi.
>
>
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From tim at silentgap.com  Fri Aug 14 18:41:13 2009
From: tim at silentgap.com (Tim Schoffelman)
Date: Fri, 14 Aug 2009 13:41:13 -0500
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <0B61C7F7-5455-468A-9E20-742D58EFCE83@ftwr.co.uk>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
	<349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>
	<e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com>
	<5b1aecc0908132356s16c52868uf48d7f28b6a188bf@mail.gmail.com>
	<349fe48b0908140303h41df16c2m551dd9a0e2582854@mail.gmail.com>
	<349fe48b0908140640o7fec49c3ub899eff07dfaaabb@mail.gmail.com>
	<349fe48b0908141035t35b73859ha1bedf4b0bcdb111@mail.gmail.com>
	<0B61C7F7-5455-468A-9E20-742D58EFCE83@ftwr.co.uk>
Message-ID: <5b1aecc0908141141o7fe7f3ecv938fea96f6c76d58@mail.gmail.com>

I'm liking the category-{slug}.php method - thanks!


On Fri, Aug 14, 2009 at 1:12 PM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

> No problem.
>
> Also if you want to use this feature now on an earlier version of WordPress
> you should be able to take that code and add it to a function in your themes
> functions.php which run on the filter called in that function
>
> --
> Peter Westwood
> http://peter.westwood.name
>
>
> On 14 Aug 2009, at 18:35, scribu <scribu at gmail.com> wrote:
>
>  And whad'ya know, it has already been committed:
>> http://core.trac.wordpress.org/changeset/11814
>>
>> Thanks westi.
>>
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From otto at ottodestruct.com  Fri Aug 14 19:00:32 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 14 Aug 2009 14:00:32 -0500
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <349fe48b0908141035t35b73859ha1bedf4b0bcdb111@mail.gmail.com>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com> 
	<349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com> 
	<e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com> 
	<5b1aecc0908132356s16c52868uf48d7f28b6a188bf@mail.gmail.com> 
	<349fe48b0908140303h41df16c2m551dd9a0e2582854@mail.gmail.com> 
	<349fe48b0908140640o7fec49c3ub899eff07dfaaabb@mail.gmail.com> 
	<349fe48b0908141035t35b73859ha1bedf4b0bcdb111@mail.gmail.com>
Message-ID: <161617690908141200i1cf9fe61i55637f04e17702c4@mail.gmail.com>

Very nice. Makes me wonder why nobody did this before.

Other useful additions along the same lines that I can think of:
author-{authorname}.php <- For customized author profile pages, useful
on multi-author sites
single-{postname}.php <- For customized post pages, similar to the
idea of Page Templates, but more for one off cases

-Otto


On Fri, Aug 14, 2009 at 12:35 PM, scribu<scribu at gmail.com> wrote:
> And whad'ya know, it has already been committed:
> http://core.trac.wordpress.org/changeset/11814
>
> Thanks westi.
>
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Fri Aug 14 19:08:32 2009
From: scribu at gmail.com (scribu)
Date: Fri, 14 Aug 2009 22:08:32 +0300
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <0B61C7F7-5455-468A-9E20-742D58EFCE83@ftwr.co.uk>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
	<349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>
	<e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com>
	<5b1aecc0908132356s16c52868uf48d7f28b6a188bf@mail.gmail.com>
	<349fe48b0908140303h41df16c2m551dd9a0e2582854@mail.gmail.com>
	<349fe48b0908140640o7fec49c3ub899eff07dfaaabb@mail.gmail.com>
	<349fe48b0908141035t35b73859ha1bedf4b0bcdb111@mail.gmail.com>
	<0B61C7F7-5455-468A-9E20-742D58EFCE83@ftwr.co.uk>
Message-ID: <349fe48b0908141208i704c06b1s83ff27a0d70e80c@mail.gmail.com>

On Fri, Aug 14, 2009 at 9:12 PM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:
No problem.

Also if you want to use this feature now on an earlier version of WordPress
you should be able to take that code and add it to a function in your themes
functions.php which run on the filter called in that function

Wrote it up in a blog post:

http://scribu.net/wordpress/easier-category-theme-templates.html


On Fri, Aug 14, 2009 at 10:00 PM, Otto <otto at ottodestruct.com> wrote:

> Other useful additions along the same lines that I can think of:
> author-{authorname}.php <- For customized author profile pages, useful
> on multi-author sites
> single-{postname}.php <- For customized post pages, similar to the
> idea of Page Templates, but more for one off cases
>

Don't think those need to be in core atm. They can also be achieved with
filters, i think.

-- 
http://scribu.net

From wp-hackers at itsananderson.com  Fri Aug 14 19:27:46 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Fri, 14 Aug 2009 15:27:46 -0400
Subject: [wp-hackers] WPMU Category Table
In-Reply-To: <161617690908141200i1cf9fe61i55637f04e17702c4@mail.gmail.com>
References: <5b1aecc0908131640l7d1c46eay122589d845353e2d@mail.gmail.com>
	<349fe48b0908131720l45bca337of4e3451d84f30e28@mail.gmail.com>
	<e1202cb10908131727l3374503an5fcf74436da8880f@mail.gmail.com>
	<5b1aecc0908132356s16c52868uf48d7f28b6a188bf@mail.gmail.com>
	<349fe48b0908140303h41df16c2m551dd9a0e2582854@mail.gmail.com>
	<349fe48b0908140640o7fec49c3ub899eff07dfaaabb@mail.gmail.com>
	<349fe48b0908141035t35b73859ha1bedf4b0bcdb111@mail.gmail.com>
	<161617690908141200i1cf9fe61i55637f04e17702c4@mail.gmail.com>
Message-ID: <6dbcd2670908141227l400d25afn2f8a9bc565e0e4b0@mail.gmail.com>

>
> single-{postname}.php <- For customized post pages, similar to the
> idea of Page Templates, but more for one off cases
>

Actually, I don't think page templates ever work this way either. The fancy
template flow diagram<http://codex.wordpress.org/File:Template_Hierarchy.png>probably
needs to either be changed or clarified to better reflect the way page
templates actually work <http://codex.wordpress.org/Pages#Page_Templates>.

If you have a page with a slug like "custom-page", creating a template
called "custom-page.php" won't mean that it's automatically used. That being
said, it would be kind of cool if this were the case.

-- 
Will Anderson
http://www.itsananderson.com/

From carlhancock at gmail.com  Fri Aug 14 22:05:59 2009
From: carlhancock at gmail.com (Carl Hancock)
Date: Fri, 14 Aug 2009 18:05:59 -0400
Subject: [wp-hackers] Category Hooks
Message-ID: <b28824820908141505j429832ach2241473d20811db2@mail.gmail.com>

Jane Wells suggested I submit this to the hacker list.   I was inquiring
about the possibility of hooks being added to the category editor to enable
you to add new fields to the categories via a plugin.
This would enable you to add custom fields, similar to custom write panels
on posts, to the category editor.  One example of usage would be to allow
you to associate an image with a category so you could have a category
template that lists categories as images.  Would be handy for theming.  It
actually could open up a variety of uses.
Right now with no hooks available to add additional information to the edit
category page we have been able to accomplish this but it was via a
secondary editor and not integrated within the existing category editor.  So
it isn't seamless.

Thoughts?

Carl

From paul at codehooligans.com  Fri Aug 14 22:15:47 2009
From: paul at codehooligans.com (Paul)
Date: Fri, 14 Aug 2009 17:15:47 -0500
Subject: [wp-hackers] Category Hooks
In-Reply-To: <b28824820908141505j429832ach2241473d20811db2@mail.gmail.com>
References: <b28824820908141505j429832ach2241473d20811db2@mail.gmail.com>
Message-ID: <29B34F43-0925-4366-90FA-99F9A24222E6@codehooligans.com>

Carl,

I just pulled up a client project site running 2.8.3. If you look at  
the file
wp-admin/edit-category-form.php line 79

you should see the line

	do_action('edit_category_form_fields', $category);

I would call this a 'hook' that allows you to add extra fields like an  
image upload field or something else. Or corse then you would also  
need to find the hook for when the category is saved which would need  
to write your field somewhere.

Seems simple enough unless I've misunderstood your request.

P-




On Aug 14, 2009, at 5:05 PM, Carl Hancock wrote:

> Jane Wells suggested I submit this to the hacker list.   I was  
> inquiring
> about the possibility of hooks being added to the category editor to  
> enable
> you to add new fields to the categories via a plugin.
> This would enable you to add custom fields, similar to custom write  
> panels
> on posts, to the category editor.  One example of usage would be to  
> allow
> you to associate an image with a category so you could have a category
> template that lists categories as images.  Would be handy for  
> theming.  It
> actually could open up a variety of uses.
> Right now with no hooks available to add additional information to  
> the edit
> category page we have been able to accomplish this but it was via a
> secondary editor and not integrated within the existing category  
> editor.  So
> it isn't seamless.
>
> Thoughts?
>
> Carl
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Fri Aug 14 23:02:13 2009
From: scribu at gmail.com (scribu)
Date: Sat, 15 Aug 2009 02:02:13 +0300
Subject: [wp-hackers] Category Hooks
In-Reply-To: <29B34F43-0925-4366-90FA-99F9A24222E6@codehooligans.com>
References: <b28824820908141505j429832ach2241473d20811db2@mail.gmail.com>
	<29B34F43-0925-4366-90FA-99F9A24222E6@codehooligans.com>
Message-ID: <349fe48b0908141602q68e29901n2d3e1037a4009ea2@mail.gmail.com>

The issue is not adding fields to the UI, but storing them in the database.

Implementing a more general meta
API<http://core.trac.wordpress.org/ticket/10487>is the first step that
needs to be taken.

-- 
http://scribu.net

From carlhancock at gmail.com  Fri Aug 14 23:09:05 2009
From: carlhancock at gmail.com (Carl Hancock)
Date: Fri, 14 Aug 2009 19:09:05 -0400
Subject: [wp-hackers] wp-hackers Digest, Vol 55, Issue 28
In-Reply-To: <mailman.1620.1250290935.16651.wp-hackers@lists.automattic.com>
References: <mailman.1620.1250290935.16651.wp-hackers@lists.automattic.com>
Message-ID: <b28824820908141609j1ce73012v9cd5e8e562e81d07@mail.gmail.com>

Bingo scribu. I should have mentioned the meta data issue in my original
email.  But it looks like this already exists in Trac so thats good.  Would
love to see this capability make it into the 2.9 release.

Carl


>
> Message: 10
> Date: Sat, 15 Aug 2009 02:02:13 +0300
> From: scribu <scribu at gmail.com>
> Subject: Re: [wp-hackers] Category Hooks
> To: wp-hackers at lists.automattic.com
> Message-ID:
>        <349fe48b0908141602q68e29901n2d3e1037a4009ea2 at mail.gmail.com>
> Content-Type: text/plain; charset=UTF-8
>
> The issue is not adding fields to the UI, but storing them in the database.
>
> Implementing a more general meta
> API<http://core.trac.wordpress.org/ticket/10487>is the first step that
> needs to be taken.
>
> --
> http://scribu.net
>
>
> ------------------------------
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
> End of wp-hackers Digest, Vol 55, Issue 28
> ******************************************
>

From list at johnkolbert.com  Sat Aug 15 23:23:55 2009
From: list at johnkolbert.com (John Kolbert)
Date: Sat, 15 Aug 2009 18:23:55 -0500
Subject: [wp-hackers] Class function in Hook
Message-ID: <52104F9D-7A9C-4A5E-9D7E-F91DBBF52C4E@johnkolbert.com>

This question may just show a lack of PHP knowledge, but I was  
wondering what the difference between these two were:

// First
	$bf_vendor = new bf_vendor();

	register_activation_hook(__FILE__, array(&$bf_vendor, 'installTable'));

// Second

	register_activation_hook(__FILE__, array('bf_vendor', 'installTable'));


Both of these methods seemed to work. I was just wondering if there is  
any difference or preferred method between the two. Thanks guys.

-John

John Kolbert
http://www.johnkolbert.com/




From if.website at gmail.com  Sat Aug 15 23:35:40 2009
From: if.website at gmail.com (Austin Matzko)
Date: Sat, 15 Aug 2009 18:35:40 -0500
Subject: [wp-hackers] Class function in Hook
In-Reply-To: <52104F9D-7A9C-4A5E-9D7E-F91DBBF52C4E@johnkolbert.com>
References: <52104F9D-7A9C-4A5E-9D7E-F91DBBF52C4E@johnkolbert.com>
Message-ID: <674b4a3b0908151635n7d7ec1f7l10ece84c3b542c6e@mail.gmail.com>

On Sat, Aug 15, 2009 at 6:23 PM, John Kolbert<list at johnkolbert.com> wrote:
> This question may just show a lack of PHP knowledge, but I was wondering
> what the difference between these two were:
>
> // First
> ? ? ? ?$bf_vendor = new bf_vendor();
>
> ? ? ? ?register_activation_hook(__FILE__, array(&$bf_vendor,
> 'installTable'));
>
> // Second
>
> ? ? ? ?register_activation_hook(__FILE__, array('bf_vendor',
> 'installTable'));

The second makes installTable a static method of bf_vendor, so it will
work as long as installTable can be a static method (which it can't,
e.g., if it references $this).

From spuriousdata at gmail.com  Sat Aug 15 23:39:39 2009
From: spuriousdata at gmail.com (Mike O'Malley)
Date: Sat, 15 Aug 2009 19:39:39 -0400
Subject: [wp-hackers] Class function in Hook
In-Reply-To: <52104F9D-7A9C-4A5E-9D7E-F91DBBF52C4E@johnkolbert.com>
References: <52104F9D-7A9C-4A5E-9D7E-F91DBBF52C4E@johnkolbert.com>
Message-ID: <ad3273990908151639m546e4a54if085889da99c7cf6@mail.gmail.com>

On Sat, Aug 15, 2009 at 7:23 PM, John Kolbert <list at johnkolbert.com> wrote:

>
> // First
>        $bf_vendor = new bf_vendor();
>
>        register_activation_hook(__FILE__, array(&$bf_vendor,
> 'installTable'));


In the first, $bf_vendor is an instance of the class bf_vendor(); $bf_vendor
has it's own copy of any non-static member variables that are defined in the
class, and the method installTable() should probably only operate on those.

This loosely translates to: $bf_vendor->installTable();



> // Second
>
>        register_activation_hook(__FILE__, array('bf_vendor',
> 'installTable'));
>
>
In the second, you are registering installTable to be called as a static
method of the class bf_vendor. This loosely translates to:

bf_vendor::installTable();


> Both of these methods seemed to work. I was just wondering if there is any
> difference or preferred method between the two. Thanks guys.


If that is the case, you most likely don't have any non-instance member
variables of the class bf_vendor(). Which versions of php and which
configurations of php.ini support referencing static members/methods as
instance members/methods currently escapes me, but in general, it should be
avoided.

For more information:

http://us2.php.net/manual/en/language.oop5.static.php
and
http://us2.php.net/manual/en/language.pseudo-types.php#language.types.callback

--
Mike

From sojweb at indiana.edu  Sat Aug 15 23:39:48 2009
From: sojweb at indiana.edu (SoJ Web)
Date: Sat, 15 Aug 2009 19:39:48 -0400
Subject: [wp-hackers] Class function in Hook
In-Reply-To: <674b4a3b0908151635n7d7ec1f7l10ece84c3b542c6e@mail.gmail.com>
References: <52104F9D-7A9C-4A5E-9D7E-F91DBBF52C4E@johnkolbert.com>
	<674b4a3b0908151635n7d7ec1f7l10ece84c3b542c6e@mail.gmail.com>
Message-ID: <850CE235-E425-4215-9CB6-BA7EC04BCA46@indiana.edu>

Right on. More info here:

http://us2.php.net/manual/en/language.pseudo-types.php#language.types.callback


-Jeff

On Aug 15, 2009, at 7:35 PM, Austin Matzko wrote:

> On Sat, Aug 15, 2009 at 6:23 PM, John Kolbert<list at johnkolbert.com>  
> wrote:
>> This question may just show a lack of PHP knowledge, but I was  
>> wondering
>> what the difference between these two were:
>>
>> // First
>>        $bf_vendor = new bf_vendor();
>>
>>        register_activation_hook(__FILE__, array(&$bf_vendor,
>> 'installTable'));
>>
>> // Second
>>
>>        register_activation_hook(__FILE__, array('bf_vendor',
>> 'installTable'));
>
> The second makes installTable a static method of bf_vendor, so it will
> work as long as installTable can be a static method (which it can't,
> e.g., if it references $this).
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From list at johnkolbert.com  Sat Aug 15 23:49:11 2009
From: list at johnkolbert.com (John Kolbert)
Date: Sat, 15 Aug 2009 18:49:11 -0500
Subject: [wp-hackers] Class function in Hook
In-Reply-To: <ad3273990908151639m546e4a54if085889da99c7cf6@mail.gmail.com>
References: <52104F9D-7A9C-4A5E-9D7E-F91DBBF52C4E@johnkolbert.com>
	<ad3273990908151639m546e4a54if085889da99c7cf6@mail.gmail.com>
Message-ID: <FF4CD96D-A9B3-4530-984C-5140445CEE06@johnkolbert.com>

Thanks everyone for the responses and especially for included links.  
Some of this gets hard to wrap your head around so I appreciate the  
references.

-John

John Kolbert
http://www.johnkolbert.com/

On Aug 15, 2009, at 6:39 PM, Mike O'Malley wrote:

> On Sat, Aug 15, 2009 at 7:23 PM, John Kolbert <list at johnkolbert.com>  
> wrote:
>
>>
>> // First
>>       $bf_vendor = new bf_vendor();
>>
>>       register_activation_hook(__FILE__, array(&$bf_vendor,
>> 'installTable'));
>
>
> In the first, $bf_vendor is an instance of the class bf_vendor();  
> $bf_vendor
> has it's own copy of any non-static member variables that are  
> defined in the
> class, and the method installTable() should probably only operate on  
> those.
>
> This loosely translates to: $bf_vendor->installTable();
>
>
>
>> // Second
>>
>>       register_activation_hook(__FILE__, array('bf_vendor',
>> 'installTable'));
>>
>>
> In the second, you are registering installTable to be called as a  
> static
> method of the class bf_vendor. This loosely translates to:
>
> bf_vendor::installTable();
>
>
>> Both of these methods seemed to work. I was just wondering if there  
>> is any
>> difference or preferred method between the two. Thanks guys.
>
>
> If that is the case, you most likely don't have any non-instance  
> member
> variables of the class bf_vendor(). Which versions of php and which
> configurations of php.ini support referencing static members/methods  
> as
> instance members/methods currently escapes me, but in general, it  
> should be
> avoided.
>
> For more information:
>
> http://us2.php.net/manual/en/language.oop5.static.php
> and
> http://us2.php.net/manual/en/language.pseudo-types.php#language.types.callback
>
> --
> Mike
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From jason at findingsimple.com  Sun Aug 16 01:36:28 2009
From: jason at findingsimple.com (Jason)
Date: Sun, 16 Aug 2009 11:36:28 +1000
Subject: [wp-hackers] query_posts with multiple meta keys and values?
Message-ID: <bf55ecdd0908151836x5f303fcdhbefa0d1387efa4af@mail.gmail.com>

Is it possible to filter posts using query_posts() against multiple meta
keys and values?

Hoping I don't have to write custom queries...

Thanks in advance,
Jason

www.findingsimple.com

From wordpress at dd32.id.au  Sun Aug 16 01:42:07 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 16 Aug 2009 11:42:07 +1000
Subject: [wp-hackers] query_posts with multiple meta keys and values?
In-Reply-To: <bf55ecdd0908151836x5f303fcdhbefa0d1387efa4af@mail.gmail.com>
References: <bf55ecdd0908151836x5f303fcdhbefa0d1387efa4af@mail.gmail.com>
Message-ID: <op.uyqe0efqspxmuu@dd32.no-ip.com>

No. The meta filtering only supports a single key, and/or a value. You can  
set the comparison so that you get meta_key = TestKey AND meta_value > 5  
however through the meta_compare option.

Using a custom taxonomy is a better option for times where you have a Item  
with multiple values and you want to query for objects with Value1,  
Value2, and Value3 And also in OtherTaxonomyValue6


On Sun, 16 Aug 2009 11:36:28 +1000, Jason <jason at findingsimple.com> wrote:

> Is it possible to filter posts using query_posts() against multiple meta
> keys and values?
>
> Hoping I don't have to write custom queries...
>
> Thanks in advance,
> Jason
>
> www.findingsimple.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Sun Aug 16 12:27:30 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 16 Aug 2009 22:27:30 +1000
Subject: [wp-hackers] query_posts with multiple meta keys and values?
In-Reply-To: <bf55ecdd0908151836x5f303fcdhbefa0d1387efa4af@mail.gmail.com>
References: <bf55ecdd0908151836x5f303fcdhbefa0d1387efa4af@mail.gmail.com>
Message-ID: <op.uyq8v4krspxmuu@dd32.no-ip.com>

Seems i may have to eat my hat on that last message..

Intersections between 2 custom taxonomies is currently NOT possible.
Intersections between Cats & Tags & Custom tax is fine, So is Cats(or  
Tags)& Custom Tax, Just not between 2 custom tax's.

May find this useful though: http://core.trac.wordpress.org/ticket/9124 -  
Allow for querying for Multiple meta_value's using IN()

On Sun, 16 Aug 2009 11:36:28 +1000, Jason <jason at findingsimple.com> wrote:

> Is it possible to filter posts using query_posts() against multiple meta
> keys and values?
>
> Hoping I don't have to write custom queries...
>
> Thanks in advance,
> Jason
>
> www.findingsimple.com
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


From wordpress at dd32.id.au  Sun Aug 16 12:39:13 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 16 Aug 2009 22:39:13 +1000
Subject: [wp-hackers] Australian WordPress Developers & Users -
	Brisbane/Gold Coast
Message-ID: <op.uyq9fnn2spxmuu@dd32.no-ip.com>

Hi all,
First up, Apologies to the international users, I didnt really know of  
another venue that I'd be able to contact a fair few people on.

Brisbane / Gold Coasters: I'm interested in getting a mini WordPress  
meetup going on the coast at some point in the coming months, Sydney for a  
WordCamp is too far for some people, and doesnt really give many of us a  
chance to network.

So if you're based in the SE QLD / NE NSW area, and are interested, Its  
time to get something started, Feel free to use  
http://dd32.id.au/2009/08/13/gold-coast-wordpress-meetup/ as a starting  
point for comments, If anything comes out of it, I'll get a better  
location setup for organising it.

Cheers,
Dion Hulse - dd32
--
Email: wordpress at dd32.id.au
Online: http://dd32.id.au/
WordPress QI: http://wpquickinstall.com/

From scribu at gmail.com  Sun Aug 16 13:08:27 2009
From: scribu at gmail.com (scribu)
Date: Sun, 16 Aug 2009 16:08:27 +0300
Subject: [wp-hackers] query_posts with multiple meta keys and values?
In-Reply-To: <op.uyq8v4krspxmuu@dd32.no-ip.com>
References: <bf55ecdd0908151836x5f303fcdhbefa0d1387efa4af@mail.gmail.com>
	<op.uyq8v4krspxmuu@dd32.no-ip.com>
Message-ID: <349fe48b0908160608t112129afhc8fa4c47e86d37e8@mail.gmail.com>

>
> On Sun, 16 Aug 2009 11:36:28 +1000, Jason <jason at findingsimple.com> wrote:
>
>  Is it possible to filter posts using query_posts() against multiple meta
>> keys and values?
>>
>> Hoping I don't have to write custom queries...
>>
>

No, you can't, but you can use my plugin: Custom Field
Taxonomies<http://scribu.net/wordpress/custom-field-taxonomies>
.

-- 
http://scribu.net

From kontakt at joernroeder.de  Sun Aug 16 17:15:03 2009
From: kontakt at joernroeder.de (=?ISO-8859-1?Q?J=F6rn_R=F6der?=)
Date: Sun, 16 Aug 2009 19:15:03 +0200
Subject: [wp-hackers] meta_value contains text
Message-ID: <0FC15237-3818-437A-967A-C8C7AD1C7629@joernroeder.de>

Hi,
i have some trouble with the query_posts() and meta_value-Parameter
if i try query_posts('meta_value=New York') it works, but with  
'meta_value=New' i get no results even though it was included in 'New  
York'?

Is there a "meta_compare-Value" that is not mathematical and contain  
works?

Thanks J?rn

From ashok.padda at gmail.com  Sun Aug 16 18:37:49 2009
From: ashok.padda at gmail.com (Ashok Padda)
Date: Mon, 17 Aug 2009 00:07:49 +0530
Subject: [wp-hackers] meta_value contains text
In-Reply-To: <0FC15237-3818-437A-967A-C8C7AD1C7629@joernroeder.de>
References: <0FC15237-3818-437A-967A-C8C7AD1C7629@joernroeder.de>
Message-ID: <10d02b250908161137k4195a1f8rf38cea82de60fc17@mail.gmail.com>

Hi Jorn,

query_posts() prepares the where condition and executes the sql. So we have
to use it prepare a condition with a wild card, like 'and meta_value like
"New%"' in your case. meta_value will accept 'New%' as a value, but the
compare operator is always '='. To force it to use another operator we have
to use meta_compare. So, you can rewrite it to following.

query_posts('meta_compare=like&meta_value=New%');

However, meta_compare allows only following additional operators (!=, >, >=,
<, <=) and does not allow like.

You can make changes to line no. 2146 in in wp-includes/query.php.
--            if ( ! isset($q['meta_compare']) || empty($q['meta_compare'])
|| ! in_array($q['meta_compare'], array('=', '!=', '>', '>=', '<', '<=')) )
++            if ( ! isset($q['meta_compare']) || empty($q['meta_compare'])
|| ! in_array($q['meta_compare'], array('=', '!=', '>', '>=', '<',
'<=','like')) )

This does work in your case. But, wordpress team may have had a reason in
not allowing wild cards while searching meta_value. So, please use it if
only required.

+Ashok

On Sun, Aug 16, 2009 at 10:45 PM, J?rn R?der <kontakt at joernroeder.de> wrote:

> Hi,
> i have some trouble with the query_posts() and meta_value-Parameter
> if i try query_posts('meta_value=New York') it works, but with
> 'meta_value=New' i get no results even though it was included in 'New York'?
>
> Is there a "meta_compare-Value" that is not mathematical and contain works?
>
> Thanks J?rn
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Sun Aug 16 19:09:54 2009
From: scribu at gmail.com (scribu)
Date: Sun, 16 Aug 2009 22:09:54 +0300
Subject: [wp-hackers] meta_value contains text
In-Reply-To: <10d02b250908161137k4195a1f8rf38cea82de60fc17@mail.gmail.com>
References: <0FC15237-3818-437A-967A-C8C7AD1C7629@joernroeder.de>
	<10d02b250908161137k4195a1f8rf38cea82de60fc17@mail.gmail.com>
Message-ID: <349fe48b0908161209k77d4cfcdtac8efec2a854539a@mail.gmail.com>

Or, instead of hacking a core file, you could use the 'posts_where' filter
and add a condition like:

AND meta_value LIKE('New%');

-- 
http://scribu.net

From ashok.padda at gmail.com  Sun Aug 16 21:06:48 2009
From: ashok.padda at gmail.com (Ashok Padda)
Date: Mon, 17 Aug 2009 02:36:48 +0530
Subject: [wp-hackers] meta_value contains text
In-Reply-To: <349fe48b0908161209k77d4cfcdtac8efec2a854539a@mail.gmail.com>
References: <0FC15237-3818-437A-967A-C8C7AD1C7629@joernroeder.de>
	<10d02b250908161137k4195a1f8rf38cea82de60fc17@mail.gmail.com>
	<349fe48b0908161209k77d4cfcdtac8efec2a854539a@mail.gmail.com>
Message-ID: <10d02b250908161406v1b7f3c3et36a2d898eb7ba102@mail.gmail.com>

@ Scribu,

Thank you, for pointing us in the right direction. Though, posts_where is
updating the where condition we also need to join wp_postmeta table, here.
So, I think we need to add posts_join filter, too. Please correct me if I'm
wrong.

@ Jorn,

Following plugin worked for me.
-----------------------------x-----------------------------
$my_metavalue = 'blue sky';
add_filter('posts_join', 'my_join');
add_filter('posts_where', 'my_where');

function my_join( $join ) {
  global $wpdb;
  $join .= " LEFT JOIN " .$wpdb->postmeta. " ON " .$wpdb->posts. ".ID="
.$wpdb->postmeta. ".POST_ID";
  return $join;
}

function my_where( $where ) {
  global $my_metavalue;
  $where .= " and meta_value like '" .$my_metavalue. "'";
  return $where;
}
-----------------------------x-----------------------------

+Ashok

On Mon, Aug 17, 2009 at 12:39 AM, scribu <scribu at gmail.com> wrote:

> Or, instead of hacking a core file, you could use the 'posts_where' filter
> and add a condition like:
>
> AND meta_value LIKE('New%');
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kontakt at joernroeder.de  Sun Aug 16 21:22:25 2009
From: kontakt at joernroeder.de (=?ISO-8859-1?Q?J=F6rn_R=F6der?=)
Date: Sun, 16 Aug 2009 23:22:25 +0200
Subject: [wp-hackers] meta_value contains text
In-Reply-To: <10d02b250908161406v1b7f3c3et36a2d898eb7ba102@mail.gmail.com>
References: <0FC15237-3818-437A-967A-C8C7AD1C7629@joernroeder.de>
	<10d02b250908161137k4195a1f8rf38cea82de60fc17@mail.gmail.com>
	<349fe48b0908161209k77d4cfcdtac8efec2a854539a@mail.gmail.com>
	<10d02b250908161406v1b7f3c3et36a2d898eb7ba102@mail.gmail.com>
Message-ID: <32A8AFAE-5E65-4D5A-9E6C-886AC171AE18@joernroeder.de>

Hi,
Thanks for your constructive reply?

Is there a way to add more than one meta_key ? meta_value Pair to the  
query?

If i try
$where .= " AND ( wp_pm.meta_key = '$key' AND wp_pm.meta_value LIKE('% 
$val%') ) AND wp_pm.meta_value = 'foo' ";

i get no more results?

J?rn



Am 16.08.2009 um 23:06 schrieb Ashok Padda:

> @ Scribu,
>
> Thank you, for pointing us in the right direction. Though,  
> posts_where is
> updating the where condition we also need to join wp_postmeta table,  
> here.
> So, I think we need to add posts_join filter, too. Please correct me  
> if I'm
> wrong.
>
> @ Jorn,
>
> Following plugin worked for me.
> -----------------------------x-----------------------------
> $my_metavalue = 'blue sky';
> add_filter('posts_join', 'my_join');
> add_filter('posts_where', 'my_where');
>
> function my_join( $join ) {
>  global $wpdb;
>  $join .= " LEFT JOIN " .$wpdb->postmeta. " ON " .$wpdb->posts. ".ID="
> .$wpdb->postmeta. ".POST_ID";
>  return $join;
> }
>
> function my_where( $where ) {
>  global $my_metavalue;
>  $where .= " and meta_value like '" .$my_metavalue. "'";
>  return $where;
> }
> -----------------------------x-----------------------------
>
> +Ashok
>
> On Mon, Aug 17, 2009 at 12:39 AM, scribu <scribu at gmail.com> wrote:
>
>> Or, instead of hacking a core file, you could use the 'posts_where'  
>> filter
>> and add a condition like:
>>
>> AND meta_value LIKE('New%');
>>
>> --
>> http://scribu.net
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ashok.padda at gmail.com  Sun Aug 16 21:30:23 2009
From: ashok.padda at gmail.com (Ashok Padda)
Date: Mon, 17 Aug 2009 03:00:23 +0530
Subject: [wp-hackers] meta_value contains text
In-Reply-To: <32A8AFAE-5E65-4D5A-9E6C-886AC171AE18@joernroeder.de>
References: <0FC15237-3818-437A-967A-C8C7AD1C7629@joernroeder.de>
	<10d02b250908161137k4195a1f8rf38cea82de60fc17@mail.gmail.com>
	<349fe48b0908161209k77d4cfcdtac8efec2a854539a@mail.gmail.com>
	<10d02b250908161406v1b7f3c3et36a2d898eb7ba102@mail.gmail.com>
	<32A8AFAE-5E65-4D5A-9E6C-886AC171AE18@joernroeder.de>
Message-ID: <10d02b250908161430s750493k5c9011279490263@mail.gmail.com>

You may have to use OR, instead of AND. Try following, instead.

    $where .= " AND ( meta_key = '$key' AND meta_value LIKE('%$val%') ) OR
meta_value = 'foo' ";

From bryanharley at gmail.com  Sun Aug 16 21:33:18 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Sun, 16 Aug 2009 14:33:18 -0700
Subject: [wp-hackers] Call photos from media gallery?
Message-ID: <58410e2e0908161433r666be814j2047d64efbb94ad2@mail.gmail.com>

Is there any function for calling photos from the media gallery?

From kontakt at joernroeder.de  Sun Aug 16 21:42:19 2009
From: kontakt at joernroeder.de (=?ISO-8859-1?Q?J=F6rn_R=F6der?=)
Date: Sun, 16 Aug 2009 23:42:19 +0200
Subject: [wp-hackers] meta_value contains text
In-Reply-To: <10d02b250908161430s750493k5c9011279490263@mail.gmail.com>
References: <0FC15237-3818-437A-967A-C8C7AD1C7629@joernroeder.de>
	<10d02b250908161137k4195a1f8rf38cea82de60fc17@mail.gmail.com>
	<349fe48b0908161209k77d4cfcdtac8efec2a854539a@mail.gmail.com>
	<10d02b250908161406v1b7f3c3et36a2d898eb7ba102@mail.gmail.com>
	<32A8AFAE-5E65-4D5A-9E6C-886AC171AE18@joernroeder.de>
	<10d02b250908161430s750493k5c9011279490263@mail.gmail.com>
Message-ID: <5135CE52-F53C-44BD-8A8C-457F37893103@joernroeder.de>

Hi,
OR works, but returns not what i want? i will filter posts witch have  
both? meta_value_1 AND meta_value_2


Am 16.08.2009 um 23:30 schrieb Ashok Padda:

> You may have to use OR, instead of AND. Try following, instead.
>
>    $where .= " AND ( meta_key = '$key' AND meta_value LIKE('%$val 
> %') ) OR
> meta_value = 'foo' ";
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From scribu at gmail.com  Sun Aug 16 21:58:22 2009
From: scribu at gmail.com (scribu)
Date: Mon, 17 Aug 2009 00:58:22 +0300
Subject: [wp-hackers] meta_value contains text
In-Reply-To: <5135CE52-F53C-44BD-8A8C-457F37893103@joernroeder.de>
References: <0FC15237-3818-437A-967A-C8C7AD1C7629@joernroeder.de>
	<10d02b250908161137k4195a1f8rf38cea82de60fc17@mail.gmail.com>
	<349fe48b0908161209k77d4cfcdtac8efec2a854539a@mail.gmail.com>
	<10d02b250908161406v1b7f3c3et36a2d898eb7ba102@mail.gmail.com>
	<32A8AFAE-5E65-4D5A-9E6C-886AC171AE18@joernroeder.de>
	<10d02b250908161430s750493k5c9011279490263@mail.gmail.com>
	<5135CE52-F53C-44BD-8A8C-457F37893103@joernroeder.de>
Message-ID: <349fe48b0908161458w5357ef2pc321358b2f50b374@mail.gmail.com>

You would have to use this syntax:

CASE meta_key
  WHEN 'key1' THEN meta_value = 'value1'
  WHEN 'key2' THEN meta_value = 'value2'
END

and you also have to have a group by:

GROUP BY post_id
HAVING COUNT(*) > 2


All this functionality is wrapped in a plugin of mine: Custom Field
Taxonomies <http://scribu.net/wordpress/custom-field-taxonomies>.


-- 
http://scribu.net

From scribu at gmail.com  Sun Aug 16 22:00:12 2009
From: scribu at gmail.com (scribu)
Date: Mon, 17 Aug 2009 01:00:12 +0300
Subject: [wp-hackers] Call photos from media gallery?
In-Reply-To: <58410e2e0908161433r666be814j2047d64efbb94ad2@mail.gmail.com>
References: <58410e2e0908161433r666be814j2047d64efbb94ad2@mail.gmail.com>
Message-ID: <349fe48b0908161500t6f1b3f5cn961bcc459b10e58b@mail.gmail.com>

Yes, there are. See wp-includes/media.php

What do you mean by "calling photos" ?

-- 
http://scribu.net

From yahgrp at poplarware.com  Mon Aug 17 13:57:38 2009
From: yahgrp at poplarware.com (Jennifer Hodgdon)
Date: Mon, 17 Aug 2009 06:57:38 -0700
Subject: [wp-hackers] [Fwd: Re: [WordPress Trac] #5860: Activating plugin
 that uses upgrade functions (dbDelta) fails]
Message-ID: <4A8961D2.5060901@poplarware.com>

It looks like someone spammed Trac sometime in the last 24 hours. I 
got 3 or 4 messages on old closed tickets from this user "albass". Not 
sure where to report it, but the spam comments are still there.

    --Jennifer

-------- Original Message --------
Subject: Re: [WordPress Trac] #5860: Activating plugin that uses 
upgrade functions (dbDelta) fails
Date: Mon, 17 Aug 2009 07:21:22 -0000
From: WordPress Trac <wp-trac at lists.automattic.com>
Reply-To: wp-hackers at lists.automattic.com
CC: wp-trac at lists.automattic.com
References: <051.6748bb9eadb8a613876a2146e08a4fc6 at lists.automattic.com>

#5860: Activating plugin that uses upgrade functions (dbDelta) fails
----------------------------+-----------------------------------------------
  Reporter:  jhodgdon        |        Owner:  ryan
      Type:  defect (bug)    |       Status:  closed
  Priority:  normal          |    Milestone:  2.5
Component:  Administration  |      Version:  2.5
  Severity:  critical        |   Resolution:  fixed
  Keywords:  has-patch       |
----------------------------+-----------------------------------------------

Comment(by albass):

  [http://conficker.bij.pl/free/ #5860 (Activating plugin that uses 
upgrade
  functions (dbDelta) fails) ? WordPress Trac]


From kontakt at joernroeder.de  Mon Aug 17 18:00:29 2009
From: kontakt at joernroeder.de (=?ISO-8859-1?Q?J=F6rn_R=F6der?=)
Date: Mon, 17 Aug 2009 20:00:29 +0200
Subject: [wp-hackers] meta_value contains text
In-Reply-To: <349fe48b0908161458w5357ef2pc321358b2f50b374@mail.gmail.com>
References: <0FC15237-3818-437A-967A-C8C7AD1C7629@joernroeder.de>
	<10d02b250908161137k4195a1f8rf38cea82de60fc17@mail.gmail.com>
	<349fe48b0908161209k77d4cfcdtac8efec2a854539a@mail.gmail.com>
	<10d02b250908161406v1b7f3c3et36a2d898eb7ba102@mail.gmail.com>
	<32A8AFAE-5E65-4D5A-9E6C-886AC171AE18@joernroeder.de>
	<10d02b250908161430s750493k5c9011279490263@mail.gmail.com>
	<5135CE52-F53C-44BD-8A8C-457F37893103@joernroeder.de>
	<349fe48b0908161458w5357ef2pc321358b2f50b374@mail.gmail.com>
Message-ID: <111F6CFF-EC76-4166-92EA-FE901AC488BD@joernroeder.de>

Hi,
thanks. I will look at your plugin?

J?rn


Am 16.08.2009 um 23:58 schrieb scribu:

> You would have to use this syntax:
>
> CASE meta_key
>  WHEN 'key1' THEN meta_value = 'value1'
>  WHEN 'key2' THEN meta_value = 'value2'
> END
>
> and you also have to have a group by:
>
> GROUP BY post_id
> HAVING COUNT(*) > 2
>
>
> All this functionality is wrapped in a plugin of mine: Custom Field
> Taxonomies <http://scribu.net/wordpress/custom-field-taxonomies>.
>
>
> -- 
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ricardo.cezar at gmail.com  Mon Aug 17 18:43:45 2009
From: ricardo.cezar at gmail.com (Rics)
Date: Mon, 17 Aug 2009 15:43:45 -0300
Subject: [wp-hackers] WordPress tricks
Message-ID: <334b9ed40908171143qffee4bfu802e12ee731a269a@mail.gmail.com>

Hello all,

My name is Ricardo (AKA Rics) and I'm Brazilian. I'm developing a very
especific theme and I want to provide some custom functionality that will
need to be coded as plugins or something like this. I found this group while
looking for some help in one of the many issues I've found in this task.

I will dig into list archives now, maybe my questions are already
answered...

I'm very excited with this mail list. I'm sure I will learn a lot with you.

Best regards,
---
Rics
http://www.pensarics.com
http://www.meadiciona.com/rics
Maring?, PR - Brasil

From wp at xentek.net  Mon Aug 17 20:25:28 2009
From: wp at xentek.net (Eric Marden)
Date: Mon, 17 Aug 2009 16:25:28 -0400
Subject: [wp-hackers] WordPress tricks
In-Reply-To: <334b9ed40908171143qffee4bfu802e12ee731a269a@mail.gmail.com>
References: <334b9ed40908171143qffee4bfu802e12ee731a269a@mail.gmail.com>
Message-ID: <87AEF852-6417-4200-8C11-4AFDF02C397E@xentek.net>

On Aug 17, 2009, at 2:43 PM, Rics wrote:
> I'm developing a very especific theme and I want to provide some  
> custom functionality that will need to be coded as plugins or  
> something like this.


Welcome to the list. If you want your customizations to ship with you  
theme, you can use the functions.php file in your theme to act as auto- 
instaled / auto-executed "plugins".


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/






From somani.mayur at gmail.com  Mon Aug 17 20:29:32 2009
From: somani.mayur at gmail.com (Mayur Somani)
Date: Tue, 18 Aug 2009 01:59:32 +0530
Subject: [wp-hackers] WordPress tricks
In-Reply-To: <87AEF852-6417-4200-8C11-4AFDF02C397E@xentek.net>
References: <334b9ed40908171143qffee4bfu802e12ee731a269a@mail.gmail.com> 
	<87AEF852-6417-4200-8C11-4AFDF02C397E@xentek.net>
Message-ID: <a51040f00908171329s5645ece1ocb39836627c26a1c@mail.gmail.com>

Can you please give an example of auto installing and executing
plugins from functions file?

Thanks

On Tue, Aug 18, 2009 at 1:55 AM, Eric Marden<wp at xentek.net> wrote:
> On Aug 17, 2009, at 2:43 PM, Rics wrote:
>>
>> I'm developing a very especific theme and I want to provide some custom
>> functionality that will need to be coded as plugins or something like this.
>
>
> Welcome to the list. If you want your customizations to ship with you theme,
> you can use the functions.php file in your theme to act as auto-instaled /
> auto-executed "plugins".
>
>
> - Eric Marden
> __________________________________
> http://xentek.net/code/wordpress/
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From beau at dentedreality.com.au  Mon Aug 17 20:30:49 2009
From: beau at dentedreality.com.au (Beau Lebens)
Date: Mon, 17 Aug 2009 13:30:49 -0700
Subject: [wp-hackers] WordPress tricks
In-Reply-To: <a51040f00908171329s5645ece1ocb39836627c26a1c@mail.gmail.com>
References: <334b9ed40908171143qffee4bfu802e12ee731a269a@mail.gmail.com>
	<87AEF852-6417-4200-8C11-4AFDF02C397E@xentek.net>
	<a51040f00908171329s5645ece1ocb39836627c26a1c@mail.gmail.com>
Message-ID: <902424490908171330k53133b56qfb1ad9d151ef778@mail.gmail.com>

> Can you please give an example of auto installing and executing
> plugins from functions file?

it doesn't really work like that -- basically if a functions.php file
exists in your theme, it's included (via PHP) and any code in it is
executed.

From ricardo.cezar at gmail.com  Mon Aug 17 20:55:34 2009
From: ricardo.cezar at gmail.com (Rics)
Date: Mon, 17 Aug 2009 17:55:34 -0300
Subject: [wp-hackers] WordPress tricks
In-Reply-To: <902424490908171330k53133b56qfb1ad9d151ef778@mail.gmail.com>
References: <334b9ed40908171143qffee4bfu802e12ee731a269a@mail.gmail.com> 
	<87AEF852-6417-4200-8C11-4AFDF02C397E@xentek.net>
	<a51040f00908171329s5645ece1ocb39836627c26a1c@mail.gmail.com> 
	<902424490908171330k53133b56qfb1ad9d151ef778@mail.gmail.com>
Message-ID: <334b9ed40908171355n1ba4fe6fqd24276b490af633f@mail.gmail.com>

It's what I'm doing right now!

My template must have some custom fields in each post to work properly, so
I'm adding meta boxes to write/edit pages to simplify editors work.
Actually, I will change almost everything in write/edit pages... At least is
what I want to do.

:)
---
Rics
http://www.pensarics.com
http://www.meadiciona.com/rics
Maring?, PR - Brasil


2009/8/17 Beau Lebens <beau at dentedreality.com.au>

> > Can you please give an example of auto installing and executing
> > plugins from functions file?
>
> it doesn't really work like that -- basically if a functions.php file
> exists in your theme, it's included (via PHP) and any code in it is
> executed.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From kontakt at joernroeder.de  Mon Aug 17 21:48:51 2009
From: kontakt at joernroeder.de (=?ISO-8859-1?Q?J=F6rn_R=F6der?=)
Date: Mon, 17 Aug 2009 23:48:51 +0200
Subject: [wp-hackers] WordPress tricks
In-Reply-To: <334b9ed40908171355n1ba4fe6fqd24276b490af633f@mail.gmail.com>
References: <334b9ed40908171143qffee4bfu802e12ee731a269a@mail.gmail.com>
	<87AEF852-6417-4200-8C11-4AFDF02C397E@xentek.net>
	<a51040f00908171329s5645ece1ocb39836627c26a1c@mail.gmail.com>
	<902424490908171330k53133b56qfb1ad9d151ef778@mail.gmail.com>
	<334b9ed40908171355n1ba4fe6fqd24276b490af633f@mail.gmail.com>
Message-ID: <A5931F5E-B698-415E-A3F1-2EF11BEAE0C6@joernroeder.de>

Hi,
you can try the Flutter-Plugin http://flutter.freshout.us/
You can create your own Write Panels?

J?rn

Am 17.08.2009 um 22:55 schrieb Rics:

> It's what I'm doing right now!
>
> My template must have some custom fields in each post to work  
> properly, so
> I'm adding meta boxes to write/edit pages to simplify editors work.
> Actually, I will change almost everything in write/edit pages... At  
> least is
> what I want to do.
>
> :)
> ---
> Rics
> http://www.pensarics.com
> http://www.meadiciona.com/rics
> Maring?, PR - Brasil
>
>
> 2009/8/17 Beau Lebens <beau at dentedreality.com.au>
>
>>> Can you please give an example of auto installing and executing
>>> plugins from functions file?
>>
>> it doesn't really work like that -- basically if a functions.php file
>> exists in your theme, it's included (via PHP) and any code in it is
>> executed.
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ricardo.cezar at gmail.com  Tue Aug 18 01:07:09 2009
From: ricardo.cezar at gmail.com (Rics)
Date: Mon, 17 Aug 2009 22:07:09 -0300
Subject: [wp-hackers] WordPress tricks
In-Reply-To: <A5931F5E-B698-415E-A3F1-2EF11BEAE0C6@joernroeder.de>
References: <334b9ed40908171143qffee4bfu802e12ee731a269a@mail.gmail.com> 
	<87AEF852-6417-4200-8C11-4AFDF02C397E@xentek.net>
	<a51040f00908171329s5645ece1ocb39836627c26a1c@mail.gmail.com> 
	<902424490908171330k53133b56qfb1ad9d151ef778@mail.gmail.com> 
	<334b9ed40908171355n1ba4fe6fqd24276b490af633f@mail.gmail.com> 
	<A5931F5E-B698-415E-A3F1-2EF11BEAE0C6@joernroeder.de>
Message-ID: <334b9ed40908171807o59fc0be2t5ba46316b5ccb142@mail.gmail.com>

The point is that I don't want a plugin... I need it to be available as soon
as the user activate the theme...
---
Rics
http://www.pensarics.com
http://www.meadiciona.com/rics
Maring?, PR - Brasil


2009/8/17 J?rn R?der <kontakt at joernroeder.de>

> Hi,
> you can try the Flutter-Plugin http://flutter.freshout.us/
> You can create your own Write Panels?
>
> J?rn
>
> Am 17.08.2009 um 22:55 schrieb Rics:
>
>
>  It's what I'm doing right now!
>>
>> My template must have some custom fields in each post to work properly, so
>> I'm adding meta boxes to write/edit pages to simplify editors work.
>> Actually, I will change almost everything in write/edit pages... At least
>> is
>> what I want to do.
>>
>> :)
>> ---
>> Rics
>> http://www.pensarics.com
>> http://www.meadiciona.com/rics
>> Maring?, PR - Brasil
>>
>>
>> 2009/8/17 Beau Lebens <beau at dentedreality.com.au>
>>
>>  Can you please give an example of auto installing and executing
>>>> plugins from functions file?
>>>>
>>>
>>> it doesn't really work like that -- basically if a functions.php file
>>> exists in your theme, it's included (via PHP) and any code in it is
>>> executed.
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>  _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From hempsworth at googlemail.com  Tue Aug 18 01:10:48 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Tue, 18 Aug 2009 02:10:48 +0100
Subject: [wp-hackers] WordPress tricks
In-Reply-To: <334b9ed40908171807o59fc0be2t5ba46316b5ccb142@mail.gmail.com>
References: <334b9ed40908171143qffee4bfu802e12ee731a269a@mail.gmail.com> 
	<87AEF852-6417-4200-8C11-4AFDF02C397E@xentek.net>
	<a51040f00908171329s5645ece1ocb39836627c26a1c@mail.gmail.com> 
	<902424490908171330k53133b56qfb1ad9d151ef778@mail.gmail.com> 
	<334b9ed40908171355n1ba4fe6fqd24276b490af633f@mail.gmail.com> 
	<A5931F5E-B698-415E-A3F1-2EF11BEAE0C6@joernroeder.de>
	<334b9ed40908171807o59fc0be2t5ba46316b5ccb142@mail.gmail.com>
Message-ID: <5a1dad880908171810k21ccd8d3h4aeaa6fd8a721256@mail.gmail.com>

So you just need to put the relevant code into your themes functions.php
file, as mentioned earlier.

-- Alex  (Hempsworth)

From rapperajm at yahoo.com  Tue Aug 18 16:32:28 2009
From: rapperajm at yahoo.com (anthony maglione)
Date: Tue, 18 Aug 2009 09:32:28 -0700 (PDT)
Subject: [wp-hackers] WordPress tricks
In-Reply-To: <334b9ed40908171355n1ba4fe6fqd24276b490af633f@mail.gmail.com>
Message-ID: <556404.51748.qm@web57108.mail.re3.yahoo.com>

If i remove account will it remove my wordpress account cause i dont want 2 get these emails no more.

--- On Mon, 8/17/09, Rics <ricardo.cezar at gmail.com> wrote:


From: Rics <ricardo.cezar at gmail.com>
Subject: Re: [wp-hackers] WordPress tricks
To: wp-hackers at lists.automattic.com
Date: Monday, August 17, 2009, 4:55 PM


It's what I'm doing right now!

My template must have some custom fields in each post to work properly, so
I'm adding meta boxes to write/edit pages to simplify editors work.
Actually, I will change almost everything in write/edit pages... At least is
what I want to do.

:)
---
Rics
http://www.pensarics.com
http://www.meadiciona.com/rics
Maring?, PR - Brasil


2009/8/17 Beau Lebens <beau at dentedreality.com.au>

> > Can you please give an example of auto installing and executing
> > plugins from functions file?
>
> it doesn't really work like that -- basically if a functions.php file
> exists in your theme, it's included (via PHP) and any code in it is
> executed.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
_______________________________________________
wp-hackers mailing list
wp-hackers at lists.automattic.com
http://lists.automattic.com/mailman/listinfo/wp-hackers



      

From scribu at gmail.com  Tue Aug 18 19:12:26 2009
From: scribu at gmail.com (scribu)
Date: Tue, 18 Aug 2009 22:12:26 +0300
Subject: [wp-hackers] WordPress tricks
In-Reply-To: <556404.51748.qm@web57108.mail.re3.yahoo.com>
References: <334b9ed40908171355n1ba4fe6fqd24276b490af633f@mail.gmail.com>
	<556404.51748.qm@web57108.mail.re3.yahoo.com>
Message-ID: <349fe48b0908181212t60c414acg9815b161e53e636f@mail.gmail.com>

The mailing list account is separate from your account on WordPress.org.

Just go to this link and unsubscribe:

http://lists.automattic.com/mailman/listinfo/wp-hackers


On Tue, Aug 18, 2009 at 7:32 PM, anthony maglione <rapperajm at yahoo.com>wrote:

> If i remove account will it remove my wordpress account cause i dont want 2
> get these emails no more.
>
> --- On Mon, 8/17/09, Rics <ricardo.cezar at gmail.com> wrote:
>
>
> From: Rics <ricardo.cezar at gmail.com>
> Subject: Re: [wp-hackers] WordPress tricks
> To: wp-hackers at lists.automattic.com
> Date: Monday, August 17, 2009, 4:55 PM
>
>
> It's what I'm doing right now!
>
> My template must have some custom fields in each post to work properly, so
> I'm adding meta boxes to write/edit pages to simplify editors work.
> Actually, I will change almost everything in write/edit pages... At least
> is
> what I want to do.
>
> :)
> ---
> Rics
> http://www.pensarics.com
> http://www.meadiciona.com/rics
> Maring?, PR - Brasil
>
>
> 2009/8/17 Beau Lebens <beau at dentedreality.com.au>
>
> > > Can you please give an example of auto installing and executing
> > > plugins from functions file?
> >
> > it doesn't really work like that -- basically if a functions.php file
> > exists in your theme, it's included (via PHP) and any code in it is
> > executed.
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From hempsworth at googlemail.com  Thu Aug 20 10:12:11 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Thu, 20 Aug 2009 11:12:11 +0100
Subject: [wp-hackers] Plugins Receiving Emails
Message-ID: <5a1dad880908200312y47238a57n593a51b4f468e377@mail.gmail.com>

Hi all,

WP has the ability to 'post by email', so the software is obviously able to
accept emails. I'm creating a suite of support plugins for our WPMU network,
and one of these is ticketing helpdesk; I want users to be able to send mail
to 'support at example.com', the plugin to accept the mail, send a reply back
with a unique ID in the subject line etc.

Is there an API for dealing with sending/receiving emails? Or should I just
look to replicate the code in the 'post by email' feature?

-- Alex  (Hempsworth)

From frank at bueltge.de  Thu Aug 20 10:18:02 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Thu, 20 Aug 2009 12:18:02 +0200
Subject: [wp-hackers] Plugins Receiving Emails
In-Reply-To: <5a1dad880908200312y47238a57n593a51b4f468e377@mail.gmail.com>
References: <5a1dad880908200312y47238a57n593a51b4f468e377@mail.gmail.com>
Message-ID: <db047a770908200318p1ad68932q156e83b404865229@mail.gmail.com>

wp_mail() is the mail-function in WP and habe all settings, hooks for
custom mails.
Frank

From hempsworth at googlemail.com  Thu Aug 20 10:25:21 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Thu, 20 Aug 2009 11:25:21 +0100
Subject: [wp-hackers] Plugins Receiving Emails
In-Reply-To: <db047a770908200318p1ad68932q156e83b404865229@mail.gmail.com>
References: <5a1dad880908200312y47238a57n593a51b4f468e377@mail.gmail.com> 
	<db047a770908200318p1ad68932q156e83b404865229@mail.gmail.com>
Message-ID: <5a1dad880908200325u1c6d4527hb2f75d1d81274fa2@mail.gmail.com>

Thanks Frank,

I should have mentioned that I was aware of wp_mail(), that solved my
*sending* of mails, but receiving them is the bigger issue.

Cheers,
-- Alex  (Hempsworth)


On Thu, Aug 20, 2009 at 11:18 AM, Frank Bueltge <frank at bueltge.de> wrote:

> wp_mail() is the mail-function in WP and habe all settings, hooks for
> custom mails.
> Frank
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp-hackers at itsananderson.com  Thu Aug 20 12:48:36 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Thu, 20 Aug 2009 08:48:36 -0400
Subject: [wp-hackers] Plugins Receiving Emails
In-Reply-To: <5a1dad880908200325u1c6d4527hb2f75d1d81274fa2@mail.gmail.com>
References: <5a1dad880908200312y47238a57n593a51b4f468e377@mail.gmail.com>
	<db047a770908200318p1ad68932q156e83b404865229@mail.gmail.com>
	<5a1dad880908200325u1c6d4527hb2f75d1d81274fa2@mail.gmail.com>
Message-ID: <6dbcd2670908200548o34090f6dh2e88a250bd875233@mail.gmail.com>

On Thu, Aug 20, 2009 at 6:25 AM, Alex Hempton-Smith <
hempsworth at googlemail.com> wrote:

> Thanks Frank,
>
> I should have mentioned that I was aware of wp_mail(), that solved my
> *sending* of mails, but receiving them is the bigger issue.
>
> Cheers,
> -- Alex  (Hempsworth)
>
>
> On Thu, Aug 20, 2009 at 11:18 AM, Frank Bueltge <frank at bueltge.de> wrote:
>
> > wp_mail() is the mail-function in WP and habe all settings, hooks for
> > custom mails.
> > Frank
>

If you look at the way post by email is set up, you'll notice that it's
actually connecting to an external email server. WordPress certainly doesn't
come with its own mail server. It simply connects to an external server and
retrieves new messages.

You can find the code in /wp-mail.php. It uses the
/wp-includes/class-pop3.php file and the POP3 class. Should be easy enough
to duplicate the code for your plugin.

-- 
Will Anderson
http://www.itsananderson.com/

From diaan at dreamfoundry.co.za  Thu Aug 20 13:33:08 2009
From: diaan at dreamfoundry.co.za (Diaan Mynhardt)
Date: Thu, 20 Aug 2009 15:33:08 +0200
Subject: [wp-hackers] Post in appropriate category view.
Message-ID: <4A8D5094.4000603@dreamfoundry.co.za>

Hello all

I have a problem that I am unable to solve. I can best describe it with 
a simple scenario.

Lets say I have 30 posts in a category and I am displaying that category 
as 3 pages of 10 posts each. Post 1-10 on page one, 11-20 on page two, 
and so on.

When viewing, say, post 15 on it's own I would like to be have a link 
that takes me directly to page two of the category view where post 15 is 
listed.

I can think of various computationally intense methods of doing this, 
but I'm hoping that there is some simpler method.

(Also, I hope the solution hasn't been staring me in the face.)

-- 
Diaan Mynhardt
http://dreamfoundry.co.za
+27 84 580 6018

From davemee at gmail.com  Thu Aug 20 14:31:16 2009
From: davemee at gmail.com (Dave Mee)
Date: Thu, 20 Aug 2009 15:31:16 +0100
Subject: [wp-hackers] Post in appropriate category view.
In-Reply-To: <4A8D5094.4000603@dreamfoundry.co.za>
References: <4A8D5094.4000603@dreamfoundry.co.za>
Message-ID: <009001ca21a2$e0e20d90$a2a628b0$@com>

Hi Diaan,

I have a very rudimentary plugin designed to provide 'page X of Y' feedback
features to wordpress - however, when I wrote it I was new to writing WP
plugins, so it's a template tag you'll need to insert manually into your
theme.

/**
 * Identify which page a post is on, based on the number of posts per page
option
 *
 * @param string $postid Required. The ID of the current post
 * @param string $category Category list, either a single ID or multiple,
separated by commas
 * @return int The page the post occurs on.
 *
 */
function get_current_page($postid=0, $category = '')

If you're interested in giving it a whirl (and helping me be sure it works
for other people before releasing it) drop me a line and I'll send it over
to you.

It is a computationally heavy calculation, but this plugin implements
cacheing which should ease the burden.

While I'm here - does anyone have any good advice on how to implement
query-parameter style parsing for functions? Is this still the official way
to implement them, rather than multiple parameters?

Best

Dave

> -----Original Message-----
> From: wp-hackers-bounces at lists.automattic.com [mailto:wp-hackers-
> bounces at lists.automattic.com] On Behalf Of Diaan Mynhardt
> Sent: 20 August 2009 14:33
> To: wp-hackers at lists.automattic.com
> Subject: [wp-hackers] Post in appropriate category view.
> 
> Hello all
> 
> I have a problem that I am unable to solve. I can best describe it with
> a simple scenario.
> 
> Lets say I have 30 posts in a category and I am displaying that
> category
> as 3 pages of 10 posts each. Post 1-10 on page one, 11-20 on page two,
> and so on.
> 
> When viewing, say, post 15 on it's own I would like to be have a link
> that takes me directly to page two of the category view where post 15
> is
> listed.
> 
> I can think of various computationally intense methods of doing this,
> but I'm hoping that there is some simpler method.
> 
> (Also, I hope the solution hasn't been staring me in the face.)
> 
> --
> Diaan Mynhardt
> http://dreamfoundry.co.za
> +27 84 580 6018
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From wordpress at santosj.name  Thu Aug 20 17:07:39 2009
From: wordpress at santosj.name (Jacob Santos)
Date: Thu, 20 Aug 2009 12:07:39 -0500
Subject: [wp-hackers] HTTP API Refactoring
Message-ID: <4A8D82DB.2020007@santosj.name>

I went ahead and started to refactor the HTTP API to make it either suck 
more or suck less. I'm not happy with the design of the architecture. It 
is very restrictive in that in order to add something, you have to 
modify the core and that is not how I would have liked it.

The second problem is that the arguments aren't completely supported in 
all of the transports. I had wanted for the developer to do this:

$request = new WP_Http_Fsockopen('http://www.google.com', 
array('whatever' => 'what'));

But most of the arguments aren't supported, so I thought that instead of 
abstracting the arguments, I would refactor the entire request process 
into something like this:

$request = new WP_Http_Request('http://www.google.com');
$request->override_defaults(array('user_agent' => 'Custom'));
$request->set_transport('WP_Http_Fsockopen');
$request->send();

It is a bit more work , but it allows for someone to use any transport 
separately from WP_Http, which restricts to just the ones that actually 
work and in a specific order.

I already started work on it and I'm moving a lot of the code from 
WP_Http into their own classes, so that the Header code will be managed 
by its own class, since a lot of the code in the HTTP API classes deals 
with headers.

Any ideas? I'm still not exactly sure how to make it to where 
modifications could be plugins, but well, the filters should be used. At 
least with this proposal, the request class can be extended or replaced 
in the WP_Http class. I'm about a third or half way finished.

Jacob Santos

From gundersson at gmail.com  Thu Aug 20 18:53:14 2009
From: gundersson at gmail.com (Christian Gundersson)
Date: Thu, 20 Aug 2009 20:53:14 +0200
Subject: [wp-hackers] General question on wpdb and classes
Message-ID: <d14758810908201153u35dbe571ifdfdace741b70a3d@mail.gmail.com>

Hi,

I'm writing a plugin and thought I'd use some OO programming with this to
make everything easy to maintain and extend. What I'm wondering is whether
I'm using $wpdb correctly. I usually let my objects fetch their own data
from the database instead of pre-fetching it and passing it in as an array
or what not. So, my classes need access to $wpdb and I do this currently
simply by adding

global $wpdb;
$this->_wpdb = $wpdb;

in the constructor of the class, the methods then use $this->_wpdb for
querying. This works as intended but I get the sense that this may not be
the correct/best way to do this.

What I'm wondering is first of all if I'm stupid and there's some apparent
danger in doing this, and secondly how you guys are handling this? Any tips,
hints or pointers in the general direction are welcome.

Thanks!

Regards,
Christian

From scribu at gmail.com  Thu Aug 20 19:32:25 2009
From: scribu at gmail.com (scribu)
Date: Thu, 20 Aug 2009 22:32:25 +0300
Subject: [wp-hackers] Post in appropriate category view.
In-Reply-To: <009001ca21a2$e0e20d90$a2a628b0$@com>
References: <4A8D5094.4000603@dreamfoundry.co.za>
	<009001ca21a2$e0e20d90$a2a628b0$@com>
Message-ID: <349fe48b0908201232q3807ebfr242cfd8558ae9676@mail.gmail.com>

On Thu, Aug 20, 2009 at 5:31 PM, Dave Mee <davemee at gmail.com> wrote:

> Hi Diaan,
>
> I have a very rudimentary plugin designed to provide 'page X of Y' feedback
> features to wordpress - however, when I wrote it I was new to writing WP
> plugins, so it's a template tag you'll need to insert manually into your
> theme.
>
> /**
>  * Identify which page a post is on, based on the number of posts per page
> option
>  *
>  * @param string $postid Required. The ID of the current post
>  * @param string $category Category list, either a single ID or multiple,
> separated by commas
>  * @return int The page the post occurs on.
>  *
>  */
> function get_current_page($postid=0, $category = '')
>
> If you're interested in giving it a whirl (and helping me be sure it works
> for other people before releasing it) drop me a line and I'll send it over
> to you.
>
> It is a computationally heavy calculation, but this plugin implements
> cacheing which should ease the burden.


You might also want to take a look at the Smarter
Navigation<http://scribu.net/wordpress/smarter-navigation>plugin.


> While I'm here - does anyone have any good advice on how to implement
> query-parameter style parsing for functions? Is this still the official way
> to implement them, rather than multiple parameters?


You can use wp_parse_args()


-- 
http://scribu.net

From skeltoac at gmail.com  Thu Aug 20 19:33:57 2009
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu, 20 Aug 2009 14:33:57 -0500
Subject: [wp-hackers] General question on wpdb and classes
In-Reply-To: <d14758810908201153u35dbe571ifdfdace741b70a3d@mail.gmail.com>
References: <d14758810908201153u35dbe571ifdfdace741b70a3d@mail.gmail.com>
Message-ID: <e6ec604d0908201233o4f7e6e2v62c17eb89ae72464@mail.gmail.com>

You should either:
1. use the reference assign operator (&=) to ensure all of your
queries go to the same object instance, or
2. do "global $wpdb;" at the top of each method that uses $wpdb.

My preference is #2 because that how core always does it.

Andy

On Thu, Aug 20, 2009 at 1:53 PM, Christian
Gundersson<gundersson at gmail.com> wrote:
> Hi,
>
> I'm writing a plugin and thought I'd use some OO programming with this to
> make everything easy to maintain and extend. What I'm wondering is whether
> I'm using $wpdb correctly. I usually let my objects fetch their own data
> from the database instead of pre-fetching it and passing it in as an array
> or what not. So, my classes need access to $wpdb and I do this currently
> simply by adding
>
> global $wpdb;
> $this->_wpdb = $wpdb;
>
> in the constructor of the class, the methods then use $this->_wpdb for
> querying. This works as intended but I get the sense that this may not be
> the correct/best way to do this.
>
> What I'm wondering is first of all if I'm stupid and there's some apparent
> danger in doing this, and secondly how you guys are handling this? Any tips,
> hints or pointers in the general direction are welcome.
>
> Thanks!
>
> Regards,
> Christian
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From skeltoac at gmail.com  Thu Aug 20 19:34:45 2009
From: skeltoac at gmail.com (Andy Skelton)
Date: Thu, 20 Aug 2009 14:34:45 -0500
Subject: [wp-hackers] General question on wpdb and classes
In-Reply-To: <e6ec604d0908201233o4f7e6e2v62c17eb89ae72464@mail.gmail.com>
References: <d14758810908201153u35dbe571ifdfdace741b70a3d@mail.gmail.com>
	<e6ec604d0908201233o4f7e6e2v62c17eb89ae72464@mail.gmail.com>
Message-ID: <e6ec604d0908201234k2d9e315fw3da44e690ed71f7@mail.gmail.com>

On Thu, Aug 20, 2009 at 2:33 PM, Andy Skelton<skeltoac at gmail.com> wrote:
> 1. use the reference assign operator (&=) to ensure all of your
> queries go to the same object instance, or

Ahem: =&

From gundersson at gmail.com  Thu Aug 20 20:32:14 2009
From: gundersson at gmail.com (Christian Gundersson)
Date: Thu, 20 Aug 2009 22:32:14 +0200
Subject: [wp-hackers] General question on wpdb and classes
In-Reply-To: <e6ec604d0908201234k2d9e315fw3da44e690ed71f7@mail.gmail.com>
References: <d14758810908201153u35dbe571ifdfdace741b70a3d@mail.gmail.com>
	<e6ec604d0908201233o4f7e6e2v62c17eb89ae72464@mail.gmail.com>
	<e6ec604d0908201234k2d9e315fw3da44e690ed71f7@mail.gmail.com>
Message-ID: <d14758810908201332u1de04759k1231a84b38d7b9f0@mail.gmail.com>

Thanks for your input, I thought about using the reference assignment first
but that felt like it would potentially get me in more trouble than not
using it.

I'm generally not a fan of globals, in any language, so I feel iffy about
using them. Don't really know why, just thought there'd be a better way of
doing things. Maybe time for a change of mind :)

//Christian

2009/8/20 Andy Skelton <skeltoac at gmail.com>

> On Thu, Aug 20, 2009 at 2:33 PM, Andy Skelton<skeltoac at gmail.com> wrote:
> > 1. use the reference assign operator (&=) to ensure all of your
> > queries go to the same object instance, or
>
> Ahem: =&
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From diaan at dreamfoundry.co.za  Thu Aug 20 20:34:27 2009
From: diaan at dreamfoundry.co.za (Diaan Mynhardt)
Date: Thu, 20 Aug 2009 22:34:27 +0200
Subject: [wp-hackers] Post in appropriate category view.
In-Reply-To: <349fe48b0908201232q3807ebfr242cfd8558ae9676@mail.gmail.com>
References: <4A8D5094.4000603@dreamfoundry.co.za>	<009001ca21a2$e0e20d90$a2a628b0$@com>
	<349fe48b0908201232q3807ebfr242cfd8558ae9676@mail.gmail.com>
Message-ID: <4A8DB353.7000800@dreamfoundry.co.za>

scribu wrote:
> You might also want to take a look at the Smarter
> Navigation<http://scribu.net/wordpress/smarter-navigation>plugin.
> 

Thank you for this. I will check it out too.

-- 
Diaan Mynhardt
http://dreamfoundry.co.za
+27 84 580 6018

From wordpress at tekartist.org  Fri Aug 21 00:15:48 2009
From: wordpress at tekartist.org (Stephane Daury)
Date: Thu, 20 Aug 2009 20:15:48 -0400
Subject: [wp-hackers] HTTP API Refactoring
In-Reply-To: <4A8D82DB.2020007@santosj.name>
References: <4A8D82DB.2020007@santosj.name>
Message-ID: <C6D05D7A-3F2B-4AAB-AA8B-7F66C5E15227@tekartist.org>


Nice Jacob!

S

On Aug 20, 2009, at 13:07, Jacob Santos wrote:

> I went ahead and started to refactor the HTTP API to make it either  
> suck more or suck less. I'm not happy with the design of the  
> architecture. It is very restrictive in that in order to add  
> something, you have to modify the core and that is not how I would  
> have liked it.
>
> The second problem is that the arguments aren't completely supported  
> in all of the transports. I had wanted for the developer to do this:
>
> $request = new WP_Http_Fsockopen('http://www.google.com',  
> array('whatever' => 'what'));
>
> But most of the arguments aren't supported, so I thought that  
> instead of abstracting the arguments, I would refactor the entire  
> request process into something like this:
>
> $request = new WP_Http_Request('http://www.google.com');
> $request->override_defaults(array('user_agent' => 'Custom'));
> $request->set_transport('WP_Http_Fsockopen');
> $request->send();
>
> It is a bit more work , but it allows for someone to use any  
> transport separately from WP_Http, which restricts to just the ones  
> that actually work and in a specific order.
>
> I already started work on it and I'm moving a lot of the code from  
> WP_Http into their own classes, so that the Header code will be  
> managed by its own class, since a lot of the code in the HTTP API  
> classes deals with headers.
>
> Any ideas? I'm still not exactly sure how to make it to where  
> modifications could be plugins, but well, the filters should be  
> used. At least with this proposal, the request class can be extended  
> or replaced in the WP_Http class. I'm about a third or half way  
> finished.
>
> Jacob Santos
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From johnbillion+wp at gmail.com  Fri Aug 21 08:31:07 2009
From: johnbillion+wp at gmail.com (John Blackbourn)
Date: Fri, 21 Aug 2009 09:31:07 +0100
Subject: [wp-hackers] Post in appropriate category view.
In-Reply-To: <4A8DB353.7000800@dreamfoundry.co.za>
References: <4A8D5094.4000603@dreamfoundry.co.za>
	<009001ca21a2$e0e20d90$a2a628b0$@com>
	<349fe48b0908201232q3807ebfr242cfd8558ae9676@mail.gmail.com>
	<4A8DB353.7000800@dreamfoundry.co.za>
Message-ID: <1fa535a70908210131h394b3caavf5b7c1f9ab9c2919@mail.gmail.com>

Just wrote a little function for this: http://pastebin.ca/1537418 .

get_category_archive_page() will give you the page number of the
category archive that the current post appears on. It takes two
parameters, the post ID and a category ID. Both parameters are
optional when the function is used within the loop as it'll auto
detect the post ID and the first category ID the post is in.

All you need to do with the result is turn it into a link to the
correct page within the category archive. Eg.
example.com/category/cheese/page/X where X is the result of
get_category_archive_page().

John

2009/8/20 Diaan Mynhardt <diaan at dreamfoundry.co.za>:
> scribu wrote:
>>
>> You might also want to take a look at the Smarter
>> Navigation<http://scribu.net/wordpress/smarter-navigation>plugin.
>>
>
> Thank you for this. I will check it out too.
>
> --
> Diaan Mynhardt
> http://dreamfoundry.co.za
> +27 84 580 6018
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From jason at findingsimple.com  Fri Aug 21 10:28:44 2009
From: jason at findingsimple.com (Jason)
Date: Fri, 21 Aug 2009 20:28:44 +1000
Subject: [wp-hackers] Custom Taxonomies Permalink / Url not working
Message-ID: <bf55ecdd0908210328u7e80ae66w745b61370a7f6871@mail.gmail.com>

Hey All,

I've just setup a fresh install of WP and added a custom taxonomy (with the
functions.php) like so:

*function create_my_taxonomies() {
    register_taxonomy( 'people', 'post', array( 'hierarchical' => false,
'label' =>  __('People', 'series'), 'query_var' => 'people', 'rewrite' =>
true ) );
}*

I've also created a *taxonomy.php* template file and placed it in my theme
directory and setup permalinks as */%year%/%monthnum%/%day%/%postname%/*

When try to navigate to
http://vermilion.mydemo.com.au/people/test-tax/gives a pafe not found
however when I navigate to
http://vermilion.mydemo.com.au/?people=text-tax it works.

I've tried flushing the rewrite rules and changing to/from the default
structure and still nothing.

Anybody have any suggestions?

Thanks in advance.

Jason

From dragonfly at dragonflyeye.net  Fri Aug 21 11:46:26 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Fri, 21 Aug 2009 07:46:26 -0400
Subject: [wp-hackers] Posts Before, Posts After
Message-ID: <77b239a00908210446g3adeec52q18b762ef973ef62c@mail.gmail.com>

Perhaps I'm just completely overcomplicating things, but I don't think
so....

I'm trying to get a "contextual archive" list going, where I can show my
visitors the next and previous five posts in a list. I would have thought
this would be easier than it is, but there really isn't any natural way to
do this with query_posts. According to the examples given in the discussion
of query_posts in the Codex, to apply a date range, you need to add a
filter.

The problem with adding a filter is that it applies to ALL future queries,
even if you create your own custom query object, as one person in the
support area discovered. With my code (below), this ends up warping the
query that displays an individual post, thus sending people with the correct
query vars in the URL, but the wrong content on the page.

I'm completely at a loss as to how to go about doing what I want to do. You
can see my (currently borked) code running on my website:
http://iam.bit-character.com. Click on the little plus sign fixed to the
bottom right side of your browser window to see the list of articles.

References:
http://codex.wordpress.org/Template_Tags/query_posts#Time_Parameters
http://wordpress.org/support/topic/207832?replies=1*

Code:

function iabc_context_archive($current_post) {
    global $wpdb;
    if(is_single()) :
        // get newer posts:
        add_filter('posts_where', 'iabc_filterWhere_newer');
        $newer = query_posts('showposts=5&sortby=date&sort=DESC');
        remove_filter('posts_where', 'iabc_filterWhere_newer');
        // add_filter('posts_where', 'iabc_filterWhere_reset');
        // get older posts:
        add_filter('posts_where', 'iabc_filterWhere_older');
        $older = query_posts('showposts=5&sortby=date&sort=ASC');
        remove_filter('posts_where', 'iabc_filterWhere_older');
        // add_filter('posts_where', 'iabc_filterWhere_reset');
        // merge returns into single array. Add the current post and mark it
as such:
        if($current_post) :
            $current_post->thepost = 1;
            $newer[] = $current_post;
        endif;
        $list = array_merge((array)$newer, (array)$older);
    else:
        // just get the latest posts
        $list = get_posts('numberposts=5');
    endif;
    // Output:
    print('<ul id="archive">');
    foreach((array)$list as $next) :
        $title = str_split($next->post_content, 40);
        $next->thepost ? $class = ' class="current" ' : $class = '';
        print('<li'.$class.'><a href="'.get_permalink($next->ID).'"
title="'.$title[0].'">'.$title[0].'</a></li>');
    endforeach;
    print('</ul>');
        add_filter('posts_where', 'iabc_filterWhere_reset');
}

function iabc_filterWhere_newer($where = '') {
    global $post;
    $where .= " AND post_date > '".$post->post_date."'";
    return $where;
}

function iabc_filterWhere_older($where = '') {
    global $post;
    $where .= " AND post_date < '".$post->post_date."'";
    return $where;
}


function iabc_filterWhere_reset($where = '') {
    $where = "";
    return $where;
}

*

From scribu at gmail.com  Fri Aug 21 12:05:59 2009
From: scribu at gmail.com (scribu)
Date: Fri, 21 Aug 2009 15:05:59 +0300
Subject: [wp-hackers] Posts Before, Posts After
In-Reply-To: <77b239a00908210446g3adeec52q18b762ef973ef62c@mail.gmail.com>
References: <77b239a00908210446g3adeec52q18b762ef973ef62c@mail.gmail.com>
Message-ID: <349fe48b0908210505od2c8b29jbd983b0275339fe1@mail.gmail.com>

On Fri, Aug 21, 2009 at 2:46 PM, Thomas Belknap
<dragonfly at dragonflyeye.net>wrote:

> I'm trying to get a "contextual archive" list going, where I can show my
> visitors the next and previous five posts in a list. I would have thought
> this would be easier than it is, but there really isn't any natural way to
> do this with query_posts. According to the examples given in the discussion
> of query_posts in the Codex, to apply a date range, you need to add a
> filter.


I have a plugin that does something like that. It's called Smarter
Navigation <http://scribu.net/wordpress/smarter-navigation> and this is how
it works:

On the index, categories etc.:

- get the current query and change LIMIT
- get post ids with that query and save them in a cookie

On single posts:

- find the current post in the saved post ids
- display previous and next post links.

I'm sure you can tweak template-tags.php so that it shows 5 posts instead of
2.


-- 
http://scribu.net

From jason at findingsimple.com  Fri Aug 21 12:11:25 2009
From: jason at findingsimple.com (Jason)
Date: Fri, 21 Aug 2009 22:11:25 +1000
Subject: [wp-hackers] Custom Taxonomies Permalink / Url not working
In-Reply-To: <bf55ecdd0908210328u7e80ae66w745b61370a7f6871@mail.gmail.com>
References: <bf55ecdd0908210328u7e80ae66w745b61370a7f6871@mail.gmail.com>
Message-ID: <bf55ecdd0908210511s1a529636j96c1558408e616e2@mail.gmail.com>

Figured out that you need to have the custom taxonomy item/tag associated
with a least one post/page before it will work. This appears to be different
to how regular tags functions.


On Fri, Aug 21, 2009 at 8:28 PM, Jason <jason at findingsimple.com> wrote:

>
> Hey All,
>
> I've just setup a fresh install of WP and added a custom taxonomy (with the
> functions.php) like so:
>
> *function create_my_taxonomies() {
>     register_taxonomy( 'people', 'post', array( 'hierarchical' => false,
> 'label' =>  __('People', 'series'), 'query_var' => 'people', 'rewrite' =>
> true ) );
> }*
>
> I've also created a *taxonomy.php* template file and placed it in my theme
> directory and setup permalinks as */%year%/%monthnum%/%day%/%postname%/*
>
> When try to navigate to http://vermilion.mydemo.com.au/people/test-tax/gives a pafe not found however when I navigate to
> http://vermilion.mydemo.com.au/?people=text-tax it works.
>
> I've tried flushing the rewrite rules and changing to/from the default
> structure and still nothing.
>
> Anybody have any suggestions?
>
> Thanks in advance.
>
> Jason
>

From dragonfly at dragonflyeye.net  Fri Aug 21 12:18:03 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Fri, 21 Aug 2009 08:18:03 -0400
Subject: [wp-hackers] Posts Before, Posts After
Message-ID: <77b239a00908210518h25833f05mcdfd3c78686ddfe3@mail.gmail.com>

Thank you, scribu! This is a good example of the way I need to do this.

Is it not just a little bit strange that you can't just ask WP to grab the
next five and the previous five? It would be nice if they adapted
query_posts to handle this type of query, since it seems like such a natural
thing to do...

From websweetweb at gmail.com  Fri Aug 21 12:57:07 2009
From: websweetweb at gmail.com (rajasekharan)
Date: Fri, 21 Aug 2009 18:27:07 +0530
Subject: [wp-hackers] How to set up crons in WP?
Message-ID: <4A8E99A3.9000302@gmail.com>

Hi everyone,

I am trying to set up a cron job in wordpress to call a function called 
"wpr_cronjob" every hour in my wordpress plugin. So I registered a 
activation hook and in the hook I call the following function:

wp_schedule_event(time(), 'hourly', 'wpr_cronjob');

But I the function is not getting called because every time the function 
is called, I will receive an email (which I am not getting). I have set 
up a cronjob on my linux server to run wp-cron.php every 5 minutes and 
the function is still not getting called. Could you please tell me what 
I am doing wrong?

Thanks in advance,

Raj Sekharan.

From dragonfly at dragonflyeye.net  Fri Aug 21 13:16:16 2009
From: dragonfly at dragonflyeye.net (Thomas Belknap)
Date: Fri, 21 Aug 2009 09:16:16 -0400
Subject: [wp-hackers] How to set up crons in WP?
Message-ID: <77b239a00908210616ia9483f0ofbf03f605d28e6fb@mail.gmail.com>

Wrote an article 'bout it. Like to read it? Here it goes:
http://holisticnetworking.net/plugins/2008/10/18/scheduling-with-wordpress-cron-functions/



Hi everyone,

I am trying to set up a cron job in wordpress to call a function called
"wpr_cronjob" every hour in my wordpress plugin. So I registered a
activation hook and in the hook I call the following function:

wp_schedule_event(time(), 'hourly', 'wpr_cronjob');

But I the function is not getting called because every time the function
is called, I will receive an email (which I am not getting). I have set
up a cronjob on my linux server to run wp-cron.php every 5 minutes and
the function is still not getting called. Could you please tell me what
I am doing wrong?

Thanks in advance,

Raj Sekharan.

From otto at ottodestruct.com  Fri Aug 21 13:20:24 2009
From: otto at ottodestruct.com (Otto)
Date: Fri, 21 Aug 2009 08:20:24 -0500
Subject: [wp-hackers] How to set up crons in WP?
In-Reply-To: <4A8E99A3.9000302@gmail.com>
References: <4A8E99A3.9000302@gmail.com>
Message-ID: <161617690908210620s4128f02epef42295d9733d3f8@mail.gmail.com>

Cron doesn't call functions, it triggers action hooks. You need to tie
your action hook to your function.

wp_schedule_event(time(), 'hourly', 'my_action_hook');
add_action('my_action_hook','my_function');
function my_function() ...


-Otto



On Fri, Aug 21, 2009 at 7:57 AM, rajasekharan<websweetweb at gmail.com> wrote:
> Hi everyone,
>
> I am trying to set up a cron job in wordpress to call a function called
> "wpr_cronjob" every hour in my wordpress plugin. So I registered a
> activation hook and in the hook I call the following function:
>
> wp_schedule_event(time(), 'hourly', 'wpr_cronjob');
>
> But I the function is not getting called because every time the function is
> called, I will receive an email (which I am not getting). I have set up a
> cronjob on my linux server to run wp-cron.php every 5 minutes and the
> function is still not getting called. Could you please tell me what I am
> doing wrong?
>
> Thanks in advance,
>
> Raj Sekharan.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Fri Aug 21 15:11:00 2009
From: scribu at gmail.com (scribu)
Date: Fri, 21 Aug 2009 18:11:00 +0300
Subject: [wp-hackers] Posts Before, Posts After
In-Reply-To: <77b239a00908210518h25833f05mcdfd3c78686ddfe3@mail.gmail.com>
References: <77b239a00908210518h25833f05mcdfd3c78686ddfe3@mail.gmail.com>
Message-ID: <349fe48b0908210811r6e1211a3k717c49974c5facb3@mail.gmail.com>

On Fri, Aug 21, 2009 at 3:18 PM, Thomas Belknap
<dragonfly at dragonflyeye.net>wrote:

> Thank you, scribu! This is a good example of the way I need to do this.
>
> Is it not just a little bit strange that you can't just ask WP to grab the
> next five and the previous five? It would be nice if they adapted
> query_posts to handle this type of query, since it seems like such a
> natural
> thing to do...


There is a function for that in wp-includes/link-template.php

get_adjacent_post()

You just have to hack it to change the LIMIT from 1 to 5.

The only problem is that it's not context aware, except for $in_same_cat.


-- 
http://scribu.net

From batmoo at gmail.com  Fri Aug 21 16:11:21 2009
From: batmoo at gmail.com (Mohammad Jangda)
Date: Fri, 21 Aug 2009 12:11:21 -0400
Subject: [wp-hackers] Filtering by comment_type
Message-ID: <eaaa36c90908210911k7aec09dbl76fb86495abc34b8@mail.gmail.com>

Apologies if this ends up as a duplicate post; My first post (through Google
Groups) didn't seem to go through.

---

I'm working on a plugin to enable editorial comments for Posts on the admin
side. I'm hoping to store these as regular comments and differentiate them
from regular comments using the comment_type field. The problem I'm running
into is how to hide these comments from the frontend, since WordPress by
default shows any and all comments
attached to a post. The get_comments function also doesn't allow you to
specify comment_type as an argument.

I found the following filter which I suppose I could use to loop through
remove any comments with a specific type from the array. But I don't see
that as being a very elegant solution.

$wp_query->comments = apply_filters( 'comments_array', $comments, $post->ID
);

Any other suggestions? And does anyone forsee any issues with the way I'm
doing things?

Thanks.

From scribu at gmail.com  Fri Aug 21 16:30:59 2009
From: scribu at gmail.com (scribu)
Date: Fri, 21 Aug 2009 19:30:59 +0300
Subject: [wp-hackers] Filtering by comment_type
In-Reply-To: <eaaa36c90908210911k7aec09dbl76fb86495abc34b8@mail.gmail.com>
References: <eaaa36c90908210911k7aec09dbl76fb86495abc34b8@mail.gmail.com>
Message-ID: <349fe48b0908210930j5e9f9185qdce1aed41bf04f16@mail.gmail.com>

On Fri, Aug 21, 2009 at 7:11 PM, Mohammad Jangda <batmoo at gmail.com> wrote:

> I found the following filter which I suppose I could use to loop through
> remove any comments with a specific type from the array. But I don't see
> that as being a very elegant solution.
>
> $wp_query->comments = apply_filters( 'comments_array', $comments, $post->ID
> );
>
> Any other suggestions? And does anyone forsee any issues with the way I'm
> doing things?


That seems to be the correct filter. I don't see a better way to do it.


-- 
http://scribu.net

From peter.westwood at ftwr.co.uk  Fri Aug 21 16:56:50 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 21 Aug 2009 17:56:50 +0100
Subject: [wp-hackers] Filtering by comment_type
In-Reply-To: <eaaa36c90908210911k7aec09dbl76fb86495abc34b8@mail.gmail.com>
References: <eaaa36c90908210911k7aec09dbl76fb86495abc34b8@mail.gmail.com>
Message-ID: <FC6717C6-2FED-40DE-B2E0-10AD5CCF3C43@ftwr.co.uk>


On 21 Aug 2009, at 17:11, Mohammad Jangda wrote:
> I'm working on a plugin to enable editorial comments for Posts on  
> the admin
> side. I'm hoping to store these as regular comments and  
> differentiate them
> from regular comments using the comment_type field. The problem I'm  
> running
> into is how to hide these comments from the frontend, since  
> WordPress by
> default shows any and all comments
> attached to a post. The get_comments function also doesn't allow you  
> to
> specify comment_type as an argument.
>

get_comments normally returns approved or pending comments

If you set the comment_approved on your comments to something else as  
well as having a different comment_type then they should never appear  
on the front end.

Of course you then won't be able to use get_comments to fetch them  
from the database as it doesn't support that type of query

-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From somani.mayur at gmail.com  Fri Aug 21 23:50:54 2009
From: somani.mayur at gmail.com (Mayur Somani)
Date: Sat, 22 Aug 2009 05:20:54 +0530
Subject: [wp-hackers] Posting form data to an external file
Message-ID: <a51040f00908211650g12cd8220mb3b529fa1ad7d138@mail.gmail.com>

Hi,

I have used a normal php form in wordpress sidebar and I am using an
external file to process the form. The form method is POST. However
none of the values is actually POSTed. You can check the demo site
here,

http://www.agentwp.dreamhosters.com/

Can't I post data outside wordpress? How can I make that form work?
Please note that I am familiar with cforms, contact form 7 and many
other plugins, but due to my specific requirements, I can't use any
plugin. I have to use a plain php form.

Any inputs are appreciated. You can be very technical in explanation, that's ok.

Thank you for your time.

From wordpress at dd32.id.au  Sat Aug 22 00:56:36 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 22 Aug 2009 10:56:36 +1000
Subject: [wp-hackers] Posting form data to an external file
In-Reply-To: <a51040f00908211650g12cd8220mb3b529fa1ad7d138@mail.gmail.com>
References: <a51040f00908211650g12cd8220mb3b529fa1ad7d138@mail.gmail.com>
Message-ID: <op.uy1gwmsnspxmuu@dd32.no-ip.com>

The Syntax of the form looks correct, And theres nothing WordPress would  
be doing to prevent it.

You may want to add a var_dump($_POST);die(); to the top of that file just  
to show that nothing is being post'd.

On Sat, 22 Aug 2009 09:50:54 +1000, Mayur Somani <somani.mayur at gmail.com>  
wrote:

> Hi,
>
> I have used a normal php form in wordpress sidebar and I am using an
> external file to process the form. The form method is POST. However
> none of the values is actually POSTed. You can check the demo site
> here,
>
> http://www.agentwp.dreamhosters.com/
>
> Can't I post data outside wordpress? How can I make that form work?
> Please note that I am familiar with cforms, contact form 7 and many
> other plugins, but due to my specific requirements, I can't use any
> plugin. I have to use a plain php form.
>
> Any inputs are appreciated. You can be very technical in explanation,  
> that's ok.
>
> Thank you for your time.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Cheers,
Dion Hulse - dd32
--
Email: wordpress at dd32.id.au
Online: http://dd32.id.au/
WordPress QI: http://wpquickinstall.com/

From wp at xentek.net  Sat Aug 22 08:58:57 2009
From: wp at xentek.net (Eric Marden)
Date: Sat, 22 Aug 2009 04:58:57 -0400
Subject: [wp-hackers] How to set up crons in WP?
In-Reply-To: <161617690908210620s4128f02epef42295d9733d3f8@mail.gmail.com>
References: <4A8E99A3.9000302@gmail.com>
	<161617690908210620s4128f02epef42295d9733d3f8@mail.gmail.com>
Message-ID: <6A645748-4E25-40C1-90FB-6835E2C7FCEA@xentek.net>

On Aug 21, 2009, at 9:20 AM, Otto wrote:

> Cron doesn't call functions, it triggers action hooks. You need to tie
> your action hook to your function.
>
> wp_schedule_event(time(), 'hourly', 'my_action_hook');
> add_action('my_action_hook','my_function');
> function my_function() ...


Since we're on the topic, one thing that never made sense to me is how  
the whole wp-cron system is triggered since there aren't any  
instructions to have it actually triggered by an entry in crontab. How  
does wordpress know to run the scheduled jobs?


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/






From wordpress at dd32.id.au  Sat Aug 22 09:02:25 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sat, 22 Aug 2009 19:02:25 +1000
Subject: [wp-hackers] How to set up crons in WP?
In-Reply-To: <6A645748-4E25-40C1-90FB-6835E2C7FCEA@xentek.net>
References: <4A8E99A3.9000302@gmail.com>
	<161617690908210620s4128f02epef42295d9733d3f8@mail.gmail.com>
	<6A645748-4E25-40C1-90FB-6835E2C7FCEA@xentek.net>
Message-ID: <op.uy13ebbrspxmuu@dd32.no-ip.com>

The cron jobs are kicked off by a HTTP request.

WordPress has 2 methods, 1, is that it makes a HTTP request to itself at  
the end of a page view, and doesnt bother looking for any return data from  
the site, Thats the way its done in 99% of cases.

The other methods are a "Ajax" request made in the footer or something  
similar.. I think you need to add define('ALTERNATE_WP_CRON', true); for  
that method though..  I'm not really the best person to explain that one,  
but its rarely used.

You can set up a Crontab job to  call http://site.com/wp-cron.php if you  
wish, But its generally not needed.. the inbuilt cron system has been  
around since 2.0 or so i think.

On Sat, 22 Aug 2009 18:58:57 +1000, Eric Marden <wp at xentek.net> wrote:

> On Aug 21, 2009, at 9:20 AM, Otto wrote:
>
>> Cron doesn't call functions, it triggers action hooks. You need to tie
>> your action hook to your function.
>>
>> wp_schedule_event(time(), 'hourly', 'my_action_hook');
>> add_action('my_action_hook','my_function');
>> function my_function() ...
>
>
> Since we're on the topic, one thing that never made sense to me is how
> the whole wp-cron system is triggered since there aren't any
> instructions to have it actually triggered by an entry in crontab. How
> does wordpress know to run the scheduled jobs?
>
>
> - Eric Marden
> __________________________________
> http://xentek.net/code/wordpress/
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
Cheers,
Dion Hulse - dd32
--
Email: wordpress at dd32.id.au
Online: http://dd32.id.au/
WordPress QI: http://wpquickinstall.com/

From admin at laptoptips.ca  Sat Aug 22 09:25:35 2009
From: admin at laptoptips.ca (Andrew Ozz)
Date: Sat, 22 Aug 2009 02:25:35 -0700
Subject: [wp-hackers] How to set up crons in WP?
In-Reply-To: <op.uy13ebbrspxmuu@dd32.no-ip.com>
References: <4A8E99A3.9000302@gmail.com>	<161617690908210620s4128f02epef42295d9733d3f8@mail.gmail.com>	<6A645748-4E25-40C1-90FB-6835E2C7FCEA@xentek.net>
	<op.uy13ebbrspxmuu@dd32.no-ip.com>
Message-ID: <4A8FB98F.30104@laptoptips.ca>

Dion Hulse (dd32) wrote:
> The cron jobs are kicked off by a HTTP request.
> 
> WordPress has 2 methods, 1, is that it makes a HTTP request to itself at 
> the end of a page view, and doesnt bother looking for any return data 
> from the site, Thats the way its done in 99% of cases.
> 
> The other methods are a "Ajax" request made in the footer or something 
> similar.. I think you need to add define('ALTERNATE_WP_CRON', true); for 
> that method though..  I'm not really the best person to explain that 
> one, but its rarely used.

Yes, tried ajax but it brought some problems. 
define('ALTERNATE_WP_CRON', true); would try to redirect the browser to 
the same URL and then run wp-cron from the old process so it doesn't 
slow down the visitor. This works properly in most cases except with 
some web servers when they compress output.

> You can set up a Crontab job to  call http://site.com/wp-cron.php if you 
> wish, But its generally not needed.. the inbuilt cron system has been 
> around since 2.0 or so i think.

If the default wp-cron doesn't work properly you can use any means to 
call wp-cron.php from the command line: PHP CLI, cURL, Wget, even Lynx.

From hempsworth at googlemail.com  Sat Aug 22 09:29:19 2009
From: hempsworth at googlemail.com (Alex Hempton-Smith)
Date: Sat, 22 Aug 2009 10:29:19 +0100
Subject: [wp-hackers] Plugins Receiving Emails
In-Reply-To: <6dbcd2670908200548o34090f6dh2e88a250bd875233@mail.gmail.com>
References: <5a1dad880908200312y47238a57n593a51b4f468e377@mail.gmail.com> 
	<db047a770908200318p1ad68932q156e83b404865229@mail.gmail.com> 
	<5a1dad880908200325u1c6d4527hb2f75d1d81274fa2@mail.gmail.com> 
	<6dbcd2670908200548o34090f6dh2e88a250bd875233@mail.gmail.com>
Message-ID: <5a1dad880908220229p3f034efakf2011507e749905@mail.gmail.com>

Thanks Will,

I'll take a look. I'm guessing WP runs a cron to check for new mails every
so often? I need replies to be accepted pretty much ASAP, so would I just
have to run a cron every minute?!

-- Alex  (Hempsworth)


On Thu, Aug 20, 2009 at 1:48 PM, Will Anderson <wp-hackers at itsananderson.com
> wrote:

> On Thu, Aug 20, 2009 at 6:25 AM, Alex Hempton-Smith <
> hempsworth at googlemail.com> wrote:
>
> > Thanks Frank,
> >
> > I should have mentioned that I was aware of wp_mail(), that solved my
> > *sending* of mails, but receiving them is the bigger issue.
> >
> > Cheers,
> > -- Alex  (Hempsworth)
> >
> >
> > On Thu, Aug 20, 2009 at 11:18 AM, Frank Bueltge <frank at bueltge.de>
> wrote:
> >
> > > wp_mail() is the mail-function in WP and habe all settings, hooks for
> > > custom mails.
> > > Frank
> >
>
> If you look at the way post by email is set up, you'll notice that it's
> actually connecting to an external email server. WordPress certainly
> doesn't
> come with its own mail server. It simply connects to an external server and
> retrieves new messages.
>
> You can find the code in /wp-mail.php. It uses the
> /wp-includes/class-pop3.php file and the POP3 class. Should be easy enough
> to duplicate the code for your plugin.
>
> --
> Will Anderson
> http://www.itsananderson.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ds at dstall.com  Sat Aug 22 13:34:54 2009
From: ds at dstall.com (D. Stall)
Date: Sat, 22 Aug 2009 08:34:54 -0500
Subject: [wp-hackers] WP Universal Login
Message-ID: <72BADC29-06FB-45DE-A56E-1840483A98C7@dstall.com>

Is there a way to make one login for 2 different WP installs hosted  
on 2 separate domains?

I want to use a WPmu domain for my "blog", while using my own regular  
WP domain install for my site with a nav link to "blog" at other WPmu  
site.

If user login is on my WP site, is there a way to make WPmu install  
on other domain recognize login so users don't have to login again?

From glenn at glennansley.com  Sat Aug 22 13:40:03 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Sat, 22 Aug 2009 09:40:03 -0400
Subject: [wp-hackers] WP Universal Login
In-Reply-To: <72BADC29-06FB-45DE-A56E-1840483A98C7@dstall.com>
References: <72BADC29-06FB-45DE-A56E-1840483A98C7@dstall.com>
Message-ID: <3283f0830908220640r2587c497l443dca00c5cdfd63@mail.gmail.com>

Maybe this will help you.
http://fullthrottledevelopment.com/setting-a-single-login-across-wp-wpmu

Glenn Ansley
Owner / Developer | FullThrottle Development, LLC
http://fullthrottledevelopment.com
http://twitter.com/full_throttle
(919) 522-1532


On Sat, Aug 22, 2009 at 9:34 AM, D. Stall <ds at dstall.com> wrote:

> Is there a way to make one login for 2 different WP installs hosted on 2
> separate domains?
>
> I want to use a WPmu domain for my "blog", while using my own regular WP
> domain install for my site with a nav link to "blog" at other WPmu site.
>
> If user login is on my WP site, is there a way to make WPmu install on
> other domain recognize login so users don't have to login again?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at xentek.net  Sat Aug 22 18:17:59 2009
From: wp at xentek.net (Eric Marden)
Date: Sat, 22 Aug 2009 14:17:59 -0400
Subject: [wp-hackers] How to set up crons in WP?
In-Reply-To: <4A8FB98F.30104@laptoptips.ca>
References: <4A8E99A3.9000302@gmail.com>	<161617690908210620s4128f02epef42295d9733d3f8@mail.gmail.com>	<6A645748-4E25-40C1-90FB-6835E2C7FCEA@xentek.net>
	<op.uy13ebbrspxmuu@dd32.no-ip.com> <4A8FB98F.30104@laptoptips.ca>
Message-ID: <F52952D8-1448-4ED9-9488-2B795F6F0699@xentek.net>


On Aug 22, 2009, at 5:25 AM, Andrew Ozz wrote:

>>
>> You can set up a Crontab job to  call http://site.com/wp-cron.php  
>> if you wish, But its generally not needed.. the inbuilt cron system  
>> has been around since 2.0 or so i think.
>
> If the default wp-cron doesn't work properly you can use any means  
> to call wp-cron.php from the command line: PHP CLI, cURL, Wget, even  
> Lynx.


That's what I always suspected, but since the codex never brings it up  
it always puzzled me, since many php apps with scheduled jobs have  
that as as step in the install process.

Thanks for the insight, everybody!

- Eric Marden
__________________________________
http://xentek.net/code/wordpress/






From wp at xentek.net  Sat Aug 22 18:24:14 2009
From: wp at xentek.net (Eric Marden)
Date: Sat, 22 Aug 2009 14:24:14 -0400
Subject: [wp-hackers] WP Universal Login
In-Reply-To: <3283f0830908220640r2587c497l443dca00c5cdfd63@mail.gmail.com>
References: <72BADC29-06FB-45DE-A56E-1840483A98C7@dstall.com>
	<3283f0830908220640r2587c497l443dca00c5cdfd63@mail.gmail.com>
Message-ID: <70322A85-8913-4A43-8B28-9EE227164CAD@xentek.net>

> On Sat, Aug 22, 2009 at 9:34 AM, D. Stall <ds at dstall.com> wrote:
>
>> Is there a way to make one login for 2 different WP installs hosted  
>> on 2
>> separate domains?

On Aug 22, 2009, at 9:40 AM, Glenn Ansley wrote:

> Maybe this will help you.
> http://fullthrottledevelopment.com/setting-a-single-login-across-wp-wpmu



Couldn't use also use the shared user table? (Provided both sites are  
in the same DB)

define('CUSTOM_USER_TABLE', 'wp_users');
define('CUSTOM_USER_META_TABLE', 'wp_usermeta');

- Eric Marden
__________________________________
http://xentek.net/code/wordpress/






From wp-hackers at striderweb.com  Sat Aug 22 18:33:46 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 22 Aug 2009 13:33:46 -0500
Subject: [wp-hackers] WP Universal Login
In-Reply-To: <70322A85-8913-4A43-8B28-9EE227164CAD@xentek.net>
References: <72BADC29-06FB-45DE-A56E-1840483A98C7@dstall.com>
	<3283f0830908220640r2587c497l443dca00c5cdfd63@mail.gmail.com>
	<70322A85-8913-4A43-8B28-9EE227164CAD@xentek.net>
Message-ID: <95A7AA27-1169-4631-A609-0B8C59F3EF14@striderweb.com>


On Aug 22, 2009, at 1:24 PM, Eric Marden wrote:

>> On Sat, Aug 22, 2009 at 9:34 AM, D. Stall <ds at dstall.com> wrote:
>>
>>> Is there a way to make one login for 2 different WP installs  
>>> hosted on 2
>>> separate domains?
>
> Couldn't use also use the shared user table? (Provided both sites  
> are in the same DB)
>
> define('CUSTOM_USER_TABLE', 'wp_users');
> define('CUSTOM_USER_META_TABLE', 'wp_usermeta');

Sharing tables is only half a solution.  Users from one blog have no  
rights in another blog, so it's no real use without further work.

Stephen

-- 
Stephen Rider
http://striderweb.com/





From wp-hackers at itsananderson.com  Sat Aug 22 18:57:57 2009
From: wp-hackers at itsananderson.com (Will Anderson)
Date: Sat, 22 Aug 2009 14:57:57 -0400
Subject: [wp-hackers] Plugins Receiving Emails
In-Reply-To: <5a1dad880908220229p3f034efakf2011507e749905@mail.gmail.com>
References: <5a1dad880908200312y47238a57n593a51b4f468e377@mail.gmail.com>
	<db047a770908200318p1ad68932q156e83b404865229@mail.gmail.com>
	<5a1dad880908200325u1c6d4527hb2f75d1d81274fa2@mail.gmail.com>
	<6dbcd2670908200548o34090f6dh2e88a250bd875233@mail.gmail.com>
	<5a1dad880908220229p3f034efakf2011507e749905@mail.gmail.com>
Message-ID: <6dbcd2670908221157q1e211544t1f8dfb21733dd42e@mail.gmail.com>

On Sat, Aug 22, 2009 at 5:29 AM, Alex Hempton-Smith <
hempsworth at googlemail.com> wrote:

> Thanks Will,
>
> I'll take a look. I'm guessing WP runs a cron to check for new mails every
> so often? I need replies to be accepted pretty much ASAP, so would I just
> have to run a cron every minute?!
>
> -- Alex  (Hempsworth)


I'm not 100% sure, but that'd be my guess. If you need to check every
minute, I'd suggest setting up a cron job on your server to request the
wp-cron.php file.
In cPanel you'd go in to the cron manager and create a new job with all *'s
(run every minute, hour, day...). And have the command be something like
"wget http://www.yoursite.com/wp-cron.php -o /dev/null" Alternatively you
might be able to execute it as a php script (untested) "php
/path/to/wp-cron.php > /dev/null".

If you don't have cPanel, but you have shell/root access, you can create a
"real" crontab to do the same thing. Just Google "Linux create crontab".

If you can't use either of these methods, wp-cron.php should also be
requested every time your website is loaded, which, depending on your level
of traffic, might be Ok.

Hope this helps!

-- 
Will Anderson
http://www.itsananderson.com/

From wp-hackers at striderweb.com  Sat Aug 22 19:22:55 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Sat, 22 Aug 2009 14:22:55 -0500
Subject: [wp-hackers] WP Universal Login
In-Reply-To: <3283f0830908220640r2587c497l443dca00c5cdfd63@mail.gmail.com>
References: <72BADC29-06FB-45DE-A56E-1840483A98C7@dstall.com>
	<3283f0830908220640r2587c497l443dca00c5cdfd63@mail.gmail.com>
Message-ID: <1FD86C71-46BA-4AAA-B355-382705AF6E3F@striderweb.com>

You absolutely, totally, and completely rock.

I've been looking to get this working for the longest time.

(Actually, not on MU, just plain WordPress.)

This works perfectly with my Virtual Multiblog system.  :) :) :)

Stephen

--  
Stephen Rider
http://striderweb.com/

On Aug 22, 2009, at 8:40 AM, Glenn Ansley wrote:

> Maybe this will help you.
> http://fullthrottledevelopment.com/setting-a-single-login-across-wp-wpmu
>
> On Sat, Aug 22, 2009 at 9:34 AM, D. Stall <ds at dstall.com> wrote:
>
>> Is there a way to make one login for 2 different WP installs hosted  
>> on 2
>> separate domains?








From wp at xentek.net  Sun Aug 23 00:26:05 2009
From: wp at xentek.net (Eric Marden)
Date: Sat, 22 Aug 2009 20:26:05 -0400
Subject: [wp-hackers] WP Universal Login
In-Reply-To: <95A7AA27-1169-4631-A609-0B8C59F3EF14@striderweb.com>
References: <72BADC29-06FB-45DE-A56E-1840483A98C7@dstall.com>
	<3283f0830908220640r2587c497l443dca00c5cdfd63@mail.gmail.com>
	<70322A85-8913-4A43-8B28-9EE227164CAD@xentek.net>
	<95A7AA27-1169-4631-A609-0B8C59F3EF14@striderweb.com>
Message-ID: <F670232A-AD46-42D4-92F7-CBB51D70AFC9@xentek.net>


On Aug 22, 2009, at 2:33 PM, Stephen Rider wrote:

>
> On Aug 22, 2009, at 1:24 PM, Eric Marden wrote:
>
>>> On Sat, Aug 22, 2009 at 9:34 AM, D. Stall <ds at dstall.com> wrote:
>>>
>>>> Is there a way to make one login for 2 different WP installs  
>>>> hosted on 2
>>>> separate domains?
>>
>> Couldn't use also use the shared user table? (Provided both sites  
>> are in the same DB)
>>
>> define('CUSTOM_USER_TABLE', 'wp_users');
>> define('CUSTOM_USER_META_TABLE', 'wp_usermeta');
>
> Sharing tables is only half a solution.  Users from one blog have no  
> rights in another blog, so it's no real use without further work.

That's why I wrote this: http://xentek.net/code/wordpress/plugins/wp-orphanage/

Not exactly full featured but you can easily extend the code to give  
them the roles and caps you want. This just sets all users to  
'subscriber' level on the other blogs.


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/






From navjotjsingh at gmail.com  Sun Aug 23 06:30:19 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Sun, 23 Aug 2009 12:00:19 +0530
Subject: [wp-hackers] Is wordpress.org down?
Message-ID: <7b9e108c0908222330l2b170686r35b88f3f5bf4214@mail.gmail.com>

I am not able to open wordpress.org.

And siteuptime agrees with me. It seems wordpress.org is down.

Never expected this with a website as big as Wordpress. Anybody know
what is happening and when it will resolve?

--
Navjot Singh

From smibrahim at gmail.com  Sun Aug 23 06:55:48 2009
From: smibrahim at gmail.com (S. M. Ibrahim (Lavlu))
Date: Sun, 23 Aug 2009 13:55:48 +0700
Subject: [wp-hackers] Is wordpress.org down?
In-Reply-To: <7b9e108c0908222330l2b170686r35b88f3f5bf4214@mail.gmail.com>
References: <7b9e108c0908222330l2b170686r35b88f3f5bf4214@mail.gmail.com>
Message-ID: <4997275b0908222355j7f19bbe0rd442b9b158f99e55@mail.gmail.com>

i can see it :)

2009/8/23 Navjot Singh <navjotjsingh at gmail.com>:
> I am not able to open wordpress.org.
>
> And siteuptime agrees with me. It seems wordpress.org is down.
>
> Never expected this with a website as big as Wordpress. Anybody know
> what is happening and when it will resolve?
>
> --
> Navjot Singh
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
S. M. Ibrahim Lavlu
software engineer, php
somewhere in...
http://www.somewherein.net

bangla blog: http://www.somewhereinblog.net
my blog: http://www.lavluda.com
mac blog: htttp://www.mac-talks.com

From harish.mlists at gmail.com  Sun Aug 23 06:56:29 2009
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Sun, 23 Aug 2009 08:56:29 +0200
Subject: [wp-hackers] Is wordpress.org down?
In-Reply-To: <7b9e108c0908222330l2b170686r35b88f3f5bf4214@mail.gmail.com>
References: <7b9e108c0908222330l2b170686r35b88f3f5bf4214@mail.gmail.com>
Message-ID: <4A90E81D.3070803@gmail.com>

Navjot Singh wrote:
> I am not able to open wordpress.org.
> 
> And siteuptime agrees with me. It seems wordpress.org is down.
> 
> Never expected this with a website as big as Wordpress. Anybody know
> what is happening and when it will resolve?

It appears to work for me.

Harish

From dhruva.sagar at gmail.com  Sun Aug 23 07:00:29 2009
From: dhruva.sagar at gmail.com (Dhruva Sagar)
Date: Sun, 23 Aug 2009 12:30:29 +0530
Subject: [wp-hackers] Is wordpress.org down?
In-Reply-To: <4A90E81D.3070803@gmail.com>
References: <7b9e108c0908222330l2b170686r35b88f3f5bf4214@mail.gmail.com>
	<4A90E81D.3070803@gmail.com>
Message-ID: <5dd1abff0908230000q56513e1bna1e98dc020e74d2b@mail.gmail.com>

It is up for me.

Thanks & Regards,
Dhruva Sagar.


Stephen Leacock<http://www.brainyquote.com/quotes/authors/s/stephen_leacock.html>
- "I detest life-insurance agents: they always argue that I shall some
day
die, which is not so."

On Sun, Aug 23, 2009 at 12:26 PM, Harish Narayanan
<harish.mlists at gmail.com>wrote:

> Navjot Singh wrote:
> > I am not able to open wordpress.org.
> >
> > And siteuptime agrees with me. It seems wordpress.org is down.
> >
> > Never expected this with a website as big as Wordpress. Anybody know
> > what is happening and when it will resolve?
>
> It appears to work for me.
>
> Harish
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From navjotjsingh at gmail.com  Sun Aug 23 07:54:39 2009
From: navjotjsingh at gmail.com (Navjot Singh)
Date: Sun, 23 Aug 2009 13:24:39 +0530
Subject: [wp-hackers] Is wordpress.org down?
In-Reply-To: <5dd1abff0908230000q56513e1bna1e98dc020e74d2b@mail.gmail.com>
References: <7b9e108c0908222330l2b170686r35b88f3f5bf4214@mail.gmail.com> 
	<4A90E81D.3070803@gmail.com>
	<5dd1abff0908230000q56513e1bna1e98dc020e74d2b@mail.gmail.com>
Message-ID: <7b9e108c0908230054uc20acbo8bef8ed990f1b3df@mail.gmail.com>

Yeah...its up now...only appeared just seconds after posting here.
Downtime lasted around 10 minutes maybe.

On Sun, Aug 23, 2009 at 12:30 PM, Dhruva Sagar<dhruva.sagar at gmail.com> wrote:
> It is up for me.
>
> Thanks & Regards,
> Dhruva Sagar.
>
>
> Stephen Leacock<http://www.brainyquote.com/quotes/authors/s/stephen_leacock.html>
> - "I detest life-insurance agents: they always argue that I shall some
> day
> die, which is not so."
>
> On Sun, Aug 23, 2009 at 12:26 PM, Harish Narayanan
> <harish.mlists at gmail.com>wrote:
>
>> Navjot Singh wrote:
>> > I am not able to open wordpress.org.
>> >
>> > And siteuptime agrees with me. It seems wordpress.org is down.
>> >
>> > Never expected this with a website as big as Wordpress. Anybody know
>> > what is happening and when it will resolve?
>>
>> It appears to work for me.
>>
>> Harish
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From chris at clwill.com  Mon Aug 24 17:23:37 2009
From: chris at clwill.com (Chris Williams)
Date: Mon, 24 Aug 2009 10:23:37 -0700
Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
Message-ID: <C6B81AA9.4EBAF%chris@clwill.com>

I want to have some pages on my site, mostly a WP blog, accessible to only
WP logged in users.  These are not WP pages, but other PHP-coded pages.

Pointers to references on how to accomplish this are appreciated.

Thanks,
Chris

From chris at clwill.com  Mon Aug 24 18:34:22 2009
From: chris at clwill.com (Chris Williams)
Date: Mon, 24 Aug 2009 11:34:22 -0700
Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
In-Reply-To: <C6B81AA9.4EBAF%chris@clwill.com>
Message-ID: <C6B82B3E.4EBC1%chris@clwill.com>

Let me clarify, these pages will be fully part of the site, including
headers/footers as required, they just won't have a "loop".

Thanks in advance,
Chris

> From: Chris Williams <chris at clwill.com>
> Reply-To: <wp-hackers at lists.automattic.com>
> Date: Mon, 24 Aug 2009 10:23:37 -0700
> To: <wp-hackers at lists.automattic.com>
> Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
> 
> I want to have some pages on my site, mostly a WP blog, accessible to only
> WP logged in users.  These are not WP pages, but other PHP-coded pages.
> 
> Pointers to references on how to accomplish this are appreciated.
> 
> Thanks,
> Chris
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From glenn at glennansley.com  Mon Aug 24 20:00:40 2009
From: glenn at glennansley.com (Glenn Ansley)
Date: Mon, 24 Aug 2009 16:00:40 -0400
Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
In-Reply-To: <C6B82B3E.4EBC1%chris@clwill.com>
References: <C6B81AA9.4EBAF%chris@clwill.com> <C6B82B3E.4EBC1%chris@clwill.com>
Message-ID: <3283f0830908241300t44e92a48maad5162f908a5c38@mail.gmail.com>

I would make these "pages" into Page Templates and then create WordPress
Pages that use your page templates accordingly.
Then you can use is_user_logged_in() to decide what you want to do. Place it
in the content area if you want to display a message or place it in a custom
function attached to the template_redirect hook if you want to send them
elsewhere. If you use the template_redirect hook, use the is_page( [page_id]
) conditional.

http://codex.wordpress.org/Pages#Creating_Your_Own_Page_Templates


Glenn Ansley
Owner / Developer | FullThrottle Development, LLC
http://fullthrottledevelopment.com
http://twitter.com/full_throttle
(919) 522-1532


On Mon, Aug 24, 2009 at 2:34 PM, Chris Williams <chris at clwill.com> wrote:

> Let me clarify, these pages will be fully part of the site, including
> headers/footers as required, they just won't have a "loop".
>
> Thanks in advance,
> Chris
>
> > From: Chris Williams <chris at clwill.com>
> > Reply-To: <wp-hackers at lists.automattic.com>
> > Date: Mon, 24 Aug 2009 10:23:37 -0700
> > To: <wp-hackers at lists.automattic.com>
> > Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
> >
> > I want to have some pages on my site, mostly a WP blog, accessible to
> only
> > WP logged in users.  These are not WP pages, but other PHP-coded pages.
> >
> > Pointers to references on how to accomplish this are appreciated.
> >
> > Thanks,
> > Chris
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From websweetweb at gmail.com  Mon Aug 24 20:24:10 2009
From: websweetweb at gmail.com (rajasekharan)
Date: Tue, 25 Aug 2009 01:54:10 +0530
Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
In-Reply-To: <C6B82B3E.4EBC1%chris@clwill.com>
References: <C6B82B3E.4EBC1%chris@clwill.com>
Message-ID: <4A92F6EA.4020106@gmail.com>

Chris,

If you include the wp-config.php file in the beginning of your php page, 
you can bring the entire wordpress API
into scope of your script. From there you can do whatever user 
validation you need.

Raj Sekharan

Chris Williams wrote:
> Let me clarify, these pages will be fully part of the site, including
> headers/footers as required, they just won't have a "loop".
>
> Thanks in advance,
> Chris
>
>    
>> From: Chris Williams<chris at clwill.com>
>> Reply-To:<wp-hackers at lists.automattic.com>
>> Date: Mon, 24 Aug 2009 10:23:37 -0700
>> To:<wp-hackers at lists.automattic.com>
>> Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
>>
>> I want to have some pages on my site, mostly a WP blog, accessible to only
>> WP logged in users.  These are not WP pages, but other PHP-coded pages.
>>
>> Pointers to references on how to accomplish this are appreciated.
>>
>> Thanks,
>> Chris
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>      
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>
>    


From wp-hackers at striderweb.com  Mon Aug 24 20:58:31 2009
From: wp-hackers at striderweb.com (Stephen Rider)
Date: Mon, 24 Aug 2009 15:58:31 -0500
Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
In-Reply-To: <4A92F6EA.4020106@gmail.com>
References: <C6B82B3E.4EBC1%chris@clwill.com> <4A92F6EA.4020106@gmail.com>
Message-ID: <4264D725-4822-45C2-96DD-357289E57114@striderweb.com>

Hi --

Raj's suggestion is problematic, and if official policy, should be  
deprecated.

Since wp-config.php can be in different locations, the ABSPATH set at  
the end may be wrong.  (Normally in WordPress ABSPATH is set before wp- 
config.php is called, but that files has a bit of "if it isn't set,  
set it" code at the end -- that's the problematic part if the files is  
called directly.)

So a heads up to Chris, and a call to the rest of you hackers.  Is  
there a better way to include the WP stuff without directly including  
the wp-config?

Stephen

-- 
Stephen Rider
http://striderweb.com/


On Aug 24, 2009, at 3:24 PM, rajasekharan wrote:

> If you include the wp-config.php file in the beginning of your php  
> page, you can bring the entire wordpress API
> into scope of your script. From there you can do whatever user  
> validation you need.
>
> Chris Williams wrote:
>> Let me clarify, these pages will be fully part of the site, including
>> headers/footers as required, they just won't have a "loop".
>>
>>
>>> From: Chris Williams<chris at clwill.com>
>>> Reply-To:<wp-hackers at lists.automattic.com>
>>> Date: Mon, 24 Aug 2009 10:23:37 -0700
>>> To:<wp-hackers at lists.automattic.com>
>>> Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
>>>
>>> I want to have some pages on my site, mostly a WP blog, accessible  
>>> to only
>>> WP logged in users.  These are not WP pages, but other PHP-coded  
>>> pages.
>>>
>>> Pointers to references on how to accomplish this are appreciated.








From paul at codehooligans.com  Mon Aug 24 21:02:54 2009
From: paul at codehooligans.com (Paul)
Date: Mon, 24 Aug 2009 16:02:54 -0500
Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
In-Reply-To: <4264D725-4822-45C2-96DD-357289E57114@striderweb.com>
References: <C6B82B3E.4EBC1%chris@clwill.com> <4A92F6EA.4020106@gmail.com>
	<4264D725-4822-45C2-96DD-357289E57114@striderweb.com>
Message-ID: <AB35C776-997F-4484-B6A8-AB2C0F3AD656@codehooligans.com>

Yes. Taken from the index.php provided from WordPress distributions.

define('WP_USE_THEMES', true); // Set this to false to not load the  
theme
require('./wp-blog-header.php');	// Adjust this to the correct  
location of the php file.








On Aug 24, 2009, at 3:58 PM, Stephen Rider wrote:

> Hi --
>
> Raj's suggestion is problematic, and if official policy, should be  
> deprecated.
>
> Since wp-config.php can be in different locations, the ABSPATH set  
> at the end may be wrong.  (Normally in WordPress ABSPATH is set  
> before wp-config.php is called, but that files has a bit of "if it  
> isn't set, set it" code at the end -- that's the problematic part if  
> the files is called directly.)
>
> So a heads up to Chris, and a call to the rest of you hackers.  Is  
> there a better way to include the WP stuff without directly  
> including the wp-config?
>
> Stephen
>
> -- 
> Stephen Rider
> http://striderweb.com/
>
>
> On Aug 24, 2009, at 3:24 PM, rajasekharan wrote:
>
>> If you include the wp-config.php file in the beginning of your php  
>> page, you can bring the entire wordpress API
>> into scope of your script. From there you can do whatever user  
>> validation you need.
>>
>> Chris Williams wrote:
>>> Let me clarify, these pages will be fully part of the site,  
>>> including
>>> headers/footers as required, they just won't have a "loop".
>>>
>>>
>>>> From: Chris Williams<chris at clwill.com>
>>>> Reply-To:<wp-hackers at lists.automattic.com>
>>>> Date: Mon, 24 Aug 2009 10:23:37 -0700
>>>> To:<wp-hackers at lists.automattic.com>
>>>> Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
>>>>
>>>> I want to have some pages on my site, mostly a WP blog,  
>>>> accessible to only
>>>> WP logged in users.  These are not WP pages, but other PHP-coded  
>>>> pages.
>>>>
>>>> Pointers to references on how to accomplish this are appreciated.
>
>
>
>
>
>
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ozh at planetozh.com  Mon Aug 24 21:03:07 2009
From: ozh at planetozh.com (Ozh)
Date: Mon, 24 Aug 2009 23:03:07 +0200
Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
In-Reply-To: <4264D725-4822-45C2-96DD-357289E57114@striderweb.com>
References: <C6B82B3E.4EBC1%chris@clwill.com> <4A92F6EA.4020106@gmail.com>
	<4264D725-4822-45C2-96DD-357289E57114@striderweb.com>
Message-ID: <ae81acd10908241403g36276cdctfa9ab62da08f9f1@mail.gmail.com>

On Mon, Aug 24, 2009 at 10:58 PM, Stephen
Rider<wp-hackers at striderweb.com> wrote:
> So a heads up to Chris, and a call to the rest of you hackers. ?Is there a
> better way to include the WP stuff without directly including the wp-config?

wp-load.php ?

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From chris at clwill.com  Tue Aug 25 02:09:55 2009
From: chris at clwill.com (Chris Williams)
Date: Mon, 24 Aug 2009 19:09:55 -0700
Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
In-Reply-To: <3283f0830908241300t44e92a48maad5162f908a5c38@mail.gmail.com>
Message-ID: <C6B89603.4EC1F%chris@clwill.com>

Thanks.  I use page templates in a variety of places in various blogs.  It
was the user validation that I wasn't sure about.  I'll look at your
pointers.

Thanks again.


> From: Glenn Ansley <glenn at glennansley.com>
> Reply-To: <wp-hackers at lists.automattic.com>
> Date: Mon, 24 Aug 2009 16:00:40 -0400
> To: <wp-hackers at lists.automattic.com>
> Subject: Re: [wp-hackers] Use WP User Validation for Non-WP Pages
> 
> I would make these "pages" into Page Templates and then create WordPress
> Pages that use your page templates accordingly.
> Then you can use is_user_logged_in() to decide what you want to do. Place it
> in the content area if you want to display a message or place it in a custom
> function attached to the template_redirect hook if you want to send them
> elsewhere. If you use the template_redirect hook, use the is_page( [page_id]
> ) conditional.
> 
> http://codex.wordpress.org/Pages#Creating_Your_Own_Page_Templates
> 
> 
> Glenn Ansley
> Owner / Developer | FullThrottle Development, LLC
> http://fullthrottledevelopment.com
> http://twitter.com/full_throttle
> (919) 522-1532
> 
> 
> On Mon, Aug 24, 2009 at 2:34 PM, Chris Williams <chris at clwill.com> wrote:
> 
>> Let me clarify, these pages will be fully part of the site, including
>> headers/footers as required, they just won't have a "loop".
>> 
>> Thanks in advance,
>> Chris
>> 
>>> From: Chris Williams <chris at clwill.com>
>>> Reply-To: <wp-hackers at lists.automattic.com>
>>> Date: Mon, 24 Aug 2009 10:23:37 -0700
>>> To: <wp-hackers at lists.automattic.com>
>>> Subject: [wp-hackers] Use WP User Validation for Non-WP Pages
>>> 
>>> I want to have some pages on my site, mostly a WP blog, accessible to
>> only
>>> WP logged in users.  These are not WP pages, but other PHP-coded pages.
>>> 
>>> Pointers to references on how to accomplish this are appreciated.
>>> 
>>> Thanks,
>>> Chris
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>> 
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From otto at ottodestruct.com  Tue Aug 25 13:26:51 2009
From: otto at ottodestruct.com (Otto)
Date: Tue, 25 Aug 2009 08:26:51 -0500
Subject: [wp-hackers] Filtering by comment_type
In-Reply-To: <eaaa36c90908210911k7aec09dbl76fb86495abc34b8@mail.gmail.com>
References: <eaaa36c90908210911k7aec09dbl76fb86495abc34b8@mail.gmail.com>
Message-ID: <161617690908250626m9a6d2dft2753924af4583279@mail.gmail.com>

When you're displaying comments for a post, use wp_list_comments with
the type parameter set to 'comment' or 'custom_comment_type' or
anything else you want.

If you are going to do this on every post for the site, you can
optimize a bit and pre-separate the comments by changing your call to
comments_template to this:

comments_template( '/comments.php', true );

-Otto
Sent from Memphis, TN, United States


On Fri, Aug 21, 2009 at 11:11 AM, Mohammad Jangda<batmoo at gmail.com> wrote:
> Apologies if this ends up as a duplicate post; My first post (through Google
> Groups) didn't seem to go through.
>
> ---
>
> I'm working on a plugin to enable editorial comments for Posts on the admin
> side. I'm hoping to store these as regular comments and differentiate them
> from regular comments using the comment_type field. The problem I'm running
> into is how to hide these comments from the frontend, since WordPress by
> default shows any and all comments
> attached to a post. The get_comments function also doesn't allow you to
> specify comment_type as an argument.
>
> I found the following filter which I suppose I could use to loop through
> remove any comments with a specific type from the array. But I don't see
> that as being a very elegant solution.
>
> $wp_query->comments = apply_filters( 'comments_array', $comments, $post->ID
> );
>
> Any other suggestions? And does anyone forsee any issues with the way I'm
> doing things?
>
> Thanks.
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bryanharley at gmail.com  Thu Aug 27 01:10:46 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Wed, 26 Aug 2009 18:10:46 -0700
Subject: [wp-hackers] Can't use the same conditional tag twice?
Message-ID: <58410e2e0908261810o6c8f06ealc0de0ea40122833d@mail.gmail.com>

It seems to me that you can't use the same conditional tag on the same
page twice.  Can anyone else confirm this.  Why is this so?

From peter.westwood at ftwr.co.uk  Thu Aug 27 06:16:57 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Thu, 27 Aug 2009 07:16:57 +0100
Subject: [wp-hackers] Can't use the same conditional tag twice?
In-Reply-To: <58410e2e0908261810o6c8f06ealc0de0ea40122833d@mail.gmail.com>
References: <58410e2e0908261810o6c8f06ealc0de0ea40122833d@mail.gmail.com>
Message-ID: <34D6178D-B8A2-4079-8E37-D82C855EB413@ftwr.co.uk>

Could you give us more detail on what isn't working - a small example  
code snippit would be good

--
Peter Westwood
http://peter.westwood.name

On 27 Aug 2009, at 02:10, Bryan Harley <bryanharley at gmail.com> wrote:

> It seems to me that you can't use the same conditional tag on the same
> page twice.  Can anyone else confirm this.  Why is this so?
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From john at imjsolutions.com  Thu Aug 27 12:18:04 2009
From: john at imjsolutions.com (John Sessford)
Date: Thu, 27 Aug 2009 12:18:04 +0000
Subject: [wp-hackers] Moving Users to a New WP Site
Message-ID: <2079451921-1251375467-cardhu_decombobulator_blackberry.rim.net-1844236450-@bxe1033.bisx.prod.on.blackberry>

Hello,

I would like to copy / move all the users from one instance of Wordpress to another. 

Is it enough to just copy the data in the 'users' and 'usermeta' tables?

Or, is there any concern with anything specific to the existing WP site, such authentication keys in wp-config or values in the options table?

Thank you in advance.
John Sessford

From simon at sweetinteraction.com  Thu Aug 27 12:36:55 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Thu, 27 Aug 2009 13:36:55 +0100
Subject: [wp-hackers] Moving Users to a New WP Site
In-Reply-To: <2079451921-1251375467-cardhu_decombobulator_blackberry.rim.net-1844236450-@bxe1033.bisx.prod.on.blackberry>
References: <2079451921-1251375467-cardhu_decombobulator_blackberry.rim.net-1844236450-@bxe1033.bisx.prod.on.blackberry>
Message-ID: <77c8b7bf0908270536x3be4f793lb16f0614e1d4bbbb@mail.gmail.com>

On Thu, Aug 27, 2009 at 1:18 PM, John Sessford<john at imjsolutions.com> wrote:
>
> I would like to copy / move all the users from one instance of Wordpress to another.
>
> Is it enough to just copy the data in the 'users' and 'usermeta' tables?
>
> Or, is there any concern with anything specific to the existing WP site, such authentication keys in wp-config or values in the options table?
>

Unless you have any plugins which have created additional tables
relating to users that then users and usermeta are all you need. Users
will lose any current logged in sessions, and need to log in again on
the new system at which point new cookies will be generated against
whatever values there are in the wp-config.php which affect such
things.

So, in short, yes your assumptions seem correct.

S


---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT

From wordpress at dd32.id.au  Thu Aug 27 12:40:16 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Thu, 27 Aug 2009 22:40:16 +1000
Subject: [wp-hackers] Moving Users to a New WP Site
In-Reply-To: <77c8b7bf0908270536x3be4f793lb16f0614e1d4bbbb@mail.gmail.com>
References: <2079451921-1251375467-cardhu_decombobulator_blackberry.rim.net-1844236450-@bxe1033.bisx.prod.on.blackberry>
	<77c8b7bf0908270536x3be4f793lb16f0614e1d4bbbb@mail.gmail.com>
Message-ID: <op.uzbmteaospxmuu@dd32.no-ip.com>

Keep in mind, That users will also loose their defined roles IF the  
database prefix changes (ie. site1_wp_* to site2_wp_*)..
To work around that, you can rename the usermeta's from  
site1_wp_capabilities to site2_wp_capabilites I think

On Thu, 27 Aug 2009 22:36:55 +1000, Simon Wheatley  
<simon at sweetinteraction.com> wrote:

> On Thu, Aug 27, 2009 at 1:18 PM, John Sessford<john at imjsolutions.com>  
> wrote:
>>
>> I would like to copy / move all the users from one instance of  
>> Wordpress to another.
>>
>> Is it enough to just copy the data in the 'users' and 'usermeta' tables?
>>
>> Or, is there any concern with anything specific to the existing WP  
>> site, such authentication keys in wp-config or values in the options  
>> table?
>>
>
> Unless you have any plugins which have created additional tables
> relating to users that then users and usermeta are all you need. Users
> will lose any current logged in sessions, and need to log in again on
> the new system at which point new cookies will be generated against
> whatever values there are in the wp-config.php which affect such
> things.
>
> So, in short, yes your assumptions seem correct.
>
> S
>
>
> ---
> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> Registered office: 7 Malton Av, Manchester, M21 8AT
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From jer at simianuprising.com  Thu Aug 27 17:58:49 2009
From: jer at simianuprising.com (Jeremy Clarke)
Date: Thu, 27 Aug 2009 13:58:49 -0400
Subject: [wp-hackers] Can't use the same conditional tag twice?
In-Reply-To: <58410e2e0908261810o6c8f06ealc0de0ea40122833d@mail.gmail.com>
References: <58410e2e0908261810o6c8f06ealc0de0ea40122833d@mail.gmail.com>
Message-ID: <e1202cb10908271058u1d24ef9al79d934b8b2612de1@mail.gmail.com>

On Wed, Aug 26, 2009 at 9:10 PM, Bryan Harley<bryanharley at gmail.com> wrote:
> It seems to me that you can't use the same conditional tag on the same
> page twice. ?Can anyone else confirm this. ?Why is this so?

In my experience this is definitely not the case. You probably have
some kind of other issue with your template. Conditional tags would be
practically useless if they were limited to once per page.


-- 
Jeremy Clarke | http://jeremyclarke.org
Code and Design | http://globalvoicesonline.org

From malaiac at gmail.com  Fri Aug 28 09:14:26 2009
From: malaiac at gmail.com (Malaiac)
Date: Fri, 28 Aug 2009 11:14:26 +0200
Subject: [wp-hackers] what the ?
Message-ID: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>

4 minor releases in one month of summer, what's the sense in that ?
Plugins became outdated, install doesn't work anymore ("Fatal error:
Cannot instantiate non-existent class: mo in" ... come on !)

Is there a policy about summer releases ?

Malaiac

From wordpress at dd32.id.au  Fri Aug 28 09:19:21 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 28 Aug 2009 19:19:21 +1000
Subject: [wp-hackers] what the ?
In-Reply-To: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>
Message-ID: <op.uzc76jelspxmuu@dd32.no-ip.com>

All releases were made to address security issues which popped up after  
the previous release. What would you prefer? A secure version available,  
Or running an unsecure version for a few months with those-in-the-know  
knowing a vunerability in it?

The only release policy is to release when need be, and when the major  
release is finished.

As for that error of yours, Looks like /wp-includes/pomo/mo.php may not be  
written correctly.. you might want to re-upload the files manually.

On Fri, 28 Aug 2009 19:14:26 +1000, Malaiac <malaiac at gmail.com> wrote:

> 4 minor releases in one month of summer, what's the sense in that ?
> Plugins became outdated, install doesn't work anymore ("Fatal error:
> Cannot instantiate non-existent class: mo in" ... come on !)
>
> Is there a policy about summer releases ?
>
> Malaiac
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From malaiac at gmail.com  Fri Aug 28 09:23:05 2009
From: malaiac at gmail.com (Malaiac)
Date: Fri, 28 Aug 2009 11:23:05 +0200
Subject: [wp-hackers] what the ?
In-Reply-To: <op.uzc76jelspxmuu@dd32.no-ip.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com> 
	<op.uzc76jelspxmuu@dd32.no-ip.com>
Message-ID: <59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>

2009/8/28 Dion Hulse (dd32) <wordpress at dd32.id.au>:
> All releases were made to address security issues which popped up after the
> previous release. What would you prefer? A secure version available, Or
> running an unsecure version for a few months with those-in-the-know knowing
> a vunerability in it?

Obviously, there were more than security upgrades in 2.8.1 to 2.8.4...
I got users mailing me in the middle of summer, reporting breakdowns
in zelist (one of my plugins). Nice...

M

From peter.westwood at ftwr.co.uk  Fri Aug 28 09:26:06 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 28 Aug 2009 10:26:06 +0100
Subject: [wp-hackers] what the ?
In-Reply-To: <59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>
	<op.uzc76jelspxmuu@dd32.no-ip.com>
	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
Message-ID: <928BA96A-5A8D-4A95-ADCC-2C69C73C3FF1@ftwr.co.uk>


On 28 Aug 2009, at 10:23, Malaiac wrote:

> 2009/8/28 Dion Hulse (dd32) <wordpress at dd32.id.au>:
>> All releases were made to address security issues which popped up  
>> after the
>> previous release. What would you prefer? A secure version  
>> available, Or
>> running an unsecure version for a few months with those-in-the-know  
>> knowing
>> a vunerability in it?
>
> Obviously, there were more than security upgrades in 2.8.1 to 2.8.4...
> I got users mailing me in the middle of summer, reporting breakdowns
> in zelist (one of my plugins). Nice...
>

That is possibly due to the security changes relating to menus.

http://westi.wordpress.com/2009/07/15/making-your-broken-plugin-work-again-with-wordpress-2-8-1/

Hope that helps

Peter

From wordpress at dd32.id.au  Fri Aug 28 09:27:44 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Fri, 28 Aug 2009 19:27:44 +1000
Subject: [wp-hackers] what the ?
In-Reply-To: <59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>
	<op.uzc76jelspxmuu@dd32.no-ip.com>
	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
Message-ID: <op.uzc8kia0spxmuu@dd32.no-ip.com>

Yes, As allways, Bug fixes are continuously going into Trunk and the  
latest stable branch. New functionality however doesnt go in, So breakage  
of 95% of plugins should be minimal.

However, A lot of Plugins (all of mine including) were broken by the  
security additions in 2.8, It was necessary to solve it.. But.. The only  
reason our plugins broke, was because we werent using the API as we were  
supposed to.. which was actually half of the security problem(I think).. I  
notice Peter just posted a link, which should explain that a bit better..

On Fri, 28 Aug 2009 19:23:05 +1000, Malaiac <malaiac at gmail.com> wrote:

> 2009/8/28 Dion Hulse (dd32) <wordpress at dd32.id.au>:
>> All releases were made to address security issues which popped up after  
>> the
>> previous release. What would you prefer? A secure version available, Or
>> running an unsecure version for a few months with those-in-the-know  
>> knowing
>> a vunerability in it?
>
> Obviously, there were more than security upgrades in 2.8.1 to 2.8.4...
> I got users mailing me in the middle of summer, reporting breakdowns
> in zelist (one of my plugins). Nice...
>
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From harish.mlists at gmail.com  Fri Aug 28 10:00:18 2009
From: harish.mlists at gmail.com (Harish Narayanan)
Date: Fri, 28 Aug 2009 12:00:18 +0200
Subject: [wp-hackers] what the ?
In-Reply-To: <op.uzc8kia0spxmuu@dd32.no-ip.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>	<op.uzc76jelspxmuu@dd32.no-ip.com>	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
	<op.uzc8kia0spxmuu@dd32.no-ip.com>
Message-ID: <4A97AAB2.7010101@gmail.com>

Dion Hulse (dd32) wrote:
> Yes, As allways, Bug fixes are continuously going into Trunk and the
> latest stable branch. New functionality however doesnt go in, So
> breakage of 95% of plugins should be minimal.
> 
> However, A lot of Plugins (all of mine including) were broken by the
> security additions in 2.8, It was necessary to solve it.. But.. The only
> reason our plugins broke, was because we werent using the API as we were
> supposed to.. which was actually half of the security problem(I think)..
> I notice Peter just posted a link, which should explain that a bit better..

This has piqued my curiosity. How many of you run your primary sites on
WordPress trunk?

I also remember reading somewhere that the version used on wordpress.com
tracks the project quite closely. How closely is closely---like syncing
every few hours?

Harish

From simon at sweetinteraction.com  Fri Aug 28 10:35:59 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Fri, 28 Aug 2009 11:35:59 +0100
Subject: [wp-hackers] JavaScript,wp_enqueue_script and concatenation
In-Reply-To: <db822f1b-2dc4-462f-8376-2a406e835ac2@i8g2000pro.googlegroups.com>
References: <29b5b0d30908010846n3514603au1c971b62dae2a9a0@mail.gmail.com> 
	<161617690908030611w6b58b7cbh2f9a7007b66ed263@mail.gmail.com> 
	<77c8b7bf0908030800td56b98ai357f479598fae9e7@mail.gmail.com> 
	<4f9525dc0908030814s1e2802eet6b43258bd0deae4c@mail.gmail.com> 
	<db822f1b-2dc4-462f-8376-2a406e835ac2@i8g2000pro.googlegroups.com>
Message-ID: <77c8b7bf0908280335i1fcce177o12c6aa81487afa1a@mail.gmail.com>

Hi Eric,

Did you get any further with this? Any hints.

S


On Tue, Aug 11, 2009 at 9:31 PM, Eric Martin<emartin24 at gmail.com> wrote:
> As far as I can tell, the script concatenation only works in the admin
> section.
>
> So, I'm just trying to figure out how to use wp_enqueue_script for
> multiple scripts, but then force WP to print out one script tag for a
> certain set of them. Any suggestions?
>
> Thanks!
>
> On Aug 3, 8:14?am, Tynan Colin Beatty <junsui... at gmail.com> wrote:
>> It does not happen on its own. I chose to include a modified
>> load-scripts.php from wp-admin into my theme's files (modified to allow
>> concatenation of scripts from my theme as well as those in wp-includes/js
>> scripts), but haven't had time to determine an optimal method of also
>> including plugin scripts (there are other variables to consider when trying
>> to include them as well, since some of them need to load in header, whereas
>> I choose to load my concatenated script into the footer). The solution
>> speeds things up a fair amount even without including plugins in the
>> concatenated script (and if your theme doesn't have any js, would be even
>> easier to implement). I'm thinking a nice approach might be to have 1 call
>> to the concated script in head to take care of whatever has to be loaded
>> there, and then a 2nd call to the same load-scripts.php, concatenating all
>> the files that can wait for the footer.
>>
>> On Mon, Aug 3, 2009 at 10:00 AM, Simon Wheatley
>> <si... at sweetinteraction.com>wrote:
>>
>>
>>
>> > On Mon, Aug 3, 2009 at 2:11 PM, Otto<o... at ottodestruct.com> wrote:
>> > > On Sat, Aug 1, 2009 at 10:46 AM, Eric Martin<e... at ericmmartin.com>
>> > wrote:
>> > >> I use jQuery on my site and a handful of jquery plugins. I've been
>> > >> doing quite a bit of thinking about ways to concatenate the scripts
>> > >> together in order to reduce the number of requests made, while
>> > >> maintaining the usefulness and features provided by wp_enqueue_script.
>>
>> > > I'm pretty sure that 2.8 already has this built in. All scripts get
>> > > concatenated into a single call to load-scripts.php, if everything
>> > > supports it properly.
>>
>> > Does this happen outside the admin area? I haven't noticed it myself,
>> > but maybe my scripts calls aren't configured correctly.
>>
>> > S
>>
>> > ---
>> > Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
>> > Registered office: 7 Malton Av, Manchester, M21 8AT
>> > _______________________________________________
>> > wp-hackers mailing list
>> > wp-hack... at lists.automattic.com
>> >http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hack... at lists.automattic.comhttp://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Simon Wheatley
Sweet Interaction Ltd
Web Interaction Design & Development
Tel: 07971 687295

WordPress blog development for Stephen Fry: http://stephenfry.com/
WordPress blog development for DfID - http://blogs.dfid.gov.uk/
House of Illustration site - http://houseofillustration.org.uk/
Blog for the Royal Navy - http://jackspeak.royalnavy.mod.uk/

---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT

From mikeschinkel at newclarity.net  Fri Aug 28 12:52:41 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 28 Aug 2009 08:52:41 -0400
Subject: [wp-hackers] what the ?
In-Reply-To: <59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>
	<op.uzc76jelspxmuu@dd32.no-ip.com>
	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
Message-ID: <7AF78987-4F31-4B22-8EB1-DADF7DD2FCCF@newclarity.net>

Just curious, but what does summer have to do with it?

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/





On Aug 28, 2009, at 5:23 AM, Malaiac wrote:

> 2009/8/28 Dion Hulse (dd32) <wordpress at dd32.id.au>:
>> All releases were made to address security issues which popped up  
>> after the
>> previous release. What would you prefer? A secure version  
>> available, Or
>> running an unsecure version for a few months with those-in-the-know  
>> knowing
>> a vunerability in it?
>
> Obviously, there were more than security upgrades in 2.8.1 to 2.8.4...
> I got users mailing me in the middle of summer, reporting breakdowns
> in zelist (one of my plugins). Nice...
>
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From ozh at planetozh.com  Fri Aug 28 12:54:00 2009
From: ozh at planetozh.com (Ozh)
Date: Fri, 28 Aug 2009 14:54:00 +0200
Subject: [wp-hackers] Somehow critical wp.org/extend/plugins issue
Message-ID: <ae81acd10908280554i65e17e50qfb120ff43d328505@mail.gmail.com>

Peeps,

Just checked my profile on wp.org/extend/plugins
<http://wordpress.org/extend/plugins/profile/ozh> and noticed that a
plugin I don't know appears in the list. It turns out I'm listed as a
contributor, which I am not (AdSense Immediately!)

The problem with this plugin is that is contains several hardcoded
base64_decode() shits with author's adsense code and not sure what
else (didn't extensively check)

I have the feeling I'm listed as a contributor to add authority to the
plugin, but I definitely don't want to be associated with it. Other
plugin authors might want to check their profile listing for any
similar finding.

As a bonus, there is no valid contact info on this plugin, I have no
clue who the dummy is...

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From simon at sweetinteraction.com  Fri Aug 28 12:55:31 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Fri, 28 Aug 2009 13:55:31 +0100
Subject: [wp-hackers] Somehow critical wp.org/extend/plugins issue
In-Reply-To: <ae81acd10908280554i65e17e50qfb120ff43d328505@mail.gmail.com>
References: <ae81acd10908280554i65e17e50qfb120ff43d328505@mail.gmail.com>
Message-ID: <77c8b7bf0908280555r5b84e84dp9f9758943d2b7214@mail.gmail.com>

That is nastily devious, not good at all.

S


On Fri, Aug 28, 2009 at 1:54 PM, Ozh<ozh at planetozh.com> wrote:
> Peeps,
>
> Just checked my profile on wp.org/extend/plugins
> <http://wordpress.org/extend/plugins/profile/ozh> and noticed that a
> plugin I don't know appears in the list. It turns out I'm listed as a
> contributor, which I am not (AdSense Immediately!)
>
> The problem with this plugin is that is contains several hardcoded
> base64_decode() shits with author's adsense code and not sure what
> else (didn't extensively check)
>
> I have the feeling I'm listed as a contributor to add authority to the
> plugin, but I definitely don't want to be associated with it. Other
> plugin authors might want to check their profile listing for any
> similar finding.
>
> As a bonus, there is no valid contact info on this plugin, I have no
> clue who the dummy is...
>
> --
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Simon Wheatley
Sweet Interaction Ltd
Web Interaction Design & Development
Tel: 07971 687295

WordPress blog development for Stephen Fry: http://stephenfry.com/
WordPress blog development for DfID - http://blogs.dfid.gov.uk/
House of Illustration site - http://houseofillustration.org.uk/
Blog for the Royal Navy - http://jackspeak.royalnavy.mod.uk/

---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT

From simon at sweetinteraction.com  Fri Aug 28 12:56:39 2009
From: simon at sweetinteraction.com (Simon Wheatley)
Date: Fri, 28 Aug 2009 13:56:39 +0100
Subject: [wp-hackers] Somehow critical wp.org/extend/plugins issue
In-Reply-To: <ae81acd10908280554i65e17e50qfb120ff43d328505@mail.gmail.com>
References: <ae81acd10908280554i65e17e50qfb120ff43d328505@mail.gmail.com>
Message-ID: <77c8b7bf0908280556v3e9b0276idfff44839bc8e38@mail.gmail.com>

Presumably that means you have commit rights to remove your name as
contributor in the readme.txt? (Is that where the data is read from?)

S


On Fri, Aug 28, 2009 at 1:54 PM, Ozh<ozh at planetozh.com> wrote:
> Peeps,
>
> Just checked my profile on wp.org/extend/plugins
> <http://wordpress.org/extend/plugins/profile/ozh> and noticed that a
> plugin I don't know appears in the list. It turns out I'm listed as a
> contributor, which I am not (AdSense Immediately!)
>
> The problem with this plugin is that is contains several hardcoded
> base64_decode() shits with author's adsense code and not sure what
> else (didn't extensively check)
>
> I have the feeling I'm listed as a contributor to add authority to the
> plugin, but I definitely don't want to be associated with it. Other
> plugin authors might want to check their profile listing for any
> similar finding.
>
> As a bonus, there is no valid contact info on this plugin, I have no
> clue who the dummy is...
>
> --
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Simon Wheatley
Sweet Interaction Ltd
Web Interaction Design & Development
Tel: 07971 687295

WordPress blog development for Stephen Fry: http://stephenfry.com/
WordPress blog development for DfID - http://blogs.dfid.gov.uk/
House of Illustration site - http://houseofillustration.org.uk/
Blog for the Royal Navy - http://jackspeak.royalnavy.mod.uk/

---
Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
Registered office: 7 Malton Av, Manchester, M21 8AT

From niladam at gmail.com  Fri Aug 28 12:58:09 2009
From: niladam at gmail.com (madalin)
Date: Fri, 28 Aug 2009 15:58:09 +0300
Subject: [wp-hackers] Somehow critical wp.org/extend/plugins issue
In-Reply-To: <77c8b7bf0908280556v3e9b0276idfff44839bc8e38@mail.gmail.com>
References: <ae81acd10908280554i65e17e50qfb120ff43d328505@mail.gmail.com>
	<77c8b7bf0908280556v3e9b0276idfff44839bc8e38@mail.gmail.com>
Message-ID: <df809b110908280558i7175f3fah9efc85dfa9d6757d@mail.gmail.com>

Also, try http://wordpress.org/extend/plugins/profile/agbell :)

On Fri, Aug 28, 2009 at 3:56 PM, Simon
Wheatley<simon at sweetinteraction.com> wrote:
> Presumably that means you have commit rights to remove your name as
> contributor in the readme.txt? (Is that where the data is read from?)
>
> S
>
>
> On Fri, Aug 28, 2009 at 1:54 PM, Ozh<ozh at planetozh.com> wrote:
>> Peeps,
>>
>> Just checked my profile on wp.org/extend/plugins
>> <http://wordpress.org/extend/plugins/profile/ozh> and noticed that a
>> plugin I don't know appears in the list. It turns out I'm listed as a
>> contributor, which I am not (AdSense Immediately!)
>>
>> The problem with this plugin is that is contains several hardcoded
>> base64_decode() shits with author's adsense code and not sure what
>> else (didn't extensively check)
>>
>> I have the feeling I'm listed as a contributor to add authority to the
>> plugin, but I definitely don't want to be associated with it. Other
>> plugin authors might want to check their profile listing for any
>> similar finding.
>>
>> As a bonus, there is no valid contact info on this plugin, I have no
>> clue who the dummy is...
>>
>> --
>> http://planetOzh.com ~ Blog and WordPress Stuff
>> http://FrenchFragFactory.net ~ Daily Quake News
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
>
> --
> Simon Wheatley
> Sweet Interaction Ltd
> Web Interaction Design & Development
> Tel: 07971 687295
>
> WordPress blog development for Stephen Fry: http://stephenfry.com/
> WordPress blog development for DfID - http://blogs.dfid.gov.uk/
> House of Illustration site - http://houseofillustration.org.uk/
> Blog for the Royal Navy - http://jackspeak.royalnavy.mod.uk/
>
> ---
> Sweet Interaction Ltd is Registered in England/Wales, no. 6610741
> Registered office: 7 Malton Av, Manchester, M21 8AT
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
Cu drag,
madalin
http://madalin.eu

From ozh at planetozh.com  Fri Aug 28 12:59:56 2009
From: ozh at planetozh.com (Ozh)
Date: Fri, 28 Aug 2009 14:59:56 +0200
Subject: [wp-hackers] Somehow critical wp.org/extend/plugins issue
In-Reply-To: <77c8b7bf0908280556v3e9b0276idfff44839bc8e38@mail.gmail.com>
References: <ae81acd10908280554i65e17e50qfb120ff43d328505@mail.gmail.com>
	<77c8b7bf0908280556v3e9b0276idfff44839bc8e38@mail.gmail.com>
Message-ID: <ae81acd10908280559s69cc19b4hf02db1b902ca410f@mail.gmail.com>

On Fri, Aug 28, 2009 at 2:56 PM, Simon
Wheatley<simon at sweetinteraction.com> wrote:
> Presumably that means you have commit rights to remove your name as
> contributor in the readme.txt? (Is that where the data is read from?)

yeah I thought so but turns out it's not working that way.

Too bad, I had a super funny modification to the readme.txt ...

-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From matt at sivel.net  Fri Aug 28 13:01:52 2009
From: matt at sivel.net (Matt Martz)
Date: Fri, 28 Aug 2009 09:01:52 -0400
Subject: [wp-hackers] Somehow critical wp.org/extend/plugins issue
In-Reply-To: <77c8b7bf0908280556v3e9b0276idfff44839bc8e38@mail.gmail.com>
References: <ae81acd10908280554i65e17e50qfb120ff43d328505@mail.gmail.com> 
	<77c8b7bf0908280556v3e9b0276idfff44839bc8e38@mail.gmail.com>
Message-ID: <518fa9630908280601r1cd314c4g745bd8c9dfc4f018@mail.gmail.com>

On Fri, Aug 28, 2009 at 8:56 AM, Simon
Wheatley<simon at sweetinteraction.com> wrote:
> Presumably that means you have commit rights to remove your name as
> contributor in the readme.txt? (Is that where the data is read from?)
>
> S
>
>
> On Fri, Aug 28, 2009 at 1:54 PM, Ozh<ozh at planetozh.com> wrote:
>> Peeps,
>>
>> Just checked my profile on wp.org/extend/plugins
>> <http://wordpress.org/extend/plugins/profile/ozh> and noticed that a
>> plugin I don't know appears in the list. It turns out I'm listed as a
>> contributor, which I am not (AdSense Immediately!)
>>
>> The problem with this plugin is that is contains several hardcoded
>> base64_decode() shits with author's adsense code and not sure what
>> else (didn't extensively check)
>>
>> I have the feeling I'm listed as a contributor to add authority to the
>> plugin, but I definitely don't want to be associated with it. Other
>> plugin authors might want to check their profile listing for any
>> similar finding.
>>
>> As a bonus, there is no valid contact info on this plugin, I have no
>> clue who the dummy is...
>>
>> --
>> http://planetOzh.com ~ Blog and WordPress Stuff
>> http://FrenchFragFactory.net ~ Daily Quake News
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>

All that is required is that a user put your wp.org username in their
readme.txt file.  It doesn't mean you have to have commit access to
the plugin.  It is just a way to list contributors and unfortunately
makes their plugin show in your profile too.  Sometimes users will do
this if they have taken code from your plugin.  Not sure, but it is
conceivable that a user could do this to get better rankings/downloads
of their plugins.

Perhaps verifying this against the list of users with commit access to
that plugin should be done.  Dunno, but I have at least one plugin
that I don't have commit access to that I do contribute code to and am
listed as a contributor in readme.txt and on wp.org.

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From peter.westwood at ftwr.co.uk  Fri Aug 28 13:53:02 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Fri, 28 Aug 2009 14:53:02 +0100 (BST)
Subject: [wp-hackers] Somehow critical wp.org/extend/plugins issue
In-Reply-To: <518fa9630908280601r1cd314c4g745bd8c9dfc4f018@mail.gmail.com>
References: <ae81acd10908280554i65e17e50qfb120ff43d328505@mail.gmail.com>
	<77c8b7bf0908280556v3e9b0276idfff44839bc8e38@mail.gmail.com>
	<518fa9630908280601r1cd314c4g745bd8c9dfc4f018@mail.gmail.com>
Message-ID: <1cc21c0c746e6a01ef28fe2a47f6c36f.squirrel@secure.ftwr.co.uk>

It has been removed :-)

westi


From ozh at planetozh.com  Fri Aug 28 14:25:55 2009
From: ozh at planetozh.com (Ozh)
Date: Fri, 28 Aug 2009 16:25:55 +0200
Subject: [wp-hackers] Somehow critical wp.org/extend/plugins issue
In-Reply-To: <1cc21c0c746e6a01ef28fe2a47f6c36f.squirrel@secure.ftwr.co.uk>
References: <ae81acd10908280554i65e17e50qfb120ff43d328505@mail.gmail.com>
	<77c8b7bf0908280556v3e9b0276idfff44839bc8e38@mail.gmail.com>
	<518fa9630908280601r1cd314c4g745bd8c9dfc4f018@mail.gmail.com>
	<1cc21c0c746e6a01ef28fe2a47f6c36f.squirrel@secure.ftwr.co.uk>
Message-ID: <ae81acd10908280725l3316d91fq5ea9410d4eaab78f@mail.gmail.com>

Thanks westi

On Fri, Aug 28, 2009 at 3:53 PM, Peter
Westwood<peter.westwood at ftwr.co.uk> wrote:
> It has been removed :-)
>
> westi
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From john at imjsolutions.com  Fri Aug 28 14:32:14 2009
From: john at imjsolutions.com (John Sessford)
Date: Fri, 28 Aug 2009 10:32:14 -0400
Subject: [wp-hackers] Moving Users to a New WP Site
In-Reply-To: <op.uzbmteaospxmuu@dd32.no-ip.com>
References: <2079451921-1251375467-cardhu_decombobulator_blackberry.rim.net-1844236450-@bxe1033.bisx.prod.on.blackberry><77c8b7bf0908270536x3be4f793lb16f0614e1d4bbbb@mail.gmail.com>
	<op.uzbmteaospxmuu@dd32.no-ip.com>
Message-ID: <007c01ca27ec$56121070$6513a8c0@baby>


> Keep in mind, That users will also loose their defined roles IF the  
> database prefix changes (ie. site1_wp_* to site2_wp_*)..
> To work around that, you can rename the usermeta's from  
> site1_wp_capabilities to site2_wp_capabilites I think

Thank you, that was exactly the information I needed. I also see a reference
in the options table for wp_user_roles. I assume it should be updated also.

Regards,
John



From malaiac at gmail.com  Fri Aug 28 16:56:04 2009
From: malaiac at gmail.com (Malaiac)
Date: Fri, 28 Aug 2009 18:56:04 +0200
Subject: [wp-hackers] what the ?
In-Reply-To: <7AF78987-4F31-4B22-8EB1-DADF7DD2FCCF@newclarity.net>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com> 
	<op.uzc76jelspxmuu@dd32.no-ip.com>
	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com> 
	<7AF78987-4F31-4B22-8EB1-DADF7DD2FCCF@newclarity.net>
Message-ID: <59e7f3130908280956g86a47f4q3894ec2c9734f2d7@mail.gmail.com>

2009/8/28 Mike Schinkel <mikeschinkel at newclarity.net>:
> Just curious, but what does summer have to do with it?
>
> -Mike Schinkel
> WordPress Custom Plugins
> http://mikeschinkel.com/custom-wordpress-plugins/

People (including geeks, and developers) tend to be away from internet
on summer ;)

M

From junsuijin at gmail.com  Fri Aug 28 17:09:16 2009
From: junsuijin at gmail.com (Tynan Colin Beatty)
Date: Fri, 28 Aug 2009 12:09:16 -0500
Subject: [wp-hackers] what the ?
In-Reply-To: <59e7f3130908280956g86a47f4q3894ec2c9734f2d7@mail.gmail.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>
	<op.uzc76jelspxmuu@dd32.no-ip.com>
	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
	<7AF78987-4F31-4B22-8EB1-DADF7DD2FCCF@newclarity.net>
	<59e7f3130908280956g86a47f4q3894ec2c9734f2d7@mail.gmail.com>
Message-ID: <4f9525dc0908281009h184e27cfg65778721538b20c9@mail.gmail.com>

It's only summer on 1/4th of the planet ;)
peace~

On Fri, Aug 28, 2009 at 11:56 AM, Malaiac <malaiac at gmail.com> wrote:

> 2009/8/28 Mike Schinkel <mikeschinkel at newclarity.net>:
> > Just curious, but what does summer have to do with it?
> >
> > -Mike Schinkel
> > WordPress Custom Plugins
> > http://mikeschinkel.com/custom-wordpress-plugins/
>
> People (including geeks, and developers) tend to be away from internet
> on summer ;)
>
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From mikeschinkel at newclarity.net  Fri Aug 28 17:12:49 2009
From: mikeschinkel at newclarity.net (Mike Schinkel)
Date: Fri, 28 Aug 2009 13:12:49 -0400
Subject: [wp-hackers] what the ?
In-Reply-To: <59e7f3130908280956g86a47f4q3894ec2c9734f2d7@mail.gmail.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>
	<op.uzc76jelspxmuu@dd32.no-ip.com>
	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
	<7AF78987-4F31-4B22-8EB1-DADF7DD2FCCF@newclarity.net>
	<59e7f3130908280956g86a47f4q3894ec2c9734f2d7@mail.gmail.com>
Message-ID: <B220FCC4-4D0D-4B4E-B182-EA5A88A381C5@newclarity.net>

> People (including geeks, and developers) tend to be away from  
> internet on summer ;)

Maybe where lots of vacation is often considered a birthright on your  
side of the ocean, but not on mine. ;-)

-Mike Schinkel
WordPress Custom Plugins
http://mikeschinkel.com/custom-wordpress-plugins/





On Aug 28, 2009, at 12:56 PM, Malaiac wrote:

> 2009/8/28 Mike Schinkel <mikeschinkel at newclarity.net>:
>> Just curious, but what does summer have to do with it?
>>
>> -Mike Schinkel
>> WordPress Custom Plugins
>> http://mikeschinkel.com/custom-wordpress-plugins/
>
> People (including geeks, and developers) tend to be away from internet
> on summer ;)
>
> M
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers


From websweetweb at gmail.com  Fri Aug 28 18:45:34 2009
From: websweetweb at gmail.com (rajasekharan)
Date: Sat, 29 Aug 2009 00:15:34 +0530
Subject: [wp-hackers] How to create theme options interface?
Message-ID: <4A9825CE.5040300@gmail.com>

Hi all,

I'm new to wordpress coding. I am currenlty creating a wordpress theme. 
I would like the add some configurations interface for the theme in the 
admin. How is this done? I understand that admin_menu hook is used in 
plugins to accomplish this but how is this done when making themes?

Thanks in advance,

Raj Sekharan

From junsuijin at gmail.com  Fri Aug 28 18:49:03 2009
From: junsuijin at gmail.com (Tynan Colin Beatty)
Date: Fri, 28 Aug 2009 13:49:03 -0500
Subject: [wp-hackers] How to create theme options interface?
In-Reply-To: <4A9825CE.5040300@gmail.com>
References: <4A9825CE.5040300@gmail.com>
Message-ID: <4f9525dc0908281149h570638cfobef863c67013b9f1@mail.gmail.com>

Raj, pretty much the same as plugins. Very few differences. Check Ozh's post
for current examples:
http://planetozh.com/blog/2009/05/handling-plugins-options-in-wordpress-28-with-register_setting/
peace~

On Fri, Aug 28, 2009 at 1:45 PM, rajasekharan <websweetweb at gmail.com> wrote:

> Hi all,
>
> I'm new to wordpress coding. I am currenlty creating a wordpress theme. I
> would like the add some configurations interface for the theme in the admin.
> How is this done? I understand that admin_menu hook is used in plugins to
> accomplish this but how is this done when making themes?
>
> Thanks in advance,
>
> Raj Sekharan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From ricardo.cezar at gmail.com  Fri Aug 28 19:14:22 2009
From: ricardo.cezar at gmail.com (Rics)
Date: Fri, 28 Aug 2009 16:14:22 -0300
Subject: [wp-hackers] How to create theme options interface?
In-Reply-To: <4A9825CE.5040300@gmail.com>
References: <4A9825CE.5040300@gmail.com>
Message-ID: <334b9ed40908281214h15ad8d15v51308c2df6fd9a04@mail.gmail.com>

Hello Raj,

I'm doing exactly the same thing as you...

I found this great article...

http://forthelose.org/how-to-create-a-theme-options-page-for-your-wordpress-theme

It's very complete!
---
Rics
http://www.pensarics.com
http://www.meadiciona.com/rics
Maring?, PR - Brasil


2009/8/28 rajasekharan <websweetweb at gmail.com>

> Hi all,
>
> I'm new to wordpress coding. I am currenlty creating a wordpress theme. I
> would like the add some configurations interface for the theme in the admin.
> How is this done? I understand that admin_menu hook is used in plugins to
> accomplish this but how is this done when making themes?
>
> Thanks in advance,
>
> Raj Sekharan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From john.ivar.myrstad at gmail.com  Fri Aug 28 20:22:18 2009
From: john.ivar.myrstad at gmail.com (John Myrstad)
Date: Fri, 28 Aug 2009 22:22:18 +0200
Subject: [wp-hackers] How to create theme options interface?
In-Reply-To: <4A9825CE.5040300@gmail.com>
References: <4A9825CE.5040300@gmail.com>
Message-ID: <d29aad6e0908281322ib951b3ald4031d710ee3d31@mail.gmail.com>

You might have a look at this :

http://wpshout.com/category/development/theme-options-page/

From lynne.pope at gmail.com  Fri Aug 28 23:33:55 2009
From: lynne.pope at gmail.com (Lynne Pope)
Date: Sat, 29 Aug 2009 11:33:55 +1200
Subject: [wp-hackers] what the ?
In-Reply-To: <59e7f3130908280956g86a47f4q3894ec2c9734f2d7@mail.gmail.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com> 
	<op.uzc76jelspxmuu@dd32.no-ip.com>
	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com> 
	<7AF78987-4F31-4B22-8EB1-DADF7DD2FCCF@newclarity.net>
	<59e7f3130908280956g86a47f4q3894ec2c9734f2d7@mail.gmail.com>
Message-ID: <427667db0908281633h544d6ec3x6d828d59e85f8263@mail.gmail.com>

2009/8/29 Malaiac <malaiac at gmail.com>

> 2009/8/28 Mike Schinkel <mikeschinkel at newclarity.net>:
> > Just curious, but what does summer have to do with it?
> >
> > -Mike Schinkel
> > WordPress Custom Plugins
> > http://mikeschinkel.com/custom-wordpress-plugins/
>
> People (including geeks, and developers) tend to be away from internet
> on summer ;)


Sadly, crackers don't seem to go on vacation and summer in the Northern
Hemisphere also seems to coincide with an increased number of bored students
trying their hands at hacking sites.

I agree that there have been too many upgrades over a short period of time,
but repairing sites after they have been hacked takes a lot longer than it
does to upgrade.

Lynne

From handy.solo at gmail.com  Sat Aug 29 14:04:34 2009
From: handy.solo at gmail.com (Chris Kasten)
Date: Sat, 29 Aug 2009 08:04:34 -0600
Subject: [wp-hackers] Quest for Self Pingbacks
Message-ID: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>

Hey folks, I'm a little slow on this one, but I recently noticed that my
pingbacks to myself (same blog, older posts) no longer get generated.I
opened a forums topic but haven't had much play.
http://wordpress.org/support/topic/305127?replies=3

My testing with a fresh install, default theme and no plugins indicates that
self pings don't happen anymore (no entries in Posts.to_ping or Posts.pinged
columns either). Trackbacks to external sites get added to the db, but
neither ping nor trackbacks to self show up in the db.

Is this by design? If so, would anyone have a suggestion on how to cobble up
a plugin to re-enable it?

Thanks for your time,

Chris Kasten

From scribu at gmail.com  Sat Aug 29 15:10:17 2009
From: scribu at gmail.com (scribu)
Date: Sat, 29 Aug 2009 18:10:17 +0300
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
Message-ID: <349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>

That's ironic, since there's a plugin that does the opposite. It's called No
Self Pings.

-- 
http://scribu.net

From ricardo.cezar at gmail.com  Sat Aug 29 17:19:06 2009
From: ricardo.cezar at gmail.com (Rics)
Date: Sat, 29 Aug 2009 14:19:06 -0300
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com> 
	<349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>
Message-ID: <334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>

Personally, I don't like self trackbacks... it's anoying.
I prefer to have related posts and use trackback only from other websites.
---
Rics
http://www.pensarics.com
http://www.meadiciona.com/rics
Maring?, PR - Brasil


2009/8/29 scribu <scribu at gmail.com>

> That's ironic, since there's a plugin that does the opposite. It's called
> No
> Self Pings.
>
> --
> http://scribu.net
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From handy.solo at gmail.com  Sat Aug 29 17:47:51 2009
From: handy.solo at gmail.com (Chris Kasten)
Date: Sat, 29 Aug 2009 11:47:51 -0600
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
	<349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>
	<334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>
Message-ID: <2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com>

Yes thanks. I realize a lot of people don't like them.  That's why that No
Pings plugin was invented! But I do like 'em and WP used to generate them.
Like or dislike, I just wish to confirm that they (self pings) are indeed
dropped by WP now. If so, A nudge on how to re-enable them with a plugin
would be really groovy.


Chris Kasten
Solo Technology


On Sat, Aug 29, 2009 at 11:19 AM, Rics <ricardo.cezar at gmail.com> wrote:

> Personally, I don't like self trackbacks... it's anoying.
> I prefer to have related posts and use trackback only from other websites.
> ---
> Rics
> http://www.pensarics.com
> http://www.meadiciona.com/rics
> Maring?, PR - Brasil
>
>
> 2009/8/29 scribu <scribu at gmail.com>
>
> > That's ironic, since there's a plugin that does the opposite. It's called
> > No
> > Self Pings.
> >
> > --
> > http://scribu.net
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wp at xentek.net  Sat Aug 29 20:51:00 2009
From: wp at xentek.net (Eric Marden)
Date: Sat, 29 Aug 2009 16:51:00 -0400
Subject: [wp-hackers] what the ?
In-Reply-To: <4A97AAB2.7010101@gmail.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>	<op.uzc76jelspxmuu@dd32.no-ip.com>	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
	<op.uzc8kia0spxmuu@dd32.no-ip.com> <4A97AAB2.7010101@gmail.com>
Message-ID: <5BCA7CE9-FF27-4CDA-B4F2-D7AC24FA65F9@xentek.net>

> This has piqued my curiosity. How many of you run your primary sites  
> on
> WordPress trunk?

My main blog runs trunk always: http://xentek.net, and I have it  
associated with my project via svn:externals.

When a new major release is about a month out, I will run trunk on new  
client projects so that I can be sure that they will be in good shape  
when it actually ships. After it does come out, I switch them to the  
stable branch for that version, ensuring that they are getting changes  
quickly, but aren't running the bleeding edge.


- Eric Marden
__________________________________
http://xentek.net/code/wordpress/






From peter.westwood at ftwr.co.uk  Sat Aug 29 20:54:52 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sat, 29 Aug 2009 21:54:52 +0100
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
	<349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>
	<334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>
	<2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com>
Message-ID: <B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>

It sounds like you are suffering from oases which prevent the self  
pings from working.

This is normally due to hosting confug in relation to connections back  
to your server from your server.

Does the built in cron system work for you? For example does future  
publishing posts work?

--
Peter Westwood
http://peter.westwood.name

On 29 Aug 2009, at 18:47, Chris Kasten <handy.solo at gmail.com> wrote:

> Yes thanks. I realize a lot of people don't like them.  That's why  
> that No
> Pings plugin was invented! But I do like 'em and WP used to generate  
> them.
> Like or dislike, I just wish to confirm that they (self pings) are  
> indeed
> dropped by WP now. If so, A nudge on how to re-enable them with a  
> plugin
> would be really groovy.
>
>
> Chris Kasten
> Solo Technology
>
>
> On Sat, Aug 29, 2009 at 11:19 AM, Rics <ricardo.cezar at gmail.com>  
> wrote:
>
>> Personally, I don't like self trackbacks... it's anoying.
>> I prefer to have related posts and use trackback only from other  
>> websites.
>> ---
>> Rics
>> http://www.pensarics.com
>> http://www.meadiciona.com/rics
>> Maring?, PR - Brasil
>>
>>
>> 2009/8/29 scribu <scribu at gmail.com>
>>
>>> That's ironic, since there's a plugin that does the opposite. It's  
>>> called
>>> No
>>> Self Pings.
>>>
>>> --
>>> http://scribu.net
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From handy.solo at gmail.com  Sat Aug 29 21:41:34 2009
From: handy.solo at gmail.com (Chris Kasten)
Date: Sat, 29 Aug 2009 15:41:34 -0600
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
	<349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>
	<334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>
	<2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com>
	<B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>
Message-ID: <2b0d85240908291441y440e20d6kb968dbe672c1ad1@mail.gmail.com>

I'm hosted on Dreamhost. As mentioned earlier, self pings were good until
the beginning of this year (which may coincide with a WP release? I can't
recall now).
I also tried a pingback from one of my blogs to the other (but both on
Dreamhost and both in same domain). Same deal, no pingback and nothing in
the ping fields in the Posts table.

I just tested a future post and it worked. What else would you like me to
try? I get the same results with my blog as I do with a test blog (no
plugins / default theme).

I guess one next step would be to get one going locally (as in not on
Dreamhost) and see how self pings go there. Anything else I should look at?



From m at mullenweg.com  Sun Aug 30 01:54:16 2009
From: m at mullenweg.com (Matt Mullenweg)
Date: Sat, 29 Aug 2009 18:54:16 -0700
Subject: [wp-hackers] what the ?
In-Reply-To: <4A97AAB2.7010101@gmail.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>	<op.uzc76jelspxmuu@dd32.no-ip.com>	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>	<op.uzc8kia0spxmuu@dd32.no-ip.com>
	<4A97AAB2.7010101@gmail.com>
Message-ID: <4A99DBC8.3040401@mullenweg.com>

On 8/28/2009 3:00 AM, Harish Narayanan wrote:
> This has piqued my curiosity. How many of you run your primary sites on
> WordPress trunk?

I SVN up my blog nightly.

-- 
Matt Mullenweg
http://ma.tt | http://wordpress.org | http://automattic.com

From handy.solo at gmail.com  Sun Aug 30 02:11:44 2009
From: handy.solo at gmail.com (Chris Kasten)
Date: Sat, 29 Aug 2009 20:11:44 -0600
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <2b0d85240908291441y440e20d6kb968dbe672c1ad1@mail.gmail.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
	<349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>
	<334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>
	<2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com>
	<B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>
	<2b0d85240908291441y440e20d6kb968dbe672c1ad1@mail.gmail.com>
Message-ID: <2b0d85240908291911q1026dc6fi7c759f3e764e983f@mail.gmail.com>

On a fresh locally install blog self pingbacks work just fine. I guess this
may be a Dreamhost related issue?What a bummer.

I poked around through the access and error logs but didn't see any obvious
errors.




On Sat, Aug 29, 2009 at 3:41 PM, Chris Kasten <handy.solo at gmail.com> wrote:

> I'm hosted on Dreamhost. As mentioned earlier, self pings were good until
> the beginning of this year (which may coincide with a WP release? I can't
> recall now).
> I also tried a pingback from one of my blogs to the other (but both on
> Dreamhost and both in same domain). Same deal, no pingback and nothing in
> the ping fields in the Posts table.
>
> I just tested a future post and it worked. What else would you like me to
> try? I get the same results with my blog as I do with a test blog (no
> plugins / default theme).
>
> I guess one next step would be to get one going locally (as in not on
> Dreamhost) and see how self pings go there. Anything else I should look at?
>
>
> From your note, it sounds like I can assume that self pings _should_ still
> work?
>
>
> On Sat, Aug 29, 2009 at 2:54 PM, Peter Westwood <peter.westwood at ftwr.co.uk
> > wrote:
>
>> It sounds like you are suffering from oases which prevent the self pings
>> from working.
>>
>> This is normally due to hosting confug in relation to connections back to
>> your server from your server.
>>
>> Does the built in cron system work for you? For example does future
>> publishing posts work?
>>
>> --
>> Peter Westwood
>> http://peter.westwood.name
>>
>>
>> On 29 Aug 2009, at 18:47, Chris Kasten <handy.solo at gmail.com> wrote:
>>
>>  Yes thanks. I realize a lot of people don't like them.  That's why that
>>> No
>>> Pings plugin was invented! But I do like 'em and WP used to generate
>>> them.
>>> Like or dislike, I just wish to confirm that they (self pings) are indeed
>>> dropped by WP now. If so, A nudge on how to re-enable them with a plugin
>>> would be really groovy.
>>>
>>>
>>> Chris Kasten
>>> Solo Technology
>>>
>>>
>>> On Sat, Aug 29, 2009 at 11:19 AM, Rics <ricardo.cezar at gmail.com> wrote:
>>>
>>>  Personally, I don't like self trackbacks... it's anoying.
>>>> I prefer to have related posts and use trackback only from other
>>>> websites.
>>>> ---
>>>> Rics
>>>> http://www.pensarics.com
>>>> http://www.meadiciona.com/rics
>>>> Maring?, PR - Brasil
>>>>
>>>>
>>>> 2009/8/29 scribu <scribu at gmail.com>
>>>>
>>>>  That's ironic, since there's a plugin that does the opposite. It's
>>>>> called
>>>>> No
>>>>> Self Pings.
>>>>>
>>>>> --
>>>>> http://scribu.net
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>  _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>  _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From wordpress at dd32.id.au  Sun Aug 30 02:13:19 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Sun, 30 Aug 2009 12:13:19 +1000
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <2b0d85240908291911q1026dc6fi7c759f3e764e983f@mail.gmail.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
	<349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>
	<334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>
	<2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com>
	<B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>
	<2b0d85240908291441y440e20d6kb968dbe672c1ad1@mail.gmail.com>
	<2b0d85240908291911q1026dc6fi7c759f3e764e983f@mail.gmail.com>
Message-ID: <op.uzgdshjcspxmuu@dd32.no-ip.com>

Is the cron system working?

Try a future-publish post, See if that gets published (Thats based on the  
Cron system).

On Sun, 30 Aug 2009 12:11:44 +1000, Chris Kasten <handy.solo at gmail.com>  
wrote:

> On a fresh locally install blog self pingbacks work just fine. I guess  
> this
> may be a Dreamhost related issue?What a bummer.
>
> I poked around through the access and error logs but didn't see any  
> obvious
> errors.
>
>
>
>
> On Sat, Aug 29, 2009 at 3:41 PM, Chris Kasten <handy.solo at gmail.com>  
> wrote:
>
>> I'm hosted on Dreamhost. As mentioned earlier, self pings were good  
>> until
>> the beginning of this year (which may coincide with a WP release? I  
>> can't
>> recall now).
>> I also tried a pingback from one of my blogs to the other (but both on
>> Dreamhost and both in same domain). Same deal, no pingback and nothing  
>> in
>> the ping fields in the Posts table.
>>
>> I just tested a future post and it worked. What else would you like me  
>> to
>> try? I get the same results with my blog as I do with a test blog (no
>> plugins / default theme).
>>
>> I guess one next step would be to get one going locally (as in not on
>> Dreamhost) and see how self pings go there. Anything else I should look  
>> at?
>>
>>
>> From your note, it sounds like I can assume that self pings _should_  
>> still
>> work?
>>
>>
>> On Sat, Aug 29, 2009 at 2:54 PM, Peter Westwood  
>> <peter.westwood at ftwr.co.uk
>> > wrote:
>>
>>> It sounds like you are suffering from oases which prevent the self  
>>> pings
>>> from working.
>>>
>>> This is normally due to hosting confug in relation to connections back  
>>> to
>>> your server from your server.
>>>
>>> Does the built in cron system work for you? For example does future
>>> publishing posts work?
>>>
>>> --
>>> Peter Westwood
>>> http://peter.westwood.name
>>>
>>>
>>> On 29 Aug 2009, at 18:47, Chris Kasten <handy.solo at gmail.com> wrote:
>>>
>>>  Yes thanks. I realize a lot of people don't like them.  That's why  
>>> that
>>>> No
>>>> Pings plugin was invented! But I do like 'em and WP used to generate
>>>> them.
>>>> Like or dislike, I just wish to confirm that they (self pings) are  
>>>> indeed
>>>> dropped by WP now. If so, A nudge on how to re-enable them with a  
>>>> plugin
>>>> would be really groovy.
>>>>
>>>>
>>>> Chris Kasten
>>>> Solo Technology
>>>>
>>>>
>>>> On Sat, Aug 29, 2009 at 11:19 AM, Rics <ricardo.cezar at gmail.com>  
>>>> wrote:
>>>>
>>>>  Personally, I don't like self trackbacks... it's anoying.
>>>>> I prefer to have related posts and use trackback only from other
>>>>> websites.
>>>>> ---
>>>>> Rics
>>>>> http://www.pensarics.com
>>>>> http://www.meadiciona.com/rics
>>>>> Maring?, PR - Brasil
>>>>>
>>>>>
>>>>> 2009/8/29 scribu <scribu at gmail.com>
>>>>>
>>>>>  That's ironic, since there's a plugin that does the opposite. It's
>>>>>> called
>>>>>> No
>>>>>> Self Pings.
>>>>>>
>>>>>> --
>>>>>> http://scribu.net
>>>>>> _______________________________________________
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>  _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>  _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From handy.solo at gmail.com  Sun Aug 30 02:17:09 2009
From: handy.solo at gmail.com (Chris Kasten)
Date: Sat, 29 Aug 2009 20:17:09 -0600
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <op.uzgdshjcspxmuu@dd32.no-ip.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
	<349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>
	<334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>
	<2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com>
	<B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>
	<2b0d85240908291441y440e20d6kb968dbe672c1ad1@mail.gmail.com>
	<2b0d85240908291911q1026dc6fi7c759f3e764e983f@mail.gmail.com>
	<op.uzgdshjcspxmuu@dd32.no-ip.com>
Message-ID: <2b0d85240908291917j36feadafgda0be9555aa6eb66@mail.gmail.com>

Future posts do indeed work (mentioned a couple stanzas below your reply ;-)
)



On Sat, Aug 29, 2009 at 8:13 PM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:

> Is the cron system working?
>
> Try a future-publish post, See if that gets published (Thats based on the
> Cron system).
>
>
> On Sun, 30 Aug 2009 12:11:44 +1000, Chris Kasten <handy.solo at gmail.com>
> wrote:
>
>  On a fresh locally install blog self pingbacks work just fine. I guess
>> this
>> may be a Dreamhost related issue?What a bummer.
>>
>> I poked around through the access and error logs but didn't see any
>> obvious
>> errors.
>>
>>
>>
>>
>> On Sat, Aug 29, 2009 at 3:41 PM, Chris Kasten <handy.solo at gmail.com>
>> wrote:
>>
>>  I'm hosted on Dreamhost. As mentioned earlier, self pings were good until
>>> the beginning of this year (which may coincide with a WP release? I can't
>>> recall now).
>>> I also tried a pingback from one of my blogs to the other (but both on
>>> Dreamhost and both in same domain). Same deal, no pingback and nothing in
>>> the ping fields in the Posts table.
>>>
>>> I just tested a future post and it worked. What else would you like me to
>>> try? I get the same results with my blog as I do with a test blog (no
>>> plugins / default theme).
>>>
>>> I guess one next step would be to get one going locally (as in not on
>>> Dreamhost) and see how self pings go there. Anything else I should look
>>> at?
>>>
>>>
>>> From your note, it sounds like I can assume that self pings _should_
>>> still
>>> work?
>>>
>>>
>>> On Sat, Aug 29, 2009 at 2:54 PM, Peter Westwood <
>>> peter.westwood at ftwr.co.uk
>>> > wrote:
>>>
>>>  It sounds like you are suffering from oases which prevent the self pings
>>>> from working.
>>>>
>>>> This is normally due to hosting confug in relation to connections back
>>>> to
>>>> your server from your server.
>>>>
>>>> Does the built in cron system work for you? For example does future
>>>> publishing posts work?
>>>>
>>>> --
>>>> Peter Westwood
>>>> http://peter.westwood.name
>>>>
>>>>
>>>> On 29 Aug 2009, at 18:47, Chris Kasten <handy.solo at gmail.com> wrote:
>>>>
>>>>  Yes thanks. I realize a lot of people don't like them.  That's why that
>>>>
>>>>> No
>>>>> Pings plugin was invented! But I do like 'em and WP used to generate
>>>>> them.
>>>>> Like or dislike, I just wish to confirm that they (self pings) are
>>>>> indeed
>>>>> dropped by WP now. If so, A nudge on how to re-enable them with a
>>>>> plugin
>>>>> would be really groovy.
>>>>>
>>>>>
>>>>> Chris Kasten
>>>>> Solo Technology
>>>>>
>>>>>
>>>>> On Sat, Aug 29, 2009 at 11:19 AM, Rics <ricardo.cezar at gmail.com>
>>>>> wrote:
>>>>>
>>>>>  Personally, I don't like self trackbacks... it's anoying.
>>>>>
>>>>>> I prefer to have related posts and use trackback only from other
>>>>>> websites.
>>>>>> ---
>>>>>> Rics
>>>>>> http://www.pensarics.com
>>>>>> http://www.meadiciona.com/rics
>>>>>> Maring?, PR - Brasil
>>>>>>
>>>>>>
>>>>>> 2009/8/29 scribu <scribu at gmail.com>
>>>>>>
>>>>>>  That's ironic, since there's a plugin that does the opposite. It's
>>>>>>
>>>>>>> called
>>>>>>> No
>>>>>>> Self Pings.
>>>>>>>
>>>>>>> --
>>>>>>> http://scribu.net
>>>>>>> _______________________________________________
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers at lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>
>>>>>>>  _______________________________________________
>>>>>>>
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>  _______________________________________________
>>>>>>
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>  _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>
>>>  _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> --
> --
> Dion Hulse
> e: contact at dd32.id.au
> w: http://dd32.id.au/
> m: 04 6621 9112 (+614 6621 9112)
> WordPressQI: http://wordpressqi.com/
>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Sun Aug 30 06:05:03 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun, 30 Aug 2009 07:05:03 +0100
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <2b0d85240908291917j36feadafgda0be9555aa6eb66@mail.gmail.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
	<349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>
	<334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>
	<2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com>
	<B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>
	<2b0d85240908291441y440e20d6kb968dbe672c1ad1@mail.gmail.com>
	<2b0d85240908291911q1026dc6fi7c759f3e764e983f@mail.gmail.com>
	<op.uzgdshjcspxmuu@dd32.no-ip.com>
	<2b0d85240908291917j36feadafgda0be9555aa6eb66@mail.gmail.com>
Message-ID: <5812287B-C104-453E-A7AB-954C0F1FD776@ftwr.co.uk>

Could you try on your test blog with the patch on this ticket applied.

http://core.trac.wordpress.org/ticket/10588

This switches the IXR class over to use the WordPress HTTP api instead  
of fsockopen for connections it should be more reliable.

Please leave feedback on your sucess/lack there of on the ticket.

--
Peter Westwood
http://peter.westwood.name

On 30 Aug 2009, at 03:17, Chris Kasten <handy.solo at gmail.com> wrote:

> Future posts do indeed work (mentioned a couple stanzas below your  
> reply ;-)
> )
>
>
>
> On Sat, Aug 29, 2009 at 8:13 PM, Dion Hulse (dd32) <wordpress at dd32.id.au 
> >wrote:
>
>> Is the cron system working?
>>
>> Try a future-publish post, See if that gets published (Thats based  
>> on the
>> Cron system).
>>
>>
>> On Sun, 30 Aug 2009 12:11:44 +1000, Chris Kasten <handy.solo at gmail.com 
>> >
>> wrote:
>>
>> On a fresh locally install blog self pingbacks work just fine. I  
>> guess
>>> this
>>> may be a Dreamhost related issue?What a bummer.
>>>
>>> I poked around through the access and error logs but didn't see any
>>> obvious
>>> errors.
>>>
>>>
>>>
>>>
>>> On Sat, Aug 29, 2009 at 3:41 PM, Chris Kasten <handy.solo at gmail.com>
>>> wrote:
>>>
>>> I'm hosted on Dreamhost. As mentioned earlier, self pings were  
>>> good until
>>>> the beginning of this year (which may coincide with a WP release?  
>>>> I can't
>>>> recall now).
>>>> I also tried a pingback from one of my blogs to the other (but  
>>>> both on
>>>> Dreamhost and both in same domain). Same deal, no pingback and  
>>>> nothing in
>>>> the ping fields in the Posts table.
>>>>
>>>> I just tested a future post and it worked. What else would you  
>>>> like me to
>>>> try? I get the same results with my blog as I do with a test blog  
>>>> (no
>>>> plugins / default theme).
>>>>
>>>> I guess one next step would be to get one going locally (as in  
>>>> not on
>>>> Dreamhost) and see how self pings go there. Anything else I  
>>>> should look
>>>> at?
>>>>
>>>>
>>>> From your note, it sounds like I can assume that self pings  
>>>> _should_
>>>> still
>>>> work?
>>>>
>>>>
>>>> On Sat, Aug 29, 2009 at 2:54 PM, Peter Westwood <
>>>> peter.westwood at ftwr.co.uk
>>>>> wrote:
>>>>
>>>> It sounds like you are suffering from oases which prevent the  
>>>> self pings
>>>>> from working.
>>>>>
>>>>> This is normally due to hosting confug in relation to  
>>>>> connections back
>>>>> to
>>>>> your server from your server.
>>>>>
>>>>> Does the built in cron system work for you? For example does  
>>>>> future
>>>>> publishing posts work?
>>>>>
>>>>> --
>>>>> Peter Westwood
>>>>> http://peter.westwood.name
>>>>>
>>>>>
>>>>> On 29 Aug 2009, at 18:47, Chris Kasten <handy.solo at gmail.com>  
>>>>> wrote:
>>>>>
>>>>> Yes thanks. I realize a lot of people don't like them.  That's  
>>>>> why that
>>>>>
>>>>>> No
>>>>>> Pings plugin was invented! But I do like 'em and WP used to  
>>>>>> generate
>>>>>> them.
>>>>>> Like or dislike, I just wish to confirm that they (self pings)  
>>>>>> are
>>>>>> indeed
>>>>>> dropped by WP now. If so, A nudge on how to re-enable them with a
>>>>>> plugin
>>>>>> would be really groovy.
>>>>>>
>>>>>>
>>>>>> Chris Kasten
>>>>>> Solo Technology
>>>>>>
>>>>>>
>>>>>> On Sat, Aug 29, 2009 at 11:19 AM, Rics <ricardo.cezar at gmail.com>
>>>>>> wrote:
>>>>>>
>>>>>> Personally, I don't like self trackbacks... it's anoying.
>>>>>>
>>>>>>> I prefer to have related posts and use trackback only from other
>>>>>>> websites.
>>>>>>> ---
>>>>>>> Rics
>>>>>>> http://www.pensarics.com
>>>>>>> http://www.meadiciona.com/rics
>>>>>>> Maring?, PR - Brasil
>>>>>>>
>>>>>>>
>>>>>>> 2009/8/29 scribu <scribu at gmail.com>
>>>>>>>
>>>>>>> That's ironic, since there's a plugin that does the opposite.  
>>>>>>> It's
>>>>>>>
>>>>>>>> called
>>>>>>>> No
>>>>>>>> Self Pings.
>>>>>>>>
>>>>>>>> --
>>>>>>>> http://scribu.net
>>>>>>>> _______________________________________________
>>>>>>>> wp-hackers mailing list
>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>>
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers at lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>>
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>
>> --
>> --
>> Dion Hulse
>> e: contact at dd32.id.au
>> w: http://dd32.id.au/
>> m: 04 6621 9112 (+614 6621 9112)
>> WordPressQI: http://wordpressqi.com/
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From websweetweb at gmail.com  Sun Aug 30 12:08:43 2009
From: websweetweb at gmail.com (rajasekharan)
Date: Sun, 30 Aug 2009 17:38:43 +0530
Subject: [wp-hackers] Activation hook exist for themes?
Message-ID: <4A9A6BCB.9090302@gmail.com>

Hi all,

Similar to register_activation_hook for plugins, do activation hooks 
exist for a themes in wordpress?

Kind Regards,
Raj Sekharan

From ozh at planetozh.com  Sun Aug 30 12:13:46 2009
From: ozh at planetozh.com (Ozh)
Date: Sun, 30 Aug 2009 14:13:46 +0200
Subject: [wp-hackers] Activation hook exist for themes?
In-Reply-To: <4A9A6BCB.9090302@gmail.com>
References: <4A9A6BCB.9090302@gmail.com>
Message-ID: <ae81acd10908300513j708377fdy68de5cfa5da3ec45@mail.gmail.com>

Last time I checked there was no such hook

A simple workaround is:
if ( is_admin() && isset($_GET['activated'] ) && $pagenow == "themes.php" ) {
  // do your stuff
}

On Sun, Aug 30, 2009 at 2:08 PM, rajasekharan<websweetweb at gmail.com> wrote:
> Similar to register_activation_hook for plugins, do activation hooks exist
> for a themes in wordpress?
>



-- 
http://planetOzh.com ~ Blog and WordPress Stuff
http://FrenchFragFactory.net ~ Daily Quake News

From jason at findingsimple.com  Sun Aug 30 12:35:21 2009
From: jason at findingsimple.com (Jason)
Date: Sun, 30 Aug 2009 22:35:21 +1000
Subject: [wp-hackers] Custom Taxonomies for Pages
Message-ID: <bf55ecdd0908300535w5f22e108r961596422997acb8@mail.gmail.com>

Hi All,

I am trying to get a custom taxonomy tag panel on the "Edit Page" page in
the dashboard - just like the regular tags panel for the "edit posts" page
except for a custom taxonomy.

My understanding is that WP does not do all the automatic stuff for custom
taxonomies relating to pages at the moment.

So what I have done is an add an additional meta box and told it to display
a tweaked version of the core add tag panel but I can't seem to get it to
make the ajax (?) calls to populate it properly/edit the tags properly. Do I
need to add some extra java to the "Edit Page" page or something?

Thoughts, suggestions, help?

You can view the functions I am using
here.<http://findingsimple.com/dev/tax.txt>

Thanks muchly in advance.

Cheers,
Jason

From handy.solo at gmail.com  Sun Aug 30 13:31:15 2009
From: handy.solo at gmail.com (Chris Kasten)
Date: Sun, 30 Aug 2009 07:31:15 -0600
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <5812287B-C104-453E-A7AB-954C0F1FD776@ftwr.co.uk>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
	<349fe48b0908290810u7d5ded15k8c48fce7bf571901@mail.gmail.com>
	<334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>
	<2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com>
	<B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>
	<2b0d85240908291441y440e20d6kb968dbe672c1ad1@mail.gmail.com>
	<2b0d85240908291911q1026dc6fi7c759f3e764e983f@mail.gmail.com>
	<op.uzgdshjcspxmuu@dd32.no-ip.com>
	<2b0d85240908291917j36feadafgda0be9555aa6eb66@mail.gmail.com>
	<5812287B-C104-453E-A7AB-954C0F1FD776@ftwr.co.uk>
Message-ID: <2b0d85240908300631u19b37b46hf49d2a6174fb69a0@mail.gmail.com>

I'll give it a shot and report back.
Meanwhile... It alarms me that my self links never get collected and added
to the to_ping / pinged columns in the Posts table. Or are they briefly
there and removed when the pingback fails?


On Sun, Aug 30, 2009 at 12:05 AM, Peter Westwood
<peter.westwood at ftwr.co.uk>wrote:

> Could you try on your test blog with the patch on this ticket applied.
>
> http://core.trac.wordpress.org/ticket/10588
>
> This switches the IXR class over to use the WordPress HTTP api instead of
> fsockopen for connections it should be more reliable.
>
> Please leave feedback on your sucess/lack there of on the ticket.
>
> --
> Peter Westwood
> http://peter.westwood.name
>
> On 30 Aug 2009, at 03:17, Chris Kasten <handy.solo at gmail.com> wrote:
>
>  Future posts do indeed work (mentioned a couple stanzas below your reply
>> ;-)
>> )
>>
>>
>>
>> On Sat, Aug 29, 2009 at 8:13 PM, Dion Hulse (dd32) <wordpress at dd32.id.au
>> >wrote:
>>
>>  Is the cron system working?
>>>
>>> Try a future-publish post, See if that gets published (Thats based on the
>>> Cron system).
>>>
>>>
>>> On Sun, 30 Aug 2009 12:11:44 +1000, Chris Kasten <handy.solo at gmail.com>
>>> wrote:
>>>
>>> On a fresh locally install blog self pingbacks work just fine. I guess
>>>
>>>> this
>>>> may be a Dreamhost related issue?What a bummer.
>>>>
>>>> I poked around through the access and error logs but didn't see any
>>>> obvious
>>>> errors.
>>>>
>>>>
>>>>
>>>>
>>>> On Sat, Aug 29, 2009 at 3:41 PM, Chris Kasten <handy.solo at gmail.com>
>>>> wrote:
>>>>
>>>> I'm hosted on Dreamhost. As mentioned earlier, self pings were good
>>>> until
>>>>
>>>>> the beginning of this year (which may coincide with a WP release? I
>>>>> can't
>>>>> recall now).
>>>>> I also tried a pingback from one of my blogs to the other (but both on
>>>>> Dreamhost and both in same domain). Same deal, no pingback and nothing
>>>>> in
>>>>> the ping fields in the Posts table.
>>>>>
>>>>> I just tested a future post and it worked. What else would you like me
>>>>> to
>>>>> try? I get the same results with my blog as I do with a test blog (no
>>>>> plugins / default theme).
>>>>>
>>>>> I guess one next step would be to get one going locally (as in not on
>>>>> Dreamhost) and see how self pings go there. Anything else I should look
>>>>> at?
>>>>>
>>>>>
>>>>> From your note, it sounds like I can assume that self pings _should_
>>>>> still
>>>>> work?
>>>>>
>>>>>
>>>>> On Sat, Aug 29, 2009 at 2:54 PM, Peter Westwood <
>>>>> peter.westwood at ftwr.co.uk
>>>>>
>>>>>> wrote:
>>>>>>
>>>>>
>>>>> It sounds like you are suffering from oases which prevent the self
>>>>> pings
>>>>>
>>>>>> from working.
>>>>>>
>>>>>> This is normally due to hosting confug in relation to connections back
>>>>>> to
>>>>>> your server from your server.
>>>>>>
>>>>>> Does the built in cron system work for you? For example does future
>>>>>> publishing posts work?
>>>>>>
>>>>>> --
>>>>>> Peter Westwood
>>>>>> http://peter.westwood.name
>>>>>>
>>>>>>
>>>>>> On 29 Aug 2009, at 18:47, Chris Kasten <handy.solo at gmail.com> wrote:
>>>>>>
>>>>>> Yes thanks. I realize a lot of people don't like them.  That's why
>>>>>> that
>>>>>>
>>>>>>  No
>>>>>>> Pings plugin was invented! But I do like 'em and WP used to generate
>>>>>>> them.
>>>>>>> Like or dislike, I just wish to confirm that they (self pings) are
>>>>>>> indeed
>>>>>>> dropped by WP now. If so, A nudge on how to re-enable them with a
>>>>>>> plugin
>>>>>>> would be really groovy.
>>>>>>>
>>>>>>>
>>>>>>> Chris Kasten
>>>>>>> Solo Technology
>>>>>>>
>>>>>>>
>>>>>>> On Sat, Aug 29, 2009 at 11:19 AM, Rics <ricardo.cezar at gmail.com>
>>>>>>> wrote:
>>>>>>>
>>>>>>> Personally, I don't like self trackbacks... it's anoying.
>>>>>>>
>>>>>>>  I prefer to have related posts and use trackback only from other
>>>>>>>> websites.
>>>>>>>> ---
>>>>>>>> Rics
>>>>>>>> http://www.pensarics.com
>>>>>>>> http://www.meadiciona.com/rics
>>>>>>>> Maring?, PR - Brasil
>>>>>>>>
>>>>>>>>
>>>>>>>> 2009/8/29 scribu <scribu at gmail.com>
>>>>>>>>
>>>>>>>> That's ironic, since there's a plugin that does the opposite. It's
>>>>>>>>
>>>>>>>>  called
>>>>>>>>> No
>>>>>>>>> Self Pings.
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>> http://scribu.net
>>>>>>>>> _______________________________________________
>>>>>>>>> wp-hackers mailing list
>>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>>
>>>>>>>>>  wp-hackers mailing list
>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>>
>>>>>>>>  wp-hackers mailing list
>>>>>>> wp-hackers at lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>>
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>
>>>>>>
>>>>> _______________________________________________
>>>>>
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>
>>>>
>>> --
>>> --
>>> Dion Hulse
>>> e: contact at dd32.id.au
>>> w: http://dd32.id.au/
>>> m: 04 6621 9112 (+614 6621 9112)
>>> WordPressQI: http://wordpressqi.com/
>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>  _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From scribu at gmail.com  Sun Aug 30 13:43:30 2009
From: scribu at gmail.com (scribu)
Date: Sun, 30 Aug 2009 16:43:30 +0300
Subject: [wp-hackers] Custom Taxonomies for Pages
In-Reply-To: <bf55ecdd0908300535w5f22e108r961596422997acb8@mail.gmail.com>
References: <bf55ecdd0908300535w5f22e108r961596422997acb8@mail.gmail.com>
Message-ID: <349fe48b0908300643o50e97ec5s845efb37dd0288f8@mail.gmail.com>

On Sun, Aug 30, 2009 at 3:35 PM, Jason <jason at findingsimple.com> wrote:

> Hi All,
>
> I am trying to get a custom taxonomy tag panel on the "Edit Page" page in
> the dashboard - just like the regular tags panel for the "edit posts" page
> except for a custom taxonomy.
>
> My understanding is that WP does not do all the automatic stuff for custom
> taxonomies relating to pages at the moment.
>
> So what I have done is an add an additional meta box and told it to display
> a tweaked version of the core add tag panel but I can't seem to get it to
> make the ajax (?) calls to populate it properly/edit the tags properly. Do
> I
> need to add some extra java to the "Edit Page" page or something?
>
> Thoughts, suggestions, help?
>
> You can view the functions I am using
> here.<http://findingsimple.com/dev/tax.txt>
>

Firstly, the tags are not populated by AJAX. They are saved when the post is
saved.

So you will need to add a hook somewhere to save the page tags.

There is some javascript that "enhances" the tag box. To add it, add the
following line to the 'admin_enqueue_scripts' action:

wp_enqueue_script('post');


-- 
http://scribu.net

From handy.solo at gmail.com  Sun Aug 30 14:13:32 2009
From: handy.solo at gmail.com (Chris Kasten)
Date: Sun, 30 Aug 2009 08:13:32 -0600
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <2b0d85240908300631u19b37b46hf49d2a6174fb69a0@mail.gmail.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
	<334b9ed40908291019o3b9ab184rdc83dde98e2e9551@mail.gmail.com>
	<2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com>
	<B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>
	<2b0d85240908291441y440e20d6kb968dbe672c1ad1@mail.gmail.com>
	<2b0d85240908291911q1026dc6fi7c759f3e764e983f@mail.gmail.com>
	<op.uzgdshjcspxmuu@dd32.no-ip.com>
	<2b0d85240908291917j36feadafgda0be9555aa6eb66@mail.gmail.com>
	<5812287B-C104-453E-A7AB-954C0F1FD776@ftwr.co.uk>
	<2b0d85240908300631u19b37b46hf49d2a6174fb69a0@mail.gmail.com>
Message-ID: <2b0d85240908300713g6f8d6100n3c0b13d8e212d35c@mail.gmail.com>

The patch made no changes in my lack of ability to self-ping.

On Sun, Aug 30, 2009 at 7:31 AM, Chris Kasten <handy.solo at gmail.com> wrote:

> I'll give it a shot and report back.
> Meanwhile... It alarms me that my self links never get collected and added
> to the to_ping / pinged columns in the Posts table. Or are they briefly
> there and removed when the pingback fails?
>
>
> On Sun, Aug 30, 2009 at 12:05 AM, Peter Westwood <
> peter.westwood at ftwr.co.uk> wrote:
>
>> Could you try on your test blog with the patch on this ticket applied.
>>
>> http://core.trac.wordpress.org/ticket/10588
>>
>> This switches the IXR class over to use the WordPress HTTP api instead of
>> fsockopen for connections it should be more reliable.
>>
>> Please leave feedback on your sucess/lack there of on the ticket.
>>
>> --
>> Peter Westwood
>> http://peter.westwood.name
>>
>> On 30 Aug 2009, at 03:17, Chris Kasten <handy.solo at gmail.com> wrote:
>>
>>  Future posts do indeed work (mentioned a couple stanzas below your reply
>>> ;-)
>>> )
>>>
>>>
>>>
>>> On Sat, Aug 29, 2009 at 8:13 PM, Dion Hulse (dd32) <wordpress at dd32.id.au
>>> >wrote:
>>>
>>>  Is the cron system working?
>>>>
>>>> Try a future-publish post, See if that gets published (Thats based on
>>>> the
>>>> Cron system).
>>>>
>>>>
>>>> On Sun, 30 Aug 2009 12:11:44 +1000, Chris Kasten <handy.solo at gmail.com>
>>>> wrote:
>>>>
>>>> On a fresh locally install blog self pingbacks work just fine. I guess
>>>>
>>>>> this
>>>>> may be a Dreamhost related issue?What a bummer.
>>>>>
>>>>> I poked around through the access and error logs but didn't see any
>>>>> obvious
>>>>> errors.
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> On Sat, Aug 29, 2009 at 3:41 PM, Chris Kasten <handy.solo at gmail.com>
>>>>> wrote:
>>>>>
>>>>> I'm hosted on Dreamhost. As mentioned earlier, self pings were good
>>>>> until
>>>>>
>>>>>> the beginning of this year (which may coincide with a WP release? I
>>>>>> can't
>>>>>> recall now).
>>>>>> I also tried a pingback from one of my blogs to the other (but both on
>>>>>> Dreamhost and both in same domain). Same deal, no pingback and nothing
>>>>>> in
>>>>>> the ping fields in the Posts table.
>>>>>>
>>>>>> I just tested a future post and it worked. What else would you like me
>>>>>> to
>>>>>> try? I get the same results with my blog as I do with a test blog (no
>>>>>> plugins / default theme).
>>>>>>
>>>>>> I guess one next step would be to get one going locally (as in not on
>>>>>> Dreamhost) and see how self pings go there. Anything else I should
>>>>>> look
>>>>>> at?
>>>>>>
>>>>>>
>>>>>> From your note, it sounds like I can assume that self pings _should_
>>>>>> still
>>>>>> work?
>>>>>>
>>>>>>
>>>>>> On Sat, Aug 29, 2009 at 2:54 PM, Peter Westwood <
>>>>>> peter.westwood at ftwr.co.uk
>>>>>>
>>>>>>> wrote:
>>>>>>>
>>>>>>
>>>>>> It sounds like you are suffering from oases which prevent the self
>>>>>> pings
>>>>>>
>>>>>>> from working.
>>>>>>>
>>>>>>> This is normally due to hosting confug in relation to connections
>>>>>>> back
>>>>>>> to
>>>>>>> your server from your server.
>>>>>>>
>>>>>>> Does the built in cron system work for you? For example does future
>>>>>>> publishing posts work?
>>>>>>>
>>>>>>> --
>>>>>>> Peter Westwood
>>>>>>> http://peter.westwood.name
>>>>>>>
>>>>>>>
>>>>>>> On 29 Aug 2009, at 18:47, Chris Kasten <handy.solo at gmail.com> wrote:
>>>>>>>
>>>>>>> Yes thanks. I realize a lot of people don't like them.  That's why
>>>>>>> that
>>>>>>>
>>>>>>>  No
>>>>>>>> Pings plugin was invented! But I do like 'em and WP used to generate
>>>>>>>> them.
>>>>>>>> Like or dislike, I just wish to confirm that they (self pings) are
>>>>>>>> indeed
>>>>>>>> dropped by WP now. If so, A nudge on how to re-enable them with a
>>>>>>>> plugin
>>>>>>>> would be really groovy.
>>>>>>>>
>>>>>>>>
>>>>>>>> Chris Kasten
>>>>>>>> Solo Technology
>>>>>>>>
>>>>>>>>
>>>>>>>> On Sat, Aug 29, 2009 at 11:19 AM, Rics <ricardo.cezar at gmail.com>
>>>>>>>> wrote:
>>>>>>>>
>>>>>>>> Personally, I don't like self trackbacks... it's anoying.
>>>>>>>>
>>>>>>>>  I prefer to have related posts and use trackback only from other
>>>>>>>>> websites.
>>>>>>>>> ---
>>>>>>>>> Rics
>>>>>>>>> http://www.pensarics.com
>>>>>>>>> http://www.meadiciona.com/rics
>>>>>>>>> Maring?, PR - Brasil
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> 2009/8/29 scribu <scribu at gmail.com>
>>>>>>>>>
>>>>>>>>> That's ironic, since there's a plugin that does the opposite. It's
>>>>>>>>>
>>>>>>>>>  called
>>>>>>>>>> No
>>>>>>>>>> Self Pings.
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>> http://scribu.net
>>>>>>>>>> _______________________________________________
>>>>>>>>>> wp-hackers mailing list
>>>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>>>
>>>>>>>>>> _______________________________________________
>>>>>>>>>>
>>>>>>>>>>  wp-hackers mailing list
>>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>>
>>>>>>>>>  wp-hackers mailing list
>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>>
>>>>>>> wp-hackers mailing list
>>>>>>> wp-hackers at lists.automattic.com
>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>> _______________________________________________
>>>>>>
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>>
>>>>>
>>>> --
>>>> --
>>>> Dion Hulse
>>>> e: contact at dd32.id.au
>>>> w: http://dd32.id.au/
>>>> m: 04 6621 9112 (+614 6621 9112)
>>>> WordPressQI: http://wordpressqi.com/
>>>>
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>  _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>

From peter.westwood at ftwr.co.uk  Sun Aug 30 16:52:32 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Sun, 30 Aug 2009 17:52:32 +0100
Subject: [wp-hackers] Activation hook exist for themes?
In-Reply-To: <ae81acd10908300513j708377fdy68de5cfa5da3ec45@mail.gmail.com>
References: <4A9A6BCB.9090302@gmail.com>
	<ae81acd10908300513j708377fdy68de5cfa5da3ec45@mail.gmail.com>
Message-ID: <BC7C28EE-AB88-40FB-9914-5E31496C0B48@ftwr.co.uk>

I'm pretty sure we have theme activation hooks now but I'm not near my  
pc to check.

--
Peter Westwood
http://peter.westwood.name

On 30 Aug 2009, at 13:13, Ozh <ozh at planetozh.com> wrote:

> Last time I checked there was no such hook
>
> A simple workaround is:
> if ( is_admin() && isset($_GET['activated'] ) && $pagenow ==  
> "themes.php" ) {
>  // do your stuff
> }
>
> On Sun, Aug 30, 2009 at 2:08 PM, rajasekharan<websweetweb at gmail.com>  
> wrote:
>> Similar to register_activation_hook for plugins, do activation  
>> hooks exist
>> for a themes in wordpress?
>>
>
>
>
> -- 
> http://planetOzh.com ~ Blog and WordPress Stuff
> http://FrenchFragFactory.net ~ Daily Quake News
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers

From wordpress at dd32.id.au  Sun Aug 30 21:59:17 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 31 Aug 2009 07:59:17 +1000
Subject: [wp-hackers] Custom Taxonomies for Pages
In-Reply-To: <349fe48b0908300643o50e97ec5s845efb37dd0288f8@mail.gmail.com>
References: <bf55ecdd0908300535w5f22e108r961596422997acb8@mail.gmail.com>
	<349fe48b0908300643o50e97ec5s845efb37dd0288f8@mail.gmail.com>
Message-ID: <op.uzhwo3hbspxmuu@dd32.no-ip.com>

On Sun, 30 Aug 2009 23:43:30 +1000, scribu <scribu at gmail.com> wrote:

> On Sun, Aug 30, 2009 at 3:35 PM, Jason <jason at findingsimple.com> wrote:
>
>> Hi All,
>>
>> I am trying to get a custom taxonomy tag panel on the "Edit Page" page  
>> in
>> the dashboard - just like the regular tags panel for the "edit posts"  
>> page
>> except for a custom taxonomy.
>>
>> My understanding is that WP does not do all the automatic stuff for  
>> custom
>> taxonomies relating to pages at the moment.
>>
>> So what I have done is an add an additional meta box and told it to  
>> display
>> a tweaked version of the core add tag panel but I can't seem to get it  
>> to
>> make the ajax (?) calls to populate it properly/edit the tags properly.  
>> Do
>> I
>> need to add some extra java to the "Edit Page" page or something?
>>
>> Thoughts, suggestions, help?
>>
>> You can view the functions I am using
>> here.<http://findingsimple.com/dev/tax.txt>
>>
>
> Firstly, the tags are not populated by AJAX. They are saved when the  
> post is
> saved.
>
> So you will need to add a hook somewhere to save the page tags.
>
> There is some javascript that "enhances" the tag box. To add it, add the
> following line to the 'admin_enqueue_scripts' action:
>
> wp_enqueue_script('post');

That'll only work for the post_tag taxonomy however. I've been working on  
converting everything to handle custom taxonomies better.. but.. not sure   
when there'll be a working patch available :)


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From wordpress at dd32.id.au  Sun Aug 30 23:46:30 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 31 Aug 2009 09:46:30 +1000
Subject: [wp-hackers] Activation hook exist for themes?
In-Reply-To: <BC7C28EE-AB88-40FB-9914-5E31496C0B48@ftwr.co.uk>
References: <4A9A6BCB.9090302@gmail.com>
	<ae81acd10908300513j708377fdy68de5cfa5da3ec45@mail.gmail.com>
	<BC7C28EE-AB88-40FB-9914-5E31496C0B48@ftwr.co.uk>
Message-ID: <op.uzh1nstgspxmuu@dd32.no-ip.com>

Theres a ticket, there was a messy patch from me(IIRC) but i dont think  
its in core yet.

On Mon, 31 Aug 2009 02:52:32 +1000, Peter Westwood  
<peter.westwood at ftwr.co.uk> wrote:

> I'm pretty sure we have theme activation hooks now but I'm not near my
> pc to check.
>
> --
> Peter Westwood
> http://peter.westwood.name
>
> On 30 Aug 2009, at 13:13, Ozh <ozh at planetozh.com> wrote:
>
>> Last time I checked there was no such hook
>>
>> A simple workaround is:
>> if ( is_admin() && isset($_GET['activated'] ) && $pagenow ==
>> "themes.php" ) {
>>  // do your stuff
>> }
>>
>> On Sun, Aug 30, 2009 at 2:08 PM, rajasekharan<websweetweb at gmail.com>
>> wrote:
>>> Similar to register_activation_hook for plugins, do activation
>>> hooks exist
>>> for a themes in wordpress?
>>>
>>
>>
>>
>> --
>> http://planetOzh.com ~ Blog and WordPress Stuff
>> http://FrenchFragFactory.net ~ Daily Quake News
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From wordpress at dd32.id.au  Sun Aug 30 23:47:11 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 31 Aug 2009 09:47:11 +1000
Subject: [wp-hackers] Custom Taxonomies for Pages
In-Reply-To: <op.uzhwo3hbspxmuu@dd32.no-ip.com>
References: <bf55ecdd0908300535w5f22e108r961596422997acb8@mail.gmail.com>
	<349fe48b0908300643o50e97ec5s845efb37dd0288f8@mail.gmail.com>
	<op.uzhwo3hbspxmuu@dd32.no-ip.com>
Message-ID: <op.uzh1oxrespxmuu@dd32.no-ip.com>

On Mon, 31 Aug 2009 07:59:17 +1000, Dion Hulse (dd32)  
<wordpress at dd32.id.au> wrote:

> On Sun, 30 Aug 2009 23:43:30 +1000, scribu <scribu at gmail.com> wrote:
>
>> On Sun, Aug 30, 2009 at 3:35 PM, Jason <jason at findingsimple.com> wrote:
>>
>>> Hi All,
>>>
>>> I am trying to get a custom taxonomy tag panel on the "Edit Page" page  
>>> in
>>> the dashboard - just like the regular tags panel for the "edit posts"  
>>> page
>>> except for a custom taxonomy.
>>>
>>> My understanding is that WP does not do all the automatic stuff for  
>>> custom
>>> taxonomies relating to pages at the moment.
>>>
>>> So what I have done is an add an additional meta box and told it to  
>>> display
>>> a tweaked version of the core add tag panel but I can't seem to get it  
>>> to
>>> make the ajax (?) calls to populate it properly/edit the tags  
>>> properly. Do
>>> I
>>> need to add some extra java to the "Edit Page" page or something?
>>>
>>> Thoughts, suggestions, help?
>>>
>>> You can view the functions I am using
>>> here.<http://findingsimple.com/dev/tax.txt>
>>>
>>
>> Firstly, the tags are not populated by AJAX. They are saved when the  
>> post is
>> saved.
>>
>> So you will need to add a hook somewhere to save the page tags.
>>
>> There is some javascript that "enhances" the tag box. To add it, add the
>> following line to the 'admin_enqueue_scripts' action:
>>
>> wp_enqueue_script('post');
>
> That'll only work for the post_tag taxonomy however. I've been working  
> on converting everything to handle custom taxonomies better.. but.. not  
> sure  when there'll be a working patch available :)

oops. I think thats for the Category stuff only.. Ie. the Tag stuff does  
work with other tax's..


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From jason at findingsimple.com  Mon Aug 31 01:12:35 2009
From: jason at findingsimple.com (Jason)
Date: Mon, 31 Aug 2009 11:12:35 +1000
Subject: [wp-hackers] Custom Taxonomies for Pages
In-Reply-To: <op.uzh1oxrespxmuu@dd32.no-ip.com>
References: <bf55ecdd0908300535w5f22e108r961596422997acb8@mail.gmail.com>
	<349fe48b0908300643o50e97ec5s845efb37dd0288f8@mail.gmail.com>
	<op.uzhwo3hbspxmuu@dd32.no-ip.com> <op.uzh1oxrespxmuu@dd32.no-ip.com>
Message-ID: <bf55ecdd0908301812y3866d773ie148c97084a4878@mail.gmail.com>

Ok so I think I have pretty much got it working with the exception that when
I enqueue  the post.js file the tag panel works but it breaks the javascript
minimise/maximise functionality and a few other things.

Is there somewhere I can get the uncompressed (un-minimised?) version of
post.js and page.js?

Thanks for the responses


On Mon, Aug 31, 2009 at 9:47 AM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:

> On Mon, 31 Aug 2009 07:59:17 +1000, Dion Hulse (dd32) <
> wordpress at dd32.id.au> wrote:
>
>  On Sun, 30 Aug 2009 23:43:30 +1000, scribu <scribu at gmail.com> wrote:
>>
>>  On Sun, Aug 30, 2009 at 3:35 PM, Jason <jason at findingsimple.com> wrote:
>>>
>>>  Hi All,
>>>>
>>>> I am trying to get a custom taxonomy tag panel on the "Edit Page" page
>>>> in
>>>> the dashboard - just like the regular tags panel for the "edit posts"
>>>> page
>>>> except for a custom taxonomy.
>>>>
>>>> My understanding is that WP does not do all the automatic stuff for
>>>> custom
>>>> taxonomies relating to pages at the moment.
>>>>
>>>> So what I have done is an add an additional meta box and told it to
>>>> display
>>>> a tweaked version of the core add tag panel but I can't seem to get it
>>>> to
>>>> make the ajax (?) calls to populate it properly/edit the tags properly.
>>>> Do
>>>> I
>>>> need to add some extra java to the "Edit Page" page or something?
>>>>
>>>> Thoughts, suggestions, help?
>>>>
>>>> You can view the functions I am using
>>>> here.<http://findingsimple.com/dev/tax.txt>
>>>>
>>>>
>>> Firstly, the tags are not populated by AJAX. They are saved when the post
>>> is
>>> saved.
>>>
>>> So you will need to add a hook somewhere to save the page tags.
>>>
>>> There is some javascript that "enhances" the tag box. To add it, add the
>>> following line to the 'admin_enqueue_scripts' action:
>>>
>>> wp_enqueue_script('post');
>>>
>>
>> That'll only work for the post_tag taxonomy however. I've been working on
>> converting everything to handle custom taxonomies better.. but.. not sure
>>  when there'll be a working patch available :)
>>
>
> oops. I think thats for the Category stuff only.. Ie. the Tag stuff does
> work with other tax's..
>
>
>
> --
> --
> Dion Hulse
> e: contact at dd32.id.au
> w: http://dd32.id.au/
> m: 04 6621 9112 (+614 6621 9112)
> WordPressQI: http://wordpressqi.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From bryanharley at gmail.com  Mon Aug 31 02:37:00 2009
From: bryanharley at gmail.com (Bryan Harley)
Date: Sun, 30 Aug 2009 19:37:00 -0700
Subject: [wp-hackers] Can't use the same conditional tag twice?
In-Reply-To: <e1202cb10908271058u1d24ef9al79d934b8b2612de1@mail.gmail.com>
References: <58410e2e0908261810o6c8f06ealc0de0ea40122833d@mail.gmail.com>
	<e1202cb10908271058u1d24ef9al79d934b8b2612de1@mail.gmail.com>
Message-ID: <58410e2e0908301937sa6a2345ye07b91ec68b09dc2@mail.gmail.com>

Peter/Jeremy,

I'm using the following code in both my header and footer.

<li class="<?php if ( is_home() ) { echo 'current_page_item'; } ?>"><a
href="URLHERE">Welcome</a></li>

Here's the CSS:

li.current_page_item a{border-bottom: 3px solid #ec1c24;}

But the border is only showing in the header, not the footer.  To
correct this, I left my header code the same and changed the footer
code to:

<li class="<?php if ( is_front_page() ) { echo 'current_page_item'; }
?>"><a href="URLHERE">Welcome</a></li>

That solved the problem, but I don't understand why it just didn't
WORK in the first place.  Which lead me to believe maybe you can only
use one conditional tag per page.

-Bryan


On Thu, Aug 27, 2009 at 10:58 AM, Jeremy Clarke<jer at simianuprising.com> wrote:
> On Wed, Aug 26, 2009 at 9:10 PM, Bryan Harley<bryanharley at gmail.com> wrote:
>> It seems to me that you can't use the same conditional tag on the same
>> page twice. ?Can anyone else confirm this. ?Why is this so?
>
> In my experience this is definitely not the case. You probably have
> some kind of other issue with your template. Conditional tags would be
> practically useless if they were limited to once per page.
>
>
> --
> Jeremy Clarke | http://jeremyclarke.org
> Code and Design | http://globalvoicesonline.org
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From frank at bueltge.de  Mon Aug 31 07:07:46 2009
From: frank at bueltge.de (Frank Bueltge)
Date: Mon, 31 Aug 2009 09:07:46 +0200
Subject: [wp-hackers] Activation hook exist for themes?
In-Reply-To: <op.uzh1nstgspxmuu@dd32.no-ip.com>
References: <4A9A6BCB.9090302@gmail.com>
	<ae81acd10908300513j708377fdy68de5cfa5da3ec45@mail.gmail.com> 
	<BC7C28EE-AB88-40FB-9914-5E31496C0B48@ftwr.co.uk>
	<op.uzh1nstgspxmuu@dd32.no-ip.com>
Message-ID: <db047a770908310007u25800be3x47a1967c79d8762a@mail.gmail.com>

+100
I think, it si very important to include the hook-structure of plugins
to de- and activate for themes. many themes use options and settings,
its was very nice and cleaner for install options for the theme in the
database.

http://bueltge.de : frank at bueltge.de
http://wpengineer.com : frank at wpengineer.com
__



On Mon, Aug 31, 2009 at 1:46 AM, Dion Hulse (dd32)<wordpress at dd32.id.au> wrote:
> Theres a ticket, there was a messy patch from me(IIRC) but i dont think its
> in core yet.
>
> On Mon, 31 Aug 2009 02:52:32 +1000, Peter Westwood
> <peter.westwood at ftwr.co.uk> wrote:
>
>> I'm pretty sure we have theme activation hooks now but I'm not near my
>> pc to check.
>>
>> --
>> Peter Westwood
>> http://peter.westwood.name
>>
>> On 30 Aug 2009, at 13:13, Ozh <ozh at planetozh.com> wrote:
>>
>>> Last time I checked there was no such hook
>>>
>>> A simple workaround is:
>>> if ( is_admin() && isset($_GET['activated'] ) && $pagenow ==
>>> "themes.php" ) {
>>> ?// do your stuff
>>> }
>>>
>>> On Sun, Aug 30, 2009 at 2:08 PM, rajasekharan<websweetweb at gmail.com>
>>> wrote:
>>>>
>>>> Similar to register_activation_hook for plugins, do activation
>>>> hooks exist
>>>> for a themes in wordpress?
>>>>
>>>
>>>
>>>
>>> --
>>> http://planetOzh.com ~ Blog and WordPress Stuff
>>> http://FrenchFragFactory.net ~ Daily Quake News
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>
>
> --
> --
> Dion Hulse
> e: contact at dd32.id.au
> w: http://dd32.id.au/
> m: 04 6621 9112 (+614 6621 9112)
> WordPressQI: http://wordpressqi.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From websweetweb at gmail.com  Mon Aug 31 07:44:45 2009
From: websweetweb at gmail.com (rajasekharan)
Date: Mon, 31 Aug 2009 13:14:45 +0530
Subject: [wp-hackers] Error in core problem
Message-ID: <4A9B7F6D.4070406@gmail.com>

Hi all,

While working on my theme, a new error seems to have crept into the 
wordpress core (or somewhere else). Not sure what I did wrong, but I 
keep getting the following error:

Call to a member function wp_rewrite_rules() on a non-object in 
C:\apache22\htdocs\blog\wp-includes\classes.php on line /145

/I was editing the header.php file and a stylesheet. I have not touched 
any of the core files at all. What could be the problem?

Raj Sekharan

From wordpress at dd32.id.au  Mon Aug 31 08:12:07 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 31 Aug 2009 18:12:07 +1000
Subject: [wp-hackers] Custom Taxonomies for Pages
In-Reply-To: <bf55ecdd0908301812y3866d773ie148c97084a4878@mail.gmail.com>
References: <bf55ecdd0908300535w5f22e108r961596422997acb8@mail.gmail.com>
	<349fe48b0908300643o50e97ec5s845efb37dd0288f8@mail.gmail.com>
	<op.uzhwo3hbspxmuu@dd32.no-ip.com> <op.uzh1oxrespxmuu@dd32.no-ip.com>
	<bf55ecdd0908301812y3866d773ie148c97084a4878@mail.gmail.com>
Message-ID: <op.uzio2hpyspxmuu@dd32.no-ip.com>

They're included with WordPress, as xxxxx.dev.js

On Mon, 31 Aug 2009 11:12:35 +1000, Jason <jason at findingsimple.com> wrote:

> Ok so I think I have pretty much got it working with the exception that  
> when
> I enqueue  the post.js file the tag panel works but it breaks the  
> javascript
> minimise/maximise functionality and a few other things.
>
> Is there somewhere I can get the uncompressed (un-minimised?) version of
> post.js and page.js?
>
> Thanks for the responses
>
>
> On Mon, Aug 31, 2009 at 9:47 AM, Dion Hulse (dd32)  
> <wordpress at dd32.id.au>wrote:
>
>> On Mon, 31 Aug 2009 07:59:17 +1000, Dion Hulse (dd32) <
>> wordpress at dd32.id.au> wrote:
>>
>>  On Sun, 30 Aug 2009 23:43:30 +1000, scribu <scribu at gmail.com> wrote:
>>>
>>>  On Sun, Aug 30, 2009 at 3:35 PM, Jason <jason at findingsimple.com>  
>>> wrote:
>>>>
>>>>  Hi All,
>>>>>
>>>>> I am trying to get a custom taxonomy tag panel on the "Edit Page"  
>>>>> page
>>>>> in
>>>>> the dashboard - just like the regular tags panel for the "edit posts"
>>>>> page
>>>>> except for a custom taxonomy.
>>>>>
>>>>> My understanding is that WP does not do all the automatic stuff for
>>>>> custom
>>>>> taxonomies relating to pages at the moment.
>>>>>
>>>>> So what I have done is an add an additional meta box and told it to
>>>>> display
>>>>> a tweaked version of the core add tag panel but I can't seem to get  
>>>>> it
>>>>> to
>>>>> make the ajax (?) calls to populate it properly/edit the tags  
>>>>> properly.
>>>>> Do
>>>>> I
>>>>> need to add some extra java to the "Edit Page" page or something?
>>>>>
>>>>> Thoughts, suggestions, help?
>>>>>
>>>>> You can view the functions I am using
>>>>> here.<http://findingsimple.com/dev/tax.txt>
>>>>>
>>>>>
>>>> Firstly, the tags are not populated by AJAX. They are saved when the  
>>>> post
>>>> is
>>>> saved.
>>>>
>>>> So you will need to add a hook somewhere to save the page tags.
>>>>
>>>> There is some javascript that "enhances" the tag box. To add it, add  
>>>> the
>>>> following line to the 'admin_enqueue_scripts' action:
>>>>
>>>> wp_enqueue_script('post');
>>>>
>>>
>>> That'll only work for the post_tag taxonomy however. I've been working  
>>> on
>>> converting everything to handle custom taxonomies better.. but.. not  
>>> sure
>>>  when there'll be a working patch available :)
>>>
>>
>> oops. I think thats for the Category stuff only.. Ie. the Tag stuff does
>> work with other tax's..
>>
>>
>>
>> --
>> --
>> Dion Hulse
>> e: contact at dd32.id.au
>> w: http://dd32.id.au/
>> m: 04 6621 9112 (+614 6621 9112)
>> WordPressQI: http://wordpressqi.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From wordpress at dd32.id.au  Mon Aug 31 08:13:58 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 31 Aug 2009 18:13:58 +1000
Subject: [wp-hackers] Can't use the same conditional tag twice?
In-Reply-To: <58410e2e0908301937sa6a2345ye07b91ec68b09dc2@mail.gmail.com>
References: <58410e2e0908261810o6c8f06ealc0de0ea40122833d@mail.gmail.com>
	<e1202cb10908271058u1d24ef9al79d934b8b2612de1@mail.gmail.com>
	<58410e2e0908301937sa6a2345ye07b91ec68b09dc2@mail.gmail.com>
Message-ID: <op.uzio5knbspxmuu@dd32.no-ip.com>

are you using query_posts()?

query_posts overrides the current query, Its not the best way to go about  
what most people use it for.

try adding wp_reset_query() iin your footer and see if that helps (for  
future reference) - Or call it after query_posts is finished.

On Mon, 31 Aug 2009 12:37:00 +1000, Bryan Harley <bryanharley at gmail.com>  
wrote:

> Peter/Jeremy,
>
> I'm using the following code in both my header and footer.
>
> <li class="<?php if ( is_home() ) { echo 'current_page_item'; } ?>"><a
> href="URLHERE">Welcome</a></li>
>
> Here's the CSS:
>
> li.current_page_item a{border-bottom: 3px solid #ec1c24;}
>
> But the border is only showing in the header, not the footer.  To
> correct this, I left my header code the same and changed the footer
> code to:
>
> <li class="<?php if ( is_front_page() ) { echo 'current_page_item'; }
> ?>"><a href="URLHERE">Welcome</a></li>
>
> That solved the problem, but I don't understand why it just didn't
> WORK in the first place.  Which lead me to believe maybe you can only
> use one conditional tag per page.
>
> -Bryan
>
>
> On Thu, Aug 27, 2009 at 10:58 AM, Jeremy Clarke<jer at simianuprising.com>  
> wrote:
>> On Wed, Aug 26, 2009 at 9:10 PM, Bryan Harley<bryanharley at gmail.com>  
>> wrote:
>>> It seems to me that you can't use the same conditional tag on the same
>>> page twice.  Can anyone else confirm this.  Why is this so?
>>
>> In my experience this is definitely not the case. You probably have
>> some kind of other issue with your template. Conditional tags would be
>> practically useless if they were limited to once per page.
>>
>>
>> --
>> Jeremy Clarke | http://jeremyclarke.org
>> Code and Design | http://globalvoicesonline.org
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From jason at findingsimple.com  Mon Aug 31 08:20:16 2009
From: jason at findingsimple.com (Jason)
Date: Mon, 31 Aug 2009 18:20:16 +1000
Subject: [wp-hackers] Custom Taxonomies for Pages
In-Reply-To: <op.uzio2hpyspxmuu@dd32.no-ip.com>
References: <bf55ecdd0908300535w5f22e108r961596422997acb8@mail.gmail.com>
	<349fe48b0908300643o50e97ec5s845efb37dd0288f8@mail.gmail.com>
	<op.uzhwo3hbspxmuu@dd32.no-ip.com> <op.uzh1oxrespxmuu@dd32.no-ip.com>
	<bf55ecdd0908301812y3866d773ie148c97084a4878@mail.gmail.com>
	<op.uzio2hpyspxmuu@dd32.no-ip.com>
Message-ID: <bf55ecdd0908310120i2cd7b90bm3755d3badfc17fb0@mail.gmail.com>

Ohhh, don't I feel silly. Thanks Dion!


On Mon, Aug 31, 2009 at 6:12 PM, Dion Hulse (dd32) <wordpress at dd32.id.au>wrote:

> They're included with WordPress, as xxxxx.dev.js
>
>
> On Mon, 31 Aug 2009 11:12:35 +1000, Jason <jason at findingsimple.com> wrote:
>
>  Ok so I think I have pretty much got it working with the exception that
>> when
>> I enqueue  the post.js file the tag panel works but it breaks the
>> javascript
>> minimise/maximise functionality and a few other things.
>>
>> Is there somewhere I can get the uncompressed (un-minimised?) version of
>> post.js and page.js?
>>
>> Thanks for the responses
>>
>>
>> On Mon, Aug 31, 2009 at 9:47 AM, Dion Hulse (dd32) <wordpress at dd32.id.au
>> >wrote:
>>
>>  On Mon, 31 Aug 2009 07:59:17 +1000, Dion Hulse (dd32) <
>>> wordpress at dd32.id.au> wrote:
>>>
>>>  On Sun, 30 Aug 2009 23:43:30 +1000, scribu <scribu at gmail.com> wrote:
>>>
>>>>
>>>>  On Sun, Aug 30, 2009 at 3:35 PM, Jason <jason at findingsimple.com>
>>>> wrote:
>>>>
>>>>>
>>>>>  Hi All,
>>>>>
>>>>>>
>>>>>> I am trying to get a custom taxonomy tag panel on the "Edit Page" page
>>>>>> in
>>>>>> the dashboard - just like the regular tags panel for the "edit posts"
>>>>>> page
>>>>>> except for a custom taxonomy.
>>>>>>
>>>>>> My understanding is that WP does not do all the automatic stuff for
>>>>>> custom
>>>>>> taxonomies relating to pages at the moment.
>>>>>>
>>>>>> So what I have done is an add an additional meta box and told it to
>>>>>> display
>>>>>> a tweaked version of the core add tag panel but I can't seem to get it
>>>>>> to
>>>>>> make the ajax (?) calls to populate it properly/edit the tags
>>>>>> properly.
>>>>>> Do
>>>>>> I
>>>>>> need to add some extra java to the "Edit Page" page or something?
>>>>>>
>>>>>> Thoughts, suggestions, help?
>>>>>>
>>>>>> You can view the functions I am using
>>>>>> here.<http://findingsimple.com/dev/tax.txt>
>>>>>>
>>>>>>
>>>>>>  Firstly, the tags are not populated by AJAX. They are saved when the
>>>>> post
>>>>> is
>>>>> saved.
>>>>>
>>>>> So you will need to add a hook somewhere to save the page tags.
>>>>>
>>>>> There is some javascript that "enhances" the tag box. To add it, add
>>>>> the
>>>>> following line to the 'admin_enqueue_scripts' action:
>>>>>
>>>>> wp_enqueue_script('post');
>>>>>
>>>>>
>>>> That'll only work for the post_tag taxonomy however. I've been working
>>>> on
>>>> converting everything to handle custom taxonomies better.. but.. not
>>>> sure
>>>>  when there'll be a working patch available :)
>>>>
>>>>
>>> oops. I think thats for the Category stuff only.. Ie. the Tag stuff does
>>> work with other tax's..
>>>
>>>
>>>
>>> --
>>> --
>>> Dion Hulse
>>> e: contact at dd32.id.au
>>> w: http://dd32.id.au/
>>> m: 04 6621 9112 (+614 6621 9112)
>>> WordPressQI: http://wordpressqi.com/
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>  _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
>>
>
> --
> --
> Dion Hulse
> e: contact at dd32.id.au
> w: http://dd32.id.au/
> m: 04 6621 9112 (+614 6621 9112)
> WordPressQI: http://wordpressqi.com/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From wordpress at dd32.id.au  Mon Aug 31 08:40:13 2009
From: wordpress at dd32.id.au (Dion Hulse (dd32))
Date: Mon, 31 Aug 2009 18:40:13 +1000
Subject: [wp-hackers] Custom Taxonomies for Pages
In-Reply-To: <bf55ecdd0908310120i2cd7b90bm3755d3badfc17fb0@mail.gmail.com>
References: <bf55ecdd0908300535w5f22e108r961596422997acb8@mail.gmail.com>
	<349fe48b0908300643o50e97ec5s845efb37dd0288f8@mail.gmail.com>
	<op.uzhwo3hbspxmuu@dd32.no-ip.com> <op.uzh1oxrespxmuu@dd32.no-ip.com>
	<bf55ecdd0908301812y3866d773ie148c97084a4878@mail.gmail.com>
	<op.uzio2hpyspxmuu@dd32.no-ip.com>
	<bf55ecdd0908310120i2cd7b90bm3755d3badfc17fb0@mail.gmail.com>
Message-ID: <op.uziqdbuyspxmuu@dd32.no-ip.com>

I should've also added, To make WordPress use the dev files instead of the  
minimized files, i have this in my wp-config.php:

define('SCRIPT_DEBUG', true);
define('CONCATENATE_SCRIPTS', false);
define('COMPRESS_SCRIPTS', false);

not sure if all are needed..


On Mon, 31 Aug 2009 18:20:16 +1000, Jason <jason at findingsimple.com> wrote:

> Ohhh, don't I feel silly. Thanks Dion!
>
>
> On Mon, Aug 31, 2009 at 6:12 PM, Dion Hulse (dd32)  
> <wordpress at dd32.id.au>wrote:
>
>> They're included with WordPress, as xxxxx.dev.js
>>
>>
>> On Mon, 31 Aug 2009 11:12:35 +1000, Jason <jason at findingsimple.com>  
>> wrote:
>>
>>  Ok so I think I have pretty much got it working with the exception that
>>> when
>>> I enqueue  the post.js file the tag panel works but it breaks the
>>> javascript
>>> minimise/maximise functionality and a few other things.
>>>
>>> Is there somewhere I can get the uncompressed (un-minimised?) version  
>>> of
>>> post.js and page.js?
>>>
>>> Thanks for the responses
>>>
>>>
>>> On Mon, Aug 31, 2009 at 9:47 AM, Dion Hulse (dd32)  
>>> <wordpress at dd32.id.au
>>> >wrote:
>>>
>>>  On Mon, 31 Aug 2009 07:59:17 +1000, Dion Hulse (dd32) <
>>>> wordpress at dd32.id.au> wrote:
>>>>
>>>>  On Sun, 30 Aug 2009 23:43:30 +1000, scribu <scribu at gmail.com> wrote:
>>>>
>>>>>
>>>>>  On Sun, Aug 30, 2009 at 3:35 PM, Jason <jason at findingsimple.com>
>>>>> wrote:
>>>>>
>>>>>>
>>>>>>  Hi All,
>>>>>>
>>>>>>>
>>>>>>> I am trying to get a custom taxonomy tag panel on the "Edit Page"  
>>>>>>> page
>>>>>>> in
>>>>>>> the dashboard - just like the regular tags panel for the "edit  
>>>>>>> posts"
>>>>>>> page
>>>>>>> except for a custom taxonomy.
>>>>>>>
>>>>>>> My understanding is that WP does not do all the automatic stuff for
>>>>>>> custom
>>>>>>> taxonomies relating to pages at the moment.
>>>>>>>
>>>>>>> So what I have done is an add an additional meta box and told it to
>>>>>>> display
>>>>>>> a tweaked version of the core add tag panel but I can't seem to  
>>>>>>> get it
>>>>>>> to
>>>>>>> make the ajax (?) calls to populate it properly/edit the tags
>>>>>>> properly.
>>>>>>> Do
>>>>>>> I
>>>>>>> need to add some extra java to the "Edit Page" page or something?
>>>>>>>
>>>>>>> Thoughts, suggestions, help?
>>>>>>>
>>>>>>> You can view the functions I am using
>>>>>>> here.<http://findingsimple.com/dev/tax.txt>
>>>>>>>
>>>>>>>
>>>>>>>  Firstly, the tags are not populated by AJAX. They are saved when  
>>>>>>> the
>>>>>> post
>>>>>> is
>>>>>> saved.
>>>>>>
>>>>>> So you will need to add a hook somewhere to save the page tags.
>>>>>>
>>>>>> There is some javascript that "enhances" the tag box. To add it, add
>>>>>> the
>>>>>> following line to the 'admin_enqueue_scripts' action:
>>>>>>
>>>>>> wp_enqueue_script('post');
>>>>>>
>>>>>>
>>>>> That'll only work for the post_tag taxonomy however. I've been  
>>>>> working
>>>>> on
>>>>> converting everything to handle custom taxonomies better.. but.. not
>>>>> sure
>>>>>  when there'll be a working patch available :)
>>>>>
>>>>>
>>>> oops. I think thats for the Category stuff only.. Ie. the Tag stuff  
>>>> does
>>>> work with other tax's..
>>>>
>>>>
>>>>
>>>> --
>>>> --
>>>> Dion Hulse
>>>> e: contact at dd32.id.au
>>>> w: http://dd32.id.au/
>>>> m: 04 6621 9112 (+614 6621 9112)
>>>> WordPressQI: http://wordpressqi.com/
>>>> _______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>>>  _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>>
>>
>> --
>> --
>> Dion Hulse
>> e: contact at dd32.id.au
>> w: http://dd32.id.au/
>> m: 04 6621 9112 (+614 6621 9112)
>> WordPressQI: http://wordpressqi.com/
>> _______________________________________________
>> wp-hackers mailing list
>> wp-hackers at lists.automattic.com
>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>


-- 
--
Dion Hulse
e: contact at dd32.id.au
w: http://dd32.id.au/
m: 04 6621 9112 (+614 6621 9112)
WordPressQI: http://wordpressqi.com/

From scribu at gmail.com  Mon Aug 31 08:47:45 2009
From: scribu at gmail.com (scribu)
Date: Mon, 31 Aug 2009 11:47:45 +0300
Subject: [wp-hackers] Error in core problem
In-Reply-To: <4A9B7F6D.4070406@gmail.com>
References: <4A9B7F6D.4070406@gmail.com>
Message-ID: <349fe48b0908310147l6afc007wb500de0ca309f6be@mail.gmail.com>

You're probably doing query_posts() (or another loop) too ealry, before the
rewrite rules are set.


On Mon, Aug 31, 2009 at 10:44 AM, rajasekharan <websweetweb at gmail.com>wrote:

> Hi all,
>
> While working on my theme, a new error seems to have crept into the
> wordpress core (or somewhere else). Not sure what I did wrong, but I keep
> getting the following error:
>
> Call to a member function wp_rewrite_rules() on a non-object in
> C:\apache22\htdocs\blog\wp-includes\classes.php on line /145
>
> /I was editing the header.php file and a stylesheet. I have not touched any
> of the core files at all. What could be the problem?
>
> Raj Sekharan
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>



-- 
http://scribu.net

From mike_walsh at mindspring.com  Mon Aug 31 17:34:58 2009
From: mike_walsh at mindspring.com (Mike Walsh)
Date: Mon, 31 Aug 2009 13:34:58 -0400
Subject: [wp-hackers] Access to Media Library for Theme Options?
Message-ID: <00af01ca2a61$5d1545f0$173fd1d0$@com>

As part of a theme I am working on, I would like allow a couple settings on
the Theme Options page to use content from the Media Library.  I spent some
time today looking through the Codex trying to find functions that will let
me reference the Media Library but everything I could find seems to be tied
to posts which my media may or may not be.

 

Is there a way to get all of the ids for the Media Library content without
have to construct my own query?  As far as I can tell, once I have ids,
getting the rest of the information about the attachments is pretty
straightforward.

 

Thanks,

 

Mike

--

Mike Walsh - mike_walsh at mindspring.com

 

 


From matt at sivel.net  Mon Aug 31 17:39:51 2009
From: matt at sivel.net (Matt Martz)
Date: Mon, 31 Aug 2009 13:39:51 -0400
Subject: [wp-hackers] Access to Media Library for Theme Options?
In-Reply-To: <00af01ca2a61$5d1545f0$173fd1d0$@com>
References: <00af01ca2a61$5d1545f0$173fd1d0$@com>
Message-ID: <518fa9630908311039n5ffde7e8qd95785697f11cb8a@mail.gmail.com>

On Mon, Aug 31, 2009 at 1:34 PM, Mike Walsh<mike_walsh at mindspring.com> wrote:
> As part of a theme I am working on, I would like allow a couple settings on
> the Theme Options page to use content from the Media Library. ?I spent some
> time today looking through the Codex trying to find functions that will let
> me reference the Media Library but everything I could find seems to be tied
> to posts which my media may or may not be.
>
> Is there a way to get all of the ids for the Media Library content without
> have to construct my own query? ?As far as I can tell, once I have ids,
> getting the rest of the information about the attachments is pretty
> straightforward.
>
> Thanks,
>
> Mike

You should be able to do:

$attachments = get_posts('post_type=attachment');

-- 
Matt Martz
matt at sivel.net
http://sivel.net/

From dougal at gunters.org  Mon Aug 31 18:17:08 2009
From: dougal at gunters.org (Dougal Campbell)
Date: Mon, 31 Aug 2009 14:17:08 -0400
Subject: [wp-hackers] what the ?
In-Reply-To: <59e7f3130908280956g86a47f4q3894ec2c9734f2d7@mail.gmail.com>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>
	<op.uzc76jelspxmuu@dd32.no-ip.com>	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
	<7AF78987-4F31-4B22-8EB1-DADF7DD2FCCF@newclarity.net>
	<59e7f3130908280956g86a47f4q3894ec2c9734f2d7@mail.gmail.com>
Message-ID: <4A9C13A4.8030009@gunters.org>

On Aug 28 2009 12:56 PM, Malaiac wrote:
> People (including geeks, and developers) tend to be away from internet
> on summer ;)
>    

Away. From. Internet.

Nope. I'm not parsing this. My brain just cannot conceive of such a 
thing. These words don't make any sense in a sentence together! ;)

It's like saying, "I decided to leave my liver in the garage for a week, 
because I wasn't using it for anything important."

-- 
Dougal Campbell <dougal at gunters.org>
http://dougal.gunters.org/
http://twitter.com/dougal
http://twitual.com/

From pauamma at gundo.com  Mon Aug 31 18:38:10 2009
From: pauamma at gundo.com (Pau Amma)
Date: Mon, 31 Aug 2009 18:38:10 -0000 (GMT)
Subject: [wp-hackers] what the ?
In-Reply-To: <4A9C13A4.8030009@gunters.org>
References: <59e7f3130908280214r79e0a12ai16e1505247fc5b87@mail.gmail.com>
	<op.uzc76jelspxmuu@dd32.no-ip.com>
	<59e7f3130908280223y6111a4bejb83df6f9b48e7c89@mail.gmail.com>
	<7AF78987-4F31-4B22-8EB1-DADF7DD2FCCF@newclarity.net>
	<59e7f3130908280956g86a47f4q3894ec2c9734f2d7@mail.gmail.com>
	<4A9C13A4.8030009@gunters.org>
Message-ID: <27807.129.102.254.253.1251743890.squirrel@www.gundo.net>

On Mon, August 31, 2009 6:17 pm, Dougal Campbell wrote:
> On Aug 28 2009 12:56 PM, Malaiac wrote:
>> People (including geeks, and developers) tend to be away from internet
>> on summer ;)
>
> Away. From. Internet.
>
> Nope. I'm not parsing this. My brain just cannot conceive of such a
> thing. These words don't make any sense in a sentence together! ;)
>
> It's like saying, "I decided to leave my liver in the garage for a week,
> because I wasn't using it for anything important."

A lot of people do exactly that with their brain. (OK, maybe not in the
garage, but in front of the TV, on HBC. :-) )


From mpwalsh8 at gmail.com  Mon Aug 31 19:29:13 2009
From: mpwalsh8 at gmail.com (Mike Walsh)
Date: Mon, 31 Aug 2009 15:29:13 -0400
Subject: [wp-hackers] Access to Media Library for Theme Options?
In-Reply-To: <518fa9630908311039n5ffde7e8qd95785697f11cb8a@mail.gmail.com>
References: <00af01ca2a61$5d1545f0$173fd1d0$@com>
	<518fa9630908311039n5ffde7e8qd95785697f11cb8a@mail.gmail.com>
Message-ID: <bd35beb50908311229i27e64fe4yea76c40551fce205@mail.gmail.com>

Thanks for the pointer, I was getting hung up on the "post" aspect of
the description.  It turns out there is an example in the Codex which
does most of what I was trying to do:

http://codex.wordpress.org/Function_Reference/get_children

Mike


On Mon, Aug 31, 2009 at 1:39 PM, Matt Martz<matt at sivel.net> wrote:
> On Mon, Aug 31, 2009 at 1:34 PM, Mike Walsh<mike_walsh at mindspring.com> wrote:
>> As part of a theme I am working on, I would like allow a couple settings on
>> the Theme Options page to use content from the Media Library. ?I spent some
>> time today looking through the Codex trying to find functions that will let
>> me reference the Media Library but everything I could find seems to be tied
>> to posts which my media may or may not be.
>>
>> Is there a way to get all of the ids for the Media Library content without
>> have to construct my own query? ?As far as I can tell, once I have ids,
>> getting the rest of the information about the attachments is pretty
>> straightforward.
>>
>> Thanks,
>>
>> Mike
>
> You should be able to do:
>
> $attachments = get_posts('post_type=attachment');
>
> --
> Matt Martz
> matt at sivel.net
> http://sivel.net/
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From peter.westwood at ftwr.co.uk  Mon Aug 31 20:44:12 2009
From: peter.westwood at ftwr.co.uk (Peter Westwood)
Date: Mon, 31 Aug 2009 21:44:12 +0100
Subject: [wp-hackers] Activation hook exist for themes?
In-Reply-To: <op.uzh1nstgspxmuu@dd32.no-ip.com>
References: <4A9A6BCB.9090302@gmail.com>
	<ae81acd10908300513j708377fdy68de5cfa5da3ec45@mail.gmail.com>
	<BC7C28EE-AB88-40FB-9914-5E31496C0B48@ftwr.co.uk>
	<op.uzh1nstgspxmuu@dd32.no-ip.com>
Message-ID: <B1C0756E-B06F-47B1-9273-05CE4E7FDA86@ftwr.co.uk>


On 31 Aug 2009, at 00:46, Dion Hulse (dd32) wrote:

> Theres a ticket, there was a messy patch from me(IIRC) but i dont  
> think its in core yet.
>

This is what I was thinking of:

When WordPress switches themes it fires the switch_theme action.

Unfortunately this is run before the theme is active so is really more  
use as a deactivation hook.

Peter
-- 
Peter Westwood
http://blog.ftwr.co.uk | http://westi.wordpress.com
C53C F8FC 8796 8508 88D6 C950 54F4 5DCD A834 01C5


From otto at ottodestruct.com  Mon Aug 31 20:44:24 2009
From: otto at ottodestruct.com (Otto)
Date: Mon, 31 Aug 2009 15:44:24 -0500
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <2b0d85240908300713g6f8d6100n3c0b13d8e212d35c@mail.gmail.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com> 
	<2b0d85240908291047p46d01513ieef3673a5dd32aab@mail.gmail.com> 
	<B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>
	<2b0d85240908291441y440e20d6kb968dbe672c1ad1@mail.gmail.com> 
	<2b0d85240908291911q1026dc6fi7c759f3e764e983f@mail.gmail.com> 
	<op.uzgdshjcspxmuu@dd32.no-ip.com>
	<2b0d85240908291917j36feadafgda0be9555aa6eb66@mail.gmail.com> 
	<5812287B-C104-453E-A7AB-954C0F1FD776@ftwr.co.uk>
	<2b0d85240908300631u19b37b46hf49d2a6174fb69a0@mail.gmail.com> 
	<2b0d85240908300713g6f8d6100n3c0b13d8e212d35c@mail.gmail.com>
Message-ID: <161617690908311344t56bd44e8s2ac32001e2be1480@mail.gmail.com>

In your theme, is this line in the header?

<link rel="pingback" href="<?php bloginfo('pingback_url'); ?>" />

Pingbacks need that to work.

-Otto



On Sun, Aug 30, 2009 at 9:13 AM, Chris Kasten<handy.solo at gmail.com> wrote:
> The patch made no changes in my lack of ability to self-ping.
>
> On Sun, Aug 30, 2009 at 7:31 AM, Chris Kasten <handy.solo at gmail.com> wrote:
>
>> I'll give it a shot and report back.
>> Meanwhile... It alarms me that my self links never get collected and added
>> to the to_ping / pinged columns in the Posts table. Or are they briefly
>> there and removed when the pingback fails?
>>
>>
>> On Sun, Aug 30, 2009 at 12:05 AM, Peter Westwood <
>> peter.westwood at ftwr.co.uk> wrote:
>>
>>> Could you try on your test blog with the patch on this ticket applied.
>>>
>>> http://core.trac.wordpress.org/ticket/10588
>>>
>>> This switches the IXR class over to use the WordPress HTTP api instead of
>>> fsockopen for connections it should be more reliable.
>>>
>>> Please leave feedback on your sucess/lack there of on the ticket.
>>>
>>> --
>>> Peter Westwood
>>> http://peter.westwood.name
>>>
>>> On 30 Aug 2009, at 03:17, Chris Kasten <handy.solo at gmail.com> wrote:
>>>
>>> ?Future posts do indeed work (mentioned a couple stanzas below your reply
>>>> ;-)
>>>> )
>>>>
>>>>
>>>>
>>>> On Sat, Aug 29, 2009 at 8:13 PM, Dion Hulse (dd32) <wordpress at dd32.id.au
>>>> >wrote:
>>>>
>>>> ?Is the cron system working?
>>>>>
>>>>> Try a future-publish post, See if that gets published (Thats based on
>>>>> the
>>>>> Cron system).
>>>>>
>>>>>
>>>>> On Sun, 30 Aug 2009 12:11:44 +1000, Chris Kasten <handy.solo at gmail.com>
>>>>> wrote:
>>>>>
>>>>> On a fresh locally install blog self pingbacks work just fine. I guess
>>>>>
>>>>>> this
>>>>>> may be a Dreamhost related issue?What a bummer.
>>>>>>
>>>>>> I poked around through the access and error logs but didn't see any
>>>>>> obvious
>>>>>> errors.
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Sat, Aug 29, 2009 at 3:41 PM, Chris Kasten <handy.solo at gmail.com>
>>>>>> wrote:
>>>>>>
>>>>>> I'm hosted on Dreamhost. As mentioned earlier, self pings were good
>>>>>> until
>>>>>>
>>>>>>> the beginning of this year (which may coincide with a WP release? I
>>>>>>> can't
>>>>>>> recall now).
>>>>>>> I also tried a pingback from one of my blogs to the other (but both on
>>>>>>> Dreamhost and both in same domain). Same deal, no pingback and nothing
>>>>>>> in
>>>>>>> the ping fields in the Posts table.
>>>>>>>
>>>>>>> I just tested a future post and it worked. What else would you like me
>>>>>>> to
>>>>>>> try? I get the same results with my blog as I do with a test blog (no
>>>>>>> plugins / default theme).
>>>>>>>
>>>>>>> I guess one next step would be to get one going locally (as in not on
>>>>>>> Dreamhost) and see how self pings go there. Anything else I should
>>>>>>> look
>>>>>>> at?
>>>>>>>
>>>>>>>
>>>>>>> From your note, it sounds like I can assume that self pings _should_
>>>>>>> still
>>>>>>> work?
>>>>>>>
>>>>>>>
>>>>>>> On Sat, Aug 29, 2009 at 2:54 PM, Peter Westwood <
>>>>>>> peter.westwood at ftwr.co.uk
>>>>>>>
>>>>>>>> wrote:
>>>>>>>>
>>>>>>>
>>>>>>> It sounds like you are suffering from oases which prevent the self
>>>>>>> pings
>>>>>>>
>>>>>>>> from working.
>>>>>>>>
>>>>>>>> This is normally due to hosting confug in relation to connections
>>>>>>>> back
>>>>>>>> to
>>>>>>>> your server from your server.
>>>>>>>>
>>>>>>>> Does the built in cron system work for you? For example does future
>>>>>>>> publishing posts work?
>>>>>>>>
>>>>>>>> --
>>>>>>>> Peter Westwood
>>>>>>>> http://peter.westwood.name
>>>>>>>>
>>>>>>>>
>>>>>>>> On 29 Aug 2009, at 18:47, Chris Kasten <handy.solo at gmail.com> wrote:
>>>>>>>>
>>>>>>>> Yes thanks. I realize a lot of people don't like them. ?That's why
>>>>>>>> that
>>>>>>>>
>>>>>>>> ?No
>>>>>>>>> Pings plugin was invented! But I do like 'em and WP used to generate
>>>>>>>>> them.
>>>>>>>>> Like or dislike, I just wish to confirm that they (self pings) are
>>>>>>>>> indeed
>>>>>>>>> dropped by WP now. If so, A nudge on how to re-enable them with a
>>>>>>>>> plugin
>>>>>>>>> would be really groovy.
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Chris Kasten
>>>>>>>>> Solo Technology
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Sat, Aug 29, 2009 at 11:19 AM, Rics <ricardo.cezar at gmail.com>
>>>>>>>>> wrote:
>>>>>>>>>
>>>>>>>>> Personally, I don't like self trackbacks... it's anoying.
>>>>>>>>>
>>>>>>>>> ?I prefer to have related posts and use trackback only from other
>>>>>>>>>> websites.
>>>>>>>>>> ---
>>>>>>>>>> Rics
>>>>>>>>>> http://www.pensarics.com
>>>>>>>>>> http://www.meadiciona.com/rics
>>>>>>>>>> Maring?, PR - Brasil
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> 2009/8/29 scribu <scribu at gmail.com>
>>>>>>>>>>
>>>>>>>>>> That's ironic, since there's a plugin that does the opposite. It's
>>>>>>>>>>
>>>>>>>>>> ?called
>>>>>>>>>>> No
>>>>>>>>>>> Self Pings.
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>> http://scribu.net
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>> wp-hackers mailing list
>>>>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>>>>
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>
>>>>>>>>>>> ?wp-hackers mailing list
>>>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>>>
>>>>>>>>>> _______________________________________________
>>>>>>>>>>
>>>>>>>>>> ?wp-hackers mailing list
>>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>>
>>>>>>>> wp-hackers mailing list
>>>>>>>> wp-hackers at lists.automattic.com
>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>> _______________________________________________
>>>>>>>
>>>>>> wp-hackers mailing list
>>>>>> wp-hackers at lists.automattic.com
>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>>
>>>>>>
>>>>>>
>>>>> --
>>>>> --
>>>>> Dion Hulse
>>>>> e: contact at dd32.id.au
>>>>> w: http://dd32.id.au/
>>>>> m: 04 6621 9112 (+614 6621 9112)
>>>>> WordPressQI: http://wordpressqi.com/
>>>>>
>>>>> _______________________________________________
>>>>> wp-hackers mailing list
>>>>> wp-hackers at lists.automattic.com
>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>>
>>>>> ?_______________________________________________
>>>> wp-hackers mailing list
>>>> wp-hackers at lists.automattic.com
>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>>
>>> _______________________________________________
>>> wp-hackers mailing list
>>> wp-hackers at lists.automattic.com
>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
>>>
>>
>>
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From handy.solo at gmail.com  Mon Aug 31 21:14:16 2009
From: handy.solo at gmail.com (Chris Kasten)
Date: Mon, 31 Aug 2009 15:14:16 -0600
Subject: [wp-hackers] Quest for Self Pingbacks
In-Reply-To: <161617690908311344t56bd44e8s2ac32001e2be1480@mail.gmail.com>
References: <2b0d85240908290704t7180fceepa0a90fa7c7f7ba70@mail.gmail.com>
	<B76E05D4-6D18-4108-AC2F-17E1F3FD4655@ftwr.co.uk>
	<2b0d85240908291441y440e20d6kb968dbe672c1ad1@mail.gmail.com>
	<2b0d85240908291911q1026dc6fi7c759f3e764e983f@mail.gmail.com>
	<op.uzgdshjcspxmuu@dd32.no-ip.com>
	<2b0d85240908291917j36feadafgda0be9555aa6eb66@mail.gmail.com>
	<5812287B-C104-453E-A7AB-954C0F1FD776@ftwr.co.uk>
	<2b0d85240908300631u19b37b46hf49d2a6174fb69a0@mail.gmail.com>
	<2b0d85240908300713g6f8d6100n3c0b13d8e212d35c@mail.gmail.com>
	<161617690908311344t56bd44e8s2ac32001e2be1480@mail.gmail.com>
Message-ID: <2b0d85240908311414r2a5d23d7id1ca9d2548e1c134@mail.gmail.com>

My theme has that which then shows up like this in a "view source":
<link rel="pingback" href="http://www.solo-technology.com/blog/xmlrpc.php"
/>

But... wouldn't you think the DB entries should be there FIRST?

I hate to keep kicking this same dead & tired horse, but since I never get
values in "pinged" / "to_ping" columns in the Posts table it ain't ever
going to try to ping, right?

What would stop the self-pingbacks from getting added to those columns in
the DB? Seems like maybe that's my root cause.



Chris Kasten
Solo Technology


On Mon, Aug 31, 2009 at 2:44 PM, Otto <otto at ottodestruct.com> wrote:

> In your theme, is this line in the header?
>
> <link rel="pingback" href="<?php bloginfo('pingback_url'); ?>" />
>
> Pingbacks need that to work.
>
> -Otto
>
>
>
> On Sun, Aug 30, 2009 at 9:13 AM, Chris Kasten<handy.solo at gmail.com> wrote:
> > The patch made no changes in my lack of ability to self-ping.
> >
> > On Sun, Aug 30, 2009 at 7:31 AM, Chris Kasten <handy.solo at gmail.com>
> wrote:
> >
> >> I'll give it a shot and report back.
> >> Meanwhile... It alarms me that my self links never get collected and
> added
> >> to the to_ping / pinged columns in the Posts table. Or are they briefly
> >> there and removed when the pingback fails?
> >>
> >>
> >> On Sun, Aug 30, 2009 at 12:05 AM, Peter Westwood <
> >> peter.westwood at ftwr.co.uk> wrote:
> >>
> >>> Could you try on your test blog with the patch on this ticket applied.
> >>>
> >>> http://core.trac.wordpress.org/ticket/10588
> >>>
> >>> This switches the IXR class over to use the WordPress HTTP api instead
> of
> >>> fsockopen for connections it should be more reliable.
> >>>
> >>> Please leave feedback on your sucess/lack there of on the ticket.
> >>>
> >>> --
> >>> Peter Westwood
> >>> http://peter.westwood.name
> >>>
> >>> On 30 Aug 2009, at 03:17, Chris Kasten <handy.solo at gmail.com> wrote:
> >>>
> >>>  Future posts do indeed work (mentioned a couple stanzas below your
> reply
> >>>> ;-)
> >>>> )
> >>>>
> >>>>
> >>>>
> >>>> On Sat, Aug 29, 2009 at 8:13 PM, Dion Hulse (dd32) <
> wordpress at dd32.id.au
> >>>> >wrote:
> >>>>
> >>>>  Is the cron system working?
> >>>>>
> >>>>> Try a future-publish post, See if that gets published (Thats based on
> >>>>> the
> >>>>> Cron system).
> >>>>>
> >>>>>
> >>>>> On Sun, 30 Aug 2009 12:11:44 +1000, Chris Kasten <
> handy.solo at gmail.com>
> >>>>> wrote:
> >>>>>
> >>>>> On a fresh locally install blog self pingbacks work just fine. I
> guess
> >>>>>
> >>>>>> this
> >>>>>> may be a Dreamhost related issue?What a bummer.
> >>>>>>
> >>>>>> I poked around through the access and error logs but didn't see any
> >>>>>> obvious
> >>>>>> errors.
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>> On Sat, Aug 29, 2009 at 3:41 PM, Chris Kasten <handy.solo at gmail.com
> >
> >>>>>> wrote:
> >>>>>>
> >>>>>> I'm hosted on Dreamhost. As mentioned earlier, self pings were good
> >>>>>> until
> >>>>>>
> >>>>>>> the beginning of this year (which may coincide with a WP release? I
> >>>>>>> can't
> >>>>>>> recall now).
> >>>>>>> I also tried a pingback from one of my blogs to the other (but both
> on
> >>>>>>> Dreamhost and both in same domain). Same deal, no pingback and
> nothing
> >>>>>>> in
> >>>>>>> the ping fields in the Posts table.
> >>>>>>>
> >>>>>>> I just tested a future post and it worked. What else would you like
> me
> >>>>>>> to
> >>>>>>> try? I get the same results with my blog as I do with a test blog
> (no
> >>>>>>> plugins / default theme).
> >>>>>>>
> >>>>>>> I guess one next step would be to get one going locally (as in not
> on
> >>>>>>> Dreamhost) and see how self pings go there. Anything else I should
> >>>>>>> look
> >>>>>>> at?
> >>>>>>>
> >>>>>>>
> >>>>>>> From your note, it sounds like I can assume that self pings
> _should_
> >>>>>>> still
> >>>>>>> work?
> >>>>>>>
> >>>>>>>
> >>>>>>> On Sat, Aug 29, 2009 at 2:54 PM, Peter Westwood <
> >>>>>>> peter.westwood at ftwr.co.uk
> >>>>>>>
> >>>>>>>> wrote:
> >>>>>>>>
> >>>>>>>
> >>>>>>> It sounds like you are suffering from oases which prevent the self
> >>>>>>> pings
> >>>>>>>
> >>>>>>>> from working.
> >>>>>>>>
> >>>>>>>> This is normally due to hosting confug in relation to connections
> >>>>>>>> back
> >>>>>>>> to
> >>>>>>>> your server from your server.
> >>>>>>>>
> >>>>>>>> Does the built in cron system work for you? For example does
> future
> >>>>>>>> publishing posts work?
> >>>>>>>>
> >>>>>>>> --
> >>>>>>>> Peter Westwood
> >>>>>>>> http://peter.westwood.name
> >>>>>>>>
> >>>>>>>>
> >>>>>>>> On 29 Aug 2009, at 18:47, Chris Kasten <handy.solo at gmail.com>
> wrote:
> >>>>>>>>
> >>>>>>>> Yes thanks. I realize a lot of people don't like them.  That's why
> >>>>>>>> that
> >>>>>>>>
> >>>>>>>>  No
> >>>>>>>>> Pings plugin was invented! But I do like 'em and WP used to
> generate
> >>>>>>>>> them.
> >>>>>>>>> Like or dislike, I just wish to confirm that they (self pings)
> are
> >>>>>>>>> indeed
> >>>>>>>>> dropped by WP now. If so, A nudge on how to re-enable them with a
> >>>>>>>>> plugin
> >>>>>>>>> would be really groovy.
> >>>>>>>>>
> >>>>>>>>>
> >>>>>>>>> Chris Kasten
> >>>>>>>>> Solo Technology
> >>>>>>>>>
> >>>>>>>>>
> >>>>>>>>> On Sat, Aug 29, 2009 at 11:19 AM, Rics <ricardo.cezar at gmail.com>
> >>>>>>>>> wrote:
> >>>>>>>>>
> >>>>>>>>> Personally, I don't like self trackbacks... it's anoying.
> >>>>>>>>>
> >>>>>>>>>  I prefer to have related posts and use trackback only from other
> >>>>>>>>>> websites.
> >>>>>>>>>> ---
> >>>>>>>>>> Rics
> >>>>>>>>>> http://www.pensarics.com
> >>>>>>>>>> http://www.meadiciona.com/rics
> >>>>>>>>>> Maring?, PR - Brasil
> >>>>>>>>>>
> >>>>>>>>>>
> >>>>>>>>>> 2009/8/29 scribu <scribu at gmail.com>
> >>>>>>>>>>
> >>>>>>>>>> That's ironic, since there's a plugin that does the opposite.
> It's
> >>>>>>>>>>
> >>>>>>>>>>  called
> >>>>>>>>>>> No
> >>>>>>>>>>> Self Pings.
> >>>>>>>>>>>
> >>>>>>>>>>> --
> >>>>>>>>>>> http://scribu.net
> >>>>>>>>>>> _______________________________________________
> >>>>>>>>>>> wp-hackers mailing list
> >>>>>>>>>>> wp-hackers at lists.automattic.com
> >>>>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>>>>>
> >>>>>>>>>>> _______________________________________________
> >>>>>>>>>>>
> >>>>>>>>>>>  wp-hackers mailing list
> >>>>>>>>>> wp-hackers at lists.automattic.com
> >>>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>>>>
> >>>>>>>>>> _______________________________________________
> >>>>>>>>>>
> >>>>>>>>>>  wp-hackers mailing list
> >>>>>>>>> wp-hackers at lists.automattic.com
> >>>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>>>
> >>>>>>>>> _______________________________________________
> >>>>>>>>>
> >>>>>>>> wp-hackers mailing list
> >>>>>>>> wp-hackers at lists.automattic.com
> >>>>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>>>
> >>>>>>>>
> >>>>>>>>
> >>>>>>> _______________________________________________
> >>>>>>>
> >>>>>> wp-hackers mailing list
> >>>>>> wp-hackers at lists.automattic.com
> >>>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>> --
> >>>>> --
> >>>>> Dion Hulse
> >>>>> e: contact at dd32.id.au
> >>>>> w: http://dd32.id.au/
> >>>>> m: 04 6621 9112 (+614 6621 9112)
> >>>>> WordPressQI: http://wordpressqi.com/
> >>>>>
> >>>>> _______________________________________________
> >>>>> wp-hackers mailing list
> >>>>> wp-hackers at lists.automattic.com
> >>>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>>
> >>>>>  _______________________________________________
> >>>> wp-hackers mailing list
> >>>> wp-hackers at lists.automattic.com
> >>>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>>
> >>> _______________________________________________
> >>> wp-hackers mailing list
> >>> wp-hackers at lists.automattic.com
> >>> http://lists.automattic.com/mailman/listinfo/wp-hackers
> >>>
> >>
> >>
> > _______________________________________________
> > wp-hackers mailing list
> > wp-hackers at lists.automattic.com
> > http://lists.automattic.com/mailman/listinfo/wp-hackers
> >
> _______________________________________________
> wp-hackers mailing list
> wp-hackers at lists.automattic.com
> http://lists.automattic.com/mailman/listinfo/wp-hackers
>

From websweetweb at gmail.com  Mon Aug 31 21:44:41 2009
From: websweetweb at gmail.com (rajasekharan)
Date: Tue, 01 Sep 2009 03:14:41 +0530
Subject: [wp-hackers] Activation hook exist for themes?
In-Reply-To: <B1C0756E-B06F-47B1-9273-05CE4E7FDA86@ftwr.co.uk>
References: <4A9A6BCB.9090302@gmail.com>	<ae81acd10908300513j708377fdy68de5cfa5da3ec45@mail.gmail.com>	<BC7C28EE-AB88-40FB-9914-5E31496C0B48@ftwr.co.uk>	<op.uzh1nstgspxmuu@dd32.no-ip.com>
	<B1C0756E-B06F-47B1-9273-05CE4E7FDA86@ftwr.co.uk>
Message-ID: <4A9C4449.8020708@gmail.com>

I went with Ozh's approach and it worked well. But still, a formal 
method for this would be convenient and
give us some peace of mind. Who knows? Something may change in the next 
version and this method may break.
Hope the core people are reading this thread.

Peter Westwood wrote:
> On 31 Aug 2009, at 00:46, Dion Hulse (dd32) wrote:
>
>> Theres a ticket, there was a messy patch from me(IIRC) but i dont 
>> think its in core yet. 
>
> This is what I was thinking of:
>
> When WordPress switches themes it fires the switch_theme action.
>
> Unfortunately this is run before the theme is active so is really more 
> use as a deactivation hook.
>
> Peter 


From scribu at gmail.com  Mon Aug 31 23:33:00 2009
From: scribu at gmail.com (scribu)
Date: Tue, 1 Sep 2009 02:33:00 +0300
Subject: [wp-hackers] Rewrite endpoints
Message-ID: <349fe48b0908311633q319633f7tf902702f08590a79@mail.gmail.com>

Hello,

I'm trying to get this:

/author/scribu/foobar/

to rewrite to this:

/?author=scribu&foobar=

I've tried using

add_rewrite_endpoint('foober', EP_AUTHORS);

but that didn't make any difference.

What I'm currently getting:

    [query_vars] => Array
        (
            [pagename] => author/scribu/foobar
        )


Any suggestions?


-- 
http://scribu.net

From scribu at gmail.com  Mon Aug 31 23:47:12 2009
From: scribu at gmail.com (scribu)
Date: Tue, 1 Sep 2009 02:47:12 +0300
Subject: [wp-hackers] Rewrite endpoints
In-Reply-To: <349fe48b0908311633q319633f7tf902702f08590a79@mail.gmail.com>
References: <349fe48b0908311633q319633f7tf902702f08590a79@mail.gmail.com>
Message-ID: <349fe48b0908311647s2848695dy1d3921371cc5425a@mail.gmail.com>

Ok, it was the usual suspect: flush_rules().

Now, when I go to

/author/scribu/foobar/

I get this:

    [query_vars] => Array
        (
            [author_name] => scribu
        )

    [query_string] => author_name=scribu
    [request] => membri/scribu/foobar
    [matched_rule] => membri/([^/]+)/foobar(/(.*))?/?$
    [matched_query] => author_name=scribu&foobar=


As you can see, foobar appears in [matched_query] but not in [query_vars] or
[query_string]. It would be better if it also appeared in those places also,
no?


-- 
http://scribu.net

From if.website at gmail.com  Mon Aug 31 23:55:28 2009
From: if.website at gmail.com (Austin Matzko)
Date: Mon, 31 Aug 2009 18:55:28 -0500
Subject: [wp-hackers] Rewrite endpoints
In-Reply-To: <349fe48b0908311647s2848695dy1d3921371cc5425a@mail.gmail.com>
References: <349fe48b0908311633q319633f7tf902702f08590a79@mail.gmail.com>
	<349fe48b0908311647s2848695dy1d3921371cc5425a@mail.gmail.com>
Message-ID: <674b4a3b0908311655t5532ef16t1f6292898a16bd1f@mail.gmail.com>

On Mon, Aug 31, 2009 at 6:47 PM, scribu<scribu at gmail.com> wrote:
> As you can see, foobar appears in [matched_query] but not in [query_vars] or
> [query_string]. It would be better if it also appeared in those places also,
> no?

Perhaps, but the way it works currently is that you have to explicitly
declare it as a query variable, by calling
$wp->add_query_var('foobar').

